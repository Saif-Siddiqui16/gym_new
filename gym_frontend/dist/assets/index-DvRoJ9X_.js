(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))l(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function a(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(i){if(i.ep)return;i.ep=!0;const o=a(i);fetch(i.href,o)}})();var vO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Eg(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Vp={exports:{}},Wu={};var z1;function b6(){if(z1)return Wu;z1=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function a(l,i,o){var c=null;if(o!==void 0&&(c=""+o),i.key!==void 0&&(c=""+i.key),"key"in i){o={};for(var u in i)u!=="key"&&(o[u]=i[u])}else o=i;return i=o.ref,{$$typeof:s,type:l,key:c,ref:i!==void 0?i:null,props:o}}return Wu.Fragment=t,Wu.jsx=a,Wu.jsxs=a,Wu}var T1;function v6(){return T1||(T1=1,Vp.exports=b6()),Vp.exports}var e=v6(),Yp={exports:{}},ss={};var _1;function y6(){if(_1)return ss;_1=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),y=Symbol.iterator;function g(te){return te===null||typeof te!="object"?null:(te=y&&te[y]||te["@@iterator"],typeof te=="function"?te:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,N={};function k(te,q,Q){this.props=te,this.context=q,this.refs=N,this.updater=Q||v}k.prototype.isReactComponent={},k.prototype.setState=function(te,q){if(typeof te!="object"&&typeof te!="function"&&te!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,te,q,"setState")},k.prototype.forceUpdate=function(te){this.updater.enqueueForceUpdate(this,te,"forceUpdate")};function A(){}A.prototype=k.prototype;function E(te,q,Q){this.props=te,this.context=q,this.refs=N,this.updater=Q||v}var w=E.prototype=new A;w.constructor=E,C(w,k.prototype),w.isPureReactComponent=!0;var R=Array.isArray;function T(){}var O={H:null,A:null,T:null,S:null},W=Object.prototype.hasOwnProperty;function B(te,q,Q){var K=Q.ref;return{$$typeof:s,type:te,key:q,ref:K!==void 0?K:null,props:Q}}function z(te,q){return B(te.type,q,te.props)}function P(te){return typeof te=="object"&&te!==null&&te.$$typeof===s}function F(te){var q={"=":"=0",":":"=2"};return"$"+te.replace(/[=:]/g,function(Q){return q[Q]})}var G=/\/+/g;function Y(te,q){return typeof te=="object"&&te!==null&&te.key!=null?F(""+te.key):q.toString(36)}function me(te){switch(te.status){case"fulfilled":return te.value;case"rejected":throw te.reason;default:switch(typeof te.status=="string"?te.then(T,T):(te.status="pending",te.then(function(q){te.status==="pending"&&(te.status="fulfilled",te.value=q)},function(q){te.status==="pending"&&(te.status="rejected",te.reason=q)})),te.status){case"fulfilled":return te.value;case"rejected":throw te.reason}}throw te}function H(te,q,Q,K,oe){var ae=typeof te;(ae==="undefined"||ae==="boolean")&&(te=null);var ce=!1;if(te===null)ce=!0;else switch(ae){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(te.$$typeof){case s:case t:ce=!0;break;case p:return ce=te._init,H(ce(te._payload),q,Q,K,oe)}}if(ce)return oe=oe(te),ce=K===""?"."+Y(te,0):K,R(oe)?(Q="",ce!=null&&(Q=ce.replace(G,"$&/")+"/"),H(oe,q,Q,"",function(Ee){return Ee})):oe!=null&&(P(oe)&&(oe=z(oe,Q+(oe.key==null||te&&te.key===oe.key?"":(""+oe.key).replace(G,"$&/")+"/")+ce)),q.push(oe)),1;ce=0;var pe=K===""?".":K+":";if(R(te))for(var we=0;we<te.length;we++)K=te[we],ae=pe+Y(K,we),ce+=H(K,q,Q,ae,oe);else if(we=g(te),typeof we=="function")for(te=we.call(te),we=0;!(K=te.next()).done;)K=K.value,ae=pe+Y(K,we++),ce+=H(K,q,Q,ae,oe);else if(ae==="object"){if(typeof te.then=="function")return H(me(te),q,Q,K,oe);throw q=String(te),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(te).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return ce}function V(te,q,Q){if(te==null)return te;var K=[],oe=0;return H(te,K,"","",function(ae){return q.call(Q,ae,oe++)}),K}function $(te){if(te._status===-1){var q=te._result;q=q(),q.then(function(Q){(te._status===0||te._status===-1)&&(te._status=1,te._result=Q)},function(Q){(te._status===0||te._status===-1)&&(te._status=2,te._result=Q)}),te._status===-1&&(te._status=0,te._result=q)}if(te._status===1)return te._result.default;throw te._result}var le=typeof reportError=="function"?reportError:function(te){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof te=="object"&&te!==null&&typeof te.message=="string"?String(te.message):String(te),error:te});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",te);return}console.error(te)},ge={map:V,forEach:function(te,q,Q){V(te,function(){q.apply(this,arguments)},Q)},count:function(te){var q=0;return V(te,function(){q++}),q},toArray:function(te){return V(te,function(q){return q})||[]},only:function(te){if(!P(te))throw Error("React.Children.only expected to receive a single React element child.");return te}};return ss.Activity=f,ss.Children=ge,ss.Component=k,ss.Fragment=a,ss.Profiler=i,ss.PureComponent=E,ss.StrictMode=l,ss.Suspense=x,ss.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,ss.__COMPILER_RUNTIME={__proto__:null,c:function(te){return O.H.useMemoCache(te)}},ss.cache=function(te){return function(){return te.apply(null,arguments)}},ss.cacheSignal=function(){return null},ss.cloneElement=function(te,q,Q){if(te==null)throw Error("The argument must be a React element, but you passed "+te+".");var K=C({},te.props),oe=te.key;if(q!=null)for(ae in q.key!==void 0&&(oe=""+q.key),q)!W.call(q,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&q.ref===void 0||(K[ae]=q[ae]);var ae=arguments.length-2;if(ae===1)K.children=Q;else if(1<ae){for(var ce=Array(ae),pe=0;pe<ae;pe++)ce[pe]=arguments[pe+2];K.children=ce}return B(te.type,oe,K)},ss.createContext=function(te){return te={$$typeof:c,_currentValue:te,_currentValue2:te,_threadCount:0,Provider:null,Consumer:null},te.Provider=te,te.Consumer={$$typeof:o,_context:te},te},ss.createElement=function(te,q,Q){var K,oe={},ae=null;if(q!=null)for(K in q.key!==void 0&&(ae=""+q.key),q)W.call(q,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(oe[K]=q[K]);var ce=arguments.length-2;if(ce===1)oe.children=Q;else if(1<ce){for(var pe=Array(ce),we=0;we<ce;we++)pe[we]=arguments[we+2];oe.children=pe}if(te&&te.defaultProps)for(K in ce=te.defaultProps,ce)oe[K]===void 0&&(oe[K]=ce[K]);return B(te,ae,oe)},ss.createRef=function(){return{current:null}},ss.forwardRef=function(te){return{$$typeof:u,render:te}},ss.isValidElement=P,ss.lazy=function(te){return{$$typeof:p,_payload:{_status:-1,_result:te},_init:$}},ss.memo=function(te,q){return{$$typeof:h,type:te,compare:q===void 0?null:q}},ss.startTransition=function(te){var q=O.T,Q={};O.T=Q;try{var K=te(),oe=O.S;oe!==null&&oe(Q,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(T,le)}catch(ae){le(ae)}finally{q!==null&&Q.types!==null&&(q.types=Q.types),O.T=q}},ss.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},ss.use=function(te){return O.H.use(te)},ss.useActionState=function(te,q,Q){return O.H.useActionState(te,q,Q)},ss.useCallback=function(te,q){return O.H.useCallback(te,q)},ss.useContext=function(te){return O.H.useContext(te)},ss.useDebugValue=function(){},ss.useDeferredValue=function(te,q){return O.H.useDeferredValue(te,q)},ss.useEffect=function(te,q){return O.H.useEffect(te,q)},ss.useEffectEvent=function(te){return O.H.useEffectEvent(te)},ss.useId=function(){return O.H.useId()},ss.useImperativeHandle=function(te,q,Q){return O.H.useImperativeHandle(te,q,Q)},ss.useInsertionEffect=function(te,q){return O.H.useInsertionEffect(te,q)},ss.useLayoutEffect=function(te,q){return O.H.useLayoutEffect(te,q)},ss.useMemo=function(te,q){return O.H.useMemo(te,q)},ss.useOptimistic=function(te,q){return O.H.useOptimistic(te,q)},ss.useReducer=function(te,q,Q){return O.H.useReducer(te,q,Q)},ss.useRef=function(te){return O.H.useRef(te)},ss.useState=function(te){return O.H.useState(te)},ss.useSyncExternalStore=function(te,q,Q){return O.H.useSyncExternalStore(te,q,Q)},ss.useTransition=function(){return O.H.useTransition()},ss.version="19.2.4",ss}var P1;function Mg(){return P1||(P1=1,Yp.exports=y6()),Yp.exports}var b=Mg();const kn=Eg(b);var Xp={exports:{}},Gu={},Kp={exports:{}},Jp={};var R1;function j6(){return R1||(R1=1,(function(s){function t(H,V){var $=H.length;H.push(V);e:for(;0<$;){var le=$-1>>>1,ge=H[le];if(0<i(ge,V))H[le]=V,H[$]=ge,$=le;else break e}}function a(H){return H.length===0?null:H[0]}function l(H){if(H.length===0)return null;var V=H[0],$=H.pop();if($!==V){H[0]=$;e:for(var le=0,ge=H.length,te=ge>>>1;le<te;){var q=2*(le+1)-1,Q=H[q],K=q+1,oe=H[K];if(0>i(Q,$))K<ge&&0>i(oe,Q)?(H[le]=oe,H[K]=$,le=K):(H[le]=Q,H[q]=$,le=q);else if(K<ge&&0>i(oe,$))H[le]=oe,H[K]=$,le=K;else break e}}return V}function i(H,V){var $=H.sortIndex-V.sortIndex;return $!==0?$:H.id-V.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;s.unstable_now=function(){return o.now()}}else{var c=Date,u=c.now();s.unstable_now=function(){return c.now()-u}}var x=[],h=[],p=1,f=null,y=3,g=!1,v=!1,C=!1,N=!1,k=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function w(H){for(var V=a(h);V!==null;){if(V.callback===null)l(h);else if(V.startTime<=H)l(h),V.sortIndex=V.expirationTime,t(x,V);else break;V=a(h)}}function R(H){if(C=!1,w(H),!v)if(a(x)!==null)v=!0,T||(T=!0,F());else{var V=a(h);V!==null&&me(R,V.startTime-H)}}var T=!1,O=-1,W=5,B=-1;function z(){return N?!0:!(s.unstable_now()-B<W)}function P(){if(N=!1,T){var H=s.unstable_now();B=H;var V=!0;try{e:{v=!1,C&&(C=!1,A(O),O=-1),g=!0;var $=y;try{t:{for(w(H),f=a(x);f!==null&&!(f.expirationTime>H&&z());){var le=f.callback;if(typeof le=="function"){f.callback=null,y=f.priorityLevel;var ge=le(f.expirationTime<=H);if(H=s.unstable_now(),typeof ge=="function"){f.callback=ge,w(H),V=!0;break t}f===a(x)&&l(x),w(H)}else l(x);f=a(x)}if(f!==null)V=!0;else{var te=a(h);te!==null&&me(R,te.startTime-H),V=!1}}break e}finally{f=null,y=$,g=!1}V=void 0}}finally{V?F():T=!1}}}var F;if(typeof E=="function")F=function(){E(P)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,Y=G.port2;G.port1.onmessage=P,F=function(){Y.postMessage(null)}}else F=function(){k(P,0)};function me(H,V){O=k(function(){H(s.unstable_now())},V)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return y},s.unstable_next=function(H){switch(y){case 1:case 2:case 3:var V=3;break;default:V=y}var $=y;y=V;try{return H()}finally{y=$}},s.unstable_requestPaint=function(){N=!0},s.unstable_runWithPriority=function(H,V){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var $=y;y=H;try{return V()}finally{y=$}},s.unstable_scheduleCallback=function(H,V,$){var le=s.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?le+$:le):$=le,H){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=$+ge,H={id:p++,callback:V,priorityLevel:H,startTime:$,expirationTime:ge,sortIndex:-1},$>le?(H.sortIndex=$,t(h,H),a(x)===null&&H===a(h)&&(C?(A(O),O=-1):C=!0,me(R,$-le))):(H.sortIndex=ge,t(x,H),v||g||(v=!0,T||(T=!0,F()))),H},s.unstable_shouldYield=z,s.unstable_wrapCallback=function(H){var V=y;return function(){var $=y;y=V;try{return H.apply(this,arguments)}finally{y=$}}}})(Jp)),Jp}var O1;function w6(){return O1||(O1=1,Kp.exports=j6()),Kp.exports}var Qp={exports:{}},Zr={};var F1;function N6(){if(F1)return Zr;F1=1;var s=Mg();function t(x){var h="https://react.dev/errors/"+x;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+x+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var l={d:{f:a,r:function(){throw Error(t(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(x,h,p){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:f==null?null:""+f,children:x,containerInfo:h,implementation:p}}var c=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(x,h){if(x==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Zr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,Zr.createPortal=function(x,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return o(x,h,null,p)},Zr.flushSync=function(x){var h=c.T,p=l.p;try{if(c.T=null,l.p=2,x)return x()}finally{c.T=h,l.p=p,l.d.f()}},Zr.preconnect=function(x,h){typeof x=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,l.d.C(x,h))},Zr.prefetchDNS=function(x){typeof x=="string"&&l.d.D(x)},Zr.preinit=function(x,h){if(typeof x=="string"&&h&&typeof h.as=="string"){var p=h.as,f=u(p,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,g=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?l.d.S(x,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:f,integrity:y,fetchPriority:g}):p==="script"&&l.d.X(x,{crossOrigin:f,integrity:y,fetchPriority:g,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Zr.preinitModule=function(x,h){if(typeof x=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=u(h.as,h.crossOrigin);l.d.M(x,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&l.d.M(x)},Zr.preload=function(x,h){if(typeof x=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,f=u(p,h.crossOrigin);l.d.L(x,p,{crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Zr.preloadModule=function(x,h){if(typeof x=="string")if(h){var p=u(h.as,h.crossOrigin);l.d.m(x,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else l.d.m(x)},Zr.requestFormReset=function(x){l.d.r(x)},Zr.unstable_batchedUpdates=function(x,h){return x(h)},Zr.useFormState=function(x,h,p){return c.H.useFormState(x,h,p)},Zr.useFormStatus=function(){return c.H.useHostTransitionStatus()},Zr.version="19.2.4",Zr}var I1;function Lj(){if(I1)return Qp.exports;I1=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Qp.exports=N6(),Qp.exports}var B1;function k6(){if(B1)return Gu;B1=1;var s=w6(),t=Mg(),a=Lj();function l(r){var n="https://react.dev/errors/"+r;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)n+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+r+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var n=r,d=r;if(r.alternate)for(;n.return;)n=n.return;else{r=n;do n=r,(n.flags&4098)!==0&&(d=n.return),r=n.return;while(r)}return n.tag===3?d:null}function c(r){if(r.tag===13){var n=r.memoizedState;if(n===null&&(r=r.alternate,r!==null&&(n=r.memoizedState)),n!==null)return n.dehydrated}return null}function u(r){if(r.tag===31){var n=r.memoizedState;if(n===null&&(r=r.alternate,r!==null&&(n=r.memoizedState)),n!==null)return n.dehydrated}return null}function x(r){if(o(r)!==r)throw Error(l(188))}function h(r){var n=r.alternate;if(!n){if(n=o(r),n===null)throw Error(l(188));return n!==r?null:r}for(var d=r,m=n;;){var S=d.return;if(S===null)break;var L=S.alternate;if(L===null){if(m=S.return,m!==null){d=m;continue}break}if(S.child===L.child){for(L=S.child;L;){if(L===d)return x(S),r;if(L===m)return x(S),n;L=L.sibling}throw Error(l(188))}if(d.return!==m.return)d=S,m=L;else{for(var U=!1,se=S.child;se;){if(se===d){U=!0,d=S,m=L;break}if(se===m){U=!0,m=S,d=L;break}se=se.sibling}if(!U){for(se=L.child;se;){if(se===d){U=!0,d=L,m=S;break}if(se===m){U=!0,m=L,d=S;break}se=se.sibling}if(!U)throw Error(l(189))}}if(d.alternate!==m)throw Error(l(190))}if(d.tag!==3)throw Error(l(188));return d.stateNode.current===d?r:n}function p(r){var n=r.tag;if(n===5||n===26||n===27||n===6)return r;for(r=r.child;r!==null;){if(n=p(r),n!==null)return n;r=r.sibling}return null}var f=Object.assign,y=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),A=Symbol.for("react.consumer"),E=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function F(r){return r===null||typeof r!="object"?null:(r=P&&r[P]||r["@@iterator"],typeof r=="function"?r:null)}var G=Symbol.for("react.client.reference");function Y(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===G?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case C:return"Fragment";case k:return"Profiler";case N:return"StrictMode";case R:return"Suspense";case T:return"SuspenseList";case B:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case v:return"Portal";case E:return r.displayName||"Context";case A:return(r._context.displayName||"Context")+".Consumer";case w:var n=r.render;return r=r.displayName,r||(r=n.displayName||n.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case O:return n=r.displayName||null,n!==null?n:Y(r.type)||"Memo";case W:n=r._payload,r=r._init;try{return Y(r(n))}catch{}}return null}var me=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},le=[],ge=-1;function te(r){return{current:r}}function q(r){0>ge||(r.current=le[ge],le[ge]=null,ge--)}function Q(r,n){ge++,le[ge]=r.current,r.current=n}var K=te(null),oe=te(null),ae=te(null),ce=te(null);function pe(r,n){switch(Q(ae,n),Q(oe,r),Q(K,null),n.nodeType){case 9:case 11:r=(r=n.documentElement)&&(r=r.namespaceURI)?t1(r):0;break;default:if(r=n.tagName,n=n.namespaceURI)n=t1(n),r=s1(n,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}q(K),Q(K,r)}function we(){q(K),q(oe),q(ae)}function Ee(r){r.memoizedState!==null&&Q(ce,r);var n=K.current,d=s1(n,r.type);n!==d&&(Q(oe,r),Q(K,d))}function Be(r){oe.current===r&&(q(K),q(oe)),ce.current===r&&(q(ce),Uu._currentValue=$)}var Je,tt;function he(r){if(Je===void 0)try{throw Error()}catch(d){var n=d.stack.trim().match(/\n( *(at )?)/);Je=n&&n[1]||"",tt=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Je+r+tt}var re=!1;function et(r,n){if(!r||re)return"";re=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(n){var He=function(){throw Error()};if(Object.defineProperty(He.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(He,[])}catch(Re){var _e=Re}Reflect.construct(r,[],He)}else{try{He.call()}catch(Re){_e=Re}r.call(He.prototype)}}else{try{throw Error()}catch(Re){_e=Re}(He=r())&&typeof He.catch=="function"&&He.catch(function(){})}}catch(Re){if(Re&&_e&&typeof Re.stack=="string")return[Re.stack,_e.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var L=m.DetermineComponentFrameRoot(),U=L[0],se=L[1];if(U&&se){var fe=U.split(`
`),ze=se.split(`
`);for(S=m=0;m<fe.length&&!fe[m].includes("DetermineComponentFrameRoot");)m++;for(;S<ze.length&&!ze[S].includes("DetermineComponentFrameRoot");)S++;if(m===fe.length||S===ze.length)for(m=fe.length-1,S=ze.length-1;1<=m&&0<=S&&fe[m]!==ze[S];)S--;for(;1<=m&&0<=S;m--,S--)if(fe[m]!==ze[S]){if(m!==1||S!==1)do if(m--,S--,0>S||fe[m]!==ze[S]){var Ie=`
`+fe[m].replace(" at new "," at ");return r.displayName&&Ie.includes("<anonymous>")&&(Ie=Ie.replace("<anonymous>",r.displayName)),Ie}while(1<=m&&0<=S);break}}}finally{re=!1,Error.prepareStackTrace=d}return(d=r?r.displayName||r.name:"")?he(d):""}function Tt(r,n){switch(r.tag){case 26:case 27:case 5:return he(r.type);case 16:return he("Lazy");case 13:return r.child!==n&&n!==null?he("Suspense Fallback"):he("Suspense");case 19:return he("SuspenseList");case 0:case 15:return et(r.type,!1);case 11:return et(r.type.render,!1);case 1:return et(r.type,!0);case 31:return he("Activity");default:return""}}function Nt(r){try{var n="",d=null;do n+=Tt(r,d),d=r,r=r.return;while(r);return n}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var Ke=Object.prototype.hasOwnProperty,St=s.unstable_scheduleCallback,nt=s.unstable_cancelCallback,At=s.unstable_shouldYield,bt=s.unstable_requestPaint,Ge=s.unstable_now,Bt=s.unstable_getCurrentPriorityLevel,vt=s.unstable_ImmediatePriority,os=s.unstable_UserBlockingPriority,Yt=s.unstable_NormalPriority,ut=s.unstable_LowPriority,Jt=s.unstable_IdlePriority,kt=s.log,Da=s.unstable_setDisableYieldValue,hs=null,_t=null;function Wt(r){if(typeof kt=="function"&&Da(r),_t&&typeof _t.setStrictMode=="function")try{_t.setStrictMode(hs,r)}catch{}}var fs=Math.clz32?Math.clz32:Ut,Et=Math.log,Zs=Math.LN2;function Ut(r){return r>>>=0,r===0?32:31-(Et(r)/Zs|0)|0}var Gt=256,Gs=262144,ls=4194304;function Ct(r){var n=r&42;if(n!==0)return n;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Ss(r,n,d){var m=r.pendingLanes;if(m===0)return 0;var S=0,L=r.suspendedLanes,U=r.pingedLanes;r=r.warmLanes;var se=m&134217727;return se!==0?(m=se&~L,m!==0?S=Ct(m):(U&=se,U!==0?S=Ct(U):d||(d=se&~r,d!==0&&(S=Ct(d))))):(se=m&~L,se!==0?S=Ct(se):U!==0?S=Ct(U):d||(d=m&~r,d!==0&&(S=Ct(d)))),S===0?0:n!==0&&n!==S&&(n&L)===0&&(L=S&-S,d=n&-n,L>=d||L===32&&(d&4194048)!==0)?n:S}function Ql(r,n){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&n)===0}function Nr(r,n){switch(r){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ln(){var r=ls;return ls<<=1,(ls&62914560)===0&&(ls=4194304),r}function Sl(r){for(var n=[],d=0;31>d;d++)n.push(r);return n}function Dt(r,n){r.pendingLanes|=n,n!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function si(r,n,d,m,S,L){var U=r.pendingLanes;r.pendingLanes=d,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=d,r.entangledLanes&=d,r.errorRecoveryDisabledLanes&=d,r.shellSuspendCounter=0;var se=r.entanglements,fe=r.expirationTimes,ze=r.hiddenUpdates;for(d=U&~d;0<d;){var Ie=31-fs(d),He=1<<Ie;se[Ie]=0,fe[Ie]=-1;var _e=ze[Ie];if(_e!==null)for(ze[Ie]=null,Ie=0;Ie<_e.length;Ie++){var Re=_e[Ie];Re!==null&&(Re.lane&=-536870913)}d&=~He}m!==0&&En(r,m,0),L!==0&&S===0&&r.tag!==0&&(r.suspendedLanes|=L&~(U&~n))}function En(r,n,d){r.pendingLanes|=n,r.suspendedLanes&=~n;var m=31-fs(n);r.entangledLanes|=n,r.entanglements[m]=r.entanglements[m]|1073741824|d&261930}function ul(r,n){var d=r.entangledLanes|=n;for(r=r.entanglements;d;){var m=31-fs(d),S=1<<m;S&n|r[m]&n&&(r[m]|=n),d&=~S}}function xl(r,n){var d=n&-n;return d=(d&42)!==0?1:ha(d),(d&(r.suspendedLanes|n))!==0?0:d}function ha(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Oa(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function rr(){var r=V.p;return r!==0?r:(r=window.event,r===void 0?32:S1(r.type))}function Bi(r,n){var d=V.p;try{return V.p=r,n()}finally{V.p=d}}var Rr=Math.random().toString(36).slice(2),Vs="__reactFiber$"+Rr,ma="__reactProps$"+Rr,kr="__reactContainer$"+Rr,hl="__reactEvents$"+Rr,Cl="__reactListeners$"+Rr,po="__reactHandles$"+Rr,Zl="__reactResources$"+Rr,en="__reactMarker$"+Rr;function Ui(r){delete r[Vs],delete r[ma],delete r[hl],delete r[Cl],delete r[po]}function tn(r){var n=r[Vs];if(n)return n;for(var d=r.parentNode;d;){if(n=d[kr]||d[Vs]){if(d=n.alternate,n.child!==null||d!==null&&d.child!==null)for(r=c1(r);r!==null;){if(d=r[Vs])return d;r=c1(r)}return n}r=d,d=r.parentNode}return null}function sn(r){if(r=r[Vs]||r[kr]){var n=r.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return r}return null}function fo(r){var n=r.tag;if(n===5||n===26||n===27||n===6)return r.stateNode;throw Error(l(33))}function Mn(r){var n=r[Zl];return n||(n=r[Zl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function La(r){r[en]=!0}var Yc=new Set,ml={};function an(r,n){ai(r,n),ai(r+"Capture",n)}function ai(r,n){for(ml[r]=n,r=0;r<n.length;r++)Yc.add(n[r])}var Xc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Kc={},Jc={};function Wd(r){return Ke.call(Jc,r)?!0:Ke.call(Kc,r)?!1:Xc.test(r)?Jc[r]=!0:(Kc[r]=!0,!1)}function pl(r,n,d){if(Wd(n))if(d===null)r.removeAttribute(n);else{switch(typeof d){case"undefined":case"function":case"symbol":r.removeAttribute(n);return;case"boolean":var m=n.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){r.removeAttribute(n);return}}r.setAttribute(n,""+d)}}function ri(r,n,d){if(d===null)r.removeAttribute(n);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(n);return}r.setAttribute(n,""+d)}}function rn(r,n,d,m){if(m===null)r.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(d);return}r.setAttributeNS(n,d,""+m)}}function Ts(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Qc(r){var n=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function zn(r,n,d){var m=Object.getOwnPropertyDescriptor(r.constructor.prototype,n);if(!r.hasOwnProperty(n)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var S=m.get,L=m.set;return Object.defineProperty(r,n,{configurable:!0,get:function(){return S.call(this)},set:function(U){d=""+U,L.call(this,U)}}),Object.defineProperty(r,n,{enumerable:m.enumerable}),{getValue:function(){return d},setValue:function(U){d=""+U},stopTracking:function(){r._valueTracker=null,delete r[n]}}}}function $i(r){if(!r._valueTracker){var n=Qc(r)?"checked":"value";r._valueTracker=zn(r,n,""+r[n])}}function Zc(r){if(!r)return!1;var n=r._valueTracker;if(!n)return!0;var d=n.getValue(),m="";return r&&(m=Qc(r)?r.checked?"true":"false":r.value),r=m,r!==d?(n.setValue(r),!0):!1}function Or(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Xa=/[\n"\\]/g;function Fa(r){return r.replace(Xa,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ec(r,n,d,m,S,L,U,se){r.name="",U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?r.type=U:r.removeAttribute("type"),n!=null?U==="number"?(n===0&&r.value===""||r.value!=n)&&(r.value=""+Ts(n)):r.value!==""+Ts(n)&&(r.value=""+Ts(n)):U!=="submit"&&U!=="reset"||r.removeAttribute("value"),n!=null?ed(r,U,Ts(n)):d!=null?ed(r,U,Ts(d)):m!=null&&r.removeAttribute("value"),S==null&&L!=null&&(r.defaultChecked=!!L),S!=null&&(r.checked=S&&typeof S!="function"&&typeof S!="symbol"),se!=null&&typeof se!="function"&&typeof se!="symbol"&&typeof se!="boolean"?r.name=""+Ts(se):r.removeAttribute("name")}function Gd(r,n,d,m,S,L,U,se){if(L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(r.type=L),n!=null||d!=null){if(!(L!=="submit"&&L!=="reset"||n!=null)){$i(r);return}d=d!=null?""+Ts(d):"",n=n!=null?""+Ts(n):d,se||n===r.value||(r.value=n),r.defaultValue=n}m=m??S,m=typeof m!="function"&&typeof m!="symbol"&&!!m,r.checked=se?r.checked:!!m,r.defaultChecked=!!m,U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"&&(r.name=U),$i(r)}function ed(r,n,d){n==="number"&&Or(r.ownerDocument)===r||r.defaultValue===""+d||(r.defaultValue=""+d)}function Fr(r,n,d,m){if(r=r.options,n){n={};for(var S=0;S<d.length;S++)n["$"+d[S]]=!0;for(d=0;d<r.length;d++)S=n.hasOwnProperty("$"+r[d].value),r[d].selected!==S&&(r[d].selected=S),S&&m&&(r[d].defaultSelected=!0)}else{for(d=""+Ts(d),n=null,S=0;S<r.length;S++){if(r[S].value===d){r[S].selected=!0,m&&(r[S].defaultSelected=!0);return}n!==null||r[S].disabled||(n=r[S])}n!==null&&(n.selected=!0)}}function td(r,n,d){if(n!=null&&(n=""+Ts(n),n!==r.value&&(r.value=n),d==null)){r.defaultValue!==n&&(r.defaultValue=n);return}r.defaultValue=d!=null?""+Ts(d):""}function sd(r,n,d,m){if(n==null){if(m!=null){if(d!=null)throw Error(l(92));if(me(m)){if(1<m.length)throw Error(l(93));m=m[0]}d=m}d==null&&(d=""),n=d}d=Ts(n),r.defaultValue=d,m=r.textContent,m===d&&m!==""&&m!==null&&(r.value=m),$i(r)}function ln(r,n){if(n){var d=r.firstChild;if(d&&d===r.lastChild&&d.nodeType===3){d.nodeValue=n;return}}r.textContent=n}var go=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vd(r,n,d){var m=n.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?m?r.setProperty(n,""):n==="float"?r.cssFloat="":r[n]="":m?r.setProperty(n,d):typeof d!="number"||d===0||go.has(n)?n==="float"?r.cssFloat=d:r[n]=(""+d).trim():r[n]=d+"px"}function Yd(r,n,d){if(n!=null&&typeof n!="object")throw Error(l(62));if(r=r.style,d!=null){for(var m in d)!d.hasOwnProperty(m)||n!=null&&n.hasOwnProperty(m)||(m.indexOf("--")===0?r.setProperty(m,""):m==="float"?r.cssFloat="":r[m]="");for(var S in n)m=n[S],n.hasOwnProperty(S)&&d[S]!==m&&Vd(r,S,m)}else for(var L in n)n.hasOwnProperty(L)&&Vd(r,L,n[L])}function ad(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Kr(r){return Xd.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function nn(){}var li=null;function bo(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var qi=null,Rt=null;function Kd(r){var n=sn(r);if(n&&(r=n.stateNode)){var d=r[ma]||null;e:switch(r=n.stateNode,n.type){case"input":if(ec(r,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),n=d.name,d.type==="radio"&&n!=null){for(d=r;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Fa(""+n)+'"][type="radio"]'),n=0;n<d.length;n++){var m=d[n];if(m!==r&&m.form===r.form){var S=m[ma]||null;if(!S)throw Error(l(90));ec(m,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(n=0;n<d.length;n++)m=d[n],m.form===r.form&&Zc(m)}break e;case"textarea":td(r,d.value,d.defaultValue);break e;case"select":n=d.value,n!=null&&Fr(r,!!d.multiple,n,!1)}}}var ld=!1;function Jd(r,n,d){if(ld)return r(n,d);ld=!0;try{var m=r(n);return m}finally{if(ld=!1,(qi!==null||Rt!==null)&&(Yx(),qi&&(n=qi,r=Rt,Rt=qi=null,Kd(n),r)))for(n=0;n<r.length;n++)Kd(r[n])}}function fl(r,n){var d=r.stateNode;if(d===null)return null;var m=d[ma]||null;if(m===null)return null;d=m[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(r=r.type,m=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!m;break e;default:r=!1}if(r)return null;if(d&&typeof d!="function")throw Error(l(231,n,typeof d));return d}var xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nd=!1;if(xr)try{var vo={};Object.defineProperty(vo,"passive",{get:function(){nd=!0}}),window.addEventListener("test",vo,vo),window.removeEventListener("test",vo,vo)}catch{nd=!1}var gl=null,yo=null,Tn=null;function Qd(){if(Tn)return Tn;var r,n=yo,d=n.length,m,S="value"in gl?gl.value:gl.textContent,L=S.length;for(r=0;r<d&&n[r]===S[r];r++);var U=d-r;for(m=1;m<=U&&n[d-m]===S[L-m];m++);return Tn=S.slice(r,1<m?1-m:void 0)}function Al(r){var n=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&n===13&&(r=13)):r=n,r===10&&(r=13),32<=r||r===13?r:0}function tc(){return!0}function sc(){return!1}function lr(r){function n(d,m,S,L,U){this._reactName=d,this._targetInst=S,this.type=m,this.nativeEvent=L,this.target=U,this.currentTarget=null;for(var se in r)r.hasOwnProperty(se)&&(d=r[se],this[se]=d?d(L):L[se]);return this.isDefaultPrevented=(L.defaultPrevented!=null?L.defaultPrevented:L.returnValue===!1)?tc:sc,this.isPropagationStopped=sc,this}return f(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=tc)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=tc)},persist:function(){},isPersistent:tc}),n}var _n={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dl=lr(_n),ni=f({},_n,{view:0,detail:0}),ac=lr(ni),jo,ii,oi,wo=f({},ni,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qt,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==oi&&(oi&&r.type==="mousemove"?(jo=r.screenX-oi.screenX,ii=r.screenY-oi.screenY):ii=jo=0,oi=r),jo)},movementY:function(r){return"movementY"in r?r.movementY:ii}}),id=lr(wo),ci=f({},wo,{dataTransfer:0}),di=lr(ci),Zd=f({},ni,{relatedTarget:0}),ui=lr(Zd),e0=f({},_n,{animationName:0,elapsedTime:0,pseudoElement:0}),M=lr(e0),X=f({},_n,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),xe=lr(X),be=f({},_n,{data:0}),ke=lr(be),Ue={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ye={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ht={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yt(r){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(r):(r=ht[r])?!!n[r]:!1}function qt(){return yt}var es=f({},ni,{key:function(r){if(r.key){var n=Ue[r.key]||r.key;if(n!=="Unidentified")return n}return r.type==="keypress"?(r=Al(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Ye[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qt,charCode:function(r){return r.type==="keypress"?Al(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Al(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Cs=lr(es),pa=f({},wo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ea=lr(pa),ea=f({},ni,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qt}),Ka=lr(ea),Ia=f({},_n,{propertyName:0,elapsedTime:0,pseudoElement:0}),hr=lr(Ia),xi=f({},wo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),on=lr(xi),hi=f({},_n,{newState:0,oldState:0}),od=lr(hi),rc=[9,13,27,32],Pn=xr&&"CompositionEvent"in window,cn=null;xr&&"documentMode"in document&&(cn=document.documentMode);var No=xr&&"TextEvent"in window&&!cn,mi=xr&&(!Pn||cn&&8<cn&&11>=cn),nr=" ",Hi=!1;function Wi(r,n){switch(r){case"keyup":return rc.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lc(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Rn=!1;function Ir(r,n){switch(r){case"compositionend":return lc(n);case"keypress":return n.which!==32?null:(Hi=!0,nr);case"textInput":return r=n.data,r===nr&&Hi?null:r;default:return null}}function pi(r,n){if(Rn)return r==="compositionend"||!Pn&&Wi(r,n)?(r=Qd(),Tn=yo=gl=null,Rn=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return mi&&n.locale!=="ko"?null:n.data;default:return null}}var nc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cd(r){var n=r&&r.nodeName&&r.nodeName.toLowerCase();return n==="input"?!!nc[r.type]:n==="textarea"}function bl(r,n,d,m){qi?Rt?Rt.push(m):Rt=[m]:qi=m,n=th(n,"onChange"),0<n.length&&(d=new Dl("onChange","change",null,d,m),r.push({event:d,listeners:n}))}var dn=null,fi=null;function dd(r){Xv(r,0)}function un(r){var n=fo(r);if(Zc(n))return r}function Gi(r,n){if(r==="change")return n}var Jr=!1;if(xr){var Br;if(xr){var On="oninput"in document;if(!On){var Fn=document.createElement("div");Fn.setAttribute("oninput","return;"),On=typeof Fn.oninput=="function"}Br=On}else Br=!1;Jr=Br&&(!document.documentMode||9<document.documentMode)}function gi(){dn&&(dn.detachEvent("onpropertychange",ic),fi=dn=null)}function ic(r){if(r.propertyName==="value"&&un(fi)){var n=[];bl(n,fi,r,bo(r)),Jd(dd,n)}}function oc(r,n,d){r==="focusin"?(gi(),dn=n,fi=d,dn.attachEvent("onpropertychange",ic)):r==="focusout"&&gi()}function Ma(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return un(fi)}function t0(r,n){if(r==="click")return un(n)}function In(r,n){if(r==="input"||r==="change")return un(n)}function Bn(r,n){return r===n&&(r!==0||1/r===1/n)||r!==r&&n!==n}var mr=typeof Object.is=="function"?Object.is:Bn;function bi(r,n){if(mr(r,n))return!0;if(typeof r!="object"||r===null||typeof n!="object"||n===null)return!1;var d=Object.keys(r),m=Object.keys(n);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var S=d[m];if(!Ke.call(n,S)||!mr(r[S],n[S]))return!1}return!0}function cc(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function dc(r,n){var d=cc(r);r=0;for(var m;d;){if(d.nodeType===3){if(m=r+d.textContent.length,r<=n&&m>=n)return{node:d,offset:n-r};r=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=cc(d)}}function vi(r,n){return r&&n?r===n?!0:r&&r.nodeType===3?!1:n&&n.nodeType===3?vi(r,n.parentNode):"contains"in r?r.contains(n):r.compareDocumentPosition?!!(r.compareDocumentPosition(n)&16):!1:!1}function yi(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var n=Or(r.document);n instanceof r.HTMLIFrameElement;){try{var d=typeof n.contentWindow.location.href=="string"}catch{d=!1}if(d)r=n.contentWindow;else break;n=Or(r.document)}return n}function Un(r){var n=r&&r.nodeName&&r.nodeName.toLowerCase();return n&&(n==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||n==="textarea"||r.contentEditable==="true")}var ko=xr&&"documentMode"in document&&11>=document.documentMode,vl=null,ji=null,Sr=null,Ll=!1;function _s(r,n,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Ll||vl==null||vl!==Or(m)||(m=vl,"selectionStart"in m&&Un(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Sr&&bi(Sr,m)||(Sr=m,m=th(ji,"onSelect"),0<m.length&&(n=new Dl("onSelect","select",null,n,d),r.push({event:n,listeners:m}),n.target=vl)))}function As(r,n){var d={};return d[r.toLowerCase()]=n.toLowerCase(),d["Webkit"+r]="webkit"+n,d["Moz"+r]="moz"+n,d}var ta={animationend:As("Animation","AnimationEnd"),animationiteration:As("Animation","AnimationIteration"),animationstart:As("Animation","AnimationStart"),transitionrun:As("Transition","TransitionRun"),transitionstart:As("Transition","TransitionStart"),transitioncancel:As("Transition","TransitionCancel"),transitionend:As("Transition","TransitionEnd")},za={},$n={};xr&&($n=document.createElement("div").style,"AnimationEvent"in window||(delete ta.animationend.animation,delete ta.animationiteration.animation,delete ta.animationstart.animation),"TransitionEvent"in window||delete ta.transitionend.transition);function xn(r){if(za[r])return za[r];if(!ta[r])return r;var n=ta[r],d;for(d in n)if(n.hasOwnProperty(d)&&d in $n)return za[r]=n[d];return r}var So=xn("animationend"),ud=xn("animationiteration"),du=xn("animationstart"),kx=xn("transitionrun"),Sx=xn("transitionstart"),Cx=xn("transitioncancel"),uu=xn("transitionend"),xu=new Map,Co="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Co.push("scrollEnd");function El(r,n){xu.set(r,n),an(n,[r])}var xd=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},yl=[],Ao=0,s0=0;function hd(){for(var r=Ao,n=s0=Ao=0;n<r;){var d=yl[n];yl[n++]=null;var m=yl[n];yl[n++]=null;var S=yl[n];yl[n++]=null;var L=yl[n];if(yl[n++]=null,m!==null&&S!==null){var U=m.pending;U===null?S.next=S:(S.next=U.next,U.next=S),m.pending=S}L!==0&&pd(d,S,L)}}function md(r,n,d,m){yl[Ao++]=r,yl[Ao++]=n,yl[Ao++]=d,yl[Ao++]=m,s0|=m,r.lanes|=m,r=r.alternate,r!==null&&(r.lanes|=m)}function a0(r,n,d,m){return md(r,n,d,m),Cr(r)}function wi(r,n){return md(r,null,null,n),Cr(r)}function pd(r,n,d){r.lanes|=d;var m=r.alternate;m!==null&&(m.lanes|=d);for(var S=!1,L=r.return;L!==null;)L.childLanes|=d,m=L.alternate,m!==null&&(m.childLanes|=d),L.tag===22&&(r=L.stateNode,r===null||r._visibility&1||(S=!0)),r=L,L=L.return;return r.tag===3?(L=r.stateNode,S&&n!==null&&(S=31-fs(d),r=L.hiddenUpdates,m=r[S],m===null?r[S]=[n]:m.push(n),n.lane=d|536870912),L):null}function Cr(r){if(50<_u)throw _u=0,gp=null,Error(l(185));for(var n=r.return;n!==null;)r=n,n=r.return;return r.tag===3?r.stateNode:null}var pr={};function r0(r,n,d,m){this.tag=r,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ar(r,n,d,m){return new r0(r,n,d,m)}function l0(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ml(r,n){var d=r.alternate;return d===null?(d=Ar(r.tag,n,r.key,r.mode),d.elementType=r.elementType,d.type=r.type,d.stateNode=r.stateNode,d.alternate=r,r.alternate=d):(d.pendingProps=n,d.type=r.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=r.flags&65011712,d.childLanes=r.childLanes,d.lanes=r.lanes,d.child=r.child,d.memoizedProps=r.memoizedProps,d.memoizedState=r.memoizedState,d.updateQueue=r.updateQueue,n=r.dependencies,d.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},d.sibling=r.sibling,d.index=r.index,d.ref=r.ref,d.refCleanup=r.refCleanup,d}function fd(r,n){r.flags&=65011714;var d=r.alternate;return d===null?(r.childLanes=0,r.lanes=n,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=d.childLanes,r.lanes=d.lanes,r.child=d.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=d.memoizedProps,r.memoizedState=d.memoizedState,r.updateQueue=d.updateQueue,r.type=d.type,n=d.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),r}function uc(r,n,d,m,S,L){var U=0;if(m=r,typeof r=="function")l0(r)&&(U=1);else if(typeof r=="string")U=n6(r,d,K.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case B:return r=Ar(31,d,n,S),r.elementType=B,r.lanes=L,r;case C:return Vi(d.children,S,L,n);case N:U=8,S|=24;break;case k:return r=Ar(12,d,n,S|2),r.elementType=k,r.lanes=L,r;case R:return r=Ar(13,d,n,S),r.elementType=R,r.lanes=L,r;case T:return r=Ar(19,d,n,S),r.elementType=T,r.lanes=L,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case E:U=10;break e;case A:U=9;break e;case w:U=11;break e;case O:U=14;break e;case W:U=16,m=null;break e}U=29,d=Error(l(130,r===null?"null":typeof r,"")),m=null}return n=Ar(U,d,n,S),n.elementType=r,n.type=m,n.lanes=L,n}function Vi(r,n,d,m){return r=Ar(7,r,m,n),r.lanes=d,r}function gd(r,n,d){return r=Ar(6,r,null,n),r.lanes=d,r}function n0(r){var n=Ar(18,null,null,0);return n.stateNode=r,n}function xc(r,n,d){return n=Ar(4,r.children!==null?r.children:[],r.key,n),n.lanes=d,n.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},n}var i0=new WeakMap;function zl(r,n){if(typeof r=="object"&&r!==null){var d=i0.get(r);return d!==void 0?d:(n={value:r,source:n,stack:Nt(n)},i0.set(r,n),n)}return{value:r,source:n,stack:Nt(n)}}var hc=[],Do=0,o0=null,bd=0,Tl=[],_l=0,Yi=null,Pl=1,Rl="";function jl(r,n){hc[Do++]=bd,hc[Do++]=o0,o0=r,bd=n}function Ax(r,n,d){Tl[_l++]=Pl,Tl[_l++]=Rl,Tl[_l++]=Yi,Yi=r;var m=Pl;r=Rl;var S=32-fs(m)-1;m&=~(1<<S),d+=1;var L=32-fs(n)+S;if(30<L){var U=S-S%5;L=(m&(1<<U)-1).toString(32),m>>=U,S-=U,Pl=1<<32-fs(n)+S|d<<S|m,Rl=L+r}else Pl=1<<L|d<<S|m,Rl=r}function hu(r){r.return!==null&&(jl(r,1),Ax(r,1,0))}function c0(r){for(;r===o0;)o0=hc[--Do],hc[Do]=null,bd=hc[--Do],hc[Do]=null;for(;r===Yi;)Yi=Tl[--_l],Tl[_l]=null,Rl=Tl[--_l],Tl[_l]=null,Pl=Tl[--_l],Tl[_l]=null}function Dx(r,n){Tl[_l++]=Pl,Tl[_l++]=Rl,Tl[_l++]=Yi,Pl=n.id,Rl=n.overflow,Yi=r}var fr=null,ia=null,vs=!1,Ur=null,wa=!1,hn=Error(l(519));function Xi(r){var n=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw mc(zl(n,r)),hn}function mu(r){var n=r.stateNode,d=r.type,m=r.memoizedProps;switch(n[Vs]=r,n[ma]=m,d){case"dialog":js("cancel",n),js("close",n);break;case"iframe":case"object":case"embed":js("load",n);break;case"video":case"audio":for(d=0;d<Ru.length;d++)js(Ru[d],n);break;case"source":js("error",n);break;case"img":case"image":case"link":js("error",n),js("load",n);break;case"details":js("toggle",n);break;case"input":js("invalid",n),Gd(n,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":js("invalid",n);break;case"textarea":js("invalid",n),sd(n,m.value,m.defaultValue,m.children)}d=m.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||n.textContent===""+d||m.suppressHydrationWarning===!0||Zv(n.textContent,d)?(m.popover!=null&&(js("beforetoggle",n),js("toggle",n)),m.onScroll!=null&&js("scroll",n),m.onScrollEnd!=null&&js("scrollend",n),m.onClick!=null&&(n.onclick=nn),n=!0):n=!1,n||Xi(r,!0)}function Ni(r){for(fr=r.return;fr;)switch(fr.tag){case 5:case 31:case 13:wa=!1;return;case 27:case 3:wa=!0;return;default:fr=fr.return}}function gr(r){if(r!==fr)return!1;if(!vs)return Ni(r),vs=!0,!1;var n=r.tag,d;if((d=n!==3&&n!==27)&&((d=n===5)&&(d=r.type,d=!(d!=="form"&&d!=="button")||zp(r.type,r.memoizedProps)),d=!d),d&&ia&&Xi(r),Ni(r),n===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(l(317));ia=o1(r)}else if(n===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(l(317));ia=o1(r)}else n===27?(n=ia,Dc(r.type)?(r=Op,Op=null,ia=r):ia=n):ia=fr?Gn(r.stateNode.nextSibling):null;return!0}function Lo(){ia=fr=null,vs=!1}function pu(){var r=Ur;return r!==null&&($l===null?$l=r:$l.push.apply($l,r),Ur=null),r}function mc(r){Ur===null?Ur=[r]:Ur.push(r)}var d0=te(null),Ki=null,qn=null;function Ji(r,n,d){Q(d0,n._currentValue),n._currentValue=d}function Ol(r){r._currentValue=d0.current,q(d0)}function pc(r,n,d){for(;r!==null;){var m=r.alternate;if((r.childLanes&n)!==n?(r.childLanes|=n,m!==null&&(m.childLanes|=n)):m!==null&&(m.childLanes&n)!==n&&(m.childLanes|=n),r===d)break;r=r.return}}function Eo(r,n,d,m){var S=r.child;for(S!==null&&(S.return=r);S!==null;){var L=S.dependencies;if(L!==null){var U=S.child;L=L.firstContext;e:for(;L!==null;){var se=L;L=S;for(var fe=0;fe<n.length;fe++)if(se.context===n[fe]){L.lanes|=d,se=L.alternate,se!==null&&(se.lanes|=d),pc(L.return,d,r),m||(U=null);break e}L=se.next}}else if(S.tag===18){if(U=S.return,U===null)throw Error(l(341));U.lanes|=d,L=U.alternate,L!==null&&(L.lanes|=d),pc(U,d,r),U=null}else U=S.child;if(U!==null)U.return=S;else for(U=S;U!==null;){if(U===r){U=null;break}if(S=U.sibling,S!==null){S.return=U.return,U=S;break}U=U.return}S=U}}function Qi(r,n,d,m){r=null;for(var S=n,L=!1;S!==null;){if(!L){if((S.flags&524288)!==0)L=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var U=S.alternate;if(U===null)throw Error(l(387));if(U=U.memoizedProps,U!==null){var se=S.type;mr(S.pendingProps.value,U.value)||(r!==null?r.push(se):r=[se])}}else if(S===ce.current){if(U=S.alternate,U===null)throw Error(l(387));U.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(r!==null?r.push(Uu):r=[Uu])}S=S.return}r!==null&&Eo(n,r,d,m),n.flags|=262144}function u0(r){for(r=r.firstContext;r!==null;){if(!mr(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Zi(r){Ki=r,qn=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function br(r){return Lx(Ki,r)}function x0(r,n){return Ki===null&&Zi(r),Lx(r,n)}function Lx(r,n){var d=n._currentValue;if(n={context:n,memoizedValue:d,next:null},qn===null){if(r===null)throw Error(l(308));qn=n,r.dependencies={lanes:0,firstContext:n},r.flags|=524288}else qn=qn.next=n;return d}var Rm=typeof AbortController<"u"?AbortController:function(){var r=[],n=this.signal={aborted:!1,addEventListener:function(d,m){r.push(m)}};this.abort=function(){n.aborted=!0,r.forEach(function(d){return d()})}},Om=s.unstable_scheduleCallback,Fm=s.unstable_NormalPriority,Ta={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fc(){return{controller:new Rm,data:new Map,refCount:0}}function vd(r){r.refCount--,r.refCount===0&&Om(Fm,function(){r.controller.abort()})}var yd=null,h0=0,j=0,D=null;function _(r,n){if(yd===null){var d=yd=[];h0=0,j=Np(),D={status:"pending",value:void 0,then:function(m){d.push(m)}}}return h0++,n.then(I,I),n}function I(){if(--h0===0&&yd!==null){D!==null&&(D.status="fulfilled");var r=yd;yd=null,j=0,D=null;for(var n=0;n<r.length;n++)(0,r[n])()}}function J(r,n){var d=[],m={status:"pending",value:null,reason:null,then:function(S){d.push(S)}};return r.then(function(){m.status="fulfilled",m.value=n;for(var S=0;S<d.length;S++)(0,d[S])(n)},function(S){for(m.status="rejected",m.reason=S,S=0;S<d.length;S++)(0,d[S])(void 0)}),m}var Z=H.S;H.S=function(r,n){Nv=Ge(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&_(r,n),Z!==null&&Z(r,n)};var ee=te(null);function ne(){var r=ee.current;return r!==null?r:ca.pooledCache}function ie(r,n){n===null?Q(ee,ee.current):Q(ee,n.pool)}function ue(){var r=ne();return r===null?null:{parent:Ta._currentValue,pool:r}}var ye=Error(l(460)),Le=Error(l(474)),de=Error(l(542)),Ne={then:function(){}};function Ce(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Fe(r,n,d){switch(d=r[d],d===void 0?r.push(n):d!==n&&(n.then(nn,nn),n=d),n.status){case"fulfilled":return n.value;case"rejected":throw r=n.reason,Qe(r),r;default:if(typeof n.status=="string")n.then(nn,nn);else{if(r=ca,r!==null&&100<r.shellSuspendCounter)throw Error(l(482));r=n,r.status="pending",r.then(function(m){if(n.status==="pending"){var S=n;S.status="fulfilled",S.value=m}},function(m){if(n.status==="pending"){var S=n;S.status="rejected",S.reason=m}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw r=n.reason,Qe(r),r}throw Oe=n,ye}}function Ae(r){try{var n=r._init;return n(r._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(Oe=d,ye):d}}var Oe=null;function $e(){if(Oe===null)throw Error(l(459));var r=Oe;return Oe=null,r}function Qe(r){if(r===ye||r===de)throw Error(l(483))}var We=null,pt=0;function ct(r){var n=pt;return pt+=1,We===null&&(We=[]),Fe(We,r,n)}function Xt(r,n){n=n.props.ref,r.ref=n!==void 0?n:null}function xt(r,n){throw n.$$typeof===y?Error(l(525)):(r=Object.prototype.toString.call(n),Error(l(31,r==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":r)))}function gs(r){function n(Se,je){if(r){var Me=Se.deletions;Me===null?(Se.deletions=[je],Se.flags|=16):Me.push(je)}}function d(Se,je){if(!r)return null;for(;je!==null;)n(Se,je),je=je.sibling;return null}function m(Se){for(var je=new Map;Se!==null;)Se.key!==null?je.set(Se.key,Se):je.set(Se.index,Se),Se=Se.sibling;return je}function S(Se,je){return Se=Ml(Se,je),Se.index=0,Se.sibling=null,Se}function L(Se,je,Me){return Se.index=Me,r?(Me=Se.alternate,Me!==null?(Me=Me.index,Me<je?(Se.flags|=67108866,je):Me):(Se.flags|=67108866,je)):(Se.flags|=1048576,je)}function U(Se){return r&&Se.alternate===null&&(Se.flags|=67108866),Se}function se(Se,je,Me,qe){return je===null||je.tag!==6?(je=gd(Me,Se.mode,qe),je.return=Se,je):(je=S(je,Me),je.return=Se,je)}function fe(Se,je,Me,qe){var zt=Me.type;return zt===C?Ie(Se,je,Me.props.children,qe,Me.key):je!==null&&(je.elementType===zt||typeof zt=="object"&&zt!==null&&zt.$$typeof===W&&Ae(zt)===je.type)?(je=S(je,Me.props),Xt(je,Me),je.return=Se,je):(je=uc(Me.type,Me.key,Me.props,null,Se.mode,qe),Xt(je,Me),je.return=Se,je)}function ze(Se,je,Me,qe){return je===null||je.tag!==4||je.stateNode.containerInfo!==Me.containerInfo||je.stateNode.implementation!==Me.implementation?(je=xc(Me,Se.mode,qe),je.return=Se,je):(je=S(je,Me.children||[]),je.return=Se,je)}function Ie(Se,je,Me,qe,zt){return je===null||je.tag!==7?(je=Vi(Me,Se.mode,qe,zt),je.return=Se,je):(je=S(je,Me),je.return=Se,je)}function He(Se,je,Me){if(typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint")return je=gd(""+je,Se.mode,Me),je.return=Se,je;if(typeof je=="object"&&je!==null){switch(je.$$typeof){case g:return Me=uc(je.type,je.key,je.props,null,Se.mode,Me),Xt(Me,je),Me.return=Se,Me;case v:return je=xc(je,Se.mode,Me),je.return=Se,je;case W:return je=Ae(je),He(Se,je,Me)}if(me(je)||F(je))return je=Vi(je,Se.mode,Me,null),je.return=Se,je;if(typeof je.then=="function")return He(Se,ct(je),Me);if(je.$$typeof===E)return He(Se,x0(Se,je),Me);xt(Se,je)}return null}function _e(Se,je,Me,qe){var zt=je!==null?je.key:null;if(typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint")return zt!==null?null:se(Se,je,""+Me,qe);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case g:return Me.key===zt?fe(Se,je,Me,qe):null;case v:return Me.key===zt?ze(Se,je,Me,qe):null;case W:return Me=Ae(Me),_e(Se,je,Me,qe)}if(me(Me)||F(Me))return zt!==null?null:Ie(Se,je,Me,qe,null);if(typeof Me.then=="function")return _e(Se,je,ct(Me),qe);if(Me.$$typeof===E)return _e(Se,je,x0(Se,Me),qe);xt(Se,Me)}return null}function Re(Se,je,Me,qe,zt){if(typeof qe=="string"&&qe!==""||typeof qe=="number"||typeof qe=="bigint")return Se=Se.get(Me)||null,se(je,Se,""+qe,zt);if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case g:return Se=Se.get(qe.key===null?Me:qe.key)||null,fe(je,Se,qe,zt);case v:return Se=Se.get(qe.key===null?Me:qe.key)||null,ze(je,Se,qe,zt);case W:return qe=Ae(qe),Re(Se,je,Me,qe,zt)}if(me(qe)||F(qe))return Se=Se.get(Me)||null,Ie(je,Se,qe,zt,null);if(typeof qe.then=="function")return Re(Se,je,Me,ct(qe),zt);if(qe.$$typeof===E)return Re(Se,je,Me,x0(je,qe),zt);xt(je,qe)}return null}function mt(Se,je,Me,qe){for(var zt=null,Fs=null,jt=je,cs=je=0,Ns=null;jt!==null&&cs<Me.length;cs++){jt.index>cs?(Ns=jt,jt=null):Ns=jt.sibling;var Is=_e(Se,jt,Me[cs],qe);if(Is===null){jt===null&&(jt=Ns);break}r&&jt&&Is.alternate===null&&n(Se,jt),je=L(Is,je,cs),Fs===null?zt=Is:Fs.sibling=Is,Fs=Is,jt=Ns}if(cs===Me.length)return d(Se,jt),vs&&jl(Se,cs),zt;if(jt===null){for(;cs<Me.length;cs++)jt=He(Se,Me[cs],qe),jt!==null&&(je=L(jt,je,cs),Fs===null?zt=jt:Fs.sibling=jt,Fs=jt);return vs&&jl(Se,cs),zt}for(jt=m(jt);cs<Me.length;cs++)Ns=Re(jt,Se,cs,Me[cs],qe),Ns!==null&&(r&&Ns.alternate!==null&&jt.delete(Ns.key===null?cs:Ns.key),je=L(Ns,je,cs),Fs===null?zt=Ns:Fs.sibling=Ns,Fs=Ns);return r&&jt.forEach(function(Tc){return n(Se,Tc)}),vs&&jl(Se,cs),zt}function $t(Se,je,Me,qe){if(Me==null)throw Error(l(151));for(var zt=null,Fs=null,jt=je,cs=je=0,Ns=null,Is=Me.next();jt!==null&&!Is.done;cs++,Is=Me.next()){jt.index>cs?(Ns=jt,jt=null):Ns=jt.sibling;var Tc=_e(Se,jt,Is.value,qe);if(Tc===null){jt===null&&(jt=Ns);break}r&&jt&&Tc.alternate===null&&n(Se,jt),je=L(Tc,je,cs),Fs===null?zt=Tc:Fs.sibling=Tc,Fs=Tc,jt=Ns}if(Is.done)return d(Se,jt),vs&&jl(Se,cs),zt;if(jt===null){for(;!Is.done;cs++,Is=Me.next())Is=He(Se,Is.value,qe),Is!==null&&(je=L(Is,je,cs),Fs===null?zt=Is:Fs.sibling=Is,Fs=Is);return vs&&jl(Se,cs),zt}for(jt=m(jt);!Is.done;cs++,Is=Me.next())Is=Re(jt,Se,cs,Is.value,qe),Is!==null&&(r&&Is.alternate!==null&&jt.delete(Is.key===null?cs:Is.key),je=L(Is,je,cs),Fs===null?zt=Is:Fs.sibling=Is,Fs=Is);return r&&jt.forEach(function(g6){return n(Se,g6)}),vs&&jl(Se,cs),zt}function la(Se,je,Me,qe){if(typeof Me=="object"&&Me!==null&&Me.type===C&&Me.key===null&&(Me=Me.props.children),typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case g:e:{for(var zt=Me.key;je!==null;){if(je.key===zt){if(zt=Me.type,zt===C){if(je.tag===7){d(Se,je.sibling),qe=S(je,Me.props.children),qe.return=Se,Se=qe;break e}}else if(je.elementType===zt||typeof zt=="object"&&zt!==null&&zt.$$typeof===W&&Ae(zt)===je.type){d(Se,je.sibling),qe=S(je,Me.props),Xt(qe,Me),qe.return=Se,Se=qe;break e}d(Se,je);break}else n(Se,je);je=je.sibling}Me.type===C?(qe=Vi(Me.props.children,Se.mode,qe,Me.key),qe.return=Se,Se=qe):(qe=uc(Me.type,Me.key,Me.props,null,Se.mode,qe),Xt(qe,Me),qe.return=Se,Se=qe)}return U(Se);case v:e:{for(zt=Me.key;je!==null;){if(je.key===zt)if(je.tag===4&&je.stateNode.containerInfo===Me.containerInfo&&je.stateNode.implementation===Me.implementation){d(Se,je.sibling),qe=S(je,Me.children||[]),qe.return=Se,Se=qe;break e}else{d(Se,je);break}else n(Se,je);je=je.sibling}qe=xc(Me,Se.mode,qe),qe.return=Se,Se=qe}return U(Se);case W:return Me=Ae(Me),la(Se,je,Me,qe)}if(me(Me))return mt(Se,je,Me,qe);if(F(Me)){if(zt=F(Me),typeof zt!="function")throw Error(l(150));return Me=zt.call(Me),$t(Se,je,Me,qe)}if(typeof Me.then=="function")return la(Se,je,ct(Me),qe);if(Me.$$typeof===E)return la(Se,je,x0(Se,Me),qe);xt(Se,Me)}return typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint"?(Me=""+Me,je!==null&&je.tag===6?(d(Se,je.sibling),qe=S(je,Me),qe.return=Se,Se=qe):(d(Se,je),qe=gd(Me,Se.mode,qe),qe.return=Se,Se=qe),U(Se)):d(Se,je)}return function(Se,je,Me,qe){try{pt=0;var zt=la(Se,je,Me,qe);return We=null,zt}catch(jt){if(jt===ye||jt===de)throw jt;var Fs=Ar(29,jt,null,Se.mode);return Fs.lanes=qe,Fs.return=Se,Fs}}}var oa=gs(!0),ts=gs(!1),dt=!1;function at(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fa(r,n){r=r.updateQueue,n.updateQueue===r&&(n.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Ot(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ns(r,n,d){var m=r.updateQueue;if(m===null)return null;if(m=m.shared,($s&2)!==0){var S=m.pending;return S===null?n.next=n:(n.next=S.next,S.next=n),m.pending=n,n=Cr(r),pd(r,null,d),n}return md(r,m,n,d),Cr(r)}function Bs(r,n,d){if(n=n.updateQueue,n!==null&&(n=n.shared,(d&4194048)!==0)){var m=n.lanes;m&=r.pendingLanes,d|=m,n.lanes=d,ul(r,d)}}function Ja(r,n){var d=r.updateQueue,m=r.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var S=null,L=null;if(d=d.firstBaseUpdate,d!==null){do{var U={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};L===null?S=L=U:L=L.next=U,d=d.next}while(d!==null);L===null?S=L=n:L=L.next=n}else S=L=n;d={baseState:m.baseState,firstBaseUpdate:S,lastBaseUpdate:L,shared:m.shared,callbacks:m.callbacks},r.updateQueue=d;return}r=d.lastBaseUpdate,r===null?d.firstBaseUpdate=n:r.next=n,d.lastBaseUpdate=n}var vr=!1;function sa(){if(vr){var r=D;if(r!==null)throw r}}function Ba(r,n,d,m){vr=!1;var S=r.updateQueue;dt=!1;var L=S.firstBaseUpdate,U=S.lastBaseUpdate,se=S.shared.pending;if(se!==null){S.shared.pending=null;var fe=se,ze=fe.next;fe.next=null,U===null?L=ze:U.next=ze,U=fe;var Ie=r.alternate;Ie!==null&&(Ie=Ie.updateQueue,se=Ie.lastBaseUpdate,se!==U&&(se===null?Ie.firstBaseUpdate=ze:se.next=ze,Ie.lastBaseUpdate=fe))}if(L!==null){var He=S.baseState;U=0,Ie=ze=fe=null,se=L;do{var _e=se.lane&-536870913,Re=_e!==se.lane;if(Re?(ws&_e)===_e:(m&_e)===_e){_e!==0&&_e===j&&(vr=!0),Ie!==null&&(Ie=Ie.next={lane:0,tag:se.tag,payload:se.payload,callback:null,next:null});e:{var mt=r,$t=se;_e=n;var la=d;switch($t.tag){case 1:if(mt=$t.payload,typeof mt=="function"){He=mt.call(la,He,_e);break e}He=mt;break e;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=$t.payload,_e=typeof mt=="function"?mt.call(la,He,_e):mt,_e==null)break e;He=f({},He,_e);break e;case 2:dt=!0}}_e=se.callback,_e!==null&&(r.flags|=64,Re&&(r.flags|=8192),Re=S.callbacks,Re===null?S.callbacks=[_e]:Re.push(_e))}else Re={lane:_e,tag:se.tag,payload:se.payload,callback:se.callback,next:null},Ie===null?(ze=Ie=Re,fe=He):Ie=Ie.next=Re,U|=_e;if(se=se.next,se===null){if(se=S.shared.pending,se===null)break;Re=se,se=Re.next,Re.next=null,S.lastBaseUpdate=Re,S.shared.pending=null}}while(!0);Ie===null&&(fe=He),S.baseState=fe,S.firstBaseUpdate=ze,S.lastBaseUpdate=Ie,L===null&&(S.shared.lanes=0),Nc|=U,r.lanes=U,r.memoizedState=He}}function Dr(r,n){if(typeof r!="function")throw Error(l(191,r));r.call(n)}function Ua(r,n){var d=r.callbacks;if(d!==null)for(r.callbacks=null,r=0;r<d.length;r++)Dr(d[r],n)}var us=te(null),Es=te(0);function ga(r,n){r=Bo,Q(Es,r),Q(us,n),Bo=r|n.baseLanes}function Ps(){Q(Es,Bo),Q(us,us.current)}function Qa(){Bo=Es.current,q(us),q(Es)}var ba=te(null),Ms=null;function _a(r){var n=r.alternate;Q(Ds,Ds.current&1),Q(ba,r),Ms===null&&(n===null||us.current!==null||n.memoizedState!==null)&&(Ms=r)}function Us(r){Q(Ds,Ds.current),Q(ba,r),Ms===null&&(Ms=r)}function $a(r){r.tag===22?(Q(Ds,Ds.current),Q(ba,r),Ms===null&&(Ms=r)):qa()}function qa(){Q(Ds,Ds.current),Q(ba,ba.current)}function Ys(r){q(ba),Ms===r&&(Ms=null),q(Ds)}var Ds=te(0);function Lr(r){for(var n=r;n!==null;){if(n.tag===13){var d=n.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||Pp(d)||Rp(d)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break;for(;n.sibling===null;){if(n.return===null||n.return===r)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Na=0,Lt=null,Mt=null,zs=null,Qr=!1,Fl=!1,$r=!1,Ha=0,eo=0,to=null,m0=0;function aa(){throw Error(l(321))}function fu(r,n){if(n===null)return!1;for(var d=0;d<n.length&&d<r.length;d++)if(!mr(r[d],n[d]))return!1;return!0}function gu(r,n,d,m,S,L){return Na=L,Lt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=r===null||r.memoizedState===null?_b:Gm,$r=!1,L=d(m,S),$r=!1,Fl&&(L=ki(n,d,m,S)),p0(r),L}function p0(r){H.H=Su;var n=Mt!==null&&Mt.next!==null;if(Na=0,zs=Mt=Lt=null,Qr=!1,eo=0,to=null,n)throw Error(l(300));r===null||or||(r=r.dependencies,r!==null&&u0(r)&&(or=!0))}function ki(r,n,d,m){Lt=r;var S=0;do{if(Fl&&(to=null),eo=0,Fl=!1,25<=S)throw Error(l(301));if(S+=1,zs=Mt=null,r.updateQueue!=null){var L=r.updateQueue;L.lastEffect=null,L.events=null,L.stores=null,L.memoCache!=null&&(L.memoCache.index=0)}H.H=Pb,L=n(d,m)}while(Fl);return L}function Im(){var r=H.H,n=r.useState()[0];return n=typeof n.then=="function"?so(n):n,r=r.useState()[0],(Mt!==null?Mt.memoizedState:null)!==r&&(Lt.flags|=1024),n}function bu(){var r=Ha!==0;return Ha=0,r}function vu(r,n,d){n.updateQueue=r.updateQueue,n.flags&=-2053,r.lanes&=~d}function f0(r){if(Qr){for(r=r.memoizedState;r!==null;){var n=r.queue;n!==null&&(n.pending=null),r=r.next}Qr=!1}Na=0,zs=Mt=Lt=null,Fl=!1,eo=Ha=0,to=null}function ir(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zs===null?Lt.memoizedState=zs=r:zs=zs.next=r,zs}function ka(){if(Mt===null){var r=Lt.alternate;r=r!==null?r.memoizedState:null}else r=Mt.next;var n=zs===null?Lt.memoizedState:zs.next;if(n!==null)zs=n,Mt=r;else{if(r===null)throw Lt.alternate===null?Error(l(467)):Error(l(310));Mt=r,r={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},zs===null?Lt.memoizedState=zs=r:zs=zs.next=r}return zs}function jd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function so(r){var n=eo;return eo+=1,to===null&&(to=[]),r=Fe(to,r,n),n=Lt,(zs===null?n.memoizedState:zs.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?_b:Gm),r}function gc(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return so(r);if(r.$$typeof===E)return br(r)}throw Error(l(438,String(r)))}function Mo(r){var n=null,d=Lt.updateQueue;if(d!==null&&(n=d.memoCache),n==null){var m=Lt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(n={data:m.data.map(function(S){return S.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),d===null&&(d=jd(),Lt.updateQueue=d),d.memoCache=n,d=n.data[n.index],d===void 0)for(d=n.data[n.index]=Array(r),m=0;m<r;m++)d[m]=z;return n.index++,d}function Hn(r,n){return typeof n=="function"?n(r):n}function g0(r){var n=ka();return bc(n,Mt,r)}function bc(r,n,d){var m=r.queue;if(m===null)throw Error(l(311));m.lastRenderedReducer=d;var S=r.baseQueue,L=m.pending;if(L!==null){if(S!==null){var U=S.next;S.next=L.next,L.next=U}n.baseQueue=S=L,m.pending=null}if(L=r.baseState,S===null)r.memoizedState=L;else{n=S.next;var se=U=null,fe=null,ze=n,Ie=!1;do{var He=ze.lane&-536870913;if(He!==ze.lane?(ws&He)===He:(Na&He)===He){var _e=ze.revertLane;if(_e===0)fe!==null&&(fe=fe.next={lane:0,revertLane:0,gesture:null,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null}),He===j&&(Ie=!0);else if((Na&_e)===_e){ze=ze.next,_e===j&&(Ie=!0);continue}else He={lane:0,revertLane:ze.revertLane,gesture:null,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null},fe===null?(se=fe=He,U=L):fe=fe.next=He,Lt.lanes|=_e,Nc|=_e;He=ze.action,$r&&d(L,He),L=ze.hasEagerState?ze.eagerState:d(L,He)}else _e={lane:He,revertLane:ze.revertLane,gesture:ze.gesture,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null},fe===null?(se=fe=_e,U=L):fe=fe.next=_e,Lt.lanes|=He,Nc|=He;ze=ze.next}while(ze!==null&&ze!==n);if(fe===null?U=L:fe.next=se,!mr(L,r.memoizedState)&&(or=!0,Ie&&(d=D,d!==null)))throw d;r.memoizedState=L,r.baseState=U,r.baseQueue=fe,m.lastRenderedState=L}return S===null&&(m.lanes=0),[r.memoizedState,m.dispatch]}function b0(r){var n=ka(),d=n.queue;if(d===null)throw Error(l(311));d.lastRenderedReducer=r;var m=d.dispatch,S=d.pending,L=n.memoizedState;if(S!==null){d.pending=null;var U=S=S.next;do L=r(L,U.action),U=U.next;while(U!==S);mr(L,n.memoizedState)||(or=!0),n.memoizedState=L,n.baseQueue===null&&(n.baseState=L),d.lastRenderedState=L}return[L,m]}function v0(r,n,d){var m=Lt,S=ka(),L=vs;if(L){if(d===void 0)throw Error(l(407));d=d()}else d=n();var U=!mr((Mt||S).memoizedState,d);if(U&&(S.memoizedState=d,or=!0),S=S.queue,Bm(ju.bind(null,m,S,r),[r]),S.getSnapshot!==n||U||zs!==null&&zs.memoizedState.tag&1){if(m.flags|=2048,To(9,{destroy:void 0},yu.bind(null,m,S,d,n),null),ca===null)throw Error(l(349));L||(Na&127)!==0||Si(m,n,d)}return d}function Si(r,n,d){r.flags|=16384,r={getSnapshot:n,value:d},n=Lt.updateQueue,n===null?(n=jd(),Lt.updateQueue=n,n.stores=[r]):(d=n.stores,d===null?n.stores=[r]:d.push(r))}function yu(r,n,d,m){n.value=d,n.getSnapshot=m,Ex(n)&&wu(r)}function ju(r,n,d){return d(function(){Ex(n)&&wu(r)})}function Ex(r){var n=r.getSnapshot;r=r.value;try{var d=n();return!mr(r,d)}catch{return!0}}function wu(r){var n=wi(r,2);n!==null&&ql(n,r,2)}function ao(r){var n=ir();if(typeof r=="function"){var d=r;if(r=d(),$r){Wt(!0);try{d()}finally{Wt(!1)}}}return n.memoizedState=n.baseState=r,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hn,lastRenderedState:r},n}function Mx(r,n,d,m){return r.baseState=d,bc(r,Mt,typeof m=="function"?m:Hn)}function zx(r,n,d,m,S){if(Rx(r))throw Error(l(485));if(r=n.action,r!==null){var L={payload:S,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(U){L.listeners.push(U)}};H.T!==null?d(!0):L.isTransition=!1,m(L),d=n.pending,d===null?(L.next=n.pending=L,Tx(n,L)):(L.next=d.next,n.pending=d.next=L)}}function Tx(r,n){var d=n.action,m=n.payload,S=r.state;if(n.isTransition){var L=H.T,U={};H.T=U;try{var se=d(S,m),fe=H.S;fe!==null&&fe(U,se),Nu(r,n,se)}catch(ze){zo(r,n,ze)}finally{L!==null&&U.types!==null&&(L.types=U.types),H.T=L}}else try{L=d(S,m),Nu(r,n,L)}catch(ze){zo(r,n,ze)}}function Nu(r,n,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(m){_x(r,n,m)},function(m){return zo(r,n,m)}):_x(r,n,d)}function _x(r,n,d){n.status="fulfilled",n.value=d,y0(n),r.state=d,n=r.pending,n!==null&&(d=n.next,d===n?r.pending=null:(d=d.next,n.next=d,Tx(r,d)))}function zo(r,n,d){var m=r.pending;if(r.pending=null,m!==null){m=m.next;do n.status="rejected",n.reason=d,y0(n),n=n.next;while(n!==m)}r.action=null}function y0(r){r=r.listeners;for(var n=0;n<r.length;n++)(0,r[n])()}function wd(r,n){return n}function Wn(r,n){if(vs){var d=ca.formState;if(d!==null){e:{var m=Lt;if(vs){if(ia){t:{for(var S=ia,L=wa;S.nodeType!==8;){if(!L){S=null;break t}if(S=Gn(S.nextSibling),S===null){S=null;break t}}L=S.data,S=L==="F!"||L==="F"?S:null}if(S){ia=Gn(S.nextSibling),m=S.data==="F!";break e}}Xi(m)}m=!1}m&&(n=d[0])}}return d=ir(),d.memoizedState=d.baseState=n,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wd,lastRenderedState:n},d.queue=m,d=Mb.bind(null,Lt,m),m.dispatch=d,m=ao(!1),L=Wm.bind(null,Lt,!1,m.queue),m=ir(),S={state:n,dispatch:null,action:r,pending:null},m.queue=S,d=zx.bind(null,Lt,S,L,d),S.dispatch=d,m.memoizedState=r,[n,d,!1]}function Ci(r){var n=ka();return Ai(n,Mt,r)}function Ai(r,n,d){if(n=bc(r,n,wd)[0],r=g0(Hn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var m=so(n)}catch(U){throw U===ye?de:U}else m=n;n=ka();var S=n.queue,L=S.dispatch;return d!==n.memoizedState&&(Lt.flags|=2048,To(9,{destroy:void 0},j0.bind(null,S,d),null)),[m,L,r]}function j0(r,n){r.action=n}function w0(r){var n=ka(),d=Mt;if(d!==null)return Ai(n,d,r);ka(),n=n.memoizedState,d=ka();var m=d.queue.dispatch;return d.memoizedState=r,[n,m,!1]}function To(r,n,d,m){return r={tag:r,create:d,deps:m,inst:n,next:null},n=Lt.updateQueue,n===null&&(n=jd(),Lt.updateQueue=n),d=n.lastEffect,d===null?n.lastEffect=r.next=r:(m=d.next,d.next=r,r.next=m,n.lastEffect=r),r}function Px(){return ka().memoizedState}function vc(r,n,d,m){var S=ir();Lt.flags|=r,S.memoizedState=To(1|n,{destroy:void 0},d,m===void 0?null:m)}function yc(r,n,d,m){var S=ka();m=m===void 0?null:m;var L=S.memoizedState.inst;Mt!==null&&m!==null&&fu(m,Mt.memoizedState.deps)?S.memoizedState=To(n,L,d,m):(Lt.flags|=r,S.memoizedState=To(1|n,L,d,m))}function gb(r,n){vc(8390656,8,r,n)}function Bm(r,n){yc(2048,8,r,n)}function u4(r){Lt.flags|=4;var n=Lt.updateQueue;if(n===null)n=jd(),Lt.updateQueue=n,n.events=[r];else{var d=n.events;d===null?n.events=[r]:d.push(r)}}function bb(r){var n=ka().memoizedState;return u4({ref:n,nextImpl:r}),function(){if(($s&2)!==0)throw Error(l(440));return n.impl.apply(void 0,arguments)}}function vb(r,n){return yc(4,2,r,n)}function yb(r,n){return yc(4,4,r,n)}function jb(r,n){if(typeof n=="function"){r=r();var d=n(r);return function(){typeof d=="function"?d():n(null)}}if(n!=null)return r=r(),n.current=r,function(){n.current=null}}function wb(r,n,d){d=d!=null?d.concat([r]):null,yc(4,4,jb.bind(null,n,r),d)}function Um(){}function Nb(r,n){var d=ka();n=n===void 0?null:n;var m=d.memoizedState;return n!==null&&fu(n,m[1])?m[0]:(d.memoizedState=[r,n],r)}function kb(r,n){var d=ka();n=n===void 0?null:n;var m=d.memoizedState;if(n!==null&&fu(n,m[1]))return m[0];if(m=r(),$r){Wt(!0);try{r()}finally{Wt(!1)}}return d.memoizedState=[m,n],m}function $m(r,n,d){return d===void 0||(Na&1073741824)!==0&&(ws&261930)===0?r.memoizedState=n:(r.memoizedState=d,r=Sv(),Lt.lanes|=r,Nc|=r,d)}function Sb(r,n,d,m){return mr(d,n)?d:us.current!==null?(r=$m(r,d,m),mr(r,n)||(or=!0),r):(Na&42)===0||(Na&1073741824)!==0&&(ws&261930)===0?(or=!0,r.memoizedState=d):(r=Sv(),Lt.lanes|=r,Nc|=r,n)}function Cb(r,n,d,m,S){var L=V.p;V.p=L!==0&&8>L?L:8;var U=H.T,se={};H.T=se,Wm(r,!1,n,d);try{var fe=S(),ze=H.S;if(ze!==null&&ze(se,fe),fe!==null&&typeof fe=="object"&&typeof fe.then=="function"){var Ie=J(fe,m);ku(r,n,Ie,fn(r))}else ku(r,n,m,fn(r))}catch(He){ku(r,n,{then:function(){},status:"rejected",reason:He},fn())}finally{V.p=L,U!==null&&se.types!==null&&(U.types=se.types),H.T=U}}function x4(){}function qm(r,n,d,m){if(r.tag!==5)throw Error(l(476));var S=Ab(r).queue;Cb(r,S,n,$,d===null?x4:function(){return Db(r),d(m)})}function Ab(r){var n=r.memoizedState;if(n!==null)return n;n={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hn,lastRenderedState:$},next:null};var d={};return n.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hn,lastRenderedState:d},next:null},r.memoizedState=n,r=r.alternate,r!==null&&(r.memoizedState=n),n}function Db(r){var n=Ab(r);n.next===null&&(n=r.alternate.memoizedState),ku(r,n.next.queue,{},fn())}function Hm(){return br(Uu)}function Lb(){return ka().memoizedState}function Eb(){return ka().memoizedState}function h4(r){for(var n=r.return;n!==null;){switch(n.tag){case 24:case 3:var d=fn();r=Ot(d);var m=ns(n,r,d);m!==null&&(ql(m,n,d),Bs(m,n,d)),n={cache:fc()},r.payload=n;return}n=n.return}}function m4(r,n,d){var m=fn();d={lane:m,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Rx(r)?zb(n,d):(d=a0(r,n,d,m),d!==null&&(ql(d,r,m),Tb(d,n,m)))}function Mb(r,n,d){var m=fn();ku(r,n,d,m)}function ku(r,n,d,m){var S={lane:m,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(Rx(r))zb(n,S);else{var L=r.alternate;if(r.lanes===0&&(L===null||L.lanes===0)&&(L=n.lastRenderedReducer,L!==null))try{var U=n.lastRenderedState,se=L(U,d);if(S.hasEagerState=!0,S.eagerState=se,mr(se,U))return md(r,n,S,0),ca===null&&hd(),!1}catch{}if(d=a0(r,n,S,m),d!==null)return ql(d,r,m),Tb(d,n,m),!0}return!1}function Wm(r,n,d,m){if(m={lane:2,revertLane:Np(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Rx(r)){if(n)throw Error(l(479))}else n=a0(r,d,m,2),n!==null&&ql(n,r,2)}function Rx(r){var n=r.alternate;return r===Lt||n!==null&&n===Lt}function zb(r,n){Fl=Qr=!0;var d=r.pending;d===null?n.next=n:(n.next=d.next,d.next=n),r.pending=n}function Tb(r,n,d){if((d&4194048)!==0){var m=n.lanes;m&=r.pendingLanes,d|=m,n.lanes=d,ul(r,d)}}var Su={readContext:br,use:gc,useCallback:aa,useContext:aa,useEffect:aa,useImperativeHandle:aa,useLayoutEffect:aa,useInsertionEffect:aa,useMemo:aa,useReducer:aa,useRef:aa,useState:aa,useDebugValue:aa,useDeferredValue:aa,useTransition:aa,useSyncExternalStore:aa,useId:aa,useHostTransitionStatus:aa,useFormState:aa,useActionState:aa,useOptimistic:aa,useMemoCache:aa,useCacheRefresh:aa};Su.useEffectEvent=aa;var _b={readContext:br,use:gc,useCallback:function(r,n){return ir().memoizedState=[r,n===void 0?null:n],r},useContext:br,useEffect:gb,useImperativeHandle:function(r,n,d){d=d!=null?d.concat([r]):null,vc(4194308,4,jb.bind(null,n,r),d)},useLayoutEffect:function(r,n){return vc(4194308,4,r,n)},useInsertionEffect:function(r,n){vc(4,2,r,n)},useMemo:function(r,n){var d=ir();n=n===void 0?null:n;var m=r();if($r){Wt(!0);try{r()}finally{Wt(!1)}}return d.memoizedState=[m,n],m},useReducer:function(r,n,d){var m=ir();if(d!==void 0){var S=d(n);if($r){Wt(!0);try{d(n)}finally{Wt(!1)}}}else S=n;return m.memoizedState=m.baseState=S,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:S},m.queue=r,r=r.dispatch=m4.bind(null,Lt,r),[m.memoizedState,r]},useRef:function(r){var n=ir();return r={current:r},n.memoizedState=r},useState:function(r){r=ao(r);var n=r.queue,d=Mb.bind(null,Lt,n);return n.dispatch=d,[r.memoizedState,d]},useDebugValue:Um,useDeferredValue:function(r,n){var d=ir();return $m(d,r,n)},useTransition:function(){var r=ao(!1);return r=Cb.bind(null,Lt,r.queue,!0,!1),ir().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,n,d){var m=Lt,S=ir();if(vs){if(d===void 0)throw Error(l(407));d=d()}else{if(d=n(),ca===null)throw Error(l(349));(ws&127)!==0||Si(m,n,d)}S.memoizedState=d;var L={value:d,getSnapshot:n};return S.queue=L,gb(ju.bind(null,m,L,r),[r]),m.flags|=2048,To(9,{destroy:void 0},yu.bind(null,m,L,d,n),null),d},useId:function(){var r=ir(),n=ca.identifierPrefix;if(vs){var d=Rl,m=Pl;d=(m&~(1<<32-fs(m)-1)).toString(32)+d,n="_"+n+"R_"+d,d=Ha++,0<d&&(n+="H"+d.toString(32)),n+="_"}else d=m0++,n="_"+n+"r_"+d.toString(32)+"_";return r.memoizedState=n},useHostTransitionStatus:Hm,useFormState:Wn,useActionState:Wn,useOptimistic:function(r){var n=ir();n.memoizedState=n.baseState=r;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=d,n=Wm.bind(null,Lt,!0,d),d.dispatch=n,[r,n]},useMemoCache:Mo,useCacheRefresh:function(){return ir().memoizedState=h4.bind(null,Lt)},useEffectEvent:function(r){var n=ir(),d={impl:r};return n.memoizedState=d,function(){if(($s&2)!==0)throw Error(l(440));return d.impl.apply(void 0,arguments)}}},Gm={readContext:br,use:gc,useCallback:Nb,useContext:br,useEffect:Bm,useImperativeHandle:wb,useInsertionEffect:vb,useLayoutEffect:yb,useMemo:kb,useReducer:g0,useRef:Px,useState:function(){return g0(Hn)},useDebugValue:Um,useDeferredValue:function(r,n){var d=ka();return Sb(d,Mt.memoizedState,r,n)},useTransition:function(){var r=g0(Hn)[0],n=ka().memoizedState;return[typeof r=="boolean"?r:so(r),n]},useSyncExternalStore:v0,useId:Lb,useHostTransitionStatus:Hm,useFormState:Ci,useActionState:Ci,useOptimistic:function(r,n){var d=ka();return Mx(d,Mt,r,n)},useMemoCache:Mo,useCacheRefresh:Eb};Gm.useEffectEvent=bb;var Pb={readContext:br,use:gc,useCallback:Nb,useContext:br,useEffect:Bm,useImperativeHandle:wb,useInsertionEffect:vb,useLayoutEffect:yb,useMemo:kb,useReducer:b0,useRef:Px,useState:function(){return b0(Hn)},useDebugValue:Um,useDeferredValue:function(r,n){var d=ka();return Mt===null?$m(d,r,n):Sb(d,Mt.memoizedState,r,n)},useTransition:function(){var r=b0(Hn)[0],n=ka().memoizedState;return[typeof r=="boolean"?r:so(r),n]},useSyncExternalStore:v0,useId:Lb,useHostTransitionStatus:Hm,useFormState:w0,useActionState:w0,useOptimistic:function(r,n){var d=ka();return Mt!==null?Mx(d,Mt,r,n):(d.baseState=r,[r,d.queue.dispatch])},useMemoCache:Mo,useCacheRefresh:Eb};Pb.useEffectEvent=bb;function Vm(r,n,d,m){n=r.memoizedState,d=d(m,n),d=d==null?n:f({},n,d),r.memoizedState=d,r.lanes===0&&(r.updateQueue.baseState=d)}var Ym={enqueueSetState:function(r,n,d){r=r._reactInternals;var m=fn(),S=Ot(m);S.payload=n,d!=null&&(S.callback=d),n=ns(r,S,m),n!==null&&(ql(n,r,m),Bs(n,r,m))},enqueueReplaceState:function(r,n,d){r=r._reactInternals;var m=fn(),S=Ot(m);S.tag=1,S.payload=n,d!=null&&(S.callback=d),n=ns(r,S,m),n!==null&&(ql(n,r,m),Bs(n,r,m))},enqueueForceUpdate:function(r,n){r=r._reactInternals;var d=fn(),m=Ot(d);m.tag=2,n!=null&&(m.callback=n),n=ns(r,m,d),n!==null&&(ql(n,r,d),Bs(n,r,d))}};function Rb(r,n,d,m,S,L,U){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(m,L,U):n.prototype&&n.prototype.isPureReactComponent?!bi(d,m)||!bi(S,L):!0}function Ob(r,n,d,m){r=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(d,m),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(d,m),n.state!==r&&Ym.enqueueReplaceState(n,n.state,null)}function Nd(r,n){var d=n;if("ref"in n){d={};for(var m in n)m!=="ref"&&(d[m]=n[m])}if(r=r.defaultProps){d===n&&(d=f({},d));for(var S in r)d[S]===void 0&&(d[S]=r[S])}return d}function Fb(r){xd(r)}function Ib(r){console.error(r)}function Bb(r){xd(r)}function Ox(r,n){try{var d=r.onUncaughtError;d(n.value,{componentStack:n.stack})}catch(m){setTimeout(function(){throw m})}}function Ub(r,n,d){try{var m=r.onCaughtError;m(d.value,{componentStack:d.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function Xm(r,n,d){return d=Ot(d),d.tag=3,d.payload={element:null},d.callback=function(){Ox(r,n)},d}function $b(r){return r=Ot(r),r.tag=3,r}function qb(r,n,d,m){var S=d.type.getDerivedStateFromError;if(typeof S=="function"){var L=m.value;r.payload=function(){return S(L)},r.callback=function(){Ub(n,d,m)}}var U=d.stateNode;U!==null&&typeof U.componentDidCatch=="function"&&(r.callback=function(){Ub(n,d,m),typeof S!="function"&&(kc===null?kc=new Set([this]):kc.add(this));var se=m.stack;this.componentDidCatch(m.value,{componentStack:se!==null?se:""})})}function p4(r,n,d,m,S){if(d.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(n=d.alternate,n!==null&&Qi(n,d,S,!0),d=ba.current,d!==null){switch(d.tag){case 31:case 13:return Ms===null?Xx():d.alternate===null&&Wa===0&&(Wa=3),d.flags&=-257,d.flags|=65536,d.lanes=S,m===Ne?d.flags|=16384:(n=d.updateQueue,n===null?d.updateQueue=new Set([m]):n.add(m),yp(r,m,S)),!1;case 22:return d.flags|=65536,m===Ne?d.flags|=16384:(n=d.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([m])},d.updateQueue=n):(d=n.retryQueue,d===null?n.retryQueue=new Set([m]):d.add(m)),yp(r,m,S)),!1}throw Error(l(435,d.tag))}return yp(r,m,S),Xx(),!1}if(vs)return n=ba.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=S,m!==hn&&(r=Error(l(422),{cause:m}),mc(zl(r,d)))):(m!==hn&&(n=Error(l(423),{cause:m}),mc(zl(n,d))),r=r.current.alternate,r.flags|=65536,S&=-S,r.lanes|=S,m=zl(m,d),S=Xm(r.stateNode,m,S),Ja(r,S),Wa!==4&&(Wa=2)),!1;var L=Error(l(520),{cause:m});if(L=zl(L,d),Tu===null?Tu=[L]:Tu.push(L),Wa!==4&&(Wa=2),n===null)return!0;m=zl(m,d),d=n;do{switch(d.tag){case 3:return d.flags|=65536,r=S&-S,d.lanes|=r,r=Xm(d.stateNode,m,r),Ja(d,r),!1;case 1:if(n=d.type,L=d.stateNode,(d.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(kc===null||!kc.has(L))))return d.flags|=65536,S&=-S,d.lanes|=S,S=$b(S),qb(S,r,d,m),Ja(d,S),!1}d=d.return}while(d!==null);return!1}var Km=Error(l(461)),or=!1;function qr(r,n,d,m){n.child=r===null?ts(n,null,d,m):oa(n,r.child,d,m)}function Hb(r,n,d,m,S){d=d.render;var L=n.ref;if("ref"in m){var U={};for(var se in m)se!=="ref"&&(U[se]=m[se])}else U=m;return Zi(n),m=gu(r,n,d,U,L,S),se=bu(),r!==null&&!or?(vu(r,n,S),_o(r,n,S)):(vs&&se&&hu(n),n.flags|=1,qr(r,n,m,S),n.child)}function Wb(r,n,d,m,S){if(r===null){var L=d.type;return typeof L=="function"&&!l0(L)&&L.defaultProps===void 0&&d.compare===null?(n.tag=15,n.type=L,Gb(r,n,L,m,S)):(r=uc(d.type,null,m,n,n.mode,S),r.ref=n.ref,r.return=n,n.child=r)}if(L=r.child,!rp(r,S)){var U=L.memoizedProps;if(d=d.compare,d=d!==null?d:bi,d(U,m)&&r.ref===n.ref)return _o(r,n,S)}return n.flags|=1,r=Ml(L,m),r.ref=n.ref,r.return=n,n.child=r}function Gb(r,n,d,m,S){if(r!==null){var L=r.memoizedProps;if(bi(L,m)&&r.ref===n.ref)if(or=!1,n.pendingProps=m=L,rp(r,S))(r.flags&131072)!==0&&(or=!0);else return n.lanes=r.lanes,_o(r,n,S)}return Jm(r,n,d,m,S)}function Vb(r,n,d,m){var S=m.children,L=r!==null?r.memoizedState:null;if(r===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((n.flags&128)!==0){if(L=L!==null?L.baseLanes|d:d,r!==null){for(m=n.child=r.child,S=0;m!==null;)S=S|m.lanes|m.childLanes,m=m.sibling;m=S&~L}else m=0,n.child=null;return Yb(r,n,L,d,m)}if((d&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},r!==null&&ie(n,L!==null?L.cachePool:null),L!==null?ga(n,L):Ps(),$a(n);else return m=n.lanes=536870912,Yb(r,n,L!==null?L.baseLanes|d:d,d,m)}else L!==null?(ie(n,L.cachePool),ga(n,L),qa(),n.memoizedState=null):(r!==null&&ie(n,null),Ps(),qa());return qr(r,n,S,d),n.child}function Cu(r,n){return r!==null&&r.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Yb(r,n,d,m,S){var L=ne();return L=L===null?null:{parent:Ta._currentValue,pool:L},n.memoizedState={baseLanes:d,cachePool:L},r!==null&&ie(n,null),Ps(),$a(n),r!==null&&Qi(r,n,m,!0),n.childLanes=S,null}function Fx(r,n){return n=Bx({mode:n.mode,children:n.children},r.mode),n.ref=r.ref,r.child=n,n.return=r,n}function Xb(r,n,d){return oa(n,r.child,null,d),r=Fx(n,n.pendingProps),r.flags|=2,Ys(n),n.memoizedState=null,r}function f4(r,n,d){var m=n.pendingProps,S=(n.flags&128)!==0;if(n.flags&=-129,r===null){if(vs){if(m.mode==="hidden")return r=Fx(n,m),n.lanes=536870912,Cu(null,r);if(Us(n),(r=ia)?(r=i1(r,wa),r=r!==null&&r.data==="&"?r:null,r!==null&&(n.memoizedState={dehydrated:r,treeContext:Yi!==null?{id:Pl,overflow:Rl}:null,retryLane:536870912,hydrationErrors:null},d=n0(r),d.return=n,n.child=d,fr=n,ia=null)):r=null,r===null)throw Xi(n);return n.lanes=536870912,null}return Fx(n,m)}var L=r.memoizedState;if(L!==null){var U=L.dehydrated;if(Us(n),S)if(n.flags&256)n.flags&=-257,n=Xb(r,n,d);else if(n.memoizedState!==null)n.child=r.child,n.flags|=128,n=null;else throw Error(l(558));else if(or||Qi(r,n,d,!1),S=(d&r.childLanes)!==0,or||S){if(m=ca,m!==null&&(U=xl(m,d),U!==0&&U!==L.retryLane))throw L.retryLane=U,wi(r,U),ql(m,r,U),Km;Xx(),n=Xb(r,n,d)}else r=L.treeContext,ia=Gn(U.nextSibling),fr=n,vs=!0,Ur=null,wa=!1,r!==null&&Dx(n,r),n=Fx(n,m),n.flags|=4096;return n}return r=Ml(r.child,{mode:m.mode,children:m.children}),r.ref=n.ref,n.child=r,r.return=n,r}function Ix(r,n){var d=n.ref;if(d===null)r!==null&&r.ref!==null&&(n.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(l(284));(r===null||r.ref!==d)&&(n.flags|=4194816)}}function Jm(r,n,d,m,S){return Zi(n),d=gu(r,n,d,m,void 0,S),m=bu(),r!==null&&!or?(vu(r,n,S),_o(r,n,S)):(vs&&m&&hu(n),n.flags|=1,qr(r,n,d,S),n.child)}function Kb(r,n,d,m,S,L){return Zi(n),n.updateQueue=null,d=ki(n,m,d,S),p0(r),m=bu(),r!==null&&!or?(vu(r,n,L),_o(r,n,L)):(vs&&m&&hu(n),n.flags|=1,qr(r,n,d,L),n.child)}function Jb(r,n,d,m,S){if(Zi(n),n.stateNode===null){var L=pr,U=d.contextType;typeof U=="object"&&U!==null&&(L=br(U)),L=new d(m,L),n.memoizedState=L.state!==null&&L.state!==void 0?L.state:null,L.updater=Ym,n.stateNode=L,L._reactInternals=n,L=n.stateNode,L.props=m,L.state=n.memoizedState,L.refs={},at(n),U=d.contextType,L.context=typeof U=="object"&&U!==null?br(U):pr,L.state=n.memoizedState,U=d.getDerivedStateFromProps,typeof U=="function"&&(Vm(n,d,U,m),L.state=n.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof L.getSnapshotBeforeUpdate=="function"||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(U=L.state,typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount(),U!==L.state&&Ym.enqueueReplaceState(L,L.state,null),Ba(n,m,L,S),sa(),L.state=n.memoizedState),typeof L.componentDidMount=="function"&&(n.flags|=4194308),m=!0}else if(r===null){L=n.stateNode;var se=n.memoizedProps,fe=Nd(d,se);L.props=fe;var ze=L.context,Ie=d.contextType;U=pr,typeof Ie=="object"&&Ie!==null&&(U=br(Ie));var He=d.getDerivedStateFromProps;Ie=typeof He=="function"||typeof L.getSnapshotBeforeUpdate=="function",se=n.pendingProps!==se,Ie||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(se||ze!==U)&&Ob(n,L,m,U),dt=!1;var _e=n.memoizedState;L.state=_e,Ba(n,m,L,S),sa(),ze=n.memoizedState,se||_e!==ze||dt?(typeof He=="function"&&(Vm(n,d,He,m),ze=n.memoizedState),(fe=dt||Rb(n,d,fe,m,_e,ze,U))?(Ie||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount()),typeof L.componentDidMount=="function"&&(n.flags|=4194308)):(typeof L.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=m,n.memoizedState=ze),L.props=m,L.state=ze,L.context=U,m=fe):(typeof L.componentDidMount=="function"&&(n.flags|=4194308),m=!1)}else{L=n.stateNode,fa(r,n),U=n.memoizedProps,Ie=Nd(d,U),L.props=Ie,He=n.pendingProps,_e=L.context,ze=d.contextType,fe=pr,typeof ze=="object"&&ze!==null&&(fe=br(ze)),se=d.getDerivedStateFromProps,(ze=typeof se=="function"||typeof L.getSnapshotBeforeUpdate=="function")||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(U!==He||_e!==fe)&&Ob(n,L,m,fe),dt=!1,_e=n.memoizedState,L.state=_e,Ba(n,m,L,S),sa();var Re=n.memoizedState;U!==He||_e!==Re||dt||r!==null&&r.dependencies!==null&&u0(r.dependencies)?(typeof se=="function"&&(Vm(n,d,se,m),Re=n.memoizedState),(Ie=dt||Rb(n,d,Ie,m,_e,Re,fe)||r!==null&&r.dependencies!==null&&u0(r.dependencies))?(ze||typeof L.UNSAFE_componentWillUpdate!="function"&&typeof L.componentWillUpdate!="function"||(typeof L.componentWillUpdate=="function"&&L.componentWillUpdate(m,Re,fe),typeof L.UNSAFE_componentWillUpdate=="function"&&L.UNSAFE_componentWillUpdate(m,Re,fe)),typeof L.componentDidUpdate=="function"&&(n.flags|=4),typeof L.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof L.componentDidUpdate!="function"||U===r.memoizedProps&&_e===r.memoizedState||(n.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||U===r.memoizedProps&&_e===r.memoizedState||(n.flags|=1024),n.memoizedProps=m,n.memoizedState=Re),L.props=m,L.state=Re,L.context=fe,m=Ie):(typeof L.componentDidUpdate!="function"||U===r.memoizedProps&&_e===r.memoizedState||(n.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||U===r.memoizedProps&&_e===r.memoizedState||(n.flags|=1024),m=!1)}return L=m,Ix(r,n),m=(n.flags&128)!==0,L||m?(L=n.stateNode,d=m&&typeof d.getDerivedStateFromError!="function"?null:L.render(),n.flags|=1,r!==null&&m?(n.child=oa(n,r.child,null,S),n.child=oa(n,null,d,S)):qr(r,n,d,S),n.memoizedState=L.state,r=n.child):r=_o(r,n,S),r}function Qb(r,n,d,m){return Lo(),n.flags|=256,qr(r,n,d,m),n.child}var Qm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zm(r){return{baseLanes:r,cachePool:ue()}}function ep(r,n,d){return r=r!==null?r.childLanes&~d:0,n&&(r|=pn),r}function Zb(r,n,d){var m=n.pendingProps,S=!1,L=(n.flags&128)!==0,U;if((U=L)||(U=r!==null&&r.memoizedState===null?!1:(Ds.current&2)!==0),U&&(S=!0,n.flags&=-129),U=(n.flags&32)!==0,n.flags&=-33,r===null){if(vs){if(S?_a(n):qa(),(r=ia)?(r=i1(r,wa),r=r!==null&&r.data!=="&"?r:null,r!==null&&(n.memoizedState={dehydrated:r,treeContext:Yi!==null?{id:Pl,overflow:Rl}:null,retryLane:536870912,hydrationErrors:null},d=n0(r),d.return=n,n.child=d,fr=n,ia=null)):r=null,r===null)throw Xi(n);return Rp(r)?n.lanes=32:n.lanes=536870912,null}var se=m.children;return m=m.fallback,S?(qa(),S=n.mode,se=Bx({mode:"hidden",children:se},S),m=Vi(m,S,d,null),se.return=n,m.return=n,se.sibling=m,n.child=se,m=n.child,m.memoizedState=Zm(d),m.childLanes=ep(r,U,d),n.memoizedState=Qm,Cu(null,m)):(_a(n),tp(n,se))}var fe=r.memoizedState;if(fe!==null&&(se=fe.dehydrated,se!==null)){if(L)n.flags&256?(_a(n),n.flags&=-257,n=sp(r,n,d)):n.memoizedState!==null?(qa(),n.child=r.child,n.flags|=128,n=null):(qa(),se=m.fallback,S=n.mode,m=Bx({mode:"visible",children:m.children},S),se=Vi(se,S,d,null),se.flags|=2,m.return=n,se.return=n,m.sibling=se,n.child=m,oa(n,r.child,null,d),m=n.child,m.memoizedState=Zm(d),m.childLanes=ep(r,U,d),n.memoizedState=Qm,n=Cu(null,m));else if(_a(n),Rp(se)){if(U=se.nextSibling&&se.nextSibling.dataset,U)var ze=U.dgst;U=ze,m=Error(l(419)),m.stack="",m.digest=U,mc({value:m,source:null,stack:null}),n=sp(r,n,d)}else if(or||Qi(r,n,d,!1),U=(d&r.childLanes)!==0,or||U){if(U=ca,U!==null&&(m=xl(U,d),m!==0&&m!==fe.retryLane))throw fe.retryLane=m,wi(r,m),ql(U,r,m),Km;Pp(se)||Xx(),n=sp(r,n,d)}else Pp(se)?(n.flags|=192,n.child=r.child,n=null):(r=fe.treeContext,ia=Gn(se.nextSibling),fr=n,vs=!0,Ur=null,wa=!1,r!==null&&Dx(n,r),n=tp(n,m.children),n.flags|=4096);return n}return S?(qa(),se=m.fallback,S=n.mode,fe=r.child,ze=fe.sibling,m=Ml(fe,{mode:"hidden",children:m.children}),m.subtreeFlags=fe.subtreeFlags&65011712,ze!==null?se=Ml(ze,se):(se=Vi(se,S,d,null),se.flags|=2),se.return=n,m.return=n,m.sibling=se,n.child=m,Cu(null,m),m=n.child,se=r.child.memoizedState,se===null?se=Zm(d):(S=se.cachePool,S!==null?(fe=Ta._currentValue,S=S.parent!==fe?{parent:fe,pool:fe}:S):S=ue(),se={baseLanes:se.baseLanes|d,cachePool:S}),m.memoizedState=se,m.childLanes=ep(r,U,d),n.memoizedState=Qm,Cu(r.child,m)):(_a(n),d=r.child,r=d.sibling,d=Ml(d,{mode:"visible",children:m.children}),d.return=n,d.sibling=null,r!==null&&(U=n.deletions,U===null?(n.deletions=[r],n.flags|=16):U.push(r)),n.child=d,n.memoizedState=null,d)}function tp(r,n){return n=Bx({mode:"visible",children:n},r.mode),n.return=r,r.child=n}function Bx(r,n){return r=Ar(22,r,null,n),r.lanes=0,r}function sp(r,n,d){return oa(n,r.child,null,d),r=tp(n,n.pendingProps.children),r.flags|=2,n.memoizedState=null,r}function ev(r,n,d){r.lanes|=n;var m=r.alternate;m!==null&&(m.lanes|=n),pc(r.return,n,d)}function ap(r,n,d,m,S,L){var U=r.memoizedState;U===null?r.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:S,treeForkCount:L}:(U.isBackwards=n,U.rendering=null,U.renderingStartTime=0,U.last=m,U.tail=d,U.tailMode=S,U.treeForkCount=L)}function tv(r,n,d){var m=n.pendingProps,S=m.revealOrder,L=m.tail;m=m.children;var U=Ds.current,se=(U&2)!==0;if(se?(U=U&1|2,n.flags|=128):U&=1,Q(Ds,U),qr(r,n,m,d),m=vs?bd:0,!se&&r!==null&&(r.flags&128)!==0)e:for(r=n.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&ev(r,d,n);else if(r.tag===19)ev(r,d,n);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(S){case"forwards":for(d=n.child,S=null;d!==null;)r=d.alternate,r!==null&&Lr(r)===null&&(S=d),d=d.sibling;d=S,d===null?(S=n.child,n.child=null):(S=d.sibling,d.sibling=null),ap(n,!1,S,d,L,m);break;case"backwards":case"unstable_legacy-backwards":for(d=null,S=n.child,n.child=null;S!==null;){if(r=S.alternate,r!==null&&Lr(r)===null){n.child=S;break}r=S.sibling,S.sibling=d,d=S,S=r}ap(n,!0,d,null,L,m);break;case"together":ap(n,!1,null,null,void 0,m);break;default:n.memoizedState=null}return n.child}function _o(r,n,d){if(r!==null&&(n.dependencies=r.dependencies),Nc|=n.lanes,(d&n.childLanes)===0)if(r!==null){if(Qi(r,n,d,!1),(d&n.childLanes)===0)return null}else return null;if(r!==null&&n.child!==r.child)throw Error(l(153));if(n.child!==null){for(r=n.child,d=Ml(r,r.pendingProps),n.child=d,d.return=n;r.sibling!==null;)r=r.sibling,d=d.sibling=Ml(r,r.pendingProps),d.return=n;d.sibling=null}return n.child}function rp(r,n){return(r.lanes&n)!==0?!0:(r=r.dependencies,!!(r!==null&&u0(r)))}function g4(r,n,d){switch(n.tag){case 3:pe(n,n.stateNode.containerInfo),Ji(n,Ta,r.memoizedState.cache),Lo();break;case 27:case 5:Ee(n);break;case 4:pe(n,n.stateNode.containerInfo);break;case 10:Ji(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Us(n),null;break;case 13:var m=n.memoizedState;if(m!==null)return m.dehydrated!==null?(_a(n),n.flags|=128,null):(d&n.child.childLanes)!==0?Zb(r,n,d):(_a(n),r=_o(r,n,d),r!==null?r.sibling:null);_a(n);break;case 19:var S=(r.flags&128)!==0;if(m=(d&n.childLanes)!==0,m||(Qi(r,n,d,!1),m=(d&n.childLanes)!==0),S){if(m)return tv(r,n,d);n.flags|=128}if(S=n.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),Q(Ds,Ds.current),m)break;return null;case 22:return n.lanes=0,Vb(r,n,d,n.pendingProps);case 24:Ji(n,Ta,r.memoizedState.cache)}return _o(r,n,d)}function sv(r,n,d){if(r!==null)if(r.memoizedProps!==n.pendingProps)or=!0;else{if(!rp(r,d)&&(n.flags&128)===0)return or=!1,g4(r,n,d);or=(r.flags&131072)!==0}else or=!1,vs&&(n.flags&1048576)!==0&&Ax(n,bd,n.index);switch(n.lanes=0,n.tag){case 16:e:{var m=n.pendingProps;if(r=Ae(n.elementType),n.type=r,typeof r=="function")l0(r)?(m=Nd(r,m),n.tag=1,n=Jb(null,n,r,m,d)):(n.tag=0,n=Jm(null,n,r,m,d));else{if(r!=null){var S=r.$$typeof;if(S===w){n.tag=11,n=Hb(null,n,r,m,d);break e}else if(S===O){n.tag=14,n=Wb(null,n,r,m,d);break e}}throw n=Y(r)||r,Error(l(306,n,""))}}return n;case 0:return Jm(r,n,n.type,n.pendingProps,d);case 1:return m=n.type,S=Nd(m,n.pendingProps),Jb(r,n,m,S,d);case 3:e:{if(pe(n,n.stateNode.containerInfo),r===null)throw Error(l(387));m=n.pendingProps;var L=n.memoizedState;S=L.element,fa(r,n),Ba(n,m,null,d);var U=n.memoizedState;if(m=U.cache,Ji(n,Ta,m),m!==L.cache&&Eo(n,[Ta],d,!0),sa(),m=U.element,L.isDehydrated)if(L={element:m,isDehydrated:!1,cache:U.cache},n.updateQueue.baseState=L,n.memoizedState=L,n.flags&256){n=Qb(r,n,m,d);break e}else if(m!==S){S=zl(Error(l(424)),n),mc(S),n=Qb(r,n,m,d);break e}else for(r=n.stateNode.containerInfo,r.nodeType===9?r=r.body:r=r.nodeName==="HTML"?r.ownerDocument.body:r,ia=Gn(r.firstChild),fr=n,vs=!0,Ur=null,wa=!0,d=ts(n,null,m,d),n.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Lo(),m===S){n=_o(r,n,d);break e}qr(r,n,m,d)}n=n.child}return n;case 26:return Ix(r,n),r===null?(d=h1(n.type,null,n.pendingProps,null))?n.memoizedState=d:vs||(d=n.type,r=n.pendingProps,m=sh(ae.current).createElement(d),m[Vs]=n,m[ma]=r,Hr(m,d,r),La(m),n.stateNode=m):n.memoizedState=h1(n.type,r.memoizedProps,n.pendingProps,r.memoizedState),null;case 27:return Ee(n),r===null&&vs&&(m=n.stateNode=d1(n.type,n.pendingProps,ae.current),fr=n,wa=!0,S=ia,Dc(n.type)?(Op=S,ia=Gn(m.firstChild)):ia=S),qr(r,n,n.pendingProps.children,d),Ix(r,n),r===null&&(n.flags|=4194304),n.child;case 5:return r===null&&vs&&((S=m=ia)&&(m=V4(m,n.type,n.pendingProps,wa),m!==null?(n.stateNode=m,fr=n,ia=Gn(m.firstChild),wa=!1,S=!0):S=!1),S||Xi(n)),Ee(n),S=n.type,L=n.pendingProps,U=r!==null?r.memoizedProps:null,m=L.children,zp(S,L)?m=null:U!==null&&zp(S,U)&&(n.flags|=32),n.memoizedState!==null&&(S=gu(r,n,Im,null,null,d),Uu._currentValue=S),Ix(r,n),qr(r,n,m,d),n.child;case 6:return r===null&&vs&&((r=d=ia)&&(d=Y4(d,n.pendingProps,wa),d!==null?(n.stateNode=d,fr=n,ia=null,r=!0):r=!1),r||Xi(n)),null;case 13:return Zb(r,n,d);case 4:return pe(n,n.stateNode.containerInfo),m=n.pendingProps,r===null?n.child=oa(n,null,m,d):qr(r,n,m,d),n.child;case 11:return Hb(r,n,n.type,n.pendingProps,d);case 7:return qr(r,n,n.pendingProps,d),n.child;case 8:return qr(r,n,n.pendingProps.children,d),n.child;case 12:return qr(r,n,n.pendingProps.children,d),n.child;case 10:return m=n.pendingProps,Ji(n,n.type,m.value),qr(r,n,m.children,d),n.child;case 9:return S=n.type._context,m=n.pendingProps.children,Zi(n),S=br(S),m=m(S),n.flags|=1,qr(r,n,m,d),n.child;case 14:return Wb(r,n,n.type,n.pendingProps,d);case 15:return Gb(r,n,n.type,n.pendingProps,d);case 19:return tv(r,n,d);case 31:return f4(r,n,d);case 22:return Vb(r,n,d,n.pendingProps);case 24:return Zi(n),m=br(Ta),r===null?(S=ne(),S===null&&(S=ca,L=fc(),S.pooledCache=L,L.refCount++,L!==null&&(S.pooledCacheLanes|=d),S=L),n.memoizedState={parent:m,cache:S},at(n),Ji(n,Ta,S)):((r.lanes&d)!==0&&(fa(r,n),Ba(n,null,null,d),sa()),S=r.memoizedState,L=n.memoizedState,S.parent!==m?(S={parent:m,cache:m},n.memoizedState=S,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=S),Ji(n,Ta,m)):(m=L.cache,Ji(n,Ta,m),m!==S.cache&&Eo(n,[Ta],d,!0))),qr(r,n,n.pendingProps.children,d),n.child;case 29:throw n.pendingProps}throw Error(l(156,n.tag))}function Po(r){r.flags|=4}function lp(r,n,d,m,S){if((n=(r.mode&32)!==0)&&(n=!1),n){if(r.flags|=16777216,(S&335544128)===S)if(r.stateNode.complete)r.flags|=8192;else if(Lv())r.flags|=8192;else throw Oe=Ne,Le}else r.flags&=-16777217}function av(r,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!b1(n))if(Lv())r.flags|=8192;else throw Oe=Ne,Le}function Ux(r,n){n!==null&&(r.flags|=4),r.flags&16384&&(n=r.tag!==22?Ln():536870912,r.lanes|=n,C0|=n)}function Au(r,n){if(!vs)switch(r.tailMode){case"hidden":n=r.tail;for(var d=null;n!==null;)n.alternate!==null&&(d=n),n=n.sibling;d===null?r.tail=null:d.sibling=null;break;case"collapsed":d=r.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?n||r.tail===null?r.tail=null:r.tail.sibling=null:m.sibling=null}}function va(r){var n=r.alternate!==null&&r.alternate.child===r.child,d=0,m=0;if(n)for(var S=r.child;S!==null;)d|=S.lanes|S.childLanes,m|=S.subtreeFlags&65011712,m|=S.flags&65011712,S.return=r,S=S.sibling;else for(S=r.child;S!==null;)d|=S.lanes|S.childLanes,m|=S.subtreeFlags,m|=S.flags,S.return=r,S=S.sibling;return r.subtreeFlags|=m,r.childLanes=d,n}function b4(r,n,d){var m=n.pendingProps;switch(c0(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return va(n),null;case 1:return va(n),null;case 3:return d=n.stateNode,m=null,r!==null&&(m=r.memoizedState.cache),n.memoizedState.cache!==m&&(n.flags|=2048),Ol(Ta),we(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(gr(n)?Po(n):r===null||r.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,pu())),va(n),null;case 26:var S=n.type,L=n.memoizedState;return r===null?(Po(n),L!==null?(va(n),av(n,L)):(va(n),lp(n,S,null,m,d))):L?L!==r.memoizedState?(Po(n),va(n),av(n,L)):(va(n),n.flags&=-16777217):(r=r.memoizedProps,r!==m&&Po(n),va(n),lp(n,S,r,m,d)),null;case 27:if(Be(n),d=ae.current,S=n.type,r!==null&&n.stateNode!=null)r.memoizedProps!==m&&Po(n);else{if(!m){if(n.stateNode===null)throw Error(l(166));return va(n),null}r=K.current,gr(n)?mu(n):(r=d1(S,m,d),n.stateNode=r,Po(n))}return va(n),null;case 5:if(Be(n),S=n.type,r!==null&&n.stateNode!=null)r.memoizedProps!==m&&Po(n);else{if(!m){if(n.stateNode===null)throw Error(l(166));return va(n),null}if(L=K.current,gr(n))mu(n);else{var U=sh(ae.current);switch(L){case 1:L=U.createElementNS("http://www.w3.org/2000/svg",S);break;case 2:L=U.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;default:switch(S){case"svg":L=U.createElementNS("http://www.w3.org/2000/svg",S);break;case"math":L=U.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;case"script":L=U.createElement("div"),L.innerHTML="<script><\/script>",L=L.removeChild(L.firstChild);break;case"select":L=typeof m.is=="string"?U.createElement("select",{is:m.is}):U.createElement("select"),m.multiple?L.multiple=!0:m.size&&(L.size=m.size);break;default:L=typeof m.is=="string"?U.createElement(S,{is:m.is}):U.createElement(S)}}L[Vs]=n,L[ma]=m;e:for(U=n.child;U!==null;){if(U.tag===5||U.tag===6)L.appendChild(U.stateNode);else if(U.tag!==4&&U.tag!==27&&U.child!==null){U.child.return=U,U=U.child;continue}if(U===n)break e;for(;U.sibling===null;){if(U.return===null||U.return===n)break e;U=U.return}U.sibling.return=U.return,U=U.sibling}n.stateNode=L;e:switch(Hr(L,S,m),S){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&Po(n)}}return va(n),lp(n,n.type,r===null?null:r.memoizedProps,n.pendingProps,d),null;case 6:if(r&&n.stateNode!=null)r.memoizedProps!==m&&Po(n);else{if(typeof m!="string"&&n.stateNode===null)throw Error(l(166));if(r=ae.current,gr(n)){if(r=n.stateNode,d=n.memoizedProps,m=null,S=fr,S!==null)switch(S.tag){case 27:case 5:m=S.memoizedProps}r[Vs]=n,r=!!(r.nodeValue===d||m!==null&&m.suppressHydrationWarning===!0||Zv(r.nodeValue,d)),r||Xi(n,!0)}else r=sh(r).createTextNode(m),r[Vs]=n,n.stateNode=r}return va(n),null;case 31:if(d=n.memoizedState,r===null||r.memoizedState!==null){if(m=gr(n),d!==null){if(r===null){if(!m)throw Error(l(318));if(r=n.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(l(557));r[Vs]=n}else Lo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;va(n),r=!1}else d=pu(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=d),r=!0;if(!r)return n.flags&256?(Ys(n),n):(Ys(n),null);if((n.flags&128)!==0)throw Error(l(558))}return va(n),null;case 13:if(m=n.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(S=gr(n),m!==null&&m.dehydrated!==null){if(r===null){if(!S)throw Error(l(318));if(S=n.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(l(317));S[Vs]=n}else Lo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;va(n),S=!1}else S=pu(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=S),S=!0;if(!S)return n.flags&256?(Ys(n),n):(Ys(n),null)}return Ys(n),(n.flags&128)!==0?(n.lanes=d,n):(d=m!==null,r=r!==null&&r.memoizedState!==null,d&&(m=n.child,S=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(S=m.alternate.memoizedState.cachePool.pool),L=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(L=m.memoizedState.cachePool.pool),L!==S&&(m.flags|=2048)),d!==r&&d&&(n.child.flags|=8192),Ux(n,n.updateQueue),va(n),null);case 4:return we(),r===null&&Ap(n.stateNode.containerInfo),va(n),null;case 10:return Ol(n.type),va(n),null;case 19:if(q(Ds),m=n.memoizedState,m===null)return va(n),null;if(S=(n.flags&128)!==0,L=m.rendering,L===null)if(S)Au(m,!1);else{if(Wa!==0||r!==null&&(r.flags&128)!==0)for(r=n.child;r!==null;){if(L=Lr(r),L!==null){for(n.flags|=128,Au(m,!1),r=L.updateQueue,n.updateQueue=r,Ux(n,r),n.subtreeFlags=0,r=d,d=n.child;d!==null;)fd(d,r),d=d.sibling;return Q(Ds,Ds.current&1|2),vs&&jl(n,m.treeForkCount),n.child}r=r.sibling}m.tail!==null&&Ge()>Gx&&(n.flags|=128,S=!0,Au(m,!1),n.lanes=4194304)}else{if(!S)if(r=Lr(L),r!==null){if(n.flags|=128,S=!0,r=r.updateQueue,n.updateQueue=r,Ux(n,r),Au(m,!0),m.tail===null&&m.tailMode==="hidden"&&!L.alternate&&!vs)return va(n),null}else 2*Ge()-m.renderingStartTime>Gx&&d!==536870912&&(n.flags|=128,S=!0,Au(m,!1),n.lanes=4194304);m.isBackwards?(L.sibling=n.child,n.child=L):(r=m.last,r!==null?r.sibling=L:n.child=L,m.last=L)}return m.tail!==null?(r=m.tail,m.rendering=r,m.tail=r.sibling,m.renderingStartTime=Ge(),r.sibling=null,d=Ds.current,Q(Ds,S?d&1|2:d&1),vs&&jl(n,m.treeForkCount),r):(va(n),null);case 22:case 23:return Ys(n),Qa(),m=n.memoizedState!==null,r!==null?r.memoizedState!==null!==m&&(n.flags|=8192):m&&(n.flags|=8192),m?(d&536870912)!==0&&(n.flags&128)===0&&(va(n),n.subtreeFlags&6&&(n.flags|=8192)):va(n),d=n.updateQueue,d!==null&&Ux(n,d.retryQueue),d=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),m=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(m=n.memoizedState.cachePool.pool),m!==d&&(n.flags|=2048),r!==null&&q(ee),null;case 24:return d=null,r!==null&&(d=r.memoizedState.cache),n.memoizedState.cache!==d&&(n.flags|=2048),Ol(Ta),va(n),null;case 25:return null;case 30:return null}throw Error(l(156,n.tag))}function v4(r,n){switch(c0(n),n.tag){case 1:return r=n.flags,r&65536?(n.flags=r&-65537|128,n):null;case 3:return Ol(Ta),we(),r=n.flags,(r&65536)!==0&&(r&128)===0?(n.flags=r&-65537|128,n):null;case 26:case 27:case 5:return Be(n),null;case 31:if(n.memoizedState!==null){if(Ys(n),n.alternate===null)throw Error(l(340));Lo()}return r=n.flags,r&65536?(n.flags=r&-65537|128,n):null;case 13:if(Ys(n),r=n.memoizedState,r!==null&&r.dehydrated!==null){if(n.alternate===null)throw Error(l(340));Lo()}return r=n.flags,r&65536?(n.flags=r&-65537|128,n):null;case 19:return q(Ds),null;case 4:return we(),null;case 10:return Ol(n.type),null;case 22:case 23:return Ys(n),Qa(),r!==null&&q(ee),r=n.flags,r&65536?(n.flags=r&-65537|128,n):null;case 24:return Ol(Ta),null;case 25:return null;default:return null}}function rv(r,n){switch(c0(n),n.tag){case 3:Ol(Ta),we();break;case 26:case 27:case 5:Be(n);break;case 4:we();break;case 31:n.memoizedState!==null&&Ys(n);break;case 13:Ys(n);break;case 19:q(Ds);break;case 10:Ol(n.type);break;case 22:case 23:Ys(n),Qa(),r!==null&&q(ee);break;case 24:Ol(Ta)}}function Du(r,n){try{var d=n.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var S=m.next;d=S;do{if((d.tag&r)===r){m=void 0;var L=d.create,U=d.inst;m=L(),U.destroy=m}d=d.next}while(d!==S)}}catch(se){Ks(n,n.return,se)}}function jc(r,n,d){try{var m=n.updateQueue,S=m!==null?m.lastEffect:null;if(S!==null){var L=S.next;m=L;do{if((m.tag&r)===r){var U=m.inst,se=U.destroy;if(se!==void 0){U.destroy=void 0,S=n;var fe=d,ze=se;try{ze()}catch(Ie){Ks(S,fe,Ie)}}}m=m.next}while(m!==L)}}catch(Ie){Ks(n,n.return,Ie)}}function lv(r){var n=r.updateQueue;if(n!==null){var d=r.stateNode;try{Ua(n,d)}catch(m){Ks(r,r.return,m)}}}function nv(r,n,d){d.props=Nd(r.type,r.memoizedProps),d.state=r.memoizedState;try{d.componentWillUnmount()}catch(m){Ks(r,n,m)}}function Lu(r,n){try{var d=r.ref;if(d!==null){switch(r.tag){case 26:case 27:case 5:var m=r.stateNode;break;case 30:m=r.stateNode;break;default:m=r.stateNode}typeof d=="function"?r.refCleanup=d(m):d.current=m}}catch(S){Ks(r,n,S)}}function ro(r,n){var d=r.ref,m=r.refCleanup;if(d!==null)if(typeof m=="function")try{m()}catch(S){Ks(r,n,S)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(S){Ks(r,n,S)}else d.current=null}function iv(r){var n=r.type,d=r.memoizedProps,m=r.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":d.autoFocus&&m.focus();break e;case"img":d.src?m.src=d.src:d.srcSet&&(m.srcset=d.srcSet)}}catch(S){Ks(r,r.return,S)}}function np(r,n,d){try{var m=r.stateNode;U4(m,r.type,d,n),m[ma]=n}catch(S){Ks(r,r.return,S)}}function ov(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Dc(r.type)||r.tag===4}function ip(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||ov(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Dc(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function op(r,n,d){var m=r.tag;if(m===5||m===6)r=r.stateNode,n?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(r,n):(n=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,n.appendChild(r),d=d._reactRootContainer,d!=null||n.onclick!==null||(n.onclick=nn));else if(m!==4&&(m===27&&Dc(r.type)&&(d=r.stateNode,n=null),r=r.child,r!==null))for(op(r,n,d),r=r.sibling;r!==null;)op(r,n,d),r=r.sibling}function $x(r,n,d){var m=r.tag;if(m===5||m===6)r=r.stateNode,n?d.insertBefore(r,n):d.appendChild(r);else if(m!==4&&(m===27&&Dc(r.type)&&(d=r.stateNode),r=r.child,r!==null))for($x(r,n,d),r=r.sibling;r!==null;)$x(r,n,d),r=r.sibling}function cv(r){var n=r.stateNode,d=r.memoizedProps;try{for(var m=r.type,S=n.attributes;S.length;)n.removeAttributeNode(S[0]);Hr(n,m,d),n[Vs]=r,n[ma]=d}catch(L){Ks(r,r.return,L)}}var Ro=!1,cr=!1,cp=!1,dv=typeof WeakSet=="function"?WeakSet:Set,Er=null;function y4(r,n){if(r=r.containerInfo,Ep=ch,r=yi(r),Un(r)){if("selectionStart"in r)var d={start:r.selectionStart,end:r.selectionEnd};else e:{d=(d=r.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var S=m.anchorOffset,L=m.focusNode;m=m.focusOffset;try{d.nodeType,L.nodeType}catch{d=null;break e}var U=0,se=-1,fe=-1,ze=0,Ie=0,He=r,_e=null;t:for(;;){for(var Re;He!==d||S!==0&&He.nodeType!==3||(se=U+S),He!==L||m!==0&&He.nodeType!==3||(fe=U+m),He.nodeType===3&&(U+=He.nodeValue.length),(Re=He.firstChild)!==null;)_e=He,He=Re;for(;;){if(He===r)break t;if(_e===d&&++ze===S&&(se=U),_e===L&&++Ie===m&&(fe=U),(Re=He.nextSibling)!==null)break;He=_e,_e=He.parentNode}He=Re}d=se===-1||fe===-1?null:{start:se,end:fe}}else d=null}d=d||{start:0,end:0}}else d=null;for(Mp={focusedElem:r,selectionRange:d},ch=!1,Er=n;Er!==null;)if(n=Er,r=n.child,(n.subtreeFlags&1028)!==0&&r!==null)r.return=n,Er=r;else for(;Er!==null;){switch(n=Er,L=n.alternate,r=n.flags,n.tag){case 0:if((r&4)!==0&&(r=n.updateQueue,r=r!==null?r.events:null,r!==null))for(d=0;d<r.length;d++)S=r[d],S.ref.impl=S.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&L!==null){r=void 0,d=n,S=L.memoizedProps,L=L.memoizedState,m=d.stateNode;try{var mt=Nd(d.type,S);r=m.getSnapshotBeforeUpdate(mt,L),m.__reactInternalSnapshotBeforeUpdate=r}catch($t){Ks(d,d.return,$t)}}break;case 3:if((r&1024)!==0){if(r=n.stateNode.containerInfo,d=r.nodeType,d===9)_p(r);else if(d===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":_p(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(l(163))}if(r=n.sibling,r!==null){r.return=n.return,Er=r;break}Er=n.return}}function uv(r,n,d){var m=d.flags;switch(d.tag){case 0:case 11:case 15:Fo(r,d),m&4&&Du(5,d);break;case 1:if(Fo(r,d),m&4)if(r=d.stateNode,n===null)try{r.componentDidMount()}catch(U){Ks(d,d.return,U)}else{var S=Nd(d.type,n.memoizedProps);n=n.memoizedState;try{r.componentDidUpdate(S,n,r.__reactInternalSnapshotBeforeUpdate)}catch(U){Ks(d,d.return,U)}}m&64&&lv(d),m&512&&Lu(d,d.return);break;case 3:if(Fo(r,d),m&64&&(r=d.updateQueue,r!==null)){if(n=null,d.child!==null)switch(d.child.tag){case 27:case 5:n=d.child.stateNode;break;case 1:n=d.child.stateNode}try{Ua(r,n)}catch(U){Ks(d,d.return,U)}}break;case 27:n===null&&m&4&&cv(d);case 26:case 5:Fo(r,d),n===null&&m&4&&iv(d),m&512&&Lu(d,d.return);break;case 12:Fo(r,d);break;case 31:Fo(r,d),m&4&&mv(r,d);break;case 13:Fo(r,d),m&4&&pv(r,d),m&64&&(r=d.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(d=L4.bind(null,d),X4(r,d))));break;case 22:if(m=d.memoizedState!==null||Ro,!m){n=n!==null&&n.memoizedState!==null||cr,S=Ro;var L=cr;Ro=m,(cr=n)&&!L?Io(r,d,(d.subtreeFlags&8772)!==0):Fo(r,d),Ro=S,cr=L}break;case 30:break;default:Fo(r,d)}}function xv(r){var n=r.alternate;n!==null&&(r.alternate=null,xv(n)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(n=r.stateNode,n!==null&&Ui(n)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Sa=null,Il=!1;function Oo(r,n,d){for(d=d.child;d!==null;)hv(r,n,d),d=d.sibling}function hv(r,n,d){if(_t&&typeof _t.onCommitFiberUnmount=="function")try{_t.onCommitFiberUnmount(hs,d)}catch{}switch(d.tag){case 26:cr||ro(d,n),Oo(r,n,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:cr||ro(d,n);var m=Sa,S=Il;Dc(d.type)&&(Sa=d.stateNode,Il=!1),Oo(r,n,d),Fu(d.stateNode),Sa=m,Il=S;break;case 5:cr||ro(d,n);case 6:if(m=Sa,S=Il,Sa=null,Oo(r,n,d),Sa=m,Il=S,Sa!==null)if(Il)try{(Sa.nodeType===9?Sa.body:Sa.nodeName==="HTML"?Sa.ownerDocument.body:Sa).removeChild(d.stateNode)}catch(L){Ks(d,n,L)}else try{Sa.removeChild(d.stateNode)}catch(L){Ks(d,n,L)}break;case 18:Sa!==null&&(Il?(r=Sa,l1(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,d.stateNode),_0(r)):l1(Sa,d.stateNode));break;case 4:m=Sa,S=Il,Sa=d.stateNode.containerInfo,Il=!0,Oo(r,n,d),Sa=m,Il=S;break;case 0:case 11:case 14:case 15:jc(2,d,n),cr||jc(4,d,n),Oo(r,n,d);break;case 1:cr||(ro(d,n),m=d.stateNode,typeof m.componentWillUnmount=="function"&&nv(d,n,m)),Oo(r,n,d);break;case 21:Oo(r,n,d);break;case 22:cr=(m=cr)||d.memoizedState!==null,Oo(r,n,d),cr=m;break;default:Oo(r,n,d)}}function mv(r,n){if(n.memoizedState===null&&(r=n.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{_0(r)}catch(d){Ks(n,n.return,d)}}}function pv(r,n){if(n.memoizedState===null&&(r=n.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{_0(r)}catch(d){Ks(n,n.return,d)}}function j4(r){switch(r.tag){case 31:case 13:case 19:var n=r.stateNode;return n===null&&(n=r.stateNode=new dv),n;case 22:return r=r.stateNode,n=r._retryCache,n===null&&(n=r._retryCache=new dv),n;default:throw Error(l(435,r.tag))}}function qx(r,n){var d=j4(r);n.forEach(function(m){if(!d.has(m)){d.add(m);var S=E4.bind(null,r,m);m.then(S,S)}})}function Bl(r,n){var d=n.deletions;if(d!==null)for(var m=0;m<d.length;m++){var S=d[m],L=r,U=n,se=U;e:for(;se!==null;){switch(se.tag){case 27:if(Dc(se.type)){Sa=se.stateNode,Il=!1;break e}break;case 5:Sa=se.stateNode,Il=!1;break e;case 3:case 4:Sa=se.stateNode.containerInfo,Il=!0;break e}se=se.return}if(Sa===null)throw Error(l(160));hv(L,U,S),Sa=null,Il=!1,L=S.alternate,L!==null&&(L.return=null),S.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)fv(n,r),n=n.sibling}var Di=null;function fv(r,n){var d=r.alternate,m=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Bl(n,r),Ul(r),m&4&&(jc(3,r,r.return),Du(3,r),jc(5,r,r.return));break;case 1:Bl(n,r),Ul(r),m&512&&(cr||d===null||ro(d,d.return)),m&64&&Ro&&(r=r.updateQueue,r!==null&&(m=r.callbacks,m!==null&&(d=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=d===null?m:d.concat(m))));break;case 26:var S=Di;if(Bl(n,r),Ul(r),m&512&&(cr||d===null||ro(d,d.return)),m&4){var L=d!==null?d.memoizedState:null;if(m=r.memoizedState,d===null)if(m===null)if(r.stateNode===null){e:{m=r.type,d=r.memoizedProps,S=S.ownerDocument||S;t:switch(m){case"title":L=S.getElementsByTagName("title")[0],(!L||L[en]||L[Vs]||L.namespaceURI==="http://www.w3.org/2000/svg"||L.hasAttribute("itemprop"))&&(L=S.createElement(m),S.head.insertBefore(L,S.querySelector("head > title"))),Hr(L,m,d),L[Vs]=r,La(L),m=L;break e;case"link":var U=f1("link","href",S).get(m+(d.href||""));if(U){for(var se=0;se<U.length;se++)if(L=U[se],L.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&L.getAttribute("rel")===(d.rel==null?null:d.rel)&&L.getAttribute("title")===(d.title==null?null:d.title)&&L.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){U.splice(se,1);break t}}L=S.createElement(m),Hr(L,m,d),S.head.appendChild(L);break;case"meta":if(U=f1("meta","content",S).get(m+(d.content||""))){for(se=0;se<U.length;se++)if(L=U[se],L.getAttribute("content")===(d.content==null?null:""+d.content)&&L.getAttribute("name")===(d.name==null?null:d.name)&&L.getAttribute("property")===(d.property==null?null:d.property)&&L.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&L.getAttribute("charset")===(d.charSet==null?null:d.charSet)){U.splice(se,1);break t}}L=S.createElement(m),Hr(L,m,d),S.head.appendChild(L);break;default:throw Error(l(468,m))}L[Vs]=r,La(L),m=L}r.stateNode=m}else g1(S,r.type,r.stateNode);else r.stateNode=p1(S,m,r.memoizedProps);else L!==m?(L===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):L.count--,m===null?g1(S,r.type,r.stateNode):p1(S,m,r.memoizedProps)):m===null&&r.stateNode!==null&&np(r,r.memoizedProps,d.memoizedProps)}break;case 27:Bl(n,r),Ul(r),m&512&&(cr||d===null||ro(d,d.return)),d!==null&&m&4&&np(r,r.memoizedProps,d.memoizedProps);break;case 5:if(Bl(n,r),Ul(r),m&512&&(cr||d===null||ro(d,d.return)),r.flags&32){S=r.stateNode;try{ln(S,"")}catch(mt){Ks(r,r.return,mt)}}m&4&&r.stateNode!=null&&(S=r.memoizedProps,np(r,S,d!==null?d.memoizedProps:S)),m&1024&&(cp=!0);break;case 6:if(Bl(n,r),Ul(r),m&4){if(r.stateNode===null)throw Error(l(162));m=r.memoizedProps,d=r.stateNode;try{d.nodeValue=m}catch(mt){Ks(r,r.return,mt)}}break;case 3:if(lh=null,S=Di,Di=ah(n.containerInfo),Bl(n,r),Di=S,Ul(r),m&4&&d!==null&&d.memoizedState.isDehydrated)try{_0(n.containerInfo)}catch(mt){Ks(r,r.return,mt)}cp&&(cp=!1,gv(r));break;case 4:m=Di,Di=ah(r.stateNode.containerInfo),Bl(n,r),Ul(r),Di=m;break;case 12:Bl(n,r),Ul(r);break;case 31:Bl(n,r),Ul(r),m&4&&(m=r.updateQueue,m!==null&&(r.updateQueue=null,qx(r,m)));break;case 13:Bl(n,r),Ul(r),r.child.flags&8192&&r.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Wx=Ge()),m&4&&(m=r.updateQueue,m!==null&&(r.updateQueue=null,qx(r,m)));break;case 22:S=r.memoizedState!==null;var fe=d!==null&&d.memoizedState!==null,ze=Ro,Ie=cr;if(Ro=ze||S,cr=Ie||fe,Bl(n,r),cr=Ie,Ro=ze,Ul(r),m&8192)e:for(n=r.stateNode,n._visibility=S?n._visibility&-2:n._visibility|1,S&&(d===null||fe||Ro||cr||kd(r)),d=null,n=r;;){if(n.tag===5||n.tag===26){if(d===null){fe=d=n;try{if(L=fe.stateNode,S)U=L.style,typeof U.setProperty=="function"?U.setProperty("display","none","important"):U.display="none";else{se=fe.stateNode;var He=fe.memoizedProps.style,_e=He!=null&&He.hasOwnProperty("display")?He.display:null;se.style.display=_e==null||typeof _e=="boolean"?"":(""+_e).trim()}}catch(mt){Ks(fe,fe.return,mt)}}}else if(n.tag===6){if(d===null){fe=n;try{fe.stateNode.nodeValue=S?"":fe.memoizedProps}catch(mt){Ks(fe,fe.return,mt)}}}else if(n.tag===18){if(d===null){fe=n;try{var Re=fe.stateNode;S?n1(Re,!0):n1(fe.stateNode,!1)}catch(mt){Ks(fe,fe.return,mt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===r)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;d===n&&(d=null),n=n.return}d===n&&(d=null),n.sibling.return=n.return,n=n.sibling}m&4&&(m=r.updateQueue,m!==null&&(d=m.retryQueue,d!==null&&(m.retryQueue=null,qx(r,d))));break;case 19:Bl(n,r),Ul(r),m&4&&(m=r.updateQueue,m!==null&&(r.updateQueue=null,qx(r,m)));break;case 30:break;case 21:break;default:Bl(n,r),Ul(r)}}function Ul(r){var n=r.flags;if(n&2){try{for(var d,m=r.return;m!==null;){if(ov(m)){d=m;break}m=m.return}if(d==null)throw Error(l(160));switch(d.tag){case 27:var S=d.stateNode,L=ip(r);$x(r,L,S);break;case 5:var U=d.stateNode;d.flags&32&&(ln(U,""),d.flags&=-33);var se=ip(r);$x(r,se,U);break;case 3:case 4:var fe=d.stateNode.containerInfo,ze=ip(r);op(r,ze,fe);break;default:throw Error(l(161))}}catch(Ie){Ks(r,r.return,Ie)}r.flags&=-3}n&4096&&(r.flags&=-4097)}function gv(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var n=r;gv(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),r=r.sibling}}function Fo(r,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)uv(r,n.alternate,n),n=n.sibling}function kd(r){for(r=r.child;r!==null;){var n=r;switch(n.tag){case 0:case 11:case 14:case 15:jc(4,n,n.return),kd(n);break;case 1:ro(n,n.return);var d=n.stateNode;typeof d.componentWillUnmount=="function"&&nv(n,n.return,d),kd(n);break;case 27:Fu(n.stateNode);case 26:case 5:ro(n,n.return),kd(n);break;case 22:n.memoizedState===null&&kd(n);break;case 30:kd(n);break;default:kd(n)}r=r.sibling}}function Io(r,n,d){for(d=d&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var m=n.alternate,S=r,L=n,U=L.flags;switch(L.tag){case 0:case 11:case 15:Io(S,L,d),Du(4,L);break;case 1:if(Io(S,L,d),m=L,S=m.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(ze){Ks(m,m.return,ze)}if(m=L,S=m.updateQueue,S!==null){var se=m.stateNode;try{var fe=S.shared.hiddenCallbacks;if(fe!==null)for(S.shared.hiddenCallbacks=null,S=0;S<fe.length;S++)Dr(fe[S],se)}catch(ze){Ks(m,m.return,ze)}}d&&U&64&&lv(L),Lu(L,L.return);break;case 27:cv(L);case 26:case 5:Io(S,L,d),d&&m===null&&U&4&&iv(L),Lu(L,L.return);break;case 12:Io(S,L,d);break;case 31:Io(S,L,d),d&&U&4&&mv(S,L);break;case 13:Io(S,L,d),d&&U&4&&pv(S,L);break;case 22:L.memoizedState===null&&Io(S,L,d),Lu(L,L.return);break;case 30:break;default:Io(S,L,d)}n=n.sibling}}function dp(r,n){var d=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),r=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),r!==d&&(r!=null&&r.refCount++,d!=null&&vd(d))}function up(r,n){r=null,n.alternate!==null&&(r=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==r&&(n.refCount++,r!=null&&vd(r))}function Li(r,n,d,m){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)bv(r,n,d,m),n=n.sibling}function bv(r,n,d,m){var S=n.flags;switch(n.tag){case 0:case 11:case 15:Li(r,n,d,m),S&2048&&Du(9,n);break;case 1:Li(r,n,d,m);break;case 3:Li(r,n,d,m),S&2048&&(r=null,n.alternate!==null&&(r=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==r&&(n.refCount++,r!=null&&vd(r)));break;case 12:if(S&2048){Li(r,n,d,m),r=n.stateNode;try{var L=n.memoizedProps,U=L.id,se=L.onPostCommit;typeof se=="function"&&se(U,n.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(fe){Ks(n,n.return,fe)}}else Li(r,n,d,m);break;case 31:Li(r,n,d,m);break;case 13:Li(r,n,d,m);break;case 23:break;case 22:L=n.stateNode,U=n.alternate,n.memoizedState!==null?L._visibility&2?Li(r,n,d,m):Eu(r,n):L._visibility&2?Li(r,n,d,m):(L._visibility|=2,N0(r,n,d,m,(n.subtreeFlags&10256)!==0||!1)),S&2048&&dp(U,n);break;case 24:Li(r,n,d,m),S&2048&&up(n.alternate,n);break;default:Li(r,n,d,m)}}function N0(r,n,d,m,S){for(S=S&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var L=r,U=n,se=d,fe=m,ze=U.flags;switch(U.tag){case 0:case 11:case 15:N0(L,U,se,fe,S),Du(8,U);break;case 23:break;case 22:var Ie=U.stateNode;U.memoizedState!==null?Ie._visibility&2?N0(L,U,se,fe,S):Eu(L,U):(Ie._visibility|=2,N0(L,U,se,fe,S)),S&&ze&2048&&dp(U.alternate,U);break;case 24:N0(L,U,se,fe,S),S&&ze&2048&&up(U.alternate,U);break;default:N0(L,U,se,fe,S)}n=n.sibling}}function Eu(r,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var d=r,m=n,S=m.flags;switch(m.tag){case 22:Eu(d,m),S&2048&&dp(m.alternate,m);break;case 24:Eu(d,m),S&2048&&up(m.alternate,m);break;default:Eu(d,m)}n=n.sibling}}var Mu=8192;function k0(r,n,d){if(r.subtreeFlags&Mu)for(r=r.child;r!==null;)vv(r,n,d),r=r.sibling}function vv(r,n,d){switch(r.tag){case 26:k0(r,n,d),r.flags&Mu&&r.memoizedState!==null&&i6(d,Di,r.memoizedState,r.memoizedProps);break;case 5:k0(r,n,d);break;case 3:case 4:var m=Di;Di=ah(r.stateNode.containerInfo),k0(r,n,d),Di=m;break;case 22:r.memoizedState===null&&(m=r.alternate,m!==null&&m.memoizedState!==null?(m=Mu,Mu=16777216,k0(r,n,d),Mu=m):k0(r,n,d));break;default:k0(r,n,d)}}function yv(r){var n=r.alternate;if(n!==null&&(r=n.child,r!==null)){n.child=null;do n=r.sibling,r.sibling=null,r=n;while(r!==null)}}function zu(r){var n=r.deletions;if((r.flags&16)!==0){if(n!==null)for(var d=0;d<n.length;d++){var m=n[d];Er=m,wv(m,r)}yv(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)jv(r),r=r.sibling}function jv(r){switch(r.tag){case 0:case 11:case 15:zu(r),r.flags&2048&&jc(9,r,r.return);break;case 3:zu(r);break;case 12:zu(r);break;case 22:var n=r.stateNode;r.memoizedState!==null&&n._visibility&2&&(r.return===null||r.return.tag!==13)?(n._visibility&=-3,Hx(r)):zu(r);break;default:zu(r)}}function Hx(r){var n=r.deletions;if((r.flags&16)!==0){if(n!==null)for(var d=0;d<n.length;d++){var m=n[d];Er=m,wv(m,r)}yv(r)}for(r=r.child;r!==null;){switch(n=r,n.tag){case 0:case 11:case 15:jc(8,n,n.return),Hx(n);break;case 22:d=n.stateNode,d._visibility&2&&(d._visibility&=-3,Hx(n));break;default:Hx(n)}r=r.sibling}}function wv(r,n){for(;Er!==null;){var d=Er;switch(d.tag){case 0:case 11:case 15:jc(8,d,n);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var m=d.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:vd(d.memoizedState.cache)}if(m=d.child,m!==null)m.return=d,Er=m;else e:for(d=r;Er!==null;){m=Er;var S=m.sibling,L=m.return;if(xv(m),m===d){Er=null;break e}if(S!==null){S.return=L,Er=S;break e}Er=L}}}var w4={getCacheForType:function(r){var n=br(Ta),d=n.data.get(r);return d===void 0&&(d=r(),n.data.set(r,d)),d},cacheSignal:function(){return br(Ta).controller.signal}},N4=typeof WeakMap=="function"?WeakMap:Map,$s=0,ca=null,ys=null,ws=0,Xs=0,mn=null,wc=!1,S0=!1,xp=!1,Bo=0,Wa=0,Nc=0,Sd=0,hp=0,pn=0,C0=0,Tu=null,$l=null,mp=!1,Wx=0,Nv=0,Gx=1/0,Vx=null,kc=null,yr=0,Sc=null,A0=null,Uo=0,pp=0,fp=null,kv=null,_u=0,gp=null;function fn(){return($s&2)!==0&&ws!==0?ws&-ws:H.T!==null?Np():rr()}function Sv(){if(pn===0)if((ws&536870912)===0||vs){var r=Gs;Gs<<=1,(Gs&3932160)===0&&(Gs=262144),pn=r}else pn=536870912;return r=ba.current,r!==null&&(r.flags|=32),pn}function ql(r,n,d){(r===ca&&(Xs===2||Xs===9)||r.cancelPendingCommit!==null)&&(D0(r,0),Cc(r,ws,pn,!1)),Dt(r,d),(($s&2)===0||r!==ca)&&(r===ca&&(($s&2)===0&&(Sd|=d),Wa===4&&Cc(r,ws,pn,!1)),lo(r))}function Cv(r,n,d){if(($s&6)!==0)throw Error(l(327));var m=!d&&(n&127)===0&&(n&r.expiredLanes)===0||Ql(r,n),S=m?C4(r,n):vp(r,n,!0),L=m;do{if(S===0){S0&&!m&&Cc(r,n,0,!1);break}else{if(d=r.current.alternate,L&&!k4(d)){S=vp(r,n,!1),L=!1;continue}if(S===2){if(L=n,r.errorRecoveryDisabledLanes&L)var U=0;else U=r.pendingLanes&-536870913,U=U!==0?U:U&536870912?536870912:0;if(U!==0){n=U;e:{var se=r;S=Tu;var fe=se.current.memoizedState.isDehydrated;if(fe&&(D0(se,U).flags|=256),U=vp(se,U,!1),U!==2){if(xp&&!fe){se.errorRecoveryDisabledLanes|=L,Sd|=L,S=4;break e}L=$l,$l=S,L!==null&&($l===null?$l=L:$l.push.apply($l,L))}S=U}if(L=!1,S!==2)continue}}if(S===1){D0(r,0),Cc(r,n,0,!0);break}e:{switch(m=r,L=S,L){case 0:case 1:throw Error(l(345));case 4:if((n&4194048)!==n)break;case 6:Cc(m,n,pn,!wc);break e;case 2:$l=null;break;case 3:case 5:break;default:throw Error(l(329))}if((n&62914560)===n&&(S=Wx+300-Ge(),10<S)){if(Cc(m,n,pn,!wc),Ss(m,0,!0)!==0)break e;Uo=n,m.timeoutHandle=a1(Av.bind(null,m,d,$l,Vx,mp,n,pn,Sd,C0,wc,L,"Throttled",-0,0),S);break e}Av(m,d,$l,Vx,mp,n,pn,Sd,C0,wc,L,null,-0,0)}}break}while(!0);lo(r)}function Av(r,n,d,m,S,L,U,se,fe,ze,Ie,He,_e,Re){if(r.timeoutHandle=-1,He=n.subtreeFlags,He&8192||(He&16785408)===16785408){He={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:nn},vv(n,L,He);var mt=(L&62914560)===L?Wx-Ge():(L&4194048)===L?Nv-Ge():0;if(mt=o6(He,mt),mt!==null){Uo=L,r.cancelPendingCommit=mt(Pv.bind(null,r,n,L,d,m,S,U,se,fe,Ie,He,null,_e,Re)),Cc(r,L,U,!ze);return}}Pv(r,n,L,d,m,S,U,se,fe)}function k4(r){for(var n=r;;){var d=n.tag;if((d===0||d===11||d===15)&&n.flags&16384&&(d=n.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var m=0;m<d.length;m++){var S=d[m],L=S.getSnapshot;S=S.value;try{if(!mr(L(),S))return!1}catch{return!1}}if(d=n.child,n.subtreeFlags&16384&&d!==null)d.return=n,n=d;else{if(n===r)break;for(;n.sibling===null;){if(n.return===null||n.return===r)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Cc(r,n,d,m){n&=~hp,n&=~Sd,r.suspendedLanes|=n,r.pingedLanes&=~n,m&&(r.warmLanes|=n),m=r.expirationTimes;for(var S=n;0<S;){var L=31-fs(S),U=1<<L;m[L]=-1,S&=~U}d!==0&&En(r,d,n)}function Yx(){return($s&6)===0?(Pu(0),!1):!0}function bp(){if(ys!==null){if(Xs===0)var r=ys.return;else r=ys,qn=Ki=null,f0(r),We=null,pt=0,r=ys;for(;r!==null;)rv(r.alternate,r),r=r.return;ys=null}}function D0(r,n){var d=r.timeoutHandle;d!==-1&&(r.timeoutHandle=-1,H4(d)),d=r.cancelPendingCommit,d!==null&&(r.cancelPendingCommit=null,d()),Uo=0,bp(),ca=r,ys=d=Ml(r.current,null),ws=n,Xs=0,mn=null,wc=!1,S0=Ql(r,n),xp=!1,C0=pn=hp=Sd=Nc=Wa=0,$l=Tu=null,mp=!1,(n&8)!==0&&(n|=n&32);var m=r.entangledLanes;if(m!==0)for(r=r.entanglements,m&=n;0<m;){var S=31-fs(m),L=1<<S;n|=r[S],m&=~L}return Bo=n,hd(),d}function Dv(r,n){Lt=null,H.H=Su,n===ye||n===de?(n=$e(),Xs=3):n===Le?(n=$e(),Xs=4):Xs=n===Km?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,mn=n,ys===null&&(Wa=1,Ox(r,zl(n,r.current)))}function Lv(){var r=ba.current;return r===null?!0:(ws&4194048)===ws?Ms===null:(ws&62914560)===ws||(ws&536870912)!==0?r===Ms:!1}function Ev(){var r=H.H;return H.H=Su,r===null?Su:r}function Mv(){var r=H.A;return H.A=w4,r}function Xx(){Wa=4,wc||(ws&4194048)!==ws&&ba.current!==null||(S0=!0),(Nc&134217727)===0&&(Sd&134217727)===0||ca===null||Cc(ca,ws,pn,!1)}function vp(r,n,d){var m=$s;$s|=2;var S=Ev(),L=Mv();(ca!==r||ws!==n)&&(Vx=null,D0(r,n)),n=!1;var U=Wa;e:do try{if(Xs!==0&&ys!==null){var se=ys,fe=mn;switch(Xs){case 8:bp(),U=6;break e;case 3:case 2:case 9:case 6:ba.current===null&&(n=!0);var ze=Xs;if(Xs=0,mn=null,L0(r,se,fe,ze),d&&S0){U=0;break e}break;default:ze=Xs,Xs=0,mn=null,L0(r,se,fe,ze)}}S4(),U=Wa;break}catch(Ie){Dv(r,Ie)}while(!0);return n&&r.shellSuspendCounter++,qn=Ki=null,$s=m,H.H=S,H.A=L,ys===null&&(ca=null,ws=0,hd()),U}function S4(){for(;ys!==null;)zv(ys)}function C4(r,n){var d=$s;$s|=2;var m=Ev(),S=Mv();ca!==r||ws!==n?(Vx=null,Gx=Ge()+500,D0(r,n)):S0=Ql(r,n);e:do try{if(Xs!==0&&ys!==null){n=ys;var L=mn;t:switch(Xs){case 1:Xs=0,mn=null,L0(r,n,L,1);break;case 2:case 9:if(Ce(L)){Xs=0,mn=null,Tv(n);break}n=function(){Xs!==2&&Xs!==9||ca!==r||(Xs=7),lo(r)},L.then(n,n);break e;case 3:Xs=7;break e;case 4:Xs=5;break e;case 7:Ce(L)?(Xs=0,mn=null,Tv(n)):(Xs=0,mn=null,L0(r,n,L,7));break;case 5:var U=null;switch(ys.tag){case 26:U=ys.memoizedState;case 5:case 27:var se=ys;if(U?b1(U):se.stateNode.complete){Xs=0,mn=null;var fe=se.sibling;if(fe!==null)ys=fe;else{var ze=se.return;ze!==null?(ys=ze,Kx(ze)):ys=null}break t}}Xs=0,mn=null,L0(r,n,L,5);break;case 6:Xs=0,mn=null,L0(r,n,L,6);break;case 8:bp(),Wa=6;break e;default:throw Error(l(462))}}A4();break}catch(Ie){Dv(r,Ie)}while(!0);return qn=Ki=null,H.H=m,H.A=S,$s=d,ys!==null?0:(ca=null,ws=0,hd(),Wa)}function A4(){for(;ys!==null&&!At();)zv(ys)}function zv(r){var n=sv(r.alternate,r,Bo);r.memoizedProps=r.pendingProps,n===null?Kx(r):ys=n}function Tv(r){var n=r,d=n.alternate;switch(n.tag){case 15:case 0:n=Kb(d,n,n.pendingProps,n.type,void 0,ws);break;case 11:n=Kb(d,n,n.pendingProps,n.type.render,n.ref,ws);break;case 5:f0(n);default:rv(d,n),n=ys=fd(n,Bo),n=sv(d,n,Bo)}r.memoizedProps=r.pendingProps,n===null?Kx(r):ys=n}function L0(r,n,d,m){qn=Ki=null,f0(n),We=null,pt=0;var S=n.return;try{if(p4(r,S,n,d,ws)){Wa=1,Ox(r,zl(d,r.current)),ys=null;return}}catch(L){if(S!==null)throw ys=S,L;Wa=1,Ox(r,zl(d,r.current)),ys=null;return}n.flags&32768?(vs||m===1?r=!0:S0||(ws&536870912)!==0?r=!1:(wc=r=!0,(m===2||m===9||m===3||m===6)&&(m=ba.current,m!==null&&m.tag===13&&(m.flags|=16384))),_v(n,r)):Kx(n)}function Kx(r){var n=r;do{if((n.flags&32768)!==0){_v(n,wc);return}r=n.return;var d=b4(n.alternate,n,Bo);if(d!==null){ys=d;return}if(n=n.sibling,n!==null){ys=n;return}ys=n=r}while(n!==null);Wa===0&&(Wa=5)}function _v(r,n){do{var d=v4(r.alternate,r);if(d!==null){d.flags&=32767,ys=d;return}if(d=r.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!n&&(r=r.sibling,r!==null)){ys=r;return}ys=r=d}while(r!==null);Wa=6,ys=null}function Pv(r,n,d,m,S,L,U,se,fe){r.cancelPendingCommit=null;do Jx();while(yr!==0);if(($s&6)!==0)throw Error(l(327));if(n!==null){if(n===r.current)throw Error(l(177));if(L=n.lanes|n.childLanes,L|=s0,si(r,d,L,U,se,fe),r===ca&&(ys=ca=null,ws=0),A0=n,Sc=r,Uo=d,pp=L,fp=S,kv=m,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,M4(Yt,function(){return Bv(),null})):(r.callbackNode=null,r.callbackPriority=0),m=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||m){m=H.T,H.T=null,S=V.p,V.p=2,U=$s,$s|=4;try{y4(r,n,d)}finally{$s=U,V.p=S,H.T=m}}yr=1,Rv(),Ov(),Fv()}}function Rv(){if(yr===1){yr=0;var r=Sc,n=A0,d=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||d){d=H.T,H.T=null;var m=V.p;V.p=2;var S=$s;$s|=4;try{fv(n,r);var L=Mp,U=yi(r.containerInfo),se=L.focusedElem,fe=L.selectionRange;if(U!==se&&se&&se.ownerDocument&&vi(se.ownerDocument.documentElement,se)){if(fe!==null&&Un(se)){var ze=fe.start,Ie=fe.end;if(Ie===void 0&&(Ie=ze),"selectionStart"in se)se.selectionStart=ze,se.selectionEnd=Math.min(Ie,se.value.length);else{var He=se.ownerDocument||document,_e=He&&He.defaultView||window;if(_e.getSelection){var Re=_e.getSelection(),mt=se.textContent.length,$t=Math.min(fe.start,mt),la=fe.end===void 0?$t:Math.min(fe.end,mt);!Re.extend&&$t>la&&(U=la,la=$t,$t=U);var Se=dc(se,$t),je=dc(se,la);if(Se&&je&&(Re.rangeCount!==1||Re.anchorNode!==Se.node||Re.anchorOffset!==Se.offset||Re.focusNode!==je.node||Re.focusOffset!==je.offset)){var Me=He.createRange();Me.setStart(Se.node,Se.offset),Re.removeAllRanges(),$t>la?(Re.addRange(Me),Re.extend(je.node,je.offset)):(Me.setEnd(je.node,je.offset),Re.addRange(Me))}}}}for(He=[],Re=se;Re=Re.parentNode;)Re.nodeType===1&&He.push({element:Re,left:Re.scrollLeft,top:Re.scrollTop});for(typeof se.focus=="function"&&se.focus(),se=0;se<He.length;se++){var qe=He[se];qe.element.scrollLeft=qe.left,qe.element.scrollTop=qe.top}}ch=!!Ep,Mp=Ep=null}finally{$s=S,V.p=m,H.T=d}}r.current=n,yr=2}}function Ov(){if(yr===2){yr=0;var r=Sc,n=A0,d=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||d){d=H.T,H.T=null;var m=V.p;V.p=2;var S=$s;$s|=4;try{uv(r,n.alternate,n)}finally{$s=S,V.p=m,H.T=d}}yr=3}}function Fv(){if(yr===4||yr===3){yr=0,bt();var r=Sc,n=A0,d=Uo,m=kv;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?yr=5:(yr=0,A0=Sc=null,Iv(r,r.pendingLanes));var S=r.pendingLanes;if(S===0&&(kc=null),Oa(d),n=n.stateNode,_t&&typeof _t.onCommitFiberRoot=="function")try{_t.onCommitFiberRoot(hs,n,void 0,(n.current.flags&128)===128)}catch{}if(m!==null){n=H.T,S=V.p,V.p=2,H.T=null;try{for(var L=r.onRecoverableError,U=0;U<m.length;U++){var se=m[U];L(se.value,{componentStack:se.stack})}}finally{H.T=n,V.p=S}}(Uo&3)!==0&&Jx(),lo(r),S=r.pendingLanes,(d&261930)!==0&&(S&42)!==0?r===gp?_u++:(_u=0,gp=r):_u=0,Pu(0)}}function Iv(r,n){(r.pooledCacheLanes&=n)===0&&(n=r.pooledCache,n!=null&&(r.pooledCache=null,vd(n)))}function Jx(){return Rv(),Ov(),Fv(),Bv()}function Bv(){if(yr!==5)return!1;var r=Sc,n=pp;pp=0;var d=Oa(Uo),m=H.T,S=V.p;try{V.p=32>d?32:d,H.T=null,d=fp,fp=null;var L=Sc,U=Uo;if(yr=0,A0=Sc=null,Uo=0,($s&6)!==0)throw Error(l(331));var se=$s;if($s|=4,jv(L.current),bv(L,L.current,U,d),$s=se,Pu(0,!1),_t&&typeof _t.onPostCommitFiberRoot=="function")try{_t.onPostCommitFiberRoot(hs,L)}catch{}return!0}finally{V.p=S,H.T=m,Iv(r,n)}}function Uv(r,n,d){n=zl(d,n),n=Xm(r.stateNode,n,2),r=ns(r,n,2),r!==null&&(Dt(r,2),lo(r))}function Ks(r,n,d){if(r.tag===3)Uv(r,r,d);else for(;n!==null;){if(n.tag===3){Uv(n,r,d);break}else if(n.tag===1){var m=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(kc===null||!kc.has(m))){r=zl(d,r),d=$b(2),m=ns(n,d,2),m!==null&&(qb(d,m,n,r),Dt(m,2),lo(m));break}}n=n.return}}function yp(r,n,d){var m=r.pingCache;if(m===null){m=r.pingCache=new N4;var S=new Set;m.set(n,S)}else S=m.get(n),S===void 0&&(S=new Set,m.set(n,S));S.has(d)||(xp=!0,S.add(d),r=D4.bind(null,r,n,d),n.then(r,r))}function D4(r,n,d){var m=r.pingCache;m!==null&&m.delete(n),r.pingedLanes|=r.suspendedLanes&d,r.warmLanes&=~d,ca===r&&(ws&d)===d&&(Wa===4||Wa===3&&(ws&62914560)===ws&&300>Ge()-Wx?($s&2)===0&&D0(r,0):hp|=d,C0===ws&&(C0=0)),lo(r)}function $v(r,n){n===0&&(n=Ln()),r=wi(r,n),r!==null&&(Dt(r,n),lo(r))}function L4(r){var n=r.memoizedState,d=0;n!==null&&(d=n.retryLane),$v(r,d)}function E4(r,n){var d=0;switch(r.tag){case 31:case 13:var m=r.stateNode,S=r.memoizedState;S!==null&&(d=S.retryLane);break;case 19:m=r.stateNode;break;case 22:m=r.stateNode._retryCache;break;default:throw Error(l(314))}m!==null&&m.delete(n),$v(r,d)}function M4(r,n){return St(r,n)}var Qx=null,E0=null,jp=!1,Zx=!1,wp=!1,Ac=0;function lo(r){r!==E0&&r.next===null&&(E0===null?Qx=E0=r:E0=E0.next=r),Zx=!0,jp||(jp=!0,T4())}function Pu(r,n){if(!wp&&Zx){wp=!0;do for(var d=!1,m=Qx;m!==null;){if(r!==0){var S=m.pendingLanes;if(S===0)var L=0;else{var U=m.suspendedLanes,se=m.pingedLanes;L=(1<<31-fs(42|r)+1)-1,L&=S&~(U&~se),L=L&201326741?L&201326741|1:L?L|2:0}L!==0&&(d=!0,Gv(m,L))}else L=ws,L=Ss(m,m===ca?L:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(L&3)===0||Ql(m,L)||(d=!0,Gv(m,L));m=m.next}while(d);wp=!1}}function z4(){qv()}function qv(){Zx=jp=!1;var r=0;Ac!==0&&q4()&&(r=Ac);for(var n=Ge(),d=null,m=Qx;m!==null;){var S=m.next,L=Hv(m,n);L===0?(m.next=null,d===null?Qx=S:d.next=S,S===null&&(E0=d)):(d=m,(r!==0||(L&3)!==0)&&(Zx=!0)),m=S}yr!==0&&yr!==5||Pu(r),Ac!==0&&(Ac=0)}function Hv(r,n){for(var d=r.suspendedLanes,m=r.pingedLanes,S=r.expirationTimes,L=r.pendingLanes&-62914561;0<L;){var U=31-fs(L),se=1<<U,fe=S[U];fe===-1?((se&d)===0||(se&m)!==0)&&(S[U]=Nr(se,n)):fe<=n&&(r.expiredLanes|=se),L&=~se}if(n=ca,d=ws,d=Ss(r,r===n?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),m=r.callbackNode,d===0||r===n&&(Xs===2||Xs===9)||r.cancelPendingCommit!==null)return m!==null&&m!==null&&nt(m),r.callbackNode=null,r.callbackPriority=0;if((d&3)===0||Ql(r,d)){if(n=d&-d,n===r.callbackPriority)return n;switch(m!==null&&nt(m),Oa(d)){case 2:case 8:d=os;break;case 32:d=Yt;break;case 268435456:d=Jt;break;default:d=Yt}return m=Wv.bind(null,r),d=St(d,m),r.callbackPriority=n,r.callbackNode=d,n}return m!==null&&m!==null&&nt(m),r.callbackPriority=2,r.callbackNode=null,2}function Wv(r,n){if(yr!==0&&yr!==5)return r.callbackNode=null,r.callbackPriority=0,null;var d=r.callbackNode;if(Jx()&&r.callbackNode!==d)return null;var m=ws;return m=Ss(r,r===ca?m:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),m===0?null:(Cv(r,m,n),Hv(r,Ge()),r.callbackNode!=null&&r.callbackNode===d?Wv.bind(null,r):null)}function Gv(r,n){if(Jx())return null;Cv(r,n,!0)}function T4(){W4(function(){($s&6)!==0?St(vt,z4):qv()})}function Np(){if(Ac===0){var r=j;r===0&&(r=Gt,Gt<<=1,(Gt&261888)===0&&(Gt=256)),Ac=r}return Ac}function Vv(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Kr(""+r)}function Yv(r,n){var d=n.ownerDocument.createElement("input");return d.name=n.name,d.value=n.value,r.id&&d.setAttribute("form",r.id),n.parentNode.insertBefore(d,n),r=new FormData(r),d.parentNode.removeChild(d),r}function _4(r,n,d,m,S){if(n==="submit"&&d&&d.stateNode===S){var L=Vv((S[ma]||null).action),U=m.submitter;U&&(n=(n=U[ma]||null)?Vv(n.formAction):U.getAttribute("formAction"),n!==null&&(L=n,U=null));var se=new Dl("action","action",null,m,S);r.push({event:se,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Ac!==0){var fe=U?Yv(S,U):new FormData(S);qm(d,{pending:!0,data:fe,method:S.method,action:L},null,fe)}}else typeof L=="function"&&(se.preventDefault(),fe=U?Yv(S,U):new FormData(S),qm(d,{pending:!0,data:fe,method:S.method,action:L},L,fe))},currentTarget:S}]})}}for(var kp=0;kp<Co.length;kp++){var Sp=Co[kp],P4=Sp.toLowerCase(),R4=Sp[0].toUpperCase()+Sp.slice(1);El(P4,"on"+R4)}El(So,"onAnimationEnd"),El(ud,"onAnimationIteration"),El(du,"onAnimationStart"),El("dblclick","onDoubleClick"),El("focusin","onFocus"),El("focusout","onBlur"),El(kx,"onTransitionRun"),El(Sx,"onTransitionStart"),El(Cx,"onTransitionCancel"),El(uu,"onTransitionEnd"),ai("onMouseEnter",["mouseout","mouseover"]),ai("onMouseLeave",["mouseout","mouseover"]),ai("onPointerEnter",["pointerout","pointerover"]),ai("onPointerLeave",["pointerout","pointerover"]),an("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),an("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),an("onBeforeInput",["compositionend","keypress","textInput","paste"]),an("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ru="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ru));function Xv(r,n){n=(n&4)!==0;for(var d=0;d<r.length;d++){var m=r[d],S=m.event;m=m.listeners;e:{var L=void 0;if(n)for(var U=m.length-1;0<=U;U--){var se=m[U],fe=se.instance,ze=se.currentTarget;if(se=se.listener,fe!==L&&S.isPropagationStopped())break e;L=se,S.currentTarget=ze;try{L(S)}catch(Ie){xd(Ie)}S.currentTarget=null,L=fe}else for(U=0;U<m.length;U++){if(se=m[U],fe=se.instance,ze=se.currentTarget,se=se.listener,fe!==L&&S.isPropagationStopped())break e;L=se,S.currentTarget=ze;try{L(S)}catch(Ie){xd(Ie)}S.currentTarget=null,L=fe}}}}function js(r,n){var d=n[hl];d===void 0&&(d=n[hl]=new Set);var m=r+"__bubble";d.has(m)||(Kv(n,r,2,!1),d.add(m))}function Cp(r,n,d){var m=0;n&&(m|=4),Kv(d,r,m,n)}var eh="_reactListening"+Math.random().toString(36).slice(2);function Ap(r){if(!r[eh]){r[eh]=!0,Yc.forEach(function(d){d!=="selectionchange"&&(O4.has(d)||Cp(d,!1,r),Cp(d,!0,r))});var n=r.nodeType===9?r:r.ownerDocument;n===null||n[eh]||(n[eh]=!0,Cp("selectionchange",!1,n))}}function Kv(r,n,d,m){switch(S1(n)){case 2:var S=u6;break;case 8:S=x6;break;default:S=$p}d=S.bind(null,n,d,r),S=void 0,!nd||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(S=!0),m?S!==void 0?r.addEventListener(n,d,{capture:!0,passive:S}):r.addEventListener(n,d,!0):S!==void 0?r.addEventListener(n,d,{passive:S}):r.addEventListener(n,d,!1)}function Dp(r,n,d,m,S){var L=m;if((n&1)===0&&(n&2)===0&&m!==null)e:for(;;){if(m===null)return;var U=m.tag;if(U===3||U===4){var se=m.stateNode.containerInfo;if(se===S)break;if(U===4)for(U=m.return;U!==null;){var fe=U.tag;if((fe===3||fe===4)&&U.stateNode.containerInfo===S)return;U=U.return}for(;se!==null;){if(U=tn(se),U===null)return;if(fe=U.tag,fe===5||fe===6||fe===26||fe===27){m=L=U;continue e}se=se.parentNode}}m=m.return}Jd(function(){var ze=L,Ie=bo(d),He=[];e:{var _e=xu.get(r);if(_e!==void 0){var Re=Dl,mt=r;switch(r){case"keypress":if(Al(d)===0)break e;case"keydown":case"keyup":Re=Cs;break;case"focusin":mt="focus",Re=ui;break;case"focusout":mt="blur",Re=ui;break;case"beforeblur":case"afterblur":Re=ui;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Re=id;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Re=di;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Re=Ka;break;case So:case ud:case du:Re=M;break;case uu:Re=hr;break;case"scroll":case"scrollend":Re=ac;break;case"wheel":Re=on;break;case"copy":case"cut":case"paste":Re=xe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Re=Ea;break;case"toggle":case"beforetoggle":Re=od}var $t=(n&4)!==0,la=!$t&&(r==="scroll"||r==="scrollend"),Se=$t?_e!==null?_e+"Capture":null:_e;$t=[];for(var je=ze,Me;je!==null;){var qe=je;if(Me=qe.stateNode,qe=qe.tag,qe!==5&&qe!==26&&qe!==27||Me===null||Se===null||(qe=fl(je,Se),qe!=null&&$t.push(Ou(je,qe,Me))),la)break;je=je.return}0<$t.length&&(_e=new Re(_e,mt,null,d,Ie),He.push({event:_e,listeners:$t}))}}if((n&7)===0){e:{if(_e=r==="mouseover"||r==="pointerover",Re=r==="mouseout"||r==="pointerout",_e&&d!==li&&(mt=d.relatedTarget||d.fromElement)&&(tn(mt)||mt[kr]))break e;if((Re||_e)&&(_e=Ie.window===Ie?Ie:(_e=Ie.ownerDocument)?_e.defaultView||_e.parentWindow:window,Re?(mt=d.relatedTarget||d.toElement,Re=ze,mt=mt?tn(mt):null,mt!==null&&(la=o(mt),$t=mt.tag,mt!==la||$t!==5&&$t!==27&&$t!==6)&&(mt=null)):(Re=null,mt=ze),Re!==mt)){if($t=id,qe="onMouseLeave",Se="onMouseEnter",je="mouse",(r==="pointerout"||r==="pointerover")&&($t=Ea,qe="onPointerLeave",Se="onPointerEnter",je="pointer"),la=Re==null?_e:fo(Re),Me=mt==null?_e:fo(mt),_e=new $t(qe,je+"leave",Re,d,Ie),_e.target=la,_e.relatedTarget=Me,qe=null,tn(Ie)===ze&&($t=new $t(Se,je+"enter",mt,d,Ie),$t.target=Me,$t.relatedTarget=la,qe=$t),la=qe,Re&&mt)t:{for($t=F4,Se=Re,je=mt,Me=0,qe=Se;qe;qe=$t(qe))Me++;qe=0;for(var zt=je;zt;zt=$t(zt))qe++;for(;0<Me-qe;)Se=$t(Se),Me--;for(;0<qe-Me;)je=$t(je),qe--;for(;Me--;){if(Se===je||je!==null&&Se===je.alternate){$t=Se;break t}Se=$t(Se),je=$t(je)}$t=null}else $t=null;Re!==null&&Jv(He,_e,Re,$t,!1),mt!==null&&la!==null&&Jv(He,la,mt,$t,!0)}}e:{if(_e=ze?fo(ze):window,Re=_e.nodeName&&_e.nodeName.toLowerCase(),Re==="select"||Re==="input"&&_e.type==="file")var Fs=Gi;else if(cd(_e))if(Jr)Fs=In;else{Fs=Ma;var jt=oc}else Re=_e.nodeName,!Re||Re.toLowerCase()!=="input"||_e.type!=="checkbox"&&_e.type!=="radio"?ze&&ad(ze.elementType)&&(Fs=Gi):Fs=t0;if(Fs&&(Fs=Fs(r,ze))){bl(He,Fs,d,Ie);break e}jt&&jt(r,_e,ze),r==="focusout"&&ze&&_e.type==="number"&&ze.memoizedProps.value!=null&&ed(_e,"number",_e.value)}switch(jt=ze?fo(ze):window,r){case"focusin":(cd(jt)||jt.contentEditable==="true")&&(vl=jt,ji=ze,Sr=null);break;case"focusout":Sr=ji=vl=null;break;case"mousedown":Ll=!0;break;case"contextmenu":case"mouseup":case"dragend":Ll=!1,_s(He,d,Ie);break;case"selectionchange":if(ko)break;case"keydown":case"keyup":_s(He,d,Ie)}var cs;if(Pn)e:{switch(r){case"compositionstart":var Ns="onCompositionStart";break e;case"compositionend":Ns="onCompositionEnd";break e;case"compositionupdate":Ns="onCompositionUpdate";break e}Ns=void 0}else Rn?Wi(r,d)&&(Ns="onCompositionEnd"):r==="keydown"&&d.keyCode===229&&(Ns="onCompositionStart");Ns&&(mi&&d.locale!=="ko"&&(Rn||Ns!=="onCompositionStart"?Ns==="onCompositionEnd"&&Rn&&(cs=Qd()):(gl=Ie,yo="value"in gl?gl.value:gl.textContent,Rn=!0)),jt=th(ze,Ns),0<jt.length&&(Ns=new ke(Ns,r,null,d,Ie),He.push({event:Ns,listeners:jt}),cs?Ns.data=cs:(cs=lc(d),cs!==null&&(Ns.data=cs)))),(cs=No?Ir(r,d):pi(r,d))&&(Ns=th(ze,"onBeforeInput"),0<Ns.length&&(jt=new ke("onBeforeInput","beforeinput",null,d,Ie),He.push({event:jt,listeners:Ns}),jt.data=cs)),_4(He,r,ze,d,Ie)}Xv(He,n)})}function Ou(r,n,d){return{instance:r,listener:n,currentTarget:d}}function th(r,n){for(var d=n+"Capture",m=[];r!==null;){var S=r,L=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||L===null||(S=fl(r,d),S!=null&&m.unshift(Ou(r,S,L)),S=fl(r,n),S!=null&&m.push(Ou(r,S,L))),r.tag===3)return m;r=r.return}return[]}function F4(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Jv(r,n,d,m,S){for(var L=n._reactName,U=[];d!==null&&d!==m;){var se=d,fe=se.alternate,ze=se.stateNode;if(se=se.tag,fe!==null&&fe===m)break;se!==5&&se!==26&&se!==27||ze===null||(fe=ze,S?(ze=fl(d,L),ze!=null&&U.unshift(Ou(d,ze,fe))):S||(ze=fl(d,L),ze!=null&&U.push(Ou(d,ze,fe)))),d=d.return}U.length!==0&&r.push({event:n,listeners:U})}var I4=/\r\n?/g,B4=/\u0000|\uFFFD/g;function Qv(r){return(typeof r=="string"?r:""+r).replace(I4,`
`).replace(B4,"")}function Zv(r,n){return n=Qv(n),Qv(r)===n}function ra(r,n,d,m,S,L){switch(d){case"children":typeof m=="string"?n==="body"||n==="textarea"&&m===""||ln(r,m):(typeof m=="number"||typeof m=="bigint")&&n!=="body"&&ln(r,""+m);break;case"className":ri(r,"class",m);break;case"tabIndex":ri(r,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":ri(r,d,m);break;case"style":Yd(r,m,L);break;case"data":if(n!=="object"){ri(r,"data",m);break}case"src":case"href":if(m===""&&(n!=="a"||d!=="href")){r.removeAttribute(d);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){r.removeAttribute(d);break}m=Kr(""+m),r.setAttribute(d,m);break;case"action":case"formAction":if(typeof m=="function"){r.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof L=="function"&&(d==="formAction"?(n!=="input"&&ra(r,n,"name",S.name,S,null),ra(r,n,"formEncType",S.formEncType,S,null),ra(r,n,"formMethod",S.formMethod,S,null),ra(r,n,"formTarget",S.formTarget,S,null)):(ra(r,n,"encType",S.encType,S,null),ra(r,n,"method",S.method,S,null),ra(r,n,"target",S.target,S,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){r.removeAttribute(d);break}m=Kr(""+m),r.setAttribute(d,m);break;case"onClick":m!=null&&(r.onclick=nn);break;case"onScroll":m!=null&&js("scroll",r);break;case"onScrollEnd":m!=null&&js("scrollend",r);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(l(61));if(d=m.__html,d!=null){if(S.children!=null)throw Error(l(60));r.innerHTML=d}}break;case"multiple":r.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":r.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){r.removeAttribute("xlink:href");break}d=Kr(""+m),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(d,""+m):r.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(d,""):r.removeAttribute(d);break;case"capture":case"download":m===!0?r.setAttribute(d,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(d,m):r.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?r.setAttribute(d,m):r.removeAttribute(d);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?r.removeAttribute(d):r.setAttribute(d,m);break;case"popover":js("beforetoggle",r),js("toggle",r),pl(r,"popover",m);break;case"xlinkActuate":rn(r,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":rn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":rn(r,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":rn(r,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":rn(r,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":rn(r,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":rn(r,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":rn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":rn(r,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":pl(r,"is",m);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=rd.get(d)||d,pl(r,d,m))}}function Lp(r,n,d,m,S,L){switch(d){case"style":Yd(r,m,L);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(l(61));if(d=m.__html,d!=null){if(S.children!=null)throw Error(l(60));r.innerHTML=d}}break;case"children":typeof m=="string"?ln(r,m):(typeof m=="number"||typeof m=="bigint")&&ln(r,""+m);break;case"onScroll":m!=null&&js("scroll",r);break;case"onScrollEnd":m!=null&&js("scrollend",r);break;case"onClick":m!=null&&(r.onclick=nn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ml.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(S=d.endsWith("Capture"),n=d.slice(2,S?d.length-7:void 0),L=r[ma]||null,L=L!=null?L[d]:null,typeof L=="function"&&r.removeEventListener(n,L,S),typeof m=="function")){typeof L!="function"&&L!==null&&(d in r?r[d]=null:r.hasAttribute(d)&&r.removeAttribute(d)),r.addEventListener(n,m,S);break e}d in r?r[d]=m:m===!0?r.setAttribute(d,""):pl(r,d,m)}}}function Hr(r,n,d){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":js("error",r),js("load",r);var m=!1,S=!1,L;for(L in d)if(d.hasOwnProperty(L)){var U=d[L];if(U!=null)switch(L){case"src":m=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:ra(r,n,L,U,d,null)}}S&&ra(r,n,"srcSet",d.srcSet,d,null),m&&ra(r,n,"src",d.src,d,null);return;case"input":js("invalid",r);var se=L=U=S=null,fe=null,ze=null;for(m in d)if(d.hasOwnProperty(m)){var Ie=d[m];if(Ie!=null)switch(m){case"name":S=Ie;break;case"type":U=Ie;break;case"checked":fe=Ie;break;case"defaultChecked":ze=Ie;break;case"value":L=Ie;break;case"defaultValue":se=Ie;break;case"children":case"dangerouslySetInnerHTML":if(Ie!=null)throw Error(l(137,n));break;default:ra(r,n,m,Ie,d,null)}}Gd(r,L,se,fe,ze,U,S,!1);return;case"select":js("invalid",r),m=U=L=null;for(S in d)if(d.hasOwnProperty(S)&&(se=d[S],se!=null))switch(S){case"value":L=se;break;case"defaultValue":U=se;break;case"multiple":m=se;default:ra(r,n,S,se,d,null)}n=L,d=U,r.multiple=!!m,n!=null?Fr(r,!!m,n,!1):d!=null&&Fr(r,!!m,d,!0);return;case"textarea":js("invalid",r),L=S=m=null;for(U in d)if(d.hasOwnProperty(U)&&(se=d[U],se!=null))switch(U){case"value":m=se;break;case"defaultValue":S=se;break;case"children":L=se;break;case"dangerouslySetInnerHTML":if(se!=null)throw Error(l(91));break;default:ra(r,n,U,se,d,null)}sd(r,m,S,L);return;case"option":for(fe in d)d.hasOwnProperty(fe)&&(m=d[fe],m!=null)&&(fe==="selected"?r.selected=m&&typeof m!="function"&&typeof m!="symbol":ra(r,n,fe,m,d,null));return;case"dialog":js("beforetoggle",r),js("toggle",r),js("cancel",r),js("close",r);break;case"iframe":case"object":js("load",r);break;case"video":case"audio":for(m=0;m<Ru.length;m++)js(Ru[m],r);break;case"image":js("error",r),js("load",r);break;case"details":js("toggle",r);break;case"embed":case"source":case"link":js("error",r),js("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ze in d)if(d.hasOwnProperty(ze)&&(m=d[ze],m!=null))switch(ze){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:ra(r,n,ze,m,d,null)}return;default:if(ad(n)){for(Ie in d)d.hasOwnProperty(Ie)&&(m=d[Ie],m!==void 0&&Lp(r,n,Ie,m,d,void 0));return}}for(se in d)d.hasOwnProperty(se)&&(m=d[se],m!=null&&ra(r,n,se,m,d,null))}function U4(r,n,d,m){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,L=null,U=null,se=null,fe=null,ze=null,Ie=null;for(Re in d){var He=d[Re];if(d.hasOwnProperty(Re)&&He!=null)switch(Re){case"checked":break;case"value":break;case"defaultValue":fe=He;default:m.hasOwnProperty(Re)||ra(r,n,Re,null,m,He)}}for(var _e in m){var Re=m[_e];if(He=d[_e],m.hasOwnProperty(_e)&&(Re!=null||He!=null))switch(_e){case"type":L=Re;break;case"name":S=Re;break;case"checked":ze=Re;break;case"defaultChecked":Ie=Re;break;case"value":U=Re;break;case"defaultValue":se=Re;break;case"children":case"dangerouslySetInnerHTML":if(Re!=null)throw Error(l(137,n));break;default:Re!==He&&ra(r,n,_e,Re,m,He)}}ec(r,U,se,fe,ze,Ie,L,S);return;case"select":Re=U=se=_e=null;for(L in d)if(fe=d[L],d.hasOwnProperty(L)&&fe!=null)switch(L){case"value":break;case"multiple":Re=fe;default:m.hasOwnProperty(L)||ra(r,n,L,null,m,fe)}for(S in m)if(L=m[S],fe=d[S],m.hasOwnProperty(S)&&(L!=null||fe!=null))switch(S){case"value":_e=L;break;case"defaultValue":se=L;break;case"multiple":U=L;default:L!==fe&&ra(r,n,S,L,m,fe)}n=se,d=U,m=Re,_e!=null?Fr(r,!!d,_e,!1):!!m!=!!d&&(n!=null?Fr(r,!!d,n,!0):Fr(r,!!d,d?[]:"",!1));return;case"textarea":Re=_e=null;for(se in d)if(S=d[se],d.hasOwnProperty(se)&&S!=null&&!m.hasOwnProperty(se))switch(se){case"value":break;case"children":break;default:ra(r,n,se,null,m,S)}for(U in m)if(S=m[U],L=d[U],m.hasOwnProperty(U)&&(S!=null||L!=null))switch(U){case"value":_e=S;break;case"defaultValue":Re=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(l(91));break;default:S!==L&&ra(r,n,U,S,m,L)}td(r,_e,Re);return;case"option":for(var mt in d)_e=d[mt],d.hasOwnProperty(mt)&&_e!=null&&!m.hasOwnProperty(mt)&&(mt==="selected"?r.selected=!1:ra(r,n,mt,null,m,_e));for(fe in m)_e=m[fe],Re=d[fe],m.hasOwnProperty(fe)&&_e!==Re&&(_e!=null||Re!=null)&&(fe==="selected"?r.selected=_e&&typeof _e!="function"&&typeof _e!="symbol":ra(r,n,fe,_e,m,Re));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var $t in d)_e=d[$t],d.hasOwnProperty($t)&&_e!=null&&!m.hasOwnProperty($t)&&ra(r,n,$t,null,m,_e);for(ze in m)if(_e=m[ze],Re=d[ze],m.hasOwnProperty(ze)&&_e!==Re&&(_e!=null||Re!=null))switch(ze){case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(l(137,n));break;default:ra(r,n,ze,_e,m,Re)}return;default:if(ad(n)){for(var la in d)_e=d[la],d.hasOwnProperty(la)&&_e!==void 0&&!m.hasOwnProperty(la)&&Lp(r,n,la,void 0,m,_e);for(Ie in m)_e=m[Ie],Re=d[Ie],!m.hasOwnProperty(Ie)||_e===Re||_e===void 0&&Re===void 0||Lp(r,n,Ie,_e,m,Re);return}}for(var Se in d)_e=d[Se],d.hasOwnProperty(Se)&&_e!=null&&!m.hasOwnProperty(Se)&&ra(r,n,Se,null,m,_e);for(He in m)_e=m[He],Re=d[He],!m.hasOwnProperty(He)||_e===Re||_e==null&&Re==null||ra(r,n,He,_e,m,Re)}function e1(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $4(){if(typeof performance.getEntriesByType=="function"){for(var r=0,n=0,d=performance.getEntriesByType("resource"),m=0;m<d.length;m++){var S=d[m],L=S.transferSize,U=S.initiatorType,se=S.duration;if(L&&se&&e1(U)){for(U=0,se=S.responseEnd,m+=1;m<d.length;m++){var fe=d[m],ze=fe.startTime;if(ze>se)break;var Ie=fe.transferSize,He=fe.initiatorType;Ie&&e1(He)&&(fe=fe.responseEnd,U+=Ie*(fe<se?1:(se-ze)/(fe-ze)))}if(--m,n+=8*(L+U)/(S.duration/1e3),r++,10<r)break}}if(0<r)return n/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var Ep=null,Mp=null;function sh(r){return r.nodeType===9?r:r.ownerDocument}function t1(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function s1(r,n){if(r===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&n==="foreignObject"?0:r}function zp(r,n){return r==="textarea"||r==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Tp=null;function q4(){var r=window.event;return r&&r.type==="popstate"?r===Tp?!1:(Tp=r,!0):(Tp=null,!1)}var a1=typeof setTimeout=="function"?setTimeout:void 0,H4=typeof clearTimeout=="function"?clearTimeout:void 0,r1=typeof Promise=="function"?Promise:void 0,W4=typeof queueMicrotask=="function"?queueMicrotask:typeof r1<"u"?function(r){return r1.resolve(null).then(r).catch(G4)}:a1;function G4(r){setTimeout(function(){throw r})}function Dc(r){return r==="head"}function l1(r,n){var d=n,m=0;do{var S=d.nextSibling;if(r.removeChild(d),S&&S.nodeType===8)if(d=S.data,d==="/$"||d==="/&"){if(m===0){r.removeChild(S),_0(n);return}m--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")m++;else if(d==="html")Fu(r.ownerDocument.documentElement);else if(d==="head"){d=r.ownerDocument.head,Fu(d);for(var L=d.firstChild;L;){var U=L.nextSibling,se=L.nodeName;L[en]||se==="SCRIPT"||se==="STYLE"||se==="LINK"&&L.rel.toLowerCase()==="stylesheet"||d.removeChild(L),L=U}}else d==="body"&&Fu(r.ownerDocument.body);d=S}while(d);_0(n)}function n1(r,n){var d=r;r=0;do{var m=d.nextSibling;if(d.nodeType===1?n?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(n?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),m&&m.nodeType===8)if(d=m.data,d==="/$"){if(r===0)break;r--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||r++;d=m}while(d)}function _p(r){var n=r.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var d=n;switch(n=n.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":_p(d),Ui(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}r.removeChild(d)}}function V4(r,n,d,m){for(;r.nodeType===1;){var S=d;if(r.nodeName.toLowerCase()!==n.toLowerCase()){if(!m&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(m){if(!r[en])switch(n){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(L=r.getAttribute("rel"),L==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(L!==S.rel||r.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||r.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||r.getAttribute("title")!==(S.title==null?null:S.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(L=r.getAttribute("src"),(L!==(S.src==null?null:S.src)||r.getAttribute("type")!==(S.type==null?null:S.type)||r.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&L&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(n==="input"&&r.type==="hidden"){var L=S.name==null?null:""+S.name;if(S.type==="hidden"&&r.getAttribute("name")===L)return r}else return r;if(r=Gn(r.nextSibling),r===null)break}return null}function Y4(r,n,d){if(n==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!d||(r=Gn(r.nextSibling),r===null))return null;return r}function i1(r,n){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!n||(r=Gn(r.nextSibling),r===null))return null;return r}function Pp(r){return r.data==="$?"||r.data==="$~"}function Rp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function X4(r,n){var d=r.ownerDocument;if(r.data==="$~")r._reactRetry=n;else if(r.data!=="$?"||d.readyState!=="loading")n();else{var m=function(){n(),d.removeEventListener("DOMContentLoaded",m)};d.addEventListener("DOMContentLoaded",m),r._reactRetry=m}}function Gn(r){for(;r!=null;r=r.nextSibling){var n=r.nodeType;if(n===1||n===3)break;if(n===8){if(n=r.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return r}var Op=null;function o1(r){r=r.nextSibling;for(var n=0;r;){if(r.nodeType===8){var d=r.data;if(d==="/$"||d==="/&"){if(n===0)return Gn(r.nextSibling);n--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||n++}r=r.nextSibling}return null}function c1(r){r=r.previousSibling;for(var n=0;r;){if(r.nodeType===8){var d=r.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(n===0)return r;n--}else d!=="/$"&&d!=="/&"||n++}r=r.previousSibling}return null}function d1(r,n,d){switch(n=sh(d),r){case"html":if(r=n.documentElement,!r)throw Error(l(452));return r;case"head":if(r=n.head,!r)throw Error(l(453));return r;case"body":if(r=n.body,!r)throw Error(l(454));return r;default:throw Error(l(451))}}function Fu(r){for(var n=r.attributes;n.length;)r.removeAttributeNode(n[0]);Ui(r)}var Vn=new Map,u1=new Set;function ah(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var $o=V.d;V.d={f:K4,r:J4,D:Q4,C:Z4,L:e6,m:t6,X:a6,S:s6,M:r6};function K4(){var r=$o.f(),n=Yx();return r||n}function J4(r){var n=sn(r);n!==null&&n.tag===5&&n.type==="form"?Db(n):$o.r(r)}var M0=typeof document>"u"?null:document;function x1(r,n,d){var m=M0;if(m&&typeof n=="string"&&n){var S=Fa(n);S='link[rel="'+r+'"][href="'+S+'"]',typeof d=="string"&&(S+='[crossorigin="'+d+'"]'),u1.has(S)||(u1.add(S),r={rel:r,crossOrigin:d,href:n},m.querySelector(S)===null&&(n=m.createElement("link"),Hr(n,"link",r),La(n),m.head.appendChild(n)))}}function Q4(r){$o.D(r),x1("dns-prefetch",r,null)}function Z4(r,n){$o.C(r,n),x1("preconnect",r,n)}function e6(r,n,d){$o.L(r,n,d);var m=M0;if(m&&r&&n){var S='link[rel="preload"][as="'+Fa(n)+'"]';n==="image"&&d&&d.imageSrcSet?(S+='[imagesrcset="'+Fa(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(S+='[imagesizes="'+Fa(d.imageSizes)+'"]')):S+='[href="'+Fa(r)+'"]';var L=S;switch(n){case"style":L=z0(r);break;case"script":L=T0(r)}Vn.has(L)||(r=f({rel:"preload",href:n==="image"&&d&&d.imageSrcSet?void 0:r,as:n},d),Vn.set(L,r),m.querySelector(S)!==null||n==="style"&&m.querySelector(Iu(L))||n==="script"&&m.querySelector(Bu(L))||(n=m.createElement("link"),Hr(n,"link",r),La(n),m.head.appendChild(n)))}}function t6(r,n){$o.m(r,n);var d=M0;if(d&&r){var m=n&&typeof n.as=="string"?n.as:"script",S='link[rel="modulepreload"][as="'+Fa(m)+'"][href="'+Fa(r)+'"]',L=S;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":L=T0(r)}if(!Vn.has(L)&&(r=f({rel:"modulepreload",href:r},n),Vn.set(L,r),d.querySelector(S)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Bu(L)))return}m=d.createElement("link"),Hr(m,"link",r),La(m),d.head.appendChild(m)}}}function s6(r,n,d){$o.S(r,n,d);var m=M0;if(m&&r){var S=Mn(m).hoistableStyles,L=z0(r);n=n||"default";var U=S.get(L);if(!U){var se={loading:0,preload:null};if(U=m.querySelector(Iu(L)))se.loading=5;else{r=f({rel:"stylesheet",href:r,"data-precedence":n},d),(d=Vn.get(L))&&Fp(r,d);var fe=U=m.createElement("link");La(fe),Hr(fe,"link",r),fe._p=new Promise(function(ze,Ie){fe.onload=ze,fe.onerror=Ie}),fe.addEventListener("load",function(){se.loading|=1}),fe.addEventListener("error",function(){se.loading|=2}),se.loading|=4,rh(U,n,m)}U={type:"stylesheet",instance:U,count:1,state:se},S.set(L,U)}}}function a6(r,n){$o.X(r,n);var d=M0;if(d&&r){var m=Mn(d).hoistableScripts,S=T0(r),L=m.get(S);L||(L=d.querySelector(Bu(S)),L||(r=f({src:r,async:!0},n),(n=Vn.get(S))&&Ip(r,n),L=d.createElement("script"),La(L),Hr(L,"link",r),d.head.appendChild(L)),L={type:"script",instance:L,count:1,state:null},m.set(S,L))}}function r6(r,n){$o.M(r,n);var d=M0;if(d&&r){var m=Mn(d).hoistableScripts,S=T0(r),L=m.get(S);L||(L=d.querySelector(Bu(S)),L||(r=f({src:r,async:!0,type:"module"},n),(n=Vn.get(S))&&Ip(r,n),L=d.createElement("script"),La(L),Hr(L,"link",r),d.head.appendChild(L)),L={type:"script",instance:L,count:1,state:null},m.set(S,L))}}function h1(r,n,d,m){var S=(S=ae.current)?ah(S):null;if(!S)throw Error(l(446));switch(r){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(n=z0(d.href),d=Mn(S).hoistableStyles,m=d.get(n),m||(m={type:"style",instance:null,count:0,state:null},d.set(n,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){r=z0(d.href);var L=Mn(S).hoistableStyles,U=L.get(r);if(U||(S=S.ownerDocument||S,U={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},L.set(r,U),(L=S.querySelector(Iu(r)))&&!L._p&&(U.instance=L,U.state.loading=5),Vn.has(r)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Vn.set(r,d),L||l6(S,r,d,U.state))),n&&m===null)throw Error(l(528,""));return U}if(n&&m!==null)throw Error(l(529,""));return null;case"script":return n=d.async,d=d.src,typeof d=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=T0(d),d=Mn(S).hoistableScripts,m=d.get(n),m||(m={type:"script",instance:null,count:0,state:null},d.set(n,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,r))}}function z0(r){return'href="'+Fa(r)+'"'}function Iu(r){return'link[rel="stylesheet"]['+r+"]"}function m1(r){return f({},r,{"data-precedence":r.precedence,precedence:null})}function l6(r,n,d,m){r.querySelector('link[rel="preload"][as="style"]['+n+"]")?m.loading=1:(n=r.createElement("link"),m.preload=n,n.addEventListener("load",function(){return m.loading|=1}),n.addEventListener("error",function(){return m.loading|=2}),Hr(n,"link",d),La(n),r.head.appendChild(n))}function T0(r){return'[src="'+Fa(r)+'"]'}function Bu(r){return"script[async]"+r}function p1(r,n,d){if(n.count++,n.instance===null)switch(n.type){case"style":var m=r.querySelector('style[data-href~="'+Fa(d.href)+'"]');if(m)return n.instance=m,La(m),m;var S=f({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return m=(r.ownerDocument||r).createElement("style"),La(m),Hr(m,"style",S),rh(m,d.precedence,r),n.instance=m;case"stylesheet":S=z0(d.href);var L=r.querySelector(Iu(S));if(L)return n.state.loading|=4,n.instance=L,La(L),L;m=m1(d),(S=Vn.get(S))&&Fp(m,S),L=(r.ownerDocument||r).createElement("link"),La(L);var U=L;return U._p=new Promise(function(se,fe){U.onload=se,U.onerror=fe}),Hr(L,"link",m),n.state.loading|=4,rh(L,d.precedence,r),n.instance=L;case"script":return L=T0(d.src),(S=r.querySelector(Bu(L)))?(n.instance=S,La(S),S):(m=d,(S=Vn.get(L))&&(m=f({},d),Ip(m,S)),r=r.ownerDocument||r,S=r.createElement("script"),La(S),Hr(S,"link",m),r.head.appendChild(S),n.instance=S);case"void":return null;default:throw Error(l(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(m=n.instance,n.state.loading|=4,rh(m,d.precedence,r));return n.instance}function rh(r,n,d){for(var m=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=m.length?m[m.length-1]:null,L=S,U=0;U<m.length;U++){var se=m[U];if(se.dataset.precedence===n)L=se;else if(L!==S)break}L?L.parentNode.insertBefore(r,L.nextSibling):(n=d.nodeType===9?d.head:d,n.insertBefore(r,n.firstChild))}function Fp(r,n){r.crossOrigin==null&&(r.crossOrigin=n.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=n.referrerPolicy),r.title==null&&(r.title=n.title)}function Ip(r,n){r.crossOrigin==null&&(r.crossOrigin=n.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=n.referrerPolicy),r.integrity==null&&(r.integrity=n.integrity)}var lh=null;function f1(r,n,d){if(lh===null){var m=new Map,S=lh=new Map;S.set(d,m)}else S=lh,m=S.get(d),m||(m=new Map,S.set(d,m));if(m.has(r))return m;for(m.set(r,null),d=d.getElementsByTagName(r),S=0;S<d.length;S++){var L=d[S];if(!(L[en]||L[Vs]||r==="link"&&L.getAttribute("rel")==="stylesheet")&&L.namespaceURI!=="http://www.w3.org/2000/svg"){var U=L.getAttribute(n)||"";U=r+U;var se=m.get(U);se?se.push(L):m.set(U,[L])}}return m}function g1(r,n,d){r=r.ownerDocument||r,r.head.insertBefore(d,n==="title"?r.querySelector("head > title"):null)}function n6(r,n,d){if(d===1||n.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(r=n.disabled,typeof n.precedence=="string"&&r==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function b1(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function i6(r,n,d,m){if(d.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var S=z0(m.href),L=n.querySelector(Iu(S));if(L){n=L._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(r.count++,r=nh.bind(r),n.then(r,r)),d.state.loading|=4,d.instance=L,La(L);return}L=n.ownerDocument||n,m=m1(m),(S=Vn.get(S))&&Fp(m,S),L=L.createElement("link"),La(L);var U=L;U._p=new Promise(function(se,fe){U.onload=se,U.onerror=fe}),Hr(L,"link",m),d.instance=L}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(d,n),(n=d.state.preload)&&(d.state.loading&3)===0&&(r.count++,d=nh.bind(r),n.addEventListener("load",d),n.addEventListener("error",d))}}var Bp=0;function o6(r,n){return r.stylesheets&&r.count===0&&oh(r,r.stylesheets),0<r.count||0<r.imgCount?function(d){var m=setTimeout(function(){if(r.stylesheets&&oh(r,r.stylesheets),r.unsuspend){var L=r.unsuspend;r.unsuspend=null,L()}},6e4+n);0<r.imgBytes&&Bp===0&&(Bp=62500*$4());var S=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&oh(r,r.stylesheets),r.unsuspend)){var L=r.unsuspend;r.unsuspend=null,L()}},(r.imgBytes>Bp?50:800)+n);return r.unsuspend=d,function(){r.unsuspend=null,clearTimeout(m),clearTimeout(S)}}:null}function nh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)oh(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var ih=null;function oh(r,n){r.stylesheets=null,r.unsuspend!==null&&(r.count++,ih=new Map,n.forEach(c6,r),ih=null,nh.call(r))}function c6(r,n){if(!(n.state.loading&4)){var d=ih.get(r);if(d)var m=d.get(null);else{d=new Map,ih.set(r,d);for(var S=r.querySelectorAll("link[data-precedence],style[data-precedence]"),L=0;L<S.length;L++){var U=S[L];(U.nodeName==="LINK"||U.getAttribute("media")!=="not all")&&(d.set(U.dataset.precedence,U),m=U)}m&&d.set(null,m)}S=n.instance,U=S.getAttribute("data-precedence"),L=d.get(U)||m,L===m&&d.set(null,S),d.set(U,S),this.count++,m=nh.bind(this),S.addEventListener("load",m),S.addEventListener("error",m),L?L.parentNode.insertBefore(S,L.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(S,r.firstChild)),n.state.loading|=4}}var Uu={$$typeof:E,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function d6(r,n,d,m,S,L,U,se,fe){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Sl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sl(0),this.hiddenUpdates=Sl(null),this.identifierPrefix=m,this.onUncaughtError=S,this.onCaughtError=L,this.onRecoverableError=U,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=fe,this.incompleteTransitions=new Map}function v1(r,n,d,m,S,L,U,se,fe,ze,Ie,He){return r=new d6(r,n,d,U,fe,ze,Ie,He,se),n=1,L===!0&&(n|=24),L=Ar(3,null,null,n),r.current=L,L.stateNode=r,n=fc(),n.refCount++,r.pooledCache=n,n.refCount++,L.memoizedState={element:m,isDehydrated:d,cache:n},at(L),r}function y1(r){return r?(r=pr,r):pr}function j1(r,n,d,m,S,L){S=y1(S),m.context===null?m.context=S:m.pendingContext=S,m=Ot(n),m.payload={element:d},L=L===void 0?null:L,L!==null&&(m.callback=L),d=ns(r,m,n),d!==null&&(ql(d,r,n),Bs(d,r,n))}function w1(r,n){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var d=r.retryLane;r.retryLane=d!==0&&d<n?d:n}}function Up(r,n){w1(r,n),(r=r.alternate)&&w1(r,n)}function N1(r){if(r.tag===13||r.tag===31){var n=wi(r,67108864);n!==null&&ql(n,r,67108864),Up(r,67108864)}}function k1(r){if(r.tag===13||r.tag===31){var n=fn();n=ha(n);var d=wi(r,n);d!==null&&ql(d,r,n),Up(r,n)}}var ch=!0;function u6(r,n,d,m){var S=H.T;H.T=null;var L=V.p;try{V.p=2,$p(r,n,d,m)}finally{V.p=L,H.T=S}}function x6(r,n,d,m){var S=H.T;H.T=null;var L=V.p;try{V.p=8,$p(r,n,d,m)}finally{V.p=L,H.T=S}}function $p(r,n,d,m){if(ch){var S=qp(m);if(S===null)Dp(r,n,m,dh,d),C1(r,m);else if(m6(S,r,n,d,m))m.stopPropagation();else if(C1(r,m),n&4&&-1<h6.indexOf(r)){for(;S!==null;){var L=sn(S);if(L!==null)switch(L.tag){case 3:if(L=L.stateNode,L.current.memoizedState.isDehydrated){var U=Ct(L.pendingLanes);if(U!==0){var se=L;for(se.pendingLanes|=2,se.entangledLanes|=2;U;){var fe=1<<31-fs(U);se.entanglements[1]|=fe,U&=~fe}lo(L),($s&6)===0&&(Gx=Ge()+500,Pu(0))}}break;case 31:case 13:se=wi(L,2),se!==null&&ql(se,L,2),Yx(),Up(L,2)}if(L=qp(m),L===null&&Dp(r,n,m,dh,d),L===S)break;S=L}S!==null&&m.stopPropagation()}else Dp(r,n,m,null,d)}}function qp(r){return r=bo(r),Hp(r)}var dh=null;function Hp(r){if(dh=null,r=tn(r),r!==null){var n=o(r);if(n===null)r=null;else{var d=n.tag;if(d===13){if(r=c(n),r!==null)return r;r=null}else if(d===31){if(r=u(n),r!==null)return r;r=null}else if(d===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;r=null}else n!==r&&(r=null)}}return dh=r,null}function S1(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Bt()){case vt:return 2;case os:return 8;case Yt:case ut:return 32;case Jt:return 268435456;default:return 32}default:return 32}}var Wp=!1,Lc=null,Ec=null,Mc=null,$u=new Map,qu=new Map,zc=[],h6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function C1(r,n){switch(r){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Ec=null;break;case"mouseover":case"mouseout":Mc=null;break;case"pointerover":case"pointerout":$u.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":qu.delete(n.pointerId)}}function Hu(r,n,d,m,S,L){return r===null||r.nativeEvent!==L?(r={blockedOn:n,domEventName:d,eventSystemFlags:m,nativeEvent:L,targetContainers:[S]},n!==null&&(n=sn(n),n!==null&&N1(n)),r):(r.eventSystemFlags|=m,n=r.targetContainers,S!==null&&n.indexOf(S)===-1&&n.push(S),r)}function m6(r,n,d,m,S){switch(n){case"focusin":return Lc=Hu(Lc,r,n,d,m,S),!0;case"dragenter":return Ec=Hu(Ec,r,n,d,m,S),!0;case"mouseover":return Mc=Hu(Mc,r,n,d,m,S),!0;case"pointerover":var L=S.pointerId;return $u.set(L,Hu($u.get(L)||null,r,n,d,m,S)),!0;case"gotpointercapture":return L=S.pointerId,qu.set(L,Hu(qu.get(L)||null,r,n,d,m,S)),!0}return!1}function A1(r){var n=tn(r.target);if(n!==null){var d=o(n);if(d!==null){if(n=d.tag,n===13){if(n=c(d),n!==null){r.blockedOn=n,Bi(r.priority,function(){k1(d)});return}}else if(n===31){if(n=u(d),n!==null){r.blockedOn=n,Bi(r.priority,function(){k1(d)});return}}else if(n===3&&d.stateNode.current.memoizedState.isDehydrated){r.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}r.blockedOn=null}function uh(r){if(r.blockedOn!==null)return!1;for(var n=r.targetContainers;0<n.length;){var d=qp(r.nativeEvent);if(d===null){d=r.nativeEvent;var m=new d.constructor(d.type,d);li=m,d.target.dispatchEvent(m),li=null}else return n=sn(d),n!==null&&N1(n),r.blockedOn=d,!1;n.shift()}return!0}function D1(r,n,d){uh(r)&&d.delete(n)}function p6(){Wp=!1,Lc!==null&&uh(Lc)&&(Lc=null),Ec!==null&&uh(Ec)&&(Ec=null),Mc!==null&&uh(Mc)&&(Mc=null),$u.forEach(D1),qu.forEach(D1)}function xh(r,n){r.blockedOn===n&&(r.blockedOn=null,Wp||(Wp=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,p6)))}var hh=null;function L1(r){hh!==r&&(hh=r,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){hh===r&&(hh=null);for(var n=0;n<r.length;n+=3){var d=r[n],m=r[n+1],S=r[n+2];if(typeof m!="function"){if(Hp(m||d)===null)continue;break}var L=sn(d);L!==null&&(r.splice(n,3),n-=3,qm(L,{pending:!0,data:S,method:d.method,action:m},m,S))}}))}function _0(r){function n(fe){return xh(fe,r)}Lc!==null&&xh(Lc,r),Ec!==null&&xh(Ec,r),Mc!==null&&xh(Mc,r),$u.forEach(n),qu.forEach(n);for(var d=0;d<zc.length;d++){var m=zc[d];m.blockedOn===r&&(m.blockedOn=null)}for(;0<zc.length&&(d=zc[0],d.blockedOn===null);)A1(d),d.blockedOn===null&&zc.shift();if(d=(r.ownerDocument||r).$$reactFormReplay,d!=null)for(m=0;m<d.length;m+=3){var S=d[m],L=d[m+1],U=S[ma]||null;if(typeof L=="function")U||L1(d);else if(U){var se=null;if(L&&L.hasAttribute("formAction")){if(S=L,U=L[ma]||null)se=U.formAction;else if(Hp(S)!==null)continue}else se=U.action;typeof se=="function"?d[m+1]=se:(d.splice(m,3),m-=3),L1(d)}}}function E1(){function r(L){L.canIntercept&&L.info==="react-transition"&&L.intercept({handler:function(){return new Promise(function(U){return S=U})},focusReset:"manual",scroll:"manual"})}function n(){S!==null&&(S(),S=null),m||setTimeout(d,20)}function d(){if(!m&&!navigation.transition){var L=navigation.currentEntry;L&&L.url!=null&&navigation.navigate(L.url,{state:L.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,S=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(d,100),function(){m=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),S!==null&&(S(),S=null)}}}function Gp(r){this._internalRoot=r}mh.prototype.render=Gp.prototype.render=function(r){var n=this._internalRoot;if(n===null)throw Error(l(409));var d=n.current,m=fn();j1(d,m,r,n,null,null)},mh.prototype.unmount=Gp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var n=r.containerInfo;j1(r.current,2,null,r,null,null),Yx(),n[kr]=null}};function mh(r){this._internalRoot=r}mh.prototype.unstable_scheduleHydration=function(r){if(r){var n=rr();r={blockedOn:null,target:r,priority:n};for(var d=0;d<zc.length&&n!==0&&n<zc[d].priority;d++);zc.splice(d,0,r),d===0&&A1(r)}};var M1=t.version;if(M1!=="19.2.4")throw Error(l(527,M1,"19.2.4"));V.findDOMNode=function(r){var n=r._reactInternals;if(n===void 0)throw typeof r.render=="function"?Error(l(188)):(r=Object.keys(r).join(","),Error(l(268,r)));return r=h(n),r=r!==null?p(r):null,r=r===null?null:r.stateNode,r};var f6={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ph=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ph.isDisabled&&ph.supportsFiber)try{hs=ph.inject(f6),_t=ph}catch{}}return Gu.createRoot=function(r,n){if(!i(r))throw Error(l(299));var d=!1,m="",S=Fb,L=Ib,U=Bb;return n!=null&&(n.unstable_strictMode===!0&&(d=!0),n.identifierPrefix!==void 0&&(m=n.identifierPrefix),n.onUncaughtError!==void 0&&(S=n.onUncaughtError),n.onCaughtError!==void 0&&(L=n.onCaughtError),n.onRecoverableError!==void 0&&(U=n.onRecoverableError)),n=v1(r,1,!1,null,null,d,m,null,S,L,U,E1),r[kr]=n.current,Ap(r),new Gp(n)},Gu.hydrateRoot=function(r,n,d){if(!i(r))throw Error(l(299));var m=!1,S="",L=Fb,U=Ib,se=Bb,fe=null;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(S=d.identifierPrefix),d.onUncaughtError!==void 0&&(L=d.onUncaughtError),d.onCaughtError!==void 0&&(U=d.onCaughtError),d.onRecoverableError!==void 0&&(se=d.onRecoverableError),d.formState!==void 0&&(fe=d.formState)),n=v1(r,1,!0,n,d??null,m,S,fe,L,U,se,E1),n.context=y1(null),d=n.current,m=fn(),m=ha(m),S=Ot(m),S.callback=null,ns(d,S,m),d=m,n.current.lanes=d,Dt(n,d),lo(n),r[kr]=n.current,Ap(r),new mh(n)},Gu.version="19.2.4",Gu}var U1;function S6(){if(U1)return Xp.exports;U1=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Xp.exports=k6(),Xp.exports}var C6=S6();const A6=Eg(C6);var $1="popstate";function D6(s={}){function t(l,i){let{pathname:o,search:c,hash:u}=l.location;return Yf("",{pathname:o,search:c,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function a(l,i){return typeof i=="string"?i:ix(i)}return E6(t,a,null,s)}function Aa(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function _i(s,t){if(!s){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function L6(){return Math.random().toString(36).substring(2,10)}function q1(s,t){return{usr:s.state,key:s.key,idx:t}}function Yf(s,t,a=null,l){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof t=="string"?eu(t):t,state:a,key:t&&t.key||l||L6()}}function ix({pathname:s="/",search:t="",hash:a=""}){return t&&t!=="?"&&(s+=t.charAt(0)==="?"?t:"?"+t),a&&a!=="#"&&(s+=a.charAt(0)==="#"?a:"#"+a),s}function eu(s){let t={};if(s){let a=s.indexOf("#");a>=0&&(t.hash=s.substring(a),s=s.substring(0,a));let l=s.indexOf("?");l>=0&&(t.search=s.substring(l),s=s.substring(0,l)),s&&(t.pathname=s)}return t}function E6(s,t,a,l={}){let{window:i=document.defaultView,v5Compat:o=!1}=l,c=i.history,u="POP",x=null,h=p();h==null&&(h=0,c.replaceState({...c.state,idx:h},""));function p(){return(c.state||{idx:null}).idx}function f(){u="POP";let N=p(),k=N==null?null:N-h;h=N,x&&x({action:u,location:C.location,delta:k})}function y(N,k){u="PUSH";let A=Yf(C.location,N,k);h=p()+1;let E=q1(A,h),w=C.createHref(A);try{c.pushState(E,"",w)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(w)}o&&x&&x({action:u,location:C.location,delta:1})}function g(N,k){u="REPLACE";let A=Yf(C.location,N,k);h=p();let E=q1(A,h),w=C.createHref(A);c.replaceState(E,"",w),o&&x&&x({action:u,location:C.location,delta:0})}function v(N){return M6(N)}let C={get action(){return u},get location(){return s(i,c)},listen(N){if(x)throw new Error("A history only accepts one active listener");return i.addEventListener($1,f),x=N,()=>{i.removeEventListener($1,f),x=null}},createHref(N){return t(i,N)},createURL:v,encodeLocation(N){let k=v(N);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:y,replace:g,go(N){return c.go(N)}};return C}function M6(s,t=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),Aa(a,"No window.location.(origin|href) available to create URL");let l=typeof s=="string"?s:ix(s);return l=l.replace(/ $/,"%20"),!t&&l.startsWith("//")&&(l=a+l),new URL(l,a)}function Ej(s,t,a="/"){return z6(s,t,a,!1)}function z6(s,t,a,l){let i=typeof t=="string"?eu(t):t,o=Ko(i.pathname||"/",a);if(o==null)return null;let c=Mj(s);T6(c);let u=null;for(let x=0;u==null&&x<c.length;++x){let h=H6(o);u=$6(c[x],h,l)}return u}function Mj(s,t=[],a=[],l="",i=!1){let o=(c,u,x=i,h)=>{let p={relativePath:h===void 0?c.path||"":h,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(l)&&x)return;Aa(p.relativePath.startsWith(l),`Absolute route path "${p.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(l.length)}let f=Yo([l,p.relativePath]),y=a.concat(p);c.children&&c.children.length>0&&(Aa(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),Mj(c.children,t,y,f,x)),!(c.path==null&&!c.index)&&t.push({path:f,score:B6(f,c.index),routesMeta:y})};return s.forEach((c,u)=>{if(c.path===""||!c.path?.includes("?"))o(c,u);else for(let x of zj(c.path))o(c,u,!0,x)}),t}function zj(s){let t=s.split("/");if(t.length===0)return[];let[a,...l]=t,i=a.endsWith("?"),o=a.replace(/\?$/,"");if(l.length===0)return i?[o,""]:[o];let c=zj(l.join("/")),u=[];return u.push(...c.map(x=>x===""?o:[o,x].join("/"))),i&&u.push(...c),u.map(x=>s.startsWith("/")&&x===""?"/":x)}function T6(s){s.sort((t,a)=>t.score!==a.score?a.score-t.score:U6(t.routesMeta.map(l=>l.childrenIndex),a.routesMeta.map(l=>l.childrenIndex)))}var _6=/^:[\w-]+$/,P6=3,R6=2,O6=1,F6=10,I6=-2,H1=s=>s==="*";function B6(s,t){let a=s.split("/"),l=a.length;return a.some(H1)&&(l+=I6),t&&(l+=R6),a.filter(i=>!H1(i)).reduce((i,o)=>i+(_6.test(o)?P6:o===""?O6:F6),l)}function U6(s,t){return s.length===t.length&&s.slice(0,-1).every((l,i)=>l===t[i])?s[s.length-1]-t[t.length-1]:0}function $6(s,t,a=!1){let{routesMeta:l}=s,i={},o="/",c=[];for(let u=0;u<l.length;++u){let x=l[u],h=u===l.length-1,p=o==="/"?t:t.slice(o.length)||"/",f=em({path:x.relativePath,caseSensitive:x.caseSensitive,end:h},p),y=x.route;if(!f&&h&&a&&!l[l.length-1].route.index&&(f=em({path:x.relativePath,caseSensitive:x.caseSensitive,end:!1},p)),!f)return null;Object.assign(i,f.params),c.push({params:i,pathname:Yo([o,f.pathname]),pathnameBase:Y6(Yo([o,f.pathnameBase])),route:y}),f.pathnameBase!=="/"&&(o=Yo([o,f.pathnameBase]))}return c}function em(s,t){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[a,l]=q6(s.path,s.caseSensitive,s.end),i=t.match(a);if(!i)return null;let o=i[0],c=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:l.reduce((h,{paramName:p,isOptional:f},y)=>{if(p==="*"){let v=u[y]||"";c=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const g=u[y];return f&&!g?h[p]=void 0:h[p]=(g||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:c,pattern:s}}function q6(s,t=!1,a=!0){_i(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let l=[],i="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,x)=>(l.push({paramName:u,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(l.push({paramName:"*"}),i+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?i+="\\/*$":s!==""&&s!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),l]}function H6(s){try{return s.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return _i(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),s}}function Ko(s,t){if(t==="/")return s;if(!s.toLowerCase().startsWith(t.toLowerCase()))return null;let a=t.endsWith("/")?t.length-1:t.length,l=s.charAt(a);return l&&l!=="/"?null:s.slice(a)||"/"}var W6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function G6(s,t="/"){let{pathname:a,search:l="",hash:i=""}=typeof s=="string"?eu(s):s,o;return a?(a=a.replace(/\/\/+/g,"/"),a.startsWith("/")?o=W1(a.substring(1),"/"):o=W1(a,t)):o=t,{pathname:o,search:X6(l),hash:K6(i)}}function W1(s,t){let a=t.replace(/\/+$/,"").split("/");return s.split("/").forEach(i=>{i===".."?a.length>1&&a.pop():i!=="."&&a.push(i)}),a.length>1?a.join("/"):"/"}function Zp(s,t,a,l){return`Cannot include a '${s}' character in a manually specified \`to.${t}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function V6(s){return s.filter((t,a)=>a===0||t.route.path&&t.route.path.length>0)}function zg(s){let t=V6(s);return t.map((a,l)=>l===t.length-1?a.pathname:a.pathnameBase)}function Tg(s,t,a,l=!1){let i;typeof s=="string"?i=eu(s):(i={...s},Aa(!i.pathname||!i.pathname.includes("?"),Zp("?","pathname","search",i)),Aa(!i.pathname||!i.pathname.includes("#"),Zp("#","pathname","hash",i)),Aa(!i.search||!i.search.includes("#"),Zp("#","search","hash",i)));let o=s===""||i.pathname==="",c=o?"/":i.pathname,u;if(c==null)u=a;else{let f=t.length-1;if(!l&&c.startsWith("..")){let y=c.split("/");for(;y[0]==="..";)y.shift(),f-=1;i.pathname=y.join("/")}u=f>=0?t[f]:"/"}let x=G6(i,u),h=c&&c!=="/"&&c.endsWith("/"),p=(o||c===".")&&a.endsWith("/");return!x.pathname.endsWith("/")&&(h||p)&&(x.pathname+="/"),x}var Yo=s=>s.join("/").replace(/\/\/+/g,"/"),Y6=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),X6=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,K6=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s,J6=class{constructor(s,t,a,l=!1){this.status=s,this.statusText=t||"",this.internal=l,a instanceof Error?(this.data=a.toString(),this.error=a):this.data=a}};function Q6(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function Z6(s){return s.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Tj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function _j(s,t){let a=s;if(typeof a!="string"||!W6.test(a))return{absoluteURL:void 0,isExternal:!1,to:a};let l=a,i=!1;if(Tj)try{let o=new URL(window.location.href),c=a.startsWith("//")?new URL(o.protocol+a):new URL(a),u=Ko(c.pathname,t);c.origin===o.origin&&u!=null?a=u+c.search+c.hash:i=!0}catch{_i(!1,`<Link to="${a}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:l,isExternal:i,to:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Pj=["POST","PUT","PATCH","DELETE"];new Set(Pj);var e3=["GET",...Pj];new Set(e3);var tu=b.createContext(null);tu.displayName="DataRouter";var fm=b.createContext(null);fm.displayName="DataRouterState";var t3=b.createContext(!1),Rj=b.createContext({isTransitioning:!1});Rj.displayName="ViewTransition";var s3=b.createContext(new Map);s3.displayName="Fetchers";var a3=b.createContext(null);a3.displayName="Await";var An=b.createContext(null);An.displayName="Navigation";var hx=b.createContext(null);hx.displayName="Location";var ti=b.createContext({outlet:null,matches:[],isDataRoute:!1});ti.displayName="Route";var _g=b.createContext(null);_g.displayName="RouteError";var Oj="REACT_ROUTER_ERROR",r3="REDIRECT",l3="ROUTE_ERROR_RESPONSE";function n3(s){if(s.startsWith(`${Oj}:${r3}:{`))try{let t=JSON.parse(s.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function i3(s){if(s.startsWith(`${Oj}:${l3}:{`))try{let t=JSON.parse(s.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new J6(t.status,t.statusText,t.data)}catch{}}function o3(s,{relative:t}={}){Aa(su(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:l}=b.useContext(An),{hash:i,pathname:o,search:c}=mx(s,{relative:t}),u=o;return a!=="/"&&(u=o==="/"?a:Yo([a,o])),l.createHref({pathname:u,search:c,hash:i})}function su(){return b.useContext(hx)!=null}function Pr(){return Aa(su(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(hx).location}var Fj="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ij(s){b.useContext(An).static||b.useLayoutEffect(s)}function Ht(){let{isDataRoute:s}=b.useContext(ti);return s?w3():c3()}function c3(){Aa(su(),"useNavigate() may be used only in the context of a <Router> component.");let s=b.useContext(tu),{basename:t,navigator:a}=b.useContext(An),{matches:l}=b.useContext(ti),{pathname:i}=Pr(),o=JSON.stringify(zg(l)),c=b.useRef(!1);return Ij(()=>{c.current=!0}),b.useCallback((x,h={})=>{if(_i(c.current,Fj),!c.current)return;if(typeof x=="number"){a.go(x);return}let p=Tg(x,JSON.parse(o),i,h.relative==="path");s==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Yo([t,p.pathname])),(h.replace?a.replace:a.push)(p,h.state,h)},[t,a,o,i,s])}var Bj=b.createContext(null);function Pg(){return b.useContext(Bj)}function d3(s){let t=b.useContext(ti).outlet;return b.useMemo(()=>t&&b.createElement(Bj.Provider,{value:s},t),[t,s])}function Ud(){let{matches:s}=b.useContext(ti),t=s[s.length-1];return t?t.params:{}}function mx(s,{relative:t}={}){let{matches:a}=b.useContext(ti),{pathname:l}=Pr(),i=JSON.stringify(zg(a));return b.useMemo(()=>Tg(s,JSON.parse(i),l,t==="path"),[s,i,l,t])}function u3(s,t){return Uj(s,t)}function Uj(s,t,a,l,i){Aa(su(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=b.useContext(An),{matches:c}=b.useContext(ti),u=c[c.length-1],x=u?u.params:{},h=u?u.pathname:"/",p=u?u.pathnameBase:"/",f=u&&u.route;{let A=f&&f.path||"";qj(h,!f||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let y=Pr(),g;if(t){let A=typeof t=="string"?eu(t):t;Aa(p==="/"||A.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${A.pathname}" was given in the \`location\` prop.`),g=A}else g=y;let v=g.pathname||"/",C=v;if(p!=="/"){let A=p.replace(/^\//,"").split("/");C="/"+v.replace(/^\//,"").split("/").slice(A.length).join("/")}let N=Ej(s,{pathname:C});_i(f||N!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),_i(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=f3(N&&N.map(A=>Object.assign({},A,{params:Object.assign({},x,A.params),pathname:Yo([p,o.encodeLocation?o.encodeLocation(A.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?p:Yo([p,o.encodeLocation?o.encodeLocation(A.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathnameBase])})),c,a,l,i);return t&&k?b.createElement(hx.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},k):k}function x3(){let s=j3(),t=Q6(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),a=s instanceof Error?s.stack:null,l="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:l},o={padding:"2px 4px",backgroundColor:l},c=null;return console.error("Error handled by React Router default ErrorBoundary:",s),c=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:o},"ErrorBoundary")," or"," ",b.createElement("code",{style:o},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),a?b.createElement("pre",{style:i},a):null,c)}var h3=b.createElement(x3,null),$j=class extends b.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,t){return t.location!==s.location||t.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:t.error,location:t.location,revalidation:s.revalidation||t.revalidation}}componentDidCatch(s,t){this.props.onError?this.props.onError(s,t):console.error("React Router caught the following error during render",s)}render(){let s=this.state.error;if(this.context&&typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){const a=i3(s.digest);a&&(s=a)}let t=s!==void 0?b.createElement(ti.Provider,{value:this.props.routeContext},b.createElement(_g.Provider,{value:s,children:this.props.component})):this.props.children;return this.context?b.createElement(m3,{error:s},t):t}};$j.contextType=t3;var ef=new WeakMap;function m3({children:s,error:t}){let{basename:a}=b.useContext(An);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let l=n3(t.digest);if(l){let i=ef.get(t);if(i)throw i;let o=_j(l.location,a);if(Tj&&!ef.get(t))if(o.isExternal||l.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:l.replace}));throw ef.set(t,c),c}return b.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return s}function p3({routeContext:s,match:t,children:a}){let l=b.useContext(tu);return l&&l.static&&l.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=t.route.id),b.createElement(ti.Provider,{value:s},a)}function f3(s,t=[],a=null,l=null,i=null){if(s==null){if(!a)return null;if(a.errors)s=a.matches;else if(t.length===0&&!a.initialized&&a.matches.length>0)s=a.matches;else return null}let o=s,c=a?.errors;if(c!=null){let p=o.findIndex(f=>f.route.id&&c?.[f.route.id]!==void 0);Aa(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let u=!1,x=-1;if(a)for(let p=0;p<o.length;p++){let f=o[p];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(x=p),f.route.id){let{loaderData:y,errors:g}=a,v=f.route.loader&&!y.hasOwnProperty(f.route.id)&&(!g||g[f.route.id]===void 0);if(f.route.lazy||v){u=!0,x>=0?o=o.slice(0,x+1):o=[o[0]];break}}}let h=a&&l?(p,f)=>{l(p,{location:a.location,params:a.matches?.[0]?.params??{},unstable_pattern:Z6(a.matches),errorInfo:f})}:void 0;return o.reduceRight((p,f,y)=>{let g,v=!1,C=null,N=null;a&&(g=c&&f.route.id?c[f.route.id]:void 0,C=f.route.errorElement||h3,u&&(x<0&&y===0?(qj("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,N=null):x===y&&(v=!0,N=f.route.hydrateFallbackElement||null)));let k=t.concat(o.slice(0,y+1)),A=()=>{let E;return g?E=C:v?E=N:f.route.Component?E=b.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=p,b.createElement(p3,{match:f,routeContext:{outlet:p,matches:k,isDataRoute:a!=null},children:E})};return a&&(f.route.ErrorBoundary||f.route.errorElement||y===0)?b.createElement($j,{location:a.location,revalidation:a.revalidation,component:C,error:g,children:A(),routeContext:{outlet:null,matches:k,isDataRoute:!0},onError:h}):A()},null)}function Rg(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function g3(s){let t=b.useContext(tu);return Aa(t,Rg(s)),t}function b3(s){let t=b.useContext(fm);return Aa(t,Rg(s)),t}function v3(s){let t=b.useContext(ti);return Aa(t,Rg(s)),t}function Og(s){let t=v3(s),a=t.matches[t.matches.length-1];return Aa(a.route.id,`${s} can only be used on routes that contain a unique "id"`),a.route.id}function y3(){return Og("useRouteId")}function j3(){let s=b.useContext(_g),t=b3("useRouteError"),a=Og("useRouteError");return s!==void 0?s:t.errors?.[a]}function w3(){let{router:s}=g3("useNavigate"),t=Og("useNavigate"),a=b.useRef(!1);return Ij(()=>{a.current=!0}),b.useCallback(async(i,o={})=>{_i(a.current,Fj),a.current&&(typeof i=="number"?await s.navigate(i):await s.navigate(i,{fromRouteId:t,...o}))},[s,t])}var G1={};function qj(s,t,a){!t&&!G1[s]&&(G1[s]=!0,_i(!1,a))}b.memo(N3);function N3({routes:s,future:t,state:a,onError:l}){return Uj(s,void 0,a,l,t)}function el({to:s,replace:t,state:a,relative:l}){Aa(su(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=b.useContext(An);_i(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=b.useContext(ti),{pathname:c}=Pr(),u=Ht(),x=Tg(s,zg(o),c,l==="path"),h=JSON.stringify(x);return b.useEffect(()=>{u(JSON.parse(h),{replace:t,state:a,relative:l})},[u,h,l,t,a]),null}function gm(s){return d3(s.context)}function De(s){Aa(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function k3({basename:s="/",children:t=null,location:a,navigationType:l="POP",navigator:i,static:o=!1,unstable_useTransitions:c}){Aa(!su(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=s.replace(/^\/*/,"/"),x=b.useMemo(()=>({basename:u,navigator:i,static:o,unstable_useTransitions:c,future:{}}),[u,i,o,c]);typeof a=="string"&&(a=eu(a));let{pathname:h="/",search:p="",hash:f="",state:y=null,key:g="default"}=a,v=b.useMemo(()=>{let C=Ko(h,u);return C==null?null:{location:{pathname:C,search:p,hash:f,state:y,key:g},navigationType:l}},[u,h,p,f,y,g,l]);return _i(v!=null,`<Router basename="${u}"> is not able to match the URL "${h}${p}${f}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:b.createElement(An.Provider,{value:x},b.createElement(hx.Provider,{children:t,value:v}))}function S3({children:s,location:t}){return u3(Xf(s),t)}function Xf(s,t=[]){let a=[];return b.Children.forEach(s,(l,i)=>{if(!b.isValidElement(l))return;let o=[...t,i];if(l.type===b.Fragment){a.push.apply(a,Xf(l.props.children,o));return}Aa(l.type===De,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Aa(!l.props.index||!l.props.children,"An index route cannot have child routes.");let c={id:l.props.id||o.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,middleware:l.props.middleware,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(c.children=Xf(l.props.children,o)),a.push(c)}),a}var _h="get",Ph="application/x-www-form-urlencoded";function bm(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function C3(s){return bm(s)&&s.tagName.toLowerCase()==="button"}function A3(s){return bm(s)&&s.tagName.toLowerCase()==="form"}function D3(s){return bm(s)&&s.tagName.toLowerCase()==="input"}function L3(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function E3(s,t){return s.button===0&&(!t||t==="_self")&&!L3(s)}var fh=null;function M3(){if(fh===null)try{new FormData(document.createElement("form"),0),fh=!1}catch{fh=!0}return fh}var z3=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function tf(s){return s!=null&&!z3.has(s)?(_i(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ph}"`),null):s}function T3(s,t){let a,l,i,o,c;if(A3(s)){let u=s.getAttribute("action");l=u?Ko(u,t):null,a=s.getAttribute("method")||_h,i=tf(s.getAttribute("enctype"))||Ph,o=new FormData(s)}else if(C3(s)||D3(s)&&(s.type==="submit"||s.type==="image")){let u=s.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let x=s.getAttribute("formaction")||u.getAttribute("action");if(l=x?Ko(x,t):null,a=s.getAttribute("formmethod")||u.getAttribute("method")||_h,i=tf(s.getAttribute("formenctype"))||tf(u.getAttribute("enctype"))||Ph,o=new FormData(u,s),!M3()){let{name:h,type:p,value:f}=s;if(p==="image"){let y=h?`${h}.`:"";o.append(`${y}x`,"0"),o.append(`${y}y`,"0")}else h&&o.append(h,f)}}else{if(bm(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=_h,l=null,i=Ph,c=s}return o&&i==="text/plain"&&(c=o,o=void 0),{action:l,method:a.toLowerCase(),encType:i,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Fg(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function _3(s,t,a,l){let i=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return a?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${l}`:i.pathname=`${i.pathname}.${l}`:i.pathname==="/"?i.pathname=`_root.${l}`:t&&Ko(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${l}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${l}`,i}async function P3(s,t){if(s.id in t)return t[s.id];try{let a=await import(s.module);return t[s.id]=a,a}catch(a){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function R3(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function O3(s,t,a){let l=await Promise.all(s.map(async i=>{let o=t.routes[i.route.id];if(o){let c=await P3(o,a);return c.links?c.links():[]}return[]}));return U3(l.flat(1).filter(R3).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function V1(s,t,a,l,i,o){let c=(x,h)=>a[h]?x.route.id!==a[h].route.id:!0,u=(x,h)=>a[h].pathname!==x.pathname||a[h].route.path?.endsWith("*")&&a[h].params["*"]!==x.params["*"];return o==="assets"?t.filter((x,h)=>c(x,h)||u(x,h)):o==="data"?t.filter((x,h)=>{let p=l.routes[x.route.id];if(!p||!p.hasLoader)return!1;if(c(x,h)||u(x,h))return!0;if(x.route.shouldRevalidate){let f=x.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:a[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:x.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function F3(s,t,{includeHydrateFallback:a}={}){return I3(s.map(l=>{let i=t.routes[l.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),a&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function I3(s){return[...new Set(s)]}function B3(s){let t={},a=Object.keys(s).sort();for(let l of a)t[l]=s[l];return t}function U3(s,t){let a=new Set;return new Set(t),s.reduce((l,i)=>{let o=JSON.stringify(B3(i));return a.has(o)||(a.add(o),l.push({key:o,link:i})),l},[])}function Hj(){let s=b.useContext(tu);return Fg(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function $3(){let s=b.useContext(fm);return Fg(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Ig=b.createContext(void 0);Ig.displayName="FrameworkContext";function Wj(){let s=b.useContext(Ig);return Fg(s,"You must render this element inside a <HydratedRouter> element"),s}function q3(s,t){let a=b.useContext(Ig),[l,i]=b.useState(!1),[o,c]=b.useState(!1),{onFocus:u,onBlur:x,onMouseEnter:h,onMouseLeave:p,onTouchStart:f}=t,y=b.useRef(null);b.useEffect(()=>{if(s==="render"&&c(!0),s==="viewport"){let C=k=>{k.forEach(A=>{c(A.isIntersecting)})},N=new IntersectionObserver(C,{threshold:.5});return y.current&&N.observe(y.current),()=>{N.disconnect()}}},[s]),b.useEffect(()=>{if(l){let C=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(C)}}},[l]);let g=()=>{i(!0)},v=()=>{i(!1),c(!1)};return a?s!=="intent"?[o,y,{}]:[o,y,{onFocus:Vu(u,g),onBlur:Vu(x,v),onMouseEnter:Vu(h,g),onMouseLeave:Vu(p,v),onTouchStart:Vu(f,g)}]:[!1,y,{}]}function Vu(s,t){return a=>{s&&s(a),a.defaultPrevented||t(a)}}function H3({page:s,...t}){let{router:a}=Hj(),l=b.useMemo(()=>Ej(a.routes,s,a.basename),[a.routes,s,a.basename]);return l?b.createElement(G3,{page:s,matches:l,...t}):null}function W3(s){let{manifest:t,routeModules:a}=Wj(),[l,i]=b.useState([]);return b.useEffect(()=>{let o=!1;return O3(s,t,a).then(c=>{o||i(c)}),()=>{o=!0}},[s,t,a]),l}function G3({page:s,matches:t,...a}){let l=Pr(),{future:i,manifest:o,routeModules:c}=Wj(),{basename:u}=Hj(),{loaderData:x,matches:h}=$3(),p=b.useMemo(()=>V1(s,t,h,o,l,"data"),[s,t,h,o,l]),f=b.useMemo(()=>V1(s,t,h,o,l,"assets"),[s,t,h,o,l]),y=b.useMemo(()=>{if(s===l.pathname+l.search+l.hash)return[];let C=new Set,N=!1;if(t.forEach(A=>{let E=o.routes[A.route.id];!E||!E.hasLoader||(!p.some(w=>w.route.id===A.route.id)&&A.route.id in x&&c[A.route.id]?.shouldRevalidate||E.hasClientLoader?N=!0:C.add(A.route.id))}),C.size===0)return[];let k=_3(s,u,i.unstable_trailingSlashAwareDataRequests,"data");return N&&C.size>0&&k.searchParams.set("_routes",t.filter(A=>C.has(A.route.id)).map(A=>A.route.id).join(",")),[k.pathname+k.search]},[u,i.unstable_trailingSlashAwareDataRequests,x,l,o,p,t,s,c]),g=b.useMemo(()=>F3(f,o),[f,o]),v=W3(f);return b.createElement(b.Fragment,null,y.map(C=>b.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...a})),g.map(C=>b.createElement("link",{key:C,rel:"modulepreload",href:C,...a})),v.map(({key:C,link:N})=>b.createElement("link",{key:C,nonce:a.nonce,...N,crossOrigin:N.crossOrigin??a.crossOrigin})))}function V3(...s){return t=>{s.forEach(a=>{typeof a=="function"?a(t):a!=null&&(a.current=t)})}}var Y3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Y3&&(window.__reactRouterVersion="7.13.0")}catch{}function X3({basename:s,children:t,unstable_useTransitions:a,window:l}){let i=b.useRef();i.current==null&&(i.current=D6({window:l,v5Compat:!0}));let o=i.current,[c,u]=b.useState({action:o.action,location:o.location}),x=b.useCallback(h=>{a===!1?u(h):b.startTransition(()=>u(h))},[a]);return b.useLayoutEffect(()=>o.listen(x),[o,x]),b.createElement(k3,{basename:s,children:t,location:c.location,navigationType:c.action,navigator:o,unstable_useTransitions:a})}var Gj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vj=b.forwardRef(function({onClick:t,discover:a="render",prefetch:l="none",relative:i,reloadDocument:o,replace:c,state:u,target:x,to:h,preventScrollReset:p,viewTransition:f,unstable_defaultShouldRevalidate:y,...g},v){let{basename:C,unstable_useTransitions:N}=b.useContext(An),k=typeof h=="string"&&Gj.test(h),A=_j(h,C);h=A.to;let E=o3(h,{relative:i}),[w,R,T]=q3(l,g),O=Q3(h,{replace:c,state:u,target:x,preventScrollReset:p,relative:i,viewTransition:f,unstable_defaultShouldRevalidate:y,unstable_useTransitions:N});function W(z){t&&t(z),z.defaultPrevented||O(z)}let B=b.createElement("a",{...g,...T,href:A.absoluteURL||E,onClick:A.isExternal||o?t:W,ref:V3(v,R),target:x,"data-discover":!k&&a==="render"?"true":void 0});return w&&!k?b.createElement(b.Fragment,null,B,b.createElement(H3,{page:E})):B});Vj.displayName="Link";var tm=b.forwardRef(function({"aria-current":t="page",caseSensitive:a=!1,className:l="",end:i=!1,style:o,to:c,viewTransition:u,children:x,...h},p){let f=mx(c,{relative:h.relative}),y=Pr(),g=b.useContext(fm),{navigator:v,basename:C}=b.useContext(An),N=g!=null&&ak(f)&&u===!0,k=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,A=y.pathname,E=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;a||(A=A.toLowerCase(),E=E?E.toLowerCase():null,k=k.toLowerCase()),E&&C&&(E=Ko(E,C)||E);const w=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let R=A===k||!i&&A.startsWith(k)&&A.charAt(w)==="/",T=E!=null&&(E===k||!i&&E.startsWith(k)&&E.charAt(k.length)==="/"),O={isActive:R,isPending:T,isTransitioning:N},W=R?t:void 0,B;typeof l=="function"?B=l(O):B=[l,R?"active":null,T?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let z=typeof o=="function"?o(O):o;return b.createElement(Vj,{...h,"aria-current":W,className:B,ref:p,style:z,to:c,viewTransition:u},typeof x=="function"?x(O):x)});tm.displayName="NavLink";var K3=b.forwardRef(({discover:s="render",fetcherKey:t,navigate:a,reloadDocument:l,replace:i,state:o,method:c=_h,action:u,onSubmit:x,relative:h,preventScrollReset:p,viewTransition:f,unstable_defaultShouldRevalidate:y,...g},v)=>{let{unstable_useTransitions:C}=b.useContext(An),N=tk(),k=sk(u,{relative:h}),A=c.toLowerCase()==="get"?"get":"post",E=typeof u=="string"&&Gj.test(u),w=R=>{if(x&&x(R),R.defaultPrevented)return;R.preventDefault();let T=R.nativeEvent.submitter,O=T?.getAttribute("formmethod")||c,W=()=>N(T||R.currentTarget,{fetcherKey:t,method:O,navigate:a,replace:i,state:o,relative:h,preventScrollReset:p,viewTransition:f,unstable_defaultShouldRevalidate:y});C&&a!==!1?b.startTransition(()=>W()):W()};return b.createElement("form",{ref:v,method:A,action:k,onSubmit:l?x:w,...g,"data-discover":!E&&s==="render"?"true":void 0})});K3.displayName="Form";function J3(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Yj(s){let t=b.useContext(tu);return Aa(t,J3(s)),t}function Q3(s,{target:t,replace:a,state:l,preventScrollReset:i,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:u,unstable_useTransitions:x}={}){let h=Ht(),p=Pr(),f=mx(s,{relative:o});return b.useCallback(y=>{if(E3(y,t)){y.preventDefault();let g=a!==void 0?a:ix(p)===ix(f),v=()=>h(s,{replace:g,state:l,preventScrollReset:i,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:u});x?b.startTransition(()=>v()):v()}},[p,h,f,a,l,t,s,i,o,c,u,x])}var Z3=0,ek=()=>`__${String(++Z3)}__`;function tk(){let{router:s}=Yj("useSubmit"),{basename:t}=b.useContext(An),a=y3(),l=s.fetch,i=s.navigate;return b.useCallback(async(o,c={})=>{let{action:u,method:x,encType:h,formData:p,body:f}=T3(o,t);if(c.navigate===!1){let y=c.fetcherKey||ek();await l(y,a,c.action||u,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:p,body:f,formMethod:c.method||x,formEncType:c.encType||h,flushSync:c.flushSync})}else await i(c.action||u,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:p,body:f,formMethod:c.method||x,formEncType:c.encType||h,replace:c.replace,state:c.state,fromRouteId:a,flushSync:c.flushSync,viewTransition:c.viewTransition})},[l,i,t,a])}function sk(s,{relative:t}={}){let{basename:a}=b.useContext(An),l=b.useContext(ti);Aa(l,"useFormAction must be used inside a RouteContext");let[i]=l.matches.slice(-1),o={...mx(s||".",{relative:t})},c=Pr();if(s==null){o.search=c.search;let u=new URLSearchParams(o.search),x=u.getAll("index");if(x.some(p=>p==="")){u.delete("index"),x.filter(f=>f).forEach(f=>u.append("index",f));let p=u.toString();o.search=p?`?${p}`:""}}return(!s||s===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(o.pathname=o.pathname==="/"?a:Yo([a,o.pathname])),ix(o)}function ak(s,{relative:t}={}){let a=b.useContext(Rj);Aa(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=Yj("useViewTransitionState"),i=mx(s,{relative:t});if(!a.isTransitioning)return!1;let o=Ko(a.currentLocation.pathname,l)||a.currentLocation.pathname,c=Ko(a.nextLocation.pathname,l)||a.nextLocation.pathname;return em(i.pathname,c)!=null||em(i.pathname,o)!=null}var rk=Lj();const Xj=Eg(rk);let lk={data:""},nk=s=>{if(typeof window=="object"){let t=(s?s.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(s||document.head).appendChild(t),t.firstChild}return s||lk},ik=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,ok=/\/\*[^]*?\*\/|  +/g,Y1=/\n+/g,Oc=(s,t)=>{let a="",l="",i="";for(let o in s){let c=s[o];o[0]=="@"?o[1]=="i"?a=o+" "+c+";":l+=o[1]=="f"?Oc(c,o):o+"{"+Oc(c,o[1]=="k"?"":t)+"}":typeof c=="object"?l+=Oc(c,t?t.replace(/([^,])+/g,u=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,x=>/&/.test(x)?x.replace(/&/g,u):u?u+" "+x:x)):o):c!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Oc.p?Oc.p(o,c):o+":"+c+";")}return a+(t&&i?t+"{"+i+"}":i)+l},qo={},Kj=s=>{if(typeof s=="object"){let t="";for(let a in s)t+=a+Kj(s[a]);return t}return s},ck=(s,t,a,l,i)=>{let o=Kj(s),c=qo[o]||(qo[o]=(x=>{let h=0,p=11;for(;h<x.length;)p=101*p+x.charCodeAt(h++)>>>0;return"go"+p})(o));if(!qo[c]){let x=o!==s?s:(h=>{let p,f,y=[{}];for(;p=ik.exec(h.replace(ok,""));)p[4]?y.shift():p[3]?(f=p[3].replace(Y1," ").trim(),y.unshift(y[0][f]=y[0][f]||{})):y[0][p[1]]=p[2].replace(Y1," ").trim();return y[0]})(s);qo[c]=Oc(i?{["@keyframes "+c]:x}:x,a?"":"."+c)}let u=a&&qo.g?qo.g:null;return a&&(qo.g=qo[c]),((x,h,p,f)=>{f?h.data=h.data.replace(f,x):h.data.indexOf(x)===-1&&(h.data=p?x+h.data:h.data+x)})(qo[c],t,l,u),c},dk=(s,t,a)=>s.reduce((l,i,o)=>{let c=t[o];if(c&&c.call){let u=c(a),x=u&&u.props&&u.props.className||/^go/.test(u)&&u;c=x?"."+x:u&&typeof u=="object"?u.props?"":Oc(u,""):u===!1?"":u}return l+i+(c??"")},"");function vm(s){let t=this||{},a=s.call?s(t.p):s;return ck(a.unshift?a.raw?dk(a,[].slice.call(arguments,1),t.p):a.reduce((l,i)=>Object.assign(l,i&&i.call?i(t.p):i),{}):a,nk(t.target),t.g,t.o,t.k)}let Jj,Kf,Jf;vm.bind({g:1});let Jo=vm.bind({k:1});function uk(s,t,a,l){Oc.p=t,Jj=s,Kf=a,Jf=l}function Vc(s,t){let a=this||{};return function(){let l=arguments;function i(o,c){let u=Object.assign({},o),x=u.className||i.className;a.p=Object.assign({theme:Kf&&Kf()},u),a.o=/ *go\d+/.test(x),u.className=vm.apply(a,l)+(x?" "+x:"");let h=s;return s[0]&&(h=u.as||s,delete u.as),Jf&&h[0]&&Jf(u),Jj(h,u)}return i}}var xk=s=>typeof s=="function",sm=(s,t)=>xk(s)?s(t):s,hk=(()=>{let s=0;return()=>(++s).toString()})(),Qj=(()=>{let s;return()=>{if(s===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");s=!t||t.matches}return s}})(),mk=20,Bg="default",Zj=(s,t)=>{let{toastLimit:a}=s.settings;switch(t.type){case 0:return{...s,toasts:[t.toast,...s.toasts].slice(0,a)};case 1:return{...s,toasts:s.toasts.map(c=>c.id===t.toast.id?{...c,...t.toast}:c)};case 2:let{toast:l}=t;return Zj(s,{type:s.toasts.find(c=>c.id===l.id)?1:0,toast:l});case 3:let{toastId:i}=t;return{...s,toasts:s.toasts.map(c=>c.id===i||i===void 0?{...c,dismissed:!0,visible:!1}:c)};case 4:return t.toastId===void 0?{...s,toasts:[]}:{...s,toasts:s.toasts.filter(c=>c.id!==t.toastId)};case 5:return{...s,pausedAt:t.time};case 6:let o=t.time-(s.pausedAt||0);return{...s,pausedAt:void 0,toasts:s.toasts.map(c=>({...c,pauseDuration:c.pauseDuration+o}))}}},Rh=[],ew={toasts:[],pausedAt:void 0,settings:{toastLimit:mk}},oo={},tw=(s,t=Bg)=>{oo[t]=Zj(oo[t]||ew,s),Rh.forEach(([a,l])=>{a===t&&l(oo[t])})},sw=s=>Object.keys(oo).forEach(t=>tw(s,t)),pk=s=>Object.keys(oo).find(t=>oo[t].toasts.some(a=>a.id===s)),ym=(s=Bg)=>t=>{tw(t,s)},fk={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},gk=(s={},t=Bg)=>{let[a,l]=b.useState(oo[t]||ew),i=b.useRef(oo[t]);b.useEffect(()=>(i.current!==oo[t]&&l(oo[t]),Rh.push([t,l]),()=>{let c=Rh.findIndex(([u])=>u===t);c>-1&&Rh.splice(c,1)}),[t]);let o=a.toasts.map(c=>{var u,x,h;return{...s,...s[c.type],...c,removeDelay:c.removeDelay||((u=s[c.type])==null?void 0:u.removeDelay)||s?.removeDelay,duration:c.duration||((x=s[c.type])==null?void 0:x.duration)||s?.duration||fk[c.type],style:{...s.style,...(h=s[c.type])==null?void 0:h.style,...c.style}}});return{...a,toasts:o}},bk=(s,t="blank",a)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:s,pauseDuration:0,...a,id:a?.id||hk()}),px=s=>(t,a)=>{let l=bk(t,s,a);return ym(l.toasterId||pk(l.id))({type:2,toast:l}),l.id},ot=(s,t)=>px("blank")(s,t);ot.error=px("error");ot.success=px("success");ot.loading=px("loading");ot.custom=px("custom");ot.dismiss=(s,t)=>{let a={type:3,toastId:s};t?ym(t)(a):sw(a)};ot.dismissAll=s=>ot.dismiss(void 0,s);ot.remove=(s,t)=>{let a={type:4,toastId:s};t?ym(t)(a):sw(a)};ot.removeAll=s=>ot.remove(void 0,s);ot.promise=(s,t,a)=>{let l=ot.loading(t.loading,{...a,...a?.loading});return typeof s=="function"&&(s=s()),s.then(i=>{let o=t.success?sm(t.success,i):void 0;return o?ot.success(o,{id:l,...a,...a?.success}):ot.dismiss(l),i}).catch(i=>{let o=t.error?sm(t.error,i):void 0;o?ot.error(o,{id:l,...a,...a?.error}):ot.dismiss(l)}),s};var vk=1e3,yk=(s,t="default")=>{let{toasts:a,pausedAt:l}=gk(s,t),i=b.useRef(new Map).current,o=b.useCallback((f,y=vk)=>{if(i.has(f))return;let g=setTimeout(()=>{i.delete(f),c({type:4,toastId:f})},y);i.set(f,g)},[]);b.useEffect(()=>{if(l)return;let f=Date.now(),y=a.map(g=>{if(g.duration===1/0)return;let v=(g.duration||0)+g.pauseDuration-(f-g.createdAt);if(v<0){g.visible&&ot.dismiss(g.id);return}return setTimeout(()=>ot.dismiss(g.id,t),v)});return()=>{y.forEach(g=>g&&clearTimeout(g))}},[a,l,t]);let c=b.useCallback(ym(t),[t]),u=b.useCallback(()=>{c({type:5,time:Date.now()})},[c]),x=b.useCallback((f,y)=>{c({type:1,toast:{id:f,height:y}})},[c]),h=b.useCallback(()=>{l&&c({type:6,time:Date.now()})},[l,c]),p=b.useCallback((f,y)=>{let{reverseOrder:g=!1,gutter:v=8,defaultPosition:C}=y||{},N=a.filter(E=>(E.position||C)===(f.position||C)&&E.height),k=N.findIndex(E=>E.id===f.id),A=N.filter((E,w)=>w<k&&E.visible).length;return N.filter(E=>E.visible).slice(...g?[A+1]:[0,A]).reduce((E,w)=>E+(w.height||0)+v,0)},[a]);return b.useEffect(()=>{a.forEach(f=>{if(f.dismissed)o(f.id,f.removeDelay);else{let y=i.get(f.id);y&&(clearTimeout(y),i.delete(f.id))}})},[a,o]),{toasts:a,handlers:{updateHeight:x,startPause:u,endPause:h,calculateOffset:p}}},jk=Jo`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,wk=Jo`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Nk=Jo`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,kk=Vc("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${s=>s.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${jk} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${wk} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${s=>s.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Nk} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Sk=Jo`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Ck=Vc("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${s=>s.secondary||"#e0e0e0"};
  border-right-color: ${s=>s.primary||"#616161"};
  animation: ${Sk} 1s linear infinite;
`,Ak=Jo`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Dk=Jo`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Lk=Vc("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${s=>s.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Ak} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Dk} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${s=>s.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Ek=Vc("div")`
  position: absolute;
`,Mk=Vc("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,zk=Jo`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Tk=Vc("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${zk} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,_k=({toast:s})=>{let{icon:t,type:a,iconTheme:l}=s;return t!==void 0?typeof t=="string"?b.createElement(Tk,null,t):t:a==="blank"?null:b.createElement(Mk,null,b.createElement(Ck,{...l}),a!=="loading"&&b.createElement(Ek,null,a==="error"?b.createElement(kk,{...l}):b.createElement(Lk,{...l})))},Pk=s=>`
0% {transform: translate3d(0,${s*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Rk=s=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${s*-150}%,-1px) scale(.6); opacity:0;}
`,Ok="0%{opacity:0;} 100%{opacity:1;}",Fk="0%{opacity:1;} 100%{opacity:0;}",Ik=Vc("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Bk=Vc("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Uk=(s,t)=>{let a=s.includes("top")?1:-1,[l,i]=Qj()?[Ok,Fk]:[Pk(a),Rk(a)];return{animation:t?`${Jo(l)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Jo(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},$k=b.memo(({toast:s,position:t,style:a,children:l})=>{let i=s.height?Uk(s.position||t||"top-center",s.visible):{opacity:0},o=b.createElement(_k,{toast:s}),c=b.createElement(Bk,{...s.ariaProps},sm(s.message,s));return b.createElement(Ik,{className:s.className,style:{...i,...a,...s.style}},typeof l=="function"?l({icon:o,message:c}):b.createElement(b.Fragment,null,o,c))});uk(b.createElement);var qk=({id:s,className:t,style:a,onHeightUpdate:l,children:i})=>{let o=b.useCallback(c=>{if(c){let u=()=>{let x=c.getBoundingClientRect().height;l(s,x)};u(),new MutationObserver(u).observe(c,{subtree:!0,childList:!0,characterData:!0})}},[s,l]);return b.createElement("div",{ref:o,className:t,style:a},i)},Hk=(s,t)=>{let a=s.includes("top"),l=a?{top:0}:{bottom:0},i=s.includes("center")?{justifyContent:"center"}:s.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Qj()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(a?1:-1)}px)`,...l,...i}},Wk=vm`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,gh=16,Gk=({reverseOrder:s,position:t="top-center",toastOptions:a,gutter:l,children:i,toasterId:o,containerStyle:c,containerClassName:u})=>{let{toasts:x,handlers:h}=yk(a,o);return b.createElement("div",{"data-rht-toaster":o||"",style:{position:"fixed",zIndex:9999,top:gh,left:gh,right:gh,bottom:gh,pointerEvents:"none",...c},className:u,onMouseEnter:h.startPause,onMouseLeave:h.endPause},x.map(p=>{let f=p.position||t,y=h.calculateOffset(p,{reverseOrder:s,gutter:l,defaultPosition:t}),g=Hk(f,y);return b.createElement(qk,{id:p.id,key:p.id,onHeightUpdate:h.updateHeight,className:p.visible?Wk:"",style:g},p.type==="custom"?sm(p.message,p):i?i(p):b.createElement($k,{toast:p,position:f}))}))},Ve=ot;function aw(s,t){return function(){return s.apply(t,arguments)}}const{toString:Vk}=Object.prototype,{getPrototypeOf:Ug}=Object,{iterator:jm,toStringTag:rw}=Symbol,wm=(s=>t=>{const a=Vk.call(t);return s[a]||(s[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),Ri=s=>(s=s.toLowerCase(),t=>wm(t)===s),Nm=s=>t=>typeof t===s,{isArray:au}=Array,Q0=Nm("undefined");function fx(s){return s!==null&&!Q0(s)&&s.constructor!==null&&!Q0(s.constructor)&&Wl(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const lw=Ri("ArrayBuffer");function Yk(s){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(s):t=s&&s.buffer&&lw(s.buffer),t}const Xk=Nm("string"),Wl=Nm("function"),nw=Nm("number"),gx=s=>s!==null&&typeof s=="object",Kk=s=>s===!0||s===!1,Oh=s=>{if(wm(s)!=="object")return!1;const t=Ug(s);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(rw in s)&&!(jm in s)},Jk=s=>{if(!gx(s)||fx(s))return!1;try{return Object.keys(s).length===0&&Object.getPrototypeOf(s)===Object.prototype}catch{return!1}},Qk=Ri("Date"),Zk=Ri("File"),eS=Ri("Blob"),tS=Ri("FileList"),sS=s=>gx(s)&&Wl(s.pipe),aS=s=>{let t;return s&&(typeof FormData=="function"&&s instanceof FormData||Wl(s.append)&&((t=wm(s))==="formdata"||t==="object"&&Wl(s.toString)&&s.toString()==="[object FormData]"))},rS=Ri("URLSearchParams"),[lS,nS,iS,oS]=["ReadableStream","Request","Response","Headers"].map(Ri),cS=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function bx(s,t,{allOwnKeys:a=!1}={}){if(s===null||typeof s>"u")return;let l,i;if(typeof s!="object"&&(s=[s]),au(s))for(l=0,i=s.length;l<i;l++)t.call(null,s[l],l,s);else{if(fx(s))return;const o=a?Object.getOwnPropertyNames(s):Object.keys(s),c=o.length;let u;for(l=0;l<c;l++)u=o[l],t.call(null,s[u],u,s)}}function iw(s,t){if(fx(s))return null;t=t.toLowerCase();const a=Object.keys(s);let l=a.length,i;for(;l-- >0;)if(i=a[l],t===i.toLowerCase())return i;return null}const Md=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ow=s=>!Q0(s)&&s!==Md;function Qf(){const{caseless:s,skipUndefined:t}=ow(this)&&this||{},a={},l=(i,o)=>{if(o==="__proto__"||o==="constructor"||o==="prototype")return;const c=s&&iw(a,o)||o;Oh(a[c])&&Oh(i)?a[c]=Qf(a[c],i):Oh(i)?a[c]=Qf({},i):au(i)?a[c]=i.slice():(!t||!Q0(i))&&(a[c]=i)};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&bx(arguments[i],l);return a}const dS=(s,t,a,{allOwnKeys:l}={})=>(bx(t,(i,o)=>{a&&Wl(i)?Object.defineProperty(s,o,{value:aw(i,a),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(s,o,{value:i,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:l}),s),uS=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),xS=(s,t,a,l)=>{s.prototype=Object.create(t.prototype,l),Object.defineProperty(s.prototype,"constructor",{value:s,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(s,"super",{value:t.prototype}),a&&Object.assign(s.prototype,a)},hS=(s,t,a,l)=>{let i,o,c;const u={};if(t=t||{},s==null)return t;do{for(i=Object.getOwnPropertyNames(s),o=i.length;o-- >0;)c=i[o],(!l||l(c,s,t))&&!u[c]&&(t[c]=s[c],u[c]=!0);s=a!==!1&&Ug(s)}while(s&&(!a||a(s,t))&&s!==Object.prototype);return t},mS=(s,t,a)=>{s=String(s),(a===void 0||a>s.length)&&(a=s.length),a-=t.length;const l=s.indexOf(t,a);return l!==-1&&l===a},pS=s=>{if(!s)return null;if(au(s))return s;let t=s.length;if(!nw(t))return null;const a=new Array(t);for(;t-- >0;)a[t]=s[t];return a},fS=(s=>t=>s&&t instanceof s)(typeof Uint8Array<"u"&&Ug(Uint8Array)),gS=(s,t)=>{const l=(s&&s[jm]).call(s);let i;for(;(i=l.next())&&!i.done;){const o=i.value;t.call(s,o[0],o[1])}},bS=(s,t)=>{let a;const l=[];for(;(a=s.exec(t))!==null;)l.push(a);return l},vS=Ri("HTMLFormElement"),yS=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,l,i){return l.toUpperCase()+i}),X1=(({hasOwnProperty:s})=>(t,a)=>s.call(t,a))(Object.prototype),jS=Ri("RegExp"),cw=(s,t)=>{const a=Object.getOwnPropertyDescriptors(s),l={};bx(a,(i,o)=>{let c;(c=t(i,o,s))!==!1&&(l[o]=c||i)}),Object.defineProperties(s,l)},wS=s=>{cw(s,(t,a)=>{if(Wl(s)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const l=s[a];if(Wl(l)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},NS=(s,t)=>{const a={},l=i=>{i.forEach(o=>{a[o]=!0})};return au(s)?l(s):l(String(s).split(t)),a},kS=()=>{},SS=(s,t)=>s!=null&&Number.isFinite(s=+s)?s:t;function CS(s){return!!(s&&Wl(s.append)&&s[rw]==="FormData"&&s[jm])}const AS=s=>{const t=new Array(10),a=(l,i)=>{if(gx(l)){if(t.indexOf(l)>=0)return;if(fx(l))return l;if(!("toJSON"in l)){t[i]=l;const o=au(l)?[]:{};return bx(l,(c,u)=>{const x=a(c,i+1);!Q0(x)&&(o[u]=x)}),t[i]=void 0,o}}return l};return a(s,0)},DS=Ri("AsyncFunction"),LS=s=>s&&(gx(s)||Wl(s))&&Wl(s.then)&&Wl(s.catch),dw=((s,t)=>s?setImmediate:t?((a,l)=>(Md.addEventListener("message",({source:i,data:o})=>{i===Md&&o===a&&l.length&&l.shift()()},!1),i=>{l.push(i),Md.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",Wl(Md.postMessage)),ES=typeof queueMicrotask<"u"?queueMicrotask.bind(Md):typeof process<"u"&&process.nextTick||dw,MS=s=>s!=null&&Wl(s[jm]),Pe={isArray:au,isArrayBuffer:lw,isBuffer:fx,isFormData:aS,isArrayBufferView:Yk,isString:Xk,isNumber:nw,isBoolean:Kk,isObject:gx,isPlainObject:Oh,isEmptyObject:Jk,isReadableStream:lS,isRequest:nS,isResponse:iS,isHeaders:oS,isUndefined:Q0,isDate:Qk,isFile:Zk,isBlob:eS,isRegExp:jS,isFunction:Wl,isStream:sS,isURLSearchParams:rS,isTypedArray:fS,isFileList:tS,forEach:bx,merge:Qf,extend:dS,trim:cS,stripBOM:uS,inherits:xS,toFlatObject:hS,kindOf:wm,kindOfTest:Ri,endsWith:mS,toArray:pS,forEachEntry:gS,matchAll:bS,isHTMLForm:vS,hasOwnProperty:X1,hasOwnProp:X1,reduceDescriptors:cw,freezeMethods:wS,toObjectSet:NS,toCamelCase:yS,noop:kS,toFiniteNumber:SS,findKey:iw,global:Md,isContextDefined:ow,isSpecCompliantForm:CS,toJSONObject:AS,isAsyncFn:DS,isThenable:LS,setImmediate:dw,asap:ES,isIterable:MS};let Vt=class uw extends Error{static from(t,a,l,i,o,c){const u=new uw(t.message,a||t.code,l,i,o);return u.cause=t,u.name=t.name,c&&Object.assign(u,c),u}constructor(t,a,l,i,o){super(t),this.name="AxiosError",this.isAxiosError=!0,a&&(this.code=a),l&&(this.config=l),i&&(this.request=i),o&&(this.response=o,this.status=o.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Pe.toJSONObject(this.config),code:this.code,status:this.status}}};Vt.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";Vt.ERR_BAD_OPTION="ERR_BAD_OPTION";Vt.ECONNABORTED="ECONNABORTED";Vt.ETIMEDOUT="ETIMEDOUT";Vt.ERR_NETWORK="ERR_NETWORK";Vt.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";Vt.ERR_DEPRECATED="ERR_DEPRECATED";Vt.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";Vt.ERR_BAD_REQUEST="ERR_BAD_REQUEST";Vt.ERR_CANCELED="ERR_CANCELED";Vt.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";Vt.ERR_INVALID_URL="ERR_INVALID_URL";const zS=null;function Zf(s){return Pe.isPlainObject(s)||Pe.isArray(s)}function xw(s){return Pe.endsWith(s,"[]")?s.slice(0,-2):s}function K1(s,t,a){return s?s.concat(t).map(function(i,o){return i=xw(i),!a&&o?"["+i+"]":i}).join(a?".":""):t}function TS(s){return Pe.isArray(s)&&!s.some(Zf)}const _S=Pe.toFlatObject(Pe,{},null,function(t){return/^is[A-Z]/.test(t)});function km(s,t,a){if(!Pe.isObject(s))throw new TypeError("target must be an object");t=t||new FormData,a=Pe.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,N){return!Pe.isUndefined(N[C])});const l=a.metaTokens,i=a.visitor||p,o=a.dots,c=a.indexes,x=(a.Blob||typeof Blob<"u"&&Blob)&&Pe.isSpecCompliantForm(t);if(!Pe.isFunction(i))throw new TypeError("visitor must be a function");function h(v){if(v===null)return"";if(Pe.isDate(v))return v.toISOString();if(Pe.isBoolean(v))return v.toString();if(!x&&Pe.isBlob(v))throw new Vt("Blob is not supported. Use a Buffer instead.");return Pe.isArrayBuffer(v)||Pe.isTypedArray(v)?x&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function p(v,C,N){let k=v;if(v&&!N&&typeof v=="object"){if(Pe.endsWith(C,"{}"))C=l?C:C.slice(0,-2),v=JSON.stringify(v);else if(Pe.isArray(v)&&TS(v)||(Pe.isFileList(v)||Pe.endsWith(C,"[]"))&&(k=Pe.toArray(v)))return C=xw(C),k.forEach(function(E,w){!(Pe.isUndefined(E)||E===null)&&t.append(c===!0?K1([C],w,o):c===null?C:C+"[]",h(E))}),!1}return Zf(v)?!0:(t.append(K1(N,C,o),h(v)),!1)}const f=[],y=Object.assign(_S,{defaultVisitor:p,convertValue:h,isVisitable:Zf});function g(v,C){if(!Pe.isUndefined(v)){if(f.indexOf(v)!==-1)throw Error("Circular reference detected in "+C.join("."));f.push(v),Pe.forEach(v,function(k,A){(!(Pe.isUndefined(k)||k===null)&&i.call(t,k,Pe.isString(A)?A.trim():A,C,y))===!0&&g(k,C?C.concat(A):[A])}),f.pop()}}if(!Pe.isObject(s))throw new TypeError("data must be an object");return g(s),t}function J1(s){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(l){return t[l]})}function $g(s,t){this._pairs=[],s&&km(s,this,t)}const hw=$g.prototype;hw.append=function(t,a){this._pairs.push([t,a])};hw.toString=function(t){const a=t?function(l){return t.call(this,l,J1)}:J1;return this._pairs.map(function(i){return a(i[0])+"="+a(i[1])},"").join("&")};function PS(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function mw(s,t,a){if(!t)return s;const l=a&&a.encode||PS,i=Pe.isFunction(a)?{serialize:a}:a,o=i&&i.serialize;let c;if(o?c=o(t,i):c=Pe.isURLSearchParams(t)?t.toString():new $g(t,i).toString(l),c){const u=s.indexOf("#");u!==-1&&(s=s.slice(0,u)),s+=(s.indexOf("?")===-1?"?":"&")+c}return s}class Q1{constructor(){this.handlers=[]}use(t,a,l){return this.handlers.push({fulfilled:t,rejected:a,synchronous:l?l.synchronous:!1,runWhen:l?l.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Pe.forEach(this.handlers,function(l){l!==null&&t(l)})}}const qg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1,legacyInterceptorReqResOrdering:!0},RS=typeof URLSearchParams<"u"?URLSearchParams:$g,OS=typeof FormData<"u"?FormData:null,FS=typeof Blob<"u"?Blob:null,IS={isBrowser:!0,classes:{URLSearchParams:RS,FormData:OS,Blob:FS},protocols:["http","https","file","blob","url","data"]},Hg=typeof window<"u"&&typeof document<"u",eg=typeof navigator=="object"&&navigator||void 0,BS=Hg&&(!eg||["ReactNative","NativeScript","NS"].indexOf(eg.product)<0),US=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",$S=Hg&&window.location.href||"http://localhost",qS=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Hg,hasStandardBrowserEnv:BS,hasStandardBrowserWebWorkerEnv:US,navigator:eg,origin:$S},Symbol.toStringTag,{value:"Module"})),il={...qS,...IS};function HS(s,t){return km(s,new il.classes.URLSearchParams,{visitor:function(a,l,i,o){return il.isNode&&Pe.isBuffer(a)?(this.append(l,a.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function WS(s){return Pe.matchAll(/\w+|\[(\w*)]/g,s).map(t=>t[0]==="[]"?"":t[1]||t[0])}function GS(s){const t={},a=Object.keys(s);let l;const i=a.length;let o;for(l=0;l<i;l++)o=a[l],t[o]=s[o];return t}function pw(s){function t(a,l,i,o){let c=a[o++];if(c==="__proto__")return!0;const u=Number.isFinite(+c),x=o>=a.length;return c=!c&&Pe.isArray(i)?i.length:c,x?(Pe.hasOwnProp(i,c)?i[c]=[i[c],l]:i[c]=l,!u):((!i[c]||!Pe.isObject(i[c]))&&(i[c]=[]),t(a,l,i[c],o)&&Pe.isArray(i[c])&&(i[c]=GS(i[c])),!u)}if(Pe.isFormData(s)&&Pe.isFunction(s.entries)){const a={};return Pe.forEachEntry(s,(l,i)=>{t(WS(l),i,a,0)}),a}return null}function VS(s,t,a){if(Pe.isString(s))try{return(t||JSON.parse)(s),Pe.trim(s)}catch(l){if(l.name!=="SyntaxError")throw l}return(a||JSON.stringify)(s)}const vx={transitional:qg,adapter:["xhr","http","fetch"],transformRequest:[function(t,a){const l=a.getContentType()||"",i=l.indexOf("application/json")>-1,o=Pe.isObject(t);if(o&&Pe.isHTMLForm(t)&&(t=new FormData(t)),Pe.isFormData(t))return i?JSON.stringify(pw(t)):t;if(Pe.isArrayBuffer(t)||Pe.isBuffer(t)||Pe.isStream(t)||Pe.isFile(t)||Pe.isBlob(t)||Pe.isReadableStream(t))return t;if(Pe.isArrayBufferView(t))return t.buffer;if(Pe.isURLSearchParams(t))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let u;if(o){if(l.indexOf("application/x-www-form-urlencoded")>-1)return HS(t,this.formSerializer).toString();if((u=Pe.isFileList(t))||l.indexOf("multipart/form-data")>-1){const x=this.env&&this.env.FormData;return km(u?{"files[]":t}:t,x&&new x,this.formSerializer)}}return o||i?(a.setContentType("application/json",!1),VS(t)):t}],transformResponse:[function(t){const a=this.transitional||vx.transitional,l=a&&a.forcedJSONParsing,i=this.responseType==="json";if(Pe.isResponse(t)||Pe.isReadableStream(t))return t;if(t&&Pe.isString(t)&&(l&&!this.responseType||i)){const c=!(a&&a.silentJSONParsing)&&i;try{return JSON.parse(t,this.parseReviver)}catch(u){if(c)throw u.name==="SyntaxError"?Vt.from(u,Vt.ERR_BAD_RESPONSE,this,null,this.response):u}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:il.classes.FormData,Blob:il.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Pe.forEach(["delete","get","head","post","put","patch"],s=>{vx.headers[s]={}});const YS=Pe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),XS=s=>{const t={};let a,l,i;return s&&s.split(`
`).forEach(function(c){i=c.indexOf(":"),a=c.substring(0,i).trim().toLowerCase(),l=c.substring(i+1).trim(),!(!a||t[a]&&YS[a])&&(a==="set-cookie"?t[a]?t[a].push(l):t[a]=[l]:t[a]=t[a]?t[a]+", "+l:l)}),t},Z1=Symbol("internals");function Yu(s){return s&&String(s).trim().toLowerCase()}function Fh(s){return s===!1||s==null?s:Pe.isArray(s)?s.map(Fh):String(s)}function KS(s){const t=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let l;for(;l=a.exec(s);)t[l[1]]=l[2];return t}const JS=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function sf(s,t,a,l,i){if(Pe.isFunction(l))return l.call(this,t,a);if(i&&(t=a),!!Pe.isString(t)){if(Pe.isString(l))return t.indexOf(l)!==-1;if(Pe.isRegExp(l))return l.test(t)}}function QS(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,a,l)=>a.toUpperCase()+l)}function ZS(s,t){const a=Pe.toCamelCase(" "+t);["get","set","has"].forEach(l=>{Object.defineProperty(s,l+a,{value:function(i,o,c){return this[l].call(this,t,i,o,c)},configurable:!0})})}let Gl=class{constructor(t){t&&this.set(t)}set(t,a,l){const i=this;function o(u,x,h){const p=Yu(x);if(!p)throw new Error("header name must be a non-empty string");const f=Pe.findKey(i,p);(!f||i[f]===void 0||h===!0||h===void 0&&i[f]!==!1)&&(i[f||x]=Fh(u))}const c=(u,x)=>Pe.forEach(u,(h,p)=>o(h,p,x));if(Pe.isPlainObject(t)||t instanceof this.constructor)c(t,a);else if(Pe.isString(t)&&(t=t.trim())&&!JS(t))c(XS(t),a);else if(Pe.isObject(t)&&Pe.isIterable(t)){let u={},x,h;for(const p of t){if(!Pe.isArray(p))throw TypeError("Object iterator must return a key-value pair");u[h=p[0]]=(x=u[h])?Pe.isArray(x)?[...x,p[1]]:[x,p[1]]:p[1]}c(u,a)}else t!=null&&o(a,t,l);return this}get(t,a){if(t=Yu(t),t){const l=Pe.findKey(this,t);if(l){const i=this[l];if(!a)return i;if(a===!0)return KS(i);if(Pe.isFunction(a))return a.call(this,i,l);if(Pe.isRegExp(a))return a.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,a){if(t=Yu(t),t){const l=Pe.findKey(this,t);return!!(l&&this[l]!==void 0&&(!a||sf(this,this[l],l,a)))}return!1}delete(t,a){const l=this;let i=!1;function o(c){if(c=Yu(c),c){const u=Pe.findKey(l,c);u&&(!a||sf(l,l[u],u,a))&&(delete l[u],i=!0)}}return Pe.isArray(t)?t.forEach(o):o(t),i}clear(t){const a=Object.keys(this);let l=a.length,i=!1;for(;l--;){const o=a[l];(!t||sf(this,this[o],o,t,!0))&&(delete this[o],i=!0)}return i}normalize(t){const a=this,l={};return Pe.forEach(this,(i,o)=>{const c=Pe.findKey(l,o);if(c){a[c]=Fh(i),delete a[o];return}const u=t?QS(o):String(o).trim();u!==o&&delete a[o],a[u]=Fh(i),l[u]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const a=Object.create(null);return Pe.forEach(this,(l,i)=>{l!=null&&l!==!1&&(a[i]=t&&Pe.isArray(l)?l.join(", "):l)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,a])=>t+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...a){const l=new this(t);return a.forEach(i=>l.set(i)),l}static accessor(t){const l=(this[Z1]=this[Z1]={accessors:{}}).accessors,i=this.prototype;function o(c){const u=Yu(c);l[u]||(ZS(i,c),l[u]=!0)}return Pe.isArray(t)?t.forEach(o):o(t),this}};Gl.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Pe.reduceDescriptors(Gl.prototype,({value:s},t)=>{let a=t[0].toUpperCase()+t.slice(1);return{get:()=>s,set(l){this[a]=l}}});Pe.freezeMethods(Gl);function af(s,t){const a=this||vx,l=t||a,i=Gl.from(l.headers);let o=l.data;return Pe.forEach(s,function(u){o=u.call(a,o,i.normalize(),t?t.status:void 0)}),i.normalize(),o}function fw(s){return!!(s&&s.__CANCEL__)}let yx=class extends Vt{constructor(t,a,l){super(t??"canceled",Vt.ERR_CANCELED,a,l),this.name="CanceledError",this.__CANCEL__=!0}};function gw(s,t,a){const l=a.config.validateStatus;!a.status||!l||l(a.status)?s(a):t(new Vt("Request failed with status code "+a.status,[Vt.ERR_BAD_REQUEST,Vt.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function e8(s){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return t&&t[1]||""}function t8(s,t){s=s||10;const a=new Array(s),l=new Array(s);let i=0,o=0,c;return t=t!==void 0?t:1e3,function(x){const h=Date.now(),p=l[o];c||(c=h),a[i]=x,l[i]=h;let f=o,y=0;for(;f!==i;)y+=a[f++],f=f%s;if(i=(i+1)%s,i===o&&(o=(o+1)%s),h-c<t)return;const g=p&&h-p;return g?Math.round(y*1e3/g):void 0}}function s8(s,t){let a=0,l=1e3/t,i,o;const c=(h,p=Date.now())=>{a=p,i=null,o&&(clearTimeout(o),o=null),s(...h)};return[(...h)=>{const p=Date.now(),f=p-a;f>=l?c(h,p):(i=h,o||(o=setTimeout(()=>{o=null,c(i)},l-f)))},()=>i&&c(i)]}const am=(s,t,a=3)=>{let l=0;const i=t8(50,250);return s8(o=>{const c=o.loaded,u=o.lengthComputable?o.total:void 0,x=c-l,h=i(x),p=c<=u;l=c;const f={loaded:c,total:u,progress:u?c/u:void 0,bytes:x,rate:h||void 0,estimated:h&&u&&p?(u-c)/h:void 0,event:o,lengthComputable:u!=null,[t?"download":"upload"]:!0};s(f)},a)},ey=(s,t)=>{const a=s!=null;return[l=>t[0]({lengthComputable:a,total:s,loaded:l}),t[1]]},ty=s=>(...t)=>Pe.asap(()=>s(...t)),a8=il.hasStandardBrowserEnv?((s,t)=>a=>(a=new URL(a,il.origin),s.protocol===a.protocol&&s.host===a.host&&(t||s.port===a.port)))(new URL(il.origin),il.navigator&&/(msie|trident)/i.test(il.navigator.userAgent)):()=>!0,r8=il.hasStandardBrowserEnv?{write(s,t,a,l,i,o,c){if(typeof document>"u")return;const u=[`${s}=${encodeURIComponent(t)}`];Pe.isNumber(a)&&u.push(`expires=${new Date(a).toUTCString()}`),Pe.isString(l)&&u.push(`path=${l}`),Pe.isString(i)&&u.push(`domain=${i}`),o===!0&&u.push("secure"),Pe.isString(c)&&u.push(`SameSite=${c}`),document.cookie=u.join("; ")},read(s){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+s+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(s){this.write(s,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function l8(s){return typeof s!="string"?!1:/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function n8(s,t){return t?s.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):s}function bw(s,t,a){let l=!l8(t);return s&&(l||a==!1)?n8(s,t):t}const sy=s=>s instanceof Gl?{...s}:s;function Pd(s,t){t=t||{};const a={};function l(h,p,f,y){return Pe.isPlainObject(h)&&Pe.isPlainObject(p)?Pe.merge.call({caseless:y},h,p):Pe.isPlainObject(p)?Pe.merge({},p):Pe.isArray(p)?p.slice():p}function i(h,p,f,y){if(Pe.isUndefined(p)){if(!Pe.isUndefined(h))return l(void 0,h,f,y)}else return l(h,p,f,y)}function o(h,p){if(!Pe.isUndefined(p))return l(void 0,p)}function c(h,p){if(Pe.isUndefined(p)){if(!Pe.isUndefined(h))return l(void 0,h)}else return l(void 0,p)}function u(h,p,f){if(f in t)return l(h,p);if(f in s)return l(void 0,h)}const x={url:o,method:o,data:o,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:u,headers:(h,p,f)=>i(sy(h),sy(p),f,!0)};return Pe.forEach(Object.keys({...s,...t}),function(p){if(p==="__proto__"||p==="constructor"||p==="prototype")return;const f=Pe.hasOwnProp(x,p)?x[p]:i,y=f(s[p],t[p],p);Pe.isUndefined(y)&&f!==u||(a[p]=y)}),a}const vw=s=>{const t=Pd({},s);let{data:a,withXSRFToken:l,xsrfHeaderName:i,xsrfCookieName:o,headers:c,auth:u}=t;if(t.headers=c=Gl.from(c),t.url=mw(bw(t.baseURL,t.url,t.allowAbsoluteUrls),s.params,s.paramsSerializer),u&&c.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),Pe.isFormData(a)){if(il.hasStandardBrowserEnv||il.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if(Pe.isFunction(a.getHeaders)){const x=a.getHeaders(),h=["content-type","content-length"];Object.entries(x).forEach(([p,f])=>{h.includes(p.toLowerCase())&&c.set(p,f)})}}if(il.hasStandardBrowserEnv&&(l&&Pe.isFunction(l)&&(l=l(t)),l||l!==!1&&a8(t.url))){const x=i&&o&&r8.read(o);x&&c.set(i,x)}return t},i8=typeof XMLHttpRequest<"u",o8=i8&&function(s){return new Promise(function(a,l){const i=vw(s);let o=i.data;const c=Gl.from(i.headers).normalize();let{responseType:u,onUploadProgress:x,onDownloadProgress:h}=i,p,f,y,g,v;function C(){g&&g(),v&&v(),i.cancelToken&&i.cancelToken.unsubscribe(p),i.signal&&i.signal.removeEventListener("abort",p)}let N=new XMLHttpRequest;N.open(i.method.toUpperCase(),i.url,!0),N.timeout=i.timeout;function k(){if(!N)return;const E=Gl.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),R={data:!u||u==="text"||u==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:E,config:s,request:N};gw(function(O){a(O),C()},function(O){l(O),C()},R),N=null}"onloadend"in N?N.onloadend=k:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(k)},N.onabort=function(){N&&(l(new Vt("Request aborted",Vt.ECONNABORTED,s,N)),N=null)},N.onerror=function(w){const R=w&&w.message?w.message:"Network Error",T=new Vt(R,Vt.ERR_NETWORK,s,N);T.event=w||null,l(T),N=null},N.ontimeout=function(){let w=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const R=i.transitional||qg;i.timeoutErrorMessage&&(w=i.timeoutErrorMessage),l(new Vt(w,R.clarifyTimeoutError?Vt.ETIMEDOUT:Vt.ECONNABORTED,s,N)),N=null},o===void 0&&c.setContentType(null),"setRequestHeader"in N&&Pe.forEach(c.toJSON(),function(w,R){N.setRequestHeader(R,w)}),Pe.isUndefined(i.withCredentials)||(N.withCredentials=!!i.withCredentials),u&&u!=="json"&&(N.responseType=i.responseType),h&&([y,v]=am(h,!0),N.addEventListener("progress",y)),x&&N.upload&&([f,g]=am(x),N.upload.addEventListener("progress",f),N.upload.addEventListener("loadend",g)),(i.cancelToken||i.signal)&&(p=E=>{N&&(l(!E||E.type?new yx(null,s,N):E),N.abort(),N=null)},i.cancelToken&&i.cancelToken.subscribe(p),i.signal&&(i.signal.aborted?p():i.signal.addEventListener("abort",p)));const A=e8(i.url);if(A&&il.protocols.indexOf(A)===-1){l(new Vt("Unsupported protocol "+A+":",Vt.ERR_BAD_REQUEST,s));return}N.send(o||null)})},c8=(s,t)=>{const{length:a}=s=s?s.filter(Boolean):[];if(t||a){let l=new AbortController,i;const o=function(h){if(!i){i=!0,u();const p=h instanceof Error?h:this.reason;l.abort(p instanceof Vt?p:new yx(p instanceof Error?p.message:p))}};let c=t&&setTimeout(()=>{c=null,o(new Vt(`timeout of ${t}ms exceeded`,Vt.ETIMEDOUT))},t);const u=()=>{s&&(c&&clearTimeout(c),c=null,s.forEach(h=>{h.unsubscribe?h.unsubscribe(o):h.removeEventListener("abort",o)}),s=null)};s.forEach(h=>h.addEventListener("abort",o));const{signal:x}=l;return x.unsubscribe=()=>Pe.asap(u),x}},d8=function*(s,t){let a=s.byteLength;if(a<t){yield s;return}let l=0,i;for(;l<a;)i=l+t,yield s.slice(l,i),l=i},u8=async function*(s,t){for await(const a of x8(s))yield*d8(a,t)},x8=async function*(s){if(s[Symbol.asyncIterator]){yield*s;return}const t=s.getReader();try{for(;;){const{done:a,value:l}=await t.read();if(a)break;yield l}}finally{await t.cancel()}},ay=(s,t,a,l)=>{const i=u8(s,t);let o=0,c,u=x=>{c||(c=!0,l&&l(x))};return new ReadableStream({async pull(x){try{const{done:h,value:p}=await i.next();if(h){u(),x.close();return}let f=p.byteLength;if(a){let y=o+=f;a(y)}x.enqueue(new Uint8Array(p))}catch(h){throw u(h),h}},cancel(x){return u(x),i.return()}},{highWaterMark:2})},ry=64*1024,{isFunction:bh}=Pe,h8=(({Request:s,Response:t})=>({Request:s,Response:t}))(Pe.global),{ReadableStream:ly,TextEncoder:ny}=Pe.global,iy=(s,...t)=>{try{return!!s(...t)}catch{return!1}},m8=s=>{s=Pe.merge.call({skipUndefined:!0},h8,s);const{fetch:t,Request:a,Response:l}=s,i=t?bh(t):typeof fetch=="function",o=bh(a),c=bh(l);if(!i)return!1;const u=i&&bh(ly),x=i&&(typeof ny=="function"?(v=>C=>v.encode(C))(new ny):async v=>new Uint8Array(await new a(v).arrayBuffer())),h=o&&u&&iy(()=>{let v=!1;const C=new a(il.origin,{body:new ly,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!C}),p=c&&u&&iy(()=>Pe.isReadableStream(new l("").body)),f={stream:p&&(v=>v.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!f[v]&&(f[v]=(C,N)=>{let k=C&&C[v];if(k)return k.call(C);throw new Vt(`Response type '${v}' is not supported`,Vt.ERR_NOT_SUPPORT,N)})});const y=async v=>{if(v==null)return 0;if(Pe.isBlob(v))return v.size;if(Pe.isSpecCompliantForm(v))return(await new a(il.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(Pe.isArrayBufferView(v)||Pe.isArrayBuffer(v))return v.byteLength;if(Pe.isURLSearchParams(v)&&(v=v+""),Pe.isString(v))return(await x(v)).byteLength},g=async(v,C)=>{const N=Pe.toFiniteNumber(v.getContentLength());return N??y(C)};return async v=>{let{url:C,method:N,data:k,signal:A,cancelToken:E,timeout:w,onDownloadProgress:R,onUploadProgress:T,responseType:O,headers:W,withCredentials:B="same-origin",fetchOptions:z}=vw(v),P=t||fetch;O=O?(O+"").toLowerCase():"text";let F=c8([A,E&&E.toAbortSignal()],w),G=null;const Y=F&&F.unsubscribe&&(()=>{F.unsubscribe()});let me;try{if(T&&h&&N!=="get"&&N!=="head"&&(me=await g(W,k))!==0){let te=new a(C,{method:"POST",body:k,duplex:"half"}),q;if(Pe.isFormData(k)&&(q=te.headers.get("content-type"))&&W.setContentType(q),te.body){const[Q,K]=ey(me,am(ty(T)));k=ay(te.body,ry,Q,K)}}Pe.isString(B)||(B=B?"include":"omit");const H=o&&"credentials"in a.prototype,V={...z,signal:F,method:N.toUpperCase(),headers:W.normalize().toJSON(),body:k,duplex:"half",credentials:H?B:void 0};G=o&&new a(C,V);let $=await(o?P(G,z):P(C,V));const le=p&&(O==="stream"||O==="response");if(p&&(R||le&&Y)){const te={};["status","statusText","headers"].forEach(oe=>{te[oe]=$[oe]});const q=Pe.toFiniteNumber($.headers.get("content-length")),[Q,K]=R&&ey(q,am(ty(R),!0))||[];$=new l(ay($.body,ry,Q,()=>{K&&K(),Y&&Y()}),te)}O=O||"text";let ge=await f[Pe.findKey(f,O)||"text"]($,v);return!le&&Y&&Y(),await new Promise((te,q)=>{gw(te,q,{data:ge,headers:Gl.from($.headers),status:$.status,statusText:$.statusText,config:v,request:G})})}catch(H){throw Y&&Y(),H&&H.name==="TypeError"&&/Load failed|fetch/i.test(H.message)?Object.assign(new Vt("Network Error",Vt.ERR_NETWORK,v,G,H&&H.response),{cause:H.cause||H}):Vt.from(H,H&&H.code,v,G,H&&H.response)}}},p8=new Map,yw=s=>{let t=s&&s.env||{};const{fetch:a,Request:l,Response:i}=t,o=[l,i,a];let c=o.length,u=c,x,h,p=p8;for(;u--;)x=o[u],h=p.get(x),h===void 0&&p.set(x,h=u?new Map:m8(t)),p=h;return h};yw();const Wg={http:zS,xhr:o8,fetch:{get:yw}};Pe.forEach(Wg,(s,t)=>{if(s){try{Object.defineProperty(s,"name",{value:t})}catch{}Object.defineProperty(s,"adapterName",{value:t})}});const oy=s=>`- ${s}`,f8=s=>Pe.isFunction(s)||s===null||s===!1;function g8(s,t){s=Pe.isArray(s)?s:[s];const{length:a}=s;let l,i;const o={};for(let c=0;c<a;c++){l=s[c];let u;if(i=l,!f8(l)&&(i=Wg[(u=String(l)).toLowerCase()],i===void 0))throw new Vt(`Unknown adapter '${u}'`);if(i&&(Pe.isFunction(i)||(i=i.get(t))))break;o[u||"#"+c]=i}if(!i){const c=Object.entries(o).map(([x,h])=>`adapter ${x} `+(h===!1?"is not supported by the environment":"is not available in the build"));let u=a?c.length>1?`since :
`+c.map(oy).join(`
`):" "+oy(c[0]):"as no adapter specified";throw new Vt("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return i}const jw={getAdapter:g8,adapters:Wg};function rf(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new yx(null,s)}function cy(s){return rf(s),s.headers=Gl.from(s.headers),s.data=af.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),jw.getAdapter(s.adapter||vx.adapter,s)(s).then(function(l){return rf(s),l.data=af.call(s,s.transformResponse,l),l.headers=Gl.from(l.headers),l},function(l){return fw(l)||(rf(s),l&&l.response&&(l.response.data=af.call(s,s.transformResponse,l.response),l.response.headers=Gl.from(l.response.headers))),Promise.reject(l)})}const ww="1.13.5",Sm={};["object","boolean","number","function","string","symbol"].forEach((s,t)=>{Sm[s]=function(l){return typeof l===s||"a"+(t<1?"n ":" ")+s}});const dy={};Sm.transitional=function(t,a,l){function i(o,c){return"[Axios v"+ww+"] Transitional option '"+o+"'"+c+(l?". "+l:"")}return(o,c,u)=>{if(t===!1)throw new Vt(i(c," has been removed"+(a?" in "+a:"")),Vt.ERR_DEPRECATED);return a&&!dy[c]&&(dy[c]=!0,console.warn(i(c," has been deprecated since v"+a+" and will be removed in the near future"))),t?t(o,c,u):!0}};Sm.spelling=function(t){return(a,l)=>(console.warn(`${l} is likely a misspelling of ${t}`),!0)};function b8(s,t,a){if(typeof s!="object")throw new Vt("options must be an object",Vt.ERR_BAD_OPTION_VALUE);const l=Object.keys(s);let i=l.length;for(;i-- >0;){const o=l[i],c=t[o];if(c){const u=s[o],x=u===void 0||c(u,o,s);if(x!==!0)throw new Vt("option "+o+" must be "+x,Vt.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new Vt("Unknown option "+o,Vt.ERR_BAD_OPTION)}}const Ih={assertOptions:b8,validators:Sm},Yn=Ih.validators;let Td=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Q1,response:new Q1}}async request(t,a){try{return await this._request(t,a)}catch(l){if(l instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{l.stack?o&&!String(l.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(l.stack+=`
`+o):l.stack=o}catch{}}throw l}}_request(t,a){typeof t=="string"?(a=a||{},a.url=t):a=t||{},a=Pd(this.defaults,a);const{transitional:l,paramsSerializer:i,headers:o}=a;l!==void 0&&Ih.assertOptions(l,{silentJSONParsing:Yn.transitional(Yn.boolean),forcedJSONParsing:Yn.transitional(Yn.boolean),clarifyTimeoutError:Yn.transitional(Yn.boolean),legacyInterceptorReqResOrdering:Yn.transitional(Yn.boolean)},!1),i!=null&&(Pe.isFunction(i)?a.paramsSerializer={serialize:i}:Ih.assertOptions(i,{encode:Yn.function,serialize:Yn.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),Ih.assertOptions(a,{baseUrl:Yn.spelling("baseURL"),withXsrfToken:Yn.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let c=o&&Pe.merge(o.common,o[a.method]);o&&Pe.forEach(["delete","get","head","post","put","patch","common"],v=>{delete o[v]}),a.headers=Gl.concat(c,o);const u=[];let x=!0;this.interceptors.request.forEach(function(C){if(typeof C.runWhen=="function"&&C.runWhen(a)===!1)return;x=x&&C.synchronous;const N=a.transitional||qg;N&&N.legacyInterceptorReqResOrdering?u.unshift(C.fulfilled,C.rejected):u.push(C.fulfilled,C.rejected)});const h=[];this.interceptors.response.forEach(function(C){h.push(C.fulfilled,C.rejected)});let p,f=0,y;if(!x){const v=[cy.bind(this),void 0];for(v.unshift(...u),v.push(...h),y=v.length,p=Promise.resolve(a);f<y;)p=p.then(v[f++],v[f++]);return p}y=u.length;let g=a;for(;f<y;){const v=u[f++],C=u[f++];try{g=v(g)}catch(N){C.call(this,N);break}}try{p=cy.call(this,g)}catch(v){return Promise.reject(v)}for(f=0,y=h.length;f<y;)p=p.then(h[f++],h[f++]);return p}getUri(t){t=Pd(this.defaults,t);const a=bw(t.baseURL,t.url,t.allowAbsoluteUrls);return mw(a,t.params,t.paramsSerializer)}};Pe.forEach(["delete","get","head","options"],function(t){Td.prototype[t]=function(a,l){return this.request(Pd(l||{},{method:t,url:a,data:(l||{}).data}))}});Pe.forEach(["post","put","patch"],function(t){function a(l){return function(o,c,u){return this.request(Pd(u||{},{method:t,headers:l?{"Content-Type":"multipart/form-data"}:{},url:o,data:c}))}}Td.prototype[t]=a(),Td.prototype[t+"Form"]=a(!0)});let v8=class Nw{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(o){a=o});const l=this;this.promise.then(i=>{if(!l._listeners)return;let o=l._listeners.length;for(;o-- >0;)l._listeners[o](i);l._listeners=null}),this.promise.then=i=>{let o;const c=new Promise(u=>{l.subscribe(u),o=u}).then(i);return c.cancel=function(){l.unsubscribe(o)},c},t(function(o,c,u){l.reason||(l.reason=new yx(o,c,u),a(l.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const a=this._listeners.indexOf(t);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const t=new AbortController,a=l=>{t.abort(l)};return this.subscribe(a),t.signal.unsubscribe=()=>this.unsubscribe(a),t.signal}static source(){let t;return{token:new Nw(function(i){t=i}),cancel:t}}};function y8(s){return function(a){return s.apply(null,a)}}function j8(s){return Pe.isObject(s)&&s.isAxiosError===!0}const tg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(tg).forEach(([s,t])=>{tg[t]=s});function kw(s){const t=new Td(s),a=aw(Td.prototype.request,t);return Pe.extend(a,Td.prototype,t,{allOwnKeys:!0}),Pe.extend(a,t,null,{allOwnKeys:!0}),a.create=function(i){return kw(Pd(s,i))},a}const ar=kw(vx);ar.Axios=Td;ar.CanceledError=yx;ar.CancelToken=v8;ar.isCancel=fw;ar.VERSION=ww;ar.toFormData=km;ar.AxiosError=Vt;ar.Cancel=ar.CanceledError;ar.all=function(t){return Promise.all(t)};ar.spread=y8;ar.isAxiosError=j8;ar.mergeConfig=Pd;ar.AxiosHeaders=Gl;ar.formToJSON=s=>pw(Pe.isHTMLForm(s)?new FormData(s):s);ar.getAdapter=jw.getAdapter;ar.HttpStatusCode=tg;ar.default=ar;const{Axios:NO,AxiosError:kO,CanceledError:SO,isCancel:CO,CancelToken:AO,VERSION:DO,all:LO,Cancel:EO,isAxiosError:MO,spread:zO,toFormData:TO,AxiosHeaders:_O,HttpStatusCode:PO,formToJSON:RO,getAdapter:OO,mergeConfig:FO}=ar,Sw="http://localhost:8000/api/v1",ve=ar.create({baseURL:Sw,withCredentials:!0});ve.interceptors.response.use(s=>s,s=>(s.response?.status===401&&(console.warn("Unauthorized access detected. Redirecting to login..."),localStorage.removeItem("userRole"),localStorage.removeItem("userData"),window.location.pathname!=="/login"&&(window.location.href="/login")),Promise.reject(s)));const Cw=ve,w8=async(s,t,a)=>{try{return(await Cw.post("/auth/login",{email:s,password:t,role:a})).data}catch(l){throw l.response?.data?.message||"Login failed"}},N8=async()=>{try{return(await Cw.post("/auth/logout")).data}catch(s){console.error("Logout failed:",s)}},Aw=b.createContext(),k8=({children:s})=>{const[t,a]=b.useState(()=>{const h=localStorage.getItem("userData");return h?JSON.parse(h):null}),[l,i]=b.useState(()=>localStorage.getItem("userRole")),[o,c]=b.useState(!1),u=h=>{a(h),i(h.role),localStorage.setItem("userRole",h.role),localStorage.setItem("userData",JSON.stringify(h))},x=async()=>{c(!0);try{await N8()}catch(h){console.error("Logout API failed:",h)}finally{a(null),i(null),localStorage.removeItem("userRole"),localStorage.removeItem("userData"),c(!1),window.location.href="/login"}};return e.jsx(Aw.Provider,{value:{user:t,role:l,loading:o,login:u,logout:x},children:s})},Oi=()=>{const s=b.useContext(Aw);if(!s)throw new Error("useAuth must be used within an AuthProvider");return s};const Dw=(...s)=>s.filter((t,a,l)=>!!t&&t.trim()!==""&&l.indexOf(t)===a).join(" ").trim();const S8=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const C8=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,a,l)=>l?l.toUpperCase():a.toLowerCase());const uy=s=>{const t=C8(s);return t.charAt(0).toUpperCase()+t.slice(1)};var A8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const D8=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const L8=b.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:i="",children:o,iconNode:c,...u},x)=>b.createElement("svg",{ref:x,...A8,width:t,height:t,stroke:s,strokeWidth:l?Number(a)*24/Number(t):a,className:Dw("lucide",i),...!o&&!D8(u)&&{"aria-hidden":"true"},...u},[...c.map(([h,p])=>b.createElement(h,p)),...Array.isArray(o)?o:[o]]));const Te=(s,t)=>{const a=b.forwardRef(({className:l,...i},o)=>b.createElement(L8,{ref:o,iconNode:t,className:Dw(`lucide-${S8(uy(s))}`,`lucide-${s}`,l),...i}));return a.displayName=uy(s),a};const E8=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],It=Te("activity",E8);const M8=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Lw=Te("archive",M8);const z8=[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]],W0=Te("arrow-down-left",z8);const T8=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],Ew=Te("arrow-down-right",T8);const _8=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Dn=Te("arrow-left",_8);const P8=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],jn=Te("arrow-right",P8);const R8=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Nl=Te("arrow-up-right",R8);const O8=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Gg=Te("award",O8);const F8=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Mw=Te("ban",F8);const I8=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],Hs=Te("banknote",I8);const B8=[["path",{d:"M10 4 8 6",key:"1rru8s"}],["path",{d:"M17 19v2",key:"ts1sot"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"M7 19v2",key:"12npes"}],["path",{d:"M9 5 7.621 3.621A2.121 2.121 0 0 0 4 5v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5",key:"14ym8i"}]],zw=Te("bath",B8);const U8=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]],$8=Te("bell-ring",U8);const q8=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],wn=Te("bell",q8);const H8=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],ru=Te("box",H8);const W8=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Z0=Te("briefcase",W8);const G8=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],$c=Te("building-2",G8);const V8=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],zr=Te("building",V8);const Y8=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],X8=Te("calculator",Y8);const K8=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],Tw=Te("calendar-days",K8);const J8=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Xe=Te("calendar",J8);const Q8=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Qo=Te("camera",Q8);const Z8=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],_w=Te("car",Z8);const eC=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],ox=Te("chart-column",eC);const tC=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V9",key:"uvy0l4"}],["path",{d:"M19 21V3",key:"11j9sm"}]],xy=Te("chart-no-axes-column-increasing",tC);const sC=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Vg=Te("chart-pie",sC);const aC=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],Pw=Te("check-check",aC);const rC=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],wr=Te("check",rC);const lC=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],kl=Te("chevron-down",lC);const nC=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Xr=Te("chevron-left",nC);const iC=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],bs=Te("chevron-right",iC);const oC=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Rw=Te("chevron-up",oC);const cC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ms=Te("circle-alert",cC);const dC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Qt=Te("circle-check-big",dC);const uC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Zt=Te("circle-check",uC);const xC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]],rm=Te("circle-pause",xC);const hC=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],mC=Te("circle-play",hC);const pC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Vl=Te("circle-x",pC);const fC=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],ll=Te("clipboard-list",fC);const gC=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ze=Te("clock",gC);const bC=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],Yg=Te("coffee",bC);const vC=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],sg=Te("copy",vC);const yC=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Rs=Te("credit-card",yC);const jC=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],wC=Te("crown",jC);const NC=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Qn=Te("dollar-sign",NC);const kC=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],na=Te("download",kC);const SC=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],Ow=Te("droplets",SC);const CC=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],Vr=Te("dumbbell",CC);const AC=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],qc=Te("ellipsis-vertical",AC);const DC=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],LC=Te("ellipsis",DC);const EC=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],MC=Te("external-link",EC);const zC=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Bh=Te("eye-off",zC);const TC=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],qs=Te("eye",TC);const _C=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],Fw=Te("file-plus",_C);const PC=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],dr=Te("file-text",PC);const RC=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],lm=Te("flame",RC);const OC=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],ks=Te("funnel",OC);const FC=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],Rd=Te("gift",FC);const IC=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],tx=Te("git-branch",IC);const BC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],nm=Te("globe",BC);const UC=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],im=Te("hash",UC);const $C=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],wl=Te("history",$C);const qC=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],HC=Te("hourglass",qC);const WC=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Iw=Te("house",WC);const GC=[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]],VC=Te("image-plus",GC);const YC=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],XC=Te("image",YC);const KC=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],Yl=Te("indian-rupee",KC);const JC=[["path",{d:"M6 16c5 0 7-8 12-8a4 4 0 0 1 0 8c-5 0-7-8-12-8a4 4 0 1 0 0 8",key:"18ogeb"}]],Cm=Te("infinity",JC);const QC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Sn=Te("info",QC);const ZC=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Bw=Te("key",ZC);const eA=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],co=Te("layers",eA);const tA=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Ld=Te("layout-dashboard",tA);const sA=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],Uw=Te("layout-grid",sA);const aA=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],rA=Te("link-2",aA);const lA=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],nA=Te("list",lA);const iA=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],dl=Te("loader-circle",iA);const oA=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],lu=Te("loader",oA);const cA=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],dA=Te("lock-open",cA);const uA=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Os=Te("lock",uA);const xA=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],bn=Te("log-out",xA);const hA=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],_r=Te("mail",hA);const mA=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Ws=Te("map-pin",mA);const pA=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],vn=Te("megaphone",pA);const fA=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],gA=Te("menu",fA);const bA=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],vA=Te("message-circle",bA);const yA=[["path",{d:"M12 3H4a2 2 0 0 0-2 2v16.286a.71.71 0 0 0 1.212.502l2.202-2.202A2 2 0 0 1 6.828 19H20a2 2 0 0 0 2-2v-4",key:"11da1y"}],["path",{d:"M16 3h6v6",key:"1bx56c"}],["path",{d:"m16 9 6-6",key:"m4dnic"}]],jA=Te("message-square-share",yA);const wA=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],sr=Te("message-square",wA);const NA=[["path",{d:"M5 12h14",key:"1ays0h"}]],kA=Te("minus",NA);const SA=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],$w=Te("monitor",SA);const CA=[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]],hy=Te("mouse-pointer-2",CA);const AA=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],qw=Te("music",AA);const DA=[["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"M2.586 16.726A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2h6.624a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586z",key:"2d38gg"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],my=Te("octagon-x",DA);const LA=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],ol=Te("package",LA);const EA=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],Hw=Te("paperclip",EA);const MA=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],ag=Te("panels-top-left",MA);const zA=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],TA=Te("pause",zA);const _A=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Ra=Te("pen",_A);const PA=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],Hc=Te("percent",PA);const RA=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],ja=Te("phone",RA);const OA=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],rg=Te("play",OA);const FA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],wt=Te("plus",FA);const IA=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],py=Te("power",IA);const BA=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],UA=Te("printer",BA);const $A=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],Ww=Te("qr-code",$A);const qA=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],Va=Te("receipt",qA);const HA=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],Gw=Te("refresh-ccw",HA);const WA=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Tr=Te("refresh-cw",WA);const GA=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],VA=Te("rotate-ccw",GA);const YA=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],xa=Te("save",YA);const XA=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],Vw=Te("scale",XA);const KA=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],st=Te("search",KA);const JA=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],$d=Te("send",JA);const QA=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],lg=Te("server",QA);const ZA=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],Yw=Te("settings-2",ZA);const e7=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],om=Te("settings",e7);const t7=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],s7=Te("share-2",t7);const a7=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],Uh=Te("shield-alert",a7);const r7=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Cn=Te("shield-check",r7);const l7=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Pa=Te("shield",l7);const n7=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Ic=Te("shopping-bag",n7);const i7=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Bc=Te("shopping-cart",i7);const o7=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],Kl=Te("smartphone",o7);const c7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],d7=Te("smile",c7);const u7=[["path",{d:"m10 20-1.25-2.5L6 18",key:"18frcb"}],["path",{d:"M10 4 8.75 6.5 6 6",key:"7mghy3"}],["path",{d:"m14 20 1.25-2.5L18 18",key:"1chtki"}],["path",{d:"m14 4 1.25 2.5L18 6",key:"1b4wsy"}],["path",{d:"m17 21-3-6h-4",key:"15hhxa"}],["path",{d:"m17 3-3 6 1.5 3",key:"11697g"}],["path",{d:"M2 12h6.5L10 9",key:"kv9z4n"}],["path",{d:"m20 10-1.5 2 1.5 2",key:"1swlpi"}],["path",{d:"M22 12h-6.5L14 15",key:"1mxi28"}],["path",{d:"m4 10 1.5 2L4 14",key:"k9enpj"}],["path",{d:"m7 21 3-6-1.5-3",key:"j8hb9u"}],["path",{d:"m7 3 3 6h4",key:"1otusx"}]],fy=Te("snowflake",u7);const x7=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Gr=Te("sparkles",x7);const h7=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Od=Te("square-pen",h7);const m7=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Hl=Te("star",m7);const p7=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],f7=Te("store",p7);const g7=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Xo=Te("tag",g7);const b7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Nn=Te("target",b7);const v7=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],cx=Te("terminal",v7);const y7=[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]],j7=Te("thermometer",y7);const w7=[["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}],["path",{d:"M7 10v12",key:"1qc93n"}]],ng=Te("thumbs-up",w7);const N7=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],k7=Te("ticket",N7);const S7=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],xs=Te("trash-2",S7);const C7=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],G0=Te("trending-down",C7);const A7=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Qs=Te("trending-up",A7);const D7=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],cl=Te("triangle-alert",D7);const L7=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Xw=Te("trophy",L7);const E7=[["path",{d:"m17 2-5 5-5-5",key:"16satq"}],["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",key:"1e6viu"}]],Kw=Te("tv",E7);const M7=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],ig=Te("upload",M7);const z7=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Zn=Te("user-check",z7);const T7=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],og=Te("user-minus",T7);const _7=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],nl=Te("user-plus",_7);const P7=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],gy=Te("user-x",P7);const R7=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],lt=Te("user",R7);const O7=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Pt=Te("users",O7);const F7=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],zd=Te("utensils",F7);const I7=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],B7=Te("video",I7);const U7=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],$h=Te("wallet",U7);const $7=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],Jw=Te("waves",$7);const q7=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],H7=Te("wifi-off",q7);const W7=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],Am=Te("wifi",W7);const G7=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],Qw=Te("wind",G7);const V7=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],Xl=Te("wrench",V7);const Y7=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Yr=Te("x",Y7);const X7=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ua=Te("zap",X7),it={SUPER_ADMIN:"SUPER_ADMIN",BRANCH_ADMIN:"BRANCH_ADMIN",MANAGER:"MANAGER",STAFF:"STAFF",TRAINER:"TRAINER",MEMBER:"MEMBER"},ds=({options:s,value:t,onChange:a,icon:l,placeholder:i,className:o})=>{const[c,u]=b.useState(!1),[x,h]=b.useState({top:0,left:0,width:0}),p=b.useRef(null),f=b.useRef(null);b.useEffect(()=>{if(c&&p.current){const k=p.current.getBoundingClientRect();h({top:k.bottom+window.scrollY+8,left:k.left+window.scrollX,width:k.width})}},[c]),b.useEffect(()=>{const k=A=>{p.current&&!p.current.contains(A.target)&&f.current&&!f.current.contains(A.target)&&u(!1)};return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[]),b.useEffect(()=>{if(!c)return;const k=()=>{if(p.current){const A=p.current.getBoundingClientRect();h({top:A.bottom+window.scrollY+8,left:A.left+window.scrollX,width:A.width})}};return window.addEventListener("scroll",k,!0),window.addEventListener("resize",k),()=>{window.removeEventListener("scroll",k,!0),window.removeEventListener("resize",k)}},[c]);const y=k=>typeof k=="string"?k:typeof k=="object"&&k!==null?k.label||k.value||"":String(k||""),g=k=>typeof k=="string"?k:typeof k=="object"&&k!==null?k.value!==void 0?k.value:k.label:String(k||""),v=s.find(k=>g(k)===t),C=v?y(v):t||i||"Select",N=()=>e.jsx("div",{ref:f,style:{position:"absolute",top:`${x.top}px`,left:`${x.left}px`,width:`${x.width}px`,background:"#ffffff",border:"1px solid #e5e7eb",borderRadius:"12px",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.15)",zIndex:7e4,maxHeight:"280px",overflowY:"auto",padding:"6px",animation:"dropdownSlideIn 0.2s ease-out"},children:s&&s.length>0?s.map((k,A)=>{const E=g(k),w=y(k),R=t===E;return e.jsxs("button",{type:"button",onClick:T=>{T.stopPropagation(),a(E),u(!1)},style:{width:"100%",padding:"12px 14px",textAlign:"left",fontSize:"14px",display:"flex",alignItems:"center",justifyContent:"space-between",borderRadius:"8px",border:"none",cursor:"pointer",transition:"all 0.15s",background:R?"#f3f4f6":"transparent",color:R?"#667eea":"#4b5563",fontWeight:R?"600":"500",marginBottom:A<s.length-1?"2px":0},onMouseEnter:T=>{T.currentTarget.style.background=R?"#e5e7eb":"#f9fafb"},onMouseLeave:T=>{T.currentTarget.style.background=R?"#f3f4f6":"transparent"},children:[e.jsx("span",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:w}),R&&e.jsx(wr,{size:16,style:{flexShrink:0,color:"#667eea"}})]},A)}):e.jsx("div",{style:{padding:"12px 14px",fontSize:"14px",color:"#9ca3af",fontStyle:"italic"},children:"No options available"})});return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`relative min-w-[140px] ${o}`,children:e.jsxs("button",{ref:p,type:"button",onClick:()=>u(!c),style:{width:"100%",padding:"14px 16px",fontSize:"15px",border:c?"2px solid #667eea":"2px solid #e5e7eb",borderRadius:"12px",background:c?"#ffffff":"#f9fafb",display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer",transition:"all 0.2s",boxShadow:c?"0 0 0 3px rgba(102, 126, 234, 0.1)":"none"},onMouseEnter:k=>{c||(k.currentTarget.style.borderColor="#d1d5db")},onMouseLeave:k=>{c||(k.currentTarget.style.borderColor="#e5e7eb")},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",color:"#1f2937",fontWeight:"500"},children:[l&&e.jsx(l,{size:18,style:{color:"#9ca3af"}}),e.jsx("span",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:C})]}),e.jsx(kl,{size:18,style:{color:c?"#667eea":"#9ca3af",transform:c?"rotate(180deg)":"rotate(0deg)",transition:"all 0.3s",flexShrink:0}})]})}),c&&Xj.createPortal(e.jsx(N,{}),document.body),e.jsx("style",{children:`
                @keyframes dropdownSlideIn {
                    from {
                        opacity: 0;
                        transform: translateY(-8px);
                    }
                    to {
                        opacity: 1;
                        transform: translateY(0);
                    }
                }
            `})]})},K7=()=>{const s=Ht(),{login:t}=Oi(),[a,l]=b.useState(it.BRANCH_ADMIN),[i,o]=b.useState(""),[c,u]=b.useState(""),[x,h]=b.useState(!1),[p,f]=b.useState(""),y=T=>"/dashboard",g=async T=>{T.preventDefault(),h(!0),f("");try{const O=await w8(i,c,a);t(O),s(y(O.role))}catch(O){f(typeof O=="string"?O:"Login failed. Please check your credentials.")}finally{h(!1)}},v=T=>{T.preventDefault(),alert("Signup is disabled in this demo.")},C=()=>{l(it.SUPER_ADMIN),o("admin@newgym.com"),u("admin123")},N=()=>{l(it.BRANCH_ADMIN),o("testbranch@gym.com"),u("123456")},k=()=>{l(it.MANAGER),o("manager@gym.com"),u("manager123")},A=()=>{l(it.STAFF),o("staff@gym.com"),u("staff123")},E=()=>{l(it.TRAINER),o("trainer@gym.com"),u("trainer123")},w=()=>{l(it.MEMBER),o("member@gym.com"),u("member123")},R=Object.values(it).map(T=>({value:T,label:T}));return e.jsxs("div",{style:as.container,children:[e.jsxs("div",{style:as.backgroundOverlay,children:[e.jsx("div",{style:as.circle1}),e.jsx("div",{style:as.circle2}),e.jsx("div",{style:as.circle3})]}),e.jsxs("div",{style:as.card,children:[e.jsxs("div",{style:as.header,children:[e.jsx("div",{style:as.logoContainer,children:e.jsx(Vr,{size:32,color:"#fff",strokeWidth:2.5})}),e.jsx("h1",{style:as.title,children:"Welcome Back!"}),e.jsx("p",{style:as.subtitle,children:"Sign in to continue to New Gym"}),e.jsxs("div",{style:as.quickAccess,children:[e.jsx("button",{type:"button",onClick:C,style:as.quickButton,children:"Admin"}),e.jsx("button",{type:"button",onClick:N,style:as.quickButton,children:"Branch"}),e.jsx("button",{type:"button",onClick:k,style:as.quickButton,children:"Manager"})]}),e.jsxs("div",{style:{...as.quickAccess,marginTop:"8px"},children:[e.jsx("button",{type:"button",onClick:A,style:as.quickButton,children:"Staff"}),e.jsx("button",{type:"button",onClick:E,style:as.quickButton,children:"Trainer"}),e.jsx("button",{type:"button",onClick:w,style:as.quickButton,children:"Member"})]})]}),e.jsxs("form",{onSubmit:g,style:as.form,children:[e.jsxs("div",{style:as.inputGroup,children:[e.jsx("label",{style:as.label,children:"Select Role (Demo)"}),e.jsx("div",{style:as.dropdownWrapper,children:e.jsx(ds,{options:R,value:a,onChange:l})})]}),e.jsxs("div",{style:as.inputGroup,children:[e.jsx("label",{style:as.label,children:"Email Address"}),e.jsxs("div",{style:as.inputWrapper,children:[e.jsx(_r,{size:20,style:as.inputIcon}),e.jsx("input",{type:"email",placeholder:"Enter your email",value:i,onChange:T=>o(T.target.value),style:as.input,autoFocus:!0})]})]}),e.jsxs("div",{style:as.inputGroup,children:[e.jsxs("div",{style:as.labelRow,children:[e.jsx("label",{style:as.label,children:"Password"}),e.jsx("a",{href:"#",style:as.forgotLink,children:"Forgot Password?"})]}),e.jsxs("div",{style:as.inputWrapper,children:[e.jsx(Os,{size:20,style:as.inputIcon}),e.jsx("input",{type:"password",placeholder:"Enter your password",value:c,onChange:T=>u(T.target.value),style:as.input})]})]}),e.jsx("div",{style:as.rememberRow,children:e.jsxs("label",{style:as.checkboxLabel,children:[e.jsx("input",{type:"checkbox",style:as.checkbox}),e.jsx("span",{style:as.checkboxText,children:"Remember me"})]})}),e.jsx("button",{type:"submit",style:as.submitButton,children:"Sign In"})]}),e.jsxs("div",{style:as.footer,children:[e.jsx("span",{style:as.footerText,children:"Don't have an account? "}),e.jsx("a",{href:"#",onClick:v,style:as.signupLink,children:"Create Account"})]})]}),e.jsx("style",{children:`
                @keyframes float {
                    0%, 100% { transform: translate(0, 0) scale(1); }
                    33% { transform: translate(30px, -30px) scale(1.1); }
                    66% { transform: translate(-20px, 20px) scale(0.9); }
                }

                @keyframes fadeIn {
                    from { opacity: 0; transform: translateY(20px); }
                    to { opacity: 1; transform: translateY(0); }
                }

                input:focus {
                    outline: none;
                    border-color: #667eea !important;
                    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1) !important;
                }

                button:hover {
                    transform: translateY(-2px);
                    box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4);
                }

                button:active {
                    transform: translateY(0);
                }

                a:hover {
                    text-decoration: underline;
                }
            `})]})},as={container:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"40px 20px",position:"relative",overflowY:"auto"},backgroundOverlay:{position:"absolute",inset:0,overflow:"hidden",pointerEvents:"none"},circle1:{position:"absolute",top:"-10%",left:"-5%",width:"400px",height:"400px",background:"rgba(255, 255, 255, 0.1)",borderRadius:"50%",filter:"blur(60px)",animation:"float 8s ease-in-out infinite"},circle2:{position:"absolute",bottom:"-15%",right:"-10%",width:"500px",height:"500px",background:"rgba(255, 255, 255, 0.08)",borderRadius:"50%",filter:"blur(80px)",animation:"float 10s ease-in-out infinite",animationDelay:"2s"},circle3:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"300px",height:"300px",background:"rgba(255, 255, 255, 0.05)",borderRadius:"50%",filter:"blur(40px)",animation:"float 6s ease-in-out infinite",animationDelay:"4s"},card:{width:"100%",maxWidth:"460px",background:"#ffffff",borderRadius:"24px",padding:"48px 40px",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",position:"relative",zIndex:10,animation:"fadeIn 0.6s ease-out"},header:{textAlign:"center",marginBottom:"40px"},logoContainer:{width:"80px",height:"80px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:"20px",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 24px",boxShadow:"0 10px 30px rgba(102, 126, 234, 0.3)"},title:{fontSize:"32px",fontWeight:"700",color:"#1a1a1a",margin:"0 0 8px 0",letterSpacing:"-0.5px"},subtitle:{fontSize:"15px",color:"#6b7280",margin:0},quickAccess:{marginTop:"20px",display:"flex",justifyContent:"center",gap:"10px"},quickButton:{padding:"8px 16px",fontSize:"12px",fontWeight:"600",color:"#667eea",background:"rgba(102, 126, 234, 0.1)",border:"1px solid rgba(102, 126, 234, 0.2)",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s"},form:{display:"flex",flexDirection:"column",gap:"24px"},inputGroup:{display:"flex",flexDirection:"column",gap:"8px"},label:{fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"4px"},labelRow:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"4px"},forgotLink:{fontSize:"13px",color:"#667eea",fontWeight:"600",textDecoration:"none",transition:"color 0.2s"},inputWrapper:{position:"relative",display:"flex",alignItems:"center"},dropdownWrapper:{width:"100%"},inputIcon:{position:"absolute",left:"16px",color:"#9ca3af",pointerEvents:"none",zIndex:1},input:{width:"100%",padding:"14px 16px 14px 48px",fontSize:"15px",border:"2px solid #e5e7eb",borderRadius:"12px",background:"#f9fafb",color:"#1f2937",transition:"all 0.2s",fontFamily:"inherit"},rememberRow:{display:"flex",alignItems:"center",marginTop:"-8px"},checkboxLabel:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",userSelect:"none"},checkbox:{width:"18px",height:"18px",cursor:"pointer",accentColor:"#667eea"},checkboxText:{fontSize:"14px",color:"#6b7280"},submitButton:{width:"100%",padding:"16px",fontSize:"16px",fontWeight:"600",color:"#ffffff",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",border:"none",borderRadius:"12px",cursor:"pointer",transition:"all 0.3s",boxShadow:"0 4px 15px rgba(102, 126, 234, 0.3)",marginTop:"8px"},footer:{textAlign:"center",marginTop:"32px",fontSize:"14px"},footerText:{color:"#6b7280"},signupLink:{color:"#667eea",fontWeight:"600",textDecoration:"none",transition:"color 0.2s"}};window.innerWidth<=640&&(as.card.padding="32px 24px",as.title.fontSize="28px");const J7={[it.SUPER_ADMIN]:[{label:"Dashboard",path:"/dashboard",icon:Ld},{label:"Gym Management",path:"/superadmin/gyms/all",icon:zr},{label:"SaaS Plans",path:"/superadmin/plans/list",icon:dr},{label:"Subscriptions",path:"/superadmin/subscriptions/active",icon:Rs},{label:"Webhook Logs",path:"/superadmin/audit-logs/webhooks",icon:cx},{label:"WhatsApp Chat",path:"/operations/whatsapp",icon:sr},{label:"Device Dashboard",path:"/operations/devices",icon:Kl},{label:"General Settings",path:"/superadmin/general-settings/general",icon:zr},{label:"Hardware Settings",path:"/superadmin/general-settings/hardware",icon:Os},{label:"Profile",icon:lt,children:[{label:"My Profile",path:"/superadmin/profile/me",icon:lt},{label:"Logout",path:"/login",icon:bn}]}],[it.BRANCH_ADMIN]:[{label:"Dashboard",path:"/dashboard",icon:Ld},{label:"Admin & HR",icon:Pa,children:[{label:"Branch Management",path:"/branchadmin/branch-management/branches",icon:zr},{label:"Staff Management",path:"/hr/staff/management",icon:Pt},{label:"Add Staff",path:"/hr/staff/create",icon:nl},{label:"Payroll & Salaries",path:"/hr/payroll",icon:Hs}]},{label:"Sales & CRM",icon:st,children:[{label:"Walk-in Inquiry",path:"/crm/inquiry",icon:nl},{label:"Leads Pipeline",path:"/crm/pipeline",icon:tx},{label:"Today Follow-ups",path:"/crm/followups",icon:Ze}]},{label:"E-Commerce",icon:Bc,children:[{label:"POS Store",path:"/finance/pos",icon:Bc},{label:"Inventory",path:"/branchadmin/store/inventory",icon:ru},{label:"Promo Codes",path:"/branchadmin/promos",icon:Hc}]},{label:"Memberships",icon:Rs,children:[{label:"Plans & Benefits",path:"/memberships",icon:Rs},{label:"Benefits Config",path:"/memberships/benefits-config",icon:co},{label:"Renewal Alerts",path:"/members/renewal-alerts",icon:ms}]},{label:"Classes",path:"/classes",icon:Xe},{label:"Operations",icon:It,children:[{label:"Member List",path:"/branchadmin/members/list",icon:Pt},{label:"Bookings",path:"/branchadmin/bookings/calendar",icon:Xe},{label:"Tasks",path:"/branchadmin/tasks/list",icon:ll},{label:"Assign Task",path:"/branchadmin/tasks/assign",icon:nl},{label:"WhatsApp Chat",path:"/operations/whatsapp",icon:sr}]},{label:"Facility Management",icon:Xl,children:[{label:"Equipment List",path:"/facility/equipment",icon:ol},{label:"Maintenance Requests",path:"/facility/maintenance",icon:ll},{label:"Service History",path:"/facility/history",icon:wl}]},{label:"Finance",icon:Hs,children:[{label:"Invoices",path:"/finance/invoices",icon:dr},{label:"Expenses",path:"/finance/expenses",icon:Va},{label:"Cashier Mode",path:"/finance/cashier",icon:Va},{label:"Branch Transactions",path:"/finance/transactions",icon:wl},{label:"Petty Cash",path:"/finance/petty-cash",icon:Hs},{label:"Benefit Wallets",path:"/superadmin/wallet",icon:$h}]},{label:"Reports",icon:ox,children:[{label:"Revenue Report",path:"/branchadmin/reports/revenue",icon:Qn},{label:"Membership Report",path:"/branchadmin/reports/membership",icon:Pt},{label:"Lead Conversion Report",path:"/branchadmin/reports/lead-conversion",icon:Qs},{label:"Expense Report",path:"/branchadmin/reports/expenses",icon:Va},{label:"Branch-wise Performance Report",path:"/branchadmin/reports/performance",icon:It},{label:"Daily Attendance Report",path:"/branchadmin/reports/daily-attendance",icon:ll},{label:"Booking Report",path:"/branchadmin/reports/booking",icon:Xe}]},{label:"Settings",icon:om,children:[{label:"General Settings",path:"/branchadmin/settings/general",icon:zr},{label:"Hardware Settings",path:"/branchadmin/settings/hardware",icon:Os},{label:"Communication",path:"/branchadmin/settings/communication",icon:vn},{label:"Payments",path:"/branchadmin/settings/payments",icon:Rs},{label:"Tax & Invoices",path:"/branchadmin/settings/invoice",icon:dr},{label:"Webhooks",path:"/settings/webhooks",icon:cx},{label:"API Keys",path:"/settings/api-keys",icon:Bw},{label:"Templates",path:"/settings/templates",icon:ag},{label:"Amenities",path:"/settings/amenities",icon:co}]},{label:"Profile",icon:lt,children:[{label:"My Profile",path:"/branchadmin/profile/me",icon:lt},{label:"Logout",path:"/login",icon:bn}]}],[it.MANAGER]:[{label:"Dashboard",path:"/dashboard",icon:Ld},{label:"Memberships",icon:Rs,children:[{label:"Plans & Benefits",path:"/memberships",icon:Rs},{label:"Benefits Config",path:"/memberships/benefits-config",icon:co},{label:"Renewal Alerts",path:"/members/renewal-alerts",icon:ms}]},{label:"Classes",path:"/classes",icon:Xe},{label:"CRM & Sales",icon:st,children:[{label:"Walk-in Inquiry",path:"/crm/inquiry",icon:nl},{label:"Leads Pipeline",path:"/crm/pipeline",icon:tx},{label:"Today Follow-ups",path:"/crm/followups",icon:Ze}]},{label:"Attendance",icon:Ze,children:[{label:"Live Monitor",path:"/manager/attendance/live-checkin",icon:It},{label:"Member Log",path:"/manager/attendance/today/member",icon:Pt},{label:"Staff Log",path:"/manager/attendance/today/staff",icon:Pt}]},{label:"Operations",icon:It,children:[{label:"Staff Schedule",path:"/operations",icon:Pt},{label:"WhatsApp Chat",path:"/operations/whatsapp",icon:sr},{label:"Equipment",path:"/operations/equipment",icon:Xl},{label:"Lockers",path:"/operations/lockers",icon:Os},{label:"Inventory",path:"/operations/inventory",icon:ol},{label:"Announcements",path:"/operations/announcements",icon:vn},{label:"Rewards Program",path:"/operations/rewards",icon:It},{label:"Feedback",path:"/operations/feedback",icon:wn},{label:"Member List",path:"/manager/members/list",icon:Pt},{label:"Tasks",path:"/manager/tasks/list",icon:ll},{label:"Assign Task",path:"/manager/tasks/assign",icon:nl},{label:"Device Dashboard",path:"/operations/devices",icon:Kl}]},{label:"Facility Management",icon:Xl,children:[{label:"Equipment List",path:"/facility/equipment",icon:ol},{label:"Maintenance Requests",path:"/facility/maintenance",icon:ll},{label:"Service History",path:"/facility/history",icon:wl}]},{label:"Financials",icon:Hs,children:[{label:"Benefit Wallets",path:"/manager/wallet",icon:$h},{label:"Cashier Mode",path:"/finance/cashier",icon:Va},{label:"Branch Transactions",path:"/finance/transactions",icon:wl},{label:"Petty Cash / Expenses",path:"/finance/petty-cash",icon:Hs}]},{label:"HR & Staff",icon:Pt,children:[{label:"Staff List",path:"/hr/staff/management",icon:Pt},{label:"Add Staff",path:"/hr/staff/create",icon:nl},{label:"Leave Requests",path:"/hr/leave-requests",icon:Xe},{label:"Trainer Change Requests",path:"/manager/change-requests",icon:It},{label:"Payroll Creation",path:"/manager/payroll/create",icon:Hs},{label:"Payroll",path:"/hr/payroll",icon:Hs}]},{label:"Settings",icon:om,children:[{label:"Organization",path:"/settings",icon:zr},{label:"Security",path:"/settings/security",icon:Os},{label:"Amenities",path:"/settings/amenities",icon:co}]},{label:"Reports",icon:ox,children:[{label:"Attendance Report",path:"/manager/reports/daily-attendance",icon:ll},{label:"Booking Report",path:"/manager/reports/booking",icon:Xe}]},{label:"Profile",icon:lt,children:[{label:"My Profile",path:"/manager/profile/me",icon:lt},{label:"Logout",path:"/login",icon:bn}]}],[it.STAFF]:[{label:"Dashboard",path:"/dashboard",icon:Ld},{label:"CRM & Sales",icon:st,children:[{label:"Walk-in Inquiry",path:"/crm/inquiry",icon:nl},{label:"Leads Pipeline",path:"/crm/pipeline",icon:tx},{label:"Today Follow-ups",path:"/crm/followups",icon:Ze}]},{label:"Memberships",icon:Rs,children:[{label:"Plans & Benefits",path:"/memberships",icon:Rs},{label:"Renewal Alerts",path:"/members/renewal-alerts",icon:ms}]},{label:"Check-In",icon:Ze,children:[{label:"Member Check-In",path:"/staff/attendance/check-in",icon:Ze},{label:"Check-Out",path:"/staff/attendance/check-out",icon:Ze},{label:"Today Check-Ins",path:"/staff/attendance/today",icon:Pt},{label:"Member List",path:"/staff/members/list",icon:Pt}]},{label:"Locker Assign",icon:Os,children:[{label:"Assign Locker",path:"/staff/lockers/assign",icon:Os},{label:"Release Locker",path:"/staff/lockers/release",icon:Os}]},{label:"Tasks",icon:ll,children:[{label:"My Tasks",path:"/staff/tasks/my-tasks",icon:ll},{label:"Task Status",path:"/staff/tasks/status",icon:Ze}]},{label:"Payments",icon:Rs,children:[{label:"New Receipt",path:"/finance/cashier",icon:Va},{label:"My Transactions",path:"/finance/transactions",icon:wl},{label:"Log Expense",path:"/finance/petty-cash",icon:Hs}]},{label:"Profile",icon:lt,children:[{label:"My Profile",path:"/staff/profile/me",icon:lt},{label:"Logout",path:"/login",icon:bn}]}],[it.TRAINER]:[{label:"Dashboard",path:"/dashboard",icon:Ld},{label:"My Leads",path:"/crm/my-leads",icon:st},{label:"Sessions",icon:Xe,children:[{label:"Session Calendar",path:"/trainer/sessions/calendar",icon:Xe},{label:"Upcoming Sessions",path:"/trainer/sessions/upcoming",icon:Ze}]},{label:"My Attendance",path:"/trainer/attendance",icon:Ze},{label:"Availability",path:"/trainer/availability",icon:Xe},{label:"Classes",path:"/classes",icon:Xe},{label:"My Members",path:"/trainer/members/assigned",icon:Pt},{label:"Diet Plans",path:"/diet-plans",icon:zd},{label:"Workout Plans",path:"/workout-plans",icon:Vr},{label:"My Earnings",path:"/trainer/earnings",icon:Yl},{label:"Announcements",path:"/trainer/announcements",icon:vn},{label:"Progress",path:"/progress",icon:Qs},{label:"Profile",icon:lt,children:[{label:"My Profile",path:"/trainer/profile/me",icon:lt},{label:"Logout",path:"/login",icon:bn}]}],[it.MEMBER]:[{label:"Home",path:"/dashboard",icon:Iw},{label:"My Membership",path:"/member/membership",icon:dr},{label:"Bookings",path:"/member/bookings",icon:Xe},{label:"Workout Plans",path:"/workout-plans",icon:Vr},{label:"Diet Plans",path:"/diet-plans",icon:zd},{label:"Progress",path:"/progress",icon:Qs},{label:"My Wallet",path:"/member/wallet",icon:$h},{label:"My Invoices",path:"/member/payments",icon:Va},{label:"Feedback",path:"/member/feedback",icon:vn},{label:"Store",path:"/member/store",icon:Bc},{label:"Profile",path:"/member/profile/me",icon:lt},{label:"Logout",path:"/login",icon:bn}]},Q7=({role:s,collapsed:t,setCollapsed:a})=>{const l=Pr(),{logout:i}=Oi(),[o,c]=b.useState({}),u=g=>{c(v=>({...v,[g]:!v[g]}))},x=J7[s]||[],h=g=>{g.preventDefault(),window.confirm("Are you sure you want to logout?")&&i()},p=g=>g.path?l.pathname===g.path||l.pathname.startsWith(g.path+"/"):g.children?g.children.some(v=>l.pathname===v.path||l.pathname.startsWith(v.path+"/")):!1,f=g=>o[g.label]!==void 0?o[g.label]:p(g),y=()=>{window.innerWidth<1024&&a&&a(!0)};return e.jsxs("aside",{className:`sidebar ${t?"collapsed":""} `,children:[e.jsxs("div",{style:{height:"var(--topbar-height)",display:"flex",alignItems:"center",padding:"0 1.5rem",borderBottom:"1px solid var(--border-color)",marginBottom:"1rem"},children:[e.jsx("div",{style:{width:"32px",height:"32px",background:"var(--primary)",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontWeight:"bold",flexShrink:0,marginRight:t?0:"12px"},children:"G"}),!t&&e.jsx("span",{className:"text-title",style:{fontSize:"1.125rem",whiteSpace:"nowrap"},children:"Gym CRM"})]}),e.jsx("nav",{style:{flex:1,overflowY:"auto"},children:e.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:x.map(g=>e.jsx("li",{children:g.children?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>u(g.label),className:`sidebar-item ${p(g)?"active":""} `,title:t?g.label:"",style:{width:"100%",border:"none",background:"none",cursor:"pointer",textAlign:"left",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[e.jsx(g.icon,{size:20}),!t&&e.jsx("span",{children:g.label})]}),!t&&(f(g)?e.jsx(kl,{size:16}):e.jsx(bs,{size:16}))]}),!t&&f(g)&&e.jsx("ul",{style:{listStyle:"none",padding:"4px 0 4px 20px",margin:0,background:"rgba(0,0,0,0.02)",borderLeft:"2px solid var(--border-color)",marginLeft:"24px"},children:g.children.map(v=>e.jsx("li",{children:e.jsxs(tm,{to:v.path,end:v.path==="/settings"||v.path==="/operations",className:({isActive:C})=>`sidebar-item ${C?"active":""} `,style:({isActive:C})=>({display:"flex",alignItems:"center",gap:"10px",padding:"8px 12px",fontSize:"0.85rem",textDecoration:"none",color:C?"var(--primary)":"var(--text)",fontWeight:C?600:400,borderRadius:"6px",transition:"all 0.2s"}),onClick:v.label==="Logout"?h:y,children:[e.jsx(v.icon,{size:16}),e.jsx("span",{children:v.label})]})},v.path))})]}):e.jsxs(tm,{to:g.path,className:({isActive:v})=>`sidebar-item ${v?"active":""} `,title:t?g.label:"",onClick:y,children:[e.jsx(g.icon,{size:20}),!t&&e.jsx("span",{children:g.label})]})},g.label))})}),!t&&e.jsxs("div",{style:{padding:"1rem",borderTop:"1px solid var(--border-color)"},children:[e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--muted)",marginBottom:"4px"},children:"Current Role:"}),e.jsx("div",{style:{fontSize:"0.875rem",fontWeight:600,color:"var(--primary)"},children:s})]})]})},Z7=({collapsed:s,setCollapsed:t,title:a="Dashboard",role:l})=>{const[i,o]=b.useState(!1),c=b.useRef(null),u=Ht();b.useEffect(()=>{const y=g=>{c.current&&!c.current.contains(g.target)&&o(!1)};return document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[]);const x=()=>{u("/login"),o(!1)},h=()=>{let y="/profile/me";switch(l){case it.SUPER_ADMIN:y="/superadmin/profile/me";break;case it.BRANCH_ADMIN:y="/branchadmin/profile/me";break;case it.MANAGER:y="/manager/profile/me";break;case it.STAFF:y="/staff/profile/me";break;case it.TRAINER:y="/trainer/profile/me";break;case it.MEMBER:y="/member/profile/me";break;default:console.warn("Unknown role for profile navigation:",l)}u(y),o(!1)},p=()=>{const y=s;t(!s),y&&i&&o(!1)},f=()=>{const y=!i;o(!i),y&&window.innerWidth<1024&&t(!0)};return e.jsxs("header",{className:"topbar",children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-4)"},children:[e.jsx("button",{onClick:p,style:{background:"none",border:"none",cursor:"pointer",color:"var(--muted)",display:"flex",alignItems:"center"},children:e.jsx(gA,{size:22})}),e.jsx("h1",{className:"text-title",style:{fontSize:"1.25rem"},children:a})]}),e.jsx("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-4)"},children:e.jsxs("div",{style:{position:"relative"},ref:c,children:[e.jsx("button",{onClick:f,style:{display:"flex",alignItems:"center",gap:"10px",background:"none",border:"none",cursor:"pointer",padding:"4px"},children:e.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"50%",background:"var(--border-color)",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},children:e.jsx(lt,{size:20,color:"var(--muted)"})})}),i&&e.jsxs("div",{style:{position:"absolute",top:"120%",right:0,width:"180px",backgroundColor:"var(--card-bg)",borderRadius:"8px",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)",padding:"var(--space-1)",zIndex:1e3,border:"1px solid var(--border-color)"},children:[e.jsxs("button",{onClick:h,className:"sidebar-item",style:{width:"100%",margin:0,border:"none",background:"none",textAlign:"left",cursor:"pointer"},children:[e.jsx(lt,{size:16})," Profile"]}),e.jsxs("button",{onClick:x,className:"sidebar-item",style:{width:"100%",margin:"4px 0 0 0",border:"none",background:"none",textAlign:"left",cursor:"pointer",color:"#EF4444"},children:[e.jsx(bn,{size:16})," Logout"]})]})]})})]})},eD={"/dashboard":"Dashboard","/memberships":"Membership Management","/memberships/benefits-config":"Benefits Configuration","/classes":"Class Scheduling","/diet-plans":"Diet Plans","/workout-plans":"Workout Plans","/progress":"Progress Tracking","/settings":"Settings","/operations":"Operations","/profile/me":"My Profile"},tD=({role:s})=>{const[t,a]=b.useState(window.innerWidth<1024),l=Pr();b.useEffect(()=>{const o=()=>{window.innerWidth<1024&&a(!0)};return window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[]);const i=eD[l.pathname]||"Dashboard";return e.jsxs("div",{className:"app-shell",children:[e.jsx(Q7,{role:s,collapsed:t,setCollapsed:a}),e.jsxs("div",{className:"main-container",children:[e.jsx(Z7,{collapsed:t,setCollapsed:a,title:i,role:s}),e.jsx("main",{className:"content-area",children:e.jsx("div",{className:"content-max-width",children:e.jsx(gm,{})})})]})]})},is=({children:s,title:t,subtitle:a,className:l="",...i})=>e.jsxs("div",{className:`saas-card ${l}`,...i,children:[(t||a)&&e.jsxs("div",{style:{marginBottom:"var(--space-4)"},children:[t&&e.jsx("h3",{className:"text-title",children:t}),a&&e.jsx("p",{className:"text-muted",children:a})]}),s]}),Kn=({title:s,value:t,icon:a,trend:l,color:i="primary"})=>{const o={primary:{bg:"bg-blue-50",text:"text-blue-600",iconBg:"group-hover:bg-blue-600 group-hover:text-white"},success:{bg:"bg-emerald-50",text:"text-emerald-600",iconBg:"group-hover:bg-emerald-600 group-hover:text-white"},warning:{bg:"bg-amber-50",text:"text-amber-600",iconBg:"group-hover:bg-amber-600 group-hover:text-white"},danger:{bg:"bg-red-50",text:"text-red-600",iconBg:"group-hover:bg-red-600 group-hover:text-white"}},c=o[i]||o.primary;return e.jsxs(is,{className:"group relative overflow-hidden transition-all duration-300 hover:-translate-y-1 hover:shadow-xl hover:shadow-indigo-500/10 border border-transparent hover:border-indigo-100 cursor-pointer p-4 sm:p-5",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2 relative z-10",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-500 font-medium text-xs sm:text-sm mb-1",children:s}),e.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-gray-800 tracking-tight",children:t})]}),e.jsx("div",{className:`w-10 h-10 sm:w-12 sm:h-12 rounded-lg sm:rounded-xl flex items-center justify-center transition-all duration-300 transform group-hover:scale-110 shadow-sm ${c.bg} ${c.text} ${c.iconBg}`,children:a&&e.jsx(a,{size:20,className:"sm:w-[22px] sm:h-[22px] transition-colors duration-300"})})]}),l&&e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 mt-2",children:[e.jsx("span",{className:`text-[10px] sm:text-xs font-semibold px-1.5 sm:px-2 py-0.5 rounded-full ${c.bg} ${c.text}`,children:l}),e.jsx("span",{className:"text-[10px] sm:text-xs text-gray-400",children:"vs last period"})]}),e.jsx("div",{className:`absolute -bottom-4 -right-4 w-20 h-20 sm:w-24 sm:h-24 rounded-full opacity-0 group-hover:opacity-10 transition-opacity duration-500 ${c.bg.replace("bg-","bg-")}`})]})},jx=({children:s})=>e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:s}),Ft=({children:s,variant:t="primary",className:a="",icon:l,...i})=>{const o={primary:"bg-violet-600 hover:bg-violet-700 text-white shadow-lg shadow-violet-200",success:"bg-emerald-500 hover:bg-emerald-600 text-white shadow-lg shadow-emerald-200",outline:"bg-white border-2 border-slate-200 text-slate-600 hover:border-violet-500 hover:text-violet-600"},c=o[t]||o.primary;return e.jsxs("button",{className:`inline-flex items-center justify-center gap-2 px-6 py-3 rounded-2xl font-black text-xs uppercase tracking-widest transition-all duration-300 active:scale-95 disabled:opacity-50 disabled:pointer-events-none ${c} ${a}`,...i,children:[l&&e.jsx(l,{size:16}),s]})},ps=ve,sD=async()=>{try{return(await ps.get("/superadmin/dashboard-cards")).data}catch(s){throw s.response?.data?.message||"Failed to fetch dashboard stats"}},aD=sD,rD=async()=>{try{const s=await ps.get("/superadmin/gyms");return(s.data.gyms||s.data).slice(0,5)}catch(s){throw s.response?.data?.message||"Failed to fetch recent gyms"}},lD=async()=>{try{const s=await ps.get("/superadmin/gyms"),a=(s.data.gyms||s.data).filter(i=>i.status==="Pending").length,l=[];return a>0&&l.push({id:"pending-gyms",title:"Pending Approvals",message:`${a} New Gyms waiting for review`,type:"warning",time:"Recently"}),l}catch{return[]}},Xg=async(s={})=>{try{return(await ps.get("/superadmin/gyms",{params:s})).data}catch(t){throw t.response?.data?.message||"Failed to fetch gyms"}},Zw=async s=>{try{return(await ps.post("/superadmin/gyms",s)).data}catch(t){throw t.response?.data?.message||"Failed to add gym"}},nD=async s=>{try{return(await ps.delete(`/superadmin/gyms/${s}`)).data}catch(t){throw t.response?.data?.message||"Failed to delete gym"}},eN=async s=>{try{return(await ps.patch(`/superadmin/gyms/${s}/toggle-status`)).data}catch(t){throw t.response?.data?.message||"Failed to toggle gym status"}},tN=async s=>{try{let t="/superadmin/gyms";s.toLowerCase().includes("plan")&&(t="/superadmin/plans"),s.toLowerCase().includes("subscription")&&(t="/superadmin/subscriptions"),s.toLowerCase().includes("payment")&&(t="/superadmin/payments"),s.toLowerCase().includes("log")&&(s.toLowerCase().includes("activity")?t="/superadmin/logs/activity":s.toLowerCase().includes("error")?t="/superadmin/logs/error":t="/superadmin/audit-logs");const a=await ps.get(t),l=a.data.gyms||a.data;if(!Array.isArray(l)||l.length===0){console.warn("No data available for export");return}const i=Object.keys(l[0]),o=[i.join(","),...l.map(h=>i.map(p=>{const f=h[p];return typeof f=="string"?`"${f.replace(/"/g,'""')}"`:f}).join(","))].join(`
`),c=new Blob([o],{type:"text/csv;charset=utf-8;"}),u=document.createElement("a"),x=URL.createObjectURL(c);u.setAttribute("href",x),u.setAttribute("download",`${s}_Export_${new Date().toISOString().split("T")[0]}.csv`),u.style.visibility="hidden",document.body.appendChild(u),u.click(),document.body.removeChild(u)}catch(t){console.error("Export failed:",t)}},wx=async()=>{try{return(await ps.get("/superadmin/plans")).data}catch(s){throw s.response?.data?.message||"Failed to fetch plans"}},sN=async s=>{try{return(await ps.post("/superadmin/plans",s)).data}catch(t){throw t.response?.data?.message||"Failed to add plan"}},aN=async(s,t)=>{try{return(await ps.patch(`/superadmin/plans/${s}`,t)).data}catch(a){throw a.response?.data?.message||"Failed to update plan"}},iD=async s=>{try{return(await ps.delete(`/superadmin/plans/${s}`)).data}catch(t){throw t.response?.data?.message||"Failed to delete plan"}},oD=async(s,t)=>{try{return(await ps.patch(`/superadmin/plans/${s}`,{features:t})).data}catch(a){throw a.response?.data?.message||"Failed to update plan features"}},rN=async()=>{try{return(await ps.get("/superadmin/subscriptions")).data}catch(s){throw s.response?.data?.message||"Failed to fetch subscriptions"}},lN=async s=>{try{return(await ps.patch(`/superadmin/subscriptions/${s}/toggle-status`)).data}catch(t){throw t.response?.data?.message||"Failed to toggle subscription status"}},cD=async()=>{try{return(await ps.get("/superadmin/webhook-logs")).data}catch(s){throw s.response?.data?.message||"Failed to fetch webhook logs"}},dD=async()=>{try{return(await ps.get("/superadmin/logs/activity")).data}catch(s){throw s.response?.data?.message||"Failed to fetch activity logs"}},uD=async()=>{try{return(await ps.get("/superadmin/settings/global")).data}catch(s){throw s.response?.data?.message||"Failed to fetch global settings"}},xD=async s=>{try{return(await ps.patch("/superadmin/settings/global",s)).data}catch(t){throw t.response?.data?.message||"Failed to update global settings"}},hD=async()=>{try{return(await ps.get("/superadmin/settings/invoice")).data}catch(s){throw s.response?.data?.message||"Failed to fetch invoice settings"}},mD=async s=>{try{return(await ps.patch("/superadmin/settings/invoice",s)).data}catch(t){throw t.response?.data?.message||"Failed to update invoice settings"}},pD=async()=>{try{return(await ps.get("/superadmin/settings/booking")).data}catch(s){throw s.response?.data?.message||"Failed to fetch booking settings"}},fD=async s=>{try{return(await ps.patch("/superadmin/settings/booking",s)).data}catch(t){throw t.response?.data?.message||"Failed to update booking settings"}},gD=async()=>{try{return(await ps.get("/superadmin/staff")).data}catch(s){throw s.response?.data?.message||"Failed to fetch staff members"}},bD=async s=>{try{return(await ps.post("/superadmin/staff",s)).data}catch(t){throw t.response?.data?.message||"Failed to add staff"}},nN=async s=>{try{return(await ps.delete(`/superadmin/staff/${s}`)).data}catch(t){throw t.response?.data?.message||"Failed to delete staff member"}},vD=async(s,t)=>{try{return(await ps.patch(`/superadmin/staff/${s}`,t)).data}catch(a){throw a.response?.data?.message||"Failed to update staff member"}},yD=async()=>{try{return(await ps.get("/superadmin/wallet/members")).data}catch(s){throw s.response?.data?.message||"Failed to fetch member wallets"}},jD=async(s,t)=>{try{return(await ps.post(`/superadmin/wallet/members/${s}/transaction`,t)).data}catch(a){throw a.response?.data?.message||"Failed to update wallet"}},wD=async()=>{try{return(await ps.get("/superadmin/requests/trainers")).data}catch(s){throw s.response?.data?.message||"Failed to fetch trainer requests"}},ND=async()=>{try{return(await ps.get("/superadmin/requests/trainer-changes")).data}catch(s){throw s.response?.data?.message||"Failed to fetch trainer change requests"}},by=async(s,t)=>{try{return(await ps.patch(`/superadmin/requests/trainers/${s}`,{status:t})).data}catch(a){throw a.response?.data?.message||"Failed to update trainer request"}},kD=async()=>{try{return(await ps.get("/superadmin/profile")).data}catch(s){throw s.response?.data?.message||"Failed to fetch admin profile"}},SD=async s=>{try{return(await ps.patch("/superadmin/profile",s)).data}catch(t){throw t.response?.data?.message||"Failed to update admin profile"}},CD=async()=>{try{return(await ps.get("/superadmin/my-subscription")).data}catch(s){throw s.response?.data?.message||"Failed to fetch subscription"}},iN=async()=>{try{return(await ps.get("/superadmin/devices")).data}catch(s){throw s.response?.data?.message||"Failed to fetch devices"}},AD=async s=>{try{return(await ps.post("/superadmin/devices",s)).data}catch(t){throw t.response?.data?.message||"Failed to add device"}},DD=async(s,t)=>{try{return(await ps.patch(`/superadmin/devices/${s}`,t)).data}catch(a){throw a.response?.data?.message||"Failed to update device"}},LD=async s=>{try{return(await ps.delete(`/superadmin/devices/${s}`)).data}catch(t){throw t.response?.data?.message||"Failed to delete device"}},ED=()=>{const[s,t]=b.useState([]),[a,l]=b.useState([]),[i,o]=b.useState([]),[c,u]=b.useState(!0),[x,h]=b.useState(null),p={"Total Gyms":zr,"Total Members":Pt,"Active Plans":It,"Monthly Revenue":Yl},f=async()=>{try{u(!0);const[y,g,v]=await Promise.all([aD(),rD(),lD()]),C=y.map(N=>({...N,icon:p[N.title]||It}));t(C),l(g),o(v)}catch(y){console.error("Error fetching dashboard data:",y),h("Failed to load dashboard data. Please try again later.")}finally{u(!1)}};return b.useEffect(()=>{f()},[]),c?e.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-6rem)]",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-violet-600 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"text-slate-500 font-medium animate-pulse uppercase tracking-[0.2em] text-[10px]",children:"Authorizing System Access..."})]})}):x?e.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-6rem)]",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-8 text-center max-w-md",children:[e.jsx(cl,{size:48,className:"text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-bold text-red-900 mb-2",children:"Oops!"}),e.jsx("p",{className:"text-red-700 mb-6",children:x}),e.jsx(Ft,{onClick:f,className:"bg-red-600 hover:bg-red-700 text-white border-none",children:"Retry Loading"})]})}):e.jsxs("div",{className:"h-[calc(100vh-6rem)] overflow-y-auto pr-2 pb-8 space-y-8 fade-in scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-transparent",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 pb-6 border-b-2 border-gray-100",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"System Overview"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Monitor platform performance and recent activity"})]}),e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-emerald-50 border border-emerald-200 rounded-lg",children:[e.jsx(Zt,{size:16,className:"text-emerald-600"}),e.jsx("span",{className:"text-sm font-semibold text-emerald-700",children:"All Systems Operational"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Qs,{size:20,className:"text-indigo-600"}),e.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Key Metrics"})]}),e.jsxs("span",{className:"text-xs text-gray-500 flex items-center gap-1",children:[e.jsx(Ze,{size:12}),"Updated just now"]})]}),e.jsx(jx,{children:s.map(y=>e.jsx(Kn,{...y},y.id))})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-4 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Recent Gym Registrations"}),e.jsxs(Ft,{variant:"outline",size:"small",className:"group hover:bg-indigo-600 hover:text-white hover:border-indigo-600 text-indigo-600 border-indigo-200 font-semibold transition-all duration-300",children:["View All",e.jsx(jn,{size:14,className:"ml-1 group-hover:translate-x-1 transition-transform"})]})]}),e.jsx(is,{className:"overflow-hidden border border-gray-200 shadow-lg hover:shadow-xl transition-shadow duration-300",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm text-left",children:[e.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100/50 border-b-2 border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-xs font-bold uppercase tracking-wider text-gray-700",children:"Gym Name"}),e.jsx("th",{className:"px-4 py-3 text-xs font-bold uppercase tracking-wider text-gray-700 hidden sm:table-cell",children:"Location"}),e.jsx("th",{className:"px-4 py-3 text-xs font-bold uppercase tracking-wider text-gray-700 hidden md:table-cell",children:"Date"}),e.jsx("th",{className:"px-4 py-3 text-xs font-bold uppercase tracking-wider text-gray-700",children:"Status"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:a.length>0?a.map(y=>e.jsxs("tr",{className:"group hover:bg-gradient-to-r hover:from-indigo-50/50 hover:to-transparent transition-all duration-200 cursor-pointer",children:[e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[e.jsx("div",{className:"w-9 h-9 flex-shrink-0 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold text-sm shadow-md group-hover:shadow-lg group-hover:scale-110 transition-all duration-300",children:y.gymName?.charAt(0)||"G"}),e.jsx("span",{className:"font-semibold text-gray-900 group-hover:text-indigo-600 transition-colors truncate",children:y.gymName})]})}),e.jsx("td",{className:"px-4 py-3 text-gray-600 hidden sm:table-cell",children:e.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[e.jsx("div",{className:"w-7 h-7 flex-shrink-0 bg-gray-100 rounded-lg flex items-center justify-center group-hover:bg-indigo-100 transition-colors",children:e.jsx(Ws,{size:13,className:"text-indigo-500"})}),e.jsx("span",{className:"font-medium truncate",children:y.location||"N/A"})]})}),e.jsx("td",{className:"px-4 py-3 text-gray-600 font-medium whitespace-nowrap hidden md:table-cell",children:y.createdAt?new Date(y.createdAt).toISOString().split("T")[0]:"N/A"}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-bold shadow-sm transition-all duration-300 group-hover:scale-105 whitespace-nowrap ${y.status==="Active"?"bg-gradient-to-r from-emerald-50 to-emerald-100 text-emerald-700 border border-emerald-200":"bg-gradient-to-r from-amber-50 to-amber-100 text-amber-700 border border-amber-200"}`,children:y.status})})]},y.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"px-4 py-8 text-center text-gray-500 font-medium",children:"No recent registrations found"})})})]})})})]}),e.jsxs("div",{className:"lg:col-span-1 space-y-4 min-w-0",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"System Alerts"}),e.jsx("div",{className:"space-y-4 max-h-[600px] overflow-y-auto pr-2 scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100",children:i.length>0?i.map(y=>e.jsx("div",{className:`bg-white rounded-xl border-l-4 ${y.type==="danger"?"border-red-500 bg-gradient-to-r from-red-50/80 to-white":"border-amber-500 bg-gradient-to-r from-amber-50/80 to-white"} shadow-md hover:shadow-lg hover:-translate-y-1 transition-all duration-300 cursor-pointer group`,children:e.jsxs("div",{className:"flex items-start gap-3 p-4",children:[e.jsx("div",{className:`w-10 h-10 flex-shrink-0 bg-gradient-to-br ${y.type==="danger"?"from-red-500 to-red-600":"from-amber-500 to-amber-600"} rounded-xl flex items-center justify-center shadow-lg group-hover:scale-110 group-hover:rotate-6 transition-all duration-300`,children:y.type==="danger"?e.jsx(lg,{size:20,className:"text-white",strokeWidth:2.5}):e.jsx(cl,{size:20,className:"text-white",strokeWidth:2.5})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[e.jsx("h3",{className:`font-bold ${y.type==="danger"?"text-red-900":"text-amber-900"} text-sm`,children:y.title}),y.type==="danger"?e.jsx("span",{className:"w-2 h-2 flex-shrink-0 rounded-full bg-red-500 animate-pulse shadow-lg shadow-red-500/50 mt-1"}):e.jsx("span",{className:"px-1.5 py-0.5 flex-shrink-0 bg-gradient-to-r from-amber-500 to-amber-600 text-white rounded-lg text-xs font-bold shadow-md",children:"Action"})]}),e.jsx("p",{className:`text-xs ${y.type==="danger"?"text-red-700":"text-amber-700"} font-medium mb-2`,children:y.message}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:`px-2 py-0.5 ${y.type==="danger"?"bg-red-100 text-red-700":"bg-amber-100 text-amber-700"} rounded-lg text-xs font-bold`,children:y.type==="danger"?"Critical":"Pending"}),e.jsx("span",{className:"text-xs text-gray-500 font-medium",children:y.time})]})]})]})},y.id)):e.jsxs("div",{className:"bg-emerald-50 border border-emerald-100 rounded-xl p-6 text-center shadow-inner",children:[e.jsx(Zt,{size:32,className:"text-emerald-500 mx-auto mb-2"}),e.jsx("h3",{className:"text-emerald-900 font-bold text-sm",children:"All Systems Clear"}),e.jsx("p",{className:"text-emerald-700 text-xs",children:"No active alerts at this time"})]})})]})]})]})},dx={createLead:async s=>{try{return(await ve.post("/crm/leads",s)).data}catch(t){throw t.response?.data||t.message}},getLeads:async(s={})=>{try{return(await ve.get("/crm/leads",{params:s})).data}catch(t){throw t.response?.data||t.message}},updateLeadStatus:async(s,t)=>{try{return(await ve.patch(`/crm/leads/${s}/status`,{status:t})).data}catch(a){throw a.response?.data||a.message}},getTodayFollowUps:async()=>{try{return(await ve.get("/crm/followups/today")).data}catch(s){throw s.response?.data||s.message}},addFollowUp:async(s,t)=>{try{return(await ve.post(`/crm/leads/${s}/followups`,t)).data}catch(a){throw a.response?.data||a.message}}},Kg=({isWidget:s=!1})=>{const[t,a]=b.useState([]),[l,i]=b.useState(null),[o,c]=b.useState(!0),{user:u}=Oi(),x=async()=>{try{c(!0);const y=await dx.getTodayFollowUps();a(y)}catch(y){console.error("Error fetching follow-ups:",y)}finally{c(!1)}};b.useEffect(()=>{x()},[]);const h=new Date().toISOString().split("T")[0],p=t,f=async y=>{try{await dx.updateLeadStatus(y,"Contacted"),i(y),setTimeout(()=>{a(t.filter(g=>g.id!==y)),i(null)},1e3)}catch(g){console.error("Failed to update status:",g)}};return e.jsxs("div",{className:`saas-card !p-0 overflow-hidden ${s?"":"max-w-4xl mx-auto"}`,children:[e.jsxs("div",{className:"p-4 md:p-6 border-b border-slate-100 flex items-center justify-between bg-gradient-to-r from-slate-50/50 to-white",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-violet-100 text-violet-600 flex items-center justify-center",children:e.jsx(Ze,{size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-black text-slate-800 tracking-tight uppercase tracking-widest text-xs",children:"Today's Follow-ups"}),e.jsxs("p",{className:"text-[10px] font-bold text-slate-400",children:["Scheduled for ",h]})]})]}),e.jsxs("span",{className:"px-3 py-1 rounded-lg bg-violet-600 text-white text-[10px] font-black",children:[p.length," PENDING"]})]}),e.jsx("div",{className:"divide-y divide-slate-50",children:p.length>0?p.map(y=>e.jsxs("div",{className:"p-4 md:p-5 flex flex-col sm:flex-row sm:items-center justify-between gap-4 hover:bg-slate-50/50 transition-colors group",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"w-12 h-12 rounded-full border-2 border-violet-100 bg-white flex items-center justify-center text-violet-600 font-black relative overflow-hidden group-hover:scale-110 transition-transform duration-500",children:[y.name.charAt(0),e.jsx("div",{className:"absolute inset-0 bg-violet-600 opacity-0 group-hover:opacity-10 transition-opacity"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-slate-800 tracking-tight group-hover:text-violet-700 transition-colors uppercase text-sm",children:y.name}),e.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-slate-400 text-[11px] font-medium",children:[e.jsx(ja,{size:10,className:"text-violet-400"}),y.phone]}),e.jsxs("div",{className:"flex items-center gap-1.5 text-slate-400 text-[11px] font-medium",children:[e.jsx(Ze,{size:10,className:"text-violet-400"}),y.nextFollowUp?new Date(y.nextFollowUp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"Not set"]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 w-full sm:w-auto",children:[e.jsx("a",{href:`tel:${y.phone}`,className:"flex-1 sm:flex-none p-3 rounded-xl bg-slate-50 text-slate-400 hover:bg-violet-50 hover:text-violet-600 transition-all flex items-center justify-center",title:"Call Now",children:e.jsx(ja,{size:18})}),e.jsx("button",{onClick:()=>f(y.id),className:`flex-[2] sm:flex-none px-6 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all shadow-sm flex items-center justify-center gap-2 ${l===y.id?"bg-emerald-500 text-white shadow-emerald-200":"bg-white border border-slate-200 text-slate-600 hover:border-violet-300 hover:text-violet-700"}`,children:l===y.id?e.jsxs(e.Fragment,{children:[e.jsx(wr,{size:14,strokeWidth:3}),"Done"]}):e.jsxs(e.Fragment,{children:[e.jsx(Qt,{size:14}),"Mark Contacted"]})})]})]},y.id)):e.jsxs("div",{className:"p-12 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-4 text-slate-200",children:e.jsx(Ze,{size:32})}),e.jsx("p",{className:"text-slate-400 font-bold text-sm tracking-tight uppercase",children:"No follow-ups scheduled for today"})]})}),!s&&p.length>0&&e.jsx("div",{className:"p-6 bg-slate-50/50 border-t border-slate-100 flex justify-center",children:e.jsxs("button",{className:"text-violet-600 font-black uppercase tracking-widest text-[10px] hover:underline flex items-center gap-2",children:["View All History",e.jsx(MC,{size:14})]})})]})},nu=ve,MD=async()=>{try{return(await nu.get("/branch-admin/dashboard/stats")).data}catch(s){throw s.response?.data?.message||"Failed to fetch dashboard stats"}},zD=async()=>{try{return(await nu.get("/branch-admin/dashboard/activities")).data}catch(s){throw s.response?.data?.message||"Failed to fetch recent activities"}},TD=async()=>{try{return(await nu.get("/branch-admin/dashboard/trainers")).data}catch(s){throw s.response?.data?.message||"Failed to fetch trainer availability"}},_D=async()=>{try{return(await nu.get("/branch-admin/dashboard/financials")).data}catch(s){throw s.response?.data?.message||"Failed to fetch financial stats"}},PD=async()=>{try{return(await nu.get("/branch-admin/dashboard/live-access")).data}catch(s){throw s.response?.data?.message||"Failed to fetch live access data"}},RD=async()=>{try{return(await nu.get("/branch-admin/dashboard/renewal-alerts")).data}catch(s){throw s.response?.data?.message||"Failed to fetch renewal alerts"}},oN=({alertsData:s})=>{const t=Ht(),[a,l]=b.useState({expiringSoon:[],recentlyExpired:[]}),[i,o]=b.useState(!s),c=new Date,u=p=>{const y=new Date(p)-c;return Math.ceil(y/(1e3*60*60*24))};b.useEffect(()=>{if(s){l({expiringSoon:s.expiringSoon||[],recentlyExpired:s.recentlyExpired||[]}),o(!1);return}(async()=>{try{o(!0);const f=await RD();l({expiringSoon:f.expiringSoon||[],recentlyExpired:f.recentlyExpired||[]})}catch(f){console.error("Failed to load renewal alerts",f)}finally{o(!1)}})()},[s]);const{expiringSoon:x,recentlyExpired:h}=a;return e.jsxs("div",{className:"bg-white rounded-[32px] shadow-xl border border-slate-100 overflow-hidden hover:shadow-2xl transition-all duration-500",children:[e.jsxs("div",{className:"p-4 md:p-6 border-b border-slate-100 bg-gradient-to-r from-amber-50/50 to-rose-50/50 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-2xl bg-white shadow-sm flex items-center justify-center text-amber-500",children:e.jsx(ms,{size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tight",children:"Renewal Alerts"}),e.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Retention Opportunity"})]})]}),e.jsxs("button",{onClick:()=>t("/members/renewal-alerts"),className:"flex items-center gap-1 px-4 py-2 rounded-xl bg-white border border-slate-200 text-[10px] font-black uppercase tracking-widest text-slate-600 hover:border-amber-500 hover:text-amber-600 transition-all shadow-sm",children:["View All ",e.jsx(bs,{size:14})]})]}),e.jsxs("div",{className:"p-4 md:p-6 space-y-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between px-2",children:[e.jsxs("h4",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-amber-500 animate-pulse"}),"Expiring in 7 Days"]}),e.jsxs("span",{className:"text-[10px] font-bold text-amber-600 bg-amber-50 px-2 py-0.5 rounded-md",children:[x.length," Members"]})]}),e.jsx("div",{className:"space-y-3",children:x.length>0?x.map(p=>e.jsxs("div",{className:"group relative p-4 rounded-2xl bg-slate-50 border border-slate-100 hover:border-amber-200 hover:bg-white hover:shadow-lg transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-white flex items-center justify-center font-black text-slate-400 group-hover:bg-amber-500 group-hover:text-white transition-all",children:p.memberName.charAt(0)}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-black text-slate-800",children:p.memberName}),e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:p.planName})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-[10px] font-black text-amber-600 uppercase",children:"Ends In"}),e.jsxs("p",{className:"text-sm font-black text-slate-700",children:[u(p.endDate)," Days"]})]})]}),e.jsx("div",{className:"flex gap-2",children:e.jsx("button",{className:"flex-[2] py-2 rounded-lg bg-amber-500 text-white text-[10px] font-black uppercase tracking-widest shadow-lg shadow-amber-100 hover:bg-amber-600 transition-all",children:"Renew"})})]},p.id)):e.jsx("div",{className:"py-8 text-center bg-slate-50/50 rounded-2xl border border-dashed border-slate-200",children:e.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"No immediate renewals"})})})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-100",children:[e.jsxs("div",{className:"flex items-center justify-between px-2",children:[e.jsxs("h4",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-rose-500"}),"Recently Expired"]}),e.jsxs("span",{className:"text-[10px] font-bold text-rose-600 bg-rose-50 px-2 py-0.5 rounded-md",children:[h.length," Members"]})]}),e.jsx("div",{className:"space-y-3",children:h.length>0?h.map(p=>e.jsx("div",{className:"group p-4 rounded-2xl bg-slate-50/50 border border-slate-100 hover:bg-white hover:border-rose-200 hover:shadow-lg transition-all duration-300",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-9 h-9 rounded-lg bg-white flex items-center justify-center font-black text-slate-300 group-hover:bg-rose-500 group-hover:text-white transition-all text-xs",children:p.memberName.charAt(0)}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-slate-800",children:p.memberName}),e.jsxs("p",{className:"text-[9px] font-bold text-slate-400 uppercase italic",children:["Expired ",Math.abs(u(p.endDate))," days ago"]})]})]})})},p.id)):e.jsx("p",{className:"text-center py-4 text-xs font-bold text-slate-300 uppercase tracking-widest",children:"No recent expirations"})})]})]})]})},OD=({userRole:s="STAFF"})=>{const t=Ht(),[a,l]=b.useState(new Date().toLocaleTimeString()),[i,o]=b.useState([]),[c,u]=b.useState(!0),[x,h]=b.useState(null),[p,f]=b.useState(!1),[y,g]=b.useState(""),v=async()=>{try{u(!0);const E=await PD();o(E||[])}catch(E){console.error("LiveAccessControl fetch error:",E)}finally{u(!1)}};b.useEffect(()=>{v();const E=setInterval(v,6e4);return()=>clearInterval(E)},[]),b.useEffect(()=>{const E=setInterval(()=>{l(new Date().toLocaleTimeString())},1e4);return()=>clearInterval(E)},[]);const C=E=>{const w=new Date,R=new Date(E.expiry),T=E.balance||0;if(R<w)return{type:"RED",label:"EXPIRED - STOP",icon:my,color:"text-rose-600",bg:"bg-rose-50",border:"border-rose-100 shadow-rose-100"};if(T>0)return{type:"RED",label:"PAYMENT DUE - STOP",icon:cl,iconColor:"text-rose-600",bg:"bg-rose-50",border:"border-rose-100 shadow-rose-100"};const O=R-w;return Math.ceil(O/(1e3*60*60*24))<=3?{type:"YELLOW",label:"EXPIRING SOON",icon:Ze,color:"text-amber-600",bg:"bg-amber-50",border:"border-amber-100 shadow-amber-100"}:{type:"GREEN",label:"ACTIVE - ALLOWED",icon:Zt,color:"text-emerald-600",bg:"bg-emerald-50",border:"border-emerald-100 shadow-emerald-100"}},N=s==="MANAGER"||s==="BRANCH_ADMIN",k=E=>{const w=C(E);w.type==="RED"?(h(E),f(!0)):w.type==="YELLOW"?alert(`Reminder sent to ${E.member}`):t("/memberships/"+E.id)},A=()=>{if(!y.trim())return alert("Please enter an override reason.");alert(`Entry overridden for ${x.member} by ${s}. Reason: ${y}`),f(!1),h(null),g("")};return e.jsxs("div",{className:"bg-white rounded-[40px] shadow-2xl border border-slate-100 overflow-hidden mb-8",children:[e.jsxs("div",{className:"p-8 border-b border-slate-100 bg-gradient-to-r from-slate-900 to-slate-800 flex flex-col md:flex-row md:items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"w-14 h-14 rounded-2xl bg-white/10 backdrop-blur-md flex items-center justify-center text-white relative",children:[e.jsx(Os,{size:28}),e.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-emerald-500 rounded-full border-2 border-slate-900 animate-pulse"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-black text-white tracking-tight",children:"Live Access Control"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:"text-[10px] font-black text-emerald-400 uppercase tracking-widest bg-emerald-500/10 px-2 py-0.5 rounded-lg border border-emerald-500/20",children:"Monitor Operational"}),e.jsxs("span",{className:"text-[10px] font-bold text-slate-400 italic",children:["Last Refresh: ",a]})]})]})]}),e.jsx("div",{className:"flex gap-3",children:e.jsxs("button",{className:"flex items-center gap-2 px-6 py-3 bg-white/10 hover:bg-white/20 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all",children:[e.jsx(wl,{size:16})," Security Logs"]})})]}),e.jsx("div",{className:"hidden md:block overflow-x-auto",children:e.jsxs("table",{className:"w-full min-w-[1000px]",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50/80 border-b border-slate-100",children:[e.jsx("th",{className:"px-8 py-6 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Member Info"}),e.jsx("th",{className:"px-8 py-6 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Membership Plan"}),e.jsx("th",{className:"px-8 py-6 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Dues / Expiry"}),e.jsx("th",{className:"px-8 py-6 text-center text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Security Status"}),e.jsx("th",{className:"px-8 py-6 text-right text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Action"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:i.map(E=>{const w=C(E);return e.jsxs("tr",{className:`group transition-colors ${w.type==="RED"?"bg-rose-50/30":"hover:bg-slate-50/80"}`,children:[e.jsx("td",{className:"px-8 py-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:E.photo,className:"w-12 h-12 rounded-2xl object-cover border-2 border-white shadow-md group-hover:scale-110 transition-transform",alt:""}),e.jsx("div",{className:`absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 border-white ${w.type==="RED"?"bg-rose-500":"bg-emerald-500"}`})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-black text-slate-900 block group-hover:text-slate-700 transition-colors uppercase tracking-tight",children:E.member}),e.jsxs("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:["Logged: ",E.time]})]})]})}),e.jsx("td",{className:"px-8 py-6",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-black text-slate-700 tracking-tight",children:E.plan}),e.jsx("span",{className:"text-[10px] font-medium text-slate-400 uppercase",children:"Premium Member"})]})}),e.jsx("td",{className:"px-8 py-6",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("span",{className:`text-sm font-black tabular-nums ${E.balance>0?"text-rose-600":"text-slate-700"}`,children:["",E.balance?.toLocaleString()||0," Dues"]}),e.jsxs("span",{className:"text-[10px] font-bold text-slate-400 uppercase italic",children:["Exp: ",E.expiry]})]})}),e.jsx("td",{className:"px-8 py-6",children:e.jsxs("div",{className:`mx-auto flex items-center justify-center gap-2 px-4 py-2 rounded-2xl border ${w.bg} ${w.color} ${w.border} shadow-sm max-w-[180px]`,children:[e.jsx(w.icon,{size:16,strokeWidth:3}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-wider",children:w.label})]})}),e.jsx("td",{className:"px-8 py-6 text-right",children:e.jsx("button",{onClick:()=>k(E),className:`h-11 px-6 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${w.type==="RED"?"bg-rose-600 text-white shadow-lg shadow-rose-200 hover:scale-105 active:scale-95":"bg-white border-2 border-slate-100 text-slate-600 hover:border-slate-200"}`,children:w.type==="RED"?"Authorize":"View Profile"})})]},E.id)})})]})}),e.jsx("div",{className:"md:hidden p-4 space-y-4",children:i.map(E=>{const w=C(E);return e.jsxs("div",{className:`p-4 rounded-3xl border ${w.type==="RED"?"bg-rose-50/30 border-rose-100":"bg-white border-slate-100"} shadow-sm`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:E.photo,className:"w-12 h-12 rounded-2xl object-cover border-2 border-white shadow-md",alt:""}),e.jsx("div",{className:`absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 border-white ${w.type==="RED"?"bg-rose-500":"bg-emerald-500"}`})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-black text-slate-900 block uppercase tracking-tight",children:E.member}),e.jsxs("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:["Logged: ",E.time]})]})]}),e.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full ${w.bg} ${w.color}`,children:e.jsx(w.icon,{size:16,strokeWidth:3})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Plan"}),e.jsx("p",{className:"text-sm font-bold text-slate-700",children:E.plan})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Dues"}),e.jsxs("p",{className:`text-sm font-black tabular-nums ${E.balance>0?"text-rose-600":"text-slate-700"}`,children:["",E.balance?.toLocaleString()||0]})]})]}),e.jsx("button",{onClick:()=>k(E),className:`w-full py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${w.type==="RED"?"bg-rose-600 text-white shadow-lg shadow-rose-200":"bg-white border-2 border-slate-100 text-slate-600"}`,children:w.type==="RED"?"Authorize Entry":"View Profile"})]},E.id)})}),p&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-md animate-in fade-in duration-300",children:e.jsx("div",{className:"bg-white w-full max-w-lg rounded-[40px] shadow-2xl border border-slate-100 overflow-hidden transform animate-in slide-in-from-bottom-8 duration-500",children:e.jsxs("div",{className:"p-10 text-center",children:[e.jsx("div",{className:"w-24 h-24 rounded-[32px] bg-rose-50 text-rose-600 flex items-center justify-center mx-auto mb-8 animate-bounce transition-all",children:e.jsx(my,{size:48})}),e.jsx("h2",{className:"text-3xl font-black text-slate-900 tracking-tight mb-3 uppercase italic",children:"Access Blocked"}),e.jsxs("p",{className:"text-slate-500 font-medium mb-8 leading-relaxed",children:[e.jsx("span",{className:"font-black text-rose-600",children:x?.member})," has outstanding dues of ",e.jsxs("span",{className:"font-black",children:["",x?.balance]})," or an expired membership. Gym entry is restricted."]}),e.jsxs("div",{className:"space-y-4 mb-8",children:[e.jsxs("button",{onClick:()=>t("/finance/cashier"),className:"w-full py-5 bg-emerald-600 text-white rounded-3xl font-black uppercase tracking-[0.2em] text-xs shadow-xl shadow-emerald-200 hover:scale-[1.02] active:scale-95 transition-all flex items-center justify-center gap-3",children:[e.jsx(Yl,{size:18})," Receive Payment"]}),N?e.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-100",children:[e.jsxs("div",{className:"text-left",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1 mb-2 block",children:"Override Reason (Manager Only)"}),e.jsx("textarea",{value:y,onChange:E=>g(E.target.value),placeholder:"e.g. Authorized by director / Technical issues",className:"w-full p-6 h-32 rounded-3xl border-2 border-slate-100 focus:border-rose-500 focus:ring-4 focus:ring-rose-500/10 font-bold text-sm outline-none transition-all bg-slate-50/50"})]}),e.jsxs("button",{onClick:A,className:"w-full py-5 bg-slate-900 text-white rounded-3xl font-black uppercase tracking-[0.2em] text-xs shadow-xl hover:scale-[1.02] active:scale-95 transition-all flex items-center justify-center gap-3",children:[e.jsx(dA,{size:18})," Forced Override entry"]})]}):e.jsxs("div",{className:"p-4 rounded-2xl bg-slate-50 border border-slate-100 flex items-center gap-3 opacity-60",children:[e.jsx(Os,{size:16,className:"text-slate-400"}),e.jsx("span",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest italic",children:"Manager Authorization Required for Override"})]})]}),e.jsx("button",{onClick:()=>{f(!1),h(null)},className:"text-[10px] font-black text-slate-400 uppercase tracking-widest hover:text-slate-600 transition-colors",children:"Dismiss Check-in"})]})})})]})},cN=({equipment:s=[],equipmentStats:t})=>{const a=Ht(),l=t?t.totalAssets:s.length,i=t?t.operational:s.filter(x=>x.status==="Operational").length,o=t?t.outOfOrder:s.filter(x=>x.status==="Under Maintenance").length,c=t?t.outOfOrder:s.filter(x=>x.status==="Out of Order").length,u=[{label:"Total Assets",count:l,icon:ol,color:"slate",border:"border-slate-200"},{label:"Operational",count:i,icon:Zt,color:"emerald",border:"border-emerald-200"},{label:"In Maintenance",count:o,icon:Xl,color:"amber",border:"border-amber-200"},{label:"Out of Order",count:c,icon:cl,color:"red",border:"border-red-200"}];return e.jsxs("div",{className:"bg-white rounded-3xl p-4 md:p-6 shadow-sm border border-slate-200 h-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 md:mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-black text-slate-800 tracking-tight",children:"Facility Status"}),e.jsx("p",{className:"text-slate-400 text-xs font-medium",children:"Equipment health overview"})]}),e.jsx("button",{onClick:()=>a("/facility/equipment"),className:"p-2 bg-slate-50 text-slate-400 hover:text-slate-900 rounded-xl transition-all",children:e.jsx(Nl,{size:20})})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:u.map((x,h)=>e.jsxs("div",{className:`p-4 rounded-2xl border-2 ${x.border} bg-white hover:scale-[1.02] transition-all cursor-default group`,children:[e.jsx("div",{className:`w-8 h-8 rounded-lg bg-${x.color}-50 text-${x.color}-600 flex items-center justify-center mb-3 group-hover:rotate-12 transition-transform`,children:e.jsx(x.icon,{size:18})}),e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:x.label}),e.jsx("p",{className:"text-xl font-black text-slate-800 mt-1",children:x.count})]},h))})]})},FD=["Cardio","Strength","Free Weights","Other"],qh=[{label:"Operational",color:"emerald",value:"Operational"},{label:"Under Maintenance",color:"amber",value:"Under Maintenance"},{label:"Out of Order",color:"red",value:"Out of Order"},{label:"Scheduled Service",color:"blue",value:"Scheduled Service"}],ID=()=>{const[s,t]=b.useState([]),[a,l]=b.useState([]),[i,o]=b.useState([]),[c,u]=b.useState({collection:{cash:0,upi:0,card:0},expenses:{today:0}}),[x,h]=b.useState([]),[p,f]=b.useState({defaulters:0,expiringSoon:0,manualOverrides:0}),[y,g]=b.useState(!0),v=Ht();return b.useEffect(()=>{(async()=>{try{const[N,k,A,E]=await Promise.all([MD(),zD(),TD(),_D()]),w=N.stats.map(R=>({...R,icon:R.icon==="Users"?Pt:R.icon==="CheckCircle"?Qt:R.icon==="DollarSign"?Yl:Pt}));t(w),l(k),o(A),u(E),N.equipment&&h(N.equipment),N.risks&&f(N.risks)}catch(N){console.error("Failed to load dashboard data:",N)}finally{g(!1)}})()},[]),y?e.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-6rem)]",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-violet-600 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"text-slate-500 font-medium animate-pulse uppercase tracking-[0.2em] text-[10px]",children:"Synchronizing Branch Data..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 md:p-6",children:[e.jsxs("div",{className:"mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(It,{size:28})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Branch Overview"}),e.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Real-time branch performance and activity monitoring"})]})]})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:s.map((C,N)=>{const k=C.icon,A=["from-violet-500 to-purple-600","from-emerald-500 to-emerald-600","from-blue-500 to-blue-600","from-fuchsia-500 to-fuchsia-600"];return e.jsxs("div",{className:"group relative bg-white rounded-2xl shadow-lg border border-slate-100 p-4 md:p-6 hover:shadow-2xl transition-all duration-300 hover:-translate-y-1 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50/50 to-purple-50/50 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-semibold text-slate-600 mb-2",children:C.title}),e.jsx("h3",{className:"text-3xl font-black text-slate-900 mb-2",children:C.value}),e.jsxs("p",{className:"text-xs font-semibold text-slate-500 flex items-center gap-1",children:[e.jsx(Qs,{size:14,className:"text-emerald-500"}),C.trend]})]}),e.jsx("div",{className:`w-14 h-14 rounded-xl bg-gradient-to-br ${A[N%4]} flex items-center justify-center text-white shadow-lg transition-all duration-300 group-hover:scale-110 group-hover:rotate-6`,children:e.jsx(k,{size:24})})]})]},C.id)})}),e.jsx("div",{className:"mb-10",children:e.jsx(OD,{userRole:"MANAGER"})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 pb-12",children:[e.jsx(cN,{equipment:x}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 p-4 md:p-6 hover:shadow-2xl transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6 pb-4 border-b border-slate-100",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-emerald-100 to-emerald-200 flex items-center justify-center text-emerald-600 shadow-md",children:e.jsx(Pt,{size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Trainer Status"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Current availability and sessions"})]})]}),e.jsx("div",{className:"space-y-4",children:i.map(C=>e.jsxs("div",{className:"group flex items-center justify-between p-4 rounded-xl bg-slate-50/50 hover:bg-gradient-to-r hover:from-emerald-50/50 hover:to-emerald-100/50 border border-slate-100 hover:border-emerald-200 transition-all duration-300 hover:shadow-md",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-11 h-11 rounded-xl flex items-center justify-center text-white shadow-md transition-all duration-300 group-hover:scale-110 group-hover:rotate-6 ${C.status==="Available"?"bg-gradient-to-br from-emerald-500 to-emerald-600":"bg-gradient-to-br from-orange-500 to-orange-600"}`,children:e.jsx(lt,{size:20})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-slate-900 text-sm",children:C.name}),e.jsx("div",{className:"text-xs text-slate-500 font-medium",children:C.specialty})]})]}),e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-bold border shadow-sm transition-all duration-300 hover:scale-105 ${C.status==="Available"?"bg-gradient-to-r from-emerald-50 to-emerald-100 text-emerald-700 border-emerald-200":"bg-gradient-to-r from-orange-50 to-orange-100 text-orange-700 border-orange-200"}`,children:[e.jsx("span",{className:`inline-block w-2 h-2 rounded-full animate-pulse ${C.status==="Available"?"bg-emerald-500":"bg-orange-500"}`}),C.status]})]},C.id))})]})]}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-black text-slate-800 tracking-tight",children:"Daily Collection Summary"}),e.jsx("p",{className:"text-xs font-semibold text-slate-500 italic",children:"Real-time revenue tracking for today"})]}),e.jsxs("button",{onClick:()=>v("/finance/cashier"),className:"px-6 py-2.5 bg-emerald-500 text-white rounded-xl text-xs font-black uppercase tracking-widest hover:bg-emerald-600 transition-all shadow-lg shadow-emerald-200 flex items-center gap-2",children:[e.jsx(Yl,{size:16}),"Receive Payment"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-[24px] md:rounded-[32px] p-4 md:p-6 border border-slate-100 shadow-xl flex items-center gap-4 md:gap-5 group hover:border-emerald-200 transition-all",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-emerald-50 text-emerald-500 flex items-center justify-center group-hover:scale-110 transition-transform",children:e.jsx(Hs,{size:28})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Cash Collection"}),e.jsxs("h4",{className:"text-2xl font-black text-slate-800",children:["",c.collection.cash.toLocaleString()]})]})]}),e.jsxs("div",{className:"bg-white rounded-[24px] md:rounded-[32px] p-4 md:p-6 border border-slate-100 shadow-xl flex items-center gap-4 md:gap-5 group hover:border-violet-200 transition-all",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-violet-50 text-violet-500 flex items-center justify-center group-hover:scale-110 transition-transform",children:e.jsx(Kl,{size:28})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"UPI / QR Sales"}),e.jsxs("h4",{className:"text-2xl font-black text-slate-800",children:["",c.collection.upi.toLocaleString()]})]})]}),e.jsxs("div",{className:"bg-white rounded-[24px] md:rounded-[32px] p-4 md:p-6 border border-slate-100 shadow-xl flex items-center gap-4 md:gap-5 group hover:border-blue-200 transition-all",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-blue-50 text-blue-500 flex items-center justify-center group-hover:scale-110 transition-transform",children:e.jsx(Rs,{size:28})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Card Payments"}),e.jsxs("h4",{className:"text-2xl font-black text-slate-800",children:["",c.collection.card.toLocaleString()]})]})]}),e.jsxs("div",{className:"bg-slate-900 rounded-[24px] md:rounded-[32px] p-4 md:p-6 shadow-xl flex items-center gap-4 md:gap-5 group hover:scale-[1.02] transition-all text-white border-2 border-slate-800",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-white/20 backdrop-blur-md flex items-center justify-center group-hover:rotate-12 transition-transform",children:e.jsx(Yl,{size:28})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest",children:"Net Revenue Today"}),e.jsxs("h4",{className:"text-2xl font-black italic",children:["",(c.collection.cash+c.collection.upi+c.collection.card-c.expenses.today).toLocaleString()]})]})]})]})]}),e.jsx("div",{className:"mt-8",children:e.jsx(oN,{})}),e.jsxs("div",{className:"mt-8 bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-100 bg-emerald-50/20",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-emerald-100 to-emerald-200 flex items-center justify-center text-emerald-600 shadow-md",children:e.jsx(Ze,{size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Branch Follow-ups Today"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Track all pending follow-ups for the branch"})]})]}),e.jsxs("button",{onClick:()=>v("/crm/followups"),className:"flex items-center gap-2 px-4 py-2 bg-white border border-slate-200 text-slate-600 rounded-xl text-sm font-bold hover:border-emerald-500 hover:text-emerald-600 transition-all shadow-sm",children:["View Full Pipeline ",e.jsx(bs,{size:16})]})]}),e.jsx("div",{className:"p-6",children:e.jsx(Kg,{isWidget:!0})})]})]})},BD=[{id:"TXN-1001",member:"John Doe",type:"Membership",amount:15e3,date:"2025-02-13",status:"Completed",method:"UPI",branchId:"B001",receivedBy:"S-001",referenceNumber:"UPI882299"},{id:"TXN-1002",member:"Jane Smith",type:"POS - Whey Protein",amount:4500,date:"2025-02-13",status:"Completed",method:"Card",branchId:"B001",receivedBy:"S-001",referenceNumber:"CRD771100"},{id:"TXN-1003",member:"Mike Johnson",type:"Membership",amount:5e3,date:"2025-02-12",status:"Failed",method:"UPI",branchId:"B001",receivedBy:"S-002",referenceNumber:"UPI554433"},{id:"TXN-1004",member:"Sarah Williams",type:"Personal Training",amount:12e3,date:"2025-02-11",status:"Completed",method:"Cash",branchId:"B001",receivedBy:"S-001"},{id:"TXN-1005",member:"David Brown",type:"POS - Energy Drink",amount:150,date:"2025-02-10",status:"Completed",method:"UPI",branchId:"B001",receivedBy:"S-001",referenceNumber:"UPI112233"}],Cd={revenue:{monthly:45e4,ytd:28e5,growth:"+12.5%"},expenses:{total:12e4,pending:15e3},dues:{total:45e3,count:8}},UD={stats:[{id:1,title:"Active Members",value:"0",icon:Pt,trend:"...",color:"primary"},{id:2,title:"Classes Today",value:"0",icon:Xe,trend:"...",color:"success"},{id:3,title:"Payments Due",value:"0",icon:ms,trend:"...",color:"warning"}],attendance:[],financials:{collectionToday:0,pendingDuesAmount:0,localExpenses:0},equipmentStats:{totalAssets:0,operational:0,outOfOrder:0},tasksAndNotices:[]},$D=()=>{const s=Ht(),[t,a]=b.useState(UD),[l,i]=b.useState(!0);return b.useEffect(()=>{(async()=>{try{const u=(await ve.get("/dashboard/manager")).data;a(x=>({...x,stats:[{...x.stats[0],value:u.activeMembers?.toString()||"0"},{...x.stats[1],value:u.classesToday?.toString()||"0"},{...x.stats[2],value:u.paymentsDue?.toString()||"0"}],attendance:u.attendance||x.attendance,financials:{collectionToday:u.collectionToday||0,pendingDuesAmount:u.pendingDuesAmount||0,localExpenses:u.localExpenses||0},equipmentStats:u.equipmentStats||{totalAssets:0,operational:0,outOfOrder:0},tasksAndNotices:u.tasksAndNotices||[]}))}catch(c){console.error("Failed to fetch manager dashboard:",c)}finally{i(!1)}})()},[]),l?e.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-6rem)]",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-violet-600 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"text-slate-500 font-medium animate-pulse uppercase tracking-[0.2em] text-[10px]",children:"Accessing Manager Intelligence..."})]})}):e.jsxs("div",{className:"fade-in",children:[e.jsx("h2",{className:"text-title",style:{marginBottom:"var(--space-4)"},children:"Manager Dashboard"}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-emerald-50 text-emerald-600 rounded-lg",children:e.jsx(Yl,{size:18,strokeWidth:2.5})}),e.jsx("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-wider",children:"Revenue Protection Today"})]}),e.jsxs("button",{onClick:()=>s("/finance/transactions"),className:"text-[10px] font-black text-violet-600 hover:text-violet-700 flex items-center gap-1 uppercase tracking-widest bg-violet-50 px-3 py-1.5 rounded-lg transition-all",children:["View Audit Log ",e.jsx(jn,{size:10})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-2xl p-5 border border-slate-100 shadow-sm hover:shadow-md transition-all group overflow-hidden relative",children:[e.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-emerald-50/50 rounded-bl-full -mr-10 -mt-10 group-hover:bg-emerald-100/50 transition-colors"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 mb-1 uppercase tracking-widest",children:"Today's Collection"}),e.jsxs("h4",{className:"text-2xl font-black text-slate-800 flex items-center gap-1",children:[e.jsx("span",{className:"text-emerald-500 font-bold",children:""}),t.financials?.collectionToday.toLocaleString()]}),e.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[e.jsxs("span",{className:"px-2 py-0.5 bg-emerald-50 text-emerald-600 text-[9px] font-black rounded-md flex items-center gap-1",children:[e.jsx(Qs,{size:10})," Healthy"]}),e.jsx("span",{className:"text-[9px] font-bold text-slate-400 italic",children:"Cash + Digital"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-5 border border-slate-100 shadow-sm hover:shadow-md transition-all group overflow-hidden relative",children:[e.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-amber-50/50 rounded-bl-full -mr-10 -mt-10 group-hover:bg-amber-100/50 transition-colors"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 mb-1 uppercase tracking-widest",children:"Pending Dues"}),e.jsxs("h4",{className:"text-2xl font-black text-slate-800 flex items-center gap-1",children:[e.jsx("span",{className:"text-amber-500 font-bold",children:""}),t.financials?.pendingDuesAmount.toLocaleString()]}),e.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[e.jsxs("span",{className:"px-2 py-0.5 bg-amber-50 text-amber-600 text-[9px] font-black rounded-md",children:[t.stats.find(o=>o.title==="Payments Due")?.value," Invoices"]}),e.jsx("button",{onClick:()=>s("/finance/invoices"),className:"text-[9px] font-black text-violet-600 underline",children:"Send Reminders"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-5 border border-slate-100 shadow-sm hover:shadow-md transition-all group overflow-hidden relative",children:[e.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-blue-50/50 rounded-bl-full -mr-10 -mt-10 group-hover:bg-blue-100/50 transition-colors"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 mb-1 uppercase tracking-widest",children:"Local Expenses"}),e.jsxs("h4",{className:"text-2xl font-black text-slate-800 flex items-center gap-1",children:[e.jsx("span",{className:"text-blue-500 font-bold",children:""}),t.financials?.localExpenses.toLocaleString()]}),e.jsx("div",{className:"mt-2 flex items-center gap-2",children:e.jsx("button",{onClick:()=>s("/finance/petty-cash"),className:"px-3 py-1 bg-slate-900 text-white text-[9px] font-black rounded-lg hover:bg-black transition-all",children:"Log Expense"})})]})]})]})]}),e.jsx(jx,{children:t.stats.map(o=>e.jsx(Kn,{...o},o.id))}),e.jsx("div",{className:"mt-8",children:e.jsx(cN,{equipmentStats:t.equipmentStats})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mt-6 sm:mt-8",children:[e.jsxs("div",{className:"relative bg-white rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6 hover:shadow-2xl transition-all duration-300 overflow-hidden group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50/30 via-purple-50/20 to-blue-50/30 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6 pb-4 border-b border-slate-100",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-lg sm:rounded-xl bg-gradient-to-br from-violet-500 via-purple-500 to-fuchsia-500 flex items-center justify-center text-white shadow-lg transition-all duration-300 group-hover:scale-110 group-hover:rotate-6",children:e.jsx(Vr,{size:20,className:"sm:w-[22px] sm:h-[22px]",strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-x-2 gap-y-1",children:[e.jsx("h3",{className:"text-base sm:text-lg font-black text-slate-900",children:"Today's Classes"}),e.jsx("span",{className:"px-1.5 sm:px-2 py-0.5 bg-gradient-to-r from-violet-500 to-purple-600 text-white text-[9px] sm:text-[10px] font-black rounded sm:rounded-md shadow-sm animate-pulse whitespace-nowrap",children:"PREMIUM "})]}),e.jsx("p",{className:"text-[10px] sm:text-xs text-slate-500 font-semibold",children:"Scheduled classes and capacity"})]})]}),e.jsxs("button",{onClick:()=>s("/classes"),className:"px-3 sm:px-4 py-1.5 sm:py-2 bg-gradient-to-r from-violet-500 to-purple-600 text-white rounded-lg sm:rounded-xl text-[10px] sm:text-xs font-bold shadow-lg shadow-violet-500/50 hover:shadow-xl hover:shadow-violet-500/60 hover:scale-105 transition-all flex items-center gap-1.5 sm:gap-2 flex-shrink-0",children:["View Schedule ",e.jsx(jn,{size:12,className:"sm:w-[14px] sm:h-[14px]"})]})]}),e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[t.attendance.map((o,c)=>{const u=o.attendees/o.capacity*100,h=[{gradient:"from-violet-500 via-purple-500 to-fuchsia-500",bgColor:"from-violet-50 to-purple-50"},{gradient:"from-orange-500 via-red-500 to-pink-500",bgColor:"from-orange-50 to-red-50"}][c%2];return e.jsxs("div",{className:"group/class relative p-4 sm:p-5 rounded-xl sm:rounded-2xl bg-gradient-to-r from-slate-50/80 to-white border-2 border-slate-100 hover:border-violet-300 transition-all duration-300 hover:shadow-xl overflow-hidden",children:[e.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${h.bgColor} opacity-0 group-hover/class:opacity-100 transition-opacity duration-300`}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3 sm:mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 sm:w-12 sm:h-12 rounded-lg sm:rounded-xl bg-gradient-to-br ${h.gradient} flex items-center justify-center text-white shadow-lg transition-all duration-300 group-hover/class:scale-110 group-hover/class:rotate-12`,children:e.jsx(Vr,{size:20,className:"sm:w-[22px] sm:h-[22px]",strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-black text-slate-900 text-sm sm:text-base",children:o.name}),e.jsxs("div",{className:"text-[10px] sm:text-xs text-slate-500 font-bold flex items-center gap-1 sm:gap-1.5 mt-0.5 sm:mt-1",children:[e.jsx(Ze,{size:12,className:"text-violet-500 sm:w-[13px] sm:h-[13px]"}),o.time]})]})]}),e.jsxs("div",{className:`px-3 sm:px-4 py-1.5 sm:py-2 rounded-lg sm:rounded-xl bg-gradient-to-r ${h.gradient} text-white text-[10px] sm:text-xs font-black shadow-lg`,children:[o.attendees," / ",o.capacity]})]}),e.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[e.jsx("div",{className:"w-full bg-slate-200 h-2.5 sm:h-3 rounded-full overflow-hidden shadow-inner",children:e.jsx("div",{className:`bg-gradient-to-r ${h.gradient} h-full rounded-full transition-all duration-700 shadow-lg relative overflow-hidden`,style:{width:`${u}%`},children:e.jsx("div",{className:"absolute inset-0 bg-white/20 animate-pulse"})})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("p",{className:"text-[10px] sm:text-xs text-slate-600 font-bold",children:[u.toFixed(0),"% Capacity"]}),e.jsx("span",{className:`text-[10px] sm:text-xs font-black ${u>=90?"text-red-600":u>=70?"text-orange-600":"text-emerald-600"}`,children:u>=90?"Almost Full":u>=70?"Filling Fast":"Available"})]})]})]})]},o.id)}),t.attendance.length===0&&e.jsx("div",{className:"p-4 text-center text-slate-500 font-semibold text-sm",children:"No classes scheduled today."})]})]})]}),e.jsxs("div",{className:"relative bg-white rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6 hover:shadow-2xl transition-all duration-300 overflow-hidden group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-50/30 via-orange-50/20 to-red-50/30 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6 pb-4 border-b border-slate-100",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-lg sm:rounded-xl bg-gradient-to-br from-violet-500 via-purple-500 to-fuchsia-500 flex items-center justify-center text-white shadow-lg transition-all duration-300 group-hover:scale-110 group-hover:rotate-6",children:e.jsx(wn,{size:20,className:"sm:w-[22px] sm:h-[22px] animate-pulse",strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-x-2 gap-y-1",children:[e.jsx("h3",{className:"text-base sm:text-lg font-black text-slate-900",children:"Tasks & Notices"}),e.jsx("span",{className:"px-1.5 sm:px-2 py-0.5 bg-gradient-to-r from-violet-500 to-purple-600 text-white text-[9px] sm:text-[10px] font-black rounded sm:rounded-md shadow-sm animate-pulse whitespace-nowrap",children:"PREMIUM "})]}),e.jsx("p",{className:"text-[10px] sm:text-xs text-slate-500 font-semibold",children:"Important updates and reminders"})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("span",{className:"inline-flex items-center gap-1 sm:gap-1.5 px-2.5 sm:px-3 py-1 sm:py-1.5 rounded-lg sm:rounded-xl bg-gradient-to-r from-red-500 to-red-600 text-white text-[10px] sm:text-xs font-black shadow-lg shadow-red-500/50",children:[t.tasksAndNotices.length," Pending"]})})]}),e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[t.tasksAndNotices.map(o=>{const c=o.type==="urgent",u=c?{bg:"red",icon:cl,txt:"red",border:"red-500"}:{bg:"blue",icon:Pt,txt:"blue",border:"blue-500"},x=u.icon;return e.jsxs("div",{className:`group/task relative p-4 sm:p-5 rounded-xl sm:rounded-2xl bg-gradient-to-r from-${u.bg}-50 via-${u.bg}-50/50 to-white border-l-4 border-${u.border} hover:shadow-2xl transition-all duration-300 overflow-hidden`,children:[e.jsx("div",{className:`absolute inset-0 bg-gradient-to-r from-${u.bg}-100/50 to-transparent opacity-0 group-hover/task:opacity-100 transition-opacity duration-300`}),e.jsxs("div",{className:"relative z-10 flex items-start gap-3 sm:gap-4",children:[e.jsx("div",{className:`w-10 h-10 sm:w-12 sm:h-12 rounded-lg sm:rounded-xl bg-gradient-to-br from-${u.bg}-500 via-${u.bg}-600 to-${u.bg}-700 flex items-center justify-center text-white shadow-xl transition-all duration-300 group-hover/task:scale-110 group-hover/task:rotate-12`,children:e.jsx(x,{size:20,className:"sm:w-[22px] sm:h-[22px]",strokeWidth:2.5})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between mb-1.5 sm:mb-2",children:[e.jsx("h4",{className:`font-black text-${u.txt}-900 text-sm sm:text-base`,children:o.title}),e.jsx("span",{className:`px-2 sm:px-3 py-0.5 sm:py-1 bg-gradient-to-r from-${u.bg}-500 to-${u.bg}-600 text-white rounded-lg sm:rounded-xl text-[10px] sm:text-xs font-black shadow-lg uppercase`,children:c?"Urgent":"Notice"})]}),e.jsx("p",{className:`text-xs sm:text-sm text-${u.txt}-800 font-semibold mb-2 sm:mb-3`,children:o.description}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("div",{className:`flex items-center gap-1 sm:gap-1.5 px-2 sm:px-3 py-1 sm:py-1.5 bg-white/80 backdrop-blur-sm rounded-md sm:rounded-lg border border-${u.bg}-200`,children:[e.jsx(Ze,{size:12,className:`text-${u.txt}-500 sm:w-[13px] sm:h-[13px]`}),e.jsx("span",{className:`text-[10px] sm:text-xs text-${u.txt}-700 font-bold`,children:o.dueDate})]})})]})]})]},o.id)}),t.tasksAndNotices.length===0&&e.jsx("div",{className:"p-4 text-center text-slate-500 font-semibold text-sm",children:"No pending tasks or notices."})]}),e.jsx("div",{className:"mt-4 sm:mt-6 pt-3 sm:pt-4 border-t border-slate-100",children:e.jsxs("button",{onClick:()=>s("/facility/maintenance"),className:"w-full py-2.5 sm:py-3 bg-gradient-to-r from-violet-500 to-purple-600 text-white rounded-lg sm:rounded-xl text-[10px] sm:text-xs font-black uppercase tracking-widest shadow-xl shadow-violet-500/50 hover:shadow-2xl hover:shadow-violet-500/60 hover:scale-105 transition-all flex items-center justify-center gap-1.5 sm:gap-2",children:["View All Tasks ",e.jsx(jn,{size:12,className:"sm:w-[14px] sm:h-[14px]"})]})})]})]})]})]})},qD=["Not Working","Electrical Issue","Noise/Vibration","Physical Damage","Safety Risk","Other"],dN=[{label:"Low",value:"Low",color:"blue"},{label:"Medium",value:"Medium",color:"amber"},{label:"High",value:"High",color:"orange"},{label:"Critical",value:"Critical",color:"red"}],vh=[{label:"Open",value:"Open",color:"red"},{label:"In Progress",value:"In Progress",color:"amber"},{label:"Waiting for Parts",value:"Waiting for Parts",color:"blue"},{label:"Completed",value:"Completed",color:"emerald"},{label:"Closed",value:"Closed",color:"slate"}],HD={stats:[{id:1,title:"Check-ins Today",value:"0",icon:Qt,color:"primary"},{id:2,title:"Pending Payments",value:"0",icon:Yl,color:"warning"},{id:3,title:"New Enquiries",value:"0",icon:Pt,color:"success"}],checkins:[],activeUpdates:0,todayShift:"...",assignedTasks:0,highPriorityTasks:0,upcomingClasses:0,collectionToday:0,pendingActions:[]},WD=()=>{const s=Ht(),[t,a]=b.useState(HD),[l,i]=b.useState(!0);if(b.useEffect(()=>{(async()=>{try{const x=(await ve.get("/dashboard/staff")).data;a(h=>({...h,stats:[{...h.stats[0],value:x.checkinsToday?.toString()||"0"},{...h.stats[1],value:x.pendingPayments?.toString()||"0"},{...h.stats[2],value:x.newEnquiries?.toString()||"0"}],activeUpdates:x.activeUpdates,todayShift:x.todayShift,assignedTasks:x.assignedTasks,highPriorityTasks:x.highPriorityTasks,upcomingClasses:x.upcomingClasses,collectionToday:x.collectionToday,equipmentAlerts:x.equipmentAlerts,pendingActions:x.pendingActions,renewalAlerts:x.renewalAlerts,checkins:x.checkins||h.checkins,myEarnings:x.myEarnings}))}catch(u){console.error("Failed to fetch staff dashboard:",u)}finally{i(!1)}})()},[]),l)return e.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-6rem)]",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-violet-600 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"text-slate-500 font-medium animate-pulse uppercase tracking-[0.2em] text-[10px]",children:"Veriving Operational Protocols..."})]})});const o=[{id:2,label:"Today's Shift",value:t.todayShift||"09:00 - 17:00",subtext:"Next: Tomorrow 09:00",icon:Ze,color:"emerald",gradient:"from-emerald-400 to-emerald-600"},{id:3,label:"Assigned Tasks",value:t.assignedTasks!==void 0?t.assignedTasks.toString():"5",subtext:`${t.highPriorityTasks!==void 0?t.highPriorityTasks:"2"} High Priority`,icon:Qt,color:"amber",gradient:"from-amber-400 to-orange-500"},{id:4,label:"Upcoming Classes",value:t.upcomingClasses!==void 0?t.upcomingClasses.toString():"3",subtext:"Next in 45m",icon:Xe,color:"blue",gradient:"from-blue-400 to-indigo-600"}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6 animate-fadeIn",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6 flex-shrink-0",children:e.jsx(Ld,{size:24,className:"sm:w-7 sm:h-7",strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Staff Dashboard"}),e.jsx("span",{className:"px-2 py-0.5 bg-gradient-to-r from-violet-500 to-purple-600 text-white text-[10px] font-black rounded-md shadow-sm animate-pulse whitespace-nowrap",children:"PREMIUM "})]}),e.jsx("p",{className:"text-slate-600 text-xs sm:text-sm mt-1",children:"Overview of your daily tasks and gym activity"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("button",{onClick:()=>s("/finance/cashier"),className:"flex items-center justify-center gap-2 px-5 py-3 bg-gradient-to-r from-emerald-600 to-teal-600 text-white rounded-xl text-sm font-bold shadow-xl shadow-emerald-500/50 hover:shadow-2xl hover:shadow-emerald-500/60 hover:scale-105 transition-all",children:[e.jsx(Va,{size:18,strokeWidth:2.5})," New Receipt"]}),e.jsxs("button",{onClick:()=>s("/finance/petty-cash"),className:"flex items-center justify-center gap-2 px-5 py-3 bg-white border-2 border-slate-200 text-slate-700 rounded-xl text-sm font-bold shadow-sm hover:border-orange-500 hover:text-orange-600 hover:shadow-md transition-all duration-300",children:[e.jsx(Hs,{size:18,strokeWidth:2.5})," Log Expense"]}),e.jsxs("button",{onClick:()=>s("/staff/attendance/check-in"),className:"flex items-center justify-center gap-2 px-5 py-3 bg-slate-900 text-white rounded-xl text-sm font-bold shadow-xl shadow-slate-200 hover:shadow-2xl hover:scale-105 transition-all",children:[e.jsx(Zn,{size:18,strokeWidth:2.5})," Member Check-in"]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 mb-8",children:[o.map(c=>e.jsxs("div",{className:"group relative bg-white rounded-2xl p-6 shadow-lg border border-slate-100 hover:shadow-xl hover:border-violet-100 transition-all duration-300 hover:-translate-y-1 overflow-hidden",children:[e.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${c.gradient} opacity-0 group-hover:opacity-5 transition-opacity duration-300`}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("div",{className:`p-3 rounded-xl bg-${c.color}-50 text-${c.color}-600 group-hover:scale-110 transition-transform duration-300`,children:e.jsx(c.icon,{size:24,strokeWidth:2.5})}),c.trend&&e.jsx("span",{className:`flex items-center text-xs font-bold ${c.trendUp?"text-emerald-500":"text-red-500"} bg-${c.trendUp?"emerald":"red"}-50 px-2 py-1 rounded-lg`,children:c.trend})]}),e.jsx("h3",{className:"text-slate-500 text-xs font-black uppercase tracking-widest mb-1",children:c.label}),e.jsx("div",{className:"text-2xl font-black text-slate-800 mb-1",children:c.value}),c.subtext&&e.jsx("div",{className:"text-xs font-medium text-slate-400",children:c.subtext})]})]},c.id)),e.jsxs("div",{className:"group relative bg-slate-900 rounded-2xl p-6 shadow-lg border border-slate-800 hover:shadow-xl transition-all duration-300 hover:-translate-y-1 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500/10 to-teal-500/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("div",{className:"p-3 rounded-xl bg-white/10 text-emerald-400",children:e.jsx(Hs,{size:24,strokeWidth:2.5})}),e.jsx("button",{onClick:()=>s("/finance/transactions"),className:"p-2 bg-white/5 rounded-lg text-white/40 hover:text-white transition-colors",children:e.jsx(bs,{size:16})})]}),e.jsx("h3",{className:"text-white/50 text-[10px] font-black uppercase tracking-widest mb-1",children:"My Collection Today"}),e.jsxs("div",{className:"text-2xl font-black text-white italic tracking-tighter tabular-nums",children:["",t.collectionToday?.toLocaleString()||"0"]}),e.jsx("div",{className:"text-[9px] font-bold text-emerald-400 uppercase tracking-widest mt-1",children:"Operational"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6 sm:gap-8 auto-rows-min",children:[e.jsxs("div",{className:"bg-white rounded-3xl shadow-xl border border-slate-100 overflow-hidden h-fit",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 bg-emerald-50/30 flex justify-between items-center",children:[e.jsxs("h3",{className:"text-lg font-black text-slate-800 flex items-center gap-2",children:[e.jsx(Ze,{size:20,className:"text-emerald-500"})," CRM Follow-ups"]}),e.jsx("button",{onClick:()=>s("/crm/followups"),className:"text-xs font-bold text-emerald-600 hover:text-emerald-700",children:"View All"})]}),e.jsx("div",{className:"p-4",children:e.jsx(Kg,{isWidget:!0})})]}),e.jsx("div",{className:"grid grid-cols-1 gap-6 h-fit",children:e.jsxs("div",{className:"bg-gradient-to-br from-violet-600 to-indigo-700 rounded-3xl shadow-xl p-8 text-white relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10 translate-x-1/4 -translate-y-1/4 group-hover:scale-125 transition-transform duration-700",children:e.jsx(Yl,{size:150})}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-white/20 backdrop-blur-md flex items-center justify-center",children:e.jsx(Hs,{size:24})}),e.jsx("h3",{className:"text-lg font-black uppercase tracking-widest",children:"My Earnings"})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("p",{className:"text-xs font-bold uppercase tracking-[0.2em] opacity-60 mb-2",children:[t.myEarnings?.month||"Current Month"," Projection"]}),e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsxs("h4",{className:"text-4xl font-black italic tracking-tighter",children:["",t.myEarnings?.total?.toLocaleString()||"0"]}),e.jsx("span",{className:`text-[10px] font-black px-2 py-0.5 rounded-full mb-2 ${t.myEarnings?.status==="Paid"?"bg-emerald-400/20 text-emerald-200":"bg-white/20 text-white"}`,children:t.myEarnings?.status||"Pending"})]})]}),e.jsxs("button",{onClick:()=>s("/staff/profile/me"),className:"w-full py-4 bg-white/10 backdrop-blur-md border border-white/20 text-white rounded-2xl text-xs font-black uppercase tracking-widest hover:bg-white/20 transition-all flex items-center justify-center gap-2",children:[e.jsx(bs,{size:18}),"View Payslips"]})]})]})}),e.jsx("div",{className:"space-y-8",children:e.jsx(oN,{alertsData:t.renewalAlerts})})]})]})},rt=({isOpen:s,onClose:t,title:a,subtitle:l,children:i,footer:o,maxWidth:c="max-w-xl"})=>{const[u,x]=b.useState(!1);return b.useEffect(()=>{if(s)document.body.style.overflow="hidden",x(!0);else{const h=setTimeout(()=>{x(!1),document.body.style.overflow="unset"},300);return()=>clearTimeout(h)}},[s]),!s&&!u?null:e.jsxs("div",{className:`fixed inset-0 z-[60000] overflow-hidden transition-opacity duration-300 ${s?"opacity-100":"opacity-0 pointer-events-none"}`,children:[e.jsx("div",{className:"absolute inset-0 bg-slate-900/40 backdrop-blur-sm transition-opacity",onClick:t}),e.jsx("div",{className:"fixed inset-y-0 right-0 flex max-w-full h-screen",children:e.jsxs("div",{className:`relative w-screen ${c} h-full transform transition-transform duration-300 ease-in-out shadow-2xl flex flex-col bg-white border-l border-slate-100 ${s?"translate-x-0":"translate-x-full"}`,children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-100 bg-slate-50/50 shrink-0",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-violet-600 to-purple-600 bg-clip-text text-transparent",children:a}),l&&e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider mt-0.5",children:l})]}),e.jsx("button",{onClick:t,className:"p-2 rounded-full text-slate-400 hover:text-slate-600 hover:bg-slate-100 transition-all duration-200",children:e.jsx(Yr,{size:20})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-thin",children:i}),o&&e.jsx("div",{className:"px-6 py-4 border-t border-slate-100 bg-white sticky bottom-0",children:o})]})})]})},GD={stats:[{id:1,title:"Total Members",value:"0",icon:Pt,color:"primary"},{id:2,title:"Sessions Today",value:"0",icon:Xe,color:"success"},{id:3,title:"Pending Plans",value:"0",icon:It,color:"warning"}],todaySessions:{summary:{total:0,upcoming:0,completed:0},list:[]},myClients:[],pendingTasks:[],earnings:{totalEarnings:0,commission:0,salary:0,target:0,pendingPayouts:0},myAttendance:{presentDays:0,lateDays:0,absentDays:0,attendanceRate:0,weeklySummary:[]},announcements:[]},VD=()=>{const s=Ht(),[t,a]=b.useState(GD),[l,i]=b.useState(!0),[o,c]=b.useState(null),[u,x]=b.useState(!1),[h,p]=b.useState(!1),[f,y]=b.useState(!1),[g,v]=b.useState(null),[C,N]=b.useState(!1),[k,A]=b.useState(!1),E=async()=>{try{i(!0);const G=(await ve.get("/dashboard/trainer")).data;a(Y=>({...Y,stats:[{...Y.stats[0],value:G.totalMembers.toString()},{...Y.stats[1],value:G.sessionsToday.toString()},{...Y.stats[2],value:G.pendingPlans.toString()}],todaySessions:G.todaySessions,myClients:G.myClients,pendingTasks:G.pendingTasks||[],myAttendance:{...Y.myAttendance,...G.myAttendance},earnings:G.earnings||Y.earnings,announcements:G.announcements||[]}))}catch(F){console.error("Failed to fetch trainer dashboard:",F),Ve.error("Failed to load dashboard data")}finally{i(!1)}};b.useEffect(()=>{E()},[]);const w=t.myClients?.filter(F=>F.daysSinceLastVisit>=10)||[];if(l)return e.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-6rem)]",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-violet-600 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"text-slate-500 font-medium animate-pulse uppercase tracking-[0.2em] text-[10px]",children:"Loading Trainer Session Environment..."})]})});const R=F=>{c(F),x(!0)},T=F=>{v(F),N(!0)},O=async()=>{if(!(!o||k)){A(!0);try{await ve.patch(`/trainer/sessions/${o.id}/status`,{status:"Completed"}),Ve.success("Session marked as completed!"),x(!1),await E()}catch(F){console.error("Failed to complete session:",F),Ve.error(F.response?.data?.message||"Failed to update session status")}finally{A(!1)}}},W=()=>{if(!o)return null;const F=o.status==="Completed";return e.jsx(rt,{isOpen:u,onClose:()=>x(!1),title:"Session Details",subtitle:`${o.type} - ${o.time}`,footer:e.jsx("div",{className:"flex gap-3 px-4 pb-8",children:e.jsxs("button",{onClick:O,disabled:k||F,className:`flex-1 py-4 rounded-2xl text-sm font-bold shadow-xl transition-all flex items-center justify-center gap-3 ${F?"bg-emerald-100 text-emerald-600 cursor-not-allowed shadow-none border border-emerald-200":"bg-indigo-600 text-white hover:bg-indigo-700 hover:-translate-y-1 shadow-indigo-100"}`,children:[k?e.jsx(dl,{size:20,className:"animate-spin"}):e.jsx(Qt,{size:20}),F?"Session Completed":"Mark Complete"]})}),children:e.jsxs("div",{className:"space-y-8 px-2",children:[e.jsxs("div",{className:"p-4 bg-indigo-50/50 rounded-2xl border border-indigo-100 flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white rounded-xl shadow-sm flex items-center justify-center text-indigo-600 font-bold text-xl",children:o.name.charAt(0)}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:o.name}),e.jsxs("p",{className:"text-xs text-indigo-600 font-bold uppercase tracking-wider",children:[o.type," Session"]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gray-50 flex items-center justify-center text-gray-400",children:e.jsx(Ze,{size:16})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-tight",children:"Time"}),e.jsx("p",{className:"text-sm font-bold text-gray-800",children:o.time})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gray-50 flex items-center justify-center text-gray-400",children:e.jsx(Ws,{size:16})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-tight",children:"Location"}),e.jsx("p",{className:"text-sm font-bold text-gray-800",children:o.location||"Not Specified"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gray-50 flex items-center justify-center text-gray-400",children:e.jsx(ms,{size:16})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-tight",children:"Status"}),e.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-bold border inline-block ${o.status==="Completed"?"bg-emerald-50 text-emerald-700 border-emerald-100":o.status==="Upcoming"?"bg-amber-50 text-amber-700 border-amber-100":"bg-red-50 text-red-700 border-red-100"}`,children:o.status})]})]})]}),e.jsx("hr",{className:"border-gray-100"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h4",{className:"font-bold text-gray-800 text-sm flex items-center gap-2",children:[e.jsx(sr,{size:16,className:"text-indigo-600"}),"Session Notes"]}),e.jsx("textarea",{className:"w-full p-4 bg-gray-50 border border-gray-200 rounded-xl text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none transition-all placeholder:text-gray-400 min-h-[120px]",placeholder:"Add notes about the session or client feedback..."})]})]})})},B=()=>t.earnings?e.jsx(rt,{isOpen:h,onClose:()=>p(!1),title:"Earnings Details",subtitle:"This Month Performance",footer:e.jsx("div",{className:"flex gap-3",children:e.jsx("button",{className:"flex-1 py-2.5 bg-gray-50 border border-gray-200 text-gray-700 rounded-lg text-sm font-bold hover:bg-gray-100 transition-all flex items-center justify-center gap-2",children:"Download Statement"})}),children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-5 bg-indigo-600 rounded-2xl text-white shadow-lg relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:e.jsx(Qn,{size:80})}),e.jsx("p",{className:"text-[10px] font-bold opacity-80 uppercase tracking-widest mb-1",children:"Total Fixed + Commission"}),e.jsxs("h3",{className:"text-3xl font-black",children:["",t.earnings.totalEarnings.toLocaleString()]}),e.jsxs("p",{className:"text-[10px] mt-2 opacity-70 font-medium italic",children:["Calculated for ",new Date().toLocaleString("default",{month:"long"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 px-1",children:[e.jsx(Z0,{size:16,className:"text-indigo-600"}),e.jsx("h4",{className:"text-sm font-bold text-gray-800",children:"Earnings Breakdown"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-50 rounded-xl border border-gray-100",children:[e.jsx("span",{className:"text-xs font-bold text-gray-600",children:"Base Salary"}),e.jsxs("span",{className:"text-sm font-black text-gray-900",children:["",t.earnings.salary.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-50 rounded-xl border border-gray-100",children:[e.jsx("span",{className:"text-xs font-bold text-gray-600",children:"Commission"}),e.jsxs("span",{className:"text-sm font-black text-indigo-600",children:["",t.earnings.commission.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between items-center p-4 bg-indigo-50 border border-indigo-100 rounded-xl",children:[e.jsx("span",{className:"text-xs font-bold text-indigo-700",children:"Total Calculation"}),e.jsxs("span",{className:"text-sm font-black text-indigo-700",children:["",t.earnings.totalEarnings.toLocaleString()]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-end px-1",children:[e.jsx("h4",{className:"text-xs font-bold text-gray-800",children:"Target Progress"}),e.jsxs("span",{className:"text-[10px] font-extrabold text-indigo-600 bg-indigo-50 px-2 py-0.5 rounded-full",children:[Math.round(t.earnings.totalEarnings/t.earnings.target*100),"%"]})]}),e.jsx("div",{className:"h-2 w-full bg-gray-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-indigo-600 rounded-full transition-all duration-1000",style:{width:`${t.earnings.totalEarnings/t.earnings.target*100}%`}})}),e.jsxs("div",{className:"flex justify-between text-[10px] text-gray-400 font-bold uppercase tracking-tight",children:[e.jsxs("span",{children:["Progress: ",t.earnings.totalEarnings.toLocaleString()]}),e.jsxs("span",{children:["Target: ",t.earnings.target.toLocaleString()]})]})]}),e.jsxs("div",{className:"p-4 bg-emerald-50 rounded-xl border border-emerald-100",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-6 h-6 rounded bg-emerald-100 flex items-center justify-center text-emerald-600",children:e.jsx(Qt,{size:14})}),e.jsx("span",{className:"text-xs font-bold text-emerald-800 uppercase tracking-tighter",children:"Verified Payout"})]}),e.jsx("p",{className:"text-[10px] text-emerald-700 font-medium mb-1",children:"Approved commission for this month:"}),e.jsxs("p",{className:"text-lg font-black text-emerald-800",children:["",t.earnings.pendingPayouts.toLocaleString()]})]})]})}):null,z=()=>t.myAttendance?e.jsx(rt,{isOpen:f,onClose:()=>y(!1),title:"Attendance History",subtitle:"Full Month Overview",footer:e.jsx("button",{className:"w-full py-2.5 bg-gray-50 border border-gray-200 text-gray-700 rounded-lg text-sm font-bold hover:bg-gray-100 transition-all",children:"Correction Request"}),children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between px-1",children:[e.jsx("h4",{className:"font-extrabold text-gray-900 text-sm",children:"February 2026"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{className:"p-1 hover:bg-gray-100 rounded text-gray-400",children:e.jsx(bs,{size:16,className:"rotate-180"})}),e.jsx("button",{className:"p-1 hover:bg-gray-100 rounded text-gray-400",children:e.jsx(bs,{size:16})})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{className:"p-3 bg-emerald-50 border border-emerald-100 rounded-xl text-center",children:[e.jsx("p",{className:"text-[10px] font-bold text-emerald-600 uppercase mb-1",children:"Present"}),e.jsx("p",{className:"text-xl font-black text-emerald-700",children:t.myAttendance.presentDays})]}),e.jsxs("div",{className:"p-3 bg-amber-50 border border-amber-100 rounded-xl text-center",children:[e.jsx("p",{className:"text-[10px] font-bold text-amber-600 uppercase mb-1",children:"Late"}),e.jsx("p",{className:"text-xl font-black text-amber-700",children:t.myAttendance.lateDays})]}),e.jsxs("div",{className:"p-3 bg-red-50 border border-red-100 rounded-xl text-center",children:[e.jsx("p",{className:"text-[10px] font-bold text-red-600 uppercase mb-1",children:"Absent"}),e.jsx("p",{className:"text-xl font-black text-red-700",children:t.myAttendance.absentDays})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"text-xs font-bold text-gray-800 px-1 uppercase tracking-widest",children:"Recent Records"}),e.jsx("div",{className:"divide-y divide-gray-100 border-y border-gray-100",children:[1,2,3,4,5].map(F=>e.jsxs("div",{className:"py-3 flex items-center justify-between px-1",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"w-8 h-8 rounded-lg bg-gray-50 flex flex-col items-center justify-center",children:[e.jsx("span",{className:"text-[8px] font-bold text-gray-400 leading-tight",children:"FEB"}),e.jsx("span",{className:"text-xs font-black text-gray-700 leading-tight",children:14-F})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-gray-800",children:"Punch In: 08:55 AM"}),e.jsx("p",{className:"text-[10px] text-gray-500 font-medium",children:"Punch Out: 05:05 PM"})]})]}),e.jsx("span",{className:"text-[10px] font-bold px-2 py-0.5 rounded-full bg-emerald-50 text-emerald-600 border border-emerald-100",children:"Present"})]},F))})]})]})}):null,P=()=>g?e.jsx(rt,{isOpen:C,onClose:()=>N(!1),title:"Client Follow-up",subtitle:"At-Risk Member Details",footer:e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{className:"flex-1 py-2.5 bg-indigo-600 text-white rounded-lg text-sm font-bold shadow-md hover:bg-indigo-700 transition-all flex items-center justify-center gap-2",children:[e.jsx(ja,{size:16}),"Call Member"]}),e.jsxs("button",{className:"flex-1 py-2.5 bg-white border border-gray-200 text-gray-700 rounded-lg text-sm font-bold hover:bg-gray-50 transition-all flex items-center justify-center gap-2",children:[e.jsx(sr,{size:16}),"Message"]})]}),children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-4 bg-red-50 rounded-2xl border border-red-100 flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white rounded-xl shadow-sm flex items-center justify-center text-red-600 font-bold text-xl",children:g.name.charAt(0)}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:g.name}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"px-2 py-0.5 bg-red-100 text-red-700 rounded-full text-[10px] font-black uppercase tracking-wider",children:"At Risk"}),e.jsxs("p",{className:"text-xs text-red-600 font-bold",children:[g.daysSinceLastVisit," Days Inactive"]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-3 bg-gray-50 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-tight mb-1",children:"Membership"}),e.jsx("p",{className:"text-sm font-bold text-gray-800",children:g.membership})]}),e.jsxs("div",{className:"p-3 bg-gray-50 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-tight mb-1",children:"Progress"}),e.jsxs("p",{className:"text-sm font-bold text-gray-800",children:[g.progress,"%"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl border border-gray-100",children:[e.jsx(ja,{size:16,className:"text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-tight",children:"Phone"}),e.jsx("p",{className:"text-sm font-bold text-gray-800",children:g.phone})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl border border-gray-100",children:[e.jsx(Xe,{size:16,className:"text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-tight",children:"Last Visit"}),e.jsx("p",{className:"text-sm font-bold text-gray-800",children:g.lastVisit})]})]})]}),e.jsx("hr",{className:"border-gray-100"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h4",{className:"font-bold text-gray-800 text-sm flex items-center gap-2",children:[e.jsx(wt,{size:16,className:"text-indigo-600"}),"Add Follow-up Note"]}),e.jsx("textarea",{className:"w-full p-4 bg-gray-50 border border-gray-200 rounded-xl text-sm focus:ring-2 focus:ring-indigo-500 outline-none min-h-[100px]",placeholder:"Record the outcome of your follow-up call..."}),e.jsx("button",{className:"w-full py-2 bg-indigo-50 text-indigo-700 rounded-lg text-xs font-bold hover:bg-indigo-100 transition-all",children:"Save Note"})]})]})}):null;return e.jsxs("div",{className:"h-[calc(100vh-6rem)] overflow-y-auto pr-2 pb-8 space-y-8 fade-in scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-transparent",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 pb-6 border-b-2 border-gray-100",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-1",children:"Trainer Dashboard"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Manage your daily sessions and client performance"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("button",{onClick:()=>s("/trainer/sessions/calendar"),className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-200 text-gray-700 rounded-lg text-sm font-semibold hover:bg-gray-50 transition-all shadow-sm",children:[e.jsx(Xe,{size:16}),"My Schedule"]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Qs,{size:18,className:"text-indigo-600"}),e.jsx("h2",{className:"text-md font-bold text-gray-800",children:"Key Metrics"})]}),e.jsx(jx,{children:t.stats.map(F=>e.jsx(Kn,{...F},F.id))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between px-1",children:[e.jsxs("h2",{className:"text-sm font-bold text-gray-800 flex items-center gap-2",children:[e.jsx(Ze,{size:16,className:"text-emerald-500"}),"My Attendance"]}),e.jsx("button",{onClick:()=>y(!0),className:"text-[10px] font-black text-indigo-600 hover:underline",children:"Details"})]}),e.jsxs(is,{className:"p-4 border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"grid grid-cols-3 divide-x divide-gray-100 text-center mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-black",children:t.myAttendance.presentDays}),e.jsx("p",{className:"text-[9px] text-gray-400 uppercase font-bold",children:"Present"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-black text-amber-600",children:t.myAttendance.lateDays}),e.jsx("p",{className:"text-[9px] text-gray-400 uppercase font-bold",children:"Late"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-black text-red-500",children:t.myAttendance.absentDays}),e.jsx("p",{className:"text-[9px] text-gray-400 uppercase font-bold",children:"Absent"})]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs("div",{className:"flex justify-between text-[10px] font-bold",children:[e.jsx("span",{className:"text-gray-500 uppercase",children:"Rate"}),e.jsxs("span",{className:"text-emerald-600",children:[t.myAttendance.attendanceRate,"%"]})]}),e.jsx("div",{className:"h-1 bg-gray-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-emerald-500",style:{width:`${t.myAttendance.attendanceRate}%`}})})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h2",{className:"text-sm font-bold text-gray-800 flex items-center gap-2 px-1",children:[e.jsx(ms,{size:16,className:"text-red-500"}),"Client Alerts"]}),e.jsx(is,{className:"p-0 border border-red-50 shadow-sm overflow-hidden",children:e.jsx("div",{className:"divide-y divide-gray-100",children:w.length===0?e.jsx("div",{className:"p-8 text-center text-gray-400 text-xs font-medium italic",children:"No critical alerts"}):w.slice(0,4).map(F=>e.jsxs("div",{onClick:()=>T(F),className:"p-4 hover:bg-red-50/30 cursor-pointer transition-all flex justify-between items-center",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("h4",{className:"font-bold text-gray-800 text-xs truncate",children:F.name}),e.jsxs("p",{className:"text-[10px] text-red-500 font-bold",children:[F.daysSinceLastVisit," Days Inactive"]})]}),e.jsx(bs,{size:12,className:"text-red-300"})]},F.id))})})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h2",{className:"text-md font-bold text-gray-900 flex items-center gap-3 px-1",children:[e.jsx(Xe,{size:20,className:"text-indigo-600"}),"Today's Schedule"]}),e.jsxs(is,{className:"border-2 border-indigo-100 shadow-xl p-0 overflow-hidden bg-white",children:[e.jsxs("div",{className:"grid grid-cols-3 divide-x divide-indigo-50 bg-indigo-50/50 border-b border-indigo-100",children:[e.jsxs("div",{className:"p-4 text-center",children:[e.jsx("p",{className:"text-[10px] font-bold text-indigo-400 uppercase tracking-widest",children:"Total"}),e.jsx("p",{className:"text-2xl font-black text-gray-900",children:t.todaySessions.summary.total})]}),e.jsxs("div",{className:"p-4 text-center",children:[e.jsx("p",{className:"text-[10px] font-bold text-amber-400 uppercase tracking-widest",children:"Next"}),e.jsx("p",{className:"text-2xl font-black text-amber-600",children:t.todaySessions.summary.upcoming})]}),e.jsxs("div",{className:"p-4 text-center",children:[e.jsx("p",{className:"text-[10px] font-bold text-emerald-400 uppercase tracking-widest",children:"Done"}),e.jsx("p",{className:"text-2xl font-black text-emerald-600",children:t.todaySessions.summary.completed})]})]}),e.jsx("div",{className:"divide-y divide-gray-100 max-h-[350px] overflow-y-auto",children:t.todaySessions.list.length===0?e.jsx("div",{className:"p-10 text-center text-gray-400 font-bold text-sm",children:"No sessions scheduled"}):t.todaySessions.list.map(F=>e.jsxs("div",{onClick:()=>R(F),className:"p-5 hover:bg-indigo-50/50 cursor-pointer transition-all flex items-center justify-between border-l-4 border-transparent hover:border-indigo-500",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-sm font-black text-gray-900",children:F.time}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h4",{className:"font-bold text-gray-800 text-sm truncate",children:F.name}),e.jsx("span",{className:"text-[10px] px-1.5 py-0.5 bg-gray-100 rounded text-gray-500 font-bold uppercase",children:F.type})]})]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-[10px] font-black uppercase ${F.status==="Completed"?"bg-emerald-100 text-emerald-700":F.status==="Upcoming"?"bg-amber-100 text-amber-700 active-pulse":"bg-red-100 text-red-700"}`,children:F.status})]},F.id))})]})]}),t.isCommissionBased&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h2",{className:"text-md font-bold text-gray-900 flex items-center gap-3 px-1",children:[e.jsx(Qs,{size:20,className:"text-emerald-500"}),"Current Earnings"]}),e.jsxs(is,{className:"p-8 border-2 border-emerald-100 shadow-2xl relative overflow-hidden flex flex-col items-center text-center bg-gradient-to-br from-white via-emerald-50/20 to-indigo-50/20",children:[e.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:e.jsx(Z0,{size:80})}),e.jsxs("div",{className:"relative mb-6",children:[e.jsx("p",{className:"text-[11px] font-bold text-gray-400 uppercase tracking-widest mb-2",children:"Projected Payout"}),e.jsxs("h3",{className:"text-5xl font-black text-gray-900 tracking-tighter",children:["",t.earnings.totalEarnings.toLocaleString()]})]}),e.jsxs("div",{className:"w-full grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"p-4 bg-white/80 backdrop-blur-sm rounded-2xl border border-emerald-100 shadow-sm",children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase mb-1",children:"Commission"}),e.jsxs("p",{className:"text-lg font-bold text-emerald-600",children:["",t.earnings.commission.toLocaleString()]})]}),e.jsxs("div",{className:"p-4 bg-white/80 backdrop-blur-sm rounded-2xl border border-indigo-100 shadow-sm",children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase mb-1",children:"Base Salary"}),e.jsxs("p",{className:"text-lg font-bold text-indigo-600",children:["",t.earnings.salary.toLocaleString()]})]})]}),e.jsxs("button",{onClick:()=>p(!0),className:"w-full py-4 bg-indigo-600 text-white rounded-2xl font-bold text-sm shadow-xl shadow-indigo-100 hover:bg-indigo-700 transition-all flex items-center justify-center gap-3 hover:-translate-y-1",children:["Detailed Breakdown ",e.jsx(jn,{size:16})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between px-1",children:[e.jsxs("h2",{className:"text-sm font-bold text-gray-800 flex items-center gap-2",children:[e.jsx(Pt,{size:16,className:"text-blue-600"}),"My Clients"]}),e.jsx("button",{onClick:()=>s("/trainer/members/assigned"),className:"text-[10px] font-black text-indigo-600 hover:underline",children:"View All"})]}),e.jsx(is,{className:"p-5 border border-gray-100 shadow-sm",children:e.jsx("div",{className:"space-y-5",children:t.myClients.length===0?e.jsx("div",{className:"p-4 text-center text-gray-400 text-xs italic",children:"No assigned clients"}):t.myClients.slice(0,5).map(F=>e.jsxs("div",{className:"group cursor-pointer",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-xs font-bold text-gray-700 group-hover:text-indigo-600 transition-colors",children:F.name}),e.jsxs("span",{className:"text-[10px] font-black text-gray-400",children:[F.progress,"%"]})]}),e.jsx("div",{className:"h-1.5 w-full bg-gray-50 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-500 transition-all duration-1000 group-hover:bg-indigo-500",style:{width:`${F.progress}%`}})})]},F.id))})})]}),e.jsxs("div",{className:"space-y-4 pt-4",children:[e.jsxs("h2",{className:"text-sm font-bold text-gray-800 flex items-center gap-2 px-1",children:[e.jsx(vn,{size:16,className:"text-indigo-500"}),"Announcements"]}),e.jsx("div",{className:"space-y-3",children:t.announcements.length===0?e.jsx("div",{className:"p-8 text-center bg-gray-50 rounded-2xl border border-dashed border-gray-200 text-gray-400 text-xs font-medium",children:"No announcements yet"}):t.announcements.map(F=>e.jsxs("div",{className:"p-4 bg-indigo-50/50 border border-indigo-100 rounded-2xl hover:bg-indigo-50 transition-all cursor-pointer",children:[e.jsx("h4",{className:"text-xs font-bold text-indigo-900 mb-1",children:F.title}),e.jsx("p",{className:"text-[10px] text-indigo-600 font-medium line-clamp-2",children:F.content}),e.jsx("span",{className:"text-[8px] text-indigo-400 font-black uppercase mt-2 block",children:F.date})]},F.id))})]})]})]}),e.jsx(W,{}),e.jsx(B,{}),e.jsx(z,{}),e.jsx(P,{})]})},YD=({isOpen:s,onClose:t,benefit:a})=>{if(!a)return null;const l=a.total==="Unlimited",i=l?"Unlimited":a.total-a.used,o=l?100:a.used/a.total*100;return e.jsx(rt,{isOpen:s,onClose:t,title:a.name,subtitle:"Benefit utilization & history",children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"p-6 md:p-8 space-y-8 overflow-y-auto flex-1 custom-scrollbar",children:[e.jsxs("div",{className:"p-6 bg-slate-50 rounded-3xl border border-slate-100",children:[e.jsxs("div",{className:"flex justify-between items-end mb-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-400 mb-1",children:"Current Usage"}),e.jsxs("div",{className:"text-3xl font-black text-slate-900",children:[a.used," ",e.jsxs("span",{className:"text-sm text-slate-400 uppercase tracking-widest",children:["/ ",a.total]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("h4",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-400 mb-1",children:"Remaining"}),e.jsx("div",{className:"text-xl font-black text-violet-600",children:i})]})]}),!l&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-3 bg-white rounded-full overflow-hidden border border-slate-100",children:e.jsx("div",{className:"h-full bg-violet-600 rounded-full shadow-sm shadow-violet-100 transition-all duration-1000",style:{width:`${o}%`}})}),e.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-slate-400 uppercase tracking-widest px-1",children:[e.jsx("span",{children:"Used"}),e.jsxs("span",{children:[Math.round(o),"% Complete"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-white border border-slate-100 rounded-2xl flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-emerald-50 text-emerald-600 rounded-xl flex items-center justify-center shrink-0",children:e.jsx(Xe,{size:20})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-[9px] font-black uppercase tracking-widest text-slate-400",children:"Valid Until"}),e.jsx("div",{className:"text-sm font-bold text-slate-900",children:a.expiry||"N/A"})]})]}),e.jsxs("div",{className:"p-4 bg-white border border-slate-100 rounded-2xl flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-50 text-blue-600 rounded-xl flex items-center justify-center shrink-0",children:e.jsx(Zt,{size:20})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-[9px] font-black uppercase tracking-widest text-slate-400",children:"Status"}),e.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Active"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 px-1",children:[e.jsx(Ze,{size:16,className:"text-slate-400"}),e.jsx("h3",{className:"text-xs font-black uppercase tracking-[0.15em] text-slate-900",children:"Utilization History"})]}),e.jsx("div",{className:"space-y-3",children:a.history&&a.history.length>0?a.history.map((c,u)=>e.jsxs("div",{className:"p-4 bg-white border border-slate-100 rounded-2xl flex items-center justify-between hover:border-violet-100 transition-colors group",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-violet-600 opacity-20 group-hover:opacity-100 transition-opacity"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-bold text-slate-900",children:c.trainer||c.class||c.service||c.guest||"Activity Logged"}),e.jsx("div",{className:"text-[10px] font-medium text-slate-400 uppercase tracking-widest",children:c.date})]})]}),e.jsx("span",{className:"text-[10px] font-black text-emerald-600 uppercase tracking-widest bg-emerald-50 px-2 py-1 rounded-md",children:c.status})]},u)):e.jsxs("div",{className:"py-10 text-center space-y-2",children:[e.jsx(Sn,{size:32,className:"mx-auto text-slate-200"}),e.jsx("p",{className:"text-sm font-bold text-slate-400",children:"No history available yet."})]})})]}),e.jsxs("div",{className:"p-5 bg-amber-50 rounded-2xl border border-amber-100",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ms,{size:14,className:"text-amber-600"}),e.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest text-amber-700",children:"Protocol Terms"})]}),e.jsxs("ul",{className:"space-y-1.5 list-disc list-inside",children:[e.jsx("li",{className:"text-[11px] font-medium text-amber-900/70 leading-relaxed italic",children:"Benefits are non-transferable and valid during membership tenure."}),e.jsx("li",{className:"text-[11px] font-medium text-amber-900/70 leading-relaxed italic",children:"Unused benefits do not carry over to the next billing cycle."}),e.jsx("li",{className:"text-[11px] font-medium text-amber-900/70 leading-relaxed italic",children:"Prior booking required for PT sessions and Spa access."})]})]})]}),e.jsx("div",{className:"p-6 md:p-8 bg-white border-t border-slate-100 mt-auto",children:e.jsx("button",{onClick:t,className:"w-full h-12 bg-slate-900 text-white rounded-xl text-xs font-black uppercase tracking-[0.2em] shadow-lg shadow-slate-100 hover:bg-violet-600 transition-all flex items-center justify-center gap-2",children:"CLOSE DETAILS"})})]})})},XD=({walletData:s})=>{const[t,a]=b.useState(null),[l,i]=b.useState(!1);if(!s||!s.benefits||s.benefits.length===0)return e.jsxs(is,{className:"p-5 border-l-4 border-l-slate-200 shadow-sm",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-slate-900 text-xs font-black uppercase tracking-widest",children:"Benefit Wallet"}),e.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-tighter",children:"Your membership benefits"})]})}),e.jsx("div",{className:"py-2 text-center text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"No benefits included."})]});const{planName:o,benefits:c}=s,u=x=>{a(x),i(!0)};return e.jsxs(e.Fragment,{children:[e.jsxs(is,{className:"bg-gradient-to-br from-slate-50/50 to-white p-5 border border-slate-100 rounded-2xl shadow-xl hover:shadow-2xl hover:-translate-y-1 transition-all duration-300 h-[220px] flex flex-col group overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 shrink-0",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-slate-900 text-[11px] font-black uppercase tracking-[0.2em] leading-none text-violet-600",children:"My Benefits"}),e.jsx("p",{className:"text-[9px] text-slate-400 font-bold uppercase tracking-widest mt-1",children:o})]}),e.jsx("div",{className:"w-8 h-8 rounded-lg bg-violet-50 flex items-center justify-center text-violet-600 shadow-sm group-hover:scale-110 transition-transform",children:e.jsx(bs,{size:16,strokeWidth:3})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto pr-1 space-y-2 custom-scrollbar",children:e.jsx("div",{className:"space-y-2",children:c.map(x=>{const h=x.total==="Unlimited",p=h?100:x.used/x.total*100,f=h?"":x.total-x.used;return e.jsxs("div",{className:"py-1 group/item cursor-pointer",onClick:()=>u(x),children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("span",{className:"text-[10px] font-black text-slate-700 uppercase tracking-tight",children:x.name}),e.jsxs("span",{className:"text-[9px] font-black tracking-tighter text-slate-400 uppercase",children:[e.jsxs("span",{className:"text-slate-900",children:[f," / ",x.total]})," ",e.jsx("span",{className:"text-slate-400 ml-1",children:x.total==="Unlimited"?"":"Total Quota"})]})]}),e.jsx("div",{className:"h-[2px] bg-slate-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-violet-500 to-purple-600 rounded-full transition-all duration-700",style:{width:`${p}%`}})})]},x.id)})})}),e.jsx("div",{className:"pt-3 mt-auto border-t border-slate-50 shrink-0",children:e.jsxs("button",{onClick:()=>u(c[0]),className:"text-[9px] font-black text-violet-600 uppercase tracking-[0.2em] hover:text-violet-700 transition-colors flex items-center gap-1",children:["VIEW ALL BENEFITS ",e.jsx(bs,{size:10,strokeWidth:4})]})})]}),e.jsx(YD,{isOpen:l,onClose:()=>i(!1),benefit:t})]})},KD=({progress:s,size:t=60,strokeWidth:a=6})=>{const l=(t-a)/2,i=l*2*Math.PI,o=i-s/100*i;return e.jsxs("div",{className:"relative inline-flex items-center justify-center p-1 bg-white rounded-full shadow-inner",style:{width:t+8,height:t+8},children:[e.jsxs("svg",{className:"transform -rotate-90",width:t,height:t,children:[e.jsx("circle",{className:"text-slate-100",strokeWidth:a,stroke:"currentColor",fill:"transparent",r:l,cx:t/2,cy:t/2}),e.jsx("circle",{className:"text-violet-600 transition-all duration-1000 ease-out",strokeWidth:a,strokeDasharray:i,strokeDashoffset:o,strokeLinecap:"round",stroke:"currentColor",fill:"transparent",r:l,cx:t/2,cy:t/2,style:{filter:"drop-shadow(0 0 4px rgba(124, 58, 237, 0.3))"}})]}),e.jsxs("span",{className:"absolute text-[10px] font-black text-slate-900 tracking-tighter",children:[Math.round(s),"%"]})]})},JD={stats:[{id:1,title:"My Plan",value:"...",icon:Qt,color:"primary"},{id:2,title:"Next Class",value:"...",icon:Xe,color:"success"},{id:3,title:"Attendance",value:"0%",icon:Qs,color:"success"}],planSummary:{workoutsCompleted:0,totalWorkouts:7,nextGoal:"...",membershipStatus:"...",expiryDate:"...",daysRemaining:0},lastOrder:null,announcements:[],benefitWallet:{benefits:[]}},QD=()=>{const[s,t]=b.useState(JD),[a,l]=b.useState(!0);if(b.useEffect(()=>{(async()=>{try{const u=(await ve.get("/dashboard/member")).data;t(x=>({...x,stats:[{...x.stats[0],value:u.planName},{...x.stats[1],value:u.nextClass},{...x.stats[2],value:u.attendanceRate}],planSummary:u.planSummary,lastOrder:u.lastOrder||null,announcements:u.announcements,benefitWallet:u.benefitWallet}))}catch(c){console.error("Failed to fetch member dashboard:",c)}finally{l(!1)}})()},[]),a)return e.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-6rem)]",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-violet-600 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"text-slate-500 font-medium animate-pulse uppercase tracking-[0.2em] text-[10px]",children:"Retrieving Your Performance Data..."})]})});const i=new Date().toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"});return e.jsxs("div",{className:"fade-in space-y-6 max-w-7xl mx-auto pb-12 px-4 md:px-6",children:[e.jsxs("div",{className:"relative mb-8",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-3xl blur-3xl opacity-5 animate-pulse"}),e.jsxs("div",{className:"relative bg-white/80 backdrop-blur-md rounded-2xl shadow-xl border border-slate-100 p-6 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-600 to-purple-700 flex items-center justify-center text-white shadow-lg shadow-violet-200 transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(ua,{size:28,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-black text-slate-900 tracking-tight italic uppercase",children:["System Access / ",e.jsx("span",{className:"text-violet-600",children:"Member"})]}),e.jsxs("p",{className:"text-slate-500 text-xs font-bold uppercase tracking-widest flex items-center gap-2",children:[e.jsx(It,{size:12,className:"text-violet-500"}),"Operational Intelligence Overview"]})]})]}),e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-slate-50 border border-slate-100 rounded-xl shadow-sm",children:[e.jsx(Xe,{size:16,className:"text-violet-600"}),e.jsx("span",{className:"text-xs font-black text-slate-700 uppercase tracking-tight",children:i})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx(XD,{walletData:s.benefitWallet}),e.jsxs(is,{className:"p-6 border border-slate-100 rounded-2xl shadow-xl hover:shadow-2xl hover:-translate-y-1 transition-all duration-300 bg-gradient-to-br from-slate-50/50 to-white h-[220px] flex flex-col justify-between overflow-hidden group",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-slate-900 text-[11px] font-black uppercase tracking-[0.2em] leading-none mb-1 text-emerald-600",children:"Progress Snapshot"}),e.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:"Active Week"})]}),e.jsx(KD,{progress:s.planSummary.totalWorkouts>0?s.planSummary.workoutsCompleted/s.planSummary.totalWorkouts*100:0,size:50})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5",children:"Weekly Goal"}),e.jsxs("div",{className:"text-2xl font-black text-slate-900 leading-none flex items-baseline gap-1",children:[e.jsx("span",{className:"text-emerald-600",children:s.planSummary.workoutsCompleted}),e.jsxs("span",{className:"text-slate-300 text-sm font-bold",children:["/ ",s.planSummary.totalWorkouts]}),e.jsx("span",{className:"text-[10px] text-slate-400 uppercase ml-2 tracking-widest",children:"Sessions"})]})]}),e.jsxs("button",{className:"text-[10px] font-black text-emerald-600 uppercase tracking-widest hover:translate-x-2 transition-transform inline-flex items-center gap-1.5 mt-auto",children:["GO TO PERFORMANCE LAB ",e.jsx(bs,{size:14,strokeWidth:3})]})]}),e.jsxs(is,{className:"p-6 border border-slate-100 rounded-2xl shadow-xl hover:shadow-2xl hover:-translate-y-1 transition-all duration-300 bg-gradient-to-br from-slate-50/50 to-white h-[220px] flex flex-col justify-between overflow-hidden group",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 pb-3 border-b border-slate-50",children:[e.jsx("h3",{className:"text-slate-900 text-[11px] font-black uppercase tracking-[0.2em] text-fuchsia-600",children:"Membership Status"}),e.jsx("span",{className:`px-2.5 py-1 rounded-lg text-[9px] font-black uppercase shadow-sm ${s.planSummary.membershipStatus==="Active"?"bg-gradient-to-r from-emerald-50 to-emerald-100 text-emerald-700":"bg-gradient-to-r from-rose-50 to-rose-100 text-rose-700"}`,children:s.planSummary.membershipStatus})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest leading-none mb-1.5",children:"Active Tier"}),e.jsx("p",{className:"text-sm font-black text-slate-900 leading-none uppercase italic",children:s.stats[0].value})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest leading-none mb-1.5",children:"System Status"}),e.jsxs("p",{className:"text-sm font-black text-fuchsia-600 leading-none",children:[s.planSummary.daysRemaining," Days Remaining"]})]})]})]}),e.jsx("div",{className:"pt-2 border-t border-slate-50",children:e.jsxs("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-tight truncate italic",children:["Subscription Expires: ",s.planSummary.expiryDate]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs(is,{className:"p-5 border border-slate-100 rounded-2xl shadow-xl hover:shadow-2xl hover:-translate-y-1 transition-all duration-300 bg-gradient-to-br from-violet-50/50 to-white flex items-center gap-4 group",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-transform group-hover:scale-110 group-hover:rotate-6",children:e.jsx(Xw,{size:20,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 mb-1",children:"Weekly Target"}),e.jsxs("div",{className:"text-base font-black text-slate-900 leading-none",children:[s.planSummary.workoutsCompleted," / ",s.planSummary.totalWorkouts," sessions"]})]})]}),e.jsxs(is,{className:"p-5 border border-slate-100 rounded-2xl shadow-xl hover:shadow-2xl hover:-translate-y-1 transition-all duration-300 bg-gradient-to-br from-fuchsia-50/50 to-white flex items-center gap-4 group",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-fuchsia-500 to-pink-600 flex items-center justify-center text-white shadow-lg transition-transform group-hover:scale-110 group-hover:rotate-6",children:e.jsx(Ic,{size:20,strokeWidth:2.5})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 mb-1",children:"Last Order"}),s.lastOrder?e.jsxs("div",{className:"flex items-center justify-between gap-2 overflow-hidden",children:[e.jsxs("span",{className:"text-base font-black text-slate-900 truncate shrink uppercase italic",children:["",s.lastOrder.amount]}),e.jsx("span",{className:`px-2 py-1 rounded-lg text-[9px] font-black uppercase shadow-sm whitespace-nowrap ${s.lastOrder.status?.toLowerCase()==="delivered"?"bg-gradient-to-r from-emerald-50 to-emerald-100 text-emerald-700":s.lastOrder.status?.toLowerCase()==="pending"?"bg-gradient-to-r from-amber-50 to-amber-100 text-amber-700":"bg-gradient-to-r from-slate-50 to-slate-100 text-slate-600"}`,children:s.lastOrder.status||"Processing"})]}):e.jsx("span",{className:"text-[11px] font-bold text-slate-400",children:"No orders yet"})]})]}),e.jsxs(is,{className:"p-5 border border-slate-100 rounded-2xl shadow-xl hover:shadow-2xl hover:-translate-y-1 transition-all duration-300 bg-gradient-to-br from-amber-50/50 to-white flex items-center gap-4 group",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-amber-500 to-orange-600 flex items-center justify-center text-white shadow-lg transition-transform group-hover:scale-110 group-hover:rotate-6",children:e.jsx(Nn,{size:20,strokeWidth:2.5})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 mb-1",children:"Primary Focus"}),e.jsx("div",{className:"text-base font-black text-slate-900 truncate uppercase italic",children:s.planSummary.nextGoal})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-between px-2",children:e.jsxs("h2",{className:"text-[11px] font-black text-slate-500 uppercase tracking-[0.3em] flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-[2px] bg-amber-500"}),"Operational Broadcasts"]})}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:s.announcements.map((o,c)=>e.jsxs(is,{className:"p-5 border border-slate-100 rounded-2xl shadow-xl hover:shadow-2xl hover:-translate-y-1 transition-all duration-300 bg-gradient-to-br from-white to-slate-50/50 flex items-center justify-between gap-4 group",children:[e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-amber-50 to-amber-100 rounded-xl text-amber-600 shadow-sm transition-transform group-hover:scale-110 group-hover:rotate-3",children:e.jsx(Gr,{size:20,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-amber-600 leading-none mb-1.5",children:o.date}),e.jsx("p",{className:"text-base font-black text-slate-900 leading-tight uppercase italic",children:o.title})]})]}),e.jsx("button",{className:"p-3 text-slate-300 hover:text-violet-600 hover:bg-violet-50 rounded-xl transition-all",children:e.jsx(bs,{size:22,strokeWidth:4})})]},c))})]})]})},P0={SUPER_ADMIN:"SUPER_ADMIN",BRANCH_ADMIN:"BRANCH_ADMIN",MANAGER:"MANAGER",STAFF:"STAFF",TRAINER:"TRAINER",MEMBER:"MEMBER"},ZD=({role:s})=>{switch(s){case P0.SUPER_ADMIN:return e.jsx(ED,{});case P0.BRANCH_ADMIN:return e.jsx(ID,{});case P0.MANAGER:return e.jsx($D,{});case P0.STAFF:return e.jsx(WD,{});case P0.TRAINER:return e.jsx(VD,{});case P0.MEMBER:return e.jsx(QD,{});default:return e.jsxs("div",{className:"text-center p-8",children:[e.jsx("h2",{className:"text-title",children:"Welcome to Gym CRM"}),e.jsx("p",{className:"text-muted",children:"Please select a role from the sidebar debugger to view specific dashboards."})]})}},Wr={getMembers:async(s={})=>{try{return(await ve.get("/admin/members",{params:s})).data}catch(t){throw t}},getMemberById:async s=>{try{return(await ve.get(`/admin/members/${s}`)).data}catch(t){throw t}},createMember:async s=>{try{return(await ve.post("/admin/members",s)).data}catch(t){throw t}},updateMember:async(s,t)=>{try{return(await ve.patch(`/admin/members/${s}`,t)).data}catch(a){throw a}},toggleStatus:async s=>{try{return(await ve.patch(`/admin/members/${s}/toggle-status`)).data}catch(t){throw t}},freezeMember:async(s,t)=>{try{return(await ve.patch(`/admin/members/${s}/freeze`,t)).data}catch(a){throw a}},unfreezeMember:async s=>{try{return(await ve.patch(`/admin/members/${s}/unfreeze`)).data}catch(t){throw t}},giftDays:async(s,t)=>{try{return(await ve.patch(`/admin/members/${s}/gift`,t)).data}catch(a){throw a}},getPlans:async()=>{try{return(await ve.get("/admin/plans")).data}catch(s){throw s}},createPlan:async s=>{try{return(await ve.post("/admin/plans",s)).data}catch(t){throw t}},updatePlan:async(s,t)=>{try{return(await ve.patch(`/admin/plans/${s}`,t)).data}catch(a){throw a}},deletePlan:async s=>{try{return(await ve.delete(`/admin/plans/${s}`)).data}catch(t){throw t}}},uN=({status:s})=>{let t,a;switch((s||"").toLowerCase()){case"active":t="#D1FAE5",a="#10B981";break;case"expired":t="#F3F4F6",a="#6B7280";break;case"frozen":t="#FEF3C7",a="#F59E0B";break;default:t="#E5E7EB",a="#374151"}const i={backgroundColor:t,color:a,padding:"4px 12px",borderRadius:"9999px",fontSize:"0.75rem",fontWeight:600,textTransform:"capitalize",display:"inline-block"};return e.jsx("span",{style:i,children:s})},e9=({membership:s})=>{const t=Ht(),a=l=>{const i=l||s.name||"";return i?i.split(" ").map(o=>o[0]).filter(Boolean).join("").toUpperCase().slice(0,2):"?"};return e.jsxs("div",{className:"group relative bg-white rounded-2xl shadow-xl border border-gray-100 p-6 hover:shadow-2xl transition-all duration-300 overflow-hidden h-full flex flex-col",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-50/0 via-purple-50/0 to-pink-50/0 group-hover:from-indigo-50/50 group-hover:via-purple-50/30 group-hover:to-pink-50/50 transition-all duration-500 rounded-2xl"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white font-bold text-sm shadow-lg group-hover:scale-110 group-hover:rotate-6 transition-all duration-300",children:a(s.memberName)}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 group-hover:text-indigo-600 transition-colors duration-300",children:s.memberName||s.name||"No Name"}),e.jsxs("div",{className:"flex items-center gap-1 text-gray-500 text-sm",children:[e.jsx(lt,{size:14}),e.jsx("span",{children:s.memberId})]})]})]}),e.jsx(uN,{status:s.status})]}),e.jsxs("div",{className:"py-4 px-4 mb-4 bg-gradient-to-br from-gray-50 to-indigo-50/30 rounded-xl border-2 border-gray-100 group-hover:border-indigo-200 transition-all duration-300",children:[e.jsx("div",{className:"font-bold text-base bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent mb-2",children:s.planName}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 text-sm",children:[e.jsx(Xe,{size:14,className:"text-indigo-500"}),e.jsxs("span",{children:[s.startDate,"  ",s.endDate]})]})]}),e.jsxs("button",{onClick:()=>t(`/memberships/${s.id}`),className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl font-semibold shadow-md hover:shadow-lg hover:shadow-indigo-500/50 hover:scale-105 transition-all duration-300 group/btn",children:[e.jsx("span",{children:"View Details"}),e.jsx(jn,{size:16,className:"transition-transform duration-300 group-hover/btn:translate-x-1"})]})]})]})},t9=()=>{const s=Ht(),[t,a]=b.useState(""),[l,i]=b.useState("All"),[o,c]=b.useState([]),[u,x]=b.useState(!0),h=async()=>{try{x(!0);const p={};t&&(p.search=t),l!=="All"&&(p.status=l);const y=(await Wr.getMembers(p)).map(g=>({...g,memberName:g.name,planName:g.plan||"No Plan Active",startDate:g.joinDate?new Date(g.joinDate).toLocaleDateString("en-GB"):"N/A",endDate:g.expiryDate?new Date(g.expiryDate).toLocaleDateString("en-GB"):"N/A"}));c(y)}catch(p){console.error("Failed to fetch members:",p),Ve.error("Failed to load memberships")}finally{x(!1)}};return b.useEffect(()=>{const p=setTimeout(()=>{h()},300);return()=>clearTimeout(p)},[t,l]),e.jsxs("div",{className:"bg-gradient-to-br from-gray-50 via-white to-indigo-50/30 p-6 pb-12",children:[e.jsxs("div",{className:"mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-gray-100 p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 bg-clip-text text-transparent mb-2 flex items-center gap-2",children:[e.jsx(Gr,{className:"text-indigo-600",size:28}),"Memberships"]}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Manage member subscriptions and plans"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full sm:w-auto",children:[e.jsxs("button",{onClick:()=>s("/memberships/plans"),className:"w-full sm:w-auto px-5 py-3 bg-white text-indigo-600 border border-indigo-100 rounded-xl font-bold hover:bg-indigo-50 hover:shadow-lg hover:-translate-y-1 transition-all duration-300 flex items-center justify-center gap-2",children:[e.jsx(Gr,{size:18}),"Manage Plans"]}),e.jsxs("button",{onClick:()=>s("/memberships/new"),className:"w-full sm:w-auto group relative px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl font-semibold shadow-lg hover:shadow-xl hover:shadow-indigo-500/50 hover:scale-105 hover:-translate-y-1 transition-all duration-300 flex items-center justify-center gap-2",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/20 to-white/0 opacity-0 group-hover:opacity-100 rounded-xl transition-opacity duration-500"}),e.jsx(wt,{size:18,className:"relative z-10 transition-transform duration-300 group-hover:rotate-90"}),e.jsx("span",{className:"relative z-10",children:"Add Membership"})]})]})]})})]}),e.jsx("div",{className:"mb-6 bg-white/60 backdrop-blur-md rounded-xl shadow-lg border border-white/50 p-5 hover:shadow-xl transition-all duration-300 relative z-[100]",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1 group",children:[e.jsx(st,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 transition-all duration-300 group-focus-within:text-indigo-500 group-focus-within:scale-110"}),e.jsx("input",{type:"text",placeholder:"Search by Member Name or ID...",value:t,onChange:p=>a(p.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border-2 border-gray-200 rounded-xl text-gray-900 text-sm placeholder-gray-400 focus:outline-none focus:ring-4 focus:ring-indigo-500/20 focus:border-indigo-500 hover:border-indigo-300 transition-all duration-300 shadow-sm hover:shadow-md"})]}),e.jsx("div",{className:"w-full sm:w-48 relative z-50",children:e.jsx(ds,{options:[{value:"All",label:"All Statuses"},{value:"Active",label:"Active"},{value:"Expired",label:"Expired"},{value:"Frozen",label:"Frozen"}],value:l,onChange:i,icon:ks,className:"hover:scale-105 transition-transform duration-300"})})]})}),u?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):o.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 auto-rows-fr",children:o.map(p=>e.jsx(e9,{membership:p},p.id))}):e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-12 text-center",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-4 bg-gradient-to-br from-gray-100 to-gray-200 rounded-full flex items-center justify-center",children:e.jsx(st,{size:32,className:"text-gray-400"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"No Memberships Found"}),e.jsx("p",{className:"text-gray-500 mb-6",children:"No memberships match your current filters."}),e.jsx("button",{onClick:()=>{a(""),i("All")},className:"px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl font-semibold shadow-lg hover:shadow-xl hover:scale-105 transition-all duration-300",children:"Clear Filters"})]})]})},Jn={getAll:async()=>{try{return(await ve.get("/amenities")).data}catch(s){throw s.response?.data?.message||"Failed to fetch amenities"}},create:async s=>{try{return(await ve.post("/amenities",s)).data}catch(t){throw t.response?.data?.message||"Failed to create amenity"}},update:async(s,t)=>{try{return(await ve.patch(`/amenities/${s}`,t)).data}catch(a){throw a.response?.data?.message||"Failed to update amenity"}},delete:async s=>{try{return(await ve.delete(`/amenities/${s}`)).data}catch(t){throw t.response?.data?.message||"Failed to delete amenity"}}},vy={Wifi:Am,Zap:ua,Shield:Pa,Coffee:Yg,Music:qw,Car:_w,Tv:Kw,Bath:zw,Wind:Qw,Waves:Jw,Dumbbell:Vr,Layers:co,Check:wr},xN=({benefitIds:s=[],layout:t="list"})=>{const a=Array.isArray(s)?s.map(x=>parseInt(x)):[],[l,i]=b.useState([]),[o,c]=b.useState(!0);if(b.useEffect(()=>{(async()=>{try{const h=await Jn.getAll();i(h)}catch(h){console.error("Failed to load amenities",h)}finally{c(!1)}})()},[]),o)return e.jsx(dl,{size:16,className:"animate-spin text-indigo-500"});const u=l.filter(x=>a.includes(parseInt(x.id)));return u.length===0?e.jsx("div",{className:"text-gray-400 text-sm italic py-2",children:"No benefits included."}):t==="grid"?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:u.map(x=>{const h=vy[x.icon]||wr;return e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl border border-gray-100 bg-white hover:border-indigo-100 hover:shadow-sm transition-all",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-indigo-50 text-indigo-600 flex items-center justify-center shadow-sm",children:e.jsx(h,{size:18})}),e.jsxs("div",{className:"flex-1 overflow-hidden",children:[e.jsx("div",{className:"font-bold text-sm text-gray-800 truncate",children:x.name}),x.gender&&x.gender!=="UNISEX"&&e.jsx("div",{className:"text-[10px] font-bold text-indigo-500 uppercase tracking-widest mt-0.5",children:x.gender})]})]},x.id)})}):e.jsx("div",{className:"flex flex-wrap gap-2",children:u.map(x=>{const h=vy[x.icon]||wr;return e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-gradient-to-r from-gray-50 to-white border border-gray-200 rounded-lg shadow-sm",children:[e.jsx(h,{size:14,className:"text-indigo-500"}),e.jsx("span",{className:"text-sm font-bold text-gray-700",children:x.name})]},x.id)})})},s9=({isOpen:s,onClose:t,onFreeze:a,memberName:l})=>{const[i,o]=b.useState(1),[c,u]=b.useState(""),[x,h]=b.useState(!0);if(!s)return null;const p=f=>{f.preventDefault(),a({duration:i,reason:c,isChargeable:x}),t()};return e.jsx(rt,{isOpen:s,onClose:t,title:"Freeze Membership",subtitle:l,maxWidth:"max-w-md",footer:e.jsxs("div",{className:"flex gap-3 w-full",children:[e.jsx(Ft,{type:"button",variant:"outline",onClick:t,className:"flex-1 py-3 rounded-xl border-gray-200 hover:bg-gray-50 text-gray-600 font-bold",children:"Cancel"}),e.jsx(Ft,{type:"submit",form:"freeze-form",variant:"primary",className:"flex-1 py-3 rounded-xl bg-orange-500 hover:bg-orange-600 shadow-lg shadow-orange-200 border-transparent font-bold text-white",children:"Confirm Freeze"})]}),children:e.jsx("form",{id:"freeze-form",onSubmit:p,className:"flex flex-col h-full",children:e.jsxs("div",{className:"flex-1 overflow-y-auto pr-2 space-y-6",children:[e.jsxs("div",{className:"bg-orange-50 p-4 rounded-xl border border-orange-100 flex gap-3 text-orange-800 text-sm font-bold",children:[e.jsx(cl,{className:"shrink-0",size:20}),e.jsxs("p",{children:["Freezing membership for ",l," will pause their access and extend their expiry date."]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-gray-400 mb-2",children:"Duration (Months)"}),e.jsx("select",{className:"w-full h-12 px-4 rounded-xl bg-gray-50 border-transparent focus:bg-white ring-2 ring-transparent focus:ring-orange-100 outline-none font-bold text-sm",value:i,onChange:f=>o(Number(f.target.value)),children:[1,2,3,4,5,6].map(f=>e.jsxs("option",{value:f,children:[f," Month",f>1?"s":""]},f))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-gray-400 mb-2",children:"Reason"}),e.jsx("textarea",{className:"w-full p-4 rounded-xl bg-gray-50 border-transparent focus:bg-white ring-2 ring-transparent focus:ring-orange-100 outline-none font-medium text-sm transition-all resize-none h-24",placeholder:"Why is the member requesting a freeze?",value:c,onChange:f=>u(f.target.value),required:!0})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",id:"chargeable",className:"w-5 h-5 rounded-md text-orange-500 focus:ring-orange-200 border-gray-300",checked:x,onChange:f=>h(f.target.checked)}),e.jsx("label",{htmlFor:"chargeable",className:"text-sm font-bold text-gray-700",children:"Apply Freeze Fee (500/month)"})]})]})})})},Mi=({label:s,icon:t,className:a="",...l})=>e.jsxs("div",{className:"w-full",children:[s&&e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-gray-400 mb-2",children:s}),e.jsxs("div",{className:"relative",children:[t&&e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:e.jsx(t,{size:18})}),e.jsx("input",{className:`
                        w-full 
                        p-4 
                        ${t?"pl-12":""} 
                        bg-gray-50 
                        rounded-xl 
                        font-bold 
                        text-gray-900 
                        outline-none 
                        focus:ring-2 
                        focus:ring-indigo-500 
                        focus:bg-white 
                        transition-all
                        border border-transparent
                        placeholder:text-gray-400
                        ${a}
                    `,...l})]})]}),a9=({isOpen:s,onClose:t,onGift:a,memberName:l})=>{const[i,o]=b.useState(7),[c,u]=b.useState("");if(!s)return null;const x=h=>{h.preventDefault(),a({days:i,note:c}),t()};return e.jsx(rt,{isOpen:s,onClose:t,title:"Gift Free Days",subtitle:l,maxWidth:"max-w-md",footer:e.jsxs("div",{className:"flex gap-3 w-full",children:[e.jsx(Ft,{type:"button",variant:"outline",onClick:t,className:"flex-1 py-3 rounded-xl border-gray-200 hover:bg-gray-50 text-gray-600 font-bold",children:"Cancel"}),e.jsx(Ft,{type:"submit",form:"gift-days-form",variant:"primary",className:"flex-1 py-3 rounded-xl bg-pink-500 hover:bg-pink-600 shadow-lg shadow-pink-200 border-transparent font-bold text-white",children:"Add Gift Days"})]}),children:e.jsx("form",{id:"gift-days-form",onSubmit:x,className:"flex flex-col h-full",children:e.jsxs("div",{className:"flex-1 overflow-y-auto pr-2 space-y-6",children:[e.jsxs("div",{className:"bg-pink-50 p-4 rounded-xl border border-pink-100 flex gap-3 text-pink-800 text-sm font-bold",children:[e.jsx(Xe,{className:"shrink-0",size:20}),e.jsxs("p",{children:["Adding complimentary days to ",l,"'s plan. This will extend their expiry date."]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-gray-400 mb-2",children:"Number of Days"}),e.jsx(Mi,{type:"number",className:"w-full bg-gray-50 border-transparent focus:bg-white transition-all font-bold",placeholder:"e.g. 7",value:i,onChange:h=>o(Number(h.target.value)),min:"1",max:"365",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-gray-400 mb-2",children:"Internal Note"}),e.jsx("textarea",{className:"w-full p-4 rounded-xl bg-gray-50 border-transparent focus:bg-white ring-2 ring-transparent focus:ring-pink-100 outline-none font-medium text-sm transition-all resize-none h-24",placeholder:"Reason for gift (e.g. Referral Bonus, Birthday)",value:c,onChange:h=>u(h.target.value),required:!0})]})]})})})},r9=()=>{const{id:s}=Ud(),t=Ht(),[a,l]=b.useState(null),[i,o]=b.useState(!0);b.useEffect(()=>{s&&(async()=>{try{o(!0);const A=await Wr.getMemberById(s),E={...A,memberName:A.name,planName:A.plan?.name||"No Plan Active",joinDate:A.joinDate?new Date(A.joinDate).toLocaleDateString("en-GB"):"N/A",startDate:A.joinDate?new Date(A.joinDate).toLocaleDateString("en-GB"):"N/A",endDate:A.expiryDate?new Date(A.expiryDate).toLocaleDateString("en-GB"):"N/A",durationText:A.plan?`${A.plan.duration} ${A.plan.durationType||"Months"}`:"N/A",benefits:A.benefits||[],hasFaceId:!!A.avatar};l(E)}catch(A){console.error("Error fetching member details:",A),Ve.error("Failed to load member details"),t("/memberships")}finally{o(!1)}})()},[s,t]);const[c,u]=b.useState(!1),[x,h]=b.useState(!1),p=b.useRef(null);if(i)return e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})});if(!a)return e.jsx("div",{className:"p-6 text-center text-muted",children:"Membership not found."});const f=a.status==="Frozen",y=async({duration:k,reason:A,isChargeable:E})=>{try{await Wr.freezeMember(s,{duration:k,reason:A,isChargeable:E}),Ve.success("Membership frozen successfully");const w=await Wr.getMemberById(s);l(R=>({...R,...w,status:"Frozen",endDate:w.expiryDate?new Date(w.expiryDate).toLocaleDateString():R.endDate}))}catch{Ve.error("Failed to freeze membership")}},g=async()=>{try{await Wr.unfreezeMember(s),Ve.success("Membership resumed successfully"),l(k=>({...k,status:"Active"}))}catch{Ve.error("Failed to resume membership")}},v=async({days:k,note:A})=>{try{await Wr.giftDays(s,{days:k,note:A}),Ve.success(`Successfully added ${k} complimentary days`);const E=await Wr.getMemberById(s);l(w=>({...w,...E,endDate:E.expiryDate?new Date(E.expiryDate).toLocaleDateString():w.endDate,medicalHistory:E.medicalHistory}))}catch{Ve.error("Failed to add gift days")}},C=()=>{p.current?.click()},N=k=>{const A=k.target.files?.[0];A&&(console.log("Selected file:",A.name),alert(`Selected file for Face ID: ${A.name}
In a real app, this would be uploaded to the server.`))};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col gap-4 sm:gap-6",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("button",{onClick:()=>t("/memberships"),className:"w-10 h-10 sm:w-12 sm:h-12 rounded-lg sm:rounded-xl bg-gradient-to-br from-slate-100 to-slate-200 hover:from-violet-100 hover:to-purple-100 flex items-center justify-center text-slate-600 hover:text-violet-600 shadow-md hover:shadow-lg transition-all duration-300 hover:scale-110 flex-shrink-0",children:e.jsx(Dn,{size:18,className:"sm:w-5 sm:h-5",strokeWidth:2.5})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent truncate",children:"Membership Details"}),e.jsxs("p",{className:"text-slate-600 text-xs sm:text-sm mt-1",children:["ID: ",a.id]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:flex-wrap items-stretch sm:items-center gap-2 sm:gap-3",children:[e.jsxs("button",{onClick:()=>h(!0),className:"group flex items-center justify-center gap-2 px-4 sm:px-5 py-2.5 sm:py-3 bg-gradient-to-r from-pink-500 to-rose-500 text-white rounded-lg sm:rounded-xl text-xs sm:text-sm font-bold shadow-lg shadow-pink-500/50 hover:shadow-xl hover:shadow-pink-500/60 hover:scale-105 transition-all w-full sm:w-auto",children:[e.jsx(Rd,{size:16,strokeWidth:2.5,className:"sm:w-[18px] sm:h-[18px] transition-all duration-300 group-hover:scale-110 group-hover:rotate-12"}),"Gift Days"]}),e.jsxs("button",{onClick:f?g:()=>u(!0),className:"group flex items-center justify-center gap-2 px-4 sm:px-5 py-2.5 sm:py-3 bg-white border-2 border-slate-200 text-slate-700 hover:border-violet-300 hover:text-violet-600 rounded-lg sm:rounded-xl text-xs sm:text-sm font-bold shadow-sm hover:shadow-md hover:scale-105 transition-all w-full sm:w-auto",children:[f?e.jsx(mC,{size:16,strokeWidth:2.5,className:"sm:w-[18px] sm:h-[18px] transition-all duration-300 group-hover:scale-110"}):e.jsx(rm,{size:16,strokeWidth:2.5,className:"sm:w-[18px] sm:h-[18px] transition-all duration-300 group-hover:scale-110"}),f?"Resume":"Freeze"]}),e.jsxs("button",{onClick:()=>t(`/memberships/${a.id}/edit`),className:"group flex items-center justify-center gap-2 px-4 sm:px-5 py-2.5 sm:py-3 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-lg sm:rounded-xl text-xs sm:text-sm font-bold shadow-xl shadow-violet-500/50 hover:shadow-2xl hover:shadow-violet-500/60 hover:scale-105 transition-all w-full sm:w-auto",children:[e.jsx(Ra,{size:16,strokeWidth:2.5,className:"sm:w-[18px] sm:h-[18px] transition-all duration-300 group-hover:scale-110 group-hover:rotate-12"}),"Edit Membership"]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mb-4 sm:mb-6",children:[e.jsxs("div",{className:"group relative bg-white rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6 hover:shadow-2xl transition-all duration-300 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50/50 to-purple-50/50 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-4 sm:mb-6 pb-3 sm:pb-4 border-b border-slate-100",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg sm:rounded-xl bg-gradient-to-br from-violet-100 to-purple-100 flex items-center justify-center text-violet-600 shadow-md flex-shrink-0",children:e.jsx(lt,{size:16,className:"sm:w-5 sm:h-5",strokeWidth:2.5})}),e.jsx("h3",{className:"text-base sm:text-lg font-black text-slate-900",children:"Member Information"})]}),e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 p-3 sm:p-4 rounded-lg sm:rounded-xl bg-gradient-to-r from-slate-50 to-white border border-slate-100",children:[e.jsxs("div",{className:"relative flex-shrink-0",children:[e.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 rounded-xl sm:rounded-2xl bg-gradient-to-br from-violet-500 via-purple-500 to-fuchsia-500 flex items-center justify-center text-white shadow-lg",children:e.jsx(lt,{size:24,className:"sm:w-8 sm:h-8",strokeWidth:2.5})}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 sm:w-6 sm:h-6 bg-gradient-to-br from-emerald-400 to-emerald-600 rounded-full border-2 border-white flex items-center justify-center",children:e.jsx(Gr,{size:10,className:"sm:w-3 sm:h-3 text-white"})})]}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"font-black text-slate-900 text-base sm:text-lg truncate",children:a.memberName}),e.jsxs("div",{className:"text-xs sm:text-sm text-slate-500 font-semibold truncate",children:["Member ID: ",a.memberId]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(R0,{icon:_r,label:"Email",value:a.email}),e.jsx(R0,{icon:ja,label:"Phone",value:a.phone}),e.jsx(R0,{icon:lt,label:"Gender",value:a.gender}),e.jsx(R0,{icon:Xe,label:"Join Date",value:a.joinDate})]})]})]})]}),e.jsxs("div",{className:"group relative bg-white rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6 hover:shadow-2xl transition-all duration-300 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50/50 to-violet-50/50 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-4 sm:mb-6 pb-3 sm:pb-4 border-b border-slate-100",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg sm:rounded-xl bg-gradient-to-br from-blue-100 to-violet-100 flex items-center justify-center text-blue-600 shadow-md flex-shrink-0",children:e.jsx(Rs,{size:16,className:"sm:w-5 sm:h-5",strokeWidth:2.5})}),e.jsx("h3",{className:"text-base sm:text-lg font-black text-slate-900",children:"Plan Details"})]}),e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-start gap-2",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"text-xs sm:text-sm text-slate-500 font-semibold mb-1",children:"Current Plan"}),e.jsx("div",{className:"text-lg sm:text-xl lg:text-2xl font-black bg-gradient-to-r from-violet-600 to-purple-600 bg-clip-text text-transparent truncate",children:a.planName})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx(uN,{status:a.status})})]}),e.jsxs("div",{className:"p-3 sm:p-5 rounded-xl sm:rounded-2xl bg-gradient-to-br from-slate-50 to-white border-2 border-slate-100 space-y-2 sm:space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center gap-2",children:[e.jsx("span",{className:"text-xs sm:text-sm text-slate-600 font-bold",children:"Start Date"}),e.jsx("span",{className:"px-2 sm:px-3 py-1 sm:py-1.5 bg-gradient-to-r from-emerald-50 to-emerald-100 text-emerald-700 rounded-lg text-xs sm:text-sm font-black border border-emerald-200 whitespace-nowrap",children:a.startDate})]}),e.jsxs("div",{className:"flex justify-between items-center gap-2",children:[e.jsx("span",{className:"text-xs sm:text-sm text-slate-600 font-bold",children:"End Date"}),e.jsx("span",{className:"px-2 sm:px-3 py-1 sm:py-1.5 bg-gradient-to-r from-red-50 to-red-100 text-red-700 rounded-lg text-xs sm:text-sm font-black border border-red-200 whitespace-nowrap",children:a.endDate})]})]}),e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"inline-flex items-center gap-1.5 sm:gap-2 px-3 sm:px-4 py-1.5 sm:py-2 bg-gradient-to-r from-violet-500 to-purple-600 text-white rounded-lg sm:rounded-xl text-xs sm:text-sm font-black shadow-lg",children:[e.jsx(Xe,{size:14,className:"sm:w-4 sm:h-4"}),"Duration: ",a.durationText]})})]})]})]})]}),e.jsxs("div",{className:"group relative bg-white rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6 hover:shadow-2xl transition-all duration-300 overflow-hidden mb-4 sm:mb-6",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-50/50 to-purple-50/50 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-4 sm:mb-6 pb-3 sm:pb-4 border-b border-slate-100",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg sm:rounded-xl bg-gradient-to-br from-indigo-100 to-purple-100 flex items-center justify-center text-indigo-600 shadow-md flex-shrink-0",children:e.jsx(lt,{size:16,className:"sm:w-5 sm:h-5",strokeWidth:2.5})}),e.jsx("h3",{className:"text-base sm:text-lg font-black text-slate-900",children:"Biometric Access"})]}),e.jsxs("div",{onClick:C,className:"flex flex-col sm:flex-row items-center justify-between gap-4 p-4 sm:p-6 rounded-xl sm:rounded-2xl bg-gradient-to-r from-slate-50 to-white border-2 border-dashed border-slate-200 hover:border-violet-300 transition-all duration-300 cursor-pointer group/biometric",children:[e.jsx("input",{type:"file",ref:p,onChange:N,className:"hidden",accept:"image/*"}),e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 w-full sm:w-auto",children:[e.jsxs("div",{className:"relative flex-shrink-0",children:[e.jsx("div",{className:"w-14 h-14 sm:w-16 sm:h-16 rounded-xl sm:rounded-2xl bg-gradient-to-br from-indigo-500 via-purple-500 to-violet-500 flex items-center justify-center text-white shadow-xl group-hover/biometric:scale-110 transition-transform duration-300",children:e.jsx(lt,{size:28,className:"sm:w-8 sm:h-8",strokeWidth:2.5})}),a.hasFaceId&&e.jsx("div",{className:"absolute -top-1 -right-1",children:e.jsxs("span",{className:"relative flex h-3.5 w-3.5 sm:h-4 sm:w-4",children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"}),e.jsx("span",{className:"relative inline-flex rounded-full h-3.5 w-3.5 sm:h-4 sm:w-4 bg-emerald-500 border-2 border-white"})]})})]}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"font-black text-slate-900 text-sm sm:text-base group-hover/biometric:text-violet-600 transition-colors",children:"Face ID Avatar"}),e.jsx("div",{className:`text-xs sm:text-sm font-semibold ${a.hasFaceId?"text-emerald-600":"text-slate-500"}`,children:a.hasFaceId?"Registered & Active":"Not setup yet"})]})]}),e.jsx("button",{className:"group/btn px-4 sm:px-5 py-2.5 sm:py-3 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-lg sm:rounded-xl text-xs sm:text-sm font-bold shadow-lg shadow-indigo-500/50 hover:shadow-xl hover:shadow-indigo-500/60 hover:scale-105 transition-all w-full sm:w-auto",children:e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[a.hasFaceId?"Update Photo":"Upload Photo",e.jsx(Gr,{size:14,className:"sm:w-4 sm:h-4 transition-all duration-300 group-hover/btn:rotate-12"})]})})]})]})]}),e.jsxs("div",{className:"group relative bg-white rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6 hover:shadow-2xl transition-all duration-300 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-50/50 to-orange-50/50 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-4 sm:mb-6 pb-3 sm:pb-4 border-b border-slate-100",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg sm:rounded-xl bg-gradient-to-br from-amber-100 to-orange-100 flex items-center justify-center text-amber-600 shadow-md flex-shrink-0",children:e.jsx(Gr,{size:16,className:"sm:w-5 sm:h-5",strokeWidth:2.5})}),e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 min-w-0",children:[e.jsx("h3",{className:"text-base sm:text-lg font-black text-slate-900 truncate",children:"Included Benefits"}),e.jsx("span",{className:"px-1.5 sm:px-2 py-0.5 bg-gradient-to-r from-violet-500 to-purple-600 text-white text-[9px] sm:text-[10px] font-black rounded-md shadow-sm animate-pulse whitespace-nowrap flex-shrink-0",children:"PREMIUM "})]})]}),e.jsx(xN,{benefitIds:a.benefits,layout:"grid"})]})]}),e.jsxs("div",{className:`group relative bg-white rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6 hover:shadow-2xl transition-all duration-300 overflow-hidden mt-6 ${a.medicalHistory||a.fitnessGoal?"opacity-100":"opacity-80"}`,children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-50/50 to-pink-50/50 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-4 sm:mb-6 pb-3 sm:pb-4 border-b border-slate-100",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg sm:rounded-xl bg-gradient-to-br from-purple-100 to-pink-100 flex items-center justify-center text-purple-600 shadow-md flex-shrink-0",children:e.jsx(Gr,{size:16,className:"sm:w-5 sm:h-5",strokeWidth:2.5})}),e.jsx("h3",{className:"text-base sm:text-lg font-black text-slate-900",children:"Medical & Onboarding"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs sm:text-sm font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Medical History"}),e.jsx("div",{className:"p-4 rounded-xl bg-slate-50 border border-slate-100 text-slate-700 text-sm min-h-[100px]",children:a.medicalHistory||"No medical history reported."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs sm:text-sm font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Fitness Goal"}),e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-violet-50 to-purple-50 text-violet-700 rounded-lg border border-violet-100 font-bold text-sm",children:[e.jsx(Gr,{size:14}),a.fitnessGoal||"Not specified"]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-xs sm:text-sm font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Emergency Contact"}),e.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-slate-50 to-white border border-slate-100 space-y-3",children:[e.jsx(R0,{icon:lt,label:"Name",value:a.emergencyName||"N/A"}),e.jsx(R0,{icon:ja,label:"Phone",value:a.emergencyPhone||"N/A"})]})]})]})]})]}),e.jsx(s9,{isOpen:c,onClose:()=>u(!1),onFreeze:y,memberName:a.memberName}),e.jsx(a9,{isOpen:x,onClose:()=>h(!1),memberName:a.memberName,onGift:v})]})},R0=({icon:s,label:t,value:a})=>e.jsxs("div",{className:"group/row flex items-center justify-between p-3 rounded-lg hover:bg-slate-50 transition-all duration-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-violet-100 to-purple-100 flex items-center justify-center text-violet-600 transition-all duration-300 group-hover/row:scale-110",children:e.jsx(s,{size:16,strokeWidth:2.5})}),e.jsx("span",{className:"text-sm text-slate-600 font-semibold",children:t})]}),e.jsx("div",{className:"font-bold text-sm text-slate-900",children:a})]}),yy=()=>{const s=Ht(),{id:t}=Ud(),a=!!t,[l,i]=b.useState(!1),[o,c]=b.useState([]),[u,x]=b.useState([]),[h,p]=b.useState({name:"",email:"",phone:"",gender:"Male",planId:"",startDate:new Date().toISOString().split("T")[0],amount:"",memberId:"",status:"Active",benefits:[],medicalHistory:"",fitnessGoal:"",emergencyName:"",emergencyPhone:""}),f=b.useRef(null);b.useEffect(()=>{(async()=>{try{i(!0);const A=await Wr.getPlans();c(A);const E=await Jn.getAll();if(x(E),a){const w=await Wr.getMemberById(t);p({name:w.name||"",email:w.email||"",phone:w.phone||"",gender:w.gender||"Male",planId:w.planId||"",startDate:w.joinDate?new Date(w.joinDate).toISOString().split("T")[0]:"",amount:"",memberId:w.memberId||"",status:w.status||"Active",benefits:w.benefits||[],medicalHistory:w.medicalHistory||"",fitnessGoal:w.fitnessGoal||"",emergencyName:w.emergencyName||"",emergencyPhone:w.emergencyPhone||""})}}catch(A){console.error("Initial load error:",A),Ve.error("Failed to load required data"),a&&s("/memberships")}finally{i(!1)}})()},[a,t,s]);const y=k=>{const{name:A,value:E}=k.target;if(p(w=>({...w,[A]:E})),A==="planId"){const w=o.find(R=>R.id===parseInt(E));w&&p(R=>({...R,amount:w.price}))}},g=k=>{p(A=>{const E=A.benefits.includes(k)?A.benefits.filter(w=>w!==k):[...A.benefits,k];return{...A,benefits:E}})},v=()=>{f.current?.click()},C=k=>{const A=k.target.files?.[0];if(A){if(A.size>5*1024*1024){Ve.error("File size too large (max 5MB)");return}const E=new FileReader;E.onloadend=()=>{p(w=>({...w,avatar:E.result})),Ve.success("Image selected successfully")},E.onerror=()=>{Ve.error("Failed to read file")},E.readAsDataURL(A)}},N=async k=>{k.preventDefault(),i(!0);try{a?(await Wr.updateMember(t,h),Ve.success("Member updated successfully!")):(await Wr.createMember(h),Ve.success("Member created successfully!")),s("/memberships")}catch(A){console.error("Submit error:",A),Ve.error(A.response?.data?.message||"Operation failed")}finally{i(!1)}};return e.jsxs("div",{className:"bg-gradient-to-br from-gray-50 via-white to-indigo-50/30 p-6 pb-12",children:[e.jsxs("div",{className:"max-w-4xl mx-auto mb-8",children:[e.jsxs("button",{onClick:()=>s("/memberships"),className:"flex items-center gap-2 text-gray-600 hover:text-indigo-600 mb-4 transition-colors duration-300 group",children:[e.jsx(Dn,{size:20,className:"transition-transform duration-300 group-hover:-translate-x-1"}),e.jsx("span",{className:"font-medium",children:"Back to Memberships"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsxs("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-gray-100 p-6",children:[e.jsxs("h1",{className:"text-3xl font-bold bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 bg-clip-text text-transparent flex items-center gap-3",children:[e.jsx(Gr,{className:"text-indigo-600",size:28}),a?"Edit Membership":"New Membership"]}),e.jsx("p",{className:"text-gray-600 text-sm mt-2",children:a?"Update membership details and benefits":"Create a new membership for your member"})]})]})]}),e.jsxs("form",{onSubmit:N,className:"max-w-4xl mx-auto space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden hover:shadow-2xl transition-all duration-500",children:[e.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 p-6",children:e.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[e.jsx(lt,{size:20}),"Membership Details"]})}),e.jsxs("div",{className:"p-8 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3 group col-span-2 md:col-span-1",children:[e.jsxs("label",{className:"block text-sm font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:["Full Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"name",value:h.name,onChange:y,className:"w-full px-5 py-4 bg-gradient-to-br from-white to-indigo-50/30 border-2 border-gray-200 rounded-2xl text-gray-900 text-sm focus:outline-none focus:ring-4 focus:ring-indigo-500/20 focus:border-indigo-500 hover:border-indigo-300 transition-all duration-300 shadow-md",placeholder:"John Doe",required:!0})]}),e.jsxs("div",{className:"space-y-3 group col-span-2 md:col-span-1",children:[e.jsxs("label",{className:"block text-sm font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:["Email Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"email",name:"email",value:h.email,onChange:y,className:"w-full px-5 py-4 bg-gradient-to-br from-white to-indigo-50/30 border-2 border-gray-200 rounded-2xl text-gray-900 text-sm focus:outline-none focus:ring-4 focus:ring-indigo-500/20 focus:border-indigo-500 hover:border-indigo-300 transition-all duration-300 shadow-md",placeholder:"john@example.com",required:!0})]}),e.jsxs("div",{className:"space-y-3 group col-span-2 md:col-span-1",children:[e.jsxs("label",{className:"block text-sm font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:["Phone Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"tel",name:"phone",value:h.phone,onChange:y,className:"w-full px-5 py-4 bg-gradient-to-br from-white to-indigo-50/30 border-2 border-gray-200 rounded-2xl text-gray-900 text-sm focus:outline-none focus:ring-4 focus:ring-indigo-500/20 focus:border-indigo-500 hover:border-indigo-300 transition-all duration-300 shadow-md",placeholder:"+1 234 567 890",required:!0})]}),e.jsxs("div",{className:"space-y-3 group col-span-2 md:col-span-1",children:[e.jsx("label",{className:"block text-sm font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:"Gender"}),e.jsxs("select",{name:"gender",value:h.gender,onChange:y,className:"w-full px-5 py-4 bg-gradient-to-br from-white to-indigo-50/30 border-2 border-gray-200 rounded-2xl text-gray-900 text-sm focus:outline-none focus:ring-4 focus:ring-indigo-500/20 focus:border-indigo-500 hover:border-indigo-300 transition-all duration-300 shadow-md",children:[e.jsx("option",{value:"Male",children:"Male"}),e.jsx("option",{value:"Female",children:"Female"}),e.jsx("option",{value:"Other",children:"Other"})]})]})]}),e.jsxs("div",{className:"space-y-3 group mt-6",children:[e.jsxs("label",{className:"block text-sm font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:["Select Plan ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:o.length===0?e.jsxs("div",{className:"col-span-3 py-10 text-center bg-gray-50 rounded-2xl border-2 border-dashed border-gray-200",children:[e.jsx(ms,{className:"mx-auto text-gray-400 mb-2",size:32}),e.jsx("p",{className:"text-gray-500 font-medium",children:"No plans found. Please create membership plans first."}),e.jsx("button",{type:"button",onClick:()=>s("/memberships/plans"),className:"mt-3 text-sm font-bold text-indigo-600 hover:text-indigo-800 underline",children:"Go to Plans Management"})]}):o.map(k=>e.jsxs("div",{onClick:()=>y({target:{name:"planId",value:k.id}}),className:`cursor-pointer relative p-4 rounded-xl border-2 transition-all duration-300 ${parseInt(h.planId)===k.id?"border-indigo-500 bg-indigo-50/50 shadow-lg shadow-indigo-500/10":"border-slate-100 hover:border-indigo-200 hover:shadow-md"}`,children:[parseInt(h.planId)===k.id&&e.jsx("div",{className:"absolute top-3 right-3 text-indigo-600",children:e.jsx(wr,{size:18,strokeWidth:3})}),e.jsx("h3",{className:"font-bold text-slate-800",children:k.name}),e.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:[k.duration," ",k.durationType||"Month",k.duration>1?"s":""]}),e.jsxs("div",{className:"mt-3 text-lg font-black text-indigo-600",children:["",k.price]})]},k.id))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[e.jsxs("div",{className:"space-y-3 group",children:[e.jsxs("label",{className:"block text-sm font-bold bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent",children:["Start Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Xe,{size:18,className:"absolute left-5 top-1/2 -translate-y-1/2 text-gray-400 transition-all duration-300 group-focus-within:text-blue-500"}),e.jsx("input",{type:"date",name:"startDate",value:h.startDate,onChange:y,className:"w-full pl-14 pr-5 py-4 bg-gradient-to-br from-white to-blue-50/30 border-2 border-gray-200 rounded-2xl text-gray-900 text-sm focus:outline-none focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 hover:border-blue-300 hover:shadow-lg transition-all duration-300 shadow-md",required:!0})]})]}),e.jsxs("div",{className:"space-y-3 group",children:[e.jsxs("label",{className:"block text-sm font-bold bg-gradient-to-r from-emerald-600 to-teal-600 bg-clip-text text-transparent",children:["Status ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{name:"status",value:h.status,onChange:y,className:"w-full px-5 py-4 bg-gradient-to-br from-white to-emerald-50/30 border-2 border-gray-200 rounded-2xl text-gray-900 text-sm focus:outline-none focus:ring-4 focus:ring-emerald-500/20 focus:border-emerald-500 hover:border-emerald-300 hover:shadow-lg transition-all duration-300 shadow-md",children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Frozen",children:"Frozen"}),e.jsx("option",{value:"Expired",children:"Expired"})]})]})]}),e.jsxs("div",{className:"space-y-5 pt-6 border-t-2 border-gray-100 mt-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center shadow-lg",children:e.jsx(Zt,{className:"w-6 h-6 text-white"})}),e.jsx("h3",{className:"text-xl font-black bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:"Included Benefits"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[u.map(k=>e.jsxs("div",{className:`relative flex items-start p-4 rounded-xl border-2 transition-all duration-300 cursor-pointer hover:scale-105 hover:shadow-lg group ${h.benefits.includes(k.id)?"bg-gradient-to-br from-indigo-50 to-purple-50 border-indigo-300 shadow-md":"bg-white border-gray-200 hover:border-indigo-200 hover:bg-indigo-50/30"}`,children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:k.id,type:"checkbox",className:"h-5 w-5 rounded-lg border-2 border-gray-300 text-indigo-600 focus:ring-4 focus:ring-indigo-500/20 transition-all duration-300 cursor-pointer hover:scale-125 checked:scale-125 hover:shadow-lg",checked:h.benefits.includes(k.id),onChange:()=>g(k.id)})}),e.jsxs("div",{className:"ml-3 text-sm flex-1",children:[e.jsx("label",{htmlFor:k.id,className:`font-semibold cursor-pointer select-none transition-all duration-300 ${h.benefits.includes(k.id)?"text-indigo-700":"text-gray-700 group-hover:text-indigo-600"}`,children:k.name}),k.gender&&k.gender!=="UNISEX"&&e.jsxs("span",{className:`block mt-1 w-max px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-widest ${k.gender==="MALE"?"bg-blue-100 text-blue-700":"bg-pink-100 text-pink-700"}`,children:[k.gender," ONLY"]})]})]},k.id)),u.length===0&&e.jsx("div",{className:"col-span-2 text-center py-4 bg-slate-50 rounded-xl border-2 border-dashed border-slate-200",children:e.jsx("p",{className:"text-slate-500 text-sm",children:"No amenities configured. Add them in settings."})})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden hover:shadow-2xl transition-all duration-500",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 p-6",children:e.jsx("h2",{className:"text-xl font-bold text-white",children:"Medical & Onboarding"})}),e.jsxs("div",{className:"p-8 space-y-6",children:[e.jsxs("div",{className:"space-y-3 group",children:[e.jsx("label",{className:"block text-sm font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Medical History / Conditions"}),e.jsx("textarea",{name:"medicalHistory",className:"w-full px-5 py-4 bg-gradient-to-br from-white to-purple-50/30 border-2 border-gray-200 rounded-2xl text-gray-900 text-sm placeholder-gray-400 focus:outline-none focus:ring-4 focus:ring-purple-500/20 focus:border-purple-500 hover:border-purple-300 hover:shadow-lg transition-all duration-300 shadow-md resize-none",rows:"4",placeholder:"Any injuries, surgeries, or conditions we should be aware of?",value:h.medicalHistory||"",onChange:y})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3 group",children:[e.jsx("label",{className:"block text-sm font-bold bg-gradient-to-r from-pink-600 to-rose-600 bg-clip-text text-transparent",children:"Fitness Goal"}),e.jsxs("select",{name:"fitnessGoal",className:"w-full px-5 py-4 bg-gradient-to-br from-white to-pink-50/30 border-2 border-gray-200 rounded-2xl text-gray-900 text-sm focus:outline-none focus:ring-4 focus:ring-pink-500/20 focus:border-pink-500 hover:border-pink-300 hover:shadow-lg transition-all duration-300 shadow-md",value:h.fitnessGoal||"",onChange:y,children:[e.jsx("option",{value:"",children:"Select Goal"}),e.jsx("option",{value:"Weight Loss",children:"Weight Loss"}),e.jsx("option",{value:"Muscle Gain",children:"Muscle Gain"}),e.jsx("option",{value:"Endurance",children:"General Endurance"}),e.jsx("option",{value:"Flexibility",children:"Flexibility & Mobility"}),e.jsx("option",{value:"Rehabilitation",children:"Rehabilitation"})]})]}),e.jsxs("div",{className:"space-y-3 group",children:[e.jsx("label",{className:"block text-sm font-bold bg-gradient-to-r from-rose-600 to-orange-600 bg-clip-text text-transparent",children:"Emergency Contact Name"}),e.jsx("input",{type:"text",name:"emergencyName",className:"w-full px-5 py-4 bg-gradient-to-br from-white to-rose-50/30 border-2 border-gray-200 rounded-2xl text-gray-900 text-sm placeholder-gray-400 focus:outline-none focus:ring-4 focus:ring-rose-500/20 focus:border-rose-500 hover:border-rose-300 hover:shadow-lg transition-all duration-300 shadow-md",placeholder:"Name",value:h.emergencyName||"",onChange:y})]})]}),e.jsxs("div",{className:"space-y-3 group",children:[e.jsx("label",{className:"block text-sm font-bold bg-gradient-to-r from-orange-600 to-amber-600 bg-clip-text text-transparent",children:"Emergency Contact Phone"}),e.jsx("input",{type:"tel",name:"emergencyPhone",className:"w-full px-5 py-4 bg-gradient-to-br from-white to-orange-50/30 border-2 border-gray-200 rounded-2xl text-gray-900 text-sm placeholder-gray-400 focus:outline-none focus:ring-4 focus:ring-orange-500/20 focus:border-orange-500 hover:border-orange-300 hover:shadow-lg transition-all duration-300 shadow-md",placeholder:"+91...",value:h.emergencyPhone||"",onChange:y})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden hover:shadow-2xl transition-all duration-500",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-cyan-600 p-6",children:e.jsx("h2",{className:"text-xl font-bold text-white",children:"Biometric Data"})}),e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{onClick:v,className:"border-2 border-dashed border-indigo-200 rounded-2xl p-12 flex flex-col items-center justify-center text-center cursor-pointer hover:bg-gradient-to-br hover:from-indigo-50 hover:to-purple-50 hover:border-indigo-400 transition-all duration-300 group relative overflow-hidden",children:[e.jsx("input",{type:"file",ref:f,onChange:C,className:"hidden",accept:"image/*"}),h.avatar?e.jsxs("div",{className:"absolute inset-0 w-full h-full",children:[e.jsx("img",{src:h.avatar,alt:"Face ID",className:"w-full h-full object-cover opacity-50 group-hover:opacity-30 transition-opacity"}),e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[e.jsx("div",{className:"w-16 h-16 bg-white/80 backdrop-blur-sm rounded-full flex items-center justify-center mb-2 shadow-lg",children:e.jsx(ig,{size:24,className:"text-indigo-600"})}),e.jsx("span",{className:"font-bold text-gray-900 bg-white/50 px-3 py-1 rounded-full",children:"Change Photo"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300 shadow-lg",children:e.jsx(ig,{size:32,className:"text-white"})}),e.jsx("span",{className:"text-base font-bold text-gray-900 mb-1",children:"Upload Face ID Avatar"}),e.jsx("span",{className:"text-sm text-gray-500",children:"For Turnstile Access"})]})]}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs("ul",{className:"space-y-3 text-gray-600",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-full"}),"Ensure good lighting"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-purple-500 to-pink-600 rounded-full"}),"Neutral expression"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-pink-500 to-rose-600 rounded-full"}),"No accessories (glasses/hats)"]})]})})]})})]}),e.jsxs("div",{className:"flex flex-col-reverse sm:flex-row items-center justify-end gap-4 pt-4",children:[e.jsxs("button",{type:"button",onClick:()=>s("/memberships"),className:"w-full sm:w-auto px-8 py-4 bg-white border-2 border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 hover:border-gray-400 hover:shadow-lg transition-all duration-300 flex items-center justify-center gap-2",children:[e.jsx(Yr,{size:18}),"Cancel"]}),e.jsxs("button",{type:"submit",disabled:l,className:"group w-full sm:w-auto px-8 py-4 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl font-semibold shadow-lg hover:shadow-xl hover:shadow-indigo-500/50 hover:scale-105 hover:-translate-y-1 transition-all duration-300 flex items-center justify-center gap-2",children:[l?e.jsx(dl,{size:18,className:"animate-spin"}):e.jsx(xa,{size:18,className:"transition-transform duration-300 group-hover:rotate-12"}),a?"Update Membership":"Save Membership"]})]})]})]})},l9=[{id:"gym_access",name:"Gym Access",icon:"Dumbbell",description:"Unlimited access to gym floor and equipment.",type:"recurring",limit:"Unlimited"},{id:"personal_trainer",name:"Personal Trainer",icon:"User",description:"One-on-one sessions with a certified trainer.",type:"recurring",limit:4},{id:"group_classes",name:"Group Classes",icon:"Users",description:"Access to yoga, zumba, and spin classes.",type:"recurring",limit:8},{id:"diet_plan",name:"Diet Consultation",icon:"Utensils",description:"Monthly diet plan review with nutritionist.",type:"recurring",limit:1},{id:"locker",name:"Private Locker",icon:"Lock",description:"Dedicated locker for personal belongings.",type:"global",limit:1},{id:"sauna",name:"Sauna Access",icon:"Thermometer",description:"Post-workout relaxation in sauna.",type:"recurring",limit:2}],n9=()=>{const s=l9.map(t=>t.id);return e.jsxs("div",{className:"fade-in",children:[e.jsx("h2",{className:"text-title",style:{marginBottom:"var(--space-4)"},children:"Membership Benefits"}),e.jsx("div",{style:{marginBottom:"var(--space-4)",color:"var(--muted)",maxWidth:"600px"},children:"These are the standardized benefits available across various membership plans. Configure them when creating new plans or assigning memberships."}),e.jsx(is,{children:e.jsx(xN,{benefitIds:s,layout:"grid"})})]})},lf={Dumbbell:Vr,User:lt,Users:Pt,Utensils:zd,Lock:Os,Thermometer:j7,Zap:ua,Droplets:Ow,Activity:It,Clock:Ze,Calendar:Xe},i9=()=>{const[s,t]=b.useState([]),[a,l]=b.useState(!1),[i,o]=b.useState(null),[c,u]=b.useState(!0),[x,h]=b.useState(null),[p,f]=b.useState({name:"",status:"Active",gender:"UNISEX",icon:"Dumbbell",description:""}),y=async()=>{try{u(!0);const[T,O]=await Promise.all([Jn.getAll(),CD().catch(()=>null)]);t(T),h(O)}catch{Ve.error("Failed to load configuration")}finally{u(!1)}};b.useEffect(()=>{y()},[]);const g=T=>{o(T),f({name:T.name,status:T.status,gender:T.gender,icon:T.icon||"Dumbbell",description:T.description||""}),l(!0)},v=async T=>{if(window.confirm("Are you sure you want to delete this benefit? This might affect existing membership plans."))try{await Jn.delete(T),Ve.success("Benefit removed"),y()}catch(O){Ve.error(O)}},C=async T=>{T.preventDefault();try{i?(await Jn.update(i.id,p),Ve.success("Benefit updated")):(await Jn.create(p),Ve.success("Benefit established")),l(!1),y()}catch(O){Ve.error(O)}},N=()=>{o(null),f({name:"",status:"Active",gender:"UNISEX",icon:"Dumbbell",description:""}),l(!0)},k=x?.plan?.limits?.amenities||{value:"Unlimited",isUnlimited:!0},A=s.length,E=k.isUnlimited?"":k.value,w=!k.isUnlimited&&A>=parseInt(k.value),R=x?.plan?.benefits||[];return c?e.jsx("div",{className:"h-96 flex items-center justify-center",children:e.jsx(Tr,{className:"animate-spin text-indigo-600",size:48})}):e.jsxs("div",{className:"space-y-6 fade-in p-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-black text-gray-900 tracking-tight",children:"Benefits Configuration"}),e.jsx("p",{className:"text-gray-500 font-bold mt-1",children:"Define standard benefits for membership tiers."})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"hidden lg:flex flex-col items-end mr-6",children:[e.jsxs("span",{className:"text-[10px] font-black text-indigo-600 uppercase tracking-widest flex items-center gap-1",children:[e.jsx(Cm,{size:12})," SaaS Sync Active"]}),e.jsxs("span",{className:"text-[10px] font-black text-slate-900 uppercase",children:["Quota: ",e.jsxs("span",{className:w?"text-red-500":"text-indigo-600",children:[A," / ",E]})]})]}),e.jsxs(Ft,{variant:"primary",onClick:N,disabled:w&&!i,className:"px-6 py-3 rounded-xl shadow-lg shadow-indigo-200",children:[e.jsx(wt,{size:20,className:"mr-2"}),"Create New Benefit"]})]})]}),w&&e.jsxs("div",{className:"bg-amber-50 border border-amber-200 p-4 rounded-2xl flex items-center gap-3 text-amber-700",children:[e.jsx(ms,{size:20}),e.jsx("p",{className:"text-sm font-bold",children:"You have reached your SaaS plan limit for benefits. Upgrade your subscription to add more."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.map(T=>{const O=lf[T.icon]||Vr;return e.jsxs("div",{className:"bg-white p-6 rounded-[24px] shadow-xl shadow-gray-100/50 border border-gray-50 hover:border-indigo-100 transition-all group relative overflow-hidden",children:[e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-indigo-50 text-indigo-600 rounded-2xl flex items-center justify-center group-hover:scale-110 transition-transform",children:e.jsx(O,{size:24,strokeWidth:2.5})}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity flex gap-2",children:[e.jsx("button",{onClick:()=>g(T),className:"p-2 hover:bg-gray-100 rounded-lg text-gray-500 hover:text-indigo-600",children:e.jsx(Ra,{size:16})}),e.jsx("button",{onClick:()=>v(T.id),className:"p-2 hover:bg-red-50 rounded-lg text-gray-500 hover:text-red-500",children:e.jsx(xs,{size:16})})]})})]}),e.jsx("h3",{className:"text-xl font-black text-gray-900 mb-1",children:T.name}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-1 h-3 bg-indigo-500 rounded-full"}),e.jsx("span",{className:"text-[10px] font-black text-indigo-500 uppercase tracking-widest",children:T.gender})]}),T.status==="Active"?e.jsx("span",{className:"text-[10px] font-black text-emerald-500 uppercase tracking-widest bg-emerald-50 px-2 py-0.5 rounded-md",children:"Live"}):e.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest bg-slate-50 px-2 py-0.5 rounded-md",children:"Paused"})]}),e.jsxs("p",{className:"text-gray-500 text-sm font-medium mb-4 min-h-[40px] italic line-clamp-2",children:['"',T.description||"No description provided.",'"']}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-50",children:[e.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase",children:["Established ",new Date(T.createdAt).toLocaleDateString()]}),e.jsx("div",{className:"p-1 px-2 bg-slate-900 rounded-lg text-[8px] font-black text-white uppercase tracking-tighter",children:"Active Profile"})]})]}),e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gray-50/50 rounded-full -mr-16 -mt-16 group-hover:bg-indigo-50/50 transition-colors pointer-events-none"})]},T.id)}),s.length===0&&e.jsxs("div",{className:"col-span-full py-20 text-center bg-white rounded-[32px] border-2 border-dashed border-gray-100",children:[e.jsx("div",{className:"w-20 h-20 bg-indigo-50 text-indigo-600 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Gr,{size:40})}),e.jsx("h3",{className:"text-xl font-black text-gray-900",children:"No Benefits Established"}),e.jsx("p",{className:"text-gray-500 font-bold mt-2",children:"Start by creating your first member perk or amenity."}),e.jsx(Ft,{variant:"primary",onClick:N,className:"mt-6",children:"Establish First Benefit"})]})]}),a&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:e.jsxs("div",{className:"bg-white rounded-[32px] w-full max-w-lg shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-100 bg-gray-50/50 overflow-hidden relative",children:e.jsxs("div",{className:"relative z-10 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-black text-gray-900",children:i?"Refine Benefit":"Establish Benefit"}),e.jsxs("p",{className:"text-[10px] font-bold text-indigo-600 uppercase tracking-widest flex items-center gap-1 mt-1",children:[e.jsx(Gr,{size:12})," Managed by SaaS Subscription"]})]}),e.jsx("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-gray-600 bg-white p-2 rounded-xl shadow-sm border border-gray-100",children:e.jsx(Yr,{size:20})})]})}),e.jsxs("form",{onSubmit:C,className:"p-6 space-y-5",children:[!i&&R.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-gray-400 ml-1",children:"Included in your Plan"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:R.map(T=>e.jsx("button",{type:"button",onClick:()=>f({...p,name:T.name,description:T.description||""}),className:`px-3 py-1.5 rounded-lg text-[10px] font-black uppercase tracking-wider border-2 transition-all ${p.name===T.name?"bg-indigo-600 border-indigo-600 text-white":"bg-white border-gray-100 text-gray-500 hover:border-indigo-200"}`,children:T.name},T.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-gray-400 mb-2 ml-1",children:"Benefit Designation"}),e.jsx(Mi,{className:"w-full h-14 bg-gray-50 border-transparent focus:bg-white transition-all font-black text-lg placeholder:text-gray-300",placeholder:"e.g. Steam Room Access",value:p.name,onChange:T=>f({...p,name:T.target.value}),required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-gray-400 mb-2 ml-1",children:"Gender Restriction"}),e.jsxs("select",{className:"w-full h-12 px-4 rounded-xl bg-gray-50 border-transparent focus:bg-white ring-2 ring-transparent focus:ring-indigo-100 outline-none font-bold text-sm appearance-none",value:p.gender,onChange:T=>f({...p,gender:T.target.value}),children:[e.jsx("option",{value:"UNISEX",children:"Unisex / All"}),e.jsx("option",{value:"MALE",children:"Male Only"}),e.jsx("option",{value:"FEMALE",children:"Female Only"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-gray-400 mb-2 ml-1",children:"Status"}),e.jsxs("select",{className:"w-full h-12 px-4 rounded-xl bg-gray-50 border-transparent focus:bg-white ring-2 ring-transparent focus:ring-indigo-100 outline-none font-bold text-sm appearance-none",value:p.status,onChange:T=>f({...p,status:T.target.value}),children:[e.jsx("option",{value:"Active",children:"Active / Live"}),e.jsx("option",{value:"Inactive",children:"Paused / Hidden"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-gray-400 mb-2 ml-1",children:"Visual Identity (Icon)"}),e.jsx("div",{className:"grid grid-cols-6 gap-2",children:Object.keys(lf).map(T=>{const O=lf[T];return e.jsx("button",{type:"button",onClick:()=>f({...p,icon:T}),className:`p-3 rounded-xl flex items-center justify-center transition-all ${p.icon===T?"bg-indigo-600 text-white shadow-lg shadow-indigo-200 scale-110":"bg-gray-50 text-gray-400 hover:bg-gray-100"}`,children:e.jsx(O,{size:18})},T)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-gray-400 mb-2 ml-1",children:"Detailed Description"}),e.jsx("textarea",{className:"w-full p-4 rounded-xl bg-gray-50 border-transparent focus:bg-white ring-2 ring-transparent focus:ring-indigo-100 outline-none font-medium text-sm transition-all resize-none h-24",placeholder:"Brief description of the benefit...",value:p.description,onChange:T=>f({...p,description:T.target.value})})]}),e.jsxs("div",{className:"pt-4 flex gap-3",children:[e.jsx(Ft,{type:"button",variant:"outline",onClick:()=>l(!1),className:"flex-1 py-4 rounded-xl font-black uppercase tracking-widest text-xs",children:"Discard"}),e.jsx(Ft,{type:"submit",variant:"primary",className:"flex-1 py-4 rounded-xl shadow-lg shadow-indigo-200 font-black uppercase tracking-widest text-xs",children:"Commit Benefit"})]})]})]})})]})},o9=[{id:1,memberName:"Sarah Williams",memberId:"M-104",plan:"Platinum Annual",duration:"1 Month",reason:"Traveling for business",requestedOn:"2025-02-04"},{id:2,memberName:"Mike Johnson",memberId:"M-103",plan:"Bronze Quarterly",duration:"2 Months",reason:"Medical injury (sprained ankle)",requestedOn:"2025-02-05"},{id:3,memberName:"Emily Davis",memberId:"M-108",plan:"Gold Annual",duration:"3 Months",reason:"Personal reasons",requestedOn:"2025-02-01"}],c9=()=>{const[s,t]=b.useState(o9),a=(l,i)=>{window.confirm(`Are you sure you want to ${i} this request?`)&&(t(o=>o.filter(c=>c.id!==l)),alert(`Request ${i==="approve"?"Approved":"Rejected"} successfully.`))};return e.jsxs("div",{className:"fade-in space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-black text-gray-900 tracking-tight",children:"Freeze Requests"}),e.jsx("p",{className:"text-gray-500 font-bold mt-1",children:"Manage member membership freeze approvals."})]}),e.jsxs("div",{className:"bg-orange-50 text-orange-600 px-4 py-2 rounded-xl text-sm font-bold flex items-center gap-2",children:[e.jsx(Ze,{size:18}),"Pending: ",s.length]})]}),e.jsx("div",{className:"grid gap-4",children:s.length===0?e.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-2xl border-2 border-dashed border-gray-200",children:[e.jsx(rm,{className:"mx-auto h-12 w-12 text-gray-300 mb-3"}),e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"No Pending Requests"}),e.jsx("p",{className:"text-gray-500",children:"All freeze requests have been processed."})]}):s.map(l=>e.jsx(is,{className:"hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4 items-start md:items-center",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center text-gray-500",children:e.jsx(lt,{size:24})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"font-bold text-lg text-gray-900",children:l.memberName}),e.jsx("span",{className:"text-xs font-mono bg-gray-100 px-2 py-0.5 rounded text-gray-600",children:l.memberId})]}),e.jsxs("div",{className:"flex gap-4 text-sm text-gray-500 font-medium",children:[e.jsx("span",{children:l.plan}),e.jsx("span",{children:""}),e.jsxs("span",{className:"text-orange-600 bg-orange-50 px-2 rounded-md",children:["Requesting: ",l.duration]})]}),e.jsxs("div",{className:"mt-2 text-sm bg-gray-50 p-2 rounded-lg border border-gray-100 max-w-xl text-gray-700",children:[e.jsx("span",{className:"font-bold text-gray-400 text-xs uppercase tracking-wide mr-2",children:"Reason:"}),l.reason]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 w-full md:w-auto mt-2 md:mt-0",children:[e.jsxs("div",{className:"text-right mr-4 hidden md:block",children:[e.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase",children:"Requested On"}),e.jsx("div",{className:"text-sm font-bold text-gray-900",children:l.requestedOn})]}),e.jsxs(Ft,{onClick:()=>a(l.id,"reject"),className:"flex-1 md:flex-none border-red-200 text-red-600 hover:bg-red-50 hover:border-red-300",variant:"outline",children:[e.jsx(Yr,{size:18,className:"mr-2"})," Reject"]}),e.jsxs(Ft,{onClick:()=>a(l.id,"approve"),className:"flex-1 md:flex-none bg-emerald-500 hover:bg-emerald-600 shadow-emerald-200 shadow-lg border-transparent",variant:"primary",children:[e.jsx(wr,{size:18,className:"mr-2"})," Approve"]})]})]})},l.id))})]})},d9=({isOpen:s,onClose:t,onSave:a,initialData:l})=>{const[i,o]=b.useState({name:"",price:"",duration:"",durationType:"Months",description:"",benefits:[]}),[c,u]=b.useState([]);b.useEffect(()=>{s&&((async()=>{try{const y=await Jn.getAll();u(y)}catch(y){console.error("Failed to fetch amenities:",y)}})(),o(l||{name:"",price:"",duration:"",durationType:"Months",description:"",creditsPerBooking:1,maxBookingsPerDay:1,maxBookingsPerWeek:7,cancellationWindow:4,benefits:[]}))},[s,l]);const x=f=>{o(y=>y.benefits.find(v=>v.id===f)?{...y,benefits:y.benefits.filter(v=>v.id!==f)}:{...y,benefits:[...y.benefits,{id:f,limit:"Unlimited"}]})},h=(f,y)=>{o(g=>({...g,benefits:g.benefits.map(v=>v.id===f?{...v,limit:y}:v)}))},p=f=>{f.preventDefault(),a(i),t()};return e.jsx(rt,{isOpen:s,onClose:t,title:l?"Edit Membership Plan":"Create Membership Plan",subtitle:"Configure plan details and benefits",maxWidth:"max-w-2xl",footer:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(Ft,{type:"button",variant:"outline",onClick:t,className:"flex-1 py-3 rounded-xl",children:"Cancel"}),e.jsxs(Ft,{type:"submit",form:"membership-plan-form",variant:"primary",className:"flex-1 py-3 rounded-xl shadow-lg shadow-indigo-200",children:[e.jsx(xa,{size:18,className:"mr-2"}),"Save Plan"]})]}),children:e.jsxs("form",{id:"membership-plan-form",onSubmit:p,className:"p-6 space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide border-b border-gray-100 pb-2",children:"Plan Details"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2",children:"Plan Name"}),e.jsx(Mi,{value:i.name,onChange:f=>o({...i,name:f.target.value}),placeholder:"e.g. Gold Annual",className:"font-bold",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2",children:"Price ()"}),e.jsx(Mi,{type:"number",value:i.price,onChange:f=>o({...i,price:f.target.value}),placeholder:"e.g. 19999",className:"font-bold",required:!0})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2",children:"Duration"}),e.jsx(Mi,{type:"number",value:i.duration,onChange:f=>o({...i,duration:f.target.value}),placeholder:"e.g. 12",className:"font-bold",required:!0})]}),e.jsxs("div",{className:"w-1/3",children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2",children:"Unit"}),e.jsxs("select",{className:"w-full h-12 bg-gray-50 border-transparent rounded-xl text-sm font-bold focus:bg-white focus:ring-2 focus:ring-indigo-100 outline-none",value:i.durationType,onChange:f=>o({...i,durationType:f.target.value}),children:[e.jsx("option",{children:"Months"}),e.jsx("option",{children:"Days"}),e.jsx("option",{children:"Years"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2",children:"Description"}),e.jsx("textarea",{className:"w-full p-4 bg-gray-50 border-transparent rounded-xl text-sm font-medium focus:bg-white focus:ring-2 focus:ring-indigo-100 outline-none resize-none h-24 transition-all",placeholder:"What does this plan include?",value:i.description,onChange:f=>o({...i,description:f.target.value})})]})]}),e.jsxs("div",{className:"space-y-4 pt-4",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide border-b border-gray-100 pb-2",children:"Booking & Consumption"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2",children:"Credits / Booking"}),e.jsx(Mi,{type:"number",value:i.creditsPerBooking,onChange:f=>o({...i,creditsPerBooking:f.target.value}),className:"font-bold"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2",children:"Cancellation Window (Hrs)"}),e.jsx(Mi,{type:"number",value:i.cancellationWindow,onChange:f=>o({...i,cancellationWindow:f.target.value}),className:"font-bold"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2",children:"Max Bookings / Day"}),e.jsx(Mi,{type:"number",value:i.maxBookingsPerDay,onChange:f=>o({...i,maxBookingsPerDay:f.target.value}),className:"font-bold"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2",children:"Max Bookings / Week"}),e.jsx(Mi,{type:"number",value:i.maxBookingsPerWeek,onChange:f=>o({...i,maxBookingsPerWeek:f.target.value}),className:"font-bold"})]})]})]}),e.jsxs("div",{className:"space-y-4 pt-4",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-gray-100 pb-2",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide",children:"Included Benefits"}),e.jsxs("span",{className:"text-xs font-bold text-indigo-600 bg-indigo-50 px-2 py-1 rounded-md",children:[i.benefits?.length||0," Selected"]})]}),e.jsxs("div",{className:"space-y-3",children:[c.map(f=>{const y=i.benefits?.find(g=>g.id===f.id);return e.jsx("div",{className:`p-4 rounded-xl border-2 transition-all ${y?"border-indigo-500 bg-indigo-50/10":"border-gray-100 bg-white hover:border-indigo-200"}`,children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{onClick:()=>x(f.id),className:`mt-1 w-5 h-5 rounded-md border-2 flex items-center justify-center cursor-pointer transition-colors ${y?"bg-indigo-500 border-indigo-500":"border-gray-300"}`,children:y&&e.jsx(wr,{size:14,className:"text-white",strokeWidth:3})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-col justify-between items-start gap-1",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900",children:f.name}),e.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:f.description||"Facility access"})]}),f.gender&&f.gender!=="UNISEX"&&e.jsxs("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-widest ${f.gender==="MALE"?"bg-blue-100 text-blue-700":"bg-pink-100 text-pink-700"}`,children:[f.gender," ONLY"]})]}),y&&e.jsx("div",{className:"mt-3 flex items-center gap-3 animate-in fade-in slide-in-from-top-1",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wider block mb-1",children:"Usage Limit (Total)"}),e.jsx("input",{type:"text",className:"w-full h-9 px-3 bg-white border border-indigo-200 rounded-lg text-sm font-bold text-indigo-700 outline-none focus:ring-2 focus:ring-indigo-100",value:y.limit,onChange:g=>h(f.id,g.target.value),placeholder:"e.g. 5 or Unlimited"})]})})]})]})},f.id)}),c.length===0&&e.jsx("div",{className:"text-center py-6 bg-gray-50 rounded-xl border-2 border-dashed border-gray-200",children:e.jsx("p",{className:"text-gray-500 text-sm",children:"No amenities found. Please add them in Settings first."})})]})]})]})})},u9=()=>{const s=Ht(),[t,a]=b.useState([]),[l,i]=b.useState([]),[o,c]=b.useState(!1),[u,x]=b.useState(!1),[h,p]=b.useState(null),[f,y]=b.useState(""),[g,v]=b.useState("grid"),C=kn.useMemo(()=>{const T={};return l.forEach(O=>{T[O.id]=O.name}),T},[l]),N=async()=>{try{c(!0);const[T,O]=await Promise.all([Wr.getPlans(),Jn.getAll()]);a(T),i(O)}catch{Ve.error("Failed to fetch data")}finally{c(!1)}};kn.useEffect(()=>{N()},[]);const k=async T=>{try{h?(await Wr.updatePlan(h.id,T),Ve.success("Plan updated successfully")):(await Wr.createPlan(T),Ve.success("Plan created successfully")),N()}catch(O){Ve.error(O.response?.data?.message||"Operation failed")}},A=T=>{p(T),x(!0)},E=async T=>{if(window.confirm("Are you sure you want to delete this plan?"))try{await Wr.deletePlan(T),Ve.success("Plan deleted successfully"),N()}catch{Ve.error("Failed to delete plan")}},w=()=>{p(null),x(!0)},R=t.filter(T=>T.name.toLowerCase().includes(f.toLowerCase()));return e.jsxs("div",{className:"p-6 pb-20 animate-in fade-in space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-black text-gray-900 tracking-tight flex items-center gap-2",children:[e.jsx(wC,{className:"text-yellow-500 fill-yellow-500"}),"Membership Plans"]}),e.jsx("p",{className:"text-gray-500 font-medium mt-1",children:"Configure plan tiers, pricing, and benefits."})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto",children:[e.jsxs("button",{onClick:()=>s("/memberships/benefits-config"),className:"px-6 py-3 bg-white text-indigo-600 border-2 border-indigo-100 rounded-xl font-bold hover:bg-indigo-50 transition-all flex items-center justify-center gap-2",children:[e.jsx(co,{size:20}),"Configure Benefits"]}),e.jsxs("button",{onClick:w,className:"px-6 py-3 bg-indigo-600 text-white rounded-xl font-bold shadow-lg shadow-indigo-200 hover:bg-indigo-700 hover:scale-105 transition-all flex items-center justify-center gap-2",children:[e.jsx(wt,{size:20,strokeWidth:3}),"Create New Plan"]})]})]}),e.jsxs("div",{className:"flex items-center gap-4 bg-white p-4 rounded-2xl shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(st,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{type:"text",placeholder:"Search plans...",className:"w-full pl-11 pr-4 py-3 bg-gray-50 border-transparent rounded-xl font-medium focus:bg-white focus:ring-2 focus:ring-indigo-100 outline-none transition-all",value:f,onChange:T=>y(T.target.value)})]}),e.jsxs("div",{className:"flex items-center gap-1 bg-gray-50 p-1 rounded-xl",children:[e.jsx("button",{onClick:()=>v("grid"),className:`p-2 rounded-lg transition-all ${g==="grid"?"bg-white shadow text-indigo-600":"text-gray-400 hover:text-gray-600"}`,children:e.jsx(Uw,{size:20})}),e.jsx("button",{onClick:()=>v("list"),className:`p-2 rounded-lg transition-all ${g==="list"?"bg-white shadow text-indigo-600":"text-gray-400 hover:text-gray-600"}`,children:e.jsx(nA,{size:20})})]})]}),e.jsx("div",{className:`grid ${g==="grid"?"grid-cols-1 md:grid-cols-2 xl:grid-cols-3":"grid-cols-1"} gap-6`,children:R.map(T=>e.jsxs("div",{className:"group relative bg-white rounded-[32px] p-8 shadow-xl shadow-gray-100/50 border border-gray-100 min-h-[500px] flex flex-col hover:border-indigo-100 transition-all hover:-translate-y-1",children:[e.jsxs("div",{className:"absolute top-6 right-6 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:()=>A(T),className:"p-2 hover:bg-indigo-50 text-gray-400 hover:text-indigo-600 rounded-lg transition-colors",children:e.jsx(Ra,{size:16})}),e.jsx("button",{onClick:()=>E(T.id),className:"p-2 hover:bg-red-50 text-gray-400 hover:text-red-600 rounded-lg transition-colors",children:e.jsx(xs,{size:16})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-2xl font-black text-gray-900 mb-2",children:T.name}),e.jsxs("div",{className:"flex items-baseline gap-1",children:[e.jsxs("span",{className:"text-4xl font-black text-indigo-600 tracking-tight",children:["",T.price]}),e.jsxs("span",{className:"text-sm font-bold text-gray-400",children:["/ ",T.duration," ",T.durationType]})]}),e.jsx("p",{className:"text-gray-500 font-medium mt-3 text-sm leading-relaxed",children:T.description})]}),e.jsxs("div",{className:"space-y-3 pt-6 border-t border-gray-100",children:[e.jsxs("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider flex items-center gap-2",children:[e.jsx(Gr,{size:12,className:"text-yellow-500"}),"Booking Rules"]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("span",{className:"px-3 py-1.5 bg-violet-50 text-violet-700 rounded-lg text-xs font-bold border border-violet-100 italic",children:[T.creditsPerBooking," Credit / Booking"]}),e.jsxs("span",{className:"px-3 py-1.5 bg-blue-50 text-blue-700 rounded-lg text-xs font-bold border border-blue-100",children:["Max ",T.maxBookingsPerDay,"/day  ",T.maxBookingsPerWeek,"/week"]}),e.jsxs("span",{className:"px-3 py-1.5 bg-rose-50 text-rose-700 rounded-lg text-xs font-bold border border-rose-100",children:[T.cancellationWindow,"h Cancellation"]})]})]}),e.jsxs("div",{className:"space-y-3 pt-6 border-t border-gray-100",children:[e.jsxs("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider flex items-center gap-2",children:[e.jsx(Gr,{size:12,className:"text-yellow-500"}),T.benefits?.length," Included Benefits"]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[T.benefits?.slice(0,3).map((O,W)=>e.jsxs("span",{className:"px-3 py-1.5 bg-indigo-50 text-indigo-700 rounded-lg text-xs font-bold border border-indigo-100",children:[O.limit==="Unlimited"?"":O.limit," ",C[O.id]||String(O.id||"benefit").replace(/_/g," ")]},W)),T.benefits?.length>3&&e.jsxs("span",{className:"px-3 py-1.5 bg-gray-50 text-gray-500 rounded-lg text-xs font-bold border border-gray-100",children:["+",T.benefits.length-3," more"]},3)]})]}),e.jsx("div",{className:"mt-auto pt-8",children:e.jsx("button",{onClick:()=>A(T),className:"w-full py-3 bg-gray-900 text-white rounded-xl font-bold hover:bg-gray-800 transition-all shadow-lg active:scale-95",children:"Edit Plan Details"})})]},T.id))}),e.jsx(d9,{isOpen:u,onClose:()=>x(!1),onSave:k,initialData:h})]})},x9=async()=>(await ve.get("/admin/profile")).data,h9=async s=>(await ve.patch("/admin/profile",s)).data,m9=async s=>(await ve.post("/admin/change-password",s)).data,iu=async()=>(await ve.get("/admin/settings/tenant")).data,Jg=async s=>(await ve.patch("/admin/settings/tenant",s)).data,Qg=async({filters:s={},page:t=1,limit:a=5}={})=>{const l={page:t,limit:a,search:s.search,status:s.status},i=await ve.get("/admin/members",{params:l});return{data:i.data,total:i.data.length}},p9=async s=>(await ve.post("/admin/members",s)).data,f9=async(s,t)=>(await ve.patch(`/admin/members/${s}`,t)).data,g9=async s=>(await ve.delete(`/admin/members/${s}`)).data,b9=async s=>(await ve.patch(`/admin/members/${s}/toggle-status`)).data,v9=async(s,t)=>{const a={start:s,end:t};return(await ve.get("/admin/bookings/range",{params:a})).data},hN=async s=>(await ve.post("/admin/bookings",s)).data,Zg=async({filters:s={},page:t=1,limit:a=5}={})=>{const l={page:t,limit:a,...s};return(await ve.get("/admin/attendance",{params:l})).data},y9=async()=>(await ve.get("/admin/attendance/stats")).data,j9=async({filters:s={},page:t=1,limit:a=5}={})=>{const l={page:t,limit:a,...s};return(await ve.get("/admin/tasks",{params:l})).data},w9=async(s,t)=>(await ve.patch(`/admin/tasks/${s}/status`,{status:t})).data,N9=async(s,t)=>(await ve.patch(`/admin/tasks/${s}`,t)).data,k9=async s=>(await ve.post("/admin/tasks",s)).data,S9=async s=>(await ve.delete(`/admin/tasks/${s}`)).data,C9=async({type:s="expiring",search:t=""}={})=>{const a={type:s,search:t};return(await ve.get("/admin/members/renewal-alerts",{params:a})).data},A9=async s=>(await ve.post("/admin/members/renewal/renew",s)).data,Dm=async()=>(await ve.get("/admin/staff")).data,D9=async()=>(await ve.get("/admin/plans")).data,L9=async()=>(await ve.get("/admin/classes")).data,E9=async()=>(await ve.get("/admin/communication/announcements")).data,M9=async s=>(await ve.post("/admin/communication/announcements",s)).data,mN=async()=>(await ve.get("/admin/communication/chats")).data,pN=async s=>(await ve.get(`/admin/communication/chats/${s}/messages`)).data,fN=async(s,t,a)=>await ve.post(`/admin/communication/chats/${s||"new"}/send`,{text:t,conversationId:s,receiverId:a}),z9=async()=>(await ve.get("/admin/communication/chat-users")).data,T9=({isOpen:s,onClose:t,member:a})=>{const[l,i]=b.useState([]),[o,c]=b.useState(""),[u,x]=b.useState(1),[h,p]=b.useState(""),[f,y]=b.useState(!1),[g,v]=b.useState(!1);b.useEffect(()=>{s&&((async()=>{try{const R=await D9();if(i(R),R.length>0&&a){const T=R.find(O=>O.name===a.planName);c(T?.id||R[0].id)}}catch(R){console.error("Failed to load plans:",R)}})(),C(u))},[s,a]);const C=w=>{const R=new Date,T=new Date(R.setMonth(R.getMonth()+parseInt(w)));p(T.toISOString().split("T")[0])},N=w=>{const R=w.target.value;x(R),C(R)},k=async()=>{if(!o)return Ve.error("Please select a plan");y(!0);try{await A9({memberId:a.id,planId:o,duration:u}),v(!0),Ve.success("Membership renewed successfully!"),setTimeout(()=>{v(!1),t()},2e3)}catch(w){console.error("Renewal failed:",w),Ve.error(w.response?.data?.message||"Renewal failed")}finally{y(!1)}},A=l.find(w=>w.id===o),E=e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:t,className:"flex-1 py-4 bg-slate-50 text-slate-400 rounded-2xl font-black uppercase tracking-widest hover:bg-slate-100 hover:text-slate-600 transition-all border border-slate-100",children:"Cancel"}),e.jsx("button",{onClick:k,disabled:f,className:"flex-[2] py-4 bg-gradient-to-r from-amber-500 to-rose-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl shadow-amber-200 hover:shadow-amber-300 hover:scale-[1.02] active:scale-95 transition-all flex items-center justify-center gap-2",children:f?e.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):e.jsxs(e.Fragment,{children:["Confirm Renewal ",e.jsx(bs,{size:18})]})})]});return g?e.jsx(rt,{isOpen:s,onClose:t,title:"Success",children:e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[e.jsx("div",{className:"w-24 h-24 bg-green-50 rounded-full flex items-center justify-center text-green-500 mb-6 animate-bounce",children:e.jsx(Zt,{size:48})}),e.jsx("h3",{className:"text-2xl font-black text-slate-800 mb-2",children:"Membership Renewed!"}),e.jsx("p",{className:"text-slate-500 font-medium",children:"Member has been updated and moved to active status."})]})}):e.jsx(rt,{isOpen:s,onClose:t,title:"Renew Membership",subtitle:"Subscription Extension",footer:E,children:e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"p-6 rounded-3xl bg-slate-50 border border-slate-100 flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-white shadow-sm flex items-center justify-center text-violet-500",children:e.jsx(lt,{size:28})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-1",children:"Renewing For"}),e.jsx("h4",{className:"text-xl font-black text-slate-800 leading-none",children:a?.memberName})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-1",children:"Select New Plan"}),e.jsx("div",{className:"grid grid-cols-1 gap-3",children:l.map(w=>e.jsxs("button",{onClick:()=>c(w.id),className:`p-4 rounded-2xl border-2 transition-all flex items-center justify-between group ${o===w.id?"border-violet-500 bg-violet-50/50 shadow-lg shadow-violet-100":"border-slate-100 bg-white hover:border-violet-200"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg transition-colors ${o===w.id?"bg-violet-500 text-white":"bg-slate-50 text-slate-400 group-hover:bg-violet-100 group-hover:text-violet-500"}`,children:e.jsx(Cn,{size:18})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:`text-sm font-black ${o===w.id?"text-violet-700":"text-slate-700"}`,children:w.name}),e.jsxs("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:["Base Rate: $",w.price]})]})]}),e.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center transition-all ${o===w.id?"border-violet-500 bg-violet-500":"border-slate-200"}`,children:o===w.id&&e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-white animate-scale-in"})})]},w.id))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-1",children:"Duration (Months)"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ze,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("select",{className:"w-full pl-11 pr-4 h-14 rounded-2xl border-2 border-slate-100 focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 font-bold text-slate-700 bg-slate-50/50 transition-all appearance-none",value:u,onChange:N,children:[1,3,6,12].map(w=>e.jsxs("option",{value:w,children:[w," ",w===1?"Month":"Months"]},w))})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-1",children:"New Expiry Date"}),e.jsxs("div",{className:"h-14 flex items-center gap-3 px-4 rounded-2xl bg-amber-50 border-2 border-amber-100 text-amber-700 font-black text-sm",children:[e.jsx(Xe,{size:18}),h]})]})]}),A&&e.jsxs("div",{className:"p-6 rounded-3xl bg-violet-900 text-white shadow-xl shadow-violet-200 relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10 group-hover:scale-125 transition-transform duration-700",children:e.jsx(ua,{size:120,strokeWidth:1})}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("h5",{className:"text-[10px] font-black uppercase tracking-[0.2em] mb-4 opacity-60",children:"Revenue Summary"}),e.jsxs("div",{className:"flex justify-between items-end",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-3xl font-black italic tracking-tighter",children:["$",A.price*u]}),e.jsx("p",{className:"text-[10px] font-bold opacity-70 uppercase tracking-widest mt-1",children:"Total Renewal Payable"})]}),e.jsxs("div",{className:"flex items-center gap-2 bg-white/20 px-3 py-1.5 rounded-xl backdrop-blur-md",children:[e.jsx(Rs,{size:14}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Prepaid"})]})]})]})]})]})})},_9=()=>{const s=Ht(),[t,a]=b.useState("expiring"),[l,i]=b.useState(""),[o,c]=b.useState([]),[u,x]=b.useState(!0),[h,p]=b.useState(null),[f,y]=b.useState(!1),[g,v]=b.useState([]);b.useEffect(()=>{c([]),x(!0);const E=setTimeout(async()=>{try{const[w,R]=await Promise.all([C9({type:t,search:l}),iu().catch(()=>({messageTemplates:[]}))]);c(w),R&&R.messageTemplates&&v(R.messageTemplates)}catch(w){console.error("Failed to load renewal alerts or settings:",w),Ve.error("Failed to load data")}finally{x(!1)}},300);return()=>clearTimeout(E)},[t,l]);const C=A=>{if(!A||A==="N/A")return 0;const E=new Date;E.setHours(0,0,0,0);const R=new Date(A)-E;return Math.ceil(R/(1e3*60*60*24))},N=o,k=A=>{p(A),y(!0)};return e.jsxs("div",{className:"min-h-screen bg-slate-50/50 p-4 md:p-8",children:[e.jsxs("div",{className:"max-w-7xl mx-auto mb-8",children:[e.jsxs("button",{onClick:()=>s(-1),className:"flex items-center gap-2 text-slate-400 hover:text-slate-600 transition-colors mb-6 group",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-white shadow-sm flex items-center justify-center group-hover:-translate-x-1 transition-transform",children:e.jsx(Xr,{size:18})}),e.jsx("span",{className:"text-sm font-black uppercase tracking-widest",children:"Back"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6",children:[e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx("div",{className:"w-16 h-16 rounded-3xl bg-gradient-to-br from-amber-500 to-rose-600 flex items-center justify-center text-white shadow-xl shadow-amber-500/20",children:e.jsx(Tr,{size:32,className:"animate-spin-slow"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-black text-slate-900 tracking-tight leading-none mb-2",children:"Renewal Alerts"}),e.jsx("p",{className:"text-slate-500 font-medium italic",children:"Monitor and retain members before they leave."})]})]}),e.jsxs("div",{className:"flex bg-white p-1 rounded-2xl shadow-sm border border-slate-100",children:[e.jsx("button",{onClick:()=>a("expiring"),className:`px-6 py-3 rounded-xl text-xs font-black uppercase tracking-widest transition-all ${t==="expiring"?"bg-amber-500 text-white shadow-lg shadow-amber-500/30":"text-slate-400 hover:text-slate-600"}`,children:"Expiring Soon"}),e.jsx("button",{onClick:()=>a("expired"),className:`px-6 py-3 rounded-xl text-xs font-black uppercase tracking-widest transition-all ${t==="expired"?"bg-rose-600 text-white shadow-lg shadow-rose-600/30":"text-slate-400 hover:text-slate-600"}`,children:"Recently Expired"})]})]})]}),e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"bg-white rounded-[32px] shadow-xl border border-slate-100 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 flex flex-col md:flex-row gap-4 items-center justify-between bg-slate-50/30",children:[e.jsxs("div",{className:"relative w-full md:w-96 group",children:[e.jsx(st,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-amber-500 transition-colors",size:18}),e.jsx("input",{type:"text",className:"pl-11 h-12 w-full rounded-2xl border-2 border-slate-200 focus:ring-4 focus:ring-amber-500/10 focus:border-amber-500 transition-all text-sm font-medium bg-white",placeholder:"Search by name or phone...",value:l,onChange:A=>i(A.target.value)})]}),e.jsx("div",{className:"flex items-center gap-3 w-full md:w-auto",children:e.jsxs("div",{className:"px-5 h-12 flex items-center gap-3 bg-white border-2 border-slate-100 rounded-2xl text-xs font-bold text-slate-500 uppercase tracking-widest",children:[e.jsx(ms,{size:16,className:t==="expiring"?"text-amber-500":"text-rose-500"}),N.length," Members Found"]})})]}),e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"w-full hidden lg:table",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50/50",children:[e.jsx("th",{className:"px-8 py-5 text-left text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Member Info"}),e.jsx("th",{className:"px-8 py-5 text-left text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Plan Details"}),e.jsx("th",{className:"px-8 py-5 text-left text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Expiry Window"}),e.jsx("th",{className:"px-8 py-5 text-right text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Quick Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:u?e.jsx("tr",{children:e.jsxs("td",{colSpan:"4",className:"py-20 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-4 text-violet-500",children:e.jsx(Tr,{size:40,className:"animate-spin"})}),e.jsx("h3",{className:"text-xl font-black text-slate-300 uppercase tracking-widest",children:"Loading data..."})]})}):N.length>0?N.map(A=>e.jsxs("tr",{className:"group hover:bg-slate-50/50 transition-colors",children:[e.jsx("td",{className:"px-8 py-5",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-slate-100 flex items-center justify-center font-black text-slate-400 text-lg group-hover:bg-violet-500 group-hover:text-white transition-all duration-500",children:A.memberName.charAt(0)}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-black text-slate-800 tracking-tight",children:A.memberName}),e.jsx("p",{className:"text-xs font-bold text-slate-400",children:A.phone})]})]})}),e.jsxs("td",{className:"px-8 py-5",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-xl bg-violet-50 text-violet-700 border border-violet-100",children:[e.jsx(Ze,{size:12}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:A.planName})]}),e.jsxs("p",{className:"text-[10px] font-bold text-slate-400 mt-1.5 ml-1",children:["Joined: ",A.joinDate]})]}),e.jsx("td",{className:"px-8 py-5",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${t==="expiring"?"bg-amber-500 animate-pulse":"bg-rose-500"}`}),e.jsx("p",{className:`text-sm font-black ${t==="expiring"?"text-amber-600":"text-rose-600"}`,children:t==="expiring"?`${C(A.endDate)} Days Left`:`Expired ${Math.abs(C(A.endDate))} Days Ago`})]}),e.jsxs("p",{className:"text-[10px] font-bold text-slate-400 uppercase ml-4",children:["Ends: ",A.endDate]})]})}),e.jsx("td",{className:"px-8 py-5",children:e.jsx("div",{className:"flex items-center justify-end gap-2",children:e.jsx("button",{onClick:()=>k(A),className:`px-5 py-2.5 rounded-xl font-black uppercase tracking-widest text-[10px] shadow-lg transition-all hover:scale-105 active:scale-95 ${t==="expiring"?"bg-amber-500 text-white shadow-amber-100 hover:shadow-amber-200":"bg-rose-600 text-white shadow-rose-100 hover:shadow-rose-200"}`,children:"Renew Membership"})})})]},A.id)):e.jsx("tr",{children:e.jsxs("td",{colSpan:"4",className:"py-20 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-4 text-slate-200",children:e.jsx(Tr,{size:40})}),e.jsx("h3",{className:"text-xl font-black text-slate-300 uppercase tracking-widest",children:"No members in this category"})]})})})]}),e.jsx("div",{className:"lg:hidden divide-y divide-slate-100",children:u?e.jsxs("div",{className:"p-10 text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-4 text-violet-500",children:e.jsx(Tr,{size:24,className:"animate-spin"})}),e.jsx("p",{className:"text-sm font-black text-slate-300 uppercase tracking-widest",children:"Loading..."})]}):N.length>0?N.map(A=>e.jsxs("div",{className:"p-6 space-y-5",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center text-white font-black text-lg ${t==="expiring"?"bg-amber-500":"bg-rose-600"}`,children:A.memberName.charAt(0)}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-black text-slate-800 tracking-tight",children:A.memberName}),e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:A.planName})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:`text-sm font-black ${t==="expiring"?"text-amber-600":"text-rose-600"}`,children:t==="expiring"?`${C(A.endDate)}d`:`${Math.abs(C(A.endDate))}d`}),e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase leading-none",children:t==="expiring"?"Left":"Ago"})]})]}),e.jsx("div",{className:"flex gap-2",children:e.jsx("button",{onClick:()=>k(A),className:`w-full h-12 rounded-xl font-black uppercase tracking-widest text-[10px] text-white shadow-xl transition-all active:scale-95 ${t==="expiring"?"bg-amber-500 shadow-amber-100":"bg-rose-600 shadow-rose-100"}`,children:"Renew"})})]},A.id)):e.jsx("div",{className:"p-10 text-center",children:e.jsx("p",{className:"text-sm font-black text-slate-300 uppercase tracking-widest",children:"No records found"})})})]})]})}),e.jsx(T9,{isOpen:f,onClose:()=>y(!1),member:h})]})},P9=async()=>(await ve.get("/admin/classes")).data,Lm=async s=>(await ve.get(`/admin/classes/${s}`)).data,R9=async s=>(await ve.post("/admin/classes",s)).data,gN=async(s,t)=>(await ve.patch(`/admin/classes/${s}`,t)).data,O9=async s=>(await ve.delete(`/admin/classes/${s}`)).data,bN=(s,t,a)=>{const l=(t-1)*a,i=l+a;return{total:s.length,data:s.slice(l,i),totalPages:Math.ceil(s.length/a),currentPage:t}},vN=(s,t)=>!t||Object.keys(t).length===0?s:s.filter(a=>Object.keys(t).every(l=>{const i=t[l];if(i==null||i===""||i==="All")return!0;const o=a[l],c=i.toString().toLowerCase();if(l==="search")return Object.values(a).some(u=>u&&u.toString().toLowerCase().includes(c));if(l==="timeRange"){if(!a.date)return!1;const u=a.date;return i==="Current Month"?u.startsWith("2026-02"):i==="Last Month"?u.startsWith("2026-01"):!0}return o==null?!1:o.toString().toLowerCase()===c})),F9=async()=>{try{return(await ve.get("/trainer/profile")).data}catch(s){throw s.response?.data?.message||"Failed to fetch trainer profile"}},I9=async()=>{try{return(await ve.get("/trainer/earnings")).data}catch(s){throw s.response?.data?.message||"Failed to fetch trainer earnings"}},B9=async s=>{try{return(await ve.get("/trainer/attendance",{params:{date:s}})).data}catch(t){throw t.response?.data?.message||"Failed to fetch trainer attendance"}},U9=async(s={})=>{try{return(await ve.post("/trainer/attendance/check-in",s)).data}catch(t){throw t.response?.data?.message||"Failed to check in/out"}},$9=async s=>{try{return(await ve.post("/trainer/attendance/leave",s)).data}catch(t){throw t.response?.data?.message||"Failed to request leave"}},q9=async()=>{try{return(await ve.get("/trainer/availability")).data}catch(s){throw s.response?.data?.message||"Failed to fetch availability settings"}},nf=async s=>{try{return(await ve.patch("/trainer/availability",s)).data}catch(t){throw t.response?.data?.message||"Failed to update availability settings"}},H9=async s=>{try{return(await ve.delete(`/trainer/availability/time-off/${s}`)).data}catch(t){throw t.response?.data?.message||"Failed to delete time off"}},jy=async s=>{try{return(await ve.patch("/trainer/profile",s)).data}catch(t){throw t.response?.data?.message||"Failed to update trainer profile"}},W9=async s=>{try{return(await ve.post("/trainer/change-password",s)).data}catch(t){throw t.response?.data?.message||"Failed to change password"}},G9=async()=>(await ve.get("/trainer/classes")).data,V9=async s=>(await ve.get(`/trainer/classes/${s}`)).data,yN=async()=>(await ve.get("/trainer/diet-plans")).data,Y9=async s=>(await ve.post("/trainer/diet-plans",s)).data,X9=async(s,t)=>(await ve.patch(`/trainer/diet-plans/${s}`,t)).data,K9=async s=>(await ve.patch(`/trainer/diet-plans/${s}/status`)).data,jN=async()=>(await ve.get("/trainer/workout-plans")).data,J9=async s=>(await ve.post("/trainer/workout-plans",s)).data,Q9=async(s,t)=>(await ve.patch(`/trainer/workout-plans/${s}`,t)).data,Z9=async s=>(await ve.delete(`/trainer/workout-plans/${s}`)).data,Em=async({filters:s={},page:t=1,limit:a=5}={})=>{try{const l=await ve.get("/trainer/members");let i=vN(l.data,s);return bN(i,t,a)}catch(l){throw l.response?.data?.message||"Failed to fetch assigned members"}},eL=async s=>{try{return(await ve.get(`/trainer/members/${s}`)).data}catch(t){throw t.response?.data?.message||"Failed to fetch member details"}},wN=async(s,t)=>(await ve.post(`/trainer/members/${s}/assign-plan`,t)).data,tL=async(s,t)=>{try{return(await ve.patch(`/trainer/members/${s}/flag`,{reason:t})).data}catch(a){throw a.response?.data?.message||"Failed to flag member"}},sL=async s=>{try{return(await ve.get(`/trainer/members/${s}/messages`)).data}catch(t){throw t.response?.data?.message||"Failed to fetch messages"}},aL=async(s,t)=>{try{return(await ve.post(`/trainer/members/${s}/messages`,{content:t})).data}catch(a){throw a.response?.data?.message||"Failed to send message"}},rL=async({filters:s={},page:t=1,limit:a=10}={})=>{try{const l=await ve.get("/trainer/sessions");let i=vN(l.data,s);return bN(i,t,a)}catch(l){throw l.response?.data?.message||"Failed to fetch sessions"}},lL=async s=>{try{return(await ve.post("/trainer/sessions",s)).data}catch(t){throw t.response?.data?.message||"Failed to create session"}},nL=async(s,t)=>{try{return(await ve.patch(`/trainer/sessions/${s}`,t)).data}catch(a){throw a.response?.data?.message||"Failed to update session"}},iL=async s=>{try{return(await ve.delete(`/trainer/sessions/${s}`)).data}catch(t){throw t.response?.data?.message||"Failed to delete session"}},oL=async s=>{try{return(await ve.get(`/trainer/sessions/${s}/roster`)).data}catch(t){throw t.response?.data?.message||"Failed to fetch session roster"}},cL=async(s,t)=>{try{return(await ve.get("/trainer/sessions")).data.filter(l=>{const i=new Date(l.date);return i>=new Date(s)&&i<=new Date(t)})}catch(a){throw a.response?.data?.message||"Failed to fetch sessions by date"}},dL=async(s,t)=>{try{return(await ve.patch(`/trainer/sessions/${s}/status`,{status:t})).data}catch(a){throw a.response?.data?.message||"Failed to update session status"}},uL=async s=>{try{return(await ve.get(`/trainer/members/${s}/payments`)).data}catch(t){throw t.response?.data?.message||"Failed to fetch member payments"}},xL=()=>{const{role:s}=Oi(),t=Ht(),[a,l]=b.useState([]),[i,o]=b.useState(!0),[c,u]=b.useState(""),[x,h]=b.useState("All");b.useEffect(()=>{p()},[]);const p=async()=>{try{o(!0);const y=s==="TRAINER"?await G9():await P9();l(y||[])}catch(y){console.error("Error loading classes:",y)}finally{o(!1)}},f=(a||[]).filter(y=>{const g=y.name?.toLowerCase().includes(c.toLowerCase())||y.trainerName?.toLowerCase().includes(c.toLowerCase()),v=x==="All"||y.status===x;return g&&v});return e.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-white to-violet-50/30 min-h-screen",children:[e.jsxs("div",{className:"mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent mb-2 flex items-center gap-2",children:[e.jsx(Vr,{className:"text-violet-600",size:28}),"Classes Schedule"]}),e.jsx("p",{className:"text-slate-600 text-sm",children:"Manage and organize your fitness classes"})]}),s!=="TRAINER"&&e.jsxs("button",{className:"group relative px-6 py-3 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-xl font-semibold shadow-lg hover:shadow-xl hover:shadow-violet-500/50 hover:scale-105 hover:-translate-y-1 transition-all duration-300 flex items-center gap-2",onClick:()=>t("/classes/new"),children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 to-fuchsia-600 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx(wt,{size:20,className:"relative transition-transform duration-300 group-hover:rotate-90"}),e.jsx("span",{className:"relative",children:"Create Class"})]})]})})]}),e.jsx("div",{className:"mb-6 bg-white/60 backdrop-blur-md rounded-xl shadow-lg border border-white/50 p-5 hover:shadow-xl transition-all duration-300",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1 group",children:[e.jsx(st,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 group-focus-within:scale-110 transition-all duration-300"}),e.jsx("input",{type:"text",placeholder:"Search by Class Name or Trainer...",className:"w-full pl-12 pr-4 py-3 bg-white/80 border-2 border-slate-200 rounded-xl text-sm focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 focus:bg-white transition-all duration-300 hover:border-slate-300",value:c,onChange:y=>u(y.target.value)})]}),e.jsxs("div",{className:"w-full sm:w-48 relative group",children:[e.jsx(ks,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 transition-all duration-300 pointer-events-none"}),e.jsxs("select",{value:x,onChange:y=>h(y.target.value),className:"w-full pl-12 pr-4 py-3 bg-white/80 border-2 border-slate-200 rounded-xl text-sm focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 focus:bg-white transition-all duration-300 hover:border-slate-300 cursor-pointer appearance-none",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%23cbd5e1'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 0.75rem center",backgroundSize:"1.25rem"},children:[e.jsx("option",{value:"All",children:"All Statuses"}),e.jsx("option",{value:"Scheduled",children:"Scheduled"}),e.jsx("option",{value:"Full",children:"Full"}),e.jsx("option",{value:"Completed",children:"Completed"})]})]})]})}),i?e.jsx("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 p-16 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-4 text-violet-600",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-violet-600 border-t-transparent rounded-full animate-spin"}),e.jsx("span",{className:"text-lg font-bold uppercase tracking-widest",children:"Loading Classes..."})]})}):f.length>0?e.jsx("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gradient-to-r from-slate-50 to-slate-100/50 border-b-2 border-slate-200",children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"Class Name"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"Trainer"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"Schedule"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"Capacity"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold uppercase tracking-wider text-slate-700",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:f.map(y=>e.jsxs("tr",{className:"group hover:bg-gradient-to-r hover:from-violet-50/50 hover:via-purple-50/30 hover:to-transparent transition-all duration-300 cursor-pointer",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white font-bold shadow-md group-hover:shadow-lg group-hover:scale-110 group-hover:rotate-6 transition-all duration-300",children:y.name.charAt(0)}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-slate-900 group-hover:text-violet-600 transition-colors duration-300",children:y.name}),e.jsxs("div",{className:"text-xs text-slate-500 flex items-center gap-1 mt-1",children:[e.jsx(Ws,{size:12})," ",y.location]})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-slate-100 to-slate-200 flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:e.jsx(lt,{size:16,className:"text-slate-600"})}),e.jsx("span",{className:"font-medium text-slate-700",children:y.trainerName})]})}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-700",children:[e.jsx(Xe,{size:16,className:"text-slate-400"}),e.jsx("span",{className:"font-medium",children:y.schedule})]}),e.jsx("div",{className:"text-xs text-slate-500 mt-1 ml-6",children:y.duration})]}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Pt,{size:16,className:"text-slate-400"}),e.jsxs("span",{className:"font-semibold text-slate-700",children:[y.enrolled," / ",y.capacity]})]}),e.jsx("div",{className:"w-24 h-2 bg-slate-100 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${y.enrolled>=y.capacity?"bg-gradient-to-r from-red-500 to-red-600":"bg-gradient-to-r from-violet-500 to-purple-600"}`,style:{width:`${y.enrolled/y.capacity*100}%`}})})]}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`inline-flex items-center px-3 py-1.5 rounded-full text-xs font-bold shadow-sm group-hover:scale-110 group-hover:shadow-md transition-all duration-300 ${y.status==="Scheduled"?"bg-gradient-to-r from-blue-50 to-blue-100 text-blue-700 border border-blue-200 group-hover:shadow-blue-500/50":y.status==="Full"?"bg-gradient-to-r from-amber-50 to-amber-100 text-amber-700 border border-amber-200 group-hover:shadow-amber-500/50":y.status==="Completed"?"bg-gradient-to-r from-slate-50 to-slate-100 text-slate-700 border border-slate-200 group-hover:shadow-slate-500/50":"bg-gradient-to-r from-red-50 to-red-100 text-red-700 border border-red-200 group-hover:shadow-red-500/50"}`,children:y.status})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"flex items-center justify-end",children:e.jsx("button",{className:"px-4 py-2 bg-gradient-to-r from-violet-50 to-purple-50 text-violet-600 rounded-lg text-sm font-semibold hover:from-violet-600 hover:to-purple-600 hover:text-white hover:scale-110 hover:shadow-lg hover:-translate-y-1 transition-all duration-300",onClick:()=>t(`/classes/${y.id}`),children:"View Details"})})})]},y.id))})]})})}):e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 p-16 text-center",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-violet-100 to-purple-100 rounded-full flex items-center justify-center",children:e.jsx(st,{size:40,className:"text-violet-600"})}),e.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-2",children:"No Classes Found"}),e.jsx("p",{className:"text-slate-600 mb-6",children:c||x!=="All"?"Try adjusting your search or filter criteria":"No classes have been found."}),!c&&x==="All"&&s!=="TRAINER"&&e.jsxs("button",{className:"group relative px-6 py-3 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-xl font-semibold shadow-lg hover:shadow-xl hover:shadow-violet-500/50 hover:scale-105 hover:-translate-y-1 transition-all duration-300 inline-flex items-center gap-2",onClick:()=>t("/classes/new"),children:[e.jsx(wt,{size:20,className:"transition-transform duration-300 group-hover:rotate-90"}),"Create Class"]})]})]})},hL=()=>{const{role:s}=Oi(),{id:t}=Ud(),a=Ht(),[l,i]=b.useState(null),[o,c]=b.useState([]),[u,x]=b.useState(!0);b.useEffect(()=>{h()},[t]);const h=async()=>{try{x(!0);const[g,v]=await Promise.all([s==="TRAINER"?await V9(t):await Lm(t),iu().catch(()=>({messageTemplates:[]}))]);i(g),v&&v.messageTemplates&&c(v.messageTemplates)}catch(g){console.error("Error loading class details:",g),ot.error("Failed to load details"),a("/classes")}finally{x(!1)}};if(u)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(dl,{className:"w-10 h-10 text-indigo-600 animate-spin"})});if(!l)return e.jsx("div",{className:"p-6 text-center text-muted",children:"Class not found."});const p=l.enrolledMembers||[],f=()=>{const g=o.find(A=>A.name==="Class Cancellation"||A.id===3);if(!g){ot.error("Cancellation template not found.");return}if(p.length===0){ot.error("No members enrolled to notify.");return}const v=p[0],C=A=>A?typeof A=="object"?A.days&&A.time?`${A.days} at ${A.time}`:Array.isArray(A)?A.join(", "):JSON.stringify(A):String(A):"Not set",N=g.text.replace("{{class_name}}",l.name).replace("{{date}}",C(l.schedule)),k=(v.phone||"").replace(/\D/g,"");if(!k){ot.error("Member phone not found.");return}window.open(`https://wa.me/${k}?text=${encodeURIComponent(N)}`,"_blank"),ot.success(`Opening notification for ${v.name}`)},y=async()=>{if(window.confirm("Are you sure you want to completely delete this class? This cannot be undone."))try{await O9(t),ot.success("Class deleted successfully"),a("/classes")}catch(g){ot.error(g.message||"Failed to delete class")}};return e.jsxs("div",{className:"fade-in px-4 sm:px-6 lg:px-8 py-6 bg-gradient-to-br from-gray-50 to-white min-h-screen",children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"var(--space-6)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-4)"},children:[e.jsx("button",{onClick:()=>a("/classes"),className:"p-2 rounded-full hover:bg-gray-100 transition-colors duration-200 text-gray-500 hover:text-indigo-600",children:e.jsx(Dn,{size:24})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-1",children:l.name}),e.jsxs("div",{className:"text-gray-500 font-medium",style:{fontSize:"0.875rem"},children:["Class ID: #",l.id]})]})]}),e.jsx("div",{style:{display:"flex",gap:"var(--space-3)"},children:s!=="TRAINER"&&e.jsxs(e.Fragment,{children:[e.jsxs(Ft,{variant:"outline",onClick:()=>a(`/classes/${t}/assign-trainer`),children:[e.jsx(lt,{size:18,style:{marginRight:"6px"}}),"Assign Trainer"]}),e.jsxs(Ft,{variant:"outline",onClick:()=>a(`/classes/${t}/enroll`),children:[e.jsx(nl,{size:18,style:{marginRight:"6px"}}),"Enroll Members"]}),e.jsxs(Ft,{variant:"primary",onClick:()=>a(`/classes/${t}/edit`),children:[e.jsx(Ra,{size:18,style:{marginRight:"6px"}}),"Edit Class"]}),l.status==="Cancelled"&&e.jsxs(Ft,{variant:"outline",className:"border-rose-200 text-rose-600 hover:bg-rose-50",onClick:f,children:[e.jsx(jA,{size:18,style:{marginRight:"6px"}}),"Notify Cancellation"]}),e.jsxs(Ft,{variant:"outline",className:"border-red-200 text-red-600 hover:bg-red-50 hover:text-red-700 hover:border-red-300",onClick:y,children:[e.jsx(xs,{size:18,style:{marginRight:"6px"}}),"Delete"]})]})})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(400px, 1fr))",gap:"var(--space-6)"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--space-4)"},children:[e.jsxs(is,{title:"Class Overview",children:[e.jsx("p",{style:{color:"var(--text)",lineHeight:"1.6",marginBottom:"24px",fontSize:"1rem"},className:"text-gray-700",children:l.description||"No description provided for this class."}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px"},children:[e.jsx(yh,{icon:Xe,label:"Schedule",value:l.schedule}),e.jsx(yh,{icon:pL,label:"Duration",value:l.duration||"Not set"}),e.jsx(yh,{icon:Ws,label:"Location",value:l.location||"Main Floor"}),e.jsx(yh,{icon:Pt,label:"Capacity",value:`${p.length} / ${l.capacity||20}`})]})]}),e.jsx(is,{title:"Trainer Information",children:e.jsxs("div",{className:"flex items-center gap-4 p-2",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-indigo-50 flex items-center justify-center text-indigo-600 shadow-sm",children:e.jsx(lt,{size:28})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-bold text-gray-900 leading-tight",children:l.trainerName}),e.jsx("div",{className:"text-indigo-600 font-semibold text-xs uppercase tracking-wider mt-1",children:"Assigned Trainer"})]})]})})]}),e.jsx("div",{children:e.jsxs(is,{title:`Enrolled Members (${p.length})`,children:[p.length>0?e.jsx("div",{className:"max-h-[500px] overflow-y-auto custom-scrollbar pr-2",children:e.jsx("ul",{style:{listStyle:"none",padding:0},children:p.map(g=>e.jsx("li",{className:"py-4 border-b border-gray-100 flex items-center justify-between hover:bg-gray-50 transition-colors duration-200 px-2 rounded-xl",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-indigo-50 to-purple-50 flex items-center justify-center shadow-sm",children:e.jsx(lt,{size:18,className:"text-indigo-500"})}),e.jsxs("div",{children:[e.jsx("span",{className:"font-bold text-gray-800 block text-sm",children:g.name}),e.jsx("span",{className:"text-gray-500 text-xs",children:g.email})]})]})},g.id))})}):e.jsxs("div",{className:"text-gray-400 py-12 text-center flex flex-col items-center gap-3 bg-gray-50/50 rounded-2xl border-2 border-dashed border-gray-100 italic font-medium",children:[e.jsx(Pt,{size:32,className:"opacity-20"}),"No members enrolled yet."]}),s!=="TRAINER"&&e.jsx("div",{className:"mt-6 text-center border-t border-gray-100 pt-4",children:e.jsx(Ft,{variant:"outline",size:"small",onClick:()=>a(`/classes/${t}/enroll`),className:"w-full",children:"Manage Enrollments"})})]})})]})]})},mL=(s,t=!1)=>{if(!s)return"Not set";let a=s;if(typeof s=="string")try{a=JSON.parse(s)}catch{a=s}if(typeof a=="object"){const l=a.time||"TBD";if(a.date){const[i,o,c]=a.date.split("-").map(Number);return`${new Date(i,o-1,c).toLocaleDateString("en-US",{weekday:t?"long":"short",month:"short",day:"numeric",year:t?"numeric":void 0})} at ${l}`}return a.days?`${a.days} at ${l}`:JSON.stringify(a)}return String(s)},yh=({icon:s,label:t,value:a})=>e.jsxs("div",{className:"flex flex-col gap-1.5 p-3 rounded-2xl bg-gray-50/50 border border-gray-100 hover:border-indigo-100 transition-all duration-300 group",children:[e.jsxs("span",{className:"text-gray-500 font-bold uppercase tracking-widest flex items-center gap-2",style:{fontSize:"0.65rem"},children:[s&&e.jsx(s,{size:14,className:"group-hover:text-indigo-600 transition-colors duration-300"})," ",t]}),e.jsx("span",{className:"text-gray-900 font-bold",style:{fontSize:"0.95rem"},children:mL(a)})]}),pL=({size:s})=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("polyline",{points:"12 6 12 12 16 14"})]}),wy=()=>{const{id:s}=Ud(),t=Ht(),a=!!s,[l,i]=b.useState({name:"",description:"",trainerId:"",schedule:"",duration:"60 mins",capacity:20,status:"Scheduled",location:"Studio A",requiredBenefit:""}),[o,c]=b.useState([]),[u,x]=b.useState(!1),[h,p]=b.useState(a),[f,y]=b.useState({});b.useEffect(()=>{g(),a&&v()},[a,s]);const g=async()=>{try{const w=(await Dm()).filter(R=>R.role==="TRAINER"||R.role==="STAFF");c(w)}catch(E){console.error("Error loading trainers:",E),ot.error("Failed to load trainers")}},v=async()=>{try{p(!0);const E=await Lm(s);E&&i({name:E.name,description:E.description||"",trainerId:E.trainerId||"",schedule:E.schedule||"",duration:E.duration||"60 mins",capacity:E.capacity||E.maxCapacity||20,status:E.status||"Scheduled",location:E.location||"",requiredBenefit:E.requiredBenefit||""})}catch(E){console.error("Error loading class:",E),ot.error("Failed to load class details"),t("/classes")}finally{p(!1)}},C=E=>{const{name:w,value:R}=E.target;i(T=>({...T,[w]:R})),f[w]&&y(T=>({...T,[w]:""}))},N=()=>{const E={};return l.name.trim()||(E.name="Class name is required"),l.trainerId||(E.trainerId="Trainer is required"),l.schedule||(E.schedule="Schedule is required"),y(E),Object.keys(E).length===0},k=async E=>{if(E.preventDefault(),!!N())try{x(!0);const w={...l,maxCapacity:parseInt(l.capacity)};a?(await gN(s,w),ot.success("Class updated successfully!")):(await R9(w),ot.success("Class created successfully!")),t("/classes")}catch(w){console.error("Error saving class:",w),ot.error(w.response?.data?.message||"Failed to save class")}finally{x(!1)}},A=()=>{t("/classes")};return h?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(dl,{className:"w-10 h-10 text-indigo-600 animate-spin"})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-indigo-50/30 flex flex-col items-center py-8 px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"w-full max-w-4xl mb-6",children:e.jsxs("button",{onClick:A,className:"group flex items-center text-gray-500 hover:text-indigo-600 transition-all duration-300 hover:scale-105",children:[e.jsx("div",{className:"p-1 rounded-full group-hover:bg-indigo-50 transition-all duration-300 mr-2 group-hover:scale-110 group-hover:-translate-x-1",children:e.jsx(Dn,{className:"w-5 h-5"})}),e.jsx("span",{className:"font-medium",children:"Back to Classes"})]})}),e.jsxs("div",{className:"w-full max-w-4xl bg-white rounded-3xl shadow-xl shadow-gray-200/50 border border-gray-100 overflow-hidden hover:shadow-2xl hover:shadow-gray-300/50 transition-all duration-500 max-h-[calc(100vh-120px)] flex flex-col",children:[e.jsxs("div",{className:"px-6 py-6 sm:px-10 border-b border-gray-100 bg-gradient-to-r from-indigo-50/30 to-purple-50/30 flex-shrink-0",children:[e.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:a?"Edit Class":"Create New Class"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Define the details and schedule for this class."})]}),e.jsxs("form",{onSubmit:k,className:"px-6 py-8 sm:px-10 space-y-8 overflow-y-auto flex-1 custom-scrollbar",children:[e.jsxs("div",{className:"space-y-3 group",children:[e.jsxs("label",{className:"block text-sm font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:["Class Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"relative",children:e.jsx("input",{type:"text",name:"name",className:`block w-full px-5 py-4 bg-gradient-to-br from-white to-indigo-50/30 border-2 border-gray-200 rounded-2xl text-gray-900 text-sm placeholder-gray-400 focus:outline-none focus:ring-4 focus:ring-indigo-500/20 focus:border-indigo-500 hover:border-indigo-300 hover:shadow-lg transition-all duration-300 shadow-md focus:scale-[1.02] group-hover:border-indigo-200 ${f.name?"border-red-500 bg-red-50/30 focus:ring-red-500/20":""}`,placeholder:"e.g., Morning Yoga",value:l.name,onChange:C})}),f.name&&e.jsx("p",{className:"text-xs text-red-600 mt-1 font-medium animate-pulse",children:f.name})]}),e.jsxs("div",{className:"space-y-3 group",children:[e.jsx("label",{className:"block text-sm font-bold bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent",children:"Description"}),e.jsx("textarea",{name:"description",className:"block w-full px-5 py-4 bg-gradient-to-br from-white to-blue-50/30 border-2 border-gray-200 rounded-2xl text-gray-900 text-sm placeholder-gray-400 focus:outline-none focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 hover:border-blue-300 hover:shadow-lg transition-all duration-300 shadow-md resize-none focus:scale-[1.01] group-hover:border-blue-200",placeholder:"Describe the class activities and benefits...",value:l.description,onChange:C,rows:"3"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3 group",children:[e.jsxs("label",{className:"block text-sm font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:["Schedule ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"schedule",className:`block w-full px-5 py-4 bg-gradient-to-br from-white to-indigo-50/30 border-2 border-gray-200 rounded-2xl text-gray-900 text-sm placeholder-gray-400 focus:outline-none focus:ring-4 focus:ring-indigo-500/20 focus:border-indigo-500 hover:border-indigo-300 hover:shadow-lg transition-all duration-300 shadow-md focus:scale-[1.02] group-hover:border-indigo-200 ${f.schedule?"border-red-500 bg-red-50/30 focus:ring-red-500/20":""}`,placeholder:"e.g., Mon 7AM",value:l.schedule,onChange:C}),f.schedule&&e.jsx("p",{className:"text-xs text-red-600 mt-1 font-medium",children:f.schedule})]}),e.jsxs("div",{className:"space-y-3 group",children:[e.jsx("label",{className:"block text-sm font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Duration"}),e.jsx("div",{className:"relative z-20",children:e.jsx(ds,{options:[{value:"30 mins",label:"30 mins"},{value:"45 mins",label:"45 mins"},{value:"60 mins",label:"60 mins"},{value:"90 mins",label:"90 mins"}],value:l.duration,onChange:E=>C({target:{name:"duration",value:E}}),className:"w-full"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3 group",children:[e.jsxs("label",{className:"block text-sm font-bold bg-gradient-to-r from-emerald-600 to-teal-600 bg-clip-text text-transparent",children:["Assigned Trainer ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative z-10",children:[e.jsx(ds,{options:[{value:"",label:"-- Select Trainer --"},...o.map(E=>({value:E.id,label:E.name}))],value:l.trainerId,onChange:E=>C({target:{name:"trainerId",value:E}}),className:`w-full ${f.trainerId?"border-red-500":""}`}),f.trainerId&&e.jsx("p",{className:"text-xs text-red-600 mt-1 font-medium",children:f.trainerId})]})]}),e.jsxs("div",{className:"space-y-3 group",children:[e.jsx("label",{className:"block text-sm font-bold bg-gradient-to-r from-cyan-600 to-blue-600 bg-clip-text text-transparent",children:"Location / Studio"}),e.jsx("input",{type:"text",name:"location",className:"block w-full px-5 py-4 bg-gradient-to-br from-white to-cyan-50/30 border-2 border-gray-200 rounded-2xl text-gray-900 text-sm placeholder-gray-400 focus:outline-none focus:ring-4 focus:ring-cyan-500/20 focus:border-cyan-500 hover:border-cyan-300 hover:shadow-lg transition-all duration-300 shadow-md focus:scale-[1.02] group-hover:border-cyan-200",placeholder:"e.g., Studio A",value:l.location,onChange:C})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-3 group",children:[e.jsx("label",{className:"block text-sm font-bold bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent",children:"Max Capacity"}),e.jsx("input",{type:"number",name:"capacity",className:"block w-full px-5 py-4 bg-gradient-to-br from-white to-orange-50/30 border-2 border-gray-200 rounded-2xl text-gray-900 text-sm placeholder-gray-400 focus:outline-none focus:ring-4 focus:ring-orange-500/20 focus:border-orange-500 hover:border-orange-300 hover:shadow-lg transition-all duration-300 shadow-md focus:scale-[1.02] group-hover:border-orange-200",placeholder:"20",value:l.capacity,onChange:C,min:"1"})]}),e.jsxs("div",{className:"space-y-3 group",children:[e.jsx("label",{className:"block text-sm font-bold bg-gradient-to-r from-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Status"}),e.jsx("div",{className:"relative z-10",children:e.jsx(ds,{options:[{value:"Scheduled",label:"Scheduled"},{value:"Full",label:"Full"},{value:"Completed",label:"Completed"},{value:"Cancelled",label:"Cancelled"}],value:l.status,onChange:E=>C({target:{name:"status",value:E}}),className:"w-full"})})]}),e.jsxs("div",{className:"space-y-3 group",children:[e.jsx("label",{className:"block text-sm font-bold bg-gradient-to-r from-pink-600 to-rose-600 bg-clip-text text-transparent",children:"Required Benefit"}),e.jsx("div",{className:"relative z-10",children:e.jsx(ds,{options:[{value:"",label:"-- Open to All --"},{value:"group_classes",label:"Group Classes Access"},{value:"yoga_access",label:"Yoga Studio Access"},{value:"gym_access",label:"General Gym Access"}],value:l.requiredBenefit,onChange:E=>C({target:{name:"requiredBenefit",value:E}}),className:"w-full"})})]})]}),e.jsx("div",{className:"p-4 bg-gradient-to-br from-indigo-50/50 to-purple-50/50 rounded-2xl border-2 border-indigo-100",children:e.jsxs("p",{className:"text-xs text-gray-600",children:[e.jsx("span",{className:"font-semibold text-indigo-700",children:"Booking Rule:"})," If a required benefit is selected, only members with that benefit in their plan can book this class."]})}),e.jsxs("div",{className:"pt-6 flex flex-col-reverse md:flex-row items-center justify-end gap-4 border-t border-gray-100 mt-2 sticky bottom-0 bg-white pb-4 -mb-8 -mx-6 px-6 sm:-mx-10 sm:px-10",children:[e.jsx("button",{type:"button",onClick:A,disabled:u,className:"w-full md:w-auto px-8 py-3 bg-white border-2 border-gray-300 rounded-xl text-sm font-semibold text-gray-700 hover:bg-gray-50 hover:text-gray-900 hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-all duration-300 shadow-sm hover:shadow-md hover:scale-105 hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),e.jsxs("button",{type:"submit",disabled:u,className:"w-full md:w-auto flex items-center justify-center px-8 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 border border-transparent rounded-xl text-sm font-semibold text-white hover:from-indigo-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 shadow-lg shadow-indigo-500/30 transition-all duration-300 transform hover:-translate-y-1 hover:shadow-xl hover:shadow-indigo-500/50 hover:scale-105 group disabled:opacity-50 disabled:cursor-not-allowed",children:[u?e.jsx(dl,{className:"w-5 h-5 mr-2 animate-spin"}):e.jsx(xa,{size:18,className:"mr-2 transition-transform duration-300 group-hover:rotate-12 group-hover:scale-110"}),u?"Saving...":"Save Class"]})]})]})]})]})},fL=()=>{const{id:s}=Ud(),t=Ht(),[a,l]=b.useState(null),[i,o]=b.useState([]),[c,u]=b.useState(""),[x,h]=b.useState(!0),[p,f]=b.useState(!1);b.useEffect(()=>{y()},[s]);const y=async()=>{try{h(!0);const[v,C]=await Promise.all([Lm(s),Dm()]);l(v),o(C.filter(N=>N.role==="TRAINER"||N.role==="STAFF")),u(v.trainerId||"")}catch(v){console.error("Error loading data:",v),ot.error("Failed to load assignment data"),t(`/classes/${s}`)}finally{h(!1)}},g=async()=>{try{f(!0),await gN(s,{trainerId:c}),ot.success("Trainer assigned successfully!"),t(`/classes/${s}`)}catch(v){console.error("Error assigning trainer:",v),ot.error("Failed to assign trainer")}finally{f(!1)}};return x?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(dl,{className:"w-10 h-10 text-indigo-600 animate-spin"})}):a?e.jsxs("div",{className:"fade-in px-4 sm:px-6 lg:px-8 py-6",style:{maxWidth:"800px",margin:"0 auto"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"var(--space-6)"},children:[e.jsx("button",{onClick:()=>t(`/classes/${s}`),className:"p-2 rounded-full hover:bg-gray-100 transition-colors duration-200 text-gray-400 hover:text-indigo-600",children:e.jsx(Dn,{size:24})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Assign Trainer"})]}),e.jsx(is,{className:"mb-8 border-indigo-100 bg-indigo-50/30",children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--primary)",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px"},children:"Class"}),e.jsx("div",{style:{fontWeight:800,fontSize:"1.25rem",color:"var(--text-dark)"},children:a.name})]}),e.jsxs("div",{style:{textAlign:"right"},children:[e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--muted)",fontWeight:600,marginBottom:"4px"},children:"Schedule"}),e.jsx("div",{style:{fontWeight:600,color:"var(--text-dark)"},children:a.schedule})]})]})}),e.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-6 flex items-center gap-2",children:[e.jsx(lt,{size:20,className:"text-indigo-600"}),"Select Available Trainer"]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(240px, 1fr))",gap:"var(--space-4)"},children:i.map(v=>{const C=c===v.id;return e.jsxs("div",{onClick:()=>u(v.id),className:`group relative p-6 rounded-2xl cursor-pointer transition-all duration-300 border-2 shadow-sm hover:shadow-md ${C?"bg-indigo-50 border-indigo-500 shadow-indigo-100":"bg-white border-gray-100 hover:border-indigo-200"}`,children:[C&&e.jsx("div",{className:"absolute top-4 right-4 text-indigo-600 animate-in zoom-in duration-300",children:e.jsx(Qt,{size:24})}),e.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center mb-4 transition-colors duration-300 ${C?"bg-indigo-600 text-white":"bg-gray-100 text-gray-500 group-hover:bg-indigo-100 group-hover:text-indigo-600"}`,children:e.jsx(lt,{size:24})}),e.jsx("div",{className:"font-bold text-gray-900 group-hover:text-indigo-600 transition-colors duration-300",children:v.name}),e.jsx("div",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mt-1",children:v.role})]},v.id)})}),e.jsxs("div",{style:{marginTop:"48px",display:"flex",justifyContent:"flex-end",gap:"16px"},children:[e.jsx(Ft,{variant:"outline",onClick:()=>t(`/classes/${s}`),disabled:p,children:"Cancel"}),e.jsx(Ft,{variant:"primary",onClick:g,loading:p,children:"Confirm Assignment"})]})]}):e.jsx("div",{children:"Class not found"})},gL=()=>{const{id:s}=Ud(),t=Ht(),[a,l]=b.useState(null),[i,o]=b.useState([]),[c,u]=b.useState([]),[x,h]=b.useState(""),[p,f]=b.useState(!0),[y,g]=b.useState(!1);b.useEffect(()=>{v()},[s]);const v=async()=>{try{f(!0);const k=await Lm(s);l(k),o(k.enrolledMembers||[]);const A=await Qg({limit:100}),E=(k.enrolledMembers||[]).map(w=>w.id);u(A.data.filter(w=>!E.includes(w.id)))}catch(k){console.error("Error loading enrollment data:",k),ot.error("Failed to load members"),t(`/classes/${s}`)}finally{f(!1)}},C=async k=>{if(i.length>=(a.maxCapacity||a.capacity)){ot.error("Class is full!");return}try{g(!0),await hN({memberId:parseInt(k),classId:parseInt(s),date:new Date().toISOString(),status:"Confirmed"}),ot.success("Member enrolled!"),await v()}catch(A){console.error("Error enrolling member:",A),ot.error("Failed to enroll member")}finally{g(!1)}},N=c.filter(k=>k.name.toLowerCase().includes(x.toLowerCase())||k.email?.toLowerCase().includes(x.toLowerCase()));return p?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(dl,{className:"w-10 h-10 text-indigo-600 animate-spin"})}):a?e.jsxs("div",{className:"fade-in px-4 sm:px-6 lg:px-8 py-6",style:{maxWidth:"1000px",margin:"0 auto"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"var(--space-6)"},children:[e.jsx("button",{onClick:()=>t(`/classes/${s}`),className:"p-2 rounded-full hover:bg-gray-100 transition-colors duration-200 text-gray-400 hover:text-indigo-600",children:e.jsx(Dn,{size:24})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Manage Enrollments"})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"var(--space-6)"},children:[e.jsxs(is,{title:"Available Members",children:[e.jsxs("div",{className:"relative mb-6",children:[e.jsx(st,{size:18,className:"text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),e.jsx("input",{type:"text",placeholder:"Search members to enroll...",value:x,onChange:k=>h(k.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-50 border-2 border-gray-100 rounded-xl focus:border-indigo-500 focus:outline-none transition-all duration-200 shadow-sm"})]}),e.jsxs("div",{style:{maxHeight:"450px",overflowY:"auto"},className:"custom-scrollbar pr-2",children:[N.map(k=>e.jsxs("div",{className:"group flex justify-between items-center p-4 border-b border-gray-100 hover:bg-indigo-50/50 rounded-xl transition-all duration-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center text-gray-500 group-hover:bg-indigo-100 group-hover:text-indigo-600",children:e.jsx(lt,{size:18})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-gray-800",children:k.name}),e.jsx("div",{className:"text-xs text-gray-400 font-medium",children:k.email})]})]}),e.jsxs(Ft,{variant:"outline",size:"small",onClick:()=>C(k.id),disabled:y,className:"group-hover:bg-indigo-600 group-hover:text-white group-hover:border-indigo-600",children:[e.jsx(wt,{size:16,className:"mr-1"})," Enroll"]})]},k.id)),N.length===0&&e.jsx("div",{className:"text-center py-12 text-gray-400 font-medium italic",children:"No available members found."})]})]}),e.jsx(is,{title:`Currently Enrolled (${i.length} / ${a.capacity})`,children:e.jsx("div",{style:{maxHeight:"520px",overflowY:"auto"},className:"custom-scrollbar pr-2 pt-2",children:i.length>0?i.map(k=>e.jsx("div",{className:"flex justify-between items-center p-4 bg-gray-50/80 border border-gray-100 rounded-2xl mb-4 group hover:border-indigo-100 transition-all duration-300",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-50 flex items-center justify-center text-indigo-600",children:e.jsx(lt,{size:18})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-gray-900",children:k.name}),e.jsxs("div",{className:"text-xs text-gray-400 font-medium",children:["#",k.id]})]})]})},k.id)):e.jsx("div",{className:"text-center py-12 text-gray-400 border-2 border-dashed border-gray-100 rounded-2xl italic font-medium",children:"No members enrolled yet."})})})]})]}):e.jsx("div",{children:"Class not found"})},bL=()=>e.jsxs("div",{className:"fade-in",children:[e.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-4 mb-6 border-b border-gray-100",children:[e.jsx(_c,{to:"/operations",end:!0,children:"Schedule"}),e.jsx(_c,{to:"/operations/equipment",children:"Equipment"}),e.jsx(_c,{to:"/operations/lockers",children:"Lockers"}),e.jsx(_c,{to:"/operations/inventory",children:"Inventory"}),e.jsx(_c,{to:"/operations/announcements",children:"Announcements"}),e.jsx(_c,{to:"/operations/rewards",children:"Rewards"}),e.jsx(_c,{to:"/operations/feedback",children:"Feedback"}),e.jsx(_c,{to:"/operations/devices",children:"Devices"})]}),e.jsx(gm,{})]}),_c=({to:s,children:t,end:a=!1})=>e.jsx(tm,{to:s,end:a,className:({isActive:l})=>`px-5 py-2.5 rounded-xl text-sm font-bold transition-colors whitespace-nowrap ${l?"bg-indigo-600 text-white shadow-lg shadow-indigo-200":"text-gray-500 hover:bg-gray-50 hover:text-gray-900"}`,children:t}),Ya=({title:s,subtitle:t,badge:a,badgeColor:l="violet",fields:i=[],actions:o=[],className:c=""})=>{const u=x=>{const h={violet:"from-violet-500 to-purple-600 shadow-violet-500/50",emerald:"from-emerald-500 to-emerald-600 shadow-emerald-500/50",red:"from-red-500 to-red-600 shadow-red-500/50",amber:"from-amber-500 to-orange-600 shadow-amber-500/50",blue:"from-blue-500 to-indigo-600 shadow-blue-500/50",slate:"from-slate-500 to-slate-600 shadow-slate-500/50",purple:"from-purple-500 to-fuchsia-600 shadow-purple-500/50"};return h[x]||h.violet};return e.jsxs("div",{className:`group relative bg-white/60 backdrop-blur-md rounded-xl shadow-lg border border-white/50 p-4 hover:shadow-2xl hover:scale-[1.02] transition-all duration-300 overflow-hidden ${c}`,children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50/30 to-purple-50/30 opacity-0 group-hover:opacity-100 transition-opacity duration-500 rounded-xl"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg shadow-violet-500/50 group-hover:scale-110 group-hover:rotate-6 transition-all duration-300 flex-shrink-0",children:e.jsx("div",{className:"w-5 h-5 rounded-full bg-white/20"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-base font-bold text-slate-900 group-hover:text-violet-700 transition-colors duration-300 truncate",children:s}),t&&e.jsx("p",{className:"text-xs font-semibold text-slate-600 mt-0.5 truncate",children:t})]})]}),a&&e.jsx("span",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-xl bg-gradient-to-r ${u(typeof a=="object"?a.color:l)} text-white text-xs font-black shadow-lg hover:scale-110 transition-all duration-300 cursor-pointer flex-shrink-0 ml-2`,children:typeof a=="object"?a.label:a})]}),i.length>0&&e.jsx("div",{className:"space-y-2.5 mb-4",children:i.map((x,h)=>{const p=x.icon;return e.jsxs("div",{className:"flex justify-between items-center p-2.5 rounded-lg bg-slate-50/50 hover:bg-violet-50/50 transition-colors duration-200",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[p&&e.jsx(p,{size:14,className:"text-slate-400 group-hover:text-violet-500 transition-colors",strokeWidth:2.5}),e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-slate-500",children:x.label})]}),e.jsx("span",{className:"text-sm font-black text-slate-900",children:x.value})]},h)})}),o.length>0&&e.jsx("div",{className:"flex flex-col gap-2 pt-4 border-t-2 border-slate-100",children:o.map((x,h)=>{const p=x.icon;return e.jsxs("button",{onClick:x.onClick,className:`
                                        group/btn flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl text-xs font-bold transition-all duration-300 shadow-md hover:shadow-xl hover:scale-105
                                        ${x.variant==="primary"?"bg-gradient-to-r from-violet-600 to-purple-600 text-white shadow-violet-500/50 hover:shadow-violet-500/60":x.variant==="danger"?"bg-gradient-to-r from-red-500 to-red-600 text-white shadow-red-500/50 hover:shadow-red-500/60":"bg-white border-2 border-slate-200 text-slate-700 hover:border-violet-300 hover:text-violet-700"}
                                    `,children:[p&&e.jsx(p,{size:16,strokeWidth:2.5,className:"transition-transform duration-300 group-hover/btn:scale-110"}),e.jsx("span",{children:x.label})]},h)})})]})]})},vL=()=>{const[s,t]=b.useState(""),[a,l]=b.useState(""),[i,o]=b.useState(""),[c,u]=b.useState([]),[x,h]=b.useState(!0);b.useEffect(()=>{p()},[]);const p=async()=>{try{h(!0);const C=(await gD()).map(N=>({id:N.id,name:N.name,role:N.role.charAt(0)+N.role.slice(1).toLowerCase(),shift:N.shift||"N/A",status:N.status==="Active"?"On Duty":"Off Duty"}));u(C)}catch{Ve.error("Failed to load staff list")}finally{h(!1)}},f=c.filter(v=>{const C=v.name.toLowerCase().includes(s.toLowerCase())||v.role.toLowerCase().includes(s.toLowerCase()),N=a===""||v.role===a||v.role.toUpperCase()===a.toUpperCase(),k=i===""||v.status===i;return C&&N&&k}),y=v=>{const C={"On Duty":"bg-gradient-to-r from-emerald-50 to-emerald-100 text-emerald-700 border border-emerald-200","On Leave":"bg-gradient-to-r from-red-50 to-red-100 text-red-700 border border-red-200","Off Duty":"bg-gradient-to-r from-slate-50 to-slate-100 text-slate-700 border border-slate-200"};return e.jsx("span",{className:`inline-flex items-center px-3 py-1.5 rounded-full text-xs font-bold shadow-sm transition-all duration-300 hover:scale-110 hover:shadow-md ${C[v]||C["Off Duty"]}`,children:v})},g=v=>({"On Duty":"emerald","On Leave":"red","Off Duty":"slate"})[v]||"slate";return e.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6 pb-12 min-h-screen",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6",children:e.jsx("div",{className:"flex flex-col gap-4",children:e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx(Pt,{className:"text-violet-600 flex-shrink-0",size:24}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Staff Schedule"}),e.jsx("span",{className:"px-2 py-0.5 bg-gradient-to-r from-violet-500 to-purple-600 text-white text-[10px] font-black rounded-md shadow-sm animate-pulse flex-shrink-0",children:"PREMIUM "})]}),e.jsx("p",{className:"text-slate-600 text-xs sm:text-sm mt-1",children:"Manage staff shifts and availability"})]})]})})})]}),e.jsx("div",{className:"mb-4 sm:mb-6 bg-white/60 backdrop-blur-md rounded-xl shadow-lg border border-white/50 p-4 sm:p-5 hover:shadow-xl transition-all duration-300",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"relative group",children:[e.jsx(st,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 group-focus-within:scale-110 transition-all duration-300"}),e.jsx("input",{type:"text",value:s,onChange:v=>t(v.target.value),placeholder:"Search by name or role...",className:"w-full pl-12 pr-4 py-2.5 sm:py-3 bg-white/80 border-2 border-slate-200 rounded-lg sm:rounded-xl text-sm focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 focus:bg-white transition-all duration-300 hover:border-slate-300"})]}),e.jsxs("div",{className:"relative group",children:[e.jsx(ks,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 group-focus-within:scale-110 transition-all duration-300 pointer-events-none z-10"}),e.jsxs("select",{value:a,onChange:v=>l(v.target.value),className:"w-full pl-12 pr-4 py-2.5 sm:py-3 bg-white/80 border-2 border-slate-200 rounded-lg sm:rounded-xl text-sm focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 focus:bg-white transition-all duration-300 hover:border-slate-300 appearance-none cursor-pointer",children:[e.jsx("option",{value:"",children:"All Roles"}),e.jsx("option",{value:"Trainer",children:"Trainer"}),e.jsx("option",{value:"Receptionist",children:"Receptionist"}),e.jsx("option",{value:"Cleaner",children:"Cleaner"})]})]}),e.jsxs("div",{className:"relative group",children:[e.jsx(Pa,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 group-focus-within:scale-110 transition-all duration-300 pointer-events-none z-10"}),e.jsxs("select",{value:i,onChange:v=>o(v.target.value),className:"w-full pl-12 pr-4 py-2.5 sm:py-3 bg-white/80 border-2 border-slate-200 rounded-lg sm:rounded-xl text-sm focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 focus:bg-white transition-all duration-300 hover:border-slate-300 appearance-none cursor-pointer",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"On Duty",children:"On Duty"}),e.jsx("option",{value:"On Leave",children:"On Leave"}),e.jsx("option",{value:"Off Duty",children:"Off Duty"})]})]})]})}),e.jsx("div",{className:"md:hidden space-y-3 sm:space-y-4 mb-6",children:f.map(v=>e.jsx(Ya,{title:v.name,subtitle:v.role,badge:v.status,badgeColor:g(v.status),fields:[{label:"Shift",value:v.shift,icon:Ze}]},v.id))}),e.jsxs("div",{className:"hidden md:block bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gradient-to-r from-slate-50 to-slate-100/50 border-b-2 border-slate-200",children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"Staff Member"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"Role"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"Shift"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"Status"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:f.map(v=>e.jsxs("tr",{className:"group hover:bg-gradient-to-r hover:from-violet-50/50 hover:via-purple-50/30 hover:to-transparent transition-all duration-300 cursor-pointer",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white font-bold shadow-md group-hover:shadow-lg group-hover:scale-110 group-hover:rotate-6 transition-all duration-300",children:(v.name||"?").charAt(0)}),e.jsx("div",{children:e.jsx("div",{className:"text-sm font-semibold text-slate-900 group-hover:text-violet-600 transition-colors duration-300",children:v.name})})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full text-xs font-bold bg-gradient-to-r from-slate-50 to-slate-100 text-slate-700 border border-slate-200 shadow-sm group-hover:scale-110 group-hover:shadow-md group-hover:from-violet-50 group-hover:to-purple-50 group-hover:text-violet-700 group-hover:border-violet-200 transition-all duration-300",children:v.role})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[e.jsx(Ze,{className:"w-4 h-4 text-slate-400 transition-transform duration-300 group-hover:scale-125"}),v.shift]})}),e.jsx("td",{className:"px-6 py-4",children:y(v.status)})]},v.id))})]})}),f.length===0&&e.jsxs("div",{className:"p-12 sm:p-16 text-center",children:[e.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 mx-auto mb-4 sm:mb-6 bg-gradient-to-br from-violet-100 to-purple-100 rounded-full flex items-center justify-center",children:e.jsx(Pt,{size:32,className:"sm:w-10 sm:h-10 text-violet-600"})}),e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-slate-900 mb-2",children:"No Staff Found"}),e.jsx("p",{className:"text-slate-600 text-sm",children:"Try adjusting your search or filter criteria"})]})]}),f.length===0&&e.jsxs("div",{className:"md:hidden bg-white rounded-xl shadow-xl border border-slate-100 p-12 text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gradient-to-br from-violet-100 to-purple-100 rounded-full flex items-center justify-center",children:e.jsx(Pt,{size:32,className:"text-violet-600"})}),e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"No Staff Found"}),e.jsx("p",{className:"text-slate-600 text-sm",children:"Try adjusting your search or filter criteria"})]})]})},Ti={getAllEquipment:async(s={})=>(await ve.get("/equipment",{params:s})).data,addEquipment:async s=>(await ve.post("/equipment",s)).data,updateEquipment:async(s,t)=>(await ve.patch(`/equipment/${s}`,t)).data,deleteEquipment:async s=>(await ve.delete(`/equipment/${s}`)).data,reportIssue:async s=>(await ve.post("/equipment/report-issue",s)).data,getMaintenanceRequests:async(s={})=>(await ve.get("/equipment/requests",{params:s})).data,updateMaintenanceStatus:async(s,t)=>(await ve.patch(`/equipment/requests/${s}`,{status:t})).data},yL=({isOpen:s,onClose:t,onAdd:a})=>{const[l,i]=b.useState({name:"",status:"Working",lastMaintenance:"",nextMaintenance:""}),o=()=>{l.name&&(a(l),i({name:"",status:"Working",lastMaintenance:"",nextMaintenance:""}),t())};return s?e.jsxs("div",{className:"h-full flex flex-col bg-white",children:[e.jsx("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between bg-slate-50/50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg",children:e.jsx(Xl,{size:20,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-black text-slate-900",children:"Add New Equipment"}),e.jsx("p",{className:"text-slate-500 text-xs font-medium",children:"Register machinery for maintenance tracking"})]})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2",children:"Equipment Name"}),e.jsx("input",{type:"text",value:l.name,onChange:c=>i({...l,name:c.target.value}),className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl font-semibold text-slate-900 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 transition-all duration-300",placeholder:"e.g. Treadmill X500"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2",children:"Last Service Date"}),e.jsx("div",{className:"relative",children:e.jsx("input",{type:"date",value:l.lastMaintenance,onChange:c=>i({...l,lastMaintenance:c.target.value}),className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl font-semibold text-slate-900 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 transition-all duration-300"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2",children:"Next Service Due"}),e.jsx("input",{type:"date",value:l.nextMaintenance,onChange:c=>i({...l,nextMaintenance:c.target.value}),className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl font-semibold text-slate-900 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 transition-all duration-300"})]})]}),e.jsxs("div",{className:"bg-slate-50 border border-slate-100 rounded-xl p-4",children:[e.jsx("h4",{className:"text-slate-700 font-bold text-sm mb-1",children:"Status"}),e.jsxs("p",{className:"text-slate-500 text-xs",children:["New equipment is set to ",e.jsx("span",{className:"text-emerald-600 font-bold",children:"Working"})," by default."]})]})]}),e.jsx("div",{className:"p-6 border-t border-slate-100 bg-slate-50/50",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:t,className:"flex-1 py-3 rounded-xl font-bold text-slate-600 hover:bg-white border-2 border-slate-200 hover:border-slate-300 transition-all duration-300",children:"Cancel"}),e.jsx("button",{onClick:o,disabled:!l.name,className:"flex-1 py-3 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-xl font-bold hover:shadow-xl hover:shadow-violet-500/50 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:"Add Item"})]})})]}):null},jL=()=>{const[s,t]=b.useState([]),[a,l]=b.useState(!1),[i,o]=b.useState(!0);b.useEffect(()=>{c()},[]);const c=async()=>{try{o(!0);const y=(await Ti.getAllEquipment()).map(g=>({id:g.id,name:g.name,status:g.status==="Operational"?"Working":g.status==="Under Maintenance"?"Under Maintenance":g.status==="Out of Order"?"Out of Order":"Working",lastMaintenance:g.purchaseDate?new Date(g.purchaseDate).toLocaleDateString():"N/A",nextMaintenance:g.warrantyExpiry?new Date(g.warrantyExpiry).toLocaleDateString():"N/A"}));t(y)}catch(f){console.error(f),Ve.error("Failed to load equipment")}finally{o(!1)}},u=async f=>{try{await Ti.addEquipment({name:f.name,status:f.status==="Working"?"Operational":f.status,purchaseDate:f.lastMaintenance,warrantyExpiry:f.nextMaintenance}),Ve.success("Equipment added successfully"),c(),l(!1)}catch{Ve.error("Failed to add equipment")}},x=async(f,y)=>{try{const g=y==="Working"?"Operational":y;await Ti.updateEquipment(f,{status:g}),Ve.success(`Status updated to ${y}`),c()}catch{Ve.error("Failed to update status")}},h=f=>{const y={Working:{gradient:"from-emerald-500 to-emerald-600",icon:Qt,shadow:"shadow-emerald-500/50"},"Under Maintenance":{gradient:"from-amber-500 to-orange-600",icon:Xl,shadow:"shadow-amber-500/50"},"Out of Order":{gradient:"from-red-500 to-red-600",icon:cl,shadow:"shadow-red-500/50"}},{gradient:g,icon:v,shadow:C}=y[f]||y.Working;return e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-xl bg-gradient-to-r ${g} text-white text-xs font-black shadow-lg ${C} hover:scale-110 transition-all duration-300 cursor-pointer`,children:[e.jsx(v,{size:14,strokeWidth:2.5}),f]})},p=f=>({Working:"emerald","Under Maintenance":"amber","Out of Order":"red"})[f]||"emerald";return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 rounded-xl sm:rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6 flex-shrink-0",children:e.jsx(Xl,{size:24,className:"sm:w-7 sm:h-7",strokeWidth:2.5})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Equipment Maintenance"}),e.jsx("span",{className:"px-2 py-0.5 bg-gradient-to-r from-violet-500 to-purple-600 text-white text-[10px] font-black rounded-md shadow-sm animate-pulse flex-shrink-0",children:"PREMIUM "})]}),e.jsx("p",{className:"text-slate-600 text-xs sm:text-sm mt-1",children:"Track and manage gym equipment status"})]})]}),e.jsxs("button",{onClick:()=>l(!0),className:"group flex items-center justify-center gap-2 px-4 sm:px-5 py-2.5 sm:py-3 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-lg sm:rounded-xl text-xs sm:text-sm font-bold shadow-xl shadow-violet-500/50 hover:shadow-2xl hover:shadow-violet-500/60 hover:scale-105 transition-all w-full sm:w-auto",children:[e.jsx(wt,{size:16,strokeWidth:2.5,className:"sm:w-[18px] sm:h-[18px] transition-all duration-300 group-hover:scale-110 group-hover:rotate-90"}),"Add Equipment"]})]})})]}),e.jsx("div",{className:"md:hidden space-y-3 sm:space-y-4 mb-6",children:s.map(f=>e.jsx(Ya,{title:f.name,badge:f.status,badgeColor:p(f.status),fields:[{label:"Last Maintenance",value:f.lastMaintenance,icon:Xe},{label:"Next Maintenance",value:f.nextMaintenance,icon:Xe}],actions:[{label:"Mark as Working",onClick:()=>x(f.id,"Working"),show:f.status!=="Working"},{label:"Mark as Maintenance",onClick:()=>x(f.id,"Under Maintenance"),show:f.status!=="Under Maintenance"},{label:"Mark as Broken",onClick:()=>x(f.id,"Out of Order"),show:f.status!=="Out of Order"}].filter(y=>y.show!==!1)},f.id))}),e.jsxs("div",{className:"hidden md:block group relative bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden hover:shadow-2xl hover:border-violet-200 transition-all duration-500 transform hover:-translate-y-1",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50/30 to-purple-50/30 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e.jsx("div",{className:"relative z-10 overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left text-sm",children:[e.jsx("thead",{className:"bg-slate-50/50 border-b border-slate-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Equipment"}),e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Status"}),e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Last Maintenance"}),e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Next Maintenance"}),e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs text-right hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:s.map(f=>e.jsxs("tr",{className:"group/row hover:bg-gradient-to-r hover:from-violet-50/50 hover:to-purple-50/50 transition-all duration-300 cursor-pointer hover:shadow-md",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-violet-100 to-purple-100 text-violet-600 flex items-center justify-center shadow-md transition-all duration-500 group-hover/row:scale-125 group-hover/row:bg-gradient-to-br group-hover/row:from-violet-500 group-hover/row:to-purple-600 group-hover/row:text-white group-hover/row:shadow-xl group-hover/row:rotate-6",children:e.jsx(Xl,{size:18,strokeWidth:2.5})}),e.jsx("span",{className:"font-bold text-slate-800 group-hover/row:text-violet-700 group-hover/row:translate-x-1 transition-all duration-300",children:f.name})]})}),e.jsx("td",{className:"px-6 py-4",children:h(f.status)}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2 text-slate-600 font-semibold",children:[e.jsx(Xe,{size:14,className:"text-slate-400"}),f.lastMaintenance]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-bold",children:[e.jsx(Xe,{size:14,className:"text-violet-400"}),f.nextMaintenance]})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsxs("select",{value:f.status,onChange:y=>x(f.id,y.target.value),className:"px-3 py-2 text-xs font-bold border-2 border-slate-200 rounded-lg bg-white hover:border-violet-300 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 transition-all duration-300 cursor-pointer",children:[e.jsx("option",{value:"Working",children:"Working"}),e.jsx("option",{value:"Under Maintenance",children:"Maintenance"}),e.jsx("option",{value:"Out of Order",children:"Broken"})]})})]},f.id))})]})})]}),e.jsx(rt,{isOpen:a,onClose:()=>l(!1),title:"Create Equipment",children:e.jsx(yL,{isOpen:a,onClose:()=>l(!1),onAdd:u})})]})},O0={getAllInventory:async()=>(await ve.get("/inventory")).data,addInventoryItem:async s=>(await ve.post("/inventory",s)).data,updateInventoryItem:async(s,t)=>(await ve.patch(`/inventory/${s}`,t)).data,recordUsage:async s=>(await ve.post("/inventory/usage",s)).data,receiveStock:async s=>(await ve.post("/inventory/restock",s)).data,deleteInventoryItem:async s=>(await ve.delete(`/inventory/${s}`)).data},wL=()=>{const[s,t]=b.useState(""),[a,l]=b.useState("All"),[i,o]=b.useState([]),[c,u]=b.useState(!0);b.useEffect(()=>{x()},[]);const x=async()=>{try{u(!0);const v=await O0.getAllInventory();o(v)}catch(v){console.error(v),Ve.error("Failed to load inventory")}finally{u(!1)}},h=v=>{const C=v==="Low Stock",N=v==="Out of Stock";let k,A,E;N?(k="from-red-500 to-red-600",A=cl,E="shadow-red-500/50"):C?(k="from-amber-500 to-orange-600",A=cl,E="shadow-amber-500/50"):(k="from-emerald-500 to-emerald-600",A=Qt,E="shadow-emerald-500/50");const w=A;return e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-xl bg-gradient-to-r ${k} text-white text-xs font-black shadow-lg ${E} hover:scale-110 transition-all duration-300 cursor-pointer`,children:[e.jsx(w,{size:14,strokeWidth:2.5}),v]})},p=v=>v==="Out of Stock"?"red":v==="Low Stock"?"amber":"emerald",f=i.filter(v=>v.status==="Low Stock"||v.status==="Out of Stock").length,y=i.filter(v=>(a==="All"||v.category===a)&&v.itemName.toLowerCase().includes(s.toLowerCase())),g=["All",...new Set(i.map(v=>v.category))];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 rounded-xl sm:rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6 flex-shrink-0",children:e.jsx(ol,{size:24,className:"sm:w-7 sm:h-7",strokeWidth:2.5})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Inventory Management"}),e.jsx("span",{className:"px-2 py-0.5 bg-gradient-to-r from-violet-500 to-purple-600 text-white text-[10px] font-black rounded-md shadow-sm animate-pulse flex-shrink-0",children:"PREMIUM "})]}),e.jsx("p",{className:"text-slate-600 text-xs sm:text-sm mt-1",children:"Track gym supplies and equipment stock"})]})]}),e.jsxs("button",{onClick:async()=>{const v=prompt("Item Name:");if(!v)return;const C=prompt("Category:","Supplies"),N=prompt("Quantity:","10");try{await O0.addInventoryItem({itemName:v,category:C,quantity:N,unit:"pcs",minThreshold:5}),Ve.success("Item added"),x()}catch{Ve.error("Failed to add item")}},className:"group flex items-center justify-center gap-2 px-4 sm:px-5 py-2.5 sm:py-3 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-lg sm:rounded-xl text-xs sm:text-sm font-bold shadow-xl shadow-violet-500/50 hover:shadow-2xl hover:shadow-violet-500/60 hover:scale-105 transition-all w-full sm:w-auto",children:[e.jsx(wt,{size:16,strokeWidth:2.5,className:"sm:w-[18px] sm:h-[18px] transition-all duration-300 group-hover:scale-110 group-hover:rotate-90"}),"Add Item"]})]})})]}),f>0&&e.jsxs("div",{className:"mb-6 sm:mb-8 group relative bg-white rounded-xl sm:rounded-2xl shadow-lg border border-red-100 p-1 overflow-hidden animate-fade-in",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-50 to-orange-50 opacity-50"}),e.jsxs("div",{className:"relative p-3 sm:p-4 flex flex-col sm:flex-row items-start sm:items-center gap-3 sm:gap-4",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg sm:rounded-xl bg-gradient-to-br from-red-500 to-orange-600 flex items-center justify-center text-white shadow-lg shadow-red-500/30 animate-pulse flex-shrink-0",children:e.jsx(cl,{size:18,className:"sm:w-5 sm:h-5",strokeWidth:2.5})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-red-800 font-black text-xs sm:text-sm uppercase tracking-wider",children:"Attention Needed"}),e.jsxs("p",{className:"text-red-600 font-bold text-xs sm:text-sm",children:[f," items are running low or out of stock. Please restock soon."]})]}),e.jsx("button",{className:"px-3 sm:px-4 py-1.5 sm:py-2 bg-white text-red-600 text-[10px] sm:text-xs font-black uppercase tracking-wider rounded-lg border border-red-100 shadow-sm hover:shadow-md hover:scale-105 transition-all w-full sm:w-auto",children:"View Items"})]})]}),e.jsxs("div",{className:"mb-4 sm:mb-6 flex flex-col gap-3 sm:gap-4",children:[e.jsxs("div",{className:"relative flex-1 group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(st,{size:16,className:"sm:w-[18px] sm:h-[18px] text-slate-400 group-focus-within:text-violet-500 transition-colors"})}),e.jsx("input",{type:"text",placeholder:"Search inventory...",value:s,onChange:v=>t(v.target.value),className:"block w-full pl-10 pr-3 py-2.5 sm:py-3 border-2 border-slate-200 rounded-lg sm:rounded-xl leading-5 bg-white placeholder-slate-400 focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 transition-all duration-300 font-semibold text-slate-700 text-sm"})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(ks,{size:16,className:"sm:w-[18px] sm:h-[18px] text-slate-400 group-focus-within:text-violet-500 transition-colors"})}),e.jsx("select",{value:a,onChange:v=>l(v.target.value),className:"block w-full pl-10 pr-10 py-2.5 sm:py-3 border-2 border-slate-200 rounded-lg sm:rounded-xl leading-5 bg-white focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 transition-all duration-300 font-semibold text-slate-700 appearance-none cursor-pointer text-sm",children:g.map(v=>e.jsx("option",{value:v,children:v},v))}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none",children:e.jsx(Ew,{size:14,className:"sm:w-4 sm:h-4 text-slate-400"})})]})]}),e.jsx("div",{className:"md:hidden space-y-3 sm:space-y-4 mb-6",children:y.map(v=>e.jsx(Ya,{title:v.itemName,subtitle:v.category,badge:v.status,badgeColor:p(v.status),fields:[{label:"Quantity",value:v.quantity},{label:"Min Stock",value:v.minThreshold}],actions:[{label:"Restock",onClick:async()=>{const C=prompt("Amount received:");if(C)try{await O0.receiveStock({itemId:v.id,quantity:C}),Ve.success("Restocked"),x()}catch{}}},{label:"Use",onClick:async()=>{const C=prompt("Amount used:");if(C)try{await O0.recordUsage({itemId:v.id,quantity:C}),Ve.success("Recorded"),x()}catch{}}}]},v.id))}),e.jsxs("div",{className:"hidden md:block group relative bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden hover:shadow-2xl hover:border-violet-200 transition-all duration-500 transform hover:-translate-y-1",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50/30 to-purple-50/30 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e.jsx("div",{className:"relative z-10 overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left text-sm",children:[e.jsx("thead",{className:"bg-slate-50/50 border-b border-slate-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Item Name"}),e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Category"}),e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Quantity"}),e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Min Stock"}),e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Status"}),e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs text-right hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:y.map(v=>e.jsxs("tr",{className:"group/row hover:bg-gradient-to-r hover:from-violet-50/50 hover:to-purple-50/50 transition-all duration-300 cursor-pointer hover:shadow-md",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-violet-100 to-purple-100 text-violet-600 flex items-center justify-center shadow-md transition-all duration-500 group-hover/row:scale-125 group-hover/row:bg-gradient-to-br group-hover/row:from-violet-500 group-hover/row:to-purple-600 group-hover/row:text-white group-hover/row:shadow-xl group-hover/row:rotate-6",children:e.jsx(ol,{size:18,strokeWidth:2.5})}),e.jsx("span",{className:"font-bold text-slate-800 group-hover/row:text-violet-700 group-hover/row:translate-x-1 transition-all duration-300",children:v.itemName})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-lg text-xs font-bold bg-slate-100 text-slate-600 group-hover/row:bg-white group-hover/row:shadow-sm transition-all duration-300",children:v.category})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"font-black text-slate-700",children:[v.quantity," ",v.unit]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-slate-500 font-semibold",children:v.minThreshold})}),e.jsx("td",{className:"px-6 py-4",children:h(v.status)}),e.jsxs("td",{className:"px-6 py-4 text-right",children:[e.jsx("button",{onClick:async()=>{const C=prompt("Add to stock:","10");C&&(await O0.receiveStock({itemId:v.id,quantity:C}),Ve.success("Added"),x())},className:"text-emerald-500 hover:text-emerald-700 font-bold text-xs transition-colors mr-3",children:"+ Stock"}),e.jsx("button",{onClick:async()=>{confirm("Delete this item?")&&(await O0.deleteInventoryItem(v.id),Ve.success("Deleted"),x())},className:"text-red-400 hover:text-red-600 font-bold text-xs transition-colors",children:"Del"})]})]},v.id))})]})})]})]})},eb={getAllAnnouncements:async()=>(await ve.get("/announcements")).data,addAnnouncement:async s=>(await ve.post("/announcements",s)).data},NL=({audience:s})=>{const t={"All Members":1240,"Active Members":850,"Expired Members":390,"Staff Only":45,"Trainers Only":12};return e.jsxs("div",{className:"mt-4 p-4 bg-indigo-50/50 rounded-2xl border border-indigo-100 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-white flex items-center justify-center text-indigo-600 shadow-sm",children:e.jsx(Pt,{size:16})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-indigo-600 uppercase tracking-widest",children:"Estimated Reach"}),e.jsxs("p",{className:"text-sm font-bold text-slate-700",children:[t[s]||0," People"]})]})]}),e.jsxs("div",{className:"flex -space-x-2",children:[[1,2,3].map(a=>e.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-white bg-slate-200"},a)),e.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-white bg-indigo-100 flex items-center justify-center text-[8px] font-black text-indigo-600",children:"+"})]})]})},kL=({isOpen:s,onClose:t,onSuccess:a})=>{const[l,i]=b.useState({title:"",message:"",targetAudience:"All Members",scheduledTime:"",priority:"Normal",broadcastType:"Now"}),[o,c]=b.useState(!1),u=["All Members","Active Members","Expired Members","Staff Only","Trainers Only"],x=["Normal","High","Urgent"],h=async p=>{p.preventDefault(),c(!0);try{await eb.addAnnouncement({title:l.title,message:l.message,priority:l.priority.toLowerCase(),targetAudience:l.targetAudience.toLowerCase()}),Ve.success("Announcement broadcasted successfully!"),a(),t()}catch(f){console.error(f),Ve.error(f.response?.data?.message||"Failed to broadcast announcement")}finally{c(!1)}};return e.jsxs("form",{onSubmit:h,className:"flex flex-col h-full bg-gray-50/50",children:[e.jsxs("div",{className:"flex-1 overflow-y-auto p-8 space-y-10 custom-scrollbar pb-12",children:[e.jsxs("div",{className:"bg-slate-900 rounded-[32px] p-8 text-white relative overflow-hidden group shadow-2xl",children:[e.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-indigo-500 rounded-full blur-[80px] opacity-20 group-hover:opacity-40 transition-opacity duration-700"}),e.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-white/10 backdrop-blur-md rounded-full flex items-center justify-center mb-4 border border-white/20 shadow-inner",children:e.jsx(vn,{size:40,className:"text-indigo-400 animate-pulse"})}),e.jsx("h3",{className:"text-2xl font-black tracking-tight",children:"Broadcast Message"}),e.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-[0.2em] mt-2",children:"Send updates to your gym community"})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-4",children:"Announcement Title"}),e.jsxs("div",{className:"relative",children:[e.jsx(Gr,{className:"absolute left-6 top-1/2 -translate-y-1/2 text-indigo-400",size:20}),e.jsx("input",{required:!0,type:"text",placeholder:"Summer Bootcamp 2024 is here!",className:"w-full pl-14 pr-6 py-5 bg-white border-2 border-slate-100 rounded-[28px] text-sm font-bold text-slate-700 focus:outline-none focus:border-indigo-500 transition-all shadow-sm group-hover:shadow-md",value:l.title,onChange:p=>i({...l,title:p.target.value})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-4",children:"Detailed Message"}),e.jsx("textarea",{required:!0,rows:"5",placeholder:"Type your message here... You can use emojis too! ",className:"w-full p-8 bg-white border-2 border-slate-100 rounded-[32px] text-sm font-medium text-slate-700 focus:outline-none focus:border-indigo-500 transition-all shadow-sm resize-none",value:l.message,onChange:p=>i({...l,message:p.target.value})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-4",children:"Target Audience"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:u.map(p=>e.jsx("button",{type:"button",onClick:()=>i({...l,targetAudience:p}),className:`px-4 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all border-2 ${l.targetAudience===p?"bg-indigo-600 border-indigo-600 text-white shadow-lg shadow-indigo-200":"bg-white border-slate-100 text-slate-400 hover:border-indigo-100 hover:text-indigo-600"}`,children:p},p))}),e.jsx(NL,{audience:l.targetAudience})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-4",children:"Broadcasting Schedule"}),e.jsx("div",{className:"flex p-1 bg-white border-2 border-slate-100 rounded-2xl",children:["Now","Scheduled"].map(p=>e.jsx("button",{type:"button",onClick:()=>i({...l,broadcastType:p}),className:`flex-1 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${l.broadcastType===p?"bg-slate-900 text-white shadow-lg":"text-slate-400"}`,children:p},p))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-4",children:"Urgency Level"}),e.jsx("div",{className:"flex gap-2",children:x.map(p=>e.jsx("button",{type:"button",onClick:()=>i({...l,priority:p}),className:`flex-1 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all border-2 ${l.priority===p?p==="Urgent"?"bg-rose-600 border-rose-600 text-white shadow-rose-200":"bg-slate-900 border-slate-900 text-white shadow-slate-200":"bg-white border-slate-100 text-slate-400"}`,children:p},p))})]})]}),l.broadcastType==="Scheduled"&&e.jsxs("div",{className:"space-y-4 animate-in slide-in-from-top-4 duration-300",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-4",children:"Publish Date & Time"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ze,{className:"absolute left-6 top-1/2 -translate-y-1/2 text-slate-300",size:18}),e.jsx("input",{type:"datetime-local",className:"w-full pl-14 pr-6 py-5 bg-white border-2 border-slate-100 rounded-[28px] text-sm font-bold text-slate-700 focus:outline-none focus:border-indigo-500 transition-all shadow-sm",value:l.scheduledTime,onChange:p=>i({...l,scheduledTime:p.target.value})})]})]})]})]}),e.jsxs("div",{className:"shrink-0 p-8 bg-white border-t border-slate-50 flex gap-4 shadow-[0_-10px_40px_rgba(0,0,0,0.03)]",children:[e.jsx("button",{type:"button",onClick:t,className:"flex-1 py-5 bg-slate-50 text-slate-400 rounded-[24px] font-black uppercase tracking-widest hover:bg-slate-100 hover:text-slate-600 transition-all",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:o,className:"flex-[2] py-5 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-[24px] font-black uppercase tracking-widest shadow-2xl shadow-indigo-500/30 hover:shadow-indigo-500/50 transition-all transform hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50 flex items-center justify-center gap-3",children:o?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white/20 border-t-white rounded-full animate-spin"}),e.jsx("span",{children:"Processing..."})]}):e.jsxs(e.Fragment,{children:[e.jsx($d,{size:20}),e.jsx("span",{children:l.broadcastType==="Now"?"Broadcast Now":"Schedule Broadcast"})]})})]})]})},SL=()=>{const[s,t]=b.useState([]),[a,l]=b.useState(!1),[i,o]=b.useState(!0);b.useEffect(()=>{x()},[]);const c=h=>{const p={high:{gradient:"from-rose-500 to-red-600",bg:"bg-rose-50",text:"text-rose-700",border:"border-rose-100",icon:ms,shadow:"shadow-rose-500/20"},medium:{gradient:"from-amber-500 to-orange-600",bg:"bg-amber-50",text:"text-amber-700",border:"border-amber-100",icon:Sn,shadow:"shadow-amber-500/20"},low:{gradient:"from-indigo-500 to-blue-600",bg:"bg-indigo-50",text:"text-indigo-700",border:"border-indigo-100",icon:Sn,shadow:"shadow-indigo-500/20"}};return p[h]||p.medium},u=()=>{x()},x=async()=>{try{o(!0);const h=await eb.getAllAnnouncements();t(h)}catch(h){console.error(h),Ve.error("Failed to load announcements")}finally{o(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-indigo-50/20 p-6 md:p-10 font-sans",children:[e.jsx("div",{className:"max-w-7xl mx-auto mb-12",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-8",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute -top-10 -left-10 w-40 h-40 bg-indigo-200 rounded-full blur-3xl opacity-20 pointer-events-none"}),e.jsxs("h1",{className:"relative text-3xl md:text-5xl font-black text-slate-800 flex items-center gap-4",children:[e.jsx(vn,{className:"text-indigo-600",size:40}),"Broadcast Center"]}),e.jsx("p",{className:"text-slate-500 mt-3 text-lg font-medium max-w-xl",children:"Keep your community engaged with updates, events, and important notices."})]}),e.jsxs("button",{onClick:()=>l(!0),className:"px-8 py-5 bg-slate-900 text-white rounded-[24px] font-black uppercase tracking-widest flex items-center justify-center gap-3 hover:bg-indigo-600 transition-all shadow-2xl shadow-slate-200 hover:shadow-indigo-500/40 hover:-translate-y-1",children:[e.jsx(wt,{size:22,className:"transition-transform group-hover:rotate-90"}),"New Announcement"]})]})}),e.jsx("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:s.length===0?e.jsxs("div",{className:"col-span-full py-24 flex flex-col items-center justify-center text-center animate-in fade-in slide-in-from-bottom-4 duration-700",children:[e.jsx("div",{className:"w-24 h-24 bg-white/60 backdrop-blur-md rounded-[40px] shadow-sm flex items-center justify-center text-slate-200 mb-6 border border-white/50",children:e.jsx(vn,{size:48,className:"opacity-20"})}),e.jsx("h3",{className:"text-xl font-black text-slate-800 tracking-tight",children:"No Broadcasts Yet"}),e.jsx("p",{className:"text-slate-500 text-sm font-medium max-w-sm mx-auto mt-2",children:"Your announcement history is empty. Start by sharing an update or event with your members."}),e.jsx("button",{onClick:()=>l(!0),className:"mt-8 px-8 py-3 bg-indigo-50 text-indigo-600 rounded-[24px] text-[10px] font-black uppercase tracking-widest hover:bg-indigo-600 hover:text-white transition-all shadow-sm",children:"Launch First Broadcast"})]}):s.map(h=>{const p=c(h.priority),f=p.icon;return e.jsxs("div",{className:"group relative bg-white/60 backdrop-blur-md rounded-[40px] border border-white/50 p-8 shadow-sm hover:shadow-2xl transition-all duration-500 hover:-translate-y-2 overflow-hidden",children:[e.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 bg-gradient-to-br ${p.gradient} opacity-[0.03] rounded-full -translate-y-1/2 translate-x-1/2 group-hover:scale-150 transition-transform duration-700`}),e.jsxs("div",{className:"flex justify-between items-start mb-8",children:[e.jsx("div",{className:`w-14 h-14 rounded-2xl bg-gradient-to-br ${p.gradient} flex items-center justify-center text-white shadow-xl ${p.shadow} group-hover:rotate-12 transition-transform`,children:e.jsx(f,{size:28})}),e.jsx("span",{className:`px-4 py-1.5 rounded-full ${p.bg} ${p.text} text-[10px] font-black uppercase tracking-widest border ${p.border}`,children:h.priority})]}),e.jsx("h3",{className:"text-xl font-black text-slate-800 mb-3 group-hover:text-indigo-600 transition-colors leading-tight",children:h.title}),e.jsx("p",{className:"text-slate-500 text-sm font-medium leading-relaxed mb-8 line-clamp-3",children:h.message}),e.jsxs("div",{className:"pt-6 border-t border-slate-50 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-slate-50 flex items-center justify-center text-slate-400",children:e.jsx(Pt,{size:16})}),e.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:h.targetAudience})]}),e.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-bold text-slate-400 whitespace-nowrap",children:[e.jsx(Xe,{size:14,className:"text-slate-300"}),h.date]})]})]},h.id)})}),e.jsx(rt,{isOpen:a,onClose:()=>l(!1),title:"Create Announcement",children:e.jsx(kL,{isOpen:a,onClose:()=>l(!1),onSuccess:u})})]})},Ny={getAllRewards:async()=>(await ve.get("/rewards")).data,addReward:async s=>(await ve.post("/rewards",s)).data},CL=({isOpen:s,onClose:t,onAdd:a})=>{const[l,i]=b.useState({name:"",points:"",description:""}),o=()=>{!l.name||!l.points||(a(l),i({name:"",points:"",description:""}),t())};return s?e.jsxs("div",{className:"h-full flex flex-col bg-white",children:[e.jsx("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between bg-slate-50/50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg",children:e.jsx(Rd,{size:20,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-black text-slate-900",children:"Add New Reward"}),e.jsx("p",{className:"text-slate-500 text-xs font-medium",children:"Create a new redeemable item"})]})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2",children:"Reward Name"}),e.jsx("input",{type:"text",value:l.name,onChange:c=>i({...l,name:c.target.value}),className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl font-bold text-slate-900 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 transition-all duration-300",placeholder:"e.g. Gym Bag"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2",children:"Points Cost"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",value:l.points,onChange:c=>i({...l,points:c.target.value}),className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl font-bold text-slate-900 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 transition-all duration-300 pl-10",placeholder:"1000"}),e.jsx(Hl,{size:16,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-amber-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2",children:"Description"}),e.jsx("textarea",{value:l.description,onChange:c=>i({...l,description:c.target.value}),className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl font-medium text-slate-900 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 transition-all duration-300 min-h-[120px] resize-none",placeholder:"Brief details..."})]})]}),e.jsx("div",{className:"p-6 border-t border-slate-100 bg-slate-50/50",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:t,className:"flex-1 py-3 rounded-xl font-bold text-slate-600 hover:bg-white border-2 border-slate-200 hover:border-slate-300 transition-all duration-300",children:"Cancel"}),e.jsx("button",{onClick:o,disabled:!l.name||!l.points,className:"flex-1 py-3 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-xl font-bold hover:shadow-xl hover:shadow-violet-500/50 transition-all duration-300 disabled:opacity-50",children:"Create Reward"})]})})]}):null},AL=()=>{const[s,t]=b.useState([]),[a,l]=b.useState(!0);b.useEffect(()=>{i()},[]);const i=async()=>{try{l(!0);const y=(await Ny.getAllRewards()).map(g=>({id:g.id,name:g.member,points:g.points,description:g.description,category:"Custom"}));t(y)}catch(f){console.error(f),Ve.error("Failed to load rewards")}finally{l(!1)}},[o,c]=b.useState({checkIn:10,referral:500,review:100,classBooking:20}),[u,x]=b.useState(!1),h=async f=>{try{await Ny.addReward({points:parseInt(f.points),description:f.name||f.description}),Ve.success("Reward added successfully"),i(),x(!1)}catch{Ve.error("Failed to add reward")}},p=f=>{t(s.filter(y=>y.id!==f))};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-6",children:[e.jsxs("div",{className:"mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(Rd,{size:28,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Rewards Program"}),e.jsx("span",{className:"px-2 py-0.5 bg-gradient-to-r from-violet-500 to-purple-600 text-white text-[10px] font-black rounded-md shadow-sm animate-pulse",children:"PREMIUM "})]}),e.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Configure loyalty points and redeemable rewards"})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"group relative bg-white rounded-2xl shadow-lg border border-slate-100 p-6 lg:col-span-1 overflow-hidden h-fit",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50/50 to-purple-50/50 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("h3",{className:"text-lg font-black text-slate-900 mb-6 flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-indigo-500 to-blue-600 flex items-center justify-center text-white shadow-md",children:e.jsx(om,{size:16,strokeWidth:2.5})}),"Earning Rules"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-slate-50/80 p-4 rounded-xl border border-slate-200 hover:border-violet-300 transition-colors duration-300",children:e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-bold text-sm",children:[e.jsx("div",{className:"p-1.5 bg-green-100 text-green-600 rounded-lg",children:e.jsx(ua,{size:14})}),"Per Check-in"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("input",{type:"number",value:o.checkIn,onChange:f=>c({...o,checkIn:parseInt(f.target.value)}),className:"w-16 p-1.5 bg-white border-2 border-slate-200 rounded-lg text-right font-black text-slate-900 focus:border-violet-500 focus:outline-none transition-all text-sm"}),e.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase",children:"PTS"})]})]})}),e.jsx("div",{className:"bg-slate-50/80 p-4 rounded-xl border border-slate-200 hover:border-violet-300 transition-colors duration-300",children:e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-bold text-sm",children:[e.jsx("div",{className:"p-1.5 bg-purple-100 text-purple-600 rounded-lg",children:e.jsx(Pt,{size:14})}),"Per Referral"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("input",{type:"number",value:o.referral,onChange:f=>c({...o,referral:parseInt(f.target.value)}),className:"w-16 p-1.5 bg-white border-2 border-slate-200 rounded-lg text-right font-black text-slate-900 focus:border-violet-500 focus:outline-none transition-all text-sm"}),e.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase",children:"PTS"})]})]})}),e.jsx("div",{className:"bg-slate-50/80 p-4 rounded-xl border border-slate-200 hover:border-violet-300 transition-colors duration-300",children:e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-bold text-sm",children:[e.jsx("div",{className:"p-1.5 bg-amber-100 text-amber-600 rounded-lg",children:e.jsx(Hl,{size:14})}),"Google Review"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("input",{type:"number",value:o.review,onChange:f=>c({...o,review:parseInt(f.target.value)}),className:"w-16 p-1.5 bg-white border-2 border-slate-200 rounded-lg text-right font-black text-slate-900 focus:border-violet-500 focus:outline-none transition-all text-sm"}),e.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase",children:"PTS"})]})]})}),e.jsx("div",{className:"bg-slate-50/80 p-4 rounded-xl border border-slate-200 hover:border-violet-300 transition-colors duration-300",children:e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-bold text-sm",children:[e.jsx("div",{className:"p-1.5 bg-blue-100 text-blue-600 rounded-lg",children:e.jsx(Xe,{size:14})}),"Class Booking"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("input",{type:"number",value:o.classBooking,onChange:f=>c({...o,classBooking:parseInt(f.target.value)}),className:"w-16 p-1.5 bg-white border-2 border-slate-200 rounded-lg text-right font-black text-slate-900 focus:border-violet-500 focus:outline-none transition-all text-sm"}),e.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase",children:"PTS"})]})]})})]}),e.jsx("button",{className:"w-full mt-6 py-3 bg-gradient-to-r from-indigo-500 to-violet-600 text-white rounded-xl font-bold shadow-lg shadow-indigo-500/30 hover:shadow-xl hover:shadow-indigo-500/40 hover:scale-105 transition-all duration-300",children:"Save Configuration"})]})]}),e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-xl font-black text-slate-900",children:"Active Rewards"}),e.jsxs("button",{onClick:()=>x(!0),className:"flex items-center gap-2 px-4 py-2 bg-white border-2 border-slate-200 text-slate-700 rounded-xl text-sm font-bold hover:border-violet-500 hover:text-violet-600 transition-all duration-300",children:[e.jsx(wt,{size:16,strokeWidth:2.5})," Add Reward"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.map(f=>e.jsxs("div",{className:"group relative bg-white p-6 rounded-2xl border border-slate-100 shadow-sm hover:shadow-xl hover:border-violet-200 transition-all duration-300 hover:-translate-y-1 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50/30 to-purple-50/30 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-10",children:e.jsx("button",{onClick:()=>p(f.id),className:"p-2 bg-white rounded-lg text-slate-400 hover:text-red-500 hover:bg-red-50 transition-colors shadow-sm",children:e.jsx(xs,{size:16})})}),e.jsxs("div",{className:"relative z-10 flex items-start gap-4",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-amber-400 to-orange-500 text-white rounded-2xl flex items-center justify-center shrink-0 shadow-lg shadow-amber-500/30 group-hover:scale-110 group-hover:rotate-6 transition-transform duration-300",children:e.jsx(Gg,{size:28,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-slate-900 text-lg group-hover:text-violet-700 transition-colors",children:f.name}),e.jsxs("div",{className:"inline-flex items-center gap-1 text-amber-600 font-black text-sm mb-2 bg-amber-50 px-2 py-0.5 rounded-md border border-amber-100",children:[e.jsx(Hl,{size:12,fill:"currentColor"})," ",f.points," Points"]}),e.jsx("p",{className:"text-sm text-slate-600 font-medium leading-relaxed",children:f.description})]})]})]},f.id))})]})]}),e.jsx(rt,{isOpen:u,onClose:()=>x(!1),title:"Create Reward",children:e.jsx(CL,{isOpen:u,onClose:()=>x(!1),onAdd:h})})]})},of={getAllFeedback:async()=>(await ve.get("/feedback")).data,addFeedback:async s=>(await ve.post("/feedback",s)).data,updateFeedbackStatus:async(s,t)=>(await ve.patch(`/feedback/${s}/status`,{status:t})).data},ky=({role:s="ADMIN"})=>{const t=s==="MEMBER",[a,l]=b.useState(!1),[i,o]=b.useState(!1),[c,u]=b.useState("Suggestion"),[x,h]=b.useState(0),[p,f]=b.useState(""),[y,g]=b.useState(!1),[v,C]=b.useState(!1),[N,k]=b.useState(null),[A,E]=b.useState(""),[w,R]=b.useState([]);b.useEffect(()=>{t||T()},[t]);const T=async()=>{try{const P=(await of.getAllFeedback()).map(F=>({id:F.id,user:F.member,rating:F.rating,date:F.date,text:F.comment,source:"App",status:F.status}));R(P)}catch{Ve.error("Failed to load feedback")}},O=async z=>{try{await of.updateFeedbackStatus(z,"Resolved"),Ve.success("Feedback marked as resolved"),T(),k(null),E("")}catch{Ve.error("Failed to resolve feedback")}},W=()=>{o(!0),setTimeout(()=>{l(!0),o(!1),alert("Successfully connected to 'Kiaan Gyms' Google Business Profile!")},1500)},B=async z=>{z.preventDefault(),g(!0);try{await of.addFeedback({memberId:1,rating:x,comment:`[${c}] ${p}`}),C(!0)}catch{Ve.error("Failed to submit feedback")}finally{g(!1)}};return t?e.jsxs("div",{className:"fade-in space-y-8 p-4 md:p-8",children:[e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 pb-6 border-b-2 border-slate-100 mb-8",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-black text-slate-900 mb-2 tracking-tight",children:"Feedback Hub"}),e.jsx("p",{className:"text-slate-500 font-medium",children:"Help us evolve by sharing your experience."})]})}),e.jsx("div",{className:"max-w-4xl mx-auto",children:v?e.jsxs("div",{className:"bg-white rounded-[4rem] shadow-2xl p-20 text-center space-y-10 animate-in fade-in zoom-in duration-700 border border-slate-100",children:[e.jsxs("div",{className:"relative mx-auto w-24 h-24",children:[e.jsx("div",{className:"absolute inset-0 bg-emerald-500 rounded-full animate-ping opacity-20"}),e.jsx("div",{className:"relative w-full h-full bg-emerald-100 text-emerald-600 rounded-full flex items-center justify-center border-4 border-white shadow-xl",children:e.jsx(ng,{size:36})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-4xl font-black text-slate-900 tracking-tight",children:"Submission Received!"}),e.jsx("p",{className:"text-slate-500 text-lg font-medium leading-relaxed max-w-sm mx-auto",children:"We've received your feedback. Our team will review it shortly."})]}),e.jsx("button",{onClick:()=>C(!1),className:"px-10 py-4 bg-slate-900 text-white rounded-2xl font-black uppercase tracking-widest text-[10px] hover:bg-slate-800 transition-all shadow-lg",children:"Send Another"})]}):e.jsx(is,{className:"overflow-hidden border-none shadow-xl shadow-slate-200/50 rounded-[32px]",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 h-full",children:[e.jsxs("div",{className:"md:col-span-2 bg-gradient-to-br from-violet-600 via-purple-700 to-fuchsia-800 p-10 text-white flex flex-col justify-between relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full blur-2xl -mr-16 -mt-16"}),e.jsxs("div",{className:"relative z-10 space-y-6",children:[e.jsx("div",{className:"w-14 h-14 bg-white/10 backdrop-blur-md rounded-2xl flex items-center justify-center border border-white/20 shadow-xl",children:e.jsx(sr,{size:28,className:"text-violet-200"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("h2",{className:"text-3xl font-black leading-tight",children:["Your Voice ",e.jsx("br",{}),"Matters."]}),e.jsx("p",{className:"text-violet-100 text-sm font-medium leading-relaxed opacity-80",children:"Every piece of feedback helps us build a more premium experience for you."})]})]}),e.jsx("div",{className:"relative z-10 pt-10",children:e.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-violet-200 uppercase tracking-widest",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-400 animate-pulse"}),"Active System"]})})]}),e.jsx("div",{className:"md:col-span-3 p-8 lg:p-12 bg-white",children:e.jsxs("form",{onSubmit:B,className:"space-y-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] px-1",children:"How would you rate us?"}),e.jsx("div",{className:"flex gap-3",children:[1,2,3,4,5].map(z=>e.jsx("button",{type:"button",onClick:()=>h(z),className:`w-12 h-12 rounded-xl flex items-center justify-center transition-all duration-300 ${x>=z?"bg-amber-100 text-amber-500 scale-105 shadow-md shadow-amber-200":"bg-slate-50 text-slate-300 hover:bg-slate-100"}`,children:e.jsx(Hl,{size:20,fill:x>=z?"currentColor":"none",strokeWidth:x>=z?0:2})},z))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] px-1",children:"What's this about?"}),e.jsxs("select",{value:c,onChange:z=>u(z.target.value),className:"w-full px-6 py-4 bg-slate-50 border-2 border-slate-100 rounded-2xl text-sm font-bold focus:outline-none focus:border-violet-500 transition-all cursor-pointer text-slate-700",children:[e.jsx("option",{children:"Suggestion"}),e.jsx("option",{children:"Complaint"}),e.jsx("option",{children:"Praise"}),e.jsx("option",{children:"Equipment Request"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] px-1",children:"Your Message"}),e.jsx("textarea",{rows:"4",value:p,onChange:z=>f(z.target.value),placeholder:"Tell us what's on your mind...",className:"w-full px-6 py-5 bg-slate-50 border-2 border-slate-100 rounded-2xl text-sm font-bold focus:outline-none focus:border-violet-500 transition-all resize-none placeholder:text-slate-300 text-slate-700"})]}),e.jsx(Ft,{type:"submit",disabled:y||x===0,className:"w-full py-5 rounded-2xl font-black uppercase tracking-widest text-sm shadow-xl shadow-violet-200",children:y?e.jsxs("div",{className:"flex items-center justify-center gap-3",children:[e.jsx(Tr,{className:"animate-spin",size:18}),"Transmitting..."]}):"Submit Feedback"})]})})]})})})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-6",children:[e.jsxs("div",{className:"mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(vA,{size:28,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Member Feedback"}),e.jsx("span",{className:"px-2 py-0.5 bg-gradient-to-r from-violet-500 to-purple-600 text-white text-[10px] font-black rounded-md shadow-sm animate-pulse",children:"PREMIUM "})]}),e.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Monitor reviews and ratings from all sources"})]})]}),a?e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-emerald-50 text-emerald-700 rounded-xl font-bold text-sm border border-emerald-100 shadow-sm animate-fade-in",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),"Connected to Google Business"]}):e.jsxs("button",{onClick:W,disabled:i,className:"group flex items-center gap-2 px-5 py-3 bg-white border-2 border-slate-200 text-slate-600 rounded-xl text-sm font-bold shadow-sm hover:border-violet-500 hover:text-violet-600 hover:shadow-md transition-all duration-300",children:[i?e.jsx(Tr,{className:"animate-spin",size:18}):e.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg",alt:"G",className:"w-5 h-5 grayscale group-hover:grayscale-0 transition-all"}),i?"Connecting...":"Connect Google Reviews"]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"lg:col-span-1 group relative bg-white rounded-2xl shadow-lg border border-slate-100 p-8 hover:shadow-xl hover:border-amber-200 transition-all duration-300 overflow-hidden h-fit",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-50/50 to-orange-50/50 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-slate-400 font-black uppercase tracking-widest text-xs mb-2",children:"Overall Rating"}),e.jsx("div",{className:"text-6xl font-black bg-gradient-to-br from-amber-400 to-orange-500 bg-clip-text text-transparent mb-2",children:"4.8"}),e.jsx("div",{className:"flex justify-center gap-1 mb-2 text-amber-400",children:[1,2,3,4,5].map(z=>e.jsx(Hl,{size:24,fill:"currentColor",strokeWidth:0},z))}),e.jsx("div",{className:"text-sm font-bold text-slate-400",children:"Based on 128 Reviews"})]}),e.jsx("div",{className:"space-y-3 pt-6 border-t-2 border-slate-50",children:[5,4,3,2,1].map(z=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xs font-black text-slate-400 w-3",children:z}),e.jsx(Hl,{size:12,className:"text-slate-300",fill:"currentColor",strokeWidth:0}),e.jsx("div",{className:"flex-1 h-2.5 bg-slate-100 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ${z>=4?"bg-gradient-to-r from-emerald-400 to-emerald-500":z===3?"bg-gradient-to-r from-amber-400 to-amber-500":"bg-gradient-to-r from-red-400 to-red-500"}`,style:{width:z===5?"70%":z===4?"20%":"5%"}})}),e.jsx("span",{className:"text-[10px] font-bold text-slate-400 w-6 text-right",children:z===5?"70%":z===4?"20%":"5%"})]},z))})]})]}),e.jsx("div",{className:"lg:col-span-3 space-y-4",children:w.map(z=>e.jsxs("div",{className:"group relative bg-white p-6 rounded-2xl border border-slate-100 shadow-sm hover:shadow-xl hover:translate-x-1 transition-all duration-300 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-slate-50/50 to-white opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row gap-6",children:[e.jsxs("div",{className:"shrink-0 flex md:flex-col items-center gap-3 md:w-32 text-center md:border-r md:border-slate-100 md:pr-6",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-violet-100 to-purple-100 text-violet-600 rounded-full flex items-center justify-center font-black text-xl shadow-inner",children:z.user.charAt(0)}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-sm text-slate-900",children:z.user}),e.jsx("div",{className:"text-xs font-semibold text-slate-400 mt-0.5",children:z.date})]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{className:"flex gap-1 text-amber-400",children:[[...Array(z.rating)].map((P,F)=>e.jsx(Hl,{size:18,fill:"currentColor",strokeWidth:0},F)),[...Array(5-z.rating)].map((P,F)=>e.jsx(Hl,{size:18,className:"text-slate-200",fill:"currentColor",strokeWidth:0},F))]}),e.jsxs("div",{className:"flex gap-2",children:[z.status==="Resolved"&&e.jsx("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-lg text-xs font-bold border bg-emerald-50 text-emerald-600 border-emerald-100",children:"Resolved"}),e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-lg text-xs font-bold border ${z.source==="Google"?"bg-blue-50 text-blue-600 border-blue-100":"bg-indigo-50 text-indigo-600 border-indigo-100"}`,children:[z.source==="Google"&&e.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg",alt:"G",className:"w-3 h-3"}),z.source]})]})]}),e.jsxs("p",{className:"text-slate-600 font-medium leading-relaxed mb-4 italic",children:['"',z.text,'"']}),N===z.id?e.jsxs("div",{className:"mt-4 space-y-3 animate-in fade-in slide-in-from-top-2 duration-300",children:[e.jsx("textarea",{rows:"3",value:A,onChange:P=>E(P.target.value),placeholder:"Type your reply here to resolve this feedback...",className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:outline-none focus:border-violet-500 transition-all resize-none",autoFocus:!0}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>O(z.id),className:"px-4 py-2 bg-violet-600 text-white text-xs font-bold rounded-lg hover:bg-violet-700 transition-all shadow-sm flex items-center gap-2",children:[e.jsx(sr,{size:14})," Send & Resolve"]}),e.jsx("button",{onClick:()=>{k(null),E("")},className:"px-4 py-2 bg-slate-100 text-slate-600 text-xs font-bold rounded-lg hover:bg-slate-200 transition-all",children:"Cancel"})]})]}):e.jsxs("div",{className:"flex gap-4 pt-4 border-t border-slate-50",children:[z.status!=="Resolved"&&e.jsxs("button",{onClick:()=>k(z.id),className:"flex items-center gap-2 text-xs font-bold text-slate-400 hover:text-violet-600 transition-colors group/btn",children:[e.jsx(sr,{size:14,className:"group-hover/btn:scale-110 transition-transform"}),"Reply & Resolve"]}),e.jsxs("button",{className:"flex items-center gap-2 text-xs font-bold text-slate-400 hover:text-emerald-600 transition-colors group/btn",children:[e.jsx(ng,{size:14,className:"group-hover/btn:scale-110 transition-transform"}),"Helpful"]})]})]})]})]},z.id))})]})]})},ho=Object.create(null);ho.open="0";ho.close="1";ho.ping="2";ho.pong="3";ho.message="4";ho.upgrade="5";ho.noop="6";const Hh=Object.create(null);Object.keys(ho).forEach(s=>{Hh[ho[s]]=s});const cg={type:"error",data:"parser error"},NN=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",kN=typeof ArrayBuffer=="function",SN=s=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(s):s&&s.buffer instanceof ArrayBuffer,tb=({type:s,data:t},a,l)=>NN&&t instanceof Blob?a?l(t):Sy(t,l):kN&&(t instanceof ArrayBuffer||SN(t))?a?l(t):Sy(new Blob([t]),l):l(ho[s]+(t||"")),Sy=(s,t)=>{const a=new FileReader;return a.onload=function(){const l=a.result.split(",")[1];t("b"+(l||""))},a.readAsDataURL(s)};function Cy(s){return s instanceof Uint8Array?s:s instanceof ArrayBuffer?new Uint8Array(s):new Uint8Array(s.buffer,s.byteOffset,s.byteLength)}let cf;function DL(s,t){if(NN&&s.data instanceof Blob)return s.data.arrayBuffer().then(Cy).then(t);if(kN&&(s.data instanceof ArrayBuffer||SN(s.data)))return t(Cy(s.data));tb(s,!1,a=>{cf||(cf=new TextEncoder),t(cf.encode(a))})}const Ay="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Zu=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let s=0;s<Ay.length;s++)Zu[Ay.charCodeAt(s)]=s;const LL=s=>{let t=s.length*.75,a=s.length,l,i=0,o,c,u,x;s[s.length-1]==="="&&(t--,s[s.length-2]==="="&&t--);const h=new ArrayBuffer(t),p=new Uint8Array(h);for(l=0;l<a;l+=4)o=Zu[s.charCodeAt(l)],c=Zu[s.charCodeAt(l+1)],u=Zu[s.charCodeAt(l+2)],x=Zu[s.charCodeAt(l+3)],p[i++]=o<<2|c>>4,p[i++]=(c&15)<<4|u>>2,p[i++]=(u&3)<<6|x&63;return h},EL=typeof ArrayBuffer=="function",sb=(s,t)=>{if(typeof s!="string")return{type:"message",data:CN(s,t)};const a=s.charAt(0);return a==="b"?{type:"message",data:ML(s.substring(1),t)}:Hh[a]?s.length>1?{type:Hh[a],data:s.substring(1)}:{type:Hh[a]}:cg},ML=(s,t)=>{if(EL){const a=LL(s);return CN(a,t)}else return{base64:!0,data:s}},CN=(s,t)=>t==="blob"?s instanceof Blob?s:new Blob([s]):s instanceof ArrayBuffer?s:s.buffer,AN="",zL=(s,t)=>{const a=s.length,l=new Array(a);let i=0;s.forEach((o,c)=>{tb(o,!1,u=>{l[c]=u,++i===a&&t(l.join(AN))})})},TL=(s,t)=>{const a=s.split(AN),l=[];for(let i=0;i<a.length;i++){const o=sb(a[i],t);if(l.push(o),o.type==="error")break}return l};function _L(){return new TransformStream({transform(s,t){DL(s,a=>{const l=a.length;let i;if(l<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,l);else if(l<65536){i=new Uint8Array(3);const o=new DataView(i.buffer);o.setUint8(0,126),o.setUint16(1,l)}else{i=new Uint8Array(9);const o=new DataView(i.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(l))}s.data&&typeof s.data!="string"&&(i[0]|=128),t.enqueue(i),t.enqueue(a)})}})}let df;function jh(s){return s.reduce((t,a)=>t+a.length,0)}function wh(s,t){if(s[0].length===t)return s.shift();const a=new Uint8Array(t);let l=0;for(let i=0;i<t;i++)a[i]=s[0][l++],l===s[0].length&&(s.shift(),l=0);return s.length&&l<s[0].length&&(s[0]=s[0].slice(l)),a}function PL(s,t){df||(df=new TextDecoder);const a=[];let l=0,i=-1,o=!1;return new TransformStream({transform(c,u){for(a.push(c);;){if(l===0){if(jh(a)<1)break;const x=wh(a,1);o=(x[0]&128)===128,i=x[0]&127,i<126?l=3:i===126?l=1:l=2}else if(l===1){if(jh(a)<2)break;const x=wh(a,2);i=new DataView(x.buffer,x.byteOffset,x.length).getUint16(0),l=3}else if(l===2){if(jh(a)<8)break;const x=wh(a,8),h=new DataView(x.buffer,x.byteOffset,x.length),p=h.getUint32(0);if(p>Math.pow(2,21)-1){u.enqueue(cg);break}i=p*Math.pow(2,32)+h.getUint32(4),l=3}else{if(jh(a)<i)break;const x=wh(a,i);u.enqueue(sb(o?x:df.decode(x),t)),l=0}if(i===0||i>s){u.enqueue(cg);break}}}})}const DN=4;function ur(s){if(s)return RL(s)}function RL(s){for(var t in ur.prototype)s[t]=ur.prototype[t];return s}ur.prototype.on=ur.prototype.addEventListener=function(s,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+s]=this._callbacks["$"+s]||[]).push(t),this};ur.prototype.once=function(s,t){function a(){this.off(s,a),t.apply(this,arguments)}return a.fn=t,this.on(s,a),this};ur.prototype.off=ur.prototype.removeListener=ur.prototype.removeAllListeners=ur.prototype.removeEventListener=function(s,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var a=this._callbacks["$"+s];if(!a)return this;if(arguments.length==1)return delete this._callbacks["$"+s],this;for(var l,i=0;i<a.length;i++)if(l=a[i],l===t||l.fn===t){a.splice(i,1);break}return a.length===0&&delete this._callbacks["$"+s],this};ur.prototype.emit=function(s){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),a=this._callbacks["$"+s],l=1;l<arguments.length;l++)t[l-1]=arguments[l];if(a){a=a.slice(0);for(var l=0,i=a.length;l<i;++l)a[l].apply(this,t)}return this};ur.prototype.emitReserved=ur.prototype.emit;ur.prototype.listeners=function(s){return this._callbacks=this._callbacks||{},this._callbacks["$"+s]||[]};ur.prototype.hasListeners=function(s){return!!this.listeners(s).length};const Mm=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,a)=>a(t,0),Xn=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),OL="arraybuffer";function LN(s,...t){return t.reduce((a,l)=>(s.hasOwnProperty(l)&&(a[l]=s[l]),a),{})}const FL=Xn.setTimeout,IL=Xn.clearTimeout;function zm(s,t){t.useNativeTimers?(s.setTimeoutFn=FL.bind(Xn),s.clearTimeoutFn=IL.bind(Xn)):(s.setTimeoutFn=Xn.setTimeout.bind(Xn),s.clearTimeoutFn=Xn.clearTimeout.bind(Xn))}const BL=1.33;function UL(s){return typeof s=="string"?$L(s):Math.ceil((s.byteLength||s.size)*BL)}function $L(s){let t=0,a=0;for(let l=0,i=s.length;l<i;l++)t=s.charCodeAt(l),t<128?a+=1:t<2048?a+=2:t<55296||t>=57344?a+=3:(l++,a+=4);return a}function EN(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function qL(s){let t="";for(let a in s)s.hasOwnProperty(a)&&(t.length&&(t+="&"),t+=encodeURIComponent(a)+"="+encodeURIComponent(s[a]));return t}function HL(s){let t={},a=s.split("&");for(let l=0,i=a.length;l<i;l++){let o=a[l].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}class WL extends Error{constructor(t,a,l){super(t),this.description=a,this.context=l,this.type="TransportError"}}class ab extends ur{constructor(t){super(),this.writable=!1,zm(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,a,l){return super.emitReserved("error",new WL(t,a,l)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const a=sb(t,this.socket.binaryType);this.onPacket(a)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,a={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(a)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const a=qL(t);return a.length?"?"+a:""}}class GL extends ab{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const a=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let l=0;this._polling&&(l++,this.once("pollComplete",function(){--l||a()})),this.writable||(l++,this.once("drain",function(){--l||a()}))}else a()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const a=l=>{if(this.readyState==="opening"&&l.type==="open"&&this.onOpen(),l.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(l)};TL(t,this.socket.binaryType).forEach(a),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,zL(t,a=>{this.doWrite(a,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",a=this.query||{};return this.opts.timestampRequests!==!1&&(a[this.opts.timestampParam]=EN()),!this.supportsBinary&&!a.sid&&(a.b64=1),this.createUri(t,a)}}let MN=!1;try{MN=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const VL=MN;function YL(){}class XL extends GL{constructor(t){if(super(t),typeof location<"u"){const a=location.protocol==="https:";let l=location.port;l||(l=a?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||l!==t.port}}doWrite(t,a){const l=this.request({method:"POST",data:t});l.on("success",a),l.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(a,l)=>{this.onError("xhr poll error",a,l)}),this.pollXhr=t}}class xo extends ur{constructor(t,a,l){super(),this.createRequest=t,zm(this,l),this._opts=l,this._method=l.method||"GET",this._uri=a,this._data=l.data!==void 0?l.data:null,this._create()}_create(){var t;const a=LN(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");a.xdomain=!!this._opts.xd;const l=this._xhr=this.createRequest(a);try{l.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){l.setDisableHeaderCheck&&l.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&l.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{l.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{l.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(l),"withCredentials"in l&&(l.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(l.timeout=this._opts.requestTimeout),l.onreadystatechange=()=>{var i;l.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(l.getResponseHeader("set-cookie"))),l.readyState===4&&(l.status===200||l.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof l.status=="number"?l.status:0)},0))},l.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=xo.requestsCount++,xo.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=YL,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete xo.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}xo.requestsCount=0;xo.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Dy);else if(typeof addEventListener=="function"){const s="onpagehide"in Xn?"pagehide":"unload";addEventListener(s,Dy,!1)}}function Dy(){for(let s in xo.requests)xo.requests.hasOwnProperty(s)&&xo.requests[s].abort()}const KL=(function(){const s=zN({xdomain:!1});return s&&s.responseType!==null})();class JL extends XL{constructor(t){super(t);const a=t&&t.forceBase64;this.supportsBinary=KL&&!a}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new xo(zN,this.uri(),t)}}function zN(s){const t=s.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||VL))return new XMLHttpRequest}catch{}if(!t)try{return new Xn[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const TN=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class QL extends ab{get name(){return"websocket"}doOpen(){const t=this.uri(),a=this.opts.protocols,l=TN?{}:LN(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(l.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,a,l)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let a=0;a<t.length;a++){const l=t[a],i=a===t.length-1;tb(l,this.supportsBinary,o=>{try{this.doWrite(l,o)}catch{}i&&Mm(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",a=this.query||{};return this.opts.timestampRequests&&(a[this.opts.timestampParam]=EN()),this.supportsBinary||(a.b64=1),this.createUri(t,a)}}const uf=Xn.WebSocket||Xn.MozWebSocket;class ZL extends QL{createSocket(t,a,l){return TN?new uf(t,a,l):a?new uf(t,a):new uf(t)}doWrite(t,a){this.ws.send(a)}}class eE extends ab{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const a=PL(Number.MAX_SAFE_INTEGER,this.socket.binaryType),l=t.readable.pipeThrough(a).getReader(),i=_L();i.readable.pipeTo(t.writable),this._writer=i.writable.getWriter();const o=()=>{l.read().then(({done:u,value:x})=>{u||(this.onPacket(x),o())}).catch(u=>{})};o();const c={type:"open"};this.query.sid&&(c.data=`{"sid":"${this.query.sid}"}`),this._writer.write(c).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let a=0;a<t.length;a++){const l=t[a],i=a===t.length-1;this._writer.write(l).then(()=>{i&&Mm(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const tE={websocket:ZL,webtransport:eE,polling:JL},sE=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,aE=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function dg(s){if(s.length>8e3)throw"URI too long";const t=s,a=s.indexOf("["),l=s.indexOf("]");a!=-1&&l!=-1&&(s=s.substring(0,a)+s.substring(a,l).replace(/:/g,";")+s.substring(l,s.length));let i=sE.exec(s||""),o={},c=14;for(;c--;)o[aE[c]]=i[c]||"";return a!=-1&&l!=-1&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=rE(o,o.path),o.queryKey=lE(o,o.query),o}function rE(s,t){const a=/\/{2,9}/g,l=t.replace(a,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&l.splice(0,1),t.slice(-1)=="/"&&l.splice(l.length-1,1),l}function lE(s,t){const a={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(l,i,o){i&&(a[i]=o)}),a}const ug=typeof addEventListener=="function"&&typeof removeEventListener=="function",Wh=[];ug&&addEventListener("offline",()=>{Wh.forEach(s=>s())},!1);class Uc extends ur{constructor(t,a){if(super(),this.binaryType=OL,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(a=t,t=null),t){const l=dg(t);a.hostname=l.host,a.secure=l.protocol==="https"||l.protocol==="wss",a.port=l.port,l.query&&(a.query=l.query)}else a.host&&(a.hostname=dg(a.host).host);zm(this,a),this.secure=a.secure!=null?a.secure:typeof location<"u"&&location.protocol==="https:",a.hostname&&!a.port&&(a.port=this.secure?"443":"80"),this.hostname=a.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=a.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},a.transports.forEach(l=>{const i=l.prototype.name;this.transports.push(i),this._transportsByName[i]=l}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},a),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=HL(this.opts.query)),ug&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Wh.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const a=Object.assign({},this.opts.query);a.EIO=DN,a.transport=t,this.id&&(a.sid=this.id);const l=Object.assign({},this.opts,{query:a,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](l)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Uc.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const a=this.createTransport(t);a.open(),this.setTransport(a)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",a=>this._onClose("transport close",a))}onOpen(){this.readyState="open",Uc.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const a=new Error("server error");a.code=t.data,this._onError(a);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let a=1;for(let l=0;l<this.writeBuffer.length;l++){const i=this.writeBuffer[l].data;if(i&&(a+=UL(i)),l>0&&a>this._maxPayload)return this.writeBuffer.slice(0,l);a+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Mm(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,a,l){return this._sendPacket("message",t,a,l),this}send(t,a,l){return this._sendPacket("message",t,a,l),this}_sendPacket(t,a,l,i){if(typeof a=="function"&&(i=a,a=void 0),typeof l=="function"&&(i=l,l=null),this.readyState==="closing"||this.readyState==="closed")return;l=l||{},l.compress=l.compress!==!1;const o={type:t,data:a,options:l};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),i&&this.once("flush",i),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},a=()=>{this.off("upgrade",a),this.off("upgradeError",a),t()},l=()=>{this.once("upgrade",a),this.once("upgradeError",a)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?l():t()}):this.upgrading?l():t()),this}_onError(t){if(Uc.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,a){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),ug&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const l=Wh.indexOf(this._offlineEventListener);l!==-1&&Wh.splice(l,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,a),this.writeBuffer=[],this._prevBufferLen=0}}}Uc.protocol=DN;class nE extends Uc{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let a=this.createTransport(t),l=!1;Uc.priorWebsocketSuccess=!1;const i=()=>{l||(a.send([{type:"ping",data:"probe"}]),a.once("packet",f=>{if(!l)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",a),!a)return;Uc.priorWebsocketSuccess=a.name==="websocket",this.transport.pause(()=>{l||this.readyState!=="closed"&&(p(),this.setTransport(a),a.send([{type:"upgrade"}]),this.emitReserved("upgrade",a),a=null,this.upgrading=!1,this.flush())})}else{const y=new Error("probe error");y.transport=a.name,this.emitReserved("upgradeError",y)}}))};function o(){l||(l=!0,p(),a.close(),a=null)}const c=f=>{const y=new Error("probe error: "+f);y.transport=a.name,o(),this.emitReserved("upgradeError",y)};function u(){c("transport closed")}function x(){c("socket closed")}function h(f){a&&f.name!==a.name&&o()}const p=()=>{a.removeListener("open",i),a.removeListener("error",c),a.removeListener("close",u),this.off("close",x),this.off("upgrading",h)};a.once("open",i),a.once("error",c),a.once("close",u),this.once("close",x),this.once("upgrading",h),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{l||a.open()},200):a.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const a=[];for(let l=0;l<t.length;l++)~this.transports.indexOf(t[l])&&a.push(t[l]);return a}}let iE=class extends nE{constructor(t,a={}){const l=typeof t=="object"?t:a;(!l.transports||l.transports&&typeof l.transports[0]=="string")&&(l.transports=(l.transports||["polling","websocket","webtransport"]).map(i=>tE[i]).filter(i=>!!i)),super(t,l)}};function oE(s,t="",a){let l=s;a=a||typeof location<"u"&&location,s==null&&(s=a.protocol+"//"+a.host),typeof s=="string"&&(s.charAt(0)==="/"&&(s.charAt(1)==="/"?s=a.protocol+s:s=a.host+s),/^(https?|wss?):\/\//.test(s)||(typeof a<"u"?s=a.protocol+"//"+s:s="https://"+s),l=dg(s)),l.port||(/^(http|ws)$/.test(l.protocol)?l.port="80":/^(http|ws)s$/.test(l.protocol)&&(l.port="443")),l.path=l.path||"/";const o=l.host.indexOf(":")!==-1?"["+l.host+"]":l.host;return l.id=l.protocol+"://"+o+":"+l.port+t,l.href=l.protocol+"://"+o+(a&&a.port===l.port?"":":"+l.port),l}const cE=typeof ArrayBuffer=="function",dE=s=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(s):s.buffer instanceof ArrayBuffer,_N=Object.prototype.toString,uE=typeof Blob=="function"||typeof Blob<"u"&&_N.call(Blob)==="[object BlobConstructor]",xE=typeof File=="function"||typeof File<"u"&&_N.call(File)==="[object FileConstructor]";function rb(s){return cE&&(s instanceof ArrayBuffer||dE(s))||uE&&s instanceof Blob||xE&&s instanceof File}function Gh(s,t){if(!s||typeof s!="object")return!1;if(Array.isArray(s)){for(let a=0,l=s.length;a<l;a++)if(Gh(s[a]))return!0;return!1}if(rb(s))return!0;if(s.toJSON&&typeof s.toJSON=="function"&&arguments.length===1)return Gh(s.toJSON(),!0);for(const a in s)if(Object.prototype.hasOwnProperty.call(s,a)&&Gh(s[a]))return!0;return!1}function hE(s){const t=[],a=s.data,l=s;return l.data=xg(a,t),l.attachments=t.length,{packet:l,buffers:t}}function xg(s,t){if(!s)return s;if(rb(s)){const a={_placeholder:!0,num:t.length};return t.push(s),a}else if(Array.isArray(s)){const a=new Array(s.length);for(let l=0;l<s.length;l++)a[l]=xg(s[l],t);return a}else if(typeof s=="object"&&!(s instanceof Date)){const a={};for(const l in s)Object.prototype.hasOwnProperty.call(s,l)&&(a[l]=xg(s[l],t));return a}return s}function mE(s,t){return s.data=hg(s.data,t),delete s.attachments,s}function hg(s,t){if(!s)return s;if(s&&s._placeholder===!0){if(typeof s.num=="number"&&s.num>=0&&s.num<t.length)return t[s.num];throw new Error("illegal attachments")}else if(Array.isArray(s))for(let a=0;a<s.length;a++)s[a]=hg(s[a],t);else if(typeof s=="object")for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&(s[a]=hg(s[a],t));return s}const pE=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];var Ls;(function(s){s[s.CONNECT=0]="CONNECT",s[s.DISCONNECT=1]="DISCONNECT",s[s.EVENT=2]="EVENT",s[s.ACK=3]="ACK",s[s.CONNECT_ERROR=4]="CONNECT_ERROR",s[s.BINARY_EVENT=5]="BINARY_EVENT",s[s.BINARY_ACK=6]="BINARY_ACK"})(Ls||(Ls={}));class fE{constructor(t){this.replacer=t}encode(t){return(t.type===Ls.EVENT||t.type===Ls.ACK)&&Gh(t)?this.encodeAsBinary({type:t.type===Ls.EVENT?Ls.BINARY_EVENT:Ls.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let a=""+t.type;return(t.type===Ls.BINARY_EVENT||t.type===Ls.BINARY_ACK)&&(a+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(a+=t.nsp+","),t.id!=null&&(a+=t.id),t.data!=null&&(a+=JSON.stringify(t.data,this.replacer)),a}encodeAsBinary(t){const a=hE(t),l=this.encodeAsString(a.packet),i=a.buffers;return i.unshift(l),i}}class lb extends ur{constructor(t){super(),this.reviver=t}add(t){let a;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");a=this.decodeString(t);const l=a.type===Ls.BINARY_EVENT;l||a.type===Ls.BINARY_ACK?(a.type=l?Ls.EVENT:Ls.ACK,this.reconstructor=new gE(a),a.attachments===0&&super.emitReserved("decoded",a)):super.emitReserved("decoded",a)}else if(rb(t)||t.base64)if(this.reconstructor)a=this.reconstructor.takeBinaryData(t),a&&(this.reconstructor=null,super.emitReserved("decoded",a));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let a=0;const l={type:Number(t.charAt(0))};if(Ls[l.type]===void 0)throw new Error("unknown packet type "+l.type);if(l.type===Ls.BINARY_EVENT||l.type===Ls.BINARY_ACK){const o=a+1;for(;t.charAt(++a)!=="-"&&a!=t.length;);const c=t.substring(o,a);if(c!=Number(c)||t.charAt(a)!=="-")throw new Error("Illegal attachments");l.attachments=Number(c)}if(t.charAt(a+1)==="/"){const o=a+1;for(;++a&&!(t.charAt(a)===","||a===t.length););l.nsp=t.substring(o,a)}else l.nsp="/";const i=t.charAt(a+1);if(i!==""&&Number(i)==i){const o=a+1;for(;++a;){const c=t.charAt(a);if(c==null||Number(c)!=c){--a;break}if(a===t.length)break}l.id=Number(t.substring(o,a+1))}if(t.charAt(++a)){const o=this.tryParse(t.substr(a));if(lb.isPayloadValid(l.type,o))l.data=o;else throw new Error("invalid payload")}return l}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,a){switch(t){case Ls.CONNECT:return Ly(a);case Ls.DISCONNECT:return a===void 0;case Ls.CONNECT_ERROR:return typeof a=="string"||Ly(a);case Ls.EVENT:case Ls.BINARY_EVENT:return Array.isArray(a)&&(typeof a[0]=="number"||typeof a[0]=="string"&&pE.indexOf(a[0])===-1);case Ls.ACK:case Ls.BINARY_ACK:return Array.isArray(a)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class gE{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const a=mE(this.reconPack,this.buffers);return this.finishedReconstruction(),a}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Ly(s){return Object.prototype.toString.call(s)==="[object Object]"}const bE=Object.freeze(Object.defineProperty({__proto__:null,Decoder:lb,Encoder:fE,get PacketType(){return Ls}},Symbol.toStringTag,{value:"Module"}));function zi(s,t,a){return s.on(t,a),function(){s.off(t,a)}}const vE=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class PN extends ur{constructor(t,a,l){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=a,l&&l.auth&&(this.auth=l.auth),this._opts=Object.assign({},l),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[zi(t,"open",this.onopen.bind(this)),zi(t,"packet",this.onpacket.bind(this)),zi(t,"error",this.onerror.bind(this)),zi(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...a){var l,i,o;if(vE.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(a.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(a),this;const c={type:Ls.EVENT,data:a};if(c.options={},c.options.compress=this.flags.compress!==!1,typeof a[a.length-1]=="function"){const p=this.ids++,f=a.pop();this._registerAckCallback(p,f),c.id=p}const u=(i=(l=this.io.engine)===null||l===void 0?void 0:l.transport)===null||i===void 0?void 0:i.writable,x=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!u||(x?(this.notifyOutgoingListeners(c),this.packet(c)):this.sendBuffer.push(c)),this.flags={},this}_registerAckCallback(t,a){var l;const i=(l=this.flags.timeout)!==null&&l!==void 0?l:this._opts.ackTimeout;if(i===void 0){this.acks[t]=a;return}const o=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let u=0;u<this.sendBuffer.length;u++)this.sendBuffer[u].id===t&&this.sendBuffer.splice(u,1);a.call(this,new Error("operation has timed out"))},i),c=(...u)=>{this.io.clearTimeoutFn(o),a.apply(this,u)};c.withError=!0,this.acks[t]=c}emitWithAck(t,...a){return new Promise((l,i)=>{const o=(c,u)=>c?i(c):l(u);o.withError=!0,a.push(o),this.emit(t,...a)})}_addToQueue(t){let a;typeof t[t.length-1]=="function"&&(a=t.pop());const l={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((i,...o)=>(this._queue[0],i!==null?l.tryCount>this._opts.retries&&(this._queue.shift(),a&&a(i)):(this._queue.shift(),a&&a(null,...o)),l.pending=!1,this._drainQueue())),this._queue.push(l),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const a=this._queue[0];a.pending&&!t||(a.pending=!0,a.tryCount++,this.flags=a.flags,this.emit.apply(this,a.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Ls.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,a){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,a),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(l=>String(l.id)===t)){const l=this.acks[t];delete this.acks[t],l.withError&&l.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Ls.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ls.EVENT:case Ls.BINARY_EVENT:this.onevent(t);break;case Ls.ACK:case Ls.BINARY_ACK:this.onack(t);break;case Ls.DISCONNECT:this.ondisconnect();break;case Ls.CONNECT_ERROR:this.destroy();const l=new Error(t.data.message);l.data=t.data.data,this.emitReserved("connect_error",l);break}}onevent(t){const a=t.data||[];t.id!=null&&a.push(this.ack(t.id)),this.connected?this.emitEvent(a):this.receiveBuffer.push(Object.freeze(a))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const a=this._anyListeners.slice();for(const l of a)l.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const a=this;let l=!1;return function(...i){l||(l=!0,a.packet({type:Ls.ACK,id:t,data:i}))}}onack(t){const a=this.acks[t.id];typeof a=="function"&&(delete this.acks[t.id],a.withError&&t.data.unshift(null),a.apply(this,t.data))}onconnect(t,a){this.id=t,this.recovered=a&&this._pid===a,this._pid=a,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ls.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const a=this._anyListeners;for(let l=0;l<a.length;l++)if(t===a[l])return a.splice(l,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const a=this._anyOutgoingListeners;for(let l=0;l<a.length;l++)if(t===a[l])return a.splice(l,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const a=this._anyOutgoingListeners.slice();for(const l of a)l.apply(this,t.data)}}}function ou(s){s=s||{},this.ms=s.min||100,this.max=s.max||1e4,this.factor=s.factor||2,this.jitter=s.jitter>0&&s.jitter<=1?s.jitter:0,this.attempts=0}ou.prototype.duration=function(){var s=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),a=Math.floor(t*this.jitter*s);s=(Math.floor(t*10)&1)==0?s-a:s+a}return Math.min(s,this.max)|0};ou.prototype.reset=function(){this.attempts=0};ou.prototype.setMin=function(s){this.ms=s};ou.prototype.setMax=function(s){this.max=s};ou.prototype.setJitter=function(s){this.jitter=s};class mg extends ur{constructor(t,a){var l;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(a=t,t=void 0),a=a||{},a.path=a.path||"/socket.io",this.opts=a,zm(this,a),this.reconnection(a.reconnection!==!1),this.reconnectionAttempts(a.reconnectionAttempts||1/0),this.reconnectionDelay(a.reconnectionDelay||1e3),this.reconnectionDelayMax(a.reconnectionDelayMax||5e3),this.randomizationFactor((l=a.randomizationFactor)!==null&&l!==void 0?l:.5),this.backoff=new ou({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(a.timeout==null?2e4:a.timeout),this._readyState="closed",this.uri=t;const i=a.parser||bE;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=a.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var a;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(a=this.backoff)===null||a===void 0||a.setMin(t),this)}randomizationFactor(t){var a;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(a=this.backoff)===null||a===void 0||a.setJitter(t),this)}reconnectionDelayMax(t){var a;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(a=this.backoff)===null||a===void 0||a.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new iE(this.uri,this.opts);const a=this.engine,l=this;this._readyState="opening",this.skipReconnect=!1;const i=zi(a,"open",function(){l.onopen(),t&&t()}),o=u=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",u),t?t(u):this.maybeReconnectOnOpen()},c=zi(a,"error",o);if(this._timeout!==!1){const u=this._timeout,x=this.setTimeoutFn(()=>{i(),o(new Error("timeout")),a.close()},u);this.opts.autoUnref&&x.unref(),this.subs.push(()=>{this.clearTimeoutFn(x)})}return this.subs.push(i),this.subs.push(c),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(zi(t,"ping",this.onping.bind(this)),zi(t,"data",this.ondata.bind(this)),zi(t,"error",this.onerror.bind(this)),zi(t,"close",this.onclose.bind(this)),zi(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(a){this.onclose("parse error",a)}}ondecoded(t){Mm(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,a){let l=this.nsps[t];return l?this._autoConnect&&!l.active&&l.connect():(l=new PN(this,t,a),this.nsps[t]=l),l}_destroy(t){const a=Object.keys(this.nsps);for(const l of a)if(this.nsps[l].active)return;this._close()}_packet(t){const a=this.encoder.encode(t);for(let l=0;l<a.length;l++)this.engine.write(a[l],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,a){var l;this.cleanup(),(l=this.engine)===null||l===void 0||l.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,a),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const a=this.backoff.duration();this._reconnecting=!0;const l=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},a);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Xu={};function Vh(s,t){typeof s=="object"&&(t=s,s=void 0),t=t||{};const a=oE(s,t.path||"/socket.io"),l=a.source,i=a.id,o=a.path,c=Xu[i]&&o in Xu[i].nsps,u=t.forceNew||t["force new connection"]||t.multiplex===!1||c;let x;return u?x=new mg(l,t):(Xu[i]||(Xu[i]=new mg(l,t)),x=Xu[i]),a.query&&!t.query&&(t.query=a.queryKey),x.socket(a.path,t)}Object.assign(Vh,{Manager:mg,Socket:PN,io:Vh,connect:Vh});const yE=()=>{const[s,t]=b.useState([]),[a,l]=b.useState([]),[i,o]=b.useState(!0),[c,u]=b.useState(null),[x,h]=b.useState(""),[p,f]=b.useState(""),[y,g]=b.useState({}),[v,C]=b.useState(!0),N=b.useRef(null),k=b.useRef(),A=JSON.parse(localStorage.getItem("userData"))?.id;b.useEffect(()=>{if(A){const z=Sw.replace(/\/api\/v1$/,"");k.current=Vh(z),k.current.emit("join",A),k.current.on("new_message",P=>{g(F=>{const G=P.conversationId,Y=F[G]||[];return Y.some(me=>me.id===P.id)?F:{...F,[G]:[...Y,P]}}),E()})}return()=>k.current?.disconnect()},[A]);const E=async()=>{try{const z=await mN();t(z||[])}catch(z){console.error("Failed to load chats:",z)}};b.useEffect(()=>{(async()=>(o(!0),await E(),o(!1)))();const P=()=>{window.innerWidth>=768&&C(!0)};return window.addEventListener("resize",P),()=>window.removeEventListener("resize",P)},[]),b.useEffect(()=>{const P=setTimeout(async()=>{if(!x.trim()){l([]);return}try{const G=(await z9()).filter(Y=>Y.name.toLowerCase().includes(x.toLowerCase())&&!s.some(me=>me.receiverId===Y.id));l(G)}catch(F){console.error("Search failed:",F)}},300);return()=>clearTimeout(P)},[x,s]);const w=async z=>{try{const P=await pN(z);g(F=>({...F,[z]:P}))}catch(P){console.error("Failed to load messages:",P)}},R=z=>{u(z),y[z.id]||w(z.id),window.innerWidth<768&&C(!1)},T=z=>{const P={id:null,receiverId:z.id,name:z.name,role:z.role,avatar:z.avatar||z.name.charAt(0),lastMsg:"Start a conversation...",time:"Now"};u(P),h(""),window.innerWidth<768&&C(!1)},O=async z=>{if(z&&z.preventDefault(),!p.trim()||!c)return;const P=p,F=`temp-${Date.now()}`;f("");try{const G=await fN(c.id&&c.id!=="undefined"?c.id:null,P,c.receiverId?c.receiverId:null),Y=G.data?.data||G.data,me=Y.conversationId,H={id:Y.id||F,text:P,time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),sentBy:"staff"};(!c.id||c.id==="undefined")&&(u(V=>({...V,id:me})),await E()),g(V=>({...V,[me]:[...V[me]||[],H]}))}catch(G){console.error("Failed to send message:",G);const Y=G.response?.data?.message||"Failed to send message";ot.error(Y),f(P)}},W=c&&c.id?y[c.id]||[]:[];b.useEffect(()=>{N.current?.scrollIntoView({behavior:"smooth"})},[W]);const B=x.trim()?a:s;return e.jsxs("div",{className:"flex h-[calc(100vh-140px)] bg-white rounded-2xl shadow-2xl border border-slate-100 overflow-hidden relative",children:[e.jsxs("div",{className:`
                ${v?"w-full md:w-80 border-r border-slate-100 flex flex-col bg-slate-50":"hidden md:flex md:w-80 border-r border-slate-100 flex flex-col bg-slate-50"}
                absolute md:relative z-20 h-full transition-all duration-300
            `,children:[e.jsxs("div",{className:"p-4 bg-white border-b border-slate-100",children:[e.jsxs("h2",{className:"text-xl font-black text-slate-800 mb-4 flex items-center gap-2",children:[e.jsx(sr,{className:"text-violet-600",size:24}),"WhatsApp Chat"]}),e.jsxs("div",{className:"relative group",children:[e.jsx(st,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-600 transition-colors"}),e.jsx("input",{type:"text",placeholder:"Search members or staff...",value:x,onChange:z=>h(z.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-100 border-none rounded-xl text-sm focus:ring-2 focus:ring-violet-500/20 transition-all outline-none font-medium"})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto",children:[i?e.jsx("div",{className:"p-10 text-center text-slate-400 font-bold uppercase tracking-widest text-xs animate-pulse",children:"Loading..."}):B.map(z=>e.jsxs("button",{onClick:()=>x?T(z):R(z),className:`w-full p-4 flex items-center gap-3 hover:bg-white transition-all border-b border-slate-50/50 ${c?.id===z.id||c?.receiverId===z.id?"bg-white border-l-4 border-l-violet-600 shadow-sm":""}`,children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white font-bold text-lg shadow-sm",children:z.avatar&&typeof z.avatar=="string"&&z.avatar.length===1?z.avatar:z.name?.charAt(0)||"U"}),e.jsxs("div",{className:"flex-1 text-left min-w-0",children:[e.jsxs("div",{className:"flex justify-between items-start mb-0.5",children:[e.jsx("span",{className:"font-bold text-slate-800 truncate",children:z.name}),e.jsx("span",{className:"text-[10px] text-slate-400 font-bold whitespace-nowrap",children:z.time})]}),e.jsx("div",{className:"text-xs text-slate-500 truncate font-medium opacity-70",children:z.lastMsg||z.role?.replace("_"," ")})]})]},z.id||z.receiverId)),!i&&B.length===0&&e.jsx("div",{className:"p-10 text-center text-slate-400 text-xs font-bold uppercase tracking-tighter",children:"No results found"})]})]}),e.jsx("div",{className:`flex-1 flex flex-col bg-[#f0f2f5] relative ${c?"":"items-center justify-center"}`,children:c?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-4 bg-white border-b border-slate-100 flex items-center justify-between shadow-sm z-10",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>C(!0),className:"md:hidden p-2 -ml-2 text-slate-500 hover:text-violet-600 transition-colors",children:e.jsx(Xr,{size:24})}),e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white font-bold shadow-md",children:c.name.charAt(0)}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-slate-800 leading-tight tracking-tight",children:c.name}),e.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"}),e.jsx("span",{className:"text-[10px] text-emerald-600 font-black uppercase tracking-wider",children:c.role?.replace("_"," ")})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"p-2 text-slate-400 hover:text-violet-600 hover:bg-violet-50 rounded-xl transition-all",children:e.jsx(ja,{size:20})}),e.jsx("button",{className:"p-2 text-slate-400 hover:text-violet-600 hover:bg-violet-50 rounded-xl transition-all",children:e.jsx(qc,{size:20})})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-6 space-y-4 custom-scrollbar",children:[W.map((z,P)=>e.jsx("div",{className:`flex ${z.sentBy==="staff"?"justify-end":"justify-start"} animate-in fade-in slide-in-from-bottom-2 duration-300`,children:e.jsxs("div",{className:`max-w-[85%] md:max-w-[70%] p-3 rounded-2xl shadow-sm relative ${z.sentBy==="staff"?"bg-violet-600 text-white rounded-tr-none":"bg-white text-slate-800 rounded-tl-none border border-slate-100"}`,children:[e.jsx("p",{className:"text-sm font-medium leading-relaxed",children:z.text}),e.jsxs("div",{className:`flex items-center justify-end gap-1 mt-1 ${z.sentBy==="staff"?"text-violet-200":"text-slate-400"}`,children:[e.jsx("span",{className:"text-[9px] font-bold uppercase",children:z.time}),z.sentBy==="staff"&&e.jsx(Pw,{size:12})]})]})},z.id)),e.jsx("div",{ref:N})]}),e.jsx("div",{className:"p-4 bg-white border-t border-slate-100 flex flex-col gap-3",children:e.jsxs("form",{onSubmit:O,className:"flex items-center gap-3",children:[e.jsx("button",{type:"button",className:"p-2 text-slate-400 hover:text-violet-600 transition-colors",children:e.jsx(Hw,{size:22})}),e.jsx("div",{className:"flex-1 relative",children:e.jsx("input",{type:"text",value:p,onChange:z=>f(z.target.value),placeholder:"Type a message...",className:"w-full px-4 py-3 bg-slate-100 border-none rounded-xl text-sm outline-none focus:ring-2 focus:ring-violet-500/20 transition-all font-medium"})}),e.jsx("button",{type:"submit",disabled:!p.trim(),className:`p-3 rounded-xl transition-all shadow-lg active:scale-95 ${p.trim()?"bg-violet-600 text-white shadow-violet-200 hover:bg-violet-700 hover:scale-105":"bg-slate-200 text-slate-400 cursor-not-allowed"}`,children:e.jsx($d,{size:20})})]})})]}):e.jsxs("div",{className:"text-center p-8",children:[e.jsx("div",{className:"w-20 h-20 bg-white rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-xl border border-slate-50 rotate-3 animate-bounce shadow-violet-100/50",children:e.jsx(sr,{size:40,className:"text-violet-600"})}),e.jsx("h2",{className:"text-2xl font-black text-slate-800 mb-2",children:"My WhatsApp Chat"}),e.jsx("p",{className:"text-slate-500 font-medium max-w-xs mx-auto text-sm leading-relaxed",children:"Search for members or staff in the sidebar to start a conversation."})]})}),e.jsx("style",{children:`
                .no-scrollbar::-webkit-scrollbar { display: none; }
                .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
                .custom-scrollbar::-webkit-scrollbar { width: 4px; }
                .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
                .custom-scrollbar::-webkit-scrollbar-thumb { background: #e2e8f0; border-radius: 10px; }
            `})]})},jE=()=>{const s=Ht(),[t,a]=b.useState([]),[l,i]=b.useState(!0),[o,c]=b.useState("");b.useEffect(()=>{u()},[]);const u=async()=>{i(!0);try{const C=(await iN()).map(N=>({id:N.id,name:N.name,type:N.type||"Turnstile",status:N.status==="connected"||N.status==="Online"||N.status==="active"?"Online":"Offline",entriesToday:N.entriesToday||0,lastSync:N.lastSeen?new Date(N.lastSeen).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"Never"}));a(C)}catch(v){console.error("Failed to load devices",v)}finally{i(!1)}},x=()=>{u()},h=v=>{s("/operations/live-monitor")},p=v=>{const C=v==="Online";return e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest border-2 transition-all duration-300 ${C?"bg-emerald-50 text-emerald-600 border-emerald-200":"bg-red-50 text-red-600 border-red-200 animate-pulse"}`,children:[C?e.jsx(Am,{size:12,strokeWidth:3}):e.jsx(H7,{size:12,strokeWidth:3}),v]})},f=t.filter(v=>v.name.toLowerCase().includes(o.toLowerCase())||v.type.toLowerCase().includes(o.toLowerCase())),y=t.filter(v=>v.status==="Online").length,g=t.reduce((v,C)=>v+(C.entriesToday||0),0);return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6",children:[e.jsxs("div",{className:"mb-8 relative max-w-7xl mx-auto",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsxs("div",{className:"relative bg-white/80 backdrop-blur-md rounded-2xl shadow-xl border border-slate-100 p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-600 to-indigo-700 flex items-center justify-center text-white shadow-lg shadow-violet-200 transition-all duration-500 hover:scale-110 hover:rotate-3",children:e.jsx(Kl,{size:28,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl sm:text-3xl font-black text-slate-900 tracking-tight flex items-center gap-2",children:["Device Dashboard",e.jsx("span",{className:"px-2 py-0.5 bg-violet-100 text-violet-600 text-[10px] font-black rounded-lg uppercase tracking-tighter",children:"Live Monitor"})]}),e.jsx("p",{className:"text-slate-500 font-medium text-sm mt-1",children:"Monitor entry hardware and sync status"})]})]}),e.jsxs("button",{onClick:x,disabled:l,className:`group flex items-center gap-2 px-6 py-3 bg-white border-2 border-slate-200 rounded-2xl text-sm font-black text-slate-700 hover:bg-slate-50 hover:border-violet-300 hover:text-violet-600 transition-all duration-300 shadow-sm ${l?"opacity-50 cursor-not-allowed":""}`,children:[e.jsx(Tr,{size:18,strokeWidth:2.5,className:`${l?"animate-spin":"group-hover:rotate-180 transition-transform duration-500"}`}),l?"Refreshing Hardware...":"Manual Refresh"]})]}),e.jsx("div",{className:"mt-6 flex flex-col md:flex-row gap-4 items-center w-full max-w-lg",children:e.jsxs("div",{className:"relative flex-1 group w-full",children:[e.jsx(st,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 transition-all",size:18}),e.jsx("input",{type:"text",placeholder:"Search devices by name or type...",className:"w-full pl-12 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-2xl text-xs font-medium text-slate-700 focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all",value:o,onChange:v=>c(v.target.value)})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8 max-w-7xl mx-auto",children:[e.jsx(xf,{icon:e.jsx(Kl,{size:24}),label:"Total Devices",value:t.length,color:"violet"}),e.jsx(xf,{icon:e.jsx(It,{size:24}),label:"Online Devices",value:y,color:"emerald",trend:`${y}/${t.length} Active`}),e.jsx(xf,{icon:e.jsx(Pt,{size:24}),label:"Total Entries Today",value:g.toLocaleString(),color:"blue",trend:"Live Traffic"})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 max-w-[1600px] mx-auto auto-rows-fr",children:f.map(v=>e.jsxs("div",{className:"group relative bg-white rounded-[2rem] shadow-lg border border-slate-100 overflow-hidden hover:shadow-2xl hover:border-violet-200 transition-all duration-500 hover:-translate-y-2 flex flex-col h-full",children:[e.jsx("div",{className:"absolute -top-24 -right-24 w-48 h-48 bg-gradient-to-br from-violet-500/5 to-fuchsia-500/5 rounded-full blur-3xl group-hover:scale-150 transition-transform duration-700"}),e.jsx("div",{className:`absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r ${v.status==="Online"?"from-emerald-400 to-teal-500":"from-red-400 to-rose-500 animate-pulse"}`}),e.jsxs("div",{className:"p-6 sm:p-7 relative z-10",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center shadow-lg transition-all duration-500 group-hover:scale-110 group-hover:rotate-6 ${v.type==="Face ID"?"bg-gradient-to-br from-violet-50 to-indigo-50 text-violet-600 border border-violet-100":"bg-gradient-to-br from-blue-50 to-cyan-50 text-blue-600 border border-blue-100"}`,children:v.type==="Face ID"?e.jsx(Cn,{size:28}):e.jsx(It,{size:28})}),p(v.status)]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-black text-slate-900 group-hover:text-violet-600 transition-colors tracking-tight truncate w-full",title:v.name,children:v.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-1 truncate",children:[e.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] truncate",children:v.type}),e.jsx("div",{className:"w-1 h-1 rounded-full bg-slate-200 shrink-0"}),e.jsxs("span",{className:"text-[10px] font-bold text-slate-400 italic shrink-0",children:["#",v.id,"00-X"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-slate-50/50 rounded-2xl border border-slate-100 group-hover:bg-white group-hover:border-violet-100 transition-all duration-500",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1.5",children:"Entries"}),e.jsxs("div",{className:"flex items-baseline gap-1",children:[e.jsx("p",{className:"text-2xl font-black text-slate-900 leading-none",children:v.entriesToday}),e.jsx("span",{className:"text-[10px] font-bold text-emerald-500",children:"+12%"})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1.5",children:"Last Sync"}),e.jsxs("div",{className:"flex items-center gap-1.5 text-slate-600",children:[e.jsx(Tr,{size:12,className:"text-violet-500"}),e.jsx("p",{className:"text-xs font-black tracking-tight",children:v.lastSync})]})]})]})]}),e.jsx("div",{className:"flex-grow"}),e.jsxs("div",{className:"flex items-center justify-between pt-2 mt-4",children:[e.jsx("button",{onClick:()=>h(),className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-slate-900 text-white text-xs font-black hover:bg-violet-600 transition-all duration-300 shadow-lg shadow-slate-200 hover:shadow-violet-200 active:scale-95 shrink-0",children:"Monitor Activity"}),e.jsx("div",{className:"p-2 rounded-xl bg-slate-50 text-slate-400 hover:text-red-500 transition-colors cursor-pointer shrink-0",children:e.jsx(ms,{size:18})})]})]})]},v.id))}),e.jsx("div",{className:"mt-12 max-w-7xl mx-auto",children:e.jsxs("div",{className:"bg-indigo-50/50 rounded-2xl border border-indigo-100 p-6 flex flex-col sm:flex-row items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4 text-center sm:text-left",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-white flex items-center justify-center text-indigo-600 shadow-sm flex-shrink-0",children:e.jsx(Qt,{size:20})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-black text-indigo-900 tracking-tight",children:"Automatic Hardware Synchronization"}),e.jsx("p",{className:"text-xs text-slate-500 font-medium",children:"Device access syncs with Member Status and Attendance automatically."})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("span",{className:"px-3 py-1 bg-white border border-indigo-200 text-indigo-600 text-[10px] font-black rounded-lg uppercase tracking-widest",children:"Active"}),e.jsx("span",{className:"px-3 py-1 bg-indigo-600 text-white text-[10px] font-black rounded-lg uppercase tracking-widest",children:"Verified"})]})]})})]})},xf=({icon:s,label:t,value:a,color:l,trend:i})=>{const o={violet:"from-violet-500 to-purple-600 shadow-violet-200 text-violet-600",emerald:"from-emerald-500 to-teal-600 shadow-emerald-200 text-emerald-600",blue:"from-blue-500 to-indigo-600 shadow-blue-200 text-blue-600"};return e.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-xl border border-slate-100 flex items-center gap-5 hover:scale-[1.02] transition-all duration-300",children:[e.jsx("div",{className:`w-14 h-14 rounded-2xl bg-gradient-to-br ${o[l].split(" shadow")[0]} flex items-center justify-center text-white shadow-lg ${o[l].split(" ")[2]}`,children:s}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-1",children:t}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("p",{className:"text-3xl font-black text-slate-900 tracking-tight",children:a}),i&&e.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase",children:i})]})]})]})},jr=({label:s,value:t,isUnlimited:a,onChange:l,onToggleUnlimited:i,type:o="number",placeholder:c="0",unit:u="",options:x=null,unitValue:h="",onUnitChange:p=null})=>e.jsxs("div",{className:`space-y-2 p-4 rounded-2xl border-2 transition-all duration-300 ${a?"bg-slate-50 border-slate-100 opacity-80":"bg-white border-slate-100 hover:border-indigo-100"}`,children:[e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsx("label",{className:"text-xs font-black uppercase tracking-wider text-slate-500",children:s}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Unlimited"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:a,onChange:f=>i(f.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-9 h-5 bg-slate-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-indigo-600"})]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"relative flex-1",children:a?e.jsxs("div",{className:"w-full px-4 py-3 bg-slate-100 border-2 border-transparent rounded-xl text-sm font-black text-slate-400 flex items-center gap-2 italic",children:[e.jsx(Cm,{size:18})," Unlimited"]}):e.jsxs(e.Fragment,{children:[e.jsx("input",{type:o,value:t,onChange:f=>l(f.target.value),disabled:a,min:"1",placeholder:c,className:"w-full px-4 py-3 bg-white border-2 border-slate-200 rounded-xl text-sm font-bold text-slate-700 focus:outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all placeholder:text-slate-300"}),u&&e.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-xs font-black text-slate-400 uppercase tracking-tighter",children:u})]})}),x&&!a&&e.jsx("div",{className:"w-32",children:e.jsx("select",{value:h,onChange:f=>p(f.target.value),className:"w-full h-full px-3 bg-slate-50 border-2 border-slate-100 rounded-xl text-[10px] font-black uppercase tracking-tighter text-slate-600 focus:outline-none focus:border-indigo-500",children:x.map(f=>e.jsx("option",{value:f.value,children:f.label},f.value))})})]})]}),wE=({isOpen:s,onClose:t,editId:a,onSuccess:l})=>{const[i,o]=b.useState({planName:"",price:"",billingCycle:"Monthly",description:"",status:!0,features:[],limits:{branches:{value:1,isUnlimited:!1},managers:{value:2,isUnlimited:!1},staff:{value:5,isUnlimited:!1},trainers:{value:3,isUnlimited:!1},members:{value:100,isUnlimited:!1},amenities:{value:5,isUnlimited:!1}},opsLimits:{workouts:{value:10,isUnlimited:!1},diets:{value:10,isUnlimited:!1},classes:{value:5,isUnlimited:!1},checkins:{value:30,isUnlimited:!1},leads:{value:50,isUnlimited:!1}},benefits:[]}),[c,u]=b.useState({basic:!0,limits:!0,ops:!0,benefits:!0}),[x,h]=b.useState({}),[p,f]=b.useState(!1);b.useEffect(()=>{s&&(a?y(parseInt(a)):o({planName:"",price:"",billingCycle:"Monthly",description:"",status:!0,features:[],limits:{branches:{value:1,isUnlimited:!1},managers:{value:2,isUnlimited:!1},staff:{value:5,isUnlimited:!1},trainers:{value:3,isUnlimited:!1},members:{value:100,isUnlimited:!1},amenities:{value:5,isUnlimited:!1}},opsLimits:{workouts:{value:10,isUnlimited:!1},diets:{value:10,isUnlimited:!1},classes:{value:5,isUnlimited:!1},checkins:{value:30,isUnlimited:!1},leads:{value:50,isUnlimited:!1}},benefits:[]}),h({}))},[s,a]);const y=async T=>{const W=(await wx()).find(B=>B.id===T);W&&o({planName:W.name,price:W.price,billingCycle:W.period,description:W.description||"",status:W.status==="Active",features:W.features||[],limits:W.limits||i.limits,opsLimits:W.opsLimits||i.opsLimits,benefits:W.benefits||[]})},g=T=>{u(O=>({...O,[T]:!O[T]}))},v=T=>{const{name:O,value:W}=T.target;o(B=>({...B,[O]:W})),x[O]&&h(B=>({...B,[O]:""}))},C=(T,O,W,B)=>{o(z=>({...z,[T]:{...z[T],[O]:{...z[T][O],[W]:B}}}))},N=()=>{o(T=>({...T,benefits:[...T.benefits,{id:Date.now(),name:"",description:"",category:"Premium"}]}))},k=T=>{o(O=>({...O,benefits:O.benefits.filter(W=>W.id!==T)}))},A=(T,O,W)=>{o(B=>({...B,benefits:B.benefits.map(z=>z.id===T?{...z,[O]:W}:z)}))},E=()=>{const T={};return i.planName.trim()||(T.planName="Plan name is required"),i.price||(T.price="Price is required"),i.description.trim()||(T.description="Description is required"),h(T),Object.keys(T).length===0},w=async T=>{if(T.preventDefault(),!E()){u(O=>({...O,basic:!0})),alert("Please fill in all required fields (Name, Price, Description).");return}f(!0);try{const O={name:i.planName,price:i.price,period:i.billingCycle,features:i.features,limits:i.limits,opsLimits:i.opsLimits,benefits:i.benefits,status:i.status?"Active":"Inactive",description:i.description};a?await aN(parseInt(a),O):await sN(O),l(),t()}catch(O){console.error("Error saving plan:",O),alert("Failed to save plan")}finally{f(!1)}},R=({icon:T,title:O,subtitle:W,section:B,active:z,color:P})=>e.jsxs("div",{onClick:()=>g(B),className:`flex items-center justify-between p-4 cursor-pointer rounded-2xl transition-all ${z?"bg-slate-50":"hover:bg-slate-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-xl bg-white shadow-sm border border-slate-100 ${P}`,children:e.jsx(T,{size:20})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-black text-slate-800 text-sm tracking-tight",children:O}),W&&e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:W})]})]}),z?e.jsx(kl,{size:20,className:"text-slate-400"}):e.jsx(bs,{size:20,className:"text-slate-400"})]});return e.jsxs("form",{onSubmit:w,className:"space-y-6 pb-24",children:[e.jsxs("div",{className:"bg-white rounded-[32px] border border-slate-100 shadow-sm overflow-hidden",children:[e.jsx(R,{icon:Xl,title:"Basic Plan Information",subtitle:"Plan core details and pricing",section:"basic",active:c.basic,color:"text-indigo-600"}),c.basic&&e.jsxs("div",{className:"p-6 pt-2 space-y-6 animate-in slide-in-from-top-2 duration-300",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-xs font-black text-slate-500 uppercase tracking-widest",children:"Plan Name *"}),e.jsx("input",{type:"text",name:"planName",className:`w-full px-4 py-3 bg-slate-50 border-2 border-transparent rounded-xl text-sm font-bold text-slate-700 focus:outline-none focus:bg-white focus:border-indigo-500 transition-all ${x.planName?"border-red-500 bg-white":""}`,placeholder:"e.g., Enterprise Premium",value:i.planName,onChange:v}),x.planName&&e.jsx("p",{className:"text-xs text-red-500 font-bold",children:x.planName})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-xs font-black text-slate-500 uppercase tracking-widest",children:"Price () *"}),e.jsx("input",{type:"number",name:"price",className:`w-full px-4 py-3 bg-slate-50 border-2 border-transparent rounded-xl text-sm font-bold text-slate-700 focus:outline-none focus:bg-white focus:border-indigo-500 transition-all ${x.price?"border-red-500 bg-white":""}`,placeholder:"4999",value:i.price,onChange:v})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-xs font-black text-slate-500 uppercase tracking-widest",children:"Billing Cycle"}),e.jsxs("select",{className:"w-full px-4 py-3 bg-slate-50 border-2 border-transparent rounded-xl text-sm font-bold text-slate-700 focus:outline-none focus:bg-white focus:border-indigo-500 transition-all",value:i.billingCycle,onChange:T=>o(O=>({...O,billingCycle:T.target.value})),children:[e.jsx("option",{value:"Monthly",children:"Monthly"}),e.jsx("option",{value:"Quarterly",children:"Quarterly"}),e.jsx("option",{value:"Yearly",children:"Yearly"}),e.jsx("option",{value:"Lifetime",children:"Lifetime / One-time"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-xs font-black text-slate-500 uppercase tracking-widest",children:"Description *"}),e.jsx("textarea",{name:"description",className:"w-full px-4 py-3 bg-slate-50 border-2 border-transparent rounded-xl text-sm font-bold text-slate-700 focus:outline-none focus:bg-white focus:border-indigo-500 transition-all min-h-[80px]",placeholder:"Describe who this plan is for...",value:i.description,onChange:v})]})]})]}),e.jsxs("div",{className:"bg-white rounded-[32px] border border-slate-100 shadow-sm overflow-hidden",children:[e.jsx(R,{icon:$c,title:"Organization Limits",subtitle:"Control branches and accounts",section:"limits",active:c.limits,color:"text-emerald-600"}),c.limits&&e.jsxs("div",{className:"p-6 pt-2 grid grid-cols-1 md:grid-cols-2 gap-4 animate-in slide-in-from-top-2 duration-300",children:[e.jsx(jr,{label:"Max Branches",value:i.limits.branches.value,isUnlimited:i.limits.branches.isUnlimited,onChange:T=>C("limits","branches","value",T),onToggleUnlimited:T=>C("limits","branches","isUnlimited",T)}),e.jsx(jr,{label:"Max Amenities / Benefits",value:i.limits.amenities.value,isUnlimited:i.limits.amenities.isUnlimited,onChange:T=>C("limits","amenities","value",T),onToggleUnlimited:T=>C("limits","amenities","isUnlimited",T)}),e.jsx(jr,{label:"Max Staff Accounts",value:i.limits.staff.value,isUnlimited:i.limits.staff.isUnlimited,onChange:T=>C("limits","staff","value",T),onToggleUnlimited:T=>C("limits","staff","isUnlimited",T)}),e.jsx(jr,{label:"Max Trainers",value:i.limits.trainers.value,isUnlimited:i.limits.trainers.isUnlimited,onChange:T=>C("limits","trainers","value",T),onToggleUnlimited:T=>C("limits","trainers","isUnlimited",T)}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(jr,{label:"Max Members per Branch",value:i.limits.members.value,isUnlimited:i.limits.members.isUnlimited,onChange:T=>C("limits","members","value",T),onToggleUnlimited:T=>C("limits","members","isUnlimited",T)})})]})]}),e.jsxs("div",{className:"bg-white rounded-[32px] border border-slate-100 shadow-sm overflow-hidden",children:[e.jsx(R,{icon:It,title:"Operational Limits",subtitle:"Workout, Diet & Lead controls",section:"ops",active:c.ops,color:"text-amber-600"}),c.ops&&e.jsxs("div",{className:"p-6 pt-2 grid grid-cols-1 md:grid-cols-2 gap-4 animate-in slide-in-from-top-2 duration-300",children:[e.jsx(jr,{label:"Active Workout Plans",value:i.opsLimits.workouts.value,isUnlimited:i.opsLimits.workouts.isUnlimited,onChange:T=>C("opsLimits","workouts","value",T),onToggleUnlimited:T=>C("opsLimits","workouts","isUnlimited",T)}),e.jsx(jr,{label:"Diet Plans",value:i.opsLimits.diets.value,isUnlimited:i.opsLimits.diets.isUnlimited,onChange:T=>C("opsLimits","diets","value",T),onToggleUnlimited:T=>C("opsLimits","diets","isUnlimited",T)}),e.jsx(jr,{label:"Classes / Schedule",value:i.opsLimits.classes.value,isUnlimited:i.opsLimits.classes.isUnlimited,onChange:T=>C("opsLimits","classes","value",T),onToggleUnlimited:T=>C("opsLimits","classes","isUnlimited",T)}),e.jsx(jr,{label:"Leads per Month",value:i.opsLimits.leads.value,isUnlimited:i.opsLimits.leads.isUnlimited,onChange:T=>C("opsLimits","leads","value",T),onToggleUnlimited:T=>C("opsLimits","leads","isUnlimited",T)})]})]}),e.jsxs("div",{className:"bg-white rounded-[32px] border border-slate-100 shadow-sm overflow-hidden",children:[e.jsx(R,{icon:Rd,title:"Premium Benefit Entitlements",subtitle:"Define allowed amenity templates",section:"benefits",active:c.benefits,color:"text-rose-600"}),c.benefits&&e.jsxs("div",{className:"p-6 pt-2 space-y-4 animate-in slide-in-from-top-2 duration-300",children:[e.jsxs("div",{className:"flex items-start gap-4 bg-sky-50 p-6 rounded-3xl border border-sky-100",children:[e.jsx("div",{className:"p-3 bg-white rounded-2xl text-sky-600 shadow-sm",children:e.jsx(Sn,{size:24})}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-black text-sm text-sky-900",children:"Entitlement Logic"}),e.jsx("p",{className:"text-xs font-bold text-sky-700/70 leading-relaxed mt-1",children:"Define specific amenities that gyms are allowed to offer. If left empty, gyms can create any amenity within their count limit."})]})]}),e.jsxs("div",{className:"flex justify-between items-center bg-rose-50/50 p-4 rounded-2xl border border-rose-100",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"text-[10px] font-black text-rose-600 uppercase tracking-widest mb-1",children:"Benefit Templates"}),e.jsx("p",{className:"text-xs font-bold text-slate-500",children:"Add pre-approved perks for this plan."})]}),e.jsxs("button",{type:"button",onClick:N,className:"px-4 py-2 bg-rose-600 text-white rounded-xl text-xs font-black shadow-lg shadow-rose-200 flex items-center gap-2 hover:scale-105 active:scale-95 transition-all",children:[e.jsx(wt,{size:16})," Add Template"]})]}),i.benefits.map((T,O)=>e.jsxs("div",{className:"relative group animate-in zoom-in-95 duration-200",children:[e.jsx("button",{type:"button",onClick:()=>k(T.id),className:"absolute -right-2 -top-2 w-8 h-8 bg-white shadow-lg border border-slate-100 rounded-full flex items-center justify-center text-slate-400 hover:text-red-600 transition-all z-10",children:e.jsx(xs,{size:16})}),e.jsxs("div",{className:"p-6 bg-slate-50 rounded-[24px] border border-slate-100 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Entitlement Name"}),e.jsx("input",{type:"text",value:T.name,onChange:W=>A(T.id,"name",W.target.value),placeholder:"e.g., Steam Room, Spa, VIP Lounge",className:"w-full px-4 py-2 bg-white rounded-xl text-sm font-bold border-2 border-transparent focus:border-rose-500 outline-none transition-all"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Category / Label"}),e.jsxs("select",{value:T.category||"Premium",onChange:W=>A(T.id,"category",W.target.value),className:"w-full px-4 py-2 bg-white rounded-xl text-sm font-bold border-2 border-transparent focus:border-rose-500 outline-none transition-all cursor-pointer",children:[e.jsx("option",{value:"Basic",children:"Basic Perk"}),e.jsx("option",{value:"Premium",children:"Premium Amenity"}),e.jsx("option",{value:"VVIP",children:"Elite Service"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Template Description"}),e.jsx("input",{type:"text",value:T.description||"",onChange:W=>A(T.id,"description",W.target.value),placeholder:"Standard description for this benefit...",className:"w-full px-4 py-2 bg-white rounded-xl text-sm font-bold border-2 border-transparent focus:border-rose-500 outline-none transition-all"})]})]})]},T.id)),i.benefits.length===0&&e.jsxs("div",{className:"text-center py-12 bg-slate-50 border-2 border-dashed border-slate-100 rounded-[32px]",children:[e.jsx(Cn,{size:40,className:"mx-auto text-slate-200 mb-2"}),e.jsx("p",{className:"text-sm font-bold text-slate-400 italic",children:"No specific templates restricted. Open access to defined count limit."})]})]})]}),e.jsxs("div",{className:"fixed bottom-0 right-0 left-0 p-4 bg-white/80 backdrop-blur-md border-t border-slate-100 z-50 flex gap-4",children:[e.jsx("button",{type:"button",onClick:t,className:"flex-1 py-4 bg-slate-100 text-slate-600 rounded-2xl text-xs font-black uppercase tracking-widest hover:bg-slate-200 transition-all",children:"Cancel"}),e.jsxs("button",{type:"submit",disabled:p,className:"flex-[2] py-4 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-2xl text-xs font-black uppercase tracking-widest shadow-xl shadow-indigo-200 flex items-center justify-center gap-2 hover:shadow-indigo-300 transition-all active:scale-95",children:[e.jsx(xa,{size:18}),p?"Saving Configuration...":a?"Update & Sync Plan":"Establish SaaS Plan"]})]})]})},NE=()=>{const[s,t]=b.useState(""),[a,l]=b.useState("all"),[i,o]=b.useState([]),[c,u]=b.useState(!0),[x,h]=b.useState(!1),[p,f]=b.useState(null);b.useEffect(()=>{y()},[]);const y=async()=>{u(!0);try{const R=(await wx()).map(T=>({id:T.id,planName:T.name,price:parseFloat(T.price),billingCycle:T.period,activeUsers:Math.floor(Math.random()*100),status:(T.status||"inactive").toLowerCase(),limits:T.limits||{branches:{value:1,isUnlimited:!1},members:{value:100,isUnlimited:!1}},benefitsCount:(T.benefits||[]).length}));o(R)}catch(w){console.error(w)}finally{u(!1)}},g=i.filter(w=>{const R=w.planName.toLowerCase().includes(s.toLowerCase()),T=a==="all"||w.status===a;return R&&T}),v=()=>{f(null),h(!0)},C=w=>{f(w),h(!0)},N=async w=>{window.confirm("Are you sure you want to delete this plan?")&&(await iD(w),y())},k=()=>{y(),h(!1)},A=w=>`${w.toLocaleString("en-IN")}`,E=({limit:w,icon:R})=>e.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1 bg-slate-50 border border-slate-100 rounded-lg text-slate-600",children:[e.jsx(R,{size:12,className:"text-slate-400"}),e.jsx("span",{className:"text-[10px] font-black uppercase",children:w?.isUnlimited?e.jsx(Cm,{size:14,className:"text-indigo-600"}):w?.value||"0"})]});return c?e.jsx("div",{className:"p-6 text-center text-gray-600",children:"Loading plans..."}):e.jsxs("div",{className:"bg-gradient-to-br from-gray-50 via-white to-indigo-50/30 h-full w-full",children:[e.jsxs("div",{className:"mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-gray-100 p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 bg-clip-text text-transparent mb-2 flex items-center gap-2",children:[e.jsx(Gr,{className:"text-indigo-600",size:28}),"SaaS Membership Plans"]}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Configure resource quotas and subscription tiers"})]}),e.jsxs("button",{className:"group relative px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl font-semibold shadow-lg hover:shadow-xl hover:shadow-indigo-500/50 hover:scale-105 hover:-translate-y-1 transition-all duration-300 flex items-center gap-2",onClick:v,children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 to-pink-600 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx(wt,{size:20,className:"relative transition-transform duration-300 group-hover:rotate-90"}),e.jsx("span",{className:"relative",children:"Create New Plan"})]})]})})]}),e.jsx("div",{className:"mb-6 bg-white/60 backdrop-blur-md rounded-xl shadow-lg border border-white/50 p-5 relative overflow-visible",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 overflow-visible",children:[e.jsxs("div",{className:"relative flex-1 group",children:[e.jsx(st,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-indigo-500 transition-all duration-300"}),e.jsx("input",{type:"text",placeholder:"Search plans...",className:"w-full pl-12 pr-4 py-3 bg-white/80 border-2 border-gray-200 rounded-xl text-sm focus:outline-none focus:border-indigo-500 transition-all duration-300",value:s,onChange:w=>t(w.target.value)})]}),e.jsx("div",{className:"w-full sm:w-48 relative overflow-visible",children:e.jsx(ds,{options:[{value:"all",label:"All Status"},{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}],value:a,onChange:l})})]})}),g.length>0?e.jsx("div",{className:"hidden md:block bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:e.jsxs("table",{className:"w-full border-separate border-spacing-0",children:[e.jsx("thead",{className:"bg-slate-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black uppercase text-slate-500 tracking-widest",children:"Plan Name"}),e.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black uppercase text-slate-500 tracking-widest",children:"Pricing"}),e.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black uppercase text-slate-500 tracking-widest",children:"Resource limits"}),e.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black uppercase text-slate-500 tracking-widest",children:"Benefits"}),e.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black uppercase text-slate-500 tracking-widest",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black uppercase text-slate-500 tracking-widest",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:g.map(w=>e.jsxs("tr",{className:"group hover:bg-slate-50/50 transition-all duration-200",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-indigo-50 text-indigo-600 flex items-center justify-center font-black text-lg shadow-inner",children:w.planName.charAt(0)}),e.jsx("span",{className:"font-bold text-slate-800 tracking-tight",children:w.planName})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-black text-slate-900 text-lg",children:A(w.price)}),e.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:w.billingCycle})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(E,{limit:w.limits?.branches,icon:$c}),e.jsx(E,{limit:w.limits?.members,icon:Pt})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"font-black text-rose-600",children:w.benefitsCount}),e.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Active"})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-4 py-1.5 rounded-full text-[10px] font-black uppercase tracking-widest shadow-sm ${w.status==="active"?"bg-emerald-50 text-emerald-600 border border-emerald-100":"bg-red-50 text-red-600 border border-red-100"}`,children:w.status})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-end gap-2 opacity-0 group-hover:opacity-100 transition-all",children:[e.jsx("button",{onClick:()=>C(w.id),className:"p-2.5 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 hover:scale-110 rounded-xl transition-all shadow-sm bg-white border border-slate-100",children:e.jsx(Od,{size:16})}),e.jsx("button",{onClick:()=>N(w.id),className:"p-2.5 text-slate-400 hover:text-red-600 hover:bg-red-50 hover:scale-110 rounded-xl transition-all shadow-sm bg-white border border-slate-100",children:e.jsx(xs,{size:16})})]})})]},w.id))})]})}):e.jsx("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-16 text-center",children:e.jsx("p",{className:"text-gray-500",children:"No plans found matching your criteria."})}),e.jsx("div",{className:"md:hidden space-y-4",children:g.map(w=>e.jsx(Ya,{title:w.planName,subtitle:`${A(w.price)} / ${w.billingCycle}`,badge:{label:w.status.toUpperCase(),color:w.status==="active"?"green":"red"},actions:[{label:"Edit",icon:Od,onClick:()=>C(w.id)},{label:"Delete",icon:xs,onClick:()=>N(w.id),variant:"danger"}]},w.id))}),e.jsx(rt,{isOpen:x,onClose:()=>h(!1),title:p?"Refine Subscription Tier":"Establish New SaaS Tier",children:e.jsx(wE,{isOpen:x,onClose:()=>h(!1),editId:p,onSuccess:k})})]})},kE=()=>{const s=Ht(),t=Pr(),l=new URLSearchParams(t.search).get("edit"),[i,o]=b.useState({planName:"",price:"",billingCycle:"Monthly",description:"",status:!0,features:[],limits:{branches:{value:1,isUnlimited:!1},managers:{value:2,isUnlimited:!1},staff:{value:5,isUnlimited:!1},trainers:{value:3,isUnlimited:!1},members:{value:100,isUnlimited:!1}},opsLimits:{workouts:{value:10,isUnlimited:!1},diets:{value:10,isUnlimited:!1},classes:{value:5,isUnlimited:!1},checkins:{value:30,isUnlimited:!1},leads:{value:50,isUnlimited:!1}},benefits:[]}),[c,u]=b.useState({basic:!0,limits:!0,ops:!0,benefits:!0}),[x,h]=b.useState({}),[p,f]=b.useState(!1);b.useEffect(()=>{l&&y(parseInt(l))},[l]);const y=async T=>{const W=(await wx()).find(B=>B.id===T);W&&o({planName:W.name,price:W.price,billingCycle:W.period,description:W.description||"",status:W.status==="Active",features:W.features||[],limits:W.limits||i.limits,opsLimits:W.opsLimits||i.opsLimits,benefits:W.benefits||[]})},g=T=>{u(O=>({...O,[T]:!O[T]}))},v=T=>{const{name:O,value:W}=T.target;o(B=>({...B,[O]:W})),x[O]&&h(B=>({...B,[O]:""}))},C=(T,O,W,B)=>{o(z=>({...z,[T]:{...z[T],[O]:{...z[T][O],[W]:B}}}))},N=()=>{o(T=>({...T,benefits:[...T.benefits,{id:Date.now(),name:"",limit:"5",isUnlimited:!1,unit:"Per Month"}]}))},k=T=>{o(O=>({...O,benefits:O.benefits.filter(W=>W.id!==T)}))},A=(T,O,W)=>{o(B=>({...B,benefits:B.benefits.map(z=>z.id===T?{...z,[O]:W}:z)}))},E=()=>{const T={};return i.planName.trim()||(T.planName="Plan name is required"),i.price||(T.price="Price is required"),i.description.trim()||(T.description="Description is required"),h(T),Object.keys(T).length===0},w=async T=>{if(T.preventDefault(),!E()){u(O=>({...O,basic:!0})),alert("Please fill in all required fields (Name, Price, Description).");return}f(!0);try{const O={name:i.planName,price:i.price,period:i.billingCycle,features:i.features,limits:i.limits,opsLimits:i.opsLimits,benefits:i.benefits,status:i.status?"Active":"Inactive",description:i.description};l?await aN(parseInt(l),O):await sN(O),s("/superadmin/plans/list")}catch(O){console.error("Error saving plan:",O),alert("Failed to save plan")}finally{f(!1)}},R=({icon:T,title:O,subtitle:W,section:B,active:z,color:P})=>e.jsxs("div",{onClick:()=>g(B),className:`flex items-center justify-between p-5 cursor-pointer rounded-[24px] transition-all ${z?"bg-slate-50":"hover:bg-slate-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`p-3 rounded-2xl bg-white shadow-sm border border-slate-100 ${P}`,children:e.jsx(T,{size:24})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-black text-slate-800 tracking-tight",children:O}),W&&e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-[0.1em]",children:W})]})]}),z?e.jsx(kl,{size:24,className:"text-slate-400"}):e.jsx(bs,{size:24,className:"text-slate-400"})]});return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-indigo-50/30 py-8 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("button",{onClick:()=>s("/superadmin/plans/list"),className:"group flex items-center text-slate-500 hover:text-indigo-600 transition-all mb-8",children:[e.jsx(Dn,{className:"w-5 h-5 mr-2 group-hover:-translate-x-1 transition-transform"}),e.jsx("span",{className:"font-bold text-sm tracking-tight",children:"Back to SaaS Plans"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-black text-slate-900 tracking-tighter",children:l?"Refine SaaS Tier":"Establish New Tier"}),e.jsx("p",{className:"text-slate-500 font-bold mt-1",children:"Configure global resource quotas and member benefits."})]}),e.jsxs("div",{className:"flex items-center gap-3 p-2 bg-indigo-50 rounded-2xl border border-indigo-100",children:[e.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${i.status?"text-indigo-600":"text-slate-400"}`,children:i.status?"Tier Publicly Active":"Tier Hidden / Draft"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:i.status,onChange:()=>o(T=>({...T,status:!T.status})),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-slate-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-gradient-to-r peer-checked:from-indigo-600 peer-checked:to-purple-600"})]})]})]}),e.jsxs("form",{onSubmit:w,className:"space-y-6 pb-24",children:[e.jsxs("div",{className:"bg-white rounded-[32px] border-2 border-slate-100 shadow-xl shadow-slate-100/50 overflow-hidden",children:[e.jsx(R,{icon:Xl,title:"Basic Configuration",subtitle:"Core identity and billing",section:"basic",active:c.basic,color:"text-indigo-600"}),c.basic&&e.jsxs("div",{className:"p-8 pt-2 space-y-6 animate-in slide-in-from-top-2 duration-300",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-xs font-black text-slate-500 uppercase tracking-[0.2em]",children:"Plan Designation *"}),e.jsx("input",{type:"text",name:"planName",className:`w-full px-6 py-4 bg-slate-50 border-2 border-transparent rounded-2xl text-lg font-black text-slate-800 placeholder:text-slate-300 focus:outline-none focus:bg-white focus:border-indigo-500 transition-all ${x.planName?"border-red-500 bg-white":""}`,placeholder:"e.g., Global Enterprise Plus",value:i.planName,onChange:v}),x.planName&&e.jsx("p",{className:"text-xs text-red-500 font-black italic",children:x.planName})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-xs font-black text-slate-500 uppercase tracking-[0.2em]",children:"Subscription Price () *"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-6 top-1/2 -translate-y-1/2 text-2xl font-black text-slate-300",children:""}),e.jsx("input",{type:"number",name:"price",className:`w-full pl-12 pr-6 py-4 bg-slate-50 border-2 border-transparent rounded-2xl text-2xl font-black text-slate-800 focus:outline-none focus:bg-white focus:border-indigo-500 transition-all ${x.price?"border-red-500 bg-white":""}`,placeholder:"9999",value:i.price,onChange:v})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-xs font-black text-slate-500 uppercase tracking-[0.2em]",children:"Billing Interval"}),e.jsxs("select",{className:"w-full px-6 py-5 bg-slate-50 border-2 border-transparent rounded-2xl text-sm font-black text-slate-600 uppercase tracking-widest focus:outline-none focus:bg-white focus:border-indigo-500 transition-all",value:i.billingCycle,onChange:T=>o(O=>({...O,billingCycle:T.target.value})),children:[e.jsx("option",{value:"Monthly",children:"Monthly Cycle"}),e.jsx("option",{value:"Quarterly",children:"Quarterly Cycle"}),e.jsx("option",{value:"Yearly",children:"Yearly Cycle"}),e.jsx("option",{value:"Lifetime",children:"One-time / Lifetime"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-xs font-black text-slate-500 uppercase tracking-[0.2em]",children:"Marketing Description *"}),e.jsx("textarea",{name:"description",className:"w-full px-6 py-4 bg-slate-50 border-2 border-transparent rounded-2xl text-sm font-bold text-slate-600 focus:outline-none focus:bg-white focus:border-indigo-500 transition-all min-h-[120px] resize-none",placeholder:"Highlight why this plan is perfect for scaling gyms...",value:i.description,onChange:v})]})]})]}),e.jsxs("div",{className:"bg-white rounded-[32px] border-2 border-slate-100 shadow-xl shadow-slate-100/50 overflow-hidden",children:[e.jsx(R,{icon:$c,title:"Organization Resource Quotas",subtitle:"Define infrastructure limits",section:"limits",active:c.limits,color:"text-emerald-600"}),c.limits&&e.jsxs("div",{className:"p-8 pt-2 grid grid-cols-1 md:grid-cols-2 gap-6 animate-in slide-in-from-top-2 duration-300",children:[e.jsx(jr,{label:"Maximum Branches",value:i.limits.branches.value,isUnlimited:i.limits.branches.isUnlimited,onChange:T=>C("limits","branches","value",T),onToggleUnlimited:T=>C("limits","branches","isUnlimited",T),unit:"Branches"}),e.jsx(jr,{label:"Administrative Managers",value:i.limits.managers.value,isUnlimited:i.limits.managers.isUnlimited,onChange:T=>C("limits","managers","value",T),onToggleUnlimited:T=>C("limits","managers","isUnlimited",T),unit:"Total"}),e.jsx(jr,{label:"Staff / Employee Accounts",value:i.limits.staff.value,isUnlimited:i.limits.staff.isUnlimited,onChange:T=>C("limits","staff","value",T),onToggleUnlimited:T=>C("limits","staff","isUnlimited",T),unit:"Accounts"}),e.jsx(jr,{label:"Professional Trainers",value:i.limits.trainers.value,isUnlimited:i.limits.trainers.isUnlimited,onChange:T=>C("limits","trainers","value",T),onToggleUnlimited:T=>C("limits","trainers","isUnlimited",T),unit:"Trainers"}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(jr,{label:"Active Member Quota (per Branch)",value:i.limits.members.value,isUnlimited:i.limits.members.isUnlimited,onChange:T=>C("limits","members","value",T),onToggleUnlimited:T=>C("limits","members","isUnlimited",T),unit:"Active Members"})})]})]}),e.jsxs("div",{className:"bg-white rounded-[32px] border-2 border-slate-100 shadow-xl shadow-slate-100/50 overflow-hidden",children:[e.jsx(R,{icon:It,title:"Operational Execution Limits",subtitle:"Software feature controls",section:"ops",active:c.ops,color:"text-amber-600"}),c.ops&&e.jsxs("div",{className:"p-8 pt-2 grid grid-cols-1 md:grid-cols-2 gap-6 animate-in slide-in-from-top-2 duration-300",children:[e.jsx(jr,{label:"Active Workout Blueprints",value:i.opsLimits.workouts.value,isUnlimited:i.opsLimits.workouts.isUnlimited,onChange:T=>C("opsLimits","workouts","value",T),onToggleUnlimited:T=>C("opsLimits","workouts","isUnlimited",T)}),e.jsx(jr,{label:"Active Diet Plan Database",value:i.opsLimits.diets.value,isUnlimited:i.opsLimits.diets.isUnlimited,onChange:T=>C("opsLimits","diets","value",T),onToggleUnlimited:T=>C("opsLimits","diets","isUnlimited",T)}),e.jsx(jr,{label:"Class Types / Schedules",value:i.opsLimits.classes.value,isUnlimited:i.opsLimits.classes.isUnlimited,onChange:T=>C("opsLimits","classes","value",T),onToggleUnlimited:T=>C("opsLimits","classes","isUnlimited",T)}),e.jsx(jr,{label:"Inquiry Leads / Month",value:i.opsLimits.leads.value,isUnlimited:i.opsLimits.leads.isUnlimited,onChange:T=>C("opsLimits","leads","value",T),onToggleUnlimited:T=>C("opsLimits","leads","isUnlimited",T)})]})]}),e.jsxs("div",{className:"bg-white rounded-[32px] border-2 border-slate-100 shadow-xl shadow-slate-100/50 overflow-hidden",children:[e.jsx(R,{icon:Rd,title:"Tier-specific Member Benefits",subtitle:"Quota sync for end-users",section:"benefits",active:c.benefits,color:"text-rose-600"}),c.benefits&&e.jsxs("div",{className:"p-8 pt-2 space-y-6 animate-in slide-in-from-top-2 duration-300",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center bg-rose-50/50 p-6 rounded-[24px] border border-rose-100 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-rose-600 text-white rounded-2xl flex items-center justify-center shadow-lg shadow-rose-200",children:e.jsx(Cm,{size:28})}),e.jsxs("div",{children:[e.jsxs("h5",{className:"text-sm font-black text-rose-700 tracking-tight flex items-center gap-2",children:["Benefit Quota Logic ",e.jsx("span",{className:"px-2 py-0.5 bg-rose-200 text-rose-700 rounded-md text-[8px] uppercase",children:"Active"})]}),e.jsx("p",{className:"text-[10px] font-bold text-rose-500 uppercase tracking-widest mt-0.5",children:"Automated synchronization with member dashboard"})]})]}),e.jsxs("button",{type:"button",onClick:N,className:"w-full sm:w-auto px-6 py-4 bg-rose-600 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest shadow-xl shadow-rose-200 flex items-center justify-center gap-2 hover:bg-rose-700 hover:-translate-y-1 active:translate-y-0 transition-all",children:[e.jsx(Plus,{size:18})," Configure New Benefit"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:i.benefits.map((T,O)=>e.jsxs("div",{className:"relative group animate-in zoom-in-95 duration-200",children:[e.jsx("button",{type:"button",onClick:()=>k(T.id),className:"absolute -right-3 -top-3 w-10 h-10 bg-white shadow-xl border border-slate-100 rounded-2xl flex items-center justify-center text-slate-400 hover:text-red-600 hover:rotate-90 transition-all z-10",children:e.jsx(Trash2,{size:20})}),e.jsxs("div",{className:"p-6 bg-slate-50 rounded-[32px] border border-slate-100 space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Benefit Designation"}),e.jsx("input",{type:"text",value:T.name,onChange:W=>A(T.id,"name",W.target.value),placeholder:"e.g., Ice Bath Sessions",className:"w-full px-5 py-3 bg-white rounded-2xl text-sm font-black border-2 border-transparent focus:border-rose-500 outline-none transition-all shadow-sm"})]}),e.jsx(jr,{label:"Usage Allocation",value:T.limit,isUnlimited:T.isUnlimited,onChange:W=>A(T.id,"limit",W),onToggleUnlimited:W=>A(T.id,"isUnlimited",W),unitValue:T.unit,onUnitChange:W=>A(T.id,"unit",W),options:[{value:"Per Month",label:"Per Month"},{value:"Per Year",label:"Per Year"},{value:"Lifetime",label:"Lifetime Auth"}]})]})]},T.id))}),i.benefits.length===0&&e.jsxs("div",{className:"text-center py-20 border-4 border-dashed border-slate-50 rounded-[40px] bg-slate-50/30",children:[e.jsx(Rd,{size:60,className:"mx-auto text-slate-200 mb-4 stroke-1"}),e.jsx("h6",{className:"text-lg font-black text-slate-300 tracking-tight",children:"No Tier Benefits defined."}),e.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mt-2",children:"Members will only have access to core gym features."})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-8",children:[e.jsx("button",{type:"button",onClick:()=>s("/superadmin/plans/list"),className:"flex-1 py-5 bg-white border-2 border-slate-200 text-slate-600 rounded-3xl text-sm font-black uppercase tracking-widest hover:bg-slate-50 transition-all border-b-4 active:translate-y-1 active:border-b-0",children:"Discard Changes"}),e.jsxs("button",{type:"submit",disabled:p,className:"flex-[2] py-5 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-3xl text-sm font-black uppercase tracking-widest shadow-2xl shadow-indigo-200 flex items-center justify-center gap-3 hover:shadow-indigo-400 hover:-translate-y-1 active:translate-y-0 transition-all",children:[e.jsx(xa,{size:24}),p?"Syncing with SaaS Engine...":l?"Commit & Synchronize Plan":"Establish Global SaaS Tier"]})]})]})]})})},SE=()=>{const s=Ht(),[t,a]=b.useState(""),[l,i]=b.useState(!1),[o,c]=b.useState([]),[u,x]=b.useState([]);b.useEffect(()=>{h()},[]);const h=async()=>{const N=await wx();x(N),c(N.map(k=>({id:k.id,name:k.name})))},[p,f]=b.useState([{id:"gym_management",name:"Gym Management",description:"Manage gym branches, locations, and settings",enabled:!1},{id:"trainer_management",name:"Trainer Management",description:"Assign and manage trainers, track sessions",enabled:!1},{id:"member_management",name:"Member Management",description:"Complete member lifecycle management",enabled:!1},{id:"payment_reports",name:"Payment Reports",description:"Financial reports, invoices, and GST reports",enabled:!1},{id:"analytics_dashboard",name:"Analytics Dashboard",description:"Advanced analytics and business insights",enabled:!1},{id:"access_control",name:"Access Control",description:"Entry/exit logs and access management",enabled:!1},{id:"locker_management",name:"Locker Management",description:"Assign and manage lockers for members",enabled:!1},{id:"booking_system",name:"Booking System",description:"Sauna, ice bath, and facility bookings",enabled:!1},{id:"wallet_management",name:"Wallet Management",description:"Member benefit wallet and credit system",enabled:!1},{id:"task_management",name:"Task Management",description:"Assign and track staff tasks",enabled:!1}]),y=N=>{const k=N;if(a(k),k){const E=u.find(w=>w.id===parseInt(k))?.features||[];f(w=>w.map(R=>({...R,enabled:E.includes(R.id)})))}else f(A=>A.map(E=>({...E,enabled:!1})))},g=N=>{f(k=>k.map(A=>A.id===N?{...A,enabled:!A.enabled}:A))},v=async()=>{if(!t){alert("Please select a plan first");return}i(!0);try{const N=parseInt(t),k=p.filter(A=>A.enabled).map(A=>A.id);await oD(N,k),i(!1),alert("Features updated successfully!"),s("/superadmin/plans/list")}catch(N){console.error("Error saving features:",N),alert("Failed to save features"),i(!1)}},C=()=>{a(""),f(N=>N.map(k=>({...k,enabled:!1})))};return e.jsxs("div",{className:"min-h-screen bg-gray-50/50 flex flex-col items-center py-8 px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"w-full max-w-5xl mb-6",children:e.jsxs("button",{onClick:()=>s("/superadmin/plans/list"),className:"group flex items-center text-gray-500 hover:text-indigo-600 transition-colors duration-200",children:[e.jsx("div",{className:"p-1 rounded-full group-hover:bg-indigo-50 transition-colors duration-200 mr-2",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-arrow-left",children:[e.jsx("path",{d:"m12 19-7-7 7-7"}),e.jsx("path",{d:"M19 12H5"})]})}),e.jsx("span",{className:"font-medium",children:"Back to Plans"})]})}),e.jsx("div",{className:"flex flex-col md:flex-row gap-6 w-full max-w-5xl items-start mb-2",children:e.jsx("h1",{className:"text-2xl font-bold text-gray-800 md:hidden mb-4",children:"Feature Toggles"})}),e.jsxs("div",{className:"w-full max-w-5xl bg-white rounded-3xl shadow-xl shadow-gray-200/50 border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"px-6 py-8 sm:px-10 border-b border-gray-100 bg-white",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 tracking-tight",children:"Feature Toggles"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Manage availability of features for specific subscription plans."})]}),e.jsxs("div",{className:"px-6 py-8 sm:px-10 space-y-8",children:[e.jsxs("div",{className:"max-w-md",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Select Plan"}),e.jsxs("div",{className:"relative",children:[e.jsx(ds,{options:o.map(N=>({value:N.id,label:N.name})),value:t,onChange:y,placeholder:"Choose a plan to manage features...",className:"w-full"}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-4 text-gray-500",children:e.jsx("svg",{className:"h-4 w-4 fill-current",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"})})})]})]}),t?e.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-300",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:p.map(N=>e.jsxs("div",{className:`p-4 rounded-2xl border transition-all duration-200 flex items-start justify-between gap-4 ${N.enabled?"bg-indigo-50/30 border-indigo-200":"bg-gray-50/50 border-gray-100 hover:border-gray-200"}`,children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:`text-sm font-bold ${N.enabled?"text-indigo-900":"text-gray-700"}`,children:N.name}),e.jsx("p",{className:"text-xs text-gray-500 mt-1 leading-relaxed",children:N.description})]}),e.jsx("div",{className:"flex items-center pt-0.5",children:e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:N.enabled,onChange:()=>g(N.id),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})})]},N.id))}),e.jsxs("div",{className:"pt-8 flex flex-col-reverse md:flex-row items-center justify-end gap-4 border-t border-gray-100 mt-8",children:[e.jsx("button",{onClick:C,disabled:l,className:"w-full md:w-auto px-6 py-2.5 bg-white border border-gray-300 rounded-xl text-sm font-semibold text-gray-700 hover:bg-gray-50 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-all duration-200 shadow-sm",children:"Cancel"}),e.jsxs("button",{onClick:v,disabled:l,className:"w-full md:w-auto flex items-center justify-center px-8 py-2.5 bg-gradient-to-r from-indigo-600 to-indigo-700 border border-transparent rounded-xl text-sm font-semibold text-white hover:from-indigo-700 hover:to-indigo-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 shadow-lg shadow-indigo-500/30 transition-all duration-200 transform hover:-translate-y-0.5 hover:shadow-indigo-500/40 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(xa,{size:18,className:"mr-2"}),l?"Saving...":"Save Changes"]})]})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4 text-center border-2 border-dashed border-gray-200 rounded-2xl bg-gray-50/50",children:[e.jsx("div",{className:"p-4 bg-white rounded-full shadow-sm mb-4",children:e.jsx(CE,{className:"w-8 h-8 text-indigo-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No Plan Selected"}),e.jsx("p",{className:"text-sm text-gray-500 max-w-sm mt-1",children:"Select a subscription plan from the dropdown above to view and manage its enabled features."})]})]})]})]})},CE=({className:s})=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:s,children:[e.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.09a2 2 0 0 1-1-1.74v-.47a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),AE=({isOpen:s,onClose:t,onSuccess:a})=>{const[l,i]=b.useState(!1),[o,c]=b.useState([]),[u,x]=b.useState({gymName:"",branchName:"",ownerName:"",email:"",phone:"",address:"",status:"Active",planId:""}),h=["Active","Suspended"];b.useEffect(()=>{s&&(async()=>{try{const C=await wx();c(C.map(N=>({value:N.id,label:`${N.name} (${N.period} - ${N.price})`})))}catch(C){console.error("Error fetching plans:",C)}})()},[s]);const p=v=>{const{name:C,value:N}=v.target;x(k=>({...k,[C]:N}))},f=v=>{x(C=>({...C,status:v}))},y=v=>{x(C=>({...C,planId:v}))},g=async v=>{if(v.preventDefault(),!u.planId){alert("Please select a SaaS Plan");return}i(!0);try{await Zw({...u,owner:u.ownerName,location:u.address}),a(),t(),x({gymName:"",branchName:"",ownerName:"",email:"",phone:"",address:"",status:"Active",planId:""})}catch(C){console.error("Error adding gym:",C),alert(typeof C=="string"?C:"Failed to add gym")}finally{i(!1)}};return e.jsx(rt,{isOpen:s,onClose:t,title:"Add New Gym",subtitle:"Register a new gym branch in the system",maxWidth:"max-w-2xl",footer:e.jsxs("div",{className:"flex flex-col-reverse sm:flex-row items-stretch sm:items-center justify-end gap-3 sm:gap-4 w-full",children:[e.jsx("button",{type:"button",onClick:t,className:"group px-6 sm:px-8 py-2.5 sm:py-3 bg-white border-2 border-slate-200 text-slate-700 hover:border-violet-300 hover:text-violet-600 rounded-lg sm:rounded-xl text-sm font-bold shadow-sm hover:shadow-md transition-all duration-300 hover:scale-105",children:"Cancel"}),e.jsxs("button",{type:"submit",form:"add-gym-form",disabled:l,className:"group relative px-6 sm:px-8 py-2.5 sm:py-3 bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 text-white rounded-lg sm:rounded-xl text-sm font-bold shadow-xl shadow-violet-500/50 hover:shadow-2xl hover:shadow-violet-500/60 transition-all duration-300 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-fuchsia-600 via-purple-600 to-violet-600 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx("span",{className:"relative flex items-center justify-center gap-2",children:l?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Gr,{size:16,className:"group-hover:rotate-12 transition-transform duration-300"}),"Create Gym"]})})]})]}),children:e.jsxs("form",{id:"add-gym-form",onSubmit:g,className:"space-y-6 sm:space-y-8 px-6 py-6 font-inter",children:[e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 pb-3 sm:pb-4 border-b border-slate-100",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg sm:rounded-xl bg-gradient-to-br from-violet-100 to-purple-100 flex items-center justify-center flex-shrink-0",children:e.jsx($c,{size:16,className:"sm:w-5 sm:h-5 text-violet-600",strokeWidth:2.5})}),e.jsx("h2",{className:"text-base sm:text-lg font-black bg-gradient-to-r from-violet-600 to-purple-600 bg-clip-text text-transparent",children:"Gym Information"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-xs sm:text-sm font-bold bg-gradient-to-r from-violet-600 to-purple-600 bg-clip-text text-transparent",children:[e.jsx($c,{size:14,className:"sm:w-4 sm:h-4 text-violet-500"}),"Gym Name"]}),e.jsx("input",{type:"text",name:"gymName",value:u.gymName,onChange:p,placeholder:"e.g. FitPulse Elite",className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 bg-gradient-to-br from-slate-50 to-white border-2 border-slate-200 rounded-lg sm:rounded-xl text-slate-900 text-sm placeholder-slate-400 focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 hover:border-violet-300 transition-all duration-300 shadow-sm",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-xs sm:text-sm font-bold bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent",children:[e.jsx(Ws,{size:14,className:"sm:w-4 sm:h-4 text-blue-500"}),"Branch Name"]}),e.jsx("input",{type:"text",name:"branchName",value:u.branchName,onChange:p,placeholder:"e.g. Downtown Hub",className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 bg-gradient-to-br from-slate-50 to-white border-2 border-slate-200 rounded-lg sm:rounded-xl text-slate-900 text-sm placeholder-slate-400 focus:outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 hover:border-blue-300 transition-all duration-300 shadow-sm",required:!0})]})]})]}),e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 pb-3 sm:pb-4 border-b border-slate-100",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg sm:rounded-xl bg-gradient-to-br from-emerald-100 to-teal-100 flex items-center justify-center flex-shrink-0",children:e.jsx(lt,{size:16,className:"sm:w-5 sm:h-5 text-emerald-600",strokeWidth:2.5})}),e.jsx("h2",{className:"text-base sm:text-lg font-black bg-gradient-to-r from-emerald-600 to-teal-600 bg-clip-text text-transparent",children:"Owner & Contact Details"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-xs sm:text-sm font-bold bg-gradient-to-r from-emerald-600 to-teal-600 bg-clip-text text-transparent",children:[e.jsx(lt,{size:14,className:"sm:w-4 sm:h-4 text-emerald-500"}),"Owner Name"]}),e.jsx("input",{type:"text",name:"ownerName",value:u.ownerName,onChange:p,placeholder:"Full Name",className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 bg-gradient-to-br from-slate-50 to-white border-2 border-slate-200 rounded-lg sm:rounded-xl text-slate-900 text-sm placeholder-slate-400 focus:outline-none focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/10 hover:border-emerald-300 transition-all duration-300 shadow-sm",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-xs sm:text-sm font-bold bg-gradient-to-r from-orange-600 to-amber-600 bg-clip-text text-transparent",children:[e.jsx(ja,{size:14,className:"sm:w-4 sm:h-4 text-orange-500"}),"Contact Phone"]}),e.jsx("input",{type:"tel",name:"phone",value:u.phone,onChange:p,placeholder:"+1 (555) 000-0000",className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 bg-gradient-to-br from-slate-50 to-white border-2 border-slate-200 rounded-lg sm:rounded-xl text-slate-900 text-sm placeholder-slate-400 focus:outline-none focus:border-orange-500 focus:ring-4 focus:ring-orange-500/10 hover:border-orange-300 transition-all duration-300 shadow-sm",required:!0})]}),e.jsxs("div",{className:"md:col-span-2 space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-xs sm:text-sm font-bold bg-gradient-to-r from-pink-600 to-rose-600 bg-clip-text text-transparent",children:[e.jsx(_r,{size:14,className:"sm:w-4 sm:h-4 text-pink-500"}),"Email Address"]}),e.jsx("input",{type:"email",name:"email",value:u.email,onChange:p,placeholder:"admin@gym.com",className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 bg-gradient-to-br from-slate-50 to-white border-2 border-slate-200 rounded-lg sm:rounded-xl text-slate-900 text-sm placeholder-slate-400 focus:outline-none focus:border-pink-500 focus:ring-4 focus:ring-pink-500/10 hover:border-pink-300 transition-all duration-300 shadow-sm",required:!0})]})]})]}),e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 pb-3 sm:pb-4 border-b border-slate-100",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg sm:rounded-xl bg-gradient-to-br from-indigo-100 to-blue-100 flex items-center justify-center flex-shrink-0",children:e.jsx(Iw,{size:16,className:"sm:w-5 sm:h-5 text-indigo-600",strokeWidth:2.5})}),e.jsx("h2",{className:"text-base sm:text-lg font-black bg-gradient-to-r from-indigo-600 to-blue-600 bg-clip-text text-transparent",children:"Location & Status"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[e.jsxs("div",{className:"md:col-span-2 space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-xs sm:text-sm font-bold bg-gradient-to-r from-indigo-600 to-blue-600 bg-clip-text text-transparent",children:[e.jsx(Ws,{size:14,className:"sm:w-4 sm:h-4 text-indigo-500"}),"Physical Address"]}),e.jsx("textarea",{name:"address",rows:"3",value:u.address,onChange:p,placeholder:"Full street address, City, State, ZIP",className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 bg-gradient-to-br from-slate-50 to-white border-2 border-slate-200 rounded-lg sm:rounded-xl text-slate-900 text-sm placeholder-slate-400 focus:outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 hover:border-indigo-300 transition-all duration-300 shadow-sm resize-none",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-xs sm:text-sm font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:[e.jsx(Zt,{size:14,className:"sm:w-4 sm:h-4 text-green-500"}),"Gym Status"]}),e.jsx(ds,{options:h,value:u.status,onChange:f,placeholder:"Select Status",className:"w-full"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-xs sm:text-sm font-bold bg-gradient-to-r from-violet-600 to-indigo-600 bg-clip-text text-transparent",children:[e.jsx(Rs,{size:14,className:"sm:w-4 sm:h-4 text-violet-500"}),"SaaS Plan"]}),e.jsx(ds,{options:o,value:u.planId,onChange:y,placeholder:"Select SaaS Plan",className:"w-full"})]})]})]})]})})},DE=()=>{Ht();const[s,t]=b.useState(""),[a,l]=b.useState("All"),[i,o]=b.useState([]),[c,u]=b.useState(!0),[x,h]=b.useState(null),[p,f]=b.useState(!1),[y,g]=b.useState(!1),[v,C]=b.useState(1),[N,k]=b.useState(1),[A,E]=b.useState(0);b.useEffect(()=>{const z=setTimeout(()=>{w()},500);return()=>clearTimeout(z)},[s,a,v]);const w=async()=>{u(!0);try{const z=await Xg({search:s,status:a,page:v,limit:10});o(z.gyms||[]),k(z.totalPages||1),E(z.total||0)}catch(z){console.error("Error loading gyms:",z),o([])}finally{u(!1)}},R=async z=>{if(window.confirm("Are you sure you want to delete this gym?"))try{await nD(z),w()}catch{alert("Failed to delete gym")}},T=async z=>{try{await eN(z),w()}catch{alert("Failed to update status")}},O=()=>{tN("Gyms")},W=z=>{h(z),f(!0)},B=z=>{z>=1&&z<=N&&C(z)};return c&&i.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center p-20 animate-pulse",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-indigo-600 border-t-transparent rounded-full animate-spin mb-4"}),e.jsx("p",{className:"text-gray-500 font-medium",children:"Loading Gym Data..."})]}):e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8 animate-slide-up",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"Gym Management"}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Manage all gym branches and their statuses (",A," total)."]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:O,className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-200 rounded-xl text-sm font-bold text-gray-700 hover:bg-gray-50 hover:shadow-md hover:scale-105 hover:-translate-y-0.5 transition-all duration-300 shadow-sm",children:[e.jsx(na,{className:"w-4 h-4 transition-transform duration-300 group-hover:rotate-12"}),"Export"]}),e.jsxs("button",{onClick:()=>g(!0),className:"flex items-center gap-2 px-4 py-2 bg-indigo-50 border border-indigo-100 rounded-xl text-sm font-bold text-indigo-600 hover:bg-indigo-600 hover:text-white hover:shadow-lg hover:scale-105 hover:-translate-y-0.5 transition-all duration-300 shadow-sm group",children:[e.jsx(wt,{className:"w-4 h-4 transition-transform duration-300 group-hover:rotate-90"}),"Add New Gym"]})]})]}),e.jsx("div",{className:"saas-card mb-6 animate-slide-up",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-center",children:[e.jsxs("div",{className:"relative w-full md:w-96 group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(st,{className:"h-5 w-5 text-gray-400 group-focus-within:text-indigo-500 transition-colors"})}),e.jsx("input",{type:"text",className:"saas-input pl-10 transition-all duration-300 focus:scale-[1.02] focus:shadow-lg",placeholder:"Search gyms, branches...",value:s,onChange:z=>{t(z.target.value),C(1)}})]}),e.jsx("div",{className:"flex items-center gap-2 w-full md:w-auto overflow-x-auto pb-2 md:pb-0",children:["All","Active","Suspended"].map(z=>e.jsx("button",{onClick:()=>{l(z),C(1)},className:`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-300 whitespace-nowrap hover:scale-105 hover:-translate-y-0.5 ${a===z?"bg-indigo-50 text-indigo-700 border border-indigo-100 shadow-md":"text-gray-600 hover:bg-gray-50 hover:shadow-sm border border-transparent"}`,children:z},z))})]})}),e.jsxs("div",{className:"saas-card p-0 overflow-hidden animate-slide-up delay-200",children:[e.jsxs("div",{className:"saas-table-wrapper relative",children:[c&&e.jsx("div",{className:"absolute inset-0 bg-white/50 backdrop-blur-[1px] flex items-center justify-center z-10 transition-opacity",children:e.jsx("div",{className:"w-8 h-8 border-3 border-indigo-600 border-t-transparent rounded-full animate-spin"})}),e.jsxs("table",{className:"saas-table saas-table-responsive",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Gym Detail"}),e.jsx("th",{children:"Contact Info"}),e.jsx("th",{children:"Location"}),e.jsx("th",{children:"Status"}),e.jsx("th",{className:"text-right",children:"Actions"})]})}),e.jsx("tbody",{children:i.length>0?i.map(z=>e.jsxs("tr",{className:"hover:bg-indigo-50/30 hover:shadow-md hover:scale-[1.01] transition-all duration-300 cursor-pointer group",children:[e.jsx("td",{"data-label":"Gym Detail",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-10 w-10 flex-shrink-0 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600 font-bold text-lg transition-all duration-300 group-hover:scale-110 group-hover:rotate-6 group-hover:shadow-lg",children:(z.gymName||"?").charAt(0)}),e.jsxs("div",{className:"ml-4 text-left",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-900 transition-colors duration-300 group-hover:text-indigo-600",children:z.gymName}),e.jsx("div",{className:"text-sm text-gray-500",children:z.branchName})]})]})}),e.jsx("td",{"data-label":"Contact Info",children:e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"text-sm text-gray-900 font-medium",children:z.owner}),e.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-1",children:[e.jsx(ja,{size:12,className:"text-gray-400"}),z.phone]})]})}),e.jsx("td",{"data-label":"Location",children:e.jsxs("div",{className:"flex items-center text-sm text-gray-500 max-w-xs justify-end md:justify-start",children:[e.jsx(Ws,{className:"flex-shrink-0 mr-1.5 h-4 w-4 text-gray-400 transition-transform duration-300 group-hover:scale-125"}),e.jsx("span",{className:"truncate",children:z.location})]})}),e.jsx("td",{"data-label":"Status",children:e.jsxs("span",{className:`saas-badge transition-all duration-300 group-hover:scale-105 ${z.status==="Active"?"badge-green":"badge-red"}`,children:[e.jsx("span",{className:`badge-dot ${z.status==="Active"?"animate-pulse bg-green-600":"bg-red-600"}`}),z.status]})}),e.jsx("td",{"data-label":"Actions",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>W(z),className:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-lg transition-all duration-300 hover:scale-125 hover:shadow-md hover:-translate-y-0.5 group/btn",title:"View Details",children:e.jsx(qs,{className:"w-4 h-4 transition-transform duration-300 group-hover/btn:scale-110"})}),e.jsx("button",{onClick:()=>T(z.id),className:`p-2 rounded-lg transition-all duration-300 hover:scale-125 hover:shadow-md hover:-translate-y-0.5 hover:rotate-12 group/btn ${z.status==="Active"?"text-orange-600 hover:bg-orange-50":"text-green-600 hover:bg-green-50"}`,title:z.status==="Active"?"Suspend":"Activate",children:e.jsx(Mw,{className:"w-4 h-4 transition-transform duration-300 group-hover/btn:rotate-180"})}),e.jsx("button",{onClick:()=>R(z.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-all duration-300 hover:scale-125 hover:shadow-md hover:-translate-y-0.5 group/btn",title:"Delete",children:e.jsx(xs,{className:"w-4 h-4 transition-transform duration-300 group-hover/btn:scale-110 group-hover/btn:rotate-12"})})]})})]},z.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-12 text-center text-gray-500 font-medium",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(st,{className:"h-10 w-10 text-gray-200 mb-4"}),e.jsx("p",{children:"No gyms found matching your criteria."})]})})})})]})]}),i.length>0&&e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 p-4 border-t border-gray-100 bg-gray-50/50",children:[e.jsxs("div",{className:"text-sm text-gray-500 font-medium",children:["Showing ",e.jsx("span",{className:"text-gray-900",children:(v-1)*10+1})," to ",e.jsx("span",{className:"text-gray-900",children:Math.min(v*10,A)})," of ",e.jsx("span",{className:"text-gray-900",children:A})," gyms"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>B(v-1),disabled:v===1,className:"px-4 py-2 bg-white border border-gray-200 rounded-lg text-sm font-bold text-gray-700 hover:bg-gray-50 hover:shadow-sm disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 active:scale-95",children:"Previous"}),e.jsx("div",{className:"flex items-center gap-1",children:[...Array(N)].map((z,P)=>e.jsx("button",{onClick:()=>B(P+1),className:`w-9 h-9 flex items-center justify-center rounded-lg text-sm font-bold transition-all duration-300 hover:scale-110 ${v===P+1?"bg-indigo-600 text-white shadow-lg shadow-indigo-200":"bg-white border border-gray-200 text-gray-700 hover:border-indigo-300 hover:text-indigo-600 hover:shadow-sm"}`,children:P+1},P+1))}),e.jsx("button",{onClick:()=>B(v+1),disabled:v===N,className:"px-4 py-2 bg-white border border-gray-200 rounded-lg text-sm font-bold text-gray-700 hover:bg-gray-50 hover:shadow-sm disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 active:scale-95",children:"Next"})]})]})]}),e.jsx(rt,{isOpen:p,onClose:()=>f(!1),title:"Gym Details",subtitle:x?.gymName,maxWidth:"max-w-md",children:x&&e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex-1 overflow-y-auto pr-2",children:[e.jsxs("div",{className:"flex flex-col items-center mb-8",children:[e.jsx("div",{className:"h-20 w-20 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600 font-bold text-3xl mb-4 shadow-lg shadow-indigo-100",children:(x.gymName||"?").charAt(0)}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 text-center",children:x.gymName}),e.jsx("p",{className:"text-sm font-medium text-gray-500 mt-1",children:x.branchName}),e.jsx("span",{className:`mt-3 px-3 py-1 rounded-full text-xs font-bold ${x.status==="Active"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:x.status})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-2xl border border-gray-100 hover:border-indigo-100 transition-colors",children:[e.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider block mb-2",children:"Owner Details"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-white flex items-center justify-center text-gray-400 font-bold border border-gray-100",children:(x.owner||"?").charAt(0)}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-gray-900",children:x.owner}),e.jsxs("div",{className:"flex items-center text-xs font-medium text-gray-500 mt-0.5",children:[e.jsx(ja,{className:"w-3 h-3 mr-1"}),x.phone]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-2xl border border-gray-100 hover:border-indigo-100 transition-colors",children:[e.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider block mb-2",children:"Location"}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-white flex items-center justify-center text-gray-400 shrink-0 border border-gray-100",children:e.jsx(Ws,{className:"w-5 h-5"})}),e.jsx("p",{className:"text-sm font-medium text-gray-700 pt-2 leading-relaxed",children:x.location})]})]})]})]}),e.jsx("div",{className:"mt-auto border-t border-gray-100 pt-6",children:e.jsx("button",{onClick:()=>f(!1),className:"w-full py-4 bg-gray-900 text-white rounded-xl font-bold hover:bg-gray-800 transition-all shadow-lg hover:shadow-xl active:scale-95",children:"Close Details"})})]})}),e.jsx(AE,{isOpen:y,onClose:()=>g(!1),onSuccess:w})]})},LE=()=>{const[s,t]=b.useState(""),[a,l]=b.useState([]),[i,o]=b.useState(!0);b.useEffect(()=>{const x=setTimeout(()=>{c()},500);return()=>clearTimeout(x)},[s]);const c=async()=>{o(!0);try{const x=await Xg({search:s,status:"Suspended",limit:100});l(x.gyms||[])}catch(x){console.error("Error loading suspended gyms:",x),l([])}finally{o(!1)}},u=async x=>{if(window.confirm("Are you sure you want to reactivate this gym?"))try{await eN(x),c()}catch{alert("Failed to reactivate gym")}};return i&&a.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center p-20 animate-pulse",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-red-600 border-t-transparent rounded-full animate-spin mb-4"}),e.jsx("p",{className:"text-red-500 font-medium font-bold uppercase tracking-widest",children:"Loading Suspended Records..."})]}):e.jsxs("div",{className:"w-full",children:[e.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8 animate-slide-up",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"Suspended Gyms"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Review and manage suspended gym accounts."})]})}),e.jsx("div",{className:"bg-amber-50 border-l-4 border-amber-500 p-4 rounded-r-lg mb-6 animate-slide-up hover:bg-amber-100 hover:shadow-md hover:scale-[1.01] transition-all duration-300 group",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(ms,{className:"h-5 w-5 text-amber-600 transition-transform duration-300 group-hover:scale-125 group-hover:rotate-12","aria-hidden":"true"})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-amber-700 transition-colors duration-300 group-hover:text-amber-800 font-medium",children:"Suspended gyms cannot access the platform. Reactivating them will grant immediate access to their dashboards."})})]})}),e.jsx("div",{className:"saas-card mb-6 animate-slide-up",children:e.jsxs("div",{className:"relative w-full md:w-96 group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(st,{className:"h-5 w-5 text-gray-400 group-focus-within:text-red-500 transition-colors"})}),e.jsx("input",{type:"text",className:"saas-input pl-10 transition-all duration-300 focus:scale-[1.02] focus:shadow-lg focus:border-red-500 focus:ring-red-500/10",placeholder:"Search suspended gyms...",value:s,onChange:x=>t(x.target.value)})]})}),e.jsx("div",{className:"saas-card p-0 overflow-hidden animate-slide-up delay-200",children:e.jsxs("div",{className:"saas-table-wrapper relative",children:[i&&e.jsx("div",{className:"absolute inset-0 bg-white/50 backdrop-blur-[1px] flex items-center justify-center z-10 transition-opacity",children:e.jsx("div",{className:"w-8 h-8 border-3 border-red-600 border-t-transparent rounded-full animate-spin"})}),e.jsxs("table",{className:"saas-table saas-table-responsive",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Gym Detail"}),e.jsx("th",{children:"Contact Info"}),e.jsx("th",{children:"Owner"}),e.jsx("th",{children:"Status"}),e.jsx("th",{className:"text-right",children:"Actions"})]})}),e.jsx("tbody",{children:a.length>0?a.map(x=>e.jsxs("tr",{className:"hover:bg-red-50/30 hover:shadow-md hover:scale-[1.01] transition-all duration-300 cursor-pointer group",children:[e.jsx("td",{"data-label":"Gym Detail",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-10 w-10 flex-shrink-0 rounded-full bg-red-100 flex items-center justify-center text-red-600 font-bold text-lg transition-all duration-300 group-hover:scale-110 group-hover:rotate-6 group-hover:shadow-lg group-hover:bg-red-200",children:(x.gymName||"?").charAt(0)}),e.jsxs("div",{className:"ml-4 text-left",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-900 transition-colors duration-300 group-hover:text-red-600",children:x.gymName}),e.jsx("div",{className:"text-sm text-gray-500",children:x.branchName})]})]})}),e.jsx("td",{"data-label":"Contact Info",className:"text-left text-sm text-gray-900 font-medium",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Phone,{size:12,className:"text-gray-400"}),x.phone]})}),e.jsx("td",{"data-label":"Owner",className:"text-left text-sm text-gray-700 font-semibold",children:x.owner}),e.jsx("td",{"data-label":"Status",children:e.jsxs("span",{className:"saas-badge badge-red transition-all duration-300 group-hover:scale-105 border border-red-100",children:[e.jsx("span",{className:"badge-dot bg-red-600"}),"Suspended"]})}),e.jsx("td",{"data-label":"Actions",children:e.jsx("div",{className:"flex justify-end gap-2",children:e.jsxs("button",{onClick:()=>u(x.id),className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-emerald-600 to-teal-600 text-white rounded-lg text-xs font-black shadow-lg shadow-emerald-200 hover:shadow-emerald-300 hover:scale-110 hover:-translate-y-0.5 transition-all duration-300 group/btn active:scale-95",children:[e.jsx(VA,{className:"w-3.5 h-3.5 transition-transform duration-500 group-hover/btn:rotate-180"}),"REACTIVATE"]})})})]},x.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-16 text-center text-gray-500 bg-gray-50/30",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(Mw,{className:"h-12 w-12 text-gray-200 mb-4"}),e.jsx("p",{className:"font-bold text-lg text-gray-400",children:"No suspended gyms found."}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"All gym accounts are currently active."})]})})})})]})]})})]})},EE=()=>{const[s,t]=b.useState(""),[a,l]=b.useState("all"),[i,o]=b.useState(1),[c,u]=b.useState([]),[x,h]=b.useState(!0),[p,f]=b.useState(null),[y,g]=b.useState(!1),v=5;b.useEffect(()=>{C()},[]),b.useEffect(()=>{o(1)},[s,a]);const C=async()=>{h(!0);const z=await rN(),P=Array.isArray(z)?z.filter(F=>F.status?.toLowerCase()==="active").map(F=>({id:F.id||"",planName:F.plan||"N/A",subscriberName:F.subscriber||"N/A",gymName:F.gym||"N/A",startDate:F.startDate,endDate:F.endDate,status:F.status?.toLowerCase()||"",paymentStatus:F.paymentStatus?.toLowerCase()||""})):[];u(P),h(!1)},N=c.filter(z=>{const P=(z.planName?.toLowerCase()||"").includes(s.toLowerCase())||(z.subscriberName?.toLowerCase()||"").includes(s.toLowerCase())||(z.gymName?.toLowerCase()||"").includes(s.toLowerCase())||(z.id?.toLowerCase()||"").includes(s.toLowerCase()),F=a==="all"||(a==="unpaid"?z.paymentStatus!=="paid"&&z.paymentStatus!=="pending":z.paymentStatus===a);return P&&F}),k=Math.ceil(N.length/v),A=(i-1)*v,E=N.slice(A,A+v),w=()=>{i>1&&o(i-1)},R=()=>{i<k&&o(i+1)},T=z=>{o(z)},O=z=>{f(z),g(!0)},W=async z=>{window.confirm("Are you sure you want to renew this subscription?")&&(console.log("Renew subscription:",z),alert("Renewal initiated for "+z))},B=async z=>{window.confirm("Are you sure you want to cancel this subscription?")&&(await lN(z),C())};return x?e.jsx("div",{className:"p-6 text-center",children:"Loading subscriptions..."}):e.jsxs("div",{className:"activesub-container",children:[e.jsx("div",{className:"activesub-page-header",children:e.jsx("h1",{className:"activesub-page-title",children:"Active Subscriptions"})}),e.jsxs("div",{className:"activesub-filter-bar",children:[e.jsxs("div",{style:{position:"relative",flex:1,minWidth:"250px"},children:[e.jsx(st,{size:18,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--text-secondary)",transition:"all 0.3s"},className:"group-focus-within:scale-110 group-focus-within:text-indigo-500"}),e.jsx("input",{type:"text",placeholder:"Search by plan, subscriber, gym, or subscription ID...",className:"activesub-search-input transition-all duration-300 focus:scale-[1.02] focus:shadow-lg hover:border-indigo-300",style:{paddingLeft:"2.5rem"},value:s,onChange:z=>t(z.target.value)})]}),e.jsx("div",{className:"group",children:e.jsx(ds,{options:[{value:"all",label:"All Payment Status"},{value:"paid",label:"Paid"},{value:"pending",label:"Pending"},{value:"unpaid",label:"Unpaid / Overdue"}],value:a,onChange:l,className:"w-[200px] transition-all duration-300 hover:scale-105"})})]}),N.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"saas-table-wrapper",children:e.jsxs("table",{className:"saas-table saas-table-responsive",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Subscription ID"}),e.jsx("th",{children:"Plan Name"}),e.jsx("th",{children:"Subscriber"}),e.jsx("th",{children:"Gym / Branch"}),e.jsx("th",{children:"Start Date"}),e.jsx("th",{children:"End Date"}),e.jsx("th",{children:"Payment Status"}),e.jsx("th",{className:"text-right",children:"Actions"})]})}),e.jsx("tbody",{children:E.map(z=>e.jsxs("tr",{className:"hover:bg-indigo-50/30 hover:shadow-md hover:scale-[1.005] transition-all duration-300 cursor-pointer group",children:[e.jsx("td",{"data-label":"Subscription ID",style:{fontWeight:500,color:"#8e68e5"},className:"transition-all duration-300 group-hover:scale-105 group-hover:text-indigo-700",children:z.id}),e.jsx("td",{"data-label":"Plan Name",style:{fontWeight:500},className:"transition-colors duration-300 group-hover:text-indigo-600",children:z.planName}),e.jsx("td",{"data-label":"Subscriber",children:z.subscriberName}),e.jsx("td",{"data-label":"Gym / Branch",children:z.gymName}),e.jsx("td",{"data-label":"Start Date",children:new Date(z.startDate).toLocaleDateString("en-IN")}),e.jsx("td",{"data-label":"End Date",children:new Date(z.endDate).toLocaleDateString("en-IN")}),e.jsx("td",{"data-label":"Payment Status",children:e.jsxs("span",{className:`activesub-status-badge activesub-status-${z.paymentStatus} transition-all duration-300 group-hover:scale-110`,children:[e.jsx("span",{className:"inline-block w-1.5 h-1.5 rounded-full mr-1.5 animate-pulse",style:{backgroundColor:z.paymentStatus==="paid"?"#10b981":z.paymentStatus==="pending"?"#f59e0b":"#ef4444"}}),z.paymentStatus.charAt(0).toUpperCase()+z.paymentStatus.slice(1)]})}),e.jsx("td",{"data-label":"Actions",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{className:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-lg transition-all duration-300 hover:scale-125 hover:shadow-md hover:-translate-y-0.5 group/btn",onClick:()=>O(z),title:"View Details",children:e.jsx(qs,{size:16,className:"transition-transform duration-300 group-hover/btn:scale-110"})}),e.jsx("button",{className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-all duration-300 hover:scale-125 hover:shadow-md hover:-translate-y-0.5 group/btn",onClick:()=>W(z.id),title:"Renew",children:e.jsx(Tr,{size:16,className:"transition-transform duration-300 group-hover/btn:rotate-180"})}),e.jsx("button",{className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-all duration-300 hover:scale-125 hover:shadow-md hover:-translate-y-0.5 group/btn",onClick:()=>B(z.id),title:"Cancel",children:e.jsx(Vl,{size:16,className:"transition-transform duration-300 group-hover/btn:rotate-90 group-hover/btn:scale-110"})})]})})]},z.id))})]})}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 mt-6 pb-4",children:[e.jsxs("div",{className:"text-sm text-gray-500 order-2 md:order-1",children:["Showing ",e.jsx("span",{className:"font-medium text-gray-900",children:A+1})," to ",e.jsx("span",{className:"font-medium text-gray-900",children:Math.min(A+v,N.length)})," of ",e.jsx("span",{className:"font-medium text-gray-900",children:N.length})," subscriptions"]}),e.jsxs("div",{className:"flex items-center gap-2 order-1 md:order-2 overflow-x-auto max-w-full pb-1",children:[e.jsx("button",{className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 hover:scale-105 hover:shadow-md hover:-translate-y-0.5 disabled:hover:scale-100 disabled:hover:translate-y-0",onClick:w,disabled:i===1,children:"Previous"}),e.jsx("div",{className:"flex gap-1",children:[...Array(k)].map((z,P)=>e.jsx("button",{className:`w-8 h-8 flex items-center justify-center rounded-lg text-sm font-medium transition-all duration-300 hover:scale-110 ${i===P+1?"bg-indigo-600 text-white shadow-md hover:shadow-lg":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 hover:shadow-sm"}`,onClick:()=>T(P+1),children:P+1},P+1))}),e.jsx("button",{className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 hover:scale-105 hover:shadow-md hover:-translate-y-0.5 disabled:hover:scale-100 disabled:hover:translate-y-0",onClick:R,disabled:i===k,children:"Next"})]})]})]}):e.jsxs("div",{className:"activesub-empty-state",children:[e.jsx("div",{className:"activesub-empty-icon",children:e.jsx(st,{size:64})}),e.jsx("h3",{className:"activesub-empty-title",children:"No Active Subscriptions Found"}),e.jsx("p",{className:"activesub-empty-description",children:s||a!=="all"?"Try adjusting your search or filter criteria":"There are currently no active subscriptions"})]}),e.jsx(rt,{isOpen:y,onClose:()=>g(!1),title:"Subscription Details",subtitle:`Details for ${p?.id||""}`,width:"500px",children:p&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col items-center py-6 bg-indigo-50/50 rounded-2xl border border-indigo-100",children:[e.jsx("div",{className:"h-20 w-20 rounded-full bg-white text-indigo-600 flex items-center justify-center shadow-md mb-3",children:e.jsx(qs,{size:32})}),e.jsx("h4",{className:"text-xl font-bold text-gray-900",children:p.subscriberName}),e.jsx("span",{className:"text-sm text-gray-500 font-medium",children:p.planName})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-white rounded-xl border border-slate-100 shadow-sm",children:[e.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest block mb-1",children:"Gym / Branch"}),e.jsx("p",{className:"text-sm font-bold text-gray-900",children:p.gymName})]}),e.jsxs("div",{className:"p-4 bg-white rounded-xl border border-slate-100 shadow-sm",children:[e.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest block mb-1",children:"Payment Status"}),e.jsx("span",{className:`activesub-status-badge activesub-status-${p.paymentStatus}`,children:p.paymentStatus.toUpperCase()})]}),e.jsxs("div",{className:"p-4 bg-white rounded-xl border border-slate-100 shadow-sm",children:[e.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest block mb-1",children:"Start Date"}),e.jsx("p",{className:"text-sm font-bold text-gray-900",children:new Date(p.startDate).toLocaleDateString("en-IN")})]}),e.jsxs("div",{className:"p-4 bg-white rounded-xl border border-slate-100 shadow-sm",children:[e.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest block mb-1",children:"End Date"}),e.jsx("p",{className:"text-sm font-bold text-gray-900",children:new Date(p.endDate).toLocaleDateString("en-IN")})]})]}),e.jsxs("div",{className:"p-4 bg-white rounded-xl border border-slate-100 shadow-sm",children:[e.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest block mb-1",children:"Subscription ID"}),e.jsx("p",{className:"text-sm font-mono text-gray-600",children:p.id})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{onClick:()=>g(!1),className:"flex-1 py-3 bg-white border border-gray-200 text-gray-700 rounded-xl text-sm font-bold hover:bg-gray-50 transition-all shadow-sm",children:"Close"}),e.jsx("button",{onClick:()=>{W(p.id),g(!1)},className:"flex-1 py-3 bg-indigo-600 text-white rounded-xl text-sm font-bold hover:bg-indigo-700 transition-all shadow-md hover:shadow-lg",children:"Renew Now"})]})]})})]})},ME=()=>{const[s,t]=b.useState(""),[a,l]=b.useState("all"),[i,o]=b.useState(1),[c,u]=b.useState([]),[x,h]=b.useState(!0),[p,f]=b.useState(null),[y,g]=b.useState(!1),v=5;b.useEffect(()=>{C()},[]),b.useEffect(()=>{o(1)},[s,a]);const C=async()=>{h(!0);const P=(await rN()).filter(F=>F.status.toLowerCase()!=="active").map(F=>({id:F.id,planName:F.plan,subscriberName:F.subscriber,gymName:F.gym,startDate:F.startDate,endDate:F.endDate,status:F.status.toLowerCase(),paymentStatus:F.paymentStatus.toLowerCase()}));u(P),h(!1)},N=c.filter(z=>{const P=z.planName.toLowerCase().includes(s.toLowerCase())||z.subscriberName.toLowerCase().includes(s.toLowerCase())||z.gymName.toLowerCase().includes(s.toLowerCase())||z.id.toLowerCase().includes(s.toLowerCase()),F=a==="all"||z.status===a;return P&&F}),k=Math.ceil(N.length/v),A=(i-1)*v,E=N.slice(A,A+v),w=()=>{i>1&&o(i-1)},R=()=>{i<k&&o(i+1)},T=z=>{o(z)},O=z=>{f(z),g(!0)},W=async z=>{window.confirm("Are you sure you want to renew this subscription?")&&(await lN(z),C())},B=async z=>{window.confirm("Are you sure you want to delete this subscription record?")&&(console.log("Delete subscription:",z),alert("Record "+z+" deleted (mock)"))};return x?e.jsx("div",{className:"p-6 text-center",children:"Loading subscriptions..."}):e.jsxs("div",{className:"expiredsub-container",children:[e.jsx("div",{className:"expiredsub-page-header",children:e.jsx("h1",{className:"expiredsub-page-title",children:"Expired / Due Subscriptions"})}),e.jsxs("div",{className:"expiredsub-filter-bar",children:[e.jsxs("div",{style:{position:"relative",flex:1,minWidth:"250px"},children:[e.jsx(st,{size:18,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--text-secondary)",transition:"all 0.3s"},className:"group-focus-within:scale-110 group-focus-within:text-red-500"}),e.jsx("input",{type:"text",placeholder:"Search by plan, subscriber, gym, or subscription ID...",className:"expiredsub-search-input transition-all duration-300 focus:scale-[1.02] focus:shadow-lg hover:border-red-300",style:{paddingLeft:"2.5rem"},value:s,onChange:z=>t(z.target.value)})]}),e.jsx("div",{className:"group",children:e.jsx(ds,{options:[{value:"all",label:"All Status"},{value:"expired",label:"Expired"},{value:"due",label:"Due for Renewal"}],value:a,onChange:l,className:"w-[180px] transition-all duration-300 hover:scale-105"})})]}),N.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"saas-table-wrapper",children:e.jsxs("table",{className:"saas-table saas-table-responsive",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Subscription ID"}),e.jsx("th",{children:"Plan Name"}),e.jsx("th",{children:"Subscriber"}),e.jsx("th",{children:"Gym / Branch"}),e.jsx("th",{children:"Start Date"}),e.jsx("th",{children:"End Date"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Payment"}),e.jsx("th",{className:"text-right",children:"Actions"})]})}),e.jsx("tbody",{children:E.map(z=>e.jsxs("tr",{className:"hover:bg-red-50/30 hover:shadow-md hover:scale-[1.005] transition-all duration-300 cursor-pointer group",children:[e.jsx("td",{"data-label":"Subscription ID",style:{fontWeight:500,color:"#ea5455"},className:"transition-all duration-300 group-hover:scale-105 group-hover:text-red-700",children:z.id}),e.jsx("td",{"data-label":"Plan Name",style:{fontWeight:500},className:"transition-colors duration-300 group-hover:text-red-600",children:z.planName}),e.jsx("td",{"data-label":"Subscriber",children:z.subscriberName}),e.jsx("td",{"data-label":"Gym / Branch",children:z.gymName}),e.jsx("td",{"data-label":"Start Date",children:new Date(z.startDate).toLocaleDateString("en-IN")}),e.jsx("td",{"data-label":"End Date",children:new Date(z.endDate).toLocaleDateString("en-IN")}),e.jsx("td",{"data-label":"Status",children:e.jsxs("span",{className:`expiredsub-status-badge expiredsub-status-${z.status} transition-all duration-300 group-hover:scale-110`,children:[e.jsx("span",{className:"inline-block w-1.5 h-1.5 rounded-full mr-1.5 animate-pulse",style:{backgroundColor:z.status==="expired"?"#ef4444":"#f59e0b"}}),z.status.charAt(0).toUpperCase()+z.status.slice(1)]})}),e.jsx("td",{"data-label":"Payment",children:e.jsxs("span",{className:`expiredsub-status-badge expiredsub-status-${z.paymentStatus} transition-all duration-300 group-hover:scale-110`,children:[e.jsx("span",{className:"inline-block w-1.5 h-1.5 rounded-full mr-1.5 animate-pulse",style:{backgroundColor:z.paymentStatus==="paid"?"#10b981":z.paymentStatus==="pending"?"#f59e0b":"#ef4444"}}),z.paymentStatus.charAt(0).toUpperCase()+z.paymentStatus.slice(1)]})}),e.jsx("td",{"data-label":"Actions",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-all duration-300 hover:scale-125 hover:shadow-md hover:-translate-y-0.5 group/btn",onClick:()=>W(z.id),title:"Renew",children:e.jsx(Tr,{size:16,className:"transition-transform duration-300 group-hover/btn:rotate-180"})}),e.jsx("button",{className:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-lg transition-all duration-300 hover:scale-125 hover:shadow-md hover:-translate-y-0.5 group/btn",onClick:()=>O(z),title:"View Details",children:e.jsx(qs,{size:16,className:"transition-transform duration-300 group-hover/btn:scale-110"})}),e.jsx("button",{className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-all duration-300 hover:scale-125 hover:shadow-md hover:-translate-y-0.5 group/btn",onClick:()=>B(z.id),title:"Delete",children:e.jsx(xs,{size:16,className:"transition-transform duration-300 group-hover/btn:rotate-12 group-hover/btn:scale-110"})})]})})]},z.id))})]})}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 mt-6 pb-4",children:[e.jsxs("div",{className:"text-sm text-gray-500 order-2 md:order-1",children:["Showing ",e.jsx("span",{className:"font-medium text-gray-900",children:A+1})," to ",e.jsx("span",{className:"font-medium text-gray-900",children:Math.min(A+v,N.length)})," of ",e.jsx("span",{className:"font-medium text-gray-900",children:N.length})," subscriptions"]}),e.jsxs("div",{className:"flex items-center gap-2 order-1 md:order-2 overflow-x-auto max-w-full pb-1",children:[e.jsx("button",{className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 hover:scale-105 hover:shadow-md hover:-translate-y-0.5 disabled:hover:scale-100 disabled:hover:translate-y-0",onClick:w,disabled:i===1,children:"Previous"}),e.jsx("div",{className:"flex gap-1",children:[...Array(k)].map((z,P)=>e.jsx("button",{className:`w-8 h-8 flex items-center justify-center rounded-lg text-sm font-medium transition-all duration-300 hover:scale-110 ${i===P+1?"bg-indigo-600 text-white shadow-md hover:shadow-lg":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 hover:shadow-sm"}`,onClick:()=>T(P+1),children:P+1},P+1))}),e.jsx("button",{className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 hover:scale-105 hover:shadow-md hover:-translate-y-0.5 disabled:hover:scale-100 disabled:hover:translate-y-0",onClick:R,disabled:i===k,children:"Next"})]})]})]}):e.jsxs("div",{className:"expiredsub-empty-state",children:[e.jsx("div",{className:"expiredsub-empty-icon",children:e.jsx(st,{size:64})}),e.jsx("h3",{className:"expiredsub-empty-title",children:"No Expired or Due Subscriptions Found"}),e.jsx("p",{className:"expiredsub-empty-description",children:s||a!=="all"?"Try adjusting your search or filter criteria":"Great! All subscriptions are currently active"})]}),y&&p&&e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:e.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen",children:""}),e.jsxs("div",{className:"inline-block align-bottom bg-white rounded-2xl text-left overflow-hidden shadow-xl transform transition-all duration-500 hover:scale-[1.02] sm:my-8 sm:align-middle sm:max-w-lg sm:w-full animate-slide-up",children:[e.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:e.jsxs("div",{className:"sm:flex sm:items-start text-indigo-600",children:[e.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-indigo-100 sm:mx-0 sm:h-10 sm:w-10 transition-all duration-300 hover:scale-125 hover:rotate-12 hover:shadow-lg",children:e.jsx(qs,{size:20})}),e.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[e.jsx("h3",{className:"text-xl leading-6 font-bold text-gray-900",children:"Subscription Details"}),e.jsx("div",{className:"mt-6 space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-3 rounded-lg hover:bg-red-50/50 transition-all duration-300",children:[e.jsx("label",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Subscription ID"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:p.id})]}),e.jsxs("div",{className:"p-3 rounded-lg hover:bg-red-50/50 transition-all duration-300",children:[e.jsx("label",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Plan Name"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:p.planName})]}),e.jsxs("div",{className:"p-3 rounded-lg hover:bg-red-50/50 transition-all duration-300",children:[e.jsx("label",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Subscriber"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:p.subscriberName})]}),e.jsxs("div",{className:"p-3 rounded-lg hover:bg-red-50/50 transition-all duration-300",children:[e.jsx("label",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Gym / Branch"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:p.gymName})]}),e.jsxs("div",{className:"p-3 rounded-lg hover:bg-red-50/50 transition-all duration-300",children:[e.jsx("label",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Start Date"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:new Date(p.startDate).toLocaleDateString("en-IN")})]}),e.jsxs("div",{className:"p-3 rounded-lg hover:bg-red-50/50 transition-all duration-300",children:[e.jsx("label",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"End Date"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:new Date(p.endDate).toLocaleDateString("en-IN")})]}),e.jsxs("div",{className:"p-3 rounded-lg hover:bg-red-50/50 transition-all duration-300",children:[e.jsx("label",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Status"}),e.jsx("div",{children:e.jsx("span",{className:`expiredsub-status-badge expiredsub-status-${p.status} transition-all duration-300 hover:scale-110`,children:p.status.toUpperCase()})})]}),e.jsxs("div",{className:"p-3 rounded-lg hover:bg-red-50/50 transition-all duration-300",children:[e.jsx("label",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Payment"}),e.jsx("div",{children:e.jsx("span",{className:`expiredsub-status-badge expiredsub-status-${p.paymentStatus} transition-all duration-300 hover:scale-110`,children:p.paymentStatus.toUpperCase()})})]})]})})]})]})}),e.jsx("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse rounded-b-2xl",children:e.jsx("button",{type:"button",onClick:()=>g(!1),className:"w-full inline-flex justify-center rounded-lg border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:ml-3 sm:w-auto sm:text-sm transition-all duration-300 hover:scale-105 hover:shadow-md hover:-translate-y-0.5",children:"Close"})})]})]})})]})},zE=()=>{const[s,t]=b.useState([]),[a,l]=b.useState(!0),[i,o]=b.useState({search:"",module:"",date:""}),[c,u]=b.useState(!1),[x,h]=b.useState(0),[p,f]=b.useState({key:"date",direction:"desc"}),y=10;b.useEffect(()=>{g()},[]),b.useEffect(()=>{h(0)},[i]);const g=async()=>{l(!0);const z=await dD();t(z),l(!1)},v=z=>{const{name:P,value:F}=z.target;o(G=>({...G,[P]:F}))},C=()=>{tN("Activity Logs")},N=z=>{let P="asc";p.key===z&&p.direction==="asc"&&(P="desc"),f({key:z,direction:P})},A=[...s].sort((z,P)=>{if(!p.key)return 0;const F=z[p.key],G=P[p.key];return F<G?p.direction==="asc"?-1:1:F>G?p.direction==="asc"?1:-1:0}).filter(z=>{const P=z.user.toLowerCase().includes(i.search.toLowerCase())||z.action.toLowerCase().includes(i.search.toLowerCase())||z.affectedMember.toLowerCase().includes(i.search.toLowerCase()),F=i.module===""||z.module.toLowerCase()===i.module.toLowerCase(),G=i.date===""||z.date.includes(i.date);return P&&F&&G}),E=Math.ceil(A.length/y),w=Math.floor(x/y)+1,R=A.slice(x,x+y),T=()=>{x>=y&&h(x-y)},O=()=>{x+y<A.length&&h(x+y)},W=z=>{h((z-1)*y)},B=[{value:"",label:"All Modules"},{value:"General Settings",label:"General Settings"},{value:"Member Management",label:"Member Management"},{value:"Payments",label:"Payments"},{value:"Auth",label:"Authentication"},{value:"Plans",label:"Plans"},{value:"Reports",label:"Reports"}];return a?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsx("div",{className:"relative",children:e.jsx("div",{className:"h-16 w-16 rounded-full border-4 border-slate-100 border-t-violet-600 animate-spin"})})}):e.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-white to-violet-50/30 min-h-screen p-4 sm:p-6",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx(Pa,{className:"text-violet-600 flex-shrink-0",size:24}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"System Activity Logs"}),e.jsx("p",{className:"text-slate-600 text-xs sm:text-sm mt-1",children:"Track user actions and system changes in real-time"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-3",children:[e.jsxs("button",{onClick:C,className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-white border border-slate-200 rounded-lg sm:rounded-xl text-xs sm:text-sm font-semibold text-slate-700 hover:bg-slate-50 hover:shadow-md hover:scale-105 hover:-translate-y-0.5 transition-all duration-300 shadow-sm group w-full sm:w-auto",children:[e.jsx(na,{className:"w-4 h-4 transition-transform duration-300 group-hover:translate-y-0.5"}),"Export"]}),e.jsxs("button",{onClick:()=>u(!c),className:`group relative px-4 sm:px-6 py-2.5 rounded-lg sm:rounded-xl font-semibold shadow-lg hover:shadow-xl hover:scale-105 hover:-translate-y-1 transition-all duration-300 flex items-center justify-center gap-2 w-full sm:w-auto text-xs sm:text-sm ${c?"bg-white border border-slate-200 text-slate-700":"bg-gradient-to-r from-violet-600 to-purple-600 text-white hover:shadow-violet-500/50"}`,children:[!c&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 to-fuchsia-600 rounded-lg sm:rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx(ks,{className:`w-4 h-4 relative transition-transform duration-300 ${c?"":"group-hover:rotate-12"}`}),e.jsx("span",{className:"relative",children:c?"Hide Filters":"Show Filters"})]})]})]})})]}),c&&e.jsx("div",{className:"mb-6 bg-white/60 backdrop-blur-md rounded-xl shadow-lg border border-white/50 p-5 hover:shadow-xl transition-all duration-300 animate-slide-down",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"relative group",children:[e.jsx(st,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 group-focus-within:scale-110 transition-all duration-300"}),e.jsx("input",{type:"text",name:"search",value:i.search,onChange:v,placeholder:"Search by user or action...",className:"w-full pl-12 pr-4 py-3 bg-white/80 border-2 border-slate-200 rounded-xl text-sm focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 focus:bg-white transition-all duration-300 hover:border-slate-300"})]}),e.jsxs("div",{className:"relative group",children:[e.jsx(ks,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 group-focus-within:scale-110 transition-all duration-300 pointer-events-none z-10"}),e.jsx("select",{name:"module",value:i.module,onChange:v,className:"w-full pl-12 pr-4 py-3 bg-white/80 border-2 border-slate-200 rounded-xl text-sm focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 focus:bg-white transition-all duration-300 hover:border-slate-300 appearance-none cursor-pointer",children:B.map(z=>e.jsx("option",{value:z.value,children:z.label},z.value))})]}),e.jsxs("div",{className:"relative group",children:[e.jsx(Xe,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 group-focus-within:scale-110 transition-all duration-300 pointer-events-none z-10"}),e.jsx("input",{type:"date",name:"date",value:i.date,onChange:v,className:"w-full pl-12 pr-4 py-3 bg-white/80 border-2 border-slate-200 rounded-xl text-sm focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 focus:bg-white transition-all duration-300 hover:border-slate-300"})]})]})}),R.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"md:hidden space-y-4 mb-6",children:R.map(z=>e.jsx(Ya,{title:z.action,subtitle:z.user,badge:z.module,badgeColor:"bg-violet-100 text-violet-700 border-violet-200",fields:[{label:"Affected",value:z.affectedMember,icon:lt},{label:"Date",value:z.date.split(" ")[0],icon:Xe},{label:"Time",value:z.date.split(" ").slice(1).join(" "),icon:Ze},{label:"Details",value:z.details,icon:It}]},z.id))}),e.jsx("div",{className:"hidden md:block bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gradient-to-r from-slate-100 to-slate-200/50 border-b-2 border-slate-300",children:[e.jsx("th",{onClick:()=>N("date"),className:"px-6 py-5 text-left text-xs font-black uppercase tracking-widest text-slate-700 cursor-pointer hover:text-violet-600 transition-colors",children:e.jsxs("div",{className:"flex items-center gap-2",children:["Date",p.key==="date"&&(p.direction==="asc"?"":"")]})}),e.jsx("th",{onClick:()=>N("user"),className:"px-6 py-5 text-left text-xs font-black uppercase tracking-widest text-slate-700 cursor-pointer hover:text-violet-600 transition-colors",children:e.jsxs("div",{className:"flex items-center gap-2",children:["Staff Name",p.key==="user"&&(p.direction==="asc"?"":"")]})}),e.jsx("th",{className:"px-6 py-5 text-left text-xs font-black uppercase tracking-widest text-slate-700",children:"Action"}),e.jsx("th",{className:"px-6 py-5 text-left text-xs font-black uppercase tracking-widest text-slate-700",children:"Affected Member"}),e.jsx("th",{className:"px-6 py-5 text-left text-xs font-black uppercase tracking-widest text-slate-700",children:"Details"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:R.map(z=>e.jsxs("tr",{className:"group hover:bg-slate-50/80 transition-all duration-300 border-b border-slate-100",children:[e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold text-slate-600",children:[e.jsx(Ze,{size:14,className:"text-slate-400 group-hover:text-violet-500 transition-colors"}),z.date]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-violet-100 flex items-center justify-center text-violet-700 font-black text-xs shadow-sm border border-violet-200",children:(z.user||"?").charAt(0)}),e.jsx("span",{className:"text-sm font-bold text-slate-900",children:z.user})]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-black text-slate-800 tracking-tight",children:z.action}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400",children:z.module})]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-violet-400"}),e.jsx("span",{className:"text-sm font-bold text-slate-700",children:z.affectedMember})]})}),e.jsx("td",{className:"px-6 py-5 max-w-xs",children:e.jsx("p",{className:"text-sm font-medium text-slate-500 leading-relaxed italic",children:z.details})})]},z.id))})]})})}),e.jsxs("div",{className:"px-6 py-4 border-t border-slate-100 bg-slate-50/50 flex flex-col sm:flex-row justify-between items-center gap-4",children:[e.jsxs("span",{className:"text-sm text-slate-600",children:["Showing ",x+1," to ",Math.min(x+y,A.length)," of ",A.length," logs"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-4 py-2 bg-white border-2 border-slate-200 rounded-lg text-sm font-semibold text-slate-700 hover:bg-slate-50 hover:border-slate-300 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 hover:scale-105 hover:shadow-md disabled:hover:scale-100",onClick:T,disabled:w===1,children:"Previous"}),e.jsx("div",{className:"flex gap-2",children:[...Array(Math.min(E,5))].map((z,P)=>{const F=P+1;return e.jsx("button",{className:`px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-110 ${w===F?"bg-gradient-to-r from-violet-600 to-purple-600 text-white shadow-lg shadow-violet-500/30":"bg-white border-2 border-slate-200 text-slate-700 hover:bg-slate-50 hover:border-slate-300"}`,onClick:()=>W(F),children:F},F)})}),e.jsx("button",{className:"px-4 py-2 bg-white border-2 border-slate-200 rounded-lg text-sm font-semibold text-slate-700 hover:bg-slate-50 hover:border-slate-300 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 hover:scale-105 hover:shadow-md disabled:hover:scale-100",onClick:O,disabled:w>=E,children:"Next"})]})]})]}):e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 p-16 text-center",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-violet-100 to-purple-100 rounded-full flex items-center justify-center",children:e.jsx(It,{size:40,className:"text-violet-600"})}),e.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-2",children:"No Activity Logs Found"}),e.jsx("p",{className:"text-slate-600",children:i.search||i.module||i.date?"Try adjusting your search or filter criteria":"Activity logs will appear here as users interact with the system"})]})]})},TE=({isOpen:s,onClose:t,selectedLog:a})=>{const[l,i]=kn.useState(!1),o=()=>{navigator.clipboard.writeText(JSON.stringify(a?.payload||{},null,2)),i(!0),setTimeout(()=>i(!1),2e3)};return a?e.jsxs("div",{className:"flex flex-col h-full bg-white text-slate-600 font-mono selection:bg-violet-500/30",children:[e.jsxs("div",{className:"p-8 border-b border-slate-100 bg-slate-50/50 backdrop-blur-md",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-violet-600 flex items-center justify-center text-white shadow-lg shadow-violet-500/20",children:e.jsx(ua,{size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 tracking-tight",children:a.event||"Log Details"}),e.jsxs("p",{className:"text-[10px] text-slate-400 uppercase tracking-[0.2em] font-black mt-1",children:["Request ID: ",a.id]})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-2xl p-4 border border-slate-100 shadow-sm",children:[e.jsx("p",{className:"text-[10px] text-slate-400 uppercase font-black mb-1",children:"Status Code"}),e.jsxs("span",{className:`text-sm font-bold ${a.status==="success"?"text-emerald-500":"text-rose-500"}`,children:[a.statusCode||200," OK"]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-4 border border-slate-100 shadow-sm",children:[e.jsx("p",{className:"text-[10px] text-slate-400 uppercase font-black mb-1",children:"Response Time"}),e.jsx("span",{className:"text-sm font-bold text-gray-900",children:"124ms"})]})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar relative",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 text-violet-600",children:[e.jsx(cx,{size:16}),e.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Raw JSON Payload"})]}),e.jsx("button",{onClick:o,className:"flex items-center gap-2 px-3 py-1.5 bg-slate-100 hover:bg-slate-200 rounded-lg text-[10px] font-bold uppercase tracking-widest text-slate-600 transition-all border border-slate-200",children:l?e.jsxs(e.Fragment,{children:[e.jsx(wr,{size:12,className:"text-emerald-500"})," Copied"]}):e.jsxs(e.Fragment,{children:[e.jsx(sg,{size:12})," Copy JSON"]})})]}),e.jsx("div",{className:"bg-slate-900 border border-slate-800 rounded-3xl p-6 text-sm leading-relaxed overflow-x-auto shadow-inner",children:e.jsx("pre",{className:"text-indigo-300 font-mono",children:JSON.stringify(a.payload||{event:"membership.created",timestamp:"2024-03-20T10:30:15Z",data:{id:"MEM_29381",name:"Rahul Sharma",plan:"Elite Monthly",payment:{status:"captured",method:"upi",amount:2500}},metadata:{source:"ios_app",version:"4.2.0"}},null,4)})})]}),e.jsx("div",{className:"p-8 border-t border-slate-100 bg-slate-50/50 flex",children:e.jsx("button",{onClick:t,className:"flex-1 py-4 bg-white hover:bg-slate-50 text-slate-600 rounded-2xl text-xs font-bold uppercase tracking-widest transition-all border border-slate-200 shadow-sm",children:"Close Inspector"})})]}):null},_E=()=>{const[s,t]=b.useState(null),[a,l]=b.useState([]),[i,o]=b.useState(!0),[c,u]=b.useState(""),[x,h]=b.useState("All"),[p,f]=b.useState("All"),[y,g]=b.useState(!1),[v,C]=b.useState({totalEvents:"0",successRate:"0%",failedLast24h:"0",activeWebhooks:"0"});b.useEffect(()=>{N()},[]);const N=async()=>{o(!0);try{const w=await cD();w&&w.logs?(l(w.logs),C(w.stats)):l(w||[])}catch(w){console.error("Failed to load webhook logs:",w)}finally{o(!1)}},k=()=>{alert("Exporting Webhook Logs to CSV...")},A=a.filter(w=>{const R=w.event.toLowerCase().includes(c.toLowerCase())||w.id.toLowerCase().includes(c.toLowerCase())||w.statusCode.toString().includes(c),T=x==="All"||w.status===x.toLowerCase(),O=p==="All"||w.method===p;return R&&T&&O}),E=w=>{t(w),g(!0)};return e.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-white to-violet-50/30 min-h-screen p-6 md:p-10 font-sans pb-20",children:[e.jsx("div",{className:"max-w-7xl mx-auto mb-10",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 text-violet-600 mb-2",children:[e.jsx(cx,{size:18}),e.jsx("span",{className:"text-xs font-black uppercase tracking-[0.3em]",children:"System Monitor"})]}),e.jsxs("h1",{className:"text-3xl md:text-4xl font-black text-gray-900 tracking-tighter flex items-center gap-3",children:["Webhook ",e.jsx("span",{className:"text-violet-600",children:"Events"})]}),e.jsx("p",{className:"text-slate-500 mt-2 text-sm font-medium",children:"Real-time API activity and event broadcasting logs."})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:k,className:"px-5 py-3 bg-white border border-slate-200 rounded-xl text-xs font-bold text-slate-600 uppercase tracking-widest hover:bg-slate-50 transition-all flex items-center gap-2 shadow-sm",children:[e.jsx(na,{size:14})," Export"]}),e.jsx("button",{onClick:N,className:"p-3 bg-violet-600 text-white rounded-xl shadow-lg shadow-violet-500/20 hover:scale-110 active:scale-95 transition-all",children:e.jsx(Tr,{size:20,className:i?"animate-spin":""})})]})]})}),e.jsx("div",{className:"max-w-7xl mx-auto grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[{label:"Total Events",val:v.totalEvents,icon:ua,color:"violet",bg:"bg-violet-50",text:"text-violet-600"},{label:"Avg Success",val:v.successRate,icon:Cn,color:"emerald",bg:"bg-emerald-50",text:"text-emerald-600"},{label:"Failed (24h)",val:v.failedLast24h,icon:ms,color:"rose",bg:"bg-rose-50",text:"text-rose-600"},{label:"Active Webhooks",val:v.activeWebhooks,icon:Tr,color:"amber",bg:"bg-amber-50",text:"text-amber-600"}].map((w,R)=>e.jsxs("div",{className:"bg-white border border-slate-100 p-6 rounded-3xl shadow-sm hover:shadow-md transition-all",children:[e.jsx("div",{className:`p-2 w-fit rounded-lg ${w.bg} ${w.text} mb-4 group-hover:scale-110 transition-transform`,children:e.jsx(w.icon,{size:18})}),e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:w.label}),e.jsx("p",{className:"text-2xl font-black text-gray-900 tracking-tight",children:w.val})]},R))}),e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"bg-white border border-slate-100 rounded-[32px] overflow-hidden shadow-xl shadow-slate-200/50",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1 group",children:[e.jsx(st,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 transition-all",size:18}),e.jsx("input",{type:"text",placeholder:"Search by event, ID, or status code...",className:"w-full pl-12 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-2xl text-xs font-medium text-slate-700 focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all",value:c,onChange:w=>u(w.target.value)})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("select",{className:"px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-[10px] font-bold text-slate-600 uppercase tracking-widest hover:bg-white transition-all outline-none appearance-none cursor-pointer",value:x,onChange:w=>h(w.target.value),children:[e.jsx("option",{value:"All",children:"Status: All"}),e.jsx("option",{value:"Success",children:"Success"}),e.jsx("option",{value:"Failed",children:"Failed"})]}),e.jsxs("select",{className:"px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-[10px] font-bold text-slate-600 uppercase tracking-widest hover:bg-white transition-all outline-none appearance-none cursor-pointer",value:p,onChange:w=>f(w.target.value),children:[e.jsx("option",{value:"All",children:"Method: All"}),e.jsx("option",{value:"POST",children:"POST"}),e.jsx("option",{value:"GET",children:"GET"}),e.jsx("option",{value:"PUT",children:"PUT"})]})]})]}),e.jsx("div",{className:"hidden lg:block overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-slate-50/50",children:e.jsxs("tr",{className:"text-[10px] text-slate-500 font-black uppercase tracking-widest border-b border-slate-100",children:[e.jsx("th",{className:"px-8 py-4",children:"Event ID"}),e.jsx("th",{className:"px-8 py-4",children:"Event Type"}),e.jsx("th",{className:"px-8 py-4",children:"Status"}),e.jsx("th",{className:"px-8 py-4",children:"Endpoint"}),e.jsx("th",{className:"px-8 py-4 text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:i?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-8 py-20 text-center text-slate-400 text-sm",children:"Loading logs..."})}):A.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-8 py-20 text-center opacity-40 uppercase text-[10px] font-black tracking-widest text-slate-400",children:"No terminal events found"})}):A.map(w=>e.jsxs("tr",{className:"group hover:bg-violet-50/50 transition-colors cursor-pointer",onClick:()=>E(w),children:[e.jsx("td",{className:"px-8 py-5",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-violet-400"}),e.jsx("span",{className:"text-violet-600 font-medium text-xs",children:w.id})]})}),e.jsx("td",{className:"px-8 py-5",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-gray-900 font-bold text-sm",children:w.event}),e.jsxs("span",{className:"text-[9px] text-slate-400 uppercase tracking-widest mt-1 flex items-center gap-1.5",children:[e.jsx(Ze,{size:10})," ",w.time]})]})}),e.jsx("td",{className:"px-8 py-5",children:e.jsxs("div",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-[0.1em] border ${w.status==="success"?"bg-emerald-50 text-emerald-600 border-emerald-100":"bg-rose-50 text-rose-600 border-rose-100"}`,children:[w.statusCode," ",w.status]})}),e.jsx("td",{className:"px-8 py-5",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"px-1.5 py-0.5 bg-slate-100 rounded text-[9px] font-black text-slate-500 border border-slate-200",children:w.method}),e.jsx("span",{className:"text-xs text-slate-500 tracking-tight font-medium",children:w.endpoint})]})}),e.jsx("td",{className:"px-8 py-5 text-right",children:e.jsx("button",{className:"p-2 text-slate-400 group-hover:text-violet-600 transition-colors",children:e.jsx(qs,{size:18})})})]},w.id))})]})}),e.jsx("div",{className:"lg:hidden divide-y divide-slate-100",children:i?e.jsx("div",{className:"p-12 text-center text-slate-400 text-sm",children:"Loading logs..."}):A.length===0?e.jsx("div",{className:"p-12 text-center opacity-40 uppercase text-[10px] font-black tracking-widest text-slate-400",children:"No terminal events found"}):A.map(w=>e.jsxs("div",{className:"p-6 space-y-4 active:bg-slate-50 transition-colors",onClick:()=>E(w),children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-violet-400"}),e.jsx("span",{className:"text-[10px] font-black text-violet-600 tracking-[0.1em]",children:w.id})]}),e.jsx("h3",{className:"text-sm font-bold text-gray-900 tracking-tight",children:w.event})]}),e.jsx("div",{className:`px-2.5 py-1 rounded-lg text-[9px] font-black uppercase tracking-widest border ${w.status==="success"?"bg-emerald-50 text-emerald-600 border-emerald-100":"bg-rose-50 text-rose-600 border-rose-100"}`,children:w.statusCode})]}),e.jsxs("div",{className:"flex items-center justify-between text-[9px] font-black text-slate-400 uppercase tracking-widest",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"px-1.5 py-0.5 bg-slate-100 rounded text-slate-500 border border-slate-200",children:w.method}),e.jsx("span",{children:w.endpoint})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Ze,{size:10})," ",w.time]})]})]},w.id))})]}),e.jsxs("div",{className:"mt-8 flex flex-col md:flex-row md:items-center justify-between gap-6",children:[e.jsxs("p",{className:"text-xs text-slate-500 font-medium",children:["System uptime ",e.jsx("span",{className:"text-emerald-500 font-bold",children:"99.99%"}),"  Latency ",e.jsx("span",{className:"text-violet-600 font-bold",children:"142ms"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"flex-1 md:flex-none px-6 py-3 bg-white border border-slate-200 rounded-2xl text-[10px] font-black uppercase tracking-widest text-slate-500 hover:text-slate-900 hover:bg-slate-50 transition-all",children:"Previous"}),e.jsx("button",{className:"flex-1 md:flex-none px-6 py-3 bg-white border border-slate-200 rounded-2xl text-[10px] font-black uppercase tracking-widest text-slate-500 hover:text-slate-900 hover:bg-slate-50 transition-all shadow-sm",children:"Next Page"})]})]})]}),e.jsx(rt,{isOpen:y,onClose:()=>g(!1),title:"Log Inspector",width:"600px",children:e.jsx(TE,{selectedLog:s,onClose:()=>g(!1)})})]})},Ey=()=>{const s=Ht(),[t,a]=b.useState({orgName:"",address:"",email:"",phone:""}),[l,i]=b.useState(!0),[o,c]=b.useState(!1),x=localStorage.getItem("userRole")==="SUPER_ADMIN";b.useEffect(()=>{h()},[]);const h=async()=>{i(!0);try{const y=x?await uD():await iu();a({orgName:y.siteName||"",address:y.contactAddress||"",email:y.supportEmail||"",phone:y.contactPhone||""})}catch(y){console.error("Error loading settings:",y)}finally{i(!1)}},p=y=>{const{name:g,value:v}=y.target;a(C=>({...C,[g]:v}))},f=async()=>{c(!0);try{const y={siteName:t.orgName,contactAddress:t.address,supportEmail:t.email,contactPhone:t.phone};x?await xD(y):await Jg(y),alert("Settings updated successfully!"),s("/dashboard")}catch(y){console.error("Error saving settings:",y),alert("Failed to save settings")}finally{c(!1)}};return l?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 flex items-center justify-center",children:e.jsxs("div",{className:"animate-pulse flex flex-col items-center",children:[e.jsx("div",{className:"h-16 w-16 bg-gradient-to-br from-violet-200 to-purple-200 rounded-full mb-4 animate-spin"}),e.jsx("div",{className:"h-4 w-48 bg-slate-200 rounded"})]})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 flex flex-col items-center py-8 px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"w-full max-w-4xl mb-6",children:e.jsxs("button",{onClick:()=>s("/dashboard"),className:"group flex items-center text-slate-500 hover:text-violet-600 transition-all duration-300 hover:scale-105",children:[e.jsx("div",{className:"p-1 rounded-full group-hover:bg-violet-50 transition-all duration-300 mr-2 group-hover:scale-110",children:e.jsx(Dn,{size:20,className:"transition-transform duration-300 group-hover:-translate-x-1"})}),e.jsx("span",{className:"font-semibold",children:"Back to Dashboard"})]})}),e.jsxs("div",{className:"w-full max-w-4xl mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx($c,{size:28})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"General Settings"}),e.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Manage your organization's core profile information"})]})]})})]}),e.jsx("div",{className:"w-full max-w-4xl bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden transition-all duration-300 hover:shadow-2xl",children:e.jsxs("div",{className:"p-8 sm:p-10 space-y-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-3",htmlFor:"orgName",children:"Organization Name"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-slate-400 group-focus-within:text-violet-600 group-focus-within:scale-110 transition-all duration-300",children:e.jsx($c,{size:20})}),e.jsx("input",{type:"text",id:"orgName",name:"orgName",className:"block w-full pl-12 pr-4 py-3.5 bg-white border-2 border-slate-200 rounded-xl text-slate-900 text-sm focus:outline-none focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 hover:border-slate-300 transition-all duration-300 shadow-sm focus:shadow-lg",value:t.orgName,onChange:p,placeholder:"Enter organization name"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-3",htmlFor:"address",children:"Address"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute top-3.5 left-4 flex items-start pointer-events-none text-slate-400 group-focus-within:text-violet-600 group-focus-within:scale-110 transition-all duration-300",children:e.jsx(Ws,{size:20})}),e.jsx("textarea",{id:"address",name:"address",rows:"3",className:"block w-full pl-12 pr-4 py-3.5 bg-white border-2 border-slate-200 rounded-xl text-slate-900 text-sm focus:outline-none focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 hover:border-slate-300 transition-all duration-300 shadow-sm resize-none focus:shadow-lg",value:t.address,onChange:p,placeholder:"Enter full address"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-3",htmlFor:"email",children:"Contact Email"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-slate-400 group-focus-within:text-violet-600 group-focus-within:scale-110 transition-all duration-300",children:e.jsx(_r,{size:20})}),e.jsx("input",{type:"email",id:"email",name:"email",className:"block w-full pl-12 pr-4 py-3.5 bg-white border-2 border-slate-200 rounded-xl text-slate-900 text-sm focus:outline-none focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 hover:border-slate-300 transition-all duration-300 shadow-sm focus:shadow-lg",value:t.email,onChange:p,placeholder:"support@example.com"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-3",htmlFor:"phone",children:"Contact Phone"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-slate-400 group-focus-within:text-violet-600 group-focus-within:scale-110 transition-all duration-300",children:e.jsx(ja,{size:20})}),e.jsx("input",{type:"tel",id:"phone",name:"phone",className:"block w-full pl-12 pr-4 py-3.5 bg-white border-2 border-slate-200 rounded-xl text-slate-900 text-sm focus:outline-none focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 hover:border-slate-300 transition-all duration-300 shadow-sm focus:shadow-lg",value:t.phone,onChange:p,placeholder:"+91 00000 00000"})]})]})]}),e.jsx("div",{className:"flex justify-end pt-6 border-t border-slate-100",children:e.jsxs("button",{onClick:f,disabled:o,className:"group relative flex items-center justify-center px-8 py-3.5 rounded-xl font-bold text-white shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:translate-y-0 w-full sm:w-auto bg-gradient-to-r from-violet-600 to-purple-600 hover:shadow-violet-500/50",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 to-fuchsia-600 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx(xa,{size:20,className:"mr-2 relative transition-transform duration-300 group-hover:rotate-12 group-hover:scale-110"}),e.jsx("span",{className:"relative",children:o?"Saving...":"Save Changes"})]})})]})})]})},nb=({value:s,onChange:t,branches:a=[]})=>e.jsx("div",{className:"bg-violet-50 p-4 rounded-xl border border-violet-100 mb-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-white rounded-lg shadow-sm text-violet-600",children:e.jsx(tx,{size:20})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-bold text-slate-800",children:"Apply Settings To:"}),e.jsx("p",{className:"text-xs text-slate-500 font-medium",children:"Choose if this configuration is global or branch-specific."})]})]}),e.jsx("div",{className:"w-full sm:w-auto",children:e.jsxs("select",{value:s||"all",onChange:l=>t(l.target.value==="all"?null:l.target.value),className:"w-full sm:w-64 pl-4 pr-10 py-2.5 bg-white border-2 border-slate-200 rounded-xl text-sm font-bold text-slate-700 focus:outline-none focus:border-violet-500 transition-all appearance-none cursor-pointer shadow-sm hover:border-slate-300",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%2364748b'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 1rem center",backgroundSize:"1.25rem"},children:[e.jsx("option",{value:"all",children:" All Branches (Global)"}),a.map(l=>e.jsxs("option",{value:l.id,children:[" ",l.name]},l.id))]})})]})}),ib=[{id:1,name:"Downtown HQ",location:"San Francisco, CA",manager:"Sarah Connor",status:"Active",members:1250},{id:2,name:"Westside Studio",location:"Los Angeles, CA",manager:"Mike Ross",status:"Active",members:850},{id:3,name:"North Hills",location:"Seattle, WA",manager:"Nancy Drew",status:"Inactive",members:0}],PE=[{role:"Super Admin",permissions:{members:!0,finance:!0,settings:!0,reports:!0}},{role:"Branch Manager",permissions:{members:!0,finance:!1,settings:!1,reports:!0}},{role:"Trainer",permissions:{members:!0,finance:!1,settings:!1,reports:!1}}],F0={plan:"Enterprise Tier",price:"$299/mo",nextBilling:"Nov 1, 2023",paymentMethod:"Visa ending in 4242",invoices:[{id:"INV-001",date:"Oct 1, 2023",amount:"$299.00",status:"Paid"},{id:"INV-002",date:"Sep 1, 2023",amount:"$299.00",status:"Paid"},{id:"INV-003",date:"Aug 1, 2023",amount:"$299.00",status:"Paid"}]},RE=[{id:1,name:"Stripe",description:"Payment Gateway",status:"Connected",icon:"CreditCard"},{id:2,name:"Mailchimp",description:"Email Marketing",status:"Disconnected",icon:"Mail"},{id:3,name:"Google Calendar",description:"Schedule Sync",status:"Connected",icon:"Calendar"},{id:4,name:"WhatsApp Business",description:"Member Chat",status:"Disconnected",icon:"MessageCircle"}],OE=[{id:1,user:"Admin User",action:"Updated Organization Settings",ip:"192.168.1.1",date:"2023-10-25 14:30"},{id:2,user:"Sarah Connor",action:"Created New Member (M-105)",ip:"192.168.1.4",date:"2023-10-25 10:15"},{id:3,user:"System",action:"Automatic Backup",ip:"localhost",date:"2023-10-25 00:00"},{id:4,user:"Admin User",action:"Changed Password",ip:"192.168.1.1",date:"2023-10-24 16:45"}],My=()=>{const s=Ht(),a=Pg()?.role||localStorage.getItem("userRole"),l=a===it.SUPER_ADMIN,i=a===it.MANAGER,[o,c]=b.useState(null),[u,x]=b.useState({prefix:"INV-",startNumber:"1001",gstPercent:"18"}),[h,p]=b.useState(!0),[f,y]=b.useState(!1);b.useEffect(()=>{g()},[]);const g=async()=>{p(!0);try{const N=l?await hD():await iu();x({prefix:N.invoicePrefix||"INV-",startNumber:N.invoiceStartNumber||"1001",gstPercent:N.gstPercent?.toString()||"18"})}catch(N){console.error("Error fetching invoice settings:",N)}finally{p(!1)}},v=N=>{const{name:k,value:A}=N.target;x(E=>({...E,[k]:A}))},C=async()=>{y(!0);try{const N={invoicePrefix:u.prefix,invoiceStartNumber:parseInt(u.startNumber),gstPercent:parseFloat(u.gstPercent)};l?await mD(N):await Jg(N),alert("Invoice settings updated successfully!")}catch(N){console.error("Error saving invoice settings:",N),alert("Failed to save invoice settings.")}finally{y(!1)}};return h?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 flex items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(dl,{className:"animate-spin text-violet-600 mb-4",size:48}),e.jsx("span",{className:"text-lg font-semibold text-slate-600",children:"Loading settings..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6 flex flex-col items-center",children:[e.jsx("div",{className:"w-full max-w-6xl mb-6",children:e.jsxs("button",{onClick:()=>s(l?"/superadmin/general-settings/general":"/branchadmin/settings/general"),className:"group flex items-center text-slate-500 hover:text-violet-600 transition-all duration-300 hover:scale-105",children:[e.jsx("div",{className:"p-1 rounded-full group-hover:bg-violet-50 transition-all duration-300 mr-2 group-hover:scale-110",children:e.jsx(Dn,{size:20,className:"transition-transform duration-300 group-hover:-translate-x-1"})}),e.jsx("span",{className:"font-semibold",children:"Back to Settings"})]})}),e.jsxs("div",{className:"max-w-6xl mx-auto mb-6 sm:mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 rounded-xl sm:rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(Va,{size:24,className:"sm:w-7 sm:h-7"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Invoice Settings"}),e.jsx("p",{className:"text-slate-600 text-xs sm:text-sm mt-0.5 sm:mt-1",children:"Configure invoice numbering and tax details"})]})]})})]}),e.jsx("div",{className:"max-w-6xl mx-auto w-full px-4 mb-6",children:e.jsx(nb,{value:o,onChange:c,branches:ib})}),e.jsxs("div",{className:"max-w-6xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-6 sm:gap-8",children:[e.jsxs("div",{className:"bg-white rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-6 sm:p-8 hover:shadow-2xl transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 mb-6 sm:mb-8 pb-4 sm:pb-6 border-b border-slate-100",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-lg sm:rounded-xl bg-gradient-to-br from-violet-100 to-purple-100 flex items-center justify-center text-violet-600 shadow-md transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(dr,{size:20,className:"sm:w-6 sm:h-6"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-900",children:"Configuration"}),i&&e.jsx("span",{className:"px-2 py-0.5 bg-slate-100 text-slate-500 text-xs font-bold rounded border border-slate-200 uppercase tracking-wide",children:"Read-Only "})]}),e.jsx("p",{className:"text-xs sm:text-sm text-slate-500",children:i?"View invoice numbering and tax details.":"Set up invoice numbering and tax details"})]})]}),e.jsxs("div",{className:"space-y-5 sm:space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-bold text-slate-700 mb-2 sm:mb-3",htmlFor:"prefix",children:"Invoice Prefix"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 sm:pl-4 flex items-center pointer-events-none text-slate-400 group-focus-within:text-violet-600 group-focus-within:scale-110 transition-all duration-300",children:e.jsx(im,{size:18,className:"sm:w-5 sm:h-5"})}),e.jsx("input",{type:"text",id:"prefix",name:"prefix",className:`block w-full pl-10 sm:pl-12 pr-3 sm:pr-4 py-3 sm:py-3.5 bg-white border-2 border-slate-200 rounded-lg sm:rounded-xl text-slate-900 text-sm focus:outline-none focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 hover:border-slate-300 transition-all duration-300 shadow-sm focus:shadow-lg ${i?"cursor-not-allowed bg-slate-50 text-slate-500":""}`,value:u.prefix,onChange:v,placeholder:"e.g. INV-",disabled:i})]}),e.jsxs("p",{className:"text-[10px] sm:text-xs text-slate-500 mt-1.5 sm:mt-2 flex items-center gap-1.5",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-violet-400 inline-block"}),"Prefix for all generated invoice numbers"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-bold text-slate-700 mb-2 sm:mb-3",htmlFor:"startNumber",children:"Starting Number"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 sm:pl-4 flex items-center pointer-events-none text-slate-400 group-focus-within:text-violet-600 group-focus-within:scale-110 transition-all duration-300",children:e.jsx(im,{size:18,className:"sm:w-5 sm:h-5"})}),e.jsx("input",{type:"number",id:"startNumber",name:"startNumber",className:`block w-full pl-10 sm:pl-12 pr-3 sm:pr-4 py-3 sm:py-3.5 bg-white border-2 border-slate-200 rounded-lg sm:rounded-xl text-slate-900 text-sm focus:outline-none focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 hover:border-slate-300 transition-all duration-300 shadow-sm focus:shadow-lg ${i?"cursor-not-allowed bg-slate-50 text-slate-500":""}`,value:u.startNumber,onChange:v,placeholder:"e.g. 1001",disabled:i})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-bold text-slate-700 mb-2 sm:mb-3",htmlFor:"gstPercent",children:"Tax Settings (GST %)"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 sm:pl-4 flex items-center pointer-events-none text-slate-400 group-focus-within:text-violet-600 group-focus-within:scale-110 transition-all duration-300 z-10",children:e.jsx(Hc,{size:18,className:"sm:w-5 sm:h-5"})}),e.jsx(ds,{options:[{value:"0",label:"0% (Tax Exempt)"},{value:"5",label:"5%"},{value:"12",label:"12%"},{value:"18",label:"18% (Standard)"},{value:"28",label:"28%"}],value:u.gstPercent,onChange:N=>v({target:{name:"gstPercent",value:N}}),className:`w-full pl-10 sm:pl-12 ${i?"cursor-not-allowed bg-slate-50 text-slate-500":""}`,disabled:i})]})]})]}),e.jsx("div",{className:"flex justify-end mt-6 sm:mt-8 pt-4 sm:pt-6 border-t border-slate-100",children:e.jsxs("button",{onClick:C,disabled:f||i,className:"group relative flex items-center justify-center px-6 sm:px-8 py-3 sm:py-3.5 rounded-lg sm:rounded-xl font-bold text-sm sm:text-base text-white shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:translate-y-0 w-full md:w-auto bg-gradient-to-r from-violet-600 to-purple-600 hover:shadow-violet-500/50",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 to-fuchsia-600 rounded-lg sm:rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),f?e.jsx(dl,{className:"w-4 h-4 sm:w-5 sm:h-5 animate-spin relative mr-2"}):e.jsx(xa,{className:"w-4 h-4 sm:w-5 sm:h-5 relative mr-2 transition-transform duration-300 group-hover:rotate-12 group-hover:scale-110"}),e.jsx("span",{className:"relative",children:f?"Saving...":"Save Configuration"})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-6 sm:p-8 hover:shadow-2xl transition-all duration-300",children:[e.jsx("div",{className:"flex items-center justify-between mb-6 sm:mb-8",children:e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg sm:rounded-xl bg-gradient-to-br from-emerald-100 to-emerald-200 flex items-center justify-center text-emerald-600 shadow-md transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(qs,{size:16,className:"sm:w-5 sm:h-5"})}),e.jsx("div",{children:e.jsxs("h2",{className:"text-base sm:text-lg lg:text-xl font-bold text-slate-900 flex items-center gap-2",children:["Live Preview",e.jsx("span",{className:"text-[9px] sm:text-xs font-semibold px-2 sm:px-2.5 py-0.5 sm:py-1 bg-emerald-100 text-emerald-700 rounded-full border border-emerald-200",children:"Updated"})]})})]})}),e.jsx("div",{className:"bg-gradient-to-br from-slate-50 to-slate-100/50 rounded-lg sm:rounded-xl p-4 sm:p-6 border-2 border-slate-200 shadow-inner",children:e.jsxs("div",{className:"bg-white rounded-lg p-4 sm:p-6 shadow-md",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-4 sm:gap-0 mb-4 sm:mb-6",children:[e.jsxs("div",{className:"text-left",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2 sm:mb-3",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-violet-600 to-purple-600 rounded-lg sm:rounded-xl flex items-center justify-center shadow-md",children:e.jsx("span",{className:"text-white font-bold text-xs sm:text-sm",children:"G"})}),e.jsx("span",{className:"font-bold text-slate-800 text-base sm:text-lg",children:"GymName"})]}),e.jsx("div",{className:"h-1.5 sm:h-2 w-24 sm:w-32 bg-slate-200 rounded mb-1 sm:mb-1.5"}),e.jsx("div",{className:"h-1.5 sm:h-2 w-20 sm:w-24 bg-slate-200 rounded"})]}),e.jsxs("div",{className:"text-left sm:text-right w-full sm:w-auto",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-black text-slate-300 tracking-wider",children:"INVOICE"}),e.jsxs("p",{className:"font-mono text-xs sm:text-sm text-violet-600 font-bold mt-1.5 sm:mt-2 bg-violet-50 px-2.5 sm:px-3 py-1 sm:py-1.5 rounded-lg border border-violet-200 inline-block",children:["#",u.prefix,u.startNumber]})]})]}),e.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[e.jsxs("div",{className:"flex justify-between border-b border-slate-100 pb-2 sm:pb-3 hover:bg-slate-50 px-2 sm:px-3 -mx-2 sm:-mx-3 rounded transition-colors",children:[e.jsx("span",{className:"text-xs sm:text-sm text-slate-500 font-semibold",children:"Date Issued"}),e.jsx("span",{className:"text-xs sm:text-sm font-bold text-slate-700",children:new Date().toLocaleDateString()})]}),e.jsxs("div",{className:"flex justify-between border-b border-slate-100 pb-2 sm:pb-3 hover:bg-slate-50 px-2 sm:px-3 -mx-2 sm:-mx-3 rounded transition-colors",children:[e.jsx("span",{className:"text-xs sm:text-sm text-slate-500 font-semibold",children:"Total Amount"}),e.jsx("span",{className:"text-xs sm:text-sm font-black text-slate-900",children:"0.00"})]}),e.jsxs("div",{className:"flex justify-between pt-1 sm:pt-2 hover:bg-slate-50 px-2 sm:px-3 -mx-2 sm:-mx-3 rounded transition-colors",children:[e.jsxs("span",{className:"text-xs sm:text-sm text-slate-500 font-semibold",children:["Tax (",u.gstPercent,"%)"]}),e.jsx("span",{className:"text-xs sm:text-sm font-bold text-emerald-600",children:"Included"})]})]}),e.jsx("div",{className:"mt-4 sm:mt-6 p-3 sm:p-4 bg-gradient-to-r from-violet-50 to-purple-50 rounded-lg border border-violet-100 text-center",children:e.jsx("p",{className:"text-[10px] sm:text-xs text-slate-600 font-semibold",children:"This is how your invoice header will look to customers."})})]})})]})]})]})},zy=()=>{const s=Ht(),[t,a]=b.useState([]),[l,i]=b.useState(!1),[o,c]=b.useState("add"),[u,x]=b.useState(null),[h,p]=b.useState({name:"",type:"Access Controller",ip:"",status:"active"});b.useEffect(()=>{f()},[]);const f=async()=>{try{const E=(await iN()).map(w=>({id:w.id,name:w.name,type:w.type||"Turnstile",ip:w.ipAddress||"",status:w.status==="connected"||w.status==="active"||w.status==="Online"?"active":"offline"}));a(E)}catch(A){console.error("Failed to load devices",A)}},y=()=>{c("add"),p({name:"",type:"Access Controller",ip:"",status:"active"}),i(!0)},g=A=>{c("edit"),x(A),p({name:A.name,type:A.type,ip:A.ip,status:A.status}),i(!0)},v=async A=>{if(A.preventDefault(),!h.name||!h.ip){alert("Please fill in all required fields.");return}if(!/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(h.ip)){alert("Please enter a valid IP address.");return}try{o==="edit"?(await DD(u.id,h),alert("Device updated successfully!")):(await AD(h),alert("Device added successfully!")),f(),i(!1)}catch(w){console.error("Failed to save device",w),alert("Failed to save device: "+w)}},C=A=>{const{name:E,value:w}=A.target;p(R=>({...R,[E]:w}))},N=async A=>{if(confirm("Are you sure you want to remove this device?"))try{await LD(A),f()}catch(E){console.error("Failed to delete device",E),alert("Failed to delete device: "+E)}},k=A=>e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-bold shadow-sm transition-all duration-300 hover:scale-110 ${A==="active"?"bg-gradient-to-r from-emerald-50 to-emerald-100 text-emerald-700 border border-emerald-200":"bg-gradient-to-r from-red-50 to-red-100 text-red-700 border border-red-200"}`,children:[e.jsx("span",{className:`inline-block w-2 h-2 rounded-full animate-pulse ${A==="active"?"bg-emerald-500":"bg-red-500"}`}),A.charAt(0).toUpperCase()+A.slice(1)]});return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-6 flex flex-col items-center",children:[e.jsx("div",{className:"w-full max-w-7xl mb-6",children:e.jsxs("button",{onClick:()=>s(localStorage.getItem("userRole")==="SUPER_ADMIN"?"/superadmin/general-settings/general":"/branchadmin/settings/general"),className:"group flex items-center text-slate-500 hover:text-violet-600 transition-all duration-300 hover:scale-105",children:[e.jsx("div",{className:"p-1 rounded-full group-hover:bg-violet-50 transition-all duration-300 mr-2 group-hover:scale-110",children:e.jsx(Dn,{size:20,className:"transition-transform duration-300 group-hover:-translate-x-1"})}),e.jsx("span",{className:"font-semibold",children:"Back to Settings"})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx($w,{size:28})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Hardware Settings"}),e.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Manage connected devices and access points"})]})]}),e.jsxs("button",{onClick:y,className:"group relative px-6 py-3 rounded-xl font-bold text-white shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1 flex items-center gap-2 bg-gradient-to-r from-violet-600 to-purple-600 hover:shadow-violet-500/50",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 to-fuchsia-600 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx(wt,{className:"w-5 h-5 relative transition-transform duration-300 group-hover:rotate-90 group-hover:scale-110"}),e.jsx("span",{className:"relative",children:"Add New Device"})]})]})})]}),e.jsx("div",{className:"max-w-7xl mx-auto bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gradient-to-r from-slate-50 to-slate-100/50 border-b-2 border-slate-200",children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"Device Name"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"Type"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"IP Address"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold uppercase tracking-wider text-slate-700",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:t.length>0?t.map(A=>e.jsxs("tr",{className:"group hover:bg-gradient-to-r hover:from-violet-50/50 hover:via-purple-50/30 hover:to-transparent transition-all duration-300",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-11 h-11 rounded-xl flex items-center justify-center shadow-md transition-all duration-300 group-hover:scale-110 group-hover:rotate-6 ${A.status==="active"?"bg-gradient-to-br from-emerald-500 to-emerald-600 text-white":"bg-gradient-to-br from-red-500 to-red-600 text-white"}`,children:e.jsx(lg,{size:20})}),e.jsxs("div",{children:[e.jsx("span",{className:"font-bold text-slate-900 block text-sm group-hover:text-violet-600 transition-colors",children:A.name}),e.jsxs("span",{className:"text-xs text-slate-500",children:["ID: ",A.id]})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"text-sm font-semibold text-slate-700",children:A.type})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"inline-flex items-center gap-2 font-mono text-xs bg-slate-50 px-3 py-1.5 rounded-lg border border-slate-200 transition-all duration-300 group-hover:bg-violet-50 group-hover:border-violet-200 group-hover:text-violet-700",children:[e.jsx(Am,{size:14}),A.ip]})}),e.jsx("td",{className:"px-6 py-4",children:k(A.status)}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>g(A),className:"group/btn p-2.5 text-violet-600 hover:bg-violet-50 rounded-xl transition-all duration-300 border border-transparent hover:border-violet-200 hover:scale-110 hover:shadow-md",title:"Edit",children:e.jsx(Ra,{size:16,className:"transition-transform duration-300 group-hover/btn:rotate-12 group-hover/btn:scale-110"})}),e.jsx("button",{onClick:()=>N(A.id),className:"group/btn p-2.5 text-red-600 hover:bg-red-50 rounded-xl transition-all duration-300 border border-transparent hover:border-red-200 hover:scale-110 hover:shadow-md",title:"Remove",children:e.jsx(xs,{size:16,className:"transition-transform duration-300 group-hover/btn:rotate-12 group-hover/btn:scale-110"})})]})})]},A.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-16 text-center",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-violet-100 to-purple-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(lg,{size:32,className:"text-violet-600"})}),e.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"No Devices Found"}),e.jsx("p",{className:"text-slate-600 text-sm",children:"Add your first hardware device to get started"})]})})})})]})})}),e.jsx(rt,{isOpen:l,onClose:()=>i(!1),title:o==="add"?"Add New Device":"Edit Device Configuration",subtitle:o==="add"?"Configure a new hardware node":`Updating ${u?.name}`,maxWidth:"max-w-lg",footer:e.jsxs("div",{className:"flex flex-row-reverse gap-3 w-full",children:[e.jsx("button",{type:"submit",form:"device-form",className:"px-6 py-2.5 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-xl font-bold shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:o==="add"?"Add Device":"Save Changes"}),e.jsx("button",{type:"button",onClick:()=>i(!1),className:"px-6 py-2.5 bg-white border-2 border-slate-200 text-slate-700 rounded-xl font-bold shadow-sm hover:shadow-md transition-all duration-300 hover:scale-105",children:"Cancel"})]}),children:e.jsxs("form",{id:"device-form",onSubmit:v,className:"flex flex-col gap-6 p-6",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Device Name *"}),e.jsx("input",{type:"text",name:"name",className:"block w-full px-4 py-3 bg-white border-2 border-slate-200 rounded-xl text-slate-900 text-sm focus:outline-none focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 hover:border-slate-300 transition-all duration-300 shadow-sm",value:h.name,onChange:C,placeholder:"e.g. Reception Turnstile",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Device Type"}),e.jsx(ds,{options:["Access Controller","Biometric","RFID Reader","Turnstile","Camera"],value:h.type,onChange:A=>C({target:{name:"type",value:A}}),className:"w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"IP Address *"}),e.jsx("input",{type:"text",name:"ip",className:"block w-full px-4 py-3 bg-white border-2 border-slate-200 rounded-xl text-slate-900 text-sm font-mono focus:outline-none focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 hover:border-slate-300 transition-all duration-300 shadow-sm",value:h.ip,onChange:C,placeholder:"192.168.1.1",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-3",children:"Initial Status"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"status",value:"active",checked:h.status==="active",onChange:C,className:"w-4 h-4 text-violet-600 focus:ring-violet-500"}),e.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"status",value:"offline",checked:h.status==="offline",onChange:C,className:"w-4 h-4 text-violet-600 focus:ring-violet-500"}),e.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Offline"})]})]})]})]})})]})},FE=()=>{const s=Ht(),[t,a]=b.useState(!1),[l,i]=b.useState(!0),[o,c]=b.useState({globalBookingEnabled:!0,creditsPerBooking:1,maxBookingsPerDay:2,maxBookingsPerWeek:10,classCancellationWindow:4,classAdvanceBookingDays:7,benefitCancellationWindow:24,benefitAdvanceBookingDays:14,penaltyEnabled:!0,penaltyCredits:1});b.useEffect(()=>{(async()=>{try{const p=await pD();c(f=>({...f,...p}))}catch(p){console.error("Failed to load booking settings:",p)}finally{i(!1)}})()},[]);const u=h=>{const{name:p,value:f,type:y,checked:g}=h.target;c(v=>({...v,[p]:y==="checkbox"?g:f}))},x=async()=>{a(!0);try{await fD(o),alert("Booking rules updated successfully!")}catch(h){console.error("Failed to save booking settings:",h),alert("Failed to save: "+h.message)}finally{a(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 flex flex-col items-center py-8 px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"w-full max-w-4xl mb-6",children:e.jsxs("button",{onClick:()=>s("/superadmin/general-settings/general"),className:"group flex items-center text-slate-500 hover:text-violet-600 transition-all duration-300 hover:scale-105",children:[e.jsx("div",{className:"p-1 rounded-full group-hover:bg-violet-50 transition-all duration-300 mr-2 group-hover:scale-110",children:e.jsx(Dn,{size:20,className:"transition-transform duration-300 group-hover:-translate-x-1"})}),e.jsx("span",{className:"font-semibold",children:"Back to Dashboard"})]})}),e.jsxs("div",{className:"w-full max-w-4xl mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(Xe,{size:28})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Booking Rules"}),e.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Configure specific windows for classes and premium benefits"})]})]})})]}),e.jsx("div",{className:"w-full max-w-4xl bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden transition-all duration-300 hover:shadow-2xl",children:e.jsxs("div",{className:"p-8 sm:p-10 space-y-10",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-indigo-50 rounded-lg text-indigo-600",children:e.jsx(Vr,{size:20})}),e.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Group Class Rules"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-3",children:"Cancellation Window (Classes)"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-slate-400",children:e.jsx(Ze,{size:18})}),e.jsx("input",{type:"number",name:"classCancellationWindow",value:o.classCancellationWindow,onChange:u,className:"block w-full pl-12 pr-4 py-3.5 bg-white border-2 border-slate-200 rounded-xl text-slate-900 text-sm focus:outline-none focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 hover:border-slate-300 transition-all font-semibold"}),e.jsx("span",{className:"absolute inset-y-0 right-4 flex items-center text-xs font-bold text-slate-400",children:"Hours Before"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-3",children:"Advance Booking Window (Classes)"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-slate-400",children:e.jsx(Xe,{size:18})}),e.jsx("input",{type:"number",name:"classAdvanceBookingDays",value:o.classAdvanceBookingDays,onChange:u,className:"block w-full pl-12 pr-4 py-3.5 bg-white border-2 border-slate-200 rounded-xl text-slate-900 text-sm focus:outline-none focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 hover:border-slate-300 transition-all font-semibold"}),e.jsx("span",{className:"absolute inset-y-0 right-4 flex items-center text-xs font-bold text-slate-400",children:"Days Out"})]})]})]})]}),e.jsx("div",{className:"border-t border-slate-100 my-8"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-rose-50 rounded-lg text-rose-600",children:e.jsx(Rd,{size:20})}),e.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Premium Benefit Rules (Sauna, PT, etc.)"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-3",children:"Cancellation Window (Benefits)"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-rose-400",children:e.jsx(Ze,{size:18})}),e.jsx("input",{type:"number",name:"benefitCancellationWindow",value:o.benefitCancellationWindow,onChange:u,className:"block w-full pl-12 pr-4 py-3.5 bg-white border-2 border-rose-100 rounded-xl text-slate-900 text-sm focus:outline-none focus:ring-4 focus:ring-rose-500/20 focus:border-rose-500 hover:border-rose-200 transition-all font-semibold"}),e.jsx("span",{className:"absolute inset-y-0 right-4 flex items-center text-xs font-bold text-rose-400",children:"Hours Before"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-3",children:"Advance Booking Window (Benefits)"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-rose-400",children:e.jsx(Xe,{size:18})}),e.jsx("input",{type:"number",name:"benefitAdvanceBookingDays",value:o.benefitAdvanceBookingDays,onChange:u,className:"block w-full pl-12 pr-4 py-3.5 bg-white border-2 border-rose-100 rounded-xl text-slate-900 text-sm focus:outline-none focus:ring-4 focus:ring-rose-500/20 focus:border-rose-500 hover:border-rose-200 transition-all font-semibold"}),e.jsx("span",{className:"absolute inset-y-0 right-4 flex items-center text-xs font-bold text-rose-400",children:"Days Out"})]})]})]})]}),e.jsx("div",{className:"border-t border-slate-100 my-8"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-slate-50 rounded-lg text-slate-600",children:e.jsx(Pa,{size:20})}),e.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Consumption & Penalties"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:e.jsxs("div",{className:"bg-slate-50 p-6 rounded-2xl border border-slate-200 flex flex-col justify-between",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Late Cancellation Penalty"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"penaltyEnabled",checked:o.penaltyEnabled,onChange:u,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-violet-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-violet-600"})]})]}),o.penaltyEnabled&&e.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2",children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-widest mb-2",children:"Penalty Credits"}),e.jsx("input",{type:"number",name:"penaltyCredits",value:o.penaltyCredits,onChange:u,className:"block w-full px-4 py-2 bg-white border border-slate-300 rounded-lg text-slate-900 text-sm focus:border-violet-500 focus:ring-2 focus:ring-violet-200 transition-all"})]})]})})]}),e.jsx("div",{className:"flex justify-end pt-6 border-t border-slate-100",children:e.jsxs("button",{onClick:x,disabled:t,className:"group relative flex items-center justify-center px-8 py-4 rounded-xl font-bold text-white shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:translate-y-0 w-full sm:w-auto bg-gradient-to-r from-violet-600 to-purple-600 hover:shadow-violet-500/50",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 to-fuchsia-600 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx(xa,{size:20,className:"mr-2 relative transition-transform duration-300 group-hover:rotate-12 group-hover:scale-110"}),e.jsx("span",{className:"relative",children:t?"Saving...":"Save Configuration"})]})})]})})]})},IE=()=>{const[s,t]=b.useState(null),[a,l]=b.useState(!0),[i,o]=b.useState("personal"),[c,u]=b.useState(!1),[x,h]=b.useState({type:"",text:""}),[p,f]=b.useState({name:"",email:"",phone:"",address:""});b.useEffect(()=>{y()},[]);const y=async()=>{try{l(!0);const N=await kD();t(N),f({name:N.name,email:N.email,phone:N.phone,address:N.address||""})}catch(N){console.error("Error loading profile:",N),h({type:"error",text:"Failed to load profile data."})}finally{l(!1)}},g=N=>{const{name:k,value:A}=N.target;f(E=>({...E,[k]:A}))},v=async N=>{N.preventDefault(),u(!0),h({type:"",text:""});try{const k=await SD(p);t(k),h({type:"success",text:"Profile updated successfully!"})}catch{h({type:"error",text:"Failed to update profile."})}finally{u(!1)}};if(a)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 flex items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"h-16 w-16 bg-gradient-to-br from-violet-200 to-purple-200 rounded-full mb-4 animate-spin"}),e.jsx("p",{className:"text-lg font-semibold text-slate-600",children:"Loading profile..."})]})});if(!s)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 flex items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-4 text-center max-w-sm",children:[e.jsx("div",{className:"w-16 h-16 bg-red-50 rounded-full flex items-center justify-center",children:e.jsx(Pa,{size:32,className:"text-red-400"})}),e.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Could Not Load Profile"}),e.jsx("p",{className:"text-slate-500 text-sm",children:x.text||"There was an error fetching your profile. Please try refreshing the page."}),e.jsx("button",{onClick:y,className:"px-6 py-2.5 bg-violet-600 text-white rounded-xl text-sm font-bold hover:bg-violet-700 transition-all",children:"Retry"})]})});const C=[{id:"personal",label:"Personal Info",icon:lt},{id:"security",label:"Security",icon:Pa},{id:"notifications",label:"Notifications",icon:wn}];return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-6 md:p-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[e.jsxs("div",{className:"relative bg-white rounded-2xl border border-slate-100 shadow-xl overflow-hidden",children:[e.jsx("div",{className:"h-40 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 relative",children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-transparent to-black/10"})}),e.jsx("div",{className:"px-8 pb-8",children:e.jsxs("div",{className:"relative flex flex-col md:flex-row md:items-end gap-6 -mt-16",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"w-36 h-36 rounded-2xl bg-white p-2 shadow-2xl ring-4 ring-white",children:e.jsx("div",{className:"w-full h-full rounded-xl bg-gradient-to-br from-violet-600 to-purple-600 flex items-center justify-center text-white text-5xl font-black shadow-lg",children:s.avatar})}),e.jsx("button",{className:"absolute bottom-2 right-2 p-3 bg-white rounded-xl shadow-lg border border-slate-200 text-violet-600 hover:scale-110 hover:bg-violet-50 active:scale-95 transition-all duration-300 group-hover:shadow-xl",children:e.jsx(Qo,{size:18})})]}),e.jsxs("div",{className:"flex-1 pb-2",children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent mb-2",children:s.name}),e.jsxs("div",{className:"flex flex-wrap gap-3 mt-3",children:[e.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-gradient-to-r from-violet-50 to-purple-50 text-violet-700 text-xs font-bold border border-violet-200 shadow-sm",children:s.role.replace("_"," ")}),e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full bg-emerald-50 text-emerald-700 text-xs font-bold border border-emerald-200 shadow-sm",children:[e.jsx(It,{size:14,className:"text-emerald-500"}),s.status]}),e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full bg-slate-50 text-slate-700 text-xs font-bold border border-slate-200 shadow-sm",children:[e.jsx(Xe,{size:14,className:"text-slate-500"}),"Joined ",s.joinedDate]})]})]}),e.jsxs("button",{className:"md:mb-2 px-6 py-3 bg-gradient-to-r from-emerald-600 to-emerald-700 text-white rounded-xl text-sm font-bold shadow-lg hover:shadow-xl hover:scale-105 active:scale-95 transition-all duration-300 flex items-center gap-2",children:[e.jsx(Zt,{size:18}),"Verified Account"]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"lg:col-span-1 space-y-2",children:C.map(N=>e.jsxs("button",{onClick:()=>o(N.id),className:`w-full flex items-center gap-3 px-5 py-4 rounded-xl text-sm font-bold transition-all duration-300 ${i===N.id?"bg-gradient-to-r from-violet-600 to-purple-600 text-white shadow-lg hover:shadow-xl hover:scale-105":"text-slate-600 hover:bg-white border border-transparent hover:border-slate-200 hover:text-slate-900 hover:shadow-md"}`,children:[e.jsx(N.icon,{size:20,className:i===N.id?"":"text-slate-400"}),N.label]},N.id))}),e.jsx("div",{className:"lg:col-span-3",children:e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-xl p-8",children:[x.text&&e.jsxs("div",{className:`mb-6 p-4 rounded-xl flex items-center gap-3 text-sm font-semibold border ${x.type==="success"?"bg-emerald-50 text-emerald-700 border-emerald-200":"bg-red-50 text-red-700 border-red-200"}`,children:[e.jsx(Zt,{size:18}),x.text]}),i==="personal"&&e.jsxs("form",{onSubmit:v,className:"space-y-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"Personal Information"}),e.jsx("p",{className:"text-sm text-slate-600",children:"Update your personal details and contact information"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Full Name"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-slate-400 group-focus-within:text-violet-600 group-focus-within:scale-110 transition-all duration-300",children:e.jsx(lt,{size:20})}),e.jsx("input",{type:"text",name:"name",value:p.name,onChange:g,className:"block w-full pl-12 pr-4 py-3.5 bg-white border-2 border-slate-200 rounded-xl text-slate-900 text-sm focus:outline-none focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 hover:border-slate-300 transition-all duration-300 shadow-sm focus:shadow-lg",placeholder:"Enter your name"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Email Address"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-slate-400 group-focus-within:text-violet-600 group-focus-within:scale-110 transition-all duration-300",children:e.jsx(_r,{size:20})}),e.jsx("input",{type:"email",name:"email",value:p.email,onChange:g,className:"block w-full pl-12 pr-4 py-3.5 bg-white border-2 border-slate-200 rounded-xl text-slate-900 text-sm focus:outline-none focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 hover:border-slate-300 transition-all duration-300 shadow-sm focus:shadow-lg",placeholder:"Enter your email"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Phone Number"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-slate-400 group-focus-within:text-violet-600 group-focus-within:scale-110 transition-all duration-300",children:e.jsx(ja,{size:20})}),e.jsx("input",{type:"text",name:"phone",value:p.phone,onChange:g,className:"block w-full pl-12 pr-4 py-3.5 bg-white border-2 border-slate-200 rounded-xl text-slate-900 text-sm focus:outline-none focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 hover:border-slate-300 transition-all duration-300 shadow-sm focus:shadow-lg",placeholder:"Enter phone number"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Location"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-slate-400 group-focus-within:text-violet-600 group-focus-within:scale-110 transition-all duration-300",children:e.jsx(Ws,{size:20})}),e.jsx("input",{type:"text",name:"address",value:p.address,onChange:g,className:"block w-full pl-12 pr-4 py-3.5 bg-white border-2 border-slate-200 rounded-xl text-slate-900 text-sm focus:outline-none focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 hover:border-slate-300 transition-all duration-300 shadow-sm focus:shadow-lg",placeholder:"Enter city, country"})]})]})]}),e.jsx("div",{className:"pt-6 border-t border-slate-100",children:e.jsxs("button",{type:"submit",disabled:c,className:"group relative flex items-center justify-center px-8 py-3.5 rounded-xl font-bold text-white shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:translate-y-0 bg-gradient-to-r from-violet-600 to-purple-600 hover:shadow-violet-500/50",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 to-fuchsia-600 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),c?e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin relative mr-2"}):e.jsx(xa,{size:20,className:"mr-2 relative transition-transform duration-300 group-hover:rotate-12 group-hover:scale-110"}),e.jsx("span",{className:"relative",children:c?"Saving...":"Save Profile Changes"})]})})]}),i==="security"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"Security Settings"}),e.jsx("p",{className:"text-sm text-slate-600",children:"Manage your password and account security"})]}),e.jsxs("div",{className:"p-6 rounded-xl bg-gradient-to-br from-red-50 to-red-100/50 border-2 border-red-200",children:[e.jsxs("h4",{className:"text-red-700 font-bold flex items-center gap-2 mb-2",children:[e.jsx(Os,{size:20}),"Password Management"]}),e.jsx("p",{className:"text-red-600 text-sm font-medium",children:"It's recommended to update your password every 90 days for maximum security."}),e.jsx("button",{className:"mt-4 px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-xl text-sm font-bold hover:shadow-lg hover:scale-105 active:scale-95 transition-all duration-300",children:"Change Password"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-sm font-bold text-slate-900 uppercase tracking-wider",children:"Account Security"}),e.jsx("div",{className:"p-6 rounded-xl border-2 border-slate-200 bg-slate-50/50 hover:bg-slate-50 transition-all duration-300",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-slate-900",children:"Two-Factor Authentication"}),e.jsx("p",{className:"text-xs text-slate-600 mt-1",children:"Add an extra layer of security to your account."})]}),e.jsx("div",{className:"relative w-14 h-7 bg-gradient-to-r from-emerald-500 to-emerald-600 rounded-full shadow-md cursor-pointer hover:scale-105 transition-transform duration-300",children:e.jsx("div",{className:"absolute right-1 top-1 w-5 h-5 bg-white rounded-full shadow-sm"})})]})})]})]}),i==="notifications"&&e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[e.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-violet-100 to-purple-100 rounded-full flex items-center justify-center text-violet-600 mb-6 shadow-lg",children:e.jsx(wn,{size:48})}),e.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Notification Preferences"}),e.jsx("p",{className:"text-slate-600 max-w-md font-medium",children:"Customize how you receive alerts and system updates."})]})]})})]})]})})},BE=({isOpen:s,onClose:t,memberData:a,walletData:l,setWalletData:i})=>{const o=a&&l?l[a.id]:{balance:0,transactions:[],lastTransaction:"N/A"},[c,u]=b.useState(null),[x,h]=b.useState(""),[p,f]=b.useState(""),[y,g]=b.useState(!1);b.useEffect(()=>{a&&u(null)},[a]);const v=async C=>{if(C.preventDefault(),!x||!p||isNaN(x)||!a)return;const N=parseFloat(x),k=c==="credit"?"Credit":"Debit";try{g(!0);const A=await jD(a.id,{type:k,amount:N,description:p}),E=A.balance,w=A.transaction,R=new Date(w.createdAt||new Date).toISOString().split("T")[0],T={id:w.id,date:R,type:w.type,amount:parseFloat(w.amount),description:w.description};i(O=>({...O,[a.id]:{balance:E,transactions:[T,...o.transactions],lastTransaction:R}})),u(null),h(""),f("")}catch(A){console.error("Wallet transaction failed:",A),alert("Transaction failed: "+A)}finally{g(!1)}};return s?e.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm transition-opacity duration-300 animate-in fade-in",onClick:t}),e.jsxs("div",{className:`absolute inset-y-0 right-0 w-full max-w-[400px] bg-white shadow-2xl flex flex-col transform transition-transform duration-300 ease-in-out ${s?"translate-x-0":"translate-x-full"} animate-in slide-in-from-right`,children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex flex-col gap-4 bg-white sticky top-0 z-10 font-sans",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:a?.name}),e.jsx("p",{className:"text-xs font-semibold text-gray-400 uppercase tracking-widest",children:a?.id})]}),e.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition-all",children:e.jsx(Yr,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>u("credit"),className:`flex-1 py-2 px-4 rounded-xl text-xs font-bold transition-all duration-300 shadow-sm ${c==="credit"?"bg-green-600 text-white shadow-green-100":"bg-green-50 text-green-700 hover:bg-green-600 hover:text-white"}`,children:"Add Credit"}),e.jsx("button",{onClick:()=>u("debit"),className:`flex-1 py-2 px-4 rounded-xl text-xs font-bold transition-all duration-300 shadow-sm ${c==="debit"?"bg-red-600 text-white shadow-red-100":"bg-red-50 text-red-700 hover:bg-red-600 hover:text-white"}`,children:"Deduct"})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[e.jsxs("div",{className:"bg-indigo-600 rounded-2xl p-6 text-white shadow-lg shadow-indigo-100",children:[e.jsx("p",{className:"text-indigo-100 text-sm font-medium",children:"Current Balance"}),e.jsx("h3",{className:"text-3xl font-bold mt-1",children:Number(o.balance)<0?`-$${Math.abs(Number(o.balance)).toFixed(2)}`:`$${Number(o.balance).toFixed(2)}`}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-6",children:[e.jsxs("div",{className:"bg-white/10 p-3 rounded-xl backdrop-blur-sm",children:[e.jsx("p",{className:"text-indigo-100 text-[10px] font-bold uppercase tracking-wider",children:"Total Credit"}),e.jsxs("p",{className:"text-base font-bold text-white",children:["$",(o.transactions||[]).filter(C=>C.type==="Credit").reduce((C,N)=>C+Number(N.amount),0).toFixed(2)]})]}),e.jsxs("div",{className:"bg-white/10 p-3 rounded-xl backdrop-blur-sm",children:[e.jsx("p",{className:"text-indigo-100 text-[10px] font-bold uppercase tracking-wider",children:"Total Debit"}),e.jsxs("p",{className:"text-base font-bold text-white",children:["$",(o.transactions||[]).filter(C=>C.type==="Debit").reduce((C,N)=>C+Number(N.amount),0).toFixed(2)]})]})]})]}),c&&e.jsx("div",{className:"animate-slide-up",children:e.jsxs("div",{className:`saas-card border-2 ${c==="credit"?"border-green-100":"border-red-100"}`,children:[e.jsx("h4",{className:`text-sm font-bold mb-4 ${c==="credit"?"text-green-700":"text-red-700"}`,children:c==="credit"?"Add Credit Amount":"Deduct Amount"}),e.jsxs("form",{onSubmit:v,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest block mb-1",children:"Amount"}),e.jsx("input",{type:"number",required:!0,className:"saas-input",placeholder:"Enter amount...",value:x,onChange:C=>h(C.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest block mb-1",children:"Description"}),e.jsx("input",{type:"text",required:!0,className:"saas-input",placeholder:"Reason for transaction...",value:p,onChange:C=>f(C.target.value)})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsx("button",{type:"button",onClick:()=>u(null),className:"flex-1 py-2 text-sm font-bold text-gray-500 hover:bg-gray-100 rounded-xl transition-all",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:y,className:`flex-1 flex items-center justify-center gap-2 py-2 text-sm font-bold text-white rounded-xl transition-all shadow-md ${y?"opacity-70 cursor-not-allowed":""} ${c==="credit"?"bg-green-600 hover:bg-green-700 shadow-green-100":"bg-red-600 hover:bg-red-700 shadow-red-100"}`,children:y?e.jsx(dl,{className:"w-4 h-4 animate-spin"}):"Confirm"})]})]})]})}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-bold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-4 bg-indigo-600 rounded-full"}),"Recent Transactions"]}),e.jsx("div",{className:"saas-card p-0 overflow-hidden border border-gray-100 shadow-none",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-50/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-500",children:"Date/Type"}),e.jsx("th",{className:"px-4 py-3 text-right font-semibold text-gray-500",children:"Amount"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-50",children:o.transactions.map(C=>e.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors group",children:[e.jsxs("td",{className:"px-4 py-3",children:[e.jsx("div",{className:"text-gray-900 font-medium",children:C.date}),e.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[e.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${C.type==="Credit"?"bg-green-500":"bg-red-500"}`}),e.jsx("span",{className:`text-[10px] font-bold uppercase ${C.type==="Credit"?"text-green-600":"text-red-600"}`,children:C.type}),e.jsxs("span",{className:"text-gray-400 font-medium text-[10px] truncate max-w-[150px] inline-block",children:[" ",C.description]})]})]}),e.jsxs("td",{className:"px-4 py-3 text-right font-bold text-gray-900",children:[C.type==="Credit"?"+":"-","$",Number(C.amount).toFixed(2)]})]},C.id))})]})})})]})]}),e.jsx("div",{className:"p-6 border-t border-gray-100 bg-gray-50/30",children:e.jsx("button",{onClick:t,className:"w-full py-3 bg-gray-900 text-white rounded-xl font-bold hover:bg-gray-800 transition-all shadow-lg hover:shadow-xl active:scale-[0.98]",children:"Done"})})]})]}):null},Ty=({role:s=it.SUPER_ADMIN})=>{const[t,a]=b.useState(""),[l,i]=b.useState(null),[o,c]=b.useState(!1),[u,x]=b.useState(!0),[h,p]=b.useState([]),[f,y]=b.useState({});b.useEffect(()=>{(async()=>{try{x(!0);const O=await yD();p(O);const W=O.reduce((B,z)=>(B[z.id]={balance:Number(z.balance)||0,transactions:z.transactions||[],lastTransaction:z.lastTransaction},B),{});y(W)}catch(O){console.error("Failed to fetch wallets:",O)}finally{x(!1)}})()},[]);const[g,v]=b.useState(1),C=5;b.useEffect(()=>{v(1)},[t]);const N=T=>{i(T),c(!0)},k=h.filter(T=>T.name.toLowerCase().includes(t.toLowerCase())||T.id.toString().toLowerCase().includes(t.toLowerCase())||T.branch.toLowerCase().includes(t.toLowerCase())),A=g*C,E=A-C,w=k.slice(E,A),R=Math.ceil(k.length/C);return e.jsxs("div",{className:"p-6 w-full animate-slide-up relative overflow-hidden",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"Benefit Wallet Management"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Manage member wallet balances and transactions"})]}),e.jsx("div",{className:"saas-card mb-6",children:e.jsxs("div",{className:"relative w-full md:w-96 group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(st,{className:"h-5 w-5 text-gray-400 group-focus-within:text-indigo-500 transition-colors"})}),e.jsx("input",{type:"text",className:"saas-input pl-10 transition-all duration-300 focus:scale-[1.02] focus:shadow-lg",placeholder:"Search members, IDs or branches...",value:t,onChange:T=>a(T.target.value)})]})}),e.jsx("div",{className:"hidden md:block saas-card p-0 overflow-hidden shadow-soft rounded-xl mb-6",children:e.jsx("div",{className:"saas-table-wrapper overflow-x-auto",children:e.jsxs("table",{className:"saas-table saas-table-responsive w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Member Name"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Member ID"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Branch"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Current Balance"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Last Transaction"}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Action"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:w.length>0?w.map(T=>{const O=f[T.id]||{balance:0,lastTransaction:"N/A"};return e.jsxs("tr",{className:"hover:bg-indigo-50/30 transition-all duration-300 group",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap","data-label":"Member Name",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:T.name})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap","data-label":"Member ID",children:e.jsx("div",{className:"text-sm text-gray-500",children:T.id})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap","data-label":"Branch",children:e.jsx("div",{className:"text-sm text-gray-500",children:T.branch})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap","data-label":"Current Balance",children:e.jsx("span",{className:`text-sm font-bold ${Number(O.balance)>0?"text-green-600":Number(O.balance)<0?"text-red-100":"text-gray-900"}`,children:Number(O.balance)<0?`-$${Math.abs(Number(O.balance)).toFixed(2)}`:`$${Number(O.balance).toFixed(2)}`})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap","data-label":"Last Transaction",children:e.jsx("div",{className:"text-sm text-gray-500",children:O.lastTransaction})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right","data-label":"Action",children:e.jsxs("button",{onClick:()=>N(T),className:"inline-flex items-center gap-2 px-3 py-1.5 text-sm font-medium text-indigo-600 bg-indigo-50 rounded-lg hover:bg-indigo-100 transition-all duration-300",children:[e.jsx(qs,{className:"w-4 h-4"}),"View Wallet"]})})]},T.id)}):e.jsx("tr",{children:e.jsxs("td",{colSpan:"6",className:"px-6 py-10 text-center text-gray-500 font-medium",children:['No members found matching "',t,'"']})})})]})})}),e.jsx("div",{className:"grid grid-cols-1 gap-4 md:hidden mb-6",children:w.length>0?w.map(T=>{const O=f[T.id]||{balance:0,lastTransaction:"N/A"};return e.jsx(Ya,{title:T.name,subtitle:T.id,badge:{label:Number(O.balance)<0?`-$${Math.abs(Number(O.balance)).toFixed(2)}`:`$${Number(O.balance).toFixed(2)}`,color:Number(O.balance)>0?"emerald":Number(O.balance)<0?"red":"slate"},fields:[{label:"Branch",value:T.branch,icon:Ws},{label:"Last Trans.",value:O.lastTransaction,icon:wl}],actions:[{label:"View Wallet",icon:qs,variant:"primary",onClick:()=>N(T)}]},T.id)}):e.jsxs("div",{className:"bg-white p-10 text-center text-gray-500 rounded-xl shadow-sm border border-gray-100",children:['No members found matching "',t,'"']})}),k.length>C&&e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white border border-gray-100 rounded-xl shadow-sm",children:[e.jsxs("div",{className:"flex flex-1 justify-between sm:hidden",children:[e.jsx("button",{onClick:()=>v(T=>Math.max(T-1,1)),disabled:g===1,className:`relative inline-flex items-center rounded-md px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 ${g===1?"opacity-50 cursor-not-allowed":""}`,children:"Previous"}),e.jsx("button",{onClick:()=>v(T=>Math.min(T+1,R)),disabled:g===R,className:`relative ml-3 inline-flex items-center rounded-md px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 ${g===R?"opacity-50 cursor-not-allowed":""}`,children:"Next"})]}),e.jsxs("div",{className:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",e.jsx("span",{className:"font-semibold",children:E+1})," to ",e.jsx("span",{className:"font-semibold",children:Math.min(A,k.length)})," of"," ",e.jsx("span",{className:"font-semibold",children:k.length})," results"]})}),e.jsx("div",{children:e.jsxs("nav",{className:"isolate inline-flex -space-x-px rounded-md shadow-xs","aria-label":"Pagination",children:[e.jsxs("button",{onClick:()=>v(T=>Math.max(T-1,1)),disabled:g===1,className:`relative inline-flex items-center rounded-l-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 ${g===1?"opacity-50 cursor-not-allowed":""}`,children:[e.jsx("span",{className:"sr-only",children:"Previous"}),e.jsx(Xr,{className:"h-5 w-5","aria-hidden":"true"})]}),[...Array(R)].map((T,O)=>e.jsx("button",{onClick:()=>v(O+1),className:`relative inline-flex items-center px-4 py-2 text-sm font-semibold focus:z-20 transition-all ${g===O+1?"z-10 bg-indigo-600 text-white focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600":"text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:outline-offset-0"}`,children:O+1},O+1)),e.jsxs("button",{onClick:()=>v(T=>Math.min(T+1,R)),disabled:g===R,className:`relative inline-flex items-center rounded-r-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 ${g===R?"opacity-50 cursor-not-allowed":""}`,children:[e.jsx("span",{className:"sr-only",children:"Next"}),e.jsx(bs,{className:"h-5 w-5","aria-hidden":"true"})]})]})})]})]}),e.jsx(BE,{isOpen:o,onClose:()=>c(!1),memberData:l,walletData:f,setWalletData:y})]})},RN=async s=>(await ve.post("/admin/staff",s)).data,ON=async()=>(await ve.get("/admin/staff")).data,UE=async s=>(await ve.get(`/admin/staff/${s}`)).data,$E=async s=>(await ve.post("/admin/payroll",s)).data,FN=async()=>(await ve.get("/admin/payroll/staff")).data,IN=async()=>(await ve.get("/admin/payroll/history")).data,qE=async(s,t)=>(await ve.patch(`/admin/payroll/${s}/status`,t)).data,HE=async()=>(await ve.get("/admin/leave-requests")).data,WE=async(s,t)=>(await ve.patch(`/admin/leave-requests/${s}/status`,{status:t})).data,ob=async()=>(await ve.get("/admin/settings/tenant")).data,cb=async s=>(await ve.patch("/admin/settings/tenant",s)).data,GE=async()=>(await ve.get("/admin/requests/trainers")).data,_y=async(s,t)=>(await ve.patch(`/admin/requests/trainers/${s}`,{status:t})).data,BN=async(s,t)=>(await ve.patch(`/admin/staff/${s}`,t)).data,VE=async s=>(await ve.delete(`/admin/staff/${s}`)).data,YE=({role:s})=>{const[t,a]=b.useState([]),[l,i]=b.useState(!0),[o,c]=b.useState(""),[u,x]=b.useState("All"),[h,p]=b.useState(!1),[f,y]=b.useState(null),[g,v]=b.useState(!1),[C,N]=b.useState({name:"",email:"",phone:"",branch:"",role:"",baseSalary:"",commission:"",status:"Pending",documents:null}),[k,A]=b.useState(!1),E=async()=>{try{i(!0);const $=s==="SUPER_ADMIN"?await wD():await GE();a($)}catch($){console.error("Failed to load trainer requests:",$)}finally{i(!1)}};b.useEffect(()=>{E()},[]);const w=t.find($=>$.id===f),R=async $=>{try{s==="SUPER_ADMIN"?await by($,"Approved"):await _y($,"Approved"),E()}catch(le){console.error("Failed to approve trainer:",le)}},T=async $=>{try{s==="SUPER_ADMIN"?await by($,"Rejected"):await _y($,"Rejected"),E()}catch(le){console.error("Failed to reject trainer:",le)}},O=async $=>{if($.preventDefault(),!(!C.name||!C.email||!C.phone||!C.branch))try{const le={...C,role:"TRAINER",trainerConfig:{specialization:C.role,commissionType:"percentage",commissionValue:C.commission}};f?(s==="SUPER_ADMIN"?await vD(f,le):await BN(f,le),E()):(s==="SUPER_ADMIN"?await bD(le):await RN(le),E()),G()}catch(le){console.error("Failed to save trainer:",le),alert("Failed to save trainer: "+(le.response?.data?.message||le.message))}},W=async $=>{const le=$.target.files[0];if(le){A(!0);try{const ge=new FormData;ge.append("file",le),ge.append("upload_preset","gym_preset"),ge.append("cloud_name","dw48hcxi5");const q=await(await fetch("https://api.cloudinary.com/v1_1/dw48hcxi5/image/upload",{method:"POST",body:ge})).json();q.secure_url?N(Q=>({...Q,documents:q.secure_url})):alert("Upload failed: "+q.error?.message)}catch(ge){console.error("Upload error:",ge),alert("Error uploading file.")}finally{A(!1)}}},B=async $=>{if(window.confirm("Are you sure you want to delete this trainer application?"))try{s==="SUPER_ADMIN"?await nN($):await VE($),E()}catch(le){console.error("Failed to delete trainer:",le),alert("Failed to delete: "+(le.response?.data?.message||le.message))}},z=$=>{y($.id),p(!0)},P=()=>{p(!1),setTimeout(()=>y(null),300)},F=($=null)=>{$?(y($.id),N({name:$.name,email:$.email,phone:$.phone,branch:$.branch,role:$.role||"",baseSalary:$.baseSalary||"",commission:$.commission||"",status:$.status})):(y(null),N({name:"",email:"",phone:"",branch:"",role:"",baseSalary:"",commission:"",status:"Pending"})),v(!0)},G=()=>{v(!1),setTimeout(()=>{y(null),N({name:"",email:"",phone:"",branch:"",role:"",baseSalary:"",commission:"",status:"Pending"})},300)},Y=JSON.parse(localStorage.getItem("user"))||{},me=Y.tenantName||Y.branchName||"Downtown Center",H=t.filter($=>{const le=$.name.toLowerCase().includes(o.toLowerCase()),ge=u==="All"||$.status===u,q=s==="SUPER_ADMIN"||s==="BRANCH_ADMIN"||$.branch===me;return le&&ge&&q}),V=$=>{switch($){case"Approved":return"bg-green-50 text-green-700 ring-1 ring-inset ring-green-600/20";case"Rejected":return"bg-red-50 text-red-700 ring-1 ring-inset ring-red-600/20";default:return"bg-yellow-50 text-yellow-700 ring-1 ring-inset ring-yellow-600/20"}};return e.jsxs("div",{className:"p-6 w-full animate-slide-up relative overflow-hidden",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"Trainer Requests"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Review and manage new trainer applications across all branches"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 flex-1 max-w-2xl",children:[e.jsxs("div",{className:"relative flex-1 group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(st,{className:"h-5 w-5 text-gray-400 group-focus-within:text-indigo-500 transition-colors"})}),e.jsx("input",{type:"text",placeholder:"Search by trainer name...",className:"saas-input pl-10 transition-all duration-300 focus:scale-[1.01] focus:shadow-md h-11",value:o,onChange:$=>c($.target.value)})]}),e.jsxs("div",{className:"relative w-full sm:w-48 group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(ks,{className:"h-4 w-4 text-gray-400 group-focus-within:text-indigo-500"})}),e.jsxs("select",{className:"saas-input pl-10 bg-white cursor-pointer h-11",value:u,onChange:$=>x($.target.value),children:[e.jsx("option",{value:"All",children:"All Statuses"}),e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"Approved",children:"Approved"}),e.jsx("option",{value:"Rejected",children:"Rejected"})]})]})]}),e.jsxs("button",{onClick:F,className:"flex items-center justify-center gap-2 px-5 py-2.5 bg-indigo-600 text-white rounded-lg font-semibold hover:bg-indigo-700 transition-all duration-300 shadow-lg shadow-indigo-200 active:scale-95 h-11",children:[e.jsx(wt,{className:"w-5 h-5"}),e.jsx("span",{children:"Add Trainer"})]})]}),e.jsx("div",{className:"hidden md:block saas-card p-0 overflow-hidden shadow-soft rounded-xl mb-6",children:e.jsx("div",{className:"saas-table-wrapper overflow-x-auto",children:e.jsxs("table",{className:"saas-table saas-table-responsive w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Trainer Name"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Contact Info"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Requested Branch"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Action"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:H.length>0?H.map($=>e.jsxs("tr",{className:"hover:bg-indigo-50/20 transition-all duration-300 group",children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap","data-label":"Trainer Name",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-900",children:$.name}),e.jsxs("div",{className:"text-xs text-gray-400",children:["ID: TRN-",$.id.toString().padStart(3,"0")]})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap","data-label":"Contact Info",children:[e.jsx("div",{className:"text-sm text-gray-600",children:$.email}),e.jsx("div",{className:"text-xs text-gray-400",children:$.phone})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap","data-label":"Requested Branch",children:e.jsx("div",{className:"text-sm text-gray-600",children:$.branch})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap","data-label":"Status",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${V($.status)}`,children:$.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center","data-label":"Action",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:()=>R($.id),disabled:$.status!=="Pending",title:$.status==="Pending"?"Approve":`Already ${$.status}`,className:`p-1.5 text-green-600 bg-green-50 rounded-lg transition-colors ${$.status!=="Pending"?"opacity-40 cursor-not-allowed":"hover:bg-green-100"}`,children:e.jsx(Qt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>T($.id),disabled:$.status!=="Pending",title:$.status==="Pending"?"Reject":`Already ${$.status}`,className:`p-1.5 text-red-600 bg-red-50 rounded-lg transition-colors ${$.status!=="Pending"?"opacity-40 cursor-not-allowed":"hover:bg-red-100"}`,children:e.jsx(Vl,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>z($),title:"View Details",className:"p-1.5 text-indigo-600 bg-indigo-50 rounded-lg hover:bg-indigo-100 transition-colors",children:e.jsx(qs,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>F($),title:"Edit Trainer",className:"p-1.5 text-amber-600 bg-amber-50 rounded-lg hover:bg-amber-100 transition-colors",children:e.jsx(Ra,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>B($.id),title:"Delete",className:"p-1.5 text-rose-600 bg-rose-50 rounded-lg hover:bg-rose-100 transition-colors",children:e.jsx(xs,{className:"w-4 h-4"})})]})})]},$.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-12 text-center text-gray-500",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("div",{className:"p-3 bg-gray-50 rounded-full",children:e.jsx(st,{className:"w-6 h-6 text-gray-400"})}),e.jsxs("p",{className:"font-medium",children:['No results found matching "',o,'"']}),e.jsx("p",{className:"text-sm text-gray-400",children:"Try adjusting your search or filters to find what you're looking for."})]})})})})]})})}),e.jsx("div",{className:"grid grid-cols-1 gap-4 md:hidden mb-6",children:H.length>0?H.map($=>e.jsx(Ya,{title:$.name,subtitle:`ID: TRN-${$.id.toString().padStart(3,"0")}`,badge:{label:$.status,color:$.status==="Approved"?"emerald":$.status==="Rejected"?"red":"amber"},fields:[{label:"Branch",value:$.branch,icon:zr},{label:"Email",value:$.email,icon:_r},{label:"Phone",value:$.phone,icon:ja}],actions:[{label:"View Details",icon:qs,variant:"secondary",onClick:()=>z($)},{label:"Edit",icon:Ra,variant:"secondary",onClick:()=>F($)},{label:"Delete",icon:xs,variant:"danger",onClick:()=>B($.id)},...$.status==="Pending"?[{label:"Approve",icon:Qt,variant:"primary",onClick:()=>R($.id)},{label:"Reject",icon:Vl,variant:"danger",onClick:()=>T($.id)}]:[]]},$.id)):e.jsxs("div",{className:"bg-white p-10 text-center text-gray-500 rounded-xl shadow-sm border border-gray-100",children:['No results found matching "',o,'"']})}),e.jsx("div",{className:"flex items-center justify-between px-4 py-3 bg-white border border-gray-100 rounded-xl shadow-sm",children:e.jsxs("div",{className:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",e.jsx("span",{className:"font-semibold",children:"1"})," to ",e.jsx("span",{className:"font-semibold",children:H.length})," of"," ",e.jsx("span",{className:"font-semibold",children:H.length})," results"]})}),e.jsx("div",{children:e.jsxs("nav",{className:"isolate inline-flex -space-x-px rounded-md shadow-xs",children:[e.jsx("button",{className:"relative inline-flex items-center rounded-l-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 opacity-50 cursor-not-allowed",children:e.jsx(Xr,{className:"h-5 w-5"})}),e.jsx("button",{className:"relative z-10 inline-flex items-center bg-indigo-600 px-4 py-2 text-sm font-semibold text-white",children:"1"}),e.jsx("button",{className:"relative inline-flex items-center rounded-r-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 opacity-50 cursor-not-allowed",children:e.jsx(bs,{className:"h-5 w-5"})})]})})]})}),e.jsx(rt,{isOpen:h,onClose:P,title:"Trainer Profile",subtitle:w?`ID: TRN-${w.id.toString().padStart(3,"0")}`:"",children:w&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-extrabold text-gray-900 leading-tight",children:w.name}),e.jsx("div",{className:"mt-4",children:e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold shadow-sm ${V(w.status)}`,children:w.status})})]}),e.jsx("hr",{className:"border-gray-100"}),e.jsxs("div",{className:"grid grid-cols-1 gap-y-6",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-2.5 bg-gray-50 rounded-xl",children:e.jsx(ks,{className:"w-5 h-5 text-gray-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-1",children:"Contract Status"}),e.jsx("p",{className:"text-gray-900 font-medium",children:"New Application"})]})]}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-2.5 bg-gray-50 rounded-xl",children:e.jsx(_r,{className:"w-5 h-5 text-gray-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-1",children:"Contact Email"}),e.jsx("p",{className:"text-gray-900 font-medium",children:w.email})]})]}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-2.5 bg-gray-50 rounded-xl",children:e.jsx(ja,{className:"w-5 h-5 text-gray-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-1",children:"Phone Number"}),e.jsx("p",{className:"text-gray-900 font-medium",children:w.phone})]})]}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-2.5 bg-gray-50 rounded-xl",children:e.jsx(zr,{className:"w-5 h-5 text-gray-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-1",children:"Requested Branch"}),e.jsx("p",{className:"text-gray-900 font-medium",children:w.branch})]})]})]}),e.jsxs("div",{className:"pt-10 space-y-3",children:[e.jsxs("button",{onClick:()=>R(w.id),disabled:w.status!=="Pending",className:`w-full flex items-center justify-center gap-2 py-4 rounded-xl font-bold transition-all duration-300 shadow-lg ${w.status==="Pending"?"bg-green-600 text-white hover:bg-green-700 shadow-green-100 hover:scale-[1.02] active:scale-95":"bg-gray-100 text-gray-400 cursor-not-allowed shadow-none"}`,children:[e.jsx(Qt,{className:"w-5 h-5"}),e.jsx("span",{children:"Approve Request"})]}),e.jsxs("button",{onClick:()=>T(w.id),disabled:w.status!=="Pending",className:`w-full flex items-center justify-center gap-2 py-4 rounded-xl font-bold transition-all duration-300 shadow-lg ${w.status==="Pending"?"bg-red-50 text-red-600 border border-red-100 hover:bg-red-100 shadow-red-50 hover:scale-[1.02] active:scale-95":"bg-gray-50 text-gray-300 cursor-not-allowed border-none shadow-none"}`,children:[e.jsx(Vl,{className:"w-5 h-5"}),e.jsx("span",{children:"Reject Request"})]})]})]})}),e.jsx(rt,{isOpen:g,onClose:G,title:f?"Edit Trainer":"Add New Trainer",children:e.jsxs("form",{onSubmit:O,className:"flex flex-col gap-6 p-6 pt-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-black text-indigo-600 uppercase tracking-widest mb-1",children:f?"Edit Configuration":"New Registration"}),e.jsx("p",{className:"text-xs text-gray-400 font-medium",children:"Please provide accurate trainer information"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"Trainer Name *"}),e.jsx("input",{required:!0,type:"text",className:"saas-input w-full",placeholder:"Enter full name",value:C.name||"",onChange:$=>N({...C,name:$.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"Specialization / Role *"}),e.jsx("input",{required:!0,type:"text",className:"saas-input w-full",placeholder:"e.g. Senior PT, Yoga Expert",value:C.role||"",onChange:$=>N({...C,role:$.target.value})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"Email Address *"}),e.jsx("input",{required:!0,type:"email",className:"saas-input w-full",placeholder:"example@gym.com",value:C.email||"",onChange:$=>N({...C,email:$.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"Phone Number *"}),e.jsx("input",{required:!0,type:"tel",className:"saas-input w-full",placeholder:"+1 234-567-8900",value:C.phone||"",onChange:$=>N({...C,phone:$.target.value})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"Base Salary *"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 font-bold text-gray-400",children:""}),e.jsx("input",{required:!0,type:"number",className:"saas-input w-full pl-8",placeholder:"25000",value:C.baseSalary||"",onChange:$=>N({...C,baseSalary:$.target.value})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"Commission % (PT Sharing) *"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute right-10 top-1/2 -translate-y-1/2 font-bold text-gray-400",children:"%"}),e.jsx("input",{required:!0,type:"number",className:"saas-input w-full pr-12",placeholder:"20",value:C.commission||"",onChange:$=>N({...C,commission:$.target.value})})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"Requested Branch *"}),e.jsxs("select",{required:!0,className:"saas-input w-full bg-white cursor-pointer",value:C.branch||"",onChange:$=>N({...C,branch:$.target.value}),children:[e.jsx("option",{value:"",children:"Select Branch"}),e.jsx("option",{value:"Downtown Center",children:"Downtown Center"}),e.jsx("option",{value:"Westside Gym",children:"Westside Gym"}),e.jsx("option",{value:"Eastside Fitness",children:"Eastside Fitness"}),e.jsx("option",{value:"North Point",children:"North Point"}),e.jsx("option",{value:"South Bay",children:"South Bay"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"Upload Government ID / Documents *"}),e.jsx("div",{className:"flex items-center justify-center w-full",children:e.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-xl cursor-pointer bg-gray-50 hover:bg-gray-100 transition-all",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[e.jsx(wt,{className:"w-8 h-8 mb-3 text-gray-400"}),k?e.jsx("p",{className:"mb-2 text-sm text-gray-500 font-semibold",children:"Uploading..."}):C.documents?e.jsx("p",{className:"mb-2 text-sm text-green-600 font-semibold",children:"Document Uploaded Successfully"}):e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[e.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),e.jsx("p",{className:"text-xs text-gray-400",children:"PDF, PNG, JPG (MAX. 5MB)"})]})]}),e.jsx("input",{type:"file",className:"hidden",onChange:W,accept:"image/*,.pdf",disabled:k})]})})]}),f&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"Registration Status *"}),e.jsxs("select",{required:!0,className:"saas-input w-full bg-white cursor-pointer",value:C.status,onChange:$=>N({...C,status:$.target.value}),children:[e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"Approved",children:"Approved"}),e.jsx("option",{value:"Rejected",children:"Rejected"})]})]}),e.jsxs("div",{className:"pt-8 space-y-3",children:[e.jsxs("button",{type:"submit",className:"w-full flex items-center justify-center gap-2 py-4 bg-indigo-600 text-white rounded-xl font-bold transition-all duration-300 shadow-lg shadow-indigo-100 hover:bg-indigo-700 hover:scale-[1.02] active:scale-95",children:[f?e.jsx(Ra,{className:"w-5 h-5"}):e.jsx(wt,{className:"w-5 h-5"}),e.jsx("span",{children:f?"Save Changes":"Add Trainer"})]}),e.jsx("button",{type:"button",onClick:G,className:"w-full py-4 bg-gray-50 text-gray-600 rounded-xl font-bold transition-all duration-300 hover:bg-gray-100",children:"Cancel"})]})]})})]})},Py=({role:s})=>{const t="Downtown Center",[a,l]=b.useState([]),[i,o]=b.useState(!0),[c,u]=b.useState(""),[x,h]=b.useState("All"),[p,f]=b.useState(1),[y,g]=b.useState(null),[v,C]=b.useState(!1),N=5;b.useEffect(()=>{(async()=>{try{const W=await ND();l(W)}catch(W){console.error("Failed to fetch trainer change requests",W)}finally{o(!1)}})()},[]);const k=a.filter(O=>{const W=O.memberName.toLowerCase().includes(c.toLowerCase())||O.memberId.toLowerCase().includes(c.toLowerCase()),B=x==="All"||O.status===x,P=s==="SUPER_ADMIN"||s==="BRANCH_ADMIN"||O.branch===t;return W&&B&&P}),A=Math.ceil(k.length/N),E=k.slice((p-1)*N,p*N),w=(O,W)=>{l(B=>B.map(z=>z.id===O?{...z,status:W}:z)),console.log(`Request ${O} status updated to ${W}`)},R=O=>{g(O),C(!0)},T=O=>{switch(O){case"Approved":return"bg-green-50 text-green-600 border-green-100";case"Rejected":return"bg-rose-50 text-rose-600 border-rose-100";default:return"bg-amber-50 text-amber-600 border-amber-100"}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-6 md:p-8",children:[e.jsx("div",{className:"mb-8 flex flex-col md:flex-row md:items-center justify-between gap-4",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Trainer Change Requests"}),e.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Review and manage member requests for trainer reassignment"})]})}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 mb-6",children:[e.jsxs("div",{className:"p-4 sm:p-6 border-b border-slate-100 flex flex-col md:flex-row gap-4 items-center justify-between",children:[e.jsxs("div",{className:"relative w-full md:w-96 group",children:[e.jsx(st,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 transition-colors group-hover:text-violet-500",size:18}),e.jsx("input",{type:"text",className:"pl-11 h-11 w-full rounded-xl border-2 border-slate-200 focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 transition-all text-sm",placeholder:"Search by member name or ID...",value:c,onChange:O=>u(O.target.value)})]}),e.jsx("div",{className:"w-full md:w-48",children:e.jsx(ds,{options:["All","Pending","Approved","Rejected"],value:x,onChange:h,placeholder:"All Status",icon:ks})})]}),e.jsx("div",{className:"saas-table-wrapper hidden md:block",children:e.jsxs("table",{className:"saas-table w-full",children:[e.jsx("thead",{className:"bg-slate-50/50 border-b border-slate-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Member"}),e.jsx("th",{className:"px-6 py-4 text-left text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Requested Change"}),e.jsx("th",{className:"px-6 py-4 text-left text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-6 py-4 text-left text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-right text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-slate-100 text-sm",children:E.length>0?E.map(O=>e.jsxs("tr",{className:"group hover:bg-slate-50/50 transition-all",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-violet-100 text-violet-600 flex items-center justify-center font-bold text-xs uppercase shadow-sm",children:O.memberName.charAt(0)}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-slate-900 group-hover:text-violet-600 transition-colors",children:O.memberName}),e.jsx("div",{className:"text-[10px] font-mono text-slate-400 tracking-tight",children:O.memberId})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsx("span",{className:"text-slate-400",children:"From:"}),e.jsx("span",{className:"font-medium text-slate-700",children:O.currentTrainer})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsx("span",{className:"text-slate-400",children:"To:"}),e.jsx("span",{className:"font-bold text-violet-600",children:O.newTrainer})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2 text-slate-500",children:[e.jsx(Xe,{size:14,className:"text-slate-300"}),e.jsx("span",{className:"text-xs font-medium",children:O.date})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-[10px] font-extrabold uppercase tracking-widest border border-dashed ${T(O.status)} shadow-sm`,children:O.status})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[O.status==="Pending"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>w(O.id,"Approved"),className:"w-8 h-8 flex items-center justify-center text-green-500 hover:bg-green-50 rounded-lg transition-all",title:"Approve",children:e.jsx(Qt,{size:18})}),e.jsx("button",{onClick:()=>w(O.id,"Rejected"),className:"w-8 h-8 flex items-center justify-center text-rose-500 hover:bg-rose-50 rounded-lg transition-all",title:"Reject",children:e.jsx(Vl,{size:18})})]}),e.jsx("button",{onClick:()=>R(O),className:"w-8 h-8 flex items-center justify-center text-slate-400 hover:text-violet-600 hover:bg-violet-50 rounded-lg transition-all",children:e.jsx(qs,{size:18})})]})})]},O.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-12 text-center text-slate-400",children:"No requests found matching your filters."})})})]})}),e.jsx("div",{className:"md:hidden space-y-4 p-4",children:E.length>0?E.map(O=>e.jsx(Ya,{title:O.memberName,subtitle:O.memberId,status:O.status,statusColor:O.status==="Approved"?"emerald":O.status==="Rejected"?"rose":"amber",icon:lt,iconColor:"bg-violet-100 text-violet-600",fields:[{label:"Current Trainer",value:O.currentTrainer},{label:"Requested Trainer",value:O.newTrainer,highlight:!0},{label:"Date",value:O.date},{label:"Reason",value:O.reason}],actions:[{label:"View",icon:qs,onClick:()=>R(O),variant:"secondary"},...O.status==="Pending"?[{label:"Approve",icon:Qt,onClick:()=>w(O.id,"Approved"),variant:"primary",className:"bg-green-600 hover:bg-green-700 text-white"},{label:"Reject",icon:Vl,onClick:()=>w(O.id,"Rejected"),variant:"danger",className:"bg-rose-100 text-rose-600 hover:bg-rose-200"}]:[]]},O.id)):e.jsx("div",{className:"text-center py-12 text-slate-400",children:e.jsx("p",{children:"No requests found."})})}),A>1&&e.jsxs("div",{className:"px-6 py-4 border-t border-slate-100 flex items-center justify-between bg-slate-50/20",children:[e.jsxs("p",{className:"text-xs text-slate-500",children:["Showing ",e.jsx("span",{className:"font-bold text-slate-900",children:(p-1)*N+1})," to ",e.jsx("span",{className:"font-bold text-slate-900",children:Math.min(p*N,k.length)})," of ",e.jsx("span",{className:"font-bold text-slate-900",children:k.length})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{disabled:p===1,onClick:()=>f(O=>O-1),className:"p-2 border border-slate-200 rounded-lg hover:bg-white disabled:opacity-40 transition-all text-slate-500 shadow-sm",children:e.jsx(Xr,{size:16})}),e.jsx("button",{disabled:p===A,onClick:()=>f(O=>O+1),className:"p-2 border border-slate-200 rounded-lg hover:bg-white disabled:opacity-40 transition-all text-slate-500 shadow-sm",children:e.jsx(bs,{size:16})})]})]})]}),e.jsx(rt,{isOpen:v,onClose:()=>C(!1),title:"Request Details",subtitle:y?.memberId,children:y&&e.jsxs("div",{className:"space-y-8 fade-in",children:[e.jsxs("div",{className:`p-4 rounded-2xl border-2 border-dashed flex items-center justify-between ${T(y.status)}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-2 h-2 rounded-full animate-pulse ${y.status==="Approved"?"bg-green-500":y.status==="Rejected"?"bg-rose-500":"bg-amber-500"}`}),e.jsx("span",{className:"text-xs font-black uppercase tracking-[0.2em]",children:y.status})]}),e.jsx("span",{className:"text-[10px] font-bold opacity-60 uppercase",children:y.date})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"Current Trainer"}),e.jsx("p",{className:"font-bold text-slate-700",children:y.currentTrainer})]}),e.jsxs("div",{className:"p-4 bg-violet-50 rounded-2xl border border-violet-100",children:[e.jsx("p",{className:"text-[10px] font-black text-violet-400 uppercase tracking-widest mb-2",children:"Requested Trainer"}),e.jsx("p",{className:"font-black text-violet-600",children:y.newTrainer})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4 text-slate-400",children:[e.jsx(sr,{size:16}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Member Reason"})]}),e.jsxs("p",{className:"text-sm font-medium text-slate-600 leading-relaxed italic",children:['"',y.reason,'"']})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-xl",children:[e.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Branch"}),e.jsx("span",{className:"text-xs font-bold text-slate-700",children:y.branch})]}),y.status==="Pending"&&e.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4",children:[e.jsx("button",{onClick:()=>{w(y.id,"Rejected"),C(!1)},className:"py-4 bg-white border-2 border-slate-100 text-slate-500 rounded-2xl font-black uppercase tracking-widest text-[10px] hover:bg-slate-50 hover:text-rose-500 transition-all",children:"Reject"}),e.jsx("button",{onClick:()=>{w(y.id,"Approved"),C(!1)},className:"py-4 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-2xl font-black uppercase tracking-widest text-[10px] shadow-xl shadow-violet-200 hover:scale-105 transition-all",children:"Approve"})]})]})})]})},Ry=({role:s=it.SUPER_ADMIN})=>{const t=Ht(),[a,l]=b.useState([]),[i,o]=b.useState(!0),[c,u]=b.useState(""),x=new Date,h=["January","February","March","April","May","June","July","August","September","October","November","December"],[p,f]=b.useState(h[x.getMonth()]),y=x.getFullYear(),[g,v]=b.useState(y.toString()),[C,N]=b.useState(0),[k,A]=b.useState(0),[E,w]=b.useState("Pending");b.useEffect(()=>{(async()=>{try{const F=await FN();l(F),console.log("Loaded Staff List:",F)}catch(F){console.error("Error loading staff for payroll:",F)}finally{o(!1)}})()},[]);const R=a.find(P=>P.id===parseInt(c)),O=(()=>{if(!R)return 0;const P=R.baseSalary;return P?Number(P):0})(),W=Number(O)+Number(C)-Number(k),B=async P=>{if(P.preventDefault(),!c){alert("Please select a staff member");return}const F={staffId:c,month:p,year:g,amount:W,status:E,incentives:parseFloat(C||0),deductions:parseFloat(k||0)};try{await $E(F),alert("Payroll created successfully!"),t("/hr/payroll")}catch(G){console.error("Error creating payroll:",G),alert("Failed to create payroll: "+(G.response?.data?.message||G.message))}},z=()=>{t(-1)};return e.jsx("div",{className:"bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6 pb-12 min-h-screen",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-8 p-6 bg-white rounded-2xl shadow-xl border border-slate-100 flex justify-between items-center overflow-hidden relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500/5 to-fuchsia-500/5"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-black bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent mb-1",children:"Create Payroll"}),e.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Assign salary, incentives, deductions, and mark as paid"})]}),e.jsx("div",{className:"hidden sm:flex w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 items-center justify-center text-white shadow-lg shadow-violet-200",children:e.jsx(Fw,{size:28})})]}),e.jsx("div",{className:"bg-white rounded-3xl shadow-2xl border border-slate-100 overflow-hidden relative",children:e.jsxs("form",{onSubmit:B,className:"p-8 space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black uppercase tracking-wider text-slate-400 ml-1",children:"Select Staff"}),e.jsxs("div",{className:"relative group",children:[e.jsx(Pt,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-violet-500 z-10"}),e.jsxs("select",{required:!0,disabled:i,value:c,onChange:P=>u(P.target.value),className:"w-full pl-12 pr-4 py-3.5 bg-slate-50 border-2 border-slate-100 rounded-2xl text-sm font-bold text-slate-700 focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all duration-300 appearance-none cursor-pointer",children:[e.jsx("option",{value:"",children:i?"Loading...":"Choose Employee"}),a.map(P=>e.jsxs("option",{value:P.id,children:[P.name," (",P.role,")"]},P.id))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black uppercase tracking-wider text-slate-400 ml-1",children:"Month"}),e.jsxs("div",{className:"relative group",children:[e.jsx(Xe,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-violet-500 z-10"}),e.jsx("select",{value:p,onChange:P=>f(P.target.value),className:"w-full pl-12 pr-4 py-3.5 bg-slate-50 border-2 border-slate-100 rounded-2xl text-sm font-bold text-slate-700 focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all duration-300 appearance-none cursor-pointer",children:["January","February","March","April","May","June","July","August","September","October","November","December"].map(P=>e.jsx("option",{value:P,children:P},P))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black uppercase tracking-wider text-slate-400 ml-1",children:"Year"}),e.jsxs("div",{className:"relative group",children:[e.jsx(Xe,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-violet-500 z-10"}),e.jsx("select",{value:g,onChange:P=>v(P.target.value),className:"w-full pl-12 pr-4 py-3.5 bg-slate-50 border-2 border-slate-100 rounded-2xl text-sm font-bold text-slate-700 focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all duration-300 appearance-none cursor-pointer",children:[2024,2025,2026,2027].map(P=>e.jsx("option",{value:P.toString(),children:P},P))})]})]})]}),e.jsxs("div",{className:"bg-slate-50 rounded-3xl p-8 border border-slate-100",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(Hs,{className:"text-violet-600",size:20}),e.jsx("h2",{className:"text-sm font-black text-slate-800 tracking-tight uppercase",children:"Salary Calculation"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 ml-1",children:"Base Salary"}),e.jsxs("div",{className:"p-4 bg-white border-2 border-slate-100 rounded-2xl text-lg font-black text-slate-900 shadow-inner",children:["",Number(O).toLocaleString()]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 ml-1",children:"Incentives"}),e.jsxs("div",{className:"relative group",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-emerald-600 font-black",children:"+"}),e.jsx("input",{type:"number",value:C,onChange:P=>N(P.target.value),className:"w-full pl-12 pr-4 py-4 bg-white border-2 border-slate-100 rounded-2xl text-lg font-black text-emerald-600 focus:outline-none focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/10 transition-all duration-300 shadow-sm"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 ml-1",children:"Deductions"}),e.jsxs("div",{className:"relative group",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-red-600 font-black",children:"-"}),e.jsx("input",{type:"number",value:k,onChange:P=>A(P.target.value),className:"w-full pl-12 pr-4 py-4 bg-white border-2 border-slate-100 rounded-2xl text-lg font-black text-red-600 focus:outline-none focus:border-red-500 focus:ring-4 focus:ring-red-500/10 transition-all duration-300 shadow-sm"})]})]})]}),e.jsxs("div",{className:"mt-8 pt-8 border-t border-slate-200 flex flex-col sm:flex-row justify-between items-center gap-6",children:[e.jsxs("div",{className:"flex flex-col items-center sm:items-start",children:[e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 mb-1",children:"Final Net Salary"}),e.jsxs("span",{className:"text-4xl font-black text-violet-600 tracking-tighter shadow-violet-100",children:["",W.toLocaleString()]})]}),e.jsxs("div",{className:"flex items-center gap-4 bg-white p-2 border-2 border-slate-100 rounded-2xl shadow-sm",children:[e.jsxs("button",{type:"button",onClick:()=>w("Paid"),className:`px-6 py-3 rounded-xl text-xs font-black transition-all duration-300 flex items-center gap-2 ${E==="Paid"?"bg-emerald-500 text-white shadow-lg shadow-emerald-200":"text-slate-500 hover:bg-slate-50"}`,children:[e.jsx(Qt,{size:16})," PAID"]}),e.jsxs("button",{type:"button",onClick:()=>w("Pending"),className:`px-6 py-3 rounded-xl text-xs font-black transition-all duration-300 flex items-center gap-2 ${E==="Pending"?"bg-amber-400 text-amber-950 shadow-lg shadow-amber-100":"text-slate-500 hover:bg-slate-50"}`,children:[e.jsx(Ze,{size:16})," PENDING"]})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-4",children:[e.jsxs("button",{type:"submit",className:"flex-1 py-4 bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 text-white rounded-2xl font-black text-lg shadow-xl shadow-violet-200 hover:scale-[1.02] active:scale-95 transition-all duration-300 flex items-center justify-center gap-3",children:[e.jsx(Qt,{size:24})," Confirm & Create Payroll"]}),e.jsxs("button",{type:"button",onClick:z,className:"px-10 py-4 bg-white text-slate-500 border-2 border-slate-100 rounded-2xl font-black text-lg hover:bg-slate-50 transition-all duration-300 flex items-center justify-center gap-3",children:[e.jsx(Vl,{size:24})," Cancel"]})]})]})})]})})},Oy=()=>{const[s,t]=b.useState(""),[a,l]=b.useState(""),[i,o]=b.useState(null),[c,u]=b.useState(!1),[x,h]=b.useState([]),[p,f]=b.useState(!0);b.useEffect(()=>{(async()=>{try{const k=await IN();h(k)}catch(k){console.error("Error loading payroll history:",k)}finally{f(!1)}})()},[]);const y=x.filter(N=>{const k=N.staffName?.toLowerCase().includes(s.toLowerCase()),A=a===""||N.status===a;return k&&A}),g=N=>{o(N),u(!0)},v=()=>{u(!1),setTimeout(()=>o(null),300)},C=["","January","February","March","April","May","June","July","August","September","October","November","December"];return e.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6 pb-12 min-h-screen font-sans",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 relative max-w-7xl mx-auto",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6",children:e.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent mb-1 flex items-center gap-2",children:[e.jsx(dr,{className:"text-violet-600",size:24}),"Payroll History"]}),e.jsx("p",{className:"text-slate-600 text-xs sm:text-sm",children:"View and manage employee payment history"})]})})})]}),e.jsx("div",{className:"mb-6 bg-white/60 backdrop-blur-md rounded-2xl shadow-lg border border-white/50 p-4 sm:p-5 max-w-7xl mx-auto",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"md:col-span-2 relative group",children:[e.jsx(st,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 transition-all duration-300"}),e.jsx("input",{type:"text",placeholder:"Search by name...",value:s,onChange:N=>t(N.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border-2 border-slate-100 rounded-xl text-sm font-bold text-slate-700 focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all duration-300 hover:border-slate-200 shadow-sm"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(ks,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 z-10"}),e.jsxs("select",{value:a,onChange:N=>l(N.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border-2 border-slate-100 rounded-xl text-sm font-bold text-slate-700 focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all duration-300 appearance-none cursor-pointer hover:border-slate-200 shadow-sm",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"Paid",children:"Paid"}),e.jsx("option",{value:"Pending",children:"Pending"})]})]}),e.jsxs("button",{className:"flex items-center justify-center gap-2 py-3 bg-slate-900 text-white rounded-xl text-sm font-black hover:bg-slate-800 transition-all duration-300 shadow-lg shadow-slate-200",children:[e.jsx(na,{size:18})," Export Data"]})]})}),e.jsx("div",{className:"grid grid-cols-1 gap-4 md:hidden mb-6 max-w-7xl mx-auto",children:p?e.jsx("div",{className:"text-center py-10 font-bold text-slate-400 tracking-widest uppercase",children:"Loading History..."}):y.length===0?e.jsx("div",{className:"text-center py-10 font-bold text-slate-400 tracking-widest uppercase",children:"No records found"}):y.map(N=>e.jsx(Ya,{title:N.staffName,subtitle:`${C[N.month]} ${N.year}`,badge:{label:N.status,color:N.status==="Paid"?"emerald":"amber"},fields:[{label:"Net Pay",value:`${Number(N.amount).toLocaleString()}`,icon:Yl},{label:"Paid On",value:N.status==="Paid"?"Processed":"-",icon:Xe}],actions:[{label:"View Details",icon:bs,variant:"secondary",onClick:()=>g(N)}]},N.id))}),e.jsx("div",{className:"hidden md:block bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden max-w-7xl mx-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50 border-b border-slate-100",children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-black uppercase tracking-widest text-slate-400",children:"Employee"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-black uppercase tracking-widest text-slate-400",children:"Month"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-black uppercase tracking-widest text-slate-400",children:"Net Pay"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-black uppercase tracking-widest text-slate-400",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-black uppercase tracking-widest text-slate-400",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:p?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-10 text-center font-bold text-slate-400 tracking-widest uppercase",children:"Loading History..."})}):y.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-10 text-center font-bold text-slate-400 tracking-widest uppercase",children:"No records found"})}):y.map(N=>e.jsxs("tr",{className:"group hover:bg-slate-50/50 transition-colors cursor-pointer",onClick:()=>g(N),children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-violet-100 flex items-center justify-center text-violet-600 font-bold border border-violet-200",children:N.staffName?.charAt(0)}),e.jsx("span",{className:"text-sm font-black text-slate-900",children:N.staffName})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:"text-sm font-bold text-slate-500",children:[C[N.month]," ",N.year]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:"text-sm font-black text-slate-900",children:["",Number(N.amount).toLocaleString()]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1.5 rounded-lg text-xs font-black uppercase tracking-widest ${N.status==="Paid"?"bg-emerald-50 text-emerald-600":"bg-amber-50 text-amber-600"}`,children:[N.status==="Paid"?e.jsx(Qt,{size:12}):e.jsx(Ze,{size:12}),N.status]})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsx("button",{onClick:k=>{k.stopPropagation(),g(N)},className:"p-2 bg-slate-50 text-slate-400 hover:text-violet-600 hover:bg-violet-50 rounded-xl transition-all duration-300",children:e.jsx(bs,{size:18})})})]},N.id))})]})}),e.jsx(rt,{isOpen:c,onClose:v,title:"Payroll Details",subtitle:i?`${i.staffName} - ${C[i.month]} ${i.year}`:"",children:i&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-gradient-to-br from-violet-600 via-purple-600 to-fuchsia-600 p-6 rounded-2xl text-white shadow-xl",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-white/20 flex items-center justify-center text-3xl font-black border border-white/30",children:i.staffName?.charAt(0)}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-black tracking-tight",children:i.staffName}),e.jsxs("div",{className:"text-violet-100 text-sm font-medium",children:[C[i.month]," ",i.year," History"]})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:`px-4 py-1.5 rounded-xl text-xs font-black shadow-lg ${i.status==="Paid"?"bg-emerald-400 text-emerald-950":"bg-amber-400 text-amber-950"}`,children:i.status.toUpperCase()})})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex justify-between items-center pt-6",children:[e.jsx("span",{className:"text-lg font-black text-slate-900 uppercase tracking-widest",children:"Net Payout"}),e.jsxs("span",{className:"text-3xl font-black text-violet-600",children:["",Number(i.amount).toLocaleString()]})]})}),e.jsx("div",{className:"pt-6",children:e.jsx("button",{onClick:v,className:"w-full py-4 px-6 bg-slate-900 text-white rounded-2xl font-black text-lg shadow-xl shadow-slate-200 hover:scale-[1.02] active:scale-95 transition-all",children:"Close Details"})})]})})]})},XE=()=>{const s=[{label:"Total Products",value:"3",icon:ru,color:"violet",trend:"+12%"},{label:"Total Orders",value:"10",icon:Bc,color:"emerald",trend:"+5%"},{label:"Stock Value",value:"1,25,000",icon:Rs,color:"blue",trend:"+25k"},{label:"Total Sold",value:"50",icon:ol,color:"orange",trend:"+15"}];return e.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6 pb-12 min-h-screen",children:[e.jsxs("div",{className:"mb-8 relative p-6 bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500/5 to-fuchsia-500/5"}),e.jsx("div",{className:"relative z-10 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl sm:text-3xl font-black bg-gradient-to-r from-slate-900 to-slate-600 bg-clip-text text-transparent flex items-center gap-2",children:[e.jsx(Ld,{className:"text-slate-800",size:28}),"Store Dashboard"]}),e.jsx("p",{className:"text-slate-500 text-sm font-medium mt-1",children:"Overview of products, orders, and inventory"})]})})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-8",children:s.map((t,a)=>e.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-xl border border-slate-100 hover:scale-105 hover:-translate-y-1 transition-all duration-300 relative overflow-hidden group",children:[e.jsx("div",{className:`absolute top-0 right-0 p-4 opacity-10 group-hover:scale-110 transition-transform duration-500 text-${t.color}-600`,children:e.jsx(t.icon,{size:64})}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-2xl bg-${t.color}-100 flex items-center justify-center text-${t.color}-600 border border-${t.color}-200`,children:e.jsx(t.icon,{size:24})}),e.jsx("span",{className:"text-[10px] font-black text-emerald-500 bg-emerald-50 px-2 py-1 rounded-lg",children:t.trend})]}),e.jsx("div",{className:"text-slate-400 text-xs font-black uppercase tracking-widest mb-1",children:t.label}),e.jsx("div",{className:"text-3xl font-black text-slate-900",children:t.value})]})]},a))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2 px-1",children:[e.jsxs("div",{className:"flex items-center gap-2 text-lg font-black text-slate-800 uppercase tracking-tight",children:[e.jsx(Qs,{className:"text-violet-600",size:20}),"Recent Sales Activity"]}),e.jsx("button",{className:"text-xs font-black text-violet-600 hover:underline",children:"View All Orders"})]}),[1,2,3].map(t=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/60 backdrop-blur-sm border border-white rounded-2xl shadow-md hover:shadow-lg transition-all",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center text-slate-400",children:e.jsx(Bc,{size:18})}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm font-black text-slate-900",children:["Order #102",t]}),e.jsx("div",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-widest leading-none",children:"2 items  4,500"})]})]}),e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsx("span",{className:"text-[10px] font-black text-emerald-600 mb-0.5 uppercase tracking-widest",children:"Completed"}),e.jsx("span",{className:"text-[8px] text-slate-400 font-medium",children:"10 mins ago"})]})]},t))]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2 text-lg font-black text-slate-800 uppercase tracking-tight px-1 mb-2",children:[e.jsx(Lw,{className:"text-orange-500",size:20}),"Low Stock Alert"]}),e.jsxs("div",{className:"bg-white/40 backdrop-blur-sm rounded-3xl border border-white p-6 shadow-xl space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-2xl border border-red-100",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-white flex items-center justify-center text-red-600 font-black text-xs",children:"DB"}),e.jsx("span",{className:"text-xs font-black text-red-950 uppercase tracking-tight",children:"Dumbbells..."})]}),e.jsx("span",{className:"text-[10px] font-black text-red-600 px-2 py-1 bg-white rounded-lg",children:"10 left"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-orange-50 rounded-2xl border border-orange-100",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-white flex items-center justify-center text-orange-600 font-black text-xs",children:"YM"}),e.jsx("span",{className:"text-xs font-black text-orange-950 uppercase tracking-tight",children:"Yoga Mat..."})]}),e.jsx("span",{className:"text-[10px] font-black text-orange-600 px-2 py-1 bg-white rounded-lg",children:"30 left"})]})]})]})]})]})},UN=({isOpen:s,onClose:t,product:a,mode:l="add",onSubmit:i})=>{const[o,c]=b.useState({name:"",sku:"",category:"Supplements",price:"",stock:"",status:"Active",image:""});b.useEffect(()=>{c(a&&l==="edit"?{...a,sku:a.sku||`PRD-00${a.id}`}:{name:"",sku:"",category:"Supplements",price:"",stock:"",status:"Active",image:""})},[a,l,s]);const u=async h=>{h.preventDefault(),i&&await i(o),t()},x=h=>{const p=h.target.files[0];if(p){const f=new FileReader;f.onloadend=()=>{c({...o,image:f.result})},f.readAsDataURL(p)}};return s?e.jsx("div",{className:"fixed inset-0 z-50 overflow-hidden",role:"dialog","aria-modal":"true",children:e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-slate-900/40 backdrop-blur-[2px] transition-opacity duration-300 opacity-100",onClick:t}),e.jsx("div",{className:"fixed inset-y-0 right-0 flex max-w-full pl-0 sm:pl-10",children:e.jsx("div",{className:"relative w-screen sm:max-w-[400px] transform transition-transform duration-300 ease-in-out shadow-2xl translate-x-0",children:e.jsxs("div",{className:"flex h-full flex-col bg-white overflow-y-auto shadow-2xl",children:[e.jsxs("div",{className:"px-6 py-8 bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white relative",children:[e.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 rounded-xl bg-white/10 text-white hover:bg-white/20 transition-all",children:e.jsx(Yr,{className:"h-6 w-6"})}),e.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-violet-500/20 flex items-center justify-center border border-violet-500/30 text-violet-400",children:e.jsx(ru,{size:24})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-black tracking-tight",children:l==="edit"?"Edit Product":"Add New Product"}),e.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-widest mt-1",children:l==="edit"?"Update Details":"Store Inventory"})]})]})]}),e.jsxs("form",{onSubmit:u,className:"flex-1 p-6 space-y-6",children:[e.jsx("div",{className:"space-y-1.5 flex flex-col items-center",children:e.jsxs("label",{className:"w-24 h-24 rounded-2xl bg-slate-50 border-2 border-dashed border-slate-200 flex flex-col items-center justify-center cursor-pointer hover:border-violet-500 hover:bg-violet-50 transition-all duration-300 relative overflow-hidden group",children:[o.image?e.jsx("img",{src:o.image,alt:"Product",className:"w-full h-full object-cover"}):e.jsxs(e.Fragment,{children:[e.jsx(VC,{className:"text-slate-400 group-hover:text-violet-500 transition-colors mb-1",size:24}),e.jsx("span",{className:"text-[10px] font-bold text-slate-500 group-hover:text-violet-600 transition-colors",children:"Add Photo"})]}),e.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx("span",{className:"text-[10px] text-white font-bold uppercase tracking-wider",children:"Change"})}),e.jsx("input",{type:"file",accept:"image/*",onChange:x,className:"hidden"})]})}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 ml-1",children:"Product Name"}),e.jsx("input",{required:!0,type:"text",value:o.name,onChange:h=>c({...o,name:h.target.value}),placeholder:"e.g. Protein Powder",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-100 rounded-xl text-sm font-bold text-slate-700 focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all duration-300"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 ml-1",children:"SKU Code"}),e.jsx("input",{required:!0,type:"text",value:o.sku,onChange:h=>c({...o,sku:h.target.value}),placeholder:"SKU001",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-100 rounded-xl text-sm font-bold text-slate-700 focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all duration-300 uppercase"})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 ml-1",children:"Category"}),e.jsxs("select",{value:o.category,onChange:h=>c({...o,category:h.target.value}),className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-100 rounded-xl text-sm font-bold text-slate-700 focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all duration-300 cursor-pointer",children:[e.jsx("option",{value:"Supplements",children:"Supplements"}),e.jsx("option",{value:"Accessories",children:"Accessories"}),e.jsx("option",{value:"Equipment",children:"Equipment"}),e.jsx("option",{value:"Apparel",children:"Apparel"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 ml-1",children:"Price ()"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 font-bold",children:""}),e.jsx("input",{required:!0,type:"number",value:o.price,onChange:h=>c({...o,price:h.target.value}),className:"w-full pl-8 pr-4 py-3 bg-slate-50 border-2 border-slate-100 rounded-xl text-sm font-bold text-slate-700 focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all duration-300"})]})]}),e.jsxs("div",{className:"space-y-1.5 group",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 ml-1",children:"Stock Qty"}),e.jsx("input",{required:!0,type:"number",value:o.stock,onChange:h=>c({...o,stock:h.target.value}),className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-100 rounded-xl text-sm font-bold text-slate-700 focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all duration-300"}),e.jsx("p",{className:"text-[9px] text-slate-400 font-bold italic ml-1 select-none",children:"* Alert shown when stock is below 10 units."})]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 ml-1",children:"Status"}),e.jsxs("div",{className:"flex gap-4 p-1.5 bg-slate-100 rounded-2xl border border-slate-200",children:[e.jsxs("button",{type:"button",onClick:()=>c({...o,status:"Active"}),className:`flex-1 flex items-center justify-center gap-2 py-2.5 rounded-xl text-xs font-black transition-all ${o.status==="Active"?"bg-white text-emerald-600 shadow-md ring-1 ring-slate-200":"text-slate-500 hover:text-slate-700"}`,children:[e.jsx(Qt,{size:14})," ACTIVE"]}),e.jsxs("button",{type:"button",onClick:()=>c({...o,status:"Inactive"}),className:`flex-1 flex items-center justify-center gap-2 py-2.5 rounded-xl text-xs font-black transition-all ${o.status==="Inactive"?"bg-white text-red-600 shadow-md ring-1 ring-slate-200":"text-slate-500 hover:text-slate-700"}`,children:[e.jsx(Vl,{size:14})," INACTIVE"]})]})]}),e.jsxs("div",{className:"pt-6 flex flex-col gap-3",children:[e.jsx("button",{type:"submit",className:"w-full py-4 bg-slate-900 text-white rounded-2xl font-black text-sm shadow-xl shadow-slate-200 hover:bg-slate-800 transition-all",children:l==="edit"?"Update Product":"Add Product"}),e.jsx("button",{type:"button",onClick:t,className:"w-full py-4 bg-white text-slate-500 border-2 border-slate-100 rounded-2xl font-black text-sm hover:bg-slate-50 transition-all",children:"Cancel"})]})]})]})})})]})}):null},KE=[{id:1,name:"Protein Powder",sku:"PR001",category:"Supplements",price:2500,stock:50,status:"Active"},{id:2,name:"Yoga Mat",sku:"YM002",category:"Accessories",price:1200,stock:30,status:"Active"},{id:3,name:"Dumbbells Set",sku:"DB003",category:"Equipment",price:5e3,stock:10,status:"Inactive"}],JE=()=>{const[s,t]=b.useState(""),[a,l]=b.useState(""),[i,o]=b.useState(!1),[c,u]=b.useState("add"),[x,h]=b.useState(null),p=KE.filter(v=>{const C=v.name.toLowerCase().includes(s.toLowerCase())||v.sku.toLowerCase().includes(s.toLowerCase()),N=a===""||v.category===a;return C&&N}),f=v=>{h(v),u("edit"),o(!0)},y=()=>{h(null),u("add"),o(!0)},g=v=>{console.log("Delete Product",v)};return e.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6 pb-12 min-h-screen",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl sm:text-3xl font-black bg-gradient-to-r from-slate-900 to-slate-600 bg-clip-text text-transparent flex items-center gap-3",children:[e.jsx(ru,{className:"text-slate-800",size:28}),"Product Inventory"]}),e.jsx("p",{className:"text-slate-500 text-xs sm:text-sm font-medium mt-1",children:"Manage your store products and stock levels"})]}),e.jsxs("button",{onClick:y,className:"w-full sm:w-auto flex items-center justify-center gap-2 px-6 py-3 bg-slate-900 text-white rounded-xl text-sm font-black shadow-xl shadow-slate-200 hover:scale-105 active:scale-95 transition-all",children:[e.jsx(wt,{size:18})," Add New Product"]})]}),e.jsx("div",{className:"mb-6 bg-white/60 backdrop-blur-md rounded-2xl shadow-lg border border-slate-100 p-4 sm:p-5",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"md:col-span-2 relative group",children:[e.jsx(st,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-slate-900 transition-all"}),e.jsx("input",{type:"text",placeholder:"Search by name or SKU...",value:s,onChange:v=>t(v.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border-2 border-slate-100 rounded-xl text-sm font-bold text-slate-700 focus:outline-none focus:border-slate-900 focus:ring-4 focus:ring-slate-900/5 transition-all"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(ks,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"}),e.jsxs("select",{value:a,onChange:v=>l(v.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border-2 border-slate-100 rounded-xl text-sm font-bold text-slate-700 focus:outline-none focus:border-slate-900 focus:ring-4 focus:ring-slate-900/5 transition-all appearance-none cursor-pointer",children:[e.jsx("option",{value:"",children:"All Categories"}),e.jsx("option",{value:"Supplements",children:"Supplements"}),e.jsx("option",{value:"Accessories",children:"Accessories"}),e.jsx("option",{value:"Equipment",children:"Equipment"})]})]})]})}),e.jsx("div",{className:"hidden md:block bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50 border-b border-slate-100 text-slate-400",children:[e.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black uppercase tracking-widest",children:"Product"}),e.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black uppercase tracking-widest",children:"SKU"}),e.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black uppercase tracking-widest",children:"Category"}),e.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black uppercase tracking-widest",children:"Price"}),e.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black uppercase tracking-widest",children:"Stock"}),e.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black uppercase tracking-widest",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black uppercase tracking-widest",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:p.length>0?p.map(v=>e.jsxs("tr",{className:"group hover:bg-slate-50/50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-100 flex items-center justify-center text-slate-600 border border-slate-200",children:v.name.charAt(0)}),e.jsx("span",{className:"text-sm font-black text-slate-900",children:v.name})]})}),e.jsx("td",{className:"px-6 py-4 text-sm font-bold text-slate-500 uppercase",children:v.sku}),e.jsx("td",{className:"px-6 py-4 text-sm font-bold text-slate-500",children:v.category}),e.jsxs("td",{className:"px-6 py-4 text-sm font-black text-slate-900",children:["",v.price.toLocaleString()]}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("span",{className:`text-sm font-black ${v.stock<=10?"text-orange-600":"text-slate-900"}`,children:[v.stock," Units"]}),e.jsx("span",{className:`text-[8px] font-black uppercase tracking-wider px-2 py-0.5 rounded-full w-fit ${v.stock<=10?"bg-orange-50 text-orange-600 border border-orange-100":"bg-emerald-50 text-emerald-600 border border-emerald-100"}`,children:v.stock<=10?"Low Stock":"In Stock"})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`inline-flex px-3 py-1 rounded-lg text-[10px] font-black uppercase tracking-widest ${v.status==="Active"?"bg-emerald-50 text-emerald-600":"bg-red-50 text-red-600"}`,children:v.status})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>f(v),className:"p-2 bg-slate-50 text-slate-400 hover:text-violet-600 hover:bg-violet-50 rounded-xl transition-all",children:e.jsx(Ra,{size:16})}),e.jsx("button",{onClick:()=>g(v.id),className:"p-2 bg-slate-50 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-xl transition-all",children:e.jsx(xs,{size:16})})]})})]},v.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"px-6 py-12 text-center text-slate-400 font-bold italic",children:"No products found"})})})]})}),e.jsx("div",{className:"md:hidden space-y-4",children:p.map(v=>e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-slate-100 p-5 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-100 flex items-center justify-center text-slate-600",children:v.name.charAt(0)}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-black text-slate-900",children:v.name}),e.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:v.sku})]})]}),e.jsx("span",{className:`px-3 py-1 rounded-lg text-[10px] font-black uppercase tracking-widest ${v.status==="Active"?"bg-emerald-50 text-emerald-600":"bg-red-50 text-red-600"}`,children:v.status})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-widest mb-1 text-[8px]",children:"Price"}),e.jsxs("p",{className:"font-black text-slate-900",children:["",v.price.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-widest mb-1 text-[8px]",children:"Stock"}),e.jsxs("p",{className:`font-black ${v.stock<=10?"text-orange-500":"text-slate-900"}`,children:[v.stock," Units"]})]})]}),e.jsxs("div",{className:"pt-4 border-t border-slate-50 flex gap-2",children:[e.jsxs("button",{onClick:()=>f(v),className:"flex-1 flex items-center justify-center gap-2 py-3 bg-violet-50 text-violet-600 rounded-xl text-xs font-black",children:[e.jsx(Ra,{size:14})," Edit"]}),e.jsx("button",{onClick:()=>g(v.id),className:"p-3 bg-red-50 text-red-600 rounded-xl",children:e.jsx(xs,{size:14})})]})]},v.id))}),e.jsx(UN,{isOpen:i,onClose:()=>o(!1),product:x,mode:c})]})},QE=[{id:"ORD-1021",customer:"John Doe",date:"11 Feb 2025",total:4500,status:"Completed",items:2},{id:"ORD-1022",customer:"Jane Smith",date:"10 Feb 2025",total:1200,status:"Processing",items:1},{id:"ORD-1023",customer:"Robert Brown",date:"09 Feb 2025",total:5e3,status:"Pending",items:3},{id:"ORD-1024",customer:"Emily White",date:"08 Feb 2025",total:2500,status:"Cancelled",items:1}],ZE=()=>{const[s,t]=b.useState(""),[a,l]=b.useState(""),[i,o]=b.useState(!1),[c,u]=b.useState("Guest"),[x,h]=b.useState(""),[p,f]=b.useState(null),y=QE.filter(g=>{const v=g.customer.toLowerCase().includes(s.toLowerCase())||g.id.includes(s),C=a===""||g.status===a;return v&&C});return e.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6 pb-12 min-h-screen",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl sm:text-3xl font-black bg-gradient-to-r from-slate-900 to-slate-600 bg-clip-text text-transparent flex items-center gap-3",children:[e.jsx(Bc,{className:"text-slate-800",size:28}),"Store Orders"]}),e.jsx("p",{className:"text-slate-500 text-xs sm:text-sm font-medium mt-1",children:"Track and manage customer orders and sales"})]}),e.jsxs("button",{onClick:()=>o(!0),className:"w-full sm:w-auto flex items-center justify-center gap-2 px-6 py-3 bg-slate-900 text-white rounded-xl text-sm font-black shadow-xl shadow-slate-200 hover:scale-105 active:scale-95 transition-all",children:[e.jsx(wt,{size:18})," Add New Order"]})]}),e.jsx("div",{className:"mb-6 bg-white/60 backdrop-blur-md rounded-2xl shadow-lg border border-slate-100 p-4 sm:p-5",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"md:col-span-2 relative group",children:[e.jsx(st,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),e.jsx("input",{type:"text",placeholder:"Search by Order ID or Customer...",value:s,onChange:g=>t(g.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border-2 border-slate-100 rounded-xl text-sm font-bold text-slate-700 focus:outline-none focus:border-slate-900 focus:ring-4 focus:ring-slate-900/5 transition-all"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(ks,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"}),e.jsxs("select",{value:a,onChange:g=>l(g.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border-2 border-slate-100 rounded-xl text-sm font-bold text-slate-700 focus:outline-none focus:border-slate-900 appearance-none cursor-pointer",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"Completed",children:"Completed"}),e.jsx("option",{value:"Processing",children:"Processing"}),e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]}),e.jsxs("button",{className:"flex items-center justify-center gap-2 py-3 bg-slate-900 text-white rounded-xl text-sm font-black hover:bg-slate-800 transition-all shadow-lg shadow-slate-200",children:[e.jsx(na,{size:18})," Export Orders"]})]})}),e.jsx("div",{className:"hidden md:block bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50 border-b border-slate-100 text-slate-400",children:[e.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black uppercase tracking-widest",children:"Order ID"}),e.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black uppercase tracking-widest",children:"Customer"}),e.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black uppercase tracking-widest",children:"Date"}),e.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black uppercase tracking-widest",children:"Items"}),e.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black uppercase tracking-widest",children:"Total"}),e.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black uppercase tracking-widest",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black uppercase tracking-widest",children:"Action"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:y.length>0?y.map(g=>e.jsxs("tr",{className:"group hover:bg-slate-50/50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 text-sm font-black text-slate-900",children:g.id}),e.jsx("td",{className:"px-6 py-4 text-sm font-bold text-slate-700",children:g.customer}),e.jsx("td",{className:"px-6 py-4 text-sm font-medium text-slate-500",children:g.date}),e.jsx("td",{className:"px-6 py-4 text-sm font-bold text-slate-500",children:g.items}),e.jsxs("td",{className:"px-6 py-4 text-sm font-black text-slate-900",children:["",g.total.toLocaleString()]}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`inline-flex px-3 py-1 rounded-lg text-[10px] font-black uppercase tracking-widest ${g.status==="Completed"?"bg-emerald-50 text-emerald-600":g.status==="Processing"?"bg-blue-50 text-blue-600":g.status==="Pending"?"bg-amber-50 text-amber-600":"bg-red-50 text-red-600"}`,children:g.status})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsx("button",{className:"p-2 bg-slate-50 text-slate-400 hover:text-violet-600 hover:bg-violet-50 rounded-xl transition-all",children:e.jsx(qs,{size:16})})})]},g.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"px-6 py-12 text-center text-slate-400 font-bold italic",children:"No orders found"})})})]})}),e.jsx("div",{className:"md:hidden space-y-4",children:y.map(g=>e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-slate-100 p-5 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-black text-slate-900",children:g.id}),e.jsx("p",{className:"text-xs text-slate-500 font-bold mt-1",children:g.customer})]}),e.jsx("span",{className:`px-3 py-1 rounded-lg text-[10px] font-black uppercase tracking-widest ${g.status==="Completed"?"bg-emerald-50 text-emerald-600":"bg-amber-50 text-amber-600"}`,children:g.status})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] text-slate-400 font-black uppercase tracking-widest",children:"Date"}),e.jsx("p",{className:"text-xs font-bold text-slate-700",children:g.date})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-[10px] text-slate-400 font-black uppercase tracking-widest",children:"Total"}),e.jsxs("p",{className:"text-sm font-black text-slate-900",children:["",g.total.toLocaleString()]})]})]}),e.jsxs("button",{className:"w-full py-3 bg-slate-50 text-slate-600 rounded-xl font-black text-xs flex items-center justify-center gap-2",children:[e.jsx(qs,{size:14})," View Order Details"]})]},g.id))}),e.jsx(rt,{isOpen:i,onClose:()=>o(!1),title:"Create New Order",subtitle:"Checkout Process",footer:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-4 bg-amber-50 rounded-xl border border-amber-100",children:e.jsxs("p",{className:"text-xs font-bold text-amber-700 flex items-center gap-2",children:[e.jsx(Qt,{size:14}),"Invoice will be generated upon confirmation."]})}),e.jsx("button",{onClick:()=>{console.log("Confirming Order for",c==="Member"?p?.name:"Guest"),o(!1)},className:"w-full py-4 bg-slate-900 text-white rounded-2xl font-black uppercase tracking-widest hover:bg-slate-800 transition-all shadow-xl shadow-slate-200",children:"Confirm Order"})]}),children:e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 ml-1",children:"Order Type"}),e.jsxs("div",{className:"flex gap-4 p-1.5 bg-slate-100 rounded-2xl border border-slate-200",children:[e.jsxs("button",{onClick:()=>u("Guest"),className:`flex-1 flex items-center justify-center gap-2 py-3 rounded-xl text-xs font-black transition-all ${c==="Guest"?"bg-white text-slate-900 shadow-md ring-1 ring-slate-200":"text-slate-500 hover:text-slate-700"}`,children:[e.jsx(lt,{size:14})," GUEST"]}),e.jsxs("button",{onClick:()=>u("Member"),className:`flex-1 flex items-center justify-center gap-2 py-3 rounded-xl text-xs font-black transition-all ${c==="Member"?"bg-white text-violet-600 shadow-md ring-1 ring-slate-200":"text-slate-500 hover:text-slate-700"}`,children:[e.jsx(Pt,{size:14})," MEMBER"]})]})]}),c==="Member"&&e.jsxs("div",{className:"space-y-3 animate-in fade-in slide-in-from-top-4",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 ml-1",children:"Search Member"}),e.jsxs("div",{className:"relative group",children:[e.jsx(st,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-600 transition-all",size:18}),e.jsx("input",{type:"text",placeholder:"Enter member name or ID...",value:x,onChange:g=>h(g.target.value),className:"w-full pl-12 pr-4 py-3 bg-slate-50 border-2 border-slate-100 rounded-xl text-sm font-bold text-slate-700 focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all shadow-sm"})]}),x.length>2&&e.jsx("div",{className:"p-4 bg-violet-50/50 rounded-2xl border border-violet-100 text-xs font-bold text-violet-600 italic",children:"Member: Dipanshu Patidar (#M-9021)"})]}),c==="Guest"&&e.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-top-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 ml-1",children:"Guest Name"}),e.jsx("input",{type:"text",placeholder:"Enter full name",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-100 rounded-xl text-sm font-bold transition-all focus:outline-none focus:border-slate-900"})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 ml-1",children:"Contact Number"}),e.jsx("input",{type:"tel",placeholder:"+91 00000 00000",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-100 rounded-xl text-sm font-bold transition-all focus:outline-none focus:border-slate-900"})]})]})]})})]})},db=async(s={})=>{try{return(await ve.get("/store/products",{params:s})).data}catch(t){throw t.response?.data?.message||"Failed to load products"}},eM=async s=>{try{return(await ve.post("/store/products",s)).data}catch(t){throw t.response?.data?.message||"Failed to add product"}},tM=async(s,t)=>{try{return(await ve.patch(`/store/products/${s}/stock`,{stock:t})).data}catch(a){throw a.response?.data?.message||"Failed to update stock"}},sM=async(s,t)=>{try{return(await ve.put(`/store/products/${s}`,t)).data}catch(a){throw a.response?.data?.message||"Failed to update product"}},aM=async s=>{try{return(await ve.delete(`/store/products/${s}`)).data}catch(t){throw t.response?.data?.message||"Failed to delete product"}},rM=async()=>{try{return(await ve.get("/store/orders")).data}catch(s){throw s.response?.data?.message||"Failed to load orders"}},$N=async s=>{try{return(await ve.post("/store/checkout",s)).data}catch(t){throw t.response?.data?.message||"Failed to checkout"}},Fy=()=>{const[s,t]=b.useState(""),[a,l]=b.useState([]),[i,o]=b.useState(!0),[c,u]=b.useState(!1),[x,h]=b.useState("add"),[p,f]=b.useState(null),y=async()=>{try{o(!0);const E=await db({allStatus:"true"});l(E)}catch(E){Ve.error(E)}finally{o(!1)}};b.useEffect(()=>{y()},[]);const g=async(E,w)=>{const R=prompt("Enter new stock count:",w);if(R!==null){const T=parseInt(R,10);if(!isNaN(T)&&T>=0)try{await tM(E,T),Ve.success("Stock updated successfully"),y()}catch(O){Ve.error(O)}else Ve.error("Invalid stock count")}},v=async E=>{try{x==="add"?(await eM(E),Ve.success("Product added successfully!")):(await sM(p.id,E),Ve.success("Product updated successfully!")),y(),u(!1)}catch(w){Ve.error(w)}},C=E=>{f(E),h("edit"),u(!0)},N=async E=>{if(window.confirm("Are you sure you want to delete this product?"))try{await aM(E),Ve.success("Product deleted successfully"),y()}catch(w){Ve.error(w)}},k=a.filter(E=>{const w=E.sku||`PRD-00${E.id}`;return E.name.toLowerCase().includes(s.toLowerCase())||w.toLowerCase().includes(s.toLowerCase())}),A=a.filter(E=>E.stock<=10).length;return e.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6 pb-12 min-h-screen",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl sm:text-3xl font-black bg-gradient-to-r from-slate-900 to-slate-600 bg-clip-text text-transparent flex items-center gap-3",children:[e.jsx(Lw,{className:"text-slate-800",size:28}),"Store Inventory"]}),e.jsx("p",{className:"text-slate-500 text-xs sm:text-sm font-medium mt-1",children:"Monitor stock levels and warehouse locations"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full sm:w-auto",children:[e.jsxs("button",{onClick:()=>{f(null),h("add"),u(!0)},className:"w-full sm:w-auto flex items-center justify-center gap-2 px-6 py-3 bg-slate-900 text-white rounded-xl text-sm font-black shadow-xl shadow-slate-200 hover:scale-105 transition-all",children:[e.jsx(wt,{size:18})," Add New Product"]}),e.jsxs("button",{onClick:y,className:"w-full sm:w-auto flex items-center justify-center gap-2 px-6 py-3 bg-violet-600 text-white rounded-xl text-sm font-black shadow-xl shadow-violet-200 hover:scale-105 transition-all",children:[e.jsx(Gw,{size:18,className:i?"animate-spin":""})," Sync Inventory"]})]})]}),A>0&&e.jsxs("div",{className:"mb-6 p-4 bg-orange-50 border border-orange-100 rounded-2xl flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-orange-100 flex items-center justify-center text-orange-600",children:e.jsx(cl,{size:24})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-black text-orange-950 uppercase tracking-tight",children:"Low Stock Alert"}),e.jsxs("p",{className:"text-xs text-orange-700 font-medium",children:["You have ",A," products with critical stock levels. We recommend restocking soon."]})]})]}),e.jsxs("div",{className:"mb-6 relative",children:[e.jsx(st,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),e.jsx("input",{type:"text",placeholder:"Search by Product Name or SKU...",value:s,onChange:E=>t(E.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border-2 border-slate-100 rounded-xl text-sm font-bold text-slate-700 focus:outline-none focus:border-slate-900 transition-all shadow-lg shadow-slate-200/50"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:k.map(E=>e.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-xl border border-slate-100 hover:shadow-2xl transition-all group",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-slate-50 flex items-center justify-center border border-slate-100 text-slate-400 group-hover:bg-violet-50 group-hover:text-violet-500 transition-colors overflow-hidden",children:E.image?e.jsx("img",{src:E.image,alt:E.name,className:"w-full h-full object-cover"}):e.jsx(ru,{size:28})}),e.jsx("span",{className:`px-3 py-1.5 rounded-xl text-[10px] font-black uppercase tracking-widest ${E.status==="In Stock"?"bg-emerald-50 text-emerald-600":E.status==="Low Stock"?"bg-orange-50 text-orange-600":"bg-red-50 text-red-600"}`,children:E.status})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-black text-slate-900 mb-1",children:E.name}),e.jsxs("p",{className:"text-[10px] text-slate-400 font-black uppercase tracking-widest leading-none",children:["SKU: ",E.sku||`PRD-00${E.id}`]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-slate-50",children:[e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400",children:"Current Stock"}),e.jsxs("span",{className:`text-sm font-black ${E.stock<=10?"text-orange-600":"text-slate-900"}`,children:[E.stock," Units"]})]}),e.jsxs("div",{className:"flex justify-between items-center py-3",children:[e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400",children:"Category"}),e.jsx("span",{className:"text-sm font-bold text-slate-700",children:E.category})]})]}),e.jsxs("div",{className:"mt-6 flex gap-2",children:[e.jsx("button",{onClick:()=>g(E.id,E.stock),className:"flex-1 py-3 bg-slate-900 text-white rounded-xl font-black text-xs hover:bg-slate-800 transition-all",children:"Update Stock"}),e.jsx("button",{onClick:()=>C(E),className:"p-3 bg-violet-50 text-violet-600 rounded-xl hover:bg-violet-100 transition-all",title:"Edit",children:e.jsx(Ra,{size:16})}),e.jsx("button",{onClick:()=>N(E.id),className:"p-3 bg-red-50 text-red-600 rounded-xl hover:bg-red-100 transition-all",title:"Delete",children:e.jsx(xs,{size:16})})]})]},E.id))}),e.jsx(UN,{isOpen:c,onClose:()=>u(!1),mode:x,product:p,onSubmit:v})]})},hf=({label:s,value:t,onChange:a,color:l,icon:i})=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-[10px] font-black uppercase tracking-widest text-gray-400 flex items-center gap-1.5",children:[i&&e.jsx(i,{size:12}),s]}),e.jsxs("div",{className:"relative group",children:[e.jsx("input",{type:"number",className:"w-full h-11 bg-gray-50 border border-gray-100 rounded-xl text-center font-bold text-gray-900 focus:bg-white focus:ring-2 focus:ring-indigo-100 focus:border-indigo-500 outline-none transition-all",value:t,onChange:o=>a(parseInt(o.target.value)||0)}),e.jsx("div",{className:`absolute inset-y-0 right-3 flex items-center pointer-events-none text-[10px] font-bold ${l}`,children:"g"})]})]}),lM=({protein:s,carbs:t,fats:a})=>{const l=parseInt(s)||0,i=parseInt(t)||0,o=parseInt(a)||0,c=l*4,u=i*4,x=o*9,h=c+u+x,p=h>0?Math.round(c/h*100):0,f=h>0?Math.round(u/h*100):0,y=h>0?Math.round(x/h*100):100-p-f;return e.jsxs("div",{className:"bg-gray-50 p-4 rounded-2xl space-y-3 border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-gray-400",children:"Macro Split"}),e.jsxs("span",{className:"text-sm font-black text-indigo-600",children:[h," ",e.jsx("span",{className:"text-[10px] text-gray-400",children:"KCAL"})]})]}),e.jsxs("div",{className:"h-2 w-full bg-gray-200 rounded-full overflow-hidden flex",children:[e.jsx("div",{className:"h-full bg-indigo-500 transition-all duration-500",style:{width:`${p}%`}}),e.jsx("div",{className:"h-full bg-emerald-500 transition-all duration-500",style:{width:`${f}%`}}),e.jsx("div",{className:"h-full bg-rose-500 transition-all duration-500",style:{width:`${y}%`}})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 text-[9px] font-black uppercase tracking-tighter",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-indigo-500"})," P: ",p,"%"]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500"})," C: ",f,"%"]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-rose-500"})," F: ",y,"%"]})]})]})},nM=({isOpen:s,onClose:t,onSave:a,editData:l=null})=>{const i={name:"",clientId:"",target:"Weight Loss",duration:"4",calories:0,macros:{protein:0,carbs:0,fats:0},meals:[{id:1,name:"Breakfast",time:"08:00 AM",cals:0,protein:0,carbs:0,fats:0,notes:"",isExpanded:!0}],notes:"",status:"Active"},[o,c]=b.useState(l||i),[u,x]=b.useState([]);b.useEffect(()=>{c(l||i)},[l,s]),b.useEffect(()=>{s&&Em({limit:100}).then(v=>x(v?.data||[])).catch(console.error)},[s]),b.useEffect(()=>{const v=parseInt(o.macros.protein)||0,C=parseInt(o.macros.carbs)||0,N=parseInt(o.macros.fats)||0,k=v*4+C*4+N*9;c(A=>({...A,calories:k}))},[o.macros]);const h=()=>{const v=o.meals.length>0?Math.max(...o.meals.map(C=>C.id))+1:1;c(C=>({...C,meals:[...C.meals,{id:v,name:`Meal ${o.meals.length+1}`,time:"12:00 PM",cals:0,protein:0,carbs:0,fats:0,notes:"",isExpanded:!0}]}))},p=v=>{c(C=>({...C,meals:C.meals.filter(N=>N.id!==v)}))},f=(v,C,N)=>{c(k=>({...k,meals:k.meals.map(A=>A.id===v?{...A,[C]:N}:A)}))},y=v=>{c(C=>({...C,meals:C.meals.map(N=>N.id===v?{...N,isExpanded:!N.isExpanded}:N)}))},g=v=>{if(v&&v.preventDefault(),!o.name||!o.clientId){alert("Please fill in Plan Name and Assign a Client.");return}a({...o,id:l?.id||`DP-${Math.floor(Math.random()*1e4)}`})};return s?e.jsx(rt,{isOpen:s,onClose:t,title:l?"Edit Diet Plan":"Create Diet Plan",subtitle:"Configure structured nutritional protocols",children:e.jsxs("div",{className:"flex flex-col h-full bg-white",children:[e.jsxs("div",{className:"flex-1 overflow-y-auto px-4 md:px-5 pb-8 space-y-8 custom-scrollbar",children:[e.jsxs("div",{className:"space-y-4 pt-2",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-indigo-600"}),e.jsx("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900",children:"Basic Information"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-gray-400 ml-1",children:"Plan Name"}),e.jsx("input",{type:"text",className:"w-full h-11 bg-gray-50 border border-gray-100 px-4 rounded-xl text-sm font-bold focus:bg-white focus:ring-2 focus:ring-indigo-100 focus:border-indigo-500 outline-none transition-all",placeholder:"e.g. 12-Week Lean Bulk",value:o.name,onChange:v=>c({...o,name:v.target.value})})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-gray-400 ml-1",children:"Assign To Client"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{className:"w-full h-11 bg-gray-50 border border-gray-100 px-4 rounded-xl text-sm font-bold focus:bg-white focus:ring-2 focus:ring-indigo-100 focus:border-indigo-500 outline-none transition-all appearance-none",value:o.clientId,onChange:v=>c({...o,clientId:v.target.value}),children:[e.jsx("option",{value:"",children:"Select Client"}),u.map(v=>e.jsx("option",{value:v.id,children:v.name},v.id))]}),e.jsx(kl,{size:16,className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-gray-400 ml-1",children:"Goal Type"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{className:"w-full h-11 bg-gray-50 border border-gray-100 px-4 rounded-xl text-sm font-bold focus:bg-white focus:ring-2 focus:ring-indigo-100 focus:border-indigo-500 outline-none transition-all appearance-none",value:o.target,onChange:v=>c({...o,target:v.target.value}),children:[e.jsx("option",{children:"Weight Loss"}),e.jsx("option",{children:"Muscle Gain"}),e.jsx("option",{children:"Maintenance"})]}),e.jsx(kl,{size:16,className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"})]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-gray-400 ml-1",children:"Duration (Weeks)"}),e.jsx("input",{type:"number",className:"w-full h-11 bg-gray-50 border border-gray-100 px-4 rounded-xl text-sm font-bold focus:bg-white focus:ring-2 focus:ring-indigo-100 focus:border-indigo-500 outline-none transition-all",placeholder:"4",value:o.duration,onChange:v=>c({...o,duration:v.target.value})})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-indigo-600"}),e.jsx("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900",children:"Macro Configuration"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsx(hf,{label:"Protein",icon:ua,color:"text-indigo-500",value:o.macros.protein,onChange:v=>c({...o,macros:{...o.macros,protein:v}})}),e.jsx(hf,{label:"Carbs",icon:lm,color:"text-emerald-500",value:o.macros.carbs,onChange:v=>c({...o,macros:{...o.macros,carbs:v}})}),e.jsx(hf,{label:"Fats",icon:Ow,color:"text-rose-500",value:o.macros.fats,onChange:v=>c({...o,macros:{...o.macros,fats:v}})})]}),e.jsx(lM,{protein:o.macros.protein,carbs:o.macros.carbs,fats:o.macros.fats})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-indigo-600"}),e.jsx("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900",children:"Meal Distribution"})]}),e.jsxs("button",{onClick:h,className:"flex items-center gap-1.5 text-[10px] font-black uppercase tracking-widest text-indigo-600 hover:text-indigo-700 transition-colors",children:[e.jsx(wt,{size:14,strokeWidth:3})," Add Meal"]})]}),e.jsx("div",{className:"space-y-3",children:o.meals.map((v,C)=>e.jsxs("div",{className:"bg-white border border-gray-100 rounded-2xl overflow-hidden shadow-sm",children:[e.jsxs("div",{className:"p-4 flex items-center justify-between cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>y(v.id),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-indigo-50 flex items-center justify-center text-indigo-600 font-bold text-xs",children:C+1}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-bold text-gray-900",children:v.name||`Meal ${C+1}`}),e.jsxs("div",{className:"flex items-center gap-3 text-[10px] font-black uppercase tracking-tighter text-gray-400",children:[e.jsx("span",{children:v.time}),e.jsx("span",{children:""}),e.jsxs("span",{className:"text-indigo-600",children:[v.cals," KCAL"]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:N=>{N.stopPropagation(),p(v.id)},className:"p-1.5 text-gray-300 hover:text-red-500 transition-colors",children:e.jsx(xs,{size:16})}),v.isExpanded?e.jsx(Rw,{size:18,className:"text-gray-400"}):e.jsx(kl,{size:18,className:"text-gray-400"})]})]}),v.isExpanded&&e.jsxs("div",{className:"p-4 pt-0 border-t border-gray-50 space-y-4 animate-in fade-in slide-in-from-top-2 duration-300",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[9px] font-black uppercase tracking-widest text-gray-400",children:"Meal Name"}),e.jsx("input",{type:"text",className:"w-full h-9 bg-gray-50 border border-gray-100 px-3 rounded-lg text-xs font-bold focus:bg-white outline-none",value:v.name,onChange:N=>f(v.id,"name",N.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[9px] font-black uppercase tracking-widest text-gray-400",children:"Time"}),e.jsx("input",{type:"text",className:"w-full h-9 bg-gray-50 border border-gray-100 px-3 rounded-lg text-xs font-bold focus:bg-white outline-none",value:v.time,onChange:N=>f(v.id,"time",N.target.value)})]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[9px] font-black uppercase tracking-widest text-gray-400",children:"Cals"}),e.jsx("input",{type:"number",className:"w-full h-9 bg-gray-50 border border-gray-100 px-2 rounded-lg text-xs font-bold text-center focus:bg-white outline-none",value:v.cals,onChange:N=>f(v.id,"cals",parseInt(N.target.value)||0)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[9px] font-black uppercase tracking-widest text-gray-400",children:"P (g)"}),e.jsx("input",{type:"number",className:"w-full h-9 bg-gray-50 border border-gray-100 px-2 rounded-lg text-xs font-bold text-center focus:bg-white outline-none",value:v.protein,onChange:N=>f(v.id,"protein",parseInt(N.target.value)||0)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[9px] font-black uppercase tracking-widest text-gray-400",children:"C (g)"}),e.jsx("input",{type:"number",className:"w-full h-9 bg-gray-50 border border-gray-100 px-2 rounded-lg text-xs font-bold text-center focus:bg-white outline-none",value:v.carbs,onChange:N=>f(v.id,"carbs",parseInt(N.target.value)||0)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[9px] font-black uppercase tracking-widest text-gray-400",children:"F (g)"}),e.jsx("input",{type:"number",className:"w-full h-9 bg-gray-50 border border-gray-100 px-2 rounded-lg text-xs font-bold text-center focus:bg-white outline-none",value:v.fats,onChange:N=>f(v.id,"fats",parseInt(N.target.value)||0)})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[9px] font-black uppercase tracking-widest text-gray-400",children:"Food Notes / Ingredients"}),e.jsx("textarea",{className:"w-full h-20 bg-gray-50 border border-gray-100 p-3 rounded-lg text-xs font-medium focus:bg-white outline-none resize-none",placeholder:"2 slices whole grain bread, 3 egg whites...",value:v.notes,onChange:N=>f(v.id,"notes",N.target.value)})]})]})]},v.id))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-indigo-600"}),e.jsx("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900",children:"General Instructions"})]}),e.jsx("textarea",{className:"w-full h-32 bg-gray-50 border border-gray-100 p-4 rounded-2xl text-sm font-medium focus:bg-white focus:ring-2 focus:ring-indigo-100 focus:border-indigo-500 outline-none transition-all resize-none",placeholder:"e.g. Drink 3L water daily, Avoid sugary drinks...",value:o.notes,onChange:v=>c({...o,notes:v.target.value})})]})]}),e.jsx("div",{className:"p-4 md:p-6 bg-white border-t border-gray-100 mt-auto",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:t,className:"flex-1 h-12 rounded-xl text-sm font-bold text-gray-500 hover:bg-gray-50 transition-all uppercase tracking-widest",children:"Cancel"}),e.jsxs("button",{onClick:g,className:"flex-[2] h-12 bg-indigo-600 text-white rounded-xl text-sm font-black shadow-lg shadow-indigo-100 hover:bg-indigo-700 hover:-translate-y-0.5 active:translate-y-0 transition-all flex items-center justify-center gap-2 uppercase tracking-[0.2em]",children:[e.jsx(xa,{size:18})," Save Plan"]})]})})]})}):null},iM=({isOpen:s,onClose:t,onAssign:a,planName:l})=>{const[i,o]=b.useState(""),[c,u]=b.useState([]),[x,h]=b.useState(""),[p,f]=b.useState(""),[y,g]=b.useState(""),C=[{id:"M-101",name:"John Doe",currentPlan:"Fat Loss Shred"},{id:"M-102",name:"Jane Smith",currentPlan:null},{id:"M-103",name:"Mike Monitor",currentPlan:"Lean Bulk"},{id:"M-104",name:"Alice Cooper",currentPlan:null},{id:"M-105",name:"Bob Builder",currentPlan:"Maintenance"}].filter(k=>k.name.toLowerCase().includes(i.toLowerCase())||k.id.toLowerCase().includes(i.toLowerCase())),N=k=>{u(A=>A.includes(k)?A.filter(E=>E!==k):[...A,k])};return s?e.jsx(rt,{isOpen:s,onClose:t,title:"Assign Diet Plan",subtitle:l,maxWidth:"max-w-lg",footer:e.jsxs("div",{className:"flex gap-3 w-full",children:[e.jsx("button",{onClick:t,className:"flex-1 py-3.5 bg-white text-gray-600 rounded-xl font-bold border border-gray-200 hover:bg-gray-50 transition-all text-sm",children:"Cancel"}),e.jsxs("button",{onClick:()=>{a({members:c,startDate:x,endDate:p,notes:y}),t()},disabled:c.length===0||!x||!p,className:"flex-[2] py-3.5 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-indigo-200 active:scale-95 text-sm flex items-center justify-center gap-2",children:["Assign to ",c.length," Members"]})]}),children:e.jsx("div",{className:"flex flex-col h-full",children:e.jsxs("div",{className:"flex-1 overflow-y-auto pr-2 space-y-6",children:[e.jsxs("div",{className:"bg-slate-50 p-5 rounded-[24px] border border-slate-100 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 pl-1",children:"Start Date"}),e.jsx("input",{type:"date",className:"w-full h-11 bg-white border border-slate-200 rounded-xl px-4 text-sm font-bold focus:border-indigo-500 outline-none",value:x,onChange:k=>h(k.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 pl-1",children:"End Date"}),e.jsx("input",{type:"date",className:"w-full h-11 bg-white border border-slate-200 rounded-xl px-4 text-sm font-bold focus:border-indigo-500 outline-none",value:p,onChange:k=>f(k.target.value)})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 pl-1",children:"Assignment Notes (Optional)"}),e.jsx("textarea",{className:"w-full h-20 bg-white border border-slate-200 rounded-xl px-4 py-2 text-sm font-medium focus:border-indigo-500 outline-none resize-none",placeholder:"Add specific instructions for the member...",value:y,onChange:k=>g(k.target.value)})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(st,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{type:"text",placeholder:"Search members...",className:"w-full pl-11 pr-4 py-3 bg-gray-50 border-none rounded-2xl font-bold text-sm focus:ring-2 focus:ring-indigo-500 outline-none transition-all",value:i,onChange:k=>o(k.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[C.map(k=>{const A=c.includes(k.id);return e.jsxs("div",{onClick:()=>N(k.id),className:`p-4 rounded-2xl border transition-all cursor-pointer flex items-center justify-between group ${A?"bg-indigo-50 border-indigo-200 shadow-inner":"bg-white border-gray-100 hover:border-gray-200 hover:bg-gray-50/50"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center text-sm font-bold transition-colors ${A?"bg-indigo-600 text-white":"bg-gray-100 text-gray-500"}`,children:k.name.charAt(0)}),e.jsxs("div",{children:[e.jsx("p",{className:`font-bold text-sm ${A?"text-indigo-900":"text-gray-900"}`,children:k.name}),e.jsx("p",{className:"text-xs font-semibold text-gray-400",children:k.currentPlan?`Current: ${k.currentPlan}`:"No active plan"})]})]}),e.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all ${A?"border-indigo-600 bg-indigo-600 text-white":"border-gray-200 text-transparent group-hover:border-gray-300"}`,children:e.jsx(Zt,{size:14,strokeWidth:4})})]},k.id)}),C.length===0&&e.jsxs("div",{className:"text-center py-8 text-gray-400",children:[e.jsx(lt,{size:32,className:"mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm font-bold",children:"No members found"})]})]})]})})}):null},oM=async()=>{try{return(await ve.get("/auth/me")).data}catch(s){throw s.response?.data?.message||"Failed to fetch profile"}},cM=async s=>{try{return(await ve.patch("/auth/profile",s)).data}catch(t){throw t.response?.data?.message||"Failed to update profile"}},dM=async s=>{try{return(await ve.post("/member/plan/upgrade",{newPlan:s})).data}catch(t){throw t.response?.data?.message||"Failed to upgrade plan"}},uM=async()=>{try{return(await ve.post("/member/plan/cancel")).data}catch(s){throw s.response?.data?.message||"Failed to cancel membership"}},xM=async()=>{try{return(await ve.get("/member/wallet/transactions")).data}catch(s){throw s.response?.data?.message||"Failed to fetch wallet transactions"}},hM=async s=>{try{return(await ve.post("/member/wallet/add",{amount:s})).data}catch(t){throw t.response?.data?.message||"Failed to add credit"}},mM=async()=>{try{return(await ve.get("/member/bookings")).data}catch(s){throw s.response?.data?.message||"Failed to fetch bookings"}},pM=async s=>{try{const t=await ve.delete(`/member/bookings/${s}`);return{success:!0,id:s}}catch(t){throw t.response?.data?.message||"Failed to cancel booking"}},fM=async(s,t)=>{try{const a=await ve.patch(`/member/bookings/${s}/reschedule`,{newDate:t});return{success:!0}}catch(a){throw a.response?.data?.message||"Failed to reschedule booking"}},Iy=async s=>{try{return{success:!0,data:(await ve.post("/member/bookings",s)).data}}catch(t){throw t.response?.data?.message||"Failed to create booking"}},gM=async s=>{try{return(await ve.patch(`/member/diet-plans/${s}/complete`)).data}catch(t){throw t.response?.data?.message||"Failed to mark plan complete"}},bM=async(s,t)=>{try{return(await ve.post(`/trainer/diet-plans/${s}/assign`,{memberId:t})).data}catch(a){throw a.response?.data?.message||"Failed to assign plan"}},qN=async()=>{try{return(await ve.post("/member/membership/freeze")).data}catch(s){throw s.response?.data?.message||"Failed to freeze membership"}},HN=async()=>{try{return(await ve.post("/member/membership/unfreeze")).data}catch(s){throw s.response?.data?.message||"Failed to unfreeze membership"}},vM=async()=>{try{return(await ve.get("/member/invoices")).data}catch(s){throw s.response?.data?.message||"Failed to fetch invoices"}},yM=async s=>{try{return(await ve.post(`/member/invoices/${s}/pay`)).data}catch(t){throw t.response?.data?.message||"Failed to pay invoice"}},jM=async()=>{try{return(await ve.get("/member/wallet/balance")).data}catch(s){throw s.response?.data?.message||"Failed to fetch wallet balance"}},WN=async()=>{try{return(await ve.get("/member/cards")).data}catch(s){throw s.response?.data?.message||"Failed to fetch saved cards"}},GN=async s=>{try{return(await ve.post("/member/cards",s)).data}catch(t){throw t.response?.data?.message||"Failed to add card"}},VN=async s=>{try{return(await ve.delete(`/member/cards/${s}`)).data}catch(t){throw t.response?.data?.message||"Failed to delete card"}},wM=async()=>{try{return(await ve.get("/member/membership-details")).data}catch(s){throw s.response?.data?.message||"Failed to fetch membership details"}},NM=async()=>{try{return(await ve.get("/member/service-requests")).data}catch(s){throw s.response?.data?.message||"Failed to fetch service requests"}},By=async s=>{try{return(await ve.post("/member/service-requests",s)).data}catch(t){throw t.response?.data?.message||"Failed to create service request"}},kM=async()=>{try{return(await ve.get("/member/classes")).data}catch(s){throw s.response?.data?.message||"Failed to fetch classes"}},YN=async()=>{try{return(await ve.get("/member/profile")).data}catch(s){throw s.response?.data?.message||"Failed to fetch member exact profile"}},SM=async()=>{try{return(await ve.get("/member/workout-plans")).data}catch(s){throw s.response?.data?.message||"Failed to fetch workout plans"}},CM=async()=>{try{return(await ve.get("/member/diet-plans")).data}catch(s){throw s.response?.data?.message||"Failed to fetch diet plans"}},AM=async()=>{try{return(await ve.get("/member/rewards/catalog")).data}catch(s){throw s.response?.data?.message||"Failed to fetch reward catalog"}},DM=async s=>{try{return(await ve.post("/member/rewards/redeem",{catalogId:s})).data}catch(t){throw t.response?.data?.message||"Failed to redeem reward"}},mf=({role:s})=>{Ht(),Pr();const t=s==="TRAINER"||s==="SUPER_ADMIN"||s==="MANAGER"||s==="BRANCH_ADMIN",[a,l]=b.useState([]),[i,o]=b.useState(""),[c,u]=b.useState(null),[x,h]=b.useState(0),[p,f]=b.useState(!0),[y,g]=b.useState(!1),[v,C]=b.useState(null),[N,k]=b.useState(!1),[A,E]=b.useState(null);kn.useEffect(()=>{w()},[t]);const w=async()=>{try{f(!0);const V=t?await yN():await CM();l(V),V.length>0&&u(V[0])}catch(V){console.error("Failed to load plans:",V),ot.error("Failed to load diet plans")}finally{f(!1)}},R=async V=>{try{A&&A.id?(await X9(A.id,V),ot.success("Plan updated successfully")):(await Y9(V),ot.success("Plan created successfully")),await w(),k(!1),E(null)}catch($){console.error("Error saving plan",$),ot.error("Failed to save plan")}},T=async(V,$)=>{$.stopPropagation();try{await K9(V),ot.success("Status toggled successfully"),await w()}catch(le){console.error("Error toggling status",le),ot.error("Failed to change status")}},O=async()=>{if(c)try{await gM(c.id),ot.success("Diet plan marked complete!"),await w()}catch{ot.success("Great work! Keep it up! ")}},W=async V=>{try{await Promise.all(V.map($=>bM(v,$))),ot.success("Plan assigned successfully!"),g(!1)}catch{ot.error("Failed to assign plan")}},B=V=>a.find(le=>le.clientId===V)?.client?.name||"Unassigned",z=V=>{try{const $=typeof V.macros=="string"?JSON.parse(V.macros):V.macros;return{protein:$?.protein||0,carbs:$?.carbs||0,fats:$?.fats||0}}catch{return{protein:0,carbs:0,fats:0}}},P=V=>{try{const $=typeof V.meals=="string"?JSON.parse(V.meals):V.meals;return Array.isArray($)?$:[]}catch{return[]}},F=V=>{if(!V?.createdAt)return 0;const $=Math.ceil((new Date-new Date(V.createdAt))/(1e3*60*60*24*28)*100);return Math.min(100,Math.max(0,$))},G=a.filter(V=>V.name.toLowerCase().includes(i.toLowerCase())||B(V.clientId).toLowerCase().includes(i.toLowerCase())),Y=()=>e.jsx("div",{className:"hidden md:block bg-white rounded-3xl shadow-sm border border-gray-100 overflow-hidden fade-in",children:e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50/50 border-b border-gray-100",children:[e.jsx("th",{className:"px-6 py-4 text-[10px] font-black uppercase tracking-widest text-gray-400",children:"Plan Name"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black uppercase tracking-widest text-gray-400",children:"Client"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black uppercase tracking-widest text-gray-400",children:"Goal"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black uppercase tracking-widest text-gray-400 text-center",children:"Calories"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black uppercase tracking-widest text-gray-400 text-center",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black uppercase tracking-widest text-gray-400 text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-50",children:G.map(V=>e.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors group",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-indigo-50 flex items-center justify-center text-indigo-600",children:e.jsx(zd,{size:16})}),e.jsx("span",{className:"text-sm font-bold text-gray-900 line-clamp-1",children:V.name})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"text-xs font-bold text-gray-600",children:B(V.clientId)})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest px-2.5 py-1 rounded-full ${V.target==="Weight Loss"?"bg-rose-50 text-rose-600":V.target==="Muscle Gain"?"bg-emerald-50 text-emerald-600":"bg-blue-50 text-blue-600"}`,children:V.target})}),e.jsx("td",{className:"px-6 py-4 text-center",children:e.jsxs("span",{className:"text-xs font-black text-gray-900",children:[V.calories," ",e.jsx("span",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-tighter",children:"kcal"})]})}),e.jsx("td",{className:"px-6 py-4 text-center",children:e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-widest ${V.status==="Active"?"bg-emerald-50 text-emerald-600":"bg-gray-100 text-gray-400"}`,children:[e.jsx("div",{className:`w-1 h-1 rounded-full ${V.status==="Active"?"bg-emerald-500":"bg-gray-400"}`}),V.status]})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>{u(V),k(!1)},className:"p-2 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-all",title:"View Details",children:e.jsx(qs,{size:16})}),e.jsx("button",{onClick:()=>{E(V),k(!0)},className:"p-2 text-gray-400 hover:text-amber-600 hover:bg-amber-50 rounded-lg transition-all",title:"Edit Plan",children:e.jsx(Ra,{size:16})}),e.jsx("button",{onClick:$=>T(V.id,$),className:`p-2 rounded-lg transition-all ${V.status==="Active"?"text-gray-400 hover:text-red-500 hover:bg-red-50":"text-gray-400 hover:text-emerald-500 hover:bg-emerald-50"}`,title:V.status==="Active"?"Deactivate":"Activate",children:e.jsx(py,{size:16})})]})})]},V.id))})]}),G.length===0&&e.jsxs("div",{className:"py-20 flex flex-col items-center justify-center text-gray-400",children:[e.jsx(st,{size:48,strokeWidth:1,className:"mb-4 opacity-20"}),e.jsx("p",{className:"text-sm font-bold",children:"No diet plans found matching your search."})]})]})}),me=()=>e.jsxs("div",{className:"md:hidden space-y-4 fade-in",children:[G.map(V=>e.jsxs("div",{className:"bg-white p-5 rounded-3xl shadow-sm border border-gray-100 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-indigo-50 flex items-center justify-center text-indigo-600",children:e.jsx(zd,{size:20})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-black text-gray-900 leading-tight",children:V.name}),e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mt-0.5",children:B(V.clientId)})]})]}),e.jsx("span",{className:`text-[9px] font-black uppercase tracking-widest px-2 py-1 rounded-full ${V.target==="Weight Loss"?"bg-rose-50 text-rose-600":V.target==="Muscle Gain"?"bg-emerald-50 text-emerald-600":"bg-blue-50 text-blue-600"}`,children:V.target})]}),e.jsxs("div",{className:"flex items-center justify-between py-3 border-y border-gray-50",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Daily Calories"}),e.jsxs("p",{className:"text-sm font-black text-gray-900",children:[V.calories," ",e.jsx("span",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-tighter",children:"kcal"})]})]}),e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[9px] font-black uppercase tracking-widest ${V.status==="Active"?"bg-emerald-50 text-emerald-600":"bg-gray-100 text-gray-400"}`,children:[e.jsx("div",{className:`w-1 h-1 rounded-full ${V.status==="Active"?"bg-emerald-500":"bg-gray-400"}`}),V.status]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-1",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{u(V),k(!1)},className:"px-4 py-2 bg-indigo-50 text-indigo-600 rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-indigo-100 transition-all",children:"View"}),e.jsx("button",{onClick:()=>{E(V),k(!0)},className:"px-4 py-2 bg-amber-50 text-amber-600 rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-amber-100 transition-all",children:"Edit"})]}),e.jsx("button",{onClick:$=>T(V.id,$),className:`p-2.5 rounded-xl border transition-all ${V.status==="Active"?"text-rose-500 bg-rose-50 border-rose-100":"text-emerald-500 bg-emerald-50 border-emerald-100"}`,children:e.jsx(py,{size:18})})]})]},V.id)),G.length===0&&e.jsxs("div",{className:"py-20 flex flex-col items-center justify-center text-gray-400",children:[e.jsx(st,{size:48,strokeWidth:1,className:"mb-4 opacity-20"}),e.jsx("p",{className:"text-sm font-bold text-center",children:"No diet plans found matching your search."})]})]}),H=()=>c?e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 md:gap-10 fade-in",children:[e.jsx("div",{className:"lg:col-span-4 space-y-6",children:e.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-[32px] shadow-sm border border-gray-100 flex flex-col justify-between overflow-hidden relative",children:[e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx("div",{className:"w-12 h-12 bg-indigo-600 rounded-2xl flex items-center justify-center text-white shadow-lg shadow-indigo-100",children:e.jsx(It,{size:24})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-gray-400",children:c.target}),e.jsx("h2",{className:"text-lg font-black text-gray-900 leading-tight",children:c.name})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-5 bg-gray-50 rounded-2xl border border-transparent",children:[e.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-gray-400 mb-1",children:"Calories / Day"}),e.jsxs("div",{className:"text-2xl font-black text-indigo-600",children:[c.calories," ",e.jsx("span",{className:"text-xs text-gray-400 uppercase tracking-widest",children:"kcal"})]})]}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:["protein","carbs","fats"].map(V=>{const $=z(c);return e.jsxs("div",{className:"p-3 bg-white border border-gray-100 rounded-xl text-center",children:[e.jsx("div",{className:"text-[9px] font-black uppercase tracking-tighter text-gray-400 capitalize",children:V.slice(0,1)}),e.jsxs("div",{className:"text-sm font-bold text-gray-900",children:[$[V],"g"]})]},V)})}),e.jsxs("div",{className:"pt-4 space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-[10px] font-black uppercase tracking-widest px-1",children:[e.jsx("span",{className:"text-gray-400",children:"Consistency Focus"}),e.jsxs("span",{className:"text-indigo-600",children:[F(c),"%"]})]}),e.jsx("div",{className:"h-2.5 bg-gray-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-indigo-600 rounded-full transition-all duration-1000",style:{width:`${F(c)}%`}})})]})]})]}),e.jsxs("div",{className:"relative z-10 pt-8 mt-8 border-t border-gray-50 space-y-4",children:[e.jsx("div",{className:"p-4 bg-indigo-50 rounded-2xl",children:e.jsxs("p",{className:"text-[11px] font-bold text-indigo-900 leading-relaxed italic",children:['"',c.notes||"No specific instructions provided.",'"']})}),!t&&e.jsxs("button",{onClick:O,className:"w-full py-4 bg-black text-white rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] hover:bg-indigo-600 transition-all flex items-center justify-center gap-2 shadow-lg shadow-gray-100",children:["MARK COMPLETE ",e.jsx(Zt,{size:16})]}),t&&e.jsx("button",{onClick:()=>u(null),className:"w-full py-4 bg-gray-100 text-gray-600 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] hover:bg-gray-200 transition-all",children:"BACK TO LIST"})]})]})}),e.jsxs("div",{className:"lg:col-span-8 space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2 px-1",children:[e.jsx(zd,{size:18,className:"text-indigo-500"}),e.jsx("h3",{className:"text-sm font-black uppercase tracking-[0.2em] text-gray-900",children:"Meal Sequence"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Array.isArray(P(c))?P(c).map((V,$)=>e.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-gray-100 shadow-sm hover:border-indigo-100 transition-all group overflow-hidden relative",children:[e.jsxs("div",{className:"relative z-10 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-center gap-2 bg-indigo-50 text-indigo-600 px-2.5 py-1 rounded-lg text-[10px] font-black uppercase tracking-widest",children:[e.jsx(Ze,{size:12,strokeWidth:3})," ",V.time]}),e.jsxs("div",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:[V.cals," KCAL"]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-black text-gray-900 mb-1 group-hover:text-indigo-600 transition-colors uppercase tracking-tight",children:V.name}),e.jsx("p",{className:"text-[11px] text-gray-500 font-bold leading-relaxed",children:V.notes})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 pt-2",children:[e.jsxs("div",{className:"bg-gray-50 p-2 rounded-lg text-center",children:[e.jsx("div",{className:"text-[8px] font-black text-gray-400 uppercase",children:"P"}),e.jsxs("div",{className:"text-xs font-black text-gray-700",children:[V.protein,"g"]})]}),e.jsxs("div",{className:"bg-gray-50 p-2 rounded-lg text-center",children:[e.jsx("div",{className:"text-[8px] font-black text-gray-400 uppercase",children:"C"}),e.jsxs("div",{className:"text-xs font-black text-gray-700",children:[V.carbs,"g"]})]}),e.jsxs("div",{className:"bg-gray-50 p-2 rounded-lg text-center",children:[e.jsx("div",{className:"text-[8px] font-black text-gray-400 uppercase",children:"F"}),e.jsxs("div",{className:"text-xs font-black text-gray-700",children:[V.fats,"g"]})]})]})]}),e.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity",children:e.jsx("span",{className:"text-4xl font-black italic",children:$+1})})]},V.id)):e.jsxs("div",{className:"col-span-full py-20 bg-white rounded-3xl border border-dashed border-gray-200 flex flex-col items-center justify-center text-gray-400",children:[e.jsx(zd,{size:40,className:"mb-4 opacity-20"}),e.jsx("p",{className:"text-sm font-bold",children:"No meal sequence defined for this plan."})]})})]})]}):null;return e.jsxs("div",{className:"p-4 md:p-8 bg-[#FBFBFE] min-h-screen font-sans",children:[e.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-black text-gray-900 tracking-tight uppercase mb-1",children:t?"Diet Plans":"My Protocol"}),e.jsx("p",{className:"text-gray-400 font-bold text-xs uppercase tracking-widest",children:t?"Precise nutritional scheduling & macro management":`Active Protocol: ${c?.name||"No Active Plan"}`})]}),t&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative group flex-1 md:flex-none",children:[e.jsx(st,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-indigo-600 transition-colors",size:16}),e.jsx("input",{type:"text",placeholder:"Search plans or clients...",className:"w-full md:w-64 h-11 pl-10 pr-4 bg-white rounded-xl font-bold border border-gray-100 focus:border-indigo-500 outline-none transition-all text-xs",value:i,onChange:V=>o(V.target.value)})]}),e.jsxs("button",{onClick:()=>{E(null),k(!0)},className:"h-11 px-6 bg-indigo-600 text-white rounded-xl text-xs font-black uppercase tracking-[0.15em] shadow-lg shadow-indigo-100 hover:bg-indigo-700 hover:-translate-y-0.5 transition-all flex items-center gap-3",children:[e.jsx(wt,{size:16,strokeWidth:3}),"Create Plan"]})]})]}),t&&!c&&e.jsxs(e.Fragment,{children:[e.jsx(Y,{}),e.jsx(me,{})]}),(c||!t)&&e.jsx(H,{})]}),e.jsx(nM,{isOpen:N,onClose:()=>{k(!1),E(null)},onSave:R,editData:A}),e.jsx(iM,{isOpen:y,onClose:()=>g(!1),onAssign:W,planName:a.find(V=>V.id===v)?.name})]})},Ku=({label:s,value:t,onChange:a,placeholder:l,icon:i})=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-xs font-bold text-gray-500 flex items-center gap-1.5",children:[i&&e.jsx(i,{size:12}),s]}),e.jsx("div",{className:"relative group",children:e.jsx("input",{type:"text",className:"w-full h-12 bg-gray-50 border border-gray-100 rounded-xl px-4 font-bold text-gray-900 focus:bg-white focus:ring-2 focus:ring-indigo-100 focus:border-indigo-500 outline-none transition-all placeholder:font-normal placeholder:text-gray-400",value:t,placeholder:l,onChange:o=>a(o.target.value)})})]}),LM=({isOpen:s,onClose:t,onSave:a,initialData:l=null})=>{const[i,o]=b.useState(1),[c,u]=b.useState({name:"",clientId:"",description:"",target:"Muscle Gain",durationWeeks:12,durationDays:4,difficulty:"Intermediate",intensity:"High",days:{monday:[],tuesday:[],wednesday:[],thursday:[],friday:[],saturday:[],sunday:[]}});kn.useEffect(()=>{l&&s?u({...l,target:l.goal||"Muscle Gain",difficulty:l.level||"Intermediate",durationWeeks:parseInt(l.duration)||12,intensity:l.intensity||"High",description:l.description||""}):!l&&s&&(u({name:"",clientId:"",description:"",target:"Muscle Gain",durationWeeks:12,durationDays:4,difficulty:"Intermediate",intensity:"High",days:{monday:[],tuesday:[],wednesday:[],thursday:[],friday:[],saturday:[],sunday:[]}}),o(1))},[l,s]);const[x,h]=b.useState([]);kn.useEffect(()=>{s&&Em({limit:100}).then(N=>h(N?.data||[])).catch(console.error)},[s]);const[p,f]=b.useState("monday"),[y,g]=b.useState({name:"",sets:3,reps:"10-12",rpe:8,rest:"90s",notes:""});if(!s)return null;const v=()=>{y.name&&(u(N=>({...N,days:{...N.days,[p]:[...N.days[p],{...y,id:Date.now().toString()}]}})),g({name:"",sets:3,reps:"10-12",rpe:8,rest:"90s",notes:""}))},C=(N,k)=>{u(A=>({...A,days:{...A.days,[N]:A.days[N].filter(E=>E.id!==k)}}))};return e.jsx(rt,{isOpen:s,onClose:t,title:l?"Edit Protocol":"Protocol Architect",subtitle:`Step ${i} of 2: ${i===1?"Definitions":"Orchestration"}`,maxWidth:"max-w-5xl",footer:e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("button",{onClick:t,className:"px-6 py-3 text-sm font-bold text-gray-500 hover:text-gray-900 transition-colors",children:"Cancel"}),e.jsxs("div",{className:"flex items-center gap-4",children:[i===2&&e.jsxs("button",{onClick:()=>o(1),className:"px-6 py-3 bg-gray-100 text-gray-600 rounded-xl text-sm font-bold hover:bg-gray-200 transition-all flex items-center gap-2",children:[e.jsx(Xr,{size:18})," Back"]}),e.jsxs("button",{onClick:()=>{if(i===1)o(2);else{if(!c.name||!c.clientId){alert("Please fill in Plan Name and Assign a Client.");return}const N=Object.values(c.days).flat(),k=N.length,E=`${N.reduce((O,W)=>O+(Number(W.sets)||0),0)} Sets / Wk`,w=Object.values(c.days).filter(O=>O.length>0).length,T=`${w?Math.round(k/w*8):0} min`;a({...c,id:c.id||void 0,level:c.difficulty,target:c.target,goal:c.target,duration:`${c.durationWeeks} Weeks`,volume:E,timePerSession:T,intensity:c.intensity})}},className:"px-8 py-3 bg-indigo-600 text-white rounded-xl text-sm font-bold hover:bg-indigo-700 shadow-lg shadow-indigo-200 transition-all flex items-center gap-2",children:[i===1?"Next Step":"Save Protocol",i===1?e.jsx(bs,{size:18}):e.jsx(xa,{size:18})]})]})]}),children:e.jsx("div",{className:"flex flex-col h-full",children:e.jsx("div",{className:"flex-1 overflow-y-auto pr-2 custom-scrollbar",children:i===1?e.jsxs("div",{className:"max-w-3xl mx-auto space-y-8",children:[e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-bold text-gray-700",children:"Protocol Identity"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("input",{type:"text",placeholder:"e.g. Hypertrophy Mastery 2.0",className:"flex-1 h-14 px-4 bg-white border border-gray-200 rounded-xl text-lg font-bold focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 outline-none transition-all placeholder:font-normal placeholder:text-gray-400",value:c.name,onChange:N=>u({...c,name:N.target.value})}),e.jsxs("select",{className:"flex-1 h-14 bg-white border border-gray-200 px-4 rounded-xl text-sm font-bold focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 outline-none transition-all appearance-none",value:c.clientId,onChange:N=>u({...c,clientId:N.target.value}),children:[e.jsx("option",{value:"",children:"Select Client"}),x.map(N=>e.jsx("option",{value:N.id,children:N.name},N.id))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-bold text-gray-700",children:"Description"}),e.jsx("textarea",{placeholder:"Scientific objectives & background...",className:"w-full h-32 px-4 py-3 bg-white border border-gray-200 rounded-xl text-sm font-medium focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 outline-none transition-all resize-none placeholder:font-normal placeholder:text-gray-400",value:c.description,onChange:N=>u({...c,description:N.target.value})})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Target Strategy"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:["Muscle Gain","Fat Loss","Strength","Endurance"].map(N=>e.jsx("button",{onClick:()=>u({...c,target:N}),className:`h-12 rounded-xl text-xs font-bold transition-all border ${c.target===N?"bg-indigo-600 border-indigo-600 text-white shadow-lg shadow-indigo-200":"bg-white border-gray-200 text-gray-600 hover:border-indigo-300 hover:bg-gray-50"}`,children:N},N))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Intensity Level"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:["Low","Moderate","High"].map(N=>e.jsx("button",{onClick:()=>u({...c,intensity:N}),className:`h-12 rounded-xl text-xs font-bold transition-all border ${c.intensity===N?"bg-indigo-600 border-indigo-600 text-white shadow-lg shadow-indigo-200":"bg-white border-gray-200 text-gray-600 hover:border-indigo-300 hover:bg-gray-50"}`,children:N},N))})]})]}),e.jsxs("div",{className:"bg-gray-50 p-6 rounded-2xl border border-gray-100 grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider flex items-center gap-2",children:[e.jsx(Ze,{size:14})," Duration Schedule"]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsx("input",{type:"number",className:"w-full h-12 bg-white border border-gray-200 rounded-xl px-4 font-bold focus:border-indigo-500 outline-none",value:c.durationWeeks,onChange:N=>u({...c,durationWeeks:N.target.value})}),e.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Weeks"})]}),e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsx("input",{type:"number",className:"w-full h-12 bg-white border border-gray-200 rounded-xl px-4 font-bold focus:border-indigo-500 outline-none",value:c.durationDays,onChange:N=>u({...c,durationDays:N.target.value})}),e.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Days / Week"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider flex items-center gap-2",children:[e.jsx(It,{size:14})," Difficulty Tier"]}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{className:"w-full h-12 bg-white border border-gray-200 rounded-xl text-sm px-4 font-bold focus:ring-4 focus:ring-indigo-500/10 focus:border-indigo-500 outline-none transition-all appearance-none",value:c.difficulty,onChange:N=>u({...c,difficulty:N.target.value}),children:[e.jsx("option",{children:"Beginner"}),e.jsx("option",{children:"Intermediate"}),e.jsx("option",{children:"Advanced"}),e.jsx("option",{children:"Pro-Athlete"})]}),e.jsx(bs,{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 rotate-90",size:16})]})]})]})]}):e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[e.jsx("div",{className:"lg:col-span-3 space-y-4",children:["monday","tuesday","wednesday","thursday","friday","saturday","sunday"].map(N=>e.jsxs("button",{onClick:()=>f(N),className:`w-full p-4 rounded-2xl flex items-center justify-between transition-all font-bold text-sm uppercase tracking-wider ${p===N?"bg-indigo-600 text-white shadow-lg shadow-indigo-200":"bg-white text-gray-500 hover:text-indigo-600 hover:text-indigo-600 hover:bg-gray-50"}`,children:[e.jsx("span",{children:N.slice(0,3)}),e.jsx("div",{className:`w-6 h-6 rounded-lg flex items-center justify-center text-[10px] font-bold ${p===N?"bg-white/20":"bg-gray-100"}`,children:c.days[N].length})]},N))}),e.jsxs("div",{className:"lg:col-span-9 space-y-8",children:[e.jsxs("div",{className:"bg-white p-6 rounded-[32px] border border-gray-100 shadow-sm space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-8 h-8 bg-indigo-50 text-indigo-600 rounded-lg flex items-center justify-center",children:e.jsx(Vr,{size:16})}),e.jsxs("h3",{className:"text-lg font-bold text-gray-900",children:["Add Movement to ",e.jsx("span",{className:"capitalize",children:p})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsx(Ku,{label:"Movement Name",icon:Vr,value:y.name,onChange:N=>g({...y,name:N}),placeholder:"e.g. Barbell Squat"})}),e.jsx(Ku,{label:"Sets",icon:Nn,value:y.sets,onChange:N=>g({...y,sets:N})}),e.jsx(Ku,{label:"Reps/Tempo",icon:It,value:y.reps,onChange:N=>g({...y,reps:N}),placeholder:"e.g. 8-10 or 3010"}),e.jsx(Ku,{label:"Target RPE",icon:ua,value:y.rpe,onChange:N=>g({...y,rpe:N})}),e.jsx(Ku,{label:"Rest Period",icon:Ze,value:y.rest,onChange:N=>g({...y,rest:N}),placeholder:"e.g. 90s"}),e.jsxs("div",{className:"md:col-span-2 space-y-2",children:[e.jsxs("label",{className:"text-xs font-bold text-gray-500 flex items-center gap-1.5",children:[e.jsx(Sn,{size:12})," Notes"]}),e.jsx("textarea",{placeholder:"Technical notes, queueing...",className:"w-full h-20 px-4 py-3 bg-gray-50 rounded-xl border border-gray-100 text-sm font-medium focus:ring-4 focus:ring-indigo-500/10 focus:border-indigo-500 outline-none resize-none transition-all",value:y.notes,onChange:N=>g({...y,notes:N.target.value})})]})]}),e.jsxs("button",{onClick:v,className:"w-full h-12 bg-gray-900 text-white rounded-xl font-bold text-sm hover:bg-indigo-600 transition-all shadow-lg hover:shadow-indigo-200 flex items-center justify-center gap-2",children:[e.jsx(wt,{size:18})," Add Movement"]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between px-2",children:[e.jsxs("h4",{className:"text-sm font-bold text-gray-900 uppercase tracking-wider",children:[p," Schedule"]}),e.jsxs("span",{className:"text-xs font-bold text-gray-400",children:[c.days[p].length," Exercises"]})]}),c.days[p].length===0?e.jsx("div",{className:"py-12 text-center bg-gray-50/50 rounded-[24px] border border-dashed border-gray-200 text-gray-400",children:e.jsx("p",{className:"font-semibold text-sm",children:"No exercises added yet"})}):e.jsx("div",{className:"space-y-3",children:c.days[p].map((N,k)=>e.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white rounded-2xl border border-gray-100 shadow-sm hover:border-indigo-100 transition-all group",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center font-bold text-xs text-gray-500 group-hover:bg-indigo-600 group-hover:text-white transition-all",children:k+1}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h5",{className:"font-bold text-gray-900 text-sm",children:N.name}),e.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[e.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider bg-gray-50 px-2 py-0.5 rounded-md",children:[N.sets," Sets"]}),e.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider bg-gray-50 px-2 py-0.5 rounded-md",children:[N.reps," Reps"]}),N.rpe&&e.jsxs("span",{className:"text-[10px] font-bold text-orange-400 uppercase tracking-wider bg-orange-50 px-2 py-0.5 rounded-md",children:["RPE ",N.rpe]})]})]}),e.jsx("button",{onClick:()=>C(p,N.id),className:"p-2 rounded-lg hover:bg-red-50 text-gray-300 hover:text-red-500 transition-all",children:e.jsx(xs,{size:16})})]},N.id))})]})]})]})})})})},EM=({isOpen:s,onClose:t,onAssign:a,planName:l})=>{const[i,o]=b.useState(""),[c,u]=b.useState([]),[x,h]=b.useState(""),[p,f]=b.useState(""),[y,g]=b.useState(""),[v,C]=b.useState([]),[N,k]=b.useState(!1);b.useEffect(()=>{s&&(k(!0),Em({limit:100}).then(w=>C(w?.data||[])).catch(console.error).finally(()=>k(!1)),u([]),h(""),f(""),g(""),o(""))},[s]);const A=v.filter(w=>w.name.toLowerCase().includes(i.toLowerCase())||String(w.id).toLowerCase().includes(i.toLowerCase())),E=w=>{u(R=>R.includes(w)?R.filter(T=>T!==w):[...R,w])};return s?e.jsx(rt,{isOpen:s,onClose:t,title:"Assign Protocol",subtitle:l,maxWidth:"max-w-lg",footer:e.jsxs("div",{className:"flex gap-3 w-full",children:[e.jsx("button",{onClick:t,className:"flex-1 py-3.5 bg-white text-gray-600 rounded-xl font-bold border border-gray-200 hover:bg-gray-50 transition-all text-sm",children:"Cancel"}),e.jsx("button",{onClick:()=>{a({members:c,startDate:x,endDate:p,notes:y}),t()},disabled:c.length===0||!x,className:"flex-[2] py-3.5 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-indigo-200 active:scale-95 text-sm flex items-center justify-center gap-2",children:"Assign Protocol"})]}),children:e.jsx("div",{className:"flex flex-col h-full",children:e.jsxs("div",{className:"flex-1 overflow-y-auto pr-2 space-y-6",children:[e.jsxs("div",{className:"bg-slate-50 p-5 rounded-[24px] border border-slate-100 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 pl-1",children:"Start Date"}),e.jsx("input",{type:"date",className:"w-full h-11 bg-white border border-slate-200 rounded-xl px-4 text-sm font-bold focus:border-indigo-500 outline-none",value:x,onChange:w=>h(w.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 pl-1",children:"End Date (Estimated)"}),e.jsx("input",{type:"date",className:"w-full h-11 bg-white border border-slate-200 rounded-xl px-4 text-sm font-bold focus:border-indigo-500 outline-none",value:p,onChange:w=>f(w.target.value)})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 pl-1",children:"Coach Notes (Optional)"}),e.jsx("textarea",{className:"w-full h-20 bg-white border border-slate-200 rounded-xl px-4 py-2 text-sm font-medium focus:border-indigo-500 outline-none resize-none",placeholder:"Specific focus areas for this member...",value:y,onChange:w=>g(w.target.value)})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(st,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{type:"text",placeholder:"Search athletes...",className:"w-full pl-11 pr-4 py-3 bg-gray-50 border-none rounded-2xl font-bold text-sm focus:ring-2 focus:ring-indigo-500 outline-none transition-all",value:i,onChange:w=>o(w.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[A.map(w=>{const R=c.includes(w.id);return e.jsxs("div",{onClick:()=>E(w.id),className:`p-4 rounded-2xl border transition-all cursor-pointer flex items-center justify-between group ${R?"bg-indigo-50 border-indigo-200 shadow-inner":"bg-white border-gray-100 hover:border-gray-200 hover:bg-gray-50/50"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center text-sm font-bold transition-colors ${R?"bg-indigo-600 text-white":"bg-gray-100 text-gray-500"}`,children:w.name.charAt(0)}),e.jsxs("div",{children:[e.jsx("p",{className:`font-bold text-sm ${R?"text-indigo-900":"text-gray-900"}`,children:w.name}),e.jsx("p",{className:"text-xs font-semibold text-gray-400",children:w.workoutPlans&&w.workoutPlans.length>0?`Current: ${w.workoutPlans[0].name}`:"No active protocol"})]})]}),e.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all ${R?"border-indigo-600 bg-indigo-600 text-white":"border-gray-200 text-transparent group-hover:border-gray-300"}`,children:e.jsx(Zt,{size:14,strokeWidth:4})})]},w.id)}),N&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-6 h-6 border-2 border-indigo-600 border-t-transparent rounded-full animate-spin mx-auto mb-2"}),e.jsx("p",{className:"text-sm font-bold text-gray-400",children:"Loading members..."})]}),!N&&A.length===0&&e.jsxs("div",{className:"text-center py-8 text-gray-400",children:[e.jsx(lt,{size:32,className:"mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm font-bold",children:"No athletes found"})]})]})]})})}):null},MM=({role:s})=>{const t=Ht();Pr();const a=s==="TRAINER"||s==="SUPER_ADMIN"||s==="MANAGER"||s==="BRANCH_ADMIN",[l,i]=b.useState([]),[o,c]=b.useState(""),[u,x]=b.useState(null),[h,p]=b.useState("monday"),[f,y]=b.useState(!0),[g,v]=b.useState(!1),[C,N]=b.useState(null),[k,A]=b.useState(!1),[E,w]=b.useState(null);kn.useEffect(()=>{R()},[a]);const R=async()=>{try{y(!0);const G=a?await jN():await SM();i(G),G.length>0&&x(G[0])}catch(G){console.error("Failed to load plans:",G),ot.error("Failed to load workout plans")}finally{y(!1)}},T=async G=>{try{C&&C.id?(await Q9(C.id,G),ot.success("Protocol updated successfully")):(await J9(G),ot.success("Protocol created successfully")),await R(),v(!1),N(null)}catch(Y){console.error("Error saving plan",Y),ot.error("Failed to save protocol")}},O=async G=>{if(window.confirm("Are you sure you want to permanently delete this workout protocol?"))try{await Z9(G),ot.success("Protocol deleted successfully"),await R()}catch(Y){console.error("Error deleting plan",Y),ot.error("Failed to delete protocol")}},W=G=>{w(G),A(!0)},B=async G=>{try{const{members:Y,startDate:me,endDate:H,notes:V}=G;for(const $ of Y)await wN($,{planId:E,type:"Workout",startDate:me,endDate:H,notes:V});ot.success(`Protocol reliably assigned to ${Y.length} member(s).`),A(!1),await R()}catch(Y){console.error("Error assigning plan",Y),ot.error("Failed to assign protocol")}},z=G=>{N(G),v(!0)},P=()=>{N(null),v(!0)},F=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"];return e.jsxs("div",{className:"p-6 md:p-8 min-h-screen font-sans bg-gradient-to-br from-slate-50 via-white to-violet-50/30",children:[e.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-black bg-gradient-to-r from-slate-900 to-slate-700 bg-clip-text text-transparent tracking-tight mb-2",children:a?"Training Architecture":"Force & Hypertrophy"}),e.jsx("p",{className:"text-slate-500 font-medium text-sm md:text-lg max-w-2xl leading-relaxed",children:a?"Design and manage evidence-based training protocols.":`Executing the ${u?.name} protocol. Focus on form and tempo.`})]}),a&&e.jsxs("button",{onClick:P,className:"group px-6 py-3 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-xl text-sm font-bold shadow-lg shadow-violet-200 hover:shadow-violet-500/30 hover:-translate-y-0.5 transition-all flex items-center justify-center gap-2 w-full md:w-auto",children:[e.jsx(wt,{size:18,strokeWidth:2.5}),"Create Protocol"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 md:gap-8",children:[a?e.jsx("div",{className:"lg:col-span-4 space-y-6",children:e.jsxs("div",{className:"bg-white p-4 md:p-6 rounded-[32px] shadow-xl shadow-slate-200/50 border border-slate-100 space-y-6",children:[e.jsxs("div",{className:"relative group",children:[e.jsx(st,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-600 transition-colors",size:18}),e.jsx("input",{type:"text",placeholder:"Search Protocols...",className:"w-full h-12 pl-12 pr-4 bg-slate-50 rounded-xl font-semibold border-transparent focus:bg-white focus:ring-2 focus:ring-violet-100 outline-none transition-all placeholder:font-bold placeholder:text-slate-400 text-sm",value:o,onChange:G=>c(G.target.value)})]}),e.jsx("div",{className:"space-y-3 max-h-[400px] md:max-h-[600px] overflow-y-auto pr-2 custom-scrollbar",children:l.filter(G=>G.name.toLowerCase().includes(o.toLowerCase())).map(G=>e.jsx("div",{onClick:()=>x(G),className:`w-full p-4 md:p-5 rounded-2xl text-left transition-all relative group cursor-pointer border ${u?.id===G.id?"bg-gradient-to-r from-violet-600 to-purple-600 border-transparent shadow-lg shadow-violet-200":"bg-white border-slate-100 hover:border-violet-100 hover:shadow-md hover:shadow-violet-500/5"}`,children:e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("div",{className:`p-2 rounded-xl ${u?.id===G.id?"bg-white/20 text-white":"bg-violet-50 text-violet-600"}`,children:e.jsx(Vr,{size:18,strokeWidth:2.5})}),e.jsxs("div",{className:"flex gap-1",onClick:Y=>Y.stopPropagation(),children:[e.jsx("button",{onClick:()=>W(G.id),className:`p-1.5 rounded-lg transition-colors ${u?.id===G.id?"text-white/80 hover:bg-white/20 hover:text-white":"text-slate-400 hover:bg-violet-50 hover:text-violet-600"}`,title:"Assign",children:e.jsx(lt,{size:16})}),e.jsx("button",{onClick:()=>z(G),className:`p-1.5 rounded-lg transition-colors ${u?.id===G.id?"text-white/80 hover:bg-white/20 hover:text-white":"text-slate-400 hover:bg-violet-50 hover:text-violet-600"}`,title:"Edit",children:e.jsx(Ra,{size:16})}),e.jsx("button",{onClick:()=>O(G.id),className:`p-1.5 rounded-lg transition-colors ${u?.id===G.id?"text-white/80 hover:bg-white/20 hover:text-red-200":"text-slate-400 hover:bg-red-50 hover:text-red-500"}`,title:"Delete",children:e.jsx(xs,{size:16})})]})]}),e.jsx("h3",{className:`text-base font-bold mb-1 ${u?.id===G.id?"text-white":"text-slate-900"}`,children:G.name}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`text-xs font-bold ${u?.id===G.id?"text-violet-100":"text-slate-500"}`,children:G.level||G.difficulty||"Advanced"}),e.jsx("div",{className:`w-1 h-1 rounded-full ${u?.id===G.id?"bg-violet-300":"bg-slate-300"}`}),e.jsx("span",{className:`text-xs font-bold ${u?.id===G.id?"text-violet-100":"text-slate-500"}`,children:G.duration||"12 Weeks"})]})]})},G.id))})]})}):e.jsx("div",{className:"lg:col-span-4 space-y-6 md:space-y-8",children:e.jsxs("div",{className:"bg-white rounded-[32px] md:rounded-[40px] p-6 md:p-8 relative overflow-hidden h-full flex flex-col justify-between min-h-[400px] border border-slate-100 shadow-xl shadow-slate-200/50 group",children:[e.jsx("div",{className:"absolute top-0 right-0 w-[300px] h-[300px] bg-violet-100/50 rounded-full blur-[80px] opacity-60 group-hover:opacity-80 transition-opacity duration-700"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-[250px] h-[250px] bg-fuchsia-100/50 rounded-full blur-[80px] opacity-60"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6 md:mb-8",children:[e.jsx("div",{className:"w-12 h-12 md:w-14 md:h-14 bg-gradient-to-br from-violet-500 to-purple-600 rounded-2xl flex items-center justify-center shadow-lg shadow-violet-200 text-white",children:e.jsx(Qs,{size:24,className:"md:w-7 md:h-7",strokeWidth:2.5})}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-400 mb-1",children:"Current Week"}),e.jsxs("div",{className:"text-xl md:text-2xl font-black text-slate-900",children:["Week ",u&&Math.ceil((new Date-new Date(u.createdAt))/(1e3*60*60*24*7))||1]})]})]}),e.jsxs("div",{className:"space-y-6 md:space-y-8",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-xs font-bold uppercase tracking-wider mb-3",children:[e.jsx("span",{className:"text-slate-600",children:"Protocol Progress"}),e.jsxs("span",{className:"text-violet-600",children:[u?Math.min(100,Math.ceil((new Date-new Date(u.createdAt))/(1e3*60*60*24*7*12)*100)):0,"%"]})]}),e.jsx("div",{className:"h-3 bg-slate-100 rounded-full overflow-hidden p-[2px] border border-slate-200",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-violet-500 to-purple-500 rounded-full relative overflow-hidden shadow-sm transition-all duration-1000",style:{width:`${u?Math.min(100,Math.ceil((new Date-new Date(u.createdAt))/(1e3*60*60*24*7*12)*100)):0}%`},children:e.jsx("div",{className:"absolute inset-0 bg-white/30 animate-[shimmer_2s_infinite]"})})})]}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:e.jsxs("div",{className:"bg-slate-50/80 p-5 md:p-6 rounded-2xl flex items-center justify-between border border-slate-100",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-400 mb-1",children:"Status"}),e.jsx("div",{className:"text-base md:text-lg font-black text-emerald-600 uppercase tracking-tight",children:"Active Plan"})]}),e.jsx("div",{className:"w-10 h-10 bg-white rounded-full flex items-center justify-center shadow-sm text-emerald-500",children:e.jsx(It,{size:20,className:"animate-pulse"})})]})})]})]}),e.jsxs("button",{onClick:()=>t("/progress"),className:"relative z-10 w-full py-4 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-2xl font-bold text-xs uppercase tracking-widest hover:shadow-lg hover:shadow-violet-500/30 hover:-translate-y-1 transition-all mt-6 md:mt-8 flex items-center justify-center gap-3 overflow-hidden group/btn",children:[e.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:["Open Progress Lab ",e.jsx(bs,{size:16})]}),e.jsx("div",{className:"absolute inset-0 bg-white/20 translate-y-full group-hover/btn:translate-y-0 transition-transform duration-300"})]})]})}),e.jsxs("div",{className:"lg:col-span-8 space-y-6 md:space-y-8",children:[e.jsx("div",{className:"flex overflow-x-auto gap-3 pb-2 no-scrollbar",children:["all",...F].map(G=>{const Y=G==="all"||u?.days?.[G]?.length>0;return e.jsx("button",{onClick:()=>Y&&p(G),className:`flex-shrink-0 px-6 py-3.5 rounded-xl text-sm font-bold transition-all border ${h===G?"bg-gradient-to-r from-violet-600 to-purple-600 text-white shadow-lg shadow-violet-200 border-transparent scale-105":Y?"bg-white border-slate-200 text-slate-700 hover:border-violet-200 hover:bg-violet-50 hover:text-violet-700":"bg-slate-50 border-transparent text-slate-300 cursor-not-allowed"}`,children:G.toUpperCase()},G)})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6",children:[{label:"Total Volume",value:u?.volume||"N/A",icon:It,color:"text-violet-600",bg:"bg-violet-50",border:"border-violet-100"},{label:"Est. Duration",value:u?.timePerSession||u?.avgDuration||"60 min",icon:Ze,color:"text-orange-600",bg:"bg-orange-50",border:"border-orange-100"},{label:"Intensity",value:u?.intensity||"High",icon:ua,color:"text-amber-600",bg:"bg-amber-50",border:"border-amber-100"}].map((G,Y)=>e.jsxs("div",{className:`bg-white p-6 rounded-[24px] shadow-sm border ${G.border} flex items-center gap-5 hover:shadow-lg transition-all hover:-translate-y-1`,children:[e.jsx("div",{className:`w-12 h-12 ${G.bg} ${G.color} rounded-2xl flex items-center justify-center`,children:e.jsx(G.icon,{size:22,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-[10px] font-bold uppercase tracking-wider text-slate-400 mb-0.5",children:G.label}),e.jsx("div",{className:"text-xl font-black text-slate-900",children:G.value})]})]},Y))}),e.jsxs("div",{className:"bg-white rounded-[32px] shadow-xl shadow-slate-200/50 border border-slate-100 overflow-hidden",children:[e.jsx("div",{className:"p-4 md:p-6 border-b border-slate-100 bg-slate-50/50 flex flex-col md:flex-row md:items-center justify-between gap-4 md:gap-0",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white rounded-2xl flex items-center justify-center text-violet-600 shadow-sm border border-slate-100",children:e.jsx(Xe,{size:24,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-black text-slate-900 tracking-tight",children:u?h==="all"?"Full Weekly Architecture":`Day ${F.indexOf(h)+1}: ${u.name}`:"Today's Protocol"}),e.jsxs("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest mt-0.5",children:["Focus: ",u?.goal||"Strength & Power"]})]})]})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"space-y-4",children:h==="all"?F.map(G=>u?.days?.[G]?.length>0&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4 px-2 py-2 border-b border-slate-50 mb-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-violet-500 shadow-sm animate-pulse"}),e.jsx("span",{className:"text-xs font-black text-slate-900 uppercase tracking-[0.2em]",children:G})]}),u.days[G].map((Y,me)=>e.jsxs("div",{className:"group flex flex-col md:flex-row items-stretch md:items-center p-5 rounded-2xl bg-white border border-slate-100 hover:border-violet-200 hover:shadow-lg hover:shadow-violet-500/5 transition-all gap-6 relative overflow-hidden",children:[e.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-violet-500 opacity-0 group-hover:opacity-100 transition-opacity"}),e.jsxs("div",{className:"flex items-center gap-5 md:w-1/3",children:[e.jsx("div",{className:"w-12 h-12 bg-slate-50 rounded-2xl flex items-center justify-center shadow-inner text-slate-400 font-black text-lg group-hover:bg-violet-600 group-hover:text-white transition-all duration-300",children:me+1}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-base font-bold text-slate-900 mb-1 group-hover:text-violet-700 transition-colors",children:Y.name}),e.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-400 bg-slate-50 px-2 py-1 rounded-md border border-slate-100",children:Y.notes?Y.notes.length>20?Y.notes.substring(0,20)+"...":Y.notes:"Standard Movement"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 flex-1",children:[e.jsxs("div",{className:"text-center md:text-left",children:[e.jsx("div",{className:"text-[9px] font-black uppercase tracking-widest text-slate-400 mb-1",children:"Sets"}),e.jsx("div",{className:"text-sm font-bold text-slate-900 bg-slate-50 inline-block px-3 py-1 rounded-lg border border-slate-100",children:Y.sets})]}),e.jsxs("div",{className:"text-center md:text-left",children:[e.jsx("div",{className:"text-[9px] font-black uppercase tracking-widest text-slate-400 mb-1",children:"Reps"}),e.jsx("div",{className:"text-sm font-bold text-slate-900 bg-slate-50 inline-block px-3 py-1 rounded-lg border border-slate-100",children:Y.reps})]}),e.jsxs("div",{className:"text-center md:text-left",children:[e.jsx("div",{className:"text-[9px] font-black uppercase tracking-widest text-slate-400 mb-1",children:"RPE"}),e.jsxs("div",{className:"text-sm font-bold text-orange-600 flex items-center gap-1",children:[e.jsx(lm,{size:12,fill:"currentColor"})," ",Y.rpe,"/10"]})]}),e.jsxs("div",{className:"text-center md:text-left",children:[e.jsx("div",{className:"text-[9px] font-black uppercase tracking-widest text-slate-400 mb-1",children:"Rest"}),e.jsx("div",{className:"text-sm font-bold text-violet-600",children:Y.rest})]})]}),e.jsx("button",{className:"hidden md:flex w-10 h-10 bg-slate-50 rounded-xl items-center justify-center text-slate-400 hover:text-violet-600 hover:bg-violet-50 transition-all border border-transparent hover:border-violet-100",children:e.jsx(Sn,{size:18})})]},`${G}-${Y.id}`))]},G)):u?.days?.[h]?.length>0?u.days[h].map((G,Y)=>e.jsxs("div",{className:"group flex flex-col md:flex-row items-stretch md:items-center p-5 rounded-2xl bg-white border border-slate-100 hover:border-violet-200 hover:shadow-lg hover:shadow-violet-500/5 transition-all gap-6 relative overflow-hidden",children:[e.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-violet-500 opacity-0 group-hover:opacity-100 transition-opacity"}),e.jsxs("div",{className:"flex items-center gap-5 md:w-1/3",children:[e.jsx("div",{className:"w-12 h-12 bg-slate-50 rounded-2xl flex items-center justify-center shadow-inner text-slate-400 font-black text-lg group-hover:bg-violet-600 group-hover:text-white transition-all duration-300",children:Y+1}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-base font-bold text-slate-900 mb-1 group-hover:text-violet-700 transition-colors",children:G.name}),e.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-400 bg-slate-50 px-2 py-1 rounded-md border border-slate-100",children:G.notes?G.notes.length>20?G.notes.substring(0,20)+"...":G.notes:"Standard Movement"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 flex-1",children:[e.jsxs("div",{className:"text-center md:text-left",children:[e.jsx("div",{className:"text-[9px] font-black uppercase tracking-widest text-slate-400 mb-1",children:"Sets"}),e.jsx("div",{className:"text-sm font-bold text-slate-900 bg-slate-50 inline-block px-3 py-1 rounded-lg border border-slate-100",children:G.sets})]}),e.jsxs("div",{className:"text-center md:text-left",children:[e.jsx("div",{className:"text-[9px] font-black uppercase tracking-widest text-slate-400 mb-1",children:"Reps"}),e.jsx("div",{className:"text-sm font-bold text-slate-900 bg-slate-50 inline-block px-3 py-1 rounded-lg border border-slate-100",children:G.reps})]}),e.jsxs("div",{className:"text-center md:text-left",children:[e.jsx("div",{className:"text-[9px] font-black uppercase tracking-widest text-slate-400 mb-1",children:"RPE"}),e.jsxs("div",{className:"text-sm font-bold text-orange-600 flex items-center gap-1",children:[e.jsx(lm,{size:12,fill:"currentColor"})," ",G.rpe,"/10"]})]}),e.jsxs("div",{className:"text-center md:text-left",children:[e.jsx("div",{className:"text-[9px] font-black uppercase tracking-widest text-slate-400 mb-1",children:"Rest"}),e.jsx("div",{className:"text-sm font-bold text-violet-600",children:G.rest})]})]}),e.jsx("button",{className:"hidden md:flex w-10 h-10 bg-slate-50 rounded-xl items-center justify-center text-slate-400 hover:text-violet-600 hover:bg-violet-50 transition-all border border-transparent hover:border-violet-100",children:e.jsx(Sn,{size:18})})]},G.id)):e.jsxs("div",{className:"text-center py-20 bg-slate-50/50 rounded-[32px] border-2 border-dashed border-slate-200",children:[e.jsx("div",{className:"w-20 h-20 bg-white rounded-3xl flex items-center justify-center text-slate-300 mx-auto mb-6 shadow-sm",children:e.jsx(ua,{size:40})}),e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"Rest & Recovery Day"}),e.jsx("p",{className:"text-slate-500 font-medium max-w-xs mx-auto text-sm leading-relaxed",children:"No specific protocol scheduled. Focus on active recovery and hydration."})]})})})]})]})]})]}),e.jsx(LM,{isOpen:g,onClose:()=>v(!1),onSave:T,initialData:C}),e.jsx(EM,{isOpen:k,onClose:()=>A(!1),onAssign:B,planName:l.find(G=>G.id===E)?.name})]})},XN=async(s=null)=>{const t=s?`/trainer/members/${s}/progress`:"/member/progress";return(await ve.get(t)).data},zM=async s=>(await ve.post("/member/progress",s)).data,Ad=({label:s,value:t,onChange:a,unit:l,icon:i})=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] px-1",children:s}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-600 transition-colors duration-300",children:e.jsx(i,{size:18})}),e.jsx("input",{type:"number",step:"0.1",className:"w-full h-14 pl-12 pr-12 bg-white border-2 border-slate-200 rounded-2xl text-lg font-black text-slate-900 focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 transition-all shadow-sm group-hover:border-violet-200",value:t,onChange:o=>a(o.target.value)}),e.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 font-bold text-sm",children:l})]})]}),TM=({isOpen:s,onClose:t,onSave:a})=>{const[l,i]=b.useState({weight:"",bodyFat:"",height:"",chest:"",waist:"",arms:"",legs:""});if(!s)return null;const o=()=>{a(l)};return e.jsx(rt,{isOpen:s,onClose:t,title:"Log Transformation",subtitle:`Entry Date: ${new Date().toLocaleDateString()}`,maxWidth:"max-w-2xl",footer:e.jsxs("div",{className:"flex items-center justify-end gap-6 w-full",children:[e.jsx("button",{onClick:t,className:"px-8 py-4 text-slate-500 text-xs font-black uppercase tracking-widest hover:text-red-500 transition-colors",children:"Discard"}),e.jsxs("button",{onClick:o,className:"group relative px-10 py-4 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-2xl text-sm font-black shadow-xl shadow-violet-200 hover:shadow-2xl hover:shadow-violet-500/30 hover:-translate-y-0.5 active:translate-y-0 transition-all flex items-center gap-3 overflow-hidden",children:[e.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:["INTEGRATE DATA ",e.jsx(xa,{size:18})]}),e.jsx("div",{className:"absolute inset-0 bg-white/20 translate-y-full group-hover:translate-y-0 transition-transform duration-300"})]})]}),children:e.jsx("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar",children:e.jsxs("div",{className:"space-y-10",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsx(Ad,{label:"Current Weight",value:l.weight,onChange:c=>i({...l,weight:c}),unit:"kg",icon:Vw}),e.jsx(Ad,{label:"Body Fat %",value:l.bodyFat,onChange:c=>i({...l,bodyFat:c}),unit:"%",icon:Hc}),e.jsx(Ad,{label:"Height",value:l.height,onChange:c=>i({...l,height:c}),unit:"cm",icon:It})]}),e.jsxs("div",{className:"space-y-6 pt-2 border-t border-slate-100/50",children:[e.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-[0.3em] flex items-center gap-4",children:["Circumference Audit",e.jsx("div",{className:"flex-1 h-px bg-slate-200"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[e.jsx(Ad,{label:"Chest",value:l.chest,onChange:c=>i({...l,chest:c}),unit:"cm",icon:It}),e.jsx(Ad,{label:"Waist",value:l.waist,onChange:c=>i({...l,waist:c}),unit:"cm",icon:It}),e.jsx(Ad,{label:"Upper Arms",value:l.arms,onChange:c=>i({...l,arms:c}),unit:"cm",icon:It}),e.jsx(Ad,{label:"Thighs",value:l.legs,onChange:c=>i({...l,legs:c}),unit:"cm",icon:It})]})]}),e.jsxs("div",{className:"bg-violet-50 p-6 rounded-[32px] border border-violet-100 flex items-start gap-4 shadow-sm",children:[e.jsx("div",{className:"p-2 bg-white rounded-full text-violet-600 shadow-sm shrink-0",children:e.jsx(Nn,{size:18})}),e.jsx("p",{className:"text-sm font-medium text-violet-900 leading-relaxed",children:"Accurate metrics fuel anatomical precision. Ensure you are using consistent measuring protocols (same time, same location) for data integrity."})]})]})})})},Uy=({current:s,start:t,target:a,color:l})=>{const i=Math.abs(t-a)||1,o=Math.abs(t-s),c=Math.min(Math.round(o/i*100),100);return e.jsxs("div",{className:"space-y-3 mt-6",children:[e.jsxs("div",{className:"flex justify-between items-end",children:[e.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Progress to Target"}),e.jsxs("span",{className:"text-sm font-bold",style:{color:l},children:[c,"%"]})]}),e.jsx("div",{className:"h-2.5 bg-slate-100 rounded-full overflow-hidden border border-slate-200/50",children:e.jsx("div",{className:"h-full rounded-full transition-all duration-1000 shadow-[0_0_10px_rgba(0,0,0,0.1)] relative",style:{width:`${c}%`,backgroundColor:l},children:e.jsx("div",{className:"absolute inset-0 bg-white/20 animate-pulse"})})}),e.jsxs("div",{className:"flex justify-between text-[9px] font-bold text-slate-400 uppercase tracking-tighter",children:[e.jsxs("span",{children:["Start: ",t]}),e.jsxs("span",{children:["Target: ",a]})]})]})},_M=()=>{const s=Ht(),{role:t}=Oi(),a=Pr(),i=new URLSearchParams(a.search).get("memberId"),o=a.pathname.includes("/log"),[c,u]=b.useState("overview"),[x,h]=b.useState(!0),[p,f]=b.useState([]),[y,g]=b.useState({chest:{current:0,change:0,unit:"cm"},waist:{current:0,change:0,unit:"cm"},arms:{current:0,change:0,unit:"cm"},legs:{current:0,change:0,unit:"cm"}}),[v,C]=b.useState([]),[N,k]=b.useState({weight:78,bodyFat:15,height:175,goal:""}),[A,E]=b.useState([]);b.useEffect(()=>{w()},[]);const w=async()=>{try{h(!0);const le=await XN(i);if(le&&le.targets&&k({weight:parseFloat(le.targets.weight)||78,bodyFat:parseFloat(le.targets.bodyFat)||15,height:parseFloat(le.targets.height)||175,goal:le.targets.goal||""}),le&&le.attendanceStats&&E(le.attendanceStats),le&&le.logs&&le.logs.length>0){const ge=le.logs.map(Q=>({...Q,dateLabel:new Date(Q.date).toLocaleDateString(),weight:parseFloat(Q.weight),bodyFat:parseFloat(Q.bodyFat)}));f(ge);const te=ge[ge.length-1],q=ge.length>1?ge[ge.length-2]:null;if(te.measurements){const Q=te.measurements,K=q?.measurements||{};g({chest:{current:Q.chest||0,change:(parseFloat(Q.chest)||0)-(parseFloat(K.chest)||0),unit:"cm"},waist:{current:Q.waist||0,change:(parseFloat(Q.waist)||0)-(parseFloat(K.waist)||0),unit:"cm"},arms:{current:Q.arms||0,change:(parseFloat(Q.arms)||0)-(parseFloat(K.arms)||0),unit:"cm"},legs:{current:Q.legs||0,change:(parseFloat(Q.legs)||0)-(parseFloat(K.legs)||0),unit:"cm"}})}te.photos&&C(te.photos||[])}}catch(le){console.error("Failed to load progress:",le)}finally{h(!1)}},R=async le=>{try{const ge={weight:le.weight,bodyFat:le.bodyFat,height:le.height,measurements:{chest:le.chest,waist:le.waist,arms:le.arms,legs:le.legs},memberId:i,date:new Date};await zM(ge);const te=i?`/progress?memberId=${i}`:"/progress";s(te),w()}catch(ge){console.error("Failed to save progress:",ge)}};if(t!=="MEMBER"&&!i)return e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-white p-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-amber-50 text-amber-500 rounded-full flex items-center justify-center mb-4",children:e.jsx(ms,{size:32})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"No Member Selected"}),e.jsx("p",{className:"text-gray-500 mt-2 max-w-xs",children:"Please select a member from your list to view or log their progress."}),e.jsx("button",{onClick:()=>{s(t==="TRAINER"?"/trainer/members/assigned":"/dashboard")},className:"mt-6 px-6 py-2.5 bg-violet-600 text-white rounded-xl font-bold hover:bg-violet-700 transition-all shadow-lg shadow-violet-200",children:"Go Back"})]});if(x)return e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-white",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-violet-600 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"mt-4 text-slate-500 font-bold uppercase tracking-widest text-xs",children:"Calibrating Metrics..."})]});const T=p.length>0,O=T?p[p.length-1].weight:80,W=T?p[0].weight:80,B=N.weight,z=T?p[p.length-1].bodyFat:20,P=T?p[0].bodyFat:20,F=N.bodyFat,G=N.height/100,Y=(O/(G*G)).toFixed(1),me=Y<18.5?"Underweight":Y<25?"Optimal":Y<30?"Overweight":"Obese",H=(O-W).toFixed(1),V=T&&p.length>1?O<p[p.length-2].weight?"down":"up":"neutral",$=[{id:"m1",label:`Weight Goal (${B}kg)`,target:B,current:O,completed:O<=B},{id:"m2",label:`Body Fat Goal (${F}%)`,target:F,current:z,completed:z<=F},{id:"m3",label:"100% Consistency",target:100,current:T?85:0,completed:!1}];return e.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-6 pb-12 min-h-screen font-sans selection:bg-violet-100 selection:text-violet-900",children:[e.jsxs("div",{className:"fixed inset-0 pointer-events-none",children:[e.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-violet-100/40 rounded-full blur-[120px] mix-blend-multiply opacity-50"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-[500px] h-[500px] bg-purple-100/40 rounded-full blur-[120px] mix-blend-multiply opacity-50"})]}),e.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto space-y-8",children:[e.jsxs("div",{className:"mb-8 relative animate-in slide-in-from-top-5 duration-700",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-6 md:p-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent mb-2 flex items-center gap-3",children:[e.jsx(It,{className:"text-violet-600",size:32}),"Transformation Lab"]}),e.jsxs("p",{className:"text-slate-600 text-sm md:text-base font-medium max-w-2xl",children:["Track, analyze, and optimize your fitness journey with ",e.jsx("span",{className:"text-violet-600 font-bold",children:"precision metrics"}),"."]})]}),e.jsxs("button",{onClick:()=>s(i?`/progress/log?memberId=${i}`:"/progress/log"),className:"group relative px-6 py-3 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-xl text-sm font-bold shadow-lg shadow-violet-500/30 overflow-hidden transition-all hover:-translate-y-1 hover:shadow-violet-500/50 hover:shadow-xl",children:[e.jsx("div",{className:"absolute inset-0 bg-white/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("span",{className:"relative flex items-center gap-2",children:[e.jsx(wt,{size:18,strokeWidth:3}),"LOG NEW DATA"]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 p-6 hover:shadow-2xl hover:scale-[1.02] hover:-translate-y-1 transition-all duration-300 group",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("div",{className:"p-3 bg-violet-50 text-violet-600 rounded-xl group-hover:scale-110 group-hover:rotate-3 transition-all duration-300 shadow-sm group-hover:bg-violet-600 group-hover:text-white",children:e.jsx(Vw,{size:20,strokeWidth:2.5})}),e.jsxs("div",{className:`px-2.5 py-1 rounded-full text-[11px] font-bold flex items-center gap-1 ${V==="down"?"bg-emerald-50 text-emerald-600 border border-emerald-100":"bg-rose-50 text-rose-600 border border-rose-100"}`,children:[V==="down"?e.jsx(G0,{size:12}):e.jsx(Qs,{size:12}),Math.abs(H)," kg"]})]}),e.jsx("div",{className:"text-[11px] font-bold uppercase tracking-widest text-slate-400 mb-1",children:"Body Mass"}),e.jsxs("div",{className:"text-3xl font-black text-slate-900 mb-2 tracking-tight",children:[O," ",e.jsx("span",{className:"text-lg font-bold text-slate-400",children:"kg"})]}),e.jsx(Uy,{current:O,start:W,target:B,color:"#7C3AED"})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 p-6 hover:shadow-2xl hover:scale-[1.02] hover:-translate-y-1 transition-all duration-300 group",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("div",{className:"p-3 bg-fuchsia-50 text-fuchsia-600 rounded-xl group-hover:scale-110 group-hover:rotate-3 transition-all duration-300 shadow-sm group-hover:bg-fuchsia-600 group-hover:text-white",children:e.jsx(Hc,{size:20,strokeWidth:2.5})}),e.jsxs("div",{className:"px-2.5 py-1 rounded-full bg-emerald-50 text-emerald-600 border border-emerald-100 text-[11px] font-bold flex items-center gap-1",children:[e.jsx(G0,{size:12}),"-3.6 %"]})]}),e.jsx("div",{className:"text-[11px] font-bold uppercase tracking-widest text-slate-400 mb-1",children:"Composition"}),e.jsxs("div",{className:"text-3xl font-black text-slate-900 mb-2 tracking-tight",children:[z," ",e.jsx("span",{className:"text-lg font-bold text-slate-400",children:"%"})]}),e.jsx(Uy,{current:z,start:P,target:F,color:"#C026D3"})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 p-6 hover:shadow-2xl hover:scale-[1.02] hover:-translate-y-1 transition-all duration-300 group",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("div",{className:"p-3 bg-blue-50 text-blue-600 rounded-xl group-hover:scale-110 group-hover:rotate-3 transition-all duration-300 shadow-sm group-hover:bg-blue-600 group-hover:text-white",children:e.jsx(ua,{size:20,strokeWidth:2.5})}),e.jsx("span",{className:`text-[10px] font-bold uppercase tracking-wider px-2.5 py-1 rounded-full border ${me==="Optimal"?"text-blue-600 bg-blue-50 border-blue-100":me==="Underweight"?"text-amber-600 bg-amber-50 border-amber-100":"text-rose-600 bg-rose-50 border-rose-100"}`,children:me})]}),e.jsx("div",{className:"text-[11px] font-bold uppercase tracking-widest text-slate-400 mb-1",children:"BMI Score"}),e.jsx("div",{className:"text-3xl font-black text-slate-900 mb-2 tracking-tight",children:Y}),e.jsxs("div",{className:"flex items-center gap-2 mt-auto pt-6 text-xs font-semibold text-slate-400 group-hover:text-blue-600 transition-colors",children:[e.jsx(Nl,{size:14,className:"text-blue-500"}),e.jsx("span",{className:"text-slate-900 font-bold",children:"+0.4"})," since update"]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 p-6 hover:shadow-2xl hover:scale-[1.02] hover:-translate-y-1 transition-all duration-300 group flex flex-col justify-between relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-violet-500/5 rounded-full blur-xl -mr-10 -mt-10 group-hover:bg-violet-500/10 transition-all duration-500"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("div",{className:"p-3 bg-violet-50 text-violet-600 rounded-xl group-hover:scale-110 group-hover:-rotate-3 transition-all duration-300 shadow-sm group-hover:bg-violet-600 group-hover:text-white",children:e.jsx(Nn,{size:20,strokeWidth:2.5})}),e.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-violet-600 bg-violet-50 px-2.5 py-1 rounded-full border border-violet-100",children:"Next Peak"})]}),e.jsx("div",{className:"text-lg font-bold text-slate-900 mb-4 line-clamp-2 leading-tight group-hover:text-violet-700 transition-colors",children:$.find(le=>!le.completed)?.label||"All Goals Completed!"})]}),e.jsxs("div",{className:"space-y-3 relative z-10",children:[e.jsxs("div",{className:"flex justify-between text-[11px] font-bold uppercase tracking-widest",children:[e.jsx("span",{className:"text-slate-400 group-hover:text-slate-500 transition-colors",children:"Progress"}),e.jsxs("span",{className:"text-violet-600",children:[Math.round($[0].current/$[0].target*100),"%"]})]}),e.jsx("div",{className:"h-2 bg-slate-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-violet-600 relative overflow-hidden",style:{width:`${Math.min(Math.round($[0].current/$[0].target*100),100)}%`},children:e.jsx("div",{className:"absolute inset-0 bg-white/30 animate-[shimmer_2s_infinite]"})})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[e.jsx("div",{className:"lg:col-span-12 xl:col-span-8 space-y-8",children:e.jsxs("div",{className:"bg-white rounded-[24px] shadow-xl border border-slate-100 p-8 h-full flex flex-col",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-6 mb-8",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-violet-500 to-purple-600 text-white shadow-lg shadow-violet-200 rounded-2xl flex items-center justify-center",children:e.jsx(It,{size:24,strokeWidth:2.5})}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900 tracking-tight",children:"Anatomical Metrics"})]}),e.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-xl self-start sm:self-auto",children:[e.jsx("button",{onClick:()=>u("overview"),className:`px-5 py-2 rounded-lg text-xs font-bold uppercase tracking-wider transition-all duration-300 ${c==="overview"?"bg-white text-violet-600 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:"Grid View"}),e.jsx("button",{onClick:()=>u("history"),className:`px-5 py-2 rounded-lg text-xs font-bold uppercase tracking-wider transition-all duration-300 ${c==="history"?"bg-white text-violet-600 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:"Timeline"})]})]}),c==="overview"?e.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-2",children:Object.entries(y).map(([le,ge])=>e.jsxs("div",{className:"group cursor-pointer p-5 bg-slate-50 rounded-2xl hover:bg-white hover:shadow-lg hover:shadow-violet-500/10 transition-all duration-300 border border-slate-100 hover:border-violet-100 hover:-translate-y-1",children:[e.jsx("div",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-400 mb-2 group-hover:text-violet-500 transition-colors",children:le}),e.jsxs("div",{className:"text-xl font-black text-slate-900 mb-2 group-hover:text-violet-600 transition-colors",children:[ge.current," ",e.jsx("span",{className:"text-xs text-slate-400 font-bold",children:ge.unit})]}),e.jsxs("div",{className:`text-[10px] font-bold uppercase tracking-wider flex items-center gap-1.5 ${ge.change>=0?"text-violet-600":"text-emerald-600"}`,children:[ge.change>=0?e.jsx(Qs,{size:12,strokeWidth:2.5}):e.jsx(G0,{size:12,strokeWidth:2.5}),Math.abs(ge.change).toFixed(1)," ",ge.unit]})]},le))}),e.jsxs("div",{className:"flex-1 min-h-[250px] bg-slate-50 rounded-2xl border border-slate-100 p-6 relative overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6 shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-white rounded-lg shadow-sm text-slate-500",children:e.jsx(ox,{size:18})}),e.jsx("h3",{className:"text-sm font-bold text-slate-900 uppercase tracking-widest",children:"Weekly Load"})]}),e.jsx("div",{className:"text-xs font-bold text-slate-400",children:"Past 7 Days"})]}),e.jsx("div",{className:"flex items-end justify-between h-40 gap-4 mt-auto",children:(A.length>0?A:[10,20,30,40,50,60,70].map((le,ge)=>({day:["M","T","W","T","F","S","S"][ge],value:le}))).map((le,ge)=>e.jsxs("div",{className:"flex-1 flex flex-col justify-end items-center gap-2 group h-full",children:[e.jsx("div",{className:"w-full bg-slate-200 rounded-t-lg relative overflow-hidden transition-all duration-500 group-hover:bg-violet-200",style:{height:`${le.value||10}%`},children:e.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-violet-500 h-0 transition-all duration-700 delay-100 group-hover:h-full opacity-0 group-hover:opacity-100"})}),e.jsx("span",{className:"text-[10px] font-bold text-slate-400 group-hover:text-violet-600 uppercase",children:le.day})]},ge))})]})]}):e.jsx("div",{className:"flex-1 animate-in fade-in duration-500",children:e.jsx("div",{className:"bg-slate-50 rounded-[32px] border border-slate-100 overflow-hidden",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-slate-200 bg-slate-100/50",children:[e.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Entry Date"}),e.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Body Weight"}),e.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Body Fat %"}),e.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Trend"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:p.slice().reverse().map((le,ge,te)=>{const q=te[ge+1],Q=q?(le.weight-q.weight).toFixed(1):0;return e.jsxs("tr",{className:"hover:bg-white transition-colors group",children:[e.jsx("td",{className:"px-8 py-5",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-white rounded-lg shadow-sm text-slate-400",children:e.jsx(Xe,{size:14})}),e.jsx("span",{className:"font-bold text-slate-900",children:le.dateLabel})]})}),e.jsx("td",{className:"px-8 py-5",children:e.jsxs("span",{className:"text-sm font-black text-slate-900",children:[le.weight," kg"]})}),e.jsx("td",{className:"px-8 py-5",children:e.jsxs("span",{className:"text-sm font-bold text-slate-500",children:[le.bodyFat,"%"]})}),e.jsx("td",{className:"px-8 py-5 text-right",children:ge<te.length-1?e.jsxs("span",{className:`text-[10px] font-black px-2 py-1 rounded-lg ${Q<=0?"bg-emerald-50 text-emerald-600":"bg-rose-50 text-rose-600"}`,children:[Q>0?"+":"",Q," kg"]}):e.jsx("span",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest",children:"Baseline"})})]},ge)})})]})})}),e.jsxs("div",{className:"p-8 bg-gradient-to-br from-violet-50 via-white to-purple-50 rounded-2xl border border-violet-100/50 relative overflow-hidden group hover:shadow-lg hover:shadow-violet-500/5 transition-all duration-500 mt-auto",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/40 blur-3xl -mr-20 -mt-20 group-hover:bg-white/60 transition-all duration-700"}),e.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row items-center justify-between gap-8",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("div",{className:"w-14 h-14 bg-white rounded-2xl flex items-center justify-center text-violet-600 shadow-md shadow-violet-100 group-hover:scale-110 group-hover:rotate-6 transition-all duration-500",children:e.jsx(Qs,{size:28,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-black text-slate-900 mb-1",children:"Consistent Evolution"}),e.jsxs("p",{className:"text-slate-500 text-sm font-medium",children:["You've reached ",e.jsx("span",{className:"text-violet-600 font-bold bg-violet-50 px-2 py-0.5 rounded-lg border border-violet-100",children:"92%"})," of your quarterly metabolic targets."]})]})]}),e.jsxs("button",{className:"group/btn px-6 py-3 bg-white text-violet-600 rounded-xl text-xs font-black uppercase tracking-widest hover:bg-violet-600 hover:text-white transition-all shadow-md shadow-violet-100 hover:shadow-violet-500/20 border border-violet-50",children:[e.jsx("span",{className:"group-hover/btn:hidden",children:"View Audit"}),e.jsxs("span",{className:"hidden group-hover/btn:flex items-center gap-2",children:["Explore Report ",e.jsx(Nl,{size:14})]})]})]})]})]})}),e.jsxs("div",{className:"lg:col-span-12 xl:col-span-4 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-[24px] shadow-xl border border-slate-100 p-6 flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-slate-900 text-white shadow-lg shadow-slate-200 rounded-xl flex items-center justify-center",children:e.jsx(Qo,{size:20,strokeWidth:2.5})}),e.jsx("h2",{className:"text-xl font-bold text-slate-900 tracking-tight uppercase",children:"Visual History"})]}),e.jsx("button",{className:"text-xs font-bold text-violet-600 hover:text-violet-700 hover:underline",children:"View All"})]}),e.jsx("div",{className:"space-y-4",children:T&&v.length>0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative aspect-[3/4] w-full rounded-2xl overflow-hidden group shadow-md hover:shadow-2xl transition-all duration-500 cursor-pointer border border-slate-100",children:[e.jsx("div",{className:"absolute top-4 left-4 z-10 bg-black/60 backdrop-blur-md px-3 py-1 rounded-full border border-white/20",children:e.jsx("span",{className:"text-[10px] font-bold text-white uppercase tracking-wider",children:"Latest Scan"})}),e.jsx("img",{src:v[v.length-1].url,alt:"Current Progress",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-700"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900/80 via-transparent to-transparent opacity-80"}),e.jsxs("div",{className:"absolute bottom-5 left-5 right-5",children:[e.jsx("div",{className:"text-[10px] font-bold text-white/70 mb-1 uppercase tracking-wider",children:v[v.length-1].date}),e.jsx("div",{className:"text-xl font-black text-white",children:"Current Physique"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[v.slice(0,-1).map(le=>e.jsx("div",{className:"relative aspect-square rounded-xl overflow-hidden group border border-slate-100 cursor-pointer",children:e.jsx("img",{src:le.url,alt:le.label,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"})},le.id)),e.jsxs("button",{className:"aspect-square rounded-xl border-2 border-dashed border-slate-200 flex flex-col items-center justify-center gap-2 text-slate-400 hover:border-violet-400 hover:text-violet-600 hover:bg-violet-50/10 transition-all duration-300 group",children:[e.jsx(wt,{size:20,strokeWidth:2.5}),e.jsx("span",{className:"text-[10px] font-bold uppercase",children:"Add Photo"})]})]})]}):e.jsxs("button",{className:"w-full aspect-square rounded-2xl border-2 border-dashed border-slate-200 flex flex-col items-center justify-center gap-3 text-slate-400 hover:border-violet-400 hover:text-violet-600 hover:bg-violet-50/10 transition-all duration-300 group",children:[e.jsx(Qo,{size:32,strokeWidth:2}),e.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:"No Photos Yet"})]})})]}),e.jsxs("div",{className:"bg-gradient-to-br from-slate-900 to-slate-800 rounded-[24px] shadow-xl shadow-slate-200 p-6 text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-violet-500/20 rounded-full blur-3xl -mr-10 -mt-10"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-2 bg-white/10 rounded-lg backdrop-blur-sm",children:e.jsx(Xe,{size:18})}),e.jsx("span",{className:"text-sm font-bold uppercase tracking-widest text-white/80",children:"Up Next"})]}),e.jsx("h3",{className:"text-2xl font-black mb-2",children:"Upper Body Power"}),e.jsxs("div",{className:"flex items-center gap-4 text-sm font-medium text-slate-300 mb-6",children:[e.jsx("span",{children:"Today, 5:00 PM"}),e.jsx("span",{className:"w-1 h-1 bg-slate-500 rounded-full"}),e.jsx("span",{children:"60 min"})]}),e.jsx("button",{className:"w-full py-3 bg-white text-slate-900 rounded-xl font-bold text-sm hover:bg-violet-50 transition-colors shadow-lg",children:"Start Workout"})]})]})]})]}),e.jsxs("div",{className:"relative overflow-hidden bg-white rounded-[32px] p-8 md:p-12 shadow-xl border border-slate-100 group",children:[e.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-violet-100/50 rounded-full blur-[120px] mix-blend-multiply opacity-50 group-hover:opacity-70 transition-opacity duration-700"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-[400px] h-[400px] bg-purple-100/50 rounded-full blur-[100px] mix-blend-multiply opacity-30"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-16",children:[e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx("div",{className:"p-4 bg-violet-50 text-violet-600 rounded-2xl border border-violet-100 shadow-sm",children:e.jsx(Nn,{size:28,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-black text-slate-900 tracking-tight uppercase mb-1",children:"Strategic Roadmaps"}),e.jsx("p",{className:"text-slate-500 font-medium tracking-wide text-sm",children:"Your journey to peak performance"})]})]}),e.jsx("button",{className:"px-6 py-3 rounded-xl bg-slate-50 border border-slate-100 text-slate-600 text-xs font-bold uppercase tracking-widest hover:bg-slate-100 hover:text-slate-900 transition-all",children:"View Full Plan"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-16 relative",children:[e.jsx("div",{className:"hidden md:block absolute top-[50px] left-[15%] right-[15%] h-[4px] bg-slate-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full w-1/2 bg-gradient-to-r from-emerald-500 via-violet-500 to-slate-100 relative",children:e.jsx("div",{className:"absolute inset-0 bg-white/30 animate-[shimmer_2s_infinite]"})})}),$.map((le,ge)=>{const te=le.completed,q=!le.completed&&(ge===0||$[ge-1].completed);return e.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[e.jsxs("div",{className:`w-24 h-24 rounded-[32px] flex items-center justify-center mb-8 shadow-xl transition-all duration-500 border-[6px] relative group/node cursor-pointer ${te?"bg-white border-emerald-50 text-emerald-500 shadow-emerald-500/10":q?"bg-white border-violet-50 text-violet-600 shadow-violet-500/20 scale-110":"bg-white border-slate-50 text-slate-300"}`,children:[(q||te)&&e.jsx("div",{className:`absolute inset-0 rounded-[24px] blur-xl opacity-20 ${te?"bg-emerald-500":"bg-violet-500"}`}),e.jsx("div",{className:"relative z-10 text-2xl font-black",children:te?e.jsx(Nn,{size:32,strokeWidth:3}):ge+1}),q&&e.jsx("div",{className:"absolute -inset-[8px] rounded-[36px] border-2 border-violet-100 animate-ping opacity-40"})]}),e.jsxs("div",{className:`text-center transition-all duration-300 ${q?"scale-105":"opacity-70 hover:opacity-100"}`,children:[e.jsx("h4",{className:`text-lg font-black mb-3 ${te?"text-emerald-600":q?"text-slate-900":"text-slate-400"}`,children:le.label}),e.jsx("div",{className:`inline-flex items-center gap-2 px-4 py-1.5 rounded-full text-[10px] font-black uppercase tracking-widest border mb-6 ${te?"bg-emerald-50 border-emerald-100 text-emerald-600":q?"bg-violet-50 border-violet-100 text-violet-600 shadow-sm":"bg-slate-50 border-slate-100 text-slate-400"}`,children:te?"Completed":q?"In Progress":"Locked"}),e.jsx("div",{className:"w-full bg-slate-100 h-3 rounded-full overflow-hidden p-[2px] shadow-inner border border-slate-200/50",children:e.jsx("div",{className:`h-full rounded-full transition-all duration-1000 relative overflow-hidden ${te?"bg-emerald-500":q?"bg-violet-500":"bg-slate-300"}`,style:{width:`${Math.min(Math.round(le.current/le.target*100),100)}%`},children:q&&e.jsx("div",{className:"absolute inset-0 bg-white/30 animate-[shimmer_1.5s_infinite]"})})}),e.jsxs("div",{className:"flex justify-between mt-2 text-[10px] font-bold uppercase tracking-wider text-slate-400",children:[e.jsx("span",{children:"0%"}),e.jsxs("span",{className:q?"text-violet-600":"",children:[Math.round(Math.min(le.current/le.target*100,100)),"%"]})]})]})]},le.id)})]})]})]})]}),o&&e.jsx(TM,{isOpen:!0,onClose:()=>s(i?`/progress?memberId=${i}`:"/progress"),onSave:R})]})},ub=(s,t)=>{if(!s||s.length===0){alert("No data to export");return}const a=Object.keys(s[0]).join(","),l=s.map(x=>Object.values(x).map(h=>typeof h=="string"?`"${h.replace(/"/g,'""')}"`:h).join(",")).join(`
`),i=`${a}
${l}`,o=new Blob([i],{type:"text/csv;charset=utf-8;"}),c=URL.createObjectURL(o),u=document.createElement("a");u.setAttribute("href",c),u.setAttribute("download",`${t}_${new Date().toISOString().split("T")[0]}.csv`),u.style.visibility="hidden",document.body.appendChild(u),u.click(),document.body.removeChild(u)},PM=(s,t)=>{console.log(`Simulating PDF Export for ${t}:`,s),alert(`PDF Export for ${t} triggered. Check console for data dump.`)},RM=["Alex Johnson (Pro)","Samantha Reed (Master)","Michael Chen (Elite)","Emily Davis","Robert Wilson","Jessica Taylor"],OM=({isOpen:s,onClose:t,member:a,onSubmit:l})=>{const[i,o]=b.useState(""),[c,u]=b.useState(""),[x,h]=b.useState(!1);b.useEffect(()=>{s||(o(""),u(""))},[s]);const p=f=>{f.preventDefault(),h(!0),setTimeout(()=>{const y={id:Date.now(),memberName:a?.name,memberId:a?.memberId,currentTrainer:a?.trainer||"Not Assigned",newTrainer:i,reason:c,status:"Pending",requestDate:new Date().toISOString().split("T")[0]};console.log("Trainer Change Request Submitted:",y),l(y),h(!1),t()},800)};return e.jsx(rt,{isOpen:s,onClose:t,title:"Change Trainer",subtitle:`Request for ${a?.name}`,maxWidth:"max-w-md",footer:e.jsxs("div",{className:"flex gap-3 w-full",children:[e.jsx("button",{type:"button",onClick:t,className:"flex-1 h-11 border border-slate-200 text-slate-600 rounded-xl text-sm font-bold hover:bg-slate-50 transition-all",children:"Cancel"}),e.jsx("button",{type:"submit",form:"trainer-change-form",disabled:!i||!c||x,className:`flex-1 h-11 rounded-xl text-sm font-bold text-white shadow-lg transition-all flex items-center justify-center gap-2
                            ${!i||!c||x?"bg-slate-300 cursor-not-allowed shadow-none":"bg-gradient-to-r from-violet-600 to-purple-600 hover:shadow-violet-200 hover:scale-[1.02] active:scale-[0.98]"}`,children:x?e.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(Zn,{size:18}),"Submit Request"]})})]}),children:e.jsxs("form",{id:"trainer-change-form",onSubmit:p,className:"space-y-6 px-6 py-6 mt-2",children:[e.jsx("div",{className:"bg-slate-50 rounded-2xl p-4 border border-slate-100 space-y-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-white flex items-center justify-center text-slate-400 shadow-sm border border-slate-100",children:e.jsx(lt,{size:20})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Current Trainer"}),e.jsx("p",{className:"text-sm font-bold text-slate-700",children:a?.trainer||"Not Assigned"})]})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-xs font-bold text-slate-500 uppercase tracking-wider ml-1",children:[e.jsx(Zn,{size:14,className:"text-violet-500"}),"Select New Trainer ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsx(ds,{options:RM,value:i,onChange:o,placeholder:"Choose a trainer"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-xs font-bold text-slate-500 uppercase tracking-wider ml-1",children:[e.jsx(sr,{size:14,className:"text-violet-500"}),"Reason for Change ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsx("textarea",{required:!0,className:"w-full min-h-[120px] p-4 rounded-xl border-2 border-slate-100 focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all text-sm bg-slate-50/50 hover:bg-white placeholder:text-slate-300 outline-none resize-none",placeholder:"Please explain why you want to change your trainer...",value:c,onChange:f=>u(f.target.value)})]}),e.jsxs("div",{className:"flex gap-3 p-4 bg-amber-50 rounded-xl border border-amber-100",children:[e.jsx(ms,{size:18,className:"text-amber-500 shrink-0 mt-0.5"}),e.jsx("p",{className:"text-xs text-amber-700 leading-relaxed font-medium",children:"Change requests are reviewed by the branch manager. You will receive an update within 24-48 hours."})]})]})})},FM=({isOpen:s,onClose:t,onConfirm:a,title:l,message:i})=>s?e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 sm:p-0",children:[e.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",onClick:t}),e.jsxs("div",{className:"relative bg-white rounded-[40px] shadow-2xl w-full max-w-sm p-8 text-center animate-in zoom-in-95 duration-200 border border-slate-100",children:[e.jsx("div",{className:"w-20 h-20 bg-rose-50 rounded-full flex items-center justify-center mx-auto mb-6 text-rose-500 shadow-inner",children:e.jsx(xs,{size:32})}),e.jsx("h3",{className:"text-2xl font-black text-slate-800 tracking-tight mb-2",children:l}),e.jsx("p",{className:"text-slate-500 text-sm font-medium leading-relaxed mb-8",children:i}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:t,className:"flex-1 py-4 bg-slate-50 text-slate-400 rounded-2xl font-black uppercase tracking-widest hover:bg-slate-100 hover:text-slate-600 transition-all",children:"Cancel"}),e.jsx("button",{onClick:a,className:"flex-[2] py-4 bg-rose-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl shadow-rose-200 hover:bg-rose-700 transition-all",children:"Confirm Delete"})]})]})]}):null,pf=()=>{const[s,t]=b.useState([]),[a,l]=b.useState(!0),[i,o]=b.useState(""),[c,u]=b.useState("All"),[x,h]=b.useState(1),[p,f]=b.useState(5),[y,g]=b.useState(0),[v,C]=b.useState(!1),[N,k]=b.useState(!1),[A,E]=b.useState(!1),[w,R]=b.useState(!1),[T,O]=b.useState({isOpen:!1,id:null}),[W,B]=b.useState(null),[z,P]=b.useState([]),[F,G]=b.useState(!1),[Y,me]=b.useState({name:"",phone:"",planId:"",status:"Active"}),[H,V]=b.useState({name:"",phone:"",planId:"",status:""}),$=Pr();b.useEffect(()=>{new URLSearchParams($.search).get("add")==="true"&&C(!0)},[$.search]),b.useEffect(()=>{le()},[]),b.useEffect(()=>{ge()},[i,c,x,p]);const le=async()=>{G(!0);try{const he=await Wr.getPlans();P(Array.isArray(he)?he:[])}catch(he){console.error("Error loading plans:",he),P([])}finally{G(!1)}},ge=async()=>{l(!0);try{const re=await Qg({filters:{search:i,status:c==="All"?"":c},page:x,limit:p});t(re?.data||[]),g(re?.total||0)}catch(he){console.error("Error loading members:",he)}finally{l(!1)}},te=he=>{o(he.target.value),h(1)},q=he=>{u(he),h(1)},Q=async he=>{try{await b9(he),ge()}catch(re){console.error("Error toggling status:",re),alert(re.response?.data?.message||"Failed to update member status")}},K=he=>{O({isOpen:!0,id:he})},oe=async()=>{if(T.id)try{await g9(T.id),O({isOpen:!1,id:null}),ge()}catch(he){console.error("Error deleting member:",he),alert(he.response?.data?.message||"Failed to delete member")}},ae=()=>{ub(s,"MemberList")},ce=()=>{PM(s,"MemberList")},pe=he=>{B(he),k(!0)},we=he=>{B(he),V({name:he.name,phone:he.phone,planId:he.planId,status:he.status}),E(!0)},Ee=async he=>{he.preventDefault();try{await f9(W.id,H),E(!1),ge()}catch(re){console.error("Error updating member:",re),alert(re.response?.data?.message||"Failed to update member")}},Be=he=>{console.log("Member List received Trainer Change Request:",he),R(!1)},Je=async he=>{he.preventDefault();try{const re=`MEM-2024-${Math.floor(100+Math.random()*900)}`,et=new Date().toISOString().split("T")[0];await p9({...Y,memberId:re,joinDate:et}),C(!1),me({name:"",phone:"",planId:"",status:"Active"}),ge()}catch(re){console.error("Error adding member:",re),alert(re.response?.data?.message||"Failed to add member")}},tt=he=>{switch(he){case"Active":return e.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-bold bg-green-50 text-green-600 border border-green-100 shadow-sm hover:scale-110 hover:shadow-lg hover:bg-green-100 transition-all duration-300 cursor-pointer",children:"Active"});case"Inactive":return e.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-bold bg-gray-100 text-gray-500 border border-gray-200 hover:scale-110 hover:shadow-lg hover:bg-gray-200 transition-all duration-300 cursor-pointer",children:"Inactive"});case"Expired":return e.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-bold bg-red-50 text-red-600 border border-red-100 shadow-sm hover:scale-110 hover:shadow-lg hover:bg-red-100 transition-all duration-300 cursor-pointer",children:"Expired"});default:return e.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-bold bg-gray-100 text-gray-800 hover:scale-110 hover:shadow-lg transition-all duration-300 cursor-pointer",children:"Unknown"})}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-6 md:p-8",children:[e.jsxs("div",{className:"mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(lt,{size:28})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Member List"}),e.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Manage and view all registered members"})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs("button",{onClick:ae,className:"flex items-center gap-2 px-4 py-2.5 bg-white border-2 border-slate-200 rounded-xl text-sm font-bold text-slate-700 hover:border-violet-300 hover:bg-violet-50 transition-all duration-300 hover:scale-105 shadow-sm hover:shadow-md group",children:[e.jsx(na,{size:16,className:"text-slate-500 group-hover:text-violet-600 group-hover:scale-110 group-hover:-translate-y-0.5 transition-all duration-300"}),e.jsx("span",{className:"hidden sm:inline",children:"Export CSV"}),e.jsx("span",{className:"sm:hidden",children:"CSV"})]}),e.jsxs("button",{onClick:ce,className:"flex items-center gap-2 px-4 py-2.5 bg-white border-2 border-slate-200 rounded-xl text-sm font-bold text-slate-700 hover:border-violet-300 hover:bg-violet-50 transition-all duration-300 hover:scale-105 shadow-sm hover:shadow-md group",children:[e.jsx(dr,{size:16,className:"text-slate-500 group-hover:text-violet-600 group-hover:scale-110 group-hover:-translate-y-0.5 transition-all duration-300"}),e.jsx("span",{className:"hidden sm:inline",children:"Export PDF"}),e.jsx("span",{className:"sm:hidden",children:"PDF"})]}),e.jsxs("button",{onClick:()=>C(!0),className:"group relative flex items-center gap-2 px-5 py-2.5 rounded-xl font-bold text-white shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1 bg-gradient-to-r from-violet-600 to-purple-600 hover:shadow-violet-500/50",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 to-fuchsia-600 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx("span",{className:"relative sm:hidden",children:"+ Add"}),e.jsx("span",{className:"relative hidden sm:inline",children:"+ Add New Member"})]})]})]})})]}),e.jsx("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 overflow-visible hover:shadow-2xl hover:border-violet-200 transition-all duration-300",children:e.jsxs("div",{className:"p-4 sm:p-6 border-b border-slate-100 flex flex-col md:flex-row gap-4 items-center justify-between overflow-visible hover:bg-violet-50/20 transition-colors duration-300",children:[e.jsxs("div",{className:"relative w-full md:w-96 group",children:[e.jsx(st,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 transition-colors group-hover:text-violet-500 group-hover:scale-110 duration-300",size:18}),e.jsx("input",{type:"text",className:"pl-11 h-11 w-full rounded-xl border-2 border-slate-200 focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 transition-all text-sm bg-white hover:border-slate-300 shadow-sm focus:shadow-lg",placeholder:"Search by name, ID, or phone...",value:i,onChange:te})]}),e.jsx("div",{className:"w-full md:w-48 relative z-20 hover:scale-105 transition-transform duration-300",children:e.jsx(ds,{options:["All","Active","Inactive","Expired"],value:c,onChange:q,placeholder:"All Status",icon:ks})})]})}),e.jsx("div",{className:"md:hidden grid grid-cols-1 gap-4 mt-6",children:a?e.jsx("div",{className:"py-12 text-center bg-white rounded-2xl border border-slate-100 shadow-xl",children:e.jsxs("div",{className:"flex flex-col items-center gap-3 text-violet-600",children:[e.jsx("div",{className:"w-8 h-8 border-4 border-violet-600 border-t-transparent rounded-full animate-spin"}),e.jsx("span",{className:"text-sm font-black uppercase tracking-widest",children:"Loading..."})]})}):s.length>0?s.map(he=>e.jsx(Ya,{title:he.name,subtitle:he.memberId,badge:he.status,badgeColor:he.status==="Active"?"emerald":he.status==="Expired"?"rose":"slate",fields:[{label:"Phone",value:he.phone},{label:"Plan",value:he.plan},{label:"Expiry",value:he.expiryDate}],actions:[{label:"View",icon:qs,variant:"primary",onClick:()=>pe(he)},{label:"Edit",icon:Od,variant:"secondary",onClick:()=>we(he)}]},he.id)):e.jsx("div",{className:"py-12 text-center bg-white rounded-2xl border border-slate-100 shadow-xl",children:e.jsx("p",{className:"text-slate-500 font-bold",children:"No members found"})})}),e.jsxs("div",{className:"hidden md:block bg-white rounded-2xl shadow-xl border border-slate-100 overflow-visible hover:shadow-2xl hover:border-violet-200 transition-all duration-300 mt-8",children:[e.jsx("div",{className:"p-4 sm:p-6 border-b border-slate-100 flex flex-col md:flex-row gap-4 items-center justify-between overflow-visible hover:bg-violet-50/20 transition-colors duration-300",children:e.jsxs("table",{className:"saas-table saas-table-responsive",children:[e.jsx("thead",{className:"bg-gradient-to-r from-violet-50 via-purple-50 to-fuchsia-50 border-b-2 border-violet-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 sm:px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider hover:text-purple-700 transition-colors duration-300 cursor-pointer",children:"Member Name"}),e.jsx("th",{className:"px-4 sm:px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider hover:text-purple-700 transition-colors duration-300 cursor-pointer",children:"Member ID"}),e.jsx("th",{className:"px-4 sm:px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider hover:text-purple-700 transition-colors duration-300 cursor-pointer",children:"Phone Number"}),e.jsx("th",{className:"px-4 sm:px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider hover:text-purple-700 transition-colors duration-300 cursor-pointer",children:"Plan"}),e.jsx("th",{className:"px-4 sm:px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider hover:text-purple-700 transition-colors duration-300 cursor-pointer",children:"Join Date"}),e.jsx("th",{className:"px-4 sm:px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider hover:text-purple-700 transition-colors duration-300 cursor-pointer",children:"Expiry Date"}),e.jsx("th",{className:"px-4 sm:px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider hover:text-purple-700 transition-colors duration-300 cursor-pointer",children:"Status"}),e.jsx("th",{className:"px-4 sm:px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider text-right hover:text-purple-700 transition-colors duration-300 cursor-pointer",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:a?e.jsx("tr",{children:e.jsx("td",{colSpan:"8",className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-2 text-violet-600",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-violet-600 border-t-transparent rounded-full animate-spin"}),e.jsx("span",{className:"text-sm font-medium",children:"Loading members..."})]})})}):s.length>0?s.map(he=>e.jsxs("tr",{className:"group hover:bg-gradient-to-r hover:from-violet-50/50 hover:to-purple-50/30 transition-all duration-300 cursor-pointer hover:shadow-md hover:scale-[1.002] transform",children:[e.jsx("td",{className:"px-4 sm:px-6 py-4","data-label":"Member Name",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-9 w-9 rounded-full bg-gradient-to-br from-violet-100 to-purple-100 text-violet-700 flex items-center justify-center font-bold text-sm mr-3 group-hover:scale-125 group-hover:shadow-lg group-hover:rotate-6 transition-all duration-500 border-2 border-violet-200",children:(he.name||"?").charAt(0)}),e.jsx("div",{className:"text-sm font-bold text-gray-900 group-hover:text-violet-700 group-hover:translate-x-1 transition-all duration-300",children:he.name})]})}),e.jsx("td",{className:"px-4 sm:px-6 py-4","data-label":"Member ID",children:e.jsx("span",{className:"text-xs font-mono text-gray-500 bg-gray-50 px-2 py-1 rounded-md group-hover:bg-violet-100 group-hover:text-violet-700 group-hover:scale-110 transition-all duration-300 inline-block",children:he.memberId})}),e.jsx("td",{className:"px-4 sm:px-6 py-4","data-label":"Phone Number",children:e.jsx("span",{className:"text-sm text-gray-600 group-hover:text-violet-600 transition-colors duration-300",children:he.phone})}),e.jsx("td",{className:"px-4 sm:px-6 py-4","data-label":"Plan",children:e.jsx("span",{className:"text-sm text-gray-900 font-semibold group-hover:text-violet-700 group-hover:scale-105 inline-block transition-all duration-300",children:he.plan})}),e.jsx("td",{className:"px-4 sm:px-6 py-4","data-label":"Join Date",children:e.jsx("span",{className:"text-sm text-gray-500 group-hover:text-violet-600 transition-colors duration-300",children:he.joinDate})}),e.jsx("td",{className:"px-4 sm:px-6 py-4","data-label":"Expiry Date",children:e.jsx("span",{className:"text-sm text-gray-500 group-hover:text-violet-600 transition-colors duration-300",children:he.expiryDate})}),e.jsx("td",{className:"px-4 sm:px-6 py-4","data-label":"Status",children:e.jsx("button",{onClick:()=>Q(he.id),className:"hover:scale-110 active:scale-95 transition-transform duration-300",children:tt(he.status)})}),e.jsx("td",{className:"px-4 sm:px-6 py-4 text-right","data-label":"Actions",children:e.jsxs("div",{className:"flex items-center justify-end gap-2 sm:opacity-0 sm:group-hover:opacity-100 transition-all duration-200 transform sm:translate-x-2 sm:group-hover:translate-x-0",children:[e.jsx("button",{onClick:()=>pe(he),className:"w-10 h-10 flex items-center justify-center text-gray-400 hover:text-violet-600 hover:bg-violet-50 rounded-xl transition-all hover:scale-110 hover:rotate-6 duration-300",title:"View Details",children:e.jsx(qs,{size:20})}),e.jsx("button",{onClick:()=>we(he),className:"w-10 h-10 flex items-center justify-center text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-xl transition-all hover:scale-110 hover:-rotate-6 duration-300",title:"Edit Member",children:e.jsx(Od,{size:20})}),e.jsx("button",{onClick:()=>K(he.id),className:"w-10 h-10 flex items-center justify-center text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-xl transition-all hover:scale-110 duration-300",title:"Delete Member",children:e.jsx(xs,{size:20})})]})})]},he.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"8",className:"px-6 py-24 text-center text-gray-400",children:e.jsxs("div",{className:"flex flex-col items-center gap-4 animate-in fade-in zoom-in duration-700",children:[e.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-[32px] flex items-center justify-center text-slate-200 border border-slate-100 shadow-inner",children:e.jsx(st,{size:32})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-black text-slate-800 tracking-tight",children:"No Members Found"}),e.jsx("p",{className:"text-slate-500 text-sm font-medium mt-1",children:"We couldn't find any results for your current query."})]}),e.jsx("button",{onClick:()=>{o(""),u("All")},className:"mt-4 px-8 py-3 bg-violet-50 text-violet-600 rounded-2xl text-[10px] font-black uppercase tracking-widest hover:bg-violet-600 hover:text-white transition-all shadow-sm",children:"Clear All Filters"})]})})})})]})}),e.jsx(FM,{isOpen:T.isOpen,onClose:()=>O({isOpen:!1,id:null}),onConfirm:oe,title:"Remove Member?",message:"This will permanently delete the member record from the system. This action cannot be undone."}),!a&&y>0&&e.jsxs("div",{className:"px-4 sm:px-6 py-4 bg-gray-50/50 border-t border-gray-100 flex flex-col sm:flex-row justify-between items-center gap-4 hover:bg-violet-50/20 transition-colors duration-300",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-3 w-full sm:w-auto",children:[e.jsxs("span",{className:"text-xs font-medium text-gray-500 text-center sm:text-left whitespace-nowrap",children:["Showing ",e.jsx("span",{className:"font-bold text-gray-900",children:(x-1)*p+1})," - ",e.jsx("span",{className:"font-bold text-gray-900",children:Math.min(x*p,y)})," of ",e.jsx("span",{className:"font-bold text-gray-900",children:y})," members"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:"Per page:"}),e.jsx("div",{className:"w-20",children:e.jsx(ds,{options:[5,10,20],value:p,onChange:he=>{f(parseInt(he)),h(1)}})})]})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("button",{onClick:()=>h(he=>Math.max(he-1,1)),disabled:x===1,className:"w-8 h-8 flex items-center justify-center border border-gray-200 rounded-lg bg-white hover:bg-gray-50 text-gray-600 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm transition-all hover:scale-110 hover:border-violet-300 disabled:hover:scale-100 group",children:e.jsx(Xr,{size:16,className:"group-hover:-translate-x-0.5 transition-transform duration-300"})}),e.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.ceil(y/p)},(he,re)=>re+1).map(he=>e.jsx("button",{onClick:()=>h(he),className:`w-8 h-8 rounded-lg text-xs font-bold transition-all hover:scale-110 ${x===he?"bg-gradient-to-r from-violet-600 to-purple-600 text-white shadow-md shadow-violet-200":"text-gray-600 hover:bg-violet-50 hover:text-violet-600 hover:shadow-sm"}`,children:he},he))}),e.jsx("button",{onClick:()=>h(he=>Math.min(he+1,Math.ceil(y/p))),disabled:x===Math.ceil(y/p),className:"w-8 h-8 flex items-center justify-center border border-gray-200 rounded-lg bg-white hover:bg-gray-50 text-gray-600 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm transition-all hover:scale-110 hover:border-violet-300 disabled:hover:scale-100 group",children:e.jsx(bs,{size:16,className:"group-hover:translate-x-0.5 transition-transform duration-300"})})]})]})]}),e.jsx(rt,{isOpen:v,onClose:()=>C(!1),title:"Add New Member",subtitle:"Register a new member to the branch",maxWidth:"max-w-md",footer:e.jsxs("div",{className:"flex gap-3 w-full",children:[e.jsx("button",{type:"button",onClick:()=>C(!1),className:"flex-1 h-11 border border-gray-200 text-gray-700 rounded-xl text-sm font-bold hover:bg-gray-50 transition-all",children:"Cancel"}),e.jsx("button",{type:"submit",form:"add-member-form",className:"flex-1 h-11 bg-indigo-600 text-white rounded-xl text-sm font-bold hover:bg-indigo-700 shadow-lg shadow-indigo-100 transition-all hover:scale-[1.02] active:scale-[0.98]",children:"Register Member"})]}),children:e.jsxs("form",{id:"add-member-form",onSubmit:Je,className:"flex flex-col gap-8 px-6 py-4 mt-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-1.5",children:"Full Name"}),e.jsx("input",{required:!0,type:"text",className:"saas-input w-full h-11 px-4 rounded-xl border-gray-200 focus:ring-2 focus:ring-indigo-500 text-sm bg-gray-50/50 focus:bg-white transition-all",placeholder:"Enter member name",value:Y.name,onChange:he=>me({...Y,name:he.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-1.5",children:"Phone Number"}),e.jsx("input",{required:!0,type:"tel",className:"saas-input w-full h-11 px-4 rounded-xl border-gray-200 focus:ring-2 focus:ring-indigo-500 text-sm bg-gray-50/50 focus:bg-white transition-all",placeholder:"+91 00000 00000",value:Y.phone,onChange:he=>me({...Y,phone:he.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-1.5",children:"Membership Plan"}),e.jsx(ds,{options:z.map(he=>({value:he.id,label:he.name})),value:Y.planId,onChange:he=>me({...Y,planId:he}),placeholder:F?"Loading plans...":"Select a plan",className:"w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-1.5",children:"Initial Status"}),e.jsx(ds,{options:["Active","Inactive"],value:Y.status,onChange:he=>me({...Y,status:he}),className:"w-full"})]})]})]})}),e.jsx(rt,{isOpen:N,onClose:()=>k(!1),title:"Member Details",subtitle:W?.name,maxWidth:"max-w-md",footer:e.jsx("button",{onClick:()=>k(!1),className:"w-full h-11 bg-gray-100 text-gray-700 rounded-xl text-sm font-bold hover:bg-gray-200 transition-all",children:"Close"}),children:W&&e.jsxs("div",{className:"space-y-6 px-6 py-6 mt-2",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"h-16 w-16 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center text-2xl font-black shadow-inner",children:(W?.name||"?").charAt(0)}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:W.name}),e.jsx("p",{className:"text-sm font-mono text-indigo-600 font-medium",children:W.memberId})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-1",children:"Phone"}),e.jsx("p",{className:"text-sm font-semibold text-gray-800",children:W.phone})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-1",children:"Plan"}),e.jsx("p",{className:"text-sm font-semibold text-gray-800",children:W.plan})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-1",children:"Join Date"}),e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:W.joinDate})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-1",children:"Expiry Date"}),e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:W.expiryDate})]})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-50 flex flex-col gap-2",children:[e.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Subscription Status"}),tt(W.status)]}),e.jsxs("button",{onClick:()=>R(!0),className:"w-full flex items-center justify-center gap-2 py-3.5 bg-violet-50 text-violet-600 rounded-xl font-bold hover:bg-violet-600 hover:text-white transition-all duration-300 border border-violet-100 group shadow-sm hover:shadow-violet-200",children:[e.jsx(Zn,{size:18,className:"group-hover:scale-110 transition-transform"}),"Request Trainer Change"]})]})]})}),e.jsx(OM,{isOpen:w,onClose:()=>R(!1),member:W,onSubmit:Be}),e.jsx(rt,{isOpen:A,onClose:()=>E(!1),title:"Edit Member",subtitle:`Updating info for ${W?.name}`,maxWidth:"max-w-md",footer:e.jsxs("div",{className:"flex gap-3 w-full",children:[e.jsx("button",{type:"button",onClick:()=>E(!1),className:"flex-1 h-11 border border-gray-200 text-gray-700 rounded-xl text-sm font-bold hover:bg-gray-50 transition-all",children:"Cancel"}),e.jsx("button",{type:"submit",form:"edit-member-form",className:"flex-1 h-11 bg-blue-600 text-white rounded-xl text-sm font-bold hover:bg-blue-700 shadow-lg shadow-blue-200 transition-all hover:scale-[1.02] active:scale-[0.98]",children:"Save Changes"})]}),children:e.jsxs("form",{id:"edit-member-form",onSubmit:Ee,className:"flex flex-col gap-8 px-6 py-4 mt-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-1.5",children:"Full Name"}),e.jsx("input",{required:!0,type:"text",className:"saas-input w-full h-11 px-4 rounded-xl border-gray-200 focus:ring-2 focus:ring-indigo-500 text-sm bg-gray-50/50 focus:bg-white transition-all",placeholder:"Enter member name",value:H.name,onChange:he=>V({...H,name:he.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-1.5",children:"Phone Number"}),e.jsx("input",{required:!0,type:"tel",className:"saas-input w-full h-11 px-4 rounded-xl border-gray-200 focus:ring-2 focus:ring-indigo-500 text-sm bg-gray-50/50 focus:bg-white transition-all",placeholder:"+91 00000 00000",value:H.phone,onChange:he=>V({...H,phone:he.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-1.5",children:"Plan"}),e.jsx(ds,{options:z.map(he=>({value:he.id,label:he.name})),value:H.planId,onChange:he=>V({...H,planId:he}),placeholder:F?"Loading plans...":"Select a plan",className:"w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-1.5",children:"Status"}),e.jsx(ds,{options:["Active","Inactive","Expired"],value:H.status,onChange:he=>V({...H,status:he}),className:"w-full"})]})]}),e.jsx("div",{className:"mt-6 pt-6 border-t border-slate-50 flex items-center justify-center",children:e.jsxs("button",{type:"button",onClick:()=>{E(!1),setTimeout(()=>R(!0),300)},className:"flex items-center gap-2 text-violet-600 font-bold text-xs hover:text-violet-700 transition-colors",children:[e.jsx(Zn,{size:14}),"Requested Trainer Change for this member?"]})})]})})]})},IM=({isOpen:s,onClose:t})=>{const[a,l]=b.useState({creditsPerBooking:1,maxBookingsPerDay:2,maxBookingsPerWeek:10,cancellationWindow:2,allowWaitlist:!0,notifyOnCancellation:!0}),[i,o]=b.useState(!1),c=x=>{const{name:h,value:p,type:f,checked:y}=x.target;l(g=>({...g,[h]:f==="checkbox"?y:p}))},u=x=>{x.preventDefault(),o(!0),setTimeout(()=>{o(!1),alert("Booking settings updated successfully!"),t()},800)};return e.jsxs("form",{onSubmit:u,className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8 custom-scrollbar",children:[e.jsxs("div",{className:"bg-indigo-50 border border-indigo-100 rounded-2xl p-4 flex gap-3",children:[e.jsx(Sn,{className:"text-indigo-600 shrink-0",size:20}),e.jsx("p",{className:"text-xs text-indigo-700 leading-relaxed",children:"Configure how members interact with the booking system. These limits apply globally unless overridden by specific membership plans."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k7,{size:18,className:"text-purple-600"}),e.jsx("h3",{className:"text-sm font-bold text-slate-800 uppercase tracking-wider",children:"Consumption Rules"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700",children:"Credits per Session"}),e.jsx("p",{className:"text-[10px] text-slate-400 font-medium",children:"How many credits are deducted from a member's wallet for a successfully attended booking."})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("input",{type:"number",name:"creditsPerBooking",className:"w-full px-4 py-3 bg-white border-2 border-slate-200 rounded-xl text-sm focus:outline-none focus:border-indigo-500 transition-all font-bold",value:a.creditsPerBooking,onChange:c,min:"0"}),e.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-xs font-black text-slate-400 group-focus-within:text-indigo-500 uppercase tracking-tighter",children:"Credits"})]})]})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-100",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Tw,{size:18,className:"text-blue-600"}),e.jsx("h3",{className:"text-sm font-bold text-slate-800 uppercase tracking-wider",children:"Booking Limits"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-widest",children:"Max Bookings Per Day"}),e.jsx("p",{className:"text-[9px] text-slate-400 font-medium",children:"Limit the number of active sessions a member can book in a single 24-hour cycle."})]}),e.jsx("input",{type:"number",name:"maxBookingsPerDay",className:"w-full px-4 py-3 bg-white border-2 border-slate-200 rounded-xl text-sm focus:outline-none focus:border-indigo-500 transition-all font-bold",value:a.maxBookingsPerDay,onChange:c})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-widest",children:"Max Bookings Per Week"}),e.jsx("p",{className:"text-[9px] text-slate-400 font-medium",children:"Weekly cap on bookings to ensure fair access for all members."})]}),e.jsx("input",{type:"number",name:"maxBookingsPerWeek",className:"w-full px-4 py-3 bg-white border-2 border-slate-200 rounded-xl text-sm focus:outline-none focus:border-indigo-500 transition-all font-bold",value:a.maxBookingsPerWeek,onChange:c})]})]})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-100",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ze,{size:18,className:"text-rose-600"}),e.jsx("h3",{className:"text-sm font-bold text-slate-800 uppercase tracking-wider",children:"Cancellation Window"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700",children:"Hours before start"}),e.jsx("p",{className:"text-[10px] text-slate-400 font-medium leading-relaxed",children:'The minimum time required to cancel a booking without losing the credit. After this window, cancellations are considered "No-Shows".'})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("input",{type:"number",name:"cancellationWindow",className:"w-full px-4 py-3 bg-white border-2 border-slate-200 rounded-xl text-sm focus:outline-none focus:border-rose-500 transition-all font-bold",value:a.cancellationWindow,onChange:c,min:"0"}),e.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-xs font-black text-slate-400 group-focus-within:text-rose-500 uppercase tracking-tighter transition-colors",children:"Hours"})]})]})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-100 pb-10",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Yw,{size:18,className:"text-emerald-600"}),e.jsx("h3",{className:"text-sm font-bold text-slate-800 uppercase tracking-wider",children:"Advanced Settings"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl cursor-pointer hover:bg-slate-100 transition-all",children:[e.jsxs("div",{className:"flex flex-col gap-0.5",children:[e.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Allow Waitlist"}),e.jsx("span",{className:"text-[10px] text-slate-500",children:"Enable queue if session is full"})]}),e.jsx("input",{type:"checkbox",name:"allowWaitlist",checked:a.allowWaitlist,onChange:c,className:"w-5 h-5 rounded-lg border-2 border-slate-300 text-indigo-600 focus:ring-0 transition-all"})]}),e.jsxs("label",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl cursor-pointer hover:bg-slate-100 transition-all",children:[e.jsxs("div",{className:"flex flex-col gap-0.5",children:[e.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Notify Admin"}),e.jsx("span",{className:"text-[10px] text-slate-500",children:"Alert staff on every cancellation"})]}),e.jsx("input",{type:"checkbox",name:"notifyOnCancellation",checked:a.notifyOnCancellation,onChange:c,className:"w-5 h-5 rounded-lg border-2 border-slate-300 text-indigo-600 focus:ring-0 transition-all"})]})]})]})]}),e.jsxs("div",{className:"shrink-0 p-4 bg-white border-t border-slate-100 flex gap-3 shadow-[0_-4px_20px_rgba(0,0,0,0.05)]",children:[e.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-3 bg-white border-2 border-slate-200 text-slate-700 rounded-xl text-sm font-bold hover:bg-slate-50 transition-all",children:"Discard"}),e.jsxs("button",{type:"submit",disabled:i,className:"flex-[2] px-4 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl text-sm font-bold hover:shadow-lg hover:shadow-indigo-500/30 transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:[e.jsx(xa,{size:18}),i?"Saving...":"Save Settings"]})]})]})},BM=({isOpen:s,onClose:t,onCreate:a,members:l,classes:i})=>{const[o,c]=b.useState({memberId:"",classId:"",date:new Date().toISOString().split("T")[0],status:"Upcoming"}),u=x=>{if(x.preventDefault(),!o.memberId){alert("Please select a member");return}if(!o.classId){alert("Please select a class");return}if(!o.date){alert("Please select a date");return}a(o),t()};return s?e.jsxs("div",{className:"h-full flex flex-col bg-white",children:[e.jsx("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between bg-slate-50/50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-indigo-500 to-indigo-600 flex items-center justify-center text-white shadow-lg",children:e.jsx(Xe,{size:20,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-black text-slate-900",children:"Create New Booking"}),e.jsx("p",{className:"text-slate-500 text-xs font-medium",children:"Schedule a class or session"})]})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2",children:"Select Member"}),e.jsx(ds,{options:l.map(x=>({value:x.id,label:`${x.name} (${x.memberId})`})),value:o.memberId,onChange:x=>c({...o,memberId:x}),placeholder:"Select Member",className:"w-full"})]}),e.jsx("div",{className:"grid grid-cols-1 gap-6",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2",children:"Select Class"}),e.jsx(ds,{options:i.map(x=>({value:x.id,label:`${x.name} (${x.trainerName})`})),value:o.classId,onChange:x=>c({...o,classId:x}),placeholder:"Select Class",className:"w-full"})]})}),e.jsx("div",{className:"grid grid-cols-1 gap-6",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2",children:"Date"}),e.jsx("input",{required:!0,type:"date",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl font-semibold text-slate-900 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 transition-all duration-300",value:o.date,onChange:x=>c({...o,date:x.target.value})})]})})]}),e.jsx("div",{className:"p-6 border-t border-slate-100 bg-slate-50/50",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:t,className:"flex-1 py-3 rounded-xl font-bold text-slate-600 hover:bg-white border-2 border-slate-200 hover:border-slate-300 transition-all duration-300",children:"Cancel"}),e.jsx("button",{onClick:u,className:"flex-1 py-3 bg-gradient-to-r from-indigo-600 to-indigo-700 text-white rounded-xl font-bold hover:shadow-xl hover:shadow-indigo-500/50 transition-all duration-300",children:"Create Booking"})]})})]}):null},$y=()=>{const[s,t]=b.useState(new Date),[a,l]=b.useState("All"),[i,o]=b.useState({}),[c,u]=b.useState(!0),[x,h]=b.useState("Month"),[p,f]=b.useState(!1),[y,g]=b.useState(!1),[v,C]=b.useState([]),[N,k]=b.useState([]);b.useEffect(()=>{A()},[s,a,x]);const A=async()=>{try{await Promise.all([E(),w(),R()])}catch(Y){console.error("Error loading calendar data:",Y)}},E=async()=>{u(!0);let Y,me;if(x==="Month"){const $=s.getFullYear(),le=s.getMonth();Y=new Date($,le,1).toISOString(),me=new Date($,le+1,0,23,59,59).toISOString()}else if(x==="Week"){const $=new Date(s);$.setDate(s.getDate()-s.getDay()),$.setHours(0,0,0,0);const le=new Date($);le.setDate($.getDate()+6),le.setHours(23,59,59,999),Y=$.toISOString(),me=le.toISOString()}else{const $=new Date(s);$.setHours(0,0,0,0);const le=new Date(s);le.setHours(23,59,59,999),Y=$.toISOString(),me=le.toISOString()}const V=(await v9(Y,me)||[]).reduce(($,le)=>{const ge=new Date(le.date).getDate();return $[ge]||($[ge]=[]),$[ge].push({...le,member:le.member?.name||"Unknown Member",type:le.class?"Group Class":"Personal Training",slot:"10:00 AM",color:le.class?"blue":"green"}),$},{});o(V),u(!1)},w=async()=>{const Y=await Qg({limit:100});C(Y?.data||[])},R=async()=>{const Y=await L9();k(Y||[])},T=async Y=>{try{await hN(Y),Ve.success("Booking created successfully"),f(!1),E()}catch(me){console.error(me),Ve.error(me.message||"Failed to create booking")}},O=()=>{t(x==="Month"?new Date(s.getFullYear(),s.getMonth()-1,1):x==="Week"?new Date(s.getTime()-10080*60*1e3):new Date(s.getTime()-1440*60*1e3))},W=()=>{t(x==="Month"?new Date(s.getFullYear(),s.getMonth()+1,1):x==="Week"?new Date(s.getTime()+10080*60*1e3):new Date(s.getTime()+1440*60*1e3))},B=()=>{t(new Date)},P=(()=>{if(x==="Month"){const Y=new Date(s.getFullYear(),s.getMonth()+1,0).getDate(),me=new Date(s.getFullYear(),s.getMonth(),1).getDay(),H=Array.from({length:Y},($,le)=>{const ge=new Date(s.getFullYear(),s.getMonth(),le+1);return{day:le+1,date:ge}});return[...Array.from({length:me},()=>null),...H]}else if(x==="Week"){const Y=new Date(s);return Y.setDate(s.getDate()-s.getDay()),Array.from({length:7},(me,H)=>{const V=new Date(Y);return V.setDate(Y.getDate()+H),{day:V.getDate(),date:V}})}else return[{day:s.getDate(),date:new Date(s)}]})(),F=()=>{if(x==="Month")return s.toLocaleString("default",{month:"long",year:"numeric"});if(x==="Week"){const Y=new Date(s);Y.setDate(s.getDate()-s.getDay());const me=new Date(Y);return me.setDate(Y.getDate()+6),Y.getMonth()===me.getMonth()?`${Y.toLocaleString("default",{month:"long"})} ${Y.getDate()} - ${me.getDate()}, ${Y.getFullYear()}`:`${Y.toLocaleString("default",{month:"short"})} ${Y.getDate()} - ${me.toLocaleString("default",{month:"short"})} ${me.getDate()}, ${Y.getFullYear()}`}else return s.toLocaleString("default",{day:"numeric",month:"long",year:"numeric"})},G=Y=>{if(!Y)return null;const me=Y.date.getFullYear(),H=String(Y.date.getMonth()+1).padStart(2,"0"),V=String(Y.date.getDate()).padStart(2,"0"),$=`${me}-${H}-${V}`,le=[];return Object.values(i).forEach(ge=>{ge.forEach(te=>{te.date.split("T")[0]===$&&le.push(te)})}),e.jsx("div",{className:"flex flex-col gap-1.5 mt-2 overflow-y-auto max-h-[105px] no-scrollbar pr-0.5",children:le.filter(ge=>a==="All"||ge.type===a).map(ge=>e.jsxs("div",{className:`flex flex-col p-2 rounded-lg border shadow-sm transition-all duration-200 hover:shadow-md cursor-pointer group/booking ${ge.color==="blue"?"bg-blue-50/60 text-blue-700 border-blue-100/50 hover:bg-blue-100/80 hover:border-blue-200":"bg-green-50/60 text-green-700 border-green-100/50 hover:bg-green-100/80 hover:border-green-200"}`,title:`${ge.slot} - ${ge.type} (${ge.member})`,children:[e.jsxs("div",{className:"flex items-center gap-1.5 mb-1 pointer-events-none",children:[e.jsx("span",{className:`w-1.5 h-1.5 rounded-full flex-shrink-0 ${ge.color==="blue"?"bg-blue-500":"bg-green-500"}`}),e.jsx("span",{className:"font-bold tracking-tight uppercase text-[8px] opacity-70 truncate",children:ge.slot})]}),e.jsxs("div",{className:"font-bold text-[10px] leading-tight truncate px-0.5 pointer-events-none text-gray-800",children:[ge.member,e.jsx("span",{className:"block font-normal text-[9px] text-gray-500",children:ge.type})]})]},ge.id))})};return e.jsxs("div",{className:"p-6 md:p-8 bg-gray-50 min-h-screen font-sans managerdashboard-bookingcalendar",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900 tracking-tight",children:"Booking Calendar"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Manage class schedules and personal training appointments."})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx(ds,{options:["All","Group Class","Personal Training"],value:a,onChange:l,placeholder:"All Types",icon:ks,className:"w-48"}),e.jsx("button",{onClick:()=>g(!0),className:"p-2.5 bg-white border border-gray-200 text-gray-600 rounded-lg hover:bg-gray-50 hover:text-indigo-600 transition-all shadow-sm",title:"Booking Settings",children:e.jsx(Yw,{size:20})}),e.jsxs("button",{onClick:()=>{f(!0)},className:"saas-btn saas-btn-primary shadow-sm bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center",children:[e.jsx(wt,{size:18,className:"mr-1"})," New Booking"]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-md border border-gray-100/80 overflow-hidden transition-all duration-200 hover:shadow-lg hover:shadow-gray-200/50 px-0",children:[e.jsxs("div",{className:"p-6 border-b border-gray-100/60 flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 tracking-tight",children:F()}),e.jsxs("div",{className:"flex items-center bg-gray-50 p-1 rounded-lg border border-gray-100",children:[e.jsx("button",{onClick:O,className:"p-2 hover:bg-white hover:shadow-sm rounded-md transition-all duration-200 text-gray-600 hover:text-indigo-600 group active:scale-95",children:e.jsx(Xr,{size:18})}),e.jsx("div",{className:"w-[1px] h-4 bg-gray-200 mx-1"}),e.jsx("button",{onClick:W,className:"p-2 hover:bg-white hover:shadow-sm rounded-md transition-all duration-200 text-gray-600 hover:text-indigo-600 group active:scale-95",children:e.jsx(bs,{size:18})})]}),e.jsx("button",{onClick:B,className:"hidden sm:block px-4 py-2 text-sm font-bold text-indigo-600 hover:bg-indigo-50 rounded-xl transition-colors",children:"Today"})]}),e.jsxs("div",{className:"flex items-center gap-1 bg-gray-50 p-1 rounded-xl border border-gray-100 self-start sm:self-center",children:[e.jsx("button",{onClick:()=>h("Month"),className:`px-5 py-2 text-sm font-semibold rounded-lg transition-all ${x==="Month"?"bg-white shadow-sm text-indigo-700 border border-gray-100 ring-1 ring-gray-950/5":"text-gray-500 hover:text-gray-700"}`,children:"Month"}),e.jsx("button",{onClick:()=>h("Week"),className:`px-5 py-2 text-sm font-medium rounded-lg transition-all ${x==="Week"?"bg-white shadow-sm text-indigo-700 border border-gray-100 ring-1 ring-gray-950/5":"text-gray-500 hover:text-gray-700"}`,children:"Week"}),e.jsx("button",{onClick:()=>h("Day"),className:`px-5 py-2 text-sm font-medium rounded-lg transition-all ${x==="Day"?"bg-white shadow-sm text-indigo-700 border border-gray-100 ring-1 ring-950/5":"text-gray-500 hover:text-gray-700"}`,children:"Day"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("div",{className:`min-w-[760px] p-6 grid ${x==="Day"?"grid-cols-1":"grid-cols-7"} gap-px bg-gray-100/50`,children:[x!=="Day"&&["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(Y=>e.jsx("div",{className:"bg-slate-50/80 p-3 text-center text-xs font-bold text-gray-400 uppercase tracking-widest border-b border-gray-100",children:Y},Y)),P.map((Y,me)=>e.jsxs("div",{className:`bg-white min-h-[140px] p-4 transition-all duration-200 hover:bg-indigo-50/30 flex flex-col group/cell relative ${Y&&Y.date.toDateString()===new Date().toDateString()?"bg-indigo-50/20":""}`,children:[Y&&Y.date.toDateString()===new Date().toDateString()&&e.jsx("div",{className:"absolute inset-x-0 top-0 h-[2px] bg-indigo-500 animate-pulse"}),e.jsx("span",{className:`text-sm font-bold flex items-center justify-center w-8 h-8 rounded-full mb-1 transition-all duration-300 ${Y&&Y.date.toDateString()===new Date().toDateString()?"bg-indigo-600 text-white shadow-md shadow-indigo-200 scale-110":"text-gray-700 group-hover/cell:text-indigo-600 group-hover/cell:scale-110"} ${Y?"":"invisible"}`,children:Y&&Y.day}),c?e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsx("div",{className:"w-4 h-4 border-2 border-indigo-200 border-t-indigo-500 rounded-full animate-spin"})}):G(Y)]},me))]})})]}),e.jsxs("div",{className:"mt-6 flex gap-6 items-center px-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),e.jsx("span",{className:"text-xs text-gray-600 font-medium",children:"Group Class"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),e.jsx("span",{className:"text-xs text-gray-600 font-medium",children:"Personal Training"})]})]}),e.jsx(rt,{isOpen:p,onClose:()=>f(!1),title:"Create New Booking",children:e.jsx(BM,{isOpen:p,onClose:()=>f(!1),onCreate:T,members:v,classes:N})}),e.jsx(rt,{isOpen:y,onClose:()=>g(!1),title:"Global Booking Settings",children:e.jsx(IM,{isOpen:y,onClose:()=>g(!1)})})]})},ff=()=>{const[s,t]=b.useState(""),[a,l]=b.useState("All"),[i,o]=b.useState("All"),[c,u]=b.useState([]),[x,h]=b.useState(!0),[p,f]=b.useState(1),[y,g]=b.useState(5),[v,C]=b.useState(0),[N,k]=b.useState(!1),[A,E]=b.useState(null),[w,R]=b.useState({title:"",assignedTo:"",priority:"",dueDate:"",status:""}),[T,O]=b.useState([]);b.useEffect(()=>{B(),W()},[s,a,i,p]);const W=async()=>{try{const H=await Dm();O(H.map(V=>({label:V.name,value:V.id})))}catch(H){console.error("Failed to load staff:",H)}},B=async()=>{h(!0);const V=await j9({filters:{search:s,priority:a==="All"?"":a,status:i==="All"?"":i},page:p,limit:y});u(V.data),C(V.total),h(!1)},z=async(H,V)=>{await w9(H,V==="Completed"?"Pending":"Completed"),B()},P=async H=>{window.confirm("Are you sure you want to delete this task?")&&(await S9(H),B())},F=H=>{E(H),R({title:H.title,assignedToId:H.assignedToId,priority:H.priority,dueDate:H.dueDate,status:H.status}),k(!0)},G=async H=>{H.preventDefault(),await N9(A.id,w),k(!1),B()},Y=H=>{switch(H){case"Low":return e.jsx("span",{className:"px-2.5 py-1 rounded-full text-xs font-bold bg-green-50 text-green-600 border border-green-100 shadow-sm",children:"Low"});case"Medium":return e.jsx("span",{className:"px-2.5 py-1 rounded-full text-xs font-bold bg-orange-50 text-orange-600 border border-orange-100 shadow-sm",children:"Medium"});case"High":return e.jsx("span",{className:"px-2.5 py-1 rounded-full text-xs font-bold bg-red-50 text-red-600 border border-red-100 shadow-sm",children:"High"});default:return null}},me=H=>{switch(H){case"Pending":return e.jsxs("span",{className:"flex items-center gap-1.5 text-xs font-bold text-gray-500 bg-gray-100 px-2.5 py-1 rounded-full",children:[e.jsx(Ze,{size:14})," Pending"]});case"In Progress":return e.jsxs("span",{className:"flex items-center gap-1.5 text-xs font-bold text-blue-600 bg-blue-50 px-2.5 py-1 rounded-full border border-blue-100",children:[e.jsx(ms,{size:14})," In Progress"]});case"Completed":return e.jsxs("span",{className:"flex items-center gap-1.5 text-xs font-bold text-green-600 bg-green-50 px-2.5 py-1 rounded-full border border-green-100",children:[e.jsx(Zt,{size:14})," Completed"]});default:return null}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-6 md:p-8",children:[e.jsxs("div",{className:"mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-6",children:e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(Zt,{size:28})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Task List"}),e.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Manage and track staff tasks and responsibilities"})]})]}),e.jsxs("button",{onClick:()=>window.location.href=window.location.pathname.includes("branchadmin")?"/branchadmin/tasks/assign":"/manager/tasks/assign",className:"bg-gradient-to-r from-violet-600 to-purple-600 text-white px-6 py-3 rounded-xl font-bold text-sm shadow-xl shadow-violet-200 hover:shadow-violet-400/40 transition-all hover:scale-[1.02] active:scale-[0.98] flex items-center gap-2",children:[e.jsx(wt,{size:18}),"Assign New Task"]})]})})]}),e.jsx("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden hover:shadow-2xl hover:border-violet-200 transition-all duration-300",children:e.jsxs("div",{className:"p-6 border-b border-slate-100 flex flex-col md:flex-row gap-4 items-center justify-between bg-white hover:bg-violet-50/20 transition-colors duration-300",children:[e.jsxs("div",{className:"relative w-full md:w-96 group",children:[e.jsx(st,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 transition-colors group-hover:text-violet-500 group-hover:scale-110 duration-300",size:18}),e.jsx("input",{type:"text",placeholder:"Search tasks...",className:"pl-11 h-11 w-full rounded-xl border-2 border-slate-200 focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 transition-all text-sm bg-white hover:border-slate-300 shadow-sm focus:shadow-lg",value:s,onChange:H=>{t(H.target.value),f(1)}})]}),e.jsxs("div",{className:"flex flex-wrap gap-3 w-full md:w-auto",children:[e.jsx(ds,{options:["All","Low","Medium","High"],value:a,onChange:H=>{l(H),f(1)},placeholder:"All Priorities",icon:ks}),e.jsx(ds,{options:["All","Pending","In Progress","Completed"],value:i,onChange:H=>{o(H),f(1)},placeholder:"All Status",icon:Ze})]})]})}),e.jsx("div",{className:"grid grid-cols-1 gap-4 md:hidden mt-6",children:x?e.jsx("div",{className:"py-12 text-center bg-white rounded-2xl border border-slate-100 shadow-xl",children:e.jsxs("div",{className:"flex flex-col items-center gap-3 text-violet-600",children:[e.jsx("div",{className:"w-8 h-8 border-4 border-violet-600 border-t-transparent rounded-full animate-spin"}),e.jsx("span",{className:"text-sm font-black uppercase tracking-widest",children:"Loading..."})]})}):c.length>0?c.map(H=>e.jsx(Ya,{title:H.title,subtitle:H.assignedTo,badge:H.priority,badgeColor:H.priority==="High"?"rose":H.priority==="Medium"?"amber":"emerald",fields:[{label:"Due Date",value:H.dueDate,icon:Ze},{label:"Status",value:H.status}],actions:[{label:"Edit",icon:Od,variant:"primary",onClick:()=>F(H)},{label:"Toggle Status",icon:Zt,variant:"secondary",onClick:()=>z(H.id,H.status)}]},H.id)):e.jsx("div",{className:"py-12 text-center bg-white rounded-2xl border border-slate-100 shadow-xl",children:e.jsx("p",{className:"text-slate-500 font-bold",children:"No tasks found"})})}),e.jsxs("div",{className:"hidden md:block bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden hover:shadow-2xl hover:border-violet-200 transition-all duration-300 mt-8",children:[e.jsx("div",{className:"saas-table-wrapper",children:e.jsxs("table",{className:"saas-table saas-table-responsive",children:[e.jsx("thead",{className:"bg-gradient-to-r from-violet-50 via-purple-50 to-fuchsia-50 border-b-2 border-violet-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider hover:text-purple-700 transition-colors duration-300 cursor-pointer",children:"Task Title"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider hover:text-purple-700 transition-colors duration-300 cursor-pointer",children:"Assigned To"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider hover:text-purple-700 transition-colors duration-300 cursor-pointer",children:"Priority"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider hover:text-purple-700 transition-colors duration-300 cursor-pointer",children:"Due Date"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider hover:text-purple-700 transition-colors duration-300 cursor-pointer",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider text-right hover:text-purple-700 transition-colors duration-300 cursor-pointer",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:x?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-3 text-violet-600",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-current border-t-transparent rounded-full animate-spin"}),e.jsx("span",{className:"text-sm font-medium",children:"Loading tasks..."})]})})}):c.length>0?c.map(H=>e.jsxs("tr",{className:"group hover:bg-gradient-to-r hover:from-violet-50/50 hover:to-purple-50/30 transition-all duration-300",children:[e.jsx("td",{className:"px-6 py-4","data-label":"Task Title",children:e.jsx("p",{className:"text-sm font-bold text-gray-800 tracking-tight group-hover:text-violet-700 transition-colors duration-300",children:H.title})}),e.jsx("td",{className:"px-6 py-4","data-label":"Assigned To",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-100 flex items-center justify-center text-[10px] font-bold text-gray-500",children:(H.assignedTo||"?").charAt(0)}),e.jsx("p",{className:"text-sm font-medium text-gray-600",children:H.assignedTo})]})}),e.jsx("td",{className:"px-6 py-4","data-label":"Priority",children:Y(H.priority)}),e.jsx("td",{className:"px-6 py-4","data-label":"Due Date",children:e.jsx("p",{className:"text-xs font-medium text-gray-500 bg-gray-50 px-2 py-1 rounded-md inline-block",children:H.dueDate})}),e.jsx("td",{className:"px-6 py-4","data-label":"Status",children:e.jsx("button",{onClick:()=>z(H.id,H.status),className:"hover:scale-105 active:scale-95 transition-transform",children:me(H.status)})}),e.jsx("td",{className:"px-6 py-4 text-right","data-label":"Actions",children:e.jsxs("div",{className:"flex items-center justify-end gap-1 opacity-0 group-hover:opacity-100 transition-all duration-200 transform translate-x-2 group-hover:translate-x-0",children:[e.jsx("button",{onClick:()=>F(H),className:"p-2 text-gray-400 hover:text-violet-600 hover:bg-violet-50 rounded-lg transition-all hover:scale-110 duration-300",children:e.jsx(Od,{size:16})}),e.jsx("button",{onClick:()=>P(H.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",children:e.jsx(xs,{size:16})})]})})]},H.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-12 text-center text-gray-400 text-sm",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("div",{className:"p-3 bg-gray-50 rounded-full",children:e.jsx(ks,{size:20,className:"text-gray-300"})}),e.jsx("p",{children:"No tasks found matching your filters."})]})})})})]})}),!x&&v>0&&e.jsxs("div",{className:"px-6 py-4 bg-gray-50/50 border-t border-gray-100 flex justify-between items-center",children:[e.jsxs("span",{className:"text-xs font-medium text-gray-500",children:["Showing ",e.jsx("span",{className:"text-gray-900",children:(p-1)*y+1})," - ",e.jsx("span",{className:"text-gray-900",children:Math.min(p*y,v)})," of ",e.jsx("span",{className:"text-gray-900",children:v})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>f(H=>Math.max(H-1,1)),disabled:p===1,className:"w-9 h-9 flex items-center justify-center border border-gray-200 rounded-xl bg-white hover:bg-gray-50 text-gray-600 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm transition-all hover:-translate-y-0.5",children:e.jsx(Xr,{size:18})}),e.jsx("button",{onClick:()=>f(H=>Math.min(H+1,Math.ceil(v/y))),disabled:p===Math.ceil(v/y),className:"w-9 h-9 flex items-center justify-center border border-gray-200 rounded-xl bg-white hover:bg-gray-50 text-gray-600 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm transition-all hover:-translate-y-0.5",children:e.jsx(bs,{size:18})})]})]})]}),e.jsx(rt,{isOpen:N,onClose:()=>k(!1),title:"Edit Task",subtitle:`Updating info for ${A?.title}`,maxWidth:"max-w-md",footer:e.jsxs("div",{className:"flex gap-4 w-full",children:[e.jsx("button",{type:"button",onClick:()=>k(!1),className:"flex-1 h-12 border-2 border-slate-100 text-slate-600 rounded-2xl text-sm font-bold hover:bg-slate-50 hover:border-slate-200 transition-all duration-300",children:"Cancel"}),e.jsx("button",{type:"submit",form:"edit-task-form",className:"flex-1 h-12 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-2xl text-sm font-bold shadow-lg shadow-violet-200 hover:shadow-violet-400/40 transition-all hover:scale-[1.02] active:scale-[0.98]",children:"Save Changes"})]}),children:e.jsxs("form",{id:"edit-task-form",onSubmit:G,className:"space-y-6 px-6 py-8",children:[e.jsxs("div",{className:"space-y-2 group",children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest ml-1",children:"Task Title"}),e.jsx("div",{className:"relative",children:e.jsx("input",{required:!0,type:"text",className:"saas-input w-full h-12 px-5 rounded-2xl border-2 border-slate-100 focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 text-sm bg-slate-50/50 focus:bg-white transition-all duration-300 group-hover:border-slate-200",value:w.title,onChange:H=>R({...w,title:H.target.value}),placeholder:"Enter task title..."})})]}),e.jsxs("div",{className:"space-y-2 group",children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest ml-1",children:"Assigned To"}),e.jsx(ds,{options:T,value:w.assignedToId,onChange:H=>R({...w,assignedToId:H}),className:"w-full",icon:lt,placeholder:"Select Staff Member"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest ml-1",children:"Priority"}),e.jsx(ds,{options:["Low","Medium","High"],value:w.priority,onChange:H=>R({...w,priority:H}),className:"w-full",placeholder:"Priority"})]}),e.jsxs("div",{className:"space-y-2 group",children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest ml-1",children:"Due Date"}),e.jsx("input",{required:!0,type:"date",className:"saas-input w-full h-[52px] px-5 rounded-2xl border-2 border-slate-100 focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 text-sm bg-slate-50/50 focus:bg-white transition-all duration-300 group-hover:border-slate-200",value:w.dueDate,onChange:H=>R({...w,dueDate:H.target.value})})]})]}),e.jsxs("div",{className:"space-y-2 group",children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest ml-1",children:"Status"}),e.jsx(ds,{options:["Pending","In Progress","Completed"],value:w.status,onChange:H=>R({...w,status:H}),className:"w-full",placeholder:"Status"})]}),e.jsx("div",{className:"bg-violet-50/50 rounded-2xl p-4 border border-violet-100/50 mt-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 bg-white rounded-xl shadow-sm",children:e.jsx(ms,{size:16,className:"text-violet-500"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-[11px] font-bold text-violet-700 uppercase tracking-wider",children:"Quick Info"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1 leading-relaxed",children:"Assigned staff will see this task instantly in their personal task dashboard."})]})]})})]})})]})},qy=()=>{const s=Ht(),[t,a]=b.useState({title:"",description:"",assignedToId:"",priority:"Medium",dueDate:""}),[l,i]=b.useState(!1),[o,c]=b.useState(!1),[u,x]=b.useState([]);b.useEffect(()=>{(async()=>{try{const y=await Dm();x(y)}catch(y){console.error("Failed to load staff:",y)}})()},[]);const h=f=>{const{name:y,value:g}=f.target;a(v=>({...v,[y]:g}))},p=async f=>{f.preventDefault(),i(!0);try{await k9({...t,assignedToId:parseInt(t.assignedToId)}),c(!0),a({title:"",description:"",assignedToId:"",priority:"Medium",dueDate:""}),setTimeout(()=>{c(!1);const g=window.location.pathname.replace("/assign","/list");s(g)},1500)}catch(y){console.error("Task Assignment Failed:",y),alert("Failed to assign task. Please try again.")}finally{i(!1)}};return e.jsxs("div",{className:"p-6 md:p-8 bg-gray-50 min-h-screen font-sans managerdashboard-assigntask",children:[e.jsxs("div",{className:"mb-8 animate-fade-in-down",children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900 tracking-tight",children:"Assign Task"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Create and assign new tasks to team members."})]}),e.jsx("div",{className:"max-w-3xl animate-fade-in-up",children:e.jsx("div",{className:"bg-white rounded-3xl shadow-sm border border-gray-100 overflow-visible hover:shadow-lg transition-shadow duration-500",children:e.jsx("form",{onSubmit:p,className:"p-8",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2 group",children:[e.jsxs("label",{className:"text-sm font-bold text-gray-700 flex items-center gap-2 transition-colors group-hover:text-indigo-600",children:[e.jsx(dr,{size:16,className:"text-indigo-500"}),"Task Title"]}),e.jsx("input",{type:"text",name:"title",placeholder:"e.g., Equipment Maintenance",className:"saas-input w-full h-11 px-4 rounded-xl border border-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all duration-300 text-sm bg-gray-50/50 hover:bg-white hover:shadow-md",value:t.title,onChange:h,required:!0})]}),e.jsxs("div",{className:"space-y-2 group",children:[e.jsxs("label",{className:"text-sm font-bold text-gray-700 flex items-center gap-2 transition-colors group-hover:text-indigo-600",children:[e.jsx(xy,{size:16,className:"text-indigo-500"}),"Description"]}),e.jsx("textarea",{name:"description",placeholder:"Enter detailed task instructions...",rows:"4",className:"saas-input w-full p-4 rounded-xl border border-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all duration-300 text-sm bg-gray-50/50 resize-none hover:bg-white hover:shadow-md",value:t.description,onChange:h,required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 relative z-20",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-bold text-gray-700 flex items-center gap-2",children:[e.jsx(nl,{size:16,className:"text-indigo-500"}),"Assign To"]}),e.jsx(ds,{options:u.map(f=>({value:f.id,label:f.name})),value:t.assignedToId,onChange:f=>h({target:{name:"assignedToId",value:f}}),placeholder:"Select Staff",className:"w-full"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-bold text-gray-700 flex items-center gap-2",children:[e.jsx(xy,{size:16,className:"text-indigo-500"}),"Priority"]}),e.jsx(ds,{options:["Low","Medium","High"],value:t.priority,onChange:f=>h({target:{name:"priority",value:f}}),placeholder:"Select Priority",className:"w-full"})]})]}),e.jsxs("div",{className:"space-y-2 group relative z-10",children:[e.jsxs("label",{className:"text-sm font-bold text-gray-700 flex items-center gap-2 transition-colors group-hover:text-indigo-600",children:[e.jsx(Xe,{size:16,className:"text-indigo-500"}),"Due Date"]}),e.jsx("input",{type:"date",name:"dueDate",className:"saas-input w-full h-11 px-4 rounded-xl border border-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all duration-300 text-sm bg-gray-50/50 hover:bg-white hover:shadow-md",value:t.dueDate,onChange:h,required:!0})]}),e.jsxs("div",{className:"pt-6",children:[o&&e.jsxs("div",{className:"mb-4 p-4 bg-green-50 border border-green-100 rounded-xl flex items-center gap-3 text-green-700 text-sm font-bold animate-bounce shadow-sm",children:[e.jsx("div",{className:"p-1 bg-green-200 rounded-full",children:e.jsx(Zt,{size:16,className:"text-green-700"})}),"Task assigned successfully!"]}),e.jsxs("button",{type:"submit",disabled:l,className:`saas-btn w-full h-12 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl shadow-lg shadow-indigo-200 font-bold transition-all duration-300 transform hover:-translate-y-1 hover:shadow-xl active:translate-y-0 active:scale-[0.98] flex items-center justify-center gap-2 ${l?"opacity-70 cursor-not-allowed":""}`,children:[l?e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):e.jsx($d,{size:18}),l?"Assigning...":"Assign Task"]})]})]})})})})]})},UM=({options:s,value:t,onChange:a,icon:l,placeholder:i})=>{const[o,c]=b.useState(!1),u=b.useRef(null);return b.useEffect(()=>{const x=h=>{u.current&&!u.current.contains(h.target)&&c(!1)};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]),e.jsxs("div",{className:"relative min-w-[160px]",ref:u,children:[e.jsxs("button",{onClick:()=>c(!o),className:`w-full h-11 px-4 rounded-xl border flex items-center justify-between transition-all duration-300 ${o?"border-violet-500 ring-2 ring-violet-100 bg-white":"border-gray-200 bg-white hover:border-gray-300"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[l&&e.jsx(l,{size:16,className:"text-gray-400"}),e.jsx("span",{className:"font-medium truncate",children:t==="All"?i:t})]}),e.jsx(kl,{size:16,className:`text-gray-400 transition-transform duration-300 ${o?"rotate-180 text-violet-500":""}`})]}),e.jsx("div",{className:`absolute top-full left-0 right-0 mt-2 bg-white border border-gray-100 rounded-xl shadow-xl z-50 overflow-hidden transition-all duration-200 origin-top ${o?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-95 -translate-y-2 pointer-events-none"}`,children:e.jsx("div",{className:"py-1",children:s.map(x=>e.jsxs("button",{onClick:()=>{a(x),c(!1)},className:`w-full px-4 py-2.5 text-left text-sm flex items-center justify-between transition-colors ${t===x?"bg-violet-50 text-violet-600 font-medium":"text-gray-600 hover:bg-gray-50"}`,children:[x==="All"?i:x,t===x&&e.jsx(wr,{size:14})]},x))})})]})},Hy=()=>{const s=()=>{const G=new Date,Y=G.getFullYear(),me=String(G.getMonth()+1).padStart(2,"0"),H=String(G.getDate()).padStart(2,"0");return`${Y}-${me}-${H}`},[t,a]=b.useState(s()),[l,i]=b.useState("All"),[o,c]=b.useState(""),[u,x]=b.useState([]),[h,p]=b.useState({totalToday:0,membersToday:0,staffToday:0}),[f,y]=b.useState(!0),[g,v]=b.useState(1),[C,N]=b.useState(0),[k,A]=b.useState(!0),[E,w]=b.useState(null),[R,T]=b.useState(!1),O=5;b.useEffect(()=>{W()},[t,l,o,g]);const W=async()=>{try{y(!0);const G={search:o,type:l,date:t,page:g,limit:O},Y=await ve.get("/branch-admin/reports/attendance",{params:G});x(Y.data.data||[]),N(Y.data.total||0),Y.data.stats&&p(Y.data.stats)}catch(G){console.error("Attendance Load Error:",G)}finally{y(!1)}},B=()=>{if(u.length===0){alert("No data to export");return}const Y=[["Name","Type","Check-In","Check-Out","Status"].join(","),...u.map($=>[`"${$.name}"`,`"${$.type}"`,`"${$.checkIn}"`,`"${$.checkOut}"`,`"${$.status}"`].join(","))].join(`
`),me=new Blob([Y],{type:"text/csv"}),H=URL.createObjectURL(me),V=document.createElement("a");V.href=H,V.download=`attendance_report_${t}.csv`,V.click()},z=async G=>{if(window.confirm("Are you sure you want to remove this attendance record?"))try{await ve.delete(`/admin/attendance/${G}`),W()}catch(Y){console.error("Delete Error:",Y)}},P=G=>{w(G),T(!0)},F=[{label:"Total Attendance",value:h.totalToday,icon:Pt,bg:"bg-indigo-50",color:"text-indigo-600",border:"border-indigo-100"},{label:"Member Attendance",value:h.membersToday,icon:Zn,bg:"bg-green-50",color:"text-green-600",border:"border-green-100"},{label:"Staff Attendance",value:h.staffToday,icon:Zn,bg:"bg-blue-50",color:"text-blue-600",border:"border-blue-100"}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-6 md:p-8",children:[e.jsxs("div",{className:"mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(Xe,{size:28})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Daily Attendance Report"}),e.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Detailed breakdown of today's attendance for members and staff"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>A(!k),className:`p-2.5 border rounded-xl hover:bg-gray-50 transition-all ${k?"bg-violet-50 border-violet-200 ring-2 ring-violet-100 text-violet-600":"bg-white border-gray-200 text-gray-500"}`,children:e.jsx(ks,{size:18})}),e.jsxs("button",{onClick:B,className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-violet-600 to-purple-600 hover:shadow-xl hover:shadow-violet-500/50 text-white rounded-xl text-sm font-bold transition-all hover:scale-[1.02] active:scale-[0.98]",children:[e.jsx(na,{size:18}),"Export Report"]})]})]})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:F.map((G,Y)=>e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-xl border border-slate-100 flex items-center gap-4 hover:shadow-2xl hover:border-violet-200 transition-all duration-300 transform hover:-translate-y-1 hover:scale-105 group cursor-pointer",children:[e.jsx("div",{className:`p-4 rounded-xl ${G.bg} ${G.color} group-hover:scale-125 group-hover:rotate-6 transition-all duration-500 shadow-md`,children:e.jsx(G.icon,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1",children:G.label}),e.jsx("p",{className:"text-3xl font-black text-gray-900 leading-none",children:G.value})]})]},Y))}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 hover:shadow-2xl hover:border-violet-200 transition-all duration-300",style:{overflow:"visible",zIndex:10,position:"relative"},children:[k&&e.jsx("div",{className:"p-6 border-b border-slate-100 hover:bg-violet-50/20 transition-colors duration-300",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-center",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 w-full md:w-auto",children:[e.jsxs("div",{className:"relative group",children:[e.jsx(Xe,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-hover:text-violet-500 group-hover:scale-110 transition-all duration-300",size:18}),e.jsx("input",{type:"date",className:"pl-11 h-11 px-4 rounded-xl border-2 border-slate-200 text-sm focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 transition-all bg-white hover:border-slate-300 hover:shadow-sm",value:t,onChange:G=>{a(G.target.value),v(1)}})]}),e.jsx("div",{className:"w-full md:w-48",children:e.jsx(UM,{options:["All","Member","Staff","Trainer"],value:l,onChange:G=>{i(G),v(1)},placeholder:"All Types",icon:Pt})})]}),e.jsxs("div",{className:"relative w-full md:w-72 group",children:[e.jsx(st,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-hover:text-violet-500 group-hover:scale-110 transition-all duration-300",size:18}),e.jsx("input",{type:"text",placeholder:"Search by name...",className:"pl-11 h-11 w-full rounded-xl border-2 border-slate-200 focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 text-sm bg-white hover:border-slate-300 hover:shadow-sm transition-all",value:o,onChange:G=>{c(G.target.value),v(1)}})]})]})}),e.jsx("div",{className:"saas-table-wrapper",children:e.jsxs("table",{className:"saas-table saas-table-responsive",children:[e.jsx("thead",{className:"bg-gradient-to-r from-violet-50 via-purple-50 to-fuchsia-50 border-b-2 border-violet-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider hover:text-purple-700 transition-colors duration-300 cursor-pointer",children:"Name"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider hover:text-purple-700 transition-colors duration-300 cursor-pointer",children:"Type"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider hover:text-purple-700 transition-colors duration-300 cursor-pointer",children:"Check-In"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider hover:text-purple-700 transition-colors duration-300 cursor-pointer",children:"Check-Out"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider hover:text-purple-700 transition-colors duration-300 cursor-pointer",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider text-right hover:text-purple-700 transition-colors duration-300 cursor-pointer",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:f?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-2 text-violet-600",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-violet-600 border-t-transparent rounded-full animate-spin"}),e.jsx("span",{className:"text-sm font-medium",children:"Loading report..."})]})})}):u.length>0?u.map(G=>e.jsxs("tr",{className:"hover:bg-gradient-to-r hover:from-violet-50/50 hover:to-purple-50/30 transition-colors duration-200 group",children:[e.jsx("td",{className:"px-6 py-4","data-label":"Name",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`h-9 w-9 rounded-full flex items-center justify-center font-bold text-xs shadow-sm ${G.type==="Member"?"bg-green-100 text-green-700":G.type==="Staff"?"bg-blue-100 text-blue-700":"bg-purple-100 text-purple-700"}`,children:(G.name||"?").charAt(0)}),e.jsx("span",{className:"text-sm font-bold text-gray-800",children:G.name})]})}),e.jsx("td",{className:"px-6 py-4","data-label":"Type",children:e.jsx("span",{className:`text-xs font-bold px-2.5 py-1 rounded-full border ${G.type==="Member"?"bg-green-50 text-green-600 border-green-100":G.type==="Staff"?"bg-blue-50 text-blue-600 border-blue-100":"bg-purple-50 text-purple-600 border-purple-100"}`,children:G.type})}),e.jsx("td",{className:"px-6 py-4","data-label":"Check-In",children:e.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-gray-600",children:[e.jsx(Ze,{size:14,className:"text-gray-400"}),G.time||G.checkIn]})}),e.jsx("td",{className:"px-6 py-4","data-label":"Check-Out",children:e.jsx("span",{className:"text-sm text-gray-600",children:G.checkOut||"-"})}),e.jsx("td",{className:"px-6 py-4","data-label":"Status",children:e.jsxs("span",{className:"inline-flex items-center gap-1.5 text-xs font-bold text-green-600 bg-green-50 px-2.5 py-1 rounded-full border border-green-100",children:[e.jsxs("span",{className:"relative flex h-2 w-2",children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),e.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-green-500"})]}),G.status==="checked-in"||G.status==="checked-out"?"Present":G.status]})}),e.jsx("td",{className:"px-6 py-4 text-right","data-label":"Actions",children:e.jsxs("div",{className:"flex items-center justify-end gap-1 opacity-0 group-hover:opacity-100 transition-all duration-200 transform translate-x-2 group-hover:translate-x-0",children:[e.jsx("button",{onClick:()=>P(G),className:"p-2 text-gray-400 hover:text-violet-600 hover:bg-violet-50 rounded-lg transition-all hover:scale-110 duration-300",title:"View Details",children:e.jsx(qs,{size:16})}),e.jsx("button",{onClick:()=>z(G.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",title:"Delete Record",children:e.jsx(xs,{size:16})})]})})]},G.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-12 text-center text-gray-400 text-sm",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("div",{className:"p-3 bg-gray-50 rounded-full",children:e.jsx(st,{size:20,className:"text-gray-300"})}),e.jsx("p",{children:"No attendance records found for this date."})]})})})})]})}),!f&&C>0&&e.jsxs("div",{className:"px-6 py-4 bg-gray-50/50 border-t border-gray-100 flex justify-between items-center",children:[e.jsxs("span",{className:"text-xs font-medium text-gray-500",children:["Showing ",e.jsx("span",{className:"font-bold text-gray-900",children:(g-1)*O+1})," - ",e.jsx("span",{className:"font-bold text-gray-900",children:Math.min(g*O,C)})," of ",e.jsx("span",{className:"font-bold text-gray-900",children:C})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>v(G=>Math.max(G-1,1)),disabled:g===1,className:"w-9 h-9 flex items-center justify-center border border-gray-200 rounded-xl bg-white hover:bg-gray-50 text-gray-600 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm transition-all hover:-translate-y-0.5","aria-label":"Previous Page",children:e.jsx(Xr,{size:18})}),e.jsx("button",{onClick:()=>v(G=>Math.min(G+1,Math.ceil(C/O))),disabled:g===Math.ceil(C/O),className:"w-9 h-9 flex items-center justify-center border border-gray-200 rounded-xl bg-white hover:bg-gray-50 text-gray-600 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm transition-all hover:-translate-y-0.5","aria-label":"Next Page",children:e.jsx(bs,{size:18})})]})]})]}),e.jsx(rt,{isOpen:R,onClose:()=>T(!1),title:"Attendance Details",subtitle:"Detailed entry log",width:"500px",children:E&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col items-center py-6 bg-slate-50 rounded-2xl border border-slate-100",children:[e.jsx("div",{className:`h-20 w-20 rounded-full flex items-center justify-center font-black text-2xl mb-3 shadow-lg ring-4 ring-offset-4 ${E.type==="Member"?"bg-green-100 text-green-600 ring-green-50":E.type==="Staff"?"bg-blue-100 text-blue-600 ring-blue-50":"bg-purple-100 text-purple-600 ring-purple-50"}`,children:(E.name||"?").charAt(0)}),e.jsx("h4",{className:"text-xl font-bold text-gray-900",children:E.name}),e.jsx("span",{className:`text-[10px] font-black px-3 py-1 rounded-full mt-2 uppercase tracking-widest border ${E.type==="Member"?"bg-green-50 text-green-600 border-green-100":E.type==="Staff"?"bg-blue-50 text-blue-600 border-blue-100":"bg-purple-50 text-purple-600 border-purple-100"}`,children:E.type})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-white rounded-xl border border-slate-100 shadow-sm",children:[e.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1 flex items-center gap-1.5",children:[e.jsx(Ze,{size:12})," Check-In"]}),e.jsx("p",{className:"text-lg font-black text-slate-800",children:E.time||E.checkIn||"-"})]}),e.jsxs("div",{className:"p-4 bg-white rounded-xl border border-slate-100 shadow-sm",children:[e.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1 flex items-center gap-1.5",children:[e.jsx(Ze,{size:12})," Check-Out"]}),e.jsx("p",{className:"text-lg font-black text-slate-800",children:E.checkOut||"-"})]})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-100",children:[e.jsx("div",{className:"flex justify-between items-center p-3 hover:bg-slate-50 rounded-lg transition-colors",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-slate-100 text-slate-500 rounded-lg",children:e.jsx(Kl,{size:16})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-slate-900",children:"Entrance Kiosk A"}),e.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-wide",children:"Device Info"})]})]})}),e.jsx("div",{className:"flex justify-between items-center p-3 hover:bg-slate-50 rounded-lg transition-colors",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-slate-100 text-slate-500 rounded-lg",children:e.jsx(Ws,{size:16})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-slate-900",children:"Main Location"}),e.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-wide",children:"Branch"})]})]})})]}),e.jsx("button",{onClick:()=>T(!1),className:"w-full py-3 bg-slate-900 text-white rounded-xl text-xs font-black uppercase tracking-widest hover:bg-slate-800 transition-all mt-6 shadow-lg shadow-slate-200",children:"Close Details"})]})})]})},Wy=({options:s,value:t,onChange:a,icon:l,placeholder:i})=>{const[o,c]=b.useState(!1),u=b.useRef(null);return b.useEffect(()=>{const x=h=>{u.current&&!u.current.contains(h.target)&&c(!1)};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]),e.jsxs("div",{className:"relative min-w-[160px]",ref:u,children:[e.jsxs("button",{onClick:()=>c(!o),className:`w-full h-11 px-4 rounded-xl border flex items-center justify-between transition-all duration-300 ${o?"border-violet-500 ring-2 ring-violet-100 bg-white":"border-gray-200 bg-white hover:border-gray-300"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[l&&e.jsx(l,{size:16,className:"text-gray-400"}),e.jsx("span",{className:"font-medium truncate",children:t==="All"?i:t})]}),e.jsx(kl,{size:16,className:`text-gray-400 transition-transform duration-300 ${o?"rotate-180 text-violet-500":""}`})]}),e.jsx("div",{className:`absolute top-full left-0 right-0 mt-2 bg-white border border-gray-100 rounded-xl shadow-xl z-50 overflow-hidden transition-all duration-200 origin-top ${o?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-95 -translate-y-2 pointer-events-none"}`,children:e.jsx("div",{className:"py-1",children:s.map(x=>e.jsxs("button",{onClick:()=>{a(x),c(!1)},className:`w-full px-4 py-2.5 text-left text-sm flex items-center justify-between transition-colors ${t===x?"bg-violet-50 text-violet-600 font-medium":"text-gray-600 hover:bg-gray-50"}`,children:[x==="All"?i:x,t===x&&e.jsx(wr,{size:14})]},x))})})]})},Gy=()=>{const[s,t]=b.useState("All"),[a,l]=b.useState("All"),[i,o]=b.useState(""),[c,u]=b.useState([]),[x,h]=b.useState({total:0,completed:0,cancelled:0}),[p,f]=b.useState(!0),[y,g]=b.useState(1),[v,C]=b.useState(0),[N,k]=b.useState(!0),[A,E]=b.useState(null),[w,R]=b.useState(!1),T=5;b.useEffect(()=>{O()},[s,a,i,y]);const O=async()=>{try{f(!0);const Y={search:i,status:a,dateRange:s,page:y,limit:T},me=await ve.get("/branch-admin/reports/bookings",{params:Y});u(me.data.data||[]),C(me.data.total||0),me.data.stats&&h(me.data.stats)}catch(Y){console.error("Booking Load Error:",Y)}finally{f(!1)}},W=()=>{if(c.length===0){alert("No data to export");return}const me=[["Booking ID","Member","Class/Type","Trainer","Date","Time","Status"].join(","),...c.map(le=>[`"${le.id}"`,`"${le.memberName}"`,`"${le.classType}"`,`"${le.trainerName}"`,`"${le.date}"`,`"${le.time}"`,`"${le.status}"`].join(","))].join(`
`),H=new Blob([me],{type:"text/csv;charset=utf-8;"}),V=URL.createObjectURL(H),$=document.createElement("a");$.setAttribute("href",V),$.setAttribute("download",`booking_report_${new Date().toISOString().split("T")[0]}.csv`),$.style.visibility="hidden",document.body.appendChild($),$.click(),document.body.removeChild($)},B=()=>{if(c.length===0){alert("No data to export");return}const Y=c.map(V=>`<tr><td>${V.id}</td><td>${V.memberName}</td><td>${V.classType}</td><td>${V.trainerName}</td><td>${V.date} ${V.time}</td><td>${V.status}</td></tr>`).join(""),me=`<html><head><title>Booking Report</title><style>body{font-family:sans-serif;padding:20px}table{width:100%;border-collapse:collapse}th,td{border:1px solid #ddd;padding:8px;text-align:left}th{background:#6d28d9;color:white}tr:nth-child(even){background:#f9f5ff}</style></head><body><h2>Booking Report</h2><p>Generated: ${new Date().toLocaleString()}</p><table><thead><tr><th>ID</th><th>Member</th><th>Class</th><th>Trainer</th><th>Date/Time</th><th>Status</th></tr></thead><tbody>${Y}</tbody></table></body></html>`,H=window.open("","_blank");H.document.write(me),H.document.close(),H.print()},z=async Y=>{if(window.confirm("Are you sure you want to cancel and remove this booking?"))try{await ve.delete(`/admin/bookings/${Y}`),O()}catch(me){console.error("Delete Error:",me),alert("Failed to delete booking. Please try again.")}},P=Y=>{E(Y),R(!0)},F=Y=>Y==="Completed"?"bg-green-50 text-green-700 border-green-100":Y==="Cancelled"?"bg-red-50 text-red-700 border-red-100":"bg-yellow-50 text-yellow-700 border-yellow-100",G=[{label:"Total Bookings",value:x.total,icon:ll,bg:"bg-indigo-50",color:"text-indigo-600",border:"border-indigo-100"},{label:"Completed",value:x.completed,icon:ll,bg:"bg-green-50",color:"text-green-600",border:"border-green-100"},{label:"Cancelled",value:x.cancelled,icon:ll,bg:"bg-red-50",color:"text-red-600",border:"border-red-100"}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-6 md:p-8",children:[e.jsxs("div",{className:"mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(ll,{size:28})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Booking Report"}),e.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Analyze class and personal training booking performance"})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs("button",{onClick:W,className:"bg-white border border-gray-200 hover:bg-gray-50 text-gray-700 flex items-center gap-2 shadow-sm hover:shadow-md transition-all rounded-xl px-4 py-2.5 text-sm font-semibold",children:[e.jsx(na,{size:16,className:"text-gray-500"})," Export CSV"]}),e.jsxs("button",{onClick:B,className:"bg-white border border-gray-200 hover:bg-gray-50 text-gray-700 flex items-center gap-2 shadow-sm hover:shadow-md transition-all rounded-xl px-4 py-2.5 text-sm font-semibold",children:[e.jsx(dr,{size:16,className:"text-gray-500"})," Export PDF"]}),e.jsx("button",{onClick:()=>k(!N),className:`p-2.5 border rounded-xl hover:bg-gray-50 transition-all ${N?"bg-violet-50 border-violet-200 ring-2 ring-violet-100 text-violet-600":"bg-white border-gray-200 text-gray-500"}`,children:e.jsx(ks,{size:18})})]})]})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:G.map((Y,me)=>e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-xl border border-slate-100 flex items-center gap-4 hover:shadow-2xl hover:border-violet-200 transition-all duration-300 transform hover:-translate-y-1 hover:scale-105 group cursor-pointer",children:[e.jsx("div",{className:`p-4 rounded-xl ${Y.bg} ${Y.color} group-hover:scale-125 group-hover:rotate-6 transition-all duration-500 shadow-md`,children:e.jsx(Y.icon,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1",children:Y.label}),e.jsx("p",{className:"text-3xl font-black text-gray-900 leading-none",children:p?e.jsx("span",{className:"text-lg text-gray-300",children:"..."}):Y.value})]})]},me))}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 hover:shadow-2xl hover:border-violet-200 transition-all duration-300",style:{overflow:"visible",zIndex:10,position:"relative"},children:[N&&e.jsx("div",{className:"p-6 border-b border-slate-100 hover:bg-violet-50/20 transition-colors duration-300",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between",children:[e.jsxs("div",{className:"flex flex-wrap gap-4 w-full md:w-auto",children:[e.jsx("div",{className:"w-full md:w-48",children:e.jsx(Wy,{options:["All","Today","This Week","This Month"],value:s,onChange:Y=>{t(Y),g(1)},placeholder:"All Time",icon:Xe})}),e.jsx("div",{className:"w-full md:w-48",children:e.jsx(Wy,{options:["All","Upcoming","Completed","Cancelled"],value:a,onChange:Y=>{l(Y),g(1)},placeholder:"All Status",icon:Xo})})]}),e.jsxs("div",{className:"relative w-full md:w-72 group",children:[e.jsx(st,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-hover:text-violet-500 group-hover:scale-110 transition-all duration-300",size:18}),e.jsx("input",{type:"text",placeholder:"Search by member or class...",className:"pl-11 h-11 w-full rounded-xl border-2 border-slate-200 focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 text-sm bg-white hover:border-slate-300 hover:shadow-sm transition-all",value:i,onChange:Y=>{o(Y.target.value),g(1)}})]})]})}),e.jsx("div",{className:"saas-table-wrapper",children:e.jsxs("table",{className:"saas-table saas-table-responsive",children:[e.jsx("thead",{className:"bg-gradient-to-r from-violet-50 via-purple-50 to-fuchsia-50 border-b-2 border-violet-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider",children:"Booking ID"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider",children:"Member"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider",children:"Booking Type"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider",children:"Trainer"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider",children:"Date / Time"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:p?e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-2 text-violet-600",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-violet-600 border-t-transparent rounded-full animate-spin"}),e.jsx("span",{className:"text-sm font-medium",children:"Generating report..."})]})})}):c.length>0?c.map(Y=>e.jsxs("tr",{className:"hover:bg-gradient-to-r hover:from-violet-50/50 hover:to-purple-50/30 transition-colors duration-200 group",children:[e.jsx("td",{className:"px-6 py-4","data-label":"Booking ID",children:e.jsxs("span",{className:"text-xs font-mono text-indigo-600 font-bold bg-indigo-50 px-2 py-1 rounded-md",children:["#",Y.id]})}),e.jsx("td",{className:"px-6 py-4","data-label":"Member",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center font-bold text-xs",children:(Y.memberName||"U").charAt(0).toUpperCase()}),e.jsx("p",{className:"text-sm font-bold text-gray-800",children:Y.memberName||"Unknown"})]})}),e.jsx("td",{className:"px-6 py-4","data-label":"Booking Type",children:e.jsx("span",{className:"text-sm font-medium text-gray-700",children:Y.classType||"N/A"})}),e.jsx("td",{className:"px-6 py-4","data-label":"Trainer",children:e.jsx("span",{className:"text-sm text-gray-600 font-medium",children:Y.trainerName||"Unassigned"})}),e.jsx("td",{className:"px-6 py-4","data-label":"Date / Time",children:e.jsxs("div",{className:"text-sm text-gray-700",children:[e.jsx("div",{className:"font-semibold",children:Y.date||"-"}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-400 mt-0.5",children:[e.jsx(Ze,{size:11}),Y.time||"-"]})]})}),e.jsx("td",{className:"px-6 py-4","data-label":"Status",children:e.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-bold border transform transition-transform hover:scale-105 inline-block ${F(Y.status)}`,children:Y.status||"Pending"})}),e.jsx("td",{className:"px-6 py-4 text-right","data-label":"Actions",children:e.jsxs("div",{className:"flex items-center justify-end gap-1 opacity-0 group-hover:opacity-100 transition-all duration-200 transform translate-x-2 group-hover:translate-x-0",children:[e.jsx("button",{onClick:()=>P(Y),className:"p-2 text-gray-400 hover:text-violet-600 hover:bg-violet-50 rounded-lg transition-all hover:scale-110 duration-300",title:"View Details",children:e.jsx(qs,{size:16})}),e.jsx("button",{onClick:()=>z(Y.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",title:"Cancel Booking",children:e.jsx(xs,{size:16})})]})})]},Y.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"px-6 py-12 text-center text-gray-400 text-sm",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("div",{className:"p-3 bg-gray-50 rounded-full",children:e.jsx(ks,{size:20,className:"text-gray-300"})}),e.jsx("p",{children:"No bookings found for the selected filters."})]})})})})]})}),!p&&v>0&&e.jsxs("div",{className:"px-6 py-4 bg-gray-50/50 border-t border-gray-100 flex justify-between items-center",children:[e.jsxs("span",{className:"text-xs font-medium text-gray-500",children:["Showing ",e.jsx("span",{className:"font-bold text-gray-900",children:(y-1)*T+1})," - ",e.jsx("span",{className:"font-bold text-gray-900",children:Math.min(y*T,v)})," of ",e.jsx("span",{className:"font-bold text-gray-900",children:v})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>g(Y=>Math.max(Y-1,1)),disabled:y===1,className:"w-9 h-9 flex items-center justify-center border border-gray-200 rounded-xl bg-white hover:bg-gray-50 text-gray-600 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm transition-all hover:-translate-y-0.5","aria-label":"Previous Page",children:e.jsx(Xr,{size:18})}),e.jsx("button",{onClick:()=>g(Y=>Math.min(Y+1,Math.ceil(v/T))),disabled:y===Math.ceil(v/T),className:"w-9 h-9 flex items-center justify-center border border-gray-200 rounded-xl bg-white hover:bg-gray-50 text-gray-600 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm transition-all hover:-translate-y-0.5","aria-label":"Next Page",children:e.jsx(bs,{size:18})})]})]})]}),e.jsx(rt,{isOpen:w,onClose:()=>R(!1),title:"Booking Details",subtitle:"Class and session information",width:"500px",children:A&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col items-center py-6 bg-slate-50 rounded-2xl border border-slate-100",children:[e.jsx("div",{className:"h-20 w-20 rounded-full bg-indigo-100 text-indigo-700 flex items-center justify-center font-black text-2xl mb-3 shadow-lg ring-4 ring-indigo-50 ring-offset-4",children:(A.memberName||"U").charAt(0).toUpperCase()}),e.jsx("h4",{className:"text-xl font-bold text-gray-900",children:A.memberName||"Unknown Member"}),e.jsx("span",{className:"text-[10px] font-black px-3 py-1 rounded-full mt-2 uppercase tracking-widest bg-indigo-50 text-indigo-600 border border-indigo-100",children:A.classType||"Booking"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-white rounded-xl border border-slate-100 shadow-sm",children:[e.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1 flex items-center gap-1.5",children:[e.jsx(lt,{size:12})," Trainer"]}),e.jsx("p",{className:"text-sm font-bold text-gray-900 truncate",children:A.trainerName||"Unassigned"})]}),e.jsxs("div",{className:"p-4 bg-white rounded-xl border border-slate-100 shadow-sm",children:[e.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1 flex items-center gap-1.5",children:[e.jsx(Ze,{size:12})," Time Slot"]}),e.jsx("p",{className:"text-lg font-black text-slate-800",children:A.time||"-"})]}),e.jsxs("div",{className:"p-4 bg-white rounded-xl border border-slate-100 shadow-sm",children:[e.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1 flex items-center gap-1.5",children:[e.jsx(It,{size:12})," Status"]}),e.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded-full border ${F(A.status)}`,children:A.status||"Pending"})]}),e.jsxs("div",{className:"p-4 bg-white rounded-xl border border-slate-100 shadow-sm",children:[e.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1 flex items-center gap-1.5",children:[e.jsx(Ws,{size:12})," Booking ID"]}),e.jsxs("p",{className:"text-sm font-bold text-indigo-600",children:["#",A.id]})]})]}),e.jsxs("div",{className:"mt-6 p-4 bg-indigo-50/50 rounded-xl border border-indigo-100 flex gap-3 text-sm text-indigo-900",children:[e.jsx("div",{className:"p-1 bg-white rounded-lg h-fit border border-indigo-200",children:e.jsx(Xe,{size:14,className:"text-indigo-600"})}),e.jsxs("p",{children:["Scheduled for ",e.jsx("span",{className:"font-bold",children:A.date||"N/A"})," at ",e.jsx("span",{className:"font-bold",children:A.time||"N/A"}),"."]})]}),e.jsx("button",{onClick:()=>R(!1),className:"w-full py-3 bg-slate-900 text-white rounded-xl text-xs font-black uppercase tracking-widest hover:bg-slate-800 transition-all mt-6 shadow-lg shadow-slate-200",children:"Close Details"})]})})]})},Vy=()=>{const[s,t]=b.useState(null),[a,l]=b.useState(!0),[i,o]=b.useState("personal"),[c,u]=b.useState(!1),[x,h]=b.useState({type:"",text:""}),[p,f]=b.useState({name:"",email:"",phone:"",address:""}),[y,g]=b.useState(!1),[v,C]=b.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[N,k]=b.useState(""),[A,E]=b.useState(!1),[w,R]=b.useState({current:!1,new:!1,confirm:!1});b.useEffect(()=>{T()},[]);const T=async()=>{try{l(!0);const P=await x9();t(P),f({name:P.name,email:P.email,phone:P.phone,address:P.address||""})}catch(P){console.error("Error loading profile:",P),h({type:"error",text:"Failed to load profile data."})}finally{l(!1)}},O=P=>{const{name:F,value:G}=P.target;f(Y=>({...Y,[F]:G}))},W=async P=>{P.preventDefault(),u(!0),h({type:"",text:""});try{const F=await h9(p);t(F),h({type:"success",text:"Profile updated successfully!"})}catch{h({type:"error",text:"Failed to update profile."})}finally{u(!1)}},B=async P=>{if(P.preventDefault(),k(""),v.newPassword!==v.confirmPassword){k("New passwords do not match");return}if(v.newPassword.length<6){k("Password must be at least 6 characters");return}E(!0);try{await m9({currentPassword:v.currentPassword,newPassword:v.newPassword}),h({type:"success",text:"Password changed successfully!"}),g(!1),C({currentPassword:"",newPassword:"",confirmPassword:""})}catch(F){k(F.response?.data?.message||"Failed to change password")}finally{E(!1)}};if(a)return e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh]",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-violet-600 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"mt-4 text-gray-500 font-medium",children:"Loading profile..."})]});if(!s)return e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] gap-4",children:[e.jsx("div",{className:"w-16 h-16 bg-red-50 rounded-full flex items-center justify-center",children:e.jsx(Pa,{size:32,className:"text-red-400"})}),e.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Could Not Load Profile"}),e.jsx("p",{className:"text-slate-500 text-sm max-w-xs text-center",children:x.text||"There was an error fetching your profile. Please try refreshing the page."}),e.jsx("button",{onClick:T,className:"px-6 py-2.5 bg-violet-600 text-white rounded-xl text-sm font-bold hover:bg-violet-700 transition-all",children:"Retry"})]});const z=[{id:"personal",label:"Personal Info",icon:lt},{id:"security",label:"Security",icon:Pa},{id:"notifications",label:"Notifications",icon:wn}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-6 md:p-8",children:[e.jsxs("div",{className:"max-w-5xl mx-auto space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-xl overflow-hidden hover:shadow-2xl hover:border-violet-200 transition-all duration-300",children:[e.jsx("div",{className:"h-32 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 relative",children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 opacity-50 blur-2xl"})}),e.jsx("div",{className:"px-8 pb-8",children:e.jsxs("div",{className:"relative flex flex-col md:flex-row md:items-end gap-6 -mt-12",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"w-32 h-32 rounded-3xl bg-white p-2 shadow-xl ring-4 ring-violet-100",children:e.jsx("div",{className:"w-full h-full rounded-2xl bg-gradient-to-br from-violet-600 to-purple-600 flex items-center justify-center text-white text-5xl font-black",children:s.avatar})}),e.jsx("button",{className:"absolute bottom-2 right-2 p-2.5 bg-white rounded-xl shadow-lg border border-violet-100 text-violet-600 hover:scale-110 hover:rotate-6 active:scale-95 transition-all duration-300",children:e.jsx(Qo,{size:18})})]}),e.jsxs("div",{className:"flex-1 pb-2",children:[e.jsx("h1",{className:"text-3xl font-black text-gray-900 tracking-tight",children:s.name}),e.jsxs("div",{className:"flex flex-wrap gap-4 mt-2",children:[e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full bg-gradient-to-r from-violet-50 to-purple-50 text-violet-700 text-xs font-bold border border-violet-200",children:s.role.replace("_"," ")}),e.jsxs("span",{className:"inline-flex items-center gap-1.5 text-xs text-gray-500 font-bold uppercase",children:[e.jsx(It,{size:14,className:"text-green-500"})," ",s.status]}),e.jsxs("span",{className:"inline-flex items-center gap-1.5 text-xs text-gray-500 font-bold uppercase",children:[e.jsx(Xe,{size:14,className:"text-blue-400"})," Joined ",s.joinedDate]})]})]}),e.jsxs("button",{className:"md:mb-2 px-6 py-3 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-2xl text-sm font-black shadow-xl shadow-violet-500/50 hover:shadow-2xl hover:shadow-violet-500/60 hover:scale-[1.02] active:scale-95 transition-all flex items-center gap-2",children:[e.jsx(Zt,{size:18})," Manager Account"]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsx("div",{className:"lg:col-span-1 space-y-2",children:z.map(P=>e.jsxs("button",{onClick:()=>o(P.id),className:`w-full flex items-center gap-3 px-6 py-4 rounded-2xl text-sm font-bold transition-all duration-300 ${i===P.id?"bg-gradient-to-r from-violet-600 to-purple-600 text-white shadow-xl shadow-violet-500/50":"text-gray-500 hover:bg-white border border-transparent hover:border-violet-100 hover:text-violet-600 hover:shadow-md"}`,children:[e.jsx(P.icon,{size:18}),P.label]},P.id))}),e.jsx("div",{className:"lg:col-span-3",children:e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-xl p-8 hover:shadow-2xl hover:border-violet-200 transition-all duration-300",children:[x.text&&e.jsxs("div",{className:`mb-8 p-4 rounded-2xl flex items-center gap-3 text-sm font-bold ${x.type==="success"?"bg-green-50 text-green-700 border border-green-100":"bg-red-50 text-red-700 border border-red-100"}`,children:[e.jsx(It,{size:18})," ",x.text]}),i==="personal"&&e.jsxs("form",{onSubmit:W,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"Full Name"}),e.jsxs("div",{className:"relative",children:[e.jsx(lt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{type:"text",name:"name",value:p.name,onChange:O,className:"w-full pl-12 h-12 bg-white border-2 border-slate-200 rounded-xl focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 transition-all hover:border-slate-300",placeholder:"Enter your name"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(_r,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{type:"email",name:"email",value:p.email,onChange:O,className:"w-full pl-12 h-12 bg-white border-2 border-slate-200 rounded-xl focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 transition-all hover:border-slate-300",placeholder:"Enter your email"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"Phone Number"}),e.jsxs("div",{className:"relative",children:[e.jsx(ja,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{type:"text",name:"phone",value:p.phone,onChange:O,className:"w-full pl-12 h-12 bg-white border-2 border-slate-200 rounded-xl focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 transition-all hover:border-slate-300",placeholder:"Enter phone number"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"Location"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ws,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{type:"text",name:"address",value:p.address,onChange:O,className:"w-full pl-12 h-12 bg-white border-2 border-slate-200 rounded-xl focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 transition-all hover:border-slate-300",placeholder:"Enter city, country"})]})]})]}),e.jsx("div",{className:"pt-6 border-t border-gray-50",children:e.jsxs("button",{type:"submit",disabled:c,className:"px-8 py-3.5 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-2xl text-sm font-black shadow-xl shadow-violet-500/50 hover:shadow-2xl hover:shadow-violet-500/60 hover:scale-[1.02] active:scale-95 transition-all flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[c?e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):e.jsx(Zt,{size:18}),"Save Profile Changes"]})})]}),i==="security"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"p-6 rounded-[28px] bg-red-50/30 border border-red-100/50",children:[e.jsxs("h4",{className:"text-red-700 font-bold flex items-center gap-2",children:[e.jsx(Os,{size:18})," Password Management"]}),e.jsx("p",{className:"text-red-600/70 text-sm mt-1 font-medium",children:"It's recommended to update your password every 90 days for maximum security."}),e.jsx("button",{onClick:()=>g(!0),className:"mt-6 px-6 py-2.5 bg-red-600 text-white rounded-xl text-xs font-bold hover:bg-red-700 active:scale-95 transition-all",children:"Change Password"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-sm font-black text-gray-900 uppercase tracking-widest px-1",children:"Account Security"}),e.jsx("div",{className:"p-6 rounded-[28px] border border-gray-100 bg-gray-50/30 space-y-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-gray-800",children:"Two-Factor Authentication"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Add an extra layer of security to your account."})]}),e.jsx("div",{className:"w-12 h-6 bg-green-500 rounded-full relative",children:e.jsx("div",{className:"absolute right-1 top-1 w-4 h-4 bg-white rounded-full"})})]})})]})]}),i==="notifications"&&e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-50 rounded-full flex items-center justify-center text-gray-300 mb-4",children:e.jsx(wn,{size:40})}),e.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Notification Preferences"}),e.jsx("p",{className:"text-gray-500 max-w-xs mt-2 font-medium",children:"Customize how you receive alerts and system updates."})]})]})})]})]}),y&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:e.jsx("div",{className:"bg-white rounded-[32px] w-full max-w-md shadow-2xl border border-white/20 overflow-hidden animate-in zoom-in-95 duration-300",children:e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-red-50 flex items-center justify-center text-red-600",children:e.jsx(Os,{size:24,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-black text-slate-800",children:"Change Password"}),e.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Secure your account"})]})]}),e.jsx("button",{onClick:()=>g(!1),className:"p-2 hover:bg-slate-100 rounded-xl transition-colors text-slate-400",children:e.jsx(Yr,{size:20})})]}),e.jsxs("form",{onSubmit:B,className:"space-y-5",children:[N&&e.jsxs("div",{className:"p-4 bg-red-50 text-red-700 rounded-2xl text-xs font-bold border border-red-100 flex items-center gap-2",children:[e.jsx(It,{size:14})," ",N]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"Current Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Os,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{type:w.current?"text":"password",required:!0,value:v.currentPassword,onChange:P=>C({...v,currentPassword:P.target.value}),className:"w-full pl-12 pr-12 h-12 bg-slate-50 border-2 border-transparent rounded-xl focus:bg-white focus:border-violet-500 transition-all font-medium",placeholder:""}),e.jsx("button",{type:"button",onClick:()=>R({...w,current:!w.current}),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-violet-600",children:w.current?e.jsx(Bh,{size:18}):e.jsx(qs,{size:18})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Pa,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{type:w.new?"text":"password",required:!0,value:v.newPassword,onChange:P=>C({...v,newPassword:P.target.value}),className:"w-full pl-12 pr-12 h-12 bg-slate-50 border-2 border-transparent rounded-xl focus:bg-white focus:border-violet-500 transition-all font-medium",placeholder:""}),e.jsx("button",{type:"button",onClick:()=>R({...w,new:!w.new}),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-violet-600",children:w.new?e.jsx(Bh,{size:18}):e.jsx(qs,{size:18})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"Confirm New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Zt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{type:w.confirm?"text":"password",required:!0,value:v.confirmPassword,onChange:P=>C({...v,confirmPassword:P.target.value}),className:"w-full pl-12 pr-12 h-12 bg-slate-50 border-2 border-transparent rounded-xl focus:bg-white focus:border-violet-500 transition-all font-medium",placeholder:""}),e.jsx("button",{type:"button",onClick:()=>R({...w,confirm:!w.confirm}),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-violet-600",children:w.confirm?e.jsx(Bh,{size:18}):e.jsx(qs,{size:18})})]})]}),e.jsxs("div",{className:"pt-4 flex gap-3",children:[e.jsx("button",{type:"button",onClick:()=>g(!1),className:"flex-1 px-6 py-3 border-2 border-slate-100 text-slate-600 rounded-2xl text-sm font-bold hover:bg-slate-50 transition-all",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:A,className:"flex-3 px-8 py-3 bg-gradient-to-r from-red-600 to-rose-600 text-white rounded-2xl text-sm font-black shadow-xl shadow-red-500/30 hover:shadow-2xl hover:shadow-red-500/40 hover:scale-[1.02] active:scale-95 transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:A?e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):"Update Password"})]})]})]})})})]})},Yy=()=>{const[s,t]=b.useState([]),[a,l]=b.useState({currentlyIn:0}),[i,o]=b.useState(!0);b.useEffect(()=>{c();const x=setInterval(c,3e4);return()=>clearInterval(x)},[]);const c=async()=>{const[x,h]=await Promise.all([Zg({limit:10}),y9()]);t(x.data),l(h),o(!1)},u=x=>x==="checked-in"?e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-xl bg-gradient-to-r from-emerald-500 to-emerald-600 text-white text-xs font-black shadow-lg shadow-emerald-500/50 hover:shadow-xl hover:scale-110 transition-all duration-300 cursor-pointer",children:[e.jsxs("span",{className:"relative flex h-2 w-2",children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-white opacity-75"}),e.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-white"})]}),"Checked In"]}):e.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-xl bg-gradient-to-r from-slate-400 to-slate-500 text-white text-xs font-black shadow-lg hover:scale-110 transition-all duration-300 cursor-pointer",children:"Checked Out"});return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6 flex-shrink-0",children:e.jsx(It,{size:24,className:"sm:w-7 sm:h-7",strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Live Monitor"}),e.jsx("span",{className:"px-2 py-0.5 bg-gradient-to-r from-violet-500 to-purple-600 text-white text-[10px] font-black rounded-md shadow-sm animate-pulse whitespace-nowrap",children:"PREMIUM "})]}),e.jsx("p",{className:"text-slate-600 text-xs sm:text-sm mt-1",children:"Real-time gym entry and exit logs"})]})]}),e.jsxs("div",{className:"group relative bg-gradient-to-br from-emerald-500 to-emerald-600 px-5 sm:px-6 py-4 rounded-2xl shadow-xl shadow-emerald-500/50 hover:shadow-2xl hover:shadow-emerald-500/60 hover:scale-105 transition-all duration-300 cursor-pointer overflow-hidden w-full lg:w-auto",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative z-10 flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center text-white transition-all duration-300 group-hover:scale-110 group-hover:rotate-12",children:e.jsx(Pt,{size:20,className:"sm:w-6 sm:h-6",strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsx("span",{className:"block text-[10px] sm:text-xs text-white/80 font-bold uppercase tracking-wider",children:"Currently In"}),e.jsx("span",{className:"block text-2xl sm:text-3xl font-black text-white",children:a.currentlyIn})]})]})]})]})})]}),e.jsxs("div",{className:"group relative bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden hover:shadow-2xl hover:border-violet-200 transition-all duration-500 transform hover:-translate-y-1",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50/30 to-purple-50/30 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"p-4 sm:p-6 border-b border-slate-100 bg-slate-50/50 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-violet-100 to-purple-100 flex items-center justify-center text-violet-600 shadow-md transition-all duration-300 group-hover:scale-110 group-hover:rotate-6",children:e.jsx(Ze,{size:20,strokeWidth:2.5})}),e.jsx("h2",{className:"text-base sm:text-lg font-black text-slate-900 uppercase tracking-wider",children:"Latest Activity"})]}),e.jsxs("span",{className:"flex items-center gap-2 text-[10px] sm:text-xs font-black uppercase tracking-widest bg-gradient-to-r from-emerald-500 to-emerald-600 text-white px-3 sm:px-4 py-1.5 sm:py-2 rounded-xl shadow-lg shadow-emerald-500/50 hover:shadow-xl hover:scale-105 transition-all duration-300 cursor-pointer w-full sm:w-auto justify-center",children:[e.jsxs("span",{className:"relative flex h-2 w-2",children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-white opacity-75"}),e.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-white"})]}),"Live Feed"]})]}),e.jsx("div",{className:"hidden md:block overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left text-sm",children:[e.jsx("thead",{className:"bg-white border-b border-slate-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Name"}),e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Type"}),e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Time"}),e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Status"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:i?e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"px-6 py-12 text-center text-sm text-slate-400",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-violet-600"}),e.jsx("span",{className:"font-semibold",children:"Monitoring live feed..."})]})})}):s.length>0?s.map(x=>e.jsxs("tr",{className:"group/row hover:bg-gradient-to-r hover:from-violet-50/50 hover:to-purple-50/50 transition-all duration-300 cursor-pointer hover:shadow-md",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-11 h-11 rounded-xl bg-gradient-to-br from-slate-100 to-slate-200 text-slate-600 flex items-center justify-center font-bold text-sm shadow-md transition-all duration-500 group-hover/row:scale-125 group-hover/row:bg-gradient-to-br group-hover/row:from-violet-500 group-hover/row:to-purple-600 group-hover/row:text-white group-hover/row:shadow-xl group-hover/row:rotate-6",children:x.avatar||(x.name||"?").charAt(0)}),e.jsx("span",{className:"font-bold text-slate-700 group-hover/row:text-violet-700 group-hover/row:translate-x-1 transition-all duration-300",children:x.name})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`text-xs font-black uppercase tracking-widest px-3 py-1.5 rounded-xl border shadow-sm transition-all duration-300 inline-block group-hover/row:scale-110 group-hover/row:shadow-lg ${x.type==="Member"?"bg-gradient-to-r from-blue-500 to-blue-600 text-white border-blue-300 shadow-blue-500/50":x.type==="Staff"?"bg-gradient-to-r from-purple-500 to-purple-600 text-white border-purple-300 shadow-purple-500/50":"bg-gradient-to-r from-orange-500 to-orange-600 text-white border-orange-300 shadow-orange-500/50"}`,children:x.type})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2 text-slate-500 font-semibold font-mono text-xs group-hover/row:text-violet-600 transition-colors duration-300",children:[e.jsx(Ze,{size:14,className:"text-slate-300 group-hover/row:text-violet-400 group-hover/row:rotate-12 transition-all duration-300"}),e.jsx("span",{className:"group-hover/row:scale-105 inline-block transition-transform duration-300",children:x.time})]})}),e.jsx("td",{className:"px-6 py-4",children:u(x.status)})]},x.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"px-6 py-12 text-center text-sm text-slate-400",children:"No activity recorded today."})})})]})}),e.jsx("div",{className:"md:hidden p-4 space-y-4",children:i?e.jsx("div",{className:"py-12 text-center text-sm text-slate-400",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-violet-600"}),e.jsx("span",{className:"font-semibold text-violet-600",children:"Monitoring live feed..."})]})}):s.length>0?s.map(x=>e.jsx(Ya,{title:x.name,subtitle:x.type,badge:x.status==="checked-in"?"Checked In":"Checked Out",badgeColor:x.status==="checked-in"?"emerald":"slate",fields:[{label:"Time",value:x.time,icon:Ze}]},x.id)):e.jsx("div",{className:"py-8 text-center text-sm text-slate-500 bg-white rounded-xl border border-slate-100",children:"No activity recorded today."})})]})]})]})},$M=()=>{const[s,t]=b.useState(""),[a,l]=b.useState(""),[i,o]=b.useState(new Date().toISOString().split("T")[0]),[c,u]=b.useState([]),[x,h]=b.useState(!0),[p,f]=b.useState(1),[y,g]=b.useState(0),[v,C]=b.useState(!1),N=5;b.useEffect(()=>{k()},[s,a,i,p]);const k=async()=>{h(!0);const R=await Zg({filters:{search:s,status:a==="All"?"":a==="Checked Out"?"checked-out":a==="On Time"?"checked-in":a,date:i,type:"Member"},page:p,limit:N});u(R?.data||[]),g(R?.total||0),h(!1)},A=()=>{ub(c,"MemberAttendanceLog")},E=w=>{switch(w){case"On Time":case"checked-in":case"Present":return e.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-xl bg-gradient-to-r from-emerald-500 to-emerald-600 text-white text-xs font-black shadow-lg shadow-emerald-500/50 hover:scale-110 hover:shadow-xl transition-all duration-300 cursor-pointer",children:"On Time"});case"Late":return e.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-xl bg-gradient-to-r from-amber-500 to-orange-600 text-white text-xs font-black shadow-lg shadow-amber-500/50 hover:scale-110 hover:shadow-xl transition-all duration-300 cursor-pointer",children:"Late"});case"Absent":return e.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-xl bg-gradient-to-r from-red-500 to-red-600 text-white text-xs font-black shadow-lg shadow-red-500/50 hover:scale-110 hover:shadow-xl transition-all duration-300 cursor-pointer",children:"Absent"});case"checked-out":case"Checked Out":return e.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-xl bg-gradient-to-r from-blue-500 to-indigo-600 text-white text-xs font-black shadow-lg shadow-blue-500/50 hover:scale-110 hover:shadow-xl transition-all duration-300 cursor-pointer",children:"Checked Out"});default:return e.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-xl bg-gradient-to-r from-slate-400 to-slate-500 text-white text-xs font-black shadow-lg hover:scale-110 transition-all duration-300 cursor-pointer",children:w})}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6 flex-shrink-0",children:e.jsx(It,{size:24,className:"sm:w-7 sm:h-7",strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Member Attendance"}),e.jsx("span",{className:"px-2 py-0.5 bg-gradient-to-r from-violet-500 to-purple-600 text-white text-[10px] font-black rounded-md shadow-sm animate-pulse whitespace-nowrap",children:"PREMIUM "})]}),e.jsx("p",{className:"text-slate-600 text-xs sm:text-sm mt-1",children:"Monitor member visits and class attendance"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3",children:[e.jsxs("button",{onClick:A,className:"group flex items-center justify-center gap-2 px-5 py-3 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-xl text-sm font-bold shadow-xl shadow-violet-500/50 hover:shadow-2xl hover:shadow-violet-500/60 hover:scale-105 transition-all",children:[e.jsx(na,{size:18,strokeWidth:2.5,className:"transition-all duration-300 group-hover:scale-110 group-hover:-translate-y-0.5"}),"Export Report"]}),e.jsxs("button",{onClick:()=>C(!v),className:`group flex items-center justify-center gap-2 px-5 py-3 rounded-xl text-sm font-bold shadow-lg hover:shadow-xl hover:scale-105 transition-all ${v?"bg-gradient-to-r from-violet-500 to-purple-600 text-white shadow-violet-500/50":"bg-white border-2 border-slate-200 text-slate-700 hover:border-violet-300"}`,children:[e.jsx(ks,{size:18,strokeWidth:2.5,className:`transition-all duration-300 ${v?"rotate-180":""}`}),"Filter"]})]})]})})]}),v&&e.jsxs("div",{className:"group relative bg-white rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6 mb-6 overflow-visible hover:shadow-2xl transition-all duration-300",style:{zIndex:50},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50/30 to-purple-50/30 opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-2xl"}),e.jsxs("div",{className:"relative z-10 grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6",children:[e.jsxs("div",{className:"relative group/input",children:[e.jsx(st,{size:18,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 group-hover/input:text-violet-600 transition-colors duration-300",strokeWidth:2.5}),e.jsx("input",{type:"text",placeholder:"Search member name...",className:"w-full pl-11 pr-4 py-3 border-2 border-slate-200 rounded-xl focus:border-violet-500 focus:ring-2 focus:ring-violet-200 hover:border-violet-300 transition-all duration-300 font-semibold text-sm",value:s,onChange:w=>{t(w.target.value),f(1)}})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:col-span-2",children:[e.jsx("div",{className:"w-full sm:w-auto hover:scale-105 transition-transform duration-300",children:e.jsx(ds,{options:["All","On Time","Checked Out","Absent","Late"],value:a,onChange:w=>{l(w),f(1)},placeholder:"All Status",icon:ks,className:"w-full sm:w-40"})}),e.jsxs("div",{className:"relative group/input w-full sm:w-auto",children:[e.jsx("input",{type:"date",className:"w-full px-4 py-3 border-2 border-slate-200 rounded-xl focus:border-violet-500 focus:ring-2 focus:ring-violet-200 hover:border-violet-300 transition-all duration-300 font-semibold text-sm",value:i,onChange:w=>{o(w.target.value),f(1)}}),e.jsx(Xe,{size:16,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 pointer-events-none group-hover/input:text-violet-600 transition-colors duration-300",strokeWidth:2.5})]})]})]})]}),e.jsxs("div",{className:"group relative bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden hover:shadow-2xl hover:border-violet-200 transition-all duration-500 transform hover:-translate-y-1",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50/30 to-purple-50/30 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"hidden md:block overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left text-sm",children:[e.jsx("thead",{className:"bg-slate-50/50 border-b border-slate-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Member Name"}),e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Membership ID"}),e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Plan"}),e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Check-In"}),e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Check-Out"}),e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Status"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:x?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-12 text-center text-sm text-slate-400",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-violet-600"}),e.jsx("span",{className:"font-semibold",children:"Loading member attendance..."})]})})}):c.length>0?c.map(w=>e.jsxs("tr",{className:"group/row hover:bg-gradient-to-r hover:from-violet-50/50 hover:to-purple-50/50 transition-all duration-300 cursor-pointer hover:shadow-md",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-violet-100 to-purple-100 text-violet-600 flex items-center justify-center shadow-md transition-all duration-500 group-hover/row:scale-125 group-hover/row:bg-gradient-to-br group-hover/row:from-violet-500 group-hover/row:to-purple-600 group-hover/row:text-white group-hover/row:shadow-xl group-hover/row:rotate-6",children:e.jsx(lt,{size:18,strokeWidth:2.5})}),e.jsx("span",{className:"font-bold text-slate-800 group-hover/row:text-violet-700 group-hover/row:translate-x-1 transition-all duration-300",children:w.name})]})}),e.jsx("td",{className:"px-6 py-4 text-slate-600 text-sm font-mono font-semibold group-hover/row:text-violet-600 transition-colors duration-300",children:w.membershipId||String(w.id||"").substring(0,8).toUpperCase()}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-lg text-xs font-bold bg-slate-100 text-slate-700 group-hover/row:bg-gradient-to-r group-hover/row:from-violet-100 group-hover/row:to-purple-100 group-hover/row:text-violet-700 group-hover/row:scale-110 transition-all duration-300",children:w.plan||"Standard"})}),e.jsx("td",{className:"px-6 py-4 text-slate-700 text-sm font-semibold group-hover/row:text-violet-600 transition-colors duration-300",children:w.time||w.checkIn}),e.jsx("td",{className:"px-6 py-4 text-slate-700 text-sm font-semibold group-hover/row:text-violet-600 transition-colors duration-300",children:w.checkOut||"-"}),e.jsx("td",{className:"px-6 py-4",children:E(w.status)})]},w.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-12 text-center text-sm text-slate-400",children:"No member attendance logs found for this date."})})})]})}),e.jsx("div",{className:"md:hidden p-4 space-y-4",children:x?e.jsx("div",{className:"py-12 text-center text-sm text-slate-400",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-violet-600"}),e.jsx("span",{className:"font-semibold text-violet-600",children:"Loading data..."})]})}):c.length>0?c.map(w=>e.jsx(Ya,{title:w.name,subtitle:w.membershipId||String(w.id||"").substring(0,8).toUpperCase(),badge:w.status,badgeColor:w.status==="On Time"||w.status==="checked-in"?"emerald":w.status==="Late"?"amber":w.status==="Absent"?"rose":"blue",fields:[{label:"Plan",value:w.plan||"Standard"},{label:"Check-In",value:w.time||w.checkIn,icon:Ze},{label:"Check-Out",value:w.checkOut||"-",icon:Ze}]},w.id)):e.jsx("div",{className:"py-8 text-center text-sm text-slate-500 bg-white rounded-xl border border-slate-100",children:"No records found."})})]}),!x&&y>0&&e.jsxs("div",{className:"px-4 sm:px-6 py-4 bg-slate-50/50 border-t border-slate-100 flex flex-col sm:flex-row justify-between items-center gap-4",children:[e.jsxs("span",{className:"text-xs sm:text-sm text-slate-600 font-semibold text-center sm:text-left",children:["Showing ",e.jsx("span",{className:"font-black text-slate-900",children:(p-1)*N+1})," to ",e.jsx("span",{className:"font-black text-slate-900",children:Math.min(p*N,y)})," of ",e.jsx("span",{className:"font-black text-slate-900",children:y})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>f(w=>Math.max(w-1,1)),disabled:p===1,className:"group p-3 border-2 border-slate-200 rounded-xl hover:bg-gradient-to-r hover:from-violet-500 hover:to-purple-600 hover:text-white hover:border-transparent hover:scale-110 disabled:opacity-50 disabled:hover:scale-100 disabled:hover:bg-transparent disabled:hover:text-slate-400 transition-all duration-300 shadow-sm hover:shadow-lg",children:e.jsx(Xr,{size:18,strokeWidth:2.5,className:"group-hover:-translate-x-0.5 transition-transform duration-300"})}),e.jsx("button",{onClick:()=>f(w=>Math.min(w+1,Math.ceil(y/N))),disabled:p===Math.ceil(y/N),className:"group p-3 border-2 border-slate-200 rounded-xl hover:bg-gradient-to-r hover:from-violet-500 hover:to-purple-600 hover:text-white hover:border-transparent hover:scale-110 disabled:opacity-50 disabled:hover:scale-100 disabled:hover:bg-transparent disabled:hover:text-slate-400 transition-all duration-300 shadow-sm hover:shadow-lg",children:e.jsx(bs,{size:18,strokeWidth:2.5,className:"group-hover:translate-x-0.5 transition-transform duration-300"})})]})]})]})]})},qM=({isOpen:s,onClose:t,onSuccess:a})=>{const[l,i]=b.useState({title:"",message:"",audience:"All Members",scheduledTime:"",isScheduled:!1}),[o,c]=b.useState(!1),u=async x=>{x.preventDefault(),c(!0);try{await M9({title:l.title,message:l.message,audience:l.audience,status:l.isScheduled?"Scheduled":"Posted",date:l.isScheduled?new Date(l.scheduledTime).toLocaleString():new Date().toLocaleString()}),a(),t(),i({title:"",message:"",audience:"All Members",scheduledTime:"",isScheduled:!1})}catch(h){console.error(h)}finally{c(!1)}};return e.jsx(rt,{isOpen:s,onClose:t,title:"New Announcement",subtitle:"Broadcast updates to your community",maxWidth:"max-w-md",children:e.jsxs("form",{onSubmit:u,className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8 custom-scrollbar",children:[e.jsxs("div",{className:"bg-gradient-to-br from-indigo-500 to-violet-600 rounded-[24px] p-6 text-white shadow-lg relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white opacity-10 rounded-full -translate-y-1/2 translate-x-1/2 blur-2xl pointer-events-none"}),e.jsx(vn,{size:32,className:"mb-4 text-indigo-100"}),e.jsx("h3",{className:"text-lg font-black tracking-tight",children:"Broadcast Center"}),e.jsx("p",{className:"text-indigo-100 text-xs font-medium mt-1 opacity-80",children:"Send important updates, offers, or news to your members and staff instantly."})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-xs font-black text-slate-500 uppercase tracking-widest flex items-center gap-2",children:[e.jsx($8,{size:14,className:"text-indigo-500"}),"Subject Line *"]}),e.jsx("input",{type:"text",placeholder:"e.g. Gym Maintenance this Sunday",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl font-bold text-slate-800 focus:bg-white focus:border-indigo-500 transition-all placeholder:font-medium",value:l.title,onChange:x=>i({...l,title:x.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-xs font-black text-slate-500 uppercase tracking-widest flex items-center gap-2",children:[e.jsx(Pt,{size:14,className:"text-indigo-500"}),"Target Audience *"]}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:["All Members","Active Members","Trainers","Staff"].map(x=>e.jsx("button",{type:"button",onClick:()=>i({...l,audience:x}),className:`py-3 px-2 rounded-xl text-[10px] font-black uppercase tracking-wider border-2 transition-all ${l.audience===x?"border-indigo-600 bg-indigo-50 text-indigo-700":"border-slate-100 bg-white text-slate-400 hover:border-slate-200"}`,children:x},x))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-xs font-black text-slate-500 uppercase tracking-widest flex items-center gap-2",children:[e.jsx(Ze,{size:14,className:"text-indigo-500"}),"Message Content *"]}),e.jsx("textarea",{rows:"6",placeholder:"Type your announcement here...",className:"w-full p-4 bg-slate-50 border-2 border-slate-200 rounded-xl font-medium text-slate-700 focus:bg-white focus:border-indigo-500 transition-all resize-none",value:l.message,onChange:x=>i({...l,message:x.target.value}),required:!0})]}),e.jsxs("div",{className:"bg-slate-50 p-4 rounded-2xl border border-slate-200 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${l.isScheduled?"bg-indigo-100 text-indigo-600":"bg-slate-200 text-slate-400"}`,children:e.jsx(Xe,{size:20})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-slate-800 text-sm",children:"Schedule for Later"}),e.jsx("p",{className:"text-[10px] text-slate-500 font-medium",children:"Send automatically at a specific time"})]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:l.isScheduled,onChange:x=>i({...l,isScheduled:x.target.checked}),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-slate-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),l.isScheduled&&e.jsx("div",{className:"animate-in fade-in slide-in-from-top-2 pt-2",children:e.jsx("input",{type:"datetime-local",className:"w-full px-4 py-3 bg-white border-2 border-indigo-100 rounded-xl font-bold text-slate-700 focus:border-indigo-500 transition-all",value:l.scheduledTime,onChange:x=>i({...l,scheduledTime:x.target.value})})})]})]}),e.jsxs("div",{className:"shrink-0 p-4 bg-white border-t border-slate-100 flex gap-3 shadow-[0_-4px_20px_rgba(0,0,0,0.05)]",children:[e.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-3 bg-white border-2 border-slate-200 text-slate-700 rounded-xl text-sm font-bold hover:bg-slate-50 transition-all",children:"Cancel"}),e.jsxs("button",{type:"submit",disabled:o,className:"flex-[2] px-4 py-3 bg-indigo-600 text-white rounded-xl text-sm font-bold hover:bg-indigo-700 hover:shadow-lg hover:shadow-indigo-500/30 transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:[l.isScheduled?e.jsx(Xe,{size:18}):e.jsx($d,{size:18}),o?"Processing...":l.isScheduled?"Schedule":"Send Now"]})]})]})})},HM=()=>{const[s,t]=b.useState([]),[a,l]=b.useState(!1),[i,o]=b.useState(""),c=async()=>{try{const h=await E9();t(h)}catch(h){console.error("Failed to fetch announcements:",h)}};b.useEffect(()=>{c()},[]);const u=s.filter(h=>h.title.toLowerCase().includes(i.toLowerCase())||h.message.toLowerCase().includes(i.toLowerCase())),x=()=>{c()};return e.jsxs("div",{className:"flex flex-col h-full bg-slate-50/50 rounded-[40px] overflow-hidden",children:[e.jsxs("div",{className:"p-8 pb-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-8",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-black text-slate-800 flex items-center gap-3",children:[e.jsx(vn,{className:"text-orange-500"}),"Announcements"]}),e.jsx("p",{className:"text-slate-500 mt-1 font-medium text-sm",children:"Manage alerts and notifications for your gym"})]}),e.jsxs("button",{onClick:()=>l(!0),className:"px-6 py-4 bg-slate-900 text-white rounded-2xl font-bold flex items-center justify-center gap-2 hover:bg-orange-500 transition-all shadow-xl shadow-slate-200",children:[e.jsx(wt,{size:18})," New Announcement"]})]}),e.jsxs("div",{className:"relative group max-w-2xl",children:[e.jsx(st,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-orange-500 transition-all",size:20}),e.jsx("input",{type:"text",placeholder:"Search announcements...",className:"w-full pl-12 pr-4 py-4 bg-white border-2 border-slate-100 rounded-2xl text-sm font-bold text-slate-700 focus:outline-none focus:border-orange-500 transition-all shadow-sm",value:i,onChange:h=>o(h.target.value)})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto px-8 pb-8 custom-scrollbar space-y-4",children:[u.map(h=>e.jsxs("div",{className:"bg-white p-6 rounded-[32px] border border-slate-100 shadow-sm hover:shadow-lg transition-all group relative overflow-hidden",children:[e.jsx("div",{className:`absolute top-0 left-0 w-1.5 h-full ${h.status==="Posted"?"bg-emerald-500":"bg-amber-500"}`}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("span",{className:`px-2.5 py-1 rounded-lg text-[10px] font-black uppercase tracking-widest ${h.status==="Posted"?"bg-emerald-50 text-emerald-600":"bg-amber-50 text-amber-600"}`,children:h.status}),e.jsxs("span",{className:"flex items-center gap-1 text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:[e.jsx(Pt,{size:12})," ",h.audience]}),e.jsxs("span",{className:"flex items-center gap-1 text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:[e.jsx(Xe,{size:12})," ",h.date]})]}),e.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-2",children:h.title}),e.jsx("p",{className:"text-slate-500 text-sm font-medium leading-relaxed",children:h.message})]}),e.jsxs("div",{className:"flex items-center gap-2 md:self-center opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{className:"p-3 text-slate-400 hover:bg-slate-50 hover:text-indigo-600 rounded-xl transition-all",children:e.jsx(Ra,{size:18})}),e.jsx("button",{className:"p-3 text-slate-400 hover:bg-rose-50 hover:text-rose-600 rounded-xl transition-all",children:e.jsx(xs,{size:18})})]})]})]},h.id)),u.length===0&&e.jsxs("div",{className:"py-20 flex flex-col items-center justify-center opacity-40",children:[e.jsx(vn,{size:48,className:"text-slate-300"}),e.jsx("p",{className:"text-xs font-black uppercase tracking-widest text-slate-400 mt-4",children:"No announcements found"})]})]}),e.jsx(qM,{isOpen:a,onClose:()=>l(!1),onSuccess:x})]})},WM=()=>{const[s,t]=b.useState("chats"),[a,l]=b.useState([]),[i,o]=b.useState([]),[c,u]=b.useState(null),[x,h]=b.useState(""),[p,f]=b.useState(""),[y,g]=b.useState("All"),[v,C]=b.useState("list");b.useEffect(()=>{(async()=>{try{const E=await mN();l(E)}catch(E){console.error("Failed to load chats:",E)}})()},[]),b.useEffect(()=>{(async()=>{if(c)try{const E=await pN(c.id);o(E)}catch(E){console.error("Failed to load messages:",E)}})()},[c]);const N=async()=>{if(!x.trim()||!c)return;const A=x;h("");try{const E=await fN(c.id,A),w=E.data?.data||E.data;o(R=>[...R,{id:w.id||Date.now(),text:A,time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),sender:"me",status:"sent"}])}catch(E){console.error("Failed to send msg:",E),h(A)}},k=a.filter(A=>{const E=A.name.toLowerCase().includes(p.toLowerCase()),w=y==="All"||y==="Unread"&&A.unread>0;return E&&w});return e.jsxs("div",{className:"p-4 md:p-8 h-screen bg-slate-50 flex flex-col",children:[e.jsx("div",{className:"flex justify-center mb-6 shrink-0",children:e.jsxs("div",{className:"bg-white p-1.5 rounded-2xl shadow-sm border border-slate-200 flex gap-2",children:[e.jsx("button",{onClick:()=>t("chats"),className:`px-8 py-3 rounded-xl text-sm font-black uppercase tracking-widest transition-all ${s==="chats"?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:text-slate-600 hover:bg-slate-50"}`,children:"Live Chats"}),e.jsx("button",{onClick:()=>t("announcements"),className:`px-8 py-3 rounded-xl text-sm font-black uppercase tracking-widest transition-all ${s==="announcements"?"bg-orange-500 text-white shadow-lg":"text-slate-400 hover:text-slate-600 hover:bg-slate-50"}`,children:"Announcements"})]})}),e.jsx("div",{className:"flex-1 bg-white rounded-[40px] shadow-2xl border border-slate-100 overflow-hidden relative",children:s==="announcements"?e.jsx(HM,{}):e.jsxs("div",{className:"flex h-full",children:[e.jsxs("div",{className:`${v==="chat"?"hidden":"flex"} md:flex flex-col w-full md:w-[400px] border-r border-slate-50 bg-slate-50/30`,children:[e.jsxs("div",{className:"p-8 pb-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h1",{className:"text-2xl font-black text-slate-800 flex items-center gap-3",children:[e.jsx(sr,{className:"text-indigo-600"}),"Chats"]}),e.jsx("div",{className:"p-2.5 bg-indigo-50 text-indigo-600 rounded-xl hover:bg-indigo-600 hover:text-white transition-all cursor-pointer shadow-sm",children:e.jsx(wt,{size:20})})]}),e.jsxs("div",{className:"relative group mb-6",children:[e.jsx(st,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-indigo-600 transition-all",size:18}),e.jsx("input",{type:"text",placeholder:"Search members...",className:"w-full pl-12 pr-4 py-4 bg-white border-2 border-slate-100 rounded-2xl text-sm font-bold text-slate-700 focus:outline-none focus:border-indigo-500 transition-all shadow-sm",value:p,onChange:A=>f(A.target.value)})]}),e.jsx("div",{className:"flex gap-4 border-b border-slate-100 mb-4",children:["All","Unread","Archived"].map(A=>e.jsxs("button",{onClick:()=>g(A),className:`pb-4 text-xs font-black uppercase tracking-widest relative transition-all ${y===A?"text-indigo-600":"text-slate-400 hover:text-slate-600"}`,children:[A,y===A&&e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-indigo-600 rounded-t-full"})]},A))})]}),e.jsx("div",{className:"flex-1 overflow-y-auto px-4 space-y-2 custom-scrollbar pb-8",children:k.length===0?e.jsxs("div",{className:"py-20 flex flex-col items-center justify-center opacity-40",children:[e.jsx(st,{size:40,className:"text-slate-300"}),e.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 mt-4",children:"No conversations found"})]}):k.map(A=>e.jsxs("div",{onClick:()=>{u(A),C("chat")},className:`p-4 rounded-[24px] cursor-pointer transition-all flex items-center gap-4 group ${c?.id===A.id?"bg-white shadow-xl shadow-indigo-500/10 border border-slate-100 scale-[1.02]":"hover:bg-white/60"}`,children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white font-black shadow-lg",children:A.avatar}),A.status==="online"?e.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-emerald-500 rounded-full border-4 border-white"}):e.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-slate-200 rounded-full border-4 border-white"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("h3",{className:"font-bold text-slate-800 text-sm truncate",children:A.name}),e.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:A.time})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"text-xs text-slate-500 truncate font-medium",children:A.lastMsg}),A.unread>0&&e.jsx("span",{className:"min-w-[20px] h-5 px-1.5 bg-indigo-600 text-white rounded-full flex items-center justify-center text-[10px] font-black shadow-lg animate-pulse",children:A.unread})]})]})]},A.id))})]}),e.jsx("div",{className:`${v==="list"?"hidden":"flex"} md:flex flex-col flex-1 bg-white relative`,children:c?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-6 md:p-8 flex items-center justify-between border-b border-slate-50 bg-white/80 backdrop-blur-md sticky top-0 z-20",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>C("list"),className:"md:hidden p-2 text-slate-400 hover:text-slate-600",children:e.jsx(GM,{})}),e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-indigo-500 to-purple-400 flex items-center justify-center text-white font-black shadow-lg",children:c.avatar}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-black text-slate-800 tracking-tight",children:c.name}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${c.status==="online"?"bg-emerald-500":"bg-slate-300"}`}),e.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${c.status==="online"?"text-emerald-600":"text-slate-400"}`,children:c.status==="online"?"Active Now":"Recently Active"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"p-3 text-slate-400 hover:bg-slate-50 hover:text-indigo-600 rounded-xl transition-all",title:"Audio Call",children:e.jsx(ja,{size:20})}),e.jsx("button",{className:"p-3 text-slate-400 hover:bg-slate-50 hover:text-indigo-600 rounded-xl transition-all",title:"Video Call",children:e.jsx(B7,{size:20})}),e.jsx("button",{className:"p-3 text-slate-400 hover:bg-slate-50 hover:text-indigo-600 rounded-xl transition-all",title:"Member Info",children:e.jsx(Sn,{size:20})}),e.jsx("button",{className:"p-3 text-slate-400 hover:bg-slate-50 hover:text-indigo-600 rounded-xl transition-all",title:"More Options",children:e.jsx(qc,{size:20})})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-8 space-y-8 bg-slate-50/20 custom-scrollbar",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("span",{className:"px-4 py-1.5 bg-white text-[10px] font-black text-slate-400 uppercase tracking-widest rounded-full border border-slate-100 shadow-sm",children:"Today"})}),i.map(A=>e.jsx("div",{className:`flex ${A.sender==="me"?"justify-end":"justify-start"} animate-in fade-in slide-in-from-bottom-2 duration-500`,children:e.jsxs("div",{className:`max-w-[75%] md:max-w-md ${A.sender==="me"?"bg-slate-900 text-white rounded-t-[28px] rounded-bl-[28px] shadow-2xl shadow-slate-900/10":"bg-white text-slate-800 rounded-t-[28px] rounded-br-[28px] shadow-xl shadow-slate-200/50 border border-slate-100"} p-5 relative group`,children:[e.jsx("p",{className:"text-sm font-medium leading-relaxed",children:A.text}),e.jsxs("div",{className:`flex items-center gap-2 mt-3 ${A.sender==="me"?"justify-end":"justify-start"}`,children:[e.jsx("span",{className:`text-[9px] font-black uppercase tracking-widest ${A.sender==="me"?"text-slate-400":"text-slate-300"}`,children:A.time}),A.sender==="me"&&e.jsx(Pw,{size:14,className:A.status==="read"?"text-indigo-400":"text-slate-600"})]})]})},A.id))]}),e.jsx("div",{className:"p-6 md:p-8 border-t border-slate-50 bg-white shadow-[0_-10px_40px_rgba(0,0,0,0.02)]",children:e.jsxs("div",{className:"flex items-center gap-4 bg-slate-50 p-2 rounded-[28px] border-2 border-slate-50 focus-within:border-indigo-100 focus-within:bg-white transition-all shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-1 pl-2",children:[e.jsx("button",{className:"p-2.5 text-slate-400 hover:text-indigo-600 transition-colors",children:e.jsx(d7,{size:22})}),e.jsx("button",{className:"p-2.5 text-slate-400 hover:text-indigo-600 transition-colors",children:e.jsx(Hw,{size:22})}),e.jsx("button",{className:"p-2.5 text-slate-400 hover:text-indigo-600 transition-colors hidden md:block",children:e.jsx(XC,{size:22})})]}),e.jsx("input",{type:"text",placeholder:"Type a message...",className:"flex-1 bg-transparent border-none focus:ring-0 text-sm font-bold text-slate-700 py-3",value:x,onChange:A=>h(A.target.value),onKeyPress:A=>A.key==="Enter"&&N()}),e.jsx("button",{onClick:N,className:"w-12 h-12 bg-indigo-600 text-white rounded-2xl flex items-center justify-center shadow-lg shadow-indigo-100 hover:bg-indigo-700 hover:scale-110 active:scale-95 transition-all",children:e.jsx($d,{size:20})})]})})]}):e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-12 text-center bg-slate-50/10",children:[e.jsx("div",{className:"w-24 h-24 bg-white rounded-[32px] shadow-2xl flex items-center justify-center text-indigo-100 mb-8 animate-bounce delay-700 duration-[3000ms]",children:e.jsx(sr,{size:48})}),e.jsx("h2",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Select a Conversation"}),e.jsx("p",{className:"text-slate-500 mt-4 max-w-sm font-medium leading-relaxed",children:"Connect with your members instantly. Select a chat from the sidebar to start messaging."})]})})]})})]})},GM=()=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"m15 18-6-6 6-6"})}),VM=()=>{const[s,t]=b.useState(""),[a,l]=b.useState(""),[i,o]=b.useState(""),[c,u]=b.useState(new Date().toISOString().split("T")[0]),[x,h]=b.useState([]),[p,f]=b.useState(!0),[y,g]=b.useState(1),[v,C]=b.useState(0),[N,k]=b.useState(!1),A=5;b.useEffect(()=>{E()},[s,a,i,c,y]);const E=async()=>{f(!0);const W=await Zg({filters:{search:s,role:a==="All"?"":a,status:i==="All"?"":i==="Checked Out"?"checked-out":i==="On Time"?"checked-in":i,date:c,type:"Staff"},page:y,limit:A});h(W?.data||[]),C(W?.total||0),f(!1)},w=()=>{ub(x,"StaffAttendanceLog")},R=O=>{switch(O){case"On Time":case"checked-in":return e.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-xl bg-gradient-to-r from-emerald-500 to-emerald-600 text-white text-xs font-black shadow-lg shadow-emerald-500/50 hover:scale-110 hover:shadow-xl transition-all duration-300 cursor-pointer",children:"On Time"});case"Late":return e.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-xl bg-gradient-to-r from-amber-500 to-orange-600 text-white text-xs font-black shadow-lg shadow-amber-500/50 hover:scale-110 hover:shadow-xl transition-all duration-300 cursor-pointer",children:"Late"});case"Absent":return e.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-xl bg-gradient-to-r from-red-500 to-red-600 text-white text-xs font-black shadow-lg shadow-red-500/50 hover:scale-110 hover:shadow-xl transition-all duration-300 cursor-pointer",children:"Absent"});case"checked-out":case"Checked Out":return e.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-xl bg-gradient-to-r from-blue-500 to-indigo-600 text-white text-xs font-black shadow-lg shadow-blue-500/50 hover:scale-110 hover:shadow-xl transition-all duration-300 cursor-pointer",children:"Checked Out"});default:return e.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-xl bg-gradient-to-r from-slate-400 to-slate-500 text-white text-xs font-black shadow-lg hover:scale-110 transition-all duration-300 cursor-pointer",children:O})}},T=O=>{const B={Trainer:"from-purple-500 to-purple-600 shadow-purple-500/50",Receptionist:"from-blue-500 to-blue-600 shadow-blue-500/50",Cleaning:"from-teal-500 to-teal-600 shadow-teal-500/50",Manager:"from-violet-500 to-violet-600 shadow-violet-500/50"}[O]||"from-slate-500 to-slate-600 shadow-slate-500/50";return e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-lg text-xs font-bold bg-gradient-to-r ${B} text-white shadow-md hover:scale-110 transition-all duration-300`,children:O})};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6 flex-shrink-0",children:e.jsx(Z0,{size:24,className:"sm:w-7 sm:h-7",strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Staff Attendance"}),e.jsx("span",{className:"px-2 py-0.5 bg-gradient-to-r from-violet-500 to-purple-600 text-white text-[10px] font-black rounded-md shadow-sm animate-pulse whitespace-nowrap",children:"PREMIUM "})]}),e.jsx("p",{className:"text-slate-600 text-xs sm:text-sm mt-1",children:"Track staff shifts and punctuality"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3",children:[e.jsxs("button",{onClick:w,className:"group flex items-center justify-center gap-2 px-5 py-3 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-xl text-sm font-bold shadow-xl shadow-violet-500/50 hover:shadow-2xl hover:shadow-violet-500/60 hover:scale-105 transition-all",children:[e.jsx(na,{size:18,strokeWidth:2.5,className:"transition-all duration-300 group-hover:scale-110 group-hover:-translate-y-0.5"}),"Export Report"]}),e.jsxs("button",{onClick:()=>k(!N),className:`group flex items-center justify-center gap-2 px-5 py-3 rounded-xl text-sm font-bold shadow-lg hover:shadow-xl hover:scale-105 transition-all ${N?"bg-gradient-to-r from-violet-500 to-purple-600 text-white shadow-violet-500/50":"bg-white border-2 border-slate-200 text-slate-700 hover:border-violet-300"}`,children:[e.jsx(ks,{size:18,strokeWidth:2.5,className:`transition-all duration-300 ${N?"rotate-180":""}`}),"Filter"]})]})]})})]}),N&&e.jsxs("div",{className:"group relative bg-white rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6 mb-6 overflow-visible hover:shadow-2xl transition-all duration-300",style:{zIndex:50},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50/30 to-purple-50/30 opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-2xl"}),e.jsxs("div",{className:"relative z-10 grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6",children:[e.jsxs("div",{className:"relative group/input",children:[e.jsx(st,{size:18,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 group-hover/input:text-violet-600 transition-colors duration-300",strokeWidth:2.5}),e.jsx("input",{type:"text",placeholder:"Search staff name...",className:"w-full pl-11 pr-4 py-3 border-2 border-slate-200 rounded-xl focus:border-violet-500 focus:ring-2 focus:ring-violet-200 hover:border-violet-300 transition-all duration-300 font-semibold text-sm",value:s,onChange:O=>{t(O.target.value),g(1)}})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:col-span-2",children:[e.jsx("div",{className:"w-full sm:w-auto hover:scale-105 transition-transform duration-300",children:e.jsx(ds,{options:["All","On Time","Checked Out","Absent","Late"],value:i,onChange:O=>{o(O),g(1)},placeholder:"All Status",icon:ks,className:"w-full sm:w-40"})}),e.jsx("div",{className:"w-full sm:w-auto hover:scale-105 transition-transform duration-300",children:e.jsx(ds,{options:["All","Staff","Trainer","Manager","Receptionist","Cleaning"],value:a,onChange:O=>{l(O),g(1)},placeholder:"All Roles",icon:lt,className:"w-full sm:w-40"})})]})]})]}),e.jsxs("div",{className:"group relative bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden hover:shadow-2xl hover:border-violet-200 transition-all duration-500 transform hover:-translate-y-1",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50/30 to-purple-50/30 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"hidden md:block overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left text-sm",children:[e.jsx("thead",{className:"bg-slate-50/50 border-b border-slate-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Staff Name"}),e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Role"}),e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Shift Time"}),e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Check-In"}),e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Check-Out"}),e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Status"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:p?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-12 text-center text-sm text-slate-400",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-violet-600"}),e.jsx("span",{className:"font-semibold",children:"Loading staff attendance..."})]})})}):x.length>0?x.map(O=>e.jsxs("tr",{className:"group/row hover:bg-gradient-to-r hover:from-violet-50/50 hover:to-purple-50/50 transition-all duration-300 cursor-pointer hover:shadow-md",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-purple-100 to-violet-100 text-purple-600 flex items-center justify-center shadow-md transition-all duration-500 group-hover/row:scale-125 group-hover/row:bg-gradient-to-br group-hover/row:from-purple-500 group-hover/row:to-violet-600 group-hover/row:text-white group-hover/row:shadow-xl group-hover/row:rotate-6",children:e.jsx(Z0,{size:18,strokeWidth:2.5})}),e.jsx("span",{className:"font-bold text-slate-800 group-hover/row:text-violet-700 group-hover/row:translate-x-1 transition-all duration-300",children:O.name})]})}),e.jsx("td",{className:"px-6 py-4",children:T(O.role)}),e.jsx("td",{className:"px-6 py-4 text-slate-600 text-sm font-semibold group-hover/row:text-violet-600 transition-colors duration-300",children:O.shiftTime||"-"}),e.jsx("td",{className:"px-6 py-4 text-slate-700 text-sm font-semibold group-hover/row:text-violet-600 transition-colors duration-300",children:O.time||O.checkIn}),e.jsx("td",{className:"px-6 py-4 text-slate-700 text-sm font-semibold group-hover/row:text-violet-600 transition-colors duration-300",children:O.checkOut||"-"}),e.jsx("td",{className:"px-6 py-4",children:R(O.status)})]},O.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-12 text-center text-sm text-slate-400",children:"No staff attendance logs found for this date."})})})]})}),e.jsx("div",{className:"md:hidden p-4 space-y-4",children:p?e.jsx("div",{className:"py-12 text-center text-sm text-slate-400",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-violet-600"}),e.jsx("span",{className:"font-semibold text-violet-600",children:"Loading data..."})]})}):x.length>0?x.map(O=>e.jsx(Ya,{title:O.name,subtitle:O.role,badge:O.status,badgeColor:O.status==="On Time"||O.status==="checked-in"?"emerald":O.status==="Late"?"amber":O.status==="Absent"?"rose":"blue",fields:[{label:"Shift",value:O.shiftTime||"-"},{label:"Check-In",value:O.time||O.checkIn,icon:Ze},{label:"Check-Out",value:O.checkOut||"-",icon:Ze}]},O.id)):e.jsx("div",{className:"py-8 text-center text-sm text-slate-500 bg-white rounded-xl border border-slate-100",children:"No records found."})})]}),!p&&v>0&&e.jsxs("div",{className:"px-4 sm:px-6 py-4 bg-slate-50/50 border-t border-slate-100 flex flex-col sm:flex-row justify-between items-center gap-4",children:[e.jsxs("span",{className:"text-xs sm:text-sm text-slate-600 font-semibold text-center sm:text-left",children:["Showing ",e.jsx("span",{className:"font-black text-slate-900",children:(y-1)*A+1})," to ",e.jsx("span",{className:"font-black text-slate-900",children:Math.min(y*A,v)})," of ",e.jsx("span",{className:"font-black text-slate-900",children:v})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>g(O=>Math.max(O-1,1)),disabled:y===1,className:"group p-3 border-2 border-slate-200 rounded-xl hover:bg-gradient-to-r hover:from-violet-500 hover:to-purple-600 hover:text-white hover:border-transparent hover:scale-110 disabled:opacity-50 disabled:hover:scale-100 disabled:hover:bg-transparent disabled:hover:text-slate-400 transition-all duration-300 shadow-sm hover:shadow-lg",children:e.jsx(Xr,{size:18,strokeWidth:2.5,className:"group-hover:-translate-x-0.5 transition-transform duration-300"})}),e.jsx("button",{onClick:()=>g(O=>Math.min(O+1,Math.ceil(v/A))),disabled:y===Math.ceil(v/A),className:"group p-3 border-2 border-slate-200 rounded-xl hover:bg-gradient-to-r hover:from-violet-500 hover:to-purple-600 hover:text-white hover:border-transparent hover:scale-110 disabled:opacity-50 disabled:hover:scale-100 disabled:hover:bg-transparent disabled:hover:text-slate-400 transition-all duration-300 shadow-sm hover:shadow-lg",children:e.jsx(bs,{size:18,strokeWidth:2.5,className:"group-hover:translate-x-0.5 transition-transform duration-300"})})]})]})]})]})},KN=async()=>{try{return(await ve.get("/staff/attendance/today")).data}catch(s){throw s.response?.data?.message||"Failed to fetch check-ins"}},YM=async s=>{try{return s&&(await ve.get("/staff/members/search",{params:{search:s}})).data.find(l=>l.name.toLowerCase().includes(s.toLowerCase())||l.memberId.toLowerCase().includes(s.toLowerCase())||l.phone&&l.phone.includes(s))||null}catch(t){throw t.response?.data?.message||"Failed to search member"}},XM=async s=>{try{return!s||s.length<2?[]:(await ve.get("/staff/members/search",{params:{search:s}})).data.slice(0,10)}catch(t){throw t.response?.data?.message||"Failed to fetch suggestions"}},KM=async(s,t=!1)=>{try{return{success:!0,message:"Check-in successful",data:(await ve.post("/staff/attendance/check-in",{memberId:s,isStaffUser:t})).data}}catch(a){return{success:!1,message:a.response?.data?.message||"Check-in failed"}}},JM=async(s,t=!1)=>{try{return{success:!0,message:"Check-out successful",data:(await ve.post("/staff/attendance/check-out",{memberId:s,isStaffUser:t})).data}}catch(a){return{success:!1,message:a.response?.data?.message||"Check-out failed"}}},QM=()=>{const[s,t]=b.useState(""),[a,l]=b.useState(null),[i,o]=b.useState(!1),[c,u]=b.useState([]),[x,h]=b.useState(!1),p=b.useRef(null);b.useEffect(()=>{const v=C=>{p.current&&!p.current.contains(C.target)&&h(!1)};return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]),b.useEffect(()=>{const C=setTimeout(async()=>{if(s.length>=2){const N=await XM(s);u(N),h(!0)}else u([]),h(!1)},300);return()=>clearTimeout(C)},[s]);const f=async v=>{l(v),o(v.status==="Expired"),t(v.name),u([]),h(!1)},y=async v=>{v&&v.preventDefault();const C=await YM(s);C?(l(C),o(C.status==="Expired"),u([]),h(!1)):(l(null),alert("No member found"))},g=async()=>{if(a){const v=await KM(a.id,a.isStaffUser);v.success&&(alert(v.message),l(null),t(""))}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-6 animate-fadeIn",children:[e.jsxs("div",{className:"mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-6",children:e.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(Ww,{size:28,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Member Check-In"}),e.jsx("span",{className:"px-2 py-0.5 bg-gradient-to-r from-violet-500 to-purple-600 text-white text-[10px] font-black rounded-md shadow-sm animate-pulse",children:"LIVE"})]}),e.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Search or scan member to grant access"})]})]})})})]}),e.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[e.jsxs("div",{className:"group relative bg-white rounded-[32px] shadow-xl border border-slate-100 hover:shadow-2xl hover:border-violet-100 transition-all duration-300 mb-8",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50/20 to-purple-50/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx("div",{className:"relative z-10 p-8",children:e.jsxs("div",{className:"relative",ref:p,children:[e.jsxs("form",{onSubmit:y,className:"flex gap-4",children:[e.jsxs("div",{className:"relative flex-1 group/input",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx(st,{size:20,className:"text-slate-400 group-focus-within/input:text-violet-500 transition-colors"})}),e.jsx("input",{type:"text",placeholder:"Search by Name, ID, or Phone...",className:"w-full pl-11 pr-4 py-4 bg-slate-50 border-2 border-slate-200 rounded-xl font-bold text-slate-800 focus:bg-white focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all duration-300",value:s,onChange:v=>t(v.target.value),onFocus:()=>s.length>=2&&h(!0)}),s&&e.jsx("button",{type:"button",onClick:()=>{t(""),l(null)},className:"absolute inset-y-0 right-0 pr-4 flex items-center text-slate-400 hover:text-slate-600",children:e.jsx(Yr,{size:18})})]}),e.jsx("button",{type:"submit",className:"px-8 py-4 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-xl font-bold shadow-lg shadow-violet-500/30 hover:shadow-xl hover:shadow-violet-500/40 hover:scale-105 transition-all duration-300",children:"Search"})]}),x&&c.length>0&&e.jsxs("div",{className:"absolute top-full -left-4 -right-4 mt-4 bg-white/98 backdrop-blur-xl border border-slate-200/80 rounded-[32px] shadow-[0_30px_70px_rgba(15,23,42,0.18)] z-[200] animate-in slide-in-from-top-6 duration-500 ring-8 ring-slate-100/40",children:[e.jsx("div",{className:"max-h-[500px] overflow-y-auto p-3 flex flex-col gap-2 scrollbar-thin scrollbar-thumb-slate-200",children:c.map(v=>e.jsxs("button",{onClick:()=>f(v),className:"w-full px-6 py-5 text-left hover:bg-violet-50/90 rounded-[24px] transition-all duration-300 flex items-center justify-between group border border-transparent hover:border-violet-100/50 hover:shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx("div",{className:`h-16 w-16 rounded-[22px] flex items-center justify-center font-black text-xl shadow-2xl transition-all duration-500 group-hover:scale-110 group-hover:rotate-6 ${v.type==="Staff"?"bg-gradient-to-br from-amber-400 to-orange-500 text-white shadow-orange-300/40":"bg-gradient-to-br from-violet-500 to-purple-600 text-white shadow-violet-300/40"}`,children:v.name.charAt(0)}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("p",{className:"text-lg font-black text-slate-900 tracking-tight group-hover:text-violet-700 transition-colors capitalize leading-tight mb-1.5",children:v.name.toLowerCase()}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"px-2 py-0.5 bg-slate-100 rounded-md text-[10px] font-black text-slate-500 uppercase tracking-widest",children:["ID: ",v.memberId||v.id]}),e.jsx("span",{className:"w-1 h-1 rounded-full bg-slate-300"}),e.jsx("span",{className:"text-[11px] font-bold text-slate-400 tabular-nums",children:v.phone||v.email||"No contact info"})]})]})]}),e.jsxs("div",{className:"flex flex-col items-end gap-2.5",children:[e.jsx("div",{className:`px-3.5 py-1 rounded-full text-[10px] font-black uppercase tracking-widest shadow-sm border ${v.status==="Active"?"bg-emerald-50 text-emerald-600 border-emerald-100/50":"bg-rose-50 text-rose-600 border-rose-100/50"}`,children:v.status}),e.jsx("div",{className:`px-2.5 py-1 rounded-lg text-[9px] font-black uppercase tracking-[0.2em] shadow-lg ${v.type==="Staff"?"bg-slate-900 text-amber-400":"bg-slate-900 text-violet-400"}`,children:v.type})]})]},`${v.type}-${v.id}`))}),e.jsxs("div",{className:"bg-slate-50/80 p-4 border-t border-slate-100/60 flex justify-center items-center gap-3",children:[e.jsxs("div",{className:"flex gap-1",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-violet-400 animate-bounce"}),e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-violet-500 animate-bounce [animation-delay:-0.15s]"}),e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-violet-600 animate-bounce [animation-delay:-0.3s]"})]}),e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Select Profile to Check-In"})]})]})]})})]}),a&&e.jsxs("div",{className:`relative p-8 rounded-3xl shadow-2xl border-2 overflow-hidden transition-all duration-500 animate-in zoom-in-95 ${i?"bg-white border-red-200 shadow-red-100":"bg-white border-emerald-200 shadow-emerald-100"}`,children:[e.jsx("div",{className:`absolute top-0 right-0 w-64 h-64 opacity-5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 ${i?"bg-red-500":"bg-emerald-500"}`}),e.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row gap-8 items-center md:items-start text-center md:text-left",children:[e.jsx("div",{className:`w-28 h-28 rounded-3xl flex items-center justify-center text-4xl font-black shadow-xl transform hover:scale-105 transition-transform duration-300 ${i?"bg-gradient-to-br from-red-100 to-red-200 text-red-600 shadow-red-200":"bg-gradient-to-br from-emerald-100 to-emerald-200 text-emerald-600 shadow-emerald-200"}`,children:(a?.name||"?").charAt(0)}),e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-black text-slate-900 leading-tight mb-2",children:a.name}),e.jsxs("div",{className:"flex flex-wrap items-center justify-center md:justify-start gap-3",children:[e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-lg bg-slate-100 text-slate-600 text-xs font-bold border border-slate-200",children:[e.jsx(lt,{size:14}),a.id]}),e.jsx("span",{className:`px-3 py-1 rounded-lg text-xs font-black uppercase tracking-wide border ${i?"bg-red-50 text-red-600 border-red-100":"bg-emerald-50 text-emerald-600 border-emerald-100"}`,children:a.status})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[e.jsxs("div",{className:"p-3 bg-slate-50 rounded-xl border border-slate-100",children:[e.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Expiration"}),e.jsxs("div",{className:"text-sm font-bold text-slate-800 flex items-center gap-1.5",children:[e.jsx(Xe,{size:14,className:"text-violet-500"}),a.expiry]})]}),e.jsxs("div",{className:"p-3 bg-slate-50 rounded-xl border border-slate-100",children:[e.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Plan"}),e.jsx("div",{className:"text-sm font-bold text-slate-800",children:"Premium Annual"})]})]})]})]}),i?e.jsxs("div",{className:"mt-8 p-4 bg-red-50 rounded-xl border border-red-100 flex items-start gap-4",children:[e.jsx("div",{className:"p-2 bg-red-100 rounded-lg text-red-600 shrink-0",children:e.jsx(ms,{size:24,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-red-800 text-sm mb-1",children:"Membership Expired"}),e.jsxs("p",{className:"text-xs text-red-600 font-medium leading-relaxed",children:["This member's plan expired on ",a.expiry,". Please request renewal before granting entry."]})]})]}):e.jsx("div",{className:"mt-8 pt-6 border-t border-slate-100",children:e.jsxs("button",{onClick:g,className:"w-full h-16 bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-400 hover:to-green-500 text-white rounded-2xl shadow-xl shadow-emerald-500/30 text-lg font-black tracking-wide uppercase flex items-center justify-center gap-3 active:scale-95 hover:-translate-y-1 transition-all duration-300",children:[e.jsx(Qt,{size:28,strokeWidth:3}),"Check In Now"]})})]})]})]})},ZM=()=>{const[s,t]=b.useState(""),[a,l]=b.useState([]),[i,o]=b.useState(!0);b.useEffect(()=>{c()},[]);const c=async()=>{o(!0);try{const p=(await KN()).history.filter(f=>f.status==="Inside").map(f=>({id:f.id,name:f.name,time:f.in,duration:"Active",memId:f.memId,memberId:f.memberId,isStaffUser:f.isStaffUser}));l(p)}catch(x){console.error("Failed to load active check-ins",x)}finally{o(!1)}},u=async(x,h,p=!1)=>{const f=await JM(h,p);f.success,alert(f.success?f.message:"Check-out processed."),l(y=>y.filter(g=>g.id!==x))};return e.jsxs("div",{className:"p-6 md:p-8 bg-gray-50 min-h-screen font-sans staffdashboard-membercheckout",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8 animate-fade-in-down",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900 tracking-tight",children:"Member Check-Out"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Manage members currently on the gym floor."})]}),e.jsxs("div",{className:"relative w-full md:w-72 group",children:[e.jsx(st,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-hover:text-indigo-500 transition-colors",size:18}),e.jsx("input",{type:"text",placeholder:"Search name or ID...",className:"saas-input pl-11 h-11 w-full rounded-xl border-gray-200 text-sm focus:ring-2 focus:ring-indigo-500 bg-white shadow-sm hover:border-gray-300 transition-all",value:s,onChange:x=>t(x.target.value)})]})]}),e.jsx("div",{className:"bg-white rounded-3xl shadow-sm border border-gray-100 overflow-hidden animate-fade-in-up",children:e.jsx("div",{className:"saas-table-wrapper",children:e.jsxs("table",{className:"saas-table saas-table-responsive",children:[e.jsx("thead",{className:"bg-gray-50/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-gray-400 uppercase tracking-wider",children:"Member"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-gray-400 uppercase tracking-wider",children:"Check-In Time"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-gray-400 uppercase tracking-wider",children:"Top-Up Duration"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-gray-400 uppercase tracking-wider text-right",children:"Actions"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-100",children:[a.filter(x=>x.name.toLowerCase().includes(s.toLowerCase())||x.memId.toLowerCase().includes(s.toLowerCase())).map(x=>e.jsxs("tr",{className:"hover:bg-gray-50/80 transition-all duration-200 group",children:[e.jsx("td",{className:"px-6 py-4","data-label":"Member",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center font-bold text-sm shadow-sm",children:(x.name||"?").charAt(0)}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-gray-900 group-hover:text-indigo-600 transition-colors",children:x.name}),e.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-wider",children:x.memId})]})]})}),e.jsx("td",{className:"px-6 py-4","data-label":"Check-In Time",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-600 bg-gray-50 px-3 py-1.5 rounded-lg w-fit",children:[e.jsx(Ze,{size:14,className:"text-gray-400 group-hover:text-indigo-500 transition-colors"}),x.time]})}),e.jsx("td",{className:"px-6 py-4","data-label":"Duration",children:e.jsx("span",{className:"text-xs font-bold px-2.5 py-1 rounded-md bg-orange-50 text-orange-600 border border-orange-100 inline-block",children:x.duration})}),e.jsx("td",{className:"px-6 py-4 text-right","data-label":"Actions",children:e.jsxs("button",{onClick:()=>u(x.id,x.memberId,x.isStaffUser),className:"bg-indigo-600 hover:bg-indigo-700 text-white px-5 py-2.5 rounded-xl text-xs font-bold transition-all flex items-center gap-2 ml-auto shadow-md shadow-indigo-200 hover:shadow-lg hover:-translate-y-0.5 active:scale-95 group/btn",children:[e.jsx(bn,{size:14}),"Check-Out",e.jsx(bs,{size:12,className:"opacity-50 group-hover/btn:opacity-100 group-hover/btn:translate-x-0.5 transition-all"})]})})]},x.id)),a.filter(x=>x.name.toLowerCase().includes(s.toLowerCase())||x.memId.toLowerCase().includes(s.toLowerCase())).length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"px-6 py-12 text-center text-gray-400",children:"No members found matching your search."})})]})]})})})]})},ez=({options:s,value:t,onChange:a,icon:l,placeholder:i})=>{const[o,c]=b.useState(!1),u=b.useRef(null);return b.useEffect(()=>{const x=h=>{u.current&&!u.current.contains(h.target)&&c(!1)};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]),e.jsxs("div",{className:"relative min-w-[150px]",ref:u,children:[e.jsxs("button",{onClick:()=>c(!o),className:`w-full h-11 px-4 rounded-xl border flex items-center justify-between transition-all duration-300 ${o?"border-indigo-500 ring-2 ring-indigo-100 bg-white":"border-gray-200 bg-white hover:border-gray-300"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[l&&e.jsx(l,{size:16,className:"text-gray-400"}),e.jsx("span",{className:"font-medium truncate",children:t==="All"?i:t})]}),e.jsx(kl,{size:16,className:`text-gray-400 transition-transform duration-300 ${o?"rotate-180 text-indigo-500":""}`})]}),e.jsx("div",{className:`absolute top-full left-0 right-0 mt-2 bg-white border border-gray-100 rounded-xl shadow-xl z-50 overflow-hidden transition-all duration-200 origin-top ${o?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-95 -translate-y-2 pointer-events-none"}`,children:e.jsx("div",{className:"py-1",children:s.map(x=>e.jsxs("button",{onClick:()=>{a(x),c(!1)},className:`w-full px-4 py-2.5 text-left text-sm flex items-center justify-between transition-colors ${t===x?"bg-indigo-50 text-indigo-600 font-medium":"text-gray-600 hover:bg-gray-50"}`,children:[x==="All"?i:x,t===x&&e.jsx(wr,{size:14})]},x))})})]})},tz=()=>{const s=Ht(),[t,a]=b.useState("All"),[l,i]=b.useState(""),[o,c]=b.useState([]),[u,x]=b.useState({total:0,inside:0,checkedOut:0}),[h,p]=b.useState(!0),[f,y]=b.useState(1),g=8;b.useEffect(()=>{v()},[]),b.useEffect(()=>{y(1)},[t,l]);const v=async()=>{p(!0);try{const N=await KN();c(N.history),x(N.stats)}catch(N){console.error("Failed to load check-ins",N)}finally{p(!1)}},C=[{label:"Total Check-Ins",value:u.total,icon:Pt,bg:"bg-indigo-50",color:"text-indigo-600",border:"border-indigo-100"},{label:"Currently Inside",value:u.inside,icon:It,bg:"bg-green-50",color:"text-green-600",border:"border-green-100"},{label:"Total Check-Outs",value:u.checkedOut,icon:og,bg:"bg-gray-50",color:"text-gray-600",border:"border-gray-200"}];return e.jsxs("div",{className:"p-6 md:p-8 bg-gray-50 min-h-screen font-sans staffdashboard-todayscheckins",children:[e.jsxs("div",{className:"mb-8 animate-fade-in-down",children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900 tracking-tight",children:"Today Check-Ins"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Real-time overview of attendance activity for today."})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8 animate-fade-in-up",children:C.map((N,k)=>e.jsxs("div",{className:`bg-white p-6 rounded-3xl shadow-sm border ${N.border} flex items-center gap-4 hover:shadow-lg hover:-translate-y-1 transition-all duration-300 group`,children:[e.jsx("div",{className:`p-4 rounded-2xl ${N.bg} ${N.color} group-hover:scale-110 transition-transform`,children:e.jsx(N.icon,{size:26})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[11px] font-bold text-gray-400 uppercase tracking-wider mb-1",children:N.label}),e.jsx("p",{className:"text-3xl font-black text-gray-900 leading-none",children:N.value})]})]},k))}),e.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-gray-100 animate-fade-in-up",style:{animationDelay:"0.1s",overflow:"visible",zIndex:10,position:"relative"},children:[e.jsxs("div",{className:"p-6 border-b border-gray-50 flex flex-col md:flex-row gap-4 items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-2 w-full md:w-auto",children:e.jsx(ez,{options:["All","Inside","Checked-Out"],value:t,onChange:a,placeholder:"All Status",icon:ks})}),e.jsxs("div",{className:"relative w-full md:w-72 group",children:[e.jsx(st,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-hover:text-indigo-500 transition-colors",size:18}),e.jsx("input",{type:"text",placeholder:"Find member...",className:"saas-input pl-11 h-11 w-full rounded-xl border-gray-200 text-sm focus:ring-2 focus:ring-indigo-500 bg-white shadow-sm hover:border-gray-300 transition-all",value:l,onChange:N=>i(N.target.value)})]})]}),e.jsx("div",{className:"hidden md:block saas-table-wrapper",children:e.jsxs("table",{className:"saas-table saas-table-responsive",children:[e.jsx("thead",{className:"bg-gray-50/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-gray-400 uppercase tracking-wider",children:"Member Name"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-gray-400 uppercase tracking-wider",children:"Check-In"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-gray-400 uppercase tracking-wider",children:"Check-Out"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-gray-400 uppercase tracking-wider text-right",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-gray-400 uppercase tracking-wider text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:(()=>{const k=o.filter(A=>t==="All"||A.status===t).filter(A=>A.name.toLowerCase().includes(l.toLowerCase())).slice((f-1)*g,f*g);return k.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-12 text-center text-gray-400",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx(ks,{size:20,className:"text-gray-300"}),e.jsx("p",{children:"No records found."})]})})}):k.map(A=>e.jsxs("tr",{className:"hover:bg-gray-50 group transition-all duration-200",children:[e.jsx("td",{className:"px-6 py-4","data-label":"Member Name",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-xs font-bold text-gray-500 group-hover:bg-indigo-100 group-hover:text-indigo-600 transition-colors",children:(A.name||"?").charAt(0)}),e.jsx("span",{className:"text-sm font-bold text-gray-800 tracking-tight group-hover:text-indigo-700 transition-colors",children:A.name})]})}),e.jsx("td",{className:"px-6 py-4","data-label":"Check-In",children:e.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-gray-500 bg-gray-50 px-2.5 py-1 rounded-md w-fit",children:[e.jsx(Ze,{size:12,className:"text-green-500"}),A.in]})}),e.jsx("td",{className:"px-6 py-4","data-label":"Check-Out",children:A.out!=="-"?e.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-gray-500 bg-gray-50 px-2.5 py-1 rounded-md w-fit",children:[e.jsx(Ze,{size:12,className:"text-red-400"}),A.out]}):e.jsx("span",{className:"text-gray-300",children:"-"})}),e.jsx("td",{className:"px-6 py-4 text-right","data-label":"Status",children:e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-wider border ${A.status==="Inside"?"bg-green-50 text-green-700 border-green-100":"bg-gray-50 text-gray-600 border-gray-200"}`,children:[e.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${A.status==="Inside"?"bg-green-500 animate-pulse":"bg-gray-400"}`}),A.status]})}),e.jsx("td",{className:"px-6 py-4 text-right","data-label":"Actions",children:A.status==="Inside"&&e.jsxs("button",{onClick:()=>s("/staff/lockers/assign",{state:{memberName:A.name}}),className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1.5 rounded-lg text-[10px] font-bold transition-all flex items-center gap-2 ml-auto shadow-sm active:scale-95",children:[e.jsx(Os,{size:12}),"Locker"]})})]},A.id))})()})]})}),e.jsx("div",{className:"md:hidden p-4 space-y-4",children:(()=>{const k=o.filter(A=>t==="All"||A.status===t).filter(A=>A.name.toLowerCase().includes(l.toLowerCase())).slice((f-1)*g,f*g);return k.length===0?e.jsx("div",{className:"py-8 text-center text-sm text-gray-500 bg-white rounded-2xl border border-gray-100",children:"No records found."}):k.map(A=>e.jsx(Ya,{title:A.name,badge:A.status,badgeColor:A.status==="Inside"?"emerald":"slate",fields:[{label:"Check-In",value:A.in,icon:Ze},{label:"Check-Out",value:A.out,icon:Ze}],actions:A.status==="Inside"?[{label:"Locker",icon:Os,onClick:()=>s("/staff/lockers/assign",{state:{memberName:A.name}}),variant:"primary"}]:[]},A.id))})()}),o.length>0&&e.jsxs("div",{className:"p-6 border-t border-gray-50 flex flex-col md:flex-row items-center justify-between gap-4",children:[e.jsxs("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:["Showing ",e.jsx("span",{className:"text-indigo-600",children:Math.min(g,o.filter(N=>t==="All"||N.status===t).filter(N=>N.name.toLowerCase().includes(l.toLowerCase())).length)})," of ",e.jsx("span",{className:"text-gray-900",children:o.filter(N=>t==="All"||N.status===t).filter(N=>N.name.toLowerCase().includes(l.toLowerCase())).length})," records"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>y(N=>Math.max(1,N-1)),disabled:f===1,className:`px-4 py-2 rounded-xl text-xs font-bold transition-all ${f===1?"text-gray-300 bg-gray-50 cursor-not-allowed":"text-indigo-600 bg-indigo-50 hover:bg-indigo-100 active:scale-95"}`,children:"Previous"}),e.jsx("div",{className:"hidden md:flex items-center gap-1",children:Array.from({length:Math.ceil(o.filter(N=>t==="All"||N.status===t).filter(N=>N.name.toLowerCase().includes(l.toLowerCase())).length/g)}).map((N,k)=>e.jsx("button",{onClick:()=>y(k+1),className:`w-9 h-9 rounded-xl text-xs font-bold transition-all ${f===k+1?"bg-indigo-600 text-white shadow-lg shadow-indigo-200":"text-gray-500 hover:bg-gray-50"}`,children:k+1},k))}),e.jsx("button",{onClick:()=>y(N=>Math.min(Math.ceil(o.filter(k=>t==="All"||k.status===t).filter(k=>k.name.toLowerCase().includes(l.toLowerCase())).length/g),N+1)),disabled:f===Math.ceil(o.filter(N=>t==="All"||N.status===t).filter(N=>N.name.toLowerCase().includes(l.toLowerCase())).length/g),className:`px-4 py-2 rounded-xl text-xs font-bold transition-all ${f===Math.ceil(o.filter(N=>t==="All"||N.status===t).filter(N=>N.name.toLowerCase().includes(l.toLowerCase())).length/g)?"text-gray-300 bg-gray-50 cursor-not-allowed":"text-indigo-600 bg-indigo-50 hover:bg-indigo-100 active:scale-95"}`,children:"Next"})]})]})]})]})},sz=({product:s,onAddToCart:t})=>e.jsxs("div",{className:"group relative bg-white rounded-[2rem] overflow-hidden shadow-sm hover:shadow-2xl hover:shadow-violet-200/50 transition-all duration-700 hover:-translate-y-3 border border-slate-100/50",children:[e.jsxs("div",{className:"relative aspect-square overflow-hidden bg-slate-100",children:[e.jsx("img",{src:s.image,alt:s.name,className:"w-full h-full object-cover transition-transform duration-[1.5s] ease-out group-hover:scale-110"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-violet-900/40 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-700"}),e.jsxs("div",{className:"absolute top-4 left-4 flex flex-col gap-2",children:[e.jsx("span",{className:"px-3 py-1 bg-white/90 backdrop-blur-md rounded-full text-[10px] font-black text-violet-600 uppercase tracking-widest shadow-sm",children:s.category}),s.price<s.originalPrice&&e.jsxs("span",{className:"px-3 py-1 bg-rose-500 text-white rounded-full text-[10px] font-black uppercase tracking-widest shadow-lg shadow-rose-500/30",children:["Save ",Math.round((s.originalPrice-s.price)/s.originalPrice*100),"%"]})]}),e.jsx("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 translate-y-12 opacity-0 group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-500 delay-100",children:e.jsx("button",{onClick:()=>t(s),className:"w-12 h-12 bg-violet-600 rounded-2xl flex items-center justify-center text-white shadow-xl hover:bg-slate-900 transition-all transform hover:scale-110 active:scale-95",children:e.jsx(Ic,{size:20})})})]}),e.jsxs("div",{className:"p-7",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-800 leading-tight group-hover:text-violet-600 transition-colors duration-300",children:s.name}),e.jsxs("div",{className:"flex items-center gap-1.5 bg-amber-50 px-2.5 py-1 rounded-lg",children:[e.jsx(Hl,{size:14,className:"text-amber-500",fill:"currentColor"}),e.jsx("span",{className:"text-xs font-black text-amber-700",children:s.rating})]})]}),e.jsx("p",{className:"text-xs text-slate-500 line-clamp-2 leading-relaxed mb-6 font-medium",children:s.description}),e.jsxs("div",{className:"flex items-end justify-between",children:[e.jsxs("div",{children:[s.originalPrice&&parseFloat(s.originalPrice)>parseFloat(s.price)&&e.jsxs("span",{className:"block text-[10px] text-slate-400 line-through mb-1 font-bold tracking-wider",children:["",Number(s.originalPrice).toLocaleString()]}),e.jsxs("span",{className:"text-2xl font-black bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:["",s.price?Number(s.price).toLocaleString():"0"]})]}),e.jsxs("button",{onClick:()=>t(s),className:"relative overflow-hidden group/btn px-6 py-3 bg-slate-900 rounded-2xl text-[10px] font-black text-white uppercase tracking-[0.1em] transition-all hover:bg-violet-600 active:scale-95",children:[e.jsx("span",{className:"relative z-10",children:"Add To Cart"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-600 to-fuchsia-600 scale-x-0 group-hover/btn:scale-x-100 origin-left transition-transform duration-500"})]})]})]})]}),az=()=>{const[s,t]=b.useState(""),[a,l]=b.useState("All"),[i,o]=b.useState([]),[c,u]=b.useState(null),[x,h]=b.useState(!1),[p,f]=b.useState("shop"),[y,g]=b.useState([]),[v,C]=b.useState([]),[N,k]=b.useState("cart");b.useEffect(()=>{A(),E()},[a,s]);const A=async()=>{try{const F=await db({category:a,search:s});g(F)}catch(F){console.error("Failed to fetch products:",F)}},E=async()=>{try{const F=await rM();C(F)}catch(F){console.error("Failed to fetch orders:",F)}},w=["All","Supplements","Apparel","Equipment","Accesories"],R=F=>{o(G=>G.find(me=>me.id===F.id)?G.map(me=>me.id===F.id?{...me,quantity:me.quantity+1}:me):[...G,{...F,quantity:1}])},T=F=>{o(G=>G.filter(Y=>Y.id!==F))},O=(F,G)=>{o(Y=>Y.map(me=>{if(me.id===F){const H=Math.max(1,me.quantity+G);return{...me,quantity:H}}return me}))},W=()=>{k("checkout")},B=async()=>{k("processing");try{await $N({cartItems:i.map(F=>({id:F.id,quantity:F.quantity})),totalAmount:z}),k("success"),E(),o([])}catch(F){Ve.error(F),k("checkout")}},z=i.reduce((F,G)=>F+Number(G.price||0)*G.quantity,0),P=i.reduce((F,G)=>F+G.quantity,0);return e.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-white to-violet-50/50 min-h-screen p-6 md:p-8",children:[e.jsx("div",{className:"max-w-7xl mx-auto mb-10",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-8",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute -left-4 -top-4 w-24 h-24 bg-violet-600 rounded-full blur-[80px] opacity-20"}),e.jsxs("h1",{className:"relative text-5xl font-black text-slate-800 flex items-center gap-4 tracking-tight",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-violet-600 to-purple-600 rounded-2xl flex items-center justify-center text-white shadow-xl shadow-violet-500/20 rotate-3",children:e.jsx(Ic,{size:30})}),"Gym Store"]}),e.jsx("p",{className:"text-slate-500 mt-3 font-semibold text-lg max-w-md",children:"Premium nutrition & elite performance gear delivered to your locker."})]}),e.jsxs("div",{className:"flex flex-col space-y-4 flex-1 max-w-2xl",children:[e.jsxs("div",{className:"relative group",children:[e.jsx(st,{className:"absolute left-6 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-600 transition-all duration-300",size:22}),e.jsx("input",{type:"text",placeholder:"Search premium essentials...",className:"w-full pl-16 pr-6 py-5 bg-white border-2 border-slate-100 rounded-3xl text-sm font-bold focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/5 transition-all shadow-xl shadow-slate-200/40 placeholder:text-slate-300",value:s,onChange:F=>t(F.target.value)})]}),e.jsxs("div",{className:"flex bg-white/80 backdrop-blur-md border border-slate-100 rounded-3xl p-1.5 shadow-lg gap-2 mb-6",children:[e.jsx("button",{onClick:()=>f("shop"),className:`flex-1 px-8 py-4 rounded-2xl text-xs font-black uppercase tracking-widest transition-all duration-300 ${p==="shop"?"bg-violet-600 text-white shadow-lg":"text-slate-500 hover:text-slate-900 hover:bg-slate-50"}`,children:"Shop Store"}),e.jsx("button",{onClick:()=>f("orders"),className:`flex-1 px-8 py-4 rounded-2xl text-xs font-black uppercase tracking-widest transition-all duration-300 ${p==="orders"?"bg-violet-600 text-white shadow-lg":"text-slate-500 hover:text-slate-900 hover:bg-slate-50"}`,children:"My Orders"})]}),p==="shop"&&e.jsx("div",{className:"flex bg-white/80 backdrop-blur-md border border-slate-100 rounded-2xl p-1.5 shadow-lg overflow-x-auto no-scrollbar gap-1",children:w.map(F=>e.jsx("button",{onClick:()=>l(F),className:`px-6 py-3 rounded-xl text-xs font-black uppercase tracking-widest transition-all duration-300 shrink-0 ${a===F?"bg-slate-900 text-white shadow-lg":"text-slate-500 hover:text-violet-600 hover:bg-violet-50"} `,children:F},F))})]})]})}),p==="shop"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"max-w-7xl mx-auto mb-16 rounded-[3rem] overflow-hidden relative min-h-[450px] shadow-2xl flex items-center",children:[e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("img",{src:"https://images.unsplash.com/photo-1534438327276-14e5300c3a48?q=80&w=2000&auto=format&fit=crop",alt:"Premium Banner",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-slate-900 via-slate-900/80 to-transparent"})]}),e.jsxs("div",{className:"relative z-10 p-12 md:p-20 max-w-2xl",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 bg-violet-500/20 backdrop-blur-xl border border-violet-400/30 px-5 py-2.5 rounded-full mb-8",children:[e.jsx(Gr,{size:18,className:"text-violet-300 animate-pulse"}),e.jsx("span",{className:"text-violet-100 text-[10px] font-black uppercase tracking-[0.2em]",children:"The Performance Collection"})]}),e.jsxs("h2",{className:"text-5xl md:text-7xl font-black text-white leading-[1.1] mb-8",children:["FUEL YOUR ",e.jsx("br",{}),e.jsx("span",{className:"bg-gradient-to-r from-violet-400 to-fuchsia-400 bg-clip-text text-transparent",children:"AMBITION."})]}),e.jsx("p",{className:"text-slate-300 text-lg font-medium leading-relaxed mb-10 max-w-lg",children:"Elite-standard supplements and engineered apparel. Built for those who never settle for average."}),e.jsxs("div",{className:"flex flex-wrap gap-5",children:[e.jsx("button",{className:"px-10 py-5 bg-violet-600 text-white rounded-2xl font-black text-sm uppercase tracking-widest hover:bg-violet-700 transition-all shadow-xl shadow-violet-600/30 hover:scale-105 active:scale-95",children:"Shop The Drop"}),e.jsx("button",{className:"px-10 py-5 bg-white/10 backdrop-blur-md border-2 border-white/20 text-white rounded-2xl font-black text-sm uppercase tracking-widest hover:bg-white hover:text-slate-900 transition-all hover:scale-105 active:scale-95",children:"Learn More"})]})]}),e.jsx("div",{className:"absolute right-0 bottom-0 p-20 hidden lg:block",children:e.jsx("div",{className:"w-64 h-64 border-2 border-white/10 rounded-full animate-[spin_20s_linear_infinite] flex items-center justify-center",children:e.jsx("div",{className:"w-48 h-48 border-2 border-violet-500/20 rounded-full flex items-center justify-center",children:e.jsx("div",{className:"w-32 h-32 bg-violet-500/10 rounded-full backdrop-blur-3xl"})})})})]}),e.jsx("div",{className:"max-w-7xl mx-auto grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-10",children:y.map(F=>e.jsx(sz,{product:F,onAddToCart:R},F.id))}),y.length===0&&e.jsxs("div",{className:"text-center py-32 bg-white rounded-[3rem] border-2 border-dashed border-slate-100 mt-10",children:[e.jsx("div",{className:"w-24 h-24 bg-violet-50 rounded-full flex items-center justify-center mx-auto mb-8 text-violet-200",children:e.jsx(st,{size:48})}),e.jsx("h3",{className:"text-2xl font-black text-slate-800",children:"No matches found"}),e.jsx("p",{className:"text-slate-500 mt-3 font-medium",children:"Try broadening your search or select a different category."})]})]}):e.jsx("div",{className:"max-w-7xl mx-auto space-y-6",children:e.jsx("div",{className:"bg-white rounded-[3rem] border border-slate-100 shadow-xl overflow-hidden",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-slate-100 bg-slate-50/50",children:[e.jsx("th",{className:"px-10 py-6 text-xs font-black text-slate-400 uppercase tracking-widest",children:"Order ID"}),e.jsx("th",{className:"px-10 py-6 text-xs font-black text-slate-400 uppercase tracking-widest",children:"Date"}),e.jsx("th",{className:"px-10 py-6 text-xs font-black text-slate-400 uppercase tracking-widest",children:"Items"}),e.jsx("th",{className:"px-10 py-6 text-xs font-black text-slate-400 uppercase tracking-widest",children:"Total"}),e.jsx("th",{className:"px-10 py-6 text-xs font-black text-slate-400 uppercase tracking-widest",children:"Status"}),e.jsx("th",{className:"px-10 py-6 text-xs font-black text-slate-400 uppercase tracking-widest text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:v.map(F=>e.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[e.jsx("td",{className:"px-10 py-8",children:e.jsxs("span",{className:"font-black text-slate-900",children:["#",F.id]})}),e.jsx("td",{className:"px-10 py-8",children:e.jsx("span",{className:"font-bold text-slate-500",children:F.date})}),e.jsx("td",{className:"px-10 py-8",children:e.jsxs("span",{className:"font-bold text-slate-900",children:[F.items," Items"]})}),e.jsx("td",{className:"px-10 py-8",children:e.jsxs("span",{className:"font-black text-violet-600",children:["",F.total?Number(F.total).toLocaleString():"0"]})}),e.jsx("td",{className:"px-10 py-8",children:e.jsx("span",{className:`px-3 py-1 rounded-lg text-[10px] font-black uppercase tracking-wider ${F.status==="Delivered"?"bg-emerald-100 text-emerald-700":"bg-amber-100 text-amber-700"}`,children:F.status})}),e.jsx("td",{className:"px-10 py-8 text-right",children:e.jsx("button",{className:"text-xs font-black text-violet-600 hover:text-violet-800 uppercase tracking-widest",children:"View Details"})})]},F.id))})]})})}),i.length>0&&e.jsxs("button",{onClick:()=>{k("cart"),h(!0)},className:"fixed bottom-10 right-10 z-[100] group",children:[e.jsx("div",{className:"absolute inset-0 bg-violet-600 rounded-full blur-2xl opacity-40 group-hover:opacity-70 transition-all duration-500 group-hover:scale-125"}),e.jsxs("div",{className:"relative w-20 h-20 bg-violet-600 rounded-2xl flex items-center justify-center text-white shadow-2xl group-hover:scale-110 group-hover:rotate-6 transition-all duration-500 border-4 border-white",children:[e.jsx(Ic,{size:32}),e.jsx("span",{className:"absolute -top-3 -right-3 min-w-[32px] h-32px p-2 bg-rose-500 rounded-xl border-4 border-white flex items-center justify-center text-[12px] font-black group-hover:scale-125 transition-all shadow-lg",children:P})]})]}),e.jsx(rt,{isOpen:x,onClose:()=>{h(!1),setTimeout(()=>k("cart"),500)},title:N==="success"?"Order Confirmed!":"Your Shopping Bag",maxWidth:"max-w-md",children:e.jsxs("div",{className:"flex flex-col h-full bg-slate-50 relative overflow-hidden",children:[N==="cart"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-5 custom-scrollbar",children:i.length===0?e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-10",children:[e.jsx("div",{className:"w-20 h-20 bg-slate-100 rounded-full flex items-center justify-center mb-6 text-slate-300",children:e.jsx(Ic,{size:40})}),e.jsx("h4",{className:"text-lg font-bold text-slate-700",children:"Your bag is empty"}),e.jsx("p",{className:"text-sm text-slate-400 mt-2",children:"Start adding some items to gear up!"})]}):i.map(F=>e.jsxs("div",{className:"bg-white p-5 rounded-[2rem] flex gap-5 shadow-sm border border-slate-100 group transition-all hover:shadow-xl hover:shadow-violet-500/5",children:[e.jsx("div",{className:"w-28 h-28 rounded-2xl overflow-hidden shrink-0 bg-slate-50 border border-slate-100",children:e.jsx("img",{src:F.image,alt:F.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1 flex flex-col pt-1",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h4",{className:"font-bold text-slate-800 text-sm leading-tight",children:F.name}),e.jsx("button",{onClick:()=>T(F.id),className:"text-slate-300 hover:text-rose-500 transition-colors p-1",children:e.jsx(xs,{size:16})})]}),e.jsxs("span",{className:"text-violet-600 font-extrabold text-sm mt-2",children:["",F.price?Number(F.price).toLocaleString():"0"]}),e.jsx("div",{className:"flex items-center justify-between mt-auto",children:e.jsxs("div",{className:"flex items-center bg-slate-100 rounded-xl p-1 gap-4",children:[e.jsx("button",{onClick:()=>O(F.id,-1),className:"w-8 h-8 flex items-center justify-center text-slate-500 hover:bg-white hover:text-violet-600 rounded-lg transition-all font-black text-lg",children:"-"}),e.jsx("span",{className:"text-xs font-black text-slate-800",children:F.quantity}),e.jsx("button",{onClick:()=>O(F.id,1),className:"w-8 h-8 flex items-center justify-center text-slate-500 hover:bg-white hover:text-violet-600 rounded-lg transition-all font-black text-lg",children:"+"})]})})]})]},F.id))}),e.jsxs("div",{className:"shrink-0 p-8 bg-white border-t border-slate-100 space-y-6 shadow-[0_-20px_50px_rgba(0,0,0,0.05)]",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between text-slate-500 font-bold text-sm",children:[e.jsx("span",{children:"Subtotal"}),e.jsxs("span",{className:"text-slate-800",children:["",Number(z).toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between text-slate-500 font-bold text-sm",children:[e.jsx("span",{children:"Shipping"}),e.jsx("span",{className:"text-emerald-600 uppercase tracking-widest",children:"Free"})]}),e.jsxs("div",{className:"flex justify-between text-2xl font-black text-slate-800 pt-5 border-t border-slate-100",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{className:"bg-gradient-to-r from-violet-600 to-fuchsia-600 bg-clip-text text-transparent",children:["",Number(z).toLocaleString()]})]})]}),e.jsx("button",{onClick:W,disabled:i.length===0,className:"w-full py-6 bg-violet-600 text-white rounded-[2rem] font-black uppercase tracking-[0.2em] shadow-2xl shadow-violet-500/40 hover:bg-violet-700 transition-all transform hover:scale-[1.02] active:scale-95 disabled:opacity-30 disabled:grayscale disabled:pointer-events-none",children:"Secure Checkout"})]})]}),N==="checkout"&&e.jsxs("div",{className:"flex-1 p-8 space-y-8",children:[e.jsxs("button",{onClick:()=>k("cart"),className:"flex items-center gap-2 text-slate-400 hover:text-violet-600 font-bold text-xs uppercase tracking-widest",children:[e.jsx(bs,{className:"rotate-180",size:16})," Back to Cart"]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-black text-slate-800 mb-6",children:"Order Review"}),e.jsxs("div",{className:"space-y-4 bg-white p-6 rounded-[2rem] border border-slate-100",children:[e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-slate-500 font-bold",children:"Locker Delivery"}),e.jsx("span",{className:"text-violet-600 font-black",children:"Locker #24"})]}),e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-slate-500 font-bold",children:"Payment Method"}),e.jsxs("span",{className:"text-slate-800 font-black text-right",children:["Gym Wallet",e.jsx("br",{}),e.jsx("span",{className:"text-[10px] text-slate-400 uppercase",children:"Available: 12,450"})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Summary"}),e.jsxs("div",{className:"bg-slate-900 rounded-[2rem] p-8 text-white space-y-4",children:[e.jsxs("div",{className:"flex justify-between text-slate-400 font-medium",children:[e.jsx("span",{children:"Total Items"}),e.jsx("span",{children:P})]}),e.jsxs("div",{className:"flex justify-between text-3xl font-black border-t border-white/10 pt-4",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{className:"text-violet-400",children:["",Number(z).toLocaleString()]})]})]})]}),e.jsxs("button",{onClick:B,disabled:N==="processing",className:"w-full py-6 bg-violet-600 text-white rounded-[2rem] font-black uppercase tracking-[0.2em] shadow-2xl shadow-violet-500/40 hover:bg-violet-700 transition-all hover:scale-[1.02]",children:[N==="processing"?e.jsx(Tr,{className:"animate-spin inline mr-2"}):"","Confirm & Pay"]})]}),N==="success"&&e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8 text-center bg-white",children:[e.jsxs("div",{className:"w-24 h-24 bg-emerald-100 text-emerald-600 rounded-full flex items-center justify-center mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-emerald-500 rounded-full animate-ping opacity-20"}),e.jsx(Qt,{size:48,className:"relative z-10"})]}),e.jsx("h3",{className:"text-3xl font-black text-slate-800 mb-4 tracking-tight",children:"Purchase Confirmed!"}),e.jsxs("p",{className:"text-slate-500 font-medium leading-relaxed mb-4",children:["Your order has been placed successfully. ",e.jsx("br",{}),"Your items will be delivered to your locker soon."]}),e.jsxs("span",{className:"px-4 py-2 bg-slate-100 rounded-full text-xs font-black text-slate-400 uppercase tracking-widest",children:["Order ID: #GYM-",Math.floor(1e5+Math.random()*9e5)]})]})]})})]})},cm=async()=>{try{return(await ve.get("/staff/lockers")).data}catch(s){throw s.response?.data?.message||"Failed to fetch lockers"}},JN=async(s,t,a,l,i)=>{try{return{success:!0,message:"Locker assigned successfully",data:(await ve.post(`/staff/lockers/${s}/assign`,{memberId:t,memberName:a,expiryDate:l,notes:i})).data}}catch(o){return{success:!1,message:o.response?.data?.message||"Failed to assign locker"}}},QN=async s=>{try{return{success:!0,message:"Locker released successfully",data:(await ve.post(`/staff/lockers/${s}/release`)).data}}catch(t){return{success:!1,message:t.response?.data?.message||"Failed to release locker"}}},rz=async s=>{try{return{success:!0,message:"Locker created successfully",data:(await ve.post("/staff/lockers",s)).data}}catch(t){return{success:!1,message:t.response?.data?.message||"Failed to create locker"}}},lz="modulepreload",nz=function(s){return"/"+s},Xy={},sx=function(t,a,l){let i=Promise.resolve();if(a&&a.length>0){let x=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=c?.nonce||c?.getAttribute("nonce");i=x(a.map(h=>{if(h=nz(h),h in Xy)return;Xy[h]=!0;const p=h.endsWith(".css"),f=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${f}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":lz,p||(y.as="script"),y.crossOrigin="",y.href=h,u&&y.setAttribute("nonce",u),document.head.appendChild(y),p)return new Promise((g,v)=>{y.addEventListener("load",g),y.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${h}`)))})}))}function o(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return i.then(c=>{for(const u of c||[])u.status==="rejected"&&o(u.reason);return t().catch(o)})},iz=({isOpen:s,onClose:t,selectedLocker:a,onSuccess:l})=>{const[i,o]=b.useState({memberName:"",lockerId:"",expiryDate:"",notes:"",isPaid:!1}),[c,u]=b.useState(!1),[x,h]=b.useState([]);b.useEffect(()=>{(async()=>{const{getMembers:y}=await sx(async()=>{const{getMembers:v}=await Promise.resolve().then(()=>dz);return{getMembers:v}},[]),g=await y();h(g)})()},[]),b.useEffect(()=>{s&&a&&o(f=>({...f,lockerId:a.id,isPaid:a.isPaid||!1}))},[s,a]);const p=async f=>{f.preventDefault();const y=x.find(g=>g.name===i.memberName);if(!y){alert("Please select a valid member");return}u(!0);try{const g=await JN(i.lockerId,y.id,y.name,i.isPaid);g.success?(alert(g.message),l(),t()):alert(g.message)}catch(g){console.error(g)}finally{u(!1)}};return e.jsx(rt,{isOpen:s,onClose:t,title:"Locker Assignment",subtitle:a?`Locker #${a.number}`:"Assign Locker",maxWidth:"max-w-md",footer:e.jsxs("div",{className:"flex gap-3 w-full",children:[e.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-3 bg-white border-2 border-slate-200 text-slate-700 rounded-xl text-sm font-bold hover:bg-slate-50 transition-all",children:"Cancel"}),e.jsxs("button",{type:"submit",form:"locker-assign-form",disabled:c,className:"flex-[2] px-4 py-3 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-xl text-sm font-bold hover:shadow-lg hover:shadow-violet-500/30 transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:[e.jsx(Qt,{size:18}),c?"Processing...":"Save Assignment"]})]}),children:e.jsx("form",{id:"locker-assign-form",onSubmit:p,className:"flex flex-col h-full",children:e.jsxs("div",{className:"flex-1 overflow-y-auto pr-2 space-y-8 custom-scrollbar",children:[e.jsxs("div",{className:"p-4 bg-emerald-50 rounded-2xl border border-emerald-100 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-emerald-600 flex items-center justify-center text-white shadow-lg",children:e.jsx(Os,{size:24})}),e.jsxs("div",{children:[e.jsx("span",{className:"text-[10px] font-black text-emerald-400 uppercase tracking-widest",children:"Assigning Locker"}),e.jsxs("h3",{className:"text-xl font-bold text-slate-800",children:["Locker #",a?.number]})]})]}),e.jsx("span",{className:"px-3 py-1 bg-emerald-100 text-emerald-600 rounded-lg text-[10px] font-black uppercase tracking-widest",children:"Free"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-xs font-black text-slate-500 uppercase tracking-widest flex items-center gap-2",children:[e.jsx(lt,{size:14,className:"text-violet-500"}),"Member Selection *"]}),e.jsx(ds,{options:x.map(f=>f.name),value:i.memberName,onChange:f=>o({...i,memberName:f}),placeholder:"Choose a member"})]}),e.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border-2 border-slate-100 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx("label",{className:"text-xs font-black text-slate-700 uppercase tracking-widest",children:"Billing Mode"}),e.jsx("p",{className:"text-[10px] text-slate-500 font-medium italic",children:"Should this locker be billed?"})]}),e.jsx("button",{type:"button",onClick:()=>o({...i,isPaid:!i.isPaid}),className:`w-14 h-8 rounded-full p-1 transition-all duration-300 ${i.isPaid?"bg-violet-600":"bg-slate-300"}`,children:e.jsx("div",{className:`w-6 h-6 bg-white rounded-full shadow-md transform transition-transform duration-300 ${i.isPaid?"translate-x-6":"translate-x-0"}`})})]}),i.isPaid&&e.jsxs("div",{className:"pt-3 border-t border-slate-200 flex items-center justify-between animate-in fade-in duration-300",children:[e.jsx("span",{className:"text-[10px] font-black text-indigo-600 uppercase tracking-widest",children:"Monthly Rate"}),e.jsxs("span",{className:"text-sm font-black text-slate-800",children:["",a?.price||500]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-xs font-black text-slate-500 uppercase tracking-widest flex items-center gap-2",children:[e.jsx(Xe,{size:14,className:"text-violet-500"}),"Assignment Expiry *"]}),e.jsx("input",{type:"date",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl font-bold text-slate-700 focus:bg-white focus:border-violet-500 transition-all",value:i.expiryDate,onChange:f=>o({...i,expiryDate:f.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-xs font-black text-slate-500 uppercase tracking-widest flex items-center gap-2",children:[e.jsx(dr,{size:14,className:"text-violet-500"}),"Internal Notes"]}),e.jsx("textarea",{rows:"3",placeholder:"Notes about locker usage, items stored, or special requests...",className:"w-full p-4 bg-slate-50 border-2 border-slate-200 rounded-xl font-medium text-slate-700 focus:bg-white focus:border-violet-500 transition-all resize-none",value:i.notes,onChange:f=>o({...i,notes:f.target.value})})]})]})})})},oz=({isOpen:s,onClose:t,selectedLocker:a,onSuccess:l})=>{const[i,o]=b.useState(!1),c=async()=>{if(a){o(!0);try{const u=await QN(a.id);u.success?(alert(u.message),l(),t()):alert(u.message)}catch(u){console.error(u)}finally{o(!1)}}};return e.jsx(rt,{isOpen:s,onClose:t,title:"Locker Status",subtitle:a?`Locker #${a.number}`:"Locker Details",maxWidth:"max-w-md",footer:e.jsxs("div",{className:"flex flex-col gap-4 w-full",children:[a&&e.jsxs("button",{onClick:c,disabled:i,className:"w-full py-5 bg-rose-600 text-white rounded-[24px] font-black shadow-xl shadow-rose-500/30 hover:bg-rose-700 transition-all transform hover:scale-[1.02] flex items-center justify-center gap-3",children:[e.jsx(bn,{size:22}),i?"Releasing...":"Confirm Release & Clear"]}),e.jsx("button",{onClick:t,className:"w-full py-4 text-slate-400 font-bold hover:text-slate-600 transition-all",children:"Dismiss View"})]}),children:a&&e.jsx("div",{className:"flex flex-col h-full bg-slate-50",children:e.jsxs("div",{className:"flex-1 overflow-y-auto pr-2 space-y-8 custom-scrollbar",children:[e.jsxs("div",{className:"bg-rose-50 border border-rose-100 rounded-3xl p-6 flex flex-col items-center text-center",children:[e.jsxs("div",{className:"w-20 h-20 bg-white rounded-full flex items-center justify-center text-rose-500 shadow-xl mb-4 relative",children:[e.jsx(Os,{size:40}),e.jsx("div",{className:"absolute top-0 right-0 w-6 h-6 bg-rose-500 rounded-full border-4 border-white animate-pulse"})]}),e.jsx("h3",{className:"text-2xl font-black text-slate-800 tracking-tight",children:"Occupied Locker"}),e.jsxs("p",{className:"text-sm font-bold text-rose-600 uppercase tracking-widest mt-1",children:["Locker #",a.number]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Occupant Information"}),e.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-sm border border-slate-100 space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-violet-100 to-purple-100 text-violet-600 flex items-center justify-center font-black",children:a.assignee?.charAt(0)||"?"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-bold text-slate-800",children:a.assignee||"Anonymous Member"}),e.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Member ID: MEM-2931-X"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6 pt-6 border-t border-slate-50",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-400 mb-1",children:[e.jsx(Xe,{size:14}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-wider",children:"Assigned On"})]}),e.jsx("p",{className:"text-sm font-bold text-slate-700",children:"Oct 12, 2023"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-400 mb-1",children:[e.jsx(Ze,{size:14}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-wider",children:"Expires On"})]}),e.jsx("p",{className:"text-sm font-bold text-rose-600",children:"Dec 31, 2023"})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Internal Notes"}),e.jsx("div",{className:"bg-white rounded-3xl p-6 shadow-sm border border-slate-100 italic text-sm text-slate-500 font-medium",children:'"Member requested locker near the showers. Storing gym bag and personal training equipment."'})]}),e.jsxs("div",{className:"bg-rose-50 border border-rose-100 rounded-2xl p-4 flex gap-3 text-rose-700",children:[e.jsx(lt,{className:"shrink-0",size:18}),e.jsx("p",{className:"text-[10px] font-bold leading-relaxed uppercase",children:"Releasing this locker will make it immediately available for other members. Current items should be cleared."})]})]})})})},cz=({isOpen:s,onClose:t,onSuccess:a})=>{const[l,i]=b.useState({number:"",area:"Men's Changing Room",size:"Medium",isPaid:!1,price:""}),[o,c]=b.useState(!1),u=async x=>{x.preventDefault(),c(!0);try{await rz({...l,price:l.isPaid?parseFloat(l.price):0}),a(),t(),i({number:"",area:"Men's Changing Room",size:"Medium",isPaid:!1,price:""})}catch(h){console.error(h)}finally{c(!1)}};return e.jsx(rt,{isOpen:s,onClose:t,title:"Add New Locker",subtitle:"Register new storage unit",maxWidth:"max-w-md",footer:e.jsxs("div",{className:"flex gap-3 w-full",children:[e.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-3 bg-white border-2 border-slate-200 text-slate-700 rounded-xl text-sm font-bold hover:bg-slate-50 transition-all",children:"Cancel"}),e.jsxs("button",{type:"submit",form:"create-locker-form",disabled:o,className:"flex-[2] px-4 py-3 bg-slate-900 text-white rounded-xl text-sm font-bold hover:bg-violet-600 hover:shadow-lg hover:shadow-violet-500/30 transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:[e.jsx(Qt,{size:18}),o?"Creating...":"Create Locker"]})]}),children:e.jsx("form",{id:"create-locker-form",onSubmit:u,className:"flex flex-col h-full",children:e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8 custom-scrollbar",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-xs font-black text-slate-500 uppercase tracking-widest flex items-center gap-2",children:[e.jsx(Os,{size:14,className:"text-violet-500"}),"Locker Number *"]}),e.jsx("input",{type:"text",placeholder:"e.g. L-101",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl font-bold text-slate-800 focus:bg-white focus:border-violet-500 transition-all uppercase",value:l.number,onChange:x=>i({...l,number:x.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-xs font-black text-slate-500 uppercase tracking-widest flex items-center gap-2",children:[e.jsx(Ws,{size:14,className:"text-violet-500"}),"Location Area"]}),e.jsxs("select",{className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl font-bold text-slate-700 focus:bg-white focus:border-violet-500 transition-all appearance-none",value:l.area,onChange:x=>i({...l,area:x.target.value}),children:[e.jsx("option",{children:"Men's Changing Room"}),e.jsx("option",{children:"Women's Changing Room"}),e.jsx("option",{children:"General Hallway"}),e.jsx("option",{children:"VIP Lounge"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-xs font-black text-slate-500 uppercase tracking-widest flex items-center gap-2",children:[e.jsx(ru,{size:14,className:"text-violet-500"}),"Size Configuration"]}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:["Small","Medium","Large"].map(x=>e.jsx("button",{type:"button",onClick:()=>i({...l,size:x}),className:`py-3 rounded-xl text-xs font-black uppercase tracking-wider border-2 transition-all ${l.size===x?"border-violet-600 bg-violet-50 text-violet-700":"border-slate-100 bg-white text-slate-400 hover:border-slate-200"}`,children:x},x))})]}),e.jsxs("div",{className:"space-y-6 pt-4 border-t border-slate-100",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-br from-slate-50 to-white border border-slate-200 rounded-2xl",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-slate-800 text-sm",children:"Paid Locker?"}),e.jsx("p",{className:"text-[10px] text-slate-500 font-medium mt-0.5",children:"Require subscription for usage"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:l.isPaid,onChange:x=>i({...l,isPaid:x.target.checked}),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-slate-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-violet-600"})]})]}),l.isPaid&&e.jsxs("div",{className:"space-y-3 animate-in fade-in slide-in-from-top-2",children:[e.jsxs("label",{className:"text-xs font-black text-slate-500 uppercase tracking-widest flex items-center gap-2",children:[e.jsx(Qn,{size:14,className:"text-violet-500"}),"Monthly Price () *"]}),e.jsx("input",{type:"number",placeholder:"e.g. 500",className:"w-full px-4 py-3 bg-white border-2 border-violet-100 rounded-xl font-bold text-violet-800 focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all",value:l.price,onChange:x=>i({...l,price:x.target.value}),required:l.isPaid})]})]})]})})})},Ky=()=>{const[s,t]=b.useState([]),[a,l]=b.useState(!0),[i,o]=b.useState(""),[c,u]=b.useState("All"),[x,h]=b.useState(!1),[p,f]=b.useState(!1),[y,g]=b.useState(!1),[v,C]=b.useState(null);b.useEffect(()=>{N()},[]);const N=async()=>{l(!0);try{const w=await cm();t(w)}catch(w){console.error(w)}finally{l(!1)}},k=w=>{C(w),w.status==="Available"?h(!0):f(!0)},A=s.filter(w=>{const R=w.number.toLowerCase().includes(i.toLowerCase())||w.assignee&&w.assignee.toLowerCase().includes(i.toLowerCase()),T=c==="All"||w.status===c;return R&&T}),E={total:s.length,available:s.filter(w=>w.status==="Available").length,occupied:s.filter(w=>w.status==="Occupied").length,maintenance:s.filter(w=>w.status==="Maintenance").length};return e.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-white to-violet-50/20 min-h-screen p-6 md:p-8 font-sans",children:[e.jsx("div",{className:"max-w-7xl mx-auto mb-10",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-8",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute -top-10 -left-10 w-40 h-40 bg-violet-200 rounded-full blur-3xl opacity-20 pointer-events-none"}),e.jsxs("h1",{className:"relative text-3xl md:text-4xl font-black text-slate-800 flex items-center gap-3",children:[e.jsx(Os,{className:"text-violet-600",size:32}),"Locker Management"]}),e.jsx("p",{className:"text-slate-500 mt-2 font-medium",children:"Monitor and manage facility storage units"})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[e.jsx("div",{className:"flex overflow-x-auto no-scrollbar max-w-[calc(100vw-6rem)] md:max-w-none bg-white/60 backdrop-blur-sm border-2 border-slate-100 rounded-2xl p-1 shadow-sm",children:["All","Available","Occupied","Maintenance"].map(w=>e.jsx("button",{onClick:()=>u(w),className:`px-5 py-2.5 rounded-xl text-xs font-bold transition-all whitespace-nowrap ${c===w?"bg-violet-600 text-white shadow-lg shadow-violet-500/30":"text-slate-500 hover:text-slate-800"}`,children:w},w))}),e.jsx("button",{className:"p-4 bg-white border-2 border-slate-100 text-slate-400 rounded-2xl hover:text-violet-600 hover:border-violet-100 transition-all shadow-sm",children:e.jsx(Tr,{size:20,className:a?"animate-spin":""})})]})]})}),e.jsx("div",{className:"max-w-7xl mx-auto grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-8 mb-10",children:[{label:"Total Units",value:E.total,color:"slate",icon:Os},{label:"Available",value:E.available,color:"emerald",icon:Cn},{label:"Occupied",value:E.occupied,color:"amber",icon:Uh},{label:"Maintenance",value:E.maintenance,color:"rose",icon:Xl}].map((w,R)=>e.jsxs("div",{className:"bg-white/60 backdrop-blur-md border border-white/50 p-6 rounded-[32px] shadow-sm hover:shadow-xl transition-all group overflow-hidden relative",children:[e.jsx("div",{className:`absolute -right-4 -bottom-4 opacity-[0.03] group-hover:scale-150 transition-transform duration-700 text-${w.color}-900`,children:e.jsx(w.icon,{size:120})}),e.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2",children:w.label}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-black text-slate-800",children:w.value}),e.jsx("span",{className:`text-${w.color}-500 text-[10px] font-bold`,children:"Units"})]})]},R))}),e.jsxs("div",{className:"max-w-7xl mx-auto mb-8 flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1 group",children:[e.jsx(st,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-600 transition-all",size:20}),e.jsx("input",{type:"text",placeholder:"Search by locker number or member...",className:"w-full pl-12 pr-4 py-4 bg-white/60 backdrop-blur-sm border-2 border-slate-100 rounded-2xl text-sm focus:outline-none focus:border-violet-500 transition-all shadow-sm font-medium",value:i,onChange:w=>o(w.target.value)})]}),e.jsxs("button",{onClick:()=>g(!0),className:"px-8 py-4 bg-slate-900 text-white rounded-2xl font-bold flex items-center justify-center gap-2 hover:bg-violet-600 transition-all shadow-xl shadow-slate-200",children:[e.jsx(wt,{size:20})," Add New Units"]})]}),e.jsx("div",{className:"max-w-7xl mx-auto",children:a?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 gap-4",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-violet-100 border-t-violet-600 rounded-full animate-spin"}),e.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Loading Lockers..."})]}):e.jsx("div",{className:"bg-white/60 backdrop-blur-md border border-white/50 rounded-[32px] shadow-xl overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-slate-100",children:[e.jsx("th",{className:"px-8 py-6 text-[10px] font-black text-slate-400 uppercase tracking-widest ",children:"Locker Number"}),e.jsx("th",{className:"px-8 py-6 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Assigned To"}),e.jsx("th",{className:"px-8 py-6 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Status"}),e.jsx("th",{className:"px-8 py-6 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Billing"}),e.jsx("th",{className:"px-8 py-6 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Actions"})]})}),e.jsx("tbody",{children:A.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"py-24 text-center",children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-[32px] flex items-center justify-center text-slate-200 mb-4",children:e.jsx(Os,{size:32})}),e.jsx("h3",{className:"text-lg font-black text-slate-800",children:"No Lockers Found"}),e.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Try adjusting your filters."})]})})}):A.map(w=>e.jsxs("tr",{className:"group hover:bg-violet-50/30 transition-colors border-b border-slate-50 last:border-0",children:[e.jsx("td",{className:"px-8 py-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center shadow-sm ${w.status==="Available"?"bg-emerald-50 text-emerald-600":w.status==="Occupied"?"bg-rose-50 text-rose-600":"bg-slate-50 text-slate-400"}`,children:e.jsx(Os,{size:18})}),e.jsx("span",{className:"font-black text-slate-800 tracking-tight text-lg",children:w.number})]})}),e.jsx("td",{className:"px-8 py-6",children:w.assignee?e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-violet-100 flex items-center justify-center text-[10px] font-black text-violet-600",children:w.assignee.charAt(0)}),e.jsx("span",{className:"font-bold text-slate-700 text-sm",children:w.assignee})]}):e.jsx("span",{className:"text-slate-300 font-medium",children:""})}),e.jsx("td",{className:"px-8 py-6",children:e.jsx("div",{className:"flex justify-center",children:e.jsx("span",{className:`px-4 py-1.5 rounded-full text-[10px] font-black uppercase tracking-widest border transition-all ${w.status==="Available"?"bg-emerald-50 text-emerald-600 border-emerald-100":w.status==="Occupied"?"bg-rose-50 text-rose-600 border-rose-100":"bg-slate-50 text-slate-400 border-slate-100"}`,children:w.status==="Available"?"Free":w.status})})}),e.jsx("td",{className:"px-8 py-6",children:e.jsx("div",{className:"flex justify-center",children:e.jsx("span",{className:`px-3 py-1 rounded-lg text-[8px] font-black uppercase tracking-widest border ${w.isPaid?"bg-indigo-50 text-indigo-600 border-indigo-100":"bg-slate-50 text-slate-400 border-slate-100"}`,children:w.isPaid?"Paid":"Free"})})}),e.jsx("td",{className:"px-8 py-6 text-right",children:e.jsx("button",{onClick:()=>k(w),className:`px-5 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${w.status==="Available"?"bg-slate-900 text-white hover:bg-violet-600 hover:shadow-lg hover:shadow-violet-200":"bg-rose-50 text-rose-600 hover:bg-rose-600 hover:text-white"}`,children:w.status==="Available"?"Assign":"Release"})})]},w.id))})]})})})}),e.jsx(iz,{isOpen:x,onClose:()=>h(!1),selectedLocker:v,onSuccess:N}),e.jsx(oz,{isOpen:p,onClose:()=>f(!1),selectedLocker:v,onSuccess:N}),e.jsx(cz,{isOpen:y,onClose:()=>g(!1),onSuccess:()=>{N(),alert("Locker created successfully!")}})]})},ZN=async()=>{try{return(await ve.get("/staff/members")).data}catch(s){throw s.response?.data?.message||"Failed to fetch members"}},dz=Object.freeze(Object.defineProperty({__proto__:null,getMembers:ZN},Symbol.toStringTag,{value:"Module"})),uz=()=>{const s=Ht(),{state:t}=Pr(),[a,l]=b.useState({memberId:"",memberName:t?.memberName||"",lockerId:"",expiryDate:"",notes:""}),[i,o]=b.useState([]),[c,u]=b.useState([]);b.useEffect(()=>{(async()=>{try{const y=(await cm()).filter(v=>v.status.toLowerCase()==="available");o(y);const g=await ZN();u(g)}catch(f){console.error("Error fetching data:",f)}})()},[]);const x=p=>{const{name:f,value:y}=p.target;l(g=>({...g,[f]:y}))},h=async p=>{if(p.preventDefault(),!a.memberId||!a.lockerId){alert("Please select both a member and a locker");return}const f=await JN(a.lockerId,a.memberId.toString(),a.memberName,a.expiryDate,a.notes);if(f.success){alert(f.message),l({memberId:"",memberName:"",lockerId:"",expiryDate:"",notes:""});const y=await cm();o(y.filter(g=>g.status.toLowerCase()==="available"))}else alert(f.message)};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-6 animate-fadeIn",children:[e.jsxs("div",{className:"mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(Os,{size:28,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Assign Locker"}),e.jsx("span",{className:"px-2 py-0.5 bg-gradient-to-r from-violet-500 to-purple-600 text-white text-[10px] font-black rounded-md shadow-sm animate-pulse",children:"Action Mode"})]}),e.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Allocate a locker to a member for a specific duration"})]})]}),e.jsxs("button",{onClick:()=>s("/staff/lockers/release"),className:"group flex items-center gap-2 px-5 py-3 bg-white border border-slate-200 text-slate-600 rounded-xl text-sm font-bold shadow-sm hover:border-violet-500 hover:text-violet-600 hover:shadow-md transition-all duration-300",children:[e.jsx(bn,{size:18,className:"text-slate-400 group-hover:text-violet-500 rotate-180 transition-colors"}),"View Occupied Lockers"]})]})})]}),e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsxs("div",{className:"group relative bg-white rounded-3xl shadow-xl border border-slate-100 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50/10 to-purple-50/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"}),e.jsxs("form",{onSubmit:h,className:"relative z-10 p-8 space-y-8",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-sm font-black text-slate-700 flex items-center gap-2 uppercase tracking-wide",children:[e.jsx(lt,{size:16,className:"text-violet-500"}),"Member Name"]}),e.jsx(ds,{options:c.map(p=>({value:p.id,label:`${p.name} (${p.phone})`})),value:a.memberId,onChange:p=>{const f=c.find(y=>y.id===p);x({target:{name:"memberId",value:p}}),x({target:{name:"memberName",value:f?.name||""}})},placeholder:"Select Member",className:"w-full"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-sm font-black text-slate-700 flex items-center gap-2 uppercase tracking-wide",children:[e.jsx(im,{size:16,className:"text-violet-500"}),"Locker Number"]}),e.jsx(ds,{options:i.map(p=>({value:p.id,label:p.number})),value:a.lockerId,onChange:p=>x({target:{name:"lockerId",value:p}}),placeholder:"Select Locker",className:"w-full"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-sm font-black text-slate-700 flex items-center gap-2 uppercase tracking-wide",children:[e.jsx(Xe,{size:16,className:"text-violet-500"}),"Expiry Date"]}),e.jsx("div",{className:"relative group/input",children:e.jsx("input",{type:"date",name:"expiryDate",className:"w-full h-12 px-4 bg-slate-50 border-2 border-slate-200 rounded-xl font-bold text-slate-700 focus:bg-white focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all duration-300",value:a.expiryDate,onChange:x,required:!0})})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-sm font-black text-slate-700 flex items-center gap-2 uppercase tracking-wide",children:[e.jsx(dr,{size:16,className:"text-violet-500"}),"Notes (Optional)"]}),e.jsx("textarea",{name:"notes",placeholder:"Add any specific instructions or items stored...",rows:"3",className:"w-full p-4 bg-slate-50 border-2 border-slate-200 rounded-xl font-medium text-slate-700 focus:bg-white focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all duration-300 resize-none",value:a.notes,onChange:x})]}),e.jsx("div",{className:"pt-4",children:e.jsxs("button",{type:"submit",className:"w-full h-14 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-xl shadow-xl shadow-violet-500/40 text-lg font-bold transition-all flex items-center justify-center gap-3 hover:shadow-2xl hover:shadow-violet-500/50 hover:scale-[1.02] active:scale-[0.98]",children:[e.jsx(Qt,{size:22,strokeWidth:2.5}),"Confirm Assignment"]})})]})]})})]})},xz=()=>{const s=Ht(),[t,a]=b.useState([]);b.useEffect(()=>{l()},[]);const l=async()=>{const c=(await cm()).filter(u=>u.status==="Occupied").map(u=>({id:u.id,name:u.assigneeName||u.assignee||"Unknown Member",locker:u.number,memberIdDisplay:u.assigneeMemberId||"N/A",assigned:"Active",expiry:u.expiryDate?new Date(u.expiryDate).toLocaleDateString(void 0,{timeZone:"UTC"}):"N/A"}));a(c)},i=async o=>{if(window.confirm("Are you sure you want to release this locker?")){const c=await QN(o);c.success?(alert(c.message),l()):alert(c.message)}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6 animate-fadeIn",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6 flex-shrink-0",children:e.jsx(bn,{size:24,className:"sm:w-7 sm:h-7",strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Release Locker"}),e.jsx("span",{className:"px-2 py-0.5 bg-gradient-to-r from-violet-500 to-purple-600 text-white text-[10px] font-black rounded-md shadow-sm animate-pulse whitespace-nowrap",children:"Admin Mode"})]}),e.jsx("p",{className:"text-slate-600 text-xs sm:text-sm mt-1",children:"Manage and release occupied lockers for upcoming members"})]})]}),e.jsxs("button",{onClick:()=>s("/staff/lockers/assign"),className:"group flex items-center justify-center gap-2 px-5 py-3 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-xl text-sm font-bold shadow-xl shadow-violet-500/50 hover:shadow-2xl hover:shadow-violet-500/60 hover:scale-105 transition-all duration-300 w-full sm:w-auto",children:[e.jsx(wt,{size:18,strokeWidth:2.5}),"Assign New Locker"]})]})})]}),e.jsxs("div",{className:"bg-white rounded-3xl shadow-xl border border-slate-100 overflow-hidden",children:[e.jsx("div",{className:"p-4 sm:p-6 border-b border-slate-100 bg-slate-50/50 flex flex-col md:flex-row justify-between items-center gap-4",children:e.jsxs("div",{className:"relative w-full md:w-96 group",children:[e.jsx(st,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 transition-colors",size:20}),e.jsx("input",{type:"text",placeholder:"Search locker or member name...",className:"w-full pl-12 pr-4 py-3 bg-white border-2 border-slate-200 rounded-xl font-bold text-slate-700 focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all duration-300"})]})}),e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"w-full hidden md:table",children:[e.jsx("thead",{className:"bg-slate-50/80 border-b border-slate-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-5 px-6 text-left text-xs font-black text-slate-400 uppercase tracking-widest",children:"Member"}),e.jsx("th",{className:"py-5 px-6 text-left text-xs font-black text-slate-400 uppercase tracking-widest",children:"Locker #"}),e.jsx("th",{className:"py-5 px-6 text-left text-xs font-black text-slate-400 uppercase tracking-widest",children:"Assigned"}),e.jsx("th",{className:"py-5 px-6 text-left text-xs font-black text-slate-400 uppercase tracking-widest",children:"Expiry"}),e.jsx("th",{className:"py-5 px-6 text-right text-xs font-black text-slate-400 uppercase tracking-widest",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:t.map(o=>e.jsxs("tr",{className:"group hover:bg-violet-50/30 transition-colors duration-200",children:[e.jsx("td",{className:"py-5 px-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"h-10 w-10 rounded-xl bg-gradient-to-br from-violet-100 to-purple-100 text-violet-600 flex items-center justify-center font-bold text-sm shadow-sm group-hover:scale-110 transition-transform duration-300",children:(o.name||"?").charAt(0)}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-slate-800 text-sm",children:o.name}),e.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-wider",children:o.memberIdDisplay!=="N/A"?`ID: ${o.memberIdDisplay}`:"Member"})]})]})}),e.jsx("td",{className:"py-5 px-6",children:e.jsxs("span",{className:"inline-flex items-center justify-center px-3 py-1.5 rounded-lg bg-violet-50 text-violet-700 text-xs font-black border border-violet-100",children:[e.jsx(Os,{size:12,className:"mr-1.5"}),o.locker]})}),e.jsx("td",{className:"py-5 px-6",children:e.jsx("div",{className:"text-sm font-medium text-slate-500",children:o.assigned})}),e.jsx("td",{className:"py-5 px-6",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold text-slate-700",children:[e.jsx(Xe,{size:14,className:"text-slate-400"}),o.expiry]})}),e.jsx("td",{className:"py-5 px-6 text-right",children:e.jsxs("button",{onClick:()=>i(o.id),className:"inline-flex items-center gap-2 px-4 py-2 bg-white border-2 border-slate-200 text-slate-600 hover:border-red-200 hover:bg-red-50 hover:text-red-600 rounded-xl text-xs font-bold transition-all shadow-sm hover:shadow-md",children:[e.jsx(bn,{size:14}),"Release"]})})]},o.id))})]}),e.jsx("div",{className:"md:hidden p-4 space-y-4",children:t.map(o=>e.jsx(Ya,{title:o.name,subtitle:o.memberIdDisplay!=="N/A"?`ID: ${o.memberIdDisplay}`:"Member",badge:`#${o.locker}`,badgeColor:"violet",fields:[{label:"Assigned",value:o.assigned},{label:"Expiry",value:o.expiry,icon:Xe}],actions:[{label:"Release Locker",icon:bn,onClick:()=>i(o.id),variant:"danger"}]},o.id))})]})]})]})},hz=async(s={})=>{try{return(await ve.get("/staff/tasks",{params:{...s,myTasks:!0}})).data}catch(t){throw t.response?.data?.message||"Failed to fetch my tasks"}},Jy=async(s={})=>{try{return(await ve.get("/staff/tasks",{params:s})).data}catch(t){throw t.response?.data?.message||"Failed to fetch all tasks"}},mz=async(s,t)=>{try{return(await ve.patch(`/staff/tasks/${s}/status`,{status:t})).data}catch(a){throw a.response?.data?.message||"Failed to update task status"}},pz=()=>{const[s,t]=b.useState(""),[a,l]=b.useState("All"),[i,o]=b.useState([]),[c,u]=b.useState(!0),[x,h]=b.useState(1),p=5;b.useEffect(()=>{f(),h(1)},[a,s]);const f=async()=>{u(!0);try{const A=await hz({status:a,search:s});o(A)}catch(A){console.error("Failed to load tasks:",A)}finally{u(!1)}},y=async A=>{await mz(A,"Completed"),f()},g=A=>{switch(A){case"High":return e.jsx("span",{className:"px-2.5 py-1 rounded-full text-[10px] font-black bg-red-100 text-red-700 border border-red-200",children:"HIGH"});case"Medium":return e.jsx("span",{className:"px-2.5 py-1 rounded-full text-[10px] font-black bg-yellow-100 text-yellow-700 border border-yellow-200",children:"MEDIUM"});case"Low":return e.jsx("span",{className:"px-2.5 py-1 rounded-full text-[10px] font-black bg-green-100 text-green-700 border border-green-200",children:"LOW"});default:return null}},v=A=>{switch(A){case"Completed":return e.jsx("span",{className:"px-2.5 py-1 rounded-full text-[10px] font-black bg-blue-100 text-blue-700 uppercase",children:"Completed"});case"In Progress":return e.jsx("span",{className:"px-2.5 py-1 rounded-full text-[10px] font-black bg-indigo-100 text-indigo-700 uppercase",children:"In Progress"});case"Pending":return e.jsx("span",{className:"px-2.5 py-1 rounded-full text-[10px] font-black bg-gray-100 text-gray-600 uppercase",children:"Pending"});default:return null}},C=Math.ceil(i.length/p),N=(x-1)*p,k=i.slice(N,N+p);return e.jsxs("div",{className:"p-6 md:p-8 bg-gray-50 min-h-screen font-sans staffdashboard-mytasks",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900 tracking-tight",children:"My Tasks"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Manage and track your daily operational responsibilities."})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-gray-50 flex flex-col md:flex-row gap-4 justify-between items-center",children:[e.jsxs("div",{className:"relative w-full md:w-96",children:[e.jsx(st,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{type:"text",placeholder:"Find a task...",className:"saas-input pl-10 h-11 w-full rounded-xl border-gray-200 text-sm focus:ring-2 focus:ring-indigo-500",value:s,onChange:A=>t(A.target.value)})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ks,{size:18,className:"text-indigo-500"}),e.jsx(ds,{options:[{value:"All",label:"All Status"},{value:"Pending",label:"Pending"},{value:"In Progress",label:"In Progress"},{value:"Completed",label:"Completed"}],value:a,onChange:l,className:"w-[180px]"})]})]}),e.jsx("div",{className:"saas-table-wrapper",children:e.jsxs("table",{className:"saas-table saas-table-responsive",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Task Details"}),e.jsx("th",{children:"Assigned By"}),e.jsx("th",{className:"text-center",children:"Priority"}),e.jsx("th",{children:"Due Date"}),e.jsx("th",{className:"text-center",children:"Status"}),e.jsx("th",{className:"text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:c?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-10 text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-2 text-indigo-600",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-indigo-600 border-t-transparent rounded-full animate-spin"}),e.jsx("span",{className:"text-sm font-medium",children:"Loading tasks..."})]})})}):k.length>0?k.map(A=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-all duration-200 group",children:[e.jsx("td",{"data-label":"Task Details",children:e.jsx("p",{className:"text-sm font-bold text-gray-800 tracking-tight group-hover:text-indigo-600 transition-colors",children:A.title})}),e.jsx("td",{"data-label":"Assigned By",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(lt,{size:14,className:"text-gray-400"}),e.jsx("span",{className:"text-xs font-semibold text-gray-600",children:A.assignedBy})]})}),e.jsx("td",{"data-label":"Priority",className:"text-center",children:g(A.priority)}),e.jsx("td",{"data-label":"Due Date",children:e.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-gray-500",children:[e.jsx(Ze,{size:14,className:"text-gray-400"}),A.due]})}),e.jsx("td",{"data-label":"Status",className:"text-center",children:v(A.status)}),e.jsx("td",{"data-label":"Actions",className:"text-right",children:A.status!=="Completed"&&e.jsx("button",{onClick:()=>y(A.id),className:"bg-green-500 hover:bg-green-600 text-white p-2 rounded-lg shadow-sm transition-all active:scale-95",title:"Mark Complete",children:e.jsx(Zt,{size:16})})})]},A.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-10 text-center text-gray-500 text-sm",children:"No tasks found matching your search."})})})]})})]}),e.jsxs("div",{className:"mt-8 flex items-center justify-between text-[10px] text-gray-400 font-bold uppercase tracking-widest px-2",children:[e.jsxs("p",{children:["Showing ",i.length>0?N+1:0," to ",Math.min(N+p,i.length)," of ",i.length," tasks"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>h(A=>Math.max(A-1,1)),disabled:x===1,className:"px-3 py-1 border border-gray-200 rounded hover:bg-white transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Prev"}),Array.from({length:C},(A,E)=>E+1).map(A=>e.jsx("button",{onClick:()=>h(A),className:`px-3 py-1 border rounded transition-colors ${x===A?"border-indigo-600 bg-indigo-600 text-white":"border-gray-200 hover:bg-white"}`,children:A},A)),e.jsx("button",{onClick:()=>h(A=>Math.min(A+1,C)),disabled:x===C||C===0,className:"px-3 py-1 border border-gray-200 rounded hover:bg-white transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})},fz=()=>{const[s,t]=b.useState(""),[a,l]=b.useState("All"),[i,o]=b.useState([]),[c,u]=b.useState(!0),[x,h]=b.useState([{label:"Total Tasks",value:"0",icon:ll,bg:"bg-indigo-50",color:"text-indigo-600"},{label:"Pending",value:"0",icon:Ze,bg:"bg-yellow-50",color:"text-yellow-600"},{label:"In Progress",value:"0",icon:It,bg:"bg-blue-50",color:"text-blue-600"},{label:"Completed",value:"0",icon:Qt,bg:"bg-green-50",color:"text-green-600"}]),[p,f]=b.useState(1),y=5;b.useEffect(()=>{g(),f(1)},[a,s]);const g=async()=>{u(!0);try{const E=await Jy();v(E);const w=await Jy({status:a,search:s});o(w)}catch(E){console.error("Failed to load tasks:",E)}finally{u(!1)}},v=E=>{h([{label:"Total Tasks",value:E.length.toString(),icon:ll,bg:"bg-indigo-50",color:"text-indigo-600"},{label:"Pending",value:E.filter(w=>w.status==="Pending").length.toString(),icon:Ze,bg:"bg-yellow-50",color:"text-yellow-600"},{label:"In Progress",value:E.filter(w=>w.status==="In Progress").length.toString(),icon:It,bg:"bg-blue-50",color:"text-blue-600"},{label:"Completed",value:E.filter(w=>w.status==="Completed").length.toString(),icon:Qt,bg:"bg-green-50",color:"text-green-600"}])},C=E=>{switch(E){case"Completed":return e.jsx("span",{className:"px-3 py-1 rounded-lg text-[10px] font-black bg-green-100 text-green-700 uppercase",children:"Completed"});case"In Progress":return e.jsx("span",{className:"px-3 py-1 rounded-lg text-[10px] font-black bg-blue-100 text-blue-700 uppercase",children:"In Progress"});case"Pending":return e.jsx("span",{className:"px-3 py-1 rounded-lg text-[10px] font-black bg-yellow-100 text-yellow-700 uppercase",children:"Pending"});default:return null}},N=Math.ceil(i.length/y),k=(p-1)*y,A=i.slice(k,k+y);return e.jsxs("div",{className:"p-6 md:p-8 bg-gray-50 min-h-screen font-sans staffdashboard-taskstatus",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900 tracking-tight",children:"Task Status Overview"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Track real-time progress of all operational duties."})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:x.map((E,w)=>e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-center gap-4 hover:shadow-xl hover:-translate-y-1 hover:scale-[1.02] transition-all duration-300 staffdashboard-taskstatus-card active:scale-[0.98] cursor-pointer group",children:[e.jsx("div",{className:`p-4 rounded-xl ${E.bg} ${E.color} group-hover:scale-110 group-hover:rotate-6 transition-all duration-300`,children:e.jsx(E.icon,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest group-hover:text-gray-600 transition-colors",children:E.label}),e.jsx("p",{className:"text-2xl font-black text-gray-900 leading-tight group-hover:scale-110 transition-transform",children:E.value})]})]},w))}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-gray-50 flex flex-col md:flex-row gap-4 justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ks,{size:18,className:"text-indigo-600"}),e.jsx(ds,{options:[{value:"All",label:"All Status"},{value:"Pending",label:"Pending"},{value:"In Progress",label:"In Progress"},{value:"Completed",label:"Completed"}],value:a,onChange:l,className:"w-[180px]"})]}),e.jsxs("div",{className:"relative w-full md:w-64",children:[e.jsx(st,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 transition-colors",size:16}),e.jsx("input",{type:"text",placeholder:"Search tasks...",className:"saas-input pl-10 h-10 w-full rounded-lg border-gray-200 text-sm focus:ring-2 focus:ring-indigo-500 focus:shadow-md transition-all duration-300",value:s,onChange:E=>t(E.target.value)})]})]}),e.jsx("div",{className:"saas-table-wrapper",children:e.jsxs("table",{className:"saas-table saas-table-responsive",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Task Title"}),e.jsx("th",{children:"Assigned By"}),e.jsx("th",{className:"text-center",children:"Status"}),e.jsx("th",{className:"text-right",children:"Last Updated"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:c?e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"px-6 py-10 text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-2 text-indigo-600",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-indigo-600 border-t-transparent rounded-full animate-spin"}),e.jsx("span",{className:"text-sm font-medium",children:"Crunching data..."})]})})}):A.length>0?A.map(E=>e.jsxs("tr",{className:"hover:bg-indigo-50/30 hover:-translate-y-0.5 transition-all duration-200 cursor-pointer group hover:shadow-md",children:[e.jsx("td",{"data-label":"Task Title",children:e.jsx("p",{className:"text-sm font-bold text-gray-800 tracking-tight group-hover:text-indigo-600 transition-colors",children:E.title})}),e.jsx("td",{"data-label":"Assigned By",children:e.jsx("p",{className:"text-xs font-semibold text-gray-500 group-hover:text-gray-700 transition-colors",children:E.assignedBy})}),e.jsx("td",{"data-label":"Status",className:"text-center",children:C(E.status)}),e.jsx("td",{"data-label":"Last Updated",className:"text-right",children:e.jsx("span",{className:"text-xs font-bold text-gray-400 italic font-mono uppercase group-hover:text-gray-600 transition-colors",children:E.updated})})]},E.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"px-6 py-10 text-center text-gray-500 text-sm",children:"No tasks found matching your search."})})})]})})]}),e.jsxs("div",{className:"mt-8 flex items-center justify-between text-[10px] text-gray-400 font-bold uppercase tracking-widest px-2",children:[e.jsxs("p",{children:["Showing ",i.length>0?k+1:0," to ",Math.min(k+y,i.length)," of ",i.length," tasks"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>f(E=>Math.max(E-1,1)),disabled:p===1,className:"px-3 py-1 border border-gray-200 rounded hover:bg-white transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Prev"}),Array.from({length:N},(E,w)=>w+1).map(E=>e.jsx("button",{onClick:()=>f(E),className:`px-3 py-1 border rounded transition-colors ${p===E?"border-indigo-600 bg-indigo-600 text-white":"border-gray-200 hover:bg-white"}`,children:E},E)),e.jsx("button",{onClick:()=>f(E=>Math.min(E+1,N)),disabled:p===N||N===0,className:"px-3 py-1 border border-gray-200 rounded hover:bg-white transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})},Qy={Admin:["Full Access","Finance","HR","Settings","Branch Ops"],Manager:["Branch Ops","Finance","HR","Team Management"],Trainer:["Workouts","Sessions","Progress","Member Management"],Staff:["General Ops","Check-ins","Basic Member Support"]},gz=({isOpen:s,onClose:t,onConfirm:a,title:l,message:i})=>e.jsx(rt,{isOpen:s,onClose:t,title:l,maxWidth:"max-w-sm",footer:e.jsxs("div",{className:"flex gap-4 w-full p-2",children:[e.jsx("button",{onClick:t,className:"flex-1 py-4 bg-slate-50 text-slate-400 rounded-2xl font-black uppercase tracking-widest hover:bg-slate-100 hover:text-slate-600 transition-all border border-slate-100",children:"Cancel"}),e.jsx("button",{onClick:a,className:"flex-[2] py-4 bg-rose-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl shadow-rose-200 hover:bg-rose-700 transition-all",children:"Confirm Delete"})]}),children:e.jsxs("div",{className:"py-12 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-rose-50 rounded-full flex items-center justify-center mx-auto mb-6 text-rose-500 shadow-inner",children:e.jsx(xs,{size:32})}),e.jsx("p",{className:"text-slate-500 text-sm font-medium leading-relaxed px-4",children:i})]})}),bz=({role:s,branchId:t})=>{const{role:a}=Oi(),l=Ht(),[i,o]=b.useState([]),[c,u]=b.useState(!0),[x,h]=b.useState(""),[p,f]=b.useState("All Roles"),[y,g]=b.useState("All"),[v,C]=b.useState(!1),[N,k]=b.useState({isOpen:!1,id:null});b.useEffect(()=>{A()},[]);const A=async()=>{u(!0);try{const P=await ON();o(Array.isArray(P)?P:[])}catch(P){console.error(P)}finally{u(!1)}},E=()=>{l("/hr/staff/create")},w=P=>{l(`/hr/staff/edit/${P}`)},R=P=>{k({isOpen:!0,id:P})},T=async()=>{N.id&&(await nN(N.id),k({isOpen:!1,id:null}),A())},O=Object.keys(Qy),W=["All Roles",...a===it.SUPER_ADMIN?O:O.filter(P=>P!=="Admin"&&P!=="Manager")],B=i.filter(P=>{const F=(P.name||"").toLowerCase().includes(x.toLowerCase())||(P.email||"").toLowerCase().includes(x.toLowerCase())||(P.role||"").toLowerCase().includes(x.toLowerCase()),G=(P.role||"").toUpperCase().replace(/_/g," "),Y=p.toUpperCase(),me=p==="All Roles"||G===Y,H=y==="All"||P.status===y;return F&&me&&H}),z=()=>e.jsxs("div",{className:"space-y-6 flex-1",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest pl-1",children:"Filter by Role"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:W.map(P=>e.jsx("button",{onClick:()=>f(P),className:`px-4 py-3 rounded-xl text-xs font-bold border-2 transition-all min-h-[44px] ${p===P?"bg-indigo-600 border-indigo-600 text-white shadow-lg shadow-indigo-200":"bg-white border-slate-100 text-slate-500 hover:border-indigo-100"}`,children:P},P))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest pl-1",children:"Account Status"}),e.jsx("div",{className:"flex gap-2",children:["All","Active","Inactive"].map(P=>e.jsx("button",{onClick:()=>g(P),className:`px-6 py-3 rounded-xl text-xs font-bold border-2 transition-all min-h-[44px] ${y===P?"bg-emerald-600 border-emerald-600 text-white shadow-lg shadow-emerald-200":"bg-white border-slate-100 text-slate-500 hover:border-emerald-100"}`,children:P},P))})]})]});return e.jsxs("div",{className:"bg-gradient-to-br from-gray-50 via-white to-indigo-50/20 min-h-screen p-6 md:p-8 font-sans pb-24",children:[e.jsx("div",{className:"max-w-7xl mx-auto mb-10",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-black text-slate-800 flex items-center gap-3",children:[e.jsx(Cn,{className:"text-indigo-600",size:32}),"Staff Management"]}),e.jsx("p",{className:"text-slate-500 mt-2 font-medium",children:"Manage branch employees, roles, and system access."})]}),e.jsxs("button",{onClick:E,className:"flex items-center gap-3 px-8 py-4 bg-slate-900 text-white rounded-[24px] font-black uppercase tracking-widest text-xs hover:bg-slate-800 hover:shadow-2xl hover:scale-105 active:scale-95 transition-all shadow-xl",children:[e.jsx(wt,{size:20,strokeWidth:3}),"Add New Staff"]})]})}),e.jsx("div",{className:"max-w-7xl mx-auto mb-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1 group",children:[e.jsx(st,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-indigo-600 transition-all",size:20}),e.jsx("input",{type:"text",placeholder:"Search team members...",className:"w-full pl-14 pr-4 py-5 bg-white border-2 border-slate-100 rounded-[28px] text-sm focus:outline-none focus:border-indigo-500 transition-all shadow-sm font-medium h-14",value:x,onChange:P=>h(P.target.value)})]}),e.jsxs("button",{onClick:()=>C(!0),className:"lg:hidden flex items-center justify-center gap-2 px-6 py-4 bg-white border-2 border-slate-100 rounded-2xl text-slate-600 font-bold hover:border-indigo-100 transition-all shadow-sm h-14",children:[e.jsx(ks,{size:20})," Filters ",(p!=="All Roles"||y!=="All")&&e.jsx("div",{className:"w-2 h-2 bg-indigo-600 rounded-full"})]}),e.jsx("div",{className:"hidden lg:flex items-center gap-4 bg-white/40 backdrop-blur-sm p-1 rounded-[28px] border-2 border-slate-100 overflow-x-auto custom-scrollbar h-14",children:W.map(P=>e.jsx("button",{onClick:()=>f(P),className:`whitespace-nowrap px-6 py-2.5 rounded-[22px] text-xs font-black uppercase tracking-widest transition-all ${p===P?"bg-slate-900 text-white shadow-xl":"text-slate-400 hover:text-slate-800"}`,children:P},P))}),e.jsx("button",{onClick:A,className:"hidden lg:flex p-4.5 items-center justify-center bg-white border-2 border-slate-100 text-slate-400 rounded-[28px] hover:text-indigo-600 hover:border-indigo-100 transition-all shadow-sm w-14 h-14",children:e.jsx(Tr,{size:20,className:c?"animate-spin":""})})]})}),e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"bg-white/60 backdrop-blur-md rounded-[40px] shadow-sm border border-white/50 overflow-hidden",children:[e.jsx("div",{className:"hidden md:block overflow-x-auto overflow-y-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50/50",children:[e.jsx("th",{className:"px-8 py-7 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Staff Member"}),e.jsx("th",{className:"px-8 py-7 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Direct Access Roles"}),e.jsx("th",{className:"px-8 py-7 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Contact & Reach"}),e.jsx("th",{className:"px-8 py-7 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Status"}),e.jsx("th",{className:"px-8 py-7 text-right text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100/50",children:c&&i.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"py-24 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-indigo-100 border-t-indigo-600 rounded-full animate-spin"}),e.jsx("span",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Fetching Team..."})]})})}):B.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"py-24 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-24 h-24 bg-white rounded-[32px] shadow-2xl flex items-center justify-center text-slate-200 mb-4 opacity-50",children:e.jsx(gy,{size:48})}),e.jsx("h3",{className:"text-xl font-black text-slate-800 tracking-tight",children:"No Members Found"}),e.jsx("p",{className:"text-slate-500 text-sm font-medium max-w-sm mx-auto",children:"None of your team members match the current search or filter criteria. Try clearing them."}),e.jsx("button",{onClick:()=>{f("All Roles"),g("All"),h("")},className:"mt-4 px-6 py-2.5 bg-indigo-50 text-indigo-600 rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-indigo-600 hover:text-white transition-all",children:"Clear All Filters"})]})})}):B.map(P=>e.jsxs("tr",{className:"group hover:bg-white transition-all duration-300",children:[e.jsx("td",{className:"px-8 py-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-14 h-14 rounded-[22px] bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white font-black shadow-lg group-hover:scale-105 transition-transform overflow-hidden",children:P.name.charAt(0)}),P.role==="Branch Manager"&&e.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-amber-400 border-2 border-white rounded-lg flex items-center justify-center text-white shadow-sm",title:"Team Lead",children:e.jsx(Cn,{size:12})})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-bold text-slate-800 flex items-center gap-2",children:[P.name,P.role==="Manager"&&e.jsx("span",{className:"px-1.5 py-0.5 bg-amber-50 text-amber-600 text-[8px] font-black uppercase rounded tracking-widest",children:"Lead"})]}),e.jsxs("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:["Joined: ",P.joinedDate,"  Shift: ",e.jsx("span",{className:"text-slate-600 font-extrabold",children:P.shift||"N/A"})]})]})]})}),e.jsx("td",{className:"px-8 py-6",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("span",{className:"px-3 py-1 bg-indigo-50 text-indigo-600 rounded-lg text-[10px] font-black uppercase tracking-widest border border-indigo-100",children:P.role}),e.jsx("div",{className:"flex flex-wrap gap-1",children:Qy[P.role]?.map(F=>e.jsx("span",{className:"text-[8px] font-bold text-slate-400 uppercase border border-slate-100 px-1.5 py-0.5 rounded-md",children:F},F))})]})}),e.jsx("td",{className:"px-8 py-6",children:e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-600",children:[e.jsx(_r,{size:12,className:"text-slate-300"})," ",P.email]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-600",children:[e.jsx(ja,{size:12,className:"text-slate-300"})," ",P.phone]})]})}),e.jsx("td",{className:"px-8 py-6",children:e.jsxs("div",{className:`inline-flex items-center gap-2 px-4 py-1.5 rounded-full ${P.status==="Active"?"bg-emerald-50 text-emerald-600":"bg-rose-50 text-rose-600"}`,children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${P.status==="Active"?"bg-emerald-500 animate-pulse":"bg-rose-500"}`}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:P.status})]})}),e.jsxs("td",{className:"px-8 py-6 text-right",children:[e.jsxs("div",{className:"flex items-center justify-end gap-2 opacity-0 group-hover:opacity-100 transition-all scale-95 group-hover:scale-100",children:[e.jsx("button",{onClick:()=>w(P.id),className:"w-12 h-12 flex items-center justify-center bg-white border-2 border-slate-50 text-slate-400 hover:text-indigo-600 hover:border-indigo-100 rounded-xl transition-all shadow-sm",children:e.jsx(Ra,{size:16})}),e.jsx("button",{onClick:()=>R(P.id),className:"w-12 h-12 flex items-center justify-center bg-white border-2 border-slate-50 text-slate-400 hover:text-rose-600 hover:border-rose-100 rounded-xl transition-all shadow-sm",children:e.jsx(xs,{size:16})})]}),e.jsx("div",{className:"group-hover:hidden text-slate-200",children:e.jsx(LC,{size:20})})]})]},P.id))})]})}),e.jsx("div",{className:"md:hidden p-4 space-y-4",children:c&&i.length===0?e.jsx("div",{className:"py-24 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-indigo-100 border-t-indigo-600 rounded-full animate-spin"}),e.jsx("span",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Fetching Team..."})]})}):B.length===0?e.jsx("div",{className:"py-20 text-center bg-white rounded-3xl border border-slate-100",children:e.jsxs("div",{className:"flex flex-col items-center gap-4 p-8",children:[e.jsx(gy,{size:48,className:"text-slate-200"}),e.jsx("h3",{className:"text-xl font-black text-slate-800 tracking-tight",children:"No Members Found"}),e.jsx("button",{onClick:()=>{f("All Roles"),g("All"),h("")},className:"mt-4 px-6 py-2.5 bg-indigo-50 text-indigo-600 rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-indigo-600 hover:text-white transition-all",children:"Clear Filters"})]})}):B.map(P=>e.jsx(Ya,{title:P.name,subtitle:P.role,badge:P.status,badgeColor:P.status==="Active"?"emerald":"rose",fields:[{label:"Email",value:P.email,icon:_r},{label:"Phone",value:P.phone,icon:ja}],actions:[{label:"Edit",icon:Ra,onClick:()=>w(P.id),variant:"secondary"},{label:"Delete",icon:xs,onClick:()=>R(P.id),variant:"danger"}]},P.id))})]})}),e.jsx(gz,{isOpen:N.isOpen,onClose:()=>k({isOpen:!1,id:null}),onConfirm:T,title:"Remove Team Member?",message:"This action will terminate their system access immediately. This cannot be undone."}),e.jsx(rt,{isOpen:v,onClose:()=>C(!1),title:"Filter Staff",children:e.jsxs("div",{className:"h-full flex flex-col p-6",children:[e.jsx(z,{}),e.jsx("button",{onClick:()=>C(!1),className:"w-full py-5 mt-8 bg-indigo-600 text-white rounded-2xl font-black uppercase tracking-widest text-xs shadow-xl shadow-indigo-100 active:scale-95 transition-all h-14",children:"Apply Filters"})]})})]})},e5=async()=>{try{return(await ve.get("/auth/me")).data}catch(s){throw s.response?.data?.message||"Failed to fetch staff profile"}},t5=async s=>{try{return(await ve.patch("/auth/profile",s)).data}catch(t){throw t.response?.data?.message||"Failed to update staff profile"}},s5=async s=>{try{return(await ve.post("/auth/change-password",s)).data}catch(t){throw t.response?.data?.message||"Failed to change password"}},vz=async()=>{try{return(await ve.get("/staff/earnings")).data}catch(s){throw s.response?.data?.message||"Failed to fetch staff earnings"}},yz=Object.freeze(Object.defineProperty({__proto__:null,changeStaffPassword:s5,fetchStaffEarnings:vz,fetchStaffProfile:e5,updateStaffProfile:t5},Symbol.toStringTag,{value:"Module"})),jz=()=>{const[s,t]=b.useState(null),[a,l]=b.useState(!0),[i,o]=b.useState("personal"),[c,u]=b.useState(!1),[x,h]=b.useState({type:"",text:""}),[p,f]=b.useState([]),[y,g]=b.useState(!1),[v,C]=b.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[N,k]=b.useState({name:"",email:"",phone:"",address:""}),A=async()=>{try{l(!0);const O=await e5();t(O),k({name:O.name,email:O.email,phone:O.phone||"",address:O.address||""})}catch(O){console.error("Error loading staff profile:",O),h({type:"error",text:"Failed to load profile data."})}finally{l(!1)}};b.useEffect(()=>{A()},[]),b.useEffect(()=>{i==="earnings"&&(async()=>{try{g(!0);const{fetchStaffEarnings:W}=await sx(async()=>{const{fetchStaffEarnings:z}=await Promise.resolve().then(()=>yz);return{fetchStaffEarnings:z}},void 0),B=await W();f(B)}catch(W){console.error("Error loading earnings:",W)}finally{g(!1)}})()},[i]);const E=O=>{const{name:W,value:B}=O.target;k(z=>({...z,[W]:B}))},w=async O=>{O.preventDefault(),u(!0),h({type:"",text:""});try{const W=await t5(N);t(W),h({type:"success",text:"Profile updated successfully!"})}catch{h({type:"error",text:"Failed to update profile."})}finally{u(!1)}},R=async O=>{if(O.preventDefault(),v.newPassword!==v.confirmPassword){h({type:"error",text:"Passwords do not match!"});return}try{u(!0),h({type:"",text:""}),await s5({currentPassword:v.currentPassword,newPassword:v.newPassword}),h({type:"success",text:"Password changed successfully!"}),C({currentPassword:"",newPassword:"",confirmPassword:""})}catch(W){h({type:"error",text:W.toString()})}finally{u(!1)}},T=[{id:"personal",label:"Personal Info",icon:lt},{id:"earnings",label:"My Payslips",icon:Hs},{id:"security",label:"Security",icon:Pa},{id:"notifications",label:"Notifications",icon:wn}];return a?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh]",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-violet-600 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"mt-4 text-violet-600 font-bold bg-violet-50 px-4 py-2 rounded-xl animate-pulse",children:"Loading profile..."})]}):s?e.jsx("div",{className:"p-6 md:p-8 bg-gradient-to-br from-slate-50 via-white to-violet-50/30 min-h-screen font-sans animate-fadeIn",children:e.jsxs("div",{className:"max-w-5xl mx-auto space-y-8",children:[e.jsxs("div",{className:"group relative bg-white rounded-[40px] border border-slate-100 shadow-2xl overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-600 via-purple-600 to-fuchsia-600 opacity-95"}),e.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-10"}),e.jsx("div",{className:"relative px-8 pb-8 pt-32",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-end gap-8 -mt-20",children:[e.jsxs("div",{className:"relative group/avatar",children:[e.jsx("div",{className:"w-40 h-40 rounded-[32px] bg-white p-2 shadow-2xl transform group-hover/avatar:scale-105 transition-transform duration-300 rotate-3 group-hover/avatar:rotate-0",children:e.jsx("div",{className:"w-full h-full rounded-[24px] bg-gradient-to-br from-violet-100 to-purple-100 flex items-center justify-center text-violet-600 text-6xl font-black shadow-inner",children:s.avatar||s.avatarSeed||s.name.charAt(0)})}),e.jsx("button",{className:"absolute bottom-2 right-2 p-3 bg-white rounded-2xl shadow-lg border border-slate-100 text-violet-600 hover:bg-violet-50 hover:scale-110 active:scale-95 transition-all",children:e.jsx(Qo,{size:20,strokeWidth:2.5})})]}),e.jsxs("div",{className:"flex-1 pb-4 text-white",children:[e.jsx("h1",{className:"text-4xl font-black tracking-tight mb-3 drop-shadow-md",children:s.name}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx("span",{className:"inline-flex items-center px-4 py-1.5 rounded-full bg-white/20 backdrop-blur-md text-white text-xs font-bold border border-white/30 shadow-sm",children:s.role?.replace("_"," ")||"Staff"}),e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-4 py-1.5 rounded-full bg-emerald-500/20 backdrop-blur-md text-emerald-100 text-xs font-bold border border-emerald-400/30 shadow-sm",children:[e.jsx(It,{size:14,className:"text-emerald-300"})," ",s.status||"Active"]}),e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-4 py-1.5 rounded-full bg-white/10 backdrop-blur-md text-violet-100 text-xs font-bold border border-white/20 shadow-sm",children:[e.jsx(Xe,{size:14,className:"text-violet-200"})," Member since ",s.joinedDate?new Date(s.joinedDate).toLocaleDateString():"N/A"]})]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsx("div",{className:"lg:col-span-1 space-y-3",children:T.map(O=>e.jsxs("button",{onClick:()=>o(O.id),className:`w-full flex items-center gap-4 px-6 py-4 rounded-2xl text-sm font-bold transition-all duration-300 ${i===O.id?"bg-gradient-to-r from-violet-600 to-purple-600 text-white shadow-xl shadow-violet-200 transform scale-105":"bg-white text-slate-500 hover:bg-violet-50 hover:text-violet-700 shadow-sm border border-slate-100"}`,children:[e.jsx(O.icon,{size:20,strokeWidth:2.5}),O.label]},O.id))}),e.jsx("div",{className:"lg:col-span-3",children:e.jsxs("div",{className:"bg-white rounded-[40px] border border-slate-100 shadow-xl p-8 md:p-10 animate-in slide-in-from-right duration-500 relative overflow-hidden min-h-[400px]",children:[i==="personal"&&e.jsxs("form",{onSubmit:w,className:"space-y-8 relative z-10",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-3 group",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest px-1",children:"Full Name"}),e.jsxs("div",{className:"relative",children:[e.jsx(lt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:20}),e.jsx("input",{type:"text",name:"name",value:N.name,onChange:E,className:"w-full pl-12 pr-4 h-14 bg-slate-50 border-2 border-slate-100 rounded-2xl font-bold text-slate-700 focus:bg-white focus:border-violet-500 transition-all"})]})]}),e.jsxs("div",{className:"space-y-3 group",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest px-1",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(_r,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:20}),e.jsx("input",{type:"email",name:"email",value:N.email,className:"w-full pl-12 pr-4 h-14 bg-slate-50 border-2 border-slate-100 rounded-2xl font-bold text-slate-700",disabled:!0})]})]})]}),e.jsx("button",{type:"submit",disabled:c,className:"px-8 py-4 bg-violet-600 text-white rounded-2xl font-black shadow-lg",children:c?"Saving...":"Save Changes"})]}),i==="earnings"&&e.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[e.jsx("h3",{className:"text-2xl font-black text-slate-800 mb-6",children:"Payroll History"}),y?e.jsx("div",{className:"flex justify-center py-20",children:e.jsx("div",{className:"w-10 h-10 border-4 border-violet-600 border-t-transparent rounded-full animate-spin"})}):p.length>0?e.jsx("div",{className:"space-y-4",children:p.map(O=>e.jsxs("div",{className:"group p-6 rounded-3xl border border-slate-100 bg-slate-50/50 hover:bg-white hover:shadow-xl hover:border-violet-100 transition-all duration-300 flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-violet-100 flex items-center justify-center text-violet-600",children:e.jsx(Hs,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-black text-slate-800",children:O.month}),e.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:O.status})]})]}),e.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-8",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-xl font-black text-slate-900",children:["",O.total.toLocaleString()]}),e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-tight",children:"Net Payable"})]}),e.jsx("button",{className:"p-3 rounded-xl bg-white border border-slate-100 text-slate-400 hover:text-violet-600 hover:border-violet-200 hover:shadow-sm transition-all",onClick:()=>alert("Download coming soon!"),children:e.jsx(xa,{size:20})})]})]},O.id))}):e.jsxs("div",{className:"text-center py-20 bg-slate-50 rounded-[32px] border-2 border-dashed border-slate-200",children:[e.jsx("div",{className:"w-16 h-16 bg-white rounded-2xl shadow-sm flex items-center justify-center text-slate-300 mx-auto mb-4",children:e.jsx(It,{size:32})}),e.jsx("p",{className:"text-slate-500 font-bold",children:"No payroll records found yet."}),e.jsx("p",{className:"text-slate-400 text-xs mt-1",children:"Payrolls appear here once created by the administrator."})]})]}),i==="security"&&e.jsxs("div",{className:"space-y-8 animate-fadeIn",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-3 bg-violet-100 text-violet-600 rounded-2xl",children:e.jsx(Os,{size:24})}),e.jsx("h3",{className:"text-2xl font-black text-slate-800",children:"Security Settings"})]}),e.jsxs("form",{onSubmit:R,className:"space-y-6 max-w-md",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest px-1",children:"Current Password"}),e.jsx("input",{type:"password",required:!0,value:v.currentPassword,onChange:O=>C({...v,currentPassword:O.target.value}),className:"w-full px-6 h-14 bg-slate-50 border-2 border-slate-100 rounded-2xl font-bold text-slate-700 focus:bg-white focus:border-violet-500 transition-all",placeholder:""})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest px-1",children:"New Password"}),e.jsx("input",{type:"password",required:!0,value:v.newPassword,onChange:O=>C({...v,newPassword:O.target.value}),className:"w-full px-6 h-14 bg-slate-50 border-2 border-slate-100 rounded-2xl font-bold text-slate-700 focus:bg-white focus:border-violet-500 transition-all",placeholder:""})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest px-1",children:"Confirm New Password"}),e.jsx("input",{type:"password",required:!0,value:v.confirmPassword,onChange:O=>C({...v,confirmPassword:O.target.value}),className:"w-full px-6 h-14 bg-slate-50 border-2 border-slate-100 rounded-2xl font-bold text-slate-700 focus:bg-white focus:border-violet-500 transition-all",placeholder:""})]}),x.text&&i==="security"&&e.jsxs("div",{className:`p-4 rounded-2xl text-sm font-bold flex items-center gap-3 ${x.type==="success"?"bg-emerald-50 text-emerald-600 border border-emerald-100":"bg-rose-50 text-rose-600 border border-rose-100"}`,children:[x.type==="success"?e.jsx(Zt,{size:18}):e.jsx(cl,{size:18}),x.text]}),e.jsx("button",{type:"submit",disabled:c,className:"w-full py-4 bg-violet-600 text-white rounded-2xl font-black shadow-lg shadow-violet-200 hover:bg-violet-700 hover:scale-[1.02] active:scale-95 transition-all disabled:opacity-50",children:c?"Updating...":"Update Password"})]})]}),i==="notifications"&&e.jsx("div",{className:"p-8 text-center bg-slate-50 rounded-3xl",children:"Notification preferences coming soon."})]})})]})]})}):e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] gap-4",children:[e.jsx("div",{className:"w-16 h-16 bg-red-50 rounded-full flex items-center justify-center",children:e.jsx(Pa,{size:32,className:"text-red-400"})}),e.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Could Not Load Profile"}),e.jsx("p",{className:"text-slate-500 text-sm text-center max-w-xs",children:x.text||"There was an error fetching your profile. Please try refreshing the page."}),e.jsx("button",{onClick:A,className:"px-6 py-2.5 bg-violet-600 text-white rounded-xl text-sm font-bold hover:bg-violet-700 transition-all",children:"Retry"})]})},Zy=({trigger:s,children:t,className:a})=>{const[l,i]=b.useState(!1),[o,c]=b.useState({top:0,left:0}),u=b.useRef(null),x=b.useRef(null),h=()=>{if(u.current&&l){const f=u.current.getBoundingClientRect(),y=window.scrollX||window.pageXOffset,g=window.scrollY||window.pageYOffset;c({top:f.bottom+g+8,left:f.right+y})}};b.useEffect(()=>{h()},[l]),b.useEffect(()=>{if(l)return window.addEventListener("scroll",h,!0),window.addEventListener("resize",h),()=>{window.removeEventListener("scroll",h,!0),window.removeEventListener("resize",h)}},[l]),b.useEffect(()=>{const f=y=>{u.current&&!u.current.contains(y.target)&&x.current&&!x.current.contains(y.target)&&i(!1)};return l&&document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[l]);const p=()=>l?Xj.createPortal(e.jsx("div",{ref:x,style:{position:"absolute",top:`${o.top}px`,left:`${o.left}px`,transform:"translateX(-100%)",zIndex:9999,animation:"dropdownFadeIn 0.2s ease-out"},className:"bg-white rounded-2xl shadow-xl border border-gray-100 py-2 w-48",onClick:()=>i(!1),children:t}),document.body):null;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`relative ${a}`,ref:u,onClick:f=>{f.stopPropagation(),i(!l)},children:s}),e.jsx(p,{}),e.jsx("style",{children:`
                @keyframes dropdownFadeIn {
                    from { opacity: 0; transform: translateX(-100%) scale(0.95); }
                    to { opacity: 1; transform: translateX(-100%) scale(1); }
                }
            `})]})},wz=({memberId:s,onClose:t})=>{const a=Ht(),l=Pr(),[i,o]=b.useState("overview"),[c,u]=b.useState(null),[x,h]=b.useState([]),[p,f]=b.useState(null),[y,g]=b.useState(!0),v=s||l.state?.memberId||1;b.useEffect(()=>{C()},[v]);const C=async()=>{g(!0);try{const k=await eL(v),A=await uL(v),E=await XN(v);u(k),h(A||[]),f(E)}catch(k){console.error("Failed to load member profile data:",k)}finally{g(!1)}},N=[{id:"overview",label:"Overview"},{id:"attendance",label:"Payments & Records"},{id:"workouts",label:"Workouts"},{id:"measurements",label:"Body Stats"}];return y?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"mt-4 text-gray-500 font-medium",children:"Loading profile..."})]}):c?e.jsxs("div",{className:`flex flex-col gap-6 animate-in fade-in slide-in-from-bottom-4 duration-500 ${t?"p-0":"p-4 md:p-6 lg:p-8 max-w-[1600px] mx-auto pb-12"}`,children:[e.jsxs("div",{className:"flex flex-col gap-6",children:[!t&&e.jsxs("button",{onClick:()=>a("/trainer/members/assigned"),className:"flex items-center gap-2 text-gray-500 hover:text-blue-600 transition-colors w-fit group",children:[e.jsx("div",{className:"p-1.5 bg-white border border-gray-200 rounded-lg group-hover:bg-blue-50 group-hover:border-blue-200 transition-all",children:e.jsx(Xr,{size:18})}),e.jsx("span",{className:"text-sm font-bold",children:"Back to Members"})]}),e.jsxs("div",{className:"bg-white p-4 md:p-8 rounded-3xl border border-gray-100 shadow-sm flex flex-col md:flex-row items-center md:items-start gap-6 md:gap-8 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-blue-50 rounded-bl-[100px] -mr-8 -mt-8 opacity-50"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"w-24 h-24 md:w-32 md:h-32 rounded-3xl bg-gradient-to-br from-blue-600 to-indigo-700 flex items-center justify-center text-white text-4xl font-bold shadow-xl shadow-blue-200 group-hover:scale-105 group-hover:rotate-2 transition-all duration-300",children:(c.name||"?").charAt(0)}),e.jsx("div",{className:"absolute -bottom-2 -right-2 bg-green-500 border-4 border-white w-8 h-8 rounded-full flex items-center justify-center shadow-sm",children:e.jsx(Cn,{size:14,className:"text-white"})})]}),e.jsxs("div",{className:"flex-1 text-center md:text-left",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-2 md:gap-4 mb-2",children:[e.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 tracking-tight",children:c.name}),e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full bg-green-50 text-green-700 text-xs font-bold border border-green-100 mx-auto md:mx-0",children:c.status})]}),e.jsxs("p",{className:"text-gray-500 font-medium mb-4",children:[c.id,"  ",typeof c.plan=="object"?c.plan?.name:c.plan||"No Active Plan"]}),e.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:e.jsxs("div",{className:"flex flex-wrap justify-center md:justify-start gap-4 text-sm font-semibold",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(_r,{size:16,className:"text-blue-500"}),c.email]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(ja,{size:16,className:"text-blue-500"}),c.phone]})]})})]})]})]}),e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[{label:"Attendance",value:`${c.attendance}%`,icon:It,color:"blue"},{label:"Sessions",value:`${c.sessionsDone}/${c.totalSessions}`,icon:Nn,color:"purple"},{label:"Next Renewal",value:"15 Oct",icon:Xe,color:"orange"},{label:"Avg Effort",value:"High",icon:Qs,color:"green"}].map((k,A)=>e.jsxs("div",{className:"bg-white p-5 rounded-3xl border border-gray-100 shadow-sm hover:shadow-xl hover:-translate-y-2 transition-all duration-300 cursor-pointer group",children:[e.jsx("div",{className:`w-10 h-10 rounded-2xl bg-${k.color}-50 flex items-center justify-center text-${k.color}-600 mb-3 group-hover:rotate-12 group-hover:scale-110 transition-all duration-300`,children:e.jsx(k.icon,{size:20})}),e.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest group-hover:text-gray-600 transition-colors",children:k.label}),e.jsx("p",{className:"text-xl font-black text-gray-900 mt-1 group-hover:scale-110 transition-transform",children:k.value})]},A))}),e.jsxs("div",{className:"bg-white rounded-[32px] border border-gray-100 shadow-sm overflow-hidden min-h-[400px]",children:[e.jsx("div",{className:"flex border-b border-gray-100 overflow-x-auto no-scrollbar scroll-smooth",children:N.map(k=>e.jsxs("button",{onClick:()=>o(k.id),className:`px-8 py-5 text-sm font-bold whitespace-nowrap transition-all duration-300 relative hover:scale-105 ${i===k.id?"text-blue-600":"text-gray-400 hover:text-gray-600"}`,children:[k.label,i===k.id&&e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-blue-600 rounded-t-full animate-in slide-in-from-left duration-300"})]},k.id))}),e.jsxs("div",{className:"p-4 md:p-8",children:[i==="overview"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 animate-in fade-in duration-300",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest mb-4",children:"Training Goal"}),e.jsxs("div",{className:"bg-blue-50/50 p-6 rounded-3xl border border-blue-100/50",children:[e.jsx("p",{className:"text-lg font-bold text-blue-900",children:c.goal}),e.jsx("p",{className:"text-blue-700/70 text-sm mt-1 leading-relaxed",children:"Focusing on compound movements with progressive overload. Current cycle aims for muscle density and neural adaptation."})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest mb-4",children:"Active Protocols"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-fuchsia-50/50 p-5 rounded-3xl border border-fuchsia-100/50 transition-all hover:shadow-md hover:border-fuchsia-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-fuchsia-600 bg-fuchsia-100 px-2 py-1 rounded-lg",children:"Workout Plan"})}),e.jsx("p",{className:"font-bold text-gray-900 truncate",children:c.activeWorkoutPlan?c.activeWorkoutPlan.name:"N/A"}),e.jsx("p",{className:"text-xs text-fuchsia-600/70 font-bold mt-1 uppercase tracking-widest truncate",children:c.activeWorkoutPlan?c.activeWorkoutPlan.goal:"No plan assigned"})]}),e.jsxs("div",{className:"bg-violet-50/50 p-5 rounded-3xl border border-violet-100/50 transition-all hover:shadow-md hover:border-violet-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-violet-600 bg-violet-100 px-2 py-1 rounded-lg",children:"Diet Plan"})}),e.jsx("p",{className:"font-bold text-gray-900 truncate",children:c.activeDietPlan?c.activeDietPlan.name:"N/A"}),e.jsx("p",{className:"text-xs text-violet-600/70 font-bold mt-1 uppercase tracking-widest truncate",children:c.activeDietPlan?c.activeDietPlan.target:"No plan assigned"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest mb-4",children:"Recent Sessions"}),e.jsx("div",{className:"space-y-3",children:c.recentWorkouts?.length>0?c.recentWorkouts.slice(0,3).map(k=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-2xl border border-gray-100 group hover:border-blue-200 hover:bg-blue-50/30 hover:shadow-md hover:-translate-y-0.5 transition-all duration-200 cursor-pointer",children:[e.jsxs("div",{className:"flex items-center gap-4 overflow-hidden",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-white border border-gray-100 flex items-center justify-center text-gray-600 group-hover:scale-110 group-hover:rotate-6 transition-all duration-300 flex-shrink-0",children:e.jsx(Vr,{size:18})}),e.jsxs("div",{className:"overflow-hidden",children:[e.jsx("p",{className:"font-bold text-gray-800 truncate",children:k.name}),e.jsxs("p",{className:"text-xs text-gray-500 font-medium truncate",children:[k.date,"  ",k.duration]})]})]}),e.jsx("span",{className:`px-2 py-0.5 rounded-lg text-[10px] font-black uppercase text-gray-600 border flex-shrink-0 ml-2 ${k.status==="Completed"?"bg-green-50 text-green-600 border-green-100":"bg-gray-100 border-gray-200"}`,children:k.status})]},k.id)):e.jsx("p",{className:"text-sm font-medium text-gray-400",children:"No recent sessions."})})]})]}),e.jsx("div",{className:"space-y-8",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest mb-4",children:"Membership Info"}),e.jsxs("div",{className:"bg-white rounded-3xl border border-gray-100 p-6 space-y-4 hover:shadow-lg hover:-translate-y-1 transition-all duration-300",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-bold text-gray-500 inline-flex items-center gap-2",children:[e.jsx(Xe,{size:14})," Plan Expiry"]}),e.jsx("span",{className:"text-sm font-bold text-gray-900",children:c.expiry})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-bold text-gray-500 inline-flex items-center gap-2",children:[e.jsx(Ws,{size:14})," Primary Hub"]}),e.jsx("span",{className:"text-sm font-bold text-gray-900",children:c.location})]}),e.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-50",children:[e.jsx("span",{className:"text-sm font-bold text-gray-500",children:"Auto-Renew"}),e.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 rounded-lg text-[10px] font-black uppercase",children:"Enabled"})]})]})]})})]}),i==="attendance"&&e.jsx("div",{className:"space-y-8 animate-in fade-in duration-300",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest mb-4",children:"Payment History (Read-only)"}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 overflow-hidden shadow-sm",children:[e.jsxs("table",{className:"w-full text-left hidden md:table",children:[e.jsx("thead",{className:"bg-gray-50/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 uppercase",children:"Date"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 uppercase",children:"Amount"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 uppercase",children:"Method"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 uppercase",children:"Status"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-50",children:x.length>0?x.map(k=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-700",children:k.date}),e.jsxs("td",{className:"px-6 py-4 text-sm font-bold text-gray-900",children:["",k.amount]}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:k.method}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"px-2 py-0.5 bg-green-50 text-green-600 rounded-lg text-[10px] font-black uppercase border border-green-100",children:k.status})})]},k.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"text-center py-6 text-sm font-medium text-gray-400",children:"No payments found."})})})]}),e.jsx("div",{className:"md:hidden divide-y divide-gray-50",children:x.map(k=>e.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-50 flex items-center justify-center text-blue-600",children:e.jsx(Rs,{size:18})}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-bold text-gray-900",children:["",k.amount]}),e.jsx("p",{className:"text-xs text-gray-500 font-medium",children:k.date})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"px-2 py-0.5 bg-green-50 text-green-600 rounded-lg text-[10px] font-black uppercase border border-green-100 block w-fit ml-auto mb-1",children:k.status}),e.jsx("p",{className:"text-xs text-gray-400 font-medium",children:k.method})]})]},k.id))})]})]})}),i==="workouts"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 animate-in fade-in duration-300",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest",children:"Workout History"}),e.jsx("button",{className:"text-sm font-bold text-blue-600 hover:text-blue-700",children:"View All"})]}),e.jsx("div",{className:"space-y-4",children:c.recentWorkouts?.length>0?c.recentWorkouts.map((k,A)=>e.jsxs("div",{className:"flex items-center justify-between p-5 bg-gray-50 rounded-2xl border border-gray-100 group hover:bg-white hover:border-blue-100 hover:shadow-lg transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-white border border-gray-200 flex items-center justify-center text-blue-600 group-hover:scale-110 group-hover:bg-blue-600 group-hover:text-white transition-all duration-300 shadow-sm",children:e.jsx(Vr,{size:20})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900 text-lg",children:k.name}),e.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs font-semibold text-gray-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Xe,{size:12})," ",k.date]}),e.jsx("span",{className:"w-1 h-1 rounded-full bg-gray-300"}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ze,{size:12})," ",k.duration]})]})]})]}),e.jsxs("div",{className:"text-right hidden sm:block",children:[e.jsx("p",{className:"text-xl font-black text-gray-900",children:k.calories}),e.jsx("p",{className:"text-[10px] uppercase font-bold text-gray-400 tracking-wider",children:"Calories"}),e.jsx("span",{className:`px-2 py-0.5 mt-1 block w-fit ml-auto rounded-lg text-[10px] font-black uppercase border ${k.status==="Completed"||k.status==="Attended"?"bg-green-50 text-green-600 border-green-100":"bg-orange-50 text-orange-600 border-orange-100"}`,children:k.status})]})]},A)):e.jsx("div",{className:"text-center py-8 text-gray-400 font-bold uppercase tracking-widest text-xs",children:"No workout history available"})})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest mb-4",children:"Weekly Stats"}),e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 rounded-3xl p-6 text-white shadow-xl",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-3 rounded-xl bg-white/10 backdrop-blur-sm",children:e.jsx(It,{size:24,className:"text-blue-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400 font-medium",children:"Total Volume"}),e.jsx("p",{className:"text-2xl font-bold",children:c.workoutStats?.totalVolume||"0 kg"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center text-sm border-b border-white/10 pb-3",children:[e.jsx("span",{className:"text-gray-400",children:"Workouts"}),e.jsx("span",{className:"font-bold text-xl",children:c.workoutStats?.workouts||0})]}),e.jsxs("div",{className:"flex justify-between items-center text-sm border-b border-white/10 pb-3",children:[e.jsx("span",{className:"text-gray-400",children:"Duration"}),e.jsx("span",{className:"font-bold text-xl",children:c.workoutStats?.duration||"0h"})]}),e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Intensity"}),e.jsx("span",{className:"px-2 py-0.5 rounded-lg bg-green-500/20 text-green-400 font-bold uppercase text-xs",children:c.workoutStats?.intensity||"N/A"})]})]})]})]})})]}),i==="measurements"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 animate-in fade-in duration-300",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest",children:"Core Metrics"}),e.jsxs("button",{onClick:()=>a(`/progress?memberId=${c.id}`),className:"px-4 py-2 bg-violet-600 text-white rounded-xl text-[10px] font-black uppercase tracking-widest flex items-center gap-2 hover:bg-violet-700 transition-all shadow-lg shadow-violet-200",children:[e.jsx(wt,{size:14})," Manage Progress"]})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:(()=>{const k=p?.logs||[],A=p?.targets||{},E=k.length>0,w=E?k[k.length-1]:{},R=E&&k.length>1?k[k.length-2]:null,T=(W,B)=>{if(B==null)return"0.0";const z=(parseFloat(W)||0)-(parseFloat(B)||0);return(z>=0?"+":"")+z.toFixed(1)};return[{label:"Weight",value:parseFloat(w.weight||0).toFixed(1),unit:"kg",change:T(w.weight,R?.weight),isPositive:(parseFloat(w.weight)||0)<=(parseFloat(R?.weight)||0)},{label:"Body Fat",value:parseFloat(w.bodyFat||0).toFixed(1),unit:"%",change:T(w.bodyFat,R?.bodyFat),isPositive:(parseFloat(w.bodyFat)||0)<=(parseFloat(R?.bodyFat)||0)},{label:"Target Wt",value:parseFloat(A.weight||0).toFixed(1),unit:"kg",change:"Goal",isPositive:!0},{label:"Target BF",value:parseFloat(A.bodyFat||0).toFixed(1),unit:"%",change:"Goal",isPositive:!0}].map((W,B)=>e.jsxs("div",{className:"bg-gray-50 p-4 rounded-2xl border border-gray-100 hover:bg-blue-50/50 hover:border-blue-100 transition-all cursor-default",children:[e.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-1",children:W.label}),e.jsxs("div",{className:"flex items-baseline gap-1",children:[e.jsx("span",{className:"text-2xl font-black text-gray-900",children:W.value}),e.jsx("span",{className:"text-xs font-bold text-gray-500",children:W.unit})]}),e.jsx("div",{className:`text-xs font-bold mt-2 ${W.isPositive?"text-green-600":"text-red-600"}`,children:W.change})]},B))})()}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest mb-6 py-2",children:"Body Measurements"}),e.jsx("div",{className:"space-y-5",children:(()=>{const k=p?.logs||[],A=k.length>0,E=A?k[k.length-1]?.measurements||{}:{},w=A&&k.length>1?k[k.length-2]?.measurements||{}:{};return[{label:"Chest",key:"chest",goal:105},{label:"Waist",key:"waist",goal:80},{label:"Arms",key:"arms",goal:40},{label:"Legs",key:"legs",goal:65}].map((T,O)=>{const W=parseFloat(E[T.key]||0),B=parseFloat(w[T.key]||0),z=Math.min(W/(T.goal||1)*100,100);return e.jsxs("div",{className:"bg-white rounded-xl",children:[e.jsxs("div",{className:"flex justify-between items-end mb-2",children:[e.jsx("span",{className:"font-bold text-gray-700",children:T.label}),e.jsxs("div",{className:"flex gap-4 text-xs font-medium text-gray-500",children:[e.jsxs("span",{children:["Prev: ",B,"cm"]}),e.jsxs("span",{className:"text-blue-600 font-bold",children:["Goal: ",T.goal,"cm"]})]})]}),e.jsx("div",{className:"h-3 bg-gray-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-indigo-600 rounded-full transition-all duration-1000",style:{width:`${z}%`}})}),e.jsxs("div",{className:"mt-1 text-right text-xs font-bold text-gray-900",children:[W," cm"]})]},O)})})()})]})]}),e.jsx("div",{className:"space-y-6",children:(()=>{const k=p?.logs||[],A=k.length>0?k[k.length-1]:{},E=parseFloat(A.weight||0),w=parseFloat(A.measurements?.height||175),R=E>0?(E/Math.pow(w/100,2)).toFixed(1):"N/A";let T="Unknown",O=0;if(R!=="N/A"){const W=parseFloat(R);W<18.5?(T="Underweight",O=20):W<25?(T="Healthy Weight",O=50):(T="Overweight",O=80)}return e.jsxs("div",{className:"bg-blue-600 rounded-[32px] p-6 text-white shadow-xl shadow-blue-200",children:[e.jsx("h3",{className:"font-bold text-xl mb-2",children:"BMI Calculator"}),e.jsx("p",{className:"text-blue-100 text-sm mb-6",children:"Based on latest measurements"}),e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-bold text-blue-200",children:"Current Score"}),e.jsx("span",{className:"text-3xl font-black",children:R})]}),e.jsxs("div",{className:"w-full h-4 bg-black/20 rounded-full overflow-hidden mb-2 relative",children:[e.jsx("div",{className:"absolute left-[30%] right-[30%] top-0 bottom-0 border-x-2 border-white/50"}),e.jsx("div",{className:"h-full bg-white/90 rounded-full transition-all duration-1000",style:{width:`${O}%`}})]}),e.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-blue-200 uppercase tracking-widest",children:[e.jsx("span",{children:"Under"}),e.jsx("span",{children:"Normal"}),e.jsx("span",{children:"Over"})]}),e.jsx("div",{className:"mt-6 pt-6 border-t border-white/20",children:e.jsx("p",{className:"text-sm font-medium leading-relaxed",children:R==="N/A"?"Record your weight and height in progress tracking to see your BMI.":e.jsxs(e.Fragment,{children:["Your BMI suggests you are in a ",e.jsx("span",{className:"font-black text-white",children:T})," range."]})})})]})})()})]})]})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 py-4 px-6 bg-gray-100/50 rounded-2xl border border-gray-200 w-fit mx-auto",children:[e.jsx(Cn,{size:16,className:"text-gray-400"}),e.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Trainee Profile  Read Only Mode"})]})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px] text-center p-6",children:[e.jsx("div",{className:"w-16 h-16 bg-red-50 text-red-500 rounded-full flex items-center justify-center mb-4",children:e.jsx(ms,{size:32})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Member Not Found"}),e.jsx("p",{className:"text-gray-500 mt-2 max-w-xs",children:"The profile you are looking for might have been removed or the ID is incorrect."}),e.jsx("div",{className:"flex gap-4 mt-6",children:t?e.jsx("button",{onClick:t,className:"px-6 py-2.5 bg-gray-900 text-white rounded-xl font-bold hover:bg-gray-800 transition-all",children:"Close"}):e.jsx("button",{onClick:()=>a("/trainer/members/assigned"),className:"px-6 py-2.5 bg-gray-900 text-white rounded-xl font-bold hover:bg-gray-800 transition-all",children:"Back to List"})})]})},Nz=({isOpen:s,onClose:t,memberName:a,memberId:l})=>{const[i,o]=b.useState(""),[c,u]=b.useState(null),[x,h]=b.useState(null),[p,f]=b.useState(""),[y,g]=b.useState(""),[v,C]=b.useState(""),[N,k]=b.useState([]),[A,E]=b.useState(!1);b.useEffect(()=>{s?w():(o(""),u(null),h(null),f(""),g(""),C(""))},[s]);const w=async()=>{E(!0);try{const[O,W]=await Promise.all([yN(),jN()]),B=O.map(P=>({...P,type:"Diet"})),z=W.map(P=>({...P,type:"Workout"}));k([...B,...z])}catch{Ve.error("Failed to load trainer plans")}finally{E(!1)}},R=N.filter(O=>O.name.toLowerCase().includes(i.toLowerCase())||O.type.toLowerCase().includes(i.toLowerCase())),T=async()=>{const O={planId:c,type:x,startDate:p,endDate:y,notes:v};try{await wN(l,O),Ve.success(`Plan assigned to ${a} successfully!`),t()}catch(W){Ve.error(W.message||"Failed to assign plan")}};return e.jsx(rt,{isOpen:s,onClose:t,title:`Assign Plan to ${a}`,subtitle:"Configure plan duration and specific notes",maxWidth:"max-w-xl",children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex-1 overflow-y-auto pr-2 custom-scrollbar space-y-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 pl-1 flex items-center gap-2",children:[e.jsx(ll,{size:14})," Select Protocol"]}),e.jsx("span",{className:"text-[10px] font-black text-indigo-500 bg-indigo-50 px-2 py-0.5 rounded-md uppercase tracking-widest",children:"Trainer Plans only"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(st,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-300",size:16}),e.jsx("input",{type:"text",placeholder:"Search your diet or workout plans...",className:"w-full pl-10 pr-4 py-3 bg-slate-50 border-none rounded-2xl text-sm font-bold focus:ring-2 focus:ring-indigo-500 outline-none transition-all",value:i,onChange:O=>o(O.target.value)})]}),e.jsx("div",{className:"grid grid-cols-1 gap-3 max-h-[300px] overflow-y-auto pr-1",children:A?e.jsx("div",{className:"p-4 text-center text-xs font-bold text-slate-400",children:"Loading plans..."}):R.length===0?e.jsx("div",{className:"p-4 text-center text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"No plans found. Please create plans from your Dashboard first."}):R.map(O=>{const W=c===O.id;return e.jsxs("button",{onClick:()=>{u(O.id),h(O.type)},className:`p-4 rounded-2xl border transition-all text-left flex items-center justify-between group ${W?"bg-indigo-600 border-indigo-600 shadow-lg shadow-indigo-100":"bg-white border-slate-100 hover:border-indigo-200 hover:bg-slate-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center font-black text-[10px] uppercase ${W?"bg-white/20 text-white":"bg-slate-100 text-slate-500"}`,children:O.type?.charAt(0)||"?"}),e.jsxs("div",{children:[e.jsx("p",{className:`font-black text-sm uppercase tracking-tight ${W?"text-white":"text-slate-800"}`,children:O.name}),e.jsx("div",{className:"flex items-center gap-2 mt-0.5",children:e.jsxs("span",{className:`text-[10px] font-bold uppercase tracking-widest opacity-60 ${W?"text-white":"text-slate-400"}`,children:[O.type,"  ",O.duration]})})]})]}),W&&e.jsx(wr,{size:18,className:"text-white",strokeWidth:3})]},O.id)})})]}),e.jsxs("div",{className:"bg-slate-50 p-6 rounded-[32px] border border-slate-100 space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-white text-indigo-600 rounded-xl flex items-center justify-center shadow-sm",children:e.jsx(Xe,{size:16})}),e.jsx("h3",{className:"text-sm font-black text-slate-900 uppercase tracking-widest",children:"Protocol Timeline"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 pl-1",children:"Start Date"}),e.jsx("input",{type:"date",className:"w-full h-12 bg-white border border-slate-200 rounded-xl px-4 text-sm font-bold focus:border-indigo-500 outline-none transition-all",value:p,onChange:O=>f(O.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 pl-1",children:"End Date"}),e.jsx("input",{type:"date",className:"w-full h-12 bg-white border border-slate-200 rounded-xl px-4 text-sm font-bold focus:border-indigo-500 outline-none transition-all",value:y,onChange:O=>g(O.target.value)})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 pl-1",children:"Coach's Directive (Optional)"}),e.jsxs("div",{className:"relative",children:[e.jsx(Sn,{className:"absolute left-3 top-3 text-slate-300",size:16}),e.jsx("textarea",{placeholder:"Add specific instructions, focus points or motivational notes for the athlete...",className:"w-full h-24 pl-10 pr-4 py-3 bg-white border border-slate-200 rounded-2xl text-sm font-medium focus:border-indigo-500 outline-none resize-none transition-all",value:v,onChange:O=>C(O.target.value)})]})]})]})]}),e.jsxs("div",{className:"border-t border-slate-100 pt-6 mt-8 flex items-center justify-between bg-white relative",children:[e.jsx("button",{onClick:t,className:"px-6 py-3.5 text-xs font-black text-slate-400 hover:text-slate-600 transition-colors uppercase tracking-widest",children:"Decline"}),e.jsxs("button",{onClick:T,disabled:!c||!p||!y,className:"px-8 py-3.5 bg-indigo-600 text-white rounded-2xl text-xs font-black uppercase tracking-widest hover:bg-indigo-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-xl shadow-indigo-100 flex items-center gap-2",children:["Confirm Assignment ",e.jsx(jn,{size:16})]})]})]})})},kz=()=>{const s=Ht(),[t,a]=b.useState([]),[l,i]=b.useState(!0),[o,c]=b.useState(""),[u,x]=b.useState("All"),[h,p]=b.useState(1),[f,y]=b.useState(6),[g,v]=b.useState(0),[C,N]=b.useState(!1),[k,A]=b.useState(null),[E,w]=b.useState(""),[R,T]=b.useState([]),[O,W]=b.useState(!1),[B,z]=b.useState(!1),[P,F]=b.useState(!1),[G,Y]=b.useState(!1),[me,H]=b.useState(!1),[V,$]=b.useState("");b.useEffect(()=>{le()},[o,u,h,f]);const le=async()=>{i(!0);const oe=await Em({filters:{search:o,status:u==="All"?"":u},page:h,limit:f});a(oe?.data||[]),v(oe?.total||0),i(!1)},ge=async K=>{A(K),N(!0),W(!0);try{const oe=await sL(K.id);T(oe||[])}catch(oe){console.error("Failed to load messages",oe)}finally{W(!1)}},te=async()=>{if(!(!E.trim()||!k))try{const K=await aL(k.id,E);T(oe=>[...oe,K]),w("")}catch(K){console.error("Failed to send message",K)}},q=K=>{c(K.target.value),p(1)},Q=K=>{if(!K)return"bg-gray-50 text-gray-600 border-gray-100";switch(K.toLowerCase()){case"active":return"bg-green-50 text-green-600 border-green-100";case"inactive":return"bg-red-50 text-red-600 border-red-100";default:return"bg-gray-50 text-gray-600 border-gray-100"}};return e.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 max-w-[1600px] mx-auto flex flex-col gap-6 animate-in fade-in duration-500",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"Assigned Members"}),e.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["Manage and track progress of your ",t.length," active trainees"]})]}),e.jsx("div",{className:"flex items-center gap-3"})]}),e.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-gray-200 shadow-sm flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(st,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:"text",placeholder:"Search by name, ID or plan...",className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border-none rounded-xl focus:ring-2 focus:ring-blue-500 transition-all outline-none",value:o,onChange:q})]}),e.jsx("div",{className:"flex gap-2 w-full sm:w-auto",children:e.jsx(ds,{options:[{value:"All",label:"All Status"},{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}],value:u,onChange:K=>{x(K),p(1)},className:"w-full sm:w-48"})})]}),l?e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"text-gray-500 font-medium",children:"Loading your members..."})]})}):t.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"hidden lg:block bg-white rounded-[32px] border border-slate-100 shadow-xl overflow-hidden",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{className:"bg-slate-50/50 border-b border-slate-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Athlete"}),e.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Current Plan"}),e.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Attendance"}),e.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Status"}),e.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:t.map(K=>e.jsxs("tr",{className:"group hover:bg-slate-50/50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-indigo-600 text-white flex items-center justify-center font-black text-sm uppercase",children:(K.name||"?").charAt(0)}),e.jsxs("div",{children:[e.jsx("p",{className:"font-black text-slate-800 text-sm uppercase tracking-tight",children:K.name}),e.jsxs("p",{className:"text-[10px] text-slate-400 font-bold",children:["Ref: ",K.id]})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex flex-col gap-1.5",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-1.5 bg-indigo-50 text-indigo-600 rounded-lg",children:e.jsx(ll,{size:14})}),e.jsx("span",{className:"text-sm font-black text-slate-700 uppercase tracking-tight truncate max-w-[150px]",children:K.plan||"No Active Plan"})]}),e.jsxs("div",{className:"flex items-center gap-1 mt-0.5",children:[K.activeDietPlan&&e.jsxs("span",{className:"text-[9px] font-black uppercase tracking-widest bg-violet-50 text-violet-600 px-1.5 py-0.5 rounded border border-violet-100 truncate max-w-[80px]",children:["Diet: ",K.activeDietPlan.name]}),K.activeWorkoutPlan&&e.jsxs("span",{className:"text-[9px] font-black uppercase tracking-widest bg-fuchsia-50 text-fuchsia-600 px-1.5 py-0.5 rounded border border-fuchsia-100 truncate max-w-[80px]",children:["W.O: ",K.activeWorkoutPlan.name]})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-black text-slate-800",children:K.attendance}),e.jsx("span",{className:"text-[10px] text-emerald-500 font-black bg-emerald-50 px-1.5 py-0.5 rounded-md",children:" 2%"})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest border ${Q(K.status)}`,children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${K.status?.toLowerCase()==="active"?"bg-emerald-500 animate-pulse":"bg-rose-500"}`}),K.status]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>{A(K),H(!0)},className:"px-4 py-2 bg-indigo-600 text-white rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-indigo-700 transition-all shadow-md shadow-indigo-100",children:"Assign Plan"}),e.jsxs(Zy,{trigger:e.jsx("button",{className:"w-8 h-8 flex items-center justify-center rounded-lg text-slate-400 hover:bg-white hover:text-indigo-600 transition-all border border-transparent hover:border-slate-100",children:e.jsx(qc,{size:18})}),children:[e.jsxs("button",{onClick:()=>{A(K),Y(!0)},className:"w-full px-4 py-2.5 text-left text-[10px] font-black text-slate-600 hover:bg-slate-50 flex items-center gap-2 uppercase tracking-widest",children:[e.jsx(qs,{size:14})," Profile"]}),e.jsxs("button",{onClick:()=>s(`/progress?memberId=${K.id}`),className:"w-full px-4 py-2.5 text-left text-[10px] font-black text-slate-600 hover:bg-slate-50 flex items-center gap-2 uppercase tracking-widest",children:[e.jsx(Qs,{size:14})," Progress"]}),e.jsxs("button",{onClick:()=>ge(K),className:"w-full px-4 py-2.5 text-left text-[10px] font-black text-slate-600 hover:bg-slate-50 flex items-center gap-2 uppercase tracking-widest",children:[e.jsx(sr,{size:14})," Chat"]}),e.jsxs("button",{onClick:()=>{A(K),z(!0)},className:"w-full px-4 py-2.5 text-left text-[10px] font-black text-slate-600 hover:bg-slate-50 flex items-center gap-2 uppercase tracking-widest",children:[e.jsx(Xe,{size:14})," Attendance"]}),e.jsx("div",{className:"h-px bg-slate-100 my-1 mx-2"}),e.jsxs("button",{onClick:()=>{A(K),F(!0)},className:"w-full px-4 py-2.5 text-left text-[10px] font-black text-rose-600 hover:bg-rose-50 flex items-center gap-2 uppercase tracking-widest",children:[e.jsx(Uh,{size:14})," Flag"]})]})]})})]},K.id))})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:hidden gap-6",children:t.map(K=>e.jsxs("div",{className:"group bg-white rounded-3xl border border-gray-100 shadow-sm hover:shadow-xl hover:border-blue-100 transition-all duration-300 flex flex-col relative",children:[e.jsxs("div",{className:"p-6 flex-1 hover:bg-slate-50/50 transition-colors duration-300",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative group/avatar",children:[e.jsxs("div",{className:"w-16 h-16 rounded-[24px] bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white font-black text-2xl shadow-xl shadow-indigo-100 group-hover/avatar:scale-110 group-hover/avatar:rotate-3 transition-all duration-500 overflow-hidden",children:[(K.name||"?").charAt(0),e.jsx("div",{className:"absolute inset-0 bg-white/20 opacity-0 group-hover/avatar:opacity-100 transition-opacity"})]}),K.isFlagged&&e.jsx("div",{className:"absolute -top-2 -right-2 p-1.5 bg-rose-500 border-2 border-white rounded-xl text-white shadow-lg animate-bounce",title:`Flagged: ${K.flagReason}`,children:e.jsx(Uh,{size:14})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-black text-slate-800 text-lg group-hover:text-indigo-600 transition-colors uppercase tracking-tight truncate max-w-[140px]",children:K.name}),e.jsxs("div",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest border mt-2 ${Q(K.status)}`,children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${K.status?.toLowerCase()==="active"?"bg-emerald-500 animate-pulse":"bg-rose-500"}`}),K.status]})]})]}),e.jsxs(Zy,{trigger:e.jsx("button",{className:"w-10 h-10 flex items-center justify-center rounded-xl text-slate-400 hover:bg-white hover:text-indigo-600 hover:shadow-md transition-all border border-transparent hover:border-slate-100",children:e.jsx(qc,{size:20})}),children:[e.jsxs("button",{onClick:oe=>{oe.stopPropagation(),s(`/progress?memberId=${K.id}`)},className:"w-full px-4 py-3 text-left text-xs font-black text-slate-600 hover:bg-slate-50 flex items-center gap-3 transition-colors uppercase tracking-widest",children:[e.jsx(Qs,{size:16,className:"text-violet-500"})," Member Progress"]}),e.jsxs("button",{onClick:oe=>{oe.stopPropagation(),A(K),z(!0)},className:"w-full px-4 py-3 text-left text-xs font-black text-slate-600 hover:bg-slate-50 flex items-center gap-3 transition-colors uppercase tracking-widest",children:[e.jsx(Xe,{size:16,className:"text-indigo-500"})," Attendance Log"]}),e.jsxs("button",{onClick:oe=>{oe.stopPropagation(),A(K),H(!0)},className:"w-full px-4 py-3 text-left text-xs font-black text-slate-600 hover:bg-slate-50 flex items-center gap-3 transition-colors uppercase tracking-widest",children:[e.jsx(Nl,{size:16,className:"text-indigo-600"})," Assign Plan"]}),e.jsx("div",{className:"h-px bg-slate-100 my-1 mx-2"}),e.jsxs("button",{onClick:oe=>{oe.stopPropagation(),A(K),F(!0)},className:"w-full px-4 py-3 text-left text-xs font-black text-rose-600 hover:bg-rose-50 flex items-center gap-3 transition-colors uppercase tracking-widest",children:[e.jsx(Uh,{size:16,className:"text-rose-500"})," Flag Status"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-slate-50/80 p-4 rounded-2xl border border-slate-100/50 group-hover:bg-white transition-colors duration-500",children:[e.jsx("p",{className:"text-[10px] text-slate-400 font-black uppercase tracking-widest mb-2",children:"Attendance"}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("p",{className:"text-2xl font-black text-slate-800",children:K.attendance}),e.jsx("p",{className:"text-[10px] text-emerald-500 font-black bg-emerald-50 px-1.5 py-0.5 rounded-md",children:" 2%"})]})]}),e.jsxs("div",{className:"bg-slate-50/80 p-4 rounded-2xl border border-slate-100/50 group-hover:bg-white transition-colors duration-500 overflow-hidden",children:[e.jsx("p",{className:"text-[10px] text-slate-400 font-black uppercase tracking-widest mb-2",children:"Protocols"}),e.jsx("div",{className:"flex flex-col gap-1",children:K.activeDietPlan||K.activeWorkoutPlan?e.jsxs("div",{className:"flex flex-col gap-1",children:[K.activeDietPlan&&e.jsxs("span",{className:"text-[9px] font-black uppercase tracking-widest bg-violet-50 text-violet-600 px-1.5 py-0.5 rounded border border-violet-100 truncate max-w-[120px]",children:["Diet: ",K.activeDietPlan.name]}),K.activeWorkoutPlan&&e.jsxs("span",{className:"text-[9px] font-black uppercase tracking-widest bg-fuchsia-50 text-fuchsia-600 px-1.5 py-0.5 rounded border border-fuchsia-100 truncate max-w-[120px]",children:["W.O: ",K.activeWorkoutPlan.name]})]}):e.jsx("span",{className:"text-sm font-black text-slate-400 truncate",children:"None Assigned"})})]})]}),e.jsxs("div",{className:"flex items-center gap-3 mt-6 text-[10px] text-slate-400 font-black uppercase tracking-widest",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Xe,{size:14,className:"text-slate-300"})," ",K.joined]}),e.jsx("span",{className:"w-1 h-1 bg-slate-200 rounded-full"}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Ze,{size:14,className:"text-slate-300"})," ",K.lastSession]})]})]}),e.jsxs("div",{className:"p-4 bg-slate-50/50 border-t border-slate-100 flex flex-col gap-3 rounded-b-3xl",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:()=>ge(K),className:"flex-1 flex items-center justify-center gap-2 py-3.5 bg-white border-2 border-slate-100 rounded-2xl text-[10px] font-black uppercase tracking-widest text-slate-600 hover:bg-white hover:border-indigo-100 hover:text-indigo-600 hover:shadow-xl hover:shadow-indigo-50 transition-all active:scale-95",children:[e.jsx(sr,{size:16}),"Chat"]}),e.jsxs("button",{onClick:()=>{A(K),Y(!0)},className:"flex-1 flex items-center justify-center gap-2 py-3.5 bg-white border border-slate-200 text-slate-700 rounded-2xl text-[10px] font-black uppercase tracking-widest hover:border-indigo-200 transition-all active:scale-95",children:[e.jsx(qs,{size:16}),"Profile"]})]}),e.jsxs("button",{onClick:()=>{A(K),H(!0)},className:"w-full flex items-center justify-center gap-2 py-3.5 bg-indigo-600 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest hover:bg-indigo-700 transition-all active:scale-95 shadow-xl shadow-indigo-200",children:[e.jsx(Nl,{size:16}),"Assign Plan"]})]})]},K.id))})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 bg-white rounded-[40px] border border-gray-100 shadow-sm border-dashed",children:[e.jsx(lt,{size:48,className:"text-gray-200 mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"No members found"}),e.jsx("p",{className:"text-gray-500 mt-2",children:"Try adjusting your filters or search term."})]}),!l&&g>0&&e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 bg-white p-4 rounded-[32px] border border-gray-100 shadow-sm",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("span",{className:"text-sm text-gray-500",children:["Showing ",e.jsx("span",{className:"font-bold text-gray-900",children:(h-1)*f+1})," to ",e.jsx("span",{className:"font-bold text-gray-900",children:Math.min(h*f,g)})," of ",e.jsx("span",{className:"font-bold text-gray-900",children:g})," members"]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>p(K=>Math.max(K-1,1)),disabled:h===1,className:"p-2 border border-gray-200 rounded-xl hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:e.jsx(Xr,{size:20})}),e.jsx("div",{className:"flex gap-1",children:Array.from({length:Math.ceil(g/f)},(K,oe)=>oe+1).map(K=>e.jsx("button",{onClick:()=>p(K),className:`w-10 h-10 rounded-xl text-sm font-bold transition-all ${h===K?"bg-blue-600 text-white shadow-lg shadow-blue-200":"text-gray-500 hover:bg-gray-50"}`,children:K},K))}),e.jsx("button",{onClick:()=>p(K=>Math.min(K+1,Math.ceil(g/f))),disabled:h===Math.ceil(g/f),className:"p-2 border border-gray-200 rounded-xl hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:e.jsx(bs,{size:20})})]})]}),e.jsx(rt,{isOpen:C,onClose:()=>N(!1),title:k?.name,subtitle:"Member Online",maxWidth:"max-w-md",footer:e.jsxs("div",{className:"flex gap-2 w-full",children:[e.jsx("input",{type:"text",placeholder:"Type a message...",className:"flex-1 px-4 py-2.5 bg-gray-50 border-none rounded-xl text-sm focus:ring-2 focus:ring-blue-500 outline-none transition-all",value:E,onChange:K=>w(K.target.value),onKeyPress:K=>K.key==="Enter"&&te()}),e.jsx("button",{onClick:te,disabled:!E.trim(),className:"w-10 h-10 bg-blue-600 text-white rounded-xl flex items-center justify-center hover:bg-blue-700 disabled:opacity-50 disabled:active:scale-100 active:scale-90 transition-all shadow-lg shadow-blue-200",children:e.jsx($d,{size:18})})]}),children:k&&e.jsx("div",{className:"flex flex-col h-full",children:e.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-4 custom-scrollbar bg-gray-50/30",children:O?e.jsx("div",{className:"flex justify-center py-10",children:e.jsx("div",{className:"w-6 h-6 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"})}):R.length>0?R.map((K,oe)=>{const ae=K.senderType==="TRAINER";return e.jsxs("div",{className:`${ae?"bg-blue-600 text-white rounded-tr-none shadow-blue-200 self-end ml-auto":"bg-white text-gray-700 rounded-tl-none border-gray-100 self-start"} p-4 rounded-2xl shadow-sm max-w-[85%]`,children:[e.jsx("p",{className:`text-sm ${ae?"font-medium":""}`,children:K.content}),e.jsx("span",{className:`text-[10px] font-bold mt-2 block ${ae?"text-blue-100":"text-gray-400"}`,children:new Date(K.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]},oe)}):e.jsxs("div",{className:"text-center py-10",children:[e.jsx(sr,{size:32,className:"mx-auto text-gray-300 mb-3"}),e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"No messages yet. Start the conversation!"})]})})})}),e.jsx(rt,{isOpen:B,onClose:()=>z(!1),title:"Attendance Log",subtitle:k?.name,maxWidth:"max-w-lg",footer:e.jsx("button",{onClick:()=>z(!1),className:"w-full py-3 bg-gray-900 text-white rounded-xl font-bold shadow-lg shadow-gray-200 active:scale-95 transition-all",children:"Close Log"}),children:k&&e.jsx("div",{className:"flex flex-col h-full",children:e.jsx("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar",children:e.jsx("div",{className:"space-y-3",children:(k?.recentWorkouts||[]).length>0?k.recentWorkouts.map((K,oe)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-2xl border border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`p-2 rounded-lg ${K.status==="Present"?"bg-green-100 text-green-600":"bg-orange-100 text-orange-600"}`,children:e.jsx(Xe,{size:18})}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-bold text-gray-900",children:[K.date,"  ",K.time]}),e.jsxs("p",{className:"text-xs text-gray-500 font-medium",children:[K.type," Session"]})]})]}),e.jsx("span",{className:`px-2 py-0.5 rounded-lg text-[10px] font-black uppercase ${K.status==="Present"?"bg-green-50 text-green-700":"bg-orange-50 text-orange-700"}`,children:K.status})]},oe)):e.jsx("p",{className:"text-center text-gray-500 text-sm py-4",children:"No attendance logs available for this member."})})})})}),e.jsx(rt,{isOpen:P,onClose:()=>F(!1),title:"Flag Member",subtitle:k?.name,maxWidth:"max-w-md",footer:e.jsxs("div",{className:"flex gap-3 w-full",children:[e.jsx("button",{onClick:()=>F(!1),className:"flex-1 py-3 bg-gray-100 text-gray-600 rounded-xl font-bold active:scale-95 transition-all",children:"Cancel"}),e.jsx("button",{onClick:async()=>{await tL(k.id,V),$(""),F(!1),le()},className:"flex-1 py-3 bg-red-600 text-white rounded-xl font-bold shadow-xl shadow-red-200 active:scale-95 transition-all",children:"Flag Member"})]}),children:k&&e.jsx("div",{className:"flex flex-col h-full",children:e.jsx("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-gray-500 leading-relaxed font-medium",children:"Flagging a member will notify the administration team for further review of their membership status or conduct."}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2 block",children:"Reason for Flagging"}),e.jsx("textarea",{className:"w-full p-4 bg-gray-50 border-none rounded-2xl text-sm focus:ring-2 focus:ring-red-500 outline-none transition-all h-32 resize-none font-medium text-gray-700",placeholder:"Enter detailed reason (e.g., poor conduct, payment delays, health concerns)...",value:V,onChange:K=>$(K.target.value)})]})]})})})}),e.jsx(rt,{isOpen:G,onClose:()=>Y(!1),title:"Member Profile",subtitle:k?.name,maxWidth:"max-w-7xl",children:k&&e.jsx(wz,{memberId:k.id,onClose:()=>Y(!1)})}),e.jsx(Nz,{isOpen:me,onClose:()=>H(!1),memberName:k?.name,memberId:k?.id})]})},Sz=()=>{const[s,t]=b.useState(null),[a,l]=b.useState(!0),[i,o]=b.useState("personal"),[c,u]=b.useState(!1),[x,h]=b.useState({type:"",text:""}),[p,f]=b.useState(!1),[y,g]=b.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[v,C]=b.useState({name:"",email:"",phone:"",address:"",avatar:"",config:{}}),[N,k]=b.useState({current:!1,new:!1,confirm:!1});b.useEffect(()=>{A()},[]);const A=async()=>{l(!0);try{const B=await F9();t(B),C({name:B.name,email:B.email,phone:B.phone,address:B.address||"",avatar:B.avatar||"",config:B.config||{}})}catch(B){console.error("Load Profile Error:",B)}finally{l(!1)}},E=B=>{const{name:z,value:P}=B.target;C(F=>({...F,[z]:P}))},w=async B=>{const z={...v.config,[B]:!v.config[B]};C(P=>({...P,config:z}));try{await jy({...v,config:z}),h({type:"success",text:`${B.charAt(0).toUpperCase()+B.slice(1).replace(/[A-Z]/g," $&")} updated successfully.`})}catch{h({type:"error",text:"Failed to update security setting."})}},R=B=>{const z=B.target.files[0];if(z){const P=new FileReader;P.onloadend=()=>{C(F=>({...F,avatar:P.result}))},P.readAsDataURL(z)}},T=async B=>{B&&B.preventDefault(),u(!0),h({type:"",text:""});try{const z=await jy(v);t(z),h({type:"success",text:"Profile updated successfully!"})}catch(z){h({type:"error",text:typeof z=="string"?z:"Failed to update profile."})}finally{u(!1)}},O=async B=>{if(B.preventDefault(),h({type:"",text:""}),y.newPassword!==y.confirmPassword){h({type:"error",text:"New passwords do not match!"});return}if(y.newPassword.length<6){h({type:"error",text:"Password must be at least 6 characters."});return}u(!0);try{await W9({currentPassword:y.currentPassword,newPassword:y.newPassword}),f(!1),g({currentPassword:"",newPassword:"",confirmPassword:""}),h({type:"success",text:"Password encrypted and updated successfully."})}catch(z){h({type:"error",text:z||"Failed to update password. Please check your current key."})}finally{u(!1)}};if(a||!s)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 flex items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"h-16 w-16 border-4 border-violet-600 border-t-transparent rounded-full mb-4 animate-spin"}),e.jsx("p",{className:"text-lg font-semibold text-slate-600 tracking-tight",children:!s&&!a?"Failed to load profile":"Accessing Secure Profile..."}),!s&&!a&&e.jsx("button",{onClick:()=>A(),className:"mt-4 px-6 py-2 bg-violet-600 text-white rounded-xl font-bold hover:bg-violet-700 transition-colors",children:"Retry Connection"})]})});const W=[{id:"personal",label:"Personal Info",icon:lt},{id:"security",label:"Security",icon:Pa},{id:"notifications",label:"Notifications",icon:wn}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 md:p-8",children:[e.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[e.jsxs("div",{className:"relative bg-white rounded-3xl border border-slate-100 shadow-xl overflow-hidden animate-in fade-in duration-700",children:[e.jsxs("div",{className:"h-40 bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-10"}),e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full -mr-32 -mt-32 blur-3xl animate-pulse"})]}),e.jsx("div",{className:"px-8 pb-8",children:e.jsxs("div",{className:"relative flex flex-col md:flex-row md:items-end gap-6 -mt-16",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"w-40 h-40 rounded-[2.5rem] bg-white p-2 shadow-2xl ring-8 ring-white/50",children:e.jsx("div",{className:"w-full h-full rounded-[2rem] bg-gradient-to-br from-violet-600 to-indigo-700 flex items-center justify-center text-white text-5xl font-black shadow-inner overflow-hidden",children:v.avatar?e.jsx("img",{src:v.avatar,alt:"Profile",className:"w-full h-full object-cover"}):s.name?.charAt(0)})}),e.jsxs("label",{className:"absolute bottom-2 right-2 p-3 bg-white rounded-2xl shadow-xl border border-slate-200 text-violet-600 hover:scale-110 hover:bg-violet-50 active:scale-95 transition-all duration-300 cursor-pointer group-hover:shadow-violet-200",children:[e.jsx(Qo,{size:20}),e.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:R})]})]}),e.jsxs("div",{className:"flex-1 pb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h1",{className:"text-4xl font-black text-slate-900 tracking-tight",children:s.name}),e.jsx("div",{className:"mt-1 px-3 py-1 bg-violet-100 text-violet-700 rounded-lg text-[10px] font-black uppercase tracking-widest border border-violet-200",children:s.role.replace("_"," ")})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 mt-4",children:[e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-emerald-50 text-emerald-700 rounded-2xl text-xs font-black border border-emerald-100 shadow-sm",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),s.status]}),e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-slate-50 text-slate-700 rounded-2xl text-xs font-black border border-slate-100 shadow-sm",children:[e.jsx(Xe,{size:14,className:"text-slate-400"}),"Since ",s.joinedDate]})]})]}),e.jsx("div",{className:"md:mb-4",children:e.jsxs("button",{className:"px-8 py-4 bg-slate-900 text-white rounded-2xl text-sm font-black shadow-xl shadow-slate-200 hover:shadow-2xl hover:bg-slate-800 hover:-translate-y-1 active:scale-95 transition-all duration-300 flex items-center gap-3",children:[e.jsx(Zt,{size:20,className:"text-emerald-400"}),"Verified Professional"]})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[e.jsx("div",{className:"lg:col-span-3 space-y-3",children:W.map(B=>e.jsxs("button",{onClick:()=>{o(B.id),h({type:"",text:""})},className:`w-full flex items-center gap-4 px-6 py-5 rounded-2xl text-sm font-black tracking-wide transition-all duration-300 ${i===B.id?"bg-violet-600 text-white shadow-xl shadow-violet-200 -translate-x-2":"bg-white text-slate-500 hover:bg-violet-50 hover:text-violet-600 border border-slate-100"}`,children:[e.jsx(B.icon,{size:22}),B.label]},B.id))}),e.jsx("div",{className:"lg:col-span-9",children:e.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-2xl p-8 md:p-12 animate-in slide-in-from-bottom-8 duration-500 overflow-hidden relative",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-violet-50/50 rounded-full -mr-32 -mt-32 blur-3xl pointer-events-none"}),x.text&&e.jsxs("div",{className:`mb-10 p-5 rounded-2xl flex items-center gap-4 text-sm font-bold border-2 animate-in fade-in slide-in-from-top-4 ${x.type==="success"?"bg-emerald-50 text-emerald-700 border-emerald-100 shadow-lg shadow-emerald-50":"bg-red-50 text-red-700 border-red-100 shadow-lg shadow-red-50"}`,children:[e.jsx("div",{className:`p-2 rounded-xl ${x.type==="success"?"bg-emerald-200/50":"bg-red-200/50"}`,children:x.type==="success"?e.jsx(Zt,{size:20}):e.jsx(Pa,{size:20})}),e.jsx("div",{className:"flex-1",children:x.text}),e.jsx("button",{onClick:()=>h({type:"",text:""}),className:"text-current opacity-40 hover:opacity-100",children:e.jsx(Yr,{size:16})})]}),i==="personal"&&e.jsxs("form",{onSubmit:T,className:"space-y-10 relative",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[{label:"Display Name",name:"name",type:"text",icon:lt,placeholder:"Test Trainer"},{label:"Secure Email",name:"email",type:"email",icon:_r,placeholder:"trainer@gym.com"},{label:"Direct Line",name:"phone",type:"text",icon:ja,placeholder:"Enter phone"},{label:"Base Location",name:"address",type:"text",icon:Ws,placeholder:"Enter city, country"}].map(B=>e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-1",children:B.label}),e.jsxs("div",{className:"relative group/field",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-5 flex items-center pointer-events-none text-slate-300 group-focus-within/field:text-violet-600 transition-colors duration-300",children:e.jsx(B.icon,{size:20})}),e.jsx("input",{type:B.type,name:B.name,value:v[B.name],onChange:E,className:"w-full pl-14 pr-6 py-4.5 bg-slate-50 border-2 border-slate-100 rounded-2xl text-slate-900 font-bold focus:bg-white focus:outline-none focus:ring-4 focus:ring-violet-500/10 focus:border-violet-500 transition-all duration-300",placeholder:B.placeholder})]})]},B.name))}),e.jsx("div",{className:"pt-10 flex border-t border-slate-50",children:e.jsxs("button",{type:"submit",disabled:c,className:"group relative flex items-center justify-center px-12 py-5 rounded-[1.5rem] font-black text-white shadow-2xl transition-all duration-300 transform hover:-translate-y-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:translate-y-0 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-600 to-indigo-700"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-700 to-fuchsia-700 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),c?e.jsx("div",{className:"w-6 h-6 border-3 border-white border-t-transparent rounded-full animate-spin relative mr-4"}):e.jsx(xa,{size:24,className:"mr-3 relative transition-transform duration-500 group-hover:rotate-[360deg]"}),e.jsx("span",{className:"relative text-lg tracking-tight",children:c?"Encrypting...":"Deploy Profile Updates"})]})})]}),i==="security"&&e.jsxs("div",{className:"space-y-12 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 bg-slate-50 p-8 rounded-3xl border border-slate-100",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"text-xl font-black text-slate-900 flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"p-2 bg-slate-900 text-white rounded-xl",children:e.jsx(Os,{size:20})})," Access Control"]}),e.jsx("p",{className:"text-slate-500 font-bold",children:"Manage your cryptographic primary access key"})]}),e.jsx("button",{onClick:()=>f(!0),className:"px-8 py-4 bg-slate-900 text-white rounded-2xl text-sm font-black hover:bg-slate-800 hover:shadow-2xl hover:-translate-y-1 active:scale-95 transition-all duration-300 shadow-xl",children:"Modify Passkey"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"p-8 rounded-[2rem] border-2 border-dashed border-slate-200 bg-white hover:border-violet-300 hover:bg-violet-50/30 transition-all duration-300 group/secure",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("div",{className:"p-3 bg-emerald-100 text-emerald-600 rounded-2xl group-hover/secure:scale-110 transition-transform",children:e.jsx(Pa,{size:24})}),e.jsx("div",{onClick:()=>w("biometricBridge"),className:`relative w-14 h-8 rounded-full shadow-inner p-1 cursor-pointer transition-colors duration-300 ${v.config.biometricBridge?"bg-emerald-500":"bg-slate-200"}`,children:e.jsx("div",{className:`w-6 h-6 bg-white rounded-full shadow-sm transition-all duration-300 ${v.config.biometricBridge?"translate-x-6":"translate-x-0"}`})})]}),e.jsx("h5",{className:"text-lg font-black text-slate-900 mb-2",children:"Biometric Bridge"}),e.jsx("p",{className:"text-slate-400 text-sm font-bold",children:"Enable local security subsystem (FaceID/Fingerprint)"})]}),e.jsxs("div",{className:"p-8 rounded-[2rem] border-2 border-dashed border-slate-200 bg-white hover:border-blue-300 hover:bg-blue-50/30 transition-all duration-300 group/secure",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("div",{className:"p-3 bg-blue-100 text-blue-600 rounded-2xl group-hover/secure:scale-110 transition-transform",children:e.jsx(wn,{size:24})}),e.jsx("div",{onClick:()=>w("loginAlerts"),className:`relative w-14 h-8 rounded-full shadow-inner p-1 cursor-pointer transition-colors duration-300 ${v.config.loginAlerts?"bg-blue-500":"bg-slate-200"}`,children:e.jsx("div",{className:`w-6 h-6 bg-white rounded-full shadow-sm transition-all duration-300 ${v.config.loginAlerts?"translate-x-6":"translate-x-0"}`})})]}),e.jsx("h5",{className:"text-lg font-black text-slate-900 mb-2",children:"Login Alerts"}),e.jsx("p",{className:"text-slate-400 text-sm font-bold",children:"Receive signals for new session initiations"})]})]})]}),i==="notifications"&&e.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[e.jsxs("div",{className:"bg-slate-50 p-8 rounded-3xl border border-slate-100 mb-8",children:[e.jsxs("h4",{className:"text-xl font-black text-slate-900 flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"p-2 bg-violet-600 text-white rounded-xl",children:e.jsx(wn,{size:20})})," Signal Preferences"]}),e.jsx("p",{className:"text-slate-500 font-bold",children:"Configure how you receive system-wide intelligence and member updates."})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[{id:"memberAlerts",label:"Member Assignments",desc:"Alerts when new members are assigned to your roster",icon:lt,color:"emerald"},{id:"messageAlerts",label:"Direct Messages",desc:"Secure signals for new member communications",icon:_r,color:"blue"},{id:"classReminders",label:"Class Protocols",desc:"Reminders for your upcoming scheduled classes",icon:Xe,color:"amber"},{id:"earningsPulse",label:"Earnings Pulse",desc:"Instant updates on commission and payout processing",icon:It,color:"violet"}].map(B=>e.jsx("div",{className:"group/notif bg-white p-6 rounded-[2rem] border-2 border-slate-100 hover:border-violet-200 hover:bg-violet-50/20 transition-all duration-300",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`p-3 bg-${B.color}-100 text-${B.color}-600 rounded-2xl group-hover/notif:scale-110 transition-transform`,children:e.jsx(B.icon,{size:22})}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-black text-slate-900 text-sm",children:B.label}),e.jsx("p",{className:"text-slate-400 text-[10px] font-bold mt-0.5",children:B.desc})]})]}),e.jsx("div",{onClick:()=>w(B.id),className:`relative w-12 h-7 rounded-full transition-colors duration-300 cursor-pointer p-1 ${v.config[B.id]?"bg-violet-600":"bg-slate-200"}`,children:e.jsx("div",{className:`w-5 h-5 bg-white rounded-full shadow-sm transition-all duration-300 ${v.config[B.id]?"translate-x-5":"translate-x-0"}`})})]})},B.id))}),e.jsx("div",{className:"pt-10 flex border-t border-slate-50",children:e.jsxs("div",{className:"flex items-start gap-4 p-6 bg-slate-900 rounded-[2rem] text-white/90",children:[e.jsx("div",{className:"p-3 bg-white/10 rounded-2xl text-violet-400",children:e.jsx(Info,{size:24})}),e.jsxs("div",{children:[e.jsx("h6",{className:"font-black text-sm text-white",children:"System Signal Protocols"}),e.jsx("p",{className:"text-xs font-bold leading-relaxed mt-1 opacity-60",children:"Critical system updates and security alerts are enabled by default and cannot be silenced to ensure operational integrity."})]})]})})]})]})})]})]}),p&&e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-md",onClick:()=>!c&&f(!1)}),e.jsxs("div",{className:"relative w-full max-w-lg bg-white rounded-[3rem] shadow-2xl p-8 md:p-12 animate-in zoom-in-95 duration-300 overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-violet-600 to-indigo-600"}),e.jsxs("div",{className:"flex justify-between items-center mb-10",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-black text-slate-900",children:"Modify Passkey"}),e.jsx("p",{className:"text-slate-500 font-bold text-sm mt-1",children:"Establish new cryptographically secure credentials"})]}),e.jsx("button",{onClick:()=>f(!1),className:"p-3 hover:bg-slate-100 rounded-2xl transition-all",children:e.jsx(Yr,{size:24})})]}),x.type&&x.text&&e.jsx("div",{className:`mb-6 p-4 rounded-xl text-xs font-bold border-2 ${x.type==="success"?"bg-emerald-50 text-emerald-700 border-emerald-100":"bg-red-50 text-red-700 border-red-100"}`,children:x.text}),e.jsxs("form",{onSubmit:O,className:"space-y-6",children:[[{label:"Current Key",name:"currentPassword",type:"current",icon:Os},{label:"New Primary Key",name:"newPassword",type:"new",icon:Pa},{label:"Validate New Key",name:"confirmPassword",type:"confirm",icon:Zt}].map(B=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:B.label}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-5 flex items-center pointer-events-none text-slate-300 group-focus-within:text-violet-600 transition-colors",children:e.jsx(B.icon,{size:20})}),e.jsx("input",{type:N[B.type]?"text":"password",value:y[B.name],onChange:z=>g({...y,[B.name]:z.target.value}),className:"w-full pl-14 pr-12 py-4.5 bg-slate-50 border-2 border-slate-100 rounded-2xl font-bold focus:bg-white focus:outline-none focus:border-violet-500 transition-all",required:!0}),e.jsx("button",{type:"button",onClick:()=>k(z=>({...z,[B.type]:!z[B.type]})),className:"absolute inset-y-0 right-0 pr-4 flex items-center text-slate-400 hover:text-violet-600",children:N[B.type]?e.jsx(It,{size:18}):e.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-slate-300"})})]})]},B.name)),e.jsx("div",{className:"pt-6",children:e.jsx("button",{type:"submit",disabled:c,className:"w-full py-5 bg-slate-900 text-white rounded-2xl font-black text-lg hover:bg-slate-800 shadow-2xl shadow-slate-200 transition-all flex items-center justify-center gap-4",children:c?e.jsx("div",{className:"w-6 h-6 border-3 border-white border-t-transparent rounded-full animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(Pa,{size:22,className:"text-violet-400"}),"Update Keys"]})})})]})]})]})]})},Cz=()=>{const[s,t]=b.useState(null),[a,l]=b.useState(new Date().getFullYear().toString()),[i,o]=b.useState(null),[c,u]=b.useState(!0);if(b.useEffect(()=>{(async()=>{try{const y=await I9();o(y)}catch(y){console.error("Failed to load earnings:",y)}finally{u(!1)}})()},[]),c)return e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 min-h-screen bg-slate-50",children:[e.jsx("div",{className:"w-10 h-10 border-4 border-violet-600 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"mt-4 text-slate-500 font-medium tracking-tight",children:"Loading your earnings..."})]});if(!i)return e.jsx("div",{className:"p-8 text-center text-gray-500 min-h-screen bg-slate-50",children:"Access Denied or Failed to Load"});const x=f=>{t(s===f?null:f)},h=()=>{if(!i||!i.history||i.history.length===0){alert("No earnings history available to download.");return}const f=["Month","Year","Base Salary","Commission","Bonus","Total","Status"],y=i.history.map(N=>[N.month,N.year,N.baseSalary,N.commission,N.bonus,N.total,N.status]),g="data:text/csv;charset=utf-8,"+f.join(",")+`
`+y.map(N=>N.join(",")).join(`
`),v=encodeURI(g),C=document.createElement("a");C.setAttribute("href",v),C.setAttribute("download",`Trainer_Earnings_Report_${new Date().getFullYear()}.csv`),document.body.appendChild(C),C.click(),document.body.removeChild(C)},p=f=>{switch(f){case"Paid":return"bg-emerald-100 text-emerald-700 border border-emerald-200";case"Pending":return"bg-amber-100 text-amber-700 border border-amber-200";case"Processing":return"bg-blue-100 text-blue-700 border border-blue-200";default:return"bg-gray-100 text-gray-700 border border-gray-200"}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6 animate-fadeIn font-sans",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 rounded-3xl blur-2xl opacity-15 animate-pulse"}),e.jsxs("div",{className:"relative bg-white/80 backdrop-blur-xl rounded-[32px] shadow-2xl border border-white/50 p-6 sm:p-8 overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-violet-50 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 opacity-50"}),e.jsxs("div",{className:"relative z-10 flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4 sm:gap-6",children:[e.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-xl shadow-violet-200 transform hover:scale-105 transition-transform duration-300 group flex-shrink-0",children:e.jsx(Hs,{size:28,className:"sm:w-9 sm:h-9 group-hover:rotate-12 transition-transform duration-300",strokeWidth:2})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-1",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-black text-slate-900 tracking-tight",children:"My Earnings"}),e.jsx("span",{className:"px-3 py-1 bg-emerald-100 text-emerald-700 text-[10px] sm:text-xs font-black uppercase tracking-wider rounded-full border border-emerald-200",children:"Secure View"})]}),e.jsx("p",{className:"text-slate-500 font-medium text-sm sm:text-lg",children:"Track your salary, commissions, and bonuses."})]})]}),e.jsxs("button",{onClick:h,className:"flex items-center justify-center gap-2 px-6 py-3 bg-white border-2 border-slate-100 text-slate-600 rounded-xl font-bold hover:border-violet-200 hover:text-violet-600 hover:shadow-lg transition-all w-full sm:w-auto",children:[e.jsx(na,{size:18}),"Download Report"]})]})]})]}),e.jsxs(jx,{children:[e.jsx(Kn,{title:"Monthly Base Pay",value:`${i.summary.currency}${i.summary.baseSalary.toLocaleString()}`,icon:Hs,color:"primary"}),e.jsx(Kn,{title:"Commission Rate",value:`${i.summary.commissionRate}%`,icon:Qs,color:"success",trend:i.summary.commissionTrend}),e.jsx(Kn,{title:`Commission (${i.summary.currentMonthName})`,value:`${i.summary.currency}${i.summary.currentMonthCommission.toLocaleString()}`,icon:Pt,color:"warning"}),e.jsx(Kn,{title:`Total Earnings (${i.summary.currentMonthName})`,value:`${i.summary.currency}${i.summary.currentMonthTotal.toLocaleString()}`,icon:Qn,color:"primary"})]}),e.jsxs("div",{className:"bg-white rounded-[32px] border border-slate-100 shadow-xl overflow-hidden p-4 sm:p-6 space-y-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-2",children:[e.jsxs("h3",{className:"text-xl font-black text-slate-900 flex items-center gap-2",children:[e.jsx(Xe,{size:24,className:"text-violet-600"})," Earnings History"]}),e.jsx("div",{className:"flex bg-slate-50 p-1 rounded-xl w-full sm:w-auto",children:[...new Set(i.history.map(f=>f.year))].sort((f,y)=>y-f).map(f=>e.jsx("button",{onClick:()=>l(f),className:`flex-1 sm:flex-none px-4 py-2 rounded-lg text-xs font-bold transition-all ${a===f?"bg-white text-violet-600 shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:f},f))})]}),e.jsx("div",{className:"hidden md:block overflow-x-auto rounded-2xl border border-slate-50",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50/50 border-b border-slate-100",children:[e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Month"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Base Salary"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Commission"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Bonus"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Total"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Status"}),e.jsx("th",{className:"px-6 py-4"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:i.history.filter(f=>f.year===a).map(f=>e.jsxs(kn.Fragment,{children:[e.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[e.jsx("td",{className:"px-6 py-5 text-sm font-bold text-slate-900",children:f.month}),e.jsxs("td",{className:"px-6 py-5 text-sm font-medium text-slate-500",children:["",f.baseSalary.toLocaleString()]}),e.jsxs("td",{className:"px-6 py-5 text-sm font-bold text-emerald-600",children:["+",f.commission.toLocaleString()]}),e.jsx("td",{className:"px-6 py-5 text-sm font-medium text-slate-500",children:f.bonus>0?`+${f.bonus.toLocaleString()}`:"-"}),e.jsxs("td",{className:"px-6 py-5 text-sm font-black text-slate-900",children:["",f.total.toLocaleString()]}),e.jsx("td",{className:"px-6 py-5",children:e.jsx("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-wide ${p(f.status)}`,children:f.status})}),e.jsx("td",{className:"px-6 py-5 text-right",children:e.jsx("button",{onClick:()=>x(f.id),className:"p-2 rounded-xl text-slate-400 hover:text-violet-600 hover:bg-violet-50 transition-all",children:s===f.id?e.jsx(Rw,{size:18}):e.jsx(kl,{size:18})})})]}),s===f.id&&e.jsx("tr",{className:"bg-slate-50/30 animate-in fade-in slide-in-from-top-2 duration-200",children:e.jsx("td",{colSpan:"7",className:"px-6 py-6",children:e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 p-6 shadow-sm",children:[e.jsxs("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-4",children:["Commission Breakdown  ",f.month]}),f.details.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:f.details.map(y=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-slate-50 border border-slate-100 hover:border-violet-200 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-violet-100 flex items-center justify-center text-violet-600 font-bold text-xs",children:y.member.charAt(0)}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-slate-900",children:y.member}),e.jsx("p",{className:"text-[10px] text-slate-500",children:y.type})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("span",{className:"text-xs font-black text-emerald-600",children:["+",y.amount.toLocaleString()]}),e.jsx("p",{className:"text-[9px] text-slate-400",children:y.date})]})]},y.id))}):e.jsx("p",{className:"text-sm text-slate-400 italic",children:"No detailed commission data available."})]})})})]},f.id))})]})}),e.jsx("div",{className:"md:hidden space-y-4",children:i.history.filter(f=>f.year===a).map(f=>e.jsxs("div",{children:[e.jsx(Ya,{title:f.month,subtitle:`Base: ${f.baseSalary.toLocaleString()}`,status:f.status,statusColor:f.status==="Paid"?"emerald":"amber",badge:`${f.total.toLocaleString()}`,badgeColor:"violet",icon:Hs,actions:[{label:s===f.id?"Hide Details":"View Breakdown",onClick:()=>x(f.id),variant:"secondary"}]}),s===f.id&&e.jsxs("div",{className:"mt-2 ml-4 pl-4 border-l-2 border-slate-100 space-y-2 pb-4",children:[e.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"Commission Details"}),f.details.length>0?f.details.map(y=>e.jsxs("div",{className:"bg-white p-3 rounded-xl border border-slate-100 shadow-sm flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-slate-900",children:y.member}),e.jsx("p",{className:"text-[10px] text-slate-500",children:y.type})]}),e.jsxs("span",{className:"text-xs font-black text-emerald-600",children:["+",y.amount.toLocaleString()]})]},y.id)):e.jsx("p",{className:"text-xs text-slate-400 italic",children:"No details available."})]})]},f.id))})]})]})},Az=()=>{const s=new Date().toLocaleString("default",{month:"long",year:"numeric"}),[t,a]=b.useState(s),[l,i]=b.useState(!1),[o,c]=b.useState(!1),[u,x]=b.useState(!1),[h,p]=b.useState([]),[f,y]=b.useState(null),[g,v]=b.useState(!0),[C,N]=b.useState(1),[k,A]=b.useState(1),E=5,w=H=>H?new Date(H).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"Not yet",R=H=>{if(!H)return"-";const V=new Date(H);return`${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][V.getUTCMonth()]} ${V.getUTCDate()}, ${V.getUTCFullYear()}`},T=async()=>{v(!0);try{const H=new Date().toLocaleDateString("en-CA"),V=await B9(H);y(V),p(V.leaveRequests||[]);const $=!!V.summary?.todayCheckIn,le=!!V.summary?.todayCheckOut;c($&&!le),x($&&le)}catch(H){console.error(H),Ve.error("Failed to load attendance logs")}finally{v(!1)}};b.useEffect(()=>{T()},[]);const O=f?.logs?.filter(H=>new Date(H.date).toLocaleString("default",{month:"long",year:"numeric"})===t)||[],W=h?.filter(H=>new Date(H.start).toLocaleString("default",{month:"long",year:"numeric"})===t)||[],B=O.slice((C-1)*E,C*E),z=W.slice((k-1)*E,k*E),P=Math.ceil(O.length/E),F=Math.ceil(W.length/E),G=H=>{switch(H){case"Present":case"Approved":return"bg-emerald-100 text-emerald-700 border border-emerald-200";case"Absent":case"Rejected":return"bg-red-100 text-red-700 border border-red-200";case"Late":case"Pending":return"bg-amber-100 text-amber-700 border border-amber-200";case"On Leave":return"bg-blue-100 text-blue-700 border border-blue-200";default:return"bg-slate-100 text-slate-700 border border-slate-200"}},Y=async()=>{try{const H=new Date().toLocaleDateString("en-CA"),V=await U9({localDate:H});Ve.success(V.message),T()}catch(H){Ve.error(H||"Failed to check in/out.")}},me=()=>{const[H,V]=b.useState({type:"Sick Leave",start:"",end:"",reason:""}),$=async()=>{if(!H.start||!H.end||!H.reason)return alert("Please fill all fields.");try{await $9(H),alert("Leave request submitted successfully!"),i(!1),T()}catch{alert("Failed to request leave.")}};return e.jsx(rt,{isOpen:l,onClose:()=>i(!1),title:"Request Leave",subtitle:"Submit your leave application",footer:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:$,className:"flex-1 py-2.5 bg-indigo-600 text-white rounded-lg text-sm font-bold shadow-md hover:bg-indigo-700 transition-all",children:"Submit Request"}),e.jsx("button",{onClick:()=>i(!1),className:"px-6 py-2.5 bg-gray-50 border border-gray-200 text-gray-600 rounded-lg text-sm font-bold",children:"Cancel"})]}),children:e.jsxs("div",{className:"space-y-8 px-6 py-6",children:[e.jsxs("div",{className:"space-y-2.5",children:[e.jsx("label",{className:"text-[11px] font-black text-slate-500 uppercase tracking-[0.2em] ml-1",children:"Leave Type"}),e.jsxs("div",{className:"relative group",children:[e.jsxs("select",{value:H.type,onChange:le=>V({...H,type:le.target.value}),className:"w-full p-4 bg-slate-50 border-2 border-slate-100 rounded-2xl text-sm font-bold text-slate-700 outline-none focus:border-indigo-500 focus:bg-white transition-all duration-300 appearance-none cursor-pointer group-hover:border-slate-200",children:[e.jsx("option",{children:"Sick Leave"}),e.jsx("option",{children:"Casual Leave"}),e.jsx("option",{children:"Emergency"}),e.jsx("option",{children:"Vacation"})]}),e.jsx(kl,{size:18,className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none group-focus-within:rotate-180 transition-transform duration-300"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-5",children:[e.jsxs("div",{className:"space-y-2.5",children:[e.jsx("label",{className:"text-[11px] font-black text-slate-500 uppercase tracking-[0.2em] ml-1",children:"Start Date"}),e.jsx("input",{type:"date",value:H.start,onChange:le=>V({...H,start:le.target.value}),className:"w-full p-4 bg-slate-50 border-2 border-slate-100 rounded-2xl text-sm font-bold text-slate-700 outline-none focus:border-indigo-500 focus:bg-white transition-all duration-300 hover:border-slate-200"})]}),e.jsxs("div",{className:"space-y-2.5",children:[e.jsx("label",{className:"text-[11px] font-black text-slate-500 uppercase tracking-[0.2em] ml-1",children:"End Date"}),e.jsx("input",{type:"date",value:H.end,onChange:le=>V({...H,end:le.target.value}),className:"w-full p-4 bg-slate-50 border-2 border-slate-100 rounded-2xl text-sm font-bold text-slate-700 outline-none focus:border-indigo-500 focus:bg-white transition-all duration-300 hover:border-slate-200"})]})]}),e.jsxs("div",{className:"group flex items-center justify-between p-5 bg-gradient-to-br from-slate-50 to-white rounded-[24px] border border-slate-100 hover:border-indigo-100 hover:shadow-md transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-white shadow-sm flex items-center justify-center text-indigo-500 group-hover:scale-110 transition-transform duration-300",children:e.jsx(Ze,{size:20})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-black text-slate-800",children:"Half Day Request?"}),e.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-tight mt-0.5",children:"Select if applying for a partial day"})]})]}),e.jsx("button",{type:"button",onClick:()=>V(le=>({...le,isHalfDay:!le.isHalfDay})),className:`w-12 h-6 rounded-full relative transition-all duration-500 group-hover:scale-110 ${H.isHalfDay?"bg-indigo-600 shadow-lg shadow-indigo-200":"bg-slate-200"}`,children:e.jsx("div",{className:`w-4 h-4 bg-white rounded-full absolute top-1 shadow-sm transition-all duration-500 ${H.isHalfDay?"left-7":"left-1"}`})})]}),e.jsxs("div",{className:"space-y-2.5",children:[e.jsx("label",{className:"text-[11px] font-black text-slate-500 uppercase tracking-[0.2em] ml-1",children:"Reason for Leave"}),e.jsx("textarea",{rows:4,value:H.reason,onChange:le=>V({...H,reason:le.target.value}),placeholder:"Please provide a detailed reason...",className:"w-full p-4 bg-slate-50 border-2 border-slate-100 rounded-2xl text-sm font-bold text-slate-700 outline-none focus:border-indigo-500 focus:bg-white transition-all duration-300 hover:border-slate-200 resize-none"})]}),e.jsxs("div",{className:"p-5 bg-indigo-50/50 rounded-[24px] border border-indigo-100/50 flex gap-4 transform hover:scale-[1.02] transition-transform duration-300",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-white flex items-center justify-center text-indigo-500 shadow-sm flex-shrink-0",children:e.jsx(ms,{size:16})}),e.jsx("p",{className:"text-[11px] text-indigo-700 font-bold leading-relaxed",children:"Your request will be forwarded to the management team for review. You will receive a notification once a decision has been made."})]})]})})};return g?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 min-h-screen bg-slate-50",children:[e.jsx("div",{className:"w-10 h-10 border-4 border-violet-600 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"mt-4 text-slate-500 font-medium tracking-tight",children:"Loading attendance data..."})]}):f?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6 animate-fadeIn font-sans",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 rounded-3xl blur-2xl opacity-15 animate-pulse"}),e.jsxs("div",{className:"relative bg-white/80 backdrop-blur-xl rounded-[32px] shadow-2xl border border-white/50 p-6 sm:p-8 overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-violet-50 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 opacity-50"}),e.jsxs("div",{className:"relative z-10 flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4 sm:gap-6",children:[e.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-xl shadow-violet-200 transform hover:scale-105 transition-transform duration-300 group flex-shrink-0",children:e.jsx(Ze,{size:28,className:"sm:w-9 sm:h-9 group-hover:rotate-12 transition-transform duration-300",strokeWidth:2})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-1",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-black text-slate-900 tracking-tight",children:"My Attendance"}),e.jsx("span",{className:"px-3 py-1 bg-violet-100 text-violet-700 text-[10px] sm:text-xs font-black uppercase tracking-wider rounded-full border border-violet-200",children:"Personal"})]}),e.jsx("p",{className:"text-slate-500 font-medium text-sm sm:text-lg",children:"Track your daily clock-in/out logs and working hours."})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("button",{onClick:()=>i(!0),className:"flex items-center justify-center gap-2 px-6 py-3 bg-indigo-50 text-indigo-700 border border-indigo-100 rounded-xl font-bold hover:bg-indigo-100 transition-all w-full sm:w-auto",children:[e.jsx(Xe,{size:18}),"Request Leave"]}),e.jsxs("button",{onClick:Y,disabled:u,className:`flex items-center justify-center gap-2 px-6 py-3 rounded-xl font-bold shadow-xl transition-all w-full sm:w-auto hover:scale-105 active:scale-95 ${u?"bg-slate-100 text-slate-400 cursor-not-allowed shadow-none border border-slate-200":o?"bg-amber-500 text-white shadow-amber-500/30 hover:shadow-amber-500/40":"bg-gradient-to-r from-violet-600 to-purple-600 text-white shadow-violet-500/30 hover:shadow-violet-500/40"}`,children:[u?e.jsx(Zt,{size:18}):o?e.jsx(W0,{size:18}):e.jsx(Nl,{size:18}),u?"Attendance Completed":`Today's ${o?"Check-out":"Check-in"}`]})]})]})]})]}),e.jsxs(jx,{children:[e.jsx(Kn,{title:"Today Check-in",value:w(f.summary.todayCheckIn),icon:Nl,color:"primary"}),e.jsx(Kn,{title:"Today Check-out",value:w(f.summary.todayCheckOut),icon:W0,color:"success"}),e.jsx(Kn,{title:"Total Hours Today",value:f.summary.totalHoursToday,icon:HC,color:"warning"}),e.jsx(Kn,{title:"Present This Month",value:`${f.summary.daysPresentMonth}/${f.summary.totalWorkDays} Days`,icon:Zn,color:"primary"})]}),e.jsxs("div",{className:"bg-white rounded-[32px] border border-slate-100 shadow-xl overflow-hidden p-4 sm:p-6 space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("h2",{className:"text-xl font-black text-slate-800 flex items-center gap-2",children:[e.jsx(Xe,{className:"text-violet-500",size:24}),"Attendance Logs"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx("select",{value:t,onChange:H=>a(H.target.value),className:"appearance-none bg-slate-50 border border-slate-100 text-slate-600 py-2.5 pl-4 pr-10 rounded-xl text-sm font-bold focus:outline-none focus:border-violet-500 transition-all cursor-pointer",children:[0,1,2,3,4,5,6,7,8,9,10,11].map(H=>{const V=new Date;V.setMonth(V.getMonth()-H);const $=V.toLocaleString("default",{month:"long",year:"numeric"});return e.jsx("option",{value:$,children:$},$)})}),e.jsx(kl,{size:16,className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"})]}),e.jsx("button",{className:"p-2.5 bg-slate-50 border border-slate-100 text-slate-400 rounded-xl hover:text-violet-600 hover:border-violet-100 transition-all",children:e.jsx(ks,{size:18})})]})]}),e.jsx("div",{className:"hidden md:block overflow-hidden rounded-2xl border border-slate-50",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50/50 border-b border-slate-100",children:[e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Date"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Check-In"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Check-Out"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Total Hours"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Status"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:B.length>0?B.map(H=>e.jsxs("tr",{className:"hover:bg-slate-50/50 transition-all duration-200 group",children:[e.jsx("td",{className:"px-6 py-5",children:e.jsx("span",{className:"text-sm font-bold text-slate-900 group-hover:text-violet-700 transition-colors",children:R(H.date)})}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold text-slate-600",children:[e.jsx(Nl,{size:14,className:"text-emerald-500"}),w(H.checkIn)]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold text-slate-600",children:[e.jsx(W0,{size:14,className:"text-rose-500"}),w(H.checkOut)]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsx("span",{className:"text-sm font-black text-slate-900",children:H.hours})}),e.jsx("td",{className:"px-6 py-5",children:e.jsx("div",{className:"flex justify-center",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-wider ${G(H.status)}`,children:H.status})})})]},H.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-10 text-center text-slate-400 font-medium",children:"No logs found for this month"})})})]})}),P>1&&e.jsxs("div",{className:"flex items-center justify-between px-2 py-4 border-t border-slate-50",children:[e.jsxs("p",{className:"text-xs font-bold text-slate-400",children:["Page ",C," of ",P]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>N(H=>Math.max(1,H-1)),disabled:C===1,className:"px-4 py-2 text-xs font-bold bg-slate-50 text-slate-600 rounded-xl hover:bg-slate-100 disabled:opacity-50 transition-all",children:"Previous"}),e.jsx("button",{onClick:()=>N(H=>Math.min(P,H+1)),disabled:C===P,className:"px-4 py-2 text-xs font-bold bg-violet-50 text-violet-700 rounded-xl hover:bg-violet-100 disabled:opacity-50 transition-all",children:"Next"})]})]}),e.jsxs("div",{className:"md:hidden space-y-4",children:[B.map(H=>e.jsx(Ya,{title:R(H.date),subtitle:`Check-in: ${w(H.checkIn)}`,status:H.status,statusColor:H.status==="Present"?"emerald":H.status==="Late"?"amber":"red",badge:H.hours,badgeColor:"violet",icon:Ze},H.id)),O.length===0&&e.jsx("div",{className:"py-8 text-center text-slate-400 text-sm font-medium",children:"No data available"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 px-1",children:[e.jsx(Xe,{size:18,className:"text-amber-500"}),e.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Leave History"})]}),e.jsxs(is,{className:"p-0 overflow-hidden border border-gray-100 shadow-xl rounded-[32px]",children:[e.jsx("div",{className:"hidden md:block overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50/50 border-b border-slate-100",children:[e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Date Range"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Type"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Reason"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Status"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:z.length>0?z.map(H=>e.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[e.jsx("td",{className:"px-6 py-5",children:e.jsxs("span",{className:"text-sm font-bold text-slate-900",children:[R(H.start)," ",H.start!==H.end?`  ${R(H.end)}`:""]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsx("span",{className:"text-xs font-bold text-slate-600",children:H.type})}),e.jsx("td",{className:"px-6 py-5",children:e.jsx("span",{className:"text-xs text-slate-500 font-medium truncate max-w-[200px] block",children:H.reason})}),e.jsx("td",{className:"px-6 py-5",children:e.jsx("div",{className:"flex justify-center",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-wider ${G(H.status)}`,children:H.status})})})]},H.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"px-6 py-10 text-center text-slate-400 font-medium",children:"No leave records for this month"})})})]})}),F>1&&e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-slate-50",children:[e.jsxs("p",{className:"text-xs font-bold text-slate-400",children:["Page ",k," of ",F]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>A(H=>Math.max(1,H-1)),disabled:k===1,className:"px-4 py-2 text-xs font-bold bg-slate-50 text-slate-600 rounded-xl hover:bg-slate-100 disabled:opacity-50 transition-all",children:"Previous"}),e.jsx("button",{onClick:()=>A(H=>Math.min(F,H+1)),disabled:k===F,className:"px-4 py-2 text-xs font-bold bg-amber-50 text-amber-700 rounded-xl hover:bg-amber-100 disabled:opacity-50 transition-all",children:"Next"})]})]}),e.jsxs("div",{className:"md:hidden p-4 space-y-4",children:[z.map(H=>e.jsxs("div",{className:"p-4 bg-slate-50 border border-slate-100 rounded-2xl space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-slate-900",children:R(H.start)}),e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-tight",children:H.type})]}),e.jsx("span",{className:`px-2 py-0.5 rounded-full text-[9px] font-bold uppercase ${G(H.status)}`,children:H.status})]}),e.jsxs("p",{className:"text-xs text-slate-500 font-medium italic",children:['"',H.reason,'"']})]},H.id)),W.length===0&&e.jsx("div",{className:"py-4 text-center text-slate-400 text-xs font-medium",children:"No records found"})]})]})]}),e.jsx(me,{})]}):e.jsx("div",{className:"p-8 text-center text-gray-500 min-h-screen bg-slate-50",children:"Failed to load data"})},Dz=()=>{const[s,t]=b.useState([]),[a,l]=b.useState(!0);b.useEffect(()=>{(async()=>{try{const u=(await eb.getAllAnnouncements()).filter(x=>x.targetRole==="trainer"||x.targetRole==="all"||!x.targetRole);t(u)}catch(c){console.error("Failed to fetch announcements:",c)}finally{l(!1)}})()},[]);const i=o=>{const c={high:{gradient:"from-rose-500 to-red-600",bg:"bg-rose-50",text:"text-rose-700",border:"border-rose-100",icon:ms,shadow:"shadow-rose-500/20"},medium:{gradient:"from-amber-500 to-orange-600",bg:"bg-amber-50",text:"text-amber-700",border:"border-amber-100",icon:Sn,shadow:"shadow-amber-500/20"},low:{gradient:"from-indigo-500 to-blue-600",bg:"bg-indigo-50",text:"text-indigo-700",border:"border-indigo-100",icon:Sn,shadow:"shadow-indigo-500/20"}};return c[o]||c.medium};return a?e.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:e.jsx("div",{className:"w-12 h-12 border-4 border-indigo-600 border-t-transparent rounded-full animate-spin"})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-indigo-50/20 p-6 md:p-10 font-sans",children:[e.jsx("div",{className:"max-w-7xl mx-auto mb-12",children:e.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-8",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute -top-10 -left-10 w-40 h-40 bg-indigo-200 rounded-full blur-3xl opacity-20 pointer-events-none"}),e.jsxs("h1",{className:"relative text-3xl md:text-5xl font-black text-slate-800 flex items-center gap-4",children:[e.jsx(vn,{className:"text-indigo-600",size:40}),"Announcements"]}),e.jsx("p",{className:"text-slate-500 mt-3 text-lg font-medium max-w-xl",children:"Stay updated with the latest gym news, events, and trainer-specific updates."})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:s.length===0?e.jsxs("div",{className:"col-span-full py-24 flex flex-col items-center justify-center text-center",children:[e.jsx("div",{className:"w-24 h-24 bg-white/60 backdrop-blur-md rounded-[40px] shadow-sm flex items-center justify-center text-slate-200 mb-6 border border-white/50",children:e.jsx(vn,{size:48,className:"opacity-20"})}),e.jsx("h3",{className:"text-xl font-black text-slate-800 tracking-tight",children:"No Announcements for You"}),e.jsx("p",{className:"text-slate-500 text-sm font-medium max-w-sm mx-auto mt-2",children:"There are currently no announcements relevant to trainers. Check back later!"})]}):s.map(o=>{const c=i(o.priority?.toLowerCase()),u=c.icon;return e.jsxs("div",{className:"group relative bg-white/60 backdrop-blur-md rounded-[40px] border border-white/50 p-8 shadow-sm hover:shadow-2xl transition-all duration-500 hover:-translate-y-2 overflow-hidden",children:[e.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 bg-gradient-to-br ${c.gradient} opacity-[0.03] rounded-full -translate-y-1/2 translate-x-1/2 group-hover:scale-150 transition-transform duration-700`}),e.jsxs("div",{className:"flex justify-between items-start mb-8",children:[e.jsx("div",{className:`w-14 h-14 rounded-2xl bg-gradient-to-br ${c.gradient} flex items-center justify-center text-white shadow-xl ${c.shadow} group-hover:rotate-12 transition-transform`,children:e.jsx(u,{size:28})}),e.jsx("span",{className:`px-4 py-1.5 rounded-full ${c.bg} ${c.text} text-[10px] font-black uppercase tracking-widest border ${c.border}`,children:o.priority})]}),e.jsx("h3",{className:"text-xl font-black text-slate-800 mb-3 group-hover:text-indigo-600 transition-colors leading-tight",children:o.title}),e.jsx("p",{className:"text-slate-500 text-sm font-medium leading-relaxed mb-8",children:o.message}),e.jsxs("div",{className:"pt-6 border-t border-slate-50 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-slate-50 flex items-center justify-center text-slate-400",children:e.jsx(Pt,{size:16})}),e.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:o.targetRole||"all"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-bold text-slate-400 whitespace-nowrap",children:[e.jsx(Xe,{size:14,className:"text-slate-300"}),o.date]})]})]},o.id)})})]})},Lz=()=>{const[s,t]=b.useState([]),[a,l]=b.useState([]),[i,o]=b.useState({}),[c,u]=b.useState(!0),[x,h]=b.useState(!1),[p,f]=b.useState(!1),[y,g]=b.useState(null),v=async()=>{u(!0);try{const w=await q9();t(w.weekly||[]),l(w.timeOff||[]),o(w.preferences||{instantBooking:!0,requireApproval:!1,autoAcceptReturning:!0})}catch(w){console.error("Failed to load availability:",w)}finally{u(!1)}};b.useEffect(()=>{v()},[]);const C=async w=>{const R={...i,[w]:!i[w]};o(R);try{await nf({preferences:R})}catch{alert("Failed to save preference"),o(i)}},N=async w=>{if(window.confirm("Are you sure you want to remove this time off?"))try{await H9(w),l(a.filter(R=>R.id!==w)),alert("Time off removed successfully!")}catch{alert("Failed to remove time off")}},k=w=>{g(s.find(R=>R.day===w)),h(!0)},A=()=>{const[w,R]=b.useState([]),[T,O]=b.useState(""),[W,B]=b.useState("");b.useEffect(()=>{y&&R(y.slots?[...y.slots]:[])},[y]);const z=async()=>{const G=s.map(Y=>Y.day===y.day?{...Y,slots:w}:Y);try{await nf({schedule:G}),t(G),h(!1),alert("Schedule updated successfully!")}catch{alert("Failed to update schedule")}},P=()=>{if(!T||!W)return alert("Please specify start and end times");const G=Y=>{const[me,H]=Y.split(":");let V=parseInt(me);const $=V>=12?"PM":"AM";return V=V%12||12,`${V.toString().padStart(2,"0")}:${H} ${$}`};R([...w,{start:G(T),end:G(W)}]),O(""),B("")},F=G=>{R(w.filter((Y,me)=>me!==G))};return e.jsx(rt,{isOpen:x,onClose:()=>h(!1),title:`Availability: ${y?.day}`,subtitle:"Manage your time slots",footer:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:z,className:"flex-1 py-2.5 bg-indigo-600 text-white rounded-lg text-sm font-bold shadow-md hover:bg-indigo-700 transition-all",children:"Save Changes"}),e.jsx("button",{onClick:()=>h(!1),className:"px-6 py-2.5 bg-gray-50 border border-gray-200 text-gray-600 rounded-lg text-sm font-bold",children:"Cancel"})]}),children:e.jsxs("div",{className:"space-y-6",children:[w.map((G,Y)=>e.jsxs("div",{className:"p-4 bg-gray-50 border border-gray-100 rounded-2xl flex items-center justify-between group",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ze,{size:16,className:"text-indigo-500"}),e.jsxs("span",{className:"text-sm font-bold text-gray-800",children:[G.start,"  ",G.end]})]}),e.jsx("button",{onClick:()=>F(Y),className:"p-2 text-gray-300 hover:text-red-500 transition-colors",children:e.jsx(xs,{size:16})})]},Y)),e.jsxs("div",{className:"p-4 border-2 border-dashed border-gray-200 rounded-2xl space-y-4",children:[e.jsx("p",{className:"text-sm font-bold text-gray-700 text-center",children:"Add New Slot"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:"Start Time"}),e.jsx("input",{type:"time",value:T,onChange:G=>O(G.target.value),className:"w-full p-2 border border-gray-200 rounded-lg font-medium text-sm outline-none focus:ring-2 focus:ring-indigo-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:"End Time"}),e.jsx("input",{type:"time",value:W,onChange:G=>B(G.target.value),className:"w-full p-2 border border-gray-200 rounded-lg font-medium text-sm outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),e.jsx("button",{onClick:P,className:"w-full py-2 bg-indigo-50 text-indigo-600 rounded-xl text-sm font-bold hover:bg-indigo-100 transition-colors",children:"+ Add to Schedule"})]}),e.jsxs("div",{className:"space-y-3 pt-4 border-t border-gray-100",children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Configuration"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs font-bold text-gray-700",children:"Slot Duration"}),e.jsxs("select",{className:"w-full p-3 bg-white border border-gray-200 rounded-xl text-sm focus:ring-2 focus:ring-indigo-500 outline-none",children:[e.jsx("option",{children:"30 Minutes"}),e.jsx("option",{children:"60 Minutes"}),e.jsx("option",{children:"90 Minutes"})]})]})]})]})})},E=()=>{const[w,R]=b.useState(""),[T,O]=b.useState(""),[W,B]=b.useState(""),z=async()=>{if(!T||!W||!w)return alert("Fill all fields");try{await nf({newTimeOff:{start:T,end:W,reason:w}}),alert("Dates blocked successfully!"),f(!1),v()}catch{alert("Error updating availability")}};return e.jsx(rt,{isOpen:p,onClose:()=>f(!1),title:"Add Time Off",subtitle:"Block dates on your calendar",footer:e.jsx("button",{onClick:z,className:"w-full py-2.5 bg-indigo-600 text-white rounded-lg text-sm font-bold shadow-md hover:bg-indigo-700 transition-all",children:"Block Dates"}),children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-bold text-gray-700",children:"Reason"}),e.jsx("input",{value:w,onChange:P=>R(P.target.value),type:"text",placeholder:"e.g. Vacation, Sick Leave",className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl text-sm outline-none focus:ring-2 focus:ring-indigo-500"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-bold text-gray-700",children:"Start Date"}),e.jsx("input",{value:T,onChange:P=>O(P.target.value),type:"date",className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl text-sm outline-none focus:ring-2 focus:ring-indigo-500"})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-bold text-gray-700",children:"End Date"}),e.jsx("input",{value:W,onChange:P=>B(P.target.value),type:"date",className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl text-sm outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),e.jsxs("div",{className:"p-4 bg-amber-50 rounded-xl border border-amber-100 flex gap-3",children:[e.jsx(ms,{size:18,className:"text-amber-500 shrink-0 mt-0.5"}),e.jsx("p",{className:"text-[10px] text-amber-700 font-medium",children:"Any existing appointments during these dates will need to be rescheduled manually."})]})]})})};return c?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 min-h-screen bg-slate-50",children:[e.jsx("div",{className:"w-10 h-10 border-4 border-indigo-600 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"mt-4 text-slate-500 font-medium tracking-tight",children:"Loading settings..."})]}):e.jsxs("div",{className:"h-[calc(100vh-6rem)] overflow-y-auto pr-2 pb-8 space-y-8 fade-in scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-transparent",children:[e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 pb-6 border-b-2 border-gray-100",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 mb-1",children:"Availability Settings"}),e.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Manage your personal booking schedule and preferences"})]})}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"xl:col-span-2 space-y-8",children:[e.jsxs("section",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 px-1",children:[e.jsx(Ze,{size:18,className:"text-indigo-600"}),e.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Weekly Availability"})]}),e.jsx(is,{className:"p-0 overflow-hidden border border-gray-200 shadow-md",children:e.jsx("div",{className:"divide-y divide-gray-50",children:s.map(w=>e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center p-4 sm:p-5 hover:bg-gray-50 transition-colors gap-4",children:[e.jsx("div",{className:"w-32",children:e.jsx("p",{className:"font-black text-gray-900 text-sm",children:w.day})}),e.jsx("div",{className:"flex-1",children:w.slots.length>0?e.jsx("div",{className:"flex flex-wrap gap-2",children:w.slots.map((R,T)=>e.jsxs("span",{className:"px-3 py-1 bg-indigo-50 text-indigo-700 rounded-full text-[11px] font-black border border-indigo-100",children:[R.start,"  ",R.end]},T))}):e.jsx("span",{className:"text-xs text-gray-400 font-bold italic",children:"Not Available"})}),e.jsx("button",{onClick:()=>k(w.day),className:"p-2 bg-white border border-gray-100 rounded-xl text-gray-400 hover:text-indigo-600 hover:shadow-sm transition-all shadow-sm",children:e.jsx(Ra,{size:16})})]},w.day))})})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between px-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Xe,{size:18,className:"text-amber-500"}),e.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Time Off / Blocked Dates"})]}),e.jsxs("button",{onClick:()=>f(!0),className:"px-3 py-1.5 bg-indigo-50 text-indigo-700 rounded-lg text-xs font-black hover:bg-indigo-100 transition-all flex items-center gap-1.5",children:[e.jsx(wt,{size:14}),"Add Time Off"]})]}),e.jsx(is,{className:"p-5 border border-gray-200 shadow-md",children:a.length>0?e.jsx("div",{className:"space-y-3",children:a.map(w=>e.jsxs("div",{className:"p-4 bg-gray-50 border border-gray-100 rounded-2xl flex items-center justify-between group",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 bg-white rounded-xl flex items-center justify-center text-amber-500 shadow-sm",children:e.jsx(Yg,{size:20})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"text-sm font-black text-gray-800",children:w.reason}),e.jsx("span",{className:`px-2 py-0.5 rounded-full text-[9px] font-black uppercase tracking-wider ${w.status==="Approved"?"bg-emerald-50 text-emerald-600":w.status==="Rejected"?"bg-rose-50 text-rose-600":"bg-amber-50 text-amber-600"}`,children:w.status})]}),e.jsx("p",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-tight",children:w.start===w.end?w.start:`${w.start} to ${w.end}`})]})]}),e.jsx("button",{onClick:()=>N(w.id),className:"p-2 text-gray-300 hover:text-red-500 transition-colors",children:e.jsx(xs,{size:16})})]},w.id))}):e.jsx("div",{className:"py-8 text-center bg-gray-50/50 rounded-2xl border border-dashed border-gray-200",children:e.jsx("p",{className:"text-gray-400 text-sm font-bold italic",children:"No upcoming time off set."})})})]})]}),e.jsx("div",{className:"space-y-8",children:e.jsxs("section",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 px-1",children:[e.jsx(om,{size:18,className:"text-slate-600"}),e.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Booking Rules"})]}),e.jsxs(is,{className:"p-5 border border-gray-200 shadow-md space-y-6",children:[e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"flex items-center justify-between group",children:[e.jsxs("div",{className:"max-w-[80%]",children:[e.jsx("p",{className:"text-sm font-black text-gray-800",children:"Instant Booking"}),e.jsx("p",{className:"text-[10px] text-gray-500 font-medium",children:"Clients can book available slots immediately."})]}),e.jsx("button",{onClick:()=>C("instantBooking"),className:`w-10 h-6 flex items-center rounded-full px-1 transition-all duration-300 ${i.instantBooking?"bg-indigo-600":"bg-gray-300"}`,children:e.jsx("div",{className:`w-4 h-4 rounded-full bg-white transition-all transform ${i.instantBooking?"translate-x-4":""}`})})]}),e.jsxs("div",{className:"flex items-center justify-between group",children:[e.jsxs("div",{className:"max-w-[80%]",children:[e.jsx("p",{className:"text-sm font-black text-gray-800",children:"Manual Approval"}),e.jsx("p",{className:"text-[10px] text-gray-500 font-medium",children:"Require approval for every new booking request."})]}),e.jsx("button",{onClick:()=>C("requireApproval"),className:`w-10 h-6 flex items-center rounded-full px-1 transition-all duration-300 ${i.requireApproval?"bg-indigo-600":"bg-gray-300"}`,children:e.jsx("div",{className:`w-4 h-4 rounded-full bg-white transition-all transform ${i.requireApproval?"translate-x-4":""}`})})]}),e.jsxs("div",{className:"flex items-center justify-between group",children:[e.jsxs("div",{className:"max-w-[80%]",children:[e.jsx("p",{className:"text-sm font-black text-gray-800",children:"Auto-Accept Returning"}),e.jsx("p",{className:"text-[10px] text-gray-500 font-medium",children:"Skip approval for existing active clients."})]}),e.jsx("button",{onClick:()=>C("autoAcceptReturning"),className:`w-10 h-6 flex items-center rounded-full px-1 transition-all duration-300 ${i.autoAcceptReturning?"bg-indigo-600":"bg-gray-300"}`,children:e.jsx("div",{className:`w-4 h-4 rounded-full bg-white transition-all transform ${i.autoAcceptReturning?"translate-x-4":""}`})})]})]}),e.jsx("div",{className:"pt-5 border-t border-gray-100",children:e.jsxs("div",{className:"bg-indigo-50 p-4 rounded-2xl border border-indigo-100 flex gap-3",children:[e.jsx(Zt,{size:18,className:"text-indigo-500 shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[11px] font-black text-indigo-700 uppercase",children:"Pro Tip"}),e.jsx("p",{className:"text-[10px] text-indigo-900 font-medium leading-relaxed",children:"Regularly updating your availability increases booking conversion by 40%."})]})]})})]})]})})]}),e.jsx(A,{}),e.jsx(E,{})]})},Ez=()=>{const[s,t]=b.useState(new Date),[a,l]=b.useState("month"),[i,o]=b.useState([]),[c,u]=b.useState(!0),[x,h]=b.useState("");b.useEffect(()=>{p()},[s,a]);const p=async()=>{u(!0);let w,R;if(a==="month")w=new Date(s.getFullYear(),s.getMonth(),1),R=new Date(s.getFullYear(),s.getMonth()+1,0);else if(a==="week"){const O=new Date(s);O.setDate(s.getDate()-(s.getDay()===0?6:s.getDay()-1)),O.setHours(0,0,0,0),w=O,R=new Date(w),R.setDate(w.getDate()+6),R.setHours(23,59,59,999)}else w=new Date(s),w.setHours(0,0,0,0),R=new Date(s),R.setHours(23,59,59,999);const T=await cL(w,R);o(T),u(!1)},f=()=>{const w=new Date(s);a==="month"?w.setMonth(s.getMonth()-1):a==="week"?w.setDate(s.getDate()-7):w.setDate(s.getDate()-1),t(w)},y=()=>{const w=new Date(s);a==="month"?w.setMonth(s.getMonth()+1):a==="week"?w.setDate(s.getDate()+7):w.setDate(s.getDate()+1),t(w)},g=()=>{t(new Date)},v=()=>{if(a==="month")return s.toLocaleString("default",{month:"long",year:"numeric"});if(a==="week"){const w=new Date(s);w.setDate(s.getDate()-(s.getDay()===0?6:s.getDay()-1));const R=new Date(w);return R.setDate(w.getDate()+6),w.getMonth()===R.getMonth()?`${w.toLocaleString("default",{month:"long"})} ${w.getDate()} - ${R.getDate()}, ${w.getFullYear()}`:`${w.toLocaleString("default",{month:"short"})} ${w.getDate()} - ${R.toLocaleString("default",{month:"short"})} ${R.getDate()}, ${w.getFullYear()}`}else return s.toLocaleString("default",{day:"numeric",month:"long",year:"numeric"})},N=(()=>{if(a==="month"){const w=new Date(s.getFullYear(),s.getMonth(),1),R=new Date(s.getFullYear(),s.getMonth()+1,0),T=w.getDay()===0?6:w.getDay()-1,O=[];for(let B=T;B>0;B--){const z=new Date(w);z.setDate(w.getDate()-B),O.push({day:z.getDate(),date:z,isOtherMonth:!0})}for(let B=1;B<=R.getDate();B++)O.push({day:B,date:new Date(s.getFullYear(),s.getMonth(),B),isOtherMonth:!1});const W=42-O.length;for(let B=1;B<=W;B++){const z=new Date(s.getFullYear(),s.getMonth()+1,B);O.push({day:B,date:z,isOtherMonth:!0})}return O}else if(a==="week"){const w=new Date(s);return w.setDate(s.getDate()-(s.getDay()===0?6:s.getDay()-1)),Array.from({length:7},(R,T)=>{const O=new Date(w);return O.setDate(w.getDate()+T),{day:O.getDate(),date:O,isOtherMonth:!1}})}else return[{day:s.getDate(),date:new Date(s),isOtherMonth:!1}]})(),k=i.filter(w=>w.title.toLowerCase().includes(x.toLowerCase())),A=w=>{const R=w.toISOString().split("T")[0];return k.filter(T=>T.date?T.date.split("T")[0]===R:T.day===w.getDate()&&w.getMonth()===s.getMonth()&&w.getFullYear()===s.getFullYear())},E=w=>{switch(w){case"blue":return"bg-blue-50 text-blue-700 border-blue-100";case"purple":return"bg-purple-50 text-purple-700 border-purple-100";case"orange":return"bg-orange-50 text-orange-700 border-orange-100";case"red":return"bg-red-50 text-red-700 border-red-100";case"emerald":return"bg-emerald-50 text-emerald-700 border-emerald-100";default:return"bg-gray-50 text-gray-700 border-gray-100"}};return e.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 max-w-[1600px] mx-auto flex flex-col gap-6 animate-in fade-in duration-500",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white border border-gray-200 rounded-2xl flex items-center justify-center text-blue-600 shadow-sm",children:e.jsx(Xe,{size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"Session Calendar"}),e.jsx("p",{className:"text-gray-500 text-sm mt-0.5",children:v()})]})]}),e.jsxs("div",{className:"flex items-center gap-2 bg-white p-1.5 border border-gray-200 rounded-2xl shadow-sm",children:[e.jsx("button",{onClick:()=>l("month"),className:`px-4 py-2 rounded-xl text-sm font-bold transition-all ${a==="month"?"bg-blue-600 text-white shadow-lg shadow-blue-200":"text-gray-500 hover:bg-gray-50"}`,children:"Month"}),e.jsx("button",{onClick:()=>l("week"),className:`px-4 py-2 rounded-xl text-sm font-bold transition-all ${a==="week"?"bg-blue-600 text-white shadow-lg shadow-blue-200":"text-gray-500 hover:bg-gray-50"}`,children:"Week"}),e.jsx("button",{onClick:()=>l("day"),className:`px-4 py-2 rounded-xl text-sm font-bold transition-all ${a==="day"?"bg-blue-600 text-white shadow-lg shadow-blue-200":"text-gray-500 hover:bg-gray-50"}`,children:"Day"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center bg-white p-4 rounded-3xl border border-gray-100 shadow-sm gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:f,className:"p-2 hover:bg-gray-50 rounded-xl border border-gray-100 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(Xr,{size:20})}),e.jsx("button",{onClick:y,className:"p-2 hover:bg-gray-50 rounded-xl border border-gray-100 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(bs,{size:20})})]}),e.jsx("button",{onClick:g,className:"px-4 py-2 text-sm font-bold text-blue-600 hover:bg-blue-50 rounded-xl transition-colors",children:"Today"})]}),e.jsx("div",{className:"flex items-center gap-3 w-full sm:w-auto",children:e.jsxs("div",{className:"relative flex-1 sm:w-64",children:[e.jsx(st,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),e.jsx("input",{type:"text",placeholder:"Find session...",className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border-none rounded-xl text-sm focus:ring-2 focus:ring-blue-500 transition-all outline-none",value:x,onChange:w=>h(w.target.value)})]})})]}),e.jsxs("div",{className:"bg-white rounded-[32px] border border-gray-100 shadow-xl overflow-hidden",children:[a!=="day"&&e.jsx("div",{className:"grid grid-cols-7 border-b border-gray-100 bg-gray-50/50",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map(w=>e.jsx("div",{className:"py-4 text-center text-xs font-black text-gray-400 uppercase tracking-widest",children:w},w))}),e.jsx("div",{className:`grid ${a==="day"?"grid-cols-1":"grid-cols-7"} auto-rows-fr`,children:N.map((w,R)=>{const T=w.date.toDateString()===new Date().toDateString(),O=w.isOtherMonth,W=A(w.date);return e.jsxs("div",{className:`min-h-[120px] md:min-h-[160px] p-2 border-r border-b border-gray-100 transition-all hover:bg-gray-50/50 group relative ${O?"bg-gray-50/20":""}`,children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("span",{className:`text-sm font-black w-7 h-7 flex items-center justify-center rounded-lg transition-all ${T?"bg-blue-600 text-white shadow-lg shadow-blue-200":O?"text-gray-300":"text-gray-500"}`,children:w.day}),!O&&e.jsx("button",{className:"opacity-0 group-hover:opacity-100 p-1 hover:bg-white rounded-lg border border-gray-100 text-gray-400 transition-all",children:e.jsx(wt,{size:14})})]}),e.jsxs("div",{className:"flex flex-col gap-1.5 overflow-hidden",children:[W.map(B=>e.jsxs("div",{className:`p-1.5 md:p-2 rounded-xl border text-[10px] md:text-xs font-bold transition-all hover:scale-[1.02] cursor-pointer shadow-sm ${E(B.color)}`,children:[e.jsxs("div",{className:"flex items-center gap-1 opacity-70 mb-0.5",children:[e.jsx(Ze,{size:10}),B.time]}),e.jsx("div",{className:"truncate",children:B.title})]},B.id)),W.length>2&&e.jsxs("div",{className:"text-[10px] font-bold text-gray-400 px-1",children:["+ ",W.length-2," more"]})]})]},R)})})]}),e.jsxs("div",{className:"lg:hidden flex items-center justify-center gap-2 p-4 bg-blue-50 border border-blue-100 rounded-2xl",children:[e.jsx(Uw,{size:16,className:"text-blue-500"}),e.jsx("span",{className:"text-xs font-bold text-blue-700",children:"Tip: Tap a day to see full session details"})]})]})},Mz=()=>{const[s,t]=b.useState([]),[a,l]=b.useState(!0),[i,o]=b.useState("All"),[c,u]=b.useState(""),x=V=>{if(!V)return new Date;const[$,le,ge]=V.split("-").map(Number);return new Date($,le-1,ge)},[h,p]=b.useState(null),[f,y]=b.useState(!1),[g,v]=b.useState(null),[C,N]=b.useState(!1),[k,A]=b.useState(!1),[E,w]=b.useState({title:"",date:"",time:"",duration:"60 min",location:"Studio A",maxMembers:"20",type:"Group Class"}),[R,T]=b.useState(null),[O,W]=b.useState([]),[B,z]=b.useState(!1);b.useEffect(()=>{h&&f&&(async()=>{z(!0);try{const $=await oL(h.id);W($||[])}catch($){console.error("Failed to fetch roster:",$),W([])}finally{z(!1)}})()},[h,f]),b.useEffect(()=>{P()},[i,c]);const P=async()=>{l(!0);const $=await rL({filters:{type:i==="All"?"":i,search:c},limit:100});t($?.data||[]),l(!1)},F=async(V,$)=>{await dL(V,$==="Confirmed"?"Pending":"Confirmed"),P()},G=V=>{if(!V)return"bg-gray-50 text-gray-700 border-gray-100 hover:bg-gray-100 hover:shadow-lg cursor-pointer";switch(V.toLowerCase()){case"confirmed":return"bg-green-50 text-green-700 border-green-100 hover:bg-green-100 hover:shadow-lg cursor-pointer";case"pending":return"bg-amber-50 text-amber-700 border-amber-100 hover:bg-amber-100 hover:shadow-lg cursor-pointer";default:return"bg-gray-50 text-gray-700 border-gray-100 hover:bg-gray-100 hover:shadow-lg cursor-pointer"}},Y=async V=>{V.preventDefault(),A(!0);try{R?(await nL(R,E),Ve.success("Session updated successfully")):(await lL(E),Ve.success("Session created successfully")),N(!1),T(null),w({title:"",date:"",time:"",duration:"60 min",location:"Studio A",maxMembers:"20",type:"Group Class"}),P()}catch($){console.error("Error saving slot:",$),Ve.error($.message||"Failed to save session")}finally{A(!1)}},me=V=>{T(V.id),w({title:V.title,date:V.date,time:V.time,duration:V.duration||"60 min",location:V.location,maxMembers:V.maxMembers,type:V.type}),N(!0),v(null)},H=async V=>{if(window.confirm("Are you sure you want to cancel and delete this session? This action cannot be undone."))try{await iL(V),Ve.success("Session cancelled and deleted"),P()}catch($){Ve.error($.message||"Failed to delete session")}v(null)};return e.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 max-w-[1600px] mx-auto flex flex-col gap-6 animate-in fade-in duration-500 pb-12",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{className:"transform hover:translate-x-1 transition-transform duration-300",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 tracking-tight bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text hover:from-blue-600 hover:to-purple-600 transition-all duration-500",children:"Upcoming Sessions"}),e.jsx("p",{className:"text-gray-500 text-sm mt-1 hover:text-gray-700 transition-colors duration-300",children:"Review your schedule for the next 7 days"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("button",{onClick:()=>{T(null),w({title:"",date:"",time:"",duration:"60 min",location:"Studio A",maxMembers:"20",type:"Group Class"}),N(!0)},className:"flex items-center gap-2 px-4 sm:px-6 py-2.5 bg-blue-600 text-white rounded-xl text-sm font-bold hover:bg-blue-500 transition-all shadow-lg shadow-blue-200 active:scale-95 hover:scale-105 hover:shadow-xl",children:[e.jsx("span",{className:"hidden sm:inline",children:"Create New Slot"}),e.jsx("span",{className:"sm:hidden",children:"+ New"})]})})]}),e.jsxs("div",{className:"bg-white p-4 rounded-3xl border border-gray-100 shadow-sm flex flex-col md:flex-row gap-4 items-center hover:shadow-xl hover:border-blue-200 transition-all duration-500 transform hover:-translate-y-1",children:[e.jsxs("div",{className:"relative flex-1 w-full group",children:[e.jsx(st,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-hover:text-blue-500 group-hover:scale-110 transition-all duration-300",size:18}),e.jsx("input",{type:"text",placeholder:"Search by session title or member name...",className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border-none rounded-2xl text-sm focus:ring-2 focus:ring-blue-500 transition-all outline-none hover:bg-white hover:shadow-sm",value:c,onChange:V=>u(V.target.value)})]}),e.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto overflow-x-auto no-scrollbar py-1",children:[["All","Group Class","One-on-One"].map(V=>e.jsx("button",{onClick:()=>o(V),className:`px-4 py-2 rounded-xl text-xs font-bold whitespace-nowrap transition-all border hover:scale-105 hover:shadow-md ${i===V?"bg-gray-900 text-white border-gray-900 shadow-lg":"bg-white text-gray-500 border-gray-200 hover:border-gray-300"}`,children:V},V)),e.jsx("div",{className:"h-6 w-px bg-gray-200 mx-2"}),e.jsx("button",{className:"p-2 bg-gray-50 text-gray-500 rounded-xl hover:bg-gray-100 hover:scale-110 hover:shadow-md transition-all duration-300 group",children:e.jsx(ks,{size:18,className:"group-hover:rotate-12 transition-transform duration-300"})})]})]}),a?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[e.jsx("div",{className:"w-10 h-10 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"mt-4 text-gray-500 font-medium",children:"Loading sessions..."})]}):s.length>0?e.jsx("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 text-left",children:s.map(V=>e.jsxs("div",{className:"group bg-white rounded-[32px] border border-gray-100 shadow-sm hover:shadow-2xl hover:border-blue-200 transition-all duration-500 overflow-hidden flex flex-col md:flex-row hover:scale-[1.02] transform",children:[e.jsxs("div",{className:"md:w-36 bg-slate-50 p-6 flex flex-col items-center justify-center text-center border-b md:border-b-0 md:border-r border-slate-100 group-hover:bg-indigo-50 transition-colors duration-500",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1 group-hover:text-indigo-600 transition-colors duration-300",children:x(V.date).toLocaleDateString("en-US",{weekday:"short"})}),e.jsx("p",{className:"text-3xl font-black text-slate-900 group-hover:text-indigo-600 group-hover:scale-110 transition-all duration-500",children:x(V.date).getDate()}),e.jsx("p",{className:"text-[10px] font-black text-slate-500 group-hover:text-indigo-600 transition-colors duration-300 uppercase tracking-tighter",children:x(V.date).toLocaleDateString("en-US",{month:"short"})})]}),e.jsxs("div",{className:"flex-1 p-4 sm:p-6 flex flex-col justify-between relative",children:[e.jsxs("div",{className:"absolute top-4 sm:top-6 right-4 sm:right-6 flex items-center gap-2",children:[e.jsx("button",{onClick:()=>F(V.id,V.status),className:`px-2.5 py-1 rounded-lg text-[10px] font-black uppercase border transition-all active:scale-95 hover:scale-110 hover:shadow-lg ${G(V.status)}`,children:V.status}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:$=>{$.stopPropagation(),v(g===V.id?null:V.id)},className:`p-1.5 rounded-lg transition-all hover:scale-110 ${g===V.id?"bg-blue-50 text-blue-600 rotate-90":"hover:bg-gray-50 text-gray-300"}`,children:e.jsx(qc,{size:18})}),g===V.id&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>v(null)}),e.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-2xl shadow-xl border border-gray-100 py-2 z-20 animate-in zoom-in-95 duration-200 origin-top-right",children:[e.jsxs("button",{onClick:()=>me(V),className:"w-full px-4 py-2.5 text-left text-sm font-bold text-gray-700 hover:bg-gray-50 flex items-center gap-2 transition-colors group/item",children:[e.jsx(Od,{size:16,className:"text-blue-500 group-hover/item:scale-125 group-hover/item:rotate-12 transition-all duration-300"})," Edit Slot"]}),e.jsx("div",{className:"h-px bg-gray-100 my-1 mx-2"}),e.jsxs("button",{onClick:()=>H(V.id),className:"w-full px-4 py-2.5 text-left text-sm font-bold text-red-600 hover:bg-red-50 flex items-center gap-2 transition-colors group/item",children:[e.jsx(xs,{size:16,className:"text-red-500 group-hover/item:scale-125 transition-all duration-300"})," Cancel Session"]})]})]})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center gap-2 mb-3",children:e.jsx("span",{className:`px-2.5 py-0.5 rounded-lg text-[9px] font-black uppercase tracking-widest group-hover:scale-110 transition-transform duration-300 inline-block border ${V.type==="One-on-One"?"bg-purple-50 text-purple-600 border-purple-100":"bg-indigo-50 text-indigo-600 border-indigo-100"}`,children:V.type})}),e.jsx("h3",{className:"text-xl font-black text-slate-800 group-hover:text-indigo-600 group-hover:translate-x-1 transition-all duration-300 mb-4 tracking-tight leading-tight",children:V.title}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-y-3 gap-x-6",children:[e.jsxs("div",{className:"flex items-center gap-3 text-slate-500 group-hover:text-indigo-600 transition-colors duration-300",children:[e.jsx("div",{className:"p-2 bg-slate-50 rounded-xl group-hover:bg-white group-hover:shadow-md group-hover:scale-110 transition-all duration-300",children:e.jsx(Ze,{size:16,className:"text-indigo-500 group-hover:rotate-12 transition-transform duration-300"})}),e.jsx("span",{className:"text-[11px] font-black uppercase tracking-widest",children:V.time})]}),e.jsxs("div",{className:"flex items-center gap-3 text-slate-500 group-hover:text-amber-600 transition-colors duration-300",children:[e.jsx("div",{className:"p-2 bg-slate-50 rounded-xl group-hover:bg-white group-hover:shadow-md group-hover:scale-110 transition-all duration-300",children:e.jsx(Ws,{size:16,className:"text-amber-400 group-hover:scale-125 transition-transform duration-300"})}),e.jsx("span",{className:"text-[11px] font-black uppercase tracking-widest truncate",children:V.location})]}),e.jsxs("div",{className:"flex items-center gap-3 text-slate-500 group-hover:text-fuchsia-600 transition-colors duration-300",children:[e.jsx("div",{className:"p-2 bg-slate-50 rounded-xl group-hover:bg-white group-hover:shadow-md group-hover:scale-110 transition-all duration-300",children:e.jsx(Pt,{size:16,className:"text-fuchsia-400 group-hover:scale-125 transition-transform duration-300"})}),e.jsxs("span",{className:"text-[11px] font-black uppercase tracking-widest",children:[V.members,"/",V.maxMembers," Members"]})]})]})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-100 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex -space-x-3",children:[[1,2,3].map($=>e.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-white bg-indigo-50 flex items-center justify-center text-[10px] font-black text-indigo-600 group-hover:scale-110 group-hover:rotate-6 transition-all duration-500 hover:z-10 shadow-sm",children:String.fromCharCode(64+$)},$)),V.members>3&&e.jsxs("div",{className:"w-10 h-10 rounded-full border-2 border-white bg-slate-50 flex items-center justify-center text-[10px] font-black text-slate-500 group-hover:scale-110 transition-all duration-500 shadow-sm",children:["+",V.members-3]})]}),e.jsxs("button",{onClick:()=>{p(V),y(!0)},className:"flex items-center gap-2 py-2 px-4 bg-slate-50 rounded-xl text-[10px] font-black uppercase tracking-widest text-indigo-600 hover:bg-indigo-600 hover:text-white transition-all hover:scale-105 active:scale-95 group/btn shadow-sm hover:shadow-indigo-100",children:["View Details ",e.jsx(Nl,{size:14,className:"group-hover/btn:rotate-45 group-hover/btn:scale-125 transition-all duration-300"})]})]})]})]},V.id))}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 bg-white rounded-[40px] border border-gray-100 shadow-sm border-dashed",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-50 rounded-full flex items-center justify-center text-gray-300 mb-6",children:e.jsx(Xe,{size:40})}),e.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"No sessions found"}),e.jsx("p",{className:"text-gray-500 mt-2 max-w-xs text-center",children:"Try adjusting your filters or search term."})]}),e.jsx(rt,{isOpen:f,onClose:()=>y(!1),title:"Session Details",subtitle:`${h?.title}  ${h?.time}`,maxWidth:"max-w-2xl",footer:e.jsx("div",{className:"flex gap-4 w-full",children:e.jsxs("button",{onClick:()=>me(h),className:"w-full py-4 bg-white border border-gray-200 rounded-2xl text-sm font-black text-gray-700 hover:bg-gray-100 hover:border-gray-300 shadow-sm active:scale-95 transition-all flex items-center justify-center gap-2",children:[e.jsx(Tw,{size:18})," Reschedule"]})}),children:h&&e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"p-8 border-b border-gray-100 bg-gray-50/30 flex items-start justify-between",children:e.jsxs("div",{className:"flex gap-6",children:[e.jsxs("div",{className:"w-20 h-20 bg-white rounded-3xl border border-gray-100 shadow-sm flex flex-col items-center justify-center text-center",children:[e.jsx("p",{className:"text-[10px] font-black text-blue-600 uppercase tracking-widest leading-none mb-1",children:x(h.date).toLocaleDateString("en-US",{month:"short"})}),e.jsx("p",{className:"text-2xl font-black text-gray-900 leading-none",children:x(h.date).getDate()})]}),e.jsxs("div",{className:"pt-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:`px-2.5 py-1 rounded-lg text-[10px] font-black uppercase border ${G(h.status)}`,children:h.status}),e.jsx("span",{className:"px-2.5 py-1 rounded-lg bg-gray-100 text-gray-500 text-[10px] font-black uppercase tracking-wider",children:h.location})]}),e.jsx("h2",{className:"text-2xl font-black text-gray-900 leading-tight",children:h.title}),e.jsx("p",{className:"text-gray-500 font-bold text-sm mt-1",children:"90 Min Duration"})]})]})}),e.jsxs("div",{className:"p-8 pb-10 grid grid-cols-1 md:grid-cols-3 gap-8 overflow-y-auto custom-scrollbar",children:[e.jsx("div",{className:"md:col-span-1 space-y-4",children:e.jsxs("div",{className:"p-5 bg-blue-50 rounded-3xl border border-blue-100/50",children:[e.jsx("p",{className:"text-[10px] font-black text-blue-400 uppercase tracking-widest mb-3",children:"Capacity"}),e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsx("p",{className:"text-3xl font-black text-blue-900",children:h.members}),e.jsxs("p",{className:"text-sm font-bold text-blue-400 pb-1",children:["/ ",h.maxMembers]})]}),e.jsx("div",{className:"mt-4 w-full h-2 bg-white rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-600 rounded-full transition-all duration-1000",style:{width:`${h.members/h.maxMembers*100}%`}})})]})}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("h3",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-4 flex items-center justify-between",children:"Enrolled Members"}),e.jsx("div",{className:"space-y-3",children:B?e.jsxs("div",{className:"flex flex-col items-center py-10 opacity-50",children:[e.jsx("div",{className:"w-6 h-6 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"text-[10px] font-bold text-gray-400 mt-2 uppercase tracking-widest",children:"Loading Roster..."})]}):O.length>0?O.map((V,$)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white border border-gray-100 rounded-2xl hover:border-blue-200 hover:shadow-md transition-all group cursor-pointer",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-indigo-50 to-indigo-100 flex items-center justify-center text-indigo-600 font-black text-sm group-hover:from-indigo-600 group-hover:to-indigo-700 group-hover:text-white transition-all",children:V.name.charAt(0)}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-black text-gray-900 leading-none mb-1",children:V.name}),e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-tight",children:V.plan})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-[10px] font-black text-blue-600 uppercase tracking-tighter",children:"Enrolled"}),e.jsx("p",{className:"text-[8px] font-bold text-gray-400",children:new Date(V.bookingDate).toLocaleDateString()})]})]},$)):e.jsx("div",{className:"text-center py-10 bg-gray-50 rounded-2xl border border-dashed border-gray-200",children:e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"No members enrolled"})})})]})]})]})}),e.jsx(rt,{isOpen:C,onClose:()=>{N(!1),T(null)},title:R?"Edit Session Slot":"Create New Slot",subtitle:R?"Modify your existing session details":"Add a new class or session to your schedule",maxWidth:"max-w-md",footer:e.jsx("div",{className:"flex gap-4 w-full",children:e.jsxs("button",{onClick:Y,disabled:k,className:`flex-1 py-4 bg-blue-600 text-white rounded-2xl text-sm font-black shadow-xl shadow-blue-200 transition-all flex items-center justify-center gap-2 ${k?"opacity-70":"hover:bg-blue-700 active:scale-95"}`,children:[k?e.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):e.jsx(xa,{size:18}),k?"Saving...":R?"Update Session":"Create Slot"]})}),children:e.jsx("div",{className:"p-6 space-y-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-1 block",children:"Title"}),e.jsx("input",{type:"text",className:"w-full bg-gray-50 border border-gray-100 rounded-xl px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g. Morning Yoga",value:E.title,onChange:V=>w({...E,title:V.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-1 block",children:"Date"}),e.jsx("input",{type:"date",className:"w-full bg-gray-50 border border-gray-100 rounded-xl px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",value:E.date,onChange:V=>w({...E,date:V.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-1 block",children:"Time"}),e.jsx("input",{type:"time",className:"w-full bg-gray-50 border border-gray-100 rounded-xl px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",value:E.time,onChange:V=>w({...E,time:V.target.value})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-1 block",children:"Duration"}),e.jsx("input",{type:"text",className:"w-full bg-gray-50 border border-gray-100 rounded-xl px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"60 min",value:E.duration,onChange:V=>w({...E,duration:V.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-1 block",children:"Capacity"}),e.jsx("input",{type:"number",className:"w-full bg-gray-50 border border-gray-100 rounded-xl px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"20",value:E.maxMembers,onChange:V=>w({...E,maxMembers:V.target.value})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-1 block",children:"Location"}),e.jsx("input",{type:"text",className:"w-full bg-gray-50 border border-gray-100 rounded-xl px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Studio A",value:E.location,onChange:V=>w({...E,location:V.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-1 block",children:"Type"}),e.jsxs("select",{className:"w-full bg-gray-50 border border-gray-100 rounded-xl px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",value:E.type,onChange:V=>w({...E,type:V.target.value}),children:[e.jsx("option",{value:"Group Class",children:"Group Class"}),e.jsx("option",{value:"One-on-One",children:"One-on-One"})]})]})]})})})]})},zz=()=>{const s=Pr(),t=Ht(),a=[{label:"Walk-in Inquiry",path:"/crm/inquiry",icon:nl},{label:"Leads Pipeline",path:"/crm/pipeline",icon:tx},{label:"Today Follow-ups",path:"/crm/followups",icon:Ze}],l=s.pathname==="/crm/my-leads";return e.jsx("div",{className:"saas-container bg-gradient-to-br from-slate-50 via-white to-violet-50/30",children:e.jsxs("div",{className:"max-w-[1400px] mx-auto",children:[e.jsxs("header",{className:"mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-5 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-4 md:p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 md:gap-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(st,{size:28})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent tracking-tight",children:l?"My Leads":"CRM & Sales"}),e.jsx("p",{className:"text-slate-600 text-sm mt-1 font-medium",children:"Manage walk-ins, track leads, and drive conversions."})]})]}),!l&&e.jsx("nav",{className:"flex items-center gap-2 p-1.5 bg-slate-50/50 rounded-[20px] border border-slate-100 shadow-inner overflow-x-auto scrollbar-hide",children:a.map(i=>{const o=s.pathname===i.path;return e.jsxs("button",{onClick:()=>t(i.path),className:`
                                                    flex items-center gap-2 px-5 py-2.5 rounded-xl text-xs font-black uppercase tracking-widest transition-all whitespace-nowrap
                                                    ${o?"bg-gradient-to-r from-violet-600 to-purple-600 text-white shadow-lg shadow-violet-200":"text-slate-400 hover:text-violet-600 hover:bg-white"}
                                                `,children:[e.jsx(i.icon,{size:16}),e.jsx("span",{className:"hidden sm:inline",children:i.label})]},i.path)})})]})})]}),e.jsx("main",{className:"saas-section",children:e.jsx(gm,{})})]})})},Tz=["Walk-in","Instagram","Facebook","Google","Referral","Other"],_z=["Weight Loss","Strength Training","Yoga","Zumba","CrossFit","Cardio","Bodybuilding"],Pz=()=>{const s=Ht(),[t,a]=b.useState(!1),[l,i]=b.useState([]),{user:o}=Oi(),c=o||{role:"",id:""},[u,x]=b.useState({name:"",phone:"",email:"",gender:"",age:"",interests:[],source:"",budgetRange:"",preferredContact:"WhatsApp",assignedTo:c.role===it.TRAINER?c.id:"",followUpDate:"",followUpTime:"",notes:""});b.useEffect(()=>{(async()=>{try{const y=await ON();i(Array.isArray(y)?y:[])}catch(y){console.error("Could not load staff list:",y)}})()},[]);const h=f=>{x(y=>({...y,interests:y.interests.includes(f)?y.interests.filter(g=>g!==f):[...y.interests,f]}))},p=async f=>{f.preventDefault(),a(!0);try{await dx.createLead(u),Ve.success("Lead Created Successfully!"),s("/crm/pipeline")}catch(y){console.error("Failed to create lead:",y),Ve.error(y.message||"Failed to create lead")}finally{a(!1)}};return e.jsx("div",{className:"max-w-5xl mx-auto",children:e.jsxs("div",{className:"saas-card animate-in fade-in slide-in-from-bottom-4 duration-500",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6 md:mb-10 pb-4 md:pb-6 border-b border-slate-100",children:[e.jsx("div",{className:"w-12 h-12 md:w-14 md:h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg",children:e.jsx(nl,{size:24,className:"md:w-[28px] md:h-[28px]"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl md:text-2xl font-black text-slate-800 tracking-tight",children:"New Walk-in Inquiry"}),e.jsx("p",{className:"text-slate-500 text-[11px] md:text-sm font-medium italic",children:"Capture details for your next successful conversion."})]})]}),e.jsxs("form",{onSubmit:p,className:"space-y-6 md:space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-y-4 md:gap-y-6 gap-x-8",children:[e.jsxs("div",{className:"saas-form-group",children:[e.jsx("label",{className:"saas-label uppercase tracking-widest text-[10px] font-black text-slate-500 mb-2",children:"Full Name *"}),e.jsx("input",{required:!0,className:"saas-input rounded-xl bg-slate-50/50 border-slate-200 focus:bg-white h-12",placeholder:"e.g. Rahul Sharma",value:u.name,onChange:f=>x({...u,name:f.target.value})})]}),e.jsxs("div",{className:"saas-form-group",children:[e.jsx("label",{className:"saas-label uppercase tracking-widest text-[10px] font-black text-slate-500 mb-2",children:"Phone Number *"}),e.jsx("input",{required:!0,type:"tel",className:"saas-input rounded-xl bg-slate-50/50 border-slate-200 focus:bg-white h-12",placeholder:"e.g. 9876543210",value:u.phone,onChange:f=>x({...u,phone:f.target.value})})]}),e.jsxs("div",{className:"saas-form-group",children:[e.jsx("label",{className:"saas-label uppercase tracking-widest text-[10px] font-black text-slate-500 mb-2",children:"Email Address"}),e.jsx("input",{type:"email",className:"saas-input rounded-xl bg-slate-50/50 border-slate-200 focus:bg-white h-12",placeholder:"rahul@example.com",value:u.email,onChange:f=>x({...u,email:f.target.value})})]}),e.jsxs("div",{className:"saas-form-group",children:[e.jsx("label",{className:"saas-label uppercase tracking-widest text-[10px] font-black text-slate-500 mb-2",children:"Gender"}),e.jsxs("select",{className:"saas-input rounded-xl bg-slate-50/50 border-slate-200 focus:bg-white h-12 cursor-pointer",value:u.gender,onChange:f=>x({...u,gender:f.target.value}),children:[e.jsx("option",{value:"",children:"Select Gender"}),e.jsx("option",{value:"Male",children:"Male"}),e.jsx("option",{value:"Female",children:"Female"}),e.jsx("option",{value:"Other",children:"Other"})]})]}),e.jsxs("div",{className:"saas-form-group",children:[e.jsx("label",{className:"saas-label uppercase tracking-widest text-[10px] font-black text-slate-500 mb-2",children:"Age"}),e.jsx("input",{type:"number",className:"saas-input rounded-xl bg-slate-50/50 border-slate-200 focus:bg-white h-12",placeholder:"e.g. 25",value:u.age,onChange:f=>x({...u,age:f.target.value})})]}),e.jsxs("div",{className:"saas-form-group",children:[e.jsx("label",{className:"saas-label uppercase tracking-widest text-[10px] font-black text-slate-500 mb-2",children:"Interested In"}),e.jsx("div",{className:"flex flex-wrap gap-2 pt-1",children:_z.map(f=>e.jsx("button",{type:"button",onClick:()=>h(f),className:`px-3 py-1.5 rounded-lg text-[10px] font-black uppercase tracking-wider border transition-all ${u.interests.includes(f)?"bg-violet-600 border-violet-600 text-white shadow-md shadow-violet-100 scale-105":"bg-white border-slate-200 text-slate-500 hover:border-violet-300"}`,children:f},f))})]}),e.jsxs("div",{className:"saas-form-group",children:[e.jsx("label",{className:"saas-label uppercase tracking-widest text-[10px] font-black text-slate-500 mb-2",children:"Lead Source"}),e.jsxs("select",{className:"saas-input rounded-xl bg-slate-50/50 border-slate-200 focus:bg-white h-12 cursor-pointer",value:u.source,onChange:f=>x({...u,source:f.target.value}),children:[e.jsx("option",{value:"",children:"Select Source"}),Tz.map(f=>e.jsx("option",{value:f,children:f},f))]})]}),e.jsxs("div",{className:"saas-form-group",children:[e.jsx("label",{className:"saas-label uppercase tracking-widest text-[10px] font-black text-slate-500 mb-2",children:"Budget Range (Monthly)"}),e.jsx("input",{className:"saas-input rounded-xl bg-slate-50/50 border-slate-200 focus:bg-white h-12",placeholder:"e.g. 3000-5000",value:u.budgetRange,onChange:f=>x({...u,budgetRange:f.target.value})})]}),e.jsxs("div",{className:"saas-form-group",children:[e.jsx("label",{className:"saas-label uppercase tracking-widest text-[10px] font-black text-slate-500 mb-2",children:"Follow-up Date *"}),e.jsx("input",{required:!0,type:"date",className:"saas-input rounded-xl bg-slate-50/50 border-slate-200 focus:bg-white h-12",value:u.followUpDate,onChange:f=>x({...u,followUpDate:f.target.value})})]}),e.jsxs("div",{className:"saas-form-group",children:[e.jsx("label",{className:"saas-label uppercase tracking-widest text-[10px] font-black text-slate-500 mb-2",children:"Follow-up Time"}),e.jsx("input",{type:"time",className:"saas-input rounded-xl bg-slate-50/50 border-slate-200 focus:bg-white h-12",value:u.followUpTime,onChange:f=>x({...u,followUpTime:f.target.value})})]}),e.jsxs("div",{className:"saas-form-group",children:[e.jsx("label",{className:"saas-label uppercase tracking-widest text-[10px] font-black text-slate-500 mb-2",children:"Assign To"}),e.jsxs("select",{className:"saas-input rounded-xl bg-slate-50/50 border-slate-200 focus:bg-white h-12 cursor-pointer disabled:bg-slate-100",disabled:c.role===it.TRAINER,value:u.assignedTo,onChange:f=>x({...u,assignedTo:f.target.value}),children:[e.jsx("option",{value:"",children:"Unassigned"}),c.id&&e.jsxs("option",{value:c.id,children:["Self (",c.name||"Me",")"]}),l.filter(f=>f.id!==c.id).map(f=>e.jsxs("option",{value:f.id,children:[f.role==="TRAINER"?" ":" ",f.name," (",f.role.charAt(0)+f.role.slice(1).toLowerCase(),")"]},f.id))]})]}),e.jsxs("div",{className:"saas-form-group",children:[e.jsx("label",{className:"saas-label uppercase tracking-widest text-[10px] font-black text-slate-500 mb-2",children:"Preferred Contact"}),e.jsxs("select",{className:"saas-input rounded-xl bg-slate-50/50 border-slate-200 focus:bg-white h-12 cursor-pointer",value:u.preferredContact,onChange:f=>x({...u,preferredContact:f.target.value}),children:[e.jsx("option",{value:"WhatsApp",children:"WhatsApp"}),e.jsx("option",{value:"Call",children:"Phone Call"}),e.jsx("option",{value:"Email",children:"Email"})]})]}),e.jsxs("div",{className:"saas-form-group lg:col-span-2",children:[e.jsx("label",{className:"saas-label uppercase tracking-widest text-[10px] font-black text-slate-500 mb-2",children:"Internal Notes"}),e.jsx("textarea",{rows:4,className:"saas-input min-h-[120px] rounded-xl bg-slate-50/50 border-slate-200 focus:bg-white pt-3",placeholder:"Add anything helpful for conversion...",value:u.notes,onChange:f=>x({...u,notes:f.target.value})})]})]}),e.jsxs("div",{className:"pt-8 md:pt-10 border-t border-slate-100 flex flex-col sm:flex-row items-center justify-end gap-3 md:gap-4",children:[e.jsx("button",{type:"button",onClick:()=>s("/crm/pipeline"),className:"w-full sm:w-auto px-8 py-3.5 rounded-xl text-slate-400 font-bold uppercase tracking-widest text-[10px] hover:bg-slate-50 transition-all border border-transparent hover:border-slate-100",children:"Discard"}),e.jsxs("button",{disabled:t,className:`
                                w-full sm:w-auto px-10 py-4 rounded-xl bg-gradient-to-r from-violet-600 to-indigo-600 text-white font-black uppercase tracking-widest text-[10px] shadow-lg shadow-violet-200/50 
                                hover:shadow-xl hover:shadow-violet-300/50 hover:-translate-y-0.5 active:translate-y-0 transition-all flex items-center justify-center gap-3
                                ${t?"opacity-70 cursor-not-allowed":""}
                            `,children:[t?e.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):e.jsx(nl,{size:16}),"Save New Lead"]})]})]})]})})},Rz=[{id:"New",label:"New Inquiries",color:"blue"},{id:"Contacted",label:"Contacted",color:"amber"},{id:"Qualified",label:"Qualified",color:"purple"},{id:"Converted",label:"Converted",color:"emerald"},{id:"Lost",label:"Lost",color:"rose"}],e2=()=>{const[s,t]=b.useState([]),[a,l]=b.useState(!0),[i,o]=b.useState(""),[c,u]=b.useState({show:!1,message:"",type:"success"}),{user:x}=Oi(),h=async()=>{try{l(!0);const g=await dx.getLeads();t(g)}catch(g){console.error("Error fetching leads:",g),u({show:!0,message:"Failed to load leads",type:"error"})}finally{l(!1)}};b.useEffect(()=>{h()},[]);const p=async(g,v)=>{let C="",N="";if(v==="contact"?(C="Contacted",N="Lead marked as contacted."):v==="qualify"?(C="Qualified",N="Lead marked as qualified."):v==="convert"?(C="Converted",N="Lead converted to member successfully!"):v==="lost"&&(C="Lost",N="Lead marked as not interested."),C)try{await dx.updateLeadStatus(g,C),t(s.map(k=>k.id===g?{...k,status:C}:k)),u({show:!0,message:N,type:"success"}),setTimeout(()=>u({show:!1,message:"",type:"success"}),3e3)}catch(k){console.error("Update failed:",k),u({show:!0,message:"Failed to update status",type:"error"})}},f={blue:"bg-blue-500",amber:"bg-amber-500",purple:"bg-purple-500",emerald:"bg-emerald-500",rose:"bg-rose-500"},y=s.filter(g=>g.name.toLowerCase().includes(i.toLowerCase())||g.phone.includes(i));return e.jsxs("div",{className:"space-y-6 md:space-y-8",children:[e.jsx("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 overflow-visible hover:shadow-2xl transition-all duration-300",children:e.jsxs("div",{className:"p-4 md:p-6 border-b border-slate-100 flex flex-col md:flex-row gap-4 items-center justify-between",children:[e.jsxs("div",{className:"relative w-full md:w-96 group",children:[e.jsx(st,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 transition-colors",size:18}),e.jsx("input",{type:"text",className:"pl-11 h-11 w-full rounded-xl border-2 border-slate-200 focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 transition-all text-sm bg-white",placeholder:"Search leads by name or phone...",value:i,onChange:g=>o(g.target.value)})]}),e.jsx("div",{className:"flex items-center gap-3 w-full md:w-auto",children:e.jsxs("button",{className:"flex-1 md:flex-none flex items-center justify-center gap-2 px-4 py-2.5 bg-slate-50 border-2 border-slate-100 rounded-xl text-xs font-black uppercase tracking-widest text-slate-500 hover:bg-white hover:border-violet-200 hover:text-violet-600 transition-all",children:[e.jsx(ks,{size:16}),"Filter"]})})]})}),e.jsx("div",{className:"flex flex-col lg:flex-row gap-6 lg:overflow-x-auto lg:pb-8 scrollbar-hide min-h-[600px]",children:Rz.map(g=>e.jsxs("div",{className:"flex-shrink-0 w-full lg:w-[350px] flex flex-col gap-3 md:gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between px-1 md:px-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${f[g.color]||"bg-slate-400"}`}),e.jsx("h3",{className:"text-xs md:text-sm font-black text-slate-700 uppercase tracking-widest",children:g.label}),e.jsx("span",{className:"px-2 py-0.5 rounded-md bg-slate-100 text-[9px] md:text-[10px] font-bold text-slate-500",children:y.filter(v=>v.status===g.id).length})]}),e.jsx(qc,{size:16,className:"text-slate-400 cursor-pointer"})]}),e.jsx("div",{className:"flex flex-col gap-3 md:gap-4 p-1 md:p-2 rounded-2xl bg-slate-50/50 border border-slate-100/50 min-h-[150px]",children:y.filter(v=>v.status===g.id).map(v=>e.jsxs("div",{className:"saas-card !mb-0 group cursor-grab active:cursor-grabbing border-slate-100 hover:border-violet-200 hover:shadow-violet-500/10 transition-all duration-300",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-slate-100 to-slate-200 flex items-center justify-center text-slate-600 font-black text-sm group-hover:from-violet-500 group-hover:to-purple-600 group-hover:text-white transition-all duration-500",children:v.name.charAt(0)}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-slate-800 text-sm group-hover:text-violet-700 transition-colors uppercase tracking-tight",children:v.name}),e.jsx("p",{className:"text-[10px] font-bold text-slate-400 mt-0.5 tracking-wider",children:Array.isArray(v.interests)&&v.interests.length>0?v.interests[0]:"Inquiry"})]})]}),e.jsx("button",{className:"p-1 text-slate-300 hover:text-slate-600",children:e.jsx(qc,{size:14})})]}),e.jsxs("div",{className:"space-y-3 mb-5",children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-500",children:[e.jsx(ja,{size:12,className:"text-violet-400"}),e.jsx("span",{className:"text-[11px] font-medium tracking-tight",children:v.phone})]}),e.jsxs("div",{className:"flex items-center gap-2 text-slate-500",children:[e.jsx(Xe,{size:12,className:"text-violet-400"}),e.jsxs("span",{className:"text-[11px] font-medium tracking-tight",children:["Follow-up: ",v.nextFollowUp?new Date(v.nextFollowUp).toLocaleDateString():"Not set"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-slate-50",children:[e.jsx("div",{className:"flex -space-x-2",children:e.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-white bg-violet-100 flex items-center justify-center text-[10px] font-bold text-violet-600",children:"AV"})}),e.jsxs("div",{className:"flex gap-2",children:[v.status!=="Lost"&&e.jsx("button",{onClick:()=>p(v.id,"lost"),className:"p-2 rounded-lg bg-slate-50 text-slate-400 hover:bg-rose-50 hover:text-rose-600 transition-all",title:"Mark Lost",children:e.jsx(Vl,{size:14})}),v.status==="New"&&e.jsx("button",{onClick:()=>p(v.id,"contact"),className:"p-2 rounded-lg bg-slate-50 text-slate-400 hover:bg-amber-50 hover:text-amber-600 transition-all",title:"Mark Contacted",children:e.jsx(wr,{size:14})}),v.status==="Contacted"&&e.jsx("button",{onClick:()=>p(v.id,"qualify"),className:"p-2 rounded-lg bg-slate-50 text-slate-400 hover:bg-purple-50 hover:text-purple-600 transition-all",title:"Mark Qualified",children:e.jsx(wr,{size:14})}),v.status!=="Converted"&&v.status!=="Lost"&&e.jsxs("button",{onClick:()=>p(v.id,"convert"),className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-violet-600 text-white text-[10px] font-black uppercase tracking-widest hover:bg-violet-700 shadow-sm shadow-violet-100 hover:shadow-violet-200 hover:-translate-y-0.5 transition-all",title:"Convert to Member",children:[e.jsx(jn,{size:12}),"Convert"]})]})]})]},v.id))})]},g.id))}),c.show&&e.jsx("div",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 z-[100] animate-in slide-in-from-bottom-5 duration-300",children:e.jsxs("div",{className:`px-6 py-3 rounded-2xl shadow-2xl flex items-center gap-3 border ${c.type==="success"?"bg-emerald-600 border-emerald-500 text-white":"bg-slate-800 text-white border-slate-700"}`,children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-white/20 flex items-center justify-center uppercase",children:e.jsx(wr,{size:14,className:"text-white"})}),e.jsx("p",{className:"text-sm font-black uppercase tracking-widest",children:c.message})]})})]})},Oz=()=>{const[s,t]=b.useState([]),[a,l]=b.useState("Upcoming"),[i,o]=b.useState(!0),[c,u]=b.useState(!1),[x,h]=b.useState(!1),[p,f]=b.useState(null),[y,g]=b.useState(null),[v,C]=b.useState("Today"),[N,k]=b.useState(""),[A,E]=b.useState(!1),[w,R]=b.useState(1),[T,O]=b.useState({type:"",name:"",date:"Today",time:"",location:"",trainer:""}),[W,B]=b.useState(!1),[z,P]=b.useState(null),[F,G]=b.useState(!1),[Y,me]=b.useState(null),[H,V]=b.useState(!1),[$,le]=b.useState({show:!1,message:"",type:"success"}),[ge,te]=b.useState(null),[q,Q]=b.useState(""),[K,oe]=b.useState([]);b.useEffect(()=>{ce(),pe(),ae()},[]);const ae=async()=>{try{const Ge=await kM();oe(Ge)}catch(Ge){console.error("Failed to load classes:",Ge)}},ce=async()=>{o(!0);try{const Bt=(await mM()).map(vt=>({id:vt.id,name:vt.class?.name||"Session",type:vt.class?.requiredBenefit?"Facility":"Group Class",date:new Date(vt.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),time:vt.class?.schedule?.time||"TBA",location:vt.class?.location||"Main Floor",trainer:vt.class?.trainer?.name||"Staff",status:vt.status}));t(Bt)}catch(Ge){console.error("Failed to load bookings:",Ge)}o(!1)},pe=async()=>{try{const Ge=await YN();te(Ge)}catch(Ge){console.error("Failed to load member profile:",Ge)}},we=(Ge,Bt="success")=>{le({show:!0,message:Ge,type:Bt}),setTimeout(()=>le(vt=>({...vt,show:!1})),3e3)},Ee=()=>{R(1),O({type:"",name:"",date:"Today",time:"",location:"",trainer:""}),E(!0)},Be=Ge=>{me(Ge),G(!0)},Je=async()=>{try{await pM(Y),t(s.map(Ge=>Ge.id===Y?{...Ge,status:"Cancelled"}:Ge)),G(!1),we("Booking cancelled successfully.","info")}catch(Ge){we(Ge?.message||"Failed to cancel booking.","error"),G(!1)}},tt=Ge=>{f(Ge),C(Ge.date),k(Ge.time.split(" - ")[0]),u(!0)},he=async()=>{if(!N){we("Please select a time slot.","error");return}try{const Ge=new Date(v);await fM(p.id,Ge.toISOString()),t(s.map(Bt=>Bt.id===p.id?{...Bt,date:v,time:`${N} - ${Ke(N)}`}:Bt)),u(!1),we("Session rescheduled successfully!")}catch(Ge){we(Ge?.message||"Failed to reschedule booking.","error")}},re=Ge=>{if(Ge.sessions==="Full"){we("This class is full. You've been added to the waitlist.","info");return}g(Ge),h(!0)},et=async()=>{if(!N){we("Please select a time slot.","error");return}if(ge?.benefitWallet&&ge.benefitWallet.classCredits<=0){Q("Insufficient credits."),we("Insufficient credits.","error");return}try{(await Iy({classId:y.id,date:v?new Date(v).toISOString():new Date().toISOString()})).success&&(ce(),ae(),pe(),h(!1),Q(""),we("Class booked successfully!"))}catch(Ge){we(Ge||"Failed to book class","error")}},Tt=()=>{Q(""),R(2),O({type:"Facility",name:"",date:new Date().toISOString(),time:"",location:"Wellness Wing",trainer:"Staff"}),E(!0)},Nt=async()=>{if(!T.time){we("Please select a time slot.","error");return}if(T.type==="Facility"&&ge?.benefitWallet){const Ge=T.name.toLowerCase();if(Ge.includes("sauna")){if(ge.benefitWallet.saunaSessions<=0){Q("No sauna credits available. Please upgrade or renew."),we("No sauna credits available. Please upgrade or renew.","error");return}}else if(Ge.includes("ice bath")&&ge.benefitWallet.iceBathCredits<=0){Q("No ice bath credits available. Please upgrade or renew."),we("No ice bath credits available. Please upgrade or renew.","error");return}}try{const Bt=K.find(Yt=>Yt.name===T.name)||K.find(Yt=>Yt.requiredBenefit)||K[0];if(!Bt){we("No classes available to book. Please contact staff.","error");return}const vt=T.date&&!isNaN(new Date(T.date))?new Date(T.date).toISOString():new Date().toISOString();(await Iy({classId:Bt.id,date:vt})).success&&(ce(),ae(),pe(),E(!1),Q(""),we("Booking created successfully!"))}catch(Ge){we(Ge||"Failed to create booking","error")}},Ke=Ge=>{const[Bt,vt]=Ge.split(" "),[os,Yt]=Bt.split(":");let ut=parseInt(os);return ut===12?ut=1:ut+=1,`${ut.toString().padStart(2,"0")}:${Yt} ${vt}`},St=s.filter(Ge=>["Upcoming","Confirmed","Pending"].includes(Ge.status)),nt=s.filter(Ge=>Ge.status==="Completed"),At=s.filter(Ge=>Ge.status==="Cancelled");let bt=[];return a==="Upcoming"&&(bt=St),a==="Completed"&&(bt=nt),a==="Cancelled"&&(bt=At),e.jsxs("div",{className:"p-6 md:p-8 bg-gray-50 min-h-screen font-sans",children:[e.jsxs("div",{className:"max-w-6xl mx-auto space-y-10",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-black text-gray-900 tracking-tight",children:"Manage Bookings"}),e.jsxs("p",{className:"text-gray-500 font-medium mt-1.5 flex items-center gap-2 text-sm italic",children:[e.jsx(ua,{size:14,className:"text-violet-500 fill-violet-500"}),"Book and manage your personalized gym experience."]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-6",children:[ge?.benefitWallet&&e.jsxs("div",{className:"px-6 py-3 bg-white rounded-2xl border border-gray-100 shadow-sm flex items-center gap-4",children:[e.jsx("div",{className:"p-2 bg-violet-50 rounded-xl text-violet-600",children:e.jsx(ua,{size:20,className:"fill-violet-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.15em]",children:"Class Credits"}),e.jsx("p",{className:"text-xl font-black text-gray-900",children:ge.benefitWallet.classCredits})]})]}),e.jsxs("button",{onClick:Ee,className:"px-8 py-4 bg-violet-600 text-white rounded-2xl font-black shadow-xl shadow-violet-100 hover:bg-violet-700 hover:-translate-y-0.5 transition-all flex items-center gap-3 active:scale-95",children:[e.jsx(wt,{size:20,strokeWidth:3})," Create Booking"]})]})]}),e.jsxs("div",{className:"flex gap-3 overflow-x-auto pb-4 no-scrollbar",children:[e.jsx(gf,{label:"Upcoming",count:St.length,active:a==="Upcoming",onClick:()=>l("Upcoming")}),e.jsx(gf,{label:"Completed",count:nt.length,active:a==="Completed",onClick:()=>l("Completed")}),e.jsx(gf,{label:"Cancelled",count:At.length,active:a==="Cancelled",onClick:()=>l("Cancelled")})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-10",children:[e.jsx("div",{className:"xl:col-span-2 space-y-6",children:i?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 bg-white rounded-[40px] border border-gray-100 shadow-sm",children:[e.jsx(lu,{className:"animate-spin text-violet-600 mb-4",size:32}),e.jsx("p",{className:"text-gray-400 font-bold text-sm",children:"Loading your schedule..."})]}):bt.length>0?bt.map(Ge=>e.jsx($z,{...Ge,onCancel:()=>Be(Ge.id),onReschedule:()=>tt(Ge)},Ge.id)):e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 bg-white rounded-[40px] border border-gray-100 shadow-sm text-center px-6",children:[e.jsx("div",{className:"p-4 bg-gray-50 rounded-full mb-4",children:e.jsx(Xe,{size:32,className:"text-gray-300"})}),e.jsxs("h3",{className:"text-lg font-black text-gray-900",children:["No ",a.toLowerCase()," bookings"]}),e.jsx("p",{className:"text-gray-400 text-sm font-medium mt-1",children:"Looks like your schedule is clear. Ready to sweat?"})]})}),e.jsxs("div",{className:"xl:col-span-1 space-y-10",children:[e.jsxs("div",{className:"bg-white p-8 rounded-[40px] border border-gray-100 shadow-sm relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-violet-50 rounded-full -mr-16 -mt-16 blur-3xl"}),e.jsx("h3",{className:"text-xl font-black text-gray-900 mb-6 relative z-10",children:"Explore Classes"}),e.jsx("div",{className:"space-y-4 relative z-10",children:K.filter(Ge=>!Ge.requiredBenefit).map(Ge=>e.jsx(qz,{name:Ge.name,sessions:`${Ge.maxCapacity-(Ge._count?.bookings||0)} spots left`,icon:Ge.name[0],onClick:()=>re(Ge)},Ge.id))}),e.jsx("button",{onClick:()=>V(!0),className:"w-full mt-8 py-4 border-2 border-dashed border-gray-100 text-gray-400 rounded-2xl text-sm font-bold hover:border-violet-200 hover:text-violet-600 hover:bg-violet-50/30 transition-all",children:"View Full Class Schedule"})]}),e.jsxs("div",{className:"bg-slate-900 p-10 rounded-[40px] text-white shadow-2xl relative overflow-hidden group",children:[e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"p-3 bg-white/10 rounded-2xl w-fit mb-6",children:e.jsx(ua,{className:"text-indigo-400",size:24})}),e.jsx("h3",{className:"text-2xl font-black mb-3",children:"Recovery Zone"}),e.jsx("p",{className:"text-slate-400 text-sm font-medium mb-6 leading-relaxed",children:"Boost your recovery with a professional Sauna or Ice Bath session."}),ge?.benefitWallet&&e.jsxs("div",{className:"mb-6 p-4 bg-white/5 rounded-xl border border-white/10",children:[e.jsx("p",{className:"text-xs font-bold text-slate-300 uppercase tracking-wider mb-3",children:"Available Credits"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-1.5 bg-orange-500/20 rounded-lg",children:e.jsx("svg",{className:"w-4 h-4 text-orange-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M10 2a6 6 0 00-6 6c0 4.314 6 10 6 10s6-5.686 6-10a6 6 0 00-6-6z"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"Sauna"}),e.jsx("p",{className:"text-lg font-black text-white",children:ge.benefitWallet.saunaSessions})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-1.5 bg-cyan-500/20 rounded-lg",children:e.jsx("svg",{className:"w-4 h-4 text-cyan-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M10 2L8 6H4l4 4-2 6 4-3 4 3-2-6 4-4h-4l-2-4z"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"Ice Bath"}),e.jsx("p",{className:"text-lg font-black text-white",children:ge.benefitWallet.iceBathCredits})]})]})]})]}),e.jsx("button",{onClick:Tt,className:"w-full py-4 bg-white text-slate-900 rounded-2xl font-black shadow-lg hover:bg-indigo-50 hover:-translate-y-1 transition-all active:translate-y-0",children:"Book Session Now"})]}),e.jsx("div",{className:"absolute -bottom-10 -right-10 w-48 h-48 bg-indigo-500/10 rounded-full blur-3xl group-hover:bg-indigo-500/20 transition-all duration-700"})]})]})]})]}),e.jsx(rt,{isOpen:W,onClose:()=>B(!1),title:"Booking Details",maxWidth:"max-w-md",children:e.jsx(Iz,{booking:z,onReschedule:()=>{B(!1),tt(z)},onCancel:()=>{B(!1),Be(z.id)}})}),e.jsx(rt,{isOpen:A,onClose:()=>E(!1),title:"New Reservation",maxWidth:"max-w-xl",children:e.jsx(Fz,{step:w,setStep:R,data:T,setData:O,onClose:()=>E(!1),onConfirm:Nt,availableClasses:K})}),e.jsx(rt,{isOpen:c,onClose:()=>u(!1),title:"Reschedule Session",maxWidth:"max-w-md",children:e.jsx(t2,{title:"Reschedule Session",subtitle:`Adjust your ${p?.name} slot`,onClose:()=>u(!1),onConfirm:he,confirmLabel:"Confirm Reschedule",selectedDate:v,setSelectedDate:C,selectedTime:N,setSelectedTime:k,memberProfile:ge})}),e.jsx(rt,{isOpen:x,onClose:()=>h(!1),title:"Book Class",maxWidth:"max-w-md",children:e.jsx(t2,{title:"Book Class",subtitle:`Confirm your spot for ${y?.name}`,onClose:()=>h(!1),onConfirm:et,confirmLabel:"Confirm Booking",selectedDate:v,setSelectedDate:C,selectedTime:N,setSelectedTime:k,memberProfile:ge})}),e.jsx(rt,{isOpen:F,onClose:()=>G(!1),title:"Cancel Reservation?",maxWidth:"max-w-md",children:e.jsx(Bz,{onClose:()=>G(!1),onConfirm:Je})}),e.jsx(rt,{isOpen:H,onClose:()=>V(!1),title:"Full Schedule",maxWidth:"max-w-4xl",children:e.jsx(Uz,{onClose:()=>V(!1),onBook:Ge=>{V(!1),re(Ge)},classes:K})}),$.show&&e.jsxs("div",{className:`fixed bottom-8 right-8 z-[100] p-4 rounded-2xl shadow-2xl flex items-center gap-3 animate-in fade-in slide-in-from-bottom-5 duration-300 ${$.type==="error"?"bg-red-500 text-white":"bg-slate-900 text-white"}`,children:[e.jsx("div",{className:`p-1.5 rounded-lg ${$.type==="error"?"bg-white/20":"bg-violet-500/20"}`,children:$.type==="error"?e.jsx(Yr,{size:16}):e.jsx(ua,{size:16,className:"text-violet-400 fill-violet-400"})}),e.jsx("span",{className:"text-sm font-black tracking-tight",children:$.message})]})]})},Fz=({step:s,setStep:t,data:a,setData:l,onClose:i,onConfirm:o,availableClasses:c})=>{const u=[{id:"Group Class",label:"Group Class",icon:lt,color:"text-violet-600",bg:"bg-violet-50"},{id:"Personal Training",label:"Personal Training",icon:ua,color:"text-amber-600",bg:"bg-amber-50"},{id:"Facility",label:"Gym Facility",icon:Ws,color:"text-indigo-600",bg:"bg-indigo-50"}],x=c.filter(g=>g.requiredBenefit).map(g=>g.name),h={"Group Class":c.filter(g=>!g.requiredBenefit).map(g=>g.name),"Personal Training":["Strength & Conditioning","Fat Loss Blast","Muscle Building","Posture Correction"],Facility:x.length>0?x:["Sauna Session","Ice Bath Session"]},f=(()=>{const g=[];for(let v=0;v<7;v++){const C=new Date;C.setDate(C.getDate()+v);const N=v===0?"Today":v===1?"Tomorrow":C.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"});g.push({label:N,isoDate:C.toISOString()})}return g})(),y=["06:00 AM","07:00 AM","08:00 AM","09:00 AM","10:00 AM","05:00 PM","06:00 PM","07:00 PM","08:00 PM"];return e.jsxs("div",{className:"p-8 space-y-8",children:[e.jsx("div",{className:"flex items-center gap-2 mb-2",children:[1,2,3].map(g=>e.jsx("div",{className:`h-1.5 w-8 rounded-full transition-all ${s>=g?"bg-violet-600":"bg-gray-200"}`},g))}),s===1&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 animate-in slide-in-from-right-4 duration-300",children:u.map(g=>e.jsxs("button",{onClick:()=>{l({...a,type:g.id}),t(2)},className:`p-6 rounded-[32px] border-2 flex flex-col items-center text-center gap-4 transition-all hover:scale-105 ${a.type===g.id?"border-violet-600 bg-violet-50/30":"border-gray-50 bg-gray-50/50 hover:bg-white hover:border-violet-100"}`,children:[e.jsx("div",{className:`p-4 rounded-2xl ${g.bg} ${g.color}`,children:e.jsx(g.icon,{size:32,strokeWidth:2.5})}),e.jsx("span",{className:"font-black text-gray-900 text-sm",children:g.label})]},g.id))}),s===2&&e.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right-4 duration-300",children:[e.jsxs("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:["Available ",a.type,"s"]}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:h[a.type].map(g=>e.jsx("button",{onClick:()=>{l({...a,name:g}),t(3)},className:`p-4 rounded-2xl text-left font-bold text-sm transition-all border-2 ${a.name===g?"bg-violet-600 border-violet-600 text-white":"bg-gray-50 border-transparent text-gray-700 hover:bg-white hover:border-violet-100"}`,children:g},g))})]}),s===3&&e.jsxs("div",{className:"space-y-8 animate-in slide-in-from-right-4 duration-300",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Select Date"}),e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 no-scrollbar",children:f.map(({label:g,isoDate:v})=>e.jsx("button",{onClick:()=>l({...a,date:v}),className:`px-5 py-3 rounded-2xl text-xs font-black whitespace-nowrap transition-all border-2 ${a.date===v?"bg-violet-600 border-violet-600 text-white shadow-lg":"bg-white border-gray-100 text-gray-500 hover:border-violet-100"}`,children:g},v))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Available Slots"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:y.map(g=>e.jsxs("button",{onClick:()=>l({...a,time:g}),className:`p-4 rounded-3xl text-xs font-black transition-all border-2 flex flex-col items-center gap-1 ${a.time===g?"bg-violet-600 border-violet-600 text-white shadow-lg":"bg-gray-50 border-transparent text-gray-500 hover:bg-white hover:border-violet-100"}`,children:[e.jsx(Ze,{size:14,className:a.time===g?"text-white":"text-violet-500"}),g]},g))})]})]}),e.jsxs("div",{className:"pt-8 flex gap-4",children:[s>1&&e.jsx("button",{onClick:()=>t(s-1),className:"flex-1 px-6 py-4 bg-gray-50 text-gray-500 rounded-2xl font-black text-sm hover:bg-gray-100 transition-all uppercase tracking-widest",children:"Back"}),e.jsx("button",{onClick:s===3?o:()=>{},disabled:s<3&&!(s===1&&a.type||s===2&&a.name),className:`flex-[2] py-4 rounded-2xl font-black text-sm transition-all uppercase tracking-widest ${s===3?"bg-violet-600 text-white shadow-xl shadow-violet-100 hover:bg-violet-700 hover:-translate-y-0.5":"bg-gray-100 text-gray-400 cursor-default"}`,children:s===3?"Confirm Booking":"Next Step"})]})]})},t2=({title:s,subtitle:t,onClose:a,onConfirm:l,confirmLabel:i,selectedDate:o,setSelectedDate:c,selectedTime:u,setSelectedTime:x,memberProfile:h})=>{const f=(()=>{const g=[];for(let v=0;v<7;v++){const C=new Date;C.setDate(C.getDate()+v);const N=v===0?"Today":v===1?"Tomorrow":C.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"});g.push({label:N,isoDate:C.toISOString()})}return g})(),y=["06:00 AM","07:00 AM","08:00 AM","09:00 AM","10:00 AM","05:00 PM","06:00 PM","07:00 PM","08:00 PM"];return e.jsxs("div",{className:"p-8 space-y-8",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h3",{className:"text-xl font-black text-gray-900 tracking-tight",children:s}),e.jsx("p",{className:"text-gray-500 font-medium text-sm",children:t})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Select Date"}),e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 no-scrollbar",children:f.map(({label:g,isoDate:v})=>e.jsx("button",{onClick:()=>c(v),className:`px-5 py-3 rounded-2xl text-xs font-black whitespace-nowrap transition-all border-2 ${o===v?"bg-violet-600 border-violet-600 text-white shadow-lg":"bg-white border-gray-100 text-gray-500 hover:border-violet-100"}`,children:g},v))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Available Slots"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:y.map(g=>e.jsxs("button",{onClick:()=>x(g),className:`p-4 rounded-3xl text-xs font-black transition-all border-2 flex flex-col items-center gap-1 ${u===g?"bg-violet-600 border-violet-600 text-white shadow-lg":"bg-gray-50 border-transparent text-gray-500 hover:bg-white hover:border-violet-100"}`,children:[e.jsx(Ze,{size:14,className:u===g?"text-white":"text-violet-500"}),g]},g))})]})]}),e.jsxs("div",{className:"pt-4 flex flex-col gap-4",children:[h?.benefitWallet&&h.benefitWallet.classCredits<=0&&e.jsxs("div",{className:"flex items-center gap-2 p-4 bg-red-50 text-red-600 rounded-2xl border border-red-100",children:[e.jsx(ms,{size:16}),e.jsx("span",{className:"text-xs font-black uppercase tracking-wider",children:"Insufficient credits."})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:a,className:"flex-1 py-5 bg-gray-50 text-gray-500 rounded-2xl font-black text-sm hover:bg-gray-100 transition-all uppercase tracking-widest",children:"Cancel"}),e.jsx("button",{onClick:l,disabled:h?.benefitWallet&&h.benefitWallet.classCredits<=0,className:`flex-[2] py-5 rounded-2xl font-black text-sm shadow-xl transition-all uppercase tracking-widest ${h?.benefitWallet&&h.benefitWallet.classCredits<=0?"bg-gray-100 text-gray-400 shadow-none":"bg-violet-600 text-white shadow-violet-100 hover:bg-violet-700"}`,children:i})]})]})]})},Iz=({booking:s,onReschedule:t,onCancel:a})=>s?e.jsxs("div",{className:"p-8 space-y-8",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("div",{className:"w-20 h-20 rounded-[32px] bg-violet-100 flex items-center justify-center text-violet-600 shadow-lg shadow-violet-100/50",children:e.jsx(Xe,{size:36})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-black text-gray-900 tracking-tight leading-7",children:s.name}),e.jsx("p",{className:"text-gray-400 font-bold text-sm uppercase tracking-widest mt-1",children:s.type})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-5 rounded-[24px] bg-gray-50 border-2 border-gray-100",children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Date"}),e.jsx("p",{className:"text-sm font-black text-gray-900",children:s.date})]}),e.jsxs("div",{className:"p-5 rounded-[24px] bg-gray-50 border-2 border-gray-100",children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Time"}),e.jsx("p",{className:"text-sm font-black text-gray-900",children:s.time})]})]}),e.jsxs("div",{className:"p-6 rounded-[24px] bg-violet-50 border-2 border-violet-100 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-violet-600 flex items-center justify-center text-white font-black text-xs",children:s.instructor?.[0]||s.trainer?.[0]||"S"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-violet-400 uppercase tracking-widest mb-0.5",children:"Instructor/Staff"}),e.jsx("p",{className:"text-sm font-black text-gray-900",children:s.instructor||s.trainer||"Staff"})]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-violet-100",children:[e.jsx("span",{className:"text-[10px] font-black text-violet-400 uppercase tracking-widest",children:"Status"}),e.jsx("span",{className:"px-3 py-1 bg-green-500 rounded-full text-[10px] font-black text-white uppercase tracking-widest",children:s.status})]})]}),s.status!=="Cancelled"&&s.status!=="Completed"&&e.jsxs("div",{className:"flex flex-col gap-4 pt-4",children:[e.jsx("button",{onClick:t,className:"w-full py-5 bg-violet-600 text-white rounded-[24px] font-black shadow-xl shadow-violet-200 hover:bg-violet-700 transition-all uppercase tracking-widest",children:"Reschedule"}),e.jsx("button",{onClick:a,className:"w-full py-4 text-red-500 font-black text-xs hover:bg-red-50 rounded-[20px] transition-all uppercase tracking-[0.2em]",children:"Cancel Booking"})]})]}):null,Bz=({onClose:s,onConfirm:t})=>e.jsxs("div",{className:"p-8 space-y-8 text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 rounded-[40px] bg-red-100 text-red-600 shadow-lg shadow-red-100/50 mb-2",children:e.jsx(ms,{size:48})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-3xl font-black text-gray-900 tracking-tight",children:"Wait, really?"}),e.jsx("p",{className:"text-gray-500 font-medium text-sm leading-relaxed px-6",children:"Are you sure you want to cancel this booking? You might lose your spot in this popular session."})]}),e.jsxs("div",{className:"flex flex-col gap-4 pt-4",children:[e.jsx("button",{onClick:t,className:"w-full py-5 bg-red-600 text-white rounded-[24px] font-black shadow-xl shadow-red-200 hover:bg-red-700 transition-all uppercase tracking-widest",children:"Yes, Cancel Booking"}),e.jsx("button",{onClick:s,className:"w-full py-4 text-gray-400 font-black text-xs hover:text-gray-900 transition-colors uppercase tracking-[0.2em]",children:"Nevermind, keep it"})]})]}),Uz=({onClose:s,onBook:t,classes:a})=>{const l=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],[i,o]=b.useState("Mon"),u=(a||[]).filter(x=>!x.requiredBenefit).map(x=>({id:x.id,name:x.name,time:x.schedule?.time||"TBA",trainer:x.trainer?.name||"TBA",spots:`${x.maxCapacity-(x._count?.bookings||0)} spots left`,days:x.schedule?.days||[]})).filter(x=>x.days.includes(i));return e.jsxs("div",{className:"p-8 space-y-6",children:[e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 no-scrollbar",children:l.map(x=>e.jsx("button",{onClick:()=>o(x),className:`px-5 py-3 rounded-2xl text-xs font-black whitespace-nowrap transition-all border-2 ${i===x?"bg-violet-600 border-violet-600 text-white shadow-lg":"bg-white border-gray-100 text-gray-500 hover:border-violet-100"}`,children:x},x))}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:u.map((x,h)=>e.jsxs("div",{className:"p-6 bg-gray-50 rounded-[32px] border-2 border-transparent hover:border-violet-100 hover:bg-white transition-all flex justify-between items-center group",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"flex gap-2"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("p",{className:"font-black text-gray-900 text-lg leading-tight",children:x.name}),e.jsx("span",{className:`text-[10px] font-black px-2 py-0.5 rounded-lg ${x.spots.startsWith("0")||x.spots==="Full"?"bg-red-50 text-red-500":"bg-emerald-50 text-emerald-600"}`,children:x.spots.startsWith("0")?"FULL":x.spots.toUpperCase()})]}),e.jsxs("p",{className:"text-xs text-gray-400 font-bold mt-1.5 flex items-center gap-2",children:[e.jsx(Ze,{size:12,strokeWidth:3})," ",x.time,"  ",x.trainer]})]})]}),e.jsx("button",{onClick:()=>t(x),className:"p-3 bg-white rounded-2xl shadow-sm text-violet-600 group-hover:bg-violet-600 group-hover:text-white transition-all",children:e.jsx(wt,{size:20,strokeWidth:3})})]},h))})]})},gf=({label:s,count:t,active:a,onClick:l})=>e.jsxs("button",{onClick:l,className:`px-8 py-3.5 rounded-2xl text-sm font-black whitespace-nowrap transition-all flex items-center gap-3 border-2 ${a?"bg-violet-600 border-violet-600 text-white shadow-xl shadow-violet-100":"bg-white border-transparent text-gray-400 hover:text-gray-900 hover:border-gray-100"}`,children:[s,t!==void 0&&e.jsx("span",{className:`px-2 py-0.5 rounded-lg text-[10px] font-black ${a?"bg-white/20 text-white":"bg-gray-100 text-gray-500"}`,children:t})]}),$z=({id:s,type:t,name:a,date:l,time:i,location:o,trainer:c,status:u,onCancel:x,onReschedule:h,onClick:p})=>{const f=u==="Pending",y=u==="Cancelled",g=u==="Completed",v=()=>f?"text-amber-600 bg-amber-50/50 border-amber-100":g?"text-indigo-600 bg-indigo-50/50 border-indigo-100":y?"text-red-500 bg-red-50/50 border-red-100":"text-emerald-600 bg-emerald-50/50 border-emerald-100",C=()=>f?"bg-amber-400":y?"bg-red-400":g?"bg-indigo-400":"bg-emerald-500";return e.jsxs("div",{onClick:p,className:"group relative bg-white rounded-[32px] border border-gray-100 shadow-sm hover:shadow-2xl hover:shadow-violet-100/50 transition-all duration-300 overflow-hidden cursor-pointer hover:-translate-y-1",children:[e.jsx("div",{className:`absolute top-0 left-0 w-1.5 h-full ${C()} transition-all duration-300`}),e.jsxs("div",{className:"p-6 md:p-8 space-y-6 relative z-10",children:[e.jsx("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4 pl-3",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("span",{className:"px-3 py-1 rounded-full bg-violet-50 text-[10px] font-black uppercase tracking-wider text-violet-600 border border-violet-100",children:t}),e.jsx("div",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest border ${v()} transition-colors`,children:u})]}),e.jsx("h4",{className:"text-2xl font-black text-gray-900 tracking-tight leading-tight group-hover:text-violet-900 transition-colors",children:a})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-y-4 gap-x-8 pl-3",children:[e.jsx(Nh,{icon:Xe,label:l}),e.jsx(Nh,{icon:Ze,label:i}),e.jsx(Nh,{icon:Ws,label:o}),c&&e.jsx(Nh,{icon:lt,label:c})]}),!y&&!g&&e.jsxs("div",{className:"pt-6 border-t border-gray-50 flex flex-col sm:flex-row gap-3 pl-3",onClick:N=>N.stopPropagation(),children:[e.jsx("button",{onClick:x,className:"flex-1 py-3.5 px-6 rounded-2xl text-xs font-black text-gray-400 hover:text-red-500 hover:bg-red-50 transition-all uppercase tracking-widest border-2 border-transparent",children:"Cancel"}),e.jsx("button",{onClick:h,className:"flex-1 py-3.5 px-6 rounded-2xl text-xs font-black text-violet-600 bg-violet-50 border-2 border-violet-100 hover:bg-violet-600 hover:text-white hover:border-violet-600 hover:shadow-lg hover:shadow-violet-200 transition-all uppercase tracking-widest",children:"Reschedule"})]})]}),e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-violet-50/50 to-transparent rounded-bl-[100px] -z-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e.jsx("div",{className:"absolute top-6 right-6 text-gray-200 group-hover:text-violet-200 group-hover:translate-x-1 transition-all duration-300",children:e.jsx(bs,{size:24})})]})},Nh=({icon:s,label:t})=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-violet-50 rounded-xl",children:e.jsx(s,{size:16,className:"text-violet-500"})}),e.jsx("span",{className:"text-sm font-bold text-gray-600",children:t})]}),qz=({name:s,sessions:t,icon:a,onClick:l})=>e.jsxs("div",{onClick:l,className:"flex items-center justify-between p-5 bg-gray-50 rounded-[28px] border-2 border-transparent hover:border-violet-100 hover:bg-white transition-all cursor-pointer group/item",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-violet-100 text-violet-600 flex items-center justify-center font-black text-lg group-hover/item:rotate-12 transition-transform",children:a}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-black text-gray-900",children:s}),e.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-wider",children:t})]})]}),e.jsx("div",{className:"p-2 bg-white rounded-xl shadow-sm text-gray-300 group-hover/item:text-violet-500 group-hover/item:scale-110 transition-all",children:e.jsx(wt,{size:16,strokeWidth:3})})]}),Hz=()=>{const[s,t]=b.useState(null),[a,l]=b.useState(!0),i=async()=>{l(!0);try{const o=await YN();t(o)}catch(o){console.error("Failed to load profile for QR code:",o)}finally{l(!1)}};return b.useEffect(()=>{i()},[]),a||!s?e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:e.jsx(lu,{className:"animate-spin text-violet-600",size:40})}):e.jsx("div",{className:"p-6 md:p-8 bg-gray-50 min-h-screen font-sans",children:e.jsxs("div",{className:"max-w-2xl mx-auto space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-3xl font-black text-gray-900 tracking-tight",children:"Quick Check-In"}),e.jsx("p",{className:"text-gray-500 font-medium mt-1",children:"Scan this code at the gym entrance to log your visit."})]}),e.jsxs("div",{className:"bg-white p-10 rounded-[40px] border border-gray-100 shadow-xl shadow-gray-200/50 flex flex-col items-center",children:[e.jsxs("div",{className:"w-64 h-64 bg-gray-50 rounded-[32px] p-8 border-2 border-dashed border-gray-200 flex items-center justify-center relative group",children:[e.jsx(Ww,{size:160,className:"text-gray-800",strokeWidth:1.5}),e.jsx("div",{className:"absolute inset-0 bg-white/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center rounded-[32px]",children:e.jsx("button",{onClick:i,className:"bg-violet-600 text-white px-6 py-3 rounded-2xl font-black shadow-lg",children:"Refresh Code"})})]}),e.jsxs("div",{className:"mt-8 text-center space-y-2",children:[e.jsx("p",{className:"text-lg font-black text-gray-900",children:s.id}),e.jsx("p",{className:"text-sm text-gray-400 font-bold uppercase tracking-widest",children:s.name})]}),e.jsxs("div",{className:"mt-10 grid grid-cols-2 gap-4 w-full",children:[e.jsxs("div",{className:"p-4 bg-green-50 rounded-2xl border border-green-100 flex items-center gap-3",children:[e.jsx(Cn,{className:"text-green-600",size:24}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-green-700 uppercase",children:"Status"}),e.jsx("p",{className:"text-sm font-black text-green-900",children:s.status||"Active"})]})]}),e.jsxs("div",{className:"p-4 bg-blue-50 rounded-2xl border border-blue-100 flex items-center gap-3",children:[e.jsx(Ze,{className:"text-blue-600",size:24}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-blue-700 uppercase",children:"Late Entry"}),e.jsx("p",{className:"text-sm font-black text-blue-900",children:"Allowed"})]})]})]})]}),e.jsxs("div",{className:"bg-violet-50 p-6 rounded-[28px] flex items-start gap-4 border border-violet-100",children:[e.jsx("div",{className:"p-2 bg-white rounded-xl text-violet-600 shadow-sm",children:e.jsx(ua,{size:20,fill:"currentColor"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-violet-900",children:"Pro Tip"}),e.jsxs("p",{className:"text-xs text-violet-700 mt-1 leading-relaxed",children:["Checking in consistently helps you maintain your ",e.jsx("strong",{children:"Consistency Badge"})," and earn extra reward points!"]})]})]})]})})},Wz=({isOpen:s,onClose:t,onSubmit:a,memberData:l})=>{const[i,o]=b.useState("Freeze Membership"),[c,u]=b.useState(""),[x,h]=b.useState(!1),p=async f=>{f.preventDefault(),h(!0);try{await a({type:i,reason:c}),u(""),t()}catch(y){console.error("Error submitting request:",y)}finally{h(!1)}};return e.jsx(rt,{isOpen:s,onClose:t,title:"Service Request",maxWidth:"max-w-md",footer:e.jsxs("div",{className:"flex gap-3 w-full",children:[e.jsx(Ft,{variant:"outline",onClick:t,className:"flex-1 py-3 rounded-xl border-slate-200 text-slate-600 font-bold",children:"Cancel"}),e.jsx(Ft,{form:"request-form",type:"submit",disabled:x||!c,className:"flex-1 py-3 rounded-xl bg-violet-600 hover:bg-violet-700 shadow-lg shadow-violet-200 border-transparent font-bold text-white flex items-center justify-center gap-2",children:x?"Sending...":e.jsxs(e.Fragment,{children:[e.jsx($d,{size:16})," Submit Request"]})})]}),children:e.jsxs("form",{id:"request-form",onSubmit:p,className:"p-8 space-y-8",children:[e.jsxs("div",{className:"bg-violet-50 p-6 rounded-[24px] border border-violet-100 flex gap-4 text-violet-800 text-sm font-medium leading-relaxed",children:[e.jsx(ms,{className:"shrink-0 text-violet-600",size:24}),e.jsx("p",{children:"Your request will be prioritized. Track status updates in your member activity feed."})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-[10px] font-black uppercase tracking-[0.2em] text-slate-400 px-1",children:"Request Category"}),e.jsxs("select",{className:"w-full h-14 px-6 rounded-2xl bg-slate-50 border-2 border-slate-100 focus:border-violet-500 outline-none font-bold text-sm transition-all text-slate-700",value:i,onChange:f=>o(f.target.value),children:[e.jsx("option",{value:"Freeze Membership",children:"Freeze Membership"}),e.jsx("option",{value:"Unfreeze Membership",children:"Unfreeze Membership"}),e.jsx("option",{value:"Request Trainer Change",children:"Trainer Change Request"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-[10px] font-black uppercase tracking-[0.2em] text-slate-400 px-1",children:"Reason for Request"}),e.jsx("textarea",{className:"w-full p-6 rounded-2xl bg-slate-50 border-2 border-slate-100 focus:border-violet-500 outline-none font-medium text-sm transition-all resize-none h-48 placeholder:text-slate-300 text-slate-700",placeholder:"Please elaborate on your request...",value:c,onChange:f=>u(f.target.value),required:!0})]}),i==="Freeze Membership"&&e.jsxs("div",{className:"p-5 rounded-2xl bg-amber-50/50 border border-amber-100 flex gap-3",children:[e.jsx("div",{className:"text-amber-500 shrink-0",children:e.jsx(ms,{size:18})}),e.jsx("p",{className:"text-[11px] text-amber-800 font-bold leading-normal uppercase tracking-wide",children:"Note: Fee terms and expiry extensions apply based on your specific plan."})]})]})})},Gz=({isOpen:s,onClose:t,onSubmit:a,memberName:l})=>{const[i,o]=b.useState({startDate:"",endDate:"",reason:"Travel",notes:""}),[c,u]=b.useState(!1),x=["Medical","Travel","Personal","Other"],h=async p=>{p.preventDefault(),u(!0);try{await a(i),o({startDate:"",endDate:"",reason:"Travel",notes:""}),t()}catch(f){console.error("Error submitting freeze request:",f)}finally{u(!1)}};return e.jsx(rt,{isOpen:s,onClose:t,title:"Request Membership Freeze",subtitle:"Initiate a pause on your account benefits",maxWidth:"max-w-md",footer:e.jsxs("div",{className:"flex gap-3 w-full",children:[e.jsx(Ft,{variant:"outline",onClick:t,className:"flex-1 py-4 rounded-2xl border-slate-200 text-slate-600 font-black uppercase tracking-widest text-[10px]",children:"Cancel"}),e.jsx(Ft,{form:"freeze-request-form",type:"submit",disabled:c||!i.startDate||!i.endDate,className:"flex-1 py-4 rounded-2xl bg-orange-500 hover:bg-orange-600 shadow-xl shadow-orange-100 border-transparent font-black text-white text-[10px] uppercase tracking-widest flex items-center justify-center gap-2",children:c?"Processing...":"Submit Request"})]}),children:e.jsxs("form",{id:"freeze-request-form",onSubmit:h,className:"p-8 space-y-8",children:[e.jsxs("div",{className:"bg-orange-50 p-6 rounded-[28px] border border-orange-100 flex gap-4 text-orange-800 text-xs font-bold leading-relaxed shadow-sm",children:[e.jsx("div",{className:"p-2 bg-white rounded-xl text-orange-500 shadow-sm shrink-0",children:e.jsx(ms,{size:20})}),e.jsxs("p",{children:["Freezing your membership will pause access to all facilities and extend your billing cycle by the total duration of the freeze. ",e.jsx("span",{className:"text-orange-900 underline underline-offset-2",children:"Terms apply"}),"."]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-[10px] font-black uppercase tracking-[0.2em] text-slate-400 px-1",children:"Start Date"}),e.jsxs("div",{className:"relative group",children:[e.jsx("input",{type:"date",className:"w-full h-14 pl-12 pr-6 rounded-2xl bg-slate-50 border-2 border-slate-100 focus:border-orange-400 focus:bg-white outline-none font-bold text-sm transition-all text-slate-700",value:i.startDate,onChange:p=>o({...i,startDate:p.target.value}),required:!0}),e.jsx(Xe,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-orange-500 transition-colors",size:18})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-[10px] font-black uppercase tracking-[0.2em] text-slate-400 px-1",children:"End Date"}),e.jsxs("div",{className:"relative group",children:[e.jsx("input",{type:"date",className:"w-full h-14 pl-12 pr-6 rounded-2xl bg-slate-50 border-2 border-slate-100 focus:border-orange-400 focus:bg-white outline-none font-bold text-sm transition-all text-slate-700",value:i.endDate,onChange:p=>o({...i,endDate:p.target.value}),required:!0}),e.jsx(Xe,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-orange-500 transition-colors",size:18})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-[10px] font-black uppercase tracking-[0.2em] text-slate-400 px-1",children:"Primary Reason"}),e.jsx("select",{className:"w-full h-14 px-6 rounded-2xl bg-slate-50 border-2 border-slate-100 focus:border-orange-400 focus:bg-white outline-none font-bold text-sm transition-all text-slate-700 appearance-none",value:i.reason,onChange:p=>o({...i,reason:p.target.value}),children:x.map(p=>e.jsx("option",{value:p,children:p},p))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-[10px] font-black uppercase tracking-[0.2em] text-slate-400 px-1",children:"Additional Notes (Optional)"}),e.jsx("textarea",{className:"w-full p-6 rounded-2xl bg-slate-50 border-2 border-slate-100 focus:border-orange-400 focus:bg-white outline-none font-medium text-sm transition-all resize-none h-32 placeholder:text-slate-300 text-slate-700",placeholder:"Provide any additional details for our team...",value:i.notes,onChange:p=>o({...i,notes:p.target.value})})]}),e.jsxs("div",{className:"space-y-3 pt-2",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest pl-1",children:"Compliance Check"}),["Free of pending dues","Minimum 7 days duration","Standard freeze fee may apply"].map((p,f)=>e.jsxs("div",{className:"flex items-center gap-3 py-1",children:[e.jsx("div",{className:"w-5 h-5 rounded-full bg-emerald-50 flex items-center justify-center",children:e.jsx(Zt,{size:12,className:"text-emerald-500"})}),e.jsx("span",{className:"text-xs font-bold text-slate-600",children:p})]},f))]})]})})},Vz=()=>{const[s,t]=b.useState(!1),[a,l]=b.useState(!1),[i,o]=b.useState(!1),[c,u]=b.useState(!1),[x,h]=b.useState(""),[p,f]=b.useState([]),[y,g]=b.useState({startDate:"",expiryDate:"",status:"",daysRemaining:0,freezeStatus:"No"});b.useEffect(()=>{(async()=>{try{const[R,T]=await Promise.all([wM(),NM()]);h(R.currentPlan||""),g(R),f(T||[])}catch(R){console.error("Failed to fetch membership info:",R)}})()},[]);const v=()=>{l(!0)},C=async()=>{t(!0);try{await dM("Gold Plan"),h("Gold Plan"),l(!1)}catch(w){console.error("Error upgrading plan:",w),alert("Failed to upgrade plan.")}finally{t(!1)}},N=async w=>{if(p.some(O=>O.rawType==="Freeze"&&(O.status==="Pending"||O.status==="Pending Approval")))return;const T=O=>new Date(O).toLocaleDateString("en-US",{month:"short",day:"numeric"});try{await qN();const O={type:"Freeze Request",details:`${T(w.startDate)}  ${T(w.endDate)}`,status:"Pending Approval",date:new Date().toISOString().split("T")[0],rawType:"Freeze"},W=await By(O);f([W.request,...p]),g(B=>({...B,status:"Frozen",freezeStatus:"Yes"}))}catch(O){console.error("Failed to submit freeze request",O),alert(O?.message||"Failed to freeze membership")}},k=async()=>{if(window.confirm("Are you sure you want to unfreeze your membership?"))try{await HN(),g(w=>({...w,status:"Active",freezeStatus:"No"}))}catch(w){console.error("Failed to unfreeze membership",w),alert(w?.message||"Failed to unfreeze membership")}},A=async()=>{if(window.confirm("Are you sure you want to cancel your membership? This action cannot be undone.")){t(!0);try{await uM(),h("Cancelled"),alert("Membership cancelled successfully.")}catch(w){console.error("Error cancelling membership:",w),alert("Failed to cancel membership.")}finally{t(!1)}}},E=p.some(w=>w.rawType==="Freeze"&&(w.status==="Pending"||w.status==="Pending Approval"));return e.jsxs("div",{className:"p-3 md:p-8 bg-gray-50 min-h-screen font-sans",children:[e.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-black text-gray-900 tracking-tight",children:"My Membership"}),e.jsx("p",{className:"text-gray-500 font-medium mt-1",children:"Manage your plan, billing, and membership benefits."})]}),e.jsxs("div",{className:"bg-gradient-to-br from-violet-600 to-indigo-700 rounded-[32px] shadow-2xl shadow-violet-200 overflow-hidden relative",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full -mr-16 -mt-16 blur-3xl"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-black/10 rounded-full -ml-10 -mb-10 blur-2xl"}),e.jsxs("div",{className:"p-5 md:p-10 relative z-10 text-white",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"inline-flex items-center px-4 py-1.5 rounded-full bg-white/20 backdrop-blur-md text-white text-[10px] font-black uppercase tracking-wider border border-white/10",children:"Active Plan"}),e.jsx("h2",{className:"text-4xl md:text-5xl font-black text-white tracking-tight",children:x}),e.jsx("p",{className:"text-violet-100 font-medium max-w-sm text-lg leading-relaxed",children:x==="Gold Plan"?"Full access to all facilities, premium classes, and exclusive recovery lounge.":"Access to all gym facilities, group classes, and locker rooms during standard hours."})]}),e.jsxs("div",{className:"text-right space-y-1",children:[e.jsx("p",{className:"text-[10px] font-bold text-violet-200 uppercase tracking-widest",children:"Next Billing"}),e.jsx("p",{className:"text-2xl font-black text-white",children:y.expiryDate||"N/A"}),e.jsxs("p",{className:"text-white/80 font-bold text-sm",children:["",y.price?.toLocaleString()," / month"]})]})]}),e.jsxs("div",{className:"mt-12 grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(vf,{icon:Zt,label:"24/7 Gym Access",dark:!0}),e.jsx(vf,{icon:Zt,label:"Locker Facility",dark:!0}),e.jsx(vf,{icon:Zt,label:x.includes("Gold")?"Unlimited Classes":"Standard Classes",dark:!0})]}),e.jsxs("div",{className:"mt-12 flex flex-wrap gap-4",children:[x!=="Gold Plan"&&e.jsxs("button",{onClick:v,disabled:s,className:"px-8 py-4 bg-white text-violet-600 rounded-2xl font-black shadow-lg hover:bg-gray-50 transition-all flex items-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed uppercase tracking-widest text-xs",children:["Upgrade Plan ",e.jsx(jn,{size:16})]}),e.jsx("button",{onClick:A,disabled:s,className:"px-8 py-4 bg-white/10 border border-white/20 text-white rounded-2xl font-black hover:bg-white/20 transition-all disabled:opacity-70 disabled:cursor-not-allowed uppercase tracking-widest text-xs backdrop-blur-md",children:s?"Processing...":"Cancel Membership"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs(is,{className:"p-8 space-y-6 shadow-xl shadow-slate-200/50 border-none rounded-[32px]",children:[e.jsxs("h3",{className:"text-xl font-black text-gray-900 flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-amber-50 rounded-lg",children:e.jsx(Hl,{className:"text-amber-500 fill-amber-500",size:20})}),"Membership Details"]}),e.jsxs("div",{className:"space-y-4 text-sm font-bold",children:[[{label:"Plan Name",value:x},{label:"Start Date",value:y.startDate},{label:"Expiry Date",value:y.expiryDate},{label:"Remaining Days",value:`${y.daysRemaining} Days`,highlight:!0},{label:"Freeze Status",value:y.freezeStatus}].map((w,R)=>e.jsxs("div",{className:"flex justify-between py-3 border-b border-slate-50 text-slate-500",children:[e.jsx("span",{children:w.label}),e.jsx("span",{className:w.highlight?"text-violet-600 font-black":"text-slate-900",children:w.value})]},R)),e.jsxs("div",{className:"flex justify-between py-3 text-slate-500",children:[e.jsx("span",{children:"Status Badge"}),e.jsx("span",{className:`px-4 py-1 rounded-full text-[10px] font-black uppercase tracking-widest ${y.status==="Active"?"bg-emerald-100 text-emerald-700":"bg-amber-100 text-amber-700"}`,children:y.status})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-slate-50",children:[y.freezeStatus==="Yes"?e.jsxs(Ft,{variant:"outline",className:"w-full py-4 text-[10px] tracking-[0.15em] font-black",onClick:k,children:[e.jsx(rg,{size:16})," UNFREEZE"]}):e.jsxs(Ft,{variant:"outline",className:"w-full py-4 text-[10px] tracking-[0.15em] font-black",onClick:()=>o(!0),disabled:E,children:[e.jsx(rm,{size:16})," ",E&&y.freezeStatus==="No"?"FREEZE PENDING":"FREEZE"]}),e.jsxs(Ft,{variant:"outline",className:"w-full py-4 text-[10px] tracking-[0.15em] font-black",onClick:()=>u(!0),children:[e.jsx(rg,{size:16})," SERVICE"]})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs(is,{className:"p-8 space-y-6 shadow-xl shadow-slate-200/50 border-none rounded-[32px] bg-gradient-to-br from-white to-slate-50/30",children:[e.jsxs("h3",{className:"text-xl font-black text-gray-900 flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-indigo-50 rounded-lg text-indigo-600",children:e.jsx(ua,{size:20})}),"Service Requests"]}),e.jsx("p",{className:"text-sm font-medium text-slate-500 leading-relaxed italic",children:"Perform account actions directly. Approval times vary by branch."}),e.jsxs(Ft,{onClick:()=>o(!0),disabled:E,className:`w-full py-5 rounded-2xl flex items-center justify-center gap-3 font-black uppercase tracking-widest text-xs transition-all shadow-lg ${E?"bg-slate-100 text-slate-400 border-slate-200 cursor-not-allowed shadow-none":"bg-indigo-600 hover:bg-indigo-700 text-white shadow-indigo-100"}`,children:[e.jsx(rm,{size:18}),E?"Freeze Request Pending":"Request Membership Freeze"]})]}),e.jsxs(is,{className:"p-8 space-y-6 flex flex-col shadow-xl shadow-slate-200/50 border-none rounded-[32px]",children:[e.jsxs("h3",{className:"text-xl font-black text-gray-900 flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-slate-100 rounded-lg text-slate-500",children:e.jsx(wl,{size:20})}),"Recent Requests"]}),e.jsx("div",{className:"flex-1 space-y-3 overflow-y-auto max-h-[300px] pr-2 custom-scrollbar",children:p.length===0?e.jsx("div",{className:"py-10 text-center",children:e.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"No recent activity"})}):p.map(w=>e.jsxs("div",{className:"p-5 rounded-[24px] bg-slate-50/50 border border-slate-100 flex items-center justify-between group hover:bg-white hover:shadow-lg hover:shadow-slate-100 transition-all",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{className:"font-black text-slate-900 text-[13px] tracking-tight flex items-center gap-2 uppercase",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-300 group-hover:bg-indigo-500 transition-colors"}),w.type]}),e.jsx("p",{className:"text-[10px] font-bold text-slate-400 tracking-wide pl-3.5 uppercase",children:w.details})]}),e.jsx("div",{className:"text-right",children:e.jsx("span",{className:`px-3 py-1.5 rounded-lg text-[9px] font-black uppercase tracking-widest shadow-sm border ${w.status.includes("Approved")||w.status==="Approved"?"bg-emerald-50 text-emerald-600 border-emerald-100":w.status.includes("Rejected")?"bg-rose-50 text-rose-600 border-rose-100":"bg-amber-50 text-amber-600 border-amber-100"}`,children:w.status==="Pending Approval"?"Pending":w.status})})]},w.id))})]})]})]}),e.jsxs("div",{className:"bg-slate-900 p-8 rounded-[32px] text-white flex flex-col md:flex-row gap-8 items-center justify-between relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-indigo-500/10 rounded-full blur-2xl"}),e.jsxs("div",{className:"space-y-4 relative z-10",children:[e.jsxs("h3",{className:"text-xl font-black flex items-center gap-2 text-indigo-300",children:[e.jsx(Cn,{size:20})," Safety & Rules"]}),e.jsxs("ul",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-3 text-sm text-slate-400",children:[e.jsxs("li",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-indigo-500 rounded-full"})," Always carry your workout towel"]}),e.jsxs("li",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-indigo-500 rounded-full"})," Use proper gym attire at all times"]}),e.jsxs("li",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-indigo-500 rounded-full"})," Respect others and put back weights"]}),e.jsxs("li",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-indigo-500 rounded-full"})," Mobile usage is restricted in workout zones"]})]})]}),e.jsx("button",{className:"whitespace-nowrap bg-white/10 border border-white/20 px-6 py-3 rounded-xl text-indigo-300 text-xs font-black hover:bg-white/20 transition-all uppercase tracking-widest relative z-10",children:"Full Terms"})]})]}),e.jsx(Wz,{isOpen:c,onClose:()=>u(!1),onSubmit:async w=>{try{const R={type:w.type,details:w.reason,status:"Pending",date:new Date().toISOString().split("T")[0],rawType:"General"},T=await By(R);f([T.request,...p])}catch(R){console.error("Failed to submit service request",R)}}}),e.jsx(Gz,{isOpen:i,onClose:()=>o(!1),onSubmit:N}),e.jsx(rt,{isOpen:a,onClose:()=>l(!1),title:"Upgrade Membership",maxWidth:"max-w-md",children:e.jsxs("div",{className:"p-8 space-y-8",children:[e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-[32px] bg-violet-100 text-violet-600 shadow-lg shadow-violet-100/50",children:e.jsx(ua,{size:36,fill:"currentColor"})}),e.jsx("h3",{className:"text-3xl font-black text-gray-900 tracking-tight leading-8",children:"Level Up to Gold"}),e.jsx("p",{className:"text-gray-500 font-medium text-sm leading-relaxed px-4",children:"Elevate your fitness journey with premium perks and dedicated training resources."})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-6 rounded-[28px] bg-violet-50 border-2 border-violet-100 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-violet-400 uppercase tracking-[0.2em] mb-1",children:"New Pricing"}),e.jsxs("p",{className:"text-xl font-black text-gray-900",children:["4,999",e.jsx("span",{className:"text-sm font-bold opacity-40",children:"/mo"})]})]}),e.jsx("div",{className:"px-3 py-1 bg-violet-600 rounded-full text-[10px] font-black text-white uppercase tracking-widest",children:"Best Value"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"What's Included"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(bf,{text:"Unlimited Group Classes"}),e.jsx(bf,{text:"Free Personal Training Session"}),e.jsx(bf,{text:"Exclusive Spa & Sauna Access"})]})]})]}),e.jsxs("div",{className:"flex flex-col gap-4 pt-4",children:[e.jsx("button",{onClick:C,disabled:s,className:"w-full py-5 bg-violet-600 text-white rounded-[24px] font-black shadow-xl shadow-violet-200 hover:bg-violet-700 hover:scale-[1.02] active:scale-95 transition-all flex items-center justify-center gap-3 uppercase tracking-widest",children:s?e.jsx(lu,{className:"animate-spin",size:20}):"Confirm Upgrade"}),e.jsx("button",{onClick:()=>l(!1),disabled:s,className:"w-full py-4 text-gray-400 font-black text-xs hover:text-gray-900 transition-colors uppercase tracking-[0.2em]",children:"Back to Dashboard"})]})]})})]})},bf=({text:s})=>e.jsxs("div",{className:"flex items-center gap-3 py-1",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-emerald-50 flex items-center justify-center",children:e.jsx(Zt,{size:14,className:"text-emerald-500"})}),e.jsx("span",{className:"text-sm font-bold text-gray-600",children:s})]}),vf=({icon:s,label:t,dark:a})=>e.jsxs("div",{className:`flex items-center gap-3 p-4 rounded-2xl border ${a?"bg-white/10 border-white/10":"bg-gray-50 border-gray-100"}`,children:[e.jsx("div",{className:`p-2 rounded-xl ${a?"bg-white/20 text-white":"bg-green-50 text-green-600"}`,children:e.jsx(s,{size:16})}),e.jsx("span",{className:`text-sm font-bold ${a?"text-white":"text-gray-700"}`,children:t})]});function Js(s){"@babel/helpers - typeof";return Js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Js(s)}var Pi=Uint8Array,yn=Uint16Array,xb=Int32Array,hb=new Pi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),mb=new Pi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s2=new Pi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a5=function(s,t){for(var a=new yn(31),l=0;l<31;++l)a[l]=t+=1<<s[l-1];for(var i=new xb(a[30]),l=1;l<30;++l)for(var o=a[l];o<a[l+1];++o)i[o]=o-a[l]<<5|l;return{b:a,r:i}},r5=a5(hb,2),Yz=r5.b,pg=r5.r;Yz[28]=258,pg[258]=28;var Xz=a5(mb,0),a2=Xz.r,fg=new yn(32768);for(var ya=0;ya<32768;++ya){var Pc=(ya&43690)>>1|(ya&21845)<<1;Pc=(Pc&52428)>>2|(Pc&13107)<<2,Pc=(Pc&61680)>>4|(Pc&3855)<<4,fg[ya]=((Pc&65280)>>8|(Pc&255)<<8)>>1}var ax=(function(s,t,a){for(var l=s.length,i=0,o=new yn(t);i<l;++i)s[i]&&++o[s[i]-1];var c=new yn(t);for(i=1;i<t;++i)c[i]=c[i-1]+o[i-1]<<1;var u;if(a){u=new yn(1<<t);var x=15-t;for(i=0;i<l;++i)if(s[i])for(var h=i<<4|s[i],p=t-s[i],f=c[s[i]-1]++<<p,y=f|(1<<p)-1;f<=y;++f)u[fg[f]>>x]=h}else for(u=new yn(l),i=0;i<l;++i)s[i]&&(u[i]=fg[c[s[i]-1]++]>>15-s[i]);return u}),Fd=new Pi(288);for(var ya=0;ya<144;++ya)Fd[ya]=8;for(var ya=144;ya<256;++ya)Fd[ya]=9;for(var ya=256;ya<280;++ya)Fd[ya]=7;for(var ya=280;ya<288;++ya)Fd[ya]=8;var dm=new Pi(32);for(var ya=0;ya<32;++ya)dm[ya]=5;var Kz=ax(Fd,9,0),Jz=ax(dm,5,0),l5=function(s){return(s+7)/8|0},Qz=function(s,t,a){return(a==null||a>s.length)&&(a=s.length),new Pi(s.subarray(t,a))},Ho=function(s,t,a){a<<=t&7;var l=t/8|0;s[l]|=a,s[l+1]|=a>>8},Ju=function(s,t,a){a<<=t&7;var l=t/8|0;s[l]|=a,s[l+1]|=a>>8,s[l+2]|=a>>16},yf=function(s,t){for(var a=[],l=0;l<s.length;++l)s[l]&&a.push({s:l,f:s[l]});var i=a.length,o=a.slice();if(!i)return{t:i5,l:0};if(i==1){var c=new Pi(a[0].s+1);return c[a[0].s]=1,{t:c,l:1}}a.sort(function(R,T){return R.f-T.f}),a.push({s:-1,f:25001});var u=a[0],x=a[1],h=0,p=1,f=2;for(a[0]={s:-1,f:u.f+x.f,l:u,r:x};p!=i-1;)u=a[a[h].f<a[f].f?h++:f++],x=a[h!=p&&a[h].f<a[f].f?h++:f++],a[p++]={s:-1,f:u.f+x.f,l:u,r:x};for(var y=o[0].s,l=1;l<i;++l)o[l].s>y&&(y=o[l].s);var g=new yn(y+1),v=gg(a[p-1],g,0);if(v>t){var l=0,C=0,N=v-t,k=1<<N;for(o.sort(function(T,O){return g[O.s]-g[T.s]||T.f-O.f});l<i;++l){var A=o[l].s;if(g[A]>t)C+=k-(1<<v-g[A]),g[A]=t;else break}for(C>>=N;C>0;){var E=o[l].s;g[E]<t?C-=1<<t-g[E]++-1:++l}for(;l>=0&&C;--l){var w=o[l].s;g[w]==t&&(--g[w],++C)}v=t}return{t:new Pi(g),l:v}},gg=function(s,t,a){return s.s==-1?Math.max(gg(s.l,t,a+1),gg(s.r,t,a+1)):t[s.s]=a},r2=function(s){for(var t=s.length;t&&!s[--t];);for(var a=new yn(++t),l=0,i=s[0],o=1,c=function(x){a[l++]=x},u=1;u<=t;++u)if(s[u]==i&&u!=t)++o;else{if(!i&&o>2){for(;o>138;o-=138)c(32754);o>2&&(c(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(c(i),--o;o>6;o-=6)c(8304);o>2&&(c(o-3<<5|8208),o=0)}for(;o--;)c(i);o=1,i=s[u]}return{c:a.subarray(0,l),n:t}},Qu=function(s,t){for(var a=0,l=0;l<t.length;++l)a+=s[l]*t[l];return a},n5=function(s,t,a){var l=a.length,i=l5(t+2);s[i]=l&255,s[i+1]=l>>8,s[i+2]=s[i]^255,s[i+3]=s[i+1]^255;for(var o=0;o<l;++o)s[i+o+4]=a[o];return(i+4+l)*8},l2=function(s,t,a,l,i,o,c,u,x,h,p){Ho(t,p++,a),++i[256];for(var f=yf(i,15),y=f.t,g=f.l,v=yf(o,15),C=v.t,N=v.l,k=r2(y),A=k.c,E=k.n,w=r2(C),R=w.c,T=w.n,O=new yn(19),W=0;W<A.length;++W)++O[A[W]&31];for(var W=0;W<R.length;++W)++O[R[W]&31];for(var B=yf(O,7),z=B.t,P=B.l,F=19;F>4&&!z[s2[F-1]];--F);var G=h+5<<3,Y=Qu(i,Fd)+Qu(o,dm)+c,me=Qu(i,y)+Qu(o,C)+c+14+3*F+Qu(O,z)+2*O[16]+3*O[17]+7*O[18];if(x>=0&&G<=Y&&G<=me)return n5(t,p,s.subarray(x,x+h));var H,V,$,le;if(Ho(t,p,1+(me<Y)),p+=2,me<Y){H=ax(y,g,0),V=y,$=ax(C,N,0),le=C;var ge=ax(z,P,0);Ho(t,p,E-257),Ho(t,p+5,T-1),Ho(t,p+10,F-4),p+=14;for(var W=0;W<F;++W)Ho(t,p+3*W,z[s2[W]]);p+=3*F;for(var te=[A,R],q=0;q<2;++q)for(var Q=te[q],W=0;W<Q.length;++W){var K=Q[W]&31;Ho(t,p,ge[K]),p+=z[K],K>15&&(Ho(t,p,Q[W]>>5&127),p+=Q[W]>>12)}}else H=Kz,V=Fd,$=Jz,le=dm;for(var W=0;W<u;++W){var oe=l[W];if(oe>255){var K=oe>>18&31;Ju(t,p,H[K+257]),p+=V[K+257],K>7&&(Ho(t,p,oe>>23&31),p+=hb[K]);var ae=oe&31;Ju(t,p,$[ae]),p+=le[ae],ae>3&&(Ju(t,p,oe>>5&8191),p+=mb[ae])}else Ju(t,p,H[oe]),p+=V[oe]}return Ju(t,p,H[256]),p+V[256]},Zz=new xb([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),i5=new Pi(0),eT=function(s,t,a,l,i,o){var c=o.z||s.length,u=new Pi(l+c+5*(1+Math.ceil(c/7e3))+i),x=u.subarray(l,u.length-i),h=o.l,p=(o.r||0)&7;if(t){p&&(x[0]=o.r>>3);for(var f=Zz[t-1],y=f>>13,g=f&8191,v=(1<<a)-1,C=o.p||new yn(32768),N=o.h||new yn(v+1),k=Math.ceil(a/3),A=2*k,E=function(he){return(s[he]^s[he+1]<<k^s[he+2]<<A)&v},w=new xb(25e3),R=new yn(288),T=new yn(32),O=0,W=0,B=o.i||0,z=0,P=o.w||0,F=0;B+2<c;++B){var G=E(B),Y=B&32767,me=N[G];if(C[Y]=me,N[G]=Y,P<=B){var H=c-B;if((O>7e3||z>24576)&&(H>423||!h)){p=l2(s,x,0,w,R,T,W,z,F,B-F,p),z=O=W=0,F=B;for(var V=0;V<286;++V)R[V]=0;for(var V=0;V<30;++V)T[V]=0}var $=2,le=0,ge=g,te=Y-me&32767;if(H>2&&G==E(B-te))for(var q=Math.min(y,H)-1,Q=Math.min(32767,B),K=Math.min(258,H);te<=Q&&--ge&&Y!=me;){if(s[B+$]==s[B+$-te]){for(var oe=0;oe<K&&s[B+oe]==s[B+oe-te];++oe);if(oe>$){if($=oe,le=te,oe>q)break;for(var ae=Math.min(te,oe-2),ce=0,V=0;V<ae;++V){var pe=B-te+V&32767,we=C[pe],Ee=pe-we&32767;Ee>ce&&(ce=Ee,me=pe)}}}Y=me,me=C[Y],te+=Y-me&32767}if(le){w[z++]=268435456|pg[$]<<18|a2[le];var Be=pg[$]&31,Je=a2[le]&31;W+=hb[Be]+mb[Je],++R[257+Be],++T[Je],P=B+$,++O}else w[z++]=s[B],++R[s[B]]}}for(B=Math.max(B,P);B<c;++B)w[z++]=s[B],++R[s[B]];p=l2(s,x,h,w,R,T,W,z,F,B-F,p),h||(o.r=p&7|x[p/8|0]<<3,p-=7,o.h=N,o.p=C,o.i=B,o.w=P)}else{for(var B=o.w||0;B<c+h;B+=65535){var tt=B+65535;tt>=c&&(x[p/8|0]=h,tt=c),p=n5(x,p+1,s.subarray(B,tt))}o.i=c}return Qz(u,0,l+l5(p)+i)},o5=function(){var s=1,t=0;return{p:function(a){for(var l=s,i=t,o=a.length|0,c=0;c!=o;){for(var u=Math.min(c+2655,o);c<u;++c)i+=l+=a[c];l=(l&65535)+15*(l>>16),i=(i&65535)+15*(i>>16)}s=l,t=i},d:function(){return s%=65521,t%=65521,(s&255)<<24|(s&65280)<<8|(t&255)<<8|t>>8}}},tT=function(s,t,a,l,i){if(!i&&(i={l:1},t.dictionary)){var o=t.dictionary.subarray(-32768),c=new Pi(o.length+s.length);c.set(o),c.set(s,o.length),s=c,i.w=o.length}return eT(s,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(s.length)))*1.5):20:12+t.mem,a,l,i)},c5=function(s,t,a){for(;a;++t)s[t]=a,a>>>=8},sT=function(s,t){var a=t.level,l=a==0?0:a<6?1:a==9?3:2;if(s[0]=120,s[1]=l<<6|(t.dictionary&&32),s[1]|=31-(s[0]<<8|s[1])%31,t.dictionary){var i=o5();i.p(t.dictionary),c5(s,2,i.d())}};function bg(s,t){t||(t={});var a=o5();a.p(s);var l=tT(s,t,t.dictionary?6:2,4);return sT(l,t),c5(l,l.length-4,a.d()),l}var aT=typeof TextDecoder<"u"&&new TextDecoder,rT=0;try{aT.decode(i5,{stream:!0}),rT=1}catch{}function lT(s){if(Array.isArray(s))return s}function nT(s,t){var a=s==null?null:typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(a!=null){var l,i,o,c,u=[],x=!0,h=!1;try{if(o=(a=a.call(s)).next,t!==0)for(;!(x=(l=o.call(a)).done)&&(u.push(l.value),u.length!==t);x=!0);}catch(p){h=!0,i=p}finally{try{if(!x&&a.return!=null&&(c=a.return(),Object(c)!==c))return}finally{if(h)throw i}}return u}}function n2(s,t){(t==null||t>s.length)&&(t=s.length);for(var a=0,l=Array(t);a<t;a++)l[a]=s[a];return l}function iT(s,t){if(s){if(typeof s=="string")return n2(s,t);var a={}.toString.call(s).slice(8,-1);return a==="Object"&&s.constructor&&(a=s.constructor.name),a==="Map"||a==="Set"?Array.from(s):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?n2(s,t):void 0}}function oT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i2(s,t){return lT(s)||nT(s,t)||iT(s,t)||oT()}function o2(s,t="utf8"){return new TextDecoder(t).decode(s)}const cT=new TextEncoder;function dT(s){return cT.encode(s)}const uT=1024*8,xT=(()=>{const s=new Uint8Array(4),t=new Uint32Array(s.buffer);return!((t[0]=1)&s[0])})(),jf={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class pb{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(t=uT,a={}){let l=!1;typeof t=="number"?t=new ArrayBuffer(t):(l=!0,this.lastWrittenByte=t.byteLength);const i=a.offset?a.offset>>>0:0,o=t.byteLength-i;let c=i;(ArrayBuffer.isView(t)||t instanceof pb)&&(t.byteLength!==t.buffer.byteLength&&(c=t.byteOffset+i),t=t.buffer),l?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=t,this.length=o,this.byteLength=o,this.byteOffset=c,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,c,o),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const l=(this.offset+t)*2,i=new Uint8Array(l);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=l,this.byteLength=l,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,a){const l=jf[a].BYTES_PER_ELEMENT*t,i=this.byteOffset+this.offset,o=this.buffer.slice(i,i+l);if(this.littleEndian===xT&&a!=="uint8"&&a!=="int8"){const u=new Uint8Array(this.buffer.slice(i,i+l));u.reverse();const x=new jf[a](u.buffer);return this.offset+=l,x.reverse(),x}const c=new jf[a](o);return this.offset+=l,c}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let a="";for(let l=0;l<t;l++)a+=this.readChar();return a}readUtf8(t=1){return o2(this.readBytes(t))}decodeText(t=1,a="utf8"){return o2(this.readBytes(t),a)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let a=0;a<t.length;a++)this._data.setUint8(this.offset++,t[a]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let a=0;a<t.length;a++)this.writeUint8(t.charCodeAt(a));return this}writeUtf8(t){return this.writeBytes(dT(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function cu(s){let t=s.length;for(;--t>=0;)s[t]=0}const hT=3,mT=258,d5=29,pT=256,fT=pT+1+d5,u5=30,gT=512,bT=new Array((fT+2)*2);cu(bT);const vT=new Array(u5*2);cu(vT);const yT=new Array(gT);cu(yT);const jT=new Array(mT-hT+1);cu(jT);const wT=new Array(d5);cu(wT);const NT=new Array(u5);cu(NT);const kT=(s,t,a,l)=>{let i=s&65535|0,o=s>>>16&65535|0,c=0;for(;a!==0;){c=a>2e3?2e3:a,a-=c;do i=i+t[l++]|0,o=o+i|0;while(--c);i%=65521,o%=65521}return i|o<<16|0};var vg=kT;const ST=()=>{let s,t=[];for(var a=0;a<256;a++){s=a;for(var l=0;l<8;l++)s=s&1?3988292384^s>>>1:s>>>1;t[a]=s}return t},CT=new Uint32Array(ST()),AT=(s,t,a,l)=>{const i=CT,o=l+a;s^=-1;for(let c=l;c<o;c++)s=s>>>8^i[(s^t[c])&255];return s^-1};var no=AT,yg={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},x5={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const DT=(s,t)=>Object.prototype.hasOwnProperty.call(s,t);var LT=function(s){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const a=t.shift();if(a){if(typeof a!="object")throw new TypeError(a+"must be non-object");for(const l in a)DT(a,l)&&(s[l]=a[l])}}return s},ET=s=>{let t=0;for(let l=0,i=s.length;l<i;l++)t+=s[l].length;const a=new Uint8Array(t);for(let l=0,i=0,o=s.length;l<o;l++){let c=s[l];a.set(c,i),i+=c.length}return a},h5={assign:LT,flattenChunks:ET};let m5=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{m5=!1}const ux=new Uint8Array(256);for(let s=0;s<256;s++)ux[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;ux[254]=ux[254]=1;var MT=s=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(s);let t,a,l,i,o,c=s.length,u=0;for(i=0;i<c;i++)a=s.charCodeAt(i),(a&64512)===55296&&i+1<c&&(l=s.charCodeAt(i+1),(l&64512)===56320&&(a=65536+(a-55296<<10)+(l-56320),i++)),u+=a<128?1:a<2048?2:a<65536?3:4;for(t=new Uint8Array(u),o=0,i=0;o<u;i++)a=s.charCodeAt(i),(a&64512)===55296&&i+1<c&&(l=s.charCodeAt(i+1),(l&64512)===56320&&(a=65536+(a-55296<<10)+(l-56320),i++)),a<128?t[o++]=a:a<2048?(t[o++]=192|a>>>6,t[o++]=128|a&63):a<65536?(t[o++]=224|a>>>12,t[o++]=128|a>>>6&63,t[o++]=128|a&63):(t[o++]=240|a>>>18,t[o++]=128|a>>>12&63,t[o++]=128|a>>>6&63,t[o++]=128|a&63);return t};const zT=(s,t)=>{if(t<65534&&s.subarray&&m5)return String.fromCharCode.apply(null,s.length===t?s:s.subarray(0,t));let a="";for(let l=0;l<t;l++)a+=String.fromCharCode(s[l]);return a};var TT=(s,t)=>{const a=t||s.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(s.subarray(0,t));let l,i;const o=new Array(a*2);for(i=0,l=0;l<a;){let c=s[l++];if(c<128){o[i++]=c;continue}let u=ux[c];if(u>4){o[i++]=65533,l+=u-1;continue}for(c&=u===2?31:u===3?15:7;u>1&&l<a;)c=c<<6|s[l++]&63,u--;if(u>1){o[i++]=65533;continue}c<65536?o[i++]=c:(c-=65536,o[i++]=55296|c>>10&1023,o[i++]=56320|c&1023)}return zT(o,i)},_T=(s,t)=>{t=t||s.length,t>s.length&&(t=s.length);let a=t-1;for(;a>=0&&(s[a]&192)===128;)a--;return a<0||a===0?t:a+ux[s[a]]>t?a:t},jg={string2buf:MT,buf2string:TT,utf8border:_T};function PT(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var RT=PT;const kh=16209,OT=16191;var FT=function(t,a){let l,i,o,c,u,x,h,p,f,y,g,v,C,N,k,A,E,w,R,T,O,W,B,z;const P=t.state;l=t.next_in,B=t.input,i=l+(t.avail_in-5),o=t.next_out,z=t.output,c=o-(a-t.avail_out),u=o+(t.avail_out-257),x=P.dmax,h=P.wsize,p=P.whave,f=P.wnext,y=P.window,g=P.hold,v=P.bits,C=P.lencode,N=P.distcode,k=(1<<P.lenbits)-1,A=(1<<P.distbits)-1;e:do{v<15&&(g+=B[l++]<<v,v+=8,g+=B[l++]<<v,v+=8),E=C[g&k];t:for(;;){if(w=E>>>24,g>>>=w,v-=w,w=E>>>16&255,w===0)z[o++]=E&65535;else if(w&16){R=E&65535,w&=15,w&&(v<w&&(g+=B[l++]<<v,v+=8),R+=g&(1<<w)-1,g>>>=w,v-=w),v<15&&(g+=B[l++]<<v,v+=8,g+=B[l++]<<v,v+=8),E=N[g&A];s:for(;;){if(w=E>>>24,g>>>=w,v-=w,w=E>>>16&255,w&16){if(T=E&65535,w&=15,v<w&&(g+=B[l++]<<v,v+=8,v<w&&(g+=B[l++]<<v,v+=8)),T+=g&(1<<w)-1,T>x){t.msg="invalid distance too far back",P.mode=kh;break e}if(g>>>=w,v-=w,w=o-c,T>w){if(w=T-w,w>p&&P.sane){t.msg="invalid distance too far back",P.mode=kh;break e}if(O=0,W=y,f===0){if(O+=h-w,w<R){R-=w;do z[o++]=y[O++];while(--w);O=o-T,W=z}}else if(f<w){if(O+=h+f-w,w-=f,w<R){R-=w;do z[o++]=y[O++];while(--w);if(O=0,f<R){w=f,R-=w;do z[o++]=y[O++];while(--w);O=o-T,W=z}}}else if(O+=f-w,w<R){R-=w;do z[o++]=y[O++];while(--w);O=o-T,W=z}for(;R>2;)z[o++]=W[O++],z[o++]=W[O++],z[o++]=W[O++],R-=3;R&&(z[o++]=W[O++],R>1&&(z[o++]=W[O++]))}else{O=o-T;do z[o++]=z[O++],z[o++]=z[O++],z[o++]=z[O++],R-=3;while(R>2);R&&(z[o++]=z[O++],R>1&&(z[o++]=z[O++]))}}else if((w&64)===0){E=N[(E&65535)+(g&(1<<w)-1)];continue s}else{t.msg="invalid distance code",P.mode=kh;break e}break}}else if((w&64)===0){E=C[(E&65535)+(g&(1<<w)-1)];continue t}else if(w&32){P.mode=OT;break e}else{t.msg="invalid literal/length code",P.mode=kh;break e}break}}while(l<i&&o<u);R=v>>3,l-=R,v-=R<<3,g&=(1<<v)-1,t.next_in=l,t.next_out=o,t.avail_in=l<i?5+(i-l):5-(l-i),t.avail_out=o<u?257+(u-o):257-(o-u),P.hold=g,P.bits=v};const I0=15,c2=852,d2=592,u2=0,wf=1,x2=2,IT=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),BT=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),UT=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),$T=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),qT=(s,t,a,l,i,o,c,u)=>{const x=u.bits;let h=0,p=0,f=0,y=0,g=0,v=0,C=0,N=0,k=0,A=0,E,w,R,T,O,W=null,B;const z=new Uint16Array(I0+1),P=new Uint16Array(I0+1);let F=null,G,Y,me;for(h=0;h<=I0;h++)z[h]=0;for(p=0;p<l;p++)z[t[a+p]]++;for(g=x,y=I0;y>=1&&z[y]===0;y--);if(g>y&&(g=y),y===0)return i[o++]=1<<24|64<<16|0,i[o++]=1<<24|64<<16|0,u.bits=1,0;for(f=1;f<y&&z[f]===0;f++);for(g<f&&(g=f),N=1,h=1;h<=I0;h++)if(N<<=1,N-=z[h],N<0)return-1;if(N>0&&(s===u2||y!==1))return-1;for(P[1]=0,h=1;h<I0;h++)P[h+1]=P[h]+z[h];for(p=0;p<l;p++)t[a+p]!==0&&(c[P[t[a+p]]++]=p);if(s===u2?(W=F=c,B=20):s===wf?(W=IT,F=BT,B=257):(W=UT,F=$T,B=0),A=0,p=0,h=f,O=o,v=g,C=0,R=-1,k=1<<g,T=k-1,s===wf&&k>c2||s===x2&&k>d2)return 1;for(;;){G=h-C,c[p]+1<B?(Y=0,me=c[p]):c[p]>=B?(Y=F[c[p]-B],me=W[c[p]-B]):(Y=96,me=0),E=1<<h-C,w=1<<v,f=w;do w-=E,i[O+(A>>C)+w]=G<<24|Y<<16|me|0;while(w!==0);for(E=1<<h-1;A&E;)E>>=1;if(E!==0?(A&=E-1,A+=E):A=0,p++,--z[h]===0){if(h===y)break;h=t[a+c[p]]}if(h>g&&(A&T)!==R){for(C===0&&(C=g),O+=f,v=h-C,N=1<<v;v+C<y&&(N-=z[v+C],!(N<=0));)v++,N<<=1;if(k+=1<<v,s===wf&&k>c2||s===x2&&k>d2)return 1;R=A&T,i[R]=g<<24|v<<16|O-o|0}}return A!==0&&(i[O+A]=h-C<<24|64<<16|0),u.bits=g,0};var rx=qT;const HT=0,p5=1,f5=2,{Z_FINISH:h2,Z_BLOCK:WT,Z_TREES:Sh,Z_OK:Id,Z_STREAM_END:GT,Z_NEED_DICT:VT,Z_STREAM_ERROR:ei,Z_DATA_ERROR:g5,Z_MEM_ERROR:b5,Z_BUF_ERROR:YT,Z_DEFLATED:m2}=x5,Tm=16180,p2=16181,f2=16182,g2=16183,b2=16184,v2=16185,y2=16186,j2=16187,w2=16188,N2=16189,um=16190,Wo=16191,Nf=16192,k2=16193,kf=16194,S2=16195,C2=16196,A2=16197,D2=16198,Ch=16199,Ah=16200,L2=16201,E2=16202,M2=16203,z2=16204,T2=16205,Sf=16206,_2=16207,P2=16208,Ca=16209,v5=16210,y5=16211,XT=852,KT=592,JT=15,QT=JT,R2=s=>(s>>>24&255)+(s>>>8&65280)+((s&65280)<<8)+((s&255)<<24);function ZT(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const qd=s=>{if(!s)return 1;const t=s.state;return!t||t.strm!==s||t.mode<Tm||t.mode>y5?1:0},j5=s=>{if(qd(s))return ei;const t=s.state;return s.total_in=s.total_out=t.total=0,s.msg="",t.wrap&&(s.adler=t.wrap&1),t.mode=Tm,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(XT),t.distcode=t.distdyn=new Int32Array(KT),t.sane=1,t.back=-1,Id},w5=s=>{if(qd(s))return ei;const t=s.state;return t.wsize=0,t.whave=0,t.wnext=0,j5(s)},N5=(s,t)=>{let a;if(qd(s))return ei;const l=s.state;return t<0?(a=0,t=-t):(a=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?ei:(l.window!==null&&l.wbits!==t&&(l.window=null),l.wrap=a,l.wbits=t,w5(s))},k5=(s,t)=>{if(!s)return ei;const a=new ZT;s.state=a,a.strm=s,a.window=null,a.mode=Tm;const l=N5(s,t);return l!==Id&&(s.state=null),l},e_=s=>k5(s,QT);let O2=!0,Cf,Af;const t_=s=>{if(O2){Cf=new Int32Array(512),Af=new Int32Array(32);let t=0;for(;t<144;)s.lens[t++]=8;for(;t<256;)s.lens[t++]=9;for(;t<280;)s.lens[t++]=7;for(;t<288;)s.lens[t++]=8;for(rx(p5,s.lens,0,288,Cf,0,s.work,{bits:9}),t=0;t<32;)s.lens[t++]=5;rx(f5,s.lens,0,32,Af,0,s.work,{bits:5}),O2=!1}s.lencode=Cf,s.lenbits=9,s.distcode=Af,s.distbits=5},S5=(s,t,a,l)=>{let i;const o=s.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),l>=o.wsize?(o.window.set(t.subarray(a-o.wsize,a),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>l&&(i=l),o.window.set(t.subarray(a-l,a-l+i),o.wnext),l-=i,l?(o.window.set(t.subarray(a-l,a),0),o.wnext=l,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0},s_=(s,t)=>{let a,l,i,o,c,u,x,h,p,f,y,g,v,C,N=0,k,A,E,w,R,T,O,W;const B=new Uint8Array(4);let z,P;const F=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(qd(s)||!s.output||!s.input&&s.avail_in!==0)return ei;a=s.state,a.mode===Wo&&(a.mode=Nf),c=s.next_out,i=s.output,x=s.avail_out,o=s.next_in,l=s.input,u=s.avail_in,h=a.hold,p=a.bits,f=u,y=x,W=Id;e:for(;;)switch(a.mode){case Tm:if(a.wrap===0){a.mode=Nf;break}for(;p<16;){if(u===0)break e;u--,h+=l[o++]<<p,p+=8}if(a.wrap&2&&h===35615){a.wbits===0&&(a.wbits=15),a.check=0,B[0]=h&255,B[1]=h>>>8&255,a.check=no(a.check,B,2,0),h=0,p=0,a.mode=p2;break}if(a.head&&(a.head.done=!1),!(a.wrap&1)||(((h&255)<<8)+(h>>8))%31){s.msg="incorrect header check",a.mode=Ca;break}if((h&15)!==m2){s.msg="unknown compression method",a.mode=Ca;break}if(h>>>=4,p-=4,O=(h&15)+8,a.wbits===0&&(a.wbits=O),O>15||O>a.wbits){s.msg="invalid window size",a.mode=Ca;break}a.dmax=1<<a.wbits,a.flags=0,s.adler=a.check=1,a.mode=h&512?N2:Wo,h=0,p=0;break;case p2:for(;p<16;){if(u===0)break e;u--,h+=l[o++]<<p,p+=8}if(a.flags=h,(a.flags&255)!==m2){s.msg="unknown compression method",a.mode=Ca;break}if(a.flags&57344){s.msg="unknown header flags set",a.mode=Ca;break}a.head&&(a.head.text=h>>8&1),a.flags&512&&a.wrap&4&&(B[0]=h&255,B[1]=h>>>8&255,a.check=no(a.check,B,2,0)),h=0,p=0,a.mode=f2;case f2:for(;p<32;){if(u===0)break e;u--,h+=l[o++]<<p,p+=8}a.head&&(a.head.time=h),a.flags&512&&a.wrap&4&&(B[0]=h&255,B[1]=h>>>8&255,B[2]=h>>>16&255,B[3]=h>>>24&255,a.check=no(a.check,B,4,0)),h=0,p=0,a.mode=g2;case g2:for(;p<16;){if(u===0)break e;u--,h+=l[o++]<<p,p+=8}a.head&&(a.head.xflags=h&255,a.head.os=h>>8),a.flags&512&&a.wrap&4&&(B[0]=h&255,B[1]=h>>>8&255,a.check=no(a.check,B,2,0)),h=0,p=0,a.mode=b2;case b2:if(a.flags&1024){for(;p<16;){if(u===0)break e;u--,h+=l[o++]<<p,p+=8}a.length=h,a.head&&(a.head.extra_len=h),a.flags&512&&a.wrap&4&&(B[0]=h&255,B[1]=h>>>8&255,a.check=no(a.check,B,2,0)),h=0,p=0}else a.head&&(a.head.extra=null);a.mode=v2;case v2:if(a.flags&1024&&(g=a.length,g>u&&(g=u),g&&(a.head&&(O=a.head.extra_len-a.length,a.head.extra||(a.head.extra=new Uint8Array(a.head.extra_len)),a.head.extra.set(l.subarray(o,o+g),O)),a.flags&512&&a.wrap&4&&(a.check=no(a.check,l,g,o)),u-=g,o+=g,a.length-=g),a.length))break e;a.length=0,a.mode=y2;case y2:if(a.flags&2048){if(u===0)break e;g=0;do O=l[o+g++],a.head&&O&&a.length<65536&&(a.head.name+=String.fromCharCode(O));while(O&&g<u);if(a.flags&512&&a.wrap&4&&(a.check=no(a.check,l,g,o)),u-=g,o+=g,O)break e}else a.head&&(a.head.name=null);a.length=0,a.mode=j2;case j2:if(a.flags&4096){if(u===0)break e;g=0;do O=l[o+g++],a.head&&O&&a.length<65536&&(a.head.comment+=String.fromCharCode(O));while(O&&g<u);if(a.flags&512&&a.wrap&4&&(a.check=no(a.check,l,g,o)),u-=g,o+=g,O)break e}else a.head&&(a.head.comment=null);a.mode=w2;case w2:if(a.flags&512){for(;p<16;){if(u===0)break e;u--,h+=l[o++]<<p,p+=8}if(a.wrap&4&&h!==(a.check&65535)){s.msg="header crc mismatch",a.mode=Ca;break}h=0,p=0}a.head&&(a.head.hcrc=a.flags>>9&1,a.head.done=!0),s.adler=a.check=0,a.mode=Wo;break;case N2:for(;p<32;){if(u===0)break e;u--,h+=l[o++]<<p,p+=8}s.adler=a.check=R2(h),h=0,p=0,a.mode=um;case um:if(a.havedict===0)return s.next_out=c,s.avail_out=x,s.next_in=o,s.avail_in=u,a.hold=h,a.bits=p,VT;s.adler=a.check=1,a.mode=Wo;case Wo:if(t===WT||t===Sh)break e;case Nf:if(a.last){h>>>=p&7,p-=p&7,a.mode=Sf;break}for(;p<3;){if(u===0)break e;u--,h+=l[o++]<<p,p+=8}switch(a.last=h&1,h>>>=1,p-=1,h&3){case 0:a.mode=k2;break;case 1:if(t_(a),a.mode=Ch,t===Sh){h>>>=2,p-=2;break e}break;case 2:a.mode=C2;break;case 3:s.msg="invalid block type",a.mode=Ca}h>>>=2,p-=2;break;case k2:for(h>>>=p&7,p-=p&7;p<32;){if(u===0)break e;u--,h+=l[o++]<<p,p+=8}if((h&65535)!==(h>>>16^65535)){s.msg="invalid stored block lengths",a.mode=Ca;break}if(a.length=h&65535,h=0,p=0,a.mode=kf,t===Sh)break e;case kf:a.mode=S2;case S2:if(g=a.length,g){if(g>u&&(g=u),g>x&&(g=x),g===0)break e;i.set(l.subarray(o,o+g),c),u-=g,o+=g,x-=g,c+=g,a.length-=g;break}a.mode=Wo;break;case C2:for(;p<14;){if(u===0)break e;u--,h+=l[o++]<<p,p+=8}if(a.nlen=(h&31)+257,h>>>=5,p-=5,a.ndist=(h&31)+1,h>>>=5,p-=5,a.ncode=(h&15)+4,h>>>=4,p-=4,a.nlen>286||a.ndist>30){s.msg="too many length or distance symbols",a.mode=Ca;break}a.have=0,a.mode=A2;case A2:for(;a.have<a.ncode;){for(;p<3;){if(u===0)break e;u--,h+=l[o++]<<p,p+=8}a.lens[F[a.have++]]=h&7,h>>>=3,p-=3}for(;a.have<19;)a.lens[F[a.have++]]=0;if(a.lencode=a.lendyn,a.lenbits=7,z={bits:a.lenbits},W=rx(HT,a.lens,0,19,a.lencode,0,a.work,z),a.lenbits=z.bits,W){s.msg="invalid code lengths set",a.mode=Ca;break}a.have=0,a.mode=D2;case D2:for(;a.have<a.nlen+a.ndist;){for(;N=a.lencode[h&(1<<a.lenbits)-1],k=N>>>24,A=N>>>16&255,E=N&65535,!(k<=p);){if(u===0)break e;u--,h+=l[o++]<<p,p+=8}if(E<16)h>>>=k,p-=k,a.lens[a.have++]=E;else{if(E===16){for(P=k+2;p<P;){if(u===0)break e;u--,h+=l[o++]<<p,p+=8}if(h>>>=k,p-=k,a.have===0){s.msg="invalid bit length repeat",a.mode=Ca;break}O=a.lens[a.have-1],g=3+(h&3),h>>>=2,p-=2}else if(E===17){for(P=k+3;p<P;){if(u===0)break e;u--,h+=l[o++]<<p,p+=8}h>>>=k,p-=k,O=0,g=3+(h&7),h>>>=3,p-=3}else{for(P=k+7;p<P;){if(u===0)break e;u--,h+=l[o++]<<p,p+=8}h>>>=k,p-=k,O=0,g=11+(h&127),h>>>=7,p-=7}if(a.have+g>a.nlen+a.ndist){s.msg="invalid bit length repeat",a.mode=Ca;break}for(;g--;)a.lens[a.have++]=O}}if(a.mode===Ca)break;if(a.lens[256]===0){s.msg="invalid code -- missing end-of-block",a.mode=Ca;break}if(a.lenbits=9,z={bits:a.lenbits},W=rx(p5,a.lens,0,a.nlen,a.lencode,0,a.work,z),a.lenbits=z.bits,W){s.msg="invalid literal/lengths set",a.mode=Ca;break}if(a.distbits=6,a.distcode=a.distdyn,z={bits:a.distbits},W=rx(f5,a.lens,a.nlen,a.ndist,a.distcode,0,a.work,z),a.distbits=z.bits,W){s.msg="invalid distances set",a.mode=Ca;break}if(a.mode=Ch,t===Sh)break e;case Ch:a.mode=Ah;case Ah:if(u>=6&&x>=258){s.next_out=c,s.avail_out=x,s.next_in=o,s.avail_in=u,a.hold=h,a.bits=p,FT(s,y),c=s.next_out,i=s.output,x=s.avail_out,o=s.next_in,l=s.input,u=s.avail_in,h=a.hold,p=a.bits,a.mode===Wo&&(a.back=-1);break}for(a.back=0;N=a.lencode[h&(1<<a.lenbits)-1],k=N>>>24,A=N>>>16&255,E=N&65535,!(k<=p);){if(u===0)break e;u--,h+=l[o++]<<p,p+=8}if(A&&(A&240)===0){for(w=k,R=A,T=E;N=a.lencode[T+((h&(1<<w+R)-1)>>w)],k=N>>>24,A=N>>>16&255,E=N&65535,!(w+k<=p);){if(u===0)break e;u--,h+=l[o++]<<p,p+=8}h>>>=w,p-=w,a.back+=w}if(h>>>=k,p-=k,a.back+=k,a.length=E,A===0){a.mode=T2;break}if(A&32){a.back=-1,a.mode=Wo;break}if(A&64){s.msg="invalid literal/length code",a.mode=Ca;break}a.extra=A&15,a.mode=L2;case L2:if(a.extra){for(P=a.extra;p<P;){if(u===0)break e;u--,h+=l[o++]<<p,p+=8}a.length+=h&(1<<a.extra)-1,h>>>=a.extra,p-=a.extra,a.back+=a.extra}a.was=a.length,a.mode=E2;case E2:for(;N=a.distcode[h&(1<<a.distbits)-1],k=N>>>24,A=N>>>16&255,E=N&65535,!(k<=p);){if(u===0)break e;u--,h+=l[o++]<<p,p+=8}if((A&240)===0){for(w=k,R=A,T=E;N=a.distcode[T+((h&(1<<w+R)-1)>>w)],k=N>>>24,A=N>>>16&255,E=N&65535,!(w+k<=p);){if(u===0)break e;u--,h+=l[o++]<<p,p+=8}h>>>=w,p-=w,a.back+=w}if(h>>>=k,p-=k,a.back+=k,A&64){s.msg="invalid distance code",a.mode=Ca;break}a.offset=E,a.extra=A&15,a.mode=M2;case M2:if(a.extra){for(P=a.extra;p<P;){if(u===0)break e;u--,h+=l[o++]<<p,p+=8}a.offset+=h&(1<<a.extra)-1,h>>>=a.extra,p-=a.extra,a.back+=a.extra}if(a.offset>a.dmax){s.msg="invalid distance too far back",a.mode=Ca;break}a.mode=z2;case z2:if(x===0)break e;if(g=y-x,a.offset>g){if(g=a.offset-g,g>a.whave&&a.sane){s.msg="invalid distance too far back",a.mode=Ca;break}g>a.wnext?(g-=a.wnext,v=a.wsize-g):v=a.wnext-g,g>a.length&&(g=a.length),C=a.window}else C=i,v=c-a.offset,g=a.length;g>x&&(g=x),x-=g,a.length-=g;do i[c++]=C[v++];while(--g);a.length===0&&(a.mode=Ah);break;case T2:if(x===0)break e;i[c++]=a.length,x--,a.mode=Ah;break;case Sf:if(a.wrap){for(;p<32;){if(u===0)break e;u--,h|=l[o++]<<p,p+=8}if(y-=x,s.total_out+=y,a.total+=y,a.wrap&4&&y&&(s.adler=a.check=a.flags?no(a.check,i,y,c-y):vg(a.check,i,y,c-y)),y=x,a.wrap&4&&(a.flags?h:R2(h))!==a.check){s.msg="incorrect data check",a.mode=Ca;break}h=0,p=0}a.mode=_2;case _2:if(a.wrap&&a.flags){for(;p<32;){if(u===0)break e;u--,h+=l[o++]<<p,p+=8}if(a.wrap&4&&h!==(a.total&4294967295)){s.msg="incorrect length check",a.mode=Ca;break}h=0,p=0}a.mode=P2;case P2:W=GT;break e;case Ca:W=g5;break e;case v5:return b5;case y5:default:return ei}return s.next_out=c,s.avail_out=x,s.next_in=o,s.avail_in=u,a.hold=h,a.bits=p,(a.wsize||y!==s.avail_out&&a.mode<Ca&&(a.mode<Sf||t!==h2))&&S5(s,s.output,s.next_out,y-s.avail_out),f-=s.avail_in,y-=s.avail_out,s.total_in+=f,s.total_out+=y,a.total+=y,a.wrap&4&&y&&(s.adler=a.check=a.flags?no(a.check,i,y,s.next_out-y):vg(a.check,i,y,s.next_out-y)),s.data_type=a.bits+(a.last?64:0)+(a.mode===Wo?128:0)+(a.mode===Ch||a.mode===kf?256:0),(f===0&&y===0||t===h2)&&W===Id&&(W=YT),W},a_=s=>{if(qd(s))return ei;let t=s.state;return t.window&&(t.window=null),s.state=null,Id},r_=(s,t)=>{if(qd(s))return ei;const a=s.state;return(a.wrap&2)===0?ei:(a.head=t,t.done=!1,Id)},l_=(s,t)=>{const a=t.length;let l,i,o;return qd(s)||(l=s.state,l.wrap!==0&&l.mode!==um)?ei:l.mode===um&&(i=1,i=vg(i,t,a,0),i!==l.check)?g5:(o=S5(s,t,a,a),o?(l.mode=v5,b5):(l.havedict=1,Id))};var n_=w5,i_=N5,o_=j5,c_=e_,d_=k5,u_=s_,x_=a_,h_=r_,m_=l_,p_="pako inflate (from Nodeca project)",Go={inflateReset:n_,inflateReset2:i_,inflateResetKeep:o_,inflateInit:c_,inflateInit2:d_,inflate:u_,inflateEnd:x_,inflateGetHeader:h_,inflateSetDictionary:m_,inflateInfo:p_};function f_(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var g_=f_;const C5=Object.prototype.toString,{Z_NO_FLUSH:b_,Z_FINISH:v_,Z_OK:xx,Z_STREAM_END:Df,Z_NEED_DICT:Lf,Z_STREAM_ERROR:y_,Z_DATA_ERROR:F2,Z_MEM_ERROR:j_}=x5;function Nx(s){this.options=h5.assign({chunkSize:1024*64,windowBits:15,to:""},s||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(s&&s.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new RT,this.strm.avail_out=0;let a=Go.inflateInit2(this.strm,t.windowBits);if(a!==xx)throw new Error(yg[a]);if(this.header=new g_,Go.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=jg.string2buf(t.dictionary):C5.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(a=Go.inflateSetDictionary(this.strm,t.dictionary),a!==xx)))throw new Error(yg[a])}Nx.prototype.push=function(s,t){const a=this.strm,l=this.options.chunkSize,i=this.options.dictionary;let o,c,u;if(this.ended)return!1;for(t===~~t?c=t:c=t===!0?v_:b_,C5.call(s)==="[object ArrayBuffer]"?a.input=new Uint8Array(s):a.input=s,a.next_in=0,a.avail_in=a.input.length;;){for(a.avail_out===0&&(a.output=new Uint8Array(l),a.next_out=0,a.avail_out=l),o=Go.inflate(a,c),o===Lf&&i&&(o=Go.inflateSetDictionary(a,i),o===xx?o=Go.inflate(a,c):o===F2&&(o=Lf));a.avail_in>0&&o===Df&&a.state.wrap>0&&s[a.next_in]!==0;)Go.inflateReset(a),o=Go.inflate(a,c);switch(o){case y_:case F2:case Lf:case j_:return this.onEnd(o),this.ended=!0,!1}if(u=a.avail_out,a.next_out&&(a.avail_out===0||o===Df))if(this.options.to==="string"){let x=jg.utf8border(a.output,a.next_out),h=a.next_out-x,p=jg.buf2string(a.output,x);a.next_out=h,a.avail_out=l-h,h&&a.output.set(a.output.subarray(x,x+h),0),this.onData(p)}else this.onData(a.output.length===a.next_out?a.output:a.output.subarray(0,a.next_out));if(!(o===xx&&u===0)){if(o===Df)return o=Go.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(a.avail_in===0)break}}return!0};Nx.prototype.onData=function(s){this.chunks.push(s)};Nx.prototype.onEnd=function(s){s===xx&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=h5.flattenChunks(this.chunks)),this.chunks=[],this.err=s,this.msg=this.strm.msg};function w_(s,t){const a=new Nx(t);if(a.push(s),a.err)throw a.msg||yg[a.err];return a.result}var N_=Nx,k_=w_,S_={Inflate:N_,inflate:k_};const{Inflate:C_,inflate:A_}=S_;var I2=C_,D_=A_;const A5=[];for(let s=0;s<256;s++){let t=s;for(let a=0;a<8;a++)t&1?t=3988292384^t>>>1:t=t>>>1;A5[s]=t}const B2=4294967295;function L_(s,t,a){let l=s;for(let i=0;i<a;i++)l=A5[(l^t[i])&255]^l>>>8;return l}function E_(s,t){return(L_(B2,s,t)^B2)>>>0}function U2(s,t,a){const l=s.readUint32(),i=E_(new Uint8Array(s.buffer,s.byteOffset+s.offset-t-4,t),t);if(i!==l)throw new Error(`CRC mismatch for chunk ${a}. Expected ${l}, found ${i}`)}function D5(s,t,a){for(let l=0;l<a;l++)t[l]=s[l]}function L5(s,t,a,l){let i=0;for(;i<l;i++)t[i]=s[i];for(;i<a;i++)t[i]=s[i]+t[i-l]&255}function E5(s,t,a,l){let i=0;if(a.length===0)for(;i<l;i++)t[i]=s[i];else for(;i<l;i++)t[i]=s[i]+a[i]&255}function M5(s,t,a,l,i){let o=0;if(a.length===0){for(;o<i;o++)t[o]=s[o];for(;o<l;o++)t[o]=s[o]+(t[o-i]>>1)&255}else{for(;o<i;o++)t[o]=s[o]+(a[o]>>1)&255;for(;o<l;o++)t[o]=s[o]+(t[o-i]+a[o]>>1)&255}}function z5(s,t,a,l,i){let o=0;if(a.length===0){for(;o<i;o++)t[o]=s[o];for(;o<l;o++)t[o]=s[o]+t[o-i]&255}else{for(;o<i;o++)t[o]=s[o]+a[o]&255;for(;o<l;o++)t[o]=s[o]+M_(t[o-i],a[o],a[o-i])&255}}function M_(s,t,a){const l=s+t-a,i=Math.abs(l-s),o=Math.abs(l-t),c=Math.abs(l-a);return i<=o&&i<=c?s:o<=c?t:a}function z_(s,t,a,l,i,o){switch(s){case 0:D5(t,a,i);break;case 1:L5(t,a,i,o);break;case 2:E5(t,a,l,i);break;case 3:M5(t,a,l,i,o);break;case 4:z5(t,a,l,i,o);break;default:throw new Error(`Unsupported filter: ${s}`)}}const T_=new Uint16Array([255]),__=new Uint8Array(T_.buffer),P_=__[0]===255;function R_(s){const{data:t,width:a,height:l,channels:i,depth:o}=s,c=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],u=Math.ceil(o/8)*i,x=new Uint8Array(l*a*u);let h=0;for(let p=0;p<7;p++){const f=c[p],y=Math.ceil((a-f.x)/f.xStep),g=Math.ceil((l-f.y)/f.yStep);if(y<=0||g<=0)continue;const v=y*u,C=new Uint8Array(v);for(let N=0;N<g;N++){const k=t[h++],A=t.subarray(h,h+v);h+=v;const E=new Uint8Array(v);z_(k,A,E,C,v,u),C.set(E);for(let w=0;w<y;w++){const R=f.x+w*f.xStep,T=f.y+N*f.yStep;if(!(R>=a||T>=l))for(let O=0;O<u;O++)x[(T*a+R)*u+O]=E[w*u+O]}}}if(o===16){const p=new Uint16Array(x.buffer);if(P_)for(let f=0;f<p.length;f++)p[f]=O_(p[f]);return p}else return x}function O_(s){return(s&255)<<8|s>>8&255}const F_=new Uint16Array([255]),I_=new Uint8Array(F_.buffer),B_=I_[0]===255,U_=new Uint8Array(0);function $2(s){const{data:t,width:a,height:l,channels:i,depth:o}=s,c=Math.ceil(o/8)*i,u=Math.ceil(o/8*i*a),x=new Uint8Array(l*u);let h=U_,p=0,f,y;for(let g=0;g<l;g++){switch(f=t.subarray(p+1,p+1+u),y=x.subarray(g*u,(g+1)*u),t[p]){case 0:D5(f,y,u);break;case 1:L5(f,y,u,c);break;case 2:E5(f,y,h,u);break;case 3:M5(f,y,h,u,c);break;case 4:z5(f,y,h,u,c);break;default:throw new Error(`Unsupported filter: ${t[p]}`)}h=y,p+=u+1}if(o===16){const g=new Uint16Array(x.buffer);if(B_)for(let v=0;v<g.length;v++)g[v]=$_(g[v]);return g}else return x}function $_(s){return(s&255)<<8|s>>8&255}const Yh=Uint8Array.of(137,80,78,71,13,10,26,10);function q2(s){if(!q_(s.readBytes(Yh.length)))throw new Error("wrong PNG signature")}function q_(s){if(s.length<Yh.length)return!1;for(let t=0;t<Yh.length;t++)if(s[t]!==Yh[t])return!1;return!0}const H_="tEXt",W_=0,T5=new TextDecoder("latin1");function G_(s){if(Y_(s),s.length===0||s.length>79)throw new Error("keyword length must be between 1 and 79")}const V_=/^[\u0000-\u00FF]*$/;function Y_(s){if(!V_.test(s))throw new Error("invalid latin1 text")}function X_(s,t,a){const l=_5(t);s[l]=K_(t,a-l.length-1)}function _5(s){for(s.mark();s.readByte()!==W_;);const t=s.offset;s.reset();const a=T5.decode(s.readBytes(t-s.offset-1));return s.skip(1),G_(a),a}function K_(s,t){return T5.decode(s.readBytes(t))}const gn={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Ef={UNKNOWN:-1,DEFLATE:0},H2={UNKNOWN:-1,ADAPTIVE:0},Mf={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Dh={NONE:0,BACKGROUND:1,PREVIOUS:2},zf={SOURCE:0,OVER:1};class J_ extends pb{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(t,a={}){super(t);const{checkCrc:l=!1}=a;this._checkCrc=l,this._inflator=new I2,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Ef.UNKNOWN,this._filterMethod=H2.UNKNOWN,this._interlaceMethod=Mf.UNKNOWN,this._colorType=gn.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(q2(this);!this._end;){const t=this.readUint32(),a=this.readChars(4);this.decodeChunk(t,a)}return this.decodeImage(),this._png}decodeApng(){for(q2(this);!this._end;){const t=this.readUint32(),a=this.readChars(4);this.decodeApngChunk(t,a)}return this.decodeApngImage(),this._apng}decodeChunk(t,a){const l=this.offset;switch(a){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case H_:X_(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-l!==t)throw new Error(`Length mismatch while decoding chunk ${a}`);this._checkCrc?U2(this,t+4,a):this.skip(4)}decodeApngChunk(t,a){const l=this.offset;switch(a!=="fdAT"&&a!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),a){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,a),this.offset=l+t;break}if(this.offset-l!==t)throw new Error(`Length mismatch while decoding chunk ${a}`);this._checkCrc?U2(this,t+4,a):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=Q_(this.readUint8());const a=this.readUint8();this._colorType=a;let l;switch(a){case gn.GREYSCALE:l=1;break;case gn.TRUECOLOUR:l=3;break;case gn.INDEXED_COLOUR:l=1;break;case gn.GREYSCALE_ALPHA:l=2;break;case gn.TRUECOLOUR_ALPHA:l=4;break;case gn.UNKNOWN:default:throw new Error(`Unknown color type: ${a}`)}if(this._png.channels=l,this._compressionMethod=this.readUint8(),this._compressionMethod!==Ef.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const a=t/3;this._hasPalette=!0;const l=[];this._palette=l;for(let i=0;i<a;i++)l.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const a=t,l=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,l,a)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let a=t,l=this.offset+this.byteOffset;if(l+=4,a-=4,this._inflator.push(new Uint8Array(this.buffer,l,a)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case gn.GREYSCALE:case gn.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let a=0;a<t/2;a++)this._transparency[a]=this.readUint16();break}case gn.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let a=0;for(;a<t;a++){const l=this.readByte();this._palette[a].push(l)}for(;a<this._palette.length;a++)this._palette[a].push(255);break}case gn.UNKNOWN:case gn.GREYSCALE_ALPHA:case gn.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const a=_5(this),l=this.readUint8();if(l!==Ef.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${l}`);const i=this.readBytes(t-a.length-2);this._png.iccEmbeddedProfile={name:a,profile:D_(i)}}decodepHYs(){const t=this.readUint32(),a=this.readUint32(),l=this.readByte();this._png.resolution={x:t,y:a,unit:l}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const a={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},l=this._frames.at(t);if(l){if(l.data=$2({data:l.data,width:l.width,height:l.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||l.xOffset===0&&l.yOffset===0&&l.width===this._png.width&&l.height===this._png.height)a.data=l.data;else{const i=this._apng.frames.at(t-1);this.disposeFrame(l,i,a),this.addFrameDataToCanvas(a,l)}this._apng.frames.push(a)}}return this._apng}disposeFrame(t,a,l){switch(t.disposeOp){case Dh.NONE:break;case Dh.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let o=0;o<this._png.width;o++){const c=(i*t.width+o)*this._png.channels;for(let u=0;u<this._png.channels;u++)l.data[c+u]=0}break;case Dh.PREVIOUS:l.data.set(a.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,a){const l=1<<this._png.depth,i=(o,c)=>{const u=((o+a.yOffset)*this._png.width+a.xOffset+c)*this._png.channels,x=(o*a.width+c)*this._png.channels;return{index:u,frameIndex:x}};switch(a.blendOp){case zf.SOURCE:for(let o=0;o<a.height;o++)for(let c=0;c<a.width;c++){const{index:u,frameIndex:x}=i(o,c);for(let h=0;h<this._png.channels;h++)t.data[u+h]=a.data[x+h]}break;case zf.OVER:for(let o=0;o<a.height;o++)for(let c=0;c<a.width;c++){const{index:u,frameIndex:x}=i(o,c);for(let h=0;h<this._png.channels;h++){const p=a.data[x+this._png.channels-1]/l,f=h%(this._png.channels-1)===0?1:a.data[x+h],y=Math.floor(p*f+(1-p)*t.data[u+h]);t.data[u+h]+=y}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==H2.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Mf.NO_INTERLACE)this._png.data=$2({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Mf.ADAM7)this._png.data=R_({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,a=this._frames.at(-1);a?a.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Dh.NONE,blendOp:zf.SOURCE,data:t}),this._inflator=new I2,this._writingDataChunks=!1}}function Q_(s){if(s!==1&&s!==2&&s!==4&&s!==8&&s!==16)throw new Error(`invalid bit depth: ${s}`);return s}var W2;(function(s){s[s.UNKNOWN=0]="UNKNOWN",s[s.METRE=1]="METRE"})(W2||(W2={}));function Z_(s,t){return new J_(s,t).decode()}var Kt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function Tf(){Kt.console&&typeof Kt.console.log=="function"&&Kt.console.log.apply(Kt.console,arguments)}var da={log:Tf,warn:function(s){Kt.console&&(typeof Kt.console.warn=="function"?Kt.console.warn.apply(Kt.console,arguments):Tf.call(null,arguments))},error:function(s){Kt.console&&(typeof Kt.console.error=="function"?Kt.console.error.apply(Kt.console,arguments):Tf(s))}};function _f(s,t,a){var l=new XMLHttpRequest;l.open("GET",s),l.responseType="blob",l.onload=function(){Dd(l.response,t,a)},l.onerror=function(){da.error("could not download file")},l.send()}function G2(s){var t=new XMLHttpRequest;t.open("HEAD",s,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Lh(s){try{s.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),s.dispatchEvent(t)}}var Dd=Kt.saveAs||((typeof window>"u"?"undefined":Js(window))!=="object"||window!==Kt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(s,t,a){var l=Kt.URL||Kt.webkitURL,i=document.createElement("a");t=t||s.name||"download",i.download=t,i.rel="noopener",typeof s=="string"?(i.href=s,i.origin!==location.origin?G2(i.href)?_f(s,t,a):Lh(i,i.target="_blank"):Lh(i)):(i.href=l.createObjectURL(s),setTimeout(function(){l.revokeObjectURL(i.href)},4e4),setTimeout(function(){Lh(i)},0))}:"msSaveOrOpenBlob"in navigator?function(s,t,a){if(t=t||s.name||"download",typeof s=="string")if(G2(s))_f(s,t,a);else{var l=document.createElement("a");l.href=s,l.target="_blank",setTimeout(function(){Lh(l)})}else navigator.msSaveOrOpenBlob((function(i,o){return o===void 0?o={autoBom:!1}:Js(o)!=="object"&&(da.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(s,a),t)}:function(s,t,a,l){if((l=l||open("","_blank"))&&(l.document.title=l.document.body.innerText="downloading..."),typeof s=="string")return _f(s,t,a);var i=s.type==="application/octet-stream",o=/constructor/i.test(Kt.HTMLElement)||Kt.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||i&&o)&&(typeof FileReader>"u"?"undefined":Js(FileReader))==="object"){var u=new FileReader;u.onloadend=function(){var p=u.result;p=c?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),l?l.location.href=p:location=p,l=null},u.readAsDataURL(s)}else{var x=Kt.URL||Kt.webkitURL,h=x.createObjectURL(s);l?l.location=h:location.href=h,l=null,setTimeout(function(){x.revokeObjectURL(h)},4e4)}});function P5(s){var t;s=s||"",this.ok=!1,s.charAt(0)=="#"&&(s=s.substr(1,6)),s={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[s=(s=s.replace(/ /g,"")).toLowerCase()]||s;for(var a=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],l=0;l<a.length;l++){var i=a[l].re,o=a[l].process,c=i.exec(s);c&&(t=o(c),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),x=this.g.toString(16),h=this.b.toString(16);return u.length==1&&(u="0"+u),x.length==1&&(x="0"+x),h.length==1&&(h="0"+h),"#"+u+x+h}}var Xh=Kt.atob.bind(Kt),V2=Kt.btoa.bind(Kt);function Pf(s,t){var a=s[0],l=s[1],i=s[2],o=s[3];a=tl(a,l,i,o,t[0],7,-680876936),o=tl(o,a,l,i,t[1],12,-389564586),i=tl(i,o,a,l,t[2],17,606105819),l=tl(l,i,o,a,t[3],22,-1044525330),a=tl(a,l,i,o,t[4],7,-176418897),o=tl(o,a,l,i,t[5],12,1200080426),i=tl(i,o,a,l,t[6],17,-1473231341),l=tl(l,i,o,a,t[7],22,-45705983),a=tl(a,l,i,o,t[8],7,1770035416),o=tl(o,a,l,i,t[9],12,-1958414417),i=tl(i,o,a,l,t[10],17,-42063),l=tl(l,i,o,a,t[11],22,-1990404162),a=tl(a,l,i,o,t[12],7,1804603682),o=tl(o,a,l,i,t[13],12,-40341101),i=tl(i,o,a,l,t[14],17,-1502002290),a=sl(a,l=tl(l,i,o,a,t[15],22,1236535329),i,o,t[1],5,-165796510),o=sl(o,a,l,i,t[6],9,-1069501632),i=sl(i,o,a,l,t[11],14,643717713),l=sl(l,i,o,a,t[0],20,-373897302),a=sl(a,l,i,o,t[5],5,-701558691),o=sl(o,a,l,i,t[10],9,38016083),i=sl(i,o,a,l,t[15],14,-660478335),l=sl(l,i,o,a,t[4],20,-405537848),a=sl(a,l,i,o,t[9],5,568446438),o=sl(o,a,l,i,t[14],9,-1019803690),i=sl(i,o,a,l,t[3],14,-187363961),l=sl(l,i,o,a,t[8],20,1163531501),a=sl(a,l,i,o,t[13],5,-1444681467),o=sl(o,a,l,i,t[2],9,-51403784),i=sl(i,o,a,l,t[7],14,1735328473),a=al(a,l=sl(l,i,o,a,t[12],20,-1926607734),i,o,t[5],4,-378558),o=al(o,a,l,i,t[8],11,-2022574463),i=al(i,o,a,l,t[11],16,1839030562),l=al(l,i,o,a,t[14],23,-35309556),a=al(a,l,i,o,t[1],4,-1530992060),o=al(o,a,l,i,t[4],11,1272893353),i=al(i,o,a,l,t[7],16,-155497632),l=al(l,i,o,a,t[10],23,-1094730640),a=al(a,l,i,o,t[13],4,681279174),o=al(o,a,l,i,t[0],11,-358537222),i=al(i,o,a,l,t[3],16,-722521979),l=al(l,i,o,a,t[6],23,76029189),a=al(a,l,i,o,t[9],4,-640364487),o=al(o,a,l,i,t[12],11,-421815835),i=al(i,o,a,l,t[15],16,530742520),a=rl(a,l=al(l,i,o,a,t[2],23,-995338651),i,o,t[0],6,-198630844),o=rl(o,a,l,i,t[7],10,1126891415),i=rl(i,o,a,l,t[14],15,-1416354905),l=rl(l,i,o,a,t[5],21,-57434055),a=rl(a,l,i,o,t[12],6,1700485571),o=rl(o,a,l,i,t[3],10,-1894986606),i=rl(i,o,a,l,t[10],15,-1051523),l=rl(l,i,o,a,t[1],21,-2054922799),a=rl(a,l,i,o,t[8],6,1873313359),o=rl(o,a,l,i,t[15],10,-30611744),i=rl(i,o,a,l,t[6],15,-1560198380),l=rl(l,i,o,a,t[13],21,1309151649),a=rl(a,l,i,o,t[4],6,-145523070),o=rl(o,a,l,i,t[11],10,-1120210379),i=rl(i,o,a,l,t[2],15,718787259),l=rl(l,i,o,a,t[9],21,-343485551),s[0]=Fc(a,s[0]),s[1]=Fc(l,s[1]),s[2]=Fc(i,s[2]),s[3]=Fc(o,s[3])}function _m(s,t,a,l,i,o){return t=Fc(Fc(t,s),Fc(l,o)),Fc(t<<i|t>>>32-i,a)}function tl(s,t,a,l,i,o,c){return _m(t&a|~t&l,s,t,i,o,c)}function sl(s,t,a,l,i,o,c){return _m(t&l|a&~l,s,t,i,o,c)}function al(s,t,a,l,i,o,c){return _m(t^a^l,s,t,i,o,c)}function rl(s,t,a,l,i,o,c){return _m(a^(t|~l),s,t,i,o,c)}function R5(s){var t,a=s.length,l=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=s.length;t+=64)Pf(l,eP(s.substring(t-64,t)));s=s.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<s.length;t++)i[t>>2]|=s.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(Pf(l,i),t=0;t<16;t++)i[t]=0;return i[14]=8*a,Pf(l,i),l}function eP(s){var t,a=[];for(t=0;t<64;t+=4)a[t>>2]=s.charCodeAt(t)+(s.charCodeAt(t+1)<<8)+(s.charCodeAt(t+2)<<16)+(s.charCodeAt(t+3)<<24);return a}var Y2="0123456789abcdef".split("");function tP(s){for(var t="",a=0;a<4;a++)t+=Y2[s>>8*a+4&15]+Y2[s>>8*a&15];return t}function sP(s){return String.fromCharCode(255&s,(65280&s)>>8,(16711680&s)>>16,(4278190080&s)>>24)}function wg(s){return R5(s).map(sP).join("")}var aP=(function(s){for(var t=0;t<s.length;t++)s[t]=tP(s[t]);return s.join("")})(R5("hello"))!="5d41402abc4b2a76b9719d911017c592";function Fc(s,t){if(aP){var a=(65535&s)+(65535&t);return(s>>16)+(t>>16)+(a>>16)<<16|65535&a}return s+t&4294967295}function Ng(s,t){var a,l,i,o;if(s!==a){for(var c=(i=s,o=1+(256/s.length|0),new Array(o+1).join(i)),u=[],x=0;x<256;x++)u[x]=x;var h=0;for(x=0;x<256;x++){var p=u[x];h=(h+p+c.charCodeAt(x))%256,u[x]=u[h],u[h]=p}a=s,l=u}else u=l;var f=t.length,y=0,g=0,v="";for(x=0;x<f;x++)g=(g+(p=u[y=(y+1)%256]))%256,u[y]=u[g],u[g]=p,c=u[(u[y]+u[g])%256],v+=String.fromCharCode(t.charCodeAt(x)^c);return v}var X2={print:4,modify:8,copy:16,"annot-forms":32};function $0(s,t,a,l){this.v=1,this.r=2;var i=192;s.forEach(function(u){if(X2.perm!==void 0)throw new Error("Invalid permission: "+u);i+=X2[u]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(t+this.padding).substr(0,32),c=(a+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,c),this.P=-(1+(255^i)),this.encryptionKey=wg(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(l)).substr(0,5),this.U=Ng(this.encryptionKey,this.padding)}function q0(s){if(/[^\u0000-\u00ff]/.test(s))throw new Error("Invalid PDF Name Object: "+s+", Only accept ASCII characters.");for(var t="",a=s.length,l=0;l<a;l++){var i=s.charCodeAt(l);t+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):s[l]}return t}function K2(s){if(Js(s)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(a,l,i){if(i=i||!1,typeof a!="string"||typeof l!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(a)||(t[a]={});var o=Math.random().toString(35);return t[a][o]=[l,!!i],o},this.unsubscribe=function(a){for(var l in t)if(t[l][a])return delete t[l][a],Object.keys(t[l]).length===0&&delete t[l],!0;return!1},this.publish=function(a){if(t.hasOwnProperty(a)){var l=Array.prototype.slice.call(arguments,1),i=[];for(var o in t[a]){var c=t[a][o];try{c[0].apply(s,l)}catch(u){Kt.console&&da.error("jsPDF PubSub Error",u.message,u)}c[1]&&i.push(o)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function xm(s){if(!(this instanceof xm))return new xm(s);var t="opacity,stroke-opacity".split(",");for(var a in s)s.hasOwnProperty(a)&&t.indexOf(a)>=0&&(this[a]=s[a]);this.id="",this.objectNumber=-1}function O5(s,t){this.gState=s,this.matrix=t,this.id="",this.objectNumber=-1}function Ed(s,t,a,l,i){if(!(this instanceof Ed))return new Ed(s,t,a,l,i);this.type=s==="axial"?2:3,this.coords=t,this.colors=a,O5.call(this,l,i)}function H0(s,t,a,l,i){if(!(this instanceof H0))return new H0(s,t,a,l,i);this.boundingBox=s,this.xStep=t,this.yStep=a,this.stream="",this.cloneIndex=0,O5.call(this,l,i)}function gt(s){var t,a=typeof arguments[0]=="string"?arguments[0]:"p",l=arguments[1],i=arguments[2],o=arguments[3],c=[],u=1,x=16,h="S",p=null;Js(s=s||{})==="object"&&(a=s.orientation,l=s.unit||l,i=s.format||i,o=s.compress||s.compressPdf||o,(p=s.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),u=typeof s.userUnit=="number"?Math.abs(s.userUnit):1,s.precision!==void 0&&(t=s.precision),s.floatPrecision!==void 0&&(x=s.floatPrecision),h=s.defaultPathOperation||"S"),c=s.filters||(o===!0?["FlateEncode"]:c),l=l||"mm",a=(""+(a||"P")).toLowerCase();var f=s.putOnlyUsedFonts||!1,y={},g={internal:{},__private__:{}};g.__private__.PubSub=K2;var v="1.3",C=g.__private__.getPdfVersion=function(){return v};g.__private__.setPdfVersion=function(M){v=M};var N={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return N};var k=g.__private__.getPageFormat=function(M){return N[M]};i=i||"a4";var A="compat",E="advanced",w=A;function R(){this.saveGraphicsState(),re(new Dt(Jt,0,0,-Jt,0,ui()*Jt).toString()+" cm"),this.setFontSize(this.getFontSize()/Jt),h="n",w=E}function T(){this.restoreGraphicsState(),h="S",w=A}var O=g.__private__.combineFontStyleAndFontWeight=function(M,X){if(M=="bold"&&X=="normal"||M=="bold"&&X==400||M=="normal"&&X=="italic"||M=="bold"&&X=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return X&&(M=X==400||X==="normal"?M==="italic"?"italic":"normal":X!=700&&X!=="bold"||M!=="normal"?(X==700?"bold":X)+""+M:"bold"),M};g.advancedAPI=function(M){var X=w===A;return X&&R.call(this),typeof M!="function"||(M(this),X&&T.call(this)),this},g.compatAPI=function(M){var X=w===E;return X&&T.call(this),typeof M!="function"||(M(this),X&&R.call(this)),this},g.isAdvancedAPI=function(){return w===E};var W,B=function(M){if(w!==E)throw new Error(M+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},z=g.roundToPrecision=g.__private__.roundToPrecision=function(M,X){var xe=t||X;if(isNaN(M)||isNaN(xe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return M.toFixed(xe).replace(/0+$/,"")};W=g.hpf=g.__private__.hpf=typeof x=="number"?function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return z(M,x)}:x==="smart"?function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return z(M,M>-1&&M<1?16:5)}:function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return z(M,16)};var P=g.f2=g.__private__.f2=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.f2");return z(M,2)},F=g.__private__.f3=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.f3");return z(M,3)},G=g.scale=g.__private__.scale=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.scale");return w===A?M*Jt:w===E?M:void 0},Y=function(M){return G((function(X){return w===A?ui()-X:w===E?X:void 0})(M))};g.__private__.setPrecision=g.setPrecision=function(M){typeof parseInt(M,10)=="number"&&(t=parseInt(M,10))};var me,H="00000000000000000000000000000000",V=g.__private__.getFileId=function(){return H},$=g.__private__.setFileId=function(M){return H=M!==void 0&&/^[a-fA-F0-9]{32}$/.test(M)?M.toUpperCase():H.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(Xa=new $0(p.userPermissions,p.userPassword,p.ownerPassword,H)),H};g.setFileId=function(M){return $(M),this},g.getFileId=function(){return V()};var le=g.__private__.convertDateToPDFDate=function(M){var X=M.getTimezoneOffset(),xe=X<0?"+":"-",be=Math.floor(Math.abs(X/60)),ke=Math.abs(X%60),Ue=[xe,K(be),"'",K(ke),"'"].join("");return["D:",M.getFullYear(),K(M.getMonth()+1),K(M.getDate()),K(M.getHours()),K(M.getMinutes()),K(M.getSeconds()),Ue].join("")},ge=g.__private__.convertPDFDateToDate=function(M){var X=parseInt(M.substr(2,4),10),xe=parseInt(M.substr(6,2),10)-1,be=parseInt(M.substr(8,2),10),ke=parseInt(M.substr(10,2),10),Ue=parseInt(M.substr(12,2),10),Ye=parseInt(M.substr(14,2),10);return new Date(X,xe,be,ke,Ue,Ye,0)},te=g.__private__.setCreationDate=function(M){var X;if(M===void 0&&(M=new Date),M instanceof Date)X=le(M);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(M))throw new Error("Invalid argument passed to jsPDF.setCreationDate");X=M}return me=X},q=g.__private__.getCreationDate=function(M){var X=me;return M==="jsDate"&&(X=ge(me)),X};g.setCreationDate=function(M){return te(M),this},g.getCreationDate=function(M){return q(M)};var Q,K=g.__private__.padd2=function(M){return("0"+parseInt(M)).slice(-2)},oe=g.__private__.padd2Hex=function(M){return("00"+(M=M.toString())).substr(M.length)},ae=0,ce=[],pe=[],we=0,Ee=[],Be=[],Je=!1,tt=pe;g.__private__.setCustomOutputDestination=function(M){Je=!0,tt=M};var he=function(M){Je||(tt=M)};g.__private__.resetCustomOutputDestination=function(){Je=!1,tt=pe};var re=g.__private__.out=function(M){return M=M.toString(),we+=M.length+1,tt.push(M),tt},et=g.__private__.write=function(M){return re(arguments.length===1?M.toString():Array.prototype.join.call(arguments," "))},Tt=g.__private__.getArrayBuffer=function(M){for(var X=M.length,xe=new ArrayBuffer(X),be=new Uint8Array(xe);X--;)be[X]=M.charCodeAt(X);return xe},Nt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return Nt};var Ke=s.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(M){return Ke=w===E?M/Jt:M,this};var St,nt=g.__private__.getFontSize=g.getFontSize=function(){return w===A?Ke:Ke*Jt},At=s.R2L||!1;g.__private__.setR2L=g.setR2L=function(M){return At=M,this},g.__private__.getR2L=g.getR2L=function(){return At};var bt,Ge=g.__private__.setZoomMode=function(M){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(M))St=M;else if(isNaN(M)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(M)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+M+'" is not recognized.');St=M}else St=parseInt(M,10)};g.__private__.getZoomMode=function(){return St};var Bt,vt=g.__private__.setPageMode=function(M){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(M)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+M+'" is not recognized.');bt=M};g.__private__.getPageMode=function(){return bt};var os=g.__private__.setLayoutMode=function(M){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(M)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+M+'" is not recognized.');Bt=M};g.__private__.getLayoutMode=function(){return Bt},g.__private__.setDisplayMode=g.setDisplayMode=function(M,X,xe){return Ge(M),os(X),vt(xe),this};var Yt={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(M){if(Object.keys(Yt).indexOf(M)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Yt[M]},g.__private__.getDocumentProperties=function(){return Yt},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(M){for(var X in Yt)Yt.hasOwnProperty(X)&&M[X]&&(Yt[X]=M[X]);return this},g.__private__.setDocumentProperty=function(M,X){if(Object.keys(Yt).indexOf(M)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Yt[M]=X};var ut,Jt,kt,Da,hs,_t={},Wt={},fs=[],Et={},Zs={},Ut={},Gt={},Gs=null,ls=0,Ct=[],Ss=new K2(g),Ql=s.hotfixes||[],Nr={},Ln={},Sl=[],Dt=function M(X,xe,be,ke,Ue,Ye){if(!(this instanceof M))return new M(X,xe,be,ke,Ue,Ye);isNaN(X)&&(X=1),isNaN(xe)&&(xe=0),isNaN(be)&&(be=0),isNaN(ke)&&(ke=1),isNaN(Ue)&&(Ue=0),isNaN(Ye)&&(Ye=0),this._matrix=[X,xe,be,ke,Ue,Ye]};Object.defineProperty(Dt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(M){this._matrix[0]=M}}),Object.defineProperty(Dt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(M){this._matrix[1]=M}}),Object.defineProperty(Dt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(M){this._matrix[2]=M}}),Object.defineProperty(Dt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(M){this._matrix[3]=M}}),Object.defineProperty(Dt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(M){this._matrix[4]=M}}),Object.defineProperty(Dt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(M){this._matrix[5]=M}}),Object.defineProperty(Dt.prototype,"a",{get:function(){return this._matrix[0]},set:function(M){this._matrix[0]=M}}),Object.defineProperty(Dt.prototype,"b",{get:function(){return this._matrix[1]},set:function(M){this._matrix[1]=M}}),Object.defineProperty(Dt.prototype,"c",{get:function(){return this._matrix[2]},set:function(M){this._matrix[2]=M}}),Object.defineProperty(Dt.prototype,"d",{get:function(){return this._matrix[3]},set:function(M){this._matrix[3]=M}}),Object.defineProperty(Dt.prototype,"e",{get:function(){return this._matrix[4]},set:function(M){this._matrix[4]=M}}),Object.defineProperty(Dt.prototype,"f",{get:function(){return this._matrix[5]},set:function(M){this._matrix[5]=M}}),Object.defineProperty(Dt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Dt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Dt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Dt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Dt.prototype.join=function(M){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(W).join(M)},Dt.prototype.multiply=function(M){var X=M.sx*this.sx+M.shy*this.shx,xe=M.sx*this.shy+M.shy*this.sy,be=M.shx*this.sx+M.sy*this.shx,ke=M.shx*this.shy+M.sy*this.sy,Ue=M.tx*this.sx+M.ty*this.shx+this.tx,Ye=M.tx*this.shy+M.ty*this.sy+this.ty;return new Dt(X,xe,be,ke,Ue,Ye)},Dt.prototype.decompose=function(){var M=this.sx,X=this.shy,xe=this.shx,be=this.sy,ke=this.tx,Ue=this.ty,Ye=Math.sqrt(M*M+X*X),ht=(M/=Ye)*xe+(X/=Ye)*be;xe-=M*ht,be-=X*ht;var yt=Math.sqrt(xe*xe+be*be);return ht/=yt,M*(be/=yt)<X*(xe/=yt)&&(M=-M,X=-X,ht=-ht,Ye=-Ye),{scale:new Dt(Ye,0,0,yt,0,0),translate:new Dt(1,0,0,1,ke,Ue),rotate:new Dt(M,X,-X,M,0,0),skew:new Dt(1,0,ht,1,0,0)}},Dt.prototype.toString=function(M){return this.join(" ")},Dt.prototype.inversed=function(){var M=this.sx,X=this.shy,xe=this.shx,be=this.sy,ke=this.tx,Ue=this.ty,Ye=1/(M*be-X*xe),ht=be*Ye,yt=-X*Ye,qt=-xe*Ye,es=M*Ye;return new Dt(ht,yt,qt,es,-ht*ke-qt*Ue,-yt*ke-es*Ue)},Dt.prototype.applyToPoint=function(M){var X=M.x*this.sx+M.y*this.shx+this.tx,xe=M.x*this.shy+M.y*this.sy+this.ty;return new Dl(X,xe)},Dt.prototype.applyToRectangle=function(M){var X=this.applyToPoint(M),xe=this.applyToPoint(new Dl(M.x+M.w,M.y+M.h));return new ni(X.x,X.y,xe.x-X.x,xe.y-X.y)},Dt.prototype.clone=function(){var M=this.sx,X=this.shy,xe=this.shx,be=this.sy,ke=this.tx,Ue=this.ty;return new Dt(M,X,xe,be,ke,Ue)},g.Matrix=Dt;var si=g.matrixMult=function(M,X){return X.multiply(M)},En=new Dt(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=En;var ul=function(M,X){if(!Zs[M]){var xe=(X instanceof Ed?"Sh":"P")+(Object.keys(Et).length+1).toString(10);X.id=xe,Zs[M]=xe,Et[xe]=X,Ss.publish("addPattern",X)}};g.ShadingPattern=Ed,g.TilingPattern=H0,g.addShadingPattern=function(M,X){return B("addShadingPattern()"),ul(M,X),this},g.beginTilingPattern=function(M){B("beginTilingPattern()"),jo(M.boundingBox[0],M.boundingBox[1],M.boundingBox[2]-M.boundingBox[0],M.boundingBox[3]-M.boundingBox[1],M.matrix)},g.endTilingPattern=function(M,X){B("endTilingPattern()"),X.stream=Be[Q].join(`
`),ul(M,X),Ss.publish("endTilingPattern",X),Sl.pop().restore()};var xl,ha=g.__private__.newObject=function(){var M=Oa();return rr(M,!0),M},Oa=g.__private__.newObjectDeferred=function(){return ae++,ce[ae]=function(){return we},ae},rr=function(M,X){return X=typeof X=="boolean"&&X,ce[M]=we,X&&re(M+" 0 obj"),M},Bi=g.__private__.newAdditionalObject=function(){var M={objId:Oa(),content:""};return Ee.push(M),M},Rr=Oa(),Vs=Oa(),ma=g.__private__.decodeColorString=function(M){var X=M.split(" ");if(X.length!==2||X[1]!=="g"&&X[1]!=="G")X.length!==5||X[4]!=="k"&&X[4]!=="K"||(X=[(1-X[0])*(1-X[3]),(1-X[1])*(1-X[3]),(1-X[2])*(1-X[3]),"r"]);else{var xe=parseFloat(X[0]);X=[xe,xe,xe,"r"]}for(var be="#",ke=0;ke<3;ke++)be+=("0"+Math.floor(255*parseFloat(X[ke])).toString(16)).slice(-2);return be},kr=g.__private__.encodeColorString=function(M){var X;typeof M=="string"&&(M={ch1:M});var xe=M.ch1,be=M.ch2,ke=M.ch3,Ue=M.ch4,Ye=M.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof xe=="string"&&xe.charAt(0)!=="#"){var ht=new P5(xe);if(ht.ok)xe=ht.toHex();else if(!/^\d*\.?\d*$/.test(xe))throw new Error('Invalid color "'+xe+'" passed to jsPDF.encodeColorString.')}if(typeof xe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(xe)&&(xe="#"+xe[1]+xe[1]+xe[2]+xe[2]+xe[3]+xe[3]),typeof xe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(xe)){var yt=parseInt(xe.substr(1),16);xe=yt>>16&255,be=yt>>8&255,ke=255&yt}if(be===void 0||Ue===void 0&&xe===be&&be===ke)X=typeof xe=="string"?xe+" "+Ye[0]:M.precision===2?P(xe/255)+" "+Ye[0]:F(xe/255)+" "+Ye[0];else if(Ue===void 0||Js(Ue)==="object"){if(Ue&&!isNaN(Ue.a)&&Ue.a===0)return["1.","1.","1.",Ye[1]].join(" ");X=typeof xe=="string"?[xe,be,ke,Ye[1]].join(" "):M.precision===2?[P(xe/255),P(be/255),P(ke/255),Ye[1]].join(" "):[F(xe/255),F(be/255),F(ke/255),Ye[1]].join(" ")}else X=typeof xe=="string"?[xe,be,ke,Ue,Ye[2]].join(" "):M.precision===2?[P(xe),P(be),P(ke),P(Ue),Ye[2]].join(" "):[F(xe),F(be),F(ke),F(Ue),Ye[2]].join(" ");return X},hl=g.__private__.getFilters=function(){return c},Cl=g.__private__.putStream=function(M){var X=(M=M||{}).data||"",xe=M.filters||hl(),be=M.alreadyAppliedFilters||[],ke=M.addLength1||!1,Ue=X.length,Ye=M.objectId,ht=function(Ka){return Ka};if(p!==null&&Ye===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(ht=Xa.encryptor(Ye,0));var yt={};xe===!0&&(xe=["FlateEncode"]);var qt=M.additionalKeyValues||[],es=(yt=gt.API.processDataByFilters!==void 0?gt.API.processDataByFilters(X,xe):{data:X,reverseChain:[]}).reverseChain+(Array.isArray(be)?be.join(" "):be.toString());if(yt.data.length!==0&&(qt.push({key:"Length",value:yt.data.length}),ke===!0&&qt.push({key:"Length1",value:Ue})),es.length!=0)if(es.split("/").length-1==1)qt.push({key:"Filter",value:es});else{qt.push({key:"Filter",value:"["+es+"]"});for(var Cs=0;Cs<qt.length;Cs+=1)if(qt[Cs].key==="DecodeParms"){for(var pa=[],Ea=0;Ea<yt.reverseChain.split("/").length-1;Ea+=1)pa.push("null");pa.push(qt[Cs].value),qt[Cs].value="["+pa.join(" ")+"]"}}re("<<");for(var ea=0;ea<qt.length;ea++)re("/"+qt[ea].key+" "+qt[ea].value);re(">>"),yt.data.length!==0&&(re("stream"),re(ht(yt.data)),re("endstream"))},po=g.__private__.putPage=function(M){var X=M.number,xe=M.data,be=M.objId,ke=M.contentsObjId;rr(be,!0),re("<</Type /Page"),re("/Parent "+M.rootDictionaryObjId+" 0 R"),re("/Resources "+M.resourceDictionaryObjId+" 0 R"),re("/MediaBox ["+parseFloat(W(M.mediaBox.bottomLeftX))+" "+parseFloat(W(M.mediaBox.bottomLeftY))+" "+W(M.mediaBox.topRightX)+" "+W(M.mediaBox.topRightY)+"]"),M.cropBox!==null&&re("/CropBox ["+W(M.cropBox.bottomLeftX)+" "+W(M.cropBox.bottomLeftY)+" "+W(M.cropBox.topRightX)+" "+W(M.cropBox.topRightY)+"]"),M.bleedBox!==null&&re("/BleedBox ["+W(M.bleedBox.bottomLeftX)+" "+W(M.bleedBox.bottomLeftY)+" "+W(M.bleedBox.topRightX)+" "+W(M.bleedBox.topRightY)+"]"),M.trimBox!==null&&re("/TrimBox ["+W(M.trimBox.bottomLeftX)+" "+W(M.trimBox.bottomLeftY)+" "+W(M.trimBox.topRightX)+" "+W(M.trimBox.topRightY)+"]"),M.artBox!==null&&re("/ArtBox ["+W(M.artBox.bottomLeftX)+" "+W(M.artBox.bottomLeftY)+" "+W(M.artBox.topRightX)+" "+W(M.artBox.topRightY)+"]"),typeof M.userUnit=="number"&&M.userUnit!==1&&re("/UserUnit "+M.userUnit),Ss.publish("putPage",{objId:be,pageContext:Ct[X],pageNumber:X,page:xe}),re("/Contents "+ke+" 0 R"),re(">>"),re("endobj");var Ue=xe.join(`
`);return w===E&&(Ue+=`
Q`),rr(ke,!0),Cl({data:Ue,filters:hl(),objectId:ke}),re("endobj"),be},Zl=g.__private__.putPages=function(){var M,X,xe=[];for(M=1;M<=ls;M++)Ct[M].objId=Oa(),Ct[M].contentsObjId=Oa();for(M=1;M<=ls;M++)xe.push(po({number:M,data:Be[M],objId:Ct[M].objId,contentsObjId:Ct[M].contentsObjId,mediaBox:Ct[M].mediaBox,cropBox:Ct[M].cropBox,bleedBox:Ct[M].bleedBox,trimBox:Ct[M].trimBox,artBox:Ct[M].artBox,userUnit:Ct[M].userUnit,rootDictionaryObjId:Rr,resourceDictionaryObjId:Vs}));rr(Rr,!0),re("<</Type /Pages");var be="/Kids [";for(X=0;X<ls;X++)be+=xe[X]+" 0 R ";re(be+"]"),re("/Count "+ls),re(">>"),re("endobj"),Ss.publish("postPutPages")},en=function(M){Ss.publish("putFont",{font:M,out:re,newObject:ha,putStream:Cl}),M.isAlreadyPutted!==!0&&(M.objectNumber=ha(),re("<<"),re("/Type /Font"),re("/BaseFont /"+q0(M.postScriptName)),re("/Subtype /Type1"),typeof M.encoding=="string"&&re("/Encoding /"+M.encoding),re("/FirstChar 32"),re("/LastChar 255"),re(">>"),re("endobj"))},Ui=function(M){M.objectNumber=ha();var X=[];X.push({key:"Type",value:"/XObject"}),X.push({key:"Subtype",value:"/Form"}),X.push({key:"BBox",value:"["+[W(M.x),W(M.y),W(M.x+M.width),W(M.y+M.height)].join(" ")+"]"}),X.push({key:"Matrix",value:"["+M.matrix.toString()+"]"});var xe=M.pages[1].join(`
`);Cl({data:xe,additionalKeyValues:X,objectId:M.objectNumber}),re("endobj")},tn=function(M,X){X||(X=21);var xe=ha(),be=(function(Ye,ht){var yt,qt=[],es=1/(ht-1);for(yt=0;yt<1;yt+=es)qt.push(yt);if(qt.push(1),Ye[0].offset!=0){var Cs={offset:0,color:Ye[0].color};Ye.unshift(Cs)}if(Ye[Ye.length-1].offset!=1){var pa={offset:1,color:Ye[Ye.length-1].color};Ye.push(pa)}for(var Ea="",ea=0,Ka=0;Ka<qt.length;Ka++){for(yt=qt[Ka];yt>Ye[ea+1].offset;)ea++;var Ia=Ye[ea].offset,hr=(yt-Ia)/(Ye[ea+1].offset-Ia),xi=Ye[ea].color,on=Ye[ea+1].color;Ea+=oe(Math.round((1-hr)*xi[0]+hr*on[0]).toString(16))+oe(Math.round((1-hr)*xi[1]+hr*on[1]).toString(16))+oe(Math.round((1-hr)*xi[2]+hr*on[2]).toString(16))}return Ea.trim()})(M.colors,X),ke=[];ke.push({key:"FunctionType",value:"0"}),ke.push({key:"Domain",value:"[0.0 1.0]"}),ke.push({key:"Size",value:"["+X+"]"}),ke.push({key:"BitsPerSample",value:"8"}),ke.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ke.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Cl({data:be,additionalKeyValues:ke,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:xe}),re("endobj"),M.objectNumber=ha(),re("<< /ShadingType "+M.type),re("/ColorSpace /DeviceRGB");var Ue="/Coords ["+W(parseFloat(M.coords[0]))+" "+W(parseFloat(M.coords[1]))+" ";M.type===2?Ue+=W(parseFloat(M.coords[2]))+" "+W(parseFloat(M.coords[3])):Ue+=W(parseFloat(M.coords[2]))+" "+W(parseFloat(M.coords[3]))+" "+W(parseFloat(M.coords[4]))+" "+W(parseFloat(M.coords[5])),re(Ue+="]"),M.matrix&&re("/Matrix ["+M.matrix.toString()+"]"),re("/Function "+xe+" 0 R"),re("/Extend [true true]"),re(">>"),re("endobj")},sn=function(M,X){var xe=Oa(),be=ha();X.push({resourcesOid:xe,objectOid:be}),M.objectNumber=be;var ke=[];ke.push({key:"Type",value:"/Pattern"}),ke.push({key:"PatternType",value:"1"}),ke.push({key:"PaintType",value:"1"}),ke.push({key:"TilingType",value:"1"}),ke.push({key:"BBox",value:"["+M.boundingBox.map(W).join(" ")+"]"}),ke.push({key:"XStep",value:W(M.xStep)}),ke.push({key:"YStep",value:W(M.yStep)}),ke.push({key:"Resources",value:xe+" 0 R"}),M.matrix&&ke.push({key:"Matrix",value:"["+M.matrix.toString()+"]"}),Cl({data:M.stream,additionalKeyValues:ke,objectId:M.objectNumber}),re("endobj")},fo=function(M){for(var X in M.objectNumber=ha(),re("<<"),M)switch(X){case"opacity":re("/ca "+P(M[X]));break;case"stroke-opacity":re("/CA "+P(M[X]))}re(">>"),re("endobj")},Mn=function(M){rr(M.resourcesOid,!0),re("<<"),re("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var X in re("/Font <<"),_t)_t.hasOwnProperty(X)&&(f===!1||f===!0&&y.hasOwnProperty(X))&&re("/"+X+" "+_t[X].objectNumber+" 0 R");re(">>")})(),(function(){if(Object.keys(Et).length>0){for(var X in re("/Shading <<"),Et)Et.hasOwnProperty(X)&&Et[X]instanceof Ed&&Et[X].objectNumber>=0&&re("/"+X+" "+Et[X].objectNumber+" 0 R");Ss.publish("putShadingPatternDict"),re(">>")}})(),(function(X){if(Object.keys(Et).length>0){for(var xe in re("/Pattern <<"),Et)Et.hasOwnProperty(xe)&&Et[xe]instanceof g.TilingPattern&&Et[xe].objectNumber>=0&&Et[xe].objectNumber<X&&re("/"+xe+" "+Et[xe].objectNumber+" 0 R");Ss.publish("putTilingPatternDict"),re(">>")}})(M.objectOid),(function(){if(Object.keys(Ut).length>0){var X;for(X in re("/ExtGState <<"),Ut)Ut.hasOwnProperty(X)&&Ut[X].objectNumber>=0&&re("/"+X+" "+Ut[X].objectNumber+" 0 R");Ss.publish("putGStateDict"),re(">>")}})(),(function(){for(var X in re("/XObject <<"),Nr)Nr.hasOwnProperty(X)&&Nr[X].objectNumber>=0&&re("/"+X+" "+Nr[X].objectNumber+" 0 R");Ss.publish("putXobjectDict"),re(">>")})(),re(">>"),re("endobj")},La=function(M){Wt[M.fontName]=Wt[M.fontName]||{},Wt[M.fontName][M.fontStyle]=M.id},Yc=function(M,X,xe,be,ke){var Ue={id:"F"+(Object.keys(_t).length+1).toString(10),postScriptName:M,fontName:X,fontStyle:xe,encoding:be,isStandardFont:ke||!1,metadata:{}};return Ss.publish("addFont",{font:Ue,instance:this}),_t[Ue.id]=Ue,La(Ue),Ue.id},ml=g.__private__.pdfEscape=g.pdfEscape=function(M,X){return(function(xe,be){var ke,Ue,Ye,ht,yt,qt,es,Cs,pa;if(Ye=(be=be||{}).sourceEncoding||"Unicode",yt=be.outputEncoding,(be.autoencode||yt)&&_t[ut].metadata&&_t[ut].metadata[Ye]&&_t[ut].metadata[Ye].encoding&&(ht=_t[ut].metadata[Ye].encoding,!yt&&_t[ut].encoding&&(yt=_t[ut].encoding),!yt&&ht.codePages&&(yt=ht.codePages[0]),typeof yt=="string"&&(yt=ht[yt]),yt)){for(es=!1,qt=[],ke=0,Ue=xe.length;ke<Ue;ke++)(Cs=yt[xe.charCodeAt(ke)])?qt.push(String.fromCharCode(Cs)):qt.push(xe[ke]),qt[ke].charCodeAt(0)>>8&&(es=!0);xe=qt.join("")}for(ke=xe.length;es===void 0&&ke!==0;)xe.charCodeAt(ke-1)>>8&&(es=!0),ke--;if(!es)return xe;for(qt=be.noBOM?[]:[254,255],ke=0,Ue=xe.length;ke<Ue;ke++){if((pa=(Cs=xe.charCodeAt(ke))>>8)>>8)throw new Error("Character at position "+ke+" of string '"+xe+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");qt.push(pa),qt.push(Cs-(pa<<8))}return String.fromCharCode.apply(void 0,qt)})(M,X).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},an=g.__private__.beginPage=function(M){Be[++ls]=[],Ct[ls]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(M[0]),topRightY:Number(M[1])}},Kc(ls),he(Be[Q])},ai=function(M,X){var xe,be,ke;switch(a=X||a,typeof M=="string"&&(xe=k(M.toLowerCase()),Array.isArray(xe)&&(be=xe[0],ke=xe[1])),Array.isArray(M)&&(be=M[0]*Jt,ke=M[1]*Jt),isNaN(be)&&(be=i[0],ke=i[1]),(be>14400||ke>14400)&&(da.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),be=Math.min(14400,be),ke=Math.min(14400,ke)),i=[be,ke],a.substr(0,1)){case"l":ke>be&&(i=[ke,be]);break;case"p":be>ke&&(i=[ke,be])}an(i),Rt(bo),re(gl),sc!==0&&re(sc+" J"),lr!==0&&re(lr+" j"),Ss.publish("addPage",{pageNumber:ls})},Xc=function(M){M>0&&M<=ls&&(Be.splice(M,1),Ct.splice(M,1),ls--,Q>ls&&(Q=ls),this.setPage(Q))},Kc=function(M){M>0&&M<=ls&&(Q=M)},Jc=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return Be.length-1},Wd=function(M,X,xe){var be,ke=void 0;return xe=xe||{},M=M!==void 0?M:_t[ut].fontName,X=X!==void 0?X:_t[ut].fontStyle,be=M.toLowerCase(),Wt[be]!==void 0&&Wt[be][X]!==void 0?ke=Wt[be][X]:Wt[M]!==void 0&&Wt[M][X]!==void 0?ke=Wt[M][X]:xe.disableWarning===!1&&da.warn("Unable to look up font label for font '"+M+"', '"+X+"'. Refer to getFontList() for available fonts."),ke||xe.noFallback||(ke=Wt.times[X])==null&&(ke=Wt.times.normal),ke},pl=g.__private__.putInfo=function(){var M=ha(),X=function(be){return be};for(var xe in p!==null&&(X=Xa.encryptor(M,0)),re("<<"),re("/Producer ("+ml(X("jsPDF "+gt.version))+")"),Yt)Yt.hasOwnProperty(xe)&&Yt[xe]&&re("/"+xe.substr(0,1).toUpperCase()+xe.substr(1)+" ("+ml(X(Yt[xe]))+")");re("/CreationDate ("+ml(X(me))+")"),re(">>"),re("endobj")},ri=g.__private__.putCatalog=function(M){var X=(M=M||{}).rootDictionaryObjId||Rr;switch(ha(),re("<<"),re("/Type /Catalog"),re("/Pages "+X+" 0 R"),St||(St="fullwidth"),St){case"fullwidth":re("/OpenAction [3 0 R /FitH null]");break;case"fullheight":re("/OpenAction [3 0 R /FitV null]");break;case"fullpage":re("/OpenAction [3 0 R /Fit]");break;case"original":re("/OpenAction [3 0 R /XYZ null null 1]");break;default:var xe=""+St;xe.substr(xe.length-1)==="%"&&(St=parseInt(St)/100),typeof St=="number"&&re("/OpenAction [3 0 R /XYZ null null "+P(St)+"]")}switch(Bt||(Bt="continuous"),Bt){case"continuous":re("/PageLayout /OneColumn");break;case"single":re("/PageLayout /SinglePage");break;case"two":case"twoleft":re("/PageLayout /TwoColumnLeft");break;case"tworight":re("/PageLayout /TwoColumnRight")}bt&&re("/PageMode /"+bt),Ss.publish("putCatalog"),re(">>"),re("endobj")},rn=g.__private__.putTrailer=function(){re("trailer"),re("<<"),re("/Size "+(ae+1)),re("/Root "+ae+" 0 R"),re("/Info "+(ae-1)+" 0 R"),p!==null&&re("/Encrypt "+Xa.oid+" 0 R"),re("/ID [ <"+H+"> <"+H+"> ]"),re(">>")},Ts=g.__private__.putHeader=function(){re("%PDF-"+v),re("%")},Qc=g.__private__.putXRef=function(){var M="0000000000";re("xref"),re("0 "+(ae+1)),re("0000000000 65535 f ");for(var X=1;X<=ae;X++)typeof ce[X]=="function"?re((M+ce[X]()).slice(-10)+" 00000 n "):ce[X]!==void 0?re((M+ce[X]).slice(-10)+" 00000 n "):re("0000000000 00000 n ")},zn=g.__private__.buildDocument=function(){var M;ae=0,we=0,pe=[],ce=[],Ee=[],Rr=Oa(),Vs=Oa(),he(pe),Ss.publish("buildDocument"),Ts(),Zl(),(function(){Ss.publish("putAdditionalObjects");for(var xe=0;xe<Ee.length;xe++){var be=Ee[xe];rr(be.objId,!0),re(be.content),re("endobj")}Ss.publish("postPutAdditionalObjects")})(),M=[],(function(){for(var xe in _t)_t.hasOwnProperty(xe)&&(f===!1||f===!0&&y.hasOwnProperty(xe))&&en(_t[xe])})(),(function(){var xe;for(xe in Ut)Ut.hasOwnProperty(xe)&&fo(Ut[xe])})(),(function(){for(var xe in Nr)Nr.hasOwnProperty(xe)&&Ui(Nr[xe])})(),(function(xe){var be;for(be in Et)Et.hasOwnProperty(be)&&(Et[be]instanceof Ed?tn(Et[be]):Et[be]instanceof H0&&sn(Et[be],xe))})(M),Ss.publish("putResources"),M.forEach(Mn),Mn({resourcesOid:Vs,objectOid:Number.MAX_SAFE_INTEGER}),Ss.publish("postPutResources"),p!==null&&(Xa.oid=ha(),re("<<"),re("/Filter /Standard"),re("/V "+Xa.v),re("/R "+Xa.r),re("/U <"+Xa.toHexString(Xa.U)+">"),re("/O <"+Xa.toHexString(Xa.O)+">"),re("/P "+Xa.P),re(">>"),re("endobj")),pl(),ri();var X=we;return Qc(),rn(),re("startxref"),re(""+X),re("%%EOF"),he(Be[Q]),pe.join(`
`)},$i=g.__private__.getBlob=function(M){return new Blob([Tt(M)],{type:"application/pdf"})},Zc=g.output=g.__private__.output=(xl=function(M,X){switch(typeof(X=X||{})=="string"?X={filename:X}:X.filename=X.filename||"generated.pdf",M){case void 0:return zn();case"save":g.save(X.filename);break;case"arraybuffer":return Tt(zn());case"blob":return $i(zn());case"bloburi":case"bloburl":if(Kt.URL!==void 0&&typeof Kt.URL.createObjectURL=="function")return Kt.URL&&Kt.URL.createObjectURL($i(zn()))||void 0;da.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var xe="",be=zn();try{xe=V2(be)}catch{xe=V2(unescape(encodeURIComponent(be)))}return"data:application/pdf;filename="+X.filename+";base64,"+xe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Kt)==="[object Window]"){var ke="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ue=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';X.pdfObjectUrl&&(ke=X.pdfObjectUrl,Ue="");var Ye='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ke+'"'+Ue+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(X)+");<\/script></body></html>",ht=Kt.open();return ht!==null&&ht.document.write(Ye),ht}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Kt)==="[object Window]"){var yt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(X.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+X.filename+'" width="500px" height="400px" /></body></html>',qt=Kt.open();if(qt!==null){qt.document.write(yt);var es=this;qt.document.documentElement.querySelector("#pdfViewer").onload=function(){qt.document.title=X.filename,qt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(es.output("bloburl"))}}return qt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Kt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Cs='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",X)+'"></iframe></body></html>',pa=Kt.open();if(pa!==null&&(pa.document.write(Cs),pa.document.title=X.filename),pa||typeof safari>"u")return pa;break;case"datauri":case"dataurl":return Kt.document.location.href=this.output("datauristring",X);default:return null}},xl.foo=function(){try{return xl.apply(this,arguments)}catch(xe){var M=xe.stack||"";~M.indexOf(" at ")&&(M=M.split(" at ")[1]);var X="Error in function "+M.split(`
`)[0].split("<")[0]+": "+xe.message;if(!Kt.console)throw new Error(X);Kt.console.error(X,xe),Kt.alert&&alert(X)}},xl.foo.bar=xl,xl.foo),Or=function(M){return Array.isArray(Ql)===!0&&Ql.indexOf(M)>-1};switch(l){case"pt":Jt=1;break;case"mm":Jt=72/25.4;break;case"cm":Jt=72/2.54;break;case"in":Jt=72;break;case"px":Jt=Or("px_scaling")==1?.75:96/72;break;case"pc":case"em":Jt=12;break;case"ex":Jt=6;break;default:if(typeof l!="number")throw new Error("Invalid unit: "+l);Jt=l}var Xa=null;te(),$();var Fa=g.__private__.getPageInfo=g.getPageInfo=function(M){if(isNaN(M)||M%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ct[M].objId,pageNumber:M,pageContext:Ct[M]}},ec=g.__private__.getPageInfoByObjId=function(M){if(isNaN(M)||M%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var X in Ct)if(Ct[X].objId===M)break;return Fa(X)},Gd=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:Ct[Q].objId,pageNumber:Q,pageContext:Ct[Q]}};g.addPage=function(){return ai.apply(this,arguments),this},g.setPage=function(){return Kc.apply(this,arguments),he.call(this,Be[Q]),this},g.insertPage=function(M){return this.addPage(),this.movePage(Q,M),this},g.movePage=function(M,X){var xe,be;if(M>X){xe=Be[M],be=Ct[M];for(var ke=M;ke>X;ke--)Be[ke]=Be[ke-1],Ct[ke]=Ct[ke-1];Be[X]=xe,Ct[X]=be,this.setPage(X)}else if(M<X){xe=Be[M],be=Ct[M];for(var Ue=M;Ue<X;Ue++)Be[Ue]=Be[Ue+1],Ct[Ue]=Ct[Ue+1];Be[X]=xe,Ct[X]=be,this.setPage(X)}return this},g.deletePage=function(){return Xc.apply(this,arguments),this},g.__private__.text=g.text=function(M,X,xe,be,ke){var Ue,Ye,ht,yt,qt,es,Cs,pa,Ea,ea=(be=be||{}).scope||this;if(typeof M=="number"&&typeof X=="number"&&(typeof xe=="string"||Array.isArray(xe))){var Ka=xe;xe=X,X=M,M=Ka}if(arguments[3]instanceof Dt==0?(ht=arguments[4],yt=arguments[5],Js(Cs=arguments[3])==="object"&&Cs!==null||(typeof ht=="string"&&(yt=ht,ht=null),typeof Cs=="string"&&(yt=Cs,Cs=null),typeof Cs=="number"&&(ht=Cs,Cs=null),be={flags:Cs,angle:ht,align:yt})):(B("The transform parameter of text() with a Matrix value"),Ea=ke),isNaN(X)||isNaN(xe)||M==null)throw new Error("Invalid arguments passed to jsPDF.text");if(M.length===0)return ea;var Ia,hr="",xi=typeof be.lineHeightFactor=="number"?be.lineHeightFactor:li,on=ea.internal.scaleFactor;function hi(_s){return _s=_s.split("	").join(Array(be.TabLen||9).join(" ")),ml(_s,Cs)}function od(_s){for(var As,ta=_s.concat(),za=[],$n=ta.length;$n--;)typeof(As=ta.shift())=="string"?za.push(As):Array.isArray(_s)&&(As.length===1||As[1]===void 0&&As[2]===void 0)?za.push(As[0]):za.push([As[0],As[1],As[2]]);return za}function rc(_s,As){var ta;if(typeof _s=="string")ta=As(_s)[0];else if(Array.isArray(_s)){for(var za,$n,xn=_s.concat(),So=[],ud=xn.length;ud--;)typeof(za=xn.shift())=="string"?So.push(As(za)[0]):Array.isArray(za)&&typeof za[0]=="string"&&($n=As(za[0],za[1],za[2]),So.push([$n[0],$n[1],$n[2]]));ta=So}return ta}var Pn=!1,cn=!0;if(typeof M=="string")Pn=!0;else if(Array.isArray(M)){var No=M.concat();Ye=[];for(var mi,nr=No.length;nr--;)(typeof(mi=No.shift())!="string"||Array.isArray(mi)&&typeof mi[0]!="string")&&(cn=!1);Pn=cn}if(Pn===!1)throw new Error('Type of text must be string or Array. "'+M+'" is not recognized.');typeof M=="string"&&(M=M.match(/[\r?\n]/)?M.split(/\r\n|\r|\n/g):[M]);var Hi=Ke/ea.internal.scaleFactor,Wi=Hi*(xi-1);switch(be.baseline){case"bottom":xe-=Wi;break;case"top":xe+=Hi-Wi;break;case"hanging":xe+=Hi-2*Wi;break;case"middle":xe+=Hi/2-Wi}if((es=be.maxWidth||0)>0&&(typeof M=="string"?M=ea.splitTextToSize(M,es):Object.prototype.toString.call(M)==="[object Array]"&&(M=M.reduce(function(_s,As){return _s.concat(ea.splitTextToSize(As,es))},[]))),Ue={text:M,x:X,y:xe,options:be,mutex:{pdfEscape:ml,activeFontKey:ut,fonts:_t,activeFontSize:Ke}},Ss.publish("preProcessText",Ue),M=Ue.text,ht=(be=Ue.options).angle,Ea instanceof Dt==0&&ht&&typeof ht=="number"){ht*=Math.PI/180,be.rotationDirection===0&&(ht=-ht),w===E&&(ht=-ht);var lc=Math.cos(ht),Rn=Math.sin(ht);Ea=new Dt(lc,Rn,-Rn,lc,0,0)}else ht&&ht instanceof Dt&&(Ea=ht);w!==E||Ea||(Ea=En),(qt=be.charSpace||Al)!==void 0&&(hr+=W(G(qt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(pa=be.horizontalScale)!==void 0&&(hr+=W(100*pa)+` Tz
`),be.lang;var Ir=-1,pi=be.renderingMode!==void 0?be.renderingMode:be.stroke,nc=ea.internal.getCurrentPageInfo().pageContext;switch(pi){case 0:case!1:case"fill":Ir=0;break;case 1:case!0:case"stroke":Ir=1;break;case 2:case"fillThenStroke":Ir=2;break;case 3:case"invisible":Ir=3;break;case 4:case"fillAndAddForClipping":Ir=4;break;case 5:case"strokeAndAddPathForClipping":Ir=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ir=6;break;case 7:case"addToPathForClipping":Ir=7}var cd=nc.usedRenderingMode!==void 0?nc.usedRenderingMode:-1;Ir!==-1?hr+=Ir+` Tr
`:cd!==-1&&(hr+=`0 Tr
`),Ir!==-1&&(nc.usedRenderingMode=Ir),yt=be.align||"left";var bl,dn=Ke*xi,fi=ea.internal.pageSize.getWidth(),dd=_t[ut];qt=be.charSpace||Al,es=be.maxWidth||0,Cs=Object.assign({autoencode:!0,noBOM:!0},be.flags);var un=[],Gi=function(_s){return ea.getStringUnitWidth(_s,{font:dd,charSpace:qt,fontSize:Ke,doKerning:!1})*Ke/on};if(Object.prototype.toString.call(M)==="[object Array]"){var Jr;Ye=od(M),yt!=="left"&&(bl=Ye.map(Gi));var Br,On=0;if(yt==="right"){X-=bl[0],M=[],nr=Ye.length;for(var Fn=0;Fn<nr;Fn++)Fn===0?(Br=fl(X),Jr=xr(xe)):(Br=G(On-bl[Fn]),Jr=-dn),M.push([Ye[Fn],Br,Jr]),On=bl[Fn]}else if(yt==="center"){X-=bl[0]/2,M=[],nr=Ye.length;for(var gi=0;gi<nr;gi++)gi===0?(Br=fl(X),Jr=xr(xe)):(Br=G((On-bl[gi])/2),Jr=-dn),M.push([Ye[gi],Br,Jr]),On=bl[gi]}else if(yt==="left"){M=[],nr=Ye.length;for(var ic=0;ic<nr;ic++)M.push(Ye[ic])}else if(yt==="justify"&&dd.encoding==="Identity-H"){M=[],nr=Ye.length,es=es!==0?es:fi;for(var oc=0,Ma=0;Ma<nr;Ma++)if(Jr=Ma===0?xr(xe):-dn,Br=Ma===0?fl(X):oc,Ma<nr-1){var t0=G((es-bl[Ma])/(Ye[Ma].split(" ").length-1)),In=Ye[Ma].split(" ");M.push([In[0]+" ",Br,Jr]),oc=0;for(var Bn=1;Bn<In.length;Bn++){var mr=(Gi(In[Bn-1]+" "+In[Bn])-Gi(In[Bn]))*on+t0;Bn==In.length-1?M.push([In[Bn],mr,0]):M.push([In[Bn]+" ",mr,0]),oc-=mr}}else M.push([Ye[Ma],Br,Jr]);M.push(["",oc,0])}else{if(yt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(M=[],nr=Ye.length,es=es!==0?es:fi,Ma=0;Ma<nr;Ma++){Jr=Ma===0?xr(xe):-dn,Br=Ma===0?fl(X):0;var bi=Ye[Ma].split(" ").length-1,cc=bi>0?(es-bl[Ma])/bi:0;Ma<nr-1?un.push(W(G(cc))):un.push(0),M.push([Ye[Ma],Br,Jr])}}}(typeof be.R2L=="boolean"?be.R2L:At)===!0&&(M=rc(M,function(_s,As,ta){return[_s.split("").reverse().join(""),As,ta]})),Ue={text:M,x:X,y:xe,options:be,mutex:{pdfEscape:ml,activeFontKey:ut,fonts:_t,activeFontSize:Ke}},Ss.publish("postProcessText",Ue),M=Ue.text,Ia=Ue.mutex.isHex||!1;var dc=_t[ut].encoding;dc!=="WinAnsiEncoding"&&dc!=="StandardEncoding"||(M=rc(M,function(_s,As,ta){return[hi(_s),As,ta]})),Ye=od(M),M=[];for(var vi,yi,Un,ko=Array.isArray(Ye[0])?1:0,vl="",ji=function(_s,As,ta){var za="";return ta instanceof Dt?(ta=typeof be.angle=="number"?si(ta,new Dt(1,0,0,1,_s,As)):si(new Dt(1,0,0,1,_s,As),ta),w===E&&(ta=si(new Dt(1,0,0,-1,0,0),ta)),za=ta.join(" ")+` Tm
`):za=W(_s)+" "+W(As)+` Td
`,za},Sr=0;Sr<Ye.length;Sr++){switch(vl="",ko){case 1:Un=(Ia?"<":"(")+Ye[Sr][0]+(Ia?">":")"),vi=parseFloat(Ye[Sr][1]),yi=parseFloat(Ye[Sr][2]);break;case 0:Un=(Ia?"<":"(")+Ye[Sr]+(Ia?">":")"),vi=fl(X),yi=xr(xe)}un!==void 0&&un[Sr]!==void 0&&(vl=un[Sr]+` Tw
`),Sr===0?M.push(vl+ji(vi,yi,Ea)+Un):ko===0?M.push(vl+Un):ko===1&&M.push(vl+ji(vi,yi,Ea)+Un)}M=ko===0?M.join(` Tj
T* `):M.join(` Tj
`),M+=` Tj
`;var Ll=`BT
/`;return Ll+=ut+" "+Ke+` Tf
`,Ll+=W(Ke*xi)+` TL
`,Ll+=Tn+`
`,Ll+=hr,Ll+=M,re(Ll+="ET"),y[ut]=!0,ea};var ed=g.__private__.clip=g.clip=function(M){return re(M==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return ed("evenodd")},g.__private__.discardPath=g.discardPath=function(){return re("n"),this};var Fr=g.__private__.isValidStyle=function(M){var X=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(M)!==-1&&(X=!0),X};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(M){return Fr(M)&&(h=M),this};var td=g.__private__.getStyle=g.getStyle=function(M){var X=h;switch(M){case"D":case"S":X="S";break;case"F":X="f";break;case"FD":case"DF":X="B";break;case"f":case"f*":case"B":case"B*":X=M}return X},sd=g.close=function(){return re("h"),this};g.stroke=function(){return re("S"),this},g.fill=function(M){return ln("f",M),this},g.fillEvenOdd=function(M){return ln("f*",M),this},g.fillStroke=function(M){return ln("B",M),this},g.fillStrokeEvenOdd=function(M){return ln("B*",M),this};var ln=function(M,X){Js(X)==="object"?Yd(X,M):re(M)},go=function(M){M===null||w===E&&M===void 0||(M=td(M),re(M))};function Vd(M,X,xe,be,ke){var Ue=new H0(X||this.boundingBox,xe||this.xStep,be||this.yStep,this.gState,ke||this.matrix);Ue.stream=this.stream;var Ye=M+"$$"+this.cloneIndex+++"$$";return ul(Ye,Ue),Ue}var Yd=function(M,X){var xe=Zs[M.key],be=Et[xe];if(be instanceof Ed)re("q"),re(ad(X)),be.gState&&g.setGState(be.gState),re(M.matrix.toString()+" cm"),re("/"+xe+" sh"),re("Q");else if(be instanceof H0){var ke=new Dt(1,0,0,-1,0,ui());M.matrix&&(ke=ke.multiply(M.matrix||En),xe=Vd.call(be,M.key,M.boundingBox,M.xStep,M.yStep,ke).id),re("q"),re("/Pattern cs"),re("/"+xe+" scn"),be.gState&&g.setGState(be.gState),re(X),re("Q")}},ad=function(M){switch(M){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},rd=g.moveTo=function(M,X){return re(W(G(M))+" "+W(Y(X))+" m"),this},Xd=g.lineTo=function(M,X){return re(W(G(M))+" "+W(Y(X))+" l"),this},Kr=g.curveTo=function(M,X,xe,be,ke,Ue){return re([W(G(M)),W(Y(X)),W(G(xe)),W(Y(be)),W(G(ke)),W(Y(Ue)),"c"].join(" ")),this};g.__private__.line=g.line=function(M,X,xe,be,ke){if(isNaN(M)||isNaN(X)||isNaN(xe)||isNaN(be)||!Fr(ke))throw new Error("Invalid arguments passed to jsPDF.line");return w===A?this.lines([[xe-M,be-X]],M,X,[1,1],ke||"S"):this.lines([[xe-M,be-X]],M,X,[1,1]).stroke()},g.__private__.lines=g.lines=function(M,X,xe,be,ke,Ue){var Ye,ht,yt,qt,es,Cs,pa,Ea,ea,Ka,Ia,hr;if(typeof M=="number"&&(hr=xe,xe=X,X=M,M=hr),be=be||[1,1],Ue=Ue||!1,isNaN(X)||isNaN(xe)||!Array.isArray(M)||!Array.isArray(be)||!Fr(ke)||typeof Ue!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(rd(X,xe),Ye=be[0],ht=be[1],qt=M.length,Ka=X,Ia=xe,yt=0;yt<qt;yt++)(es=M[yt]).length===2?(Ka=es[0]*Ye+Ka,Ia=es[1]*ht+Ia,Xd(Ka,Ia)):(Cs=es[0]*Ye+Ka,pa=es[1]*ht+Ia,Ea=es[2]*Ye+Ka,ea=es[3]*ht+Ia,Ka=es[4]*Ye+Ka,Ia=es[5]*ht+Ia,Kr(Cs,pa,Ea,ea,Ka,Ia));return Ue&&sd(),go(ke),this},g.path=function(M){for(var X=0;X<M.length;X++){var xe=M[X],be=xe.c;switch(xe.op){case"m":rd(be[0],be[1]);break;case"l":Xd(be[0],be[1]);break;case"c":Kr.apply(this,be);break;case"h":sd()}}return this},g.__private__.rect=g.rect=function(M,X,xe,be,ke){if(isNaN(M)||isNaN(X)||isNaN(xe)||isNaN(be)||!Fr(ke))throw new Error("Invalid arguments passed to jsPDF.rect");return w===A&&(be=-be),re([W(G(M)),W(Y(X)),W(G(xe)),W(G(be)),"re"].join(" ")),go(ke),this},g.__private__.triangle=g.triangle=function(M,X,xe,be,ke,Ue,Ye){if(isNaN(M)||isNaN(X)||isNaN(xe)||isNaN(be)||isNaN(ke)||isNaN(Ue)||!Fr(Ye))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[xe-M,be-X],[ke-xe,Ue-be],[M-ke,X-Ue]],M,X,[1,1],Ye,!0),this},g.__private__.roundedRect=g.roundedRect=function(M,X,xe,be,ke,Ue,Ye){if(isNaN(M)||isNaN(X)||isNaN(xe)||isNaN(be)||isNaN(ke)||isNaN(Ue)||!Fr(Ye))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ht=4/3*(Math.SQRT2-1);return ke=Math.min(ke,.5*xe),Ue=Math.min(Ue,.5*be),this.lines([[xe-2*ke,0],[ke*ht,0,ke,Ue-Ue*ht,ke,Ue],[0,be-2*Ue],[0,Ue*ht,-ke*ht,Ue,-ke,Ue],[2*ke-xe,0],[-ke*ht,0,-ke,-Ue*ht,-ke,-Ue],[0,2*Ue-be],[0,-Ue*ht,ke*ht,-Ue,ke,-Ue]],M+ke,X,[1,1],Ye,!0),this},g.__private__.ellipse=g.ellipse=function(M,X,xe,be,ke){if(isNaN(M)||isNaN(X)||isNaN(xe)||isNaN(be)||!Fr(ke))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ue=4/3*(Math.SQRT2-1)*xe,Ye=4/3*(Math.SQRT2-1)*be;return rd(M+xe,X),Kr(M+xe,X-Ye,M+Ue,X-be,M,X-be),Kr(M-Ue,X-be,M-xe,X-Ye,M-xe,X),Kr(M-xe,X+Ye,M-Ue,X+be,M,X+be),Kr(M+Ue,X+be,M+xe,X+Ye,M+xe,X),go(ke),this},g.__private__.circle=g.circle=function(M,X,xe,be){if(isNaN(M)||isNaN(X)||isNaN(xe)||!Fr(be))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(M,X,xe,xe,be)},g.setFont=function(M,X,xe){return xe&&(X=O(X,xe)),ut=Wd(M,X,{disableWarning:!1}),this};var nn=g.__private__.getFont=g.getFont=function(){return _t[Wd.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var M,X,xe={};for(M in Wt)if(Wt.hasOwnProperty(M))for(X in xe[M]=[],Wt[M])Wt[M].hasOwnProperty(X)&&xe[M].push(X);return xe},g.addFont=function(M,X,xe,be,ke){var Ue=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ue.indexOf(arguments[3])!==-1?ke=arguments[3]:arguments[3]&&Ue.indexOf(arguments[3])==-1&&(xe=O(xe,be)),Yc.call(this,M,X,xe,ke=ke||"Identity-H")};var li,bo=s.lineWidth||.200025,qi=g.__private__.getLineWidth=g.getLineWidth=function(){return bo},Rt=g.__private__.setLineWidth=g.setLineWidth=function(M){return bo=M,re(W(G(M))+" w"),this};g.__private__.setLineDash=gt.API.setLineDash=gt.API.setLineDashPattern=function(M,X){if(M=M||[],X=X||0,isNaN(X)||!Array.isArray(M))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return M=M.map(function(xe){return W(G(xe))}).join(" "),X=W(G(X)),re("["+M+"] "+X+" d"),this};var Kd=g.__private__.getLineHeight=g.getLineHeight=function(){return Ke*li};g.__private__.getLineHeight=g.getLineHeight=function(){return Ke*li};var ld=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(M){return typeof(M=M||1.15)=="number"&&(li=M),this},Jd=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return li};ld(s.lineHeight);var fl=g.__private__.getHorizontalCoordinate=function(M){return G(M)},xr=g.__private__.getVerticalCoordinate=function(M){return w===E?M:Ct[Q].mediaBox.topRightY-Ct[Q].mediaBox.bottomLeftY-G(M)},nd=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(M){return W(fl(M))},vo=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(M){return W(xr(M))},gl=s.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return ma(gl)},g.__private__.setStrokeColor=g.setDrawColor=function(M,X,xe,be){return gl=kr({ch1:M,ch2:X,ch3:xe,ch4:be,pdfColorType:"draw",precision:2}),re(gl),this};var yo=s.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return ma(yo)},g.__private__.setFillColor=g.setFillColor=function(M,X,xe,be){return yo=kr({ch1:M,ch2:X,ch3:xe,ch4:be,pdfColorType:"fill",precision:2}),re(yo),this};var Tn=s.textColor||"0 g",Qd=g.__private__.getTextColor=g.getTextColor=function(){return ma(Tn)};g.__private__.setTextColor=g.setTextColor=function(M,X,xe,be){return Tn=kr({ch1:M,ch2:X,ch3:xe,ch4:be,pdfColorType:"text",precision:3}),this};var Al=s.charSpace,tc=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(Al||0)};g.__private__.setCharSpace=g.setCharSpace=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Al=M,this};var sc=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(M){var X=g.CapJoinStyles[M];if(X===void 0)throw new Error("Line cap style of '"+M+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return sc=X,re(X+" J"),this};var lr=0;g.__private__.setLineJoin=g.setLineJoin=function(M){var X=g.CapJoinStyles[M];if(X===void 0)throw new Error("Line join style of '"+M+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return lr=X,re(X+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(M){if(M=M||0,isNaN(M))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return re(W(G(M))+" M"),this},g.GState=xm,g.setGState=function(M){(M=typeof M=="string"?Ut[Gt[M]]:_n(null,M)).equals(Gs)||(re("/"+M.id+" gs"),Gs=M)};var _n=function(M,X){if(!M||!Gt[M]){var xe=!1;for(var be in Ut)if(Ut.hasOwnProperty(be)&&Ut[be].equals(X)){xe=!0;break}if(xe)X=Ut[be];else{var ke="GS"+(Object.keys(Ut).length+1).toString(10);Ut[ke]=X,X.id=ke}return M&&(Gt[M]=X.id),Ss.publish("addGState",X),X}};g.addGState=function(M,X){return _n(M,X),this},g.saveGraphicsState=function(){return re("q"),fs.push({key:ut,size:Ke,color:Tn}),this},g.restoreGraphicsState=function(){re("Q");var M=fs.pop();return ut=M.key,Ke=M.size,Tn=M.color,Gs=null,this},g.setCurrentTransformationMatrix=function(M){return re(M.toString()+" cm"),this},g.comment=function(M){return re("#"+M),this};var Dl=function(M,X){var xe=M||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return xe},set:function(Ue){isNaN(Ue)||(xe=parseFloat(Ue))}});var be=X||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return be},set:function(Ue){isNaN(Ue)||(be=parseFloat(Ue))}});var ke="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ke},set:function(Ue){ke=Ue.toString()}}),this},ni=function(M,X,xe,be){Dl.call(this,M,X),this.type="rect";var ke=xe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ke},set:function(Ye){isNaN(Ye)||(ke=parseFloat(Ye))}});var Ue=be||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ue},set:function(Ye){isNaN(Ye)||(Ue=parseFloat(Ye))}}),this},ac=function(){this.page=ls,this.currentPage=Q,this.pages=Be.slice(0),this.pagesContext=Ct.slice(0),this.x=kt,this.y=Da,this.matrix=hs,this.width=oi(Q),this.height=id(Q),this.outputDestination=tt,this.id="",this.objectNumber=-1};ac.prototype.restore=function(){ls=this.page,Q=this.currentPage,Ct=this.pagesContext,Be=this.pages,kt=this.x,Da=this.y,hs=this.matrix,wo(Q,this.width),ci(Q,this.height),tt=this.outputDestination};var jo=function(M,X,xe,be,ke){Sl.push(new ac),ls=Q=0,Be=[],kt=M,Da=X,hs=ke,an([xe,be])};for(var ii in g.beginFormObject=function(M,X,xe,be,ke){return jo(M,X,xe,be,ke),this},g.endFormObject=function(M){return(function(X){if(Ln[X])Sl.pop().restore();else{var xe=new ac,be="Xo"+(Object.keys(Nr).length+1).toString(10);xe.id=be,Ln[X]=be,Nr[be]=xe,Ss.publish("addFormObject",xe),Sl.pop().restore()}})(M),this},g.doFormObject=function(M,X){var xe=Nr[Ln[M]];return re("q"),re(X.toString()+" cm"),re("/"+xe.id+" Do"),re("Q"),this},g.getFormObject=function(M){var X=Nr[Ln[M]];return{x:X.x,y:X.y,width:X.width,height:X.height,matrix:X.matrix}},g.save=function(M,X){return M=M||"generated.pdf",(X=X||{}).returnPromise=X.returnPromise||!1,X.returnPromise===!1?(Dd($i(zn()),M),typeof Dd.unload=="function"&&Kt.setTimeout&&setTimeout(Dd.unload,911),this):new Promise(function(xe,be){try{var ke=Dd($i(zn()),M);typeof Dd.unload=="function"&&Kt.setTimeout&&setTimeout(Dd.unload,911),xe(ke)}catch(Ue){be(Ue.message)}})},gt.API)gt.API.hasOwnProperty(ii)&&(ii==="events"&&gt.API.events.length?(function(M,X){var xe,be,ke;for(ke=X.length-1;ke!==-1;ke--)xe=X[ke][0],be=X[ke][1],M.subscribe.apply(M,[xe].concat(typeof be=="function"?[be]:be))})(Ss,gt.API.events):g[ii]=gt.API[ii]);function oi(M){return Ct[M].mediaBox.topRightX-Ct[M].mediaBox.bottomLeftX}function wo(M,X){Ct[M].mediaBox.topRightX=X+Ct[M].mediaBox.bottomLeftX}function id(M){return Ct[M].mediaBox.topRightY-Ct[M].mediaBox.bottomLeftY}function ci(M,X){Ct[M].mediaBox.topRightY=X+Ct[M].mediaBox.bottomLeftY}var di=g.getPageWidth=function(M){return oi(M=M||Q)/Jt},Zd=g.setPageWidth=function(M,X){wo(M,X*Jt)},ui=g.getPageHeight=function(M){return id(M=M||Q)/Jt},e0=g.setPageHeight=function(M,X){ci(M,X*Jt)};return g.internal={pdfEscape:ml,getStyle:td,getFont:nn,getFontSize:nt,getCharSpace:tc,getTextColor:Qd,getLineHeight:Kd,getLineHeightFactor:Jd,getLineWidth:qi,write:et,getHorizontalCoordinate:fl,getVerticalCoordinate:xr,getCoordinateString:nd,getVerticalCoordinateString:vo,collections:{},newObject:ha,newAdditionalObject:Bi,newObjectDeferred:Oa,newObjectDeferredBegin:rr,getFilters:hl,putStream:Cl,events:Ss,scaleFactor:Jt,pageSize:{getWidth:function(){return di(Q)},setWidth:function(M){Zd(Q,M)},getHeight:function(){return ui(Q)},setHeight:function(M){e0(Q,M)}},encryptionOptions:p,encryption:Xa,getEncryptor:function(M){return p!==null?Xa.encryptor(M,0):function(X){return X}},output:Zc,getNumberOfPages:Jc,get pages(){return Be},out:re,f2:P,f3:F,getPageInfo:Fa,getPageInfoByObjId:ec,getCurrentPageInfo:Gd,getPDFVersion:C,Point:Dl,Rectangle:ni,Matrix:Dt,hasHotfix:Or},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return di(Q)},set:function(M){Zd(Q,M)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return ui(Q)},set:function(M){e0(Q,M)},enumerable:!0,configurable:!0}),(function(M){for(var X=0,xe=Nt.length;X<xe;X++){var be=Yc.call(this,M[X][0],M[X][1],M[X][2],Nt[X][3],!0);f===!1&&(y[be]=!0);var ke=M[X][0].split("-");La({id:be,fontName:ke[0],fontStyle:ke[1]||""})}Ss.publish("addFonts",{fonts:_t,dictionary:Wt})}).call(g,Nt),ut="F1",ai(i,a),Ss.publish("initialized"),g}$0.prototype.lsbFirstWord=function(s){return String.fromCharCode(255&s,s>>8&255,s>>16&255,s>>24&255)},$0.prototype.toHexString=function(s){return s.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},$0.prototype.hexToBytes=function(s){for(var t=[],a=0;a<s.length;a+=2)t.push(String.fromCharCode(parseInt(s.substr(a,2),16)));return t.join("")},$0.prototype.processOwnerPassword=function(s,t){return Ng(wg(t).substr(0,5),s)},$0.prototype.encryptor=function(s,t){var a=wg(this.encryptionKey+String.fromCharCode(255&s,s>>8&255,s>>16&255,255&t,t>>8&255)).substr(0,10);return function(l){return Ng(a,l)}},xm.prototype.equals=function(s){var t,a="id,objectNumber,equals";if(!s||Js(s)!==Js(this))return!1;var l=0;for(t in this)if(!(a.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!s.hasOwnProperty(t)||this[t]!==s[t])return!1;l++}for(t in s)s.hasOwnProperty(t)&&a.indexOf(t)<0&&l--;return l===0},gt.API={events:[]},gt.version="4.2.0";var Ga=gt.API,fb=1,Hd=function(s){return s.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},B0=function(s){return s.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Bd=function(s){return s.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(t){var a=t.charCodeAt(0).toString(16).toUpperCase();return"#"+(a.length===1?"0"+a:a)})},rs=function(s){return s.toFixed(2)},Rc=function(s){return s.toFixed(5)};Ga.__acroform__={};var Jl=function(s,t){s.prototype=Object.create(t.prototype),s.prototype.constructor=s},J2=function(s){return s*fb},io=function(s){var t=new I5,a=ft.internal.getHeight(s)||0,l=ft.internal.getWidth(s)||0;return t.BBox=[0,0,Number(rs(l)),Number(rs(a))],t},rP=Ga.__acroform__.setBit=function(s,t){if(s=s||0,t=t||0,isNaN(s)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return s|1<<t},lP=Ga.__acroform__.clearBit=function(s,t){if(s=s||0,t=t||0,isNaN(s)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return s&~(1<<t)},nP=Ga.__acroform__.getBit=function(s,t){if(isNaN(s)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return s&1<<t?1:0},Za=Ga.__acroform__.getBitForPdf=function(s,t){if(isNaN(s)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return nP(s,t-1)},er=Ga.__acroform__.setBitForPdf=function(s,t){if(isNaN(s)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return rP(s,t-1)},tr=Ga.__acroform__.clearBitForPdf=function(s,t){if(isNaN(s)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return lP(s,t-1)},iP=Ga.__acroform__.calculateCoordinates=function(s,t){var a=t.internal.getHorizontalCoordinate,l=t.internal.getVerticalCoordinate,i=s[0],o=s[1],c=s[2],u=s[3],x={};return x.lowerLeft_X=a(i)||0,x.lowerLeft_Y=l(o+u)||0,x.upperRight_X=a(i+c)||0,x.upperRight_Y=l(o)||0,[Number(rs(x.lowerLeft_X)),Number(rs(x.lowerLeft_Y)),Number(rs(x.upperRight_X)),Number(rs(x.upperRight_Y))]},oP=function(s){if(s.appearanceStreamContent)return s.appearanceStreamContent;if(s.V||s.DV){var t=[],a=s._V||s.DV,l=kg(s,a),i=s.scope.internal.getFont(s.fontName,s.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(s.scope.__private__.encodeColorString(s.color)),t.push("/"+i+" "+rs(l.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(l.text),t.push("ET"),t.push("Q"),t.push("EMC");var o=io(s);return o.scope=s.scope,o.stream=t.join(`
`),o}},kg=function(s,t){var a=s.fontSize===0?s.maxFontSize:s.fontSize,l={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=s.multiline?i.map(function(P){return P.split(`
`)}):i.map(function(P){return[P]});var o=a,c=ft.internal.getHeight(s)||0;c=c<0?-c:c;var u=ft.internal.getWidth(s)||0;u=u<0?-u:u;var x=function(P,F,G){if(P+1<i.length){var Y=F+" "+i[P+1][0];return Eh(Y,s,G).width<=u-4}return!1};o++;e:for(;o>0;){t="",o--;var h,p,f=Eh("3",s,o).height,y=s.multiline?c-o:(c-f)/2,g=y+=2,v=0,C=0,N=0;if(o<=0){t=`(...) Tj
`,t+="% Width of Text: "+Eh(t,s,o=12).width+", FieldWidth:"+u+`
`;break}for(var k="",A=0,E=0;E<i.length;E++)if(i.hasOwnProperty(E)){var w=!1;if(i[E].length!==1&&N!==i[E].length-1){if((f+2)*(A+2)+2>c)continue e;k+=i[E][N],w=!0,C=E,E--}else{k=(k+=i[E][N]+" ").substr(k.length-1)==" "?k.substr(0,k.length-1):k;var R=parseInt(E),T=x(R,k,o),O=E>=i.length-1;if(T&&!O){k+=" ",N=0;continue}if(T||O){if(O)C=R;else if(s.multiline&&(f+2)*(A+2)+2>c)continue e}else{if(!s.multiline||(f+2)*(A+2)+2>c)continue e;C=R}}for(var W="",B=v;B<=C;B++){var z=i[B];if(s.multiline){if(B===C){W+=z[N]+" ",N=(N+1)%z.length;continue}if(B===v){W+=z[z.length-1]+" ";continue}}W+=z[0]+" "}switch(W=W.substr(W.length-1)==" "?W.substr(0,W.length-1):W,p=Eh(W,s,o).width,s.textAlign){case"right":h=u-p-2;break;case"center":h=(u-p)/2;break;default:h=2}t+=rs(h)+" "+rs(g)+` Td
`,t+="("+Hd(W)+`) Tj
`,t+=-rs(h)+` 0 Td
`,g=-(o+2),p=0,v=w?C:C+1,A++,k=""}break}return l.text=t,l.fontSize=o,l},Eh=function(s,t,a){var l=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(s,{font:l,fontSize:parseFloat(a),charSpace:0})*parseFloat(a);return{height:t.scope.getStringUnitWidth("3",{font:l,fontSize:parseFloat(a),charSpace:0})*parseFloat(a)*1.5,width:i}},cP={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},dP=function(s,t){var a={type:"reference",object:s};t.internal.getPageInfo(s.page).pageContext.annotations.find(function(l){return l.type===a.type&&l.object===a.object})===void 0&&t.internal.getPageInfo(s.page).pageContext.annotations.push(a)},uP=function(s,t){if(t.scope=s,s.internal!==void 0&&(s.internal.acroformPlugin===void 0||s.internal.acroformPlugin.isInitialized===!1)){if(Fi.FieldNum=0,s.internal.acroformPlugin=JSON.parse(JSON.stringify(cP)),s.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");fb=s.internal.scaleFactor,s.internal.acroformPlugin.acroFormDictionaryRoot=new B5,s.internal.acroformPlugin.acroFormDictionaryRoot.scope=s,s.internal.acroformPlugin.acroFormDictionaryRoot._eventID=s.internal.events.subscribe("postPutResources",function(){(function(a){a.internal.events.unsubscribe(a.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete a.internal.acroformPlugin.acroFormDictionaryRoot._eventID,a.internal.acroformPlugin.printedOut=!0})(s)}),s.internal.events.subscribe("buildDocument",function(){(function(a){a.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var l=a.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in l)if(l.hasOwnProperty(i)){var o=l[i];o.objId=void 0,o.hasAnnotation&&dP(o,a)}})(s)}),s.internal.events.subscribe("putCatalog",function(){(function(a){if(a.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");a.internal.write("/AcroForm "+a.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(s)}),s.internal.events.subscribe("postPutPages",function(a){(function(l,i){var o=!l;for(var c in l||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),l=l||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(l.hasOwnProperty(c)){var u=l[c],x=[],h=u.Rect;if(u.Rect&&(u.Rect=iP(u.Rect,i)),i.internal.newObjectDeferredBegin(u.objId,!0),u.DA=ft.createDefaultAppearanceStream(u),Js(u)==="object"&&typeof u.getKeyValueListForStream=="function"&&(x=u.getKeyValueListForStream()),u.Rect=h,u.hasAppearanceStream&&!u.appearanceStreamContent){var p=oP(u);x.push({key:"AP",value:"<</N "+p+">>"}),i.internal.acroformPlugin.xForms.push(p)}if(u.appearanceStreamContent){var f="";for(var y in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(y)){var g=u.appearanceStreamContent[y];if(f+="/"+y+" ",f+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var c in g)if(g.hasOwnProperty(c)){var v=g[c];typeof v=="function"&&(v=v.call(i,u)),f+="/"+c+" "+v+" ",i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v)}}else typeof(v=g)=="function"&&(v=v.call(i,u)),f+="/"+c+" "+v,i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v);f+=">>"}x.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:x,objectId:u.objId}),i.internal.out("endobj")}o&&(function(C,N){for(var k in C)if(C.hasOwnProperty(k)){var A=k,E=C[k];N.internal.newObjectDeferredBegin(E.objId,!0),Js(E)==="object"&&typeof E.putStream=="function"&&E.putStream(),delete C[A]}})(i.internal.acroformPlugin.xForms,i)})(a,s)}),s.internal.acroformPlugin.isInitialized=!0}},F5=Ga.__acroform__.arrayToPdfArray=function(s,t,a){var l=function(c){return c};if(Array.isArray(s)){for(var i="[",o=0;o<s.length;o++)switch(o!==0&&(i+=" "),Js(s[o])){case"boolean":case"number":case"object":i+=s[o].toString();break;case"string":s[o].substr(0,1)==="/"?i+="/"+Bd(s[o].substr(1)):(t!==void 0&&a&&(l=a.internal.getEncryptor(t)),i+="("+Hd(l(s[o].toString()))+")")}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Rf=function(s,t,a){var l=function(i){return i};return t!==void 0&&a&&(l=a.internal.getEncryptor(t)),(s=s||"").toString(),"("+Hd(l(s))+")"},uo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(s){this._objId=s}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};uo.prototype.toString=function(){return this.objId+" 0 R"},uo.prototype.putStream=function(){var s=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:s,objectId:this.objId}),this.scope.internal.out("endobj")},uo.prototype.getKeyValueListForStream=function(){var s=[],t=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var a in t)if(Object.getOwnPropertyDescriptor(this,t[a]).configurable===!1){var l=t[a],i=this[l];i&&(Array.isArray(i)?s.push({key:l,value:F5(i,this.objId,this.scope)}):i instanceof uo?(i.scope=this.scope,s.push({key:l,value:i.objId+" 0 R"})):typeof i!="function"&&s.push({key:l,value:i}))}return s};var I5=function(){uo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var s,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(a){s=a.trim()},get:function(){return s||null}})};Jl(I5,uo);var B5=function(){uo.call(this);var s,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(s){var a=function(l){return l};return this.scope&&(a=this.scope.internal.getEncryptor(this.objId)),"("+Hd(a(s))+")"}},set:function(a){s=a}})};Jl(B5,uo);var Fi=function s(){uo.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(k){if(isNaN(k))throw new Error('Invalid value "'+k+'" for attribute F supplied.');t=k}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Za(t,3)},set:function(k){k?this.F=er(t,3):this.F=tr(t,3)}});var a=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return a},set:function(k){if(isNaN(k))throw new Error('Invalid value "'+k+'" for attribute Ff supplied.');a=k}});var l=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(l.length!==0)return l},set:function(k){l=k!==void 0?k:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!l||isNaN(l[0])?0:l[0]},set:function(k){l[0]=k}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!l||isNaN(l[1])?0:l[1]},set:function(k){l[1]=k}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!l||isNaN(l[2])?0:l[2]},set:function(k){l[2]=k}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!l||isNaN(l[3])?0:l[3]},set:function(k){l[3]=k}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(k){switch(k){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=k;break;default:throw new Error('Invalid value "'+k+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof hm)return;o="FieldObject"+s.FieldNum++}var k=function(A){return A};return this.scope&&(k=this.scope.internal.getEncryptor(this.objId)),"("+Hd(k(o))+")"},set:function(k){o=k.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(k){o=k}});var c="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return c},set:function(k){c=k}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(k){u=k}});var x=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return x},set:function(k){x=k}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/fb:h},set:function(k){h=k}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(k){p=k}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof hm||this instanceof _d))return Rf(f,this.objId,this.scope)},set:function(k){k=k.toString(),f=k}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof Mr==0?Rf(y,this.objId,this.scope):y},set:function(k){k=k.toString(),y=this instanceof Mr==0?k.substr(0,1)==="("?B0(k.substr(1,k.length-2)):B0(k):k}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Mr==1?B0(y.substr(1,y.length-1)):y},set:function(k){k=k.toString(),y=this instanceof Mr==1?"/"+Bd(k):k}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(k){this.V=k}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Mr==0?Rf(g,this.objId,this.scope):g},set:function(k){k=k.toString(),g=this instanceof Mr==0?k.substr(0,1)==="("?B0(k.substr(1,k.length-2)):B0(k):k}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Mr==1?B0(g.substr(1,g.length-1)):g},set:function(k){k=k.toString(),g=this instanceof Mr==1?"/"+Bd(k):k}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,C=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return C},set:function(k){k=!!k,C=k}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(k){v=k}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Za(this.Ff,1)},set:function(k){k?this.Ff=er(this.Ff,1):this.Ff=tr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Za(this.Ff,2)},set:function(k){k?this.Ff=er(this.Ff,2):this.Ff=tr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Za(this.Ff,3)},set:function(k){k?this.Ff=er(this.Ff,3):this.Ff=tr(this.Ff,3)}});var N=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(N!==null)return N},set:function(k){if([0,1,2].indexOf(k)===-1)throw new Error('Invalid value "'+k+'" for attribute Q supplied.');N=k}}),Object.defineProperty(this,"textAlign",{get:function(){var k;switch(N){case 0:default:k="left";break;case 1:k="center";break;case 2:k="right"}return k},configurable:!0,enumerable:!0,set:function(k){switch(k){case"right":case 2:N=2;break;case"center":case 1:N=1;break;default:N=0}}})};Jl(Fi,uo);var V0=function(){Fi.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var s=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return s},set:function(a){s=a}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return s},set:function(a){s=a}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return F5(t,this.objId,this.scope)},set:function(a){var l,i;i=[],typeof(l=a)=="string"&&(i=(function(o,c,u){u||(u=1);for(var x,h=[];x=c.exec(o);)h.push(x[u]);return h})(l,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(a){t=a,this.sort&&t.sort()},this.addOption=function(a){a=(a=a||"").toString(),t.push(a),this.sort&&t.sort()},this.removeOption=function(a,l){for(l=l||!1,a=(a=a||"").toString();t.indexOf(a)!==-1&&(t.splice(t.indexOf(a),1),l!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Za(this.Ff,18)},set:function(a){a?this.Ff=er(this.Ff,18):this.Ff=tr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Za(this.Ff,19)},set:function(a){this.combo===!0&&(a?this.Ff=er(this.Ff,19):this.Ff=tr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Za(this.Ff,20)},set:function(a){a?(this.Ff=er(this.Ff,20),t.sort()):this.Ff=tr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Za(this.Ff,22)},set:function(a){a?this.Ff=er(this.Ff,22):this.Ff=tr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Za(this.Ff,23)},set:function(a){a?this.Ff=er(this.Ff,23):this.Ff=tr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Za(this.Ff,27)},set:function(a){a?this.Ff=er(this.Ff,27):this.Ff=tr(this.Ff,27)}}),this.hasAppearanceStream=!1};Jl(V0,Fi);var Y0=function(){V0.call(this),this.fontName="helvetica",this.combo=!1};Jl(Y0,V0);var X0=function(){Y0.call(this),this.combo=!0};Jl(X0,Y0);var Kh=function(){X0.call(this),this.edit=!0};Jl(Kh,X0);var Mr=function(){Fi.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Za(this.Ff,15)},set:function(a){a?this.Ff=er(this.Ff,15):this.Ff=tr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Za(this.Ff,16)},set:function(a){a?this.Ff=er(this.Ff,16):this.Ff=tr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Za(this.Ff,17)},set:function(a){a?this.Ff=er(this.Ff,17):this.Ff=tr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Za(this.Ff,26)},set:function(a){a?this.Ff=er(this.Ff,26):this.Ff=tr(this.Ff,26)}});var s,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(o){return o};if(this.scope&&(a=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var l,i=[];for(l in i.push("<<"),t)i.push("/"+l+" ("+Hd(a(t[l]))+")");return i.push(">>"),i.join(`
`)}},set:function(a){Js(a)==="object"&&(t=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(a){typeof a=="string"&&(t.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return s},set:function(a){var l=a==null?"":a.toString();l.substr(0,1)==="/"&&(l=l.substr(1)),s="/"+Bd(l)}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return s.substr(1,s.length-1)},set:function(a){s="/"+Bd(a)}})};Jl(Mr,Fi);var Jh=function(){Mr.call(this),this.pushButton=!0};Jl(Jh,Mr);var K0=function(){Mr.call(this),this.radio=!0,this.pushButton=!1;var s=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return s},set:function(t){s=t!==void 0?t:[]}})};Jl(K0,Mr);var hm=function(){var s,t;Fi.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return s},set:function(i){s=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var a,l={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(u){return u};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var o,c=[];for(o in c.push("<<"),l)c.push("/"+o+" ("+Hd(i(l[o]))+")");return c.push(">>"),c.join(`
`)},set:function(i){Js(i)==="object"&&(l=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return l.CA||""},set:function(i){typeof i=="string"&&(l.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return a},set:function(i){var o=i==null?"":i.toString();o.substr(0,1)==="/"&&(o=o.substr(1)),a="/"+Bd(o)}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return a.substr(1,a.length-1)},set:function(i){var o=i==null?"":i.toString();o.substr(0,1)==="/"&&(o=o.substr(1)),a="/"+Bd(o)}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ft.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Jl(hm,Fi),K0.prototype.setAppearance=function(s){if(!("createAppearanceStream"in s)||!("getCA"in s))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var a=this.Kids[t];a.appearanceStreamContent=s.createAppearanceStream(a.optionName),a.caption=s.getCA()}},K0.prototype.createOption=function(s){var t=new hm;return t.Parent=this,t.optionName=s,this.Kids.push(t),xP.call(this.scope,t),t};var Qh=function(){Mr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ft.CheckBox.createAppearanceStream()};Jl(Qh,Mr);var _d=function(){Fi.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Za(this.Ff,13)},set:function(t){t?this.Ff=er(this.Ff,13):this.Ff=tr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Za(this.Ff,21)},set:function(t){t?this.Ff=er(this.Ff,21):this.Ff=tr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Za(this.Ff,23)},set:function(t){t?this.Ff=er(this.Ff,23):this.Ff=tr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Za(this.Ff,24)},set:function(t){t?this.Ff=er(this.Ff,24):this.Ff=tr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Za(this.Ff,25)},set:function(t){t?this.Ff=er(this.Ff,25):this.Ff=tr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Za(this.Ff,26)},set:function(t){t?this.Ff=er(this.Ff,26):this.Ff=tr(this.Ff,26)}});var s=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return s},set:function(t){s=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return s},set:function(t){Number.isInteger(t)&&(s=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Jl(_d,Fi);var Zh=function(){_d.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Za(this.Ff,14)},set:function(s){s?this.Ff=er(this.Ff,14):this.Ff=tr(this.Ff,14)}}),this.password=!0};Jl(Zh,_d);var ft={CheckBox:{createAppearanceStream:function(){return{N:{On:ft.CheckBox.YesNormal},D:{On:ft.CheckBox.YesPushDown,Off:ft.CheckBox.OffPushDown}}},YesPushDown:function(s){var t=io(s);t.scope=s.scope;var a=[],l=s.scope.internal.getFont(s.fontName,s.fontStyle).id,i=s.scope.__private__.encodeColorString(s.color),o=kg(s,s.caption);return a.push("0.749023 g"),a.push("0 0 "+rs(ft.internal.getWidth(s))+" "+rs(ft.internal.getHeight(s))+" re"),a.push("f"),a.push("BMC"),a.push("q"),a.push("0 0 1 rg"),a.push("/"+l+" "+rs(o.fontSize)+" Tf "+i),a.push("BT"),a.push(o.text),a.push("ET"),a.push("Q"),a.push("EMC"),t.stream=a.join(`
`),t},YesNormal:function(s){var t=io(s);t.scope=s.scope;var a=s.scope.internal.getFont(s.fontName,s.fontStyle).id,l=s.scope.__private__.encodeColorString(s.color),i=[],o=ft.internal.getHeight(s),c=ft.internal.getWidth(s),u=kg(s,s.caption);return i.push("1 g"),i.push("0 0 "+rs(c)+" "+rs(o)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+rs(c-1)+" "+rs(o-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+a+" "+rs(u.fontSize)+" Tf "+l),i.push(u.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(s){var t=io(s);t.scope=s.scope;var a=[];return a.push("0.749023 g"),a.push("0 0 "+rs(ft.internal.getWidth(s))+" "+rs(ft.internal.getHeight(s))+" re"),a.push("f"),t.stream=a.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(s){var t={D:{Off:ft.RadioButton.Circle.OffPushDown},N:{}};return t.N[s]=ft.RadioButton.Circle.YesNormal,t.D[s]=ft.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(s){var t=io(s);t.scope=s.scope;var a=[],l=ft.internal.getWidth(s)<=ft.internal.getHeight(s)?ft.internal.getWidth(s)/4:ft.internal.getHeight(s)/4;l=Number((.9*l).toFixed(5));var i=ft.internal.Bezier_C,o=Number((l*i).toFixed(5));return a.push("q"),a.push("1 0 0 1 "+Rc(ft.internal.getWidth(s)/2)+" "+Rc(ft.internal.getHeight(s)/2)+" cm"),a.push(l+" 0 m"),a.push(l+" "+o+" "+o+" "+l+" 0 "+l+" c"),a.push("-"+o+" "+l+" -"+l+" "+o+" -"+l+" 0 c"),a.push("-"+l+" -"+o+" -"+o+" -"+l+" 0 -"+l+" c"),a.push(o+" -"+l+" "+l+" -"+o+" "+l+" 0 c"),a.push("f"),a.push("Q"),t.stream=a.join(`
`),t},YesPushDown:function(s){var t=io(s);t.scope=s.scope;var a=[],l=ft.internal.getWidth(s)<=ft.internal.getHeight(s)?ft.internal.getWidth(s)/4:ft.internal.getHeight(s)/4;l=Number((.9*l).toFixed(5));var i=Number((2*l).toFixed(5)),o=Number((i*ft.internal.Bezier_C).toFixed(5)),c=Number((l*ft.internal.Bezier_C).toFixed(5));return a.push("0.749023 g"),a.push("q"),a.push("1 0 0 1 "+Rc(ft.internal.getWidth(s)/2)+" "+Rc(ft.internal.getHeight(s)/2)+" cm"),a.push(i+" 0 m"),a.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),a.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),a.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),a.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),a.push("f"),a.push("Q"),a.push("0 g"),a.push("q"),a.push("1 0 0 1 "+Rc(ft.internal.getWidth(s)/2)+" "+Rc(ft.internal.getHeight(s)/2)+" cm"),a.push(l+" 0 m"),a.push(l+" "+c+" "+c+" "+l+" 0 "+l+" c"),a.push("-"+c+" "+l+" -"+l+" "+c+" -"+l+" 0 c"),a.push("-"+l+" -"+c+" -"+c+" -"+l+" 0 -"+l+" c"),a.push(c+" -"+l+" "+l+" -"+c+" "+l+" 0 c"),a.push("f"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(s){var t=io(s);t.scope=s.scope;var a=[],l=ft.internal.getWidth(s)<=ft.internal.getHeight(s)?ft.internal.getWidth(s)/4:ft.internal.getHeight(s)/4;l=Number((.9*l).toFixed(5));var i=Number((2*l).toFixed(5)),o=Number((i*ft.internal.Bezier_C).toFixed(5));return a.push("0.749023 g"),a.push("q"),a.push("1 0 0 1 "+Rc(ft.internal.getWidth(s)/2)+" "+Rc(ft.internal.getHeight(s)/2)+" cm"),a.push(i+" 0 m"),a.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),a.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),a.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),a.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),a.push("f"),a.push("Q"),t.stream=a.join(`
`),t}},Cross:{createAppearanceStream:function(s){var t={D:{Off:ft.RadioButton.Cross.OffPushDown},N:{}};return t.N[s]=ft.RadioButton.Cross.YesNormal,t.D[s]=ft.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(s){var t=io(s);t.scope=s.scope;var a=[],l=ft.internal.calculateCross(s);return a.push("q"),a.push("1 1 "+rs(ft.internal.getWidth(s)-2)+" "+rs(ft.internal.getHeight(s)-2)+" re"),a.push("W"),a.push("n"),a.push(rs(l.x1.x)+" "+rs(l.x1.y)+" m"),a.push(rs(l.x2.x)+" "+rs(l.x2.y)+" l"),a.push(rs(l.x4.x)+" "+rs(l.x4.y)+" m"),a.push(rs(l.x3.x)+" "+rs(l.x3.y)+" l"),a.push("s"),a.push("Q"),t.stream=a.join(`
`),t},YesPushDown:function(s){var t=io(s);t.scope=s.scope;var a=ft.internal.calculateCross(s),l=[];return l.push("0.749023 g"),l.push("0 0 "+rs(ft.internal.getWidth(s))+" "+rs(ft.internal.getHeight(s))+" re"),l.push("f"),l.push("q"),l.push("1 1 "+rs(ft.internal.getWidth(s)-2)+" "+rs(ft.internal.getHeight(s)-2)+" re"),l.push("W"),l.push("n"),l.push(rs(a.x1.x)+" "+rs(a.x1.y)+" m"),l.push(rs(a.x2.x)+" "+rs(a.x2.y)+" l"),l.push(rs(a.x4.x)+" "+rs(a.x4.y)+" m"),l.push(rs(a.x3.x)+" "+rs(a.x3.y)+" l"),l.push("s"),l.push("Q"),t.stream=l.join(`
`),t},OffPushDown:function(s){var t=io(s);t.scope=s.scope;var a=[];return a.push("0.749023 g"),a.push("0 0 "+rs(ft.internal.getWidth(s))+" "+rs(ft.internal.getHeight(s))+" re"),a.push("f"),t.stream=a.join(`
`),t}}},createDefaultAppearanceStream:function(s){var t=s.scope.internal.getFont(s.fontName,s.fontStyle).id,a=s.scope.__private__.encodeColorString(s.color);return"/"+t+" "+s.fontSize+" Tf "+a}};ft.internal={Bezier_C:.551915024494,calculateCross:function(s){var t=ft.internal.getWidth(s),a=ft.internal.getHeight(s),l=Math.min(t,a);return{x1:{x:(t-l)/2,y:(a-l)/2+l},x2:{x:(t-l)/2+l,y:(a-l)/2},x3:{x:(t-l)/2,y:(a-l)/2},x4:{x:(t-l)/2+l,y:(a-l)/2+l}}}},ft.internal.getWidth=function(s){var t=0;return Js(s)==="object"&&(t=J2(s.Rect[2])),t},ft.internal.getHeight=function(s){var t=0;return Js(s)==="object"&&(t=J2(s.Rect[3])),t};var xP=Ga.addField=function(s){if(uP(this,s),!(s instanceof Fi))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=s).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),s.page=s.scope.internal.getCurrentPageInfo().pageNumber,this};Ga.AcroFormChoiceField=V0,Ga.AcroFormListBox=Y0,Ga.AcroFormComboBox=X0,Ga.AcroFormEditBox=Kh,Ga.AcroFormButton=Mr,Ga.AcroFormPushButton=Jh,Ga.AcroFormRadioButton=K0,Ga.AcroFormCheckBox=Qh,Ga.AcroFormTextField=_d,Ga.AcroFormPasswordField=Zh,Ga.AcroFormAppearance=ft,Ga.AcroForm={ChoiceField:V0,ListBox:Y0,ComboBox:X0,EditBox:Kh,Button:Mr,PushButton:Jh,RadioButton:K0,CheckBox:Qh,TextField:_d,PasswordField:Zh,Appearance:ft},gt.AcroForm={ChoiceField:V0,ListBox:Y0,ComboBox:X0,EditBox:Kh,Button:Mr,PushButton:Jh,RadioButton:K0,CheckBox:Qh,TextField:_d,PasswordField:Zh,Appearance:ft};gt.AcroForm;function U5(s){return s.reduce(function(t,a,l){return t[a]=l,t},{})}(function(s){var t="addImage_";s.__addimage__={};var a="UNKNOWN",l={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=s.__addimage__.getImageFileTypeByImageData=function(P,F){var G,Y,me,H,V,$=a;if((F=F||a)==="RGBA"||P.data!==void 0&&P.data instanceof Uint8ClampedArray&&"height"in P&&"width"in P)return"RGBA";if(T(P))for(V in l)for(me=l[V],G=0;G<me.length;G+=1){for(H=!0,Y=0;Y<me[G].length;Y+=1)if(me[G][Y]!==void 0&&me[G][Y]!==P[Y]){H=!1;break}if(H===!0){$=V;break}}else for(V in l)for(me=l[V],G=0;G<me.length;G+=1){for(H=!0,Y=0;Y<me[G].length;Y+=1)if(me[G][Y]!==void 0&&me[G][Y]!==P.charCodeAt(Y)){H=!1;break}if(H===!0){$=V;break}}return $===a&&F!==a&&($=F),$},o=function P(F){for(var G=this.internal.write,Y=this.internal.putStream,me=(0,this.internal.getFilters)();me.indexOf("FlateEncode")!==-1;)me.splice(me.indexOf("FlateEncode"),1);F.objectId=this.internal.newObject();var H=[];if(H.push({key:"Type",value:"/XObject"}),H.push({key:"Subtype",value:"/Image"}),H.push({key:"Width",value:F.width}),H.push({key:"Height",value:F.height}),F.colorSpace===k.INDEXED?H.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(F.palette.length/3-1)+" "+("sMask"in F&&F.sMask!==void 0?F.objectId+2:F.objectId+1)+" 0 R]"}):(H.push({key:"ColorSpace",value:"/"+F.colorSpace}),F.colorSpace===k.DEVICE_CMYK&&H.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),H.push({key:"BitsPerComponent",value:F.bitsPerComponent}),"decodeParameters"in F&&F.decodeParameters!==void 0&&H.push({key:"DecodeParms",value:"<<"+F.decodeParameters+">>"}),"transparency"in F&&Array.isArray(F.transparency)&&F.transparency.length>0){for(var V="",$=0,le=F.transparency.length;$<le;$++)V+=F.transparency[$]+" "+F.transparency[$]+" ";H.push({key:"Mask",value:"["+V+"]"})}F.sMask!==void 0&&H.push({key:"SMask",value:F.objectId+1+" 0 R"});var ge=F.filter!==void 0?["/"+F.filter]:void 0;if(Y({data:F.data,additionalKeyValues:H,alreadyAppliedFilters:ge,objectId:F.objectId}),G("endobj"),"sMask"in F&&F.sMask!==void 0){var te,q=(te=F.sMaskBitsPerComponent)!==null&&te!==void 0?te:F.bitsPerComponent,Q={width:F.width,height:F.height,colorSpace:"DeviceGray",bitsPerComponent:q,data:F.sMask};"filter"in F&&(Q.decodeParameters="/Predictor ".concat(F.predictor," /Colors 1 /BitsPerComponent ").concat(q," /Columns ").concat(F.width),Q.filter=F.filter),P.call(this,Q)}if(F.colorSpace===k.INDEXED){var K=this.internal.newObject();Y({data:W(new Uint8Array(F.palette)),objectId:K}),G("endobj")}},c=function(){var P=this.internal.collections[t+"images"];for(var F in P)o.call(this,P[F])},u=function(){var P,F=this.internal.collections[t+"images"],G=this.internal.write;for(var Y in F)G("/I"+(P=F[Y]).index,P.objectId,"0","R")},x=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",c),this.internal.events.subscribe("putXobjectDict",u))},h=function(){var P=this.internal.collections[t+"images"];return x.call(this),P},p=function(){return Object.keys(this.internal.collections[t+"images"]).length},f=function(P){return typeof s["process"+P.toUpperCase()]=="function"},y=function(P){return Js(P)==="object"&&P.nodeType===1},g=function(P,F){if(P.nodeName==="IMG"&&P.hasAttribute("src")){var G=""+P.getAttribute("src");if(G.indexOf("data:image/")===0)return Xh(unescape(G).split("base64,").pop());var Y=s.loadFile(G,!0);if(Y!==void 0)return Y}if(P.nodeName==="CANVAS"){if(P.width===0||P.height===0)throw new Error("Given canvas must have data. Canvas width: "+P.width+", height: "+P.height);var me;switch(F){case"PNG":me="image/png";break;case"WEBP":me="image/webp";break;default:me="image/jpeg"}return Xh(P.toDataURL(me,1).split("base64,").pop())}},v=function(P){var F=this.internal.collections[t+"images"];if(F){for(var G in F)if(P===F[G].alias)return F[G]}},C=function(P,F,G){return P||F||(P=-96,F=-96),P<0&&(P=-1*G.width*72/P/this.internal.scaleFactor),F<0&&(F=-1*G.height*72/F/this.internal.scaleFactor),P===0&&(P=F*G.width/G.height),F===0&&(F=P*G.height/G.width),[P,F]},N=function(P,F,G,Y,me,H){var V=C.call(this,G,Y,me),$=this.internal.getCoordinateString,le=this.internal.getVerticalCoordinateString,ge=h.call(this);if(G=V[0],Y=V[1],ge[me.index]=me,H){H*=Math.PI/180;var te=Math.cos(H),q=Math.sin(H),Q=function(oe){return oe.toFixed(4)},K=[Q(te),Q(q),Q(-1*q),Q(te),0,0,"cm"]}this.internal.write("q"),H?(this.internal.write([1,"0","0",1,$(P),le(F+Y),"cm"].join(" ")),this.internal.write(K.join(" ")),this.internal.write([$(G),"0","0",$(Y),"0","0","cm"].join(" "))):this.internal.write([$(G),"0","0",$(Y),$(P),le(F+Y),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+me.index+" Do"),this.internal.write("Q")},k=s.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};s.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var A=s.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},E=s.__addimage__.sHashCode=function(P){var F,G,Y=0;if(typeof P=="string")for(G=P.length,F=0;F<G;F++)Y=(Y<<5)-Y+P.charCodeAt(F),Y|=0;else if(T(P))for(G=P.byteLength/2,F=0;F<G;F++)Y=(Y<<5)-Y+P[F],Y|=0;return Y},w=s.__addimage__.validateStringAsBase64=function(P){(P=P||"").toString().trim();var F=!0;return P.length===0&&(F=!1),P.length%4!=0&&(F=!1),/^[A-Za-z0-9+/]+$/.test(P.substr(0,P.length-2))===!1&&(F=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(P.substr(-2))===!1&&(F=!1),F},R=s.__addimage__.extractImageFromDataUrl=function(P){if(P==null||!(P=P.trim()).startsWith("data:"))return null;var F=P.indexOf(",");return F<0?null:P.substring(0,F).trim().endsWith("base64")?P.substring(F+1):null};s.__addimage__.isArrayBuffer=function(P){return P instanceof ArrayBuffer};var T=s.__addimage__.isArrayBufferView=function(P){return P instanceof Int8Array||P instanceof Uint8Array||P instanceof Uint8ClampedArray||P instanceof Int16Array||P instanceof Uint16Array||P instanceof Int32Array||P instanceof Uint32Array||P instanceof Float32Array||P instanceof Float64Array},O=s.__addimage__.binaryStringToUint8Array=function(P){for(var F=P.length,G=new Uint8Array(F),Y=0;Y<F;Y++)G[Y]=P.charCodeAt(Y);return G},W=s.__addimage__.arrayBufferToBinaryString=function(P){for(var F="",G=T(P)?P:new Uint8Array(P),Y=0;Y<G.length;Y+=8192)F+=String.fromCharCode.apply(null,G.subarray(Y,Y+8192));return F};s.addImage=function(){var P,F,G,Y,me,H,V,$,le;if(typeof arguments[1]=="number"?(F=a,G=arguments[1],Y=arguments[2],me=arguments[3],H=arguments[4],V=arguments[5],$=arguments[6],le=arguments[7]):(F=arguments[1],G=arguments[2],Y=arguments[3],me=arguments[4],H=arguments[5],V=arguments[6],$=arguments[7],le=arguments[8]),Js(P=arguments[0])==="object"&&!y(P)&&"imageData"in P){var ge=P;P=ge.imageData,F=ge.format||F||a,G=ge.x||G||0,Y=ge.y||Y||0,me=ge.w||ge.width||me,H=ge.h||ge.height||H,V=ge.alias||V,$=ge.compression||$,le=ge.rotation||ge.angle||le}var te=this.internal.getFilters();if($===void 0&&te.indexOf("FlateEncode")!==-1&&($="SLOW"),isNaN(G)||isNaN(Y))throw new Error("Invalid coordinates passed to jsPDF.addImage");x.call(this);var q=B.call(this,P,F,V,$);return N.call(this,G,Y,me,H,q,le),this};var B=function(P,F,G,Y){var me,H,V;if(typeof P=="string"&&i(P)===a){P=unescape(P);var $=z(P,!1);($!==""||($=s.loadFile(P,!0))!==void 0)&&(P=$)}if(y(P)&&(P=g(P,F)),F=i(P,F),!f(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(((V=G)==null||V.length===0)&&(G=(function(le){return typeof le=="string"||T(le)?E(le):T(le.data)?E(le.data):null})(P)),(me=v.call(this,G))||(P instanceof Uint8Array||F==="RGBA"||(H=P,P=O(P)),me=this["process"+F.toUpperCase()](P,p.call(this),G,(function(le){return le&&typeof le=="string"&&(le=le.toUpperCase()),le in s.image_compression?le:A.NONE})(Y),H)),!me)throw new Error("An unknown error occurred whilst processing the image.");return me},z=s.__addimage__.convertBase64ToBinaryString=function(P,F){F=typeof F!="boolean"||F;var G,Y="";if(typeof P=="string"){var me;G=(me=R(P))!==null&&me!==void 0?me:P;try{Y=Xh(G)}catch(H){if(F)throw w(G)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+H.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Y};s.getImageProperties=function(P){var F,G,Y="";if(y(P)&&(P=g(P)),typeof P=="string"&&i(P)===a&&((Y=z(P,!1))===""&&(Y=s.loadFile(P)||""),P=Y),G=i(P),!f(G))throw new Error("addImage does not support files of type '"+G+"', please ensure that a plugin for '"+G+"' support is added.");if(P instanceof Uint8Array||(P=O(P)),!(F=this["process"+G.toUpperCase()](P)))throw new Error("An unknown error occurred whilst processing the image");return F.fileType=G,F}})(gt.API),(function(s){var t=function(a){if(a!==void 0&&a!="")return!0};gt.API.events.push(["addPage",function(a){this.internal.getPageInfo(a.pageNumber).pageContext.annotations=[]}]),s.events.push(["putPage",function(a){for(var l,i,o,c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,x=this.internal.getPageInfoByObjId(a.objId),h=a.pageContext.annotations,p=!1,f=0;f<h.length&&!p;f++)switch((l=h[f]).type){case"link":(t(l.options.url)||t(l.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var y=0;y<h.length;y++){l=h[y];var g=this.internal.pdfEscape,v=this.internal.getEncryptor(a.objId);switch(l.type){case"reference":this.internal.write(" "+l.object.objId+" 0 R ");break;case"text":var C=this.internal.newAdditionalObject(),N=this.internal.newAdditionalObject(),k=this.internal.getEncryptor(C.objId),A=l.title||"Note";o="<</Type /Annot /Subtype /Text "+(i="/Rect ["+c(l.bounds.x)+" "+u(l.bounds.y+l.bounds.h)+" "+c(l.bounds.x+l.bounds.w)+" "+u(l.bounds.y)+"] ")+"/Contents ("+g(k(l.contents))+")",o+=" /Popup "+N.objId+" 0 R",o+=" /P "+x.objId+" 0 R",o+=" /T ("+g(k(A))+") >>",C.content=o;var E=C.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+c(l.bounds.x+30)+" "+u(l.bounds.y+l.bounds.h)+" "+c(l.bounds.x+l.bounds.w+30)+" "+u(l.bounds.y)+"] ")+" /Parent "+E,l.open&&(o+=" /Open true"),o+=" >>",N.content=o,this.internal.write(C.objId,"0 R",N.objId,"0 R");break;case"freetext":i="/Rect ["+c(l.bounds.x)+" "+u(l.bounds.y)+" "+c(l.bounds.x+l.bounds.w)+" "+u(l.bounds.y+l.bounds.h)+"] ";var w=l.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+g(v(l.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+w+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(l.options.name){var R=this.annotations._nameMap[l.options.name];l.options.pageNumber=R.page,l.options.top=R.y}else l.options.top||(l.options.top=0);if(i="/Rect ["+l.finalBounds.x+" "+l.finalBounds.y+" "+l.finalBounds.w+" "+l.finalBounds.h+"] ",o="",l.options.url)o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+g(v(l.options.url))+") >>";else if(l.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(l.options.pageNumber).objId+" 0 R",l.options.magFactor=l.options.magFactor||"XYZ",l.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+l.options.top+"]";break;case"FitV":l.options.left=l.options.left||0,o+=" /FitV "+l.options.left+"]";break;default:var T=u(l.options.top);l.options.left=l.options.left||0,l.options.zoom===void 0&&(l.options.zoom=0),o+=" /XYZ "+l.options.left+" "+T+" "+l.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),s.createAnnotation=function(a){var l=this.internal.getCurrentPageInfo();switch(a.type){case"link":this.link(a.bounds.x,a.bounds.y,a.bounds.w,a.bounds.h,a);break;case"text":case"freetext":l.pageContext.annotations.push(a)}},s.link=function(a,l,i,o,c){var u=this.internal.getCurrentPageInfo(),x=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:x(a),y:h(l),w:x(a+i),h:h(l+o)},options:c,type:"link"})},s.textWithLink=function(a,l,i,o){var c,u,x=this.getTextWidth(a),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){u=o.maxWidth;var p=this.splitTextToSize(a,u).length;c=Math.ceil(h*p)}else u=x,c=h;return this.text(a,l,i,o),i+=.2*h,o.align==="center"&&(l-=x/2),o.align==="right"&&(l-=x),this.link(l,i-h,u,c,o),x},s.getTextWidth=function(a){var l=this.internal.getFontSize();return this.getStringUnitWidth(a)*l/this.internal.scaleFactor}})(gt.API),(function(s){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},a={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},l={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];s.__arabicParser__={};var o=s.__arabicParser__.isInArabicSubstitutionA=function(C){return t[C.charCodeAt(0)]!==void 0},c=s.__arabicParser__.isArabicLetter=function(C){return typeof C=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(C)},u=s.__arabicParser__.isArabicEndLetter=function(C){return c(C)&&o(C)&&t[C.charCodeAt(0)].length<=2},x=s.__arabicParser__.isArabicAlfLetter=function(C){return c(C)&&i.indexOf(C.charCodeAt(0))>=0};s.__arabicParser__.arabicLetterHasIsolatedForm=function(C){return c(C)&&o(C)&&t[C.charCodeAt(0)].length>=1};var h=s.__arabicParser__.arabicLetterHasFinalForm=function(C){return c(C)&&o(C)&&t[C.charCodeAt(0)].length>=2};s.__arabicParser__.arabicLetterHasInitialForm=function(C){return c(C)&&o(C)&&t[C.charCodeAt(0)].length>=3};var p=s.__arabicParser__.arabicLetterHasMedialForm=function(C){return c(C)&&o(C)&&t[C.charCodeAt(0)].length==4},f=s.__arabicParser__.resolveLigatures=function(C){var N=0,k=a,A="",E=0;for(N=0;N<C.length;N+=1)k[C.charCodeAt(N)]!==void 0?(E++,typeof(k=k[C.charCodeAt(N)])=="number"&&(A+=String.fromCharCode(k),k=a,E=0),N===C.length-1&&(k=a,A+=C.charAt(N-(E-1)),N-=E-1,E=0)):(k=a,A+=C.charAt(N-E),N-=E,E=0);return A};s.__arabicParser__.isArabicDiacritic=function(C){return C!==void 0&&l[C.charCodeAt(0)]!==void 0};var y=s.__arabicParser__.getCorrectForm=function(C,N,k){return c(C)?o(C)===!1?-1:!h(C)||!c(N)&&!c(k)||!c(k)&&u(N)||u(C)&&!c(N)||u(C)&&x(N)||u(C)&&u(N)?0:p(C)&&c(N)&&!u(N)&&c(k)&&h(k)?3:u(C)||!c(k)?1:2:-1},g=function(C){var N=0,k=0,A=0,E="",w="",R="",T=(C=C||"").split("\\s+"),O=[];for(N=0;N<T.length;N+=1){for(O.push(""),k=0;k<T[N].length;k+=1)E=T[N][k],w=T[N][k-1],R=T[N][k+1],c(E)?(A=y(E,w,R),O[N]+=A!==-1?String.fromCharCode(t[E.charCodeAt(0)][A]):E):O[N]+=E;O[N]=f(O[N])}return O.join(" ")},v=s.__arabicParser__.processArabic=s.processArabic=function(){var C,N=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,k=[];if(Array.isArray(N)){var A=0;for(k=[],A=0;A<N.length;A+=1)Array.isArray(N[A])?k.push([g(N[A][0]),N[A][1],N[A][2]]):k.push([g(N[A])]);C=k}else C=g(N);return typeof arguments[0]=="string"?C:(arguments[0].text=C,arguments[0])};s.events.push(["preProcessText",v])})(gt.API),gt.API.autoPrint=function(s){var t;return(s=s||{}).variant=s.variant||"non-conform",s.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(s){var t=function(){var a=void 0;Object.defineProperty(this,"pdf",{get:function(){return a},set:function(u){a=u}});var l=150;Object.defineProperty(this,"width",{get:function(){return l},set:function(u){l=isNaN(u)||Number.isInteger(u)===!1||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=l+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(u){i=isNaN(u)||Number.isInteger(u)===!1||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(u){o=u}});var c={};Object.defineProperty(this,"style",{get:function(){return c},set:function(u){c=u}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(a,l){var i;if((a=a||"2d")!=="2d")return null;for(i in l)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=l[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},s.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(gt.API),(function(s){var t={left:0,top:0,bottom:0,right:0},a=!1,l=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var x=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return x},set:function(C){x=C}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(C){h=C}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(C){p=C}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(C){f=C}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(C){y=C}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(C){g=C}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(C){v=C}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},s.setHeaderFunction=function(x){return l.call(this),this.internal.__cell__.headerFunction=typeof x=="function"?x:void 0,this},s.getTextDimensions=function(x,h){l.call(this);var p=(h=h||{}).fontSize||this.getFontSize(),f=h.font||this.getFont(),y=h.scaleFactor||this.internal.scaleFactor,g=0,v=0,C=0,N=this;if(!Array.isArray(x)&&typeof x!="string"){if(typeof x!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");x=String(x)}var k=h.maxWidth;k>0?typeof x=="string"?x=this.splitTextToSize(x,k):Object.prototype.toString.call(x)==="[object Array]"&&(x=x.reduce(function(E,w){return E.concat(N.splitTextToSize(w,k))},[])):x=Array.isArray(x)?x:[x];for(var A=0;A<x.length;A++)g<(C=this.getStringUnitWidth(x[A],{font:f})*p)&&(g=C);return g!==0&&(v=x.length),{w:g/=y,h:Math.max((v*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/y,0)}},s.cellAddPage=function(){l.call(this),this.addPage();var x=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new o(x.left,x.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var c=s.cell=function(){var x;x=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),l.call(this);var h=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,y=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===x.lineNumber?(x.x=(h.x||0)+(h.width||0),x.y=h.y||0):h.y+h.height+x.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),x.y=f.top,g&&y&&(this.printHeaderRow(x.lineNumber,!0),x.y+=y[0].height)):x.y=h.y+h.height||x.y),x.text[0]!==void 0&&(this.rect(x.x,x.y,x.width,x.height,a===!0?"FD":void 0),x.align==="right"?this.text(x.text,x.x+x.width-p,x.y+p,{align:"right",baseline:"top"}):x.align==="center"?this.text(x.text,x.x+x.width/2,x.y+p,{align:"center",baseline:"top",maxWidth:x.width-p-p}):this.text(x.text,x.x+p,x.y+p,{align:"left",baseline:"top",maxWidth:x.width-p-p})),this.internal.__cell__.lastCell=x,this};s.table=function(x,h,p,f,y){if(l.call(this),!p)throw new Error("No data for PDF table.");var g,v,C,N,k=[],A=[],E=[],w={},R={},T=[],O=[],W=(y=y||{}).autoSize||!1,B=y.printHeaders!==!1,z=y.css&&y.css["font-size"]!==void 0?16*y.css["font-size"]:y.fontSize||12,P=y.margins||Object.assign({width:this.getPageWidth()},t),F=typeof y.padding=="number"?y.padding:3,G=y.headerBackgroundColor||"#c8c8c8",Y=y.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=B,this.internal.__cell__.margins=P,this.internal.__cell__.table_font_size=z,this.internal.__cell__.padding=F,this.internal.__cell__.headerBackgroundColor=G,this.internal.__cell__.headerTextColor=Y,this.setFontSize(z),f==null)A=k=Object.keys(p[0]),E=k.map(function(){return"left"});else if(Array.isArray(f)&&Js(f[0])==="object")for(k=f.map(function(ge){return ge.name}),A=f.map(function(ge){return ge.prompt||ge.name||""}),E=f.map(function(ge){return ge.align||"left"}),g=0;g<f.length;g+=1)R[f[g].name]=.7499990551181103*f[g].width;else Array.isArray(f)&&typeof f[0]=="string"&&(A=k=f,E=k.map(function(){return"left"}));if(W||Array.isArray(f)&&typeof f[0]=="string")for(g=0;g<k.length;g+=1){for(w[N=k[g]]=p.map(function(ge){return ge[N]}),this.setFont(void 0,"bold"),T.push(this.getTextDimensions(A[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=w[N],this.setFont(void 0,"normal"),C=0;C<v.length;C+=1)T.push(this.getTextDimensions(v[C],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);R[N]=Math.max.apply(null,T)+F+F,T=[]}if(B){var me={};for(g=0;g<k.length;g+=1)me[k[g]]={},me[k[g]].text=A[g],me[k[g]].align=E[g];var H=u.call(this,me,R);O=k.map(function(ge){return new o(x,h,R[ge],H,me[ge].text,void 0,me[ge].align)}),this.setTableHeaderRow(O),this.printHeaderRow(1,!1)}var V=f.reduce(function(ge,te){return ge[te.name]=te.align,ge},{});for(g=0;g<p.length;g+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:g,data:p[g]},this);var $=u.call(this,p[g],R);for(C=0;C<k.length;C+=1){var le=p[g][k[C]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:g,col:C,data:le},this),c.call(this,new o(x,h,R[k[C]],$,le,g+2,V[k[C]]))}}return this.internal.__cell__.table_x=x,this.internal.__cell__.table_y=h,this};var u=function(x,h){var p=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(x).map(function(g){var v=x[g];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,h[g]-p-p)},this).map(function(g){return this.getLineHeightFactor()*g.length*f/y+p+p},this).reduce(function(g,v){return Math.max(g,v)},0)};s.setTableHeaderRow=function(x){l.call(this),this.internal.__cell__.tableHeaderRow=x},s.printHeaderRow=function(x,h){if(l.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(a=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){p=this.internal.__cell__.tableHeaderRow[g].clone(),h&&(p.y=this.internal.__cell__.margins.top||0,y.push(p)),p.lineNumber=x;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),c.call(this,p),this.setTextColor(v)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),a=!1}})(gt.API);var $5={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},q5=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Sg=U5(q5),H5=[100,200,300,400,500,600,700,800,900],hP=U5(H5);function Of(s){var t=s.family.replace(/"|'/g,"").toLowerCase(),a=(function(o){return $5[o=o||"normal"]?o:"normal"})(s.style),l=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(s.weight),i=(function(o){return typeof Sg[o=o||"normal"]=="number"?o:"normal"})(s.stretch);return{family:t,style:a,weight:l,stretch:i,src:s.src||[],ref:s.ref||{name:t,style:[i,a,l].join(" ")}}}function Q2(s,t,a,l){var i;for(i=a;i>=0&&i<t.length;i+=l)if(s[t[i]])return s[t[i]];for(i=a;i>=0&&i<t.length;i-=l)if(s[t[i]])return s[t[i]]}var mP={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Z2={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function ej(s){return[s.stretch,s.style,s.weight,s.family].join(" ")}function tj(s){return s.trimLeft()}function pP(s,t){for(var a=0;a<s.length;){if(s.charAt(a)===t)return[s.substring(0,a),s.substring(a+1)];a+=1}return null}function fP(s){var t=s.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],s.substring(t[0].length)]}var U0,Mh,sj,aj,rj,Ff=["times"];function lj(s,t,a,l,i){var o=4,c=ij;switch(i){case gt.API.image_compression.FAST:o=1,c=nj;break;case gt.API.image_compression.MEDIUM:o=6,c=oj;break;case gt.API.image_compression.SLOW:o=9,c=cj}s=(function(x,h,p,f){for(var y,g=x.length/h,v=new Uint8Array(x.length+g),C=[gP,nj,ij,oj,cj],N=0;N<g;N+=1){var k=N*h,A=x.subarray(k,k+h);if(f)v.set(f(A,p,y),k+N);else{for(var E=C.length,w=[],R=0;R<E;R+=1)w[R]=C[R](A,p,y);var T=vP(w.concat());v.set(w[T],k+N)}y=A}return v})(s,t,Math.ceil(a*l/8),c);var u=bg(s,{level:o});return gt.API.__addimage__.arrayBufferToBinaryString(u)}function gP(s){var t=Array.apply([],s);return t.unshift(0),t}function nj(s,t){var a=s.length,l=[];l[0]=1;for(var i=0;i<a;i+=1){var o=s[i-t]||0;l[i+1]=s[i]-o+256&255}return l}function ij(s,t,a){var l=s.length,i=[];i[0]=2;for(var o=0;o<l;o+=1){var c=a&&a[o]||0;i[o+1]=s[o]-c+256&255}return i}function oj(s,t,a){var l=s.length,i=[];i[0]=3;for(var o=0;o<l;o+=1){var c=s[o-t]||0,u=a&&a[o]||0;i[o+1]=s[o]+256-(c+u>>>1)&255}return i}function cj(s,t,a){var l=s.length,i=[];i[0]=4;for(var o=0;o<l;o+=1){var c=bP(s[o-t]||0,a&&a[o]||0,a&&a[o-t]||0);i[o+1]=s[o]-c+256&255}return i}function bP(s,t,a){if(s===t&&t===a)return s;var l=Math.abs(t-a),i=Math.abs(s-a),o=Math.abs(s+t-a-a);return l<=i&&l<=o?s:i<=o?t:a}function vP(s){var t=s.map(function(a){return a.reduce(function(l,i){return l+Math.abs(i)},0)});return t.indexOf(Math.min.apply(null,t))}function If(s,t,a){var l=t*a,i=Math.floor(l/8),o=16-(l-8*i+a),c=(1<<a)-1;return W5(s,i)>>o&c}function dj(s,t,a,l){var i=a*l,o=Math.floor(i/8),c=16-(i-8*o+l),u=(1<<l)-1,x=(t&u)<<c;(function(h,p,f){if(p+1<h.byteLength)h.setUint16(p,f,!1);else{var y=f>>8&255;h.setUint8(p,y)}})(s,o,W5(s,o)&~(u<<c)&65535|x)}function W5(s,t){return t+1<s.byteLength?s.getUint16(t,!1):s.getUint8(t)<<8}function yP(s){var t=0;if(s[t++]!==71||s[t++]!==73||s[t++]!==70||s[t++]!==56||(s[t++]+1&253)!=56||s[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var a=s[t++]|s[t++]<<8,l=s[t++]|s[t++]<<8,i=s[t++],o=i>>7,c=1<<1+(7&i);s[t++],s[t++];var u=null,x=null;o&&(u=t,x=c,t+=3*c);var h=!0,p=[],f=0,y=null,g=0,v=null;for(this.width=a,this.height=l;h&&t<s.length;)switch(s[t++]){case 33:switch(s[t++]){case 255:if(s[t]!==11||s[t+1]==78&&s[t+2]==69&&s[t+3]==84&&s[t+4]==83&&s[t+5]==67&&s[t+6]==65&&s[t+7]==80&&s[t+8]==69&&s[t+9]==50&&s[t+10]==46&&s[t+11]==48&&s[t+12]==3&&s[t+13]==1&&s[t+16]==0)t+=14,v=s[t++]|s[t++]<<8,t++;else for(t+=12;;){if(!((P=s[t++])>=0))throw Error("Invalid block size");if(P===0)break;t+=P}break;case 249:if(s[t++]!==4||s[t+4]!==0)throw new Error("Invalid graphics extension block.");var C=s[t++];f=s[t++]|s[t++]<<8,y=s[t++],1&C||(y=null),g=C>>2&7,t++;break;case 254:for(;;){if(!((P=s[t++])>=0))throw Error("Invalid block size");if(P===0)break;t+=P}break;default:throw new Error("Unknown graphic control label: 0x"+s[t-1].toString(16))}break;case 44:var N=s[t++]|s[t++]<<8,k=s[t++]|s[t++]<<8,A=s[t++]|s[t++]<<8,E=s[t++]|s[t++]<<8,w=s[t++],R=w>>6&1,T=1<<1+(7&w),O=u,W=x,B=!1;w>>7&&(B=!0,O=t,W=T,t+=3*T);var z=t;for(t++;;){var P;if(!((P=s[t++])>=0))throw Error("Invalid block size");if(P===0)break;t+=P}p.push({x:N,y:k,width:A,height:E,has_local_palette:B,palette_offset:O,palette_size:W,data_offset:z,data_length:t-z,transparent_index:y,interlaced:!!R,delay:f,disposal:g});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+s[t-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return v},this.frameInfo=function(F){if(F<0||F>=p.length)throw new Error("Frame index out of range.");return p[F]},this.decodeAndBlitFrameBGRA=function(F,G){var Y=this.frameInfo(F),me=Y.width*Y.height;if(me>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");var H=new Uint8Array(me);uj(s,Y.data_offset,H,me);var V=Y.palette_offset,$=Y.transparent_index;$===null&&($=256);var le=Y.width,ge=a-le,te=le,q=4*(Y.y*a+Y.x),Q=4*((Y.y+Y.height)*a+Y.x),K=q,oe=4*ge;Y.interlaced===!0&&(oe+=4*a*7);for(var ae=8,ce=0,pe=H.length;ce<pe;++ce){var we=H[ce];if(te===0&&(te=le,(K+=oe)>=Q&&(oe=4*ge+4*a*(ae-1),K=q+(le+ge)*(ae<<1),ae>>=1)),we===$)K+=4;else{var Ee=s[V+3*we],Be=s[V+3*we+1],Je=s[V+3*we+2];G[K++]=Je,G[K++]=Be,G[K++]=Ee,G[K++]=255}--te}},this.decodeAndBlitFrameRGBA=function(F,G){var Y=this.frameInfo(F),me=Y.width*Y.height;if(me>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");var H=new Uint8Array(me);uj(s,Y.data_offset,H,me);var V=Y.palette_offset,$=Y.transparent_index;$===null&&($=256);var le=Y.width,ge=a-le,te=le,q=4*(Y.y*a+Y.x),Q=4*((Y.y+Y.height)*a+Y.x),K=q,oe=4*ge;Y.interlaced===!0&&(oe+=4*a*7);for(var ae=8,ce=0,pe=H.length;ce<pe;++ce){var we=H[ce];if(te===0&&(te=le,(K+=oe)>=Q&&(oe=4*ge+4*a*(ae-1),K=q+(le+ge)*(ae<<1),ae>>=1)),we===$)K+=4;else{var Ee=s[V+3*we],Be=s[V+3*we+1],Je=s[V+3*we+2];G[K++]=Ee,G[K++]=Be,G[K++]=Je,G[K++]=255}--te}}}function uj(s,t,a,l){for(var i=s[t++],o=1<<i,c=o+1,u=c+1,x=i+1,h=(1<<x)-1,p=0,f=0,y=0,g=s[t++],v=new Int32Array(4096),C=null;;){for(;p<16&&g!==0;)f|=s[t++]<<p,p+=8,g===1?g=s[t++]:--g;if(p<x)break;var N=f&h;if(f>>=x,p-=x,N!==o){if(N===c)break;for(var k=N<u?N:C,A=0,E=k;E>o;)E=v[E]>>8,++A;var w=E;if(y+A+(k!==N?1:0)>l)return void da.log("Warning, gif stream longer than expected.");a[y++]=w;var R=y+=A;for(k!==N&&(a[y++]=w),E=k;A--;)E=v[E],a[--R]=255&E,E>>=8;C!==null&&u<4096&&(v[u++]=C<<8|w,u>=h+1&&x<12&&(++x,h=h<<1|1)),C=N}else u=c+1,h=(1<<(x=i+1))-1,C=null}return y!==l&&da.log("Warning, gif stream shorter than expected."),a}function Bf(s){var t,a,l,i,o,c=Math.floor,u=new Array(64),x=new Array(64),h=new Array(64),p=new Array(64),f=new Array(65535),y=new Array(65535),g=new Array(64),v=new Array(64),C=[],N=0,k=7,A=new Array(64),E=new Array(64),w=new Array(64),R=new Array(256),T=new Array(2048),O=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],W=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],z=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],P=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],F=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],G=[0,1,2,3,4,5,6,7,8,9,10,11],Y=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],me=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function H(q,Q){for(var K=0,oe=0,ae=new Array,ce=1;ce<=16;ce++){for(var pe=1;pe<=q[ce];pe++)ae[Q[oe]]=[],ae[Q[oe]][0]=K,ae[Q[oe]][1]=ce,oe++,K++;K*=2}return ae}function V(q){for(var Q=q[0],K=q[1]-1;K>=0;)Q&1<<K&&(N|=1<<k),K--,--k<0&&(N==255?($(255),$(0)):$(N),k=7,N=0)}function $(q){C.push(q)}function le(q){$(q>>8&255),$(255&q)}function ge(q,Q,K,oe,ae){for(var ce,pe=ae[0],we=ae[240],Ee=(function(Ke,St){var nt,At,bt,Ge,Bt,vt,os,Yt,ut,Jt,kt=0;for(ut=0;ut<8;++ut){nt=Ke[kt],At=Ke[kt+1],bt=Ke[kt+2],Ge=Ke[kt+3],Bt=Ke[kt+4],vt=Ke[kt+5],os=Ke[kt+6];var Da=nt+(Yt=Ke[kt+7]),hs=nt-Yt,_t=At+os,Wt=At-os,fs=bt+vt,Et=bt-vt,Zs=Ge+Bt,Ut=Ge-Bt,Gt=Da+Zs,Gs=Da-Zs,ls=_t+fs,Ct=_t-fs;Ke[kt]=Gt+ls,Ke[kt+4]=Gt-ls;var Ss=.707106781*(Ct+Gs);Ke[kt+2]=Gs+Ss,Ke[kt+6]=Gs-Ss;var Ql=.382683433*((Gt=Ut+Et)-(Ct=Wt+hs)),Nr=.5411961*Gt+Ql,Ln=1.306562965*Ct+Ql,Sl=.707106781*(ls=Et+Wt),Dt=hs+Sl,si=hs-Sl;Ke[kt+5]=si+Nr,Ke[kt+3]=si-Nr,Ke[kt+1]=Dt+Ln,Ke[kt+7]=Dt-Ln,kt+=8}for(kt=0,ut=0;ut<8;++ut){nt=Ke[kt],At=Ke[kt+8],bt=Ke[kt+16],Ge=Ke[kt+24],Bt=Ke[kt+32],vt=Ke[kt+40],os=Ke[kt+48];var En=nt+(Yt=Ke[kt+56]),ul=nt-Yt,xl=At+os,ha=At-os,Oa=bt+vt,rr=bt-vt,Bi=Ge+Bt,Rr=Ge-Bt,Vs=En+Bi,ma=En-Bi,kr=xl+Oa,hl=xl-Oa;Ke[kt]=Vs+kr,Ke[kt+32]=Vs-kr;var Cl=.707106781*(hl+ma);Ke[kt+16]=ma+Cl,Ke[kt+48]=ma-Cl;var po=.382683433*((Vs=Rr+rr)-(hl=ha+ul)),Zl=.5411961*Vs+po,en=1.306562965*hl+po,Ui=.707106781*(kr=rr+ha),tn=ul+Ui,sn=ul-Ui;Ke[kt+40]=sn+Zl,Ke[kt+24]=sn-Zl,Ke[kt+8]=tn+en,Ke[kt+56]=tn-en,kt++}for(ut=0;ut<64;++ut)Jt=Ke[ut]*St[ut],g[ut]=Jt>0?Jt+.5|0:Jt-.5|0;return g})(q,Q),Be=0;Be<64;++Be)v[O[Be]]=Ee[Be];var Je=v[0]-K;K=v[0],Je==0?V(oe[0]):(V(oe[y[ce=32767+Je]]),V(f[ce]));for(var tt=63;tt>0&&v[tt]==0;)tt--;if(tt==0)return V(pe),K;for(var he,re=1;re<=tt;){for(var et=re;v[re]==0&&re<=tt;)++re;var Tt=re-et;if(Tt>=16){he=Tt>>4;for(var Nt=1;Nt<=he;++Nt)V(we);Tt&=15}ce=32767+v[re],V(ae[(Tt<<4)+y[ce]]),V(f[ce]),re++}return tt!=63&&V(pe),K}function te(q){q=Math.min(Math.max(q,1),100),o!=q&&((function(Q){for(var K=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],oe=0;oe<64;oe++){var ae=c((K[oe]*Q+50)/100);ae=Math.min(Math.max(ae,1),255),u[O[oe]]=ae}for(var ce=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],pe=0;pe<64;pe++){var we=c((ce[pe]*Q+50)/100);we=Math.min(Math.max(we,1),255),x[O[pe]]=we}for(var Ee=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Be=0,Je=0;Je<8;Je++)for(var tt=0;tt<8;tt++)h[Be]=1/(u[O[Be]]*Ee[Je]*Ee[tt]*8),p[Be]=1/(x[O[Be]]*Ee[Je]*Ee[tt]*8),Be++})(q<50?Math.floor(5e3/q):Math.floor(200-2*q)),o=q)}this.encode=function(q,Q){Q&&te(Q),C=new Array,N=0,k=7,le(65496),le(65504),le(16),$(74),$(70),$(73),$(70),$(0),$(1),$(1),$(0),le(1),le(1),$(0),$(0),(function(){le(65499),le(132),$(0);for(var At=0;At<64;At++)$(u[At]);$(1);for(var bt=0;bt<64;bt++)$(x[bt])})(),(function(At,bt){le(65472),le(17),$(8),le(bt),le(At),$(3),$(1),$(17),$(0),$(2),$(17),$(1),$(3),$(17),$(1)})(q.width,q.height),(function(){le(65476),le(418),$(0);for(var At=0;At<16;At++)$(W[At+1]);for(var bt=0;bt<=11;bt++)$(B[bt]);$(16);for(var Ge=0;Ge<16;Ge++)$(z[Ge+1]);for(var Bt=0;Bt<=161;Bt++)$(P[Bt]);$(1);for(var vt=0;vt<16;vt++)$(F[vt+1]);for(var os=0;os<=11;os++)$(G[os]);$(17);for(var Yt=0;Yt<16;Yt++)$(Y[Yt+1]);for(var ut=0;ut<=161;ut++)$(me[ut])})(),le(65498),le(12),$(3),$(1),$(0),$(2),$(17),$(3),$(17),$(0),$(63),$(0);var K=0,oe=0,ae=0;N=0,k=7,this.encode.displayName="_encode_";for(var ce,pe,we,Ee,Be,Je,tt,he,re,et=q.data,Tt=q.width,Nt=q.height,Ke=4*Tt,St=0;St<Nt;){for(ce=0;ce<Ke;){for(Be=Ke*St+ce,tt=-1,he=0,re=0;re<64;re++)Je=Be+(he=re>>3)*Ke+(tt=4*(7&re)),St+he>=Nt&&(Je-=Ke*(St+1+he-Nt)),ce+tt>=Ke&&(Je-=ce+tt-Ke+4),pe=et[Je++],we=et[Je++],Ee=et[Je++],A[re]=(T[pe]+T[we+256|0]+T[Ee+512|0]>>16)-128,E[re]=(T[pe+768|0]+T[we+1024|0]+T[Ee+1280|0]>>16)-128,w[re]=(T[pe+1280|0]+T[we+1536|0]+T[Ee+1792|0]>>16)-128;K=ge(A,h,K,t,l),oe=ge(E,p,oe,a,i),ae=ge(w,p,ae,a,i),ce+=32}St+=8}if(k>=0){var nt=[];nt[1]=k+1,nt[0]=(1<<k+1)-1,V(nt)}return le(65497),new Uint8Array(C)},s=s||50,(function(){for(var q=String.fromCharCode,Q=0;Q<256;Q++)R[Q]=q(Q)})(),t=H(W,B),a=H(F,G),l=H(z,P),i=H(Y,me),(function(){for(var q=1,Q=2,K=1;K<=15;K++){for(var oe=q;oe<Q;oe++)y[32767+oe]=K,f[32767+oe]=[],f[32767+oe][1]=K,f[32767+oe][0]=oe;for(var ae=-(Q-1);ae<=-q;ae++)y[32767+ae]=K,f[32767+ae]=[],f[32767+ae][1]=K,f[32767+ae][0]=Q-1+ae;q<<=1,Q<<=1}})(),(function(){for(var q=0;q<256;q++)T[q]=19595*q,T[q+256|0]=38470*q,T[q+512|0]=7471*q+32768,T[q+768|0]=-11059*q,T[q+1024|0]=-21709*q,T[q+1280|0]=32768*q+8421375,T[q+1536|0]=-27439*q,T[q+1792|0]=-5329*q})(),te(s)}function Ei(s,t){if(this.pos=0,this.buffer=s,this.datav=new DataView(s.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function xj(s){function t(B){if(!B)throw Error("assert :P")}function a(B,z,P){for(var F=0;4>F;F++)if(B[z+F]!=P.charCodeAt(F))return!0;return!1}function l(B,z,P,F,G){for(var Y=0;Y<G;Y++)B[z+Y]=P[F+Y]}function i(B,z,P,F){for(var G=0;G<F;G++)B[z+G]=P}function o(B){return new Int32Array(B)}function c(B,z){for(var P=[],F=0;F<B;F++)P.push(new z);return P}function u(B,z){var P=[];return(function F(G,Y,me){for(var H=me[Y],V=0;V<H&&(G.push(me.length>Y+1?[]:new z),!(me.length<Y+1));V++)F(G[V],Y+1,me)})(P,0,B),P}var x=function(){var B=this;function z(j,D){for(var _=1<<D-1>>>0;j&_;)_>>>=1;return _?(j&_-1)+_:j}function P(j,D,_,I,J){t(!(I%_));do j[D+(I-=_)]=J;while(0<I)}function F(j,D,_,I,J){if(t(2328>=J),512>=J)var Z=o(512);else if((Z=o(J))==null)return 0;return(function(ee,ne,ie,ue,ye,Le){var de,Ne,Ce=ne,Fe=1<<ie,Ae=o(16),Oe=o(16);for(t(ye!=0),t(ue!=null),t(ee!=null),t(0<ie),Ne=0;Ne<ye;++Ne){if(15<ue[Ne])return 0;++Ae[ue[Ne]]}if(Ae[0]==ye)return 0;for(Oe[1]=0,de=1;15>de;++de){if(Ae[de]>1<<de)return 0;Oe[de+1]=Oe[de]+Ae[de]}for(Ne=0;Ne<ye;++Ne)de=ue[Ne],0<ue[Ne]&&(Le[Oe[de]++]=Ne);if(Oe[15]==1)return(ue=new G).g=0,ue.value=Le[0],P(ee,Ce,1,Fe,ue),Fe;var $e,Qe=-1,We=Fe-1,pt=0,ct=1,Xt=1,xt=1<<ie;for(Ne=0,de=1,ye=2;de<=ie;++de,ye<<=1){if(ct+=Xt<<=1,0>(Xt-=Ae[de]))return 0;for(;0<Ae[de];--Ae[de])(ue=new G).g=de,ue.value=Le[Ne++],P(ee,Ce+pt,ye,xt,ue),pt=z(pt,de)}for(de=ie+1,ye=2;15>=de;++de,ye<<=1){if(ct+=Xt<<=1,0>(Xt-=Ae[de]))return 0;for(;0<Ae[de];--Ae[de]){if(ue=new G,(pt&We)!=Qe){for(Ce+=xt,$e=1<<(Qe=de)-ie;15>Qe&&!(0>=($e-=Ae[Qe]));)++Qe,$e<<=1;Fe+=xt=1<<($e=Qe-ie),ee[ne+(Qe=pt&We)].g=$e+ie,ee[ne+Qe].value=Ce-ne-Qe}ue.g=de-ie,ue.value=Le[Ne++],P(ee,Ce+(pt>>ie),ye,xt,ue),pt=z(pt,de)}}return ct!=2*Oe[15]-1?0:Fe})(j,D,_,I,J,Z)}function G(){this.value=this.g=0}function Y(){this.value=this.g=0}function me(){this.G=c(5,G),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=c(Gi,Y)}function H(j,D,_,I){t(j!=null),t(D!=null),t(2147483648>I),j.Ca=254,j.I=0,j.b=-8,j.Ka=0,j.oa=D,j.pa=_,j.Jd=D,j.Yc=_+I,j.Zc=4<=I?_+I-4+1:_,pe(j)}function V(j,D){for(var _=0;0<D--;)_|=Ee(j,128)<<D;return _}function $(j,D){var _=V(j,D);return we(j)?-_:_}function le(j,D,_,I){var J,Z=0;for(t(j!=null),t(D!=null),t(4294967288>I),j.Sb=I,j.Ra=0,j.u=0,j.h=0,4<I&&(I=4),J=0;J<I;++J)Z+=D[_+J]<<8*J;j.Ra=Z,j.bb=I,j.oa=D,j.pa=_}function ge(j){for(;8<=j.u&&j.bb<j.Sb;)j.Ra>>>=8,j.Ra+=j.oa[j.pa+j.bb]<<On-8>>>0,++j.bb,j.u-=8;oe(j)&&(j.h=1,j.u=0)}function te(j,D){if(t(0<=D),!j.h&&D<=Br){var _=K(j)&Jr[D];return j.u+=D,ge(j),_}return j.h=1,j.u=0}function q(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function K(j){return j.Ra>>>(j.u&On-1)>>>0}function oe(j){return t(j.bb<=j.Sb),j.h||j.bb==j.Sb&&j.u>On}function ae(j,D){j.u=D,j.h=oe(j)}function ce(j){j.u>=Fn&&(t(j.u>=Fn),ge(j))}function pe(j){t(j!=null&&j.oa!=null),j.pa<j.Zc?(j.I=(j.oa[j.pa++]|j.I<<8)>>>0,j.b+=8):(t(j!=null&&j.oa!=null),j.pa<j.Yc?(j.b+=8,j.I=j.oa[j.pa++]|j.I<<8):j.Ka?j.b=0:(j.I<<=8,j.b+=8,j.Ka=1))}function we(j){return V(j,1)}function Ee(j,D){var _=j.Ca;0>j.b&&pe(j);var I=j.b,J=_*D>>>8,Z=(j.I>>>I>J)+0;for(Z?(_-=J,j.I-=J+1<<I>>>0):_=J+1,I=_,J=0;256<=I;)J+=8,I>>=8;return I=7^J+gi[I],j.b-=I,j.Ca=(_<<I)-1,Z}function Be(j,D,_){j[D+0]=_>>24&255,j[D+1]=_>>16&255,j[D+2]=_>>8&255,j[D+3]=255&_}function Je(j,D){return j[D+0]|j[D+1]<<8}function tt(j,D){return Je(j,D)|j[D+2]<<16}function he(j,D){return Je(j,D)|Je(j,D+2)<<16}function re(j,D){var _=1<<D;return t(j!=null),t(0<D),j.X=o(_),j.X==null?0:(j.Mb=32-D,j.Xa=D,1)}function et(j,D){t(j!=null),t(D!=null),t(j.Xa==D.Xa),l(D.X,0,j.X,0,1<<D.Xa)}function Tt(){this.X=[],this.Xa=this.Mb=0}function Nt(j,D,_,I){t(_!=null),t(I!=null);var J=_[0],Z=I[0];return J==0&&(J=(j*Z+D/2)/D),Z==0&&(Z=(D*J+j/2)/j),0>=J||0>=Z?0:(_[0]=J,I[0]=Z,1)}function Ke(j,D){return j+(1<<D)-1>>>D}function St(j,D){return((4278255360&j)+(4278255360&D)>>>0&4278255360)+((16711935&j)+(16711935&D)>>>0&16711935)>>>0}function nt(j,D){B[D]=function(_,I,J,Z,ee,ne,ie){var ue;for(ue=0;ue<ee;++ue){var ye=B[j](ne[ie+ue-1],J,Z+ue);ne[ie+ue]=St(_[I+ue],ye)}}}function At(){this.ud=this.hd=this.jd=0}function bt(j,D){return((4278124286&(j^D))>>>1)+(j&D)>>>0}function Ge(j){return 0<=j&&256>j?j:0>j?0:255<j?255:void 0}function Bt(j,D){return Ge(j+(j-D+.5>>1))}function vt(j,D,_){return Math.abs(D-_)-Math.abs(j-_)}function os(j,D,_,I,J,Z,ee){for(I=Z[ee-1],_=0;_<J;++_)Z[ee+_]=I=St(j[D+_],I)}function Yt(j,D,_,I,J){var Z;for(Z=0;Z<_;++Z){var ee=j[D+Z],ne=ee>>8&255,ie=16711935&(ie=(ie=16711935&ee)+((ne<<16)+ne));I[J+Z]=(4278255360&ee)+ie>>>0}}function ut(j,D){D.jd=255&j,D.hd=j>>8&255,D.ud=j>>16&255}function Jt(j,D,_,I,J,Z){var ee;for(ee=0;ee<I;++ee){var ne=D[_+ee],ie=ne>>>8,ue=ne,ye=255&(ye=(ye=ne>>>16)+((j.jd<<24>>24)*(ie<<24>>24)>>>5));ue=255&(ue=(ue+=(j.hd<<24>>24)*(ie<<24>>24)>>>5)+((j.ud<<24>>24)*(ye<<24>>24)>>>5)),J[Z+ee]=(4278255360&ne)+(ye<<16)+ue}}function kt(j,D,_,I,J){B[D]=function(Z,ee,ne,ie,ue,ye,Le,de,Ne){for(ie=Le;ie<de;++ie)for(Le=0;Le<Ne;++Le)ue[ye++]=J(ne[I(Z[ee++])])},B[j]=function(Z,ee,ne,ie,ue,ye,Le){var de=8>>Z.b,Ne=Z.Ea,Ce=Z.K[0],Fe=Z.w;if(8>de)for(Z=(1<<Z.b)-1,Fe=(1<<de)-1;ee<ne;++ee){var Ae,Oe=0;for(Ae=0;Ae<Ne;++Ae)Ae&Z||(Oe=I(ie[ue++])),ye[Le++]=J(Ce[Oe&Fe]),Oe>>=de}else B["VP8LMapColor"+_](ie,ue,Ce,Fe,ye,Le,ee,ne,Ne)}}function Da(j,D,_,I,J){for(_=D+_;D<_;){var Z=j[D++];I[J++]=Z>>16&255,I[J++]=Z>>8&255,I[J++]=255&Z}}function hs(j,D,_,I,J){for(_=D+_;D<_;){var Z=j[D++];I[J++]=Z>>16&255,I[J++]=Z>>8&255,I[J++]=255&Z,I[J++]=Z>>24&255}}function _t(j,D,_,I,J){for(_=D+_;D<_;){var Z=(ee=j[D++])>>16&240|ee>>12&15,ee=240&ee|ee>>28&15;I[J++]=Z,I[J++]=ee}}function Wt(j,D,_,I,J){for(_=D+_;D<_;){var Z=(ee=j[D++])>>16&248|ee>>13&7,ee=ee>>5&224|ee>>3&31;I[J++]=Z,I[J++]=ee}}function fs(j,D,_,I,J){for(_=D+_;D<_;){var Z=j[D++];I[J++]=255&Z,I[J++]=Z>>8&255,I[J++]=Z>>16&255}}function Et(j,D,_,I,J,Z){if(Z==0)for(_=D+_;D<_;)Be(I,((Z=j[D++])[0]>>24|Z[1]>>8&65280|Z[2]<<8&16711680|Z[3]<<24)>>>0),J+=32;else l(I,J,j,D,_)}function Zs(j,D){B[D][0]=B[j+"0"],B[D][1]=B[j+"1"],B[D][2]=B[j+"2"],B[D][3]=B[j+"3"],B[D][4]=B[j+"4"],B[D][5]=B[j+"5"],B[D][6]=B[j+"6"],B[D][7]=B[j+"7"],B[D][8]=B[j+"8"],B[D][9]=B[j+"9"],B[D][10]=B[j+"10"],B[D][11]=B[j+"11"],B[D][12]=B[j+"12"],B[D][13]=B[j+"13"],B[D][14]=B[j+"0"],B[D][15]=B[j+"0"]}function Ut(j){return j==gd||j==n0||j==xc||j==i0}function Gt(){this.eb=[],this.size=this.A=this.fb=0}function Gs(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ls(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Gt,this.f.kb=new Gs,this.sd=null}function Ct(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ss(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ql(j){return alert("todo:WebPSamplerProcessPlane"),j.T}function Nr(j,D){var _=j.T,I=D.ba.f.RGBA,J=I.eb,Z=I.fb+j.ka*I.A,ee=gr[D.ba.S],ne=j.y,ie=j.O,ue=j.f,ye=j.N,Le=j.ea,de=j.W,Ne=D.cc,Ce=D.dc,Fe=D.Mc,Ae=D.Nc,Oe=j.ka,$e=j.ka+j.T,Qe=j.U,We=Qe+1>>1;for(Oe==0?ee(ne,ie,null,null,ue,ye,Le,de,ue,ye,Le,de,J,Z,null,null,Qe):(ee(D.ec,D.fc,ne,ie,Ne,Ce,Fe,Ae,ue,ye,Le,de,J,Z-I.A,J,Z,Qe),++_);Oe+2<$e;Oe+=2)Ne=ue,Ce=ye,Fe=Le,Ae=de,ye+=j.Rc,de+=j.Rc,Z+=2*I.A,ee(ne,(ie+=2*j.fa)-j.fa,ne,ie,Ne,Ce,Fe,Ae,ue,ye,Le,de,J,Z-I.A,J,Z,Qe);return ie+=j.fa,j.j+$e<j.o?(l(D.ec,D.fc,ne,ie,Qe),l(D.cc,D.dc,ue,ye,We),l(D.Mc,D.Nc,Le,de,We),_--):1&$e||ee(ne,ie,null,null,ue,ye,Le,de,ue,ye,Le,de,J,Z+I.A,null,null,Qe),_}function Ln(j,D,_){var I=j.F,J=[j.J];if(I!=null){var Z=j.U,ee=D.ba.S,ne=ee==fd||ee==xc;D=D.ba.f.RGBA;var ie=[0],ue=j.ka;ie[0]=j.T,j.Kb&&(ue==0?--ie[0]:(--ue,J[0]-=j.width),j.j+j.ka+j.T==j.o&&(ie[0]=j.o-j.j-ue));var ye=D.eb;ue=D.fb+ue*D.A,j=xd(I,J[0],j.width,Z,ie,ye,ue+(ne?0:3),D.A),t(_==ie),j&&Ut(ee)&&Co(ye,ue,ne,Z,ie,D.A)}return 0}function Sl(j){var D=j.ma,_=D.ba.S,I=11>_,J=_==Ar||_==Ml||_==fd||_==uc||_==12||Ut(_);if(D.memory=null,D.Ib=null,D.Jb=null,D.Nd=null,!fi(D.Oa,j,J?11:12))return 0;if(J&&Ut(_)&&od(),j.da)alert("todo:use_scaling");else{if(I){if(D.Ib=Ql,j.Kb){if(_=j.U+1>>1,D.memory=o(j.U+2*_),D.memory==null)return 0;D.ec=D.memory,D.fc=0,D.cc=D.ec,D.dc=D.fc+j.U,D.Mc=D.cc,D.Nc=D.dc+_,D.Ib=Nr,od()}}else alert("todo:EmitYUV");J&&(D.Jb=Ln,I&&on())}if(I&&!Zi){for(j=0;256>j;++j)br[j]=89858*(j-128)+pc>>Ol,Rm[j]=-22014*(j-128)+pc,Lx[j]=-45773*(j-128),x0[j]=113618*(j-128)+pc>>Ol;for(j=Eo;j<Qi;++j)D=76283*(j-16)+pc>>Ol,Om[j-Eo]=pl(D,255),Fm[j-Eo]=pl(D+8>>4,15);Zi=1}return 1}function Dt(j){var D=j.ma,_=j.U,I=j.T;return t(!(1&j.ka)),0>=_||0>=I?0:(_=D.Ib(j,D),D.Jb!=null&&D.Jb(j,D,_),D.Dc+=_,1)}function si(j){j.ma.memory=null}function En(j,D,_,I){return te(j,8)!=47?0:(D[0]=te(j,14)+1,_[0]=te(j,14)+1,I[0]=te(j,1),te(j,3)!=0?0:!j.h)}function ul(j,D){if(4>j)return j+1;var _=j-2>>1;return(2+(1&j)<<_)+te(D,_)+1}function xl(j,D){return 120<D?D-120:1<=(_=((_=Tl[D-1])>>4)*j+(8-(15&_)))?_:1;var _}function ha(j,D,_){var I=K(_),J=j[D+=255&I].g-8;return 0<J&&(ae(_,_.u+8),I=K(_),D+=j[D].value,D+=I&(1<<J)-1),ae(_,_.u+j[D].g),j[D].value}function Oa(j,D,_){return _.g+=j.g,_.value+=j.value<<D>>>0,t(8>=_.g),j.g}function rr(j,D,_){var I=j.xc;return t((D=I==0?0:j.vc[j.md*(_>>I)+(D>>I)])<j.Wb),j.Ya[D]}function Bi(j,D,_,I){var J=j.ab,Z=j.c*D,ee=j.C;D=ee+D;var ne=_,ie=I;for(I=j.Ta,_=j.Ua;0<J--;){var ue=j.gc[J],ye=ee,Le=D,de=ne,Ne=ie,Ce=(ie=I,ne=_,ue.Ea);switch(t(ye<Le),t(Le<=ue.nc),ue.hc){case 2:Ma(de,Ne,(Le-ye)*Ce,ie,ne);break;case 0:var Fe=ye,Ae=Le,Oe=ie,$e=ne,Qe=(xt=ue).Ea;Fe==0&&(ic(de,Ne,null,null,1,Oe,$e),os(de,Ne+1,0,0,Qe-1,Oe,$e+1),Ne+=Qe,$e+=Qe,++Fe);for(var We=1<<xt.b,pt=We-1,ct=Ke(Qe,xt.b),Xt=xt.K,xt=xt.w+(Fe>>xt.b)*ct;Fe<Ae;){var gs=Xt,oa=xt,ts=1;for(oc(de,Ne,Oe,$e-Qe,1,Oe,$e);ts<Qe;){var dt=(ts&~pt)+We;dt>Qe&&(dt=Qe),(0,bi[gs[oa++]>>8&15])(de,Ne+ +ts,Oe,$e+ts-Qe,dt-ts,Oe,$e+ts),ts=dt}Ne+=Qe,$e+=Qe,++Fe&pt||(xt+=ct)}Le!=ue.nc&&l(ie,ne-Ce,ie,ne+(Le-ye-1)*Ce,Ce);break;case 1:for(Ce=de,Ae=Ne,Qe=(de=ue.Ea)-($e=de&~(Oe=(Ne=1<<ue.b)-1)),Fe=Ke(de,ue.b),We=ue.K,ue=ue.w+(ye>>ue.b)*Fe;ye<Le;){for(pt=We,ct=ue,Xt=new At,xt=Ae+$e,gs=Ae+de;Ae<xt;)ut(pt[ct++],Xt),cc(Xt,Ce,Ae,Ne,ie,ne),Ae+=Ne,ne+=Ne;Ae<gs&&(ut(pt[ct++],Xt),cc(Xt,Ce,Ae,Qe,ie,ne),Ae+=Qe,ne+=Qe),++ye&Oe||(ue+=Fe)}break;case 3:if(de==ie&&Ne==ne&&0<ue.b){for(Ae=ie,de=Ce=ne+(Le-ye)*Ce-($e=(Le-ye)*Ke(ue.Ea,ue.b)),Ne=ie,Oe=ne,Fe=[],$e=(Qe=$e)-1;0<=$e;--$e)Fe[$e]=Ne[Oe+$e];for($e=Qe-1;0<=$e;--$e)Ae[de+$e]=Fe[$e];t0(ue,ye,Le,ie,Ce,ie,ne)}else t0(ue,ye,Le,de,Ne,ie,ne)}ne=I,ie=_}ie!=_&&l(I,_,ne,ie,Z)}function Rr(j,D){var _=j.V,I=j.Ba+j.c*j.C,J=D-j.C;if(t(D<=j.l.o),t(16>=J),0<J){var Z=j.l,ee=j.Ta,ne=j.Ua,ie=Z.width;if(Bi(j,J,_,I),J=ne=[ne],t((_=j.C)<(I=D)),t(Z.v<Z.va),I>Z.o&&(I=Z.o),_<Z.j){var ue=Z.j-_;_=Z.j,J[0]+=ue*ie}if(_>=I?_=0:(J[0]+=4*Z.v,Z.ka=_-Z.j,Z.U=Z.va-Z.v,Z.T=I-_,_=1),_){if(ne=ne[0],11>(_=j.ca).S){var ye=_.f.RGBA,Le=(I=_.S,J=Z.U,Z=Z.T,ue=ye.eb,ye.A),de=Z;for(ye=ye.fb+j.Ma*ye.A;0<de--;){var Ne=ee,Ce=ne,Fe=J,Ae=ue,Oe=ye;switch(I){case r0:dc(Ne,Ce,Fe,Ae,Oe);break;case Ar:vi(Ne,Ce,Fe,Ae,Oe);break;case gd:vi(Ne,Ce,Fe,Ae,Oe),Co(Ae,Oe,0,Fe,1,0);break;case l0:ko(Ne,Ce,Fe,Ae,Oe);break;case Ml:Et(Ne,Ce,Fe,Ae,Oe,1);break;case n0:Et(Ne,Ce,Fe,Ae,Oe,1),Co(Ae,Oe,0,Fe,1,0);break;case fd:Et(Ne,Ce,Fe,Ae,Oe,0);break;case xc:Et(Ne,Ce,Fe,Ae,Oe,0),Co(Ae,Oe,1,Fe,1,0);break;case uc:yi(Ne,Ce,Fe,Ae,Oe);break;case i0:yi(Ne,Ce,Fe,Ae,Oe),El(Ae,Oe,Fe,1,0);break;case Vi:Un(Ne,Ce,Fe,Ae,Oe);break;default:t(0)}ne+=ie,ye+=Le}j.Ma+=Z}else alert("todo:EmitRescaledRowsYUVA");t(j.Ma<=_.height)}}j.C=D,t(j.C<=j.i)}function Vs(j){var D;if(0<j.ua)return 0;for(D=0;D<j.Wb;++D){var _=j.Ya[D].G,I=j.Ya[D].H;if(0<_[1][I[1]+0].g||0<_[2][I[2]+0].g||0<_[3][I[3]+0].g)return 0}return 1}function ma(j,D,_,I,J,Z){if(j.Z!=0){var ee=j.qd,ne=j.rd;for(t(Ni[j.Z]!=null);D<_;++D)Ni[j.Z](ee,ne,I,J,I,J,Z),ee=I,ne=J,J+=Z;j.qd=ee,j.rd=ne}}function kr(j,D){var _=j.l.ma,I=_.Z==0||_.Z==1?j.l.j:j.C;if(I=j.C<I?I:j.C,t(D<=j.l.o),D>I){var J=j.l.width,Z=_.ca,ee=_.tb+J*I,ne=j.V,ie=j.Ba+j.c*I,ue=j.gc;t(j.ab==1),t(ue[0].hc==3),Bn(ue[0],I,D,ne,ie,Z,ee),ma(_,I,D,Z,ee,J)}j.C=j.Ma=D}function hl(j,D,_,I,J,Z,ee){var ne=j.$/I,ie=j.$%I,ue=j.m,ye=j.s,Le=_+j.$,de=Le;J=_+I*J;var Ne=_+I*Z,Ce=280+ye.ua,Fe=j.Pb?ne:16777216,Ae=0<ye.ua?ye.Wa:null,Oe=ye.wc,$e=Le<Ne?rr(ye,ie,ne):null;t(j.C<Z),t(Ne<=J);var Qe=!1;e:for(;;){for(;Qe||Le<Ne;){var We=0;if(ne>=Fe){var pt=Le-_;t((Fe=j).Pb),Fe.wd=Fe.m,Fe.xd=pt,0<Fe.s.ua&&et(Fe.s.Wa,Fe.s.vb),Fe=ne+Yi}if(ie&Oe||($e=rr(ye,ie,ne)),t($e!=null),$e.Qb&&(D[Le]=$e.qb,Qe=!0),!Qe)if(ce(ue),$e.jc){We=ue,pt=D;var ct=Le,Xt=$e.pd[K(We)&Gi-1];t($e.jc),256>Xt.g?(ae(We,We.u+Xt.g),pt[ct]=Xt.value,We=0):(ae(We,We.u+Xt.g-256),t(256<=Xt.value),We=Xt.value),We==0&&(Qe=!0)}else We=ha($e.G[0],$e.H[0],ue);if(ue.h)break;if(Qe||256>We){if(!Qe)if($e.nd)D[Le]=($e.qb|We<<8)>>>0;else{if(ce(ue),Qe=ha($e.G[1],$e.H[1],ue),ce(ue),pt=ha($e.G[2],$e.H[2],ue),ct=ha($e.G[3],$e.H[3],ue),ue.h)break;D[Le]=(ct<<24|Qe<<16|We<<8|pt)>>>0}if(Qe=!1,++Le,++ie>=I&&(ie=0,++ne,ee!=null&&ne<=Z&&!(ne%16)&&ee(j,ne),Ae!=null))for(;de<Le;)We=D[de++],Ae.X[(506832829*We&4294967295)>>>Ae.Mb]=We}else if(280>We){if(We=ul(We-256,ue),pt=ha($e.G[4],$e.H[4],ue),ce(ue),pt=xl(I,pt=ul(pt,ue)),ue.h)break;if(Le-_<pt||J-Le<We)break e;for(ct=0;ct<We;++ct)D[Le+ct]=D[Le+ct-pt];for(Le+=We,ie+=We;ie>=I;)ie-=I,++ne,ee!=null&&ne<=Z&&!(ne%16)&&ee(j,ne);if(t(Le<=J),ie&Oe&&($e=rr(ye,ie,ne)),Ae!=null)for(;de<Le;)We=D[de++],Ae.X[(506832829*We&4294967295)>>>Ae.Mb]=We}else{if(!(We<Ce))break e;for(Qe=We-280,t(Ae!=null);de<Le;)We=D[de++],Ae.X[(506832829*We&4294967295)>>>Ae.Mb]=We;We=Le,t(!(Qe>>>(pt=Ae).Xa)),D[We]=pt.X[Qe],Qe=!0}Qe||t(ue.h==oe(ue))}if(j.Pb&&ue.h&&Le<J)t(j.m.h),j.a=5,j.m=j.wd,j.$=j.xd,0<j.s.ua&&et(j.s.vb,j.s.Wa);else{if(ue.h)break e;ee?.(j,ne>Z?Z:ne),j.a=0,j.$=Le-_}return 1}return j.a=3,0}function Cl(j){t(j!=null),j.vc=null,j.yc=null,j.Ya=null;var D=j.Wa;D!=null&&(D.X=null),j.vb=null,t(j!=null)}function po(){var j=new qt;return j==null?null:(j.a=0,j.xb=mu,Zs("Predictor","VP8LPredictors"),Zs("Predictor","VP8LPredictors_C"),Zs("PredictorAdd","VP8LPredictorsAdd"),Zs("PredictorAdd","VP8LPredictorsAdd_C"),Ma=Yt,cc=Jt,dc=Da,vi=hs,yi=_t,Un=Wt,ko=fs,B.VP8LMapColor32b=In,B.VP8LMapColor8b=mr,j)}function Zl(j,D,_,I,J){var Z=1,ee=[j],ne=[D],ie=I.m,ue=I.s,ye=null,Le=0;e:for(;;){if(_)for(;Z&&te(ie,1);){var de=ee,Ne=ne,Ce=I,Fe=1,Ae=Ce.m,Oe=Ce.gc[Ce.ab],$e=te(Ae,2);if(Ce.Oc&1<<$e)Z=0;else{switch(Ce.Oc|=1<<$e,Oe.hc=$e,Oe.Ea=de[0],Oe.nc=Ne[0],Oe.K=[null],++Ce.ab,t(4>=Ce.ab),$e){case 0:case 1:Oe.b=te(Ae,3)+2,Fe=Zl(Ke(Oe.Ea,Oe.b),Ke(Oe.nc,Oe.b),0,Ce,Oe.K),Oe.K=Oe.K[0];break;case 3:var Qe,We=te(Ae,8)+1,pt=16<We?0:4<We?1:2<We?2:3;if(de[0]=Ke(Oe.Ea,pt),Oe.b=pt,Qe=Fe=Zl(We,1,0,Ce,Oe.K)){var ct,Xt=We,xt=Oe,gs=1<<(8>>xt.b),oa=o(gs);if(oa==null)Qe=0;else{var ts=xt.K[0],dt=xt.w;for(oa[0]=xt.K[0][0],ct=1;ct<1*Xt;++ct)oa[ct]=St(ts[dt+ct],oa[ct-1]);for(;ct<4*gs;++ct)oa[ct]=0;xt.K[0]=null,xt.K[0]=oa,Qe=1}}Fe=Qe;break;case 2:break;default:t(0)}Z=Fe}}if(ee=ee[0],ne=ne[0],Z&&te(ie,1)&&!(Z=1<=(Le=te(ie,4))&&11>=Le)){I.a=3;break e}var at;if(at=Z)t:{var fa,Ot,ns,Bs=I,Ja=ee,vr=ne,sa=Le,Ba=_,Dr=Bs.m,Ua=Bs.s,us=[null],Es=1,ga=0,Ps=_l[sa];s:for(;;){if(Ba&&te(Dr,1)){var Qa=te(Dr,3)+2,ba=Ke(Ja,Qa),Ms=Ke(vr,Qa),_a=ba*Ms;if(!Zl(ba,Ms,0,Bs,us))break s;for(us=us[0],Ua.xc=Qa,fa=0;fa<_a;++fa){var Us=us[fa]>>8&65535;us[fa]=Us,Us>=Es&&(Es=Us+1)}}if(Dr.h)break s;for(Ot=0;5>Ot;++Ot){var $a=Do[Ot];!Ot&&0<sa&&($a+=1<<sa),ga<$a&&(ga=$a)}var qa=c(Es*Ps,G),Ys=Es,Ds=c(Ys,me);if(Ds==null)var Lr=null;else t(65536>=Ys),Lr=Ds;var Na=o(ga);if(Lr==null||Na==null||qa==null){Bs.a=1;break s}var Lt=qa;for(fa=ns=0;fa<Es;++fa){var Mt=Lr[fa],zs=Mt.G,Qr=Mt.H,Fl=0,$r=1,Ha=0;for(Ot=0;5>Ot;++Ot){$a=Do[Ot],zs[Ot]=Lt,Qr[Ot]=ns,!Ot&&0<sa&&($a+=1<<sa);r:{var eo,to=$a,m0=Bs,aa=Na,fu=Lt,gu=ns,p0=0,ki=m0.m,Im=te(ki,1);if(i(aa,0,0,to),Im){var bu=te(ki,1)+1,vu=te(ki,1),f0=te(ki,vu==0?1:8);aa[f0]=1,bu==2&&(aa[f0=te(ki,8)]=1);var ir=1}else{var ka=o(19),jd=te(ki,4)+4;if(19<jd){m0.a=3;var so=0;break r}for(eo=0;eo<jd;++eo)ka[bd[eo]]=te(ki,3);var gc=void 0,Mo=void 0,Hn=m0,g0=ka,bc=to,b0=aa,v0=0,Si=Hn.m,yu=8,ju=c(128,G);a:for(;F(ju,0,7,g0,19);){if(te(Si,1)){var Ex=2+2*te(Si,3);if((gc=2+te(Si,Ex))>bc)break a}else gc=bc;for(Mo=0;Mo<bc&&gc--;){ce(Si);var wu=ju[0+(127&K(Si))];ae(Si,Si.u+wu.g);var ao=wu.value;if(16>ao)b0[Mo++]=ao,ao!=0&&(yu=ao);else{var Mx=ao==16,zx=ao-16,Tx=hc[zx],Nu=te(Si,zl[zx])+Tx;if(Mo+Nu>bc)break a;for(var _x=Mx?yu:0;0<Nu--;)b0[Mo++]=_x}}v0=1;break a}v0||(Hn.a=3),ir=v0}(ir=ir&&!ki.h)&&(p0=F(fu,gu,8,aa,to)),ir&&p0!=0?so=p0:(m0.a=3,so=0)}if(so==0)break s;if($r&&o0[Ot]==1&&($r=Lt[ns].g==0),Fl+=Lt[ns].g,ns+=so,3>=Ot){var zo,y0=Na[0];for(zo=1;zo<$a;++zo)Na[zo]>y0&&(y0=Na[zo]);Ha+=y0}}if(Mt.nd=$r,Mt.Qb=0,$r&&(Mt.qb=(zs[3][Qr[3]+0].value<<24|zs[1][Qr[1]+0].value<<16|zs[2][Qr[2]+0].value)>>>0,Fl==0&&256>zs[0][Qr[0]+0].value&&(Mt.Qb=1,Mt.qb+=zs[0][Qr[0]+0].value<<8)),Mt.jc=!Mt.Qb&&6>Ha,Mt.jc){var wd,Wn=Mt;for(wd=0;wd<Gi;++wd){var Ci=wd,Ai=Wn.pd[Ci],j0=Wn.G[0][Wn.H[0]+Ci];256<=j0.value?(Ai.g=j0.g+256,Ai.value=j0.value):(Ai.g=0,Ai.value=0,Ci>>=Oa(j0,8,Ai),Ci>>=Oa(Wn.G[1][Wn.H[1]+Ci],16,Ai),Ci>>=Oa(Wn.G[2][Wn.H[2]+Ci],0,Ai),Oa(Wn.G[3][Wn.H[3]+Ci],24,Ai))}}}Ua.vc=us,Ua.Wb=Es,Ua.Ya=Lr,Ua.yc=qa,at=1;break t}at=0}if(!(Z=at)){I.a=3;break e}if(0<Le){if(ue.ua=1<<Le,!re(ue.Wa,Le)){I.a=1,Z=0;break e}}else ue.ua=0;var w0=I,To=ee,Px=ne,vc=w0.s,yc=vc.xc;if(w0.c=To,w0.i=Px,vc.md=Ke(To,yc),vc.wc=yc==0?-1:(1<<yc)-1,_){I.xb=Xi;break e}if((ye=o(ee*ne))==null){I.a=1,Z=0;break e}Z=(Z=hl(I,ye,0,ee,ne,ne,null))&&!ie.h;break e}return Z?(J!=null?J[0]=ye:(t(ye==null),t(_)),I.$=0,_||Cl(ue)):Cl(ue),Z}function en(j,D){var _=j.c*j.i,I=_+D+16*D;return t(j.c<=D),j.V=o(I),j.V==null?(j.Ta=null,j.Ua=0,j.a=1,0):(j.Ta=j.V,j.Ua=j.Ba+_+D,1)}function Ui(j,D){var _=j.C,I=D-_,J=j.V,Z=j.Ba+j.c*_;for(t(D<=j.l.o);0<I;){var ee=16<I?16:I,ne=j.l.ma,ie=j.l.width,ue=ie*ee,ye=ne.ca,Le=ne.tb+ie*_,de=j.Ta,Ne=j.Ua;Bi(j,ee,J,Z),yl(de,Ne,ye,Le,ue),ma(ne,_,_+ee,ye,Le,ie),I-=ee,J+=ee*j.c,_+=ee}t(_==D),j.C=j.Ma=D}function tn(){this.ub=this.yd=this.td=this.Rb=0}function sn(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function fo(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Mn(){this.Yb=(function(){var j=[];return(function D(_,I,J){for(var Z=J[I],ee=0;ee<Z&&(_.push(J.length>I+1?[]:0),!(J.length<I+1));ee++)D(_[ee],I+1,J)})(j,0,[3,11]),j})()}function La(){this.jb=o(3),this.Wc=u([4,8],Mn),this.Xc=u([4,17],Mn)}function Yc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function ml(){this.ld=this.La=this.dd=this.tc=0}function an(){this.Na=this.la=0}function ai(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Xc(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Kc(){this.uc=this.M=this.Nb=0,this.wa=Array(new ml),this.Y=0,this.ya=Array(new Xc),this.aa=0,this.l=new ri}function Jc(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Wd(){this.cb=this.a=0,this.sc="",this.m=new q,this.Od=new tn,this.Kc=new sn,this.ed=new Yc,this.Qa=new fo,this.Ic=this.$c=this.Aa=0,this.D=new Kc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=c(8,q),this.ia=0,this.pb=c(4,ai),this.Pa=new La,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Jc),this.Hd=0,this.rb=Array(new an),this.sb=0,this.wa=Array(new ml),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Xc),this.L=this.aa=0,this.gd=u([4,2],ml),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function pl(j,D){return 0>j?0:j>D?D:j}function ri(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function rn(){var j=new Wd;return j!=null&&(j.a=0,j.sc="OK",j.cb=0,j.Xb=0,jl||(jl=$i)),j}function Ts(j,D,_){return j.a==0&&(j.a=D,j.sc=_,j.cb=0),0}function Qc(j,D,_){return 3<=_&&j[D+0]==157&&j[D+1]==1&&j[D+2]==42}function zn(j,D){if(j==null)return 0;if(j.a=0,j.sc="OK",D==null)return Ts(j,2,"null VP8Io passed to VP8GetHeaders()");var _=D.data,I=D.w,J=D.ha;if(4>J)return Ts(j,7,"Truncated header.");var Z=_[I+0]|_[I+1]<<8|_[I+2]<<16,ee=j.Od;if(ee.Rb=!(1&Z),ee.td=Z>>1&7,ee.yd=Z>>4&1,ee.ub=Z>>5,3<ee.td)return Ts(j,3,"Incorrect keyframe parameters.");if(!ee.yd)return Ts(j,4,"Frame not displayable.");I+=3,J-=3;var ne=j.Kc;if(ee.Rb){if(7>J)return Ts(j,7,"cannot parse picture header");if(!Qc(_,I,J))return Ts(j,3,"Bad code word");ne.c=16383&(_[I+4]<<8|_[I+3]),ne.Td=_[I+4]>>6,ne.i=16383&(_[I+6]<<8|_[I+5]),ne.Ud=_[I+6]>>6,I+=7,J-=7,j.za=ne.c+15>>4,j.Ub=ne.i+15>>4,D.width=ne.c,D.height=ne.i,D.Da=0,D.j=0,D.v=0,D.va=D.width,D.o=D.height,D.da=0,D.ib=D.width,D.hb=D.height,D.U=D.width,D.T=D.height,i((Z=j.Pa).jb,0,255,Z.jb.length),t((Z=j.Qa)!=null),Z.Cb=0,Z.Bb=0,Z.Fb=1,i(Z.Zb,0,0,Z.Zb.length),i(Z.Lb,0,0,Z.Lb)}if(ee.ub>J)return Ts(j,7,"bad partition length");H(Z=j.m,_,I,ee.ub),I+=ee.ub,J-=ee.ub,ee.Rb&&(ne.Ld=we(Z),ne.Kd=we(Z)),ne=j.Qa;var ie,ue=j.Pa;if(t(Z!=null),t(ne!=null),ne.Cb=we(Z),ne.Cb){if(ne.Bb=we(Z),we(Z)){for(ne.Fb=we(Z),ie=0;4>ie;++ie)ne.Zb[ie]=we(Z)?$(Z,7):0;for(ie=0;4>ie;++ie)ne.Lb[ie]=we(Z)?$(Z,6):0}if(ne.Bb)for(ie=0;3>ie;++ie)ue.jb[ie]=we(Z)?V(Z,8):255}else ne.Bb=0;if(Z.Ka)return Ts(j,3,"cannot parse segment header");if((ne=j.ed).zd=we(Z),ne.Tb=V(Z,6),ne.wb=V(Z,3),ne.Pc=we(Z),ne.Pc&&we(Z)){for(ue=0;4>ue;++ue)we(Z)&&(ne.vd[ue]=$(Z,6));for(ue=0;4>ue;++ue)we(Z)&&(ne.od[ue]=$(Z,6))}if(j.L=ne.Tb==0?0:ne.zd?1:2,Z.Ka)return Ts(j,3,"cannot parse filter header");var ye=J;if(J=ie=I,I=ie+ye,ne=ye,j.Xb=(1<<V(j.m,2))-1,ye<3*(ue=j.Xb))_=7;else{for(ie+=3*ue,ne-=3*ue,ye=0;ye<ue;++ye){var Le=_[J+0]|_[J+1]<<8|_[J+2]<<16;Le>ne&&(Le=ne),H(j.Jc[+ye],_,ie,Le),ie+=Le,ne-=Le,J+=3}H(j.Jc[+ue],_,ie,ne),_=ie<I?0:5}if(_!=0)return Ts(j,_,"cannot parse partitions");for(_=V(ie=j.m,7),J=we(ie)?$(ie,4):0,I=we(ie)?$(ie,4):0,ne=we(ie)?$(ie,4):0,ue=we(ie)?$(ie,4):0,ie=we(ie)?$(ie,4):0,ye=j.Qa,Le=0;4>Le;++Le){if(ye.Cb){var de=ye.Zb[Le];ye.Fb||(de+=_)}else{if(0<Le){j.pb[Le]=j.pb[0];continue}de=_}var Ne=j.pb[Le];Ne.Sc[0]=Pl[pl(de+J,127)],Ne.Sc[1]=Rl[pl(de+0,127)],Ne.Eb[0]=2*Pl[pl(de+I,127)],Ne.Eb[1]=101581*Rl[pl(de+ne,127)]>>16,8>Ne.Eb[1]&&(Ne.Eb[1]=8),Ne.Qc[0]=Pl[pl(de+ue,117)],Ne.Qc[1]=Rl[pl(de+ie,127)],Ne.lc=de+ie}if(!ee.Rb)return Ts(j,4,"Not a key frame.");for(we(Z),ee=j.Pa,_=0;4>_;++_){for(J=0;8>J;++J)for(I=0;3>I;++I)for(ne=0;11>ne;++ne)ue=Ee(Z,ia[_][J][I][ne])?V(Z,8):Dx[_][J][I][ne],ee.Wc[_][J].Yb[I][ne]=ue;for(J=0;17>J;++J)ee.Xc[_][J]=ee.Wc[_][vs[J]]}return j.kc=we(Z),j.kc&&(j.Bd=V(Z,8)),j.cb=1}function $i(j,D,_,I,J,Z,ee){var ne=D[J].Yb[_];for(_=0;16>J;++J){if(!Ee(j,ne[_+0]))return J;for(;!Ee(j,ne[_+1]);)if(ne=D[++J].Yb[0],_=0,J==16)return 16;var ie=D[J+1].Yb;if(Ee(j,ne[_+2])){var ue=j,ye=0;if(Ee(ue,(de=ne)[(Le=_)+3]))if(Ee(ue,de[Le+6])){for(ne=0,Le=2*(ye=Ee(ue,de[Le+8]))+(de=Ee(ue,de[Le+9+ye])),ye=0,de=Ax[Le];de[ne];++ne)ye+=ye+Ee(ue,de[ne]);ye+=3+(8<<Le)}else Ee(ue,de[Le+7])?(ye=7+2*Ee(ue,165),ye+=Ee(ue,145)):ye=5+Ee(ue,159);else ye=Ee(ue,de[Le+4])?3+Ee(ue,de[Le+5]):2;ne=ie[2]}else ye=1,ne=ie[1];ie=ee+hu[J],0>(ue=j).b&&pe(ue);var Le,de=ue.b,Ne=(Le=ue.Ca>>1)-(ue.I>>de)>>31;--ue.b,ue.Ca+=Ne,ue.Ca|=1,ue.I-=(Le+1&Ne)<<de,Z[ie]=((ye^Ne)-Ne)*I[(0<J)+0]}return 16}function Zc(j){var D=j.rb[j.sb-1];D.la=0,D.Na=0,i(j.zc,0,0,j.zc.length),j.ja=0}function Or(j,D,_,I,J){J=j[D+_+32*I]+(J>>3),j[D+_+32*I]=-256&J?0>J?0:255:J}function Xa(j,D,_,I,J,Z){Or(j,D,0,_,I+J),Or(j,D,1,_,I+Z),Or(j,D,2,_,I-Z),Or(j,D,3,_,I-J)}function Fa(j){return(20091*j>>16)+j}function ec(j,D,_,I){var J,Z=0,ee=o(16);for(J=0;4>J;++J){var ne=j[D+0]+j[D+8],ie=j[D+0]-j[D+8],ue=(35468*j[D+4]>>16)-Fa(j[D+12]),ye=Fa(j[D+4])+(35468*j[D+12]>>16);ee[Z+0]=ne+ye,ee[Z+1]=ie+ue,ee[Z+2]=ie-ue,ee[Z+3]=ne-ye,Z+=4,D++}for(J=Z=0;4>J;++J)ne=(j=ee[Z+0]+4)+ee[Z+8],ie=j-ee[Z+8],ue=(35468*ee[Z+4]>>16)-Fa(ee[Z+12]),Or(_,I,0,0,ne+(ye=Fa(ee[Z+4])+(35468*ee[Z+12]>>16))),Or(_,I,1,0,ie+ue),Or(_,I,2,0,ie-ue),Or(_,I,3,0,ne-ye),Z++,I+=32}function Gd(j,D,_,I){var J=j[D+0]+4,Z=35468*j[D+4]>>16,ee=Fa(j[D+4]),ne=35468*j[D+1]>>16;Xa(_,I,0,J+ee,j=Fa(j[D+1]),ne),Xa(_,I,1,J+Z,j,ne),Xa(_,I,2,J-Z,j,ne),Xa(_,I,3,J-ee,j,ne)}function ed(j,D,_,I,J){ec(j,D,_,I),J&&ec(j,D+16,_,I+4)}function Fr(j,D,_,I){ji(j,D+0,_,I,1),ji(j,D+32,_,I+128,1)}function td(j,D,_,I){var J;for(j=j[D+0]+4,J=0;4>J;++J)for(D=0;4>D;++D)Or(_,I,D,J,j)}function sd(j,D,_,I){j[D+0]&&_s(j,D+0,_,I),j[D+16]&&_s(j,D+16,_,I+4),j[D+32]&&_s(j,D+32,_,I+128),j[D+48]&&_s(j,D+48,_,I+128+4)}function ln(j,D,_,I){var J,Z=o(16);for(J=0;4>J;++J){var ee=j[D+0+J]+j[D+12+J],ne=j[D+4+J]+j[D+8+J],ie=j[D+4+J]-j[D+8+J],ue=j[D+0+J]-j[D+12+J];Z[0+J]=ee+ne,Z[8+J]=ee-ne,Z[4+J]=ue+ie,Z[12+J]=ue-ie}for(J=0;4>J;++J)ee=(j=Z[0+4*J]+3)+Z[3+4*J],ne=Z[1+4*J]+Z[2+4*J],ie=Z[1+4*J]-Z[2+4*J],ue=j-Z[3+4*J],_[I+0]=ee+ne>>3,_[I+16]=ue+ie>>3,_[I+32]=ee-ne>>3,_[I+48]=ue-ie>>3,I+=64}function go(j,D,_){var I,J=D-32,Z=Cr,ee=255-j[J-1];for(I=0;I<_;++I){var ne,ie=Z,ue=ee+j[D-1];for(ne=0;ne<_;++ne)j[D+ne]=ie[ue+j[J+ne]];D+=32}}function Vd(j,D){go(j,D,4)}function Yd(j,D){go(j,D,8)}function ad(j,D){go(j,D,16)}function rd(j,D){var _;for(_=0;16>_;++_)l(j,D+32*_,j,D-32,16)}function Xd(j,D){var _;for(_=16;0<_;--_)i(j,D,j[D-1],16),D+=32}function Kr(j,D,_){var I;for(I=0;16>I;++I)i(D,_+32*I,j,16)}function nn(j,D){var _,I=16;for(_=0;16>_;++_)I+=j[D-1+32*_]+j[D+_-32];Kr(I>>5,j,D)}function li(j,D){var _,I=8;for(_=0;16>_;++_)I+=j[D-1+32*_];Kr(I>>4,j,D)}function bo(j,D){var _,I=8;for(_=0;16>_;++_)I+=j[D+_-32];Kr(I>>4,j,D)}function qi(j,D){Kr(128,j,D)}function Rt(j,D,_){return j+2*D+_+2>>2}function Kd(j,D){var _,I=D-32;for(I=new Uint8Array([Rt(j[I-1],j[I+0],j[I+1]),Rt(j[I+0],j[I+1],j[I+2]),Rt(j[I+1],j[I+2],j[I+3]),Rt(j[I+2],j[I+3],j[I+4])]),_=0;4>_;++_)l(j,D+32*_,I,0,I.length)}function ld(j,D){var _=j[D-1],I=j[D-1+32],J=j[D-1+64],Z=j[D-1+96];Be(j,D+0,16843009*Rt(j[D-1-32],_,I)),Be(j,D+32,16843009*Rt(_,I,J)),Be(j,D+64,16843009*Rt(I,J,Z)),Be(j,D+96,16843009*Rt(J,Z,Z))}function Jd(j,D){var _,I=4;for(_=0;4>_;++_)I+=j[D+_-32]+j[D-1+32*_];for(I>>=3,_=0;4>_;++_)i(j,D+32*_,I,4)}function fl(j,D){var _=j[D-1+0],I=j[D-1+32],J=j[D-1+64],Z=j[D-1-32],ee=j[D+0-32],ne=j[D+1-32],ie=j[D+2-32],ue=j[D+3-32];j[D+0+96]=Rt(I,J,j[D-1+96]),j[D+1+96]=j[D+0+64]=Rt(_,I,J),j[D+2+96]=j[D+1+64]=j[D+0+32]=Rt(Z,_,I),j[D+3+96]=j[D+2+64]=j[D+1+32]=j[D+0+0]=Rt(ee,Z,_),j[D+3+64]=j[D+2+32]=j[D+1+0]=Rt(ne,ee,Z),j[D+3+32]=j[D+2+0]=Rt(ie,ne,ee),j[D+3+0]=Rt(ue,ie,ne)}function xr(j,D){var _=j[D+1-32],I=j[D+2-32],J=j[D+3-32],Z=j[D+4-32],ee=j[D+5-32],ne=j[D+6-32],ie=j[D+7-32];j[D+0+0]=Rt(j[D+0-32],_,I),j[D+1+0]=j[D+0+32]=Rt(_,I,J),j[D+2+0]=j[D+1+32]=j[D+0+64]=Rt(I,J,Z),j[D+3+0]=j[D+2+32]=j[D+1+64]=j[D+0+96]=Rt(J,Z,ee),j[D+3+32]=j[D+2+64]=j[D+1+96]=Rt(Z,ee,ne),j[D+3+64]=j[D+2+96]=Rt(ee,ne,ie),j[D+3+96]=Rt(ne,ie,ie)}function nd(j,D){var _=j[D-1+0],I=j[D-1+32],J=j[D-1+64],Z=j[D-1-32],ee=j[D+0-32],ne=j[D+1-32],ie=j[D+2-32],ue=j[D+3-32];j[D+0+0]=j[D+1+64]=Z+ee+1>>1,j[D+1+0]=j[D+2+64]=ee+ne+1>>1,j[D+2+0]=j[D+3+64]=ne+ie+1>>1,j[D+3+0]=ie+ue+1>>1,j[D+0+96]=Rt(J,I,_),j[D+0+64]=Rt(I,_,Z),j[D+0+32]=j[D+1+96]=Rt(_,Z,ee),j[D+1+32]=j[D+2+96]=Rt(Z,ee,ne),j[D+2+32]=j[D+3+96]=Rt(ee,ne,ie),j[D+3+32]=Rt(ne,ie,ue)}function vo(j,D){var _=j[D+0-32],I=j[D+1-32],J=j[D+2-32],Z=j[D+3-32],ee=j[D+4-32],ne=j[D+5-32],ie=j[D+6-32],ue=j[D+7-32];j[D+0+0]=_+I+1>>1,j[D+1+0]=j[D+0+64]=I+J+1>>1,j[D+2+0]=j[D+1+64]=J+Z+1>>1,j[D+3+0]=j[D+2+64]=Z+ee+1>>1,j[D+0+32]=Rt(_,I,J),j[D+1+32]=j[D+0+96]=Rt(I,J,Z),j[D+2+32]=j[D+1+96]=Rt(J,Z,ee),j[D+3+32]=j[D+2+96]=Rt(Z,ee,ne),j[D+3+64]=Rt(ee,ne,ie),j[D+3+96]=Rt(ne,ie,ue)}function gl(j,D){var _=j[D-1+0],I=j[D-1+32],J=j[D-1+64],Z=j[D-1+96];j[D+0+0]=_+I+1>>1,j[D+2+0]=j[D+0+32]=I+J+1>>1,j[D+2+32]=j[D+0+64]=J+Z+1>>1,j[D+1+0]=Rt(_,I,J),j[D+3+0]=j[D+1+32]=Rt(I,J,Z),j[D+3+32]=j[D+1+64]=Rt(J,Z,Z),j[D+3+64]=j[D+2+64]=j[D+0+96]=j[D+1+96]=j[D+2+96]=j[D+3+96]=Z}function yo(j,D){var _=j[D-1+0],I=j[D-1+32],J=j[D-1+64],Z=j[D-1+96],ee=j[D-1-32],ne=j[D+0-32],ie=j[D+1-32],ue=j[D+2-32];j[D+0+0]=j[D+2+32]=_+ee+1>>1,j[D+0+32]=j[D+2+64]=I+_+1>>1,j[D+0+64]=j[D+2+96]=J+I+1>>1,j[D+0+96]=Z+J+1>>1,j[D+3+0]=Rt(ne,ie,ue),j[D+2+0]=Rt(ee,ne,ie),j[D+1+0]=j[D+3+32]=Rt(_,ee,ne),j[D+1+32]=j[D+3+64]=Rt(I,_,ee),j[D+1+64]=j[D+3+96]=Rt(J,I,_),j[D+1+96]=Rt(Z,J,I)}function Tn(j,D){var _;for(_=0;8>_;++_)l(j,D+32*_,j,D-32,8)}function Qd(j,D){var _;for(_=0;8>_;++_)i(j,D,j[D-1],8),D+=32}function Al(j,D,_){var I;for(I=0;8>I;++I)i(D,_+32*I,j,8)}function tc(j,D){var _,I=8;for(_=0;8>_;++_)I+=j[D+_-32]+j[D-1+32*_];Al(I>>4,j,D)}function sc(j,D){var _,I=4;for(_=0;8>_;++_)I+=j[D+_-32];Al(I>>3,j,D)}function lr(j,D){var _,I=4;for(_=0;8>_;++_)I+=j[D-1+32*_];Al(I>>3,j,D)}function _n(j,D){Al(128,j,D)}function Dl(j,D,_){var I=j[D-_],J=j[D+0],Z=3*(J-I)+wi[1020+j[D-2*_]-j[D+_]],ee=pd[112+(Z+4>>3)];j[D-_]=Cr[255+I+pd[112+(Z+3>>3)]],j[D+0]=Cr[255+J-ee]}function ni(j,D,_,I){var J=j[D+0],Z=j[D+_];return pr[255+j[D-2*_]-j[D-_]]>I||pr[255+Z-J]>I}function ac(j,D,_,I){return 4*pr[255+j[D-_]-j[D+0]]+pr[255+j[D-2*_]-j[D+_]]<=I}function jo(j,D,_,I,J){var Z=j[D-3*_],ee=j[D-2*_],ne=j[D-_],ie=j[D+0],ue=j[D+_],ye=j[D+2*_],Le=j[D+3*_];return 4*pr[255+ne-ie]+pr[255+ee-ue]>I?0:pr[255+j[D-4*_]-Z]<=J&&pr[255+Z-ee]<=J&&pr[255+ee-ne]<=J&&pr[255+Le-ye]<=J&&pr[255+ye-ue]<=J&&pr[255+ue-ie]<=J}function ii(j,D,_,I){var J=2*I+1;for(I=0;16>I;++I)ac(j,D+I,_,J)&&Dl(j,D+I,_)}function oi(j,D,_,I){var J=2*I+1;for(I=0;16>I;++I)ac(j,D+I*_,1,J)&&Dl(j,D+I*_,1)}function wo(j,D,_,I){var J;for(J=3;0<J;--J)ii(j,D+=4*_,_,I)}function id(j,D,_,I){var J;for(J=3;0<J;--J)oi(j,D+=4,_,I)}function ci(j,D,_,I,J,Z,ee,ne){for(Z=2*Z+1;0<J--;){if(jo(j,D,_,Z,ee))if(ni(j,D,_,ne))Dl(j,D,_);else{var ie=j,ue=D,ye=_,Le=ie[ue-2*ye],de=ie[ue-ye],Ne=ie[ue+0],Ce=ie[ue+ye],Fe=ie[ue+2*ye],Ae=27*($e=wi[1020+3*(Ne-de)+wi[1020+Le-Ce]])+63>>7,Oe=18*$e+63>>7,$e=9*$e+63>>7;ie[ue-3*ye]=Cr[255+ie[ue-3*ye]+$e],ie[ue-2*ye]=Cr[255+Le+Oe],ie[ue-ye]=Cr[255+de+Ae],ie[ue+0]=Cr[255+Ne-Ae],ie[ue+ye]=Cr[255+Ce-Oe],ie[ue+2*ye]=Cr[255+Fe-$e]}D+=I}}function di(j,D,_,I,J,Z,ee,ne){for(Z=2*Z+1;0<J--;){if(jo(j,D,_,Z,ee))if(ni(j,D,_,ne))Dl(j,D,_);else{var ie=j,ue=D,ye=_,Le=ie[ue-ye],de=ie[ue+0],Ne=ie[ue+ye],Ce=pd[112+(4+(Fe=3*(de-Le))>>3)],Fe=pd[112+(Fe+3>>3)],Ae=Ce+1>>1;ie[ue-2*ye]=Cr[255+ie[ue-2*ye]+Ae],ie[ue-ye]=Cr[255+Le+Fe],ie[ue+0]=Cr[255+de-Ce],ie[ue+ye]=Cr[255+Ne-Ae]}D+=I}}function Zd(j,D,_,I,J,Z){ci(j,D,_,1,16,I,J,Z)}function ui(j,D,_,I,J,Z){ci(j,D,1,_,16,I,J,Z)}function e0(j,D,_,I,J,Z){var ee;for(ee=3;0<ee;--ee)di(j,D+=4*_,_,1,16,I,J,Z)}function M(j,D,_,I,J,Z){var ee;for(ee=3;0<ee;--ee)di(j,D+=4,1,_,16,I,J,Z)}function X(j,D,_,I,J,Z,ee,ne){ci(j,D,J,1,8,Z,ee,ne),ci(_,I,J,1,8,Z,ee,ne)}function xe(j,D,_,I,J,Z,ee,ne){ci(j,D,1,J,8,Z,ee,ne),ci(_,I,1,J,8,Z,ee,ne)}function be(j,D,_,I,J,Z,ee,ne){di(j,D+4*J,J,1,8,Z,ee,ne),di(_,I+4*J,J,1,8,Z,ee,ne)}function ke(j,D,_,I,J,Z,ee,ne){di(j,D+4,1,J,8,Z,ee,ne),di(_,I+4,1,J,8,Z,ee,ne)}function Ue(){this.ba=new ls,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ss,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ye(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ht(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function yt(){this.ua=0,this.Wa=new Tt,this.vb=new Tt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new me,this.yc=new G}function qt(){this.xb=this.a=0,this.l=new ri,this.ca=new ls,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Q,this.Pb=0,this.wd=new Q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new yt,this.ab=0,this.gc=c(4,ht),this.Oc=0}function es(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ri,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Cs(j,D,_,I,J,Z,ee){for(j=j==null?0:j[D+0],D=0;D<ee;++D)J[Z+D]=j+_[I+D]&255,j=J[Z+D]}function pa(j,D,_,I,J,Z,ee){var ne;if(j==null)Cs(null,null,_,I,J,Z,ee);else for(ne=0;ne<ee;++ne)J[Z+ne]=j[D+ne]+_[I+ne]&255}function Ea(j,D,_,I,J,Z,ee){if(j==null)Cs(null,null,_,I,J,Z,ee);else{var ne,ie=j[D+0],ue=ie,ye=ie;for(ne=0;ne<ee;++ne)ue=ye+(ie=j[D+ne])-ue,ye=_[I+ne]+(-256&ue?0>ue?0:255:ue)&255,ue=ie,J[Z+ne]=ye}}function ea(j,D,_,I){var J=D.width,Z=D.o;if(t(j!=null&&D!=null),0>_||0>=I||_+I>Z)return null;if(!j.Cc){if(j.ga==null){var ee;if(j.ga=new es,(ee=j.ga==null)||(ee=D.width*D.o,t(j.Gb.length==0),j.Gb=o(ee),j.Uc=0,j.Gb==null?ee=0:(j.mb=j.Gb,j.nb=j.Uc,j.rc=null,ee=1),ee=!ee),!ee){ee=j.ga;var ne=j.Fa,ie=j.P,ue=j.qc,ye=j.mb,Le=j.nb,de=ie+1,Ne=ue-1,Ce=ee.l;if(t(ne!=null&&ye!=null&&D!=null),Ni[0]=null,Ni[1]=Cs,Ni[2]=pa,Ni[3]=Ea,ee.ca=ye,ee.tb=Le,ee.c=D.width,ee.i=D.height,t(0<ee.c&&0<ee.i),1>=ue)D=0;else if(ee.$a=3&ne[ie+0],ee.Z=ne[ie+0]>>2&3,ee.Lc=ne[ie+0]>>4&3,ie=ne[ie+0]>>6&3,0>ee.$a||1<ee.$a||4<=ee.Z||1<ee.Lc||ie)D=0;else if(Ce.put=Dt,Ce.ac=Sl,Ce.bc=si,Ce.ma=ee,Ce.width=D.width,Ce.height=D.height,Ce.Da=D.Da,Ce.v=D.v,Ce.va=D.va,Ce.j=D.j,Ce.o=D.o,ee.$a)e:{t(ee.$a==1),D=po();t:for(;;){if(D==null){D=0;break e}if(t(ee!=null),ee.mc=D,D.c=ee.c,D.i=ee.i,D.l=ee.l,D.l.ma=ee,D.l.width=ee.c,D.l.height=ee.i,D.a=0,le(D.m,ne,de,Ne),!Zl(ee.c,ee.i,1,D,null)||(D.ab==1&&D.gc[0].hc==3&&Vs(D.s)?(ee.ic=1,ne=D.c*D.i,D.Ta=null,D.Ua=0,D.V=o(ne),D.Ba=0,D.V==null?(D.a=1,D=0):D=1):(ee.ic=0,D=en(D,ee.c)),!D))break t;D=1;break e}ee.mc=null,D=0}else D=Ne>=ee.c*ee.i;ee=!D}if(ee)return null;j.ga.Lc!=1?j.Ga=0:I=Z-_}t(j.ga!=null),t(_+I<=Z);e:{if(D=(ne=j.ga).c,Z=ne.l.o,ne.$a==0){if(de=j.rc,Ne=j.Vc,Ce=j.Fa,ie=j.P+1+_*D,ue=j.mb,ye=j.nb+_*D,t(ie<=j.P+j.qc),ne.Z!=0)for(t(Ni[ne.Z]!=null),ee=0;ee<I;++ee)Ni[ne.Z](de,Ne,Ce,ie,ue,ye,D),de=ue,Ne=ye,ye+=D,ie+=D;else for(ee=0;ee<I;++ee)l(ue,ye,Ce,ie,D),de=ue,Ne=ye,ye+=D,ie+=D;j.rc=de,j.Vc=Ne}else{if(t(ne.mc!=null),D=_+I,t((ee=ne.mc)!=null),t(D<=ee.i),ee.C>=D)D=1;else if(ne.ic||on(),ne.ic){ne=ee.V,de=ee.Ba,Ne=ee.c;var Fe=ee.i,Ae=(Ce=1,ie=ee.$/Ne,ue=ee.$%Ne,ye=ee.m,Le=ee.s,ee.$),Oe=Ne*Fe,$e=Ne*D,Qe=Le.wc,We=Ae<$e?rr(Le,ue,ie):null;t(Ae<=Oe),t(D<=Fe),t(Vs(Le));t:for(;;){for(;!ye.h&&Ae<$e;){if(ue&Qe||(We=rr(Le,ue,ie)),t(We!=null),ce(ye),256>(Fe=ha(We.G[0],We.H[0],ye)))ne[de+Ae]=Fe,++Ae,++ue>=Ne&&(ue=0,++ie<=D&&!(ie%16)&&kr(ee,ie));else{if(!(280>Fe)){Ce=0;break t}Fe=ul(Fe-256,ye);var pt,ct=ha(We.G[4],We.H[4],ye);if(ce(ye),!(Ae>=(ct=xl(Ne,ct=ul(ct,ye)))&&Oe-Ae>=Fe)){Ce=0;break t}for(pt=0;pt<Fe;++pt)ne[de+Ae+pt]=ne[de+Ae+pt-ct];for(Ae+=Fe,ue+=Fe;ue>=Ne;)ue-=Ne,++ie<=D&&!(ie%16)&&kr(ee,ie);Ae<$e&&ue&Qe&&(We=rr(Le,ue,ie))}t(ye.h==oe(ye))}kr(ee,ie>D?D:ie);break t}!Ce||ye.h&&Ae<Oe?(Ce=0,ee.a=ye.h?5:3):ee.$=Ae,D=Ce}else D=hl(ee,ee.V,ee.Ba,ee.c,ee.i,D,Ui);if(!D){I=0;break e}}_+I>=Z&&(j.Cc=1),I=1}if(!I)return null;if(j.Cc&&((I=j.ga)!=null&&(I.mc=null),j.ga=null,0<j.Ga))return alert("todo:WebPDequantizeLevels"),null}return j.nb+_*J}function Ka(j,D,_,I,J,Z){for(;0<J--;){var ee,ne=j,ie=D+(_?1:0),ue=j,ye=D+(_?0:3);for(ee=0;ee<I;++ee){var Le=ue[ye+4*ee];Le!=255&&(Le*=32897,ne[ie+4*ee+0]=ne[ie+4*ee+0]*Le>>23,ne[ie+4*ee+1]=ne[ie+4*ee+1]*Le>>23,ne[ie+4*ee+2]=ne[ie+4*ee+2]*Le>>23)}D+=Z}}function Ia(j,D,_,I,J){for(;0<I--;){var Z;for(Z=0;Z<_;++Z){var ee=j[D+2*Z+0],ne=15&(ue=j[D+2*Z+1]),ie=4369*ne,ue=(240&ue|ue>>4)*ie>>16;j[D+2*Z+0]=(240&ee|ee>>4)*ie>>16&240|(15&ee|ee<<4)*ie>>16>>4&15,j[D+2*Z+1]=240&ue|ne}D+=J}}function hr(j,D,_,I,J,Z,ee,ne){var ie,ue,ye=255;for(ue=0;ue<J;++ue){for(ie=0;ie<I;++ie){var Le=j[D+ie];Z[ee+4*ie]=Le,ye&=Le}D+=_,ee+=ne}return ye!=255}function xi(j,D,_,I,J){var Z;for(Z=0;Z<J;++Z)_[I+Z]=j[D+Z]>>8}function on(){Co=Ka,El=Ia,xd=hr,yl=xi}function hi(j,D,_){B[j]=function(I,J,Z,ee,ne,ie,ue,ye,Le,de,Ne,Ce,Fe,Ae,Oe,$e,Qe){var We,pt=Qe-1>>1,ct=ne[ie+0]|ue[ye+0]<<16,Xt=Le[de+0]|Ne[Ce+0]<<16;t(I!=null);var xt=3*ct+Xt+131074>>2;for(D(I[J+0],255&xt,xt>>16,Fe,Ae),Z!=null&&(xt=3*Xt+ct+131074>>2,D(Z[ee+0],255&xt,xt>>16,Oe,$e)),We=1;We<=pt;++We){var gs=ne[ie+We]|ue[ye+We]<<16,oa=Le[de+We]|Ne[Ce+We]<<16,ts=ct+gs+Xt+oa+524296,dt=ts+2*(gs+Xt)>>3;xt=dt+ct>>1,ct=(ts=ts+2*(ct+oa)>>3)+gs>>1,D(I[J+2*We-1],255&xt,xt>>16,Fe,Ae+(2*We-1)*_),D(I[J+2*We-0],255&ct,ct>>16,Fe,Ae+(2*We-0)*_),Z!=null&&(xt=ts+Xt>>1,ct=dt+oa>>1,D(Z[ee+2*We-1],255&xt,xt>>16,Oe,$e+(2*We-1)*_),D(Z[ee+2*We+0],255&ct,ct>>16,Oe,$e+(2*We+0)*_)),ct=gs,Xt=oa}1&Qe||(xt=3*ct+Xt+131074>>2,D(I[J+Qe-1],255&xt,xt>>16,Fe,Ae+(Qe-1)*_),Z!=null&&(xt=3*Xt+ct+131074>>2,D(Z[ee+Qe-1],255&xt,xt>>16,Oe,$e+(Qe-1)*_)))}}function od(){gr[r0]=Lo,gr[Ar]=mc,gr[l0]=pu,gr[Ml]=d0,gr[fd]=Ki,gr[uc]=qn,gr[Vi]=Ji,gr[gd]=mc,gr[n0]=d0,gr[xc]=Ki,gr[i0]=qn}function rc(j){return j&-16384?0>j?0:255:j>>u0}function Pn(j,D){return rc((19077*j>>8)+(26149*D>>8)-14234)}function cn(j,D,_){return rc((19077*j>>8)-(6419*D>>8)-(13320*_>>8)+8708)}function No(j,D){return rc((19077*j>>8)+(33050*D>>8)-17685)}function mi(j,D,_,I,J){I[J+0]=Pn(j,_),I[J+1]=cn(j,D,_),I[J+2]=No(j,D)}function nr(j,D,_,I,J){I[J+0]=No(j,D),I[J+1]=cn(j,D,_),I[J+2]=Pn(j,_)}function Hi(j,D,_,I,J){var Z=cn(j,D,_);D=Z<<3&224|No(j,D)>>3,I[J+0]=248&Pn(j,_)|Z>>5,I[J+1]=D}function Wi(j,D,_,I,J){var Z=240&No(j,D)|15;I[J+0]=240&Pn(j,_)|cn(j,D,_)>>4,I[J+1]=Z}function lc(j,D,_,I,J){I[J+0]=255,mi(j,D,_,I,J+1)}function Rn(j,D,_,I,J){nr(j,D,_,I,J),I[J+3]=255}function Ir(j,D,_,I,J){mi(j,D,_,I,J),I[J+3]=255}function pi(j,D,_){B[j]=function(I,J,Z,ee,ne,ie,ue,ye,Le){for(var de=ye+(-2&Le)*_;ye!=de;)D(I[J+0],Z[ee+0],ne[ie+0],ue,ye),D(I[J+1],Z[ee+0],ne[ie+0],ue,ye+_),J+=2,++ee,++ie,ye+=2*_;1&Le&&D(I[J+0],Z[ee+0],ne[ie+0],ue,ye)}}function nc(j,D,_){return _==0?j==0?D==0?6:5:D==0?4:0:_}function cd(j,D,_,I,J){switch(j>>>30){case 3:ji(D,_,I,J,0);break;case 2:Sr(D,_,I,J);break;case 1:_s(D,_,I,J)}}function bl(j,D){var _,I,J=D.M,Z=D.Nb,ee=j.oc,ne=j.pc+40,ie=j.oc,ue=j.pc+584,ye=j.oc,Le=j.pc+600;for(_=0;16>_;++_)ee[ne+32*_-1]=129;for(_=0;8>_;++_)ie[ue+32*_-1]=129,ye[Le+32*_-1]=129;for(0<J?ee[ne-1-32]=ie[ue-1-32]=ye[Le-1-32]=129:(i(ee,ne-32-1,127,21),i(ie,ue-32-1,127,9),i(ye,Le-32-1,127,9)),I=0;I<j.za;++I){var de=D.ya[D.aa+I];if(0<I){for(_=-1;16>_;++_)l(ee,ne+32*_-4,ee,ne+32*_+12,4);for(_=-1;8>_;++_)l(ie,ue+32*_-4,ie,ue+32*_+4,4),l(ye,Le+32*_-4,ye,Le+32*_+4,4)}var Ne=j.Gd,Ce=j.Hd+I,Fe=de.ad,Ae=de.Hc;if(0<J&&(l(ee,ne-32,Ne[Ce].y,0,16),l(ie,ue-32,Ne[Ce].f,0,8),l(ye,Le-32,Ne[Ce].ea,0,8)),de.Za){var Oe=ee,$e=ne-32+16;for(0<J&&(I>=j.za-1?i(Oe,$e,Ne[Ce].y[15],4):l(Oe,$e,Ne[Ce+1].y,0,4)),_=0;4>_;_++)Oe[$e+128+_]=Oe[$e+256+_]=Oe[$e+384+_]=Oe[$e+0+_];for(_=0;16>_;++_,Ae<<=2)Oe=ee,$e=ne+Ta[_],wa[de.Ob[_]](Oe,$e),cd(Ae,Fe,16*+_,Oe,$e)}else if(Oe=nc(I,J,de.Ob[0]),Ur[Oe](ee,ne),Ae!=0)for(_=0;16>_;++_,Ae<<=2)cd(Ae,Fe,16*+_,ee,ne+Ta[_]);for(_=de.Gc,Oe=nc(I,J,de.Dd),hn[Oe](ie,ue),hn[Oe](ye,Le),Ae=Fe,Oe=ie,$e=ue,255&(de=0|_)&&(170&de?Ll(Ae,256,Oe,$e):As(Ae,256,Oe,$e)),de=ye,Ae=Le,255&(_>>=8)&&(170&_?Ll(Fe,320,de,Ae):As(Fe,320,de,Ae)),J<j.Ub-1&&(l(Ne[Ce].y,0,ee,ne+480,16),l(Ne[Ce].f,0,ie,ue+224,8),l(Ne[Ce].ea,0,ye,Le+224,8)),_=8*Z*j.B,Ne=j.sa,Ce=j.ta+16*I+16*Z*j.R,Fe=j.qa,de=j.ra+8*I+_,Ae=j.Ha,Oe=j.Ia+8*I+_,_=0;16>_;++_)l(Ne,Ce+_*j.R,ee,ne+32*_,16);for(_=0;8>_;++_)l(Fe,de+_*j.B,ie,ue+32*_,8),l(Ae,Oe+_*j.B,ye,Le+32*_,8)}}function dn(j,D,_,I,J,Z,ee,ne,ie){var ue=[0],ye=[0],Le=0,de=ie!=null?ie.kd:0,Ne=ie??new Ye;if(j==null||12>_)return 7;Ne.data=j,Ne.w=D,Ne.ha=_,D=[D],_=[_],Ne.gb=[Ne.gb];e:{var Ce=D,Fe=_,Ae=Ne.gb;if(t(j!=null),t(Fe!=null),t(Ae!=null),Ae[0]=0,12<=Fe[0]&&!a(j,Ce[0],"RIFF")){if(a(j,Ce[0]+8,"WEBP")){Ae=3;break e}var Oe=he(j,Ce[0]+4);if(12>Oe||4294967286<Oe){Ae=3;break e}if(de&&Oe>Fe[0]-8){Ae=7;break e}Ae[0]=Oe,Ce[0]+=12,Fe[0]-=12}Ae=0}if(Ae!=0)return Ae;for(Oe=0<Ne.gb[0],_=_[0];;){e:{var $e=j;Fe=D,Ae=_;var Qe=ue,We=ye,pt=Ce=[0];if((xt=Le=[Le])[0]=0,8>Ae[0])Ae=7;else{if(!a($e,Fe[0],"VP8X")){if(he($e,Fe[0]+4)!=10){Ae=3;break e}if(18>Ae[0]){Ae=7;break e}var ct=he($e,Fe[0]+8),Xt=1+tt($e,Fe[0]+12);if(2147483648<=Xt*($e=1+tt($e,Fe[0]+15))){Ae=3;break e}pt!=null&&(pt[0]=ct),Qe!=null&&(Qe[0]=Xt),We!=null&&(We[0]=$e),Fe[0]+=18,Ae[0]-=18,xt[0]=1}Ae=0}}if(Le=Le[0],Ce=Ce[0],Ae!=0)return Ae;if(Fe=!!(2&Ce),!Oe&&Le)return 3;if(Z!=null&&(Z[0]=!!(16&Ce)),ee!=null&&(ee[0]=Fe),ne!=null&&(ne[0]=0),ee=ue[0],Ce=ye[0],Le&&Fe&&ie==null){Ae=0;break}if(4>_){Ae=7;break}if(Oe&&Le||!Oe&&!Le&&!a(j,D[0],"ALPH")){_=[_],Ne.na=[Ne.na],Ne.P=[Ne.P],Ne.Sa=[Ne.Sa];e:{ct=j,Ae=D,Oe=_;var xt=Ne.gb;Qe=Ne.na,We=Ne.P,pt=Ne.Sa,Xt=22,t(ct!=null),t(Oe!=null),$e=Ae[0];var gs=Oe[0];for(t(Qe!=null),t(pt!=null),Qe[0]=null,We[0]=null,pt[0]=0;;){if(Ae[0]=$e,Oe[0]=gs,8>gs){Ae=7;break e}var oa=he(ct,$e+4);if(4294967286<oa){Ae=3;break e}var ts=8+oa+1&-2;if(Xt+=ts,0<xt&&Xt>xt){Ae=3;break e}if(!a(ct,$e,"VP8 ")||!a(ct,$e,"VP8L")){Ae=0;break e}if(gs[0]<ts){Ae=7;break e}a(ct,$e,"ALPH")||(Qe[0]=ct,We[0]=$e+8,pt[0]=oa),$e+=ts,gs-=ts}}if(_=_[0],Ne.na=Ne.na[0],Ne.P=Ne.P[0],Ne.Sa=Ne.Sa[0],Ae!=0)break}_=[_],Ne.Ja=[Ne.Ja],Ne.xa=[Ne.xa];e:if(xt=j,Ae=D,Oe=_,Qe=Ne.gb[0],We=Ne.Ja,pt=Ne.xa,ct=Ae[0],$e=!a(xt,ct,"VP8 "),Xt=!a(xt,ct,"VP8L"),t(xt!=null),t(Oe!=null),t(We!=null),t(pt!=null),8>Oe[0])Ae=7;else{if($e||Xt){if(xt=he(xt,ct+4),12<=Qe&&xt>Qe-12){Ae=3;break e}if(de&&xt>Oe[0]-8){Ae=7;break e}We[0]=xt,Ae[0]+=8,Oe[0]-=8,pt[0]=Xt}else pt[0]=5<=Oe[0]&&xt[ct+0]==47&&!(xt[ct+4]>>5),We[0]=Oe[0];Ae=0}if(_=_[0],Ne.Ja=Ne.Ja[0],Ne.xa=Ne.xa[0],D=D[0],Ae!=0)break;if(4294967286<Ne.Ja)return 3;if(ne==null||Fe||(ne[0]=Ne.xa?2:1),ee=[ee],Ce=[Ce],Ne.xa){if(5>_){Ae=7;break}ne=ee,de=Ce,Fe=Z,j==null||5>_?j=0:5<=_&&j[D+0]==47&&!(j[D+4]>>5)?(Oe=[0],xt=[0],Qe=[0],le(We=new Q,j,D,_),En(We,Oe,xt,Qe)?(ne!=null&&(ne[0]=Oe[0]),de!=null&&(de[0]=xt[0]),Fe!=null&&(Fe[0]=Qe[0]),j=1):j=0):j=0}else{if(10>_){Ae=7;break}ne=Ce,j==null||10>_||!Qc(j,D+3,_-3)?j=0:(de=j[D+0]|j[D+1]<<8|j[D+2]<<16,Fe=16383&(j[D+7]<<8|j[D+6]),j=16383&(j[D+9]<<8|j[D+8]),1&de||3<(de>>1&7)||!(de>>4&1)||de>>5>=Ne.Ja||!Fe||!j?j=0:(ee&&(ee[0]=Fe),ne&&(ne[0]=j),j=1))}if(!j||(ee=ee[0],Ce=Ce[0],Le&&(ue[0]!=ee||ye[0]!=Ce)))return 3;ie!=null&&(ie[0]=Ne,ie.offset=D-ie.w,t(4294967286>D-ie.w),t(ie.offset==ie.ha-_));break}return Ae==0||Ae==7&&Le&&ie==null?(Z!=null&&(Z[0]|=Ne.na!=null&&0<Ne.na.length),I!=null&&(I[0]=ee),J!=null&&(J[0]=Ce),0):Ae}function fi(j,D,_){var I=D.width,J=D.height,Z=0,ee=0,ne=I,ie=J;if(D.Da=j!=null&&0<j.Da,D.Da&&(ne=j.cd,ie=j.bd,Z=j.v,ee=j.j,11>_||(Z&=-2,ee&=-2),0>Z||0>ee||0>=ne||0>=ie||Z+ne>I||ee+ie>J))return 0;if(D.v=Z,D.j=ee,D.va=Z+ne,D.o=ee+ie,D.U=ne,D.T=ie,D.da=j!=null&&0<j.da,D.da){if(!Nt(ne,ie,_=[j.ib],Z=[j.hb]))return 0;D.ib=_[0],D.hb=Z[0]}return D.ob=j!=null&&j.ob,D.Kb=j==null||!j.Sd,D.da&&(D.ob=D.ib<3*I/4&&D.hb<3*J/4,D.Kb=0),1}function dd(j){if(j==null)return 2;if(11>j.S){var D=j.f.RGBA;D.fb+=(j.height-1)*D.A,D.A=-D.A}else D=j.f.kb,j=j.height,D.O+=(j-1)*D.fa,D.fa=-D.fa,D.N+=(j-1>>1)*D.Ab,D.Ab=-D.Ab,D.W+=(j-1>>1)*D.Db,D.Db=-D.Db,D.F!=null&&(D.J+=(j-1)*D.lb,D.lb=-D.lb);return 0}function un(j,D,_,I){if(I==null||0>=j||0>=D)return 2;if(_!=null){if(_.Da){var J=_.cd,Z=_.bd,ee=-2&_.v,ne=-2&_.j;if(0>ee||0>ne||0>=J||0>=Z||ee+J>j||ne+Z>D)return 2;j=J,D=Z}if(_.da){if(!Nt(j,D,J=[_.ib],Z=[_.hb]))return 2;j=J[0],D=Z[0]}}I.width=j,I.height=D;e:{var ie=I.width,ue=I.height;if(j=I.S,0>=ie||0>=ue||!(j>=r0&&13>j))j=2;else{if(0>=I.Rd&&I.sd==null){ee=Z=J=D=0;var ye=(ne=ie*h0[j])*ue;if(11>j||(Z=(ue+1)/2*(D=(ie+1)/2),j==12&&(ee=(J=ie)*ue)),(ue=o(ye+2*Z+ee))==null){j=1;break e}I.sd=ue,11>j?((ie=I.f.RGBA).eb=ue,ie.fb=0,ie.A=ne,ie.size=ye):((ie=I.f.kb).y=ue,ie.O=0,ie.fa=ne,ie.Fd=ye,ie.f=ue,ie.N=0+ye,ie.Ab=D,ie.Cd=Z,ie.ea=ue,ie.W=0+ye+Z,ie.Db=D,ie.Ed=Z,j==12&&(ie.F=ue,ie.J=0+ye+2*Z),ie.Tc=ee,ie.lb=J)}if(D=1,J=I.S,Z=I.width,ee=I.height,J>=r0&&13>J)if(11>J)j=I.f.RGBA,D&=(ne=Math.abs(j.A))*(ee-1)+Z<=j.size,D&=ne>=Z*h0[J],D&=j.eb!=null;else{j=I.f.kb,ne=(Z+1)/2,ye=(ee+1)/2,ie=Math.abs(j.fa),ue=Math.abs(j.Ab);var Le=Math.abs(j.Db),de=Math.abs(j.lb),Ne=de*(ee-1)+Z;D&=ie*(ee-1)+Z<=j.Fd,D&=ue*(ye-1)+ne<=j.Cd,D=(D&=Le*(ye-1)+ne<=j.Ed)&ie>=Z&ue>=ne&Le>=ne,D&=j.y!=null,D&=j.f!=null,D&=j.ea!=null,J==12&&(D&=de>=Z,D&=Ne<=j.Tc,D&=j.F!=null)}else D=0;j=D?0:2}}return j!=0||_!=null&&_.fd&&(j=dd(I)),j}var Gi=64,Jr=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Br=24,On=32,Fn=8,gi=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];nt("Predictor0","PredictorAdd0"),B.Predictor0=function(){return 4278190080},B.Predictor1=function(j){return j},B.Predictor2=function(j,D,_){return D[_+0]},B.Predictor3=function(j,D,_){return D[_+1]},B.Predictor4=function(j,D,_){return D[_-1]},B.Predictor5=function(j,D,_){return bt(bt(j,D[_+1]),D[_+0])},B.Predictor6=function(j,D,_){return bt(j,D[_-1])},B.Predictor7=function(j,D,_){return bt(j,D[_+0])},B.Predictor8=function(j,D,_){return bt(D[_-1],D[_+0])},B.Predictor9=function(j,D,_){return bt(D[_+0],D[_+1])},B.Predictor10=function(j,D,_){return bt(bt(j,D[_-1]),bt(D[_+0],D[_+1]))},B.Predictor11=function(j,D,_){var I=D[_+0];return 0>=vt(I>>24&255,j>>24&255,(D=D[_-1])>>24&255)+vt(I>>16&255,j>>16&255,D>>16&255)+vt(I>>8&255,j>>8&255,D>>8&255)+vt(255&I,255&j,255&D)?I:j},B.Predictor12=function(j,D,_){var I=D[_+0];return(Ge((j>>24&255)+(I>>24&255)-((D=D[_-1])>>24&255))<<24|Ge((j>>16&255)+(I>>16&255)-(D>>16&255))<<16|Ge((j>>8&255)+(I>>8&255)-(D>>8&255))<<8|Ge((255&j)+(255&I)-(255&D)))>>>0},B.Predictor13=function(j,D,_){var I=D[_-1];return(Bt((j=bt(j,D[_+0]))>>24&255,I>>24&255)<<24|Bt(j>>16&255,I>>16&255)<<16|Bt(j>>8&255,I>>8&255)<<8|Bt(255&j,255&I))>>>0};var ic=B.PredictorAdd0;B.PredictorAdd1=os,nt("Predictor2","PredictorAdd2"),nt("Predictor3","PredictorAdd3"),nt("Predictor4","PredictorAdd4"),nt("Predictor5","PredictorAdd5"),nt("Predictor6","PredictorAdd6"),nt("Predictor7","PredictorAdd7"),nt("Predictor8","PredictorAdd8"),nt("Predictor9","PredictorAdd9"),nt("Predictor10","PredictorAdd10"),nt("Predictor11","PredictorAdd11"),nt("Predictor12","PredictorAdd12"),nt("Predictor13","PredictorAdd13");var oc=B.PredictorAdd2;kt("ColorIndexInverseTransform","MapARGB","32b",function(j){return j>>8&255},function(j){return j}),kt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(j){return j},function(j){return j>>8&255});var Ma,t0=B.ColorIndexInverseTransform,In=B.MapARGB,Bn=B.VP8LColorIndexInverseTransformAlpha,mr=B.MapAlpha,bi=B.VP8LPredictorsAdd=[];bi.length=16,(B.VP8LPredictors=[]).length=16,(B.VP8LPredictorsAdd_C=[]).length=16,(B.VP8LPredictors_C=[]).length=16;var cc,dc,vi,yi,Un,ko,vl,ji,Sr,Ll,_s,As,ta,za,$n,xn,So,ud,du,kx,Sx,Cx,uu,xu,Co,El,xd,yl,Ao=o(511),s0=o(2041),hd=o(225),md=o(767),a0=0,wi=s0,pd=hd,Cr=md,pr=Ao,r0=0,Ar=1,l0=2,Ml=3,fd=4,uc=5,Vi=6,gd=7,n0=8,xc=9,i0=10,zl=[2,3,7],hc=[3,3,11],Do=[280,256,256,256,40],o0=[0,1,1,1,0],bd=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Tl=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],_l=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Yi=8,Pl=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Rl=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],jl=null,Ax=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],hu=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],c0=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Dx=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],fr=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ia=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],vs=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ur=[],wa=[],hn=[],Xi=1,mu=2,Ni=[],gr=[];hi("UpsampleRgbLinePair",mi,3),hi("UpsampleBgrLinePair",nr,3),hi("UpsampleRgbaLinePair",Ir,4),hi("UpsampleBgraLinePair",Rn,4),hi("UpsampleArgbLinePair",lc,4),hi("UpsampleRgba4444LinePair",Wi,2),hi("UpsampleRgb565LinePair",Hi,2);var Lo=B.UpsampleRgbLinePair,pu=B.UpsampleBgrLinePair,mc=B.UpsampleRgbaLinePair,d0=B.UpsampleBgraLinePair,Ki=B.UpsampleArgbLinePair,qn=B.UpsampleRgba4444LinePair,Ji=B.UpsampleRgb565LinePair,Ol=16,pc=1<<Ol-1,Eo=-227,Qi=482,u0=6,Zi=0,br=o(256),x0=o(256),Lx=o(256),Rm=o(256),Om=o(Qi-Eo),Fm=o(Qi-Eo);pi("YuvToRgbRow",mi,3),pi("YuvToBgrRow",nr,3),pi("YuvToRgbaRow",Ir,4),pi("YuvToBgraRow",Rn,4),pi("YuvToArgbRow",lc,4),pi("YuvToRgba4444Row",Wi,2),pi("YuvToRgb565Row",Hi,2);var Ta=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],fc=[0,2,8],vd=[8,7,6,4,4,2,2,2,1,1,1,1],yd=1;this.WebPDecodeRGBA=function(j,D,_,I,J){var Z=Ar,ee=new Ue,ne=new ls;ee.ba=ne,ne.S=Z,ne.width=[ne.width],ne.height=[ne.height];var ie=ne.width,ue=ne.height,ye=new Ct;if(ye==null||j==null)var Le=2;else t(ye!=null),Le=dn(j,D,_,ye.width,ye.height,ye.Pd,ye.Qd,ye.format,null);if(Le!=0?ie=0:(ie!=null&&(ie[0]=ye.width[0]),ue!=null&&(ue[0]=ye.height[0]),ie=1),ie){ne.width=ne.width[0],ne.height=ne.height[0],I!=null&&(I[0]=ne.width),J!=null&&(J[0]=ne.height);e:{if(I=new ri,(J=new Ye).data=j,J.w=D,J.ha=_,J.kd=1,D=[0],t(J!=null),((j=dn(J.data,J.w,J.ha,null,null,null,D,null,J))==0||j==7)&&D[0]&&(j=4),(D=j)==0){if(t(ee!=null),I.data=J.data,I.w=J.w+J.offset,I.ha=J.ha-J.offset,I.put=Dt,I.ac=Sl,I.bc=si,I.ma=ee,J.xa){if((j=po())==null){ee=1;break e}if((function(de,Ne){var Ce=[0],Fe=[0],Ae=[0];t:for(;;){if(de==null)return 0;if(Ne==null)return de.a=2,0;if(de.l=Ne,de.a=0,le(de.m,Ne.data,Ne.w,Ne.ha),!En(de.m,Ce,Fe,Ae)){de.a=3;break t}if(de.xb=mu,Ne.width=Ce[0],Ne.height=Fe[0],!Zl(Ce[0],Fe[0],1,de,null))break t;return 1}return t(de.a!=0),0})(j,I)){if(I=(D=un(I.width,I.height,ee.Oa,ee.ba))==0){t:{I=j;s:for(;;){if(I==null){I=0;break t}if(t(I.s.yc!=null),t(I.s.Ya!=null),t(0<I.s.Wb),t((_=I.l)!=null),t((J=_.ma)!=null),I.xb!=0){if(I.ca=J.ba,I.tb=J.tb,t(I.ca!=null),!fi(J.Oa,_,Ml)){I.a=2;break s}if(!en(I,_.width)||_.da)break s;if((_.da||Ut(I.ca.S))&&on(),11>I.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),I.ca.f.kb.F!=null&&on()),I.Pb&&0<I.s.ua&&I.s.vb.X==null&&!re(I.s.vb,I.s.Wa.Xa)){I.a=1;break s}I.xb=0}if(!hl(I,I.V,I.Ba,I.c,I.i,_.o,Rr))break s;J.Dc=I.Ma,I=1;break t}t(I.a!=0),I=0}I=!I}I&&(D=j.a)}else D=j.a}else{if((j=new rn)==null){ee=1;break e}if(j.Fa=J.na,j.P=J.P,j.qc=J.Sa,zn(j,I)){if((D=un(I.width,I.height,ee.Oa,ee.ba))==0){if(j.Aa=0,_=ee.Oa,t((J=j)!=null),_!=null){if(0<(ie=0>(ie=_.Md)?0:100<ie?255:255*ie/100)){for(ue=ye=0;4>ue;++ue)12>(Le=J.pb[ue]).lc&&(Le.ia=ie*vd[0>Le.lc?0:Le.lc]>>3),ye|=Le.ia;ye&&(alert("todo:VP8InitRandom"),J.ia=1)}J.Ga=_.Id,100<J.Ga?J.Ga=100:0>J.Ga&&(J.Ga=0)}(function(de,Ne){if(de==null)return 0;if(Ne==null)return Ts(de,2,"NULL VP8Io parameter in VP8Decode().");if(!de.cb&&!zn(de,Ne))return 0;if(t(de.cb),Ne.ac==null||Ne.ac(Ne)){Ne.ob&&(de.L=0);var Ce=fc[de.L];if(de.L==2?(de.yb=0,de.zb=0):(de.yb=Ne.v-Ce>>4,de.zb=Ne.j-Ce>>4,0>de.yb&&(de.yb=0),0>de.zb&&(de.zb=0)),de.Va=Ne.o+15+Ce>>4,de.Hb=Ne.va+15+Ce>>4,de.Hb>de.za&&(de.Hb=de.za),de.Va>de.Ub&&(de.Va=de.Ub),0<de.L){var Fe=de.ed;for(Ce=0;4>Ce;++Ce){var Ae;if(de.Qa.Cb){var Oe=de.Qa.Lb[Ce];de.Qa.Fb||(Oe+=Fe.Tb)}else Oe=Fe.Tb;for(Ae=0;1>=Ae;++Ae){var $e=de.gd[Ce][Ae],Qe=Oe;if(Fe.Pc&&(Qe+=Fe.vd[0],Ae&&(Qe+=Fe.od[0])),0<(Qe=0>Qe?0:63<Qe?63:Qe)){var We=Qe;0<Fe.wb&&(We=4<Fe.wb?We>>2:We>>1)>9-Fe.wb&&(We=9-Fe.wb),1>We&&(We=1),$e.dd=We,$e.tc=2*Qe+We,$e.ld=40<=Qe?2:15<=Qe?1:0}else $e.tc=0;$e.La=Ae}}}Ce=0}else Ts(de,6,"Frame setup failed"),Ce=de.a;if(Ce=Ce==0){if(Ce){de.$c=0,0<de.Aa||(de.Ic=yd);t:{Ce=de.Ic,Fe=4*(We=de.za);var pt=32*We,ct=We+1,Xt=0<de.L?We*(0<de.Aa?2:1):0,xt=(de.Aa==2?2:1)*We;if(($e=Fe+832+(Ae=3*(16*Ce+fc[de.L])/2*pt)+(Oe=de.Fa!=null&&0<de.Fa.length?de.Kc.c*de.Kc.i:0))!=$e)Ce=0;else{if($e>de.Vb){if(de.Vb=0,de.Ec=o($e),de.Fc=0,de.Ec==null){Ce=Ts(de,1,"no memory during frame initialization.");break t}de.Vb=$e}$e=de.Ec,Qe=de.Fc,de.Ac=$e,de.Bc=Qe,Qe+=Fe,de.Gd=c(pt,Jc),de.Hd=0,de.rb=c(ct+1,an),de.sb=1,de.wa=Xt?c(Xt,ml):null,de.Y=0,de.D.Nb=0,de.D.wa=de.wa,de.D.Y=de.Y,0<de.Aa&&(de.D.Y+=We),t(!0),de.oc=$e,de.pc=Qe,Qe+=832,de.ya=c(xt,Xc),de.aa=0,de.D.ya=de.ya,de.D.aa=de.aa,de.Aa==2&&(de.D.aa+=We),de.R=16*We,de.B=8*We,We=(pt=fc[de.L])*de.R,pt=pt/2*de.B,de.sa=$e,de.ta=Qe+We,de.qa=de.sa,de.ra=de.ta+16*Ce*de.R+pt,de.Ha=de.qa,de.Ia=de.ra+8*Ce*de.B+pt,de.$c=0,Qe+=Ae,de.mb=Oe?$e:null,de.nb=Oe?Qe:null,t(Qe+Oe<=de.Fc+de.Vb),Zc(de),i(de.Ac,de.Bc,0,Fe),Ce=1}}if(Ce){if(Ne.ka=0,Ne.y=de.sa,Ne.O=de.ta,Ne.f=de.qa,Ne.N=de.ra,Ne.ea=de.Ha,Ne.Vd=de.Ia,Ne.fa=de.R,Ne.Rc=de.B,Ne.F=null,Ne.J=0,!a0){for(Ce=-255;255>=Ce;++Ce)Ao[255+Ce]=0>Ce?-Ce:Ce;for(Ce=-1020;1020>=Ce;++Ce)s0[1020+Ce]=-128>Ce?-128:127<Ce?127:Ce;for(Ce=-112;112>=Ce;++Ce)hd[112+Ce]=-16>Ce?-16:15<Ce?15:Ce;for(Ce=-255;510>=Ce;++Ce)md[255+Ce]=0>Ce?0:255<Ce?255:Ce;a0=1}vl=ln,ji=ed,Ll=Fr,_s=td,As=sd,Sr=Gd,ta=Zd,za=ui,$n=X,xn=xe,So=e0,ud=M,du=be,kx=ke,Sx=ii,Cx=oi,uu=wo,xu=id,wa[0]=Jd,wa[1]=Vd,wa[2]=Kd,wa[3]=ld,wa[4]=fl,wa[5]=nd,wa[6]=xr,wa[7]=vo,wa[8]=yo,wa[9]=gl,Ur[0]=nn,Ur[1]=ad,Ur[2]=rd,Ur[3]=Xd,Ur[4]=li,Ur[5]=bo,Ur[6]=qi,hn[0]=tc,hn[1]=Yd,hn[2]=Tn,hn[3]=Qd,hn[4]=lr,hn[5]=sc,hn[6]=_n,Ce=1}else Ce=0}Ce&&(Ce=(function(gs,oa){for(gs.M=0;gs.M<gs.Va;++gs.M){var ts,dt=gs.Jc[gs.M&gs.Xb],at=gs.m,fa=gs;for(ts=0;ts<fa.za;++ts){var Ot=at,ns=fa,Bs=ns.Ac,Ja=ns.Bc+4*ts,vr=ns.zc,sa=ns.ya[ns.aa+ts];if(ns.Qa.Bb?sa.$b=Ee(Ot,ns.Pa.jb[0])?2+Ee(Ot,ns.Pa.jb[2]):Ee(Ot,ns.Pa.jb[1]):sa.$b=0,ns.kc&&(sa.Ad=Ee(Ot,ns.Bd)),sa.Za=!Ee(Ot,145)+0,sa.Za){var Ba=sa.Ob,Dr=0;for(ns=0;4>ns;++ns){var Ua,us=vr[0+ns];for(Ua=0;4>Ua;++Ua){us=fr[Bs[Ja+Ua]][us];for(var Es=c0[Ee(Ot,us[0])];0<Es;)Es=c0[2*Es+Ee(Ot,us[Es])];us=-Es,Bs[Ja+Ua]=us}l(Ba,Dr,Bs,Ja,4),Dr+=4,vr[0+ns]=us}}else us=Ee(Ot,156)?Ee(Ot,128)?1:3:Ee(Ot,163)?2:0,sa.Ob[0]=us,i(Bs,Ja,us,4),i(vr,0,us,4);sa.Dd=Ee(Ot,142)?Ee(Ot,114)?Ee(Ot,183)?1:3:2:0}if(fa.m.Ka)return Ts(gs,7,"Premature end-of-partition0 encountered.");for(;gs.ja<gs.za;++gs.ja){if(fa=dt,Ot=(at=gs).rb[at.sb-1],Bs=at.rb[at.sb+at.ja],ts=at.ya[at.aa+at.ja],Ja=at.kc?ts.Ad:0)Ot.la=Bs.la=0,ts.Za||(Ot.Na=Bs.Na=0),ts.Hc=0,ts.Gc=0,ts.ia=0;else{var ga,Ps;if(Ot=Bs,Bs=fa,Ja=at.Pa.Xc,vr=at.ya[at.aa+at.ja],sa=at.pb[vr.$b],ns=vr.ad,Ba=0,Dr=at.rb[at.sb-1],us=Ua=0,i(ns,Ba,0,384),vr.Za)var Qa=0,ba=Ja[3];else{Es=o(16);var Ms=Ot.Na+Dr.Na;if(Ms=jl(Bs,Ja[1],Ms,sa.Eb,0,Es,0),Ot.Na=Dr.Na=(0<Ms)+0,1<Ms)vl(Es,0,ns,Ba);else{var _a=Es[0]+3>>3;for(Es=0;256>Es;Es+=16)ns[Ba+Es]=_a}Qa=1,ba=Ja[0]}var Us=15&Ot.la,$a=15&Dr.la;for(Es=0;4>Es;++Es){var qa=1&$a;for(_a=Ps=0;4>_a;++_a)Us=Us>>1|(qa=(Ms=jl(Bs,ba,Ms=qa+(1&Us),sa.Sc,Qa,ns,Ba))>Qa)<<7,Ps=Ps<<2|(3<Ms?3:1<Ms?2:ns[Ba+0]!=0),Ba+=16;Us>>=4,$a=$a>>1|qa<<7,Ua=(Ua<<8|Ps)>>>0}for(ba=Us,Qa=$a>>4,ga=0;4>ga;ga+=2){for(Ps=0,Us=Ot.la>>4+ga,$a=Dr.la>>4+ga,Es=0;2>Es;++Es){for(qa=1&$a,_a=0;2>_a;++_a)Ms=qa+(1&Us),Us=Us>>1|(qa=0<(Ms=jl(Bs,Ja[2],Ms,sa.Qc,0,ns,Ba)))<<3,Ps=Ps<<2|(3<Ms?3:1<Ms?2:ns[Ba+0]!=0),Ba+=16;Us>>=2,$a=$a>>1|qa<<5}us|=Ps<<4*ga,ba|=Us<<4<<ga,Qa|=(240&$a)<<ga}Ot.la=ba,Dr.la=Qa,vr.Hc=Ua,vr.Gc=us,vr.ia=43690&us?0:sa.ia,Ja=!(Ua|us)}if(0<at.L&&(at.wa[at.Y+at.ja]=at.gd[ts.$b][ts.Za],at.wa[at.Y+at.ja].La|=!Ja),fa.Ka)return Ts(gs,7,"Premature end-of-file encountered.")}if(Zc(gs),at=oa,fa=1,ts=(dt=gs).D,Ot=0<dt.L&&dt.M>=dt.zb&&dt.M<=dt.Va,dt.Aa==0)t:{if(ts.M=dt.M,ts.uc=Ot,bl(dt,ts),fa=1,ts=(Ps=dt.D).Nb,Ot=(us=fc[dt.L])*dt.R,Bs=us/2*dt.B,Es=16*ts*dt.R,_a=8*ts*dt.B,Ja=dt.sa,vr=dt.ta-Ot+Es,sa=dt.qa,ns=dt.ra-Bs+_a,Ba=dt.Ha,Dr=dt.Ia-Bs+_a,$a=(Us=Ps.M)==0,Ua=Us>=dt.Va-1,dt.Aa==2&&bl(dt,Ps),Ps.uc)for(qa=(Ms=dt).D.M,t(Ms.D.uc),Ps=Ms.yb;Ps<Ms.Hb;++Ps){Qa=Ps,ba=qa;var Ys=(Ds=(Ha=Ms).D).Nb;ga=Ha.R;var Ds=Ds.wa[Ds.Y+Qa],Lr=Ha.sa,Na=Ha.ta+16*Ys*ga+16*Qa,Lt=Ds.dd,Mt=Ds.tc;if(Mt!=0)if(t(3<=Mt),Ha.L==1)0<Qa&&Cx(Lr,Na,ga,Mt+4),Ds.La&&xu(Lr,Na,ga,Mt),0<ba&&Sx(Lr,Na,ga,Mt+4),Ds.La&&uu(Lr,Na,ga,Mt);else{var zs=Ha.B,Qr=Ha.qa,Fl=Ha.ra+8*Ys*zs+8*Qa,$r=Ha.Ha,Ha=Ha.Ia+8*Ys*zs+8*Qa;Ys=Ds.ld,0<Qa&&(za(Lr,Na,ga,Mt+4,Lt,Ys),xn(Qr,Fl,$r,Ha,zs,Mt+4,Lt,Ys)),Ds.La&&(ud(Lr,Na,ga,Mt,Lt,Ys),kx(Qr,Fl,$r,Ha,zs,Mt,Lt,Ys)),0<ba&&(ta(Lr,Na,ga,Mt+4,Lt,Ys),$n(Qr,Fl,$r,Ha,zs,Mt+4,Lt,Ys)),Ds.La&&(So(Lr,Na,ga,Mt,Lt,Ys),du(Qr,Fl,$r,Ha,zs,Mt,Lt,Ys))}}if(dt.ia&&alert("todo:DitherRow"),at.put!=null){if(Ps=16*Us,Us=16*(Us+1),$a?(at.y=dt.sa,at.O=dt.ta+Es,at.f=dt.qa,at.N=dt.ra+_a,at.ea=dt.Ha,at.W=dt.Ia+_a):(Ps-=us,at.y=Ja,at.O=vr,at.f=sa,at.N=ns,at.ea=Ba,at.W=Dr),Ua||(Us-=us),Us>at.o&&(Us=at.o),at.F=null,at.J=null,dt.Fa!=null&&0<dt.Fa.length&&Ps<Us&&(at.J=ea(dt,at,Ps,Us-Ps),at.F=dt.mb,at.F==null&&at.F.length==0)){fa=Ts(dt,3,"Could not decode alpha data.");break t}Ps<at.j&&(us=at.j-Ps,Ps=at.j,t(!(1&us)),at.O+=dt.R*us,at.N+=dt.B*(us>>1),at.W+=dt.B*(us>>1),at.F!=null&&(at.J+=at.width*us)),Ps<Us&&(at.O+=at.v,at.N+=at.v>>1,at.W+=at.v>>1,at.F!=null&&(at.J+=at.v),at.ka=Ps-at.j,at.U=at.va-at.v,at.T=Us-Ps,fa=at.put(at))}ts+1!=dt.Ic||Ua||(l(dt.sa,dt.ta-Ot,Ja,vr+16*dt.R,Ot),l(dt.qa,dt.ra-Bs,sa,ns+8*dt.B,Bs),l(dt.Ha,dt.Ia-Bs,Ba,Dr+8*dt.B,Bs))}if(!fa)return Ts(gs,6,"Output aborted.")}return 1})(de,Ne)),Ne.bc!=null&&Ne.bc(Ne),Ce&=1}return Ce?(de.cb=0,Ce):0})(j,I)||(D=j.a)}}else D=j.a}D==0&&ee.Oa!=null&&ee.Oa.fd&&(D=dd(ee.ba))}ee=D}Z=ee!=0?null:11>Z?ne.f.RGBA.eb:ne.f.kb.y}else Z=null;return Z};var h0=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(B,z){for(var P="",F=0;F<4;F++)P+=String.fromCharCode(B[z++]);return P}function p(B,z){return B[z+0]|B[z+1]<<8}function f(B,z){return(B[z+0]|B[z+1]<<8|B[z+2]<<16)>>>0}function y(B,z){return(B[z+0]|B[z+1]<<8|B[z+2]<<16|B[z+3]<<24)>>>0}new x;var g=[0],v=[0],C=[],N=new x,k=s,A=(function(B,z){var P={},F=0,G=!1,Y=0,me=0;if(P.frames=[],!(function(q,Q){for(var K=0;K<4;K++)if(q[Q+K]!="RIFF".charCodeAt(K))return!0;return!1})(B,z)){for(y(B,z+=4),z+=8;z<B.length;){var H=h(B,z),V=y(B,z+=4);z+=4;var $=V+(1&V);switch(H){case"VP8 ":case"VP8L":P.frames[F]===void 0&&(P.frames[F]={}),(te=P.frames[F]).src_off=G?me:z-8,te.src_size=Y+V+8,F++,G&&(G=!1,Y=0,me=0);break;case"VP8X":(te=P.header={}).feature_flags=B[z];var le=z+4;te.canvas_width=1+f(B,le),le+=3,te.canvas_height=1+f(B,le),le+=3;break;case"ALPH":G=!0,Y=$+8,me=z-8;break;case"ANIM":(te=P.header).bgcolor=y(B,z),le=z+4,te.loop_count=p(B,le),le+=2;break;case"ANMF":var ge,te;(te=P.frames[F]={}).offset_x=2*f(B,z),z+=3,te.offset_y=2*f(B,z),z+=3,te.width=1+f(B,z),z+=3,te.height=1+f(B,z),z+=3,te.duration=f(B,z),z+=3,ge=B[z++],te.dispose=1&ge,te.blend=ge>>1&1}H!="ANMF"&&(z+=$)}return P}})(k,0);A.response=k,A.rgbaoutput=!0,A.dataurl=!1;var E=A.header?A.header:null,w=A.frames?A.frames:null;if(E){E.loop_counter=E.loop_count,g=[E.canvas_height],v=[E.canvas_width];for(var R=0;R<w.length&&w[R].blend!=0;R++);}var T=w[0],O=N.WebPDecodeRGBA(k,T.src_off,T.src_size,v,g);T.rgba=O,T.imgwidth=v[0],T.imgheight=g[0];for(var W=0;W<v[0]*g[0]*4;W++)C[W]=O[W];return this.width=v,this.height=g,this.data=C,this}function jP(){var s,t=this.internal.__metadata__.metadata,a=unescape(encodeURIComponent(t));s=this.internal.__metadata__.rawXml?a:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+s.length+" >>"),this.internal.write("stream"),this.internal.write(s),this.internal.write("endstream"),this.internal.write("endobj")}function wP(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(s){var t,a,l,i,o,c,u,x,h,p=function(q){return q=q||{},this.isStrokeTransparent=q.isStrokeTransparent||!1,this.strokeOpacity=q.strokeOpacity||1,this.strokeStyle=q.strokeStyle||"#000000",this.fillStyle=q.fillStyle||"#000000",this.isFillTransparent=q.isFillTransparent||!1,this.fillOpacity=q.fillOpacity||1,this.font=q.font||"10px sans-serif",this.textBaseline=q.textBaseline||"alphabetic",this.textAlign=q.textAlign||"left",this.lineWidth=q.lineWidth||1,this.lineJoin=q.lineJoin||"miter",this.lineCap=q.lineCap||"butt",this.path=q.path||[],this.transform=q.transform!==void 0?q.transform.clone():new x,this.globalCompositeOperation=q.globalCompositeOperation||"normal",this.globalAlpha=q.globalAlpha||1,this.clip_path=q.clip_path||[],this.currentPoint=q.currentPoint||new c,this.miterLimit=q.miterLimit||10,this.lastPoint=q.lastPoint||new c,this.lineDashOffset=q.lineDashOffset||0,this.lineDash=q.lineDash||[],this.margin=q.margin||[0,0,0,0],this.prevPageLastElemOffset=q.prevPageLastElemOffset||0,this.ignoreClearRect=typeof q.ignoreClearRect!="boolean"||q.ignoreClearRect,this};s.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,a=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,c=this.internal.Point,u=this.internal.Rectangle,x=this.internal.Matrix,h=new p}]);var f=function(q){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Q=q;Object.defineProperty(this,"pdf",{get:function(){return Q}});var K=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return K},set:function(re){K=!!re}});var oe=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return oe},set:function(re){oe=!!re}});var ae=0;Object.defineProperty(this,"posX",{get:function(){return ae},set:function(re){isNaN(re)||(ae=re)}});var ce=0;Object.defineProperty(this,"posY",{get:function(){return ce},set:function(re){isNaN(re)||(ce=re)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(re){var et;typeof re=="number"?et=[re,re,re,re]:((et=new Array(4))[0]=re[0],et[1]=re.length>=2?re[1]:et[0],et[2]=re.length>=3?re[2]:et[0],et[3]=re.length>=4?re[3]:et[1]),h.margin=et}});var pe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return pe},set:function(re){pe=re}});var we=0;Object.defineProperty(this,"lastBreak",{get:function(){return we},set:function(re){we=re}});var Ee=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ee},set:function(re){Ee=re}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(re){re instanceof p&&(h=re)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(re){h.path=re}});var Be=[];Object.defineProperty(this,"ctxStack",{get:function(){return Be},set:function(re){Be=re}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(re){var et;et=y(re),this.ctx.fillStyle=et.style,this.ctx.isFillTransparent=et.a===0,this.ctx.fillOpacity=et.a,this.pdf.setFillColor(et.r,et.g,et.b,{a:et.a}),this.pdf.setTextColor(et.r,et.g,et.b,{a:et.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(re){var et=y(re);this.ctx.strokeStyle=et.style,this.ctx.isStrokeTransparent=et.a===0,this.ctx.strokeOpacity=et.a,et.a===0?this.pdf.setDrawColor(255,255,255):(et.a,this.pdf.setDrawColor(et.r,et.g,et.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(re){["butt","round","square"].indexOf(re)!==-1&&(this.ctx.lineCap=re,this.pdf.setLineCap(re))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(re){isNaN(re)||(this.ctx.lineWidth=re,this.pdf.setLineWidth(re))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(re){["bevel","round","miter"].indexOf(re)!==-1&&(this.ctx.lineJoin=re,this.pdf.setLineJoin(re))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(re){isNaN(re)||(this.ctx.miterLimit=re,this.pdf.setMiterLimit(re))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(re){this.ctx.textBaseline=re}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(re){["right","end","center","left","start"].indexOf(re)!==-1&&(this.ctx.textAlign=re)}});var Je=null,tt=null,he=null;Object.defineProperty(this,"fontFaces",{get:function(){return he},set:function(re){Je=null,tt=null,he=re}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(re){var et;if(this.ctx.font=re,(et=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(re))!==null){var Tt=et[1];et[2];var Nt=et[3],Ke=et[4];et[5];var St=et[6],nt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ke)[2];Ke=Math.floor(nt==="px"?parseFloat(Ke)*this.pdf.internal.scaleFactor:nt==="em"?parseFloat(Ke)*this.pdf.getFontSize():parseFloat(Ke)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ke);var At=(function(kt){var Da,hs,_t=[],Wt=kt.trim();if(Wt==="")return Ff;if(Wt in Z2)return[Z2[Wt]];for(;Wt!=="";){switch(hs=null,Da=(Wt=tj(Wt)).charAt(0)){case'"':case"'":hs=pP(Wt.substring(1),Da);break;default:hs=fP(Wt)}if(hs===null||(_t.push(hs[0]),(Wt=tj(hs[1]))!==""&&Wt.charAt(0)!==","))return Ff;Wt=Wt.replace(/^,/,"")}return _t})(St);if(this.fontFaces){var bt=(function(kt,Da){var hs=kt.getFontList(),_t=JSON.stringify(hs);if(Je===null||tt!==_t){var Wt=(function(fs){var Et=[];return Object.keys(fs).forEach(function(Zs){fs[Zs].forEach(function(Ut){var Gt=null;switch(Ut){case"bold":Gt={family:Zs,weight:"bold"};break;case"italic":Gt={family:Zs,style:"italic"};break;case"bolditalic":Gt={family:Zs,weight:"bold",style:"italic"};break;case"":case"normal":Gt={family:Zs}}Gt!==null&&(Gt.ref={name:Zs,style:Ut},Et.push(Gt))})}),Et})(hs);Je=(function(fs){for(var Et={},Zs=0;Zs<fs.length;++Zs){var Ut=Of(fs[Zs]),Gt=Ut.family,Gs=Ut.stretch,ls=Ut.style,Ct=Ut.weight;Et[Gt]=Et[Gt]||{},Et[Gt][Gs]=Et[Gt][Gs]||{},Et[Gt][Gs][ls]=Et[Gt][Gs][ls]||{},Et[Gt][Gs][ls][Ct]=Ut}return Et})(Wt.concat(Da)),tt=_t}return Je})(this.pdf,this.fontFaces),Ge=At.map(function(kt){return{family:kt,stretch:"normal",weight:Nt,style:Tt}}),Bt=(function(kt,Da,hs){for(var _t=(hs=hs||{}).defaultFontFamily||"times",Wt=Object.assign({},mP,hs.genericFontFamilies||{}),fs=null,Et=null,Zs=0;Zs<Da.length;++Zs)if(Wt[(fs=Of(Da[Zs])).family]&&(fs.family=Wt[fs.family]),kt.hasOwnProperty(fs.family)){Et=kt[fs.family];break}if(!(Et=Et||kt[_t]))throw new Error("Could not find a font-family for the rule '"+ej(fs)+"' and default family '"+_t+"'.");if(Et=(function(Ut,Gt){if(Gt[Ut])return Gt[Ut];var Gs=Sg[Ut],ls=Gs<=Sg.normal?-1:1,Ct=Q2(Gt,q5,Gs,ls);if(!Ct)throw new Error("Could not find a matching font-stretch value for "+Ut);return Ct})(fs.stretch,Et),Et=(function(Ut,Gt){if(Gt[Ut])return Gt[Ut];for(var Gs=$5[Ut],ls=0;ls<Gs.length;++ls)if(Gt[Gs[ls]])return Gt[Gs[ls]];throw new Error("Could not find a matching font-style for "+Ut)})(fs.style,Et),!(Et=(function(Ut,Gt){if(Gt[Ut])return Gt[Ut];if(Ut===400&&Gt[500])return Gt[500];if(Ut===500&&Gt[400])return Gt[400];var Gs=hP[Ut],ls=Q2(Gt,H5,Gs,Ut<400?-1:1);if(!ls)throw new Error("Could not find a matching font-weight for value "+Ut);return ls})(fs.weight,Et)))throw new Error("Failed to resolve a font for the rule '"+ej(fs)+"'.");return Et})(bt,Ge);this.pdf.setFont(Bt.ref.name,Bt.ref.style)}else{var vt="";(Nt==="bold"||parseInt(Nt,10)>=700||Tt==="bold")&&(vt="bold"),Tt==="italic"&&(vt+="italic"),vt.length===0&&(vt="normal");for(var os="",Yt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ut=0;ut<At.length;ut++){if(this.pdf.internal.getFont(At[ut],vt,{noFallback:!0,disableWarning:!0})!==void 0){os=At[ut];break}if(vt==="bolditalic"&&this.pdf.internal.getFont(At[ut],"bold",{noFallback:!0,disableWarning:!0})!==void 0)os=At[ut],vt="bold";else if(this.pdf.internal.getFont(At[ut],"normal",{noFallback:!0,disableWarning:!0})!==void 0){os=At[ut],vt="normal";break}}if(os===""){for(var Jt=0;Jt<At.length;Jt++)if(Yt[At[Jt]]){os=Yt[At[Jt]];break}}os=os===""?"Times":os,this.pdf.setFont(os,vt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(re){this.ctx.globalCompositeOperation=re}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(re){this.ctx.globalAlpha=re}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(re){this.ctx.lineDashOffset=re,te.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(re){this.ctx.lineDash=re,te.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(re){this.ctx.ignoreClearRect=!!re}})};f.prototype.setLineDash=function(q){this.lineDash=q},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){w.call(this,"fill",!1)},f.prototype.stroke=function(){w.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(q,Q){if(isNaN(q)||isNaN(Q))throw da.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var K=this.ctx.transform.applyToPoint(new c(q,Q));this.path.push({type:"mt",x:K.x,y:K.y}),this.ctx.lastPoint=new c(q,Q)},f.prototype.closePath=function(){var q=new c(0,0),Q=0;for(Q=this.path.length-1;Q!==-1;Q--)if(this.path[Q].type==="begin"&&Js(this.path[Q+1])==="object"&&typeof this.path[Q+1].x=="number"){q=new c(this.path[Q+1].x,this.path[Q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new c(q.x,q.y)},f.prototype.lineTo=function(q,Q){if(isNaN(q)||isNaN(Q))throw da.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var K=this.ctx.transform.applyToPoint(new c(q,Q));this.path.push({type:"lt",x:K.x,y:K.y}),this.ctx.lastPoint=new c(K.x,K.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),w.call(this,null,!0)},f.prototype.quadraticCurveTo=function(q,Q,K,oe){if(isNaN(K)||isNaN(oe)||isNaN(q)||isNaN(Q))throw da.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ae=this.ctx.transform.applyToPoint(new c(K,oe)),ce=this.ctx.transform.applyToPoint(new c(q,Q));this.path.push({type:"qct",x1:ce.x,y1:ce.y,x:ae.x,y:ae.y}),this.ctx.lastPoint=new c(ae.x,ae.y)},f.prototype.bezierCurveTo=function(q,Q,K,oe,ae,ce){if(isNaN(ae)||isNaN(ce)||isNaN(q)||isNaN(Q)||isNaN(K)||isNaN(oe))throw da.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var pe=this.ctx.transform.applyToPoint(new c(ae,ce)),we=this.ctx.transform.applyToPoint(new c(q,Q)),Ee=this.ctx.transform.applyToPoint(new c(K,oe));this.path.push({type:"bct",x1:we.x,y1:we.y,x2:Ee.x,y2:Ee.y,x:pe.x,y:pe.y}),this.ctx.lastPoint=new c(pe.x,pe.y)},f.prototype.arc=function(q,Q,K,oe,ae,ce){if(isNaN(q)||isNaN(Q)||isNaN(K)||isNaN(oe)||isNaN(ae))throw da.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ce=!!ce,!this.ctx.transform.isIdentity){var pe=this.ctx.transform.applyToPoint(new c(q,Q));q=pe.x,Q=pe.y;var we=this.ctx.transform.applyToPoint(new c(0,K)),Ee=this.ctx.transform.applyToPoint(new c(0,0));K=Math.sqrt(Math.pow(we.x-Ee.x,2)+Math.pow(we.y-Ee.y,2))}Math.abs(ae-oe)>=2*Math.PI&&(oe=0,ae=2*Math.PI),this.path.push({type:"arc",x:q,y:Q,radius:K,startAngle:oe,endAngle:ae,counterclockwise:ce})},f.prototype.arcTo=function(q,Q,K,oe,ae){throw new Error("arcTo not implemented.")},f.prototype.rect=function(q,Q,K,oe){if(isNaN(q)||isNaN(Q)||isNaN(K)||isNaN(oe))throw da.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(q,Q),this.lineTo(q+K,Q),this.lineTo(q+K,Q+oe),this.lineTo(q,Q+oe),this.lineTo(q,Q),this.lineTo(q+K,Q),this.lineTo(q,Q)},f.prototype.fillRect=function(q,Q,K,oe){if(isNaN(q)||isNaN(Q)||isNaN(K)||isNaN(oe))throw da.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var ae={};this.lineCap!=="butt"&&(ae.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ae.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(q,Q,K,oe),this.fill(),ae.hasOwnProperty("lineCap")&&(this.lineCap=ae.lineCap),ae.hasOwnProperty("lineJoin")&&(this.lineJoin=ae.lineJoin)}},f.prototype.strokeRect=function(q,Q,K,oe){if(isNaN(q)||isNaN(Q)||isNaN(K)||isNaN(oe))throw da.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(q,Q,K,oe),this.stroke())},f.prototype.clearRect=function(q,Q,K,oe){if(isNaN(q)||isNaN(Q)||isNaN(K)||isNaN(oe))throw da.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(q,Q,K,oe))},f.prototype.save=function(q){q=typeof q!="boolean"||q;for(var Q=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("q");if(this.pdf.setPage(Q),q){this.ctx.fontSize=this.pdf.internal.getFontSize();var oe=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=oe}},f.prototype.restore=function(q){q=typeof q!="boolean"||q;for(var Q=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("Q");this.pdf.setPage(Q),q&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(q){var Q,K,oe,ae;if(q.isCanvasGradient===!0&&(q=q.getColor()),!q)return{r:0,g:0,b:0,a:0,style:q};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(q))Q=0,K=0,oe=0,ae=0;else{var ce=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(q);if(ce!==null)Q=parseInt(ce[1]),K=parseInt(ce[2]),oe=parseInt(ce[3]),ae=1;else if((ce=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(q))!==null)Q=parseInt(ce[1]),K=parseInt(ce[2]),oe=parseInt(ce[3]),ae=parseFloat(ce[4]);else{if(ae=1,typeof q=="string"&&q.charAt(0)!=="#"){var pe=new P5(q);q=pe.ok?pe.toHex():"#000000"}q.length===4?(Q=q.substring(1,2),Q+=Q,K=q.substring(2,3),K+=K,oe=q.substring(3,4),oe+=oe):(Q=q.substring(1,3),K=q.substring(3,5),oe=q.substring(5,7)),Q=parseInt(Q,16),K=parseInt(K,16),oe=parseInt(oe,16)}}return{r:Q,g:K,b:oe,a:ae,style:q}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(q,Q,K,oe){if(isNaN(Q)||isNaN(K)||typeof q!="string")throw da.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(oe=isNaN(oe)?void 0:oe,!g.call(this)){var ae=$(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;F.call(this,{text:q,x:Q,y:K,scale:ce,angle:ae,align:this.textAlign,maxWidth:oe})}},f.prototype.strokeText=function(q,Q,K,oe){if(isNaN(Q)||isNaN(K)||typeof q!="string")throw da.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){oe=isNaN(oe)?void 0:oe;var ae=$(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;F.call(this,{text:q,x:Q,y:K,scale:ce,renderingMode:"stroke",angle:ae,align:this.textAlign,maxWidth:oe})}},f.prototype.measureText=function(q){if(typeof q!="string")throw da.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Q=this.pdf,K=this.pdf.internal.scaleFactor,oe=Q.internal.getFontSize(),ae=Q.getStringUnitWidth(q)*oe/Q.internal.scaleFactor;return new function(ce){var pe=(ce=ce||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return pe}}),this}({width:ae*=Math.round(96*K/72*1e4)/1e4})},f.prototype.scale=function(q,Q){if(isNaN(q)||isNaN(Q))throw da.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var K=new x(q,0,0,Q,0,0);this.ctx.transform=this.ctx.transform.multiply(K)},f.prototype.rotate=function(q){if(isNaN(q))throw da.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Q=new x(Math.cos(q),Math.sin(q),-Math.sin(q),Math.cos(q),0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},f.prototype.translate=function(q,Q){if(isNaN(q)||isNaN(Q))throw da.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var K=new x(1,0,0,1,q,Q);this.ctx.transform=this.ctx.transform.multiply(K)},f.prototype.transform=function(q,Q,K,oe,ae,ce){if(isNaN(q)||isNaN(Q)||isNaN(K)||isNaN(oe)||isNaN(ae)||isNaN(ce))throw da.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var pe=new x(q,Q,K,oe,ae,ce);this.ctx.transform=this.ctx.transform.multiply(pe)},f.prototype.setTransform=function(q,Q,K,oe,ae,ce){q=isNaN(q)?1:q,Q=isNaN(Q)?0:Q,K=isNaN(K)?0:K,oe=isNaN(oe)?1:oe,ae=isNaN(ae)?0:ae,ce=isNaN(ce)?0:ce,this.ctx.transform=new x(q,Q,K,oe,ae,ce)};var C=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(q,Q,K,oe,ae,ce,pe,we,Ee){var Be=this.pdf.getImageProperties(q),Je=1,tt=1,he=1,re=1;oe!==void 0&&we!==void 0&&(he=we/oe,re=Ee/ae,Je=Be.width/oe*we/oe,tt=Be.height/ae*Ee/ae),ce===void 0&&(ce=Q,pe=K,Q=0,K=0),oe!==void 0&&we===void 0&&(we=oe,Ee=ae),oe===void 0&&we===void 0&&(we=Be.width,Ee=Be.height);var et=this.ctx.transform.decompose(),Tt=$(et.rotate.shx),Nt=new x,Ke=(Nt=(Nt=(Nt=Nt.multiply(et.translate)).multiply(et.skew)).multiply(et.scale)).applyToRectangle(new u(ce-Q*he,pe-K*re,oe*Je,ae*tt));if(this.autoPaging){for(var St,nt=N.call(this,Ke),At=[],bt=0;bt<nt.length;bt+=1)At.indexOf(nt[bt])===-1&&At.push(nt[bt]);E(At);for(var Ge=At[0],Bt=At[At.length-1],vt=Ge;vt<Bt+1;vt++){this.pdf.setPage(vt);var os=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Yt=vt===1?this.posY+this.margin[0]:this.margin[0],ut=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Jt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],kt=vt===1?0:ut+(vt-2)*Jt;if(this.ctx.clip_path.length!==0){var Da=this.path;St=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(St,this.posX+this.margin[3],-kt+Yt+this.ctx.prevPageLastElemOffset),R.call(this,"fill",!0),this.path=Da}var hs=JSON.parse(JSON.stringify(Ke));hs=A([hs],this.posX+this.margin[3],-kt+Yt+this.ctx.prevPageLastElemOffset)[0];var _t=(vt>Ge||vt<Bt)&&C.call(this);_t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],os,Jt,null).clip().discardPath()),this.pdf.addImage(q,"JPEG",hs.x,hs.y,hs.w,hs.h,null,null,Tt),_t&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(q,"JPEG",Ke.x,Ke.y,Ke.w,Ke.h,null,null,Tt)};var N=function(q,Q,K){var oe=[];Q=Q||this.pdf.internal.pageSize.width,K=K||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ae=this.posY+this.ctx.prevPageLastElemOffset;switch(q.type){default:case"mt":case"lt":oe.push(Math.floor((q.y+ae)/K)+1);break;case"arc":oe.push(Math.floor((q.y+ae-q.radius)/K)+1),oe.push(Math.floor((q.y+ae+q.radius)/K)+1);break;case"qct":var ce=le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,q.x1,q.y1,q.x,q.y);oe.push(Math.floor((ce.y+ae)/K)+1),oe.push(Math.floor((ce.y+ce.h+ae)/K)+1);break;case"bct":var pe=ge(this.ctx.lastPoint.x,this.ctx.lastPoint.y,q.x1,q.y1,q.x2,q.y2,q.x,q.y);oe.push(Math.floor((pe.y+ae)/K)+1),oe.push(Math.floor((pe.y+pe.h+ae)/K)+1);break;case"rect":oe.push(Math.floor((q.y+ae)/K)+1),oe.push(Math.floor((q.y+q.h+ae)/K)+1)}for(var we=0;we<oe.length;we+=1)for(;this.pdf.internal.getNumberOfPages()<oe[we];)k.call(this);return oe},k=function(){var q=this.fillStyle,Q=this.strokeStyle,K=this.font,oe=this.lineCap,ae=this.lineWidth,ce=this.lineJoin;this.pdf.addPage(),this.fillStyle=q,this.strokeStyle=Q,this.font=K,this.lineCap=oe,this.lineWidth=ae,this.lineJoin=ce},A=function(q,Q,K){for(var oe=0;oe<q.length;oe++)switch(q[oe].type){case"bct":q[oe].x2+=Q,q[oe].y2+=K;case"qct":q[oe].x1+=Q,q[oe].y1+=K;default:q[oe].x+=Q,q[oe].y+=K}return q},E=function(q){return q.sort(function(Q,K){return Q-K})},w=function(q,Q){var K=this.fillStyle,oe=this.strokeStyle,ae=this.lineCap,ce=this.lineWidth,pe=Math.abs(ce*this.ctx.transform.scaleX),we=this.lineJoin;if(this.autoPaging){for(var Ee,Be,Je=JSON.parse(JSON.stringify(this.path)),tt=JSON.parse(JSON.stringify(this.path)),he=[],re=0;re<tt.length;re++)if(tt[re].x!==void 0)for(var et=N.call(this,tt[re]),Tt=0;Tt<et.length;Tt+=1)he.indexOf(et[Tt])===-1&&he.push(et[Tt]);for(var Nt=0;Nt<he.length;Nt++)for(;this.pdf.internal.getNumberOfPages()<he[Nt];)k.call(this);E(he);for(var Ke=he[0],St=he[he.length-1],nt=Ke;nt<St+1;nt++){this.pdf.setPage(nt),this.fillStyle=K,this.strokeStyle=oe,this.lineCap=ae,this.lineWidth=pe,this.lineJoin=we;var At=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],bt=nt===1?this.posY+this.margin[0]:this.margin[0],Ge=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Bt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],vt=nt===1?0:Ge+(nt-2)*Bt;if(this.ctx.clip_path.length!==0){var os=this.path;Ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(Ee,this.posX+this.margin[3],-vt+bt+this.ctx.prevPageLastElemOffset),R.call(this,q,!0),this.path=os}if(Be=JSON.parse(JSON.stringify(Je)),this.path=A(Be,this.posX+this.margin[3],-vt+bt+this.ctx.prevPageLastElemOffset),Q===!1||nt===0){var Yt=(nt>Ke||nt<St)&&C.call(this);Yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],At,Bt,null).clip().discardPath()),R.call(this,q,Q),Yt&&this.pdf.restoreGraphicsState()}this.lineWidth=ce}this.path=Je}else this.lineWidth=pe,R.call(this,q,Q),this.lineWidth=ce},R=function(q,Q){if((q!=="stroke"||Q||!v.call(this))&&(q==="stroke"||Q||!g.call(this))){for(var K,oe,ae=[],ce=this.path,pe=0;pe<ce.length;pe++){var we=ce[pe];switch(we.type){case"begin":ae.push({begin:!0});break;case"close":ae.push({close:!0});break;case"mt":ae.push({start:we,deltas:[],abs:[]});break;case"lt":var Ee=ae.length;if(ce[pe-1]&&!isNaN(ce[pe-1].x)&&(K=[we.x-ce[pe-1].x,we.y-ce[pe-1].y],Ee>0)){for(;Ee>=0;Ee--)if(ae[Ee-1].close!==!0&&ae[Ee-1].begin!==!0){ae[Ee-1].deltas.push(K),ae[Ee-1].abs.push(we);break}}break;case"bct":K=[we.x1-ce[pe-1].x,we.y1-ce[pe-1].y,we.x2-ce[pe-1].x,we.y2-ce[pe-1].y,we.x-ce[pe-1].x,we.y-ce[pe-1].y],ae[ae.length-1].deltas.push(K);break;case"qct":var Be=ce[pe-1].x+2/3*(we.x1-ce[pe-1].x),Je=ce[pe-1].y+2/3*(we.y1-ce[pe-1].y),tt=we.x+2/3*(we.x1-we.x),he=we.y+2/3*(we.y1-we.y),re=we.x,et=we.y;K=[Be-ce[pe-1].x,Je-ce[pe-1].y,tt-ce[pe-1].x,he-ce[pe-1].y,re-ce[pe-1].x,et-ce[pe-1].y],ae[ae.length-1].deltas.push(K);break;case"arc":ae.push({deltas:[],abs:[],arc:!0}),Array.isArray(ae[ae.length-1].abs)&&ae[ae.length-1].abs.push(we)}}oe=Q?null:q==="stroke"?"stroke":"fill";for(var Tt=!1,Nt=0;Nt<ae.length;Nt++)if(ae[Nt].arc)for(var Ke=ae[Nt].abs,St=0;St<Ke.length;St++){var nt=Ke[St];nt.type==="arc"?W.call(this,nt.x,nt.y,nt.radius,nt.startAngle,nt.endAngle,nt.counterclockwise,void 0,Q,!Tt):G.call(this,nt.x,nt.y),Tt=!0}else if(ae[Nt].close===!0)this.pdf.internal.out("h"),Tt=!1;else if(ae[Nt].begin!==!0){var At=ae[Nt].start.x,bt=ae[Nt].start.y;Y.call(this,ae[Nt].deltas,At,bt),Tt=!0}oe&&B.call(this,oe),Q&&z.call(this)}},T=function(q){var Q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,K=Q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return q-K;case"top":return q+Q-K;case"hanging":return q+Q-2*K;case"middle":return q+Q/2-K;default:return q}},O=function(q){return q+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var q=function(){};return q.colorStops=[],q.addColorStop=function(Q,K){this.colorStops.push([Q,K])},q.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},q.isCanvasGradient=!0,q},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var W=function(q,Q,K,oe,ae,ce,pe,we,Ee){for(var Be=H.call(this,K,oe,ae,ce),Je=0;Je<Be.length;Je++){var tt=Be[Je];Je===0&&(Ee?P.call(this,tt.x1+q,tt.y1+Q):G.call(this,tt.x1+q,tt.y1+Q)),me.call(this,q,Q,tt.x2,tt.y2,tt.x3,tt.y3,tt.x4,tt.y4)}we?z.call(this):B.call(this,pe)},B=function(q){switch(q){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},z=function(){this.pdf.clip(),this.pdf.discardPath()},P=function(q,Q){this.pdf.internal.out(a(q)+" "+l(Q)+" m")},F=function(q){var Q;switch(q.align){case"right":case"end":Q="right";break;case"center":Q="center";break;default:Q="left"}var K,oe,ae,ce=this.pdf.getTextDimensions(q.text),pe=T.call(this,q.y),we=O.call(this,pe)-ce.h,Ee=this.ctx.transform.applyToPoint(new c(q.x,pe));if(this.autoPaging){var Be=this.ctx.transform.decompose(),Je=new x;Je=(Je=(Je=Je.multiply(Be.translate)).multiply(Be.skew)).multiply(Be.scale);for(var tt=this.ctx.transform.applyToRectangle(new u(q.x,pe,ce.w,ce.h)),he=Je.applyToRectangle(new u(q.x,we,ce.w,ce.h)),re=N.call(this,he),et=[],Tt=0;Tt<re.length;Tt+=1)et.indexOf(re[Tt])===-1&&et.push(re[Tt]);E(et);for(var Nt=et[0],Ke=et[et.length-1],St=Nt;St<Ke+1;St++){this.pdf.setPage(St);var nt=St===1?this.posY+this.margin[0]:this.margin[0],At=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],bt=this.pdf.internal.pageSize.height-this.margin[2],Ge=bt-this.margin[0],Bt=this.pdf.internal.pageSize.width-this.margin[1],vt=Bt-this.margin[3],os=St===1?0:At+(St-2)*Ge;if(this.ctx.clip_path.length!==0){var Yt=this.path;K=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(K,this.posX+this.margin[3],-1*os+nt),R.call(this,"fill",!0),this.path=Yt}var ut=A([JSON.parse(JSON.stringify(he))],this.posX+this.margin[3],-os+nt+this.ctx.prevPageLastElemOffset)[0];q.scale>=.01&&(oe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(oe*q.scale),ae=this.lineWidth,this.lineWidth=ae*q.scale);var Jt=this.autoPaging!=="text";if(Jt||ut.y+ut.h<=bt){if(Jt||ut.y>=nt&&ut.x<=Bt){var kt=Jt?q.text:this.pdf.splitTextToSize(q.text,q.maxWidth||Bt-ut.x)[0],Da=A([JSON.parse(JSON.stringify(tt))],this.posX+this.margin[3],-os+nt+this.ctx.prevPageLastElemOffset)[0],hs=Jt&&(St>Nt||St<Ke)&&C.call(this);hs&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],vt,Ge,null).clip().discardPath()),this.pdf.text(kt,Da.x,Da.y,{angle:q.angle,align:Q,renderingMode:q.renderingMode}),hs&&this.pdf.restoreGraphicsState()}}else ut.y<bt&&(this.ctx.prevPageLastElemOffset+=bt-ut.y);q.scale>=.01&&(this.pdf.setFontSize(oe),this.lineWidth=ae)}}else q.scale>=.01&&(oe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(oe*q.scale),ae=this.lineWidth,this.lineWidth=ae*q.scale),this.pdf.text(q.text,Ee.x+this.posX,Ee.y+this.posY,{angle:q.angle,align:Q,renderingMode:q.renderingMode,maxWidth:q.maxWidth}),q.scale>=.01&&(this.pdf.setFontSize(oe),this.lineWidth=ae)},G=function(q,Q,K,oe){K=K||0,oe=oe||0,this.pdf.internal.out(a(q+K)+" "+l(Q+oe)+" l")},Y=function(q,Q,K){return this.pdf.lines(q,Q,K,null,null)},me=function(q,Q,K,oe,ae,ce,pe,we){this.pdf.internal.out([t(i(K+q)),t(o(oe+Q)),t(i(ae+q)),t(o(ce+Q)),t(i(pe+q)),t(o(we+Q)),"c"].join(" "))},H=function(q,Q,K,oe){for(var ae=2*Math.PI,ce=Math.PI/2;Q>K;)Q-=ae;var pe=Math.abs(K-Q);pe<ae&&oe&&(pe=ae-pe);for(var we=[],Ee=oe?-1:1,Be=Q;pe>1e-5;){var Je=Be+Ee*Math.min(pe,ce);we.push(V.call(this,q,Be,Je)),pe-=Math.abs(Je-Be),Be=Je}return we},V=function(q,Q,K){var oe=(K-Q)/2,ae=q*Math.cos(oe),ce=q*Math.sin(oe),pe=ae,we=-ce,Ee=pe*pe+we*we,Be=Ee+pe*ae+we*ce,Je=4/3*(Math.sqrt(2*Ee*Be)-Be)/(pe*ce-we*ae),tt=pe-Je*we,he=we+Je*pe,re=tt,et=-he,Tt=oe+Q,Nt=Math.cos(Tt),Ke=Math.sin(Tt);return{x1:q*Math.cos(Q),y1:q*Math.sin(Q),x2:tt*Nt-he*Ke,y2:tt*Ke+he*Nt,x3:re*Nt-et*Ke,y3:re*Ke+et*Nt,x4:q*Math.cos(K),y4:q*Math.sin(K)}},$=function(q){return 180*q/Math.PI},le=function(q,Q,K,oe,ae,ce){var pe=q+.5*(K-q),we=Q+.5*(oe-Q),Ee=ae+.5*(K-ae),Be=ce+.5*(oe-ce),Je=Math.min(q,ae,pe,Ee),tt=Math.max(q,ae,pe,Ee),he=Math.min(Q,ce,we,Be),re=Math.max(Q,ce,we,Be);return new u(Je,he,tt-Je,re-he)},ge=function(q,Q,K,oe,ae,ce,pe,we){var Ee,Be,Je,tt,he,re,et,Tt,Nt,Ke,St,nt,At,bt,Ge=K-q,Bt=oe-Q,vt=ae-K,os=ce-oe,Yt=pe-ae,ut=we-ce;for(Be=0;Be<41;Be++)Nt=(et=(Je=q+(Ee=Be/40)*Ge)+Ee*((he=K+Ee*vt)-Je))+Ee*(he+Ee*(ae+Ee*Yt-he)-et),Ke=(Tt=(tt=Q+Ee*Bt)+Ee*((re=oe+Ee*os)-tt))+Ee*(re+Ee*(ce+Ee*ut-re)-Tt),Be==0?(St=Nt,nt=Ke,At=Nt,bt=Ke):(St=Math.min(St,Nt),nt=Math.min(nt,Ke),At=Math.max(At,Nt),bt=Math.max(bt,Ke));return new u(Math.round(St),Math.round(nt),Math.round(At-St),Math.round(bt-nt))},te=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var q,Q,K=(q=this.ctx.lineDash,Q=this.ctx.lineDashOffset,JSON.stringify({lineDash:q,lineDashOffset:Q}));this.prevLineDash!==K&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=K)}}})(gt.API),(function(s){var t=function(c){var u,x,h,p,f,y,g,v,C,N;for(x=[],h=0,p=(c+=u="\0\0\0\0".slice(c.length%4||4)).length;p>h;h+=4)(f=(c.charCodeAt(h)<<24)+(c.charCodeAt(h+1)<<16)+(c.charCodeAt(h+2)<<8)+c.charCodeAt(h+3))!==0?(y=(f=((f=((f=((f=(f-(N=f%85))/85)-(C=f%85))/85)-(v=f%85))/85)-(g=f%85))/85)%85,x.push(y+33,g+33,v+33,C+33,N+33)):x.push(122);return(function(k,A){for(var E=A;E>0;E--)k.pop()})(x,u.length),String.fromCharCode.apply(String,x)+"~>"},a=function(c){var u,x,h,p,f,y=String,g="length",v=255,C="charCodeAt",N="slice",k="replace";for(c[N](-2),c=c[N](0,-2)[k](/\s/g,"")[k]("z","!!!!!"),h=[],p=0,f=(c+=u="uuuuu"[N](c[g]%5||5))[g];f>p;p+=5)x=52200625*(c[C](p)-33)+614125*(c[C](p+1)-33)+7225*(c[C](p+2)-33)+85*(c[C](p+3)-33)+(c[C](p+4)-33),h.push(v&x>>24,v&x>>16,v&x>>8,v&x);return(function(A,E){for(var w=E;w>0;w--)A.pop()})(h,u[g]),y.fromCharCode.apply(y,h)},l=function(c){return c.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(c){var u=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((c=c.replace(/\s/g,"")).indexOf(">")!==-1&&(c=c.substr(0,c.indexOf(">"))),c.length%2&&(c+="0"),u.test(c)===!1)return"";for(var x="",h=0;h<c.length;h+=2)x+=String.fromCharCode("0x"+(c[h]+c[h+1]));return x},o=function(c){for(var u=new Uint8Array(c.length),x=c.length;x--;)u[x]=c.charCodeAt(x);return(u=bg(u)).reduce(function(h,p){return h+String.fromCharCode(p)},"")};s.processDataByFilters=function(c,u){var x=0,h=c||"",p=[];for(typeof(u=u||[])=="string"&&(u=[u]),x=0;x<u.length;x+=1)switch(u[x]){case"ASCII85Decode":case"/ASCII85Decode":h=a(h),p.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":h=t(h),p.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":h=i(h),p.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":h=l(h),p.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":h=o(h),p.push("/FlateDecode");break;default:throw new Error('The filter: "'+u[x]+'" is not implemented')}return{data:h,reverseChain:p.reverse().join(" ")}}})(gt.API),(function(s){s.loadFile=function(t,a,l){return(function(i,o,c){o=o!==!1,c=typeof c=="function"?c:function(){};var u=void 0;try{u=(function(x,h,p){var f=new XMLHttpRequest,y=0,g=function(v){var C=v.length,N=[],k=String.fromCharCode;for(y=0;y<C;y+=1)N.push(k(255&v.charCodeAt(y)));return N.join("")};if(f.open("GET",x,!h),f.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(f.onload=function(){f.status===200?p(g(this.responseText)):p(void 0)}),f.send(null),h&&f.status===200)return g(f.responseText)})(i,o,c)}catch{}return u})(t,a,l)},s.allowFsRead=void 0,s.loadImageFile=s.loadFile})(gt.API),(function(s){function t(){return(Kt.html2canvas?Promise.resolve(Kt.html2canvas):sx(()=>import("./html2canvas.esm-DXEQVQnt.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load html2canvas: "+u))}).then(function(u){return u.default?u.default:u})}function a(){return(Kt.DOMPurify?Promise.resolve(Kt.DOMPurify):sx(()=>import("./purify.es-Bzr520pe.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load dompurify: "+u))}).then(function(u){return u.default?u.default:u})}var l=function(u){var x=Js(u);return x==="undefined"?"undefined":x==="string"||u instanceof String?"string":x==="number"||u instanceof Number?"number":x==="function"||u instanceof Function?"function":u&&u.constructor===Array?"array":u&&u.nodeType===1?"element":x==="object"?"object":"unknown"},i=function(u,x){var h=document.createElement(u);for(var p in x.className&&(h.className=x.className),x.innerHTML&&x.dompurify&&(h.innerHTML=x.dompurify.sanitize(x.innerHTML)),x.style)h.style[p]=x.style[p];return h},o=function u(x,h){for(var p=x.nodeType===3?document.createTextNode(x.nodeValue):x.cloneNode(!1),f=x.firstChild;f;f=f.nextSibling)h!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||p.appendChild(u(f,h));return x.nodeType===1&&(x.nodeName==="CANVAS"?(p.width=x.width,p.height=x.height,p.getContext("2d").drawImage(x,0,0)):x.nodeName!=="TEXTAREA"&&x.nodeName!=="SELECT"||(p.value=x.value),p.addEventListener("load",function(){p.scrollTop=x.scrollTop,p.scrollLeft=x.scrollLeft},!0)),p},c=function u(x){var h=Object.assign(u.convert(Promise.resolve()),JSON.parse(JSON.stringify(u.template))),p=u.convert(Promise.resolve(),h);return(p=p.setProgress(1,u,1,[u])).set(x)};(c.prototype=Object.create(Promise.prototype)).constructor=c,c.convert=function(u,x){return u.__proto__=x||c.prototype,u},c.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},c.prototype.from=function(u,x){return this.then(function(){switch(x=x||(function(h){switch(l(h)){case"string":return"string";case"element":return h.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(u),x){case"string":return this.then(a).then(function(h){return this.set({src:i("div",{innerHTML:u,dompurify:h})})});case"element":return this.set({src:u});case"canvas":return this.set({canvas:u});case"img":return this.set({img:u});default:return this.error("Unknown source type.")}})},c.prototype.to=function(u){switch(u){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},c.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var u={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},x=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);x.tagName==="BODY"&&(u.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:u}),this.prop.container.appendChild(x),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},c.prototype.toCanvas=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(t).then(function(x){var h=Object.assign({},this.opt.html2canvas);return delete h.onrendered,x(this.prop.container,h)}).then(function(x){(this.opt.html2canvas.onrendered||function(){})(x),this.prop.canvas=x,document.body.removeChild(this.prop.overlay)})},c.prototype.toContext2d=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(t).then(function(x){var h=this.opt.jsPDF,p=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,y=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete y.onrendered,h.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,h.context2d.posX=this.opt.x,h.context2d.posY=this.opt.y,h.context2d.margin=this.opt.margin,h.context2d.fontFaces=p,p)for(var g=0;g<p.length;++g){var v=p[g],C=v.src.find(function(N){return N.format==="truetype"});C&&h.addFont(C.url,v.ref.name,v.ref.style)}return y.windowHeight=y.windowHeight||0,y.windowHeight=y.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):y.windowHeight,h.context2d.save(!0),x(this.prop.container,y)}).then(function(x){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(x),this.prop.canvas=x,document.body.removeChild(this.prop.overlay)})},c.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var u=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=u})},c.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},c.prototype.output=function(u,x,h){return(h=h||"pdf").toLowerCase()==="img"||h.toLowerCase()==="image"?this.outputImg(u,x):this.outputPdf(u,x)},c.prototype.outputPdf=function(u,x){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(u,x)})},c.prototype.outputImg=function(u){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(u){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+u+'" is not supported.'}})},c.prototype.save=function(u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(u?{filename:u}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},c.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},c.prototype.set=function(u){if(l(u)!=="object")return this;var x=Object.keys(u||{}).map(function(h){if(h in c.template.prop)return function(){this.prop[h]=u[h]};switch(h){case"margin":return this.setMargin.bind(this,u.margin);case"jsPDF":return function(){return this.opt.jsPDF=u.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,u.pageSize);default:return function(){this.opt[h]=u[h]}}},this);return this.then(function(){return this.thenList(x)})},c.prototype.get=function(u,x){return this.then(function(){var h=u in c.template.prop?this.prop[u]:this.opt[u];return x?x(h):h})},c.prototype.setMargin=function(u){return this.then(function(){switch(l(u)){case"number":u=[u,u,u,u];case"array":if(u.length===2&&(u=[u[0],u[1],u[0],u[1]]),u.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=u}).then(this.setPageSize)},c.prototype.setPageSize=function(u){function x(h,p){return Math.floor(h*p/72*96)}return this.then(function(){(u=u||gt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(u.inner={width:u.width-this.opt.margin[1]-this.opt.margin[3],height:u.height-this.opt.margin[0]-this.opt.margin[2]},u.inner.px={width:x(u.inner.width,u.k),height:x(u.inner.height,u.k)},u.inner.ratio=u.inner.height/u.inner.width),this.prop.pageSize=u})},c.prototype.setProgress=function(u,x,h,p){return u!=null&&(this.progress.val=u),x!=null&&(this.progress.state=x),h!=null&&(this.progress.n=h),p!=null&&(this.progress.stack=p),this.progress.ratio=this.progress.val/this.progress.state,this},c.prototype.updateProgress=function(u,x,h,p){return this.setProgress(u?this.progress.val+u:null,x||null,h?this.progress.n+h:null,p?this.progress.stack.concat(p):null)},c.prototype.then=function(u,x){var h=this;return this.thenCore(u,x,function(p,f){return h.updateProgress(null,null,1,[p]),Promise.prototype.then.call(this,function(y){return h.updateProgress(null,p),y}).then(p,f).then(function(y){return h.updateProgress(1),y})})},c.prototype.thenCore=function(u,x,h){h=h||Promise.prototype.then;var p=this;u&&(u=u.bind(p)),x&&(x=x.bind(p));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?p:c.convert(Object.assign({},p),Promise.prototype),y=h.call(f,u,x);return c.convert(y,p.__proto__)},c.prototype.thenExternal=function(u,x){return Promise.prototype.then.call(this,u,x)},c.prototype.thenList=function(u){var x=this;return u.forEach(function(h){x=x.thenCore(h)}),x},c.prototype.catch=function(u){u&&(u=u.bind(this));var x=Promise.prototype.catch.call(this,u);return c.convert(x,this)},c.prototype.catchExternal=function(u){return Promise.prototype.catch.call(this,u)},c.prototype.error=function(u){return this.then(function(){throw new Error(u)})},c.prototype.using=c.prototype.set,c.prototype.saveAs=c.prototype.save,c.prototype.export=c.prototype.output,c.prototype.run=c.prototype.then,gt.getPageSize=function(u,x,h){if(Js(u)==="object"){var p=u;u=p.orientation,x=p.unit||x,h=p.format||h}x=x||"mm",h=h||"a4",u=(""+(u||"P")).toLowerCase();var f,y=(""+h).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(x){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+x}var v,C=0,N=0;if(g.hasOwnProperty(y))C=g[y][1]/f,N=g[y][0]/f;else try{C=h[1],N=h[0]}catch{throw new Error("Invalid format: "+h)}if(u==="p"||u==="portrait")u="p",N>C&&(v=N,N=C,C=v);else{if(u!=="l"&&u!=="landscape")throw"Invalid orientation: "+u;u="l",C>N&&(v=N,N=C,C=v)}return{width:N,height:C,unit:x,k:f,orientation:u}},s.html=function(u,x){(x=x||{}).callback=x.callback||function(){},x.html2canvas=x.html2canvas||{},x.html2canvas.canvas=x.html2canvas.canvas||this.canvas,x.jsPDF=x.jsPDF||this,x.fontFaces=x.fontFaces?x.fontFaces.map(Of):null;var h=new c(x);return x.worker?h:h.from(u).doCallback()}})(gt.API),gt.API.addJS=function(s){var t,a,l=(function(i){for(var o="",c=0;c<i.length;c++){var u=i[c];if(u==="("||u===")"){for(var x=0,h=c-1;h>=0&&i[h]==="\\";h--)x++;o+=x%2==0?"\\"+u:u}else o+=u}return o})(s);return this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(t+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),a=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+l+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){t!==void 0&&a!==void 0&&this.internal.out("/Names <</JavaScript "+t+" 0 R>>")}),this},(function(s){var t;s.events.push(["postPutResources",function(){var a=this,l=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=a.outline.render().split(/\r\n/),o=0;o<i.length;o++){var c=i[o],u=l.exec(c);if(u!=null){var x=u[1];a.internal.newObjectDeferredBegin(x,!1)}a.internal.write(c)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,p=[];for(o=0;o<h;o++){var f=a.internal.newObject();p.push(f);var y=a.internal.getPageInfo(o+1);a.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var g=a.internal.newObject();for(a.internal.write("<< /Names [ "),o=0;o<p.length;o++)a.internal.write("(page_"+(o+1)+")"+p[o]+" 0 R");a.internal.write(" ] >>","endobj"),t=a.internal.newObject(),a.internal.write("<< /Dests "+g+" 0 R"),a.internal.write(">>","endobj")}}]),s.events.push(["putCatalog",function(){var a=this;a.outline.root.children.length>0&&(a.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&a.internal.write("/Names "+t+" 0 R"))}]),s.events.push(["initialized",function(){var a=this;a.outline={createNamedDestinations:!1,root:{children:[]}},a.outline.add=function(l,i,o){var c={title:i,options:o,children:[]};return l==null&&(l=this.root),l.children.push(c),c},a.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=a,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},a.outline.genIds_r=function(l){l.id=a.internal.newObjectDeferred();for(var i=0;i<l.children.length;i++)this.genIds_r(l.children[i])},a.outline.renderRoot=function(l){this.objStart(l),this.line("/Type /Outlines"),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1]))),this.line("/Count "+this.count_r({count:0},l)),this.objEnd()},a.outline.renderItems=function(l){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<l.children.length;o++){var c=l.children[o];this.objStart(c),this.line("/Title "+this.makeString(c.title)),this.line("/Parent "+this.makeRef(l)),o>0&&this.line("/Prev "+this.makeRef(l.children[o-1])),o<l.children.length-1&&this.line("/Next "+this.makeRef(l.children[o+1])),c.children.length>0&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1])));var u=this.count=this.count_r({count:0},c);if(u>0&&this.line("/Count "+u),c.options&&c.options.pageNumber){var x=a.internal.getPageInfo(c.options.pageNumber);this.line("/Dest ["+x.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var h=0;h<l.children.length;h++)this.renderItems(l.children[h])},a.outline.line=function(l){this.ctx.val+=l+`\r
`},a.outline.makeRef=function(l){return l.id+" 0 R"},a.outline.makeString=function(l){return"("+a.internal.pdfEscape(l)+")"},a.outline.objStart=function(l){this.ctx.val+=`\r
`+l.id+` 0 obj\r
<<\r
`},a.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},a.outline.count_r=function(l,i){for(var o=0;o<i.children.length;o++)l.count++,this.count_r(l,i.children[o]);return l.count}}])})(gt.API),(function(s){var t=[192,193,194,195,196,197,198,199];s.processJPEG=function(a,l,i,o,c,u){var x,h=this.decode.DCT_DECODE,p=null;if(typeof a=="string"||this.__addimage__.isArrayBuffer(a)||this.__addimage__.isArrayBufferView(a)){switch(a=c||a,a=this.__addimage__.isArrayBuffer(a)?new Uint8Array(a):a,x=(function(f){for(var y,g=256*f.charCodeAt(4)+f.charCodeAt(5),v=f.length,C={width:0,height:0,numcomponents:1},N=4;N<v;N+=2){if(N+=g,t.indexOf(f.charCodeAt(N+1))!==-1){y=256*f.charCodeAt(N+5)+f.charCodeAt(N+6),C={width:256*f.charCodeAt(N+7)+f.charCodeAt(N+8),height:y,numcomponents:f.charCodeAt(N+9)};break}g=256*f.charCodeAt(N+2)+f.charCodeAt(N+3)}return C})(a=this.__addimage__.isArrayBufferView(a)?this.__addimage__.arrayBufferToBinaryString(a):a),x.numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}p={data:a,width:x.width,height:x.height,colorSpace:u,bitsPerComponent:8,filter:h,index:l,alias:i}}return p}})(gt.API),gt.API.processPNG=function(s,t,a,l){if(this.__addimage__.isArrayBuffer(s)&&(s=new Uint8Array(s)),this.__addimage__.isArrayBufferView(s)){var i,o=Z_(s,{checkCrc:!0}),c=o.width,u=o.height,x=o.channels,h=o.palette,p=o.depth;i=h&&x===1?(function(W){for(var B=W.width,z=W.height,P=W.data,F=W.palette,G=W.depth,Y=!1,me=[],H=[],V=void 0,$=!1,le=0,ge=0;ge<F.length;ge++){var te=i2(F[ge],4),q=te[0],Q=te[1],K=te[2],oe=te[3];me.push(q,Q,K),oe!=null&&(oe===0?(le++,H.length<1&&H.push(ge)):oe<255&&($=!0))}if($||le>1){Y=!0,H=void 0;var ae=B*z;V=new Uint8Array(ae);for(var ce=new DataView(P.buffer),pe=0;pe<ae;pe++){var we=If(ce,pe,G),Ee=i2(F[we],4)[3];V[pe]=Ee}}else le===0&&(H=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:Y?8:void 0,colorBytes:P,alphaBytes:V,needSMask:Y,palette:me,mask:H}})(o):x===2||x===4?(function(W){for(var B=W.data,z=W.width,P=W.height,F=W.channels,G=W.depth,Y=F===2?"DeviceGray":"DeviceRGB",me=F-1,H=z*P,V=me,$=H*V,le=1*H,ge=Math.ceil($*G/8),te=Math.ceil(le*G/8),q=new Uint8Array(ge),Q=new Uint8Array(te),K=new DataView(B.buffer),oe=new DataView(q.buffer),ae=new DataView(Q.buffer),ce=!1,pe=0;pe<H;pe++){for(var we=pe*F,Ee=0;Ee<V;Ee++)dj(oe,If(K,we+Ee,G),pe*V+Ee,G);var Be=If(K,we+V,G);Be<(1<<G)-1&&(ce=!0),dj(ae,Be,1*pe,G)}return{colorSpace:Y,colorsPerPixel:me,sMaskBitsPerComponent:ce?G:void 0,colorBytes:q,alphaBytes:Q,needSMask:ce}})(o):(function(W){var B=W.data,z=W.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:z,colorsPerPixel:z==="DeviceGray"?1:3,colorBytes:B instanceof Uint16Array?(function(P){for(var F=P.length,G=new Uint8Array(2*F),Y=new DataView(G.buffer,G.byteOffset,G.byteLength),me=0;me<F;me++)Y.setUint16(2*me,P[me],!1);return G})(B):B,needSMask:!1}})(o);var f,y,g,v=i,C=v.colorSpace,N=v.colorsPerPixel,k=v.sMaskBitsPerComponent,A=v.colorBytes,E=v.alphaBytes,w=v.needSMask,R=v.palette,T=v.mask,O=null;return l!==gt.API.image_compression.NONE&&typeof bg=="function"?(O=(function(W){var B;switch(W){case gt.API.image_compression.FAST:B=11;break;case gt.API.image_compression.MEDIUM:B=13;break;case gt.API.image_compression.SLOW:B=14;break;default:B=12}return B})(l),f=this.decode.FLATE_DECODE,y="/Predictor ".concat(O," /Colors ").concat(N," /BitsPerComponent ").concat(p," /Columns ").concat(c),s=lj(A,Math.ceil(c*N*p/8),N,p,l),w&&(g=lj(E,Math.ceil(c*k/8),1,k,l))):(f=void 0,y=void 0,s=A,w&&(g=E)),(this.__addimage__.isArrayBuffer(s)||this.__addimage__.isArrayBufferView(s))&&(s=this.__addimage__.arrayBufferToBinaryString(s)),(g&&this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),{alias:a,data:s,index:t,filter:f,decodeParameters:y,transparency:T,palette:R,sMask:g,predictor:O,width:c,height:u,bitsPerComponent:p,sMaskBitsPerComponent:k,colorSpace:C}}},(function(s){s.processGIF89A=function(t,a,l,i){var o=new yP(t),c=o.width,u=o.height,x=[];o.decodeAndBlitFrameRGBA(0,x);var h={data:x,width:c,height:u},p=new Bf(100).encode(h,100);return s.processJPEG.call(this,p,a,l,i)},s.processGIF87A=s.processGIF89A})(gt.API),Ei.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var s=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(s);for(var t=0;t<s;t++){var a=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:l,blue:a,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ei.prototype.parseBGR=function(){this.pos=this.offset;var s="bit"+this.bitPP,t=this.width*this.height*4;if(t>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(t);try{this[s]()}catch(a){da.log("bit decode error:"+a)}},Ei.prototype.bit1=function(){var s,t=Math.ceil(this.width/8),a=t%4;for(s=this.height-1;s>=0;s--){for(var l=this.bottom_up?s:this.height-1-s,i=0;i<t;i++)for(var o=this.datav.getUint8(this.pos++,!0),c=l*this.width*4+8*i*4,u=0;u<8&&8*i+u<this.width;u++){var x=this.palette[o>>7-u&1];this.data[c+4*u]=x.blue,this.data[c+4*u+1]=x.green,this.data[c+4*u+2]=x.red,this.data[c+4*u+3]=255}a!==0&&(this.pos+=4-a)}},Ei.prototype.bit4=function(){for(var s=Math.ceil(this.width/2),t=s%4,a=this.height-1;a>=0;a--){for(var l=this.bottom_up?a:this.height-1-a,i=0;i<s;i++){var o=this.datav.getUint8(this.pos++,!0),c=l*this.width*4+2*i*4,u=o>>4,x=15&o,h=this.palette[u];if(this.data[c]=h.blue,this.data[c+1]=h.green,this.data[c+2]=h.red,this.data[c+3]=255,2*i+1>=this.width)break;h=this.palette[x],this.data[c+4]=h.blue,this.data[c+4+1]=h.green,this.data[c+4+2]=h.red,this.data[c+4+3]=255}t!==0&&(this.pos+=4-t)}},Ei.prototype.bit8=function(){for(var s=this.width%4,t=this.height-1;t>=0;t--){for(var a=this.bottom_up?t:this.height-1-t,l=0;l<this.width;l++){var i=this.datav.getUint8(this.pos++,!0),o=a*this.width*4+4*l;if(i<this.palette.length){var c=this.palette[i];this.data[o]=c.red,this.data[o+1]=c.green,this.data[o+2]=c.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}s!==0&&(this.pos+=4-s)}},Ei.prototype.bit15=function(){for(var s=this.width%3,t=parseInt("11111",2),a=this.height-1;a>=0;a--){for(var l=this.bottom_up?a:this.height-1-a,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(o&t)/t*255|0,u=(o>>5&t)/t*255|0,x=(o>>10&t)/t*255|0,h=o>>15?255:0,p=l*this.width*4+4*i;this.data[p]=x,this.data[p+1]=u,this.data[p+2]=c,this.data[p+3]=h}this.pos+=s}},Ei.prototype.bit16=function(){for(var s=this.width%3,t=parseInt("11111",2),a=parseInt("111111",2),l=this.height-1;l>=0;l--){for(var i=this.bottom_up?l:this.height-1-l,o=0;o<this.width;o++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(c&t)/t*255|0,x=(c>>5&a)/a*255|0,h=(c>>11)/t*255|0,p=i*this.width*4+4*o;this.data[p]=h,this.data[p+1]=x,this.data[p+2]=u,this.data[p+3]=255}this.pos+=s}},Ei.prototype.bit24=function(){for(var s=this.height-1;s>=0;s--){for(var t=this.bottom_up?s:this.height-1-s,a=0;a<this.width;a++){var l=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=t*this.width*4+4*a;this.data[c]=o,this.data[c+1]=i,this.data[c+2]=l,this.data[c+3]=255}this.pos+=this.width%4}},Ei.prototype.bit32=function(){for(var s=this.height-1;s>=0;s--)for(var t=this.bottom_up?s:this.height-1-s,a=0;a<this.width;a++){var l=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),u=t*this.width*4+4*a;this.data[u]=o,this.data[u+1]=i,this.data[u+2]=l,this.data[u+3]=c}},Ei.prototype.getData=function(){return this.data},(function(s){s.processBMP=function(t,a,l,i){var o=new Ei(t,!1),c=o.width,u=o.height,x={data:o.getData(),width:c,height:u},h=new Bf(100).encode(x,100);return s.processJPEG.call(this,h,a,l,i)}})(gt.API),xj.prototype.getData=function(){return this.data},(function(s){s.processWEBP=function(t,a,l,i){var o=new xj(t),c=o.width,u=o.height,x={data:o.getData(),width:c,height:u},h=new Bf(100).encode(x,100);return s.processJPEG.call(this,h,a,l,i)}})(gt.API),gt.API.processRGBA=function(s,t,a){for(var l=s.data,i=l.length,o=new Uint8Array(i/4*3),c=new Uint8Array(i/4),u=0,x=0,h=0;h<i;h+=4){var p=l[h],f=l[h+1],y=l[h+2],g=l[h+3];o[u++]=p,o[u++]=f,o[u++]=y,c[x++]=g}var v=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(c),data:v,index:t,alias:a,colorSpace:"DeviceRGB",bitsPerComponent:8,width:s.width,height:s.height}},gt.API.setLanguage=function(s){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[s]!==void 0&&(this.internal.languageSettings.languageCode=s,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},U0=gt.API,Mh=U0.getCharWidthsArray=function(s,t){var a,l,i=(t=t||{}).font||this.internal.getFont(),o=t.fontSize||this.internal.getFontSize(),c=t.charSpace||this.internal.getCharSpace(),u=t.widths?t.widths:i.metadata.Unicode.widths,x=u.fof?u.fof:1,h=t.kerning?t.kerning:i.metadata.Unicode.kerning,p=h.fof?h.fof:1,f=t.doKerning!==!1,y=0,g=s.length,v=0,C=u[0]||x,N=[];for(a=0;a<g;a++)l=s.charCodeAt(a),typeof i.metadata.widthOfString=="function"?N.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(l))+c*(1e3/o)||0)/1e3):(y=f&&Js(h[l])==="object"&&!isNaN(parseInt(h[l][v],10))?h[l][v]/p:0,N.push((u[l]||C)/x+y)),v=l;return N},sj=U0.getStringUnitWidth=function(s,t){var a=(t=t||{}).fontSize||this.internal.getFontSize(),l=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return U0.processArabic&&(s=U0.processArabic(s)),typeof l.metadata.widthOfString=="function"?l.metadata.widthOfString(s,a,i)/a:Mh.apply(this,arguments).reduce(function(o,c){return o+c},0)},aj=function(s,t,a,l){for(var i=[],o=0,c=s.length,u=0;o!==c&&u+t[o]<a;)u+=t[o],o++;i.push(s.slice(0,o));var x=o;for(u=0;o!==c;)u+t[o]>l&&(i.push(s.slice(x,o)),u=0,x=o),u+=t[o],o++;return x!==o&&i.push(s.slice(x,o)),i},rj=function(s,t,a){a||(a={});var l,i,o,c,u,x,h,p=[],f=[p],y=a.textIndent||0,g=0,v=0,C=s.split(" "),N=Mh.apply(this,[" ",a])[0];if(x=a.lineIndent===-1?C[0].length+2:a.lineIndent||0){var k=Array(x).join(" "),A=[];C.map(function(w){(w=w.split(/\s*\n/)).length>1?A=A.concat(w.map(function(R,T){return(T&&R.length?`
`:"")+R})):A.push(w[0])}),C=A,x=sj.apply(this,[k,a])}for(o=0,c=C.length;o<c;o++){var E=0;if(l=C[o],x&&l[0]==`
`&&(l=l.substr(1),E=1),y+g+(v=(i=Mh.apply(this,[l,a])).reduce(function(w,R){return w+R},0))>t||E){if(v>t){for(u=aj.apply(this,[l,i,t-(y+g),t]),p.push(u.shift()),p=[u.pop()];u.length;)f.push([u.shift()]);v=i.slice(l.length-(p[0]?p[0].length:0)).reduce(function(w,R){return w+R},0)}else p=[l];f.push(p),y=v+x,g=N}else p.push(l),y+=g+v,g=N}return h=x?function(w,R){return(R?k:"")+w.join(" ")}:function(w){return w.join(" ")},f.map(h)},U0.splitTextToSize=function(s,t,a){var l,i=(a=a||{}).fontSize||this.internal.getFontSize(),o=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var f=this.internal.getFont(p.fontName,p.fontStyle),y="Unicode";return f.metadata[y]?{widths:f.metadata[y].widths||{0:1},kerning:f.metadata[y].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,a);l=Array.isArray(s)?s:String(s).split(/\r?\n/);var c=1*this.internal.scaleFactor*t/i;o.textIndent=a.textIndent?1*a.textIndent*this.internal.scaleFactor/i:0,o.lineIndent=a.lineIndent;var u,x,h=[];for(u=0,x=l.length;u<x;u++)h=h.concat(rj.apply(this,[l[u],c,o]));return h},(function(s){s.__fontmetrics__=s.__fontmetrics__||{};for(var t="0123456789abcdef",a="klmnopqrstuvwxyz",l={},i={},o=0;o<16;o++)l[a[o]]=t[o],i[t[o]]=a[o];var c=function(y){return"0x"+parseInt(y,10).toString(16)},u=s.__fontmetrics__.compress=function(y){var g,v,C,N,k=["{"];for(var A in y){if(g=y[A],isNaN(parseInt(A,10))?v="'"+A+"'":(A=parseInt(A,10),v=(v=c(A).slice(2)).slice(0,-1)+i[v.slice(-1)]),typeof g=="number")g<0?(C=c(g).slice(3),N="-"):(C=c(g).slice(2),N=""),C=N+C.slice(0,-1)+i[C.slice(-1)];else{if(Js(g)!=="object")throw new Error("Don't know what to do with value type "+Js(g)+".");C=u(g)}k.push(v+C)}return k.push("}"),k.join("")},x=s.__fontmetrics__.uncompress=function(y){if(typeof y!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,v,C,N,k={},A=1,E=k,w=[],R="",T="",O=y.length-1,W=1;W<O;W+=1)(N=y[W])=="'"?g?(C=g.join(""),g=void 0):g=[]:g?g.push(N):N=="{"?(w.push([E,C]),E={},C=void 0):N=="}"?((v=w.pop())[0][v[1]]=E,C=void 0,E=v[0]):N=="-"?A=-1:C===void 0?l.hasOwnProperty(N)?(R+=l[N],C=parseInt(R,16)*A,A=1,R=""):R+=N:l.hasOwnProperty(N)?(T+=l[N],E[C]=parseInt(T,16)*A,A=1,C=void 0,T=""):T+=N;return k},h={codePages:["WinAnsiEncoding"],WinAnsiEncoding:x("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},p={Unicode:{Courier:h,"Courier-Bold":h,"Courier-BoldOblique":h,"Courier-Oblique":h,Helvetica:h,"Helvetica-Bold":h,"Helvetica-BoldOblique":h,"Helvetica-Oblique":h,"Times-Roman":h,"Times-Bold":h,"Times-BoldItalic":h,"Times-Italic":h}},f={Unicode:{"Courier-Oblique":x("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":x("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":x("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:x("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":x("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":x("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:x("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:x("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":x("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:x("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":x("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":x("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":x("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":x("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};s.events.push(["addFont",function(y){var g=y.font,v=f.Unicode[g.postScriptName];v&&(g.metadata.Unicode={},g.metadata.Unicode.widths=v.widths,g.metadata.Unicode.kerning=v.kerning);var C=p.Unicode[g.postScriptName];C&&(g.metadata.Unicode.encoding=C,g.encoding=C.codePages[0])}])})(gt.API),(function(s){var t=function(a){for(var l=a.length,i=new Uint8Array(l),o=0;o<l;o++)i[o]=a.charCodeAt(o);return i};s.API.events.push(["addFont",function(a){var l=void 0,i=a.font,o=a.instance;if(!i.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(l=o.existsFileInVFS(i.postScriptName)===!1?o.loadFile(i.postScriptName):o.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(c,u){u=/^\x00\x01\x00\x00/.test(u)?t(u):t(Xh(u)),c.metadata=s.API.TTFFont.open(u),c.metadata.Unicode=c.metadata.Unicode||{encoding:{},kerning:{},widths:[]},c.metadata.glyIdsUsed=[0]})(i,l)}}])})(gt),gt.API.addSvgAsImage=function(s,t,a,l,i,o,c,u){if(isNaN(t)||isNaN(a))throw da.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(l)||isNaN(i))throw da.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var x=document.createElement("canvas");x.width=l,x.height=i;var h=x.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,x.width,x.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(Kt.canvg?Promise.resolve(Kt.canvg):sx(()=>import("./index.es-CCy-zRHo.js"),[])).catch(function(y){return Promise.reject(new Error("Could not load canvg: "+y))}).then(function(y){return y.default?y.default:y}).then(function(y){return y.fromString(h,s,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(y){return y.render(p)}).then(function(){f.addImage(x.toDataURL("image/jpeg",1),t,a,l,i,c,u)})},gt.API.putTotalPages=function(s){var t,a=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(s,"g"),a=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(s,this.internal.getFont()),"g"),a=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var l=1;l<=this.internal.getNumberOfPages();l++)for(var i=0;i<this.internal.pages[l].length;i++)this.internal.pages[l][i]=this.internal.pages[l][i].replace(t,a);return this},gt.API.viewerPreferences=function(s,t){var a;s=s||{},t=t||!1;var l,i,o,c={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(c),x=[],h=0,p=0,f=0;function y(v,C){var N,k=!1;for(N=0;N<v.length;N+=1)v[N]===C&&(k=!0);return k}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(c)),this.internal.viewerpreferences.isSubscribed=!1),a=this.internal.viewerpreferences.configuration,s==="reset"||t===!0){var g=u.length;for(f=0;f<g;f+=1)a[u[f]].value=a[u[f]].defaultValue,a[u[f]].explicitSet=!1}if(Js(s)==="object"){for(i in s)if(o=s[i],y(u,i)&&o!==void 0){if(a[i].type==="boolean"&&typeof o=="boolean")a[i].value=o;else if(a[i].type==="name"&&y(a[i].valueSet,o))a[i].value=o;else if(a[i].type==="integer"&&Number.isInteger(o))a[i].value=o;else if(a[i].type==="array"){for(h=0;h<o.length;h+=1)if(l=!0,o[h].length===1&&typeof o[h][0]=="number")x.push(String(o[h]-1));else if(o[h].length>1){for(p=0;p<o[h].length;p+=1)typeof o[h][p]!="number"&&(l=!1);l===!0&&x.push([o[h][0]-1,o[h][1]-1].join(" "))}a[i].value="["+x.join(" ")+"]"}else a[i].value=a[i].defaultValue;a[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,C=[];for(v in a)a[v].explicitSet===!0&&(a[v].type==="name"?C.push("/"+v+" /"+a[v].value):C.push("/"+v+" "+a[v].value));C.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+C.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=a,this},gt.API.addMetadata=function(s,t){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:s,namespaceUri:t??"http://jspdf.default.namespaceuri/",rawXml:typeof t=="boolean"&&t},this.internal.events.subscribe("putCatalog",wP),this.internal.events.subscribe("postPutResources",jP)),this},(function(s){var t=s.API,a=t.pdfEscape16=function(o,c){for(var u,x=c.metadata.Unicode.widths,h=["","0","00","000","0000"],p=[""],f=0,y=o.length;f<y;++f){if(u=c.metadata.characterToGlyph(o.charCodeAt(f)),c.metadata.glyIdsUsed.push(u),c.metadata.toUnicode[u]=o.charCodeAt(f),x.indexOf(u)==-1&&(x.push(u),x.push([parseInt(c.metadata.widthOfGlyph(u),10)])),u=="0")return p.join("");u=u.toString(16),p.push(h[4-u.length],u)}return p.join("")},l=function(o){var c,u,x,h,p,f,y;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,x=[],f=0,y=(u=Object.keys(o).sort(function(g,v){return g-v})).length;f<y;f++)c=u[f],x.length>=100&&(p+=`
`+x.length+` beginbfchar
`+x.join(`
`)+`
endbfchar`,x=[]),o[c]!==void 0&&o[c]!==null&&typeof o[c].toString=="function"&&(h=("0000"+o[c].toString(16)).slice(-4),c=("0000"+(+c).toString(16)).slice(-4),x.push("<"+c+"><"+h+">"));return x.length&&(p+=`
`+x.length+` beginbfchar
`+x.join(`
`)+`
endbfchar
`),p+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(o){(function(c){var u=c.font,x=c.out,h=c.newObject,p=c.putStream;if(u.metadata instanceof s.API.TTFFont&&u.encoding==="Identity-H"){for(var f=u.metadata.Unicode.widths,y=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),g="",v=0;v<y.length;v++)g+=String.fromCharCode(y[v]);var C=h();p({data:g,addLength1:!0,objectId:C}),x("endobj");var N=h();p({data:l(u.metadata.toUnicode),addLength1:!0,objectId:N}),x("endobj");var k=h();x("<<"),x("/Type /FontDescriptor"),x("/FontName /"+q0(u.fontName)),x("/FontFile2 "+C+" 0 R"),x("/FontBBox "+s.API.PDFObject.convert(u.metadata.bbox)),x("/Flags "+u.metadata.flags),x("/StemV "+u.metadata.stemV),x("/ItalicAngle "+u.metadata.italicAngle),x("/Ascent "+u.metadata.ascender),x("/Descent "+u.metadata.decender),x("/CapHeight "+u.metadata.capHeight),x(">>"),x("endobj");var A=h();x("<<"),x("/Type /Font"),x("/BaseFont /"+q0(u.fontName)),x("/FontDescriptor "+k+" 0 R"),x("/W "+s.API.PDFObject.convert(f)),x("/CIDToGIDMap /Identity"),x("/DW 1000"),x("/Subtype /CIDFontType2"),x("/CIDSystemInfo"),x("<<"),x("/Supplement 0"),x("/Registry (Adobe)"),x("/Ordering ("+u.encoding+")"),x(">>"),x(">>"),x("endobj"),u.objectNumber=h(),x("<<"),x("/Type /Font"),x("/Subtype /Type0"),x("/ToUnicode "+N+" 0 R"),x("/BaseFont /"+q0(u.fontName)),x("/Encoding /"+u.encoding),x("/DescendantFonts ["+A+" 0 R]"),x(">>"),x("endobj"),u.isAlreadyPutted=!0}})(o)}]),t.events.push(["putFont",function(o){(function(c){var u=c.font,x=c.out,h=c.newObject,p=c.putStream;if(u.metadata instanceof s.API.TTFFont&&u.encoding==="WinAnsiEncoding"){for(var f=u.metadata.rawData,y="",g=0;g<f.length;g++)y+=String.fromCharCode(f[g]);var v=h();p({data:y,addLength1:!0,objectId:v}),x("endobj");var C=h();p({data:l(u.metadata.toUnicode),addLength1:!0,objectId:C}),x("endobj");var N=h();x("<<"),x("/Descent "+u.metadata.decender),x("/CapHeight "+u.metadata.capHeight),x("/StemV "+u.metadata.stemV),x("/Type /FontDescriptor"),x("/FontFile2 "+v+" 0 R"),x("/Flags 96"),x("/FontBBox "+s.API.PDFObject.convert(u.metadata.bbox)),x("/FontName /"+q0(u.fontName)),x("/ItalicAngle "+u.metadata.italicAngle),x("/Ascent "+u.metadata.ascender),x(">>"),x("endobj"),u.objectNumber=h();for(var k=0;k<u.metadata.hmtx.widths.length;k++)u.metadata.hmtx.widths[k]=parseInt(u.metadata.hmtx.widths[k]*(1e3/u.metadata.head.unitsPerEm));x("<</Subtype/TrueType/Type/Font/ToUnicode "+C+" 0 R/BaseFont/"+q0(u.fontName)+"/FontDescriptor "+N+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+s.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),x("endobj"),u.isAlreadyPutted=!0}})(o)}]);var i=function(o){var c,u=o.text||"",x=o.x,h=o.y,p=o.options||{},f=o.mutex||{},y=f.pdfEscape,g=f.activeFontKey,v=f.fonts,C=g,N="",k=0,A="",E=v[C].encoding;if(v[C].encoding!=="Identity-H")return{text:u,x,y:h,options:p,mutex:f};for(A=u,C=g,Array.isArray(u)&&(A=u[0]),k=0;k<A.length;k+=1)v[C].metadata.hasOwnProperty("cmap")&&(c=v[C].metadata.cmap.unicode.codeMap[A[k].charCodeAt(0)]),c||A[k].charCodeAt(0)<256&&v[C].metadata.hasOwnProperty("Unicode")?N+=A[k]:N+="";var w="";return parseInt(C.slice(1))<14||E==="WinAnsiEncoding"?w=y(N,C).split("").map(function(R){return R.charCodeAt(0).toString(16)}).join(""):E==="Identity-H"&&(w=a(N,v[C])),f.isHex=!0,{text:w,x,y:h,options:p,mutex:f}};t.events.push(["postProcessText",function(o){var c=o.text||"",u=[],x={text:c,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(c)){var h=0;for(h=0;h<c.length;h+=1)Array.isArray(c[h])&&c[h].length===3?u.push([i(Object.assign({},x,{text:c[h][0]})).text,c[h][1],c[h][2]]):u.push(i(Object.assign({},x,{text:c[h]})).text);o.text=u}else o.text=i(Object.assign({},x,{text:c})).text}])})(gt),(function(s){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};s.existsFileInVFS=function(a){return t.call(this),this.internal.vFS[a]!==void 0},s.addFileToVFS=function(a,l){return t.call(this),this.internal.vFS[a]=l,this},s.getFileFromVFS=function(a){return t.call(this),this.internal.vFS[a]!==void 0?this.internal.vFS[a]:null}})(gt.API),(function(s){s.__bidiEngine__=s.prototype.__bidiEngine__=function(l){var i,o,c,u,x,h,p,f=t,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},C={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},N=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],k=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),A=!1,E=0;this.__bidiEngine__={};var w=function(P){var F=P.charCodeAt(),G=F>>8,Y=C[G];return Y!==void 0?f[256*Y+(255&F)]:G===252||G===253?"AL":k.test(G)?"L":G===8?"R":"N"},R=function(P){for(var F,G=0;G<P.length;G++){if((F=w(P.charAt(G)))==="L")return!1;if(F==="R")return!0}return!1},T=function(P,F,G,Y){var me,H,V,$,le=F[Y];switch(le){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":A=!1;break;case"N":case"AN":break;case"EN":A&&(le="AN");break;case"AL":A=!0,le="R";break;case"WS":case"BN":le="N";break;case"CS":Y<1||Y+1>=F.length||(me=G[Y-1])!=="EN"&&me!=="AN"||(H=F[Y+1])!=="EN"&&H!=="AN"?le="N":A&&(H="AN"),le=H===me?H:"N";break;case"ES":le=(me=Y>0?G[Y-1]:"B")==="EN"&&Y+1<F.length&&F[Y+1]==="EN"?"EN":"N";break;case"ET":if(Y>0&&G[Y-1]==="EN"){le="EN";break}if(A){le="N";break}for(V=Y+1,$=F.length;V<$&&F[V]==="ET";)V++;le=V<$&&F[V]==="EN"?"EN":"N";break;case"NSM":if(c&&!u){for($=F.length,V=Y+1;V<$&&F[V]==="NSM";)V++;if(V<$){var ge=P[Y],te=ge>=1425&&ge<=2303||ge===64286;if(me=F[V],te&&(me==="R"||me==="AL")){le="R";break}}}le=Y<1||(me=F[Y-1])==="B"?"N":G[Y-1];break;case"B":A=!1,i=!0,le=E;break;case"S":o=!0,le="N"}return le},O=function(P,F,G){var Y=P.split("");return G&&W(Y,G,{hiLevel:E}),Y.reverse(),F&&F.reverse(),Y.join("")},W=function(P,F,G){var Y,me,H,V,$,le=-1,ge=P.length,te=0,q=[],Q=E?g:y,K=[];for(A=!1,i=!1,o=!1,me=0;me<ge;me++)K[me]=w(P[me]);for(H=0;H<ge;H++){if($=te,q[H]=T(P,K,q,H),Y=240&(te=Q[$][v[q[H]]]),te&=15,F[H]=V=Q[te][5],Y>0)if(Y===16){for(me=le;me<H;me++)F[me]=1;le=-1}else le=-1;if(Q[te][6])le===-1&&(le=H);else if(le>-1){for(me=le;me<H;me++)F[me]=V;le=-1}K[H]==="B"&&(F[H]=0),G.hiLevel|=V}o&&(function(oe,ae,ce){for(var pe=0;pe<ce;pe++)if(oe[pe]==="S"){ae[pe]=E;for(var we=pe-1;we>=0&&oe[we]==="WS";we--)ae[we]=E}})(K,F,ge)},B=function(P,F,G,Y,me){if(!(me.hiLevel<P)){if(P===1&&E===1&&!i)return F.reverse(),void(G&&G.reverse());for(var H,V,$,le,ge=F.length,te=0;te<ge;){if(Y[te]>=P){for($=te+1;$<ge&&Y[$]>=P;)$++;for(le=te,V=$-1;le<V;le++,V--)H=F[le],F[le]=F[V],F[V]=H,G&&(H=G[le],G[le]=G[V],G[V]=H);te=$}te++}}},z=function(P,F,G){var Y=P.split(""),me={hiLevel:E};return G||(G=[]),W(Y,G,me),(function(H,V,$){if($.hiLevel!==0&&p)for(var le,ge=0;ge<H.length;ge++)V[ge]===1&&(le=N.indexOf(H[ge]))>=0&&(H[ge]=N[le+1])})(Y,G,me),B(2,Y,F,G,me),B(1,Y,F,G,me),Y.join("")};return this.__bidiEngine__.doBidiReorder=function(P,F,G){if((function(me,H){if(H)for(var V=0;V<me.length;V++)H[V]=V;u===void 0&&(u=R(me)),h===void 0&&(h=R(me))})(P,F),c||!x||h)if(c&&x&&u^h)E=u?1:0,P=O(P,F,G);else if(!c&&x&&h)E=u?1:0,P=z(P,F,G),P=O(P,F);else if(!c||u||x||h){if(c&&!x&&u^h)P=O(P,F),u?(E=0,P=z(P,F,G)):(E=1,P=z(P,F,G),P=O(P,F));else if(c&&u&&!x&&h)E=1,P=z(P,F,G),P=O(P,F);else if(!c&&!x&&u^h){var Y=p;u?(E=1,P=z(P,F,G),E=0,p=!1,P=z(P,F,G),p=Y):(E=0,P=z(P,F,G),P=O(P,F),E=1,p=!1,P=z(P,F,G),p=Y,P=O(P,F))}}else E=0,P=z(P,F,G);else E=u?1:0,P=z(P,F,G);return P},this.__bidiEngine__.setOptions=function(P){P&&(c=P.isInputVisual,x=P.isOutputVisual,u=P.isInputRtl,h=P.isOutputRtl,p=P.isSymmetricSwapping)},this.__bidiEngine__.setOptions(l),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],a=new s.__bidiEngine__({isInputVisual:!0});s.API.events.push(["postProcessText",function(l){var i=l.text;l.x,l.y;var o=l.options||{};l.mutex,o.lang;var c=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,a.setOptions(o),Object.prototype.toString.call(i)==="[object Array]"){var u=0;for(c=[],u=0;u<i.length;u+=1)Object.prototype.toString.call(i[u])==="[object Array]"?c.push([a.doBidiReorder(i[u][0]),i[u][1],i[u][2]]):c.push([a.doBidiReorder(i[u])]);l.text=c}else l.text=a.doBidiReorder(i);a.setOptions({isInputVisual:!0})}])})(gt),gt.API.TTFFont=(function(){function s(t){var a;if(this.rawData=t,a=this.contents=new Wc(t),this.contents.pos=4,a.readString(4)==="ttcf")throw new Error("TTCF not supported.");a.pos=0,this.parse(),this.subset=new OP(this),this.registerTTF()}return s.open=function(t){return new s(t)},s.prototype.parse=function(){return this.directory=new NP(this.contents),this.head=new SP(this),this.name=new EP(this),this.cmap=new G5(this),this.toUnicode={},this.hhea=new CP(this),this.maxp=new MP(this),this.hmtx=new zP(this),this.post=new DP(this),this.os2=new AP(this),this.loca=new RP(this),this.glyf=new TP(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},s.prototype.registerTTF=function(){var t,a,l,i,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var c,u,x,h;for(h=[],c=0,u=(x=this.bbox).length;c<u;c++)t=x[c],h.push(Math.round(t*this.scaleFactor));return h}).call(this),this.stemV=0,this.post.exists?(l=255&(i=this.post.italic_angle),32768&(a=i>>16)&&(a=-(1+(65535^a))),this.italicAngle=+(a+"."+l)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},s.prototype.characterToGlyph=function(t){var a;return((a=this.cmap.unicode)!=null?a.codeMap[t]:void 0)||0},s.prototype.widthOfGlyph=function(t){var a;return a=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*a},s.prototype.widthOfString=function(t,a,l){var i,o,c,u;for(c=0,o=0,u=(t=""+t).length;0<=u?o<u:o>u;o=0<=u?++o:--o)i=t.charCodeAt(o),c+=this.widthOfGlyph(this.characterToGlyph(i))+l*(1e3/a)||0;return c*(a/1e3)},s.prototype.lineHeight=function(t,a){var l;return a==null&&(a=!1),l=a?this.lineGap:0,(this.ascender+l-this.decender)/1e3*t},s})();var Ii,Wc=(function(){function s(t){this.data=t??[],this.pos=0,this.length=this.data.length}return s.prototype.readByte=function(){return this.data[this.pos++]},s.prototype.writeByte=function(t){return this.data[this.pos++]=t},s.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},s.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},s.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},s.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},s.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},s.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},s.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},s.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},s.prototype.readString=function(t){var a,l;for(l=[],a=0;0<=t?a<t:a>t;a=0<=t?++a:--a)l[a]=String.fromCharCode(this.readByte());return l.join("")},s.prototype.writeString=function(t){var a,l,i;for(i=[],a=0,l=t.length;0<=l?a<l:a>l;a=0<=l?++a:--a)i.push(this.writeByte(t.charCodeAt(a)));return i},s.prototype.readShort=function(){return this.readInt16()},s.prototype.writeShort=function(t){return this.writeInt16(t)},s.prototype.readLongLong=function(){var t,a,l,i,o,c,u,x;return t=this.readByte(),a=this.readByte(),l=this.readByte(),i=this.readByte(),o=this.readByte(),c=this.readByte(),u=this.readByte(),x=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^a)+1099511627776*(255^l)+4294967296*(255^i)+16777216*(255^o)+65536*(255^c)+256*(255^u)+(255^x)+1):72057594037927940*t+281474976710656*a+1099511627776*l+4294967296*i+16777216*o+65536*c+256*u+x},s.prototype.writeLongLong=function(t){var a,l;return a=Math.floor(t/4294967296),l=4294967295&t,this.writeByte(a>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a),this.writeByte(l>>24&255),this.writeByte(l>>16&255),this.writeByte(l>>8&255),this.writeByte(255&l)},s.prototype.readInt=function(){return this.readInt32()},s.prototype.writeInt=function(t){return this.writeInt32(t)},s.prototype.read=function(t){var a,l;for(a=[],l=0;0<=t?l<t:l>t;l=0<=t?++l:--l)a.push(this.readByte());return a},s.prototype.write=function(t){var a,l,i,o;for(o=[],l=0,i=t.length;l<i;l++)a=t[l],o.push(this.writeByte(a));return o},s})(),NP=(function(){var s;function t(a){var l,i,o;for(this.scalarType=a.readInt(),this.tableCount=a.readShort(),this.searchRange=a.readShort(),this.entrySelector=a.readShort(),this.rangeShift=a.readShort(),this.tables={},i=0,o=this.tableCount;0<=o?i<o:i>o;i=0<=o?++i:--i)l={tag:a.readString(4),checksum:a.readInt(),offset:a.readInt(),length:a.readInt()},this.tables[l.tag]=l}return t.prototype.encode=function(a){var l,i,o,c,u,x,h,p,f,y,g,v,C;for(C in g=Object.keys(a).length,x=Math.log(2),f=16*Math.floor(Math.log(g)/x),c=Math.floor(f/x),p=16*g-f,(i=new Wc).writeInt(this.scalarType),i.writeShort(g),i.writeShort(f),i.writeShort(c),i.writeShort(p),o=16*g,h=i.pos+o,u=null,v=[],a)for(y=a[C],i.writeString(C),i.writeInt(s(y)),i.writeInt(h),i.writeInt(y.length),v=v.concat(y),C==="head"&&(u=h),h+=y.length;h%4;)v.push(0),h++;return i.write(v),l=2981146554-s(i.data),i.pos=u+8,i.writeUInt32(l),i.data},s=function(a){var l,i,o,c;for(a=V5.call(a);a.length%4;)a.push(0);for(o=new Wc(a),i=0,l=0,c=a.length;l<c;l=l+=4)i+=o.readUInt32();return 4294967295&i},t})(),kP={}.hasOwnProperty,mo=function(s,t){for(var a in t)kP.call(t,a)&&(s[a]=t[a]);function l(){this.constructor=s}return l.prototype=t.prototype,s.prototype=new l,s.__super__=t.prototype,s};Ii=(function(){function s(t){var a;this.file=t,a=this.file.directory.tables[this.tag],this.exists=!!a,a&&(this.offset=a.offset,this.length=a.length,this.parse(this.file.contents))}return s.prototype.parse=function(){},s.prototype.encode=function(){},s.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},s})();var SP=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return mo(s,Ii),s.prototype.tag="head",s.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},s.prototype.encode=function(t){var a;return(a=new Wc).writeInt(this.version),a.writeInt(this.revision),a.writeInt(this.checkSumAdjustment),a.writeInt(this.magicNumber),a.writeShort(this.flags),a.writeShort(this.unitsPerEm),a.writeLongLong(this.created),a.writeLongLong(this.modified),a.writeShort(this.xMin),a.writeShort(this.yMin),a.writeShort(this.xMax),a.writeShort(this.yMax),a.writeShort(this.macStyle),a.writeShort(this.lowestRecPPEM),a.writeShort(this.fontDirectionHint),a.writeShort(t),a.writeShort(this.glyphDataFormat),a.data},s})(),hj=(function(){function s(t,a){var l,i,o,c,u,x,h,p,f,y,g,v,C,N,k,A,E;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=a+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(x=0;x<256;++x)this.codeMap[x]=t.readByte();break;case 4:for(g=t.readUInt16(),y=g/2,t.pos+=6,o=(function(){var w,R;for(R=[],x=w=0;0<=y?w<y:w>y;x=0<=y?++w:--w)R.push(t.readUInt16());return R})(),t.pos+=2,C=(function(){var w,R;for(R=[],x=w=0;0<=y?w<y:w>y;x=0<=y?++w:--w)R.push(t.readUInt16());return R})(),h=(function(){var w,R;for(R=[],x=w=0;0<=y?w<y:w>y;x=0<=y?++w:--w)R.push(t.readUInt16());return R})(),p=(function(){var w,R;for(R=[],x=w=0;0<=y?w<y:w>y;x=0<=y?++w:--w)R.push(t.readUInt16());return R})(),i=(this.length-t.pos+this.offset)/2,u=(function(){var w,R;for(R=[],x=w=0;0<=i?w<i:w>i;x=0<=i?++w:--w)R.push(t.readUInt16());return R})(),x=k=0,E=o.length;k<E;x=++k)for(N=o[x],l=A=v=C[x];v<=N?A<=N:A>=N;l=v<=N?++A:--A)p[x]===0?c=l+h[x]:(c=u[p[x]/2+(l-v)-(y-x)]||0)!==0&&(c+=h[x]),this.codeMap[l]=65535&c}t.pos=f}return s.encode=function(t,a){var l,i,o,c,u,x,h,p,f,y,g,v,C,N,k,A,E,w,R,T,O,W,B,z,P,F,G,Y,me,H,V,$,le,ge,te,q,Q,K,oe,ae,ce,pe,we,Ee,Be,Je;switch(Y=new Wc,c=Object.keys(t).sort(function(tt,he){return tt-he}),a){case"macroman":for(C=0,N=(function(){var tt=[];for(v=0;v<256;++v)tt.push(0);return tt})(),A={0:0},o={},me=0,le=c.length;me<le;me++)A[we=t[i=c[me]]]==null&&(A[we]=++C),o[i]={old:t[i],new:A[t[i]]},N[i]=A[t[i]];return Y.writeUInt16(1),Y.writeUInt16(0),Y.writeUInt32(12),Y.writeUInt16(0),Y.writeUInt16(262),Y.writeUInt16(0),Y.write(N),{charMap:o,subtable:Y.data,maxGlyphID:C+1};case"unicode":for(F=[],f=[],E=0,A={},l={},k=h=null,H=0,ge=c.length;H<ge;H++)A[R=t[i=c[H]]]==null&&(A[R]=++E),l[i]={old:R,new:A[R]},u=A[R]-i,k!=null&&u===h||(k&&f.push(k),F.push(i),h=u),k=i;for(k&&f.push(k),f.push(65535),F.push(65535),z=2*(B=F.length),W=2*Math.pow(Math.log(B)/Math.LN2,2),y=Math.log(W/2)/Math.LN2,O=2*B-W,x=[],T=[],g=[],v=V=0,te=F.length;V<te;v=++V){if(P=F[v],p=f[v],P===65535){x.push(0),T.push(0);break}if(P-(G=l[P].new)>=32768)for(x.push(0),T.push(2*(g.length+B-v)),i=$=P;P<=p?$<=p:$>=p;i=P<=p?++$:--$)g.push(l[i].new);else x.push(G-P),T.push(0)}for(Y.writeUInt16(3),Y.writeUInt16(1),Y.writeUInt32(12),Y.writeUInt16(4),Y.writeUInt16(16+8*B+2*g.length),Y.writeUInt16(0),Y.writeUInt16(z),Y.writeUInt16(W),Y.writeUInt16(y),Y.writeUInt16(O),ce=0,q=f.length;ce<q;ce++)i=f[ce],Y.writeUInt16(i);for(Y.writeUInt16(0),pe=0,Q=F.length;pe<Q;pe++)i=F[pe],Y.writeUInt16(i);for(Ee=0,K=x.length;Ee<K;Ee++)u=x[Ee],Y.writeUInt16(u);for(Be=0,oe=T.length;Be<oe;Be++)w=T[Be],Y.writeUInt16(w);for(Je=0,ae=g.length;Je<ae;Je++)C=g[Je],Y.writeUInt16(C);return{charMap:l,subtable:Y.data,maxGlyphID:E+1}}},s})(),G5=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return mo(s,Ii),s.prototype.tag="cmap",s.prototype.parse=function(t){var a,l,i;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,l=0;0<=i?l<i:l>i;l=0<=i?++l:--l)a=new hj(t,this.offset),this.tables.push(a),a.isUnicode&&this.unicode==null&&(this.unicode=a);return!0},s.encode=function(t,a){var l,i;return a==null&&(a="macroman"),l=hj.encode(t,a),(i=new Wc).writeUInt16(0),i.writeUInt16(1),l.table=i.data.concat(l.subtable),l},s})(),CP=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return mo(s,Ii),s.prototype.tag="hhea",s.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},s})(),AP=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return mo(s,Ii),s.prototype.tag="OS/2",s.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var a,l;for(l=[],a=0;a<10;++a)l.push(t.readByte());return l})(),this.charRange=(function(){var a,l;for(l=[],a=0;a<4;++a)l.push(t.readInt());return l})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var a,l;for(l=[],a=0;a<2;a=++a)l.push(t.readInt());return l})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},s})(),DP=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return mo(s,Ii),s.prototype.tag="post",s.prototype.parse=function(t){var a,l,i;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(l=t.readUInt16(),this.glyphNameIndex=[],o=0;0<=l?o<l:o>l;o=0<=l?++o:--o)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],i=[];t.pos<this.offset+this.length;)a=t.readByte(),i.push(this.names.push(t.readString(a)));return i;case 151552:return l=t.readUInt16(),this.offsets=t.read(l);case 262144:return this.map=(function(){var c,u,x;for(x=[],o=c=0,u=this.file.maxp.numGlyphs;0<=u?c<u:c>u;o=0<=u?++c:--c)x.push(t.readUInt32());return x}).call(this)}},s})(),LP=function(s,t){this.raw=s,this.length=s.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},EP=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return mo(s,Ii),s.prototype.tag="name",s.prototype.parse=function(t){var a,l,i,o,c,u,x,h,p,f,y;for(t.pos=this.offset,t.readShort(),a=t.readShort(),u=t.readShort(),l=[],o=0;0<=a?o<a:o>a;o=0<=a?++o:--o)l.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+u+t.readShort()});for(x={},o=p=0,f=l.length;p<f;o=++p)i=l[o],t.pos=i.offset,h=t.readString(i.length),c=new LP(h,i),x[y=i.nameID]==null&&(x[y]=[]),x[i.nameID].push(c);this.strings=x,this.copyright=x[0],this.fontFamily=x[1],this.fontSubfamily=x[2],this.uniqueSubfamily=x[3],this.fontName=x[4],this.version=x[5];try{this.postscriptName=x[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=x[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=x[7],this.manufacturer=x[8],this.designer=x[9],this.description=x[10],this.vendorUrl=x[11],this.designerUrl=x[12],this.license=x[13],this.licenseUrl=x[14],this.preferredFamily=x[15],this.preferredSubfamily=x[17],this.compatibleFull=x[18],this.sampleText=x[19]},s})(),MP=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return mo(s,Ii),s.prototype.tag="maxp",s.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},s})(),zP=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return mo(s,Ii),s.prototype.tag="hmtx",s.prototype.parse=function(t){var a,l,i,o,c,u,x;for(t.pos=this.offset,this.metrics=[],a=0,u=this.file.hhea.numberOfMetrics;0<=u?a<u:a>u;a=0<=u?++a:--a)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var h,p;for(p=[],a=h=0;0<=i?h<i:h>i;a=0<=i?++h:--h)p.push(t.readInt16());return p})(),this.widths=(function(){var h,p,f,y;for(y=[],h=0,p=(f=this.metrics).length;h<p;h++)o=f[h],y.push(o.advance);return y}).call(this),l=this.widths[this.widths.length-1],x=[],a=c=0;0<=i?c<i:c>i;a=0<=i?++c:--c)x.push(this.widths.push(l));return x},s.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},s})(),V5=[].slice,TP=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return mo(s,Ii),s.prototype.tag="glyf",s.prototype.parse=function(){return this.cache={}},s.prototype.glyphFor=function(t){var a,l,i,o,c,u,x,h,p,f;return t in this.cache?this.cache[t]:(o=this.file.loca,a=this.file.contents,l=o.indexOf(t),(i=o.lengthOf(t))===0?this.cache[t]=null:(a.pos=this.offset+l,c=(u=new Wc(a.read(i))).readShort(),h=u.readShort(),f=u.readShort(),x=u.readShort(),p=u.readShort(),this.cache[t]=c===-1?new PP(u,h,f,x,p):new _P(u,c,h,f,x,p),this.cache[t]))},s.prototype.encode=function(t,a,l){var i,o,c,u,x;for(c=[],o=[],u=0,x=a.length;u<x;u++)i=t[a[u]],o.push(c.length),i&&(c=c.concat(i.encode(l)));return o.push(c.length),{table:c,offsets:o}},s})(),_P=(function(){function s(t,a,l,i,o,c){this.raw=t,this.numberOfContours=a,this.xMin=l,this.yMin=i,this.xMax=o,this.yMax=c,this.compound=!1}return s.prototype.encode=function(){return this.raw.data},s})(),PP=(function(){function s(t,a,l,i,o){var c,u;for(this.raw=t,this.xMin=a,this.yMin=l,this.xMax=i,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],c=this.raw;u=c.readShort(),this.glyphOffsets.push(c.pos),this.glyphIDs.push(c.readUInt16()),32&u;)c.pos+=1&u?4:2,128&u?c.pos+=8:64&u?c.pos+=4:8&u&&(c.pos+=2)}return s.prototype.encode=function(){var t,a,l;for(a=new Wc(V5.call(this.raw.data)),t=0,l=this.glyphIDs.length;t<l;++t)a.pos=this.glyphOffsets[t];return a.data},s})(),RP=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return mo(s,Ii),s.prototype.tag="loca",s.prototype.parse=function(t){var a,l;return t.pos=this.offset,a=this.file.head.indexToLocFormat,this.offsets=a===0?(function(){var i,o;for(o=[],l=0,i=this.length;l<i;l+=2)o.push(2*t.readUInt16());return o}).call(this):(function(){var i,o;for(o=[],l=0,i=this.length;l<i;l+=4)o.push(t.readUInt32());return o}).call(this)},s.prototype.indexOf=function(t){return this.offsets[t]},s.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},s.prototype.encode=function(t,a){for(var l=new Uint32Array(this.offsets.length),i=0,o=0,c=0;c<l.length;++c)if(l[c]=i,o<a.length&&a[o]==c){++o,l[c]=i;var u=this.offsets[c],x=this.offsets[c+1]-u;x>0&&(i+=x)}for(var h=new Array(4*l.length),p=0;p<l.length;++p)h[4*p+3]=255&l[p],h[4*p+2]=(65280&l[p])>>8,h[4*p+1]=(16711680&l[p])>>16,h[4*p]=(4278190080&l[p])>>24;return h},s})(),OP=(function(){function s(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return s.prototype.generateCmap=function(){var t,a,l,i,o;for(a in i=this.font.cmap.tables[0].codeMap,t={},o=this.subset)l=o[a],t[a]=i[l];return t},s.prototype.glyphsFor=function(t){var a,l,i,o,c,u,x;for(i={},c=0,u=t.length;c<u;c++)i[o=t[c]]=this.font.glyf.glyphFor(o);for(o in a=[],i)(l=i[o])!=null&&l.compound&&a.push.apply(a,l.glyphIDs);if(a.length>0)for(o in x=this.glyphsFor(a))l=x[o],i[o]=l;return i},s.prototype.encode=function(t,a){var l,i,o,c,u,x,h,p,f,y,g,v,C,N,k;for(i in l=G5.encode(this.generateCmap(),"unicode"),c=this.glyphsFor(t),g={0:0},k=l.charMap)g[(x=k[i]).old]=x.new;for(v in y=l.maxGlyphID,c)v in g||(g[v]=y++);return p=(function(A){var E,w;for(E in w={},A)w[A[E]]=E;return w})(g),f=Object.keys(p).sort(function(A,E){return A-E}),C=(function(){var A,E,w;for(w=[],A=0,E=f.length;A<E;A++)u=f[A],w.push(p[u]);return w})(),o=this.font.glyf.encode(c,C,g),h=this.font.loca.encode(o.offsets,C),N={cmap:this.font.cmap.raw(),glyf:o.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(a)},this.font.os2.exists&&(N["OS/2"]=this.font.os2.raw()),this.font.directory.encode(N)},s})();gt.API.PDFObject=(function(){var s;function t(){}return s=function(a,l){return(Array(l+1).join("0")+a).slice(-l)},t.convert=function(a){var l,i,o,c;if(Array.isArray(a))return"["+(function(){var u,x,h;for(h=[],u=0,x=a.length;u<x;u++)l=a[u],h.push(t.convert(l));return h})().join(" ")+"]";if(typeof a=="string")return"/"+a;if(a?.isString)return"("+a+")";if(a instanceof Date)return"(D:"+s(a.getUTCFullYear(),4)+s(a.getUTCMonth(),2)+s(a.getUTCDate(),2)+s(a.getUTCHours(),2)+s(a.getUTCMinutes(),2)+s(a.getUTCSeconds(),2)+"Z)";if({}.toString.call(a)==="[object Object]"){for(i in o=["<<"],a)c=a[i],o.push("/"+i+" "+t.convert(c));return o.push(">>"),o.join(`
`)}return""+a},t})();function Y5(s,t,a,l,i){l=l||{};var o=1.15,c=i.internal.scaleFactor,u=i.internal.getFontSize()/c,x=i.getLineHeightFactor?i.getLineHeightFactor():o,h=u*x,p=/\r\n|\r|\n/g,f="",y=1;if((l.valign==="middle"||l.valign==="bottom"||l.halign==="center"||l.halign==="right")&&(f=typeof s=="string"?s.split(p):s,y=f.length||1),a+=u*(2-o),l.valign==="middle"?a-=y/2*h:l.valign==="bottom"&&(a-=y*h),l.halign==="center"||l.halign==="right"){var g=u;if(l.halign==="center"&&(g*=.5),f&&y>=1){for(var v=0;v<f.length;v++)i.text(f[v],t-i.getStringUnitWidth(f[v])*g,a),a+=h;return i}t-=i.getStringUnitWidth(s)*g}return l.halign==="justify"?i.text(s,t,a,{maxWidth:l.maxWidth||100,align:"justify"}):i.text(s,t,a),i}var mj={},J0=(function(){function s(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return s.setDefaults=function(t,a){a===void 0&&(a=null),a?a.__autoTableDocumentDefaults=t:mj=t},s.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},s.prototype.applyStyles=function(t,a){var l,i,o;a===void 0&&(a=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var c=this.jsPDFDocument.internal.getFont(),u=c.fontStyle,x=c.fontName;if(t.font&&(x=t.font),t.fontStyle){u=t.fontStyle;var h=this.getFontList()[x];h&&h.indexOf(u)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(h[0]),u=h[0])}if(this.jsPDFDocument.setFont(x,u),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!a){var p=s.unifyColor(t.fillColor);p&&(l=this.jsPDFDocument).setFillColor.apply(l,p),p=s.unifyColor(t.textColor),p&&(i=this.jsPDFDocument).setTextColor.apply(i,p),p=s.unifyColor(t.lineColor),p&&(o=this.jsPDFDocument).setDrawColor.apply(o,p),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},s.prototype.splitTextToSize=function(t,a,l){return this.jsPDFDocument.splitTextToSize(t,a,l)},s.prototype.rect=function(t,a,l,i,o){return this.jsPDFDocument.rect(t,a,l,i,o)},s.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},s.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},s.prototype.getDocument=function(){return this.jsPDFDocument},s.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},s.prototype.addPage=function(){return this.jsPDFDocument.addPage()},s.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},s.prototype.getGlobalOptions=function(){return mj||{}},s.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},s.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},s.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},s.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},s.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},s.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},s})(),Cg=function(s,t){return Cg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,l){a.__proto__=l}||function(a,l){for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&(a[i]=l[i])},Cg(s,t)};function X5(s,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Cg(s,t);function a(){this.constructor=s}s.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}var K5=(function(s){X5(t,s);function t(a){var l=s.call(this)||this;return l._element=a,l}return t})(Array);function FP(s){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/s,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function IP(s){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[s]}function mm(s,t,a){a.applyStyles(t,!0);var l=Array.isArray(s)?s:[s],i=l.map(function(o){return a.getTextWidth(o)}).reduce(function(o,c){return Math.max(o,c)},0);return i}function J5(s,t,a,l){var i=t.settings.tableLineWidth,o=t.settings.tableLineColor;s.applyStyles({lineWidth:i,lineColor:o});var c=Q5(i,!1);c&&s.rect(a.x,a.y,t.getWidth(s.pageSize().width),l.y-a.y,c)}function Q5(s,t){var a=s>0,l=t||t===0;return a&&l?"DF":a?"S":l?"F":null}function Pm(s,t){var a,l,i,o;if(s=s||t,Array.isArray(s)){if(s.length>=4)return{top:s[0],right:s[1],bottom:s[2],left:s[3]};if(s.length===3)return{top:s[0],right:s[1],bottom:s[2],left:s[1]};if(s.length===2)return{top:s[0],right:s[1],bottom:s[0],left:s[1]};s.length===1?s=s[0]:s=t}return typeof s=="object"?(typeof s.vertical=="number"&&(s.top=s.vertical,s.bottom=s.vertical),typeof s.horizontal=="number"&&(s.right=s.horizontal,s.left=s.horizontal),{left:(a=s.left)!==null&&a!==void 0?a:t,top:(l=s.top)!==null&&l!==void 0?l:t,right:(i=s.right)!==null&&i!==void 0?i:t,bottom:(o=s.bottom)!==null&&o!==void 0?o:t}):(typeof s!="number"&&(s=t),{top:s,right:s,bottom:s,left:s})}function Z5(s,t){var a=Pm(t.settings.margin,0);return s.pageSize().width-(a.left+a.right)}function BP(s,t,a,l,i){var o={},c=1.3333333333333333,u=Uf(t,function(E){return i.getComputedStyle(E).backgroundColor});u!=null&&(o.fillColor=u);var x=Uf(t,function(E){return i.getComputedStyle(E).color});x!=null&&(o.textColor=x);var h=$P(l,a);h&&(o.cellPadding=h);var p="borderTopColor",f=c*a,y=l.borderTopWidth;if(l.borderBottomWidth===y&&l.borderRightWidth===y&&l.borderLeftWidth===y){var g=(parseFloat(y)||0)/f;g&&(o.lineWidth=g)}else o.lineWidth={top:(parseFloat(l.borderTopWidth)||0)/f,right:(parseFloat(l.borderRightWidth)||0)/f,bottom:(parseFloat(l.borderBottomWidth)||0)/f,left:(parseFloat(l.borderLeftWidth)||0)/f},o.lineWidth.top||(o.lineWidth.right?p="borderRightColor":o.lineWidth.bottom?p="borderBottomColor":o.lineWidth.left&&(p="borderLeftColor"));var v=Uf(t,function(E){return i.getComputedStyle(E)[p]});v!=null&&(o.lineColor=v);var C=["left","right","center","justify"];C.indexOf(l.textAlign)!==-1&&(o.halign=l.textAlign),C=["middle","bottom","top"],C.indexOf(l.verticalAlign)!==-1&&(o.valign=l.verticalAlign);var N=parseInt(l.fontSize||"");isNaN(N)||(o.fontSize=N/c);var k=UP(l);k&&(o.fontStyle=k);var A=(l.fontFamily||"").toLowerCase();return s.indexOf(A)!==-1&&(o.font=A),o}function UP(s){var t="";return(s.fontWeight==="bold"||s.fontWeight==="bolder"||parseInt(s.fontWeight)>=700)&&(t="bold"),(s.fontStyle==="italic"||s.fontStyle==="oblique")&&(t+="italic"),t}function Uf(s,t){var a=e4(s,t);if(!a)return null;var l=a.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!l||!Array.isArray(l))return null;var i=[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])],o=parseInt(l[4]);return o===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function e4(s,t){var a=t(s);return a==="rgba(0, 0, 0, 0)"||a==="transparent"||a==="initial"||a==="inherit"?s.parentElement==null?null:e4(s.parentElement,t):a}function $P(s,t){var a=[s.paddingTop,s.paddingRight,s.paddingBottom,s.paddingLeft],l=96/(72/t),i=(parseInt(s.lineHeight)-parseInt(s.fontSize))/t/2,o=a.map(function(u){return parseInt(u||"0")/l}),c=Pm(o,0);return i>c.top&&(c.top=i),i>c.bottom&&(c.bottom=i),c}function t4(s,t,a,l,i){var o,c;l===void 0&&(l=!1),i===void 0&&(i=!1);var u;typeof t=="string"?u=a.document.querySelector(t):u=t;var x=Object.keys(s.getFontList()),h=s.scaleFactor(),p=[],f=[],y=[];if(!u)return console.error("Html table could not be found with input: ",t),{head:p,body:f,foot:y};for(var g=0;g<u.rows.length;g++){var v=u.rows[g],C=(c=(o=v?.parentElement)===null||o===void 0?void 0:o.tagName)===null||c===void 0?void 0:c.toLowerCase(),N=qP(x,h,a,v,l,i);N&&(C==="thead"?p.push(N):C==="tfoot"?y.push(N):f.push(N))}return{head:p,body:f,foot:y}}function qP(s,t,a,l,i,o){for(var c=new K5(l),u=0;u<l.cells.length;u++){var x=l.cells[u],h=a.getComputedStyle(x);if(i||h.display!=="none"){var p=void 0;o&&(p=BP(s,x,t,h,a)),c.push({rowSpan:x.rowSpan,colSpan:x.colSpan,styles:p,_element:x,content:HP(x)})}}var f=a.getComputedStyle(l);if(c.length>0&&(i||f.display!=="none"))return c}function HP(s){var t=s.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(a){return a.trim()}).join(`
`),t.innerText||t.textContent||""}function WP(s,t,a){for(var l=0,i=[s,t,a];l<i.length;l++){var o=i[l];o&&typeof o!="object"&&console.error("The options parameter should be of type object, is: "+typeof o),o.startY&&typeof o.startY!="number"&&(console.error("Invalid value for startY option",o.startY),delete o.startY)}}function Vo(s,t,a,l,i){if(s==null)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(s),c=1;c<arguments.length;c++){var u=arguments[c];if(u!=null)for(var x in u)Object.prototype.hasOwnProperty.call(u,x)&&(o[x]=u[x])}return o}function s4(s,t){var a=new J0(s),l=a.getDocumentOptions(),i=a.getGlobalOptions();WP(i,l,t);var o=Vo({},i,l,t),c;typeof window<"u"&&(c=window);var u=GP(i,l,t),x=VP(i,l,t),h=YP(a,o),p=KP(a,o,c);return{id:t.tableId,content:p,hooks:x,styles:u,settings:h}}function GP(s,t,a){for(var l={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(x){if(x==="columnStyles"){var h=s[x],p=t[x],f=a[x];l.columnStyles=Vo({},h,p,f)}else{var y=[s,t,a],g=y.map(function(v){return v[x]||{}});l[x]=Vo({},g[0],g[1],g[2])}},o=0,c=Object.keys(l);o<c.length;o++){var u=c[o];i(u)}return l}function VP(s,t,a){for(var l=[s,t,a],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},o=0,c=l;o<c.length;o++){var u=c[o];u.didParseCell&&i.didParseCell.push(u.didParseCell),u.willDrawCell&&i.willDrawCell.push(u.willDrawCell),u.didDrawCell&&i.didDrawCell.push(u.didDrawCell),u.willDrawPage&&i.willDrawPage.push(u.willDrawPage),u.didDrawPage&&i.didDrawPage.push(u.didDrawPage)}return i}function YP(s,t){var a,l,i,o,c,u,x,h,p,f,y,g,v=Pm(t.margin,40/s.scaleFactor()),C=(a=XP(s,t.startY))!==null&&a!==void 0?a:v.top,N;t.showFoot===!0?N="everyPage":t.showFoot===!1?N="never":N=(l=t.showFoot)!==null&&l!==void 0?l:"everyPage";var k;t.showHead===!0?k="everyPage":t.showHead===!1?k="never":k=(i=t.showHead)!==null&&i!==void 0?i:"everyPage";var A=(o=t.useCss)!==null&&o!==void 0?o:!1,E=t.theme||(A?"plain":"striped"),w=!!t.horizontalPageBreak,R=(c=t.horizontalPageBreakRepeat)!==null&&c!==void 0?c:null;return{includeHiddenHtml:(u=t.includeHiddenHtml)!==null&&u!==void 0?u:!1,useCss:A,theme:E,startY:C,margin:v,pageBreak:(x=t.pageBreak)!==null&&x!==void 0?x:"auto",rowPageBreak:(h=t.rowPageBreak)!==null&&h!==void 0?h:"auto",tableWidth:(p=t.tableWidth)!==null&&p!==void 0?p:"auto",showHead:k,showFoot:N,tableLineWidth:(f=t.tableLineWidth)!==null&&f!==void 0?f:0,tableLineColor:(y=t.tableLineColor)!==null&&y!==void 0?y:200,horizontalPageBreak:w,horizontalPageBreakRepeat:R,horizontalPageBreakBehaviour:(g=t.horizontalPageBreakBehaviour)!==null&&g!==void 0?g:"afterAllRows"}}function XP(s,t){var a=s.getLastAutoTable(),l=s.scaleFactor(),i=s.pageNumber(),o=!1;if(a&&a.startPageNumber){var c=a.startPageNumber+a.pageNumber-1;o=c===i}return typeof t=="number"?t:(t==null||t===!1)&&o&&a?.finalY!=null?a.finalY+20/l:null}function KP(s,t,a){var l=t.head||[],i=t.body||[],o=t.foot||[];if(t.html){var c=t.includeHiddenHtml;if(a){var u=t4(s,t.html,a,c,t.useCss)||{};l=u.head||l,i=u.body||l,o=u.foot||l}else console.error("Cannot parse html in non browser environment")}var x=t.columns||JP(l,i,o);return{columns:x,head:l,body:i,foot:o}}function JP(s,t,a){var l=s[0]||t[0]||a[0]||[],i=[];return Object.keys(l).filter(function(o){return o!=="_element"}).forEach(function(o){var c=1,u;Array.isArray(l)?u=l[parseInt(o)]:u=l[o],typeof u=="object"&&!Array.isArray(u)&&(c=u?.colSpan||1);for(var x=0;x<c;x++){var h=void 0;Array.isArray(l)?h=i.length:h=o+(x>0?"_".concat(x):"");var p={dataKey:h};i.push(p)}}),i}var Ag=(function(){function s(t,a,l){this.table=a,this.pageNumber=a.pageNumber,this.settings=a.settings,this.cursor=l,this.doc=t.getDocument()}return s})(),QP=(function(s){X5(t,s);function t(a,l,i,o,c,u){var x=s.call(this,a,l,u)||this;return x.cell=i,x.row=o,x.column=c,x.section=o.section,x}return t})(Ag),ZP=(function(){function s(t,a){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=a.columns,this.head=a.head,this.body=a.body,this.foot=a.foot}return s.prototype.getHeadHeight=function(t){return this.head.reduce(function(a,l){return a+l.getMaxCellHeight(t)},0)},s.prototype.getFootHeight=function(t){return this.foot.reduce(function(a,l){return a+l.getMaxCellHeight(t)},0)},s.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},s.prototype.callCellHooks=function(t,a,l,i,o,c){for(var u=0,x=a;u<x.length;u++){var h=x[u],p=new QP(t,this,l,i,o,c),f=h(p)===!1;if(l.text=Array.isArray(l.text)?l.text:[l.text],f)return!1}return!0},s.prototype.callEndPageHooks=function(t,a){t.applyStyles(t.userStyles);for(var l=0,i=this.hooks.didDrawPage;l<i.length;l++){var o=i[l];o(new Ag(t,this,a))}},s.prototype.callWillDrawPageHooks=function(t,a){for(var l=0,i=this.hooks.willDrawPage;l<i.length;l++){var o=i[l];o(new Ag(t,this,a))}},s.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var a=this.columns.reduce(function(i,o){return i+o.wrappedWidth},0);return a}else{var l=this.settings.margin;return t-l.left-l.right}},s})(),a4=(function(){function s(t,a,l,i,o){o===void 0&&(o=!1),this.height=0,this.raw=t,t instanceof K5&&(this.raw=t._element,this.element=t._element),this.index=a,this.section=l,this.cells=i,this.spansMultiplePages=o}return s.prototype.getMaxCellHeight=function(t){var a=this;return t.reduce(function(l,i){var o;return Math.max(l,((o=a.cells[i.index])===null||o===void 0?void 0:o.height)||0)},0)},s.prototype.hasRowSpan=function(t){var a=this;return t.filter(function(l){var i=a.cells[l.index];return i?i.rowSpan>1:!1}).length>0},s.prototype.canEntireRowFit=function(t,a){return this.getMaxCellHeight(a)<=t},s.prototype.getMinimumRowHeight=function(t,a){var l=this;return t.reduce(function(i,o){var c=l.cells[o.index];if(!c)return 0;var u=a.getLineHeight(c.styles.fontSize),x=c.padding("vertical"),h=x+u;return h>i?h:i},0)},s})(),r4=(function(){function s(t,a,l){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=a,this.section=l,this.raw=t;var o=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,o=(i=t.content)!==null&&i!==void 0?i:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var c=o!=null?""+o:"",u=/\r\n|\r|\n/g;this.text=c.split(u)}return s.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var a=this.height-this.padding("vertical");t=this.y+a/2+this.padding("top")}var l;if(this.styles.halign==="right")l=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");l=this.x+i/2+this.padding("left")}else l=this.x+this.padding("left");return{x:l,y:t}},s.prototype.getContentHeight=function(t,a){a===void 0&&(a=1.15);var l=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/t*a,o=l*i+this.padding("vertical");return Math.max(o,this.styles.minCellHeight)},s.prototype.padding=function(t){var a=Pm(this.styles.cellPadding,0);return t==="vertical"?a.top+a.bottom:t==="horizontal"?a.left+a.right:a[t]},s})(),eR=(function(){function s(t,a,l){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=a,this.index=l}return s.prototype.getMaxCustomCellWidth=function(t){for(var a=0,l=0,i=t.allRows();l<i.length;l++){var o=i[l],c=o.cells[this.index];c&&typeof c.styles.cellWidth=="number"&&(a=Math.max(a,c.styles.cellWidth))}return a},s})();function tR(s,t){sR(s,t);var a=[],l=0;t.columns.forEach(function(o){var c=o.getMaxCustomCellWidth(t);c?o.width=c:(o.width=o.wrappedWidth,a.push(o)),l+=o.width});var i=t.getWidth(s.pageSize().width)-l;i&&(i=Dg(a,i,function(o){return Math.max(o.minReadableWidth,o.minWidth)})),i&&(i=Dg(a,i,function(o){return o.minWidth})),i=Math.abs(i),!t.settings.horizontalPageBreak&&i>.1/s.scaleFactor()&&(i=i<1?i:Math.round(i),console.log("Of the table content, ".concat(i," units width could not fit page"))),rR(t),lR(t,s),aR(t)}function sR(s,t){var a=s.scaleFactor(),l=t.settings.horizontalPageBreak,i=Z5(s,t);t.allRows().forEach(function(o){for(var c=0,u=t.columns;c<u.length;c++){var x=u[c],h=o.cells[x.index];if(h){var p=t.hooks.didParseCell;t.callCellHooks(s,p,h,o,x,null);var f=h.padding("horizontal");h.contentWidth=mm(h.text,h.styles,s)+f;var y=mm(h.text.join(" ").split(/[^\S\u00A0]+/),h.styles,s);if(h.minReadableWidth=y+h.padding("horizontal"),typeof h.styles.cellWidth=="number")h.minWidth=h.styles.cellWidth,h.wrappedWidth=h.styles.cellWidth;else if(h.styles.cellWidth==="wrap"||l===!0)h.contentWidth>i?(h.minWidth=i,h.wrappedWidth=i):(h.minWidth=h.contentWidth,h.wrappedWidth=h.contentWidth);else{var g=10/a;h.minWidth=h.styles.minCellWidth||g,h.wrappedWidth=h.contentWidth,h.minWidth>h.wrappedWidth&&(h.wrappedWidth=h.minWidth)}}}}),t.allRows().forEach(function(o){for(var c=0,u=t.columns;c<u.length;c++){var x=u[c],h=o.cells[x.index];if(h&&h.colSpan===1)x.wrappedWidth=Math.max(x.wrappedWidth,h.wrappedWidth),x.minWidth=Math.max(x.minWidth,h.minWidth),x.minReadableWidth=Math.max(x.minReadableWidth,h.minReadableWidth);else{var p=t.styles.columnStyles[x.dataKey]||t.styles.columnStyles[x.index]||{},f=p.cellWidth||p.minCellWidth;f&&typeof f=="number"&&(x.minWidth=f,x.wrappedWidth=f)}h&&(h.colSpan>1&&!x.minWidth&&(x.minWidth=h.minWidth),h.colSpan>1&&!x.wrappedWidth&&(x.wrappedWidth=h.minWidth))}})}function Dg(s,t,a){for(var l=t,i=s.reduce(function(g,v){return g+v.wrappedWidth},0),o=0;o<s.length;o++){var c=s[o],u=c.wrappedWidth/i,x=l*u,h=c.width+x,p=a(c),f=h<p?p:h;t-=f-c.width,c.width=f}if(t=Math.round(t*1e10)/1e10,t){var y=s.filter(function(g){return t<0?g.width>a(g):!0});y.length&&(t=Dg(y,t,a))}return t}function aR(s){for(var t={},a=1,l=s.allRows(),i=0;i<l.length;i++)for(var o=l[i],c=0,u=s.columns;c<u.length;c++){var x=u[c],h=t[x.index];if(a>1)a--,delete o.cells[x.index];else if(h)h.cell.height+=o.height,a=h.cell.colSpan,delete o.cells[x.index],h.left--,h.left<=1&&delete t[x.index];else{var p=o.cells[x.index];if(!p)continue;if(p.height=o.height,p.rowSpan>1){var f=l.length-i,y=p.rowSpan>f?f:p.rowSpan;t[x.index]={cell:p,left:y,row:o}}}}}function rR(s){for(var t=s.allRows(),a=0;a<t.length;a++)for(var l=t[a],i=null,o=0,c=0,u=0;u<s.columns.length;u++){var x=s.columns[u];if(c-=1,c>1&&s.columns[u+1])o+=x.width,delete l.cells[x.index];else if(i){var h=i;delete l.cells[x.index],i=null,h.width=x.width+o}else{var h=l.cells[x.index];if(!h)continue;if(c=h.colSpan,o=0,h.colSpan>1){i=h,o+=x.width;continue}h.width=x.width+o}}}function lR(s,t){for(var a={count:0,height:0},l=0,i=s.allRows();l<i.length;l++){for(var o=i[l],c=0,u=s.columns;c<u.length;c++){var x=u[c],h=o.cells[x.index];if(h){t.applyStyles(h.styles,!0);var p=h.width-h.padding("horizontal");if(h.styles.overflow==="linebreak")h.text=t.splitTextToSize(h.text,p+1/t.scaleFactor(),{fontSize:h.styles.fontSize});else if(h.styles.overflow==="ellipsize")h.text=pj(h.text,p,h.styles,t,"...");else if(h.styles.overflow==="hidden")h.text=pj(h.text,p,h.styles,t,"");else if(typeof h.styles.overflow=="function"){var f=h.styles.overflow(h.text,p);typeof f=="string"?h.text=[f]:h.text=f}h.contentHeight=h.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var y=h.contentHeight/h.rowSpan;h.rowSpan>1&&a.count*a.height<y*h.rowSpan?a={height:y,count:h.rowSpan}:a&&a.count>0&&a.height>y&&(y=a.height),y>o.height&&(o.height=y)}}a.count--}}function pj(s,t,a,l,i){return s.map(function(o){return nR(o,t,a,l,i)})}function nR(s,t,a,l,i){var o=1e4*l.scaleFactor();if(t=Math.ceil(t*o)/o,t>=mm(s,a,l))return s;for(;t<mm(s+i,a,l)&&!(s.length<=1);)s=s.substring(0,s.length-1);return s.trim()+i}function l4(s,t){var a=new J0(s),l=iR(t,a.scaleFactor()),i=new ZP(t,l);return tR(a,i),a.applyStyles(a.userStyles),i}function iR(s,t){var a=s.content,l=cR(a.columns);if(a.head.length===0){var i=fj(l,"head");i&&a.head.push(i)}if(a.foot.length===0){var i=fj(l,"foot");i&&a.foot.push(i)}var o=s.settings.theme,c=s.styles;return{columns:l,head:$f("head",a.head,l,c,o,t),body:$f("body",a.body,l,c,o,t),foot:$f("foot",a.foot,l,c,o,t)}}function $f(s,t,a,l,i,o){var c={},u=t.map(function(x,h){for(var p=0,f={},y=0,g=0,v=0,C=a;v<C.length;v++){var N=C[v];if(c[N.index]==null||c[N.index].left===0)if(g===0){var k=void 0;Array.isArray(x)?k=x[N.index-y-p]:k=x[N.dataKey];var A={};typeof k=="object"&&!Array.isArray(k)&&(A=k?.styles||{});var E=dR(s,N,h,i,l,o,A),w=new r4(k,E,s);f[N.dataKey]=w,f[N.index]=w,g=w.colSpan-1,c[N.index]={left:w.rowSpan-1,times:g}}else g--,y++;else c[N.index].left--,g=c[N.index].times,p++}return new a4(x,h,s,f)});return u}function fj(s,t){var a={};return s.forEach(function(l){if(l.raw!=null){var i=oR(t,l.raw);i!=null&&(a[l.dataKey]=i)}}),Object.keys(a).length>0?a:null}function oR(s,t){if(s==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(s==="foot"&&typeof t=="object")return t.footer;return null}function cR(s){return s.map(function(t,a){var l,i;return typeof t=="object"?i=(l=t.dataKey)!==null&&l!==void 0?l:a:i=a,new eR(i,t,a)})}function dR(s,t,a,l,i,o,c){var u=IP(l),x;s==="head"?x=i.headStyles:s==="body"?x=i.bodyStyles:s==="foot"&&(x=i.footStyles);var h=Vo({},u.table,u[s],i.styles,x),p=i.columnStyles[t.dataKey]||i.columnStyles[t.index]||{},f=s==="body"?p:{},y=s==="body"&&a%2===0?Vo({},u.alternateRow,i.alternateRowStyles):{},g=FP(o),v=Vo({},g,h,y,f);return Vo(v,c)}function uR(s,t,a){var l;a===void 0&&(a={});var i=Z5(s,t),o=new Map,c=[],u=[],x=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?x=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(x=[t.settings.horizontalPageBreakRepeat]),x.forEach(function(y){var g=t.columns.find(function(v){return v.dataKey===y||v.index===y});g&&!o.has(g.index)&&(o.set(g.index,!0),c.push(g.index),u.push(t.columns[g.index]),i-=g.wrappedWidth)});for(var h=!0,p=(l=a?.start)!==null&&l!==void 0?l:0;p<t.columns.length;){if(o.has(p)){p++;continue}var f=t.columns[p].wrappedWidth;if(h||i>=f)h=!1,c.push(p),u.push(t.columns[p]),i-=f;else break;p++}return{colIndexes:c,columns:u,lastIndex:p-1}}function xR(s,t){for(var a=[],l=0;l<t.columns.length;l++){var i=uR(s,t,{start:l});i.columns.length&&(a.push(i),l=i.lastIndex)}return a}function n4(s,t){var a=t.settings,l=a.startY,i=a.margin,o={x:i.left,y:l},c=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),u=l+i.bottom+c;if(a.pageBreak==="avoid"){var x=t.body,h=x.reduce(function(y,g){return y+g.height},0);u+=h}var p=new J0(s);(a.pageBreak==="always"||a.startY!=null&&u>p.pageSize().height)&&(o4(p),o.y=i.top),t.callWillDrawPageHooks(p,o);var f=Vo({},o);t.startPageNumber=p.pageNumber(),a.horizontalPageBreak?hR(p,t,f,o):(p.applyStyles(p.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&t.head.forEach(function(y){return Zo(p,t,y,o,t.columns)}),p.applyStyles(p.userStyles),t.body.forEach(function(y,g){var v=g===t.body.length-1;pm(p,t,y,v,f,o,t.columns)}),p.applyStyles(p.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&t.foot.forEach(function(y){return Zo(p,t,y,o,t.columns)})),J5(p,t,f,o),t.callEndPageHooks(p,o),t.finalY=o.y,s.lastAutoTable=t,p.applyStyles(p.userStyles)}function hR(s,t,a,l){var i=xR(s,t),o=t.settings;if(o.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(h,p){s.applyStyles(s.userStyles),p>0?lx(s,t,a,l,h.columns,!0):gj(s,t,l,h.columns),mR(s,t,a,l,h.columns),qf(s,t,l,h.columns)});else for(var c=-1,u=i[0],x=function(){var h=c;if(u){s.applyStyles(s.userStyles);var p=u.columns;c>=0?lx(s,t,a,l,p,!0):gj(s,t,l,p),h=bj(s,t,c+1,l,p),qf(s,t,l,p)}var f=h-c;i.slice(1).forEach(function(y){s.applyStyles(s.userStyles),lx(s,t,a,l,y.columns,!0),bj(s,t,c+1,l,y.columns,f),qf(s,t,l,y.columns)}),c=h};c<t.body.length-1;)x()}function gj(s,t,a,l){var i=t.settings;s.applyStyles(s.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&t.head.forEach(function(o){return Zo(s,t,o,a,l)})}function mR(s,t,a,l,i){s.applyStyles(s.userStyles),t.body.forEach(function(o,c){var u=c===t.body.length-1;pm(s,t,o,u,a,l,i)})}function bj(s,t,a,l,i,o){s.applyStyles(s.userStyles),o=o??t.body.length;var c=Math.min(a+o,t.body.length),u=-1;return t.body.slice(a,c).forEach(function(x,h){var p=a+h===t.body.length-1,f=i4(s,t,p,l);x.canEntireRowFit(f,i)&&(Zo(s,t,x,l,i),u=a+h)}),u}function qf(s,t,a,l){var i=t.settings;s.applyStyles(s.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&t.foot.forEach(function(o){return Zo(s,t,o,a,l)})}function pR(s,t,a){var l=a.getLineHeight(s.styles.fontSize),i=s.padding("vertical"),o=Math.floor((t-i)/l);return Math.max(0,o)}function fR(s,t,a,l){var i={};s.spansMultiplePages=!0,s.height=0;for(var o=0,c=0,u=a.columns;c<u.length;c++){var x=u[c],h=s.cells[x.index];if(h){Array.isArray(h.text)||(h.text=[h.text]);var p=new r4(h.raw,h.styles,h.section);p=Vo(p,h),p.text=[];var f=pR(h,t,l);h.text.length>f&&(p.text=h.text.splice(f,h.text.length));var y=l.scaleFactor(),g=l.getLineHeightFactor();h.contentHeight=h.getContentHeight(y,g),h.contentHeight>=t&&(h.contentHeight=t,p.styles.minCellHeight-=t),h.contentHeight>s.height&&(s.height=h.contentHeight),p.contentHeight=p.getContentHeight(y,g),p.contentHeight>o&&(o=p.contentHeight),i[x.index]=p}}var v=new a4(s.raw,-1,s.section,i,!0);v.height=o;for(var C=0,N=a.columns;C<N.length;C++){var x=N[C],p=v.cells[x.index];p&&(p.height=v.height);var h=s.cells[x.index];h&&(h.height=s.height)}return v}function gR(s,t,a,l){var i=s.pageSize().height,o=l.settings.margin,c=o.top+o.bottom,u=i-c;t.section==="body"&&(u-=l.getHeadHeight(l.columns)+l.getFootHeight(l.columns));var x=t.getMinimumRowHeight(l.columns,s),h=x<a;if(x>u)return console.log("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!h)return!1;var p=t.hasRowSpan(l.columns),f=t.getMaxCellHeight(l.columns)>u;return f?(p&&console.log("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(p||l.settings.rowPageBreak==="avoid")}function pm(s,t,a,l,i,o,c){var u=i4(s,t,l,o);if(a.canEntireRowFit(u,c))Zo(s,t,a,o,c);else if(gR(s,a,u,t)){var x=fR(a,u,t,s);Zo(s,t,a,o,c),lx(s,t,i,o,c),pm(s,t,x,l,i,o,c)}else lx(s,t,i,o,c),pm(s,t,a,l,i,o,c)}function Zo(s,t,a,l,i){l.x=t.settings.margin.left;for(var o=0,c=i;o<c.length;o++){var u=c[o],x=a.cells[u.index];if(!x){l.x+=u.width;continue}s.applyStyles(x.styles),x.x=l.x,x.y=l.y;var h=t.callCellHooks(s,t.hooks.willDrawCell,x,a,u,l);if(h===!1){l.x+=u.width;continue}bR(s,x,l);var p=x.getTextPos();Y5(x.text,p.x,p.y,{halign:x.styles.halign,valign:x.styles.valign,maxWidth:Math.ceil(x.width-x.padding("left")-x.padding("right"))},s.getDocument()),t.callCellHooks(s,t.hooks.didDrawCell,x,a,u,l),l.x+=u.width}l.y+=a.height}function bR(s,t,a){var l=t.styles;if(s.getDocument().setFillColor(s.getDocument().getFillColor()),typeof l.lineWidth=="number"){var i=Q5(l.lineWidth,l.fillColor);i&&s.rect(t.x,a.y,t.width,t.height,i)}else typeof l.lineWidth=="object"&&(l.fillColor&&s.rect(t.x,a.y,t.width,t.height,"F"),vR(s,t,a,l.lineWidth))}function vR(s,t,a,l){var i,o,c,u;l.top&&(i=a.x,o=a.y,c=a.x+t.width,u=a.y,l.right&&(c+=.5*l.right),l.left&&(i-=.5*l.left),x(l.top,i,o,c,u)),l.bottom&&(i=a.x,o=a.y+t.height,c=a.x+t.width,u=a.y+t.height,l.right&&(c+=.5*l.right),l.left&&(i-=.5*l.left),x(l.bottom,i,o,c,u)),l.left&&(i=a.x,o=a.y,c=a.x,u=a.y+t.height,l.top&&(o-=.5*l.top),l.bottom&&(u+=.5*l.bottom),x(l.left,i,o,c,u)),l.right&&(i=a.x+t.width,o=a.y,c=a.x+t.width,u=a.y+t.height,l.top&&(o-=.5*l.top),l.bottom&&(u+=.5*l.bottom),x(l.right,i,o,c,u));function x(h,p,f,y,g){s.getDocument().setLineWidth(h),s.getDocument().line(p,f,y,g,"S")}}function i4(s,t,a,l){var i=t.settings.margin.bottom,o=t.settings.showFoot;return(o==="everyPage"||o==="lastPage"&&a)&&(i+=t.getFootHeight(t.columns)),s.pageSize().height-l.y-i}function lx(s,t,a,l,i,o){i===void 0&&(i=[]),o===void 0&&(o=!1),s.applyStyles(s.userStyles),t.settings.showFoot==="everyPage"&&!o&&t.foot.forEach(function(u){return Zo(s,t,u,l,i)}),t.callEndPageHooks(s,l);var c=t.settings.margin;J5(s,t,a,l),o4(s),t.pageNumber++,l.x=c.left,l.y=c.top,a.y=c.top,t.callWillDrawPageHooks(s,l),t.settings.showHead==="everyPage"&&(t.head.forEach(function(u){return Zo(s,t,u,l,i)}),s.applyStyles(s.userStyles))}function o4(s){var t=s.pageNumber();s.setPage(t+1);var a=s.pageNumber();return a===t?(s.addPage(),!0):!1}function yR(s){s.API.autoTable=function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];var l=t[0],i=s4(this,l),o=l4(this,i);return n4(this,o),this},s.API.lastAutoTable=!1,s.API.autoTableText=function(t,a,l,i){Y5(t,a,l,i,this)},s.API.autoTableSetDefaults=function(t){return J0.setDefaults(t,this),this},s.autoTableSetDefaults=function(t,a){J0.setDefaults(t,a)},s.API.autoTableHtmlToJson=function(t,a){var l;if(a===void 0&&(a=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new J0(this),o=t4(i,t,window,a,!1),c=o.head,u=o.body,x=((l=c[0])===null||l===void 0?void 0:l.map(function(h){return h.content}))||[];return{columns:x,rows:u,data:u}}}var Hf;function Gc(s,t){var a=s4(s,t),l=l4(s,a);n4(s,l)}try{if(typeof window<"u"&&window){var vj=window,yj=vj.jsPDF||((Hf=vj.jspdf)===null||Hf===void 0?void 0:Hf.jsPDF);yj&&yR(yj)}}catch(s){console.error("Could not apply autoTable plugin",s)}const jR=()=>{const[s,t]=b.useState(!1),[a,l]=b.useState(!1),[i,o]=b.useState(!1),[c,u]=b.useState(null),[x,h]=b.useState(null),[p,f]=b.useState(!1),[y,g]=b.useState(!1),[v,C]=b.useState(!0),[N,k]=b.useState([]),[A,E]=b.useState([]),[w,R]=b.useState({name:"",number:"",expiry:"",cvv:""}),[T,O]=b.useState(new Date().getFullYear().toString()),W=async()=>{try{const[$,le]=await Promise.all([vM(),WN()]);k($),E(le||[])}catch($){console.error("Error fetching data:",$)}finally{C(!1)}};b.useEffect(()=>{W()},[]);const B=$=>{h($);try{const le=N.find(te=>te.id===$);if(!le)return;const ge=new gt;ge.setFontSize(20),ge.text(`Invoice #${le.id}`,14,22),ge.setFontSize(10),ge.text(`Generated on: ${new Date().toLocaleDateString()}`,14,30),ge.text(`Status: ${le.status}`,14,35),Gc(ge,{startY:45,head:[["Description","Amount","Due Date"]],body:[["Membership Services",`INR ${le.amount.toLocaleString()}`,le.dueDate]],theme:"striped",headStyles:{fillColor:[139,92,246]}}),ge.save(`${le.id}_Statement.pdf`)}catch(le){console.error("PDF generation failed",le)}finally{h(null)}},z=()=>{try{const $=new gt;$.setFontSize(20),$.text("Complete Yearly Statement",14,22),$.setFontSize(10),$.text(`Generated on: ${new Date().toLocaleDateString()}`,14,30),$.text(`Fiscal Year: ${T}`,14,35);const ge=N.filter(te=>new Date(te.date).getFullYear().toString()===T).map(te=>[te.id,te.date,te.status,`INR ${te.amount.toLocaleString()}`]);Gc($,{startY:45,head:[["Invoice ID","Date","Status","Amount"]],body:ge,theme:"striped",headStyles:{fillColor:[139,92,246]}}),$.save(`Complete_Statement_${new Date().getFullYear()}.pdf`),l(!1)}catch($){console.error("PDF generation failed",$)}},P=async()=>{try{if(w.number.length<4){alert("Valid card required");return}const $={name:w.name||"New Payment Card",number:w.number.slice(-4),expiry:w.expiry||"MM/YY",brand:"Custom"},le=await GN($);E([...A,le.card]),t(!1),R({name:"",number:"",expiry:"",cvv:""}),alert("Card Added!")}catch($){console.error("Failed",$),alert("Adding card failed")}},F=async $=>{if(window.confirm("Are you sure you want to delete this payment method?"))try{await VN($),E(A.filter(le=>le.id!==$))}catch(le){console.error("Failed to delete card:",le),alert("Failed to delete card")}},G=$=>{u($),o(!0)},Y=async()=>{f(!0);try{await yM(c.dbId),g(!0),k($=>$.map(le=>le.id===c.id?{...le,status:"Paid"}:le)),setTimeout(()=>{g(!1),o(!1)},2e3)}catch($){console.error("Error paying invoice:",$),alert("Failed to process payment")}finally{f(!1)}},me=N.filter($=>$.status==="Paid").reduce(($,le)=>$+le.amount,0),H=N.filter($=>$.status!=="Paid").reduce(($,le)=>$+le.amount,0),V=[{id:1,title:"Outstanding Balance",value:`${H.toLocaleString()}`,icon:ms,color:H>0?"danger":"success"},{id:2,title:"Total Paid",value:`${me.toLocaleString()}`,icon:Qt,color:"success"},{id:3,title:"Total Invoices",value:N.length.toString(),icon:dr,color:"primary"}];return e.jsxs("div",{className:"p-4 md:p-8 bg-slate-50 min-h-screen",children:[e.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-black text-slate-900 tracking-tight",children:"Payments & Billing"}),e.jsx("p",{className:"text-slate-500 font-medium",children:"Manage your invoices and payment methods in one place."})]}),e.jsx("div",{className:"flex gap-2",children:e.jsx(Ft,{variant:"outline",onClick:()=>l(!0),icon:dr,children:"Yearly Statement"})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:V.map($=>e.jsx(Kn,{...$},$.id))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[e.jsxs(is,{className:"rounded-[32px] border-l-4 border-l-emerald-500",children:[e.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4",children:"Account Status"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-emerald-100 text-emerald-600 flex items-center justify-center",children:e.jsx(Qt,{size:20})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-black text-slate-900 leading-tight",children:H>0?"Action Required":"Paid & Current"}),e.jsx("div",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-wide",children:H>0?"Pay Outstanding Balance":"All clear"})]})]})]}),e.jsxs(is,{className:"rounded-[32px]",children:[e.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4",children:"Payment Methods"}),e.jsxs("div",{className:"space-y-4",children:[A.length>0?A.map(($,le)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-white flex items-center justify-center shadow-sm",children:e.jsx(Rs,{size:14,className:"text-violet-600"})}),e.jsxs("span",{className:"text-sm font-bold text-slate-700",children:[" ",$.number]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[le===0&&e.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),e.jsx("button",{onClick:()=>F($.id),className:"p-2 text-slate-400 hover:text-rose-500 hover:bg-rose-50 rounded-full transition-all",children:e.jsx(xs,{size:16})})]})]},$.id||le)):e.jsx("div",{className:"text-xs font-bold text-slate-400 flex items-center justify-center p-4",children:"No linked cards yet"}),e.jsx(Ft,{variant:"outline",onClick:()=>t(!0),className:"w-full h-12 border-dashed border-2 hover:border-violet-300 rounded-2xl",icon:wt,children:"Add New Method"})]})]})]}),e.jsx("div",{className:"lg:col-span-3",children:e.jsxs(is,{className:"rounded-[32px] p-0 overflow-hidden",children:[e.jsxs("div",{className:"p-8 border-b border-slate-50 flex justify-between items-center",children:[e.jsx("h3",{className:"text-xl font-black text-slate-900",children:"Invoice History"}),e.jsx("div",{className:"p-2.5 bg-slate-50 rounded-xl text-slate-400",children:e.jsx(Va,{size:20})})]}),N.length>0?e.jsxs("div",{className:"overflow-x-auto overflow-y-hidden",children:[e.jsxs("table",{className:"w-full text-left border-collapse hidden md:table",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50/50",children:[e.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"ID"}),e.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Issued"}),e.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Amount"}),e.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Status"}),e.jsx("th",{className:"px-8 py-5 text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:N.map($=>e.jsx(wR,{...$,onDownload:B,onPay:G,downloading:x},$.id))})]}),e.jsx("div",{className:"md:hidden p-6 space-y-6",children:N.map($=>e.jsx(Ya,{title:`Invoice #${$.id}`,subtitle:$.date,status:$.status,statusColor:$.status==="Paid"?"emerald":$.status==="Unpaid"?"rose":"amber",badge:`${$.amount.toLocaleString()}`,badgeColor:"violet",icon:Va,actions:$.status!=="Paid"?[{label:"Pay Now",icon:Yl,onClick:()=>G($),variant:"primary"},{label:"PDF",icon:na,onClick:()=>B($.id),variant:"outline"}]:[{label:"Download PDF",icon:na,onClick:()=>B($.id),variant:"outline"}]},$.id))})]}):e.jsxs("div",{className:"p-20 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-6 text-slate-200",children:e.jsx(dr,{size:40})}),e.jsx("h4",{className:"text-xl font-bold text-slate-900 mb-2",children:"No invoices available"}),e.jsx("p",{className:"text-slate-400 font-medium",children:"All your future billing will appear here."})]}),e.jsx("div",{className:"p-8 text-center bg-slate-50/30 border-t border-slate-50",children:e.jsxs("button",{onClick:()=>l(!0),className:"group inline-flex items-center gap-2 text-violet-600 font-black text-[10px] uppercase tracking-[0.2em] hover:text-violet-700 transition-all",children:[e.jsx(dr,{size:14}),"Download Complete Year Statement"]})})]})})]})]}),e.jsx(rt,{isOpen:i,onClose:()=>!p&&o(!1),title:"Process Payment",maxWidth:"max-w-md",children:c&&e.jsx("div",{className:"p-8 space-y-8 h-full flex flex-col",children:y?e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center space-y-8 animate-in fade-in zoom-in duration-500",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-emerald-500/20 rounded-full animate-ping"}),e.jsx("div",{className:"relative w-24 h-24 bg-emerald-100 text-emerald-600 rounded-full flex items-center justify-center border-4 border-white shadow-xl",children:e.jsx(ng,{size:40})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-3xl font-black text-slate-900 tracking-tight",children:"Payment Verified!"}),e.jsxs("p",{className:"text-slate-500 font-medium max-w-xs leading-relaxed",children:["Your invoice balance for #",c.id," has been cleared."]})]}),e.jsx("div",{className:"pt-10 w-full",children:e.jsx("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-100 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Invoice will reflect status 'Paid' immediately"})})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-slate-50 p-6 rounded-[32px] border border-slate-100 flex items-center gap-6",children:[e.jsx("div",{className:"w-16 h-16 rounded-[24px] bg-white shadow-sm flex items-center justify-center text-violet-600",children:e.jsx(Va,{size:32})}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-xl font-black text-slate-900 leading-tight",children:["#",c.id]}),e.jsxs("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mt-1",children:["Due Date: ",c.dueDate]})]})]}),e.jsxs("div",{className:"space-y-6 flex-1",children:[e.jsxs("div",{className:"p-6 rounded-[32px] bg-slate-900 text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/5 rounded-full -mr-16 -mt-16 blur-2xl"}),e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-[0.2em] mb-2",children:"Total Amount Due"}),e.jsxs("div",{className:"text-4xl font-black tracking-tight mb-6",children:["",c.amount.toLocaleString()]}),e.jsx("div",{className:"flex items-center justify-between pt-6 border-t border-white/10 mt-6",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Rs,{size:16,className:"text-slate-400"}),e.jsx("span",{className:"text-sm font-bold opacity-80",children:A.length>0?`Card  ${A[0].number}`:"No Linked Cards"})]})})]}),e.jsxs("div",{className:"p-6 rounded-[32px] bg-emerald-50 border border-emerald-100 flex gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-white flex items-center justify-center text-emerald-600 shadow-sm shrink-0",children:e.jsx(Zt,{size:20})}),e.jsx("p",{className:"text-xs font-bold text-emerald-800 leading-relaxed uppercase tracking-wide",children:"Your payment is secured with standard encryption. Verified merchant Kiaan Gyms."})]})]}),e.jsx("div",{className:"pt-6 border-t border-slate-100",children:e.jsx(Ft,{onClick:Y,disabled:p,className:"w-full py-5 rounded-[24px]",children:p?e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Tr,{size:20,className:"animate-spin"}),"Processing Security..."]}):`Authorize Payment (${c.amount.toLocaleString()})`})})]})})}),e.jsx(rt,{isOpen:s,onClose:()=>t(!1),title:"Add New Card",maxWidth:"max-w-md",children:e.jsxs("div",{className:"p-8 space-y-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Card Number"}),e.jsx("input",{value:w.number,onChange:$=>R({...w,number:$.target.value}),maxLength:16,className:"w-full h-14 px-5 rounded-[20px] border-2 border-slate-100 focus:border-violet-500 outline-none font-bold text-slate-900 transition-all bg-slate-50 tracking-widest",placeholder:"0000 0000 0000 0000"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Expiry"}),e.jsx("input",{value:w.expiry,onChange:$=>R({...w,expiry:$.target.value}),className:"w-full h-14 px-5 rounded-[20px] border-2 border-slate-100 focus:border-violet-500 outline-none font-bold text-slate-900 transition-all bg-slate-50",placeholder:"MM/YY"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"CVV"}),e.jsx("input",{value:w.cvv,onChange:$=>R({...w,cvv:$.target.value}),maxLength:4,className:"w-full h-14 px-5 rounded-[20px] border-2 border-slate-100 focus:border-violet-500 outline-none font-bold text-slate-900 transition-all bg-slate-50",placeholder:"",type:"password"})]})]})]}),e.jsxs("div",{className:"flex gap-4 pt-4",children:[e.jsx(Ft,{variant:"outline",onClick:()=>t(!1),className:"flex-1 py-5 rounded-[24px]",children:"Cancel"}),e.jsx(Ft,{onClick:P,className:"flex-[2] py-5 rounded-[24px]",children:"Add Securely"})]})]})}),e.jsx(rt,{isOpen:a,onClose:()=>l(!1),title:"Yearly Statement",maxWidth:"max-w-md",children:e.jsxs("div",{className:"p-8 space-y-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-violet-50 p-6 rounded-[24px] border border-violet-100 flex gap-4 text-violet-800 text-sm font-medium leading-relaxed",children:[e.jsx(dr,{className:"shrink-0 text-violet-600",size:24}),e.jsx("p",{children:"Select the fiscal year to download your complete payment breakdown and gym membership statements."})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Fiscal Year"}),e.jsxs("select",{value:T,onChange:$=>O($.target.value),className:"w-full h-14 px-5 rounded-[20px] border-2 border-slate-100 focus:border-violet-500 outline-none font-black text-slate-900 transition-all bg-slate-50 appearance-none",children:[e.jsx("option",{value:"2026",children:"2026"}),e.jsx("option",{value:"2025",children:"2025"}),e.jsx("option",{value:"2024",children:"2024"}),e.jsx("option",{value:"2023",children:"2023"}),e.jsx("option",{value:"2022",children:"2022"})]})]})]}),e.jsxs("div",{className:"flex gap-4 pt-4",children:[e.jsx(Ft,{variant:"outline",onClick:()=>l(!1),className:"flex-1 py-5 rounded-[24px]",children:"Close"}),e.jsx(Ft,{onClick:z,className:"flex-[2] py-5 rounded-[24px]",icon:na,children:"Generate PDF"})]})]})})]})},wR=({id:s,dbId:t,date:a,amount:l,status:i,onDownload:o,onPay:c,downloading:u})=>e.jsxs("tr",{className:"hover:bg-slate-50/50 transition-all group",children:[e.jsx("td",{className:"px-8 py-5",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Va,{size:16,className:"text-slate-400 group-hover:text-violet-500 transition-colors"}),e.jsx("span",{className:"text-sm font-bold text-slate-900 tracking-tight",children:s})]})}),e.jsx("td",{className:"px-8 py-5",children:e.jsx("span",{className:"text-sm font-bold text-slate-500",children:a})}),e.jsx("td",{className:"px-8 py-5",children:e.jsxs("span",{className:"text-sm font-black text-slate-900 tracking-tight",children:["",l.toLocaleString()]})}),e.jsx("td",{className:"px-8 py-5",children:e.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-lg text-[10px] font-black uppercase tracking-wider border ${i==="Paid"?"bg-emerald-50 text-emerald-600 border-emerald-100":i==="Unpaid"?"bg-rose-50 text-rose-600 border-rose-100":"bg-amber-50 text-amber-600 border-amber-100"}`,children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full mr-1.5 ${i==="Paid"?"bg-emerald-500":i==="Unpaid"?"bg-rose-500":"bg-amber-500 animate-pulse"}`}),i]})}),e.jsx("td",{className:"px-8 py-5",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[i!=="Paid"&&e.jsx(Ft,{onClick:()=>c({id:s,dbId:t,date:a,amount:l,status:i}),className:"h-10 px-4 py-0 rounded-xl bg-violet-600 hover:bg-violet-700 shadow-md shadow-violet-100",children:"Pay Now"}),e.jsx("button",{onClick:()=>o(s),disabled:u===s,className:"p-2.5 text-slate-400 hover:text-violet-600 hover:bg-white rounded-xl shadow-sm border border-slate-100 transition-all disabled:opacity-50",title:"Download PDF",children:u===s?e.jsx("div",{className:"w-4 h-4 border-2 border-violet-600 border-t-transparent rounded-full animate-spin"}):e.jsx(na,{size:16})})]})})]}),NR=()=>{const[s,t]=b.useState(null),[a,l]=b.useState(!0),[i,o]=b.useState("personal"),[c,u]=b.useState(!1),[x,h]=b.useState({type:"",text:""}),[p,f]=b.useState(!1),[y,g]=b.useState({name:"",email:"",phone:"",address:"",password:"",confirmPassword:""});b.useEffect(()=>{v()},[]);const v=async()=>{l(!0);const R=await oM();t(R),g({name:R.name,email:R.email,phone:R.phone,address:R.address||""}),l(!1)},C=R=>{const{name:T,value:O}=R.target;g(W=>({...W,[T]:O}))},N=async R=>{if(R.preventDefault(),u(!0),h({type:"",text:""}),y.password&&y.password!==y.confirmPassword){h({type:"error",text:"Passwords do not match!"}),u(!1);return}try{const T=await cM(y);t(T),g(O=>({...O,password:"",confirmPassword:""})),h({type:"success",text:"Profile updated successfully!"})}catch{h({type:"error",text:"Failed to update profile."})}finally{u(!1)}},k=async()=>{f(!0);try{const R=await qN();t(R),h({type:"success",text:"Membership frozen successfully!"})}catch{h({type:"error",text:"Failed to freeze membership."})}finally{f(!1)}},A=async()=>{f(!0);try{const R=await HN();t(R),h({type:"success",text:"Membership unfrozen successfully!"})}catch{h({type:"error",text:"Failed to unfreeze membership."})}finally{f(!1)}},E=R=>{switch(R){case"Active":return"bg-emerald-50 text-emerald-700 border-emerald-200";case"Expired":return"bg-red-50 text-red-700 border-red-200";case"Payment Pending":return"bg-amber-50 text-amber-700 border-amber-200";case"Frozen":return"bg-blue-50 text-blue-700 border-blue-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}};if(a)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 flex items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"h-16 w-16 bg-gradient-to-br from-violet-200 to-purple-200 rounded-full mb-4 animate-spin"}),e.jsx("p",{className:"text-lg font-semibold text-slate-600",children:"Loading profile..."})]})});const w=[{id:"personal",label:"Personal Info",icon:lt},{id:"security",label:"Security",icon:Pa},{id:"notifications",label:"Notifications",icon:wn}];return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-6 md:p-8 font-sans",children:e.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[e.jsxs("div",{className:"relative bg-white rounded-2xl border border-slate-100 shadow-xl overflow-hidden animate-in fade-in duration-500",children:[e.jsxs("div",{className:"h-40 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-transparent to-black/10"}),e.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-10"})]}),e.jsx("div",{className:"px-8 pb-8",children:e.jsxs("div",{className:"relative flex flex-col md:flex-row md:items-end gap-6 -mt-16",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"w-36 h-36 rounded-2xl bg-white p-2 shadow-2xl ring-4 ring-white",children:e.jsx("div",{className:"w-full h-full rounded-xl bg-gradient-to-br from-violet-600 to-purple-600 flex items-center justify-center text-white text-5xl font-black shadow-lg",children:s.avatar})}),e.jsx("button",{className:"absolute bottom-2 right-2 p-3 bg-white rounded-xl shadow-lg border border-slate-200 text-violet-600 hover:scale-110 hover:bg-violet-50 active:scale-95 transition-all duration-300 group-hover:shadow-xl",children:e.jsx(Qo,{size:18})})]}),e.jsxs("div",{className:"flex-1 pb-2",children:[e.jsx("h1",{className:"text-3xl font-black bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent mb-2",children:s.name}),e.jsxs("div",{className:"flex flex-wrap gap-3 mt-3",children:[e.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-gradient-to-r from-violet-50 to-purple-50 text-violet-700 text-xs font-bold border border-violet-200 shadow-sm",children:s.plan}),e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-bold border shadow-sm ${E(s.membershipStatus)}`,children:[s.membershipStatus==="Active"&&e.jsx(Zt,{size:14}),s.membershipStatus==="Frozen"&&e.jsx(fy,{size:14}),s.membershipStatus==="Expired"&&e.jsx(Ze,{size:14}),s.membershipStatus==="Payment Pending"&&e.jsx(ua,{size:14}),s.membershipStatus]}),e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full bg-slate-50 text-slate-700 text-xs font-bold border border-slate-200 shadow-sm",children:[e.jsx(Xe,{size:14,className:"text-slate-500"}),"Joined ",s.joinedDate]})]})]}),e.jsxs("button",{className:"md:mb-2 px-6 py-3 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-xl text-sm font-bold shadow-lg shadow-violet-200 hover:shadow-violet-500/30 hover:scale-105 active:scale-95 transition-all duration-300 flex items-center gap-2",children:[e.jsx(Zt,{size:18}),"Verified Member"]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-xl p-8 animate-in fade-in duration-500",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-1",children:"Membership Details"}),e.jsx("p",{className:"text-sm text-slate-600 font-medium",children:"Your current plan information"})]}),e.jsx("div",{className:"p-3 bg-gradient-to-br from-violet-100 to-purple-100 rounded-xl",children:e.jsx(It,{size:24,className:"text-violet-600"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-100",children:[e.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-1",children:"Plan Name"}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:s.plan})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-100",children:[e.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-1",children:"Start Date"}),e.jsx("p",{className:"text-sm font-bold text-slate-900",children:new Date(s.membershipStartDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]}),e.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-100",children:[e.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-1",children:"Expiry Date"}),e.jsx("p",{className:"text-sm font-bold text-slate-900",children:new Date(s.membershipExpiryDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})]})]}),(s.currentUserRole==="ADMIN"||s.currentUserRole==="MANAGER")&&e.jsx("div",{className:"mt-6 pt-6 border-t border-slate-100",children:s.membershipStatus==="Active"?e.jsx("button",{onClick:k,disabled:p,className:"w-full px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-xl text-sm font-bold shadow-lg shadow-blue-200 hover:shadow-blue-500/30 hover:scale-105 active:scale-95 transition-all duration-300 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:p?e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(TA,{size:18}),"Freeze Membership"]})}):s.membershipStatus==="Frozen"?e.jsx("button",{onClick:A,disabled:p,className:"w-full px-6 py-3 bg-gradient-to-r from-emerald-600 to-emerald-700 text-white rounded-xl text-sm font-bold shadow-lg shadow-emerald-200 hover:shadow-emerald-500/30 hover:scale-105 active:scale-95 transition-all duration-300 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:p?e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(rg,{size:18}),"Unfreeze Membership"]})}):e.jsx("div",{className:"text-center p-4 bg-slate-50 rounded-xl border border-slate-200",children:e.jsxs("p",{className:"text-xs font-bold text-slate-500",children:["Freeze/Unfreeze not available for ",s.membershipStatus," status"]})})})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-xl p-8 animate-in fade-in duration-500",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-1",children:"Benefit Wallet"}),e.jsx("p",{className:"text-sm text-slate-600 font-medium",children:"Your available credits"})]}),e.jsx("span",{className:"px-3 py-1.5 rounded-full bg-gradient-to-r from-violet-50 to-purple-50 text-violet-700 text-xs font-bold border border-violet-200 shadow-sm",children:s.planValidity})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-5 bg-gradient-to-br from-orange-50 to-red-50 rounded-xl border border-orange-100 hover:shadow-lg transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"p-2 bg-white rounded-lg shadow-sm",children:e.jsx(lm,{size:20,className:"text-orange-600"})}),e.jsx("span",{className:"text-2xl font-black text-orange-600",children:s.benefitWallet.saunaSessions})]}),e.jsx("p",{className:"text-xs font-bold text-orange-900 uppercase tracking-wider",children:"Sauna Sessions"}),e.jsx("p",{className:"text-[10px] text-orange-700 mt-1 font-medium",children:"Left"})]}),e.jsxs("div",{className:"p-5 bg-gradient-to-br from-cyan-50 to-blue-50 rounded-xl border border-cyan-100 hover:shadow-lg transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"p-2 bg-white rounded-lg shadow-sm",children:e.jsx(fy,{size:20,className:"text-cyan-600"})}),e.jsx("span",{className:"text-2xl font-black text-cyan-600",children:s.benefitWallet.iceBathCredits})]}),e.jsx("p",{className:"text-xs font-bold text-cyan-900 uppercase tracking-wider",children:"Ice Bath Credits"}),e.jsx("p",{className:"text-[10px] text-cyan-700 mt-1 font-medium",children:"Left"})]}),e.jsx("div",{className:"p-5 bg-gradient-to-br from-violet-50 to-purple-50 rounded-xl border border-violet-100 hover:shadow-lg transition-all duration-300 col-span-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-white rounded-lg shadow-sm",children:e.jsx(Vr,{size:20,className:"text-violet-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-violet-900 uppercase tracking-wider",children:"PT Sessions Remaining"}),e.jsx("p",{className:"text-[10px] text-violet-700 mt-0.5 font-medium",children:"Personal Training"})]})]}),e.jsx("span",{className:"text-3xl font-black text-violet-600",children:s.benefitWallet.ptSessions})]})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"lg:col-span-1 space-y-2",children:w.map(R=>e.jsxs("button",{onClick:()=>o(R.id),className:`w-full flex items-center gap-3 px-5 py-4 rounded-xl text-sm font-bold transition-all duration-300 ${i===R.id?"bg-gradient-to-r from-violet-600 to-purple-600 text-white shadow-lg shadow-violet-200 hover:shadow-xl hover:scale-105":"text-slate-600 hover:bg-white border border-transparent hover:border-slate-200 hover:text-slate-900 hover:shadow-md"}`,children:[e.jsx(R.icon,{size:20,className:i===R.id?"":"text-slate-400"}),R.label]},R.id))}),e.jsx("div",{className:"lg:col-span-3",children:e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-xl p-8 animate-in slide-in-from-right duration-500",children:[x.text&&e.jsxs("div",{className:`mb-6 p-4 rounded-xl flex items-center gap-3 text-sm font-bold border ${x.type==="success"?"bg-emerald-50 text-emerald-700 border-emerald-200":"bg-red-50 text-red-700 border-red-200"}`,children:[x.type==="success"?e.jsx(Zt,{size:18}):e.jsx(Pa,{size:18}),x.text]}),i==="personal"&&e.jsxs("form",{onSubmit:N,className:"space-y-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"Personal Information"}),e.jsx("p",{className:"text-sm text-slate-600 font-medium",children:"Update your profile details and contact information."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest px-1",children:"Full Name"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-slate-400 group-focus-within:text-violet-600 group-focus-within:scale-110 transition-all duration-300",children:e.jsx(lt,{size:20})}),e.jsx("input",{type:"text",name:"name",value:y.name,onChange:C,className:"block w-full pl-12 pr-4 py-3.5 bg-white border-2 border-slate-200 rounded-xl text-slate-900 text-sm font-bold focus:outline-none focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 hover:border-violet-200 transition-all duration-300 shadow-sm",placeholder:"Enter your name"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest px-1",children:"Email Address"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-slate-400 group-focus-within:text-violet-600 group-focus-within:scale-110 transition-all duration-300",children:e.jsx(_r,{size:20})}),e.jsx("input",{type:"email",name:"email",value:y.email,readOnly:!0,className:"block w-full pl-12 pr-4 py-3.5 bg-slate-50 border-2 border-slate-200 rounded-xl text-slate-500 text-sm font-bold cursor-not-allowed transition-all duration-300 shadow-sm",placeholder:"Enter your email"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest px-1",children:"Phone Number"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-slate-400 group-focus-within:text-violet-600 group-focus-within:scale-110 transition-all duration-300",children:e.jsx(ja,{size:20})}),e.jsx("input",{type:"text",name:"phone",value:y.phone,onChange:C,className:"block w-full pl-12 pr-4 py-3.5 bg-white border-2 border-slate-200 rounded-xl text-slate-900 text-sm font-bold focus:outline-none focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 hover:border-violet-200 transition-all duration-300 shadow-sm",placeholder:"Enter phone number"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest px-1",children:"Location"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-slate-400 group-focus-within:text-violet-600 group-focus-within:scale-110 transition-all duration-300",children:e.jsx(Ws,{size:20})}),e.jsx("input",{type:"text",name:"address",value:y.address,onChange:C,className:"block w-full pl-12 pr-4 py-3.5 bg-white border-2 border-slate-200 rounded-xl text-slate-900 text-sm font-bold focus:outline-none focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 hover:border-violet-200 transition-all duration-300 shadow-sm",placeholder:"Enter city, country"})]})]})]}),e.jsx("div",{className:"pt-8 border-t border-slate-100",children:e.jsxs("button",{type:"submit",disabled:c,className:"group relative flex items-center justify-center px-8 py-4 rounded-xl font-bold text-white shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:translate-y-0 bg-gradient-to-r from-violet-600 to-purple-600 hover:shadow-violet-500/50 w-full md:w-auto",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 to-fuchsia-600 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),c?e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin relative mr-2"}):e.jsx(xa,{size:20,className:"mr-2 relative transition-transform duration-300 group-hover:rotate-12 group-hover:scale-110"}),e.jsx("span",{className:"relative z-10",children:c?"Saving...":"Save Profile Changes"})]})})]}),i==="security"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"Security Settings"}),e.jsx("p",{className:"text-sm text-slate-600 font-medium",children:"Manage your password and account security"})]}),e.jsxs("div",{className:"p-6 rounded-2xl bg-gradient-to-br from-red-50 to-red-100/50 border-2 border-red-100",children:[e.jsxs("h4",{className:"text-red-700 font-bold flex items-center gap-2 mb-2",children:[e.jsx(Os,{size:20})," Password Management"]}),e.jsx("p",{className:"text-red-800/70 text-sm font-medium",children:"It's recommended to update your password every 90 days for maximum security."}),e.jsxs("form",{onSubmit:N,className:"space-y-4",children:[e.jsx("div",{children:e.jsx("input",{type:"password",name:"password",value:y.password,onChange:C,placeholder:"New Password",className:"w-full mt-4 px-4 py-3 bg-white border border-red-200 rounded-xl text-sm focus:ring-2 focus:ring-red-400 focus:outline-none transition-all"})}),e.jsx("div",{children:e.jsx("input",{type:"password",name:"confirmPassword",value:y.confirmPassword,onChange:C,placeholder:"Confirm New Password",className:"w-full px-4 py-3 bg-white border border-red-200 rounded-xl text-sm focus:ring-2 focus:ring-red-400 focus:outline-none transition-all"})}),e.jsx("button",{type:"submit",disabled:c||!y.password,className:"mt-4 px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-xl text-sm font-bold hover:shadow-lg hover:scale-105 active:scale-95 transition-all duration-300 shadow-red-200 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:c?"Updating...":"Change Password"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-xs font-black text-slate-900 uppercase tracking-widest px-1",children:"Account Security"}),e.jsx("div",{className:"p-6 rounded-2xl border-2 border-slate-100 bg-slate-50/50 hover:bg-white hover:border-violet-100 transition-all duration-300 group cursor-pointer",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-slate-900 group-hover:text-violet-700 transition-colors",children:"Two-Factor Authentication"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1 font-medium",children:"Add an extra layer of security to your account."})]}),e.jsx("div",{className:"relative w-12 h-6 bg-slate-300 rounded-full shadow-inner transition-all hover:bg-slate-400",children:e.jsx("div",{className:"absolute left-1 top-1 w-4 h-4 bg-white rounded-full shadow-sm transition-all text-emerald-500"})})]})})]})]}),i==="notifications"&&e.jsxs("div",{className:"flex flex-col items-center justify-center py-24 text-center",children:[e.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-violet-100 to-purple-100 rounded-full flex items-center justify-center text-violet-600 mb-6 shadow-inner",children:e.jsx(wn,{size:40,className:"animate-pulse"})}),e.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Notification Preferences"}),e.jsx("p",{className:"text-slate-500 max-w-sm font-medium leading-relaxed",children:"Customize how you receive alerts, session reminders, and system updates."})]})]})})]})]})})},kR=()=>{const[s,t]=b.useState([]),a=Ht(),[l,i]=b.useState("All"),[o,c]=b.useState(!1),[u,x]=b.useState(!1),[h,p]=b.useState(!1),[f,y]=b.useState(!1),[g,v]=b.useState(""),[C,N]=b.useState(!1),[k,A]=b.useState(0),[E,w]=b.useState(0),[R,T]=b.useState(0),[O,W]=b.useState(0),[B,z]=b.useState("transactions"),[P,F]=b.useState([]),[G,Y]=b.useState([]),[me,H]=b.useState([]),[V,$]=b.useState(!1),[le,ge]=b.useState({name:"",number:"",expiry:""}),[te,q]=b.useState(!1),[Q,K]=b.useState("All");b.useEffect(()=>{oe(),ae()},[]);const oe=async()=>{const he=await xM();t(he)},ae=async()=>{try{const he=await jM();A(he?.balance||0),w(he?.addedThisMonth||0),T(he?.loyaltyPts||0),W(he?.credits||0);const re=await WN();H(re||[]);const et=await AM();Y(et||[])}catch(he){console.error("Failed to load wallet details:",he)}},ce=async he=>{he.preventDefault(),N(!0);try{const re=parseFloat(g);await hM(re),await ae(),await oe(),c(!1),v(""),alert("Credits added successfully!")}catch(re){console.error("Error adding credits:",re),alert("Failed to add credits")}finally{N(!1)}},pe=async()=>{y(!0);try{const he=new gt;he.setFontSize(20),he.setTextColor(40,40,40),he.text("Benefit Wallet Statement",14,22),he.setFontSize(10),he.setTextColor(100,100,100),he.text(`Generated on: ${new Date().toLocaleDateString()}`,14,30),he.text(`Available Balance: INR ${k}`,14,35);const re=s.map(et=>[et.date,et.title,et.type==="income"?"Credit":"Debit",(et.type==="income"?"+":"-")+" INR "+et.amount.toLocaleString()]);Gc(he,{startY:45,head:[["Date","Description","Type","Amount"]],body:re,theme:"striped",headStyles:{fillColor:[139,92,246]},styles:{fontSize:9,cellPadding:3}}),he.save(`Wallet_Statement_${new Date().toISOString().split("T")[0]}.pdf`)}catch(he){console.error("Error generating PDF:",he),alert("Failed to generate statement.")}finally{y(!1)}},we=async he=>{if(he.preventDefault(),le.number.length<4){alert("Please enter a valid card number");return}try{const re={name:le.name||"New Card",number:le.number.slice(-4),expiry:le.expiry||"MM/YY",brand:"Custom"},et=await GN(re);H([...me,et.card]),$(!1),ge({name:"",number:"",expiry:""}),alert("Card saved successfully!")}catch(re){console.error("Failed to save card:",re),alert("Failed to save card")}},Ee=async he=>{if(window.confirm("Are you sure you want to delete this card?"))try{await VN(he),H(me.filter(re=>re.id!==he))}catch(re){console.error("Failed to delete card:",re),alert("Failed to delete card")}},Be=async(he,re,et)=>{if(R<re){alert("Insufficient loyalty points to redeem this item.");return}if(window.confirm(`Redeem ${et} for ${re} points?`)){N(!0);try{const Tt=await DM(he);T(Tt.remainingPoints),await oe(),alert("Reward redeemed successfully!")}catch(Tt){console.error("Failed to redeem reward:",Tt),alert(typeof Tt=="string"?Tt:"Failed to redeem reward")}finally{N(!1)}}},Je=s.filter(he=>l==="All"?!0:he.type===l.toLowerCase()),tt=s.filter(he=>Q==="All"?!0:he.type===Q.toLowerCase());return e.jsxs("div",{className:"p-6 md:p-8 bg-gray-50 min-h-screen font-sans",children:[e.jsxs("div",{className:"max-w-5xl mx-auto space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-black text-gray-900 tracking-tight",children:"Benefit Wallet"}),e.jsx("p",{className:"text-gray-500 font-medium mt-1",children:"Manage your credits, rewards, and transaction history."})]}),e.jsxs("button",{onClick:()=>c(!0),className:"px-6 py-3 bg-violet-600 text-white rounded-2xl font-black shadow-lg shadow-violet-100 hover:bg-violet-700 transition-all flex items-center gap-2",children:[e.jsx(wt,{size:18})," Add Credits"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-slate-900 to-slate-800 p-6 md:p-8 rounded-[32px] md:rounded-[40px] text-white shadow-2xl relative overflow-hidden",children:[e.jsxs("div",{className:"relative z-10 space-y-8",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"p-3 bg-white/10 rounded-2xl backdrop-blur-md",children:e.jsx($h,{size:24,className:"text-indigo-300"})}),e.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Available Balance"})]}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-5xl font-black tracking-tight flex items-baseline gap-1",children:[e.jsx("span",{className:"text-2xl text-indigo-400 font-bold",children:""})," ",k.toLocaleString()]}),e.jsxs("p",{className:"text-slate-400 text-xs font-bold mt-2 flex items-center gap-1",children:[e.jsx(wt,{size:14,className:"text-green-400"})," ",E.toLocaleString()," added this month"]})]}),e.jsxs("div",{className:"flex items-center gap-4 pt-4",children:[e.jsxs("div",{className:"flex-1 p-3 bg-white/5 rounded-2xl border border-white/10 text-center",children:[e.jsx("p",{className:"text-[10px] uppercase font-bold text-slate-500",children:"Loyalty Pts"}),e.jsx("p",{className:"text-lg font-black text-indigo-300",children:R})]}),e.jsxs("div",{className:"flex-1 p-3 bg-white/5 rounded-2xl border border-white/10 text-center",children:[e.jsx("p",{className:"text-[10px] uppercase font-bold text-slate-500",children:"Credits"}),e.jsx("p",{className:"text-lg font-black text-indigo-300",children:O})]})]})]}),e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-indigo-500/10 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-violet-500/10 rounded-full blur-2xl"})]}),e.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-[28px] md:rounded-[32px] border border-gray-100 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(Wf,{icon:Rs,label:"Saved Cards",onClick:()=>x(!0)}),e.jsx(Wf,{icon:Hl,label:"Redeem Rewards",onClick:()=>p(!0)}),e.jsx(Wf,{icon:wl,label:"Statement PDF",onClick:pe,isLoading:f})]})]})]}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-white rounded-[32px] border border-gray-100 shadow-sm p-5 md:p-8 h-full flex flex-col",children:[e.jsxs("div",{className:"flex items-center gap-6 mb-8 border-b border-gray-100 pb-4",children:[e.jsxs("button",{onClick:()=>z("transactions"),className:`text-lg font-black transition-all relative ${B==="transactions"?"text-gray-900":"text-gray-400 hover:text-gray-600"}`,children:["Transactions",B==="transactions"&&e.jsx("div",{className:"absolute -bottom-[17px] left-0 right-0 h-1 bg-violet-600 rounded-full"})]}),e.jsxs("button",{onClick:()=>z("invoices"),className:`text-lg font-black transition-all relative ${B==="invoices"?"text-gray-900":"text-gray-400 hover:text-gray-600"}`,children:["My Invoices",B==="invoices"&&e.jsx("div",{className:"absolute -bottom-[17px] left-0 right-0 h-1 bg-violet-600 rounded-full"})]})]}),B==="transactions"?e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest",children:"Recent Activity"}),e.jsx("div",{className:"flex bg-gray-50 p-1 rounded-xl w-full sm:w-auto overflow-x-auto scrollbar-hide",children:["All","Income","Spent"].map(he=>e.jsx("button",{onClick:()=>i(he),className:`flex-1 sm:flex-none px-4 py-1.5 rounded-lg text-xs font-bold transition-all whitespace-nowrap ${l===he?"bg-white text-violet-600 shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:he},he))})]}),e.jsx("div",{className:"space-y-1 max-h-[400px] overflow-y-auto pr-1 custom-scrollbar",children:Je.length>0?Je.map(he=>e.jsx(CR,{title:he.title,date:he.date,amount:`${he.type==="income"?"+":"-"}${he.amount.toLocaleString()}`,type:he.type},he.id)):e.jsx("p",{className:"text-center text-gray-400 py-8 text-sm font-bold",children:"No transactions found."})}),e.jsx("button",{onClick:()=>q(!0),className:"w-full mt-6 py-4 text-violet-600 font-black text-sm hover:bg-violet-50 rounded-2xl transition-all",children:"View Detailed History"})]}):e.jsxs("div",{className:"flex-1 space-y-6",children:[e.jsxs("div",{className:"p-4 rounded-2xl bg-amber-50 border border-amber-100 flex gap-3 text-amber-800 text-sm",children:[e.jsx(ms,{className:"shrink-0",size:20}),e.jsx("p",{className:"font-medium",children:"You have 1 pending invoice. Please pay to avoid membership suspension."})]}),e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8 space-y-6 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-full flex items-center justify-center text-slate-200",children:e.jsx(Va,{size:40})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-xl font-black text-slate-900",children:"Manage Your Invoices"}),e.jsx("p",{className:"text-sm text-slate-500 font-medium max-w-xs mx-auto",children:"We've moved our billing system to a dedicated page for better security and experience."})]}),e.jsxs(Ft,{onClick:()=>a("/member/payments"),variant:"primary",className:"px-8 py-4 rounded-2xl shadow-xl shadow-violet-100",children:["Go to My Invoices ",e.jsx(Nl,{size:18,className:"ml-2"})]})]})]})]})})]})]}),e.jsx(rt,{isOpen:te,onClose:()=>q(!1),title:"Transaction History",maxWidth:"max-w-4xl",children:e.jsx("div",{className:"p-8 h-full flex flex-col",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[e.jsxs("div",{className:"w-full md:w-64 space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Filter by Type"}),e.jsx("div",{className:"space-y-1",children:["All","Income","Spent"].map(he=>e.jsxs("button",{onClick:()=>K(he),className:`w-full flex items-center justify-between p-3 rounded-2xl text-sm font-bold transition-all ${Q===he?"bg-violet-600 text-white shadow-lg shadow-violet-100":"text-gray-500 hover:bg-gray-50"}`,children:[he,Q===he&&e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-white"})]},he))})]}),e.jsxs("div",{className:"p-6 rounded-3xl bg-slate-900 text-white space-y-4",children:[e.jsx("p",{className:"text-xs font-bold text-slate-400",children:"Monthly Summary"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-slate-500 font-bold",children:"Total Added"}),e.jsxs("span",{className:"text-lg font-black text-green-400",children:["+",E.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between items-center text-sm font-bold",children:[e.jsx("span",{className:"text-xs text-slate-500 font-bold",children:"Available"}),e.jsxs("span",{className:"text-lg font-black text-indigo-400",children:["",k.toLocaleString()]})]})]})]})]}),e.jsx("div",{className:"flex-1 space-y-4",children:tt.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"hidden md:block bg-gray-50/50 rounded-3xl border border-gray-100 overflow-hidden",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Transaction"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Date"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-right",children:"Amount"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:tt.map(he=>e.jsxs("tr",{className:"hover:bg-white transition-colors group",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-xl ${he.type==="income"?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:he.type==="income"?e.jsx(W0,{size:16}):e.jsx(Nl,{size:16})}),e.jsx("span",{className:"font-bold text-gray-900 text-sm",children:he.title})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"text-xs font-bold text-gray-400",children:he.date})}),e.jsxs("td",{className:`px-6 py-4 text-sm font-black text-right ${he.type==="income"?"text-green-600":"text-gray-900"}`,children:[he.type==="income"?"+":"-","",he.amount.toLocaleString()]})]},he.id))})]})}),e.jsx("div",{className:"md:hidden space-y-4",children:tt.map(he=>e.jsx(Ya,{title:he.title,subtitle:he.date,status:he.type==="income"?"+"+he.amount.toLocaleString():"-"+he.amount.toLocaleString(),statusColor:he.type==="income"?"text-green-600":"text-gray-900",icon:he.type==="income"?W0:Nl,iconColor:he.type==="income"?"bg-green-100 text-green-600":"bg-red-100 text-red-600",fields:[]},he.id))})]}):e.jsxs("div",{className:"h-64 flex flex-col items-center justify-center text-center space-y-3 bg-gray-50/50 rounded-3xl border border-dashed border-gray-200",children:[e.jsx("div",{className:"p-4 bg-gray-100 rounded-full text-gray-400",children:e.jsx(wl,{size:32})}),e.jsx("p",{className:"text-gray-400 font-bold text-sm",children:"No transactions found for this filter."})]})})]})})}),e.jsx(rt,{isOpen:o,onClose:()=>c(!1),title:"Add Wallet Credits",maxWidth:"max-w-md",children:e.jsxs("form",{onSubmit:ce,className:"p-8 space-y-8",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Amount to add ()"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-6 top-1/2 -translate-y-1/2 text-gray-400 font-bold text-xl",children:""}),e.jsx("input",{type:"number",autoFocus:!0,required:!0,min:"1",className:"w-full bg-gray-50 border-2 border-gray-100 focus:border-violet-500 rounded-[24px] py-5 pl-12 pr-6 text-2xl font-black text-gray-900 outline-none transition-all",value:g,onChange:he=>v(he.target.value)})]})]}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:[500,1e3,2e3].map(he=>e.jsxs("button",{type:"button",onClick:()=>v(he),className:"py-4 rounded-2xl bg-violet-50 text-violet-600 text-xs font-black shadow-sm hover:bg-violet-600 hover:text-white transition-all active:scale-95",children:["+ ",he]},he))}),e.jsx("button",{type:"submit",disabled:C||!g,className:"w-full py-5 bg-violet-600 text-white rounded-[24px] font-black shadow-xl shadow-violet-200 hover:bg-violet-700 transition-all disabled:opacity-70 disabled:cursor-not-allowed flex justify-center items-center gap-2 transform active:scale-[0.98]",children:C?e.jsx(lu,{className:"animate-spin",size:20}):"Proceed to Pay"}),e.jsx("p",{className:"text-center text-[10px] font-bold text-gray-400 uppercase tracking-[0.2em]",children:"Secure encrypted payment"})]})}),e.jsx(rt,{isOpen:u,onClose:()=>{x(!1),$(!1)},title:V?"Add New Card":"Payment Methods",maxWidth:"max-w-md",children:e.jsx("div",{className:"p-8",children:V?e.jsxs("form",{onSubmit:we,className:"space-y-6 animate-in slide-in-from-right-4 duration-300",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Card Holder Name"}),e.jsx("input",{required:!0,type:"text",className:"w-full bg-gray-50 border-2 border-gray-100 focus:border-violet-500 rounded-2xl py-4 px-5 text-sm font-black outline-none transition-all",placeholder:"Enter full name",value:le.name,onChange:he=>ge({...le,name:he.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Card Number"}),e.jsx("input",{required:!0,type:"text",maxLength:"16",className:"w-full bg-gray-50 border-2 border-gray-100 focus:border-violet-500 rounded-2xl py-4 px-5 text-sm font-black outline-none transition-all tracking-[0.2em]",placeholder:"0000 0000 0000 0000",value:le.number,onChange:he=>ge({...le,number:he.target.value.replace(/\D/g,"")})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Expiry Date"}),e.jsx("input",{required:!0,type:"text",maxLength:"5",className:"w-full bg-gray-50 border-2 border-gray-100 focus:border-violet-500 rounded-2xl py-4 px-5 text-sm font-black outline-none transition-all",placeholder:"MM/YY",value:le.expiry,onChange:he=>{let re=he.target.value.replace(/\D/g,"");re.length>=2&&(re=re.slice(0,2)+"/"+re.slice(2)),ge({...le,expiry:re})}})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"CVV"}),e.jsx("input",{required:!0,type:"password",maxLength:"3",className:"w-full bg-gray-50 border-2 border-gray-100 focus:border-violet-500 rounded-2xl py-4 px-5 text-sm font-black outline-none transition-all",placeholder:""})]})]}),e.jsxs("div",{className:"flex gap-4 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>$(!1),className:"flex-1 py-5 bg-gray-50 text-gray-400 rounded-[24px] font-black text-sm hover:bg-gray-100 transition-all uppercase tracking-widest",children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex-[2] py-5 bg-violet-600 text-white rounded-[24px] font-black text-sm shadow-xl shadow-violet-200 hover:bg-violet-700 transition-all uppercase tracking-widest",children:"Save Method"})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"space-y-4",children:me.map((he,re)=>e.jsxs("div",{className:`p-6 rounded-[32px] border-2 transition-all ${re===0?"border-violet-200 bg-violet-50/20":"border-gray-50 bg-white hover:border-violet-100"} flex items-center justify-between group`,children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-12 h-8 ${he.brand==="HDFC"?"bg-slate-900":he.brand==="ICICI"?"bg-blue-600":"bg-slate-500"} rounded-lg flex items-center justify-center text-[8px] text-white font-black shadow-lg`,children:he.brand}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-black text-gray-900",children:he.name}),e.jsxs("p",{className:"text-[11px] font-bold text-gray-400",children:["  ",he.number]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[re===0&&e.jsx("div",{className:"w-6 h-6 rounded-full bg-violet-600 flex items-center justify-center shadow-lg shadow-violet-200",children:e.jsx(Hl,{size:12,className:"text-white fill-white"})}),e.jsx("button",{onClick:()=>Ee(he.id),className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-full transition-all",children:e.jsx(xs,{size:16})})]})]},he.id))}),e.jsxs("button",{onClick:()=>$(!0),className:"w-full py-5 border-2 border-dashed border-gray-200 rounded-[24px] text-gray-400 font-black text-sm hover:border-violet-300 hover:text-violet-600 hover:bg-violet-50 transition-all flex items-center justify-center gap-2",children:[e.jsx(wt,{size:20})," Add New Method"]})]})})}),e.jsx(rt,{isOpen:h,onClose:()=>p(!1),title:"Rewards Store",maxWidth:"max-w-md",children:e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs("div",{className:"bg-gradient-to-br from-violet-600 to-indigo-700 p-8 text-white",children:[e.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.2em] opacity-80 mb-1",children:"Total Available"}),e.jsxs("h2",{className:"text-4xl font-black flex items-center gap-2",children:[R," ",e.jsx(Hl,{className:"fill-white",size:24})]})]}),e.jsx("div",{className:"p-8 space-y-6 flex-1 overflow-y-auto",children:G.length===0?e.jsx("p",{className:"text-center text-xs font-bold text-gray-400",children:"Loading rewards store..."}):G.map(he=>e.jsx(SR,{points:he.points,title:he.name,description:he.description,disabled:R<he.points||C,onRedeem:()=>Be(he.id,he.points,he.name)},he.id))}),e.jsx("div",{className:"p-8 bg-gray-50 border-t border-gray-100 italic text-[10px] font-bold text-gray-400 text-center uppercase tracking-widest",children:"New rewards added every month"})]})})]})},Wf=({icon:s,label:t,onClick:a,isLoading:l})=>e.jsxs("button",{onClick:a,disabled:l,className:"w-full flex items-center justify-between p-3.5 md:p-4 bg-gray-50 hover:bg-violet-50 hover:text-violet-600 rounded-2xl transition-all group disabled:opacity-70 disabled:cursor-not-allowed",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[l?e.jsx(lu,{size:18,className:"animate-spin text-violet-500"}):e.jsx(s,{size:18}),e.jsx("span",{className:"text-sm font-bold",children:t})]}),e.jsx(Nl,{size:16,className:"text-gray-300 group-hover:text-violet-500"})]}),SR=({points:s,title:t,description:a,onRedeem:l,disabled:i})=>e.jsxs("div",{className:`p-4 rounded-2xl border border-gray-100 bg-white flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 ${i?"opacity-50":""}`,children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"px-2 py-0.5 rounded-md bg-amber-100 text-amber-600 text-[10px] font-black",children:[s," PTS"]}),e.jsx("h4",{className:"font-bold text-gray-900 text-sm",children:t})]}),e.jsx("p",{className:"text-xs text-gray-400 font-medium",children:a})]}),e.jsx("button",{onClick:l,disabled:i,className:`px-4 py-2 rounded-xl text-xs font-black transition-all ${i?"bg-gray-100 text-gray-400":"bg-gray-900 text-white hover:bg-violet-600"}`,children:"Redeem"})]}),CR=({title:s,date:t,amount:a,type:l})=>{const i=l==="income";return e.jsxs("div",{className:"flex items-center justify-between p-3 md:p-4 hover:bg-gray-50 rounded-2xl transition-all",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`p-2.5 rounded-xl ${i?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:i?e.jsx(W0,{size:18}):e.jsx(Nl,{size:18})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900 text-sm",children:s}),e.jsx("p",{className:"text-[11px] text-gray-400 font-bold uppercase tracking-wide",children:t})]})]}),e.jsx("span",{className:`text-sm font-black ${i?"text-green-600":"text-gray-900"}`,children:a})]})},jj=({role:s})=>e.jsx("div",{className:"fade-in",children:e.jsx(gm,{context:{role:s}})}),AR=({role:s})=>{const t=s==="MANAGER",[a,l]=b.useState(!1),[i,o]=b.useState(!1),[c,u]=b.useState({name:"",email:"",phone:"",address:"",timezone:"UTC",currency:"USD",logoUrl:"",openingHours:"",wifiPassword:""});b.useEffect(()=>{(async()=>{l(!0);try{const f=await iu();u(y=>({...y,...f}))}catch(f){Ve.error("Failed to load settings"),console.error(f)}finally{l(!1)}})()},[]);const x=p=>{t&&!["openingHours","wifiPassword"].includes(p.target.name)||u({...c,[p.target.name]:p.target.value})},h=async()=>{o(!0);try{const p=await Jg(c);Ve.success("Settings updated successfully"),u(f=>({...f,...p}))}catch(p){Ve.error(p.response?.data?.message||"Failed to update settings")}finally{o(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4 sm:gap-6",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 rounded-xl sm:rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(zr,{size:24,className:"sm:w-7 sm:h-7",strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:t?"Branch Operational Details":"Organization Settings"}),e.jsx("span",{className:"hidden sm:inline-block px-2 py-0.5 bg-gradient-to-r from-violet-500 to-purple-600 text-white text-[10px] font-black rounded-md shadow-sm animate-pulse",children:t?"BRANCH SCOPE ":"GLOBAL SCOPE "})]}),e.jsx("p",{className:"text-slate-600 text-xs sm:text-sm mt-0.5 sm:mt-1",children:t?"Update your specific branch details and operation hours":"Manage your gym's brand identity and global contact details"})]})]}),e.jsxs("button",{onClick:h,disabled:i,className:`group flex items-center justify-center gap-2 px-5 sm:px-6 py-2.5 sm:py-3 rounded-lg sm:rounded-xl text-sm font-bold shadow-xl transition-all w-full lg:w-auto ${i?"bg-slate-400 text-white cursor-not-allowed":"bg-gradient-to-r from-violet-600 to-purple-600 text-white shadow-violet-500/50 hover:shadow-2xl hover:shadow-violet-500/60 hover:scale-105"}`,children:[i?e.jsx("div",{className:"w-[18px] h-[18px] border-2 border-white/30 border-t-white rounded-full animate-spin"}):e.jsx(xa,{size:16,className:"sm:w-[18px] sm:h-[18px]",strokeWidth:2.5}),i?"Saving...":"Save Changes"]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 sm:gap-8",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"group relative bg-white rounded-xl sm:rounded-2xl shadow-lg border border-slate-100 p-6 sm:p-8 hover:shadow-xl hover:border-violet-200 transition-all duration-300 h-full text-center",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50/50 to-purple-50/50 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[e.jsxs("div",{className:"relative mb-4 sm:mb-6",children:[e.jsx("div",{className:"w-32 h-32 sm:w-40 sm:h-40 rounded-full p-1 bg-gradient-to-br from-violet-500 to-fuchsia-500 shadow-xl shadow-violet-200",children:e.jsx("div",{className:"w-full h-full rounded-full border-4 border-white bg-slate-50 overflow-hidden flex items-center justify-center group-hover:scale-105 transition-transform duration-500",children:c.logoUrl?e.jsx("img",{src:c.logoUrl,alt:"Logo",className:"w-full h-full object-cover"}):e.jsx(zr,{size:40,className:"sm:w-12 sm:h-12 text-slate-300"})})}),!t&&e.jsx("button",{className:"absolute bottom-1 right-1 sm:bottom-2 sm:right-2 p-2.5 sm:p-3 bg-violet-600 text-white rounded-full shadow-lg hover:bg-violet-700 hover:scale-110 transition-all duration-300 border-4 border-white",children:e.jsx(Qo,{size:18,className:"sm:w-5 sm:h-5",strokeWidth:2.5})})]}),e.jsx("h3",{className:"text-lg sm:text-xl font-black text-slate-800 mb-2",children:"Brand Logo"}),e.jsx("p",{className:"text-slate-500 text-xs sm:text-sm font-medium mb-4 sm:mb-6 max-w-xs mx-auto",children:t?"Global organization logo (Managed by Admin)":"Upload a high-resolution logo. Recommended size: 512x512px."}),!t&&e.jsx("button",{className:"w-full py-2.5 sm:py-3 bg-white border-2 border-slate-200 text-slate-700 rounded-lg sm:rounded-xl text-sm font-bold hover:border-violet-500 hover:text-violet-600 transition-all duration-300",children:"Upload New Logo"})]})]})}),e.jsxs("div",{className:"lg:col-span-2 space-y-6 sm:space-y-8",children:[e.jsxs("div",{className:"group relative bg-white rounded-xl sm:rounded-2xl shadow-lg border border-slate-100 p-6 sm:p-8 hover:shadow-xl hover:border-violet-200 transition-all duration-300",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50/30 to-purple-50/30 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative z-10 grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6",children:[e.jsxs("div",{className:"md:col-span-2 border-b border-slate-100 pb-2 mb-2",children:[e.jsx("h3",{className:"text-sm font-black text-violet-600 uppercase tracking-widest",children:"Global Brand Identity"}),e.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-tight",children:"Read-only for Branch Scope"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2 ml-1",children:"Organization Name"}),e.jsxs("div",{className:"relative group/input",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx(zr,{size:18,className:"text-slate-400 group-focus-within/input:text-violet-500 transition-colors"})}),e.jsx("input",{name:"name",type:"text",value:c.name,onChange:x,disabled:t,className:`w-full pl-11 pr-4 py-3.5 border-2 rounded-xl font-bold transition-all duration-300 ${t?"bg-slate-100 text-slate-400 cursor-not-allowed border-slate-100":"bg-slate-50 border-slate-200 text-slate-800 focus:bg-white focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10"}`,placeholder:"Enter organization name"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2 ml-1",children:"Email Address"}),e.jsxs("div",{className:"relative group/input",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx(_r,{size:18,className:"text-slate-400 group-focus-within/input:text-violet-500 transition-colors"})}),e.jsx("input",{name:"email",type:"email",value:c.email,onChange:x,disabled:t,className:`w-full pl-11 pr-4 py-3.5 border-2 rounded-xl font-bold transition-all duration-300 ${t?"bg-slate-100 text-slate-400 cursor-not-allowed border-slate-100":"bg-slate-50 border-slate-200 text-slate-800 focus:bg-white focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10"}`,placeholder:"admin@example.com"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2 ml-1",children:"Phone Number"}),e.jsxs("div",{className:"relative group/input",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx(ja,{size:18,className:"text-slate-400 group-focus-within/input:text-violet-500 transition-colors"})}),e.jsx("input",{name:"phone",type:"text",value:c.phone,onChange:x,disabled:t,className:`w-full pl-11 pr-4 py-3.5 border-2 rounded-xl font-bold transition-all duration-300 ${t?"bg-slate-100 text-slate-400 cursor-not-allowed border-slate-100":"bg-slate-50 border-slate-200 text-slate-800 focus:bg-white focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10"}`,placeholder:"+1 (555) 000-0000"})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2 ml-1",children:"Address"}),e.jsxs("div",{className:"relative group/input",children:[e.jsx("div",{className:"absolute top-4 left-4 flex items-start pointer-events-none",children:e.jsx(Ws,{size:18,className:"text-slate-400 group-focus-within/input:text-violet-500 transition-colors"})}),e.jsx("textarea",{name:"address",value:c.address,onChange:x,disabled:t,rows:"3",className:`w-full pl-11 pr-4 py-3.5 border-2 rounded-xl font-bold transition-all duration-300 resize-none ${t?"bg-slate-100 text-slate-400 cursor-not-allowed border-slate-100":"bg-slate-50 border-slate-200 text-slate-800 focus:bg-white focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10"}`,placeholder:"Enter full address"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2 ml-1",children:"Timezone"}),e.jsxs("div",{className:"relative group/input",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx(nm,{size:18,className:"text-slate-400 group-focus-within/input:text-violet-500 transition-colors"})}),e.jsxs("select",{name:"timezone",value:c.timezone,onChange:x,disabled:t,className:`w-full pl-11 pr-4 py-3.5 border-2 rounded-xl font-bold transition-all duration-300 appearance-none cursor-pointer ${t?"bg-slate-100 text-slate-400 cursor-not-allowed border-slate-100":"bg-slate-50 border-slate-200 text-slate-800 focus:bg-white focus:border-violet-500"}`,children:[e.jsx("option",{children:"PST (UTC-8)"}),e.jsx("option",{children:"EST (UTC-5)"}),e.jsx("option",{children:"IST (UTC+5:30)"})]}),!t&&e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-4 pointer-events-none",children:e.jsx(jn,{size:16,className:"text-slate-400 rotate-90"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2 ml-1",children:"Currency"}),e.jsxs("div",{className:"relative group/input",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx(Rs,{size:18,className:"text-slate-400 group-focus-within/input:text-violet-500 transition-colors"})}),e.jsxs("select",{name:"currency",value:c.currency,onChange:x,disabled:t,className:`w-full pl-11 pr-4 py-3.5 border-2 rounded-xl font-bold transition-all duration-300 appearance-none cursor-pointer ${t?"bg-slate-100 text-slate-400 cursor-not-allowed border-slate-100":"bg-slate-50 border-slate-200 text-slate-800 focus:bg-white focus:border-violet-500"}`,children:[e.jsx("option",{children:"USD ($)"}),e.jsx("option",{children:"EUR ()"}),e.jsx("option",{children:"INR ()"})]}),!t&&e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-4 pointer-events-none",children:e.jsx(jn,{size:16,className:"text-slate-400 rotate-90"})})]})]})]})]}),e.jsxs("div",{className:"group relative bg-white rounded-xl sm:rounded-2xl shadow-lg border border-slate-100 p-6 sm:p-8 hover:shadow-xl hover:border-violet-200 transition-all duration-300 overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-violet-50 rounded-bl-full -mr-16 -mt-16 transition-all group-hover:bg-violet-100"}),e.jsxs("div",{className:"relative z-10 space-y-6",children:[e.jsxs("div",{className:"border-b border-slate-100 pb-2 mb-2",children:[e.jsx("h3",{className:"text-sm font-black text-violet-600 uppercase tracking-widest",children:"Local Operational Details"}),e.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-tight",children:"Active for Branch Scope"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2 ml-1",children:"Opening Hours"}),e.jsxs("div",{className:"relative group/input",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx(nm,{size:18,className:"text-slate-400 group-focus-within/input:text-violet-500 transition-colors"})}),e.jsx("input",{name:"openingHours",type:"text",value:c.openingHours,onChange:x,className:"w-full pl-11 pr-4 py-3.5 bg-violet-50/50 border-2 border-violet-100 rounded-xl font-bold text-slate-800 focus:bg-white focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all duration-300",placeholder:"e.g. 06:00 AM - 10:00 PM"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2 ml-1",children:"Guest Wi-Fi Password"}),e.jsxs("div",{className:"relative group/input",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx(ja,{size:18,className:"text-slate-400 group-focus-within/input:text-violet-500 transition-colors"})}),e.jsx("input",{name:"wifiPassword",type:"text",value:c.wifiPassword,onChange:x,className:"w-full pl-11 pr-4 py-3.5 bg-violet-50/50 border-2 border-violet-100 rounded-xl font-bold text-slate-800 focus:bg-white focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all duration-300",placeholder:"Set Wi-Fi password"})]})]})]})]})]})]})]})]})},DR=()=>{const[s,t]=b.useState([]),[a,l]=b.useState(!0),[i,o]=b.useState(!1),[c,u]=b.useState({gymName:"",branchName:"",owner:"",phone:"",email:"",location:""}),x=async()=>{try{const g=((await Xg()).gyms||[]).map(v=>({id:v.id,name:v.gymName+(v.branchName?` - ${v.branchName}`:""),location:v.location||"N/A",manager:v.owner||"N/A",status:v.status||"Active",members:v.members||0}));t(g)}catch(f){console.error("Failed to fetch branches:",f)}finally{l(!1)}};b.useEffect(()=>{x()},[]);const h=f=>{u({...c,[f.target.name]:f.target.value})},p=async f=>{f.preventDefault();try{await Zw(c),o(!1),u({gymName:"",branchName:"",owner:"",phone:"",email:"",location:""}),x()}catch(y){console.error("Failed to add branch:",y),alert("Failed to add branch. Please try again.")}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6 flex-shrink-0",children:e.jsx(Ws,{size:24,className:"sm:w-7 sm:h-7",strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Branch Management"}),e.jsx("span",{className:"px-2 py-0.5 bg-gradient-to-r from-violet-500 to-purple-600 text-white text-[10px] font-black rounded-md shadow-sm animate-pulse whitespace-nowrap",children:"PREMIUM "})]}),e.jsx("p",{className:"text-slate-600 text-xs sm:text-sm mt-1",children:"Manage gym locations and their details"})]})]}),e.jsxs("button",{onClick:()=>o(!0),className:"group flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-xl text-sm font-bold shadow-xl shadow-violet-500/50 hover:shadow-2xl hover:shadow-violet-500/60 hover:scale-105 transition-all w-full sm:w-auto",children:[e.jsx(wt,{size:18,strokeWidth:2.5,className:"transition-all duration-300 group-hover:rotate-90"}),"Add Branch"]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4 sm:gap-6",children:[s.map(f=>e.jsxs("div",{className:"group relative bg-white rounded-3xl shadow-lg border border-slate-100 overflow-hidden hover:shadow-2xl hover:border-violet-200 transition-all duration-500 hover:-translate-y-1",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50/30 to-purple-50/30 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e.jsxs("div",{className:"relative p-6 z-10",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 text-white flex items-center justify-center text-2xl font-black shadow-lg shadow-violet-200 group-hover:scale-110 group-hover:rotate-3 transition-transform duration-500",children:f.name.charAt(0)}),e.jsxs("div",{className:"flex flex-col items-end gap-2",children:[e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-black uppercase tracking-wide border ${f.status==="Active"?"bg-emerald-50 text-emerald-600 border-emerald-100 shadow-emerald-500/20":"bg-slate-50 text-slate-500 border-slate-100"} shadow-sm`,children:f.status}),e.jsx("button",{className:"p-2 text-slate-300 hover:text-violet-600 hover:bg-violet-50 rounded-lg transition-all",children:e.jsx(qc,{size:16})})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-xl font-black text-slate-800 mb-1 group-hover:text-violet-700 transition-colors",children:f.name}),e.jsxs("p",{className:"text-slate-500 text-sm font-medium flex items-center gap-1.5",children:[e.jsx(Ws,{size:14,className:"text-violet-400"}),f.location]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[e.jsxs("div",{className:"p-3 bg-slate-50 rounded-xl border border-slate-100 group-hover:bg-white group-hover:shadow-sm transition-all",children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-400 text-[10px] font-black uppercase tracking-wider mb-1",children:[e.jsx(Z0,{size:12})," Manager"]}),e.jsx("div",{className:"font-bold text-slate-700 text-sm truncate",children:f.manager})]}),e.jsxs("div",{className:"p-3 bg-slate-50 rounded-xl border border-slate-100 group-hover:bg-white group-hover:shadow-sm transition-all",children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-400 text-[10px] font-black uppercase tracking-wider mb-1",children:[e.jsx(Pt,{size:12})," Members"]}),e.jsx("div",{className:"font-bold text-slate-700 text-sm",children:f.members})]})]}),e.jsxs("button",{className:"w-full py-3 flex items-center justify-center gap-2 bg-white border-2 border-slate-200 text-slate-600 rounded-xl text-sm font-bold hover:border-violet-500 hover:text-violet-600 hover:shadow-lg transition-all duration-300 group/btn",children:[e.jsx(Ra,{size:16,className:"group-hover/btn:scale-110 transition-transform"}),"Manage Branch"]})]})]},f.id)),e.jsxs("button",{onClick:()=>o(!0),className:"group relative min-h-[300px] flex flex-col items-center justify-center p-6 border-3 border-dashed border-slate-200 rounded-3xl hover:border-violet-400 hover:bg-violet-50/30 transition-all duration-300",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-slate-50 flex items-center justify-center text-slate-300 mb-4 group-hover:bg-white group-hover:text-violet-500 group-hover:scale-110 group-hover:shadow-lg transition-all duration-300",children:e.jsx(wt,{size:32,strokeWidth:3})}),e.jsx("h3",{className:"text-lg font-bold text-slate-400 group-hover:text-violet-600 transition-colors",children:"Add New Branch"})]})]}),i&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden animate-in fade-in zoom-in duration-300",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Add New Branch"}),e.jsx("button",{onClick:()=>o(!1),className:"text-slate-400 hover:text-slate-600 transition-colors",children:e.jsx(wt,{size:24,className:"rotate-45"})})]}),e.jsxs("form",{onSubmit:p,className:"p-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Gym Name"}),e.jsx("input",{type:"text",name:"gymName",value:c.gymName,onChange:h,required:!0,className:"w-full px-4 py-2 rounded-xl border border-slate-200 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 outline-none transition-all font-medium text-slate-700",placeholder:"e.g. Gold's Gym"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Branch Name"}),e.jsx("input",{type:"text",name:"branchName",value:c.branchName,onChange:h,required:!0,className:"w-full px-4 py-2 rounded-xl border border-slate-200 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 outline-none transition-all font-medium text-slate-700",placeholder:"e.g. Downtown"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Manager/Owner"}),e.jsxs("div",{className:"relative",children:[e.jsx(Pt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),e.jsx("input",{type:"text",name:"owner",value:c.owner,onChange:h,required:!0,className:"w-full pl-10 pr-4 py-2 rounded-xl border border-slate-200 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 outline-none transition-all font-medium text-slate-700",placeholder:"Full Name"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Phone"}),e.jsx("input",{type:"tel",name:"phone",value:c.phone,onChange:h,required:!0,className:"w-full px-4 py-2 rounded-xl border border-slate-200 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 outline-none transition-all font-medium text-slate-700",placeholder:"+1 (555) 000-0000"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Email"}),e.jsx("input",{type:"email",name:"email",value:c.email,onChange:h,required:!0,className:"w-full px-4 py-2 rounded-xl border border-slate-200 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 outline-none transition-all font-medium text-slate-700",placeholder:"branch@example.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Location"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ws,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),e.jsx("input",{type:"text",name:"location",value:c.location,onChange:h,required:!0,className:"w-full pl-10 pr-4 py-2 rounded-xl border border-slate-200 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 outline-none transition-all font-medium text-slate-700",placeholder:"123 Main St, City, Country"})]})]}),e.jsxs("div",{className:"pt-4 flex gap-3",children:[e.jsx("button",{type:"button",onClick:()=>o(!1),className:"flex-1 py-3 rounded-xl border border-slate-200 text-slate-600 font-bold hover:bg-slate-50 transition-all",children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex-1 py-3 rounded-xl bg-gradient-to-r from-violet-600 to-purple-600 text-white font-bold shadow-lg shadow-violet-200 hover:shadow-xl hover:scale-[1.02] transition-all",children:"Create Branch"})]})]})]})})]})},LR=()=>e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4 sm:gap-6",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 rounded-xl sm:rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(Pt,{size:24,className:"sm:w-7 sm:h-7",strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Roles & Permissions"}),e.jsx("span",{className:"hidden sm:inline-block px-2 py-0.5 bg-gradient-to-r from-violet-500 to-purple-600 text-white text-[10px] font-black rounded-md shadow-sm animate-pulse",children:"PREMIUM "})]}),e.jsx("p",{className:"text-slate-600 text-xs sm:text-sm mt-0.5 sm:mt-1",children:"Manage access control and user privileges"})]})]}),e.jsxs("button",{className:"group flex items-center justify-center gap-2 px-5 sm:px-6 py-2.5 sm:py-3 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-lg sm:rounded-xl text-sm font-bold shadow-xl shadow-violet-500/50 hover:shadow-2xl hover:shadow-violet-500/60 hover:scale-105 transition-all w-full lg:w-auto",children:[e.jsx(Pa,{size:16,className:"sm:w-[18px] sm:h-[18px]",strokeWidth:2.5}),"Create New Role"]})]})})]}),e.jsxs("div",{className:"group relative bg-white rounded-2xl sm:rounded-3xl shadow-xl border border-slate-100 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50/10 to-purple-50/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"}),e.jsx("div",{className:"relative z-10 overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50/50 border-b border-slate-200",children:[e.jsx("th",{className:"text-left py-5 px-6 text-xs font-black uppercase tracking-widest text-slate-400",children:"Role Name"}),e.jsx("th",{className:"text-center py-5 px-6 text-xs font-black uppercase tracking-widest text-slate-400",children:"Members"}),e.jsx("th",{className:"text-center py-5 px-6 text-xs font-black uppercase tracking-widest text-slate-400",children:"Financials"}),e.jsx("th",{className:"text-center py-5 px-6 text-xs font-black uppercase tracking-widest text-slate-400",children:"Settings"}),e.jsx("th",{className:"text-center py-5 px-6 text-xs font-black uppercase tracking-widest text-slate-400",children:"Reports"}),e.jsx("th",{className:"text-right py-5 px-6 text-xs font-black uppercase tracking-widest text-slate-400",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:PE.map((s,t)=>e.jsxs("tr",{className:"group/row hover:bg-violet-50/30 transition-colors duration-200",children:[e.jsx("td",{className:"py-5 px-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${s.role==="Super Admin"?"bg-purple-100 text-purple-600":s.role==="Manager"?"bg-indigo-100 text-indigo-600":s.role==="Trainer"?"bg-emerald-100 text-emerald-600":"bg-slate-100 text-slate-600"}`,children:e.jsx(Os,{size:16,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-slate-800",children:s.role}),e.jsxs("div",{className:"text-xs font-medium text-slate-400",children:[s.users||0," Users"]})]})]})}),[s.permissions.members,s.permissions.finance,s.permissions.settings,s.permissions.reports].map((a,l)=>e.jsx("td",{className:"py-5 px-6 text-center",children:e.jsx("div",{className:`inline-flex items-center justify-center w-8 h-8 rounded-full shadow-sm transition-transform duration-300 group-hover/row:scale-110 ${a?"bg-gradient-to-br from-emerald-100 to-emerald-200 text-emerald-600 shadow-emerald-200":"bg-gradient-to-br from-red-50 to-red-100 text-red-400"}`,children:a?e.jsx(wr,{size:16,strokeWidth:3}):e.jsx(Yr,{size:16,strokeWidth:3})})},l)),e.jsx("td",{className:"py-5 px-6 text-right",children:e.jsxs("button",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-white border border-slate-200 text-slate-600 rounded-lg text-xs font-bold shadow-sm hover:border-violet-500 hover:text-violet-600 hover:shadow-md transition-all duration-300",children:[e.jsx(Ra,{size:12,strokeWidth:2.5})," Edit"]})})]},t))})]})})]}),e.jsxs("div",{className:"mt-6 p-4 bg-amber-50 rounded-xl border border-amber-100 flex items-start gap-3",children:[e.jsx(ms,{size:20,className:"text-amber-500 shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-amber-800 text-sm",children:"Permission Updates"}),e.jsx("p",{className:"text-amber-700 text-xs mt-1",children:"Changes to role permissions may take up to 5 minutes to propagate to all active user sessions. Users may need to re-login to see updated access rights."})]})]})]}),ER=()=>e.jsxs("div",{className:"fade-in p-4 sm:p-6",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 sm:mb-6",children:"Billing & Plans"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[e.jsxs(is,{title:"Current Plan",className:"lg:col-span-2",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 sm:gap-0",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-1 sm:mb-2",children:F0.plan}),e.jsxs("p",{className:"text-sm sm:text-base text-gray-500",children:[F0.price," billed monthly"]})]}),e.jsx(Ft,{variant:"primary",className:"w-full sm:w-auto",children:"Upgrade Plan"})]}),e.jsxs("div",{className:"mt-4 sm:mt-6 text-sm sm:text-base text-gray-500",children:["Next billing date: ",e.jsx("span",{className:"text-gray-900 font-semibold",children:F0.nextBilling})]})]}),e.jsxs(is,{title:"Payment Method",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("div",{className:"p-2.5 sm:p-3 bg-gray-100 rounded-lg shrink-0",children:e.jsx(Rs,{size:20,className:"sm:w-6 sm:h-6"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-sm sm:text-base text-gray-900",children:F0.paymentMethod}),e.jsx("div",{className:"text-xs sm:text-sm text-gray-500",children:"Expires 12/25"})]})]}),e.jsx(Ft,{variant:"outline",size:"small",className:"mt-3 sm:mt-4 w-full",children:"Update Information"})]})]}),e.jsxs(is,{title:"Invoice History",children:[e.jsx("div",{className:"hidden md:block overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-left border-b border-gray-200",children:[e.jsx("th",{className:"py-3 font-semibold text-gray-700",children:"Invoice ID"}),e.jsx("th",{className:"py-3 font-semibold text-gray-700",children:"Date"}),e.jsx("th",{className:"py-3 font-semibold text-gray-700",children:"Amount"}),e.jsx("th",{className:"py-3 font-semibold text-gray-700",children:"Status"}),e.jsx("th",{className:"py-3 font-semibold text-gray-700 text-right",children:"Download"})]})}),e.jsx("tbody",{children:F0.invoices.map(s=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"py-3 font-medium text-gray-900",children:s.id}),e.jsx("td",{className:"py-3 text-gray-600",children:s.date}),e.jsx("td",{className:"py-3 text-gray-900",children:s.amount}),e.jsx("td",{className:"py-3",children:e.jsx("span",{className:"px-3 py-1 bg-emerald-100 text-emerald-700 rounded-full text-xs font-semibold",children:s.status})}),e.jsx("td",{className:"py-3 text-right",children:e.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors text-gray-500 hover:text-gray-700",children:e.jsx(na,{size:16})})})]},s.id))})]})}),e.jsx("div",{className:"md:hidden space-y-3",children:F0.invoices.map(s=>e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-100",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-sm text-gray-900 mb-1",children:s.id}),e.jsx("div",{className:"text-xs text-gray-500",children:s.date})]}),e.jsx("span",{className:"px-2.5 py-1 bg-emerald-100 text-emerald-700 rounded-full text-xs font-semibold",children:s.status})]}),e.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-gray-200",children:[e.jsx("div",{className:"font-bold text-base text-gray-900",children:s.amount}),e.jsx("button",{className:"p-2 bg-white hover:bg-gray-100 rounded-lg transition-colors text-gray-600 border border-gray-200",children:e.jsx(na,{size:16})})]})]},s.id))})]})]}),MR=()=>e.jsxs("div",{className:"fade-in p-4 sm:p-6",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 sm:mb-6",children:"Integrations"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:RE.map(s=>e.jsxs(is,{children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 mb-3 sm:mb-4",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-lg sm:rounded-xl bg-gray-100 flex items-center justify-center shrink-0",children:e.jsx(rA,{size:20,className:"sm:w-6 sm:h-6 text-gray-600"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h3",{className:"text-base sm:text-lg font-bold text-gray-900 truncate",children:s.name}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-500 line-clamp-1",children:s.description})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-stretch sm:items-center gap-3 mt-4 sm:mt-6 pt-3 sm:pt-4 border-t border-gray-100",children:[e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold text-center ${s.status==="Connected"?"bg-emerald-100 text-emerald-700":"bg-gray-100 text-gray-600"}`,children:s.status}),e.jsx(Ft,{variant:s.status==="Connected"?"outline":"primary",size:"small",className:"w-full sm:w-auto",children:s.status==="Connected"?"Disconnect":"Connect"})]})]},s.id))})]}),wj=()=>{const a=Pg()?.role===it.MANAGER,[l,i]=b.useState(null),[o,c]=b.useState("channels"),[u,x]=b.useState([{id:1,name:"Welcome Email",type:"Email",subject:"Welcome to Gym!",body:"Hi {name}, thanks for joining..."},{id:2,name:"Payment Reminder",type:"WhatsApp",subject:"",body:"Dear {name}, your payment of {amount} is due."}]),[h,p]=b.useState({whatsapp:{provider:"Twilio",apiKey:"sk_test_...",number:"+1234567890"},sms:{provider:"MSG91",apiKey:"auth_key_...",senderId:"GYMAPP"},email:{provider:"AWS SES",apiKey:"AKIA...",region:"us-east-1"}}),f=()=>{alert("Communication configuration saved successfully!")},[y,g]=b.useState(!1),[v,C]=b.useState({name:"",type:"WhatsApp",subject:"",body:""}),N=()=>{if(!v.name||!v.body){alert("Please fill in the template name and message body.");return}const w={id:u.length+1,...v};x([...u,w]),g(!1),C({name:"",type:"WhatsApp",subject:"",body:""}),alert("New message template created successfully!")},k=w=>{window.confirm("Are you sure you want to delete this template?")&&x(u.filter(R=>R.id!==w))},A=(w,R,T)=>{x(u.map(O=>O.id===w?{...O,[R]:T}:O))},E=w=>{console.log("Saving template:",w),alert(`Template "${w.name}" updated successfully!`)};return e.jsxs("div",{className:"fade-in space-y-4 sm:space-y-6 p-4 sm:p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 sm:gap-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-black text-gray-900 tracking-tight",children:"Communication"}),a&&e.jsx("span",{className:"px-2 py-0.5 bg-slate-100 text-slate-500 text-xs font-bold rounded border border-slate-200 uppercase tracking-wide",children:"Read-Only "})]}),e.jsx("p",{className:"text-sm sm:text-base text-gray-500 font-bold mt-1",children:a?"View communication templates & settings.":"Manage SMS, Email & WhatsApp templates."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[e.jsx(Ft,{variant:o==="channels"?"primary":"outline",onClick:()=>c("channels"),className:"w-full sm:w-auto",children:"Gateway Channels"}),e.jsx(Ft,{variant:o==="templates"?"primary":"outline",onClick:()=>c("templates"),className:"w-full sm:w-auto",children:"Message Templates"})]})]}),e.jsx(nb,{value:l,onChange:i,branches:ib}),o==="channels"?e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[e.jsx(is,{title:"WhatsApp Integration",children:e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-3 sm:mb-4",children:[e.jsx("div",{className:"p-2 sm:p-3 bg-green-100 text-green-600 rounded-lg shrink-0",children:e.jsx(sr,{size:20,className:"sm:w-6 sm:h-6"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-sm sm:text-base text-gray-900",children:"WhatsApp Business"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Configure Twilio or Meta API"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Provider"}),e.jsxs("select",{className:`w-full p-2 border rounded-lg mt-1 text-sm ${a?"bg-gray-100 cursor-not-allowed text-gray-500":"bg-gray-50"}`,disabled:a,children:[e.jsx("option",{children:"Twilio"}),e.jsx("option",{children:"Meta Cloud API"}),e.jsx("option",{children:"Interakt"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"API Key / Auth Token"}),e.jsx("input",{type:"password",value:h.whatsapp.apiKey,className:`w-full p-2 border rounded-lg mt-1 text-sm ${a?"bg-gray-100 cursor-not-allowed text-gray-500":""}`,disabled:a,placeholder:a?"":"Enter API Key"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Sender Number"}),e.jsx("input",{type:"text",value:h.whatsapp.number,className:`w-full p-2 border rounded-lg mt-1 text-sm ${a?"bg-gray-100 cursor-not-allowed text-gray-500":""}`,disabled:a,placeholder:a?"":"Enter Sender Number"})]}),e.jsx(Ft,{variant:"primary",className:"w-full mt-2",onClick:f,disabled:a,children:"Save Configuration"})]})}),e.jsx(is,{title:"SMS Gateway",children:e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-3 sm:mb-4",children:[e.jsx("div",{className:"p-2 sm:p-3 bg-blue-100 text-blue-600 rounded-lg shrink-0",children:e.jsx(Kl,{size:20,className:"sm:w-6 sm:h-6"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-sm sm:text-base text-gray-900",children:"SMS Gateway"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"DLT Registered Headers required (India)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Provider"}),e.jsxs("select",{className:`w-full p-2 border rounded-lg mt-1 text-sm ${a?"bg-gray-100 cursor-not-allowed text-gray-500":"bg-gray-50"}`,disabled:a,children:[e.jsx("option",{children:"MSG91"}),e.jsx("option",{children:"Kaleyra"}),e.jsx("option",{children:"Twilio"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Auth Key"}),e.jsx("input",{type:"password",value:h.sms.apiKey,className:`w-full p-2 border rounded-lg mt-1 text-sm ${a?"bg-gray-100 cursor-not-allowed text-gray-500":""}`,disabled:a,placeholder:a?"":"Enter Auth Key"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Sender ID (6 chars)"}),e.jsx("input",{type:"text",value:h.sms.senderId,className:`w-full p-2 border rounded-lg mt-1 text-sm ${a?"bg-gray-100 cursor-not-allowed text-gray-500":""}`,disabled:a,placeholder:a?"":"Enter Sender ID"})]}),e.jsx(Ft,{variant:"primary",className:"w-full mt-2",onClick:f,disabled:a,children:"Save Configuration"})]})})]}):e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-lg font-black text-gray-800",children:"Message Templates"}),!a&&e.jsxs(Ft,{onClick:()=>g(!0),variant:"primary",className:"bg-indigo-600 text-white shadow-lg shadow-indigo-200",children:[e.jsx(wt,{size:18,className:"mr-2"}),"New Template"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:u.map(w=>e.jsxs(is,{className:"relative group",children:[e.jsx("div",{className:"absolute top-3 sm:top-4 right-3 sm:right-4",children:e.jsx("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:!a&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>E(w),className:"p-1.5 sm:p-2 text-blue-600 hover:bg-blue-50 rounded-full",title:"Save Changes",children:e.jsx(xa,{size:14,className:"sm:w-4 sm:h-4"})}),e.jsx("button",{onClick:()=>k(w.id),className:"p-1.5 sm:p-2 text-red-600 hover:bg-red-50 rounded-full",title:"Delete Template",children:e.jsx(xs,{size:14,className:"sm:w-4 sm:h-4"})})]})})}),e.jsxs("div",{className:"flex items-center gap-2 mb-2 sm:mb-3",children:[e.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded uppercase ${w.type==="Email"?"bg-orange-100 text-orange-700":"bg-green-100 text-green-700"}`,children:w.type}),e.jsx("h4",{className:"font-bold text-sm sm:text-base text-gray-900",children:w.name})]}),w.type==="Email"&&e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"text-xs text-gray-400 uppercase",children:"Subject"}),e.jsx("input",{type:"text",value:w.subject,onChange:R=>A(w.id,"subject",R.target.value),className:`w-full text-xs sm:text-sm p-1 border-b focus:outline-none focus:border-indigo-500 ${a?"bg-gray-100 cursor-not-allowed text-gray-500":""}`,disabled:a})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-xs text-gray-400 uppercase",children:["Body Content (Supports ","{variables}",")"]}),e.jsx("textarea",{value:w.body,onChange:R=>A(w.id,"body",R.target.value),rows:3,className:`w-full text-xs sm:text-sm p-2 border rounded bg-gray-50 focus:bg-white focus:ring-1 focus:ring-indigo-500 outline-none mt-1 ${a?"bg-gray-100 cursor-not-allowed text-gray-500":""}`,disabled:a})]})]},w.id))})]}),e.jsx(rt,{isOpen:y,onClose:()=>g(!1),title:"Create Message Template",subtitle:"Design new notification templates",maxWidth:"max-w-lg",footer:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(Ft,{variant:"outline",className:"flex-1",onClick:()=>g(!1),children:"Cancel"}),e.jsx(Ft,{variant:"primary",className:"flex-1",onClick:N,children:"Create Template"})]}),children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Template Name"}),e.jsx("input",{type:"text",placeholder:"e.g. Membership Renewal Reminder",className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl focus:border-violet-500 focus:ring-2 focus:ring-violet-200 outline-none transition-all",value:v.name,onChange:w=>C({...v,name:w.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Channel Type"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:["WhatsApp","Email","SMS"].map(w=>e.jsx("button",{onClick:()=>C({...v,type:w}),className:`px-4 py-3 rounded-xl text-sm font-bold border-2 transition-all ${v.type===w?"border-violet-600 bg-violet-50 text-violet-700":"border-slate-100 bg-white text-slate-500 hover:border-slate-200"}`,children:w},w))})]}),v.type==="Email"&&e.jsxs("div",{className:"animate-in slide-in-from-top-2 duration-200",children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Email Subject"}),e.jsx("input",{type:"text",placeholder:"e.g. Important Update regarding your membership",className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl focus:border-violet-500 focus:ring-2 focus:ring-violet-200 outline-none transition-all",value:v.subject,onChange:w=>C({...v,subject:w.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Message Body"}),e.jsx("div",{className:"mb-2 flex gap-2 overflow-x-auto pb-2",children:["{name}","{amount}","{date}","{branch}"].map(w=>e.jsx("button",{onClick:()=>C(R=>({...R,body:R.body+" "+w})),className:"px-2 py-1 bg-slate-100 text-slate-600 rounded text-[10px] font-bold uppercase hover:bg-slate-200 whitespace-nowrap",children:w},w))}),e.jsx("textarea",{placeholder:"Type your message here...",className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl focus:border-violet-500 focus:ring-2 focus:ring-violet-200 outline-none transition-all min-h-[150px] resize-none",value:v.body,onChange:w=>C({...v,body:w.target.value})}),e.jsxs("p",{className:"text-xs text-slate-400 mt-2 text-right",children:[v.body.length," characters"]})]}),e.jsxs("div",{className:"p-4 bg-amber-50 rounded-xl border border-amber-100 flex gap-3",children:[e.jsx("div",{className:"shrink-0 text-amber-500 mt-0.5",children:e.jsx(sr,{size:16})}),e.jsxs("p",{className:"text-xs text-amber-700 leading-relaxed font-medium",children:[e.jsx("strong",{children:"Note:"})," WhatsApp templates require approval from Meta before they can be sent. Email and SMS templates are active immediately."]})]})]})})]})},zR=({role:s})=>{const t=s==="MANAGER",[a,l]=b.useState({minLength:"10 Characters",expiry:"Every 90 Days"}),[i,o]=b.useState(!1);return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4 sm:gap-6",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 rounded-xl sm:rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(Pa,{size:24,className:"sm:w-7 sm:h-7",strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Security Settings"}),e.jsx("span",{className:"hidden sm:inline-block px-2 py-0.5 bg-gradient-to-r from-violet-500 to-purple-600 text-white text-[10px] font-black rounded-md shadow-sm animate-pulse",children:t?"READ-ONLY ":"PREMIUM "})]}),e.jsx("p",{className:"text-slate-600 text-xs sm:text-sm mt-0.5 sm:mt-1",children:t?"Viewing global security policies (Management scope)":"Configure security policies and access controls"})]})]}),!t&&e.jsxs("button",{className:"group flex items-center justify-center gap-2 px-5 sm:px-6 py-2.5 sm:py-3 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-lg sm:rounded-xl text-sm font-bold shadow-xl shadow-violet-500/50 hover:shadow-2xl hover:shadow-violet-500/60 hover:scale-105 transition-all w-full lg:w-auto",children:[e.jsx(xa,{size:16,className:"sm:w-[18px] sm:h-[18px]",strokeWidth:2.5}),"Save Configuration"]})]})})]}),e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"group relative bg-white rounded-xl sm:rounded-2xl shadow-lg border border-slate-100 p-6 sm:p-8 hover:shadow-xl hover:border-violet-200 transition-all duration-300",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50/20 to-purple-50/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-2.5 bg-violet-50 text-violet-600 rounded-xl group-hover:bg-violet-100 transition-colors",children:e.jsx(Os,{size:20,strokeWidth:2.5})}),e.jsx("h3",{className:"text-xl font-black text-slate-800",children:"Password Policy"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2",children:"Minimum Length"}),e.jsxs("select",{value:a.minLength,onChange:c=>!t&&l({...a,minLength:c.target.value}),disabled:t,className:`w-full px-4 py-3 border-2 rounded-xl font-bold transition-all duration-300 appearance-none ${t?"bg-slate-100 text-slate-400 cursor-not-allowed border-slate-100":"bg-slate-50 border-slate-200 text-slate-800 focus:bg-white focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10"}`,children:[e.jsx("option",{children:"8 Characters"}),e.jsx("option",{children:"10 Characters"}),e.jsx("option",{children:"12 Characters"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2",children:"Password Expiry"}),e.jsxs("select",{value:a.expiry,onChange:c=>!t&&l({...a,expiry:c.target.value}),disabled:t,className:`w-full px-4 py-3 border-2 rounded-xl font-bold transition-all duration-300 appearance-none ${t?"bg-slate-100 text-slate-400 cursor-not-allowed border-slate-100":"bg-slate-50 border-slate-200 text-slate-800 focus:bg-white focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10"}`,children:[e.jsx("option",{children:"Never"}),e.jsx("option",{children:"Every 90 Days"}),e.jsx("option",{children:"Every 180 Days"})]})]})]})]})]}),e.jsxs("div",{className:"group relative bg-white rounded-xl sm:rounded-2xl shadow-lg border border-slate-100 p-6 sm:p-8 hover:shadow-xl hover:border-violet-200 transition-all duration-300",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50/20 to-purple-50/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row md:items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-3 bg-amber-50 text-amber-500 rounded-xl border border-amber-100 group-hover:bg-amber-100 transition-colors shrink-0",children:e.jsx(Kl,{size:24,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-black text-slate-800 mb-1",children:"Two-Factor Authentication (2FA)"}),e.jsx("p",{className:"text-slate-500 text-sm font-medium leading-relaxed max-w-md",children:"Require OTP verification for all staff and admin logins to enhance account security."})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`text-sm font-bold ${i?"text-emerald-600":"text-slate-400"}`,children:i?"Enabled":"Disabled"}),e.jsx("button",{onClick:()=>!t&&o(!i),disabled:t,className:`relative w-14 h-8 rounded-full transition-colors duration-300 focus:outline-none focus:ring-4 focus:ring-violet-500/20 ${t?"bg-slate-100 cursor-not-allowed":i?"bg-violet-600":"bg-slate-200"} `,children:e.jsx("span",{className:`absolute left-1 top-1 w-6 h-6 bg-white rounded-full shadow-md transform transition-transform duration-300 ${i?"translate-x-6":"translate-x-0"} `})})]})]})]}),e.jsxs("div",{className:"group relative bg-white rounded-xl sm:rounded-2xl shadow-lg border border-slate-100 p-6 sm:p-8 hover:shadow-xl hover:border-violet-200 transition-all duration-300",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50/20 to-purple-50/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-2.5 bg-emerald-50 text-emerald-600 rounded-xl group-hover:bg-emerald-100 transition-colors",children:e.jsx(nm,{size:20,strokeWidth:2.5})}),e.jsx("h3",{className:"text-xl font-black text-slate-800",children:"Active Sessions"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 p-4 bg-emerald-50/50 rounded-xl border border-emerald-100 hover:bg-emerald-50 hover:border-emerald-200 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-white flex items-center justify-center text-emerald-500 shadow-sm shrink-0",children:e.jsx($w,{size:20,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-slate-800",children:"Windows PC - Chrome"}),e.jsxs("div",{className:"text-xs font-semibold text-emerald-600 flex items-center gap-1",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"}),"Current Session  San Francisco, CA"]})]})]}),e.jsx("span",{className:"self-start sm:self-center px-3 py-1 bg-emerald-100 text-emerald-700 text-xs font-black rounded-lg uppercase tracking-wide whitespace-nowrap",children:"Active"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 p-4 bg-slate-50 rounded-xl border border-slate-100 hover:bg-white hover:border-slate-200 hover:shadow-md transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-white flex items-center justify-center text-slate-400 shadow-sm border border-slate-100 shrink-0",children:e.jsx(Kl,{size:20,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-slate-700",children:"iPhone 13 - Safari"}),e.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Los Angeles, CA  2 hours ago"})]})]}),e.jsx("button",{disabled:t,className:`self-start sm:self-center px-4 py-2 bg-white rounded-lg text-xs font-bold transition-all shadow-sm w-full sm:w-auto ${t?"text-slate-300 border-slate-100 cursor-not-allowed":"text-red-500 border-red-100 hover:bg-red-50 hover:text-red-600 hover:border-red-200"} `,children:"Revoke"})]})]})]})]})]})]})},TR=[{id:1,type:"Payment",provider:"Razorpay",event:"payment.captured",status:"Success",time:"10:42 AM"},{id:2,type:"Payment",provider:"Razorpay",event:"payment.failed",status:"Failed",time:"09:15 AM"},{id:3,type:"WhatsApp",provider:"Twilio",event:"message.sent",status:"Success",time:"Yesterday"}],_R=()=>{const[s,t]=b.useState("system"),[a,l]=b.useState(""),[i,o]=b.useState(!1),c=OE.filter(u=>u.user.toLowerCase().includes(a.toLowerCase())||u.action.toLowerCase().includes(a.toLowerCase()));return e.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-6 pb-12 min-h-screen",children:[e.jsxs("div",{className:"mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent mb-2 flex items-center gap-2",children:[e.jsx(Pa,{className:"text-violet-600",size:28}),"System & Security Logs"]}),e.jsx("p",{className:"text-slate-600 text-sm",children:"Track system activity and webhook events in real-time"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>t("system"),className:`px-6 py-2.5 rounded-xl font-semibold shadow-lg transition-all duration-300 flex items-center gap-2 ${s==="system"?"bg-gradient-to-r from-violet-600 to-purple-600 text-white hover:shadow-xl hover:shadow-violet-500/50 hover:scale-105 hover:-translate-y-1":"bg-white border border-slate-200 text-slate-700 hover:bg-slate-50 hover:shadow-md hover:scale-105"}`,children:"System Activity"}),e.jsx("button",{onClick:()=>t("webhooks"),className:`px-6 py-2.5 rounded-xl font-semibold shadow-lg transition-all duration-300 flex items-center gap-2 ${s==="webhooks"?"bg-gradient-to-r from-violet-600 to-purple-600 text-white hover:shadow-xl hover:shadow-violet-500/50 hover:scale-105 hover:-translate-y-1":"bg-white border border-slate-200 text-slate-700 hover:bg-slate-50 hover:shadow-md hover:scale-105"}`,children:"Webhook Events"})]})]})})]}),s==="system"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-6 bg-white/60 backdrop-blur-md rounded-xl shadow-lg border border-white/50 p-5 hover:shadow-xl transition-all duration-300",children:e.jsx("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-center",children:e.jsxs("div",{className:"relative w-full md:w-96 group",children:[e.jsx(st,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 group-focus-within:scale-110 transition-all duration-300"}),e.jsx("input",{type:"text",value:a,onChange:u=>l(u.target.value),placeholder:"Search by user or action...",className:"w-full pl-12 pr-4 py-3 bg-white/80 border-2 border-slate-200 rounded-xl text-sm focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 focus:bg-white transition-all duration-300 hover:border-slate-300"})]})})}),e.jsx("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gradient-to-r from-slate-50 to-slate-100/50 border-b-2 border-slate-200",children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"Date & Time"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"User"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"Action"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"IP Address"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:c.map(u=>e.jsxs("tr",{className:"group hover:bg-gradient-to-r hover:from-violet-50/50 hover:via-purple-50/30 hover:to-transparent transition-all duration-300 cursor-pointer",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[e.jsx(Ze,{className:"w-4 h-4 text-slate-400 transition-transform duration-300 group-hover:scale-125"}),u.date]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white font-bold shadow-md group-hover:shadow-lg group-hover:scale-110 group-hover:rotate-6 transition-all duration-300",children:(u.user||"?").charAt(0)}),e.jsx("div",{children:e.jsx("div",{className:"text-sm font-semibold text-slate-900 group-hover:text-violet-600 transition-colors duration-300",children:u.user})})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-sm font-medium text-slate-700 group-hover:text-slate-900 transition-colors duration-300",children:u.action})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2 font-mono text-xs text-slate-500 group-hover:text-violet-600 transition-colors duration-300",children:[e.jsx(nm,{className:"w-4 h-4 text-slate-400 transition-transform duration-300 group-hover:scale-125"}),u.ip]})})]},u.id))})]})})})]}):e.jsx("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden p-6",children:e.jsxs("div",{className:"space-y-4",children:[TR.map(u=>e.jsxs("div",{className:"group flex justify-between items-center p-5 border-2 border-slate-100 rounded-xl hover:border-violet-200 hover:bg-gradient-to-r hover:from-violet-50/50 hover:to-purple-50/30 cursor-pointer transition-all duration-300 hover:shadow-lg hover:scale-[1.02]",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`p-3 rounded-xl shadow-md transition-all duration-300 group-hover:scale-110 group-hover:rotate-6 ${u.type==="Payment"?"bg-gradient-to-br from-blue-500 to-blue-600 text-white":"bg-gradient-to-br from-green-500 to-green-600 text-white"}`,children:e.jsx(It,{size:20})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-bold text-slate-900 group-hover:text-violet-600 transition-colors duration-300",children:u.provider}),e.jsx("span",{className:"text-xs text-slate-500 font-mono bg-slate-100 px-2 py-1 rounded-lg group-hover:bg-violet-100 group-hover:text-violet-700 transition-all duration-300",children:u.event})]}),e.jsx("div",{className:"text-sm text-slate-500 mt-1",children:u.time})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:`text-xs font-bold px-4 py-2 rounded-full uppercase shadow-sm transition-all duration-300 group-hover:scale-110 group-hover:shadow-md ${u.status==="Success"?"bg-gradient-to-r from-emerald-50 to-emerald-100 text-emerald-700 border border-emerald-200 group-hover:shadow-emerald-500/50":"bg-gradient-to-r from-red-50 to-red-100 text-red-700 border border-red-200 group-hover:shadow-red-500/50"}`,children:u.status}),e.jsx(bs,{size:20,className:"text-slate-400 group-hover:text-violet-600 group-hover:translate-x-1 transition-all duration-300"})]})]},u.id)),e.jsx("div",{className:"text-center pt-6",children:e.jsxs("button",{className:"group px-6 py-3 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-xl font-semibold shadow-lg hover:shadow-xl hover:shadow-violet-500/50 hover:scale-105 hover:-translate-y-1 transition-all duration-300 flex items-center justify-center gap-2 mx-auto",children:[e.jsx(Tr,{size:16,className:"transition-transform duration-300 group-hover:rotate-180"}),"Load More Events"]})})]})})]})},Nj=()=>{const a=Pg()?.role===it.MANAGER,[l,i]=b.useState("razorpay"),[o,c]=b.useState(null),u=x=>{x.preventDefault(),alert("Payment gateway configuration saved successfully!")};return e.jsxs("div",{className:"fade-in max-w-4xl mx-auto space-y-4 sm:space-y-6 p-4 sm:p-6",children:[e.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-black text-gray-900 tracking-tight",children:"Payment Integration"}),a&&e.jsx("span",{className:"px-2 py-0.5 bg-slate-100 text-slate-500 text-xs font-bold rounded border border-slate-200 uppercase tracking-wide",children:"Read-Only "})]}),e.jsx("p",{className:"text-sm sm:text-base text-gray-500 font-bold mt-1",children:a?"Contact Admin to update payment configuration.":"Configure your online payment gateway settings."})]})}),e.jsx(nb,{value:o,onChange:c,branches:ib}),e.jsxs(is,{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 border-b border-gray-100 pb-4 sm:pb-6 mb-4 sm:mb-6",children:[e.jsxs("button",{onClick:()=>!a&&i("razorpay"),disabled:a,className:`flex-1 py-3 sm:py-4 px-4 sm:px-6 rounded-lg sm:rounded-xl border-2 font-bold text-base sm:text-lg transition-all flex items-center justify-center gap-2 sm:gap-3 ${l==="razorpay"?"border-indigo-600 bg-indigo-50 text-indigo-700":"border-gray-100 text-gray-400 hover:border-gray-200"} ${a?"cursor-not-allowed opacity-75":""}`,children:[e.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6 rounded-full bg-blue-900"}),"Razorpay"]}),e.jsxs("button",{onClick:()=>!a&&i("stripe"),disabled:a,className:`flex-1 py-3 sm:py-4 px-4 sm:px-6 rounded-lg sm:rounded-xl border-2 font-bold text-base sm:text-lg transition-all flex items-center justify-center gap-2 sm:gap-3 ${l==="stripe"?"border-indigo-600 bg-indigo-50 text-indigo-700":"border-gray-100 text-gray-400 hover:border-gray-200"} ${a?"cursor-not-allowed opacity-75":""}`,children:[e.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6 rounded-full bg-indigo-600"}),"Stripe"]})]}),e.jsxs("form",{className:"space-y-4 sm:space-y-6",onSubmit:u,children:[e.jsxs("div",{className:"bg-yellow-50 p-3 sm:p-4 rounded-lg sm:rounded-xl border border-yellow-100 flex gap-2 sm:gap-3 text-yellow-800 text-xs sm:text-sm font-bold",children:[e.jsx(Os,{className:"shrink-0",size:18}),e.jsx("p",{children:"Credentials are encrypted and stored securely. Do not share your secret keys."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-gray-400 mb-2",children:l==="razorpay"?"Key ID":"Publishable Key"}),e.jsx(Mi,{type:"text",className:`w-full bg-gray-50 border-transparent focus:bg-white transition-all font-mono text-xs sm:text-sm ${a?"cursor-not-allowed text-gray-400":""}`,placeholder:a?"":l==="razorpay"?"rzp_test_...":"pk_test_...",disabled:a})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-gray-400 mb-2",children:l==="razorpay"?"Key Secret":"Secret Key"}),e.jsx(Mi,{type:"password",className:`w-full bg-gray-50 border-transparent focus:bg-white transition-all font-mono text-xs sm:text-sm ${a?"cursor-not-allowed text-gray-400":""}`,placeholder:"",disabled:a})]})]}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 sm:w-5 sm:h-5 rounded text-indigo-600 focus:ring-indigo-200 border-gray-300 disabled:opacity-50",id:"sandbox",defaultChecked:!0,disabled:a}),e.jsx("label",{htmlFor:"sandbox",className:`text-gray-700 font-bold text-xs sm:text-sm ${a?"text-gray-400":""}`,children:"Enable Sandbox / Test Mode"})]}),!a&&e.jsx("div",{className:"flex justify-end pt-2 sm:pt-4",children:e.jsxs(Ft,{variant:"primary",className:"w-full sm:w-auto px-6 sm:px-8 py-2.5 sm:py-3 rounded-lg sm:rounded-xl shadow-lg shadow-indigo-200",children:[e.jsx(xa,{size:16,className:"sm:w-[18px] sm:h-[18px] mr-2"}),"Save Configuration"]})})]})]})]})},kj=[{name:"Wifi",icon:Am},{name:"Zap",icon:ua},{name:"Shield",icon:Pa},{name:"Coffee",icon:Yg},{name:"Music",icon:qw},{name:"Car",icon:_w},{name:"Tv",icon:Kw},{name:"Bath",icon:zw},{name:"Wind",icon:Qw},{name:"Waves",icon:Jw},{name:"Dumbbell",icon:Vr},{name:"Layers",icon:co}],PR=()=>{const[s,t]=b.useState([]),[a,l]=b.useState(!0),[i,o]=b.useState(""),[c,u]=b.useState(!1),[x,h]=b.useState(null),[p,f]=b.useState({name:"",description:"",icon:"Layers",status:"Active",gender:"UNISEX"});b.useEffect(()=>{y()},[]);const y=async()=>{try{l(!0);const A=await Jn.getAll();t(A)}catch(A){ot.error(A)}finally{l(!1)}},g=(A=null)=>{A?(h(A),f({name:A.name,description:A.description||"",icon:A.icon||"Layers",status:A.status||"Active",gender:A.gender||"UNISEX"})):(h(null),f({name:"",description:"",icon:"Layers",status:"Active",gender:"UNISEX"})),u(!0)},v=async A=>{A.preventDefault();try{x?(await Jn.update(x.id,p),ot.success("Amenity updated successfully")):(await Jn.create(p),ot.success("Amenity created successfully")),u(!1),y()}catch(E){ot.error(E)}},C=async A=>{if(window.confirm("Are you sure you want to delete this amenity?"))try{await Jn.delete(A),ot.success("Amenity deleted successfully"),y()}catch(E){ot.error(E)}},N=s.filter(A=>A.name.toLowerCase().includes(i.toLowerCase())||A.description?.toLowerCase().includes(i.toLowerCase())),k=A=>{const E=kj.find(R=>R.name===A),w=E?E.icon:co;return e.jsx(w,{size:20})};return e.jsxs("div",{className:"min-h-screen bg-slate-50/50 p-4 sm:p-6 lg:p-8 animate-in fade-in duration-500",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-8",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-black text-slate-800 tracking-tight flex items-center gap-2",children:[e.jsx(co,{className:"text-violet-600",size:28}),"Amenity Management"]}),e.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Create and manage facilities available at your gym"})]}),e.jsxs("button",{onClick:()=>g(),className:"flex items-center justify-center gap-2 px-5 py-2.5 bg-violet-600 hover:bg-violet-700 text-white rounded-xl font-bold shadow-lg shadow-violet-200 transition-all hover:scale-105 active:scale-95",children:[e.jsx(wt,{size:20}),"Add New Amenity"]})]}),e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 p-4 mb-6 flex flex-col md:flex-row gap-4 items-center",children:e.jsxs("div",{className:"relative flex-1 w-full",children:[e.jsx(st,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"text",placeholder:"Search amenities...",className:"w-full pl-11 pr-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-violet-500/20 focus:border-violet-500 transition-all font-medium",value:i,onChange:A=>o(A.target.value)})]})}),a?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(A=>e.jsx("div",{className:"h-48 bg-white rounded-2xl border border-slate-100 animate-pulse"},A))}):N.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:N.map(A=>e.jsxs("div",{className:"group relative bg-white rounded-2xl border border-slate-100 p-6 shadow-sm hover:shadow-xl hover:border-violet-200 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("div",{className:"p-3 bg-violet-50 text-violet-600 rounded-xl group-hover:bg-violet-600 group-hover:text-white transition-colors duration-300",children:k(A.icon)}),e.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:()=>g(A),className:"p-2 text-slate-400 hover:text-violet-600 hover:bg-violet-50 rounded-lg transition-all",children:e.jsx(Ra,{size:16})}),e.jsx("button",{onClick:()=>C(A.id),className:"p-2 text-slate-400 hover:text-rose-600 hover:bg-rose-50 rounded-lg transition-all",children:e.jsx(xs,{size:16})})]})]}),e.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-1",children:A.name}),e.jsx("p",{className:"text-slate-500 text-sm mb-4 line-clamp-2",children:A.description||"No description provided"}),e.jsxs("div",{className:"flex items-center justify-between mt-auto gap-2 flex-wrap",children:[e.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-wider ${A.status==="Active"?"bg-emerald-50 text-emerald-600":"bg-slate-100 text-slate-500"}`,children:A.status}),e.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-wider ${A.gender==="MALE"?"bg-blue-50 text-blue-600":A.gender==="FEMALE"?"bg-pink-50 text-pink-600":"bg-purple-50 text-purple-600"}`,children:A.gender==="MALE"?" MALE":A.gender==="FEMALE"?" FEMALE":" UNISEX"}),e.jsx("span",{className:"text-[10px] text-slate-400 font-bold uppercase",children:"Gym Scope "})]})]},A.id))}):e.jsxs("div",{className:"bg-white rounded-2xl border-2 border-dashed border-slate-200 p-12 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(co,{size:32,className:"text-slate-300"})}),e.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"No amenities found"}),e.jsx("p",{className:"text-slate-500 mt-1 mb-6",children:"Start by adding your first gym facility"}),e.jsx("button",{onClick:()=>g(),className:"px-6 py-2 bg-slate-800 text-white rounded-xl font-bold hover:bg-slate-900 transition-all",children:"Create Now"})]}),c&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:e.jsxs("div",{className:"bg-white w-full max-w-md rounded-3xl shadow-2xl animate-in zoom-in-95 duration-300 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between bg-white relative z-10",children:[e.jsx("h2",{className:"text-xl font-black text-slate-800",children:x?"Edit Amenity":"New Amenity"}),e.jsx("button",{onClick:()=>u(!1),className:"p-2 hover:bg-slate-100 rounded-full transition-colors",children:e.jsx(Yr,{size:20,className:"text-slate-400"})})]}),e.jsxs("form",{onSubmit:v,className:"p-6 space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2 ml-1",children:"Amenity Name"}),e.jsx("input",{required:!0,type:"text",placeholder:"e.g. Luxury Sauna",className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-violet-500/20 focus:border-violet-500 transition-all font-bold",value:p.name,onChange:A=>f({...p,name:A.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2 ml-1",children:"Description"}),e.jsx("textarea",{rows:"3",placeholder:"Brief details about the facility...",className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-violet-500/20 focus:border-violet-500 transition-all font-medium resize-none",value:p.description,onChange:A=>f({...p,description:A.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2 ml-1",children:"Choose Icon"}),e.jsx("div",{className:"grid grid-cols-6 gap-2",children:kj.map(A=>e.jsx("button",{type:"button",onClick:()=>f({...p,icon:A.name}),className:`p-3 rounded-xl flex items-center justify-center transition-all ${p.icon===A.name?"bg-violet-600 text-white shadow-lg shadow-violet-200 ring-2 ring-violet-600 ring-offset-2":"bg-slate-50 text-slate-400 hover:bg-slate-100"}`,children:e.jsx(A.icon,{size:20})},A.name))})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2 ml-1",children:"Gender Scope"}),e.jsxs("select",{className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-violet-500/20 focus:border-violet-500 transition-all font-bold appearance-none",value:p.gender,onChange:A=>f({...p,gender:A.target.value}),children:[e.jsx("option",{value:"UNISEX",children:"Unisex"}),e.jsx("option",{value:"MALE",children:"Male Only"}),e.jsx("option",{value:"FEMALE",children:"Female Only"})]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2 ml-1",children:"Status"}),e.jsxs("select",{className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-violet-500/20 focus:border-violet-500 transition-all font-bold appearance-none",value:p.status,onChange:A=>f({...p,status:A.target.value}),children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]}),e.jsxs("div",{className:"pt-4 flex gap-3",children:[e.jsx("button",{type:"button",onClick:()=>u(!1),className:"flex-1 px-6 py-3 border border-slate-200 text-slate-600 rounded-xl font-bold hover:bg-slate-50 transition-all",children:"Cancel"}),e.jsxs("button",{type:"submit",className:"flex-1 px-6 py-3 bg-violet-600 text-white rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-violet-700 shadow-lg shadow-violet-200 transition-all",children:[e.jsx(xa,{size:18}),x?"Save Changes":"Create Amenity"]})]})]})]})})]})},RR=()=>{const[s,t]=b.useState("This Month");return e.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6 pb-12 min-h-screen",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent mb-2 flex items-center gap-2",children:[e.jsx(ox,{className:"text-violet-600",size:24}),"Financial Overview"]}),e.jsx("p",{className:"text-slate-600 text-xs sm:text-sm",children:"Real-time revenue, expense, and transaction tracking"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-3",children:[e.jsxs("button",{className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-white border border-slate-200 rounded-lg sm:rounded-xl text-xs sm:text-sm font-semibold text-slate-700 hover:bg-slate-50 hover:shadow-md hover:scale-105 transition-all duration-300 shadow-sm group",children:[e.jsx(na,{className:"w-4 h-4 transition-transform duration-300 group-hover:translate-y-0.5"}),"Export Report"]}),e.jsxs("button",{className:"group relative px-4 sm:px-6 py-2.5 rounded-lg sm:rounded-xl font-semibold shadow-lg hover:shadow-xl hover:scale-105 hover:-translate-y-1 transition-all duration-300 flex items-center justify-center gap-2 bg-gradient-to-r from-violet-600 to-purple-600 text-white hover:shadow-violet-500/50",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 to-fuchsia-600 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx(wt,{className:"w-4 h-4 relative"}),e.jsx("span",{className:"relative text-xs sm:text-sm",children:"Add Transaction"})]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[e.jsx(zh,{title:"Monthly Revenue",value:`${Cd.revenue.monthly.toLocaleString()}`,change:Cd.revenue.growth,icon:Qs,color:"emerald"}),e.jsx(zh,{title:"Total Expenses",value:`${Cd.expenses.total.toLocaleString()}`,subValue:`Pending: ${Cd.expenses.pending.toLocaleString()}`,icon:G0,color:"red"}),e.jsx(zh,{title:"Due Payments",value:`${Cd.dues.total.toLocaleString()}`,subValue:`${Cd.dues.count} Invoices Pending`,icon:ms,color:"orange"}),e.jsx(zh,{title:"YTD Revenue",value:`${Cd.revenue.ytd.toLocaleString()}`,change:"Year to Date",icon:Qn,color:"violet"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 bg-white/60 backdrop-blur-md rounded-xl shadow-lg border border-white/50 p-4 sm:p-6 hover:shadow-xl transition-all duration-300",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 sm:gap-0 mb-4 sm:mb-6",children:[e.jsxs("h3",{className:"text-base sm:text-lg font-bold text-slate-900 flex items-center gap-2",children:[e.jsx(ox,{className:"text-violet-600",size:18}),"Revenue Analytics"]}),e.jsxs("div",{className:"relative group w-full sm:w-auto",children:[e.jsx(Xe,{size:14,className:"sm:w-4 sm:h-4 absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"}),e.jsxs("select",{value:s,onChange:a=>t(a.target.value),className:"w-full sm:w-auto pl-8 sm:pl-9 pr-4 py-2 bg-white/80 border-2 border-slate-200 rounded-lg text-xs sm:text-sm font-semibold focus:outline-none focus:border-violet-500 focus:ring-2 focus:ring-violet-500/20 transition-all duration-300 appearance-none cursor-pointer",children:[e.jsx("option",{children:"This Month"}),e.jsx("option",{children:"Last Quarter"}),e.jsx("option",{children:"This Year"})]})]})]}),e.jsx("div",{className:"h-48 sm:h-64 flex items-end justify-between gap-1 sm:gap-2 px-2 sm:px-4 pb-4 border-b border-slate-100",children:[40,65,45,80,55,90,70,85,60,75,50,95].map((a,l)=>e.jsxs("div",{className:"w-full bg-violet-50 rounded-t-lg relative group/bar",children:[e.jsx("div",{className:"absolute bottom-0 w-full bg-gradient-to-t from-violet-600 to-purple-500 rounded-t-lg transition-all duration-500 hover:from-violet-700 hover:to-purple-600 cursor-pointer",style:{height:`${a}%`},children:e.jsxs("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-slate-900 text-white text-[10px] sm:text-xs font-bold px-1.5 sm:px-2 py-0.5 sm:py-1 rounded opacity-0 group-hover/bar:opacity-100 transition-opacity whitespace-nowrap",children:["",(a*1e3).toLocaleString()]})}),e.jsx("div",{className:"absolute -bottom-6 w-full text-center text-[10px] sm:text-xs font-bold text-slate-400",children:["J","F","M","A","M","J","J","A","S","O","N","D"][l]})]},l))})]}),e.jsxs("div",{className:"bg-white/60 backdrop-blur-md rounded-xl shadow-lg border border-white/50 p-4 sm:p-6 hover:shadow-xl transition-all duration-300",children:[e.jsxs("h3",{className:"text-base sm:text-lg font-bold text-slate-900 mb-3 sm:mb-4 flex items-center gap-2",children:[e.jsx(Rs,{className:"text-violet-600",size:18}),"Recent Transactions"]}),e.jsx("div",{className:"space-y-2 sm:space-y-3 mb-3 sm:mb-4",children:BD.map(a=>e.jsxs("div",{className:"group flex items-center justify-between p-2.5 sm:p-3 hover:bg-violet-50/50 rounded-lg sm:rounded-xl transition-all duration-300 cursor-pointer border border-transparent hover:border-violet-100",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0",children:[e.jsx("div",{className:`p-1.5 sm:p-2 rounded-lg transition-all duration-300 group-hover:scale-110 group-hover:rotate-6 shadow-sm flex-shrink-0 ${a.type.includes("POS")?"bg-gradient-to-br from-purple-500 to-purple-600 text-white":"bg-gradient-to-br from-blue-500 to-blue-600 text-white"}`,children:a.type.includes("POS")?e.jsx(Ic,{size:14,className:"sm:w-[18px] sm:h-[18px]"}):e.jsx(Rs,{size:14,className:"sm:w-[18px] sm:h-[18px]"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"text-xs sm:text-sm font-bold text-slate-900 group-hover:text-violet-600 transition-colors truncate",children:a.member}),e.jsx("div",{className:"text-[10px] sm:text-xs text-slate-500 truncate",children:a.type})]})]}),e.jsxs("div",{className:"text-right flex-shrink-0 ml-2",children:[e.jsxs("div",{className:`text-xs sm:text-sm font-bold ${a.status==="Completed"?"text-emerald-600":"text-red-500"}`,children:[a.status==="Completed"?"+":"","",a.amount.toLocaleString()]}),e.jsx("div",{className:"text-[10px] sm:text-xs text-slate-400",children:a.date})]})]},a.id))}),e.jsx("button",{className:"w-full py-2.5 text-xs sm:text-sm font-bold text-violet-600 bg-violet-50 hover:bg-violet-100 rounded-lg sm:rounded-xl transition-all duration-300 hover:scale-105",children:"View All Transactions"})]})]})]})},zh=({title:s,value:t,change:a,subValue:l,icon:i,color:o})=>{const c={emerald:{bg:"from-emerald-500 to-emerald-600",icon:"bg-emerald-100 text-emerald-600"},red:{bg:"from-red-500 to-red-600",icon:"bg-red-100 text-red-600"},orange:{bg:"from-orange-500 to-orange-600",icon:"bg-orange-100 text-orange-600"},violet:{bg:"from-violet-500 to-purple-600",icon:"bg-violet-100 text-violet-600"}};return e.jsxs("div",{className:"group bg-white rounded-xl sm:rounded-2xl p-4 sm:p-6 shadow-lg border border-slate-100 hover:shadow-xl hover:scale-105 hover:-translate-y-1 transition-all duration-300",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3 sm:mb-4",children:[e.jsx("div",{className:`p-2.5 sm:p-3 rounded-lg sm:rounded-xl ${c[o].icon} shadow-md group-hover:scale-110 group-hover:rotate-6 transition-all duration-300`,children:e.jsx(i,{size:20,className:"sm:w-6 sm:h-6"})}),a&&e.jsx("span",{className:`text-[10px] sm:text-xs font-bold px-2.5 sm:px-3 py-1 sm:py-1.5 rounded-full ${a.includes("+")?"bg-emerald-100 text-emerald-700 border border-emerald-200":"bg-slate-100 text-slate-600 border border-slate-200"}`,children:a})]}),e.jsx("div",{className:"text-slate-500 text-[10px] sm:text-xs font-bold uppercase tracking-wider mb-2",children:s}),e.jsx("div",{className:"text-2xl sm:text-3xl font-black text-slate-900 mb-1",children:t}),l&&e.jsx("div",{className:"text-xs font-semibold text-slate-500 mt-2",children:l})]})},ex={getAllPromos:async()=>{try{return(await ve.get("/promos")).data}catch(s){throw s.response?.data?.message||"Failed to fetch promos"}},createPromo:async s=>{try{return(await ve.post("/promos",s)).data}catch(t){throw t.response?.data?.message||"Failed to create promo"}},updatePromo:async(s,t)=>{try{return(await ve.put(`/promos/${s}`,t)).data}catch(a){throw a.response?.data?.message||"Failed to update promo"}},deletePromo:async s=>{try{return(await ve.delete(`/promos/${s}`)).data}catch(t){throw t.response?.data?.message||"Failed to delete promo"}},validatePromo:async s=>{try{return(await ve.get(`/promos/validate/${s}`)).data}catch(t){throw t.response?.data?.message||"Failed to validate promo code"}}},OR=()=>{const[s,t]=b.useState([]),[a,l]=b.useState([]),[i,o]=b.useState([]),[c,u]=b.useState(""),[x,h]=b.useState("All"),[p,f]=b.useState("member"),[y,g]=b.useState(null),[v,C]=b.useState(""),[N,k]=b.useState(!1),[A,E]=b.useState(""),[w,R]=b.useState(null),[T,O]=b.useState(0),[W,B]=b.useState(0),[z,P]=b.useState(0),[F,G]=b.useState(18);b.useEffect(()=>{(async()=>{try{const[we,Ee,Be]=await Promise.all([db(),Wr.getMembers(),iu().catch(()=>({gstPercent:18}))]);t(we),l(Ee),Be&&Be.gstPercent&&G(parseFloat(Be.gstPercent))}catch(we){console.error("Failed to load POS data",we)}})()},[]);const Y=s.filter(pe=>(x==="All"||pe.category===x)&&pe.name.toLowerCase().includes(c.toLowerCase())),me=a.filter(pe=>pe.name.toLowerCase().includes(v.toLowerCase())||pe.memberId&&pe.memberId.toLowerCase().includes(v.toLowerCase())),H=["All",...new Set(s.map(pe=>pe.category))],V=pe=>{const we=s.find(Je=>Je.id===pe.id),Ee=i.find(Je=>Je.id===pe.id);if((Ee?Ee.qty:0)>=we.stock){alert("Cannot add more items. Out of stock.");return}o(Je=>Je.find(he=>he.id===pe.id)?Je.map(he=>he.id===pe.id?{...he,qty:he.qty+1}:he):[...Je,{...pe,qty:1}])},$=(pe,we)=>{const Ee=s.find(Be=>Be.id===pe);o(Be=>Be.map(Je=>{if(Je.id===pe){if(we>0&&Je.qty>=Ee.stock)return Je;const tt=Math.max(0,Je.qty+we);return{...Je,qty:tt}}return Je}).filter(Je=>Je.qty>0))};b.useEffect(()=>{if(y&&y.id){const pe=y.totalPoints||500;P(pe)}else P(0),B(0)},[y]);const le=async()=>{if(A)try{const pe=await ex.validatePromo(A),we=i.reduce((Ee,Be)=>Ee+Be.price*Be.qty,0);pe.type==="PERCENTAGE"?O(we*(parseFloat(pe.value)/100)):O(parseFloat(pe.value)),R(pe.code),Ve.success("Promo code applied successfully!")}catch(pe){alert(pe||"Invalid Discount Code"),O(0),R(null)}},ge=()=>{O(0),R(null),E("")},te=async()=>{if(p==="member"&&!y){alert("Please select a member for this transaction.");return}if(W>z){alert("Cannot use more points than available.");return}try{const pe={memberId:y?y.id:null,cartItems:i.map(Ee=>({id:Ee.id,quantity:Ee.qty})),totalAmount:ce,discountCode:w,pointsRedeemed:W};await $N(pe),t(Ee=>Ee.map(Be=>{const Je=i.find(tt=>tt.id===Be.id);return Je?{...Be,stock:Be.stock-Je.qty}:Be}));const we=p==="member"?`Member: ${y.name} (${y.memberId})`:"Guest Checkout";alert(`Processing Payment of ${Math.round(ce).toLocaleString()}.
${we}

Invoice generated and synced with Finance & Member history.`),o([]),g(null),C(""),O(0),R(null),E(""),B(0)}catch(pe){alert(`Failed to complete transaction: ${pe}`)}},q=i.reduce((pe,we)=>pe+we.price*we.qty,0),Q=Math.max(0,q-T),K=parseInt(W||0),oe=Math.max(0,Q-K),ae=oe*(F/100),ce=oe+ae;return e.jsx("div",{className:"bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6 pb-12 min-h-screen",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 sm:gap-6 min-h-[calc(100vh-120px)]",children:[e.jsxs("div",{className:"flex-1 flex flex-col gap-4 sm:gap-6 overflow-hidden",children:[e.jsxs("div",{className:"relative shrink-0",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent mb-2 flex items-center gap-2",children:[e.jsx(f7,{className:"text-violet-600",size:24}),"POS Store"]}),e.jsx("p",{className:"text-slate-600 text-xs sm:text-sm",children:"Sell supplements, gear, and amenities"})]}),e.jsxs("div",{className:"relative w-full group",children:[e.jsx(st,{size:18,className:"absolute left-3 sm:left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 group-focus-within:scale-110 transition-all duration-300"}),e.jsx("input",{type:"text",value:c,onChange:pe=>u(pe.target.value),placeholder:"Search products...",className:"w-full pl-10 sm:pl-12 pr-4 py-2.5 sm:py-3 bg-white/80 border-2 border-slate-200 rounded-lg sm:rounded-xl text-xs sm:text-sm focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 focus:bg-white transition-all duration-300 hover:border-slate-300"})]})]})})]}),e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 shrink-0 scrollbar-hide",children:H.map(pe=>e.jsx("button",{onClick:()=>h(pe),className:`px-4 sm:px-6 py-2 sm:py-2.5 rounded-lg sm:rounded-xl text-xs sm:text-sm font-bold whitespace-nowrap transition-all duration-300 shadow-md ${x===pe?"bg-gradient-to-r from-violet-600 to-purple-600 text-white hover:shadow-xl hover:shadow-violet-500/50 hover:scale-105":"bg-white text-slate-700 hover:bg-slate-50 hover:shadow-lg hover:scale-105 border border-slate-100"}`,children:pe},pe))}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-3 sm:gap-4 overflow-y-auto pb-4 pr-2",children:Y.map(pe=>e.jsxs("div",{className:"group bg-white rounded-xl sm:rounded-2xl p-3 sm:p-4 shadow-md hover:shadow-xl transition-all duration-300 border border-slate-100 flex flex-col hover:scale-105 hover:-translate-y-1",children:[e.jsxs("div",{className:"aspect-square bg-gradient-to-br from-violet-100 via-purple-100 to-fuchsia-100 rounded-lg sm:rounded-xl mb-2 sm:mb-3 relative overflow-hidden flex items-center justify-center",children:[pe.image?e.jsx("img",{src:pe.image,alt:pe.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}):e.jsx(ol,{size:48,className:"text-violet-400 opacity-50"}),pe.stock===0?e.jsx("div",{className:"absolute top-1.5 sm:top-2 right-1.5 sm:right-2 bg-rose-600 text-white px-2 py-1 rounded-md text-[10px] font-black uppercase tracking-tight shadow-lg animate-pulse",children:"Out of Stock"}):e.jsxs("div",{className:"absolute top-1.5 sm:top-2 right-1.5 sm:right-2 bg-white/90 backdrop-blur-sm px-1.5 sm:px-2 py-0.5 sm:py-1 rounded-md sm:rounded-lg text-[10px] sm:text-xs font-bold shadow-md",children:[e.jsx(ol,{size:10,className:"sm:w-3 sm:h-3 inline mr-0.5 sm:mr-1 text-violet-500"}),pe.stock," in stock"]})]}),e.jsx("h3",{className:"font-bold text-slate-900 text-xs sm:text-sm mb-1 line-clamp-2 group-hover:text-violet-600 transition-colors",children:pe.name}),e.jsx("div",{className:"text-[10px] sm:text-xs font-semibold text-slate-500 mb-2 sm:mb-3",children:pe.category}),e.jsxs("div",{className:"mt-auto flex items-center justify-between",children:[e.jsxs("div",{className:"font-black text-base sm:text-lg text-slate-900",children:["",pe.price]}),e.jsx("button",{onClick:()=>V(pe),disabled:pe.stock===0,className:`p-1.5 sm:p-2 bg-gradient-to-br transition-all duration-300 rounded-lg sm:rounded-xl ${pe.stock===0?"from-slate-100 to-slate-200 text-slate-400 cursor-not-allowed":"from-violet-500 to-purple-600 text-white hover:shadow-lg hover:shadow-violet-500/50 hover:scale-110"}`,children:e.jsx(wt,{size:14,className:"sm:w-[18px] sm:h-[18px]"})})]})]},pe.id))})]}),e.jsxs("div",{className:"w-full lg:w-96 shrink-0 flex flex-col bg-white/60 backdrop-blur-md rounded-xl sm:rounded-2xl shadow-2xl border border-white/50 h-[calc(100vh-120px)] lg:h-[calc(100vh-48px)]",children:[e.jsx("div",{className:"p-4 sm:p-6 border-b border-slate-100 bg-gradient-to-r from-violet-50 to-purple-50 rounded-t-xl sm:rounded-t-2xl shrink-0",children:e.jsxs("h3",{className:"text-lg sm:text-xl font-black text-slate-900 flex items-center gap-2",children:[e.jsx(Bc,{className:"text-violet-600",size:20}),"Current Cart"]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto min-h-0 flex flex-col",children:[e.jsx("div",{className:"p-3 sm:p-4 space-y-2 sm:space-y-3 flex-shrink-0",children:i.length===0?e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400 opacity-50 py-10",children:[e.jsx(Bc,{size:40,className:"sm:w-12 sm:h-12 mb-3 sm:mb-4"}),e.jsx("p",{className:"font-bold text-sm sm:text-base",children:"Cart is empty"})]}):i.map(pe=>e.jsxs("div",{className:"group flex items-center gap-2 sm:gap-3 bg-white p-2.5 sm:p-3 rounded-lg sm:rounded-xl border border-slate-100 shadow-sm hover:shadow-md hover:border-violet-200 transition-all duration-300",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-violet-100 to-purple-100 rounded-lg sm:rounded-xl shrink-0 overflow-hidden flex items-center justify-center",children:pe.image?e.jsx("img",{src:pe.image,alt:pe.name,className:"w-full h-full object-cover"}):e.jsx(ol,{size:16,className:"sm:w-5 sm:h-5 text-violet-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-bold text-xs sm:text-sm text-slate-900 truncate group-hover:text-violet-600 transition-colors",children:pe.name}),e.jsxs("div",{className:"text-[10px] sm:text-xs font-semibold text-slate-500",children:["",pe.price,"  ",pe.qty]})]}),e.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 bg-slate-50 rounded-lg p-1",children:[e.jsx("button",{onClick:()=>$(pe.id,-1),className:"p-0.5 sm:p-1 hover:bg-white rounded-md transition-colors",children:e.jsx(kA,{size:12,className:"sm:w-[14px] sm:h-[14px]"})}),e.jsx("span",{className:"text-[10px] sm:text-xs font-bold w-3 sm:w-4 text-center",children:pe.qty}),e.jsx("button",{onClick:()=>$(pe.id,1),className:"p-0.5 sm:p-1 hover:bg-white rounded-md transition-colors",children:e.jsx(wt,{size:12,className:"sm:w-[14px] sm:h-[14px]"})})]})]},pe.id))}),e.jsx("div",{className:"px-4 pb-4 sm:px-6 sm:pb-6 border-t border-slate-100 bg-white/40 flex-shrink-0",children:e.jsxs("div",{className:"py-4",children:[e.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 mb-3",children:"Customer Information"}),e.jsxs("div",{className:"flex gap-4 mb-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group",children:[e.jsx("input",{type:"radio",name:"customerType",checked:p==="member",onChange:()=>f("member"),className:"w-4 h-4 text-violet-600 border-slate-300 focus:ring-violet-500"}),e.jsx("span",{className:`text-xs font-bold transition-colors ${p==="member"?"text-violet-600":"text-slate-500 group-hover:text-slate-700"}`,children:"Assign to Member"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group",children:[e.jsx("input",{type:"radio",name:"customerType",checked:p==="guest",onChange:()=>f("guest"),className:"w-4 h-4 text-violet-600 border-slate-300 focus:ring-violet-500"}),e.jsx("span",{className:`text-xs font-bold transition-colors ${p==="guest"?"text-violet-600":"text-slate-500 group-hover:text-slate-700"}`,children:"Guest Checkout"})]})]}),p==="member"&&e.jsxs("div",{className:"relative animate-in fade-in slide-in-from-top-2",children:[e.jsxs("div",{onClick:()=>k(!N),className:`flex items-center justify-between px-4 py-2.5 bg-white border-2 rounded-xl cursor-pointer transition-all ${y?"border-violet-200 bg-violet-50/30":"border-slate-100 hover:border-slate-200"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[e.jsx(Pt,{size:16,className:y?"text-violet-600":"text-slate-400"}),y?e.jsxs("div",{className:"truncate",children:[e.jsx("div",{className:"text-xs font-bold text-slate-900",children:y.name}),e.jsx("div",{className:"text-[10px] text-slate-500",children:y.memberId})]}):e.jsx("span",{className:"text-xs font-bold text-slate-400",children:"Search Member..."})]}),e.jsx(kl,{size:16,className:`text-slate-400 transition-transform ${N?"rotate-180":""}`})]}),N&&e.jsxs("div",{className:"mt-2 bg-white rounded-xl shadow-lg border border-slate-200 overflow-hidden animate-in zoom-in-95 duration-200",children:[e.jsx("div",{className:"p-2 border-b border-slate-50",children:e.jsxs("div",{className:"relative",children:[e.jsx(st,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),e.jsx("input",{type:"text",value:v,onChange:pe=>C(pe.target.value),placeholder:"Name or ID...",className:"w-full pl-9 pr-3 py-2 bg-slate-50 border-none rounded-lg text-xs font-bold focus:ring-2 focus:ring-violet-500/20",autoFocus:!0,onClick:pe=>pe.stopPropagation()})]})}),e.jsx("div",{className:"max-h-48 overflow-y-auto pt-1",children:me.length>0?me.map(pe=>e.jsxs("div",{onClick:()=>{g(pe),k(!1)},className:"px-4 py-2 hover:bg-violet-50 cursor-pointer transition-colors border-b border-slate-50 last:border-none",children:[e.jsx("div",{className:"text-xs font-bold text-slate-900",children:pe.name}),e.jsxs("div",{className:"text-[10px] text-slate-500 font-medium",children:[pe.memberId,"  ",pe.phone]})]},pe.id)):e.jsx("div",{className:"p-4 text-center text-xs text-slate-400 font-bold italic",children:"No members found"})})]})]}),e.jsxs("div",{className:"mt-4 p-3 bg-violet-50/50 rounded-xl border border-violet-100 flex items-start gap-2",children:[e.jsx(Sn,{size:14,className:"text-violet-500 shrink-0 mt-0.5"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-[10px] font-bold text-violet-700 leading-tight",children:"This transaction will generate an Invoice."}),e.jsxs("p",{className:"text-[9px] font-medium text-slate-500 leading-tight italic",children:["Auto-Sync: Finance Module & ",p==="member"?"Member Purchase History":"General Sales Log"]})]})]})]})}),i.length>0&&e.jsxs("div",{className:"px-4 sm:px-6 py-4 bg-white/40 border-t border-slate-100 space-y-4 flex-shrink-0",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 block",children:"Promo & Discount"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:A,onChange:pe=>E(pe.target.value),disabled:!!w,placeholder:"Enter CODE (e.g., SAVE10)",className:"flex-1 px-3 py-2 bg-white border border-slate-200 rounded-lg text-xs font-bold focus:ring-2 focus:ring-violet-500/20 disabled:bg-slate-50 disabled:text-slate-400"}),w?e.jsx("button",{onClick:ge,className:"px-4 py-2 bg-rose-100 text-rose-600 rounded-lg text-xs font-bold hover:bg-rose-200 transition-colors",children:"Remove"}):e.jsx("button",{onClick:le,className:"px-4 py-2 bg-slate-900 text-white rounded-lg text-xs font-bold hover:bg-slate-800 transition-colors",children:"Apply"})]}),w&&e.jsxs("div",{className:"text-[10px] text-emerald-600 font-bold mt-1 ml-1",children:["- ",T.toLocaleString()," discount applied!"]})]}),p==="member"&&y&&z>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400",children:"Use Reward Points"}),e.jsxs("span",{className:"text-[10px] font-bold text-violet-600 bg-violet-50 px-2 py-0.5 rounded-md",children:[z," Available"]})]}),e.jsx("input",{type:"number",min:"0",max:Math.min(z,Q),value:W,onChange:pe=>{let we=parseInt(pe.target.value)||0;we=Math.min(we,z,Math.floor(Q)),B(we)},disabled:Q<=0,placeholder:"Points to redeem",className:"w-full px-3 py-2 bg-white border border-slate-200 rounded-lg text-xs font-bold focus:ring-2 focus:ring-violet-500/20"}),e.jsx("div",{className:"text-[10px] text-slate-500 italic mt-1 ml-1",children:"1 point = 1"})]})]})]})," ",e.jsxs("div",{className:"p-4 sm:p-6 bg-gradient-to-r from-slate-50 to-slate-100/50 border-t border-slate-200 space-y-3 flex-shrink-0 rounded-b-xl sm:rounded-b-2xl",children:[e.jsxs("div",{className:"flex justify-between items-center text-slate-600 font-semibold text-xs sm:text-sm",children:[e.jsx("span",{children:"Subtotal"}),e.jsxs("span",{children:["",q.toLocaleString()]})]}),T>0&&e.jsxs("div",{className:"flex justify-between items-center text-emerald-600 font-bold text-xs sm:text-sm",children:[e.jsxs("span",{children:["Discount (",w,")"]}),e.jsxs("span",{children:["-",T.toLocaleString()]})]}),W>0&&e.jsxs("div",{className:"flex justify-between items-center text-violet-600 font-bold text-xs sm:text-sm",children:[e.jsxs("span",{children:["Points Redeemed (",W," pts)"]}),e.jsxs("span",{children:["-",W.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between items-center text-slate-500 font-medium text-[10px] sm:text-xs",children:[e.jsx("span",{children:"Taxable Amount"}),e.jsxs("span",{children:["",oe.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between items-center text-slate-600 font-semibold text-[10px] sm:text-xs",children:[e.jsxs("span",{children:["Tax (",F,"% GST)"]}),e.jsxs("span",{children:["",Math.round(ae).toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between items-center text-xl sm:text-2xl font-black text-slate-900 pt-3 sm:pt-4 border-t border-slate-300",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{className:"text-violet-600",children:["",Math.round(ce).toLocaleString()]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-2",children:e.jsxs("button",{disabled:i.length===0||p==="member"&&!y,onClick:te,className:"group relative w-full px-4 sm:px-6 py-3 sm:py-4 rounded-lg sm:rounded-xl font-bold shadow-xl hover:shadow-2xl hover:scale-105 hover:-translate-y-1 transition-all duration-300 flex items-center justify-center gap-2 bg-gradient-to-r from-violet-600 to-purple-600 text-white text-base sm:text-lg hover:shadow-violet-500/50 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 disabled:hover:translate-y-0",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 to-fuchsia-600 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx("span",{className:"relative text-sm sm:text-base",children:"Checkout Now"})]})})]})]})]})})},Lg=async()=>{try{return(await ve.get("/finance/expenses")).data}catch(s){throw s}},c4=async s=>{try{return(await ve.post("/finance/expenses",s)).data}catch(t){throw t}},FR=async()=>{try{return(await ve.get("/finance/invoices")).data}catch(s){throw s}},IR=async s=>{try{return(await ve.post("/finance/cashier",s)).data}catch(t){throw t}},BR=async()=>{try{return(await ve.get("/finance/transactions")).data}catch(s){throw s}},UR=async s=>{try{return(await ve.delete(`/finance/expenses/${s}`)).data}catch(t){throw t}},$R=()=>{const[s,t]=b.useState(""),[a,l]=b.useState(""),[i,o]=b.useState(null),[c,u]=b.useState(!1),[x,h]=b.useState([]),[p,f]=b.useState(!0);kn.useEffect(()=>{(async()=>{try{const k=await FR();h(k)}catch(k){console.error("Error loading invoices:",k)}finally{f(!1)}})()},[]);const y=x.filter(N=>{const k=N.memberName?.toLowerCase().includes(s.toLowerCase())||N.invoiceNumber?.toLowerCase().includes(s.toLowerCase()),A=a===""||N.status===a;return k&&A}),g=N=>{o(N),u(!0)},v=N=>{switch(N){case"Paid":return"bg-emerald-50 text-emerald-700 border-emerald-200";case"Partial":return"bg-amber-50 text-amber-700 border-amber-200";case"Overdue":return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},C=N=>{switch(N){case"Paid":return e.jsx(Qt,{size:14});case"Partial":return e.jsx(Ze,{size:14});case"Overdue":return e.jsx(ms,{size:14});default:return null}};return e.jsxs("div",{className:"p-6 md:p-8 bg-gradient-to-br from-slate-50 via-white to-violet-50/30 min-h-screen font-sans",children:[e.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-4xl font-black text-gray-900 tracking-tight flex items-center gap-3",children:[e.jsx(dr,{size:36,className:"text-violet-600"}),"Invoices"]}),e.jsx("p",{className:"text-gray-500 font-medium mt-1.5 flex items-center gap-2 text-sm",children:"Manage billing and track payments"})]}),e.jsx("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative group",children:[e.jsx(st,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 transition-colors"}),e.jsx("input",{type:"text",value:s,onChange:N=>t(N.target.value),placeholder:"Search by member name or invoice number...",className:"w-full pl-12 pr-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl text-sm font-bold focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 focus:bg-white transition-all"})]}),e.jsxs("div",{className:"relative group",children:[e.jsx(ks,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 transition-colors pointer-events-none z-10"}),e.jsxs("select",{value:a,onChange:N=>l(N.target.value),className:"w-full pl-12 pr-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl text-sm font-bold focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 focus:bg-white transition-all appearance-none cursor-pointer",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"Paid",children:"Paid"}),e.jsx("option",{value:"Partial",children:"Partial"}),e.jsx("option",{value:"Overdue",children:"Overdue"})]})]})]})}),e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-xl overflow-hidden",children:[e.jsx("div",{className:"hidden md:block overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-slate-50/50 border-b border-slate-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-slate-400 uppercase tracking-widest",children:"Invoice Number"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-slate-400 uppercase tracking-widest",children:"Member Name"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-slate-400 uppercase tracking-widest",children:"Service Type"}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-black text-slate-400 uppercase tracking-widest",children:"Total Amount"}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-black text-slate-400 uppercase tracking-widest",children:"Paid Amount"}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-black text-slate-400 uppercase tracking-widest",children:"Balance Due"}),e.jsx("th",{className:"px-6 py-4 text-center text-xs font-black text-slate-400 uppercase tracking-widest",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-center text-xs font-black text-slate-400 uppercase tracking-widest",children:"Action"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:y.map(N=>e.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Va,{size:16,className:"text-violet-500"}),e.jsx("span",{className:"text-sm font-bold text-slate-900",children:N.invoiceNumber})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(lt,{size:16,className:"text-slate-400"}),e.jsx("span",{className:"text-sm font-bold text-slate-900",children:N.memberName})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-bold bg-violet-50 text-violet-700 border border-violet-200",children:N.serviceType})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsxs("span",{className:"text-sm font-black text-slate-900",children:["",N.totalAmount.toLocaleString()]})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsxs("span",{className:"text-sm font-bold text-emerald-600",children:["",N.paidAmount.toLocaleString()]})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsxs("span",{className:`text-sm font-black ${N.balanceDue>0?"text-red-600":"text-slate-400"}`,children:["",N.balanceDue.toLocaleString()]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"flex justify-center",children:e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-bold border ${v(N.status)}`,children:[C(N.status),N.status]})})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"flex justify-center gap-2",children:e.jsx("button",{onClick:()=>g(N),className:"p-2 text-violet-600 bg-violet-50 hover:bg-violet-100 rounded-xl transition-all hover:scale-110 shadow-sm",title:"View Details",children:e.jsx(qs,{size:16})})})})]},N.id))})]})}),e.jsx("div",{className:"md:hidden divide-y divide-slate-100",children:y.map(N=>e.jsx("div",{className:"p-4 hover:bg-slate-50/50 transition-colors",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Va,{size:14,className:"text-violet-500"}),e.jsx("span",{className:"text-sm font-bold text-slate-900",children:N.invoiceNumber})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(lt,{size:14,className:"text-slate-400"}),e.jsx("span",{className:"text-sm font-bold text-slate-700",children:N.memberName})]})]}),e.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-bold border ${v(N.status)}`,children:[C(N.status),N.status]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-bold bg-violet-50 text-violet-700 border border-violet-200",children:N.serviceType})}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 pt-2 border-t border-slate-100",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-wider mb-0.5",children:"Total"}),e.jsxs("p",{className:"text-sm font-black text-slate-900",children:["",N.totalAmount.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-wider mb-0.5",children:"Paid"}),e.jsxs("p",{className:"text-sm font-bold text-emerald-600",children:["",N.paidAmount.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-wider mb-0.5",children:"Due"}),e.jsxs("p",{className:`text-sm font-black ${N.balanceDue>0?"text-red-600":"text-slate-400"}`,children:["",N.balanceDue.toLocaleString()]})]})]}),e.jsxs("button",{onClick:()=>g(N),className:"w-full py-2.5 px-4 bg-violet-600 text-white rounded-xl text-sm font-bold hover:bg-violet-700 transition-all flex items-center justify-center gap-2",children:[e.jsx(qs,{size:16}),"View Details"]})]})},N.id))}),p?e.jsxs("div",{className:"p-16 text-center",children:[e.jsx("div",{className:"w-12 h-12 mx-auto mb-4 border-4 border-violet-200 border-t-violet-600 rounded-full animate-spin"}),e.jsx("p",{className:"text-slate-600 font-bold",children:"Loading invoices..."})]}):y.length===0&&e.jsxs("div",{className:"p-16 text-center",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-violet-100 to-purple-100 rounded-full flex items-center justify-center",children:e.jsx(dr,{size:40,className:"text-violet-600"})}),e.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-2",children:"No Invoices Found"}),e.jsx("p",{className:"text-slate-600",children:"Try adjusting your search or filter criteria"})]})]})]}),e.jsx(rt,{isOpen:c,onClose:()=>u(!1),title:"Invoice Details",maxWidth:"max-w-2xl",children:i&&e.jsx(qR,{invoice:i,onClose:()=>u(!1)})})]})},qR=({invoice:s,onClose:t})=>{const a=()=>{try{const l=new gt,i=localStorage.getItem("userData");let o="Gym CRM";if(i){const v=JSON.parse(i);o=v?.branchName||v?.tenant?.name||"GYM INVOICE"}const c=[109,40,217],u=[30,41,59],x=[100,116,139];l.setFontSize(28),l.setTextColor(...c),l.setFont("helvetica","bold"),l.text(o.toUpperCase(),14,25),l.setFontSize(10),l.setTextColor(...x),l.setFont("helvetica","normal"),l.text("TAX INVOICE",196,25,null,null,"right"),l.setDrawColor(226,232,240),l.setLineWidth(.5),l.line(14,32,196,32),l.setFontSize(10),l.setTextColor(...x),l.text("Invoice Number:",14,42),l.setFontSize(11),l.setTextColor(...u),l.setFont("helvetica","bold"),l.text(s.invoiceNumber,14,48),l.setFontSize(10),l.setTextColor(...x),l.setFont("helvetica","normal"),l.text("Date of Issue:",90,42),l.setFontSize(11),l.setTextColor(...u),l.setFont("helvetica","bold"),l.text(new Date(s.issueDate).toLocaleDateString(),90,48),l.setFontSize(10),l.setTextColor(...x),l.setFont("helvetica","normal"),l.text("Status:",196,42,null,null,"right");let h=[100,116,139];s.status==="Paid"&&(h=[5,150,105]),s.status==="Overdue"&&(h=[220,38,38]),s.status==="Partial"&&(h=[217,119,6]),l.setFontSize(14),l.setTextColor(...h),l.setFont("helvetica","bold"),l.text(s.status.toUpperCase(),196,49,null,null,"right"),l.setFillColor(248,250,252),l.roundedRect(14,55,182,30,3,3,"F"),l.setFontSize(9),l.setTextColor(...x),l.text("BILL TO",22,65),l.setFontSize(14),l.setTextColor(...u),l.text(s.memberName,22,74),l.setFontSize(10),l.setTextColor(...x),l.setFont("helvetica","normal"),l.text("Member",22,80);const p=s.services.map(v=>[v.name,v.quantity.toString(),`Rs. ${v.rate.toLocaleString()}`,`Rs. ${v.amount.toLocaleString()}`]);Gc(l,{startY:95,head:[["DESCRIPTION","QTY","RATE","AMOUNT"]],body:p,theme:"plain",headStyles:{fillColor:[248,250,252],textColor:[100,116,139],fontStyle:"bold",fontSize:9,cellPadding:{top:6,bottom:6,left:8,right:8}},bodyStyles:{textColor:[30,41,59],fontSize:10,cellPadding:{top:6,bottom:6,left:8,right:8}},alternateRowStyles:{fillColor:[255,255,255]},columnStyles:{0:{cellWidth:80},1:{halign:"center"},2:{halign:"right"},3:{halign:"right",fontStyle:"bold"}},margin:{left:14,right:14}});let f=l.lastAutoTable.finalY+15;l.setFillColor(248,250,252),l.roundedRect(120,f,76,45,3,3,"F"),l.setFontSize(10),l.setTextColor(...x),l.setFont("helvetica","normal"),l.text("Total Amount:",125,f+10),l.setFontSize(12),l.setFont("helvetica","bold"),l.setTextColor(...u),l.text(`Rs. ${s.totalAmount.toLocaleString()}`,190,f+10,null,null,"right"),l.setFontSize(10),l.setFont("helvetica","normal"),l.setTextColor(...x),l.text("Paid Amount:",125,f+20),l.setFontSize(12),l.setFont("helvetica","bold"),l.setTextColor(5,150,105),l.text(`Rs. ${s.paidAmount.toLocaleString()}`,190,f+20,null,null,"right"),l.setDrawColor(226,232,240),l.line(125,f+26,190,f+26),l.setFontSize(10),l.setFont("helvetica","bold"),l.setTextColor(...u),l.text("Balance Due:",125,f+36);let y=s.balanceDue>0?[220,38,38]:[30,41,59];if(l.setFontSize(14),l.setTextColor(...y),l.text(`Rs. ${s.balanceDue.toLocaleString()}`,190,f+36,null,null,"right"),s.paymentHistory&&s.paymentHistory.length>0){f+=60,l.setFontSize(9),l.setTextColor(...x),l.setFont("helvetica","bold"),l.text("PAYMENT HISTORY",14,f);const v=s.paymentHistory.map(C=>[new Date(C.date).toLocaleDateString(),C.method,C.transactionId,`Rs. ${C.amount.toLocaleString()}`]);Gc(l,{startY:f+5,head:[["DATE","METHOD","TXN ID","AMOUNT"]],body:v,theme:"plain",headStyles:{textColor:[100,116,139],fontStyle:"bold",fontSize:8,cellPadding:{top:4,bottom:4,left:8,right:8}},bodyStyles:{textColor:[100,116,139],fontSize:9,cellPadding:{top:4,bottom:4,left:8,right:8}},columnStyles:{3:{halign:"right",fontStyle:"bold",textColor:[5,150,105]}},margin:{left:14,right:14}})}const g=l.internal.getNumberOfPages();for(let v=1;v<=g;v++)l.setPage(v),l.setFontSize(8),l.setFont("helvetica","normal"),l.setTextColor(148,163,184),l.text("Generated professionally by Gym CRM",105,285,null,null,"center");l.save(`Invoice_${s.invoiceNumber}.pdf`)}catch(l){console.error("Failed generating PDF: ",l)}};return e.jsxs("div",{className:"p-5 md:p-8 space-y-6 md:space-y-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl md:text-2xl font-black text-gray-900 tracking-tight mb-1",children:s.invoiceNumber}),e.jsxs("p",{className:"text-xs md:text-sm text-gray-500 font-medium",children:["Issued on ",new Date(s.issueDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]}),e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-bold border ${s.status==="Paid"?"bg-emerald-50 text-emerald-700 border-emerald-200":s.status==="Partial"?"bg-amber-50 text-amber-700 border-amber-200":"bg-red-50 text-red-700 border-red-200"}`,children:[s.status==="Paid"&&e.jsx(Qt,{size:14}),s.status==="Partial"&&e.jsx(Ze,{size:14}),s.status==="Overdue"&&e.jsx(ms,{size:14}),s.status]})]}),e.jsxs("div",{className:"p-6 bg-slate-50 rounded-2xl border border-slate-100",children:[e.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-3",children:"Bill To"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-violet-600 to-purple-600 flex items-center justify-center text-white text-lg font-black",children:s.memberName[0]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-black text-gray-900",children:s.memberName}),e.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Member"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 md:gap-4",children:[e.jsxs("div",{className:"p-4 md:p-5 bg-violet-50 rounded-2xl border border-violet-100",children:[e.jsx("p",{className:"text-[10px] md:text-xs font-black text-violet-400 uppercase tracking-widest mb-1",children:"Total Amount"}),e.jsxs("p",{className:"text-xl md:text-2xl font-black text-violet-900",children:["",s.totalAmount.toLocaleString()]})]}),e.jsxs("div",{className:"p-4 md:p-5 bg-emerald-50 rounded-2xl border border-emerald-100",children:[e.jsx("p",{className:"text-[10px] md:text-xs font-black text-emerald-400 uppercase tracking-widest mb-1",children:"Paid"}),e.jsxs("p",{className:"text-xl md:text-2xl font-black text-emerald-900",children:["",s.paidAmount.toLocaleString()]})]}),e.jsxs("div",{className:"p-4 md:p-5 bg-red-50 rounded-2xl border border-red-100",children:[e.jsx("p",{className:"text-[10px] md:text-xs font-black text-red-400 uppercase tracking-widest mb-1",children:"Balance Due"}),e.jsxs("p",{className:"text-xl md:text-2xl font-black text-red-900",children:["",s.balanceDue.toLocaleString()]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-black text-slate-900 uppercase tracking-widest mb-4",children:"Services"}),e.jsx("div",{className:"space-y-3",children:s.services.map((l,i)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-xl border border-slate-100",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-bold text-gray-900",children:l.name}),e.jsxs("p",{className:"text-xs text-gray-500 font-medium mt-0.5",children:["Qty: ",l.quantity,"  ",l.rate.toLocaleString()]})]}),e.jsxs("p",{className:"text-lg font-black text-gray-900",children:["",l.amount.toLocaleString()]})]},i))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-black text-slate-900 uppercase tracking-widest mb-4",children:"Payment History"}),s.paymentHistory.length>0?e.jsx("div",{className:"space-y-3",children:s.paymentHistory.map((l,i)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-emerald-50 rounded-xl border border-emerald-100",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Rs,{size:14,className:"text-emerald-600"}),e.jsx("p",{className:"text-sm font-bold text-emerald-900",children:l.method})]}),e.jsx("p",{className:"text-xs text-emerald-700 font-medium",children:new Date(l.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),e.jsx("p",{className:"text-xs text-emerald-600 font-medium mt-0.5",children:l.transactionId})]}),e.jsxs("p",{className:"text-lg font-black text-emerald-900",children:["",l.amount.toLocaleString()]})]},i))}):e.jsxs("div",{className:"p-8 text-center bg-slate-50 rounded-xl border border-slate-100",children:[e.jsx(ms,{size:32,className:"text-slate-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm font-bold text-slate-600",children:"No payments recorded yet"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 md:gap-4 pt-4 border-t border-slate-100",children:[e.jsx("button",{onClick:t,className:"flex-1 px-6 py-3.5 md:py-4 bg-slate-50 text-slate-600 rounded-2xl font-black text-[10px] md:text-xs hover:bg-slate-100 transition-all uppercase tracking-widest",children:"Close"}),e.jsxs("button",{onClick:a,className:"flex-[2] px-6 py-3.5 md:py-4 bg-violet-600 text-white rounded-2xl font-black text-[10px] md:text-xs shadow-xl shadow-violet-200 hover:bg-violet-700 transition-all flex items-center justify-center gap-2 uppercase tracking-widest",children:[e.jsx(na,{size:18}),"Download PDF"]})]})]})},Gf=["Rent","Maintenance","Salary","Utilities","Marketing","Supplies","Others"],HR=()=>{const[s,t]=b.useState([]),[a,l]=b.useState(""),[i,o]=b.useState(""),[c,u]=b.useState(!1),[x,h]=b.useState(!0),[p,f]=b.useState({title:"",category:"",amount:"",date:new Date().toISOString().split("T")[0],notes:"",status:"Pending"});b.useEffect(()=>{y()},[]);const y=async()=>{try{h(!0);const k=await Lg();t(k)}catch(k){console.error("Failed to fetch expenses",k)}finally{h(!1)}},g=s.filter(k=>{const A=k.title.toLowerCase().includes(a.toLowerCase())||k.notes&&k.notes.toLowerCase().includes(a.toLowerCase()),E=i===""||k.category===i;return A&&E}),v=s.reduce((k,A)=>k+Number(A.amount),0),C=Gf.map(k=>{const A=s.filter(w=>w.category===k).reduce((w,R)=>w+Number(R.amount),0),E=v>0?A/v*100:0;return{category:k,amount:A,percentage:E}}).filter(k=>k.amount>0).sort((k,A)=>A.amount-k.amount),N=async k=>{k.preventDefault();try{const A=await c4(p);t([A,...s]),u(!1),f({title:"",category:"",amount:"",date:new Date().toISOString().split("T")[0],notes:"",status:"Pending"})}catch(A){console.error("Failed to add expense",A)}};return e.jsxs("div",{className:"p-4 md:p-8 bg-gradient-to-br from-slate-50 via-white to-violet-50/30 min-h-screen font-sans",children:[e.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-4xl font-black text-gray-900 tracking-tight flex items-center gap-3",children:[e.jsx(G0,{size:36,className:"text-violet-600"}),"Operations Expenses"]}),e.jsx("p",{className:"text-gray-500 font-medium mt-1.5 flex items-center gap-2 text-sm",children:"Manage operational costs and track spending categories."})]}),e.jsxs("button",{onClick:()=>u(!0),className:"flex items-center justify-center gap-2 px-6 py-4 bg-violet-600 text-white rounded-2xl font-black text-sm shadow-xl shadow-violet-200 hover:bg-violet-700 transition-all hover:scale-105 active:scale-95 uppercase tracking-widest",children:[e.jsx(wt,{size:18}),"Log New Expense"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-slate-900 rounded-[24px] md:rounded-[32px] p-6 md:p-8 text-white shadow-2xl relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10 group-hover:opacity-20 transition-opacity",children:e.jsx(Vg,{size:120})}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:"Total Expenses (Current)"}),e.jsxs("h2",{className:"text-5xl font-black mb-6",children:["",v.toLocaleString()]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-xs font-black text-slate-500 uppercase tracking-widest border-b border-slate-800 pb-2",children:"Category Breakdown"}),e.jsxs("div",{className:"space-y-3",children:[C.slice(0,3).map((k,A)=>e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-xs font-bold",children:[e.jsx("span",{children:k.category}),e.jsxs("span",{children:["",k.amount.toLocaleString()]})]}),e.jsx("div",{className:"h-1.5 bg-slate-800 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-violet-500 rounded-full transition-all duration-1000",style:{width:`${k.percentage}%`}})})]},A)),C.length>3&&e.jsxs("p",{className:"text-[10px] text-slate-500 text-center pt-2 font-bold",children:["+ ",C.length-3," more categories"]})]})]})]})]}),e.jsxs("div",{className:"lg:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-[24px] md:rounded-[32px] p-5 md:p-8 border border-slate-100 shadow-xl shadow-slate-200/50 flex flex-col justify-between",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-emerald-50 text-emerald-600 flex items-center justify-center mb-4",children:e.jsx(Qt,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-1",children:"Paid Expenses"}),e.jsxs("h3",{className:"text-3xl font-black text-slate-900",children:["",s.filter(k=>k.status==="Paid").reduce((k,A)=>k+Number(A.amount),0).toLocaleString()]}),e.jsxs("p",{className:"text-xs text-emerald-600 font-bold mt-2 flex items-center gap-1",children:[e.jsx(Qt,{size:12})," Fullfilled payments"]})]})]}),e.jsxs("div",{className:"bg-white rounded-[24px] md:rounded-[32px] p-5 md:p-8 border border-slate-100 shadow-xl shadow-slate-200/50 flex flex-col justify-between text-left",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-amber-50 text-amber-600 flex items-center justify-center mb-4",children:e.jsx(Ze,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-1",children:"Pending Amount"}),e.jsxs("h3",{className:"text-3xl font-black text-slate-900",children:["",s.filter(k=>k.status==="Pending").reduce((k,A)=>k+Number(A.amount),0).toLocaleString()]}),e.jsxs("p",{className:"text-xs text-amber-600 font-bold mt-2 flex items-center gap-1",children:[e.jsx(ms,{size:12})," Awaiting verification"]})]})]})]})]}),e.jsx("div",{className:"bg-white rounded-3xl border border-slate-100 shadow-xl p-4 md:p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative group",children:[e.jsx(st,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 transition-colors group-focus-within:text-violet-500"}),e.jsx("input",{type:"text",value:a,onChange:k=>l(k.target.value),placeholder:"Search by title or notes...",className:"w-full pl-12 pr-4 py-4 bg-slate-50 border-2 border-slate-200 rounded-2xl text-sm font-bold focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 focus:bg-white transition-all"})]}),e.jsxs("div",{className:"relative group",children:[e.jsx(ks,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none z-10"}),e.jsxs("select",{value:i,onChange:k=>o(k.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-50 border-2 border-slate-200 rounded-2xl text-sm font-bold focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 focus:bg-white transition-all appearance-none cursor-pointer",children:[e.jsx("option",{value:"",children:"All Categories"}),Gf.map(k=>e.jsx("option",{value:k,children:k},k))]})]})]})}),e.jsxs("div",{className:"bg-white rounded-[32px] border border-slate-100 shadow-2xl overflow-hidden",children:[e.jsxs("div",{className:"md:hidden",children:[e.jsx("div",{className:"space-y-4 p-4",children:g.map(k=>e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-100 shadow-sm relative overflow-hidden",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"inline-flex px-2 py-0.5 rounded-full text-[10px] font-black uppercase tracking-wider bg-violet-50 text-violet-700 border border-violet-100",children:k.category}),e.jsx("span",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-wider",children:new Date(k.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]}),e.jsx("h4",{className:"font-bold text-slate-900 text-sm",children:k.title})]}),e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:"text-base font-black text-slate-900",children:["",Number(k.amount).toLocaleString()]})})]}),k.notes&&e.jsx("div",{className:"bg-slate-50 p-3 rounded-lg mb-3",children:e.jsxs("p",{className:"text-xs font-medium text-slate-500 line-clamp-2 italic",children:['"',k.notes,'"']})}),e.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-slate-50",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-600",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-slate-100 flex items-center justify-center text-[10px] font-black text-slate-500",children:k.addedBy?.[0]||"A"}),e.jsx("span",{children:k.addedBy||"System"})]}),e.jsx("button",{className:"text-violet-600 text-xs font-black uppercase tracking-wide",children:"View Details"})]})]},k.id))}),g.length===0&&e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(Va,{size:48,className:"text-slate-200 mx-auto mb-4"}),e.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-widest text-xs",children:"No expenses found"})]})]}),e.jsxs("div",{className:"hidden md:block overflow-x-auto",children:[e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50/50 border-b border-slate-100",children:[e.jsx("th",{className:"px-8 py-5 text-left text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Date"}),e.jsx("th",{className:"px-8 py-5 text-left text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Expense Title"}),e.jsx("th",{className:"px-8 py-5 text-left text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Category"}),e.jsx("th",{className:"px-8 py-5 text-left text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Notes"}),e.jsx("th",{className:"px-8 py-5 text-left text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Added By"}),e.jsx("th",{className:"px-8 py-5 text-right text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Amount"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:g.map(k=>e.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[e.jsx("td",{className:"px-8 py-5",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold text-slate-600",children:[e.jsx(Xe,{size:14,className:"text-violet-500"}),new Date(k.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})}),e.jsx("td",{className:"px-8 py-5",children:e.jsx("div",{className:"text-sm font-black text-slate-900 group-hover:text-violet-600 transition-colors",children:k.title})}),e.jsx("td",{className:"px-8 py-5",children:e.jsx("span",{className:"inline-flex px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-wider bg-violet-50 text-violet-700 border border-violet-100",children:k.category})}),e.jsx("td",{className:"px-8 py-5",children:e.jsx("div",{className:"text-xs font-medium text-slate-500 max-w-[200px] truncate",title:k.notes,children:k.notes||""})}),e.jsx("td",{className:"px-8 py-5",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold text-slate-700",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-slate-100 flex items-center justify-center text-[10px] font-black text-slate-500",children:k.addedBy?.[0]||"A"}),k.addedBy||"System"]})}),e.jsx("td",{className:"px-8 py-5 text-right",children:e.jsxs("div",{className:"text-base font-black text-slate-900",children:["",Number(k.amount).toLocaleString()]})})]},k.id))})]}),g.length===0&&e.jsxs("div",{className:"p-20 text-center",children:[e.jsx(Va,{size:48,className:"text-slate-200 mx-auto mb-4"}),e.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-widest text-xs",children:"No expenses found"})]})]})]})]}),e.jsx(rt,{isOpen:c,onClose:()=>u(!1),title:"Log Operational Expense",maxWidth:"max-w-md",children:e.jsxs("form",{onSubmit:N,className:"p-8 space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Expense Title"}),e.jsx("input",{required:!0,type:"text",value:p.title,onChange:k=>f({...p,title:k.target.value}),placeholder:"e.g. Electricity Bill Jan 2024",className:"w-full px-5 py-4 border-2 border-slate-100 rounded-[24px] focus:border-violet-500 outline-none font-bold text-gray-900 transition-all"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Category"}),e.jsxs("select",{required:!0,value:p.category,onChange:k=>f({...p,category:k.target.value}),className:"w-full px-5 py-4 border-2 border-slate-100 rounded-[24px] focus:border-violet-500 outline-none font-bold text-gray-900 transition-all bg-slate-50/50 appearance-none cursor-pointer",children:[e.jsx("option",{value:"",children:"Select"}),Gf.map(k=>e.jsx("option",{value:k,children:k},k))]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Amount ()"}),e.jsx("input",{required:!0,type:"number",value:p.amount,onChange:k=>f({...p,amount:k.target.value}),placeholder:"0",className:"w-full px-5 py-4 border-2 border-slate-100 rounded-[24px] focus:border-violet-500 outline-none font-bold text-gray-900 transition-all"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Expense Date"}),e.jsx("input",{required:!0,type:"date",value:p.date,onChange:k=>f({...p,date:k.target.value}),className:"w-full px-5 py-4 border-2 border-slate-100 rounded-[24px] focus:border-violet-500 outline-none font-bold text-gray-900 transition-all bg-slate-50/50"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Status"}),e.jsxs("select",{required:!0,value:p.status,onChange:k=>f({...p,status:k.target.value}),className:"w-full px-5 py-4 border-2 border-slate-100 rounded-[24px] focus:border-violet-500 outline-none font-bold text-gray-900 transition-all bg-slate-50/50 appearance-none cursor-pointer",children:[e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"Paid",children:"Paid"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Additional Notes"}),e.jsx("textarea",{rows:"4",value:p.notes,onChange:k=>f({...p,notes:k.target.value}),placeholder:"Mention utility month, invoice reference, etc...",className:"w-full px-5 py-4 border-2 border-slate-100 rounded-[24px] focus:border-violet-500 outline-none font-bold text-gray-900 transition-all resize-none bg-slate-50/50"})]}),e.jsxs("div",{className:"flex gap-4 pt-6",children:[e.jsx("button",{type:"button",onClick:()=>u(!1),className:"flex-1 px-8 py-4 bg-slate-50 text-slate-500 rounded-2xl font-black text-xs hover:bg-slate-100 transition-all uppercase tracking-widest",children:"Discard"}),e.jsxs("button",{type:"submit",className:"flex-[2] px-8 py-4 bg-violet-600 text-white rounded-2xl font-black text-xs shadow-xl shadow-violet-200 hover:bg-violet-700 transition-all uppercase tracking-widest flex items-center justify-center gap-2",children:[e.jsx(Qt,{size:18}),"Save Expense"]})]})]})})]})},Th=[{id:1,trainer:"John Doe",sessions:45,tier:"Gold (20%)",totalSales:54e3,commission:10800},{id:2,trainer:"Sarah Coach",sessions:32,tier:"Silver (15%)",totalSales:38400,commission:5760},{id:3,trainer:"Mike Trainer",sessions:50,tier:"Platinum (25%)",totalSales:6e4,commission:15e3}],WR=()=>{const[s,t]=b.useState("February 2025"),a=Th.reduce((o,c)=>o+c.commission,0),l=Th.reduce((o,c)=>o+c.totalSales,0),i=Th.reduce((o,c)=>o+c.sessions,0);return e.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6 pb-12 min-h-screen",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent mb-2 flex items-center gap-2",children:[e.jsx(Xw,{className:"text-violet-600",size:24}),"Trainer Commissions"]}),e.jsx("p",{className:"text-slate-600 text-xs sm:text-sm",children:"Monthly performance and payout reports"})]}),e.jsxs("div",{className:"relative group",children:[e.jsx(Xe,{size:14,className:"sm:w-4 sm:h-4 absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"}),e.jsxs("select",{value:s,onChange:o=>t(o.target.value),className:"w-full sm:w-auto pl-8 sm:pl-9 pr-4 py-2.5 bg-white border-2 border-slate-200 rounded-lg sm:rounded-xl text-xs sm:text-sm font-semibold focus:outline-none focus:border-violet-500 focus:ring-2 focus:ring-violet-500/20 transition-all duration-300 appearance-none cursor-pointer shadow-sm hover:shadow-md",children:[e.jsx("option",{children:"February 2025"}),e.jsx("option",{children:"January 2025"}),e.jsx("option",{children:"December 2024"})]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[e.jsxs("div",{className:"group bg-white rounded-xl sm:rounded-2xl p-4 sm:p-6 shadow-lg border border-slate-100 hover:shadow-xl hover:scale-105 hover:-translate-y-1 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-slate-500 font-bold text-[10px] sm:text-xs uppercase tracking-wider",children:"Total Commissions"}),e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg sm:rounded-xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-md group-hover:scale-110 group-hover:rotate-6 transition-all duration-300",children:e.jsx(Qn,{size:16,className:"sm:w-5 sm:h-5"})})]}),e.jsxs("div",{className:"text-2xl sm:text-3xl font-black text-violet-600",children:["",a.toLocaleString()]})]}),e.jsxs("div",{className:"group bg-white rounded-xl sm:rounded-2xl p-4 sm:p-6 shadow-lg border border-slate-100 hover:shadow-xl hover:scale-105 hover:-translate-y-1 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-slate-500 font-bold text-[10px] sm:text-xs uppercase tracking-wider",children:"Total Sales"}),e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg sm:rounded-xl bg-gradient-to-br from-emerald-500 to-emerald-600 flex items-center justify-center text-white shadow-md group-hover:scale-110 group-hover:rotate-6 transition-all duration-300",children:e.jsx(Qs,{size:16,className:"sm:w-5 sm:h-5"})})]}),e.jsxs("div",{className:"text-2xl sm:text-3xl font-black text-slate-900",children:["",l.toLocaleString()]})]}),e.jsxs("div",{className:"group bg-white rounded-xl sm:rounded-2xl p-4 sm:p-6 shadow-lg border border-slate-100 hover:shadow-xl hover:scale-105 hover:-translate-y-1 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-slate-500 font-bold text-[10px] sm:text-xs uppercase tracking-wider",children:"Total Sessions"}),e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg sm:rounded-xl bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center text-white shadow-md group-hover:scale-110 group-hover:rotate-6 transition-all duration-300",children:e.jsx(Nn,{size:16,className:"sm:w-5 sm:h-5"})})]}),e.jsx("div",{className:"text-2xl sm:text-3xl font-black text-slate-900",children:i})]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:Th.map(o=>e.jsxs("div",{className:"group relative overflow-hidden bg-white/60 backdrop-blur-md rounded-xl sm:rounded-2xl shadow-lg border border-white/50 hover:shadow-2xl hover:scale-105 hover:-translate-y-2 transition-all duration-300",children:[e.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 sm:w-32 sm:h-32 bg-gradient-to-br from-violet-100 to-purple-100 rounded-full -mr-8 sm:-mr-12 -mt-8 sm:-mt-12 group-hover:from-violet-200 group-hover:to-purple-200 transition-colors duration-300"}),e.jsxs("div",{className:"relative z-10 p-4 sm:p-6 flex flex-col items-center text-center",children:[e.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-br from-violet-500 to-purple-600 rounded-full flex items-center justify-center text-white mb-3 sm:mb-4 border-4 border-white shadow-xl group-hover:scale-110 group-hover:rotate-6 transition-all duration-300",children:e.jsx(lt,{size:32,className:"sm:w-10 sm:h-10"})}),e.jsx("h3",{className:"text-lg sm:text-xl font-black text-slate-900 group-hover:text-violet-600 transition-colors",children:o.trainer}),e.jsxs("div",{className:"inline-flex items-center gap-1.5 px-2.5 sm:px-3 py-1.5 bg-gradient-to-r from-amber-50 to-amber-100 text-amber-700 rounded-full text-[10px] sm:text-xs font-bold mt-2 border border-amber-200 shadow-sm group-hover:scale-110 group-hover:shadow-md transition-all duration-300",children:[e.jsx(Gg,{size:10,className:"sm:w-3 sm:h-3"}),o.tier]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4 w-full mt-4 sm:mt-6 pt-4 sm:pt-6 border-t border-slate-100",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-[10px] sm:text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Sessions"}),e.jsx("div",{className:"text-base sm:text-lg font-black text-slate-900 mt-1",children:o.sessions})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-[10px] sm:text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Sales"}),e.jsxs("div",{className:"text-base sm:text-lg font-black text-slate-900 mt-1",children:["",o.totalSales.toLocaleString()]})]})]}),e.jsxs("div",{className:"w-full mt-3 sm:mt-4 bg-gradient-to-r from-emerald-50 to-emerald-100 rounded-lg sm:rounded-xl p-3 sm:p-4 border border-emerald-200 shadow-sm group-hover:shadow-md group-hover:scale-105 transition-all duration-300",children:[e.jsx("div",{className:"text-[10px] sm:text-xs font-bold text-emerald-700 uppercase tracking-widest mb-1",children:"Total Commission"}),e.jsxs("div",{className:"text-xl sm:text-2xl font-black text-emerald-700",children:["",o.commission.toLocaleString()]})]})]})]},o.id))})]})},d4=({isOpen:s,onClose:t,payment:a})=>{if(!s||!a)return null;const i=(u=>{switch(u){case"Card":return Rs;case"UPI":return Kl;case"Bank Transfer":return zr;default:return Hs}})(a.method),o=()=>{const u=localStorage.getItem("userData");let x="Gym CRM";if(u){const f=JSON.parse(u);x=f?.branchName||f?.tenant?.name||"GYM RECEIPT"}const h=window.open("","_blank"),p=`
            <!DOCTYPE html>
            <html>
            <head>
                <title>Receipt - ${a.id||"Print"}</title>
                <style>
                    body {
                        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
                        color: #1e293b;
                        margin: 0;
                        padding: 40px;
                        -webkit-print-color-adjust: exact;
                        print-color-adjust: exact;
                    }
                    .receipt-box {
                        max-width: 600px;
                        margin: 0 auto;
                        border: 2px dashed #cbd5e1;
                        border-radius: 16px;
                        padding: 30px;
                    }
                    .header {
                        text-align: center;
                        border-bottom: 2px dashed #cbd5e1;
                        padding-bottom: 20px;
                        margin-bottom: 20px;
                    }
                    .header h1 {
                        color: #10b981;
                        margin: 0 0 10px 0;
                        font-size: 28px;
                    }
                    .header p {
                        margin: 0;
                        color: #64748b;
                        font-weight: bold;
                        text-transform: uppercase;
                        font-size: 12px;
                        letter-spacing: 2px;
                    }
                    .row {
                        display: flex;
                        justify-content: space-between;
                        margin-bottom: 12px;
                        font-size: 14px;
                    }
                    .row .label {
                        color: #64748b;
                        font-weight: bold;
                        text-transform: uppercase;
                        font-size: 11px;
                        letter-spacing: 1px;
                    }
                    .row .value {
                        font-weight: bold;
                        color: #0f172a;
                    }
                    .divider {
                        border-top: 1px solid #e2e8f0;
                        margin: 20px 0;
                        width: 100%;
                    }
                    .total-box {
                        background: #f8fafc;
                        padding: 20px;
                        border-radius: 12px;
                        margin-top: 20px;
                        display: flex;
                        justify-content: space-between;
                        align-items: center;
                        border: 1px solid #e2e8f0;
                    }
                    .total-label {
                        color: #64748b;
                        font-weight: bold;
                        text-transform: uppercase;
                        font-size: 12px;
                        letter-spacing: 1px;
                    }
                    .total-value {
                        font-size: 32px;
                        font-weight: 900;
                        color: #10b981;
                    }
                    @media print {
                        @page { margin: 0.5cm; }
                        body { padding: 0; }
                        .receipt-box { border: none; padding: 20px; max-width: 100%; }
                    }
                </style>
            </head>
            <body>
                <div class="receipt-box">
                    <div class="header">
                        <h1>${x.toUpperCase()}</h1>
                        <p>CASHIER RECEIPT</p>
                    </div>
                    
                    <div class="row">
                        <span class="label">Receipt ID</span>
                        <span class="value">${a.id||""}</span>
                    </div>
                    <div class="row">
                        <span class="label">Date</span>
                        <span class="value">${a.date||""}</span>
                    </div>
                    <div class="row">
                        <span class="label">Received By</span>
                        <span class="value">${a.receivedBy||""}</span>
                    </div>

                    <div class="divider"></div>

                    <div class="row">
                        <span class="label">Member Name</span>
                        <span class="value">${a.memberName||""}</span>
                    </div>
                    <div class="row">
                        <span class="label">Payment Type</span>
                        <span class="value" style="text-transform: capitalize;">${a.paymentType||""}</span>
                    </div>
                    <div class="row">
                        <span class="label">Payment Method</span>
                        <span class="value">${a.method||""}</span>
                    </div>
                    ${a.referenceNumber?`
                    <div class="row">
                        <span class="label">Reference ID</span>
                        <span class="value">${a.referenceNumber}</span>
                    </div>
                    `:""}

                    <div class="total-box">
                        <span class="total-label">Total Amount Paid</span>
                        <span class="total-value">Rs. ${parseFloat(a.finalAmount||0).toLocaleString()}</span>
                    </div>
                    
                    <div style="text-align: center; margin-top: 40px; color: #94a3b8; font-size: 11px;">
                        <p>Thank you for your payment!</p>
                        <p>Generated professionally by Gym CRM</p>
                    </div>
                </div>
                <script>
                    window.onload = function() {
                        window.print();
                    }
                <\/script>
            </body>
            </html>
        `;h.document.write(p),h.document.close()},c=()=>{try{const u=new gt,x=localStorage.getItem("userData");let h="Gym CRM";if(x){const C=JSON.parse(x);h=C?.branchName||C?.tenant?.name||"GYM RECEIPT"}const p=[16,185,129],f=[30,41,59],y=[100,116,139];u.setFontSize(28),u.setTextColor(...p),u.setFont("helvetica","bold"),u.text(h.toUpperCase(),14,25),u.setFontSize(10),u.setTextColor(...y),u.setFont("helvetica","normal"),u.text("CASHIER RECEIPT",196,25,null,null,"right"),u.setDrawColor(226,232,240),u.setLineWidth(.5),u.line(14,32,196,32),u.setFontSize(10),u.setTextColor(...y),u.text("Receipt ID:",14,42),u.setFontSize(11),u.setTextColor(...f),u.setFont("helvetica","bold"),u.text(a.id||"",14,48),u.setFontSize(10),u.setTextColor(...y),u.setFont("helvetica","normal"),u.text("Date:",196,42,null,null,"right"),u.setFontSize(11),u.setTextColor(...f),u.setFont("helvetica","bold"),u.text(a.date||"",196,48,null,null,"right"),u.setFontSize(10),u.setTextColor(...y),u.setFont("helvetica","normal"),u.text("Received By:",14,58),u.setFontSize(11),u.setTextColor(...f),u.setFont("helvetica","bold"),u.text(a.receivedBy||"",14,64),u.setFontSize(14),u.setTextColor(...p),u.text("SUCCESS",196,64,null,null,"right"),u.setFillColor(248,250,252),u.roundedRect(14,72,182,30,3,3,"F"),u.setFontSize(9),u.setTextColor(...y),u.text("MEMBER",22,82),u.setFontSize(14),u.setTextColor(...f),u.text(a.memberName||"",22,91);const g=[[(a.paymentType||"").toUpperCase(),a.method||"",a.referenceNumber||"N/A",`Rs. ${parseFloat(a.finalAmount||0).toLocaleString()}`]];Gc(u,{startY:110,head:[["PAYMENT TYPE","METHOD","REF ID","TOTAL PAID"]],body:g,theme:"plain",headStyles:{fillColor:[248,250,252],textColor:[100,116,139],fontStyle:"bold",fontSize:9,cellPadding:{top:6,bottom:6,left:8,right:8}},bodyStyles:{textColor:[30,41,59],fontSize:11,fontStyle:"bold",cellPadding:{top:8,bottom:8,left:8,right:8}},columnStyles:{3:{halign:"right",textColor:[16,185,129]}},margin:{left:14,right:14}});const v=u.internal.getNumberOfPages();for(let C=1;C<=v;C++)u.setPage(C),u.setFontSize(8),u.setFont("helvetica","normal"),u.setTextColor(148,163,184),u.text("Generated professionally by Gym CRM",105,285,null,null,"center");u.save(`Receipt_${a.id||"download"}.pdf`)}catch(u){console.error("Failed generating PDF: ",u)}};return e.jsx("div",{className:"fixed inset-0 z-[10000] flex items-center justify-center bg-slate-900/60 backdrop-blur-md px-4 py-8 overflow-y-auto",children:e.jsxs("div",{className:"relative w-full max-w-lg bg-white rounded-[40px] shadow-2xl overflow-hidden animate-in zoom-in-95 duration-300 flex flex-col my-auto",children:[e.jsx("button",{onClick:t,className:"absolute top-6 right-6 p-2 rounded-full bg-slate-50 text-slate-400 hover:text-slate-600 hover:bg-slate-100 transition-all z-10 no-print",children:e.jsx(Yr,{size:20})}),e.jsxs("div",{className:"p-8 text-center bg-gradient-to-b from-emerald-500/10 to-transparent border-b border-dashed border-slate-100 relative",children:[e.jsx("div",{className:"w-20 h-20 bg-emerald-500 text-white rounded-[28px] flex items-center justify-center mx-auto mb-6 shadow-xl shadow-emerald-200 print:shadow-none",children:e.jsx(Zt,{size:40})}),e.jsx("h3",{className:"text-2xl font-black text-slate-800 tracking-tight",children:"Payment Confirmed"}),e.jsx("p",{className:"text-[10px] font-black text-emerald-600 uppercase tracking-[0.2em] mt-2 bg-emerald-50 px-3 py-1 rounded-full inline-block",children:"Digital Receipt Generated"})]}),e.jsxs("div",{className:"p-8 space-y-8",children:[e.jsxs("div",{className:"bg-slate-50 rounded-[32px] p-6 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Receipt ID"}),e.jsx("span",{className:"text-sm font-black text-slate-700",children:a.id})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Date"}),e.jsx("span",{className:"text-sm font-black text-slate-700",children:a.date})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Received By"}),e.jsx("span",{className:"text-sm font-black text-slate-700",children:a.receivedBy})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-violet-50 flex items-center justify-center text-violet-500",children:e.jsx(lt,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Member Name"}),e.jsx("p",{className:"text-base font-black text-slate-800",children:a.memberName})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-amber-50 flex items-center justify-center text-amber-500",children:e.jsx(i,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Payment Type & Method"}),e.jsxs("p",{className:"text-sm font-black text-slate-800 capitalize",children:[a.paymentType,"  ",a.method]}),a.referenceNumber&&e.jsxs("p",{className:"text-[10px] font-bold text-slate-400 mt-1 uppercase",children:["Ref: ",a.referenceNumber]})]})]})]}),e.jsxs("div",{className:"pt-8 border-t border-slate-100 flex items-end justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Total Amount Received"}),e.jsxs("h2",{className:"text-4xl font-black text-emerald-600",children:["",parseFloat(a.finalAmount).toLocaleString()]})]}),e.jsxs("div",{className:"px-3 py-1.5 rounded-xl bg-slate-900 text-white text-[10px] font-black uppercase tracking-widest flex items-center gap-2",children:[e.jsx(Zt,{size:12,className:"text-emerald-400"}),"Success"]})]})]}),e.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[e.jsxs("button",{onClick:o,className:"flex-1 h-14 bg-white border-2 border-slate-200 rounded-2xl text-xs font-black uppercase tracking-widest text-slate-400 hover:text-emerald-500 hover:border-emerald-200 transition-all flex items-center justify-center gap-3 group",children:[e.jsx(UA,{size:18,className:"group-hover:scale-110 transition-transform"}),"Print"]}),e.jsxs("button",{onClick:c,className:"flex-1 h-14 bg-slate-900 border-2 border-slate-900 rounded-2xl text-xs font-black uppercase tracking-widest text-white hover:bg-slate-800 hover:scale-[1.03] active:scale-95 transition-all flex items-center justify-center gap-3",children:[e.jsx(na,{size:18}),"Download PDF"]})]})]})})},Sj=()=>{const s=Ht(),t=localStorage.getItem("userData"),a=t?JSON.parse(t):{name:"Operator",role:"STAFF",branchId:"Unknown"},[l,i]=b.useState([]),[o,c]=b.useState(null),[u,x]=b.useState(""),[h,p]=b.useState(!1);b.useEffect(()=>{(async()=>{try{const B=await ve.get("/admin/members");i(B.data)}catch(B){console.error("Failed fetching members",B)}})()},[]);const[f,y]=b.useState({type:"",amount:"",discount:0,method:"Cash",referenceNumber:"",notes:""}),[g,v]=b.useState(!1),[C,N]=b.useState(null),[k,A]=b.useState(!1),E=[{id:"membership",label:"New Membership",icon:zr,color:"text-violet-500"},{id:"renewal",label:"Renewal",icon:wl,color:"text-amber-500"},{id:"pt",label:"Personal Training",icon:ua,color:"text-rose-500"},{id:"diet",label:"Diet Plan",icon:Xo,color:"text-emerald-500"},{id:"addon",label:"Add-On",icon:wt,color:"text-blue-500"},{id:"other",label:"Other",icon:X8,color:"text-slate-500"}],w=[{id:"Cash",label:"Cash",icon:Hs},{id:"Card",label:"Card",icon:Rs},{id:"UPI",label:"UPI / QR",icon:Kl},{id:"Bank Transfer",label:"Bank Transfer",icon:zr}],R=l.filter(W=>W.name?.toLowerCase().includes(u.toLowerCase())||W.phone?.includes(u)),T=()=>{const W=parseFloat(f.amount)||0,B=parseFloat(f.discount)||0;return Math.max(0,W-B)},O=async()=>{if(!o||!f.type||!f.amount){alert("Please complete all required fields.");return}if(f.method!=="Cash"&&!f.referenceNumber){alert("Reference number is required for non-cash payments.");return}const W=T();try{const z={id:(await IR({memberId:o.id,paymentType:f.type,amount:f.amount,discount:f.discount,method:f.method,referenceNumber:f.referenceNumber,notes:f.notes})).receipt.invoiceNumber,memberId:o.memberId||o.id,memberName:o.name,paymentType:f.type,amount:f.amount,discount:f.discount,finalAmount:W,method:f.method,referenceNumber:f.referenceNumber,receivedBy:a.name,date:new Date().toLocaleDateString("en-IN"),branchId:a.branchName||"GYM",status:"completed"};N(z),A(!0),setTimeout(()=>{v(!0),A(!1),c(null),y({type:"",amount:"",discount:0,method:"Cash",referenceNumber:"",notes:""})},1500)}catch{alert("Payment failed to record. Check connection.")}};return e.jsxs("div",{className:"min-h-screen bg-slate-50/50 p-4 md:p-8",children:[e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-8",children:[e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx("div",{className:"w-16 h-16 rounded-3xl bg-gradient-to-br from-emerald-500 to-teal-600 flex items-center justify-center text-white shadow-xl shadow-emerald-500/20",children:e.jsx(Va,{size:32})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-black text-slate-900 tracking-tight leading-none mb-2",children:"Cashier Mode"}),e.jsx("p",{className:"text-slate-500 font-medium italic",children:"Collect offline payments and generate instant receipts."})]})]}),e.jsxs("button",{onClick:()=>s("/finance/transactions"),className:"px-6 py-3 bg-white border-2 border-slate-100 rounded-2xl text-xs font-black uppercase tracking-widest text-slate-400 hover:text-emerald-500 hover:border-emerald-100 hover:bg-emerald-50/30 transition-all shadow-sm flex items-center gap-2 group",children:[e.jsx(wl,{size:16,className:"group-hover:rotate-[-45deg] transition-transform"}),"Branch Transactions"]})]}),k?e.jsxs("div",{className:"bg-white rounded-[40px] shadow-2xl border border-slate-100 p-12 text-center animate-in zoom-in-95 duration-500",children:[e.jsx("div",{className:"w-24 h-24 bg-emerald-50 rounded-full flex items-center justify-center text-emerald-500 mx-auto mb-6 animate-bounce",children:e.jsx(Zt,{size:48})}),e.jsx("h2",{className:"text-3xl font-black text-slate-800 mb-2",children:"Payment Received!"}),e.jsx("p",{className:"text-slate-500 font-medium max-w-md mx-auto",children:"The transaction has been recorded and the receipt is being generated."})]}):e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[e.jsxs("div",{className:"lg:col-span-8 space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-[32px] shadow-xl border border-slate-100 p-8",children:[e.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-slate-400 mb-6 flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500"}),"Step 1: Select Member"]}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:`flex items-center justify-between px-6 py-4 bg-slate-50 border-2 rounded-2xl cursor-pointer transition-all ${o?"border-emerald-200 bg-emerald-50/30":"border-slate-100 hover:border-slate-200"}`,onClick:()=>p(!h),children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center shadow-sm ${o?"bg-white text-emerald-500":"bg-slate-200 text-slate-400"}`,children:e.jsx(Pt,{size:24})}),o?e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-sm font-black text-slate-800",children:o.name}),e.jsxs("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:[o.phone,"  ",o.memberId]})]}):e.jsx("span",{className:"text-sm font-black text-slate-300",children:"Search member by name or phone..."})]}),e.jsx(kl,{size:20,className:`text-slate-300 transition-transform duration-300 ${h?"rotate-180":""}`})]}),h&&e.jsxs("div",{className:"absolute top-full left-0 right-0 mt-3 bg-white rounded-3xl shadow-2xl border border-slate-100 z-50 overflow-hidden animate-in fade-in slide-in-from-top-4 duration-300",children:[e.jsx("div",{className:"p-4 bg-slate-50 border-b border-slate-100",children:e.jsxs("div",{className:"relative",children:[e.jsx(st,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-emerald-500"}),e.jsx("input",{type:"text",value:u,onChange:W=>x(W.target.value),placeholder:"Quick search...",className:"w-full pl-12 pr-4 h-12 rounded-xl bg-white border-2 border-slate-200 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/10 font-bold text-sm outline-none transition-all",autoFocus:!0})]})}),e.jsx("div",{className:"max-h-64 overflow-y-auto",children:R.length>0?R.map(W=>e.jsxs("button",{onClick:()=>{c(W),p(!1)},className:"w-full px-6 py-4 flex items-center gap-4 hover:bg-emerald-50 transition-colors border-b border-slate-50 last:border-none text-left",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-slate-100 flex items-center justify-center font-black text-slate-400 text-xs uppercase",children:W.name?W.name.charAt(0):"A"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-black text-slate-800 leading-none mb-1",children:W.name}),e.jsxs("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-tight",children:[W.phone,"  ",W.memberId]})]})]},W.id)):e.jsx("div",{className:"p-8 text-center bg-slate-50/50",children:e.jsx("p",{className:"text-xs font-black text-slate-300 uppercase tracking-widest",children:"No members found"})})})]})]})]}),e.jsxs("div",{className:"bg-white rounded-[32px] shadow-xl border border-slate-100 p-8",children:[e.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-slate-400 mb-8 flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500"}),"Step 2: Payment Details"]}),e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:E.map(W=>e.jsxs("button",{onClick:()=>y({...f,type:W.id}),className:`p-4 rounded-2xl border-2 transition-all flex flex-col items-center justify-center text-center gap-3 group ${f.type===W.id?"border-emerald-500 bg-emerald-50/30":"border-slate-50 bg-slate-50 hover:border-slate-200"}`,children:[e.jsx("div",{className:`p-3 rounded-xl transition-all ${f.type===W.id?"bg-emerald-500 text-white shadow-lg":"bg-white text-slate-400"}`,children:e.jsx(W.icon,{size:20})}),e.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${f.type===W.id?"text-emerald-700":"text-slate-500"}`,children:W.label})]},W.id))}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-1",children:"Bill Amount ()"}),e.jsxs("div",{className:"relative",children:[e.jsx(zr,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"number",value:f.amount,onChange:W=>y({...f,amount:W.target.value}),className:"w-full pl-11 pr-4 h-14 rounded-2xl border-2 border-slate-100 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/10 font-black text-slate-800 bg-slate-50/50",placeholder:"0.00"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-1",children:"Discount ()"}),e.jsxs("div",{className:"relative",children:[e.jsx(Xo,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"number",value:f.discount,onChange:W=>y({...f,discount:W.target.value}),className:"w-full pl-11 pr-4 h-14 rounded-2xl border-2 border-slate-100 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/10 font-black text-slate-800 bg-slate-50/50",placeholder:"0"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-1",children:"Payment Method"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:w.map(W=>e.jsxs("button",{onClick:()=>y({...f,method:W.id}),className:`px-4 py-3 rounded-xl border-2 transition-all flex items-center gap-3 font-black text-[10px] uppercase tracking-widest ${f.method===W.id?"border-emerald-500 bg-emerald-500 text-white shadow-lg":"border-slate-100 bg-white text-slate-400 hover:border-slate-200"}`,children:[e.jsx(W.icon,{size:16}),W.label]},W.id))})]}),f.method!=="Cash"&&e.jsxs("div",{className:"space-y-3 animate-in slide-in-from-left-4",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-1",children:"Reference / Transaction ID"}),e.jsxs("div",{className:"relative",children:[e.jsx(Kl,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-emerald-500",size:18}),e.jsx("input",{type:"text",value:f.referenceNumber,onChange:W=>y({...f,referenceNumber:W.target.value}),className:"w-full pl-11 pr-4 h-14 rounded-2xl border-2 border-emerald-100 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/10 font-black text-slate-800 bg-emerald-50/10",placeholder:"Enter TXN ID..."})]})]})]})]})]}),e.jsxs("div",{className:"lg:col-span-4 h-fit sticky top-8",children:[e.jsxs("div",{className:"bg-slate-900 rounded-[40px] shadow-2xl p-8 text-white relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 right-0 p-12 opacity-5 translate-x-1/2 -translate-y-1/4 group-hover:scale-125 transition-transform duration-1000",children:e.jsx(Va,{size:240,strokeWidth:1})}),e.jsxs("div",{className:"relative z-10 space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.3em] opacity-40 mb-2",children:"Final Payable"}),e.jsxs("h2",{className:"text-6xl font-black italic tracking-tighter tabular-nums drop-shadow-2xl",children:["",T().toLocaleString()]})]}),e.jsxs("div",{className:"space-y-4 pt-8 border-t border-white/10",children:[e.jsxs("div",{className:"flex justify-between items-center opacity-60",children:[e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Base Amount"}),e.jsxs("span",{className:"font-bold tabular-nums",children:["",parseFloat(f.amount||0).toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between items-center text-rose-400",children:[e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Instant Discount"}),e.jsxs("span",{className:"font-bold tabular-nums",children:["-",parseFloat(f.discount||0).toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-white/10 text-emerald-400",children:[e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Method"}),e.jsx("span",{className:"font-black uppercase tracking-widest",children:f.method})]})]}),e.jsxs("div",{className:"pt-4",children:[e.jsxs("button",{onClick:O,className:"w-full py-5 bg-gradient-to-r from-emerald-400 to-teal-500 text-white rounded-[24px] font-black uppercase tracking-widest text-sm shadow-xl shadow-emerald-500/30 hover:shadow-emerald-500/50 hover:scale-[1.03] active:scale-95 transition-all flex items-center justify-center gap-3",children:["Receive Payment ",e.jsx(jn,{size:20})]}),e.jsx("p",{className:"text-[9px] font-bold opacity-30 uppercase tracking-[0.2em] text-center mt-6",children:"Secure Branch Level Encryption"})]})]})]}),e.jsxs("div",{className:"mt-6 p-6 rounded-3xl bg-white border border-slate-100 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-100 flex items-center justify-center text-slate-400",children:e.jsx(lt,{size:20})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Current Operator"}),e.jsx("p",{className:"text-xs font-bold text-slate-700",children:a.name})]})]}),e.jsx("div",{className:"px-3 py-1 bg-violet-50 text-violet-600 rounded-lg text-[10px] font-black uppercase tracking-widest",children:a.role})]})]})]})]}),e.jsx(d4,{isOpen:g,onClose:()=>v(!1),payment:C})]})},Cj=()=>{const s=Ht(),[t,a]=b.useState(""),[l,i]=b.useState("All"),[o,c]=b.useState(null),[u,x]=b.useState(!1),[h,p]=b.useState(null),[f,y]=b.useState([]),g=localStorage.getItem("userData"),v=g?JSON.parse(g):{name:"Staff Operator"};b.useEffect(()=>{(async()=>{try{const R=await BR();y(R)}catch(R){console.error("Failed fetching transactions:",R)}})()},[]);const C=w=>{switch(w){case"Card":return Rs;case"UPI":return Kl;case"Bank Transfer":return zr;default:return Hs}},N=w=>w.includes("Membership")?"bg-violet-50 text-violet-600 border-violet-100":w.includes("POS")?"bg-blue-50 text-blue-600 border-blue-100":w.includes("PT")?"bg-rose-50 text-rose-600 border-rose-100":"bg-slate-50 text-slate-600 border-slate-100",k=f.filter(w=>{const R=l==="All"||w.type&&w.type.includes(l),T=w.member&&w.member.toLowerCase().includes(t.toLowerCase())||w.id&&w.id.toLowerCase().includes(t.toLowerCase());return R&&T}),A=()=>{if(k.length===0){alert("No transactions available to export.");return}const w=["Transaction ID","Date","Member Name","Category","Method","Amount"],R=k.map(z=>[z.id||"",z.date||"",`"${z.member||""}"`,z.type||"",z.method||"",z.amount||0]),T=[w.join(","),...R.map(z=>z.join(","))].join(`
`),O=new Blob([T],{type:"text/csv;charset=utf-8;"}),W=URL.createObjectURL(O),B=document.createElement("a");B.href=W,B.setAttribute("download",`Transactions_Export_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(B),B.click(),document.body.removeChild(B)},E=w=>{p({...w,memberName:w.member,paymentType:w.type,finalAmount:w.amount,receivedBy:v.name||"Staff Operator"}),x(!0)};return e.jsxs("div",{className:"min-h-screen bg-slate-50/50 p-4 md:p-8",children:[e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6 mb-8",children:[e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>s(-1),className:"flex items-center gap-2 text-slate-400 hover:text-slate-600 transition-colors mb-4 group",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-white shadow-sm flex items-center justify-center group-hover:-translate-x-1 transition-transform",children:e.jsx(Dn,{size:16})}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.2em]",children:"Back"})]}),e.jsxs("div",{className:"flex items-center gap-4 md:gap-5",children:[e.jsxs("div",{className:"w-12 h-12 md:w-16 md:h-16 rounded-2xl md:rounded-3xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-xl shadow-violet-500/20 shrink-0",children:[e.jsx(wl,{size:24,className:"md:hidden"}),e.jsx(wl,{size:32,className:"hidden md:block"})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl md:text-4xl font-black text-slate-900 tracking-tight leading-none mb-2",children:"Branch Transactions"}),e.jsx("p",{className:"text-slate-500 font-medium italic text-sm md:text-base",children:"Complete audit trail of all payments received."})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto",children:[e.jsxs("button",{onClick:A,className:"flex-1 md:flex-none px-6 py-3.5 bg-white border-2 border-slate-100 rounded-2xl text-xs font-black uppercase tracking-widest text-slate-500 hover:border-violet-200 hover:text-violet-600 transition-all shadow-sm flex items-center justify-center gap-3",children:[e.jsx(na,{size:18}),"Export CSV"]}),e.jsxs("button",{onClick:()=>s("/finance/cashier"),className:"flex-1 md:flex-none px-6 py-3.5 bg-slate-900 text-white rounded-2xl text-xs font-black uppercase tracking-widest hover:bg-slate-800 hover:scale-[1.02] active:scale-95 transition-all shadow-xl shadow-slate-200 flex items-center justify-center gap-3",children:[e.jsx(wt,{size:18}),"New Payment"]})]})]}),e.jsxs("div",{className:"bg-white rounded-[24px] md:rounded-[32px] shadow-xl border border-slate-100 p-4 md:p-6 mb-8 flex flex-col lg:flex-row gap-4 items-center",children:[e.jsxs("div",{className:"relative flex-1 w-full group",children:[e.jsx(st,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 transition-colors",size:18}),e.jsx("input",{type:"text",value:t,onChange:w=>a(w.target.value),className:"w-full pl-11 pr-4 h-12 rounded-2xl border-2 border-slate-100 focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 font-bold text-sm bg-slate-50/50 transition-all outline-none",placeholder:"Search by ID or member name..."})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full lg:w-auto",children:[e.jsxs("select",{value:l,onChange:w=>i(w.target.value),className:"h-12 px-5 rounded-2xl border-2 border-slate-100 bg-white font-bold text-xs uppercase tracking-widest text-slate-500 outline-none focus:border-violet-500 transition-all w-full sm:w-auto",children:[e.jsx("option",{value:"All",children:"All Types"}),e.jsx("option",{value:"Membership",children:"Membership"}),e.jsx("option",{value:"POS",children:"Products"}),e.jsx("option",{value:"Personal Training",children:"PT Sessions"})]}),e.jsxs("div",{className:"h-12 px-6 flex items-center justify-center gap-3 bg-violet-50 border-2 border-violet-100 rounded-2xl text-xs font-black text-violet-600 uppercase tracking-widest w-full sm:w-auto",children:[e.jsx(Ze,{size:16}),k.length," Total"]})]})]}),e.jsxs("div",{className:"bg-white rounded-[40px] shadow-2xl border border-slate-100 overflow-hidden",children:[e.jsx("div",{className:"hidden lg:block overflow-x-auto overflow-y-visible",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50/80",children:[e.jsx("th",{className:"px-8 py-6 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Transaction ID"}),e.jsx("th",{className:"px-8 py-6 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Member"}),e.jsx("th",{className:"px-8 py-6 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Category"}),e.jsx("th",{className:"px-8 py-6 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Method"}),e.jsx("th",{className:"px-8 py-6 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Amount"}),e.jsx("th",{className:"px-8 py-6 text-right text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:k.map(w=>{const R=C(w.method);return e.jsxs("tr",{className:"group hover:bg-violet-50/30 transition-colors",children:[e.jsx("td",{className:"px-8 py-5",children:e.jsx("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-slate-100 rounded-lg text-[10px] font-black text-slate-500 uppercase",children:w.id})}),e.jsx("td",{className:"px-8 py-5",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-violet-100 to-purple-100 flex items-center justify-center text-violet-500 font-black text-xs",children:w.member.charAt(0)}),e.jsx("span",{className:"text-sm font-black text-slate-800 tracking-tight transition-colors group-hover:text-violet-600",children:w.member})]})}),e.jsx("td",{className:"px-8 py-5",children:e.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-xl border text-[10px] font-black uppercase tracking-widest ${N(w.type)}`,children:[e.jsx(Xo,{size:12}),w.type]})}),e.jsx("td",{className:"px-8 py-5",children:e.jsxs("div",{className:"flex items-center gap-2 text-slate-500",children:[e.jsx(R,{size:16,className:"text-slate-400"}),e.jsx("span",{className:"text-xs font-bold",children:w.method})]})}),e.jsx("td",{className:"px-8 py-5",children:e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsxs("span",{className:"text-sm font-black text-slate-900 tabular-nums",children:["",w.amount.toLocaleString()]}),e.jsxs("div",{className:"flex items-center gap-1 text-[9px] font-bold text-slate-400 uppercase",children:[e.jsx(Xe,{size:10}),w.date]})]})}),e.jsx("td",{className:"px-8 py-5 text-right",children:e.jsx("button",{onClick:()=>E(w),className:"p-3 rounded-xl bg-white border-2 border-slate-100 text-slate-400 hover:text-violet-600 hover:border-violet-100 hover:shadow-lg hover:shadow-violet-100 transition-all",children:e.jsx(Va,{size:18})})})]},w.id)})})]})}),e.jsx("div",{className:"lg:hidden divide-y divide-slate-100",children:k.map(w=>{const R=C(w.method);return e.jsxs("div",{className:"p-4 md:p-6 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-violet-100 flex items-center justify-center text-violet-500 font-black",children:w.member.charAt(0)}),e.jsxs("div",{className:"overflow-hidden",children:[e.jsx("p",{className:"text-sm font-black text-slate-800 tracking-tight truncate max-w-[120px]",children:w.member}),e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:w.id})]})]}),e.jsxs("div",{className:"text-right shrink-0",children:[e.jsxs("p",{className:"text-lg font-black text-slate-900 leading-none",children:["",w.amount.toLocaleString()]}),e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase mt-1",children:w.date})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:`px-3 py-1 rounded-lg border text-[10px] font-black uppercase tracking-widest ${N(w.type)}`,children:w.type}),e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 rounded-lg bg-slate-50 border border-slate-100 text-[10px] font-black text-slate-500 uppercase tracking-widest",children:[e.jsx(R,{size:12}),w.method]})]}),e.jsxs("button",{onClick:()=>E(w),className:"w-full h-12 bg-white border-2 border-slate-100 rounded-xl text-[10px] font-black uppercase tracking-widest text-slate-400 flex items-center justify-center gap-2 active:bg-slate-50 hover:bg-slate-50 transition-colors",children:[e.jsx(Va,{size:16}),"View Digital Receipt"]})]},w.id)})})]})]}),e.jsx(d4,{isOpen:u,onClose:()=>x(!1),payment:h})]})},GR=()=>{const s=Ht(),t=localStorage.getItem("userData"),a=t?JSON.parse(t):{role:"STAFF",branchId:"B001"},l=["BRANCH_ADMIN","MANAGER","SUPER_ADMIN"].includes(a.role),[i,o]=b.useState(""),[c,u]=b.useState("All"),[x,h]=b.useState(!1),[p,f]=b.useState([]);b.useEffect(()=>{(async()=>{try{const P=await Lg();f(P)}catch(P){console.error("Failed fetching expenses:",P)}})()},[]);const[y,g]=b.useState({title:"",category:"",amount:"",paymentMethod:"Cash",vendor:"",invoiceNumber:"",notes:"",date:new Date().toISOString().split("T")[0]}),v=["Cleaning","Maintenance","Utilities","Supplies","Miscellaneous"],C=["Cash","Card","Bank Transfer"],N=p.map(z=>{let P={};if(z.notes)try{P=JSON.parse(z.notes)}catch{P={notes:z.notes}}return{...z,vendor:P.vendor||"",paymentMethod:P.paymentMethod||"Cash",invoiceNumber:P.invoiceNumber||"",actualNotes:P.notes||"",dateStr:z.date?new Date(z.date).toISOString().split("T")[0]:"N/A"}});let k=0,A=0,E=0,w=0;const R=new Date().toISOString().split("T")[0],T=new Date().getMonth();N.forEach(z=>{const P=Number(z.amount)||0;z.dateStr===R&&(k+=P),new Date(z.date).getMonth()===T&&(A+=P),z.paymentMethod==="Cash"?E+=P:w+=P});const O=N.filter(z=>{const P=c==="All"||z.category===c,F=String(z.title||"").toLowerCase().includes(i.toLowerCase())||String(z.vendor||"").toLowerCase().includes(i.toLowerCase());return P&&F}),W=async z=>{z.preventDefault();try{await c4({title:y.title,category:y.category,amount:y.amount,date:y.date,status:"Paid",notes:JSON.stringify({paymentMethod:y.paymentMethod,vendor:y.vendor,invoiceNumber:y.invoiceNumber,notes:y.notes})}),h(!1),g({title:"",category:"",amount:"",paymentMethod:"Cash",vendor:"",invoiceNumber:"",notes:"",date:new Date().toISOString().split("T")[0]});const P=await Lg();f(P)}catch(P){console.error("Failed to add expense:",P),alert("Failed to create expense. Check console for details.")}},B=async z=>{if(window.confirm("Are you sure you want to delete this expense? This action cannot be undone."))try{await UR(z);const P=p.filter(F=>F.id!==z);f(P)}catch(P){console.error("Failed to delete expense:",P),alert("Failed to delete expense. You may not have permission.")}};return e.jsx("div",{className:"min-h-screen bg-slate-50/50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6 mb-8",children:[e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>s(-1),className:"flex items-center gap-2 text-slate-400 hover:text-slate-600 transition-colors mb-4 group",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-white shadow-sm flex items-center justify-center group-hover:-translate-x-1 transition-transform",children:e.jsx(Dn,{size:16})}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.2em]",children:"Back"})]}),e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx("div",{className:"w-16 h-16 rounded-3xl bg-gradient-to-br from-orange-500 to-rose-600 flex items-center justify-center text-white shadow-xl shadow-orange-500/20",children:e.jsx(Hs,{size:32})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-black text-slate-900 tracking-tight leading-none mb-2",children:l?"Petty Cash / Expenses":"Log Expense"}),e.jsxs("p",{className:"text-slate-500 font-medium italic",children:["Track operational spending and petty cash logs for ",a.branchName||a.branchId||"Gym","."]})]})]})]}),e.jsx("button",{onClick:()=>h(!x),className:`px-6 py-3.5 rounded-2xl text-xs font-black uppercase tracking-widest transition-all shadow-xl flex items-center gap-3 ${x?"bg-white border-2 border-slate-100 text-slate-500 hover:border-slate-200":"bg-slate-900 text-white hover:bg-slate-800 hover:scale-[1.02] active:scale-95 shadow-slate-200"}`,children:x?"Cancel Entry":e.jsxs(e.Fragment,{children:[e.jsx(wt,{size:18})," New Expense"]})})]}),l&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white rounded-[32px] p-6 border border-slate-100 shadow-xl group hover:border-orange-200 transition-all",children:e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"p-3 rounded-2xl bg-orange-50 text-orange-500 group-hover:scale-110 transition-transform",children:e.jsx(G0,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Today"}),e.jsxs("h4",{className:"text-2xl font-black text-slate-800 tabular-nums",children:["",k.toLocaleString()]})]})]})}),e.jsx("div",{className:"bg-white rounded-[32px] p-6 border border-slate-100 shadow-xl group hover:border-rose-200 transition-all",children:e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"p-3 rounded-2xl bg-rose-50 text-rose-500 group-hover:scale-110 transition-transform",children:e.jsx(Xe,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"This Month"}),e.jsxs("h4",{className:"text-2xl font-black text-slate-800 tabular-nums",children:["",A.toLocaleString()]})]})]})}),e.jsx("div",{className:"bg-white rounded-[32px] p-6 border border-slate-100 shadow-xl group hover:border-emerald-200 transition-all",children:e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"p-3 rounded-2xl bg-emerald-50 text-emerald-500 group-hover:scale-110 transition-transform",children:e.jsx(Yl,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Cash Used"}),e.jsxs("h4",{className:"text-2xl font-black text-slate-800 tabular-nums",children:["",E.toLocaleString()]})]})]})}),e.jsx("div",{className:"bg-white rounded-[32px] p-6 border border-slate-100 shadow-xl group hover:border-blue-200 transition-all",children:e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"p-3 rounded-2xl bg-blue-50 text-blue-500 group-hover:scale-110 transition-transform",children:e.jsx(Rs,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Digital/Card"}),e.jsxs("h4",{className:"text-2xl font-black text-slate-800 tabular-nums",children:["",w.toLocaleString()]})]})]})})]}),x&&e.jsx("div",{className:"bg-white rounded-[40px] shadow-2xl border border-slate-100 p-8 mb-8 animate-in slide-in-from-top-4 duration-300",children:e.jsxs("form",{onSubmit:W,className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Expense Title*"}),e.jsx("input",{required:!0,type:"text",placeholder:"e.g. Drinking Water",value:y.title,onChange:z=>g({...y,title:z.target.value}),className:"w-full h-14 pl-6 pr-4 rounded-2xl border-2 border-slate-100 focus:border-orange-500 focus:ring-4 focus:ring-orange-500/10 font-bold text-sm outline-none transition-all bg-slate-50/50"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Category*"}),e.jsxs("select",{required:!0,value:y.category,onChange:z=>g({...y,category:z.target.value}),className:"w-full h-14 px-6 rounded-2xl border-2 border-slate-100 focus:border-orange-500 font-bold text-sm outline-none bg-slate-50/50",children:[e.jsx("option",{value:"",children:"Select Category"}),v.map(z=>e.jsx("option",{value:z,children:z},z))]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Amount ()*"}),e.jsxs("div",{className:"relative",children:[e.jsx(Yl,{size:18,className:"absolute left-6 top-1/2 -translate-y-1/2 text-slate-400"}),e.jsx("input",{required:!0,type:"number",placeholder:"0.00",value:y.amount,onChange:z=>g({...y,amount:z.target.value}),className:"w-full h-14 pl-14 pr-4 rounded-2xl border-2 border-slate-100 focus:border-orange-500 focus:ring-4 focus:ring-orange-500/10 font-black text-slate-800 outline-none transition-all bg-slate-50/50"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Payment Method"}),e.jsx("select",{value:y.paymentMethod,onChange:z=>g({...y,paymentMethod:z.target.value}),className:"w-full h-14 px-6 rounded-2xl border-2 border-slate-100 focus:border-orange-500 font-bold text-sm outline-none bg-slate-50/50",children:C.map(z=>e.jsx("option",{value:z,children:z},z))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Vendor Name"}),e.jsx("input",{type:"text",placeholder:"Optional",value:y.vendor,onChange:z=>g({...y,vendor:z.target.value}),className:"w-full h-14 px-6 rounded-2xl border-2 border-slate-100 focus:border-orange-500 font-bold text-sm outline-none bg-slate-50/50"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Invoice Number"}),e.jsx("input",{type:"text",placeholder:"Optional",value:y.invoiceNumber,onChange:z=>g({...y,invoiceNumber:z.target.value}),className:"w-full h-14 px-6 rounded-2xl border-2 border-slate-100 focus:border-orange-500 font-bold text-sm outline-none bg-slate-50/50"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Expense Date"}),e.jsx("input",{type:"date",value:y.date,onChange:z=>g({...y,date:z.target.value}),className:"w-full h-14 px-6 rounded-2xl border-2 border-slate-100 focus:border-orange-500 font-bold text-sm outline-none bg-slate-50/50"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Internal Notes"}),e.jsx("textarea",{rows:"2",value:y.notes,onChange:z=>g({...y,notes:z.target.value}),className:"w-full p-6 rounded-2xl border-2 border-slate-100 focus:border-orange-500 font-bold text-sm outline-none bg-slate-50/50",placeholder:"Add any specific details about this purchase..."})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsx("button",{type:"submit",className:"px-10 py-5 bg-gradient-to-r from-orange-500 to-rose-600 text-white rounded-2xl font-black uppercase tracking-widest text-sm shadow-xl shadow-orange-500/20 hover:scale-[1.02] active:scale-95 transition-all",children:"Save Daily Expense"})})]})}),e.jsxs("div",{className:"bg-white rounded-[40px] shadow-xl border border-slate-100 overflow-hidden",children:[e.jsxs("div",{className:"p-8 border-b border-slate-100 flex flex-col md:flex-row md:items-center justify-between gap-6",children:[e.jsxs("div",{className:"relative flex-1 group",children:[e.jsx(st,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-orange-500 transition-colors",size:20}),e.jsx("input",{type:"text",value:i,onChange:z=>o(z.target.value),placeholder:"Search by title or vendor...",className:"w-full h-14 pl-14 pr-6 rounded-2xl border-2 border-slate-100 focus:border-orange-500 focus:ring-4 focus:ring-orange-500/10 font-bold text-sm outline-none transition-all bg-slate-50/30"})]}),e.jsx("div",{className:"flex gap-4",children:e.jsxs("select",{value:c,onChange:z=>u(z.target.value),className:"h-14 px-6 rounded-2xl border-2 border-slate-100 font-black text-[10px] uppercase tracking-widest text-slate-500 outline-none focus:border-orange-500 transition-all",children:[e.jsx("option",{value:"All",children:"All Categories"}),v.map(z=>e.jsx("option",{value:z,children:z},z))]})})]}),e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"w-full hidden md:table",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50/80 border-b border-slate-100",children:[e.jsx("th",{className:"px-8 py-6 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Date & ID"}),e.jsx("th",{className:"px-8 py-6 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Expense Item"}),e.jsx("th",{className:"px-8 py-6 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Category"}),e.jsx("th",{className:"px-8 py-6 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Method"}),e.jsx("th",{className:"px-8 py-6 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Logged By"}),e.jsx("th",{className:"px-8 py-6 text-right text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Amount"}),l&&e.jsx("th",{className:"px-8 py-6 text-right text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:O.map(z=>e.jsxs("tr",{className:"group hover:bg-orange-50/20 transition-colors",children:[e.jsx("td",{className:"px-8 py-6",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xs font-black text-slate-800 tabular-nums",children:z.dateStr}),e.jsxs("span",{className:"text-[9px] font-bold text-slate-400 uppercase",children:["EXP-",z.id]})]})}),e.jsx("td",{className:"px-8 py-6",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-black text-slate-900 group-hover:text-orange-600 transition-colors",children:z.title}),e.jsx("span",{className:"text-[10px] font-medium text-slate-400 italic",children:z.vendor||"Local Vendor"})]})}),e.jsx("td",{className:"px-8 py-6",children:e.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-slate-100 rounded-lg text-[9px] font-black text-slate-500 uppercase tracking-widest border border-slate-200",children:[e.jsx(Xo,{size:10}),z.category]})}),e.jsx("td",{className:"px-8 py-6",children:e.jsxs("div",{className:"flex items-center gap-2 text-slate-500",children:[z.paymentMethod==="Cash"?e.jsx(Hs,{size:16}):e.jsx(Rs,{size:16}),e.jsx("span",{className:"text-[10px] font-bold uppercase",children:z.paymentMethod})]})}),e.jsx("td",{className:"px-8 py-6",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-orange-100 flex items-center justify-center text-orange-600",children:e.jsx(lt,{size:14})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[10px] font-black text-slate-700 leading-none mb-0.5",children:z.addedBy||"Staff"}),e.jsx("span",{className:"text-[9px] font-bold text-slate-400 uppercase",children:"Operator"})]})]})}),e.jsx("td",{className:"px-8 py-6 text-right",children:e.jsxs("span",{className:"text-base font-black text-slate-900 tabular-nums",children:["",Number(z.amount).toLocaleString()]})}),l&&e.jsx("td",{className:"px-8 py-6 text-right",children:e.jsx("button",{onClick:()=>B(z.id),className:"p-2 text-slate-400 hover:text-rose-500 hover:bg-rose-50 rounded-lg transition-colors",title:"Delete Expense",children:e.jsx(xs,{size:16})})})]},z.id||Math.random()))})]}),e.jsx("div",{className:"md:hidden divide-y divide-slate-100",children:O.map(z=>e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase block mb-1",children:z.dateStr}),e.jsx("h4",{className:"text-base font-black text-slate-900 leading-tight",children:z.title}),e.jsx("p",{className:"text-xs font-medium text-slate-400",children:z.vendor||"Local Vendor"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("span",{className:"text-xl font-black text-slate-900 tabular-nums block leading-none",children:["",Number(z.amount).toLocaleString()]}),e.jsx("span",{className:`text-[9px] font-black uppercase tracking-widest px-2 py-0.5 rounded-lg border mt-2 inline-block ${z.paymentMethod==="Cash"?"bg-orange-50 border-orange-100 text-orange-600":"bg-blue-50 border-blue-100 text-blue-600"}`,children:z.paymentMethod})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-slate-50",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-7 h-7 rounded-lg bg-slate-100 flex items-center justify-center text-slate-400",children:e.jsx(lt,{size:14})}),e.jsx("span",{className:"text-[10px] font-black text-slate-500 uppercase",children:z.addedBy||"Staff"})]}),e.jsxs("div",{className:"flex gap-3 items-center",children:[e.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase bg-slate-100 px-2 py-1 rounded-lg",children:z.category}),l&&e.jsx("button",{onClick:()=>B(z.id),className:"p-1.5 text-slate-400 hover:text-rose-500 hover:bg-rose-50 rounded-md transition-colors",children:e.jsx(xs,{size:14})})]})]})]},z.id||Math.random()))})]})]})]})})},VR=()=>{const[s,t]=b.useState([]),[a,l]=b.useState(!0),[i,o]=b.useState(""),[c,u]=b.useState(!1),[x,h]=b.useState(null),[p,f]=b.useState({code:"",type:"PERCENTAGE",value:"",usageLimit:"",expiryDate:"",status:"Active"}),y=async()=>{try{const A=await ex.getAllPromos();t(A)}catch(A){Ve.error(A.message||"Failed to fetch promos")}finally{l(!1)}};b.useEffect(()=>{y()},[]);const g=A=>{f({...p,[A.target.name]:A.target.value})},v=A=>{f({...A,expiryDate:A.expiryDate?A.expiryDate.split("T")[0]:""}),h(A.id),u(!0)},C=async A=>{if(window.confirm("Are you sure you want to delete this promo code?"))try{await ex.deletePromo(A),Ve.success("Promo deleted successfully"),y()}catch(E){Ve.error(E.message||"Failed to delete promo")}},N=async A=>{A.preventDefault();try{x?(await ex.updatePromo(x,p),Ve.success("Promo updated successfully")):(await ex.createPromo(p),Ve.success("Promo created successfully")),u(!1),h(null),f({code:"",type:"PERCENTAGE",value:"",usageLimit:"",expiryDate:"",status:"Active"}),y()}catch(E){Ve.error(E.message||"Failed to save promo")}},k=s.filter(A=>!i||A.code.toLowerCase().includes(i.toLowerCase()));return e.jsxs("div",{className:"p-4 sm:p-6 pb-12",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Promo Codes"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Manage discounts and rewards"})]}),e.jsxs("button",{onClick:()=>{h(null),f({code:"",type:"PERCENTAGE",value:"",usageLimit:"",expiryDate:"",status:"Active"}),u(!0)},className:"flex items-center gap-2 px-4 py-2 bg-violet-600 text-white rounded-lg hover:bg-violet-700 transition",children:[e.jsx(wt,{size:16})," Create Promo"]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden mb-6",children:[e.jsx("div",{className:"p-4 border-b border-slate-200",children:e.jsxs("div",{className:"relative max-w-sm",children:[e.jsx(st,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),e.jsx("input",{type:"text",placeholder:"Search by code...",value:i,onChange:A=>o(A.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-violet-500/20"})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm text-left",children:[e.jsx("thead",{className:"bg-slate-50 border-b border-slate-200 text-slate-600 font-medium",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4",children:"CODE"}),e.jsx("th",{className:"px-6 py-4",children:"DISCOUNT"}),e.jsx("th",{className:"px-6 py-4",children:"USAGE LIMIT"}),e.jsx("th",{className:"px-6 py-4",children:"USED"}),e.jsx("th",{className:"px-6 py-4",children:"STATUS"}),e.jsx("th",{className:"px-6 py-4",children:"EXPIRY"}),e.jsx("th",{className:"px-6 py-4",children:"ACTIONS"})]})}),e.jsx("tbody",{children:a?e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"text-center py-8 text-slate-500",children:"Loading..."})}):k.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"text-center py-8 text-slate-500",children:"No promo codes found"})}):k.map(A=>e.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[e.jsx("td",{className:"px-6 py-4 font-bold text-slate-900",children:A.code}),e.jsxs("td",{className:"px-6 py-4",children:[A.type==="PERCENTAGE"?`${A.value}%`:`${A.value}`," OFF"]}),e.jsx("td",{className:"px-6 py-4 text-slate-500",children:A.usageLimit||"Unlimited"}),e.jsx("td",{className:"px-6 py-4 font-medium text-slate-900",children:A.usedCount}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-semibold ${A.status==="Active"?"bg-emerald-100 text-emerald-700":"bg-rose-100 text-rose-700"}`,children:[A.status==="Active"?e.jsx(Qt,{size:12}):e.jsx(Vl,{size:12}),A.status]})}),e.jsx("td",{className:"px-6 py-4 text-slate-500",children:A.expiryDate?A.expiryDate.split("T")[0].split("-").reverse().join("/"):"Never"}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>v(A),className:"text-indigo-600 hover:text-indigo-800",children:e.jsx(Ra,{size:16})}),e.jsx("button",{onClick:()=>C(A.id),className:"text-rose-600 hover:text-rose-800",children:e.jsx(xs,{size:16})})]})})]},A.id))})]})})]}),c&&e.jsx("div",{className:"fixed inset-0 bg-slate-900/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:e.jsx("h2",{className:"text-xl font-bold text-slate-900",children:x?"Edit Promo":"New Promo Code"})}),e.jsxs("form",{onSubmit:N,className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1",children:"Code / Name"}),e.jsx("input",{required:!0,type:"text",name:"code",value:p.code,onChange:g,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-violet-500",placeholder:"e.g. SUMMER25"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1",children:"Type"}),e.jsxs("select",{name:"type",value:p.type,onChange:g,className:"w-full px-3 py-2 border rounded-lg",children:[e.jsx("option",{value:"PERCENTAGE",children:"Percentage (%)"}),e.jsx("option",{value:"FLAT",children:"Flat Amount ()"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1",children:"Discount Value"}),e.jsx("input",{required:!0,type:"number",min:"0",step:"0.01",name:"value",value:p.value,onChange:g,className:"w-full px-3 py-2 border rounded-lg",placeholder:"10"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1",children:"Max Limits"}),e.jsx("input",{type:"number",min:"1",name:"usageLimit",value:p.usageLimit,onChange:g,className:"w-full px-3 py-2 border rounded-lg",placeholder:"e.g. 100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1",children:"Expiry Date"}),e.jsx("input",{type:"date",name:"expiryDate",value:p.expiryDate,onChange:g,className:"w-full px-3 py-2 border rounded-lg"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1",children:"Status"}),e.jsxs("select",{name:"status",value:p.status,onChange:g,className:"w-full px-3 py-2 border rounded-lg",children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]}),e.jsxs("div",{className:"pt-4 flex gap-3",children:[e.jsx("button",{type:"button",onClick:()=>u(!1),className:"flex-1 px-4 py-2 border rounded-lg font-semibold hover:bg-slate-50",children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-violet-600 text-white rounded-lg font-semibold hover:bg-violet-700",children:"Save Promo"})]})]})]})})]})},nx=({status:s,color:t="emerald",icon:a})=>{const l={emerald:"from-emerald-500 to-emerald-600 shadow-emerald-500/50",amber:"from-amber-500 to-amber-600 shadow-amber-500/50",red:"from-red-500 to-red-600 shadow-red-500/50",blue:"from-blue-500 to-blue-600 shadow-blue-500/50",orange:"from-orange-500 to-orange-600 shadow-orange-500/50",slate:"from-slate-500 to-slate-600 shadow-slate-500/50",violet:"from-violet-500 to-violet-600 shadow-violet-500/50",indigo:"from-indigo-500 to-indigo-600 shadow-indigo-500/50"},i=l[t]||l.emerald;return e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-gradient-to-r ${i} text-white text-[10px] font-black uppercase tracking-wider shadow-lg hover:scale-110 transition-all duration-300 cursor-default`,children:[a&&e.jsx(a,{size:12,strokeWidth:3}),s]})},YR=({equipment:s,onClose:t,onSubmit:a})=>{const[l,i]=b.useState({equipmentId:s?.id||"",issueType:"",severity:"Medium",description:""}),o=c=>{c.preventDefault(),a(l)};return e.jsxs("div",{className:"flex flex-col gap-6 p-6 pt-4",children:[e.jsxs("div",{className:"p-4 bg-red-50 rounded-xl border border-red-100 flex items-start gap-3",children:[e.jsx(ms,{className:"text-red-500 mt-1",size:20}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-bold text-red-900",children:"Reporting Issue for"}),e.jsx("p",{className:"text-xs text-red-700 font-medium",children:s?s.name:"Select Equipment"})]})]}),e.jsxs("form",{onSubmit:o,className:"space-y-5",children:[!s&&e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-wider",children:"Select Equipment"}),e.jsx("select",{className:"w-full px-4 py-3 rounded-xl border-2 border-slate-100 focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 outline-none transition-all font-bold text-slate-700",value:l.equipmentId,onChange:c=>i({...l,equipmentId:c.target.value}),required:!0,children:e.jsx("option",{value:"",children:"Choose a machine..."})})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-wider",children:"Issue Type"}),e.jsxs("select",{className:"w-full px-4 py-3 rounded-xl border-2 border-slate-100 focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 outline-none transition-all font-bold text-slate-700",value:l.issueType,onChange:c=>i({...l,issueType:c.target.value}),required:!0,children:[e.jsx("option",{value:"",children:"Select issue type..."}),qD.map(c=>e.jsx("option",{value:c,children:c},c))]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-wider",children:"Severity Level"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:dN.map(c=>e.jsxs("label",{className:`
                                    relative flex items-center justify-center p-3 rounded-xl border-2 cursor-pointer transition-all gap-2
                                    ${l.severity===c.value?`border-${c.color}-500 bg-${c.color}-50 text-${c.color}-700`:"border-slate-100 hover:border-slate-200 text-slate-500"}
                                `,children:[e.jsx("input",{type:"radio",name:"severity",value:c.value,className:"hidden",onChange:()=>i({...l,severity:c.value})}),e.jsx("span",{className:`w-2 h-2 rounded-full bg-${c.color}-500`}),e.jsx("span",{className:"text-xs font-black uppercase tracking-tight",children:c.label}),l.severity===c.value&&e.jsx("div",{className:"absolute -top-1 -right-1",children:e.jsx("div",{className:`w-4 h-4 rounded-full bg-${c.color}-500 flex items-center justify-center text-white`,children:e.jsx(Yr,{size:10,strokeWidth:4})})})]},c.value))})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-wider",children:"Description"}),e.jsx("textarea",{className:"w-full px-4 py-3 rounded-xl border-2 border-slate-100 focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 outline-none transition-all font-bold text-slate-700 min-h-[100px] resize-none",placeholder:"Explain what's wrong with the machine...",value:l.description,onChange:c=>i({...l,description:c.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-wider",children:"Photo (Optional)"}),e.jsx("div",{className:"flex items-center justify-center w-full",children:e.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-slate-200 border-dashed rounded-xl cursor-pointer bg-slate-50 hover:bg-slate-100 transition-all",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[e.jsx(Qo,{className:"w-8 h-8 mb-3 text-slate-400"}),e.jsx("p",{className:"mb-2 text-xs text-slate-500 font-bold uppercase tracking-wider",children:"Click to upload photo"}),e.jsx("p",{className:"text-[10px] text-slate-400 font-medium",children:"JPEG, PNG up to 5MB"})]}),e.jsx("input",{type:"file",className:"hidden"})]})})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:t,className:"flex-1 px-6 py-3.5 rounded-xl border-2 border-slate-100 text-slate-600 font-black uppercase tracking-wider text-xs hover:bg-slate-50 transition-all",children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex-1 px-6 py-3.5 rounded-xl bg-gradient-to-r from-red-500 to-red-600 text-white font-black uppercase tracking-wider text-xs shadow-lg shadow-red-200 hover:scale-105 active:scale-95 transition-all",children:"Submit Report"})]})]})]})},XR=({onClose:s,onAdd:t})=>{const[a,l]=b.useState({name:"",category:"Cardio",brand:"",model:"",serialNumber:"",location:"",purchaseDate:"",warrantyExpiry:"",status:"Operational",notes:""}),i=u=>{u.preventDefault(),t(a)},o="w-full px-4 py-2.5 rounded-xl border-2 border-slate-100 focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 outline-none transition-all font-bold text-slate-700 text-sm",c="text-[10px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-1.5 mb-1";return e.jsxs("form",{onSubmit:i,className:"flex flex-col gap-6 p-6 pt-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"col-span-2",children:[e.jsxs("label",{className:c,children:[e.jsx(Xo,{size:12})," Equipment Name"]}),e.jsx("input",{className:o,placeholder:"e.g. Matrix Treadmill T7xe",value:a.name,onChange:u=>l({...a,name:u.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:c,children:[e.jsx(ol,{size:12})," Category"]}),e.jsx("select",{className:o,value:a.category,onChange:u=>l({...a,category:u.target.value}),children:FD.map(u=>e.jsx("option",{value:u,children:u},u))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:c,children:[e.jsx(im,{size:12})," Serial Number"]}),e.jsx("input",{className:o,placeholder:"SN-XXXXXX",value:a.serialNumber,onChange:u=>l({...a,serialNumber:u.target.value})})]}),e.jsxs("div",{children:[e.jsxs("label",{className:c,children:[e.jsx(Xo,{size:12})," Brand"]}),e.jsx("input",{className:o,placeholder:"e.g. Matrix",value:a.brand,onChange:u=>l({...a,brand:u.target.value})})]}),e.jsxs("div",{children:[e.jsxs("label",{className:c,children:[e.jsx(Xo,{size:12})," Model"]}),e.jsx("input",{className:o,placeholder:"e.g. T7xe",value:a.model,onChange:u=>l({...a,model:u.target.value})})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsxs("label",{className:c,children:[e.jsx(Ws,{size:12})," Location (Floor Area)"]}),e.jsx("input",{className:o,placeholder:"e.g. Cardio Zone - Floor 1",value:a.location,onChange:u=>l({...a,location:u.target.value})})]}),e.jsxs("div",{children:[e.jsxs("label",{className:c,children:[e.jsx(Xe,{size:12})," Purchase Date"]}),e.jsx("input",{type:"date",className:o,value:a.purchaseDate,onChange:u=>l({...a,purchaseDate:u.target.value})})]}),e.jsxs("div",{children:[e.jsxs("label",{className:c,children:[e.jsx(Xe,{size:12})," Warranty Expiry"]}),e.jsx("input",{type:"date",className:o,value:a.warrantyExpiry,onChange:u=>l({...a,warrantyExpiry:u.target.value})})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsxs("label",{className:c,children:[e.jsx(ms,{size:12,className:"hidden"})," Status"]}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:qh.map(u=>e.jsxs("label",{className:`
                                    flex items-center justify-center p-2.5 rounded-xl border-2 cursor-pointer transition-all gap-2
                                    ${a.status===u.value?`border-${u.color}-500 bg-${u.color}-50 text-${u.color}-700`:"border-slate-100 text-slate-500"}
                                `,children:[e.jsx("input",{type:"radio",name:"status",value:u.value,className:"hidden",onChange:()=>l({...a,status:u.value})}),e.jsx("span",{className:`w-2 h-2 rounded-full bg-${u.color}-500`}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-tight",children:u.label})]},u.value))})]})]}),e.jsxs("div",{className:"flex gap-3 pt-6",children:[e.jsx("button",{type:"button",onClick:s,className:"flex-1 px-6 py-3.5 rounded-xl border-2 border-slate-100 text-slate-600 font-black uppercase tracking-wider text-xs hover:bg-slate-50 transition-all",children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex-1 px-6 py-3.5 rounded-xl bg-gradient-to-r from-violet-600 to-indigo-600 text-white font-black uppercase tracking-wider text-xs shadow-lg shadow-violet-200 hover:scale-105 active:scale-95 transition-all",children:"Add Equipment"})]})]})},KR=()=>{const[s,t]=b.useState([]),[a,l]=b.useState(!0),[i,o]=b.useState(""),[c,u]=b.useState("All"),[x,h]=b.useState(!1),[p,f]=b.useState(!1),[y,g]=b.useState(null);b.useEffect(()=>{v()},[i,c]);const v=async()=>{try{l(!0);const E={};i&&(E.search=i),c!=="All"&&(E.category=c);const w=await Ti.getAllEquipment(E);t(w)}catch(E){console.error("Failed to fetch equipment:",E),Ve.error("Failed to load equipment inventory")}finally{l(!1)}},C=async(E,w)=>{try{await Ti.updateEquipment(E,{status:w}),Ve.success("Status updated"),v()}catch{Ve.error("Failed to update status")}},N=async E=>{try{await Ti.addEquipment(E),Ve.success("Equipment added successfully"),h(!1),v()}catch{Ve.error("Failed to add equipment")}},k=async E=>{try{await Ti.reportIssue(E),Ve.success("Issue reported successfully"),f(!1),v()}catch{Ve.error("Failed to submit report")}},A=E=>qh.find(w=>w.label===E)||qh[0];return e.jsxs("div",{className:"min-h-screen bg-[#F8FAFC] pb-20",children:[e.jsx("div",{className:"bg-white border-b border-slate-200 sticky top-0 z-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-violet-600 to-indigo-600 flex items-center justify-center text-white shadow-lg shadow-violet-200",children:e.jsx(ol,{size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-black text-slate-800 tracking-tight",children:"Equipment Inventory"}),e.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Manage and track your gym facility assets"})]})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-2 bg-slate-900 text-white px-5 py-3 rounded-xl font-bold text-sm shadow-xl shadow-slate-200 hover:scale-105 active:scale-95 transition-all",children:[e.jsx(wt,{size:18,strokeWidth:3}),"Add Equipment"]})})]}),e.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(st,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"text",placeholder:"Search by name or serial number...",className:"w-full pl-11 pr-4 py-3 rounded-xl border-2 border-slate-50 bg-slate-50 focus:bg-white focus:border-violet-500 focus:ring-4 focus:ring-violet-500/5 outline-none transition-all font-medium text-slate-600",value:i,onChange:E=>o(E.target.value)})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("select",{className:"px-4 py-3 rounded-xl border-2 border-slate-50 bg-slate-50 font-bold text-sm text-slate-600 focus:border-violet-500 outline-none transition-all",value:c,onChange:E=>u(E.target.value),children:[e.jsx("option",{value:"All",children:"All Categories"}),e.jsx("option",{value:"Cardio",children:"Cardio"}),e.jsx("option",{value:"Strength",children:"Strength"}),e.jsx("option",{value:"Free Weights",children:"Free Weights"})]})})]})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-8",children:a?e.jsx("div",{className:"flex items-center justify-center p-20",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-violet-600"})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"hidden lg:block bg-white rounded-3xl shadow-sm border border-slate-200 overflow-hidden",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50/50 border-b border-slate-100",children:[e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Equipment / Brand"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Category & Location"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Warranty"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:s.map(E=>e.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-100 flex items-center justify-center text-slate-500 group-hover:scale-110 group-hover:bg-violet-100 group-hover:text-violet-600 transition-all",children:e.jsx(ol,{size:20})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-slate-800 text-sm",children:E.name}),e.jsx("p",{className:"text-[10px] text-slate-400 font-bold tracking-wider",children:E.serialNumber||"NO SERIAL"})]})]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-xs font-bold text-slate-600 bg-slate-100 px-2 py-0.5 rounded-md w-fit",children:E.category}),e.jsxs("span",{className:"text-[10px] font-medium text-slate-400 flex items-center gap-1",children:[e.jsx(Ws,{size:10})," ",E.location]})]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("p",{className:"text-xs font-bold text-slate-700",children:E.warrantyExpiry?new Date(E.warrantyExpiry).toLocaleDateString():"N/A"}),e.jsx("p",{className:"text-[10px] text-slate-400 font-medium",children:"Warranty Info"})]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsx(nx,{status:E.status,color:A(E.status).color})}),e.jsx("td",{className:"px-6 py-5 text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("select",{className:"text-[10px] font-black uppercase tracking-tight bg-slate-50 border-none rounded-lg px-2 py-1 outline-none cursor-pointer hover:bg-slate-100 transition-colors",value:E.status,onChange:w=>C(E.id,w.target.value),children:qh.map(w=>e.jsx("option",{value:w.value,children:w.label},w.value))}),e.jsx("button",{onClick:()=>{g(E),f(!0)},className:"p-2 text-red-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",title:"Report Issue",children:e.jsx(cl,{size:18})})]})})]},E.id))})]})}),e.jsx("div",{className:"lg:hidden space-y-4",children:s.map(E=>e.jsxs("div",{className:"bg-white rounded-3xl p-5 shadow-sm border border-slate-100 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-violet-50 text-violet-600 flex items-center justify-center",children:e.jsx(ol,{size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-slate-800",children:E.name}),e.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:E.serialNumber||"NO SERIAL"})]})]}),e.jsx(nx,{status:E.status,color:A(E.status).color})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 py-4 border-y border-slate-50",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Location"}),e.jsxs("p",{className:"text-xs font-bold text-slate-600 mt-1 flex items-center gap-1",children:[e.jsx(Ws,{size:12,className:"text-slate-300"})," ",E.location]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Warranty"}),e.jsxs("p",{className:"text-xs font-bold text-slate-600 mt-1 flex items-center gap-1",children:[e.jsx(Xe,{size:12,className:"text-slate-300"})," ",E.warrantyExpiry?new Date(E.warrantyExpiry).toLocaleDateString():"N/A"]})]})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsxs("button",{onClick:()=>{g(E),f(!0)},className:"flex-1 bg-red-50 text-red-600 py-3 rounded-xl font-black text-[10px] uppercase tracking-wider flex items-center justify-center gap-2",children:[e.jsx(cl,{size:14})," Report Issue"]}),e.jsx("button",{className:"w-12 h-12 bg-slate-50 text-slate-400 rounded-xl flex items-center justify-center",children:e.jsx(jn,{size:20})})]})]},E.id))})]})}),e.jsx(rt,{isOpen:x,onClose:()=>h(!1),title:"Add New Equipment",children:e.jsx(XR,{onClose:()=>h(!1),onAdd:N})}),e.jsx(rt,{isOpen:p,onClose:()=>f(!1),title:"Report Machine Issue",children:e.jsx(YR,{equipment:y,onClose:()=>f(!1),onSubmit:k})})]})},JR=()=>{const[s,t]=b.useState([]),[a,l]=b.useState(!0),[i,o]=b.useState("All"),[c,u]=b.useState(""),[x,h]=b.useState(null),[p,f]=b.useState(!1),y=["All","Open","In Progress","Completed","Critical"];b.useEffect(()=>{g()},[i]);const g=async()=>{try{l(!0);const k={};i!=="All"&&(i==="Critical"?k.priority="Critical":k.status=i);const A=await Ti.getMaintenanceRequests(k);t(A)}catch(k){console.error("Failed to fetch maintenance requests:",k),Ve.error("Failed to load maintenance tickets")}finally{l(!1)}},v=async(k,A)=>{try{await Ti.updateMaintenanceStatus(k,A),Ve.success("Ticket status updated"),g()}catch{Ve.error("Failed to update ticket status")}},C=k=>dN.find(A=>A.value===k)?.color||"slate",N=k=>vh.find(A=>A.label===k)||vh[0];return e.jsxs("div",{className:"min-h-screen bg-[#F8FAFC] pb-20",children:[e.jsx("div",{className:"bg-white border-b border-slate-200 sticky top-0 z-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-amber-500 to-orange-600 flex items-center justify-center text-white shadow-lg shadow-orange-200 shrink-0",children:e.jsx(Xl,{size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-black text-slate-800 tracking-tight",children:"Maintenance Requests"}),e.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Track and resolve equipment service tickets"})]})]})}),e.jsx("div",{className:"flex bg-slate-100 p-1 rounded-xl overflow-x-auto no-scrollbar",children:y.map(k=>e.jsx("button",{onClick:()=>o(k),className:`
                                        px-4 py-2 rounded-lg text-xs font-black uppercase tracking-wider transition-all whitespace-nowrap
                                        ${i===k?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-700"}
                                    `,children:k},k))})]}),e.jsxs("div",{className:"mt-8 relative",children:[e.jsx(st,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"text",placeholder:"Find by machine or ticket ID...",className:"w-full pl-11 pr-4 py-3 rounded-xl border-2 border-slate-50 bg-slate-50 focus:bg-white focus:border-amber-500 focus:ring-4 focus:ring-amber-500/5 outline-none transition-all font-medium text-slate-600",value:c,onChange:k=>u(k.target.value)})]})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-8",children:a?e.jsx("div",{className:"flex items-center justify-center p-20",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-amber-600"})}):e.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-slate-200 overflow-hidden",children:[e.jsx("div",{className:"grid grid-cols-1 gap-4 md:hidden p-4",children:s.map(k=>e.jsxs("div",{className:`bg-white p-4 rounded-xl border border-slate-100 shadow-sm relative overflow-hidden ${k.priority==="Critical"?"border-l-4 border-l-red-500":""}`,onClick:()=>{h(k),f(!0)},children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${k.priority==="Critical"?"bg-red-100 text-red-600":"bg-amber-100 text-amber-600"}`,children:e.jsx(cl,{size:18})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-slate-800 text-sm",children:k.equipment?.name}),e.jsxs("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-wider",children:["#T-",k.id]})]})]}),e.jsx(nx,{status:k.status,color:N(k.status).color})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-y-2 text-xs mb-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-400 font-bold uppercase text-[10px] tracking-wider",children:"Priority"}),e.jsxs("span",{className:`inline-flex items-center gap-1.5 mt-1 px-2 py-0.5 rounded-md bg-${C(k.priority)}-50 text-${C(k.priority)}-700 font-bold border border-${C(k.priority)}-100`,children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full bg-${C(k.priority)}-500`}),k.priority]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-400 font-bold uppercase text-[10px] tracking-wider",children:"Date"}),e.jsx("p",{className:"font-bold text-slate-700 mt-1",children:new Date(k.createdAt).toLocaleDateString()})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-slate-50",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-slate-100 flex items-center justify-center text-[10px] font-bold text-slate-500",children:"S"}),e.jsx("span",{className:"text-xs font-medium text-slate-500",children:"System"})]}),e.jsx("div",{onClick:A=>A.stopPropagation(),children:e.jsx("select",{className:"text-[10px] font-black uppercase tracking-tight bg-slate-50 border-none rounded-lg px-3 py-1.5 outline-none cursor-pointer hover:bg-slate-100 transition-colors",value:k.status,onChange:A=>v(k.id,A.target.value),children:vh.map(A=>e.jsx("option",{value:A.value,children:A.label},A.value))})})]})]},k.id))}),e.jsx("div",{className:"hidden md:block overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50/50 border-b border-slate-100",children:[e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Ticket ID"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Equipment"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Priority"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Date Reported"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:s.map(k=>e.jsxs("tr",{className:`hover:bg-slate-50/50 transition-colors group cursor-pointer ${k.priority==="Critical"?"bg-red-50/30":""}`,onClick:()=>{h(k),f(!0)},children:[e.jsx("td",{className:"px-6 py-5",children:e.jsxs("span",{className:"text-xs font-black text-slate-900 group-hover:text-amber-600 transition-colors uppercase",children:["#T-",k.id]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${k.priority==="Critical"?"bg-red-100 text-red-600":"bg-amber-100 text-amber-600"}`,children:e.jsx(cl,{size:16})}),e.jsx("span",{className:"font-bold text-slate-800 text-sm",children:k.equipment?.name})]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-lg bg-${C(k.priority)}-50 text-${C(k.priority)}-700 text-[10px] font-black uppercase tracking-wider border border-${C(k.priority)}-100`,children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full bg-${C(k.priority)}-500`}),k.priority]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("p",{className:"text-xs font-bold text-slate-700",children:"Staff"}),e.jsx("p",{className:"text-[10px] text-slate-400 font-medium",children:new Date(k.createdAt).toLocaleDateString()})]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsx(nx,{status:k.status,color:N(k.status).color})}),e.jsx("td",{className:"px-6 py-5 text-right",onClick:A=>A.stopPropagation(),children:e.jsx("select",{className:"text-[10px] font-black uppercase tracking-tight bg-slate-50 border-none rounded-lg px-3 py-1.5 outline-none cursor-pointer hover:bg-slate-100 transition-colors",value:k.status,onChange:A=>v(k.id,A.target.value),children:vh.map(A=>e.jsx("option",{value:A.value,children:A.label},A.value))})})]},k.id))})]})}),s.length===0&&e.jsxs("div",{className:"p-20 flex flex-col items-center justify-center text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-3xl bg-slate-50 flex items-center justify-center text-slate-300 mb-4",children:e.jsx(Zt,{size:32})}),e.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"No requests found"}),e.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Great job! All machines seem to be in good shape."})]})]})}),e.jsx(rt,{isOpen:p,onClose:()=>f(!1),title:`Ticket #T-${x?.id}`,children:x&&e.jsxs("div",{className:"space-y-8",children:[e.jsx("section",{className:"space-y-4",children:e.jsxs("div",{className:"p-5 rounded-2xl bg-slate-50 border border-slate-100 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-black text-slate-400 uppercase tracking-widest",children:"Issue Reported"}),e.jsx("p",{className:"text-lg font-black text-slate-800 mt-1",children:x.issue})]}),e.jsx(nx,{status:x.status,color:N(x.status).color})]}),e.jsx("p",{className:"text-sm text-slate-600 font-medium leading-relaxed",children:x.issue})]})}),e.jsxs("section",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 rounded-xl border-2 border-slate-50",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Equipment"}),e.jsx("p",{className:"text-sm font-bold text-slate-800 mt-1",children:x.equipment?.name})]}),e.jsxs("div",{className:"p-4 rounded-xl border-2 border-slate-50",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Priority"}),e.jsx("p",{className:`text-sm font-bold text-${C(x.priority)}-500 mt-1`,children:x.priority})]}),e.jsxs("div",{className:"p-4 rounded-xl border-2 border-slate-50",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Reported By"}),e.jsx("p",{className:"text-sm font-bold text-slate-800 mt-1",children:"Staff"})]}),e.jsxs("div",{className:"p-4 rounded-xl border-2 border-slate-50",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Date Reported"}),e.jsx("p",{className:"text-sm font-bold text-slate-800 mt-1",children:new Date(x.createdAt).toLocaleDateString()})]})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsxs("h4",{className:"text-xs font-black text-slate-900 uppercase tracking-widest flex items-center gap-2",children:[e.jsx(lt,{size:14,className:"text-slate-400"})," Assignment & Progress"]}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-violet-50 border border-violet-100",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-white flex items-center justify-center text-violet-600 shadow-sm font-bold uppercase text-xs",children:x.assignedTo.split("")[0]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-violet-400 uppercase tracking-wider",children:"Assigned To"}),e.jsx("p",{className:"text-sm font-bold text-violet-900",children:x.assignedTo})]})]}),e.jsx("button",{className:"text-[10px] font-black uppercase text-violet-600 hover:underline",children:"Reassign"})]})})]}),e.jsxs("div",{className:"flex gap-3 pt-6 border-t border-slate-100",children:[e.jsx("button",{className:"flex-1 bg-slate-900 text-white py-4 rounded-xl font-black text-xs uppercase tracking-widest shadow-xl shadow-slate-200",children:"Update Status"}),e.jsx("button",{className:"px-6 py-4 rounded-xl border-2 border-slate-100 text-slate-400 hover:text-red-500 hover:border-red-100 transition-all",children:e.jsx(bs,{size:20})})]})]})})]})},QR=()=>{const[s,t]=b.useState([]),[a,l]=b.useState(!0),[i,o]=b.useState("All"),[c,u]=b.useState(""),[x,h]=b.useState(null),p=["All","Pending","In Progress","Completed","Cancelled"];b.useEffect(()=>{f()},[i]);const f=async()=>{try{l(!0);const R={};i!=="All"&&(R.status=i);const T=await Ti.getMaintenanceRequests(R);t(T)}catch(R){console.error("Failed to fetch service history:",R),Ve.error("Failed to load service history")}finally{l(!1)}},y=async(R,T)=>{try{await Ti.updateMaintenanceStatus(R,T),Ve.success("Status updated successfully"),f(),x?.id===R&&h(O=>({...O,status:T}))}catch{Ve.error("Failed to update status")}},g=s.filter(R=>{const T=R.equipment?.name?.toLowerCase()||"",O=R.issue?.toLowerCase()||"",W=c.toLowerCase();return T.includes(W)||O.includes(W)||`#T-${R.id}`.toLowerCase().includes(W)}),v=R=>{switch(R){case"Completed":return e.jsx(Zt,{size:14,className:"text-emerald-500"});case"In Progress":return e.jsx(Ze,{size:14,className:"text-amber-500"});case"Cancelled":return e.jsx(Vl,{size:14,className:"text-red-500"});default:return e.jsx(Ze,{size:14,className:"text-blue-500"})}},C=R=>{switch(R){case"Completed":return"bg-emerald-50 text-emerald-700 border-emerald-200";case"In Progress":return"bg-amber-50 text-amber-700 border-amber-200";case"Cancelled":return"bg-red-50 text-red-700 border-red-200";case"Pending":return"bg-blue-50 text-blue-700 border-blue-200";default:return"bg-slate-50 text-slate-700 border-slate-200"}},N=R=>{switch(R){case"Critical":return"bg-red-100 text-red-700 border-red-200";case"High":return"bg-orange-100 text-orange-700 border-orange-200";case"Medium":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"Low":return"bg-green-100 text-green-700 border-green-200";default:return"bg-slate-100 text-slate-700 border-slate-200"}},k=s.length,A=s.filter(R=>R.status==="Completed").length,E=s.filter(R=>R.status==="In Progress").length,w=s.filter(R=>R.status==="Pending").length;return e.jsxs("div",{className:"min-h-screen bg-[#F8FAFC] pb-20",children:[e.jsx("div",{className:"bg-white border-b border-slate-200 sticky top-0 z-20",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-emerald-500 to-teal-600 flex items-center justify-center text-white shadow-lg shadow-emerald-200 shrink-0",children:e.jsx(wl,{size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-black text-slate-800 tracking-tight",children:"Service History"}),e.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Complete log of all equipment maintenance and service records"})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[e.jsxs("div",{className:"bg-slate-50 rounded-xl p-3 border border-slate-100",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Total Records"}),e.jsx("p",{className:"text-2xl font-black text-slate-800 mt-1",children:k})]}),e.jsxs("div",{className:"bg-emerald-50 rounded-xl p-3 border border-emerald-100",children:[e.jsx("p",{className:"text-[10px] font-black text-emerald-500 uppercase tracking-widest",children:"Completed"}),e.jsx("p",{className:"text-2xl font-black text-emerald-700 mt-1",children:A})]}),e.jsxs("div",{className:"bg-amber-50 rounded-xl p-3 border border-amber-100",children:[e.jsx("p",{className:"text-[10px] font-black text-amber-500 uppercase tracking-widest",children:"In Progress"}),e.jsx("p",{className:"text-2xl font-black text-amber-700 mt-1",children:E})]}),e.jsxs("div",{className:"bg-blue-50 rounded-xl p-3 border border-blue-100",children:[e.jsx("p",{className:"text-[10px] font-black text-blue-500 uppercase tracking-widest",children:"Pending"}),e.jsx("p",{className:"text-2xl font-black text-blue-700 mt-1",children:w})]})]}),e.jsx("div",{className:"flex bg-slate-100 p-1 rounded-xl overflow-x-auto no-scrollbar",children:p.map(R=>e.jsx("button",{onClick:()=>o(R),className:`
                                        px-4 py-2 rounded-lg text-xs font-black uppercase tracking-wider transition-all whitespace-nowrap
                                        ${i===R?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-700"}
                                    `,children:R},R))}),e.jsxs("div",{className:"relative",children:[e.jsx(st,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"text",placeholder:"Search by equipment name, issue, or ticket ID...",className:"w-full pl-11 pr-4 py-3 rounded-xl border-2 border-slate-50 bg-slate-50 focus:bg-white focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/5 outline-none transition-all font-medium text-slate-600",value:c,onChange:R=>u(R.target.value)})]})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-8",children:a?e.jsx("div",{className:"flex items-center justify-center p-20",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600"})}):e.jsx(e.Fragment,{children:g.length===0?e.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-slate-200 p-20 flex flex-col items-center justify-center text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-3xl bg-slate-50 flex items-center justify-center text-slate-300 mb-4",children:e.jsx(Zt,{size:32})}),e.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"No service records found"}),e.jsx("p",{className:"text-slate-400 text-sm mt-1",children:i!=="All"?`No ${i.toLowerCase()} records at this time.`:"All equipment is running smoothly. No service history yet."})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"hidden lg:block bg-white rounded-3xl shadow-sm border border-slate-200 overflow-hidden",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50/50 border-b border-slate-100",children:[e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Ticket"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Equipment"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Issue"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Priority"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Date"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:g.map(R=>e.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group cursor-pointer",onClick:()=>h(R),children:[e.jsx("td",{className:"px-6 py-5",children:e.jsxs("span",{className:"text-xs font-black text-slate-900 group-hover:text-emerald-600 transition-colors uppercase",children:["#T-",R.id]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-slate-100 flex items-center justify-center text-slate-500 group-hover:bg-emerald-100 group-hover:text-emerald-600 transition-all",children:e.jsx(ol,{size:16})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-slate-800 text-sm",children:R.equipment?.name||"Unknown"}),e.jsx("p",{className:"text-[10px] text-slate-400 font-bold",children:R.equipment?.category||""})]})]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsx("p",{className:"text-xs font-semibold text-slate-600 max-w-[200px] truncate",children:R.issue})}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-lg text-[10px] font-black uppercase tracking-wider border ${N(R.priority)}`,children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-current opacity-60"}),R.priority]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex items-center gap-1.5 text-xs font-bold text-slate-600",children:[e.jsx(Xe,{size:12,className:"text-slate-400"}),new Date(R.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-lg text-[10px] font-black uppercase tracking-wider border ${C(R.status)}`,children:[v(R.status),R.status]})}),e.jsx("td",{className:"px-6 py-5 text-right",onClick:T=>T.stopPropagation(),children:e.jsxs("select",{className:"text-[10px] font-black uppercase tracking-tight bg-slate-50 border-none rounded-lg px-3 py-1.5 outline-none cursor-pointer hover:bg-slate-100 transition-colors",value:R.status,onChange:T=>y(R.id,T.target.value),children:[e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"In Progress",children:"In Progress"}),e.jsx("option",{value:"Completed",children:"Completed"}),e.jsx("option",{value:"Cancelled",children:"Cancelled"})]})})]},R.id))})]})}),e.jsx("div",{className:"lg:hidden space-y-4",children:g.map(R=>e.jsxs("div",{className:`bg-white rounded-2xl p-5 shadow-sm border border-slate-100 space-y-4 cursor-pointer active:scale-[0.98] transition-all ${R.priority==="Critical"?"border-l-4 border-l-red-500":""}`,onClick:()=>h(R),children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-emerald-50 text-emerald-600 flex items-center justify-center",children:e.jsx(Xl,{size:18})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-slate-800 text-sm",children:R.equipment?.name||"Unknown"}),e.jsxs("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-wider",children:["#T-",R.id]})]})]}),e.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-lg text-[10px] font-black uppercase tracking-wider border ${C(R.status)}`,children:[v(R.status),R.status]})]}),e.jsx("p",{className:"text-xs text-slate-600 font-medium line-clamp-2",children:R.issue}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 py-3 border-y border-slate-50",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Priority"}),e.jsx("span",{className:`inline-flex items-center gap-1.5 mt-1 px-2 py-0.5 rounded-md text-[10px] font-bold border ${N(R.priority)}`,children:R.priority})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Date"}),e.jsxs("p",{className:"text-xs font-bold text-slate-700 mt-1 flex items-center gap-1",children:[e.jsx(Xe,{size:12,className:"text-slate-300"}),new Date(R.createdAt).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-1",onClick:T=>T.stopPropagation(),children:[e.jsxs("select",{className:"text-[10px] font-black uppercase tracking-tight bg-slate-50 border-none rounded-lg px-3 py-1.5 outline-none cursor-pointer hover:bg-slate-100 transition-colors",value:R.status,onChange:T=>y(R.id,T.target.value),children:[e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"In Progress",children:"In Progress"}),e.jsx("option",{value:"Completed",children:"Completed"}),e.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),e.jsxs("button",{onClick:T=>{T.stopPropagation(),h(R)},className:"text-[10px] font-bold text-emerald-600 hover:underline flex items-center gap-1",children:["Details ",e.jsx(bs,{size:12})]})]})]},R.id))})]})})}),x&&e.jsx("div",{className:"fixed inset-0 z-50 overflow-hidden",role:"dialog","aria-modal":"true",children:e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-slate-900/40 backdrop-blur-[2px] transition-opacity duration-300",onClick:()=>h(null)}),e.jsx("div",{className:"fixed inset-y-0 right-0 flex max-w-full pl-0 sm:pl-10",children:e.jsx("div",{className:"relative w-screen sm:max-w-[440px] transform transition-transform duration-300 ease-in-out shadow-2xl",children:e.jsxs("div",{className:"flex h-full flex-col bg-white overflow-y-auto shadow-2xl",children:[e.jsxs("div",{className:"px-6 py-8 bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white relative",children:[e.jsx("button",{onClick:()=>h(null),className:"absolute top-4 right-4 p-2 rounded-xl bg-white/10 text-white hover:bg-white/20 transition-all",children:e.jsx(Vl,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-emerald-500/20 flex items-center justify-center border border-emerald-500/30 text-emerald-400",children:e.jsx(Xl,{size:24})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-black tracking-tight",children:"Service Record"}),e.jsxs("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-widest",children:["Ticket #T-",x.id]})]})]})]}),e.jsxs("div",{className:"flex-1 p-6 space-y-6",children:[e.jsx("div",{className:"p-5 rounded-2xl bg-slate-50 border border-slate-100 space-y-3",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Issue Reported"}),e.jsx("p",{className:"text-base font-black text-slate-800 mt-1",children:x.issue})]}),e.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-1 rounded-lg text-[10px] font-black uppercase border ${C(x.status)}`,children:[v(x.status),x.status]})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 rounded-xl border-2 border-slate-50",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Equipment"}),e.jsx("p",{className:"text-sm font-bold text-slate-800 mt-1",children:x.equipment?.name||"Unknown"})]}),e.jsxs("div",{className:"p-4 rounded-xl border-2 border-slate-50",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Category"}),e.jsx("p",{className:"text-sm font-bold text-slate-800 mt-1",children:x.equipment?.category||"N/A"})]}),e.jsxs("div",{className:"p-4 rounded-xl border-2 border-slate-50",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Priority"}),e.jsx("span",{className:`inline-flex items-center gap-1 mt-1 px-2 py-0.5 rounded-md text-[10px] font-bold border ${N(x.priority)}`,children:x.priority})]}),e.jsxs("div",{className:"p-4 rounded-xl border-2 border-slate-50",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Date Reported"}),e.jsx("p",{className:"text-sm font-bold text-slate-800 mt-1",children:new Date(x.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})]}),x.equipment&&e.jsxs("div",{className:"p-4 rounded-xl bg-emerald-50 border border-emerald-100 space-y-3",children:[e.jsxs("p",{className:"text-xs font-black text-emerald-700 uppercase tracking-widest flex items-center gap-2",children:[e.jsx(ol,{size:14})," Equipment Details"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-emerald-500",children:"Brand"}),e.jsx("p",{className:"text-xs font-bold text-emerald-900",children:x.equipment.brand||"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-emerald-500",children:"Location"}),e.jsx("p",{className:"text-xs font-bold text-emerald-900",children:x.equipment.location||"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-emerald-500",children:"Serial Number"}),e.jsx("p",{className:"text-xs font-bold text-emerald-900",children:x.equipment.serialNumber||"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-emerald-500",children:"Equipment Status"}),e.jsx("p",{className:"text-xs font-bold text-emerald-900",children:x.equipment.status||"N/A"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-xs font-black text-slate-900 uppercase tracking-widest",children:"Update Status"}),e.jsxs("select",{className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-100 rounded-xl text-sm font-bold text-slate-700 focus:outline-none focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/10 transition-all cursor-pointer",value:x.status,onChange:R=>y(x.id,R.target.value),children:[e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"In Progress",children:"In Progress"}),e.jsx("option",{value:"Completed",children:"Completed"}),e.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]})]}),e.jsx("div",{className:"px-6 py-4 border-t border-slate-100",children:e.jsx("button",{onClick:()=>h(null),className:"w-full bg-slate-900 text-white py-4 rounded-xl font-black text-xs uppercase tracking-widest shadow-xl shadow-slate-200 hover:bg-slate-800 transition-colors",children:"Close"})})]})})})]})})]})},ZR=()=>{const s=Ht(),[t,a]=b.useState(""),[l,i]=b.useState(""),o=["","January","February","March","April","May","June","July","August","September","October","November","December"],c=new Date,u=`${o[c.getMonth()+1]} ${c.getFullYear()}`,[x,h]=b.useState(u),[p,f]=b.useState([]),[y,g]=b.useState([]),[v,C]=b.useState(!0),[N,k]=b.useState(!1),[A,E]=b.useState(null),[w,R]=b.useState(0),[T,O]=b.useState(0);b.useEffect(()=>{(async()=>{try{const[ce,pe]=await Promise.all([IN(),FN()]);g(pe);const we=ce.map(Ee=>({id:Ee.id,staffId:Ee.staffId,name:Ee.staffName,baseSalary:Number(Ee.amount)-Number(Ee.incentives||0)+Number(Ee.deductions||0),attendanceRate:100,commission:0,incentives:Number(Ee.incentives||0),bonus:0,deductions:Number(Ee.deductions||0),netPay:Number(Ee.amount),status:Ee.status,month:`${o[Ee.month]} ${Ee.year}`,paymentDate:Ee.status==="Paid"?"Processed":null}));f(we)}catch(ce){console.error("Error loading payroll data:",ce)}finally{C(!1)}})()},[]);const W=y.map(ae=>{const ce=p.find(pe=>pe.staffId===ae.id&&pe.month===x);return ce||{id:`PREVIEW-${ae.id}`,staffId:ae.id,name:ae.name,baseSalary:Number(ae.baseSalary||2e4),attendanceRate:100,commission:0,incentives:0,bonus:0,deductions:0,netPay:Number(ae.baseSalary||2e4),status:"Not Generated",month:x,paymentDate:null}}),B=W.find(ae=>ae.id===A);b.useEffect(()=>{B&&(R(B.bonus),O(B.deductions))},[A,x,B]);const z=W.filter(ae=>{const ce=ae.name?.toLowerCase().includes(t.toLowerCase()),pe=l===""||ae.status===l;return ce&&pe}),P=p.filter(ae=>ae.month===x),F=P.reduce((ae,ce)=>ae+ce.netPay,0),G=P.filter(ae=>ae.status==="Paid").reduce((ae,ce)=>ae+ce.netPay,0),Y=P.filter(ae=>ae.status==="Pending").reduce((ae,ce)=>ae+ce.netPay,0),me=P.filter(ae=>ae.status==="Paid").length,H=P.filter(ae=>ae.status==="Pending").length,V=P.length>0?[...P].sort((ae,ce)=>ce.netPay-ae.netPay)[0]:null,$=P.reduce((ae,ce)=>ae+Number(ce.incentives||0)+Number(ce.commission||0),0),le=P.reduce((ae,ce)=>ae+Number(ce.deductions||0),0),ge=async ae=>{try{await qE(ae,{status:"Paid"}),f(ce=>ce.map(pe=>pe.id===ae?{...pe,status:"Paid",paymentDate:"Processed"}:pe)),alert("Payroll marked as Paid!")}catch(ce){console.error("Error updating status:",ce),alert("Failed to update status")}},te=ae=>{E(ae.id),k(!0)},q=()=>{k(!1),setTimeout(()=>E(null),300)},Q=ae=>ae==="Paid"?"emerald":"amber",K=ae=>{try{const ce=new gt,pe=localStorage.getItem("userData");let we="Gym CRM";if(pe){const Nt=JSON.parse(pe);we=Nt?.branchName||Nt?.tenant?.name||"GYM CRM"}const Ee=[124,58,237],Be=[30,41,59],Je=[5,150,105],tt=[100,116,139],he=[226,232,240];ce.setFillColor(...Ee),ce.rect(0,0,210,40,"F"),ce.setFontSize(24),ce.setTextColor(255,255,255),ce.setFont("helvetica","bold"),ce.text(we.toUpperCase(),15,25),ce.setFontSize(10),ce.setFont("helvetica","normal"),ce.setTextColor(255,255,255,.8),ce.text("MONTHLY SALARY SLIP",195,25,{align:"right"}),ce.setFillColor(248,250,252),ce.roundedRect(15,50,180,35,3,3,"F"),ce.setFontSize(9),ce.setTextColor(...tt),ce.text("EMPLOYEE NAME",25,60),ce.setFontSize(14),ce.setTextColor(...Be),ce.setFont("helvetica","bold"),ce.text(ae.name.toUpperCase(),25,68),ce.setFontSize(9),ce.setTextColor(...tt),ce.setFont("helvetica","normal"),ce.text("PAYMENT MONTH",100,60),ce.setFontSize(11),ce.setTextColor(...Be),ce.setFont("helvetica","bold"),ce.text(ae.month.toUpperCase(),100,68),ce.setFontSize(9),ce.setTextColor(...tt),ce.setFont("helvetica","normal"),ce.text("STATUS",160,60),ce.setFontSize(11),ce.setTextColor(...ae.status==="Paid"?Je:[217,119,6]),ce.text(ae.status.toUpperCase(),160,68);const re=[["Basic Salary",`Rs. ${ae.baseSalary.toLocaleString()}`],["Incentives",`+ Rs. ${ae.incentives.toLocaleString()}`],["Commission",`+ Rs. ${ae.commission.toLocaleString()}`]],et=[["Tax & Other Deductions",`- Rs. ${ae.deductions.toLocaleString()}`]];Gc(ce,{startY:95,head:[["EARNINGS DESCRIPTION","AMOUNT"]],body:re,theme:"striped",headStyles:{fillColor:[241,245,249],textColor:Be,fontStyle:"bold"},styles:{fontSize:10,cellPadding:5},columnStyles:{1:{halign:"right"}}}),Gc(ce,{startY:ce.lastAutoTable.finalY+5,head:[["DEDUCTIONS DESCRIPTION","AMOUNT"]],body:et,theme:"striped",headStyles:{fillColor:[254,242,242],textColor:[153,27,27],fontStyle:"bold"},styles:{fontSize:10,cellPadding:5},columnStyles:{1:{halign:"right"}}});const Tt=ce.lastAutoTable.finalY+15;ce.setFillColor(...Ee),ce.roundedRect(120,Tt,75,25,3,3,"F"),ce.setFontSize(10),ce.setTextColor(255,255,255),ce.setFont("helvetica","normal"),ce.text("NET PAYABLE",128,Tt+10),ce.setFontSize(16),ce.setFont("helvetica","bold"),ce.text(`Rs. ${ae.netPay.toLocaleString()}`,128,Tt+18),ce.setFontSize(8),ce.setTextColor(...tt),ce.setFont("helvetica","italic"),ce.text("This is a computer-generated document and does not require a physical signature.",105,280,{align:"center"}),ce.text(`Generated on ${new Date().toLocaleString()}`,105,285,{align:"center"}),ce.save(`Payslip_${ae.name.replace(/\s+/g,"_")}_${ae.month.replace(/\s+/g,"_")}.pdf`)}catch(ce){console.error("Error generating PDF:",ce),alert("Failed to generate PDF. Please try again.")}},oe=[...new Set(p.map(ae=>ae.month))].sort((ae,ce)=>{const pe=new Date(ae);return new Date(ce)-pe});return!oe.includes(x)&&x===u&&oe.push(u),b.useEffect(()=>{oe.length>0&&!oe.includes(x)&&h(oe[0])},[oe]),e.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6 pb-12 min-h-screen",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent mb-2 flex items-center gap-2",children:[e.jsx(Hs,{className:"text-violet-600",size:24}),"Payroll Management"]}),e.jsx("p",{className:"text-slate-600 text-xs sm:text-sm",children:"View and process monthly staff salaries"})]}),e.jsxs("button",{onClick:()=>s("/manager/payroll/create"),className:"flex items-center gap-2 px-4 py-2 bg-violet-600 text-white rounded-xl text-sm font-bold hover:bg-violet-700 transition-all shadow-lg shadow-violet-100",children:[e.jsx(Fw,{size:18}),"Create Payroll"]})]}),e.jsxs("div",{className:"relative group w-full sm:w-64",children:[e.jsx(Xe,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-violet-500 z-10"}),e.jsx("select",{value:x,onChange:ae=>h(ae.target.value),className:"w-full pl-10 pr-10 py-2.5 bg-white border-2 border-slate-100 rounded-xl text-sm font-bold text-slate-700 shadow-sm focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all duration-300 appearance-none cursor-pointer",children:oe.length>0?oe.map(ae=>e.jsx("option",{value:ae,children:ae},ae)):e.jsx("option",{value:x,children:x})})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[e.jsxs("div",{className:"group relative overflow-hidden rounded-xl sm:rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105 hover:-translate-y-1",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-600 via-purple-600 to-fuchsia-600"}),e.jsxs("div",{className:"relative p-4 sm:p-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-violet-200 font-bold text-[10px] sm:text-xs uppercase tracking-wider",children:"Total Payroll Cost"}),e.jsx(Yl,{className:"text-violet-200 opacity-50",size:20})]}),e.jsxs("div",{className:"text-2xl sm:text-3xl font-black mb-1",children:["",F.toLocaleString()]}),e.jsxs("div",{className:"text-violet-200 text-xs sm:text-sm",children:["For ",x]})]})]}),e.jsxs("div",{className:"group bg-white rounded-xl sm:rounded-2xl p-4 sm:p-6 shadow-lg border border-slate-100 hover:shadow-xl hover:scale-105 hover:-translate-y-1 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-slate-500 font-bold text-[10px] sm:text-xs uppercase tracking-wider",children:"Paid"}),e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg sm:rounded-xl bg-gradient-to-br from-emerald-500 to-emerald-600 flex items-center justify-center text-white shadow-md group-hover:scale-110 group-hover:rotate-6 transition-all duration-300",children:e.jsx(Qt,{size:16,className:"sm:w-5 sm:h-5"})})]}),e.jsxs("div",{className:"text-2xl sm:text-3xl font-black text-emerald-600 mb-1",children:["",G.toLocaleString()]}),e.jsxs("div",{className:"text-slate-500 text-xs sm:text-sm",children:[me," Staff Members"]})]}),e.jsxs("div",{className:"group bg-white rounded-xl sm:rounded-2xl p-4 sm:p-6 shadow-lg border border-slate-100 hover:shadow-xl hover:scale-105 hover:-translate-y-1 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-slate-500 font-bold text-[10px] sm:text-xs uppercase tracking-wider",children:"Pending"}),e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg sm:rounded-xl bg-gradient-to-br from-orange-500 to-orange-600 flex items-center justify-center text-white shadow-md group-hover:scale-110 group-hover:rotate-6 transition-all duration-300",children:e.jsx(Ze,{size:16,className:"sm:w-5 sm:h-5"})})]}),e.jsxs("div",{className:"text-2xl sm:text-3xl font-black text-orange-600 mb-1",children:["",Y.toLocaleString()]}),e.jsxs("div",{className:"text-slate-500 text-xs sm:text-sm",children:[H," Staff Members"]})]}),e.jsxs("div",{className:"group bg-white rounded-xl sm:rounded-2xl p-4 sm:p-6 shadow-lg border border-slate-100 hover:shadow-xl hover:scale-105 hover:-translate-y-1 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-slate-500 font-bold text-[10px] sm:text-xs uppercase tracking-wider",children:"Total Staff"}),e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg sm:rounded-xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-md group-hover:scale-110 group-hover:rotate-6 transition-all duration-300",children:e.jsx(Pt,{size:16,className:"sm:w-5 sm:h-5"})})]}),e.jsx("div",{className:"text-2xl sm:text-3xl font-black text-slate-900 mb-1",children:y.length}),e.jsxs("div",{className:"text-slate-500 text-xs sm:text-sm",children:[P.length," Created Payrolls"]})]})]}),e.jsxs("div",{className:"mb-6 sm:mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4 px-1",children:[e.jsx(Qs,{className:"text-violet-600",size:20}),e.jsx("h2",{className:"text-lg font-black text-slate-800 tracking-tight uppercase",children:"Monthly Analytics"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl p-5 border border-slate-100 shadow-lg relative overflow-hidden group hover:scale-[1.02] transition-all duration-300",children:[e.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:scale-110 transition-transform duration-500",children:e.jsx(Qs,{size:64,className:"text-violet-600"})}),e.jsx("div",{className:"relative z-10 text-slate-400 text-xs font-black uppercase tracking-widest mb-3",children:"Highest Paid"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-violet-100 flex items-center justify-center text-violet-600 font-black text-lg border border-violet-200",children:V?.name?V.name.charAt(0):"?"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-black text-slate-900 leading-tight",children:V?.name||"N/A"}),e.jsxs("div",{className:"text-violet-600 font-bold text-sm mt-0.5",children:["",V?.netPay?.toLocaleString()||"0"]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-5 border border-slate-100 shadow-lg relative overflow-hidden group hover:scale-[1.02] transition-all duration-300",children:[e.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:scale-110 transition-transform duration-500",children:e.jsx(Qs,{size:64,className:"text-emerald-600"})}),e.jsx("div",{className:"text-slate-400 text-xs font-black uppercase tracking-widest mb-2",children:"Total Incentives"}),e.jsxs("div",{className:"text-3xl font-black text-emerald-600 mb-1",children:["",$.toLocaleString()]}),e.jsxs("div",{className:"text-slate-500 text-[10px] font-bold uppercase tracking-wider",children:["For ",x]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-5 border border-slate-100 shadow-lg relative overflow-hidden group hover:scale-[1.02] transition-all duration-300",children:[e.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:scale-110 transition-transform duration-500",children:e.jsx(Qs,{size:64,className:"text-red-600"})}),e.jsx("div",{className:"text-slate-400 text-xs font-black uppercase tracking-widest mb-2",children:"Total Deductions"}),e.jsxs("div",{className:"text-3xl font-black text-red-600 mb-1",children:["",le.toLocaleString()]}),e.jsxs("div",{className:"text-slate-500 text-[10px] font-bold uppercase tracking-wider",children:["For ",x]})]})]})]}),e.jsx("div",{className:"mb-4 sm:mb-6 bg-white/60 backdrop-blur-md rounded-xl shadow-lg border border-white/50 p-4 sm:p-5 hover:shadow-xl transition-all duration-300",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"relative group",children:[e.jsx(st,{size:18,className:"absolute left-3 sm:left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 group-focus-within:scale-110 transition-all duration-300"}),e.jsx("input",{type:"text",value:t,onChange:ae=>a(ae.target.value),placeholder:"Search by employee name...",className:"w-full pl-10 sm:pl-12 pr-4 py-2.5 sm:py-3 bg-white/80 border-2 border-slate-200 rounded-lg sm:rounded-xl text-xs sm:text-sm focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 focus:bg-white transition-all duration-300 hover:border-slate-300"})]}),e.jsxs("div",{className:"relative group",children:[e.jsx(ks,{size:18,className:"absolute left-3 sm:left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 group-focus-within:scale-110 transition-all duration-300 pointer-events-none z-10"}),e.jsxs("select",{value:l,onChange:ae=>i(ae.target.value),className:"w-full pl-10 sm:pl-12 pr-4 py-2.5 sm:py-3 bg-white/80 border-2 border-slate-200 rounded-lg sm:rounded-xl text-xs sm:text-sm focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 focus:bg-white transition-all duration-300 hover:border-slate-300 appearance-none cursor-pointer",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"Paid",children:"Paid"}),e.jsx("option",{value:"Pending",children:"Pending"})]})]})]})}),e.jsx("div",{className:"md:hidden space-y-3 sm:space-y-4 mb-6",children:v?e.jsx("div",{className:"text-center py-10 font-bold text-slate-400",children:"Loading Payrolls..."}):z.length===0?e.jsx("div",{className:"text-center py-10 font-bold text-slate-400",children:"No records found"}):z.map(ae=>e.jsx(Ya,{title:ae.name,badge:ae.status,badgeColor:Q(ae.status),fields:[{label:"Base Salary",value:`${ae.baseSalary.toLocaleString()}`},{label:"Attendance",value:`${ae.attendanceRate||0}%`},{label:"Commission",value:`${(ae.commission||0).toLocaleString()}`},{label:"Net Pay",value:`${ae.netPay.toLocaleString()}`}],actions:[{label:ae.status==="Paid"?"Paid":"Mark Paid",icon:ae.status==="Paid"?Qt:Hs,onClick:()=>ae.status==="Pending"?ge(ae.id):te(ae),variant:ae.status==="Paid"?"success":"primary"},{label:"Download",icon:na,onClick:()=>K(ae),variant:"secondary"}],onClick:()=>te(ae)},ae.id))}),e.jsxs("div",{className:"hidden md:block bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gradient-to-r from-slate-50 to-slate-100/50 border-b-2 border-slate-200",children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"Employee"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"Base Salary"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"Attendance"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"Commission"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"Net Pay"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold uppercase tracking-wider text-slate-700",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:v?e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"px-6 py-10 text-center font-bold text-slate-400",children:"Loading Payrolls..."})}):z.map(ae=>e.jsxs("tr",{onClick:()=>te(ae),className:"group cursor-pointer hover:bg-gradient-to-r hover:from-violet-50/50 hover:via-purple-50/30 hover:to-transparent transition-all duration-300",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white font-bold shadow-md group-hover:shadow-lg group-hover:scale-110 group-hover:rotate-6 transition-all duration-300",children:(ae.name||"?").charAt(0)}),e.jsx("div",{children:e.jsx("div",{className:"text-sm font-semibold text-slate-900 group-hover:text-violet-600 transition-colors duration-300",children:ae.name})})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:"text-sm font-semibold text-slate-700",children:["",ae.baseSalary.toLocaleString()]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-16 h-2 bg-slate-100 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full ${ae.attendanceRate>=90?"bg-emerald-500":ae.attendanceRate>=75?"bg-amber-500":"bg-rose-500"}`,style:{width:`${ae.attendanceRate||0}%`}})}),e.jsxs("span",{className:"text-xs font-bold text-slate-600",children:[ae.attendanceRate||0,"%"]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:"text-sm font-bold text-indigo-600",children:["",(ae.commission||0).toLocaleString()]})}),e.jsx("td",{className:"px-6 py-4 border-l border-slate-100",children:e.jsxs("span",{className:"text-sm font-black text-slate-900",children:["",ae.netPay.toLocaleString()]})}),e.jsx("td",{className:"px-6 py-4",children:ae.status==="Paid"?e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-bold bg-gradient-to-r from-emerald-50 to-emerald-100 text-emerald-700 border border-emerald-200 shadow-sm transition-all duration-300 hover:scale-110 hover:shadow-md",children:[e.jsx(Qt,{size:14}),"Paid"]}):ae.status==="Pending"?e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-bold bg-gradient-to-r from-orange-50 to-orange-100 text-orange-700 border border-orange-200 shadow-sm transition-all duration-300 hover:scale-110 hover:shadow-md",children:[e.jsx(Ze,{size:14}),"Pending"]}):e.jsx("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-bold bg-slate-100 text-slate-500 border border-slate-200",children:"Not Generated"})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",onClick:ce=>ce.stopPropagation(),children:[ae.status==="Pending"&&e.jsxs("button",{onClick:()=>ge(ae.id),className:"flex items-center gap-1.5 px-3 py-1.5 bg-violet-600 text-white rounded-lg text-xs font-bold hover:bg-violet-700 transition-all duration-300 active:scale-95 shadow-lg shadow-violet-200",children:[e.jsx(Qt,{size:14}),"Mark Paid"]}),e.jsx("button",{onClick:()=>te(ae),className:"group/btn p-2 rounded-lg text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 transition-all duration-300 hover:scale-110",title:"View Details",children:e.jsx(st,{size:18})}),e.jsx("button",{onClick:()=>K(ae),className:"group/btn p-2 rounded-lg text-slate-400 hover:text-violet-600 hover:bg-violet-50 transition-all duration-300 hover:scale-110",children:e.jsx(na,{size:18,className:"transition-transform duration-300 group-hover/btn:translate-y-0.5"})})]})})]},ae.id))})]})}),!v&&z.length===0&&e.jsxs("div",{className:"p-12 sm:p-16 text-center",children:[e.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 mx-auto mb-4 sm:mb-6 bg-gradient-to-br from-violet-100 to-purple-100 rounded-full flex items-center justify-center",children:e.jsx(Hs,{size:32,className:"sm:w-10 sm:h-10 text-violet-600"})}),e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-slate-900 mb-2",children:"No Payroll Records Found"}),e.jsx("p",{className:"text-slate-600 text-sm sm:text-base",children:"Try adjusting your search or filter criteria"})]})]}),N&&e.jsx("div",{className:"fixed inset-0 z-50 overflow-hidden",role:"dialog","aria-modal":"true",children:e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:`absolute inset-0 bg-slate-900/40 backdrop-blur-[2px] transition-opacity duration-300 ${N?"opacity-100":"opacity-0"}`,"aria-hidden":"true",onClick:q}),e.jsx("div",{className:"fixed inset-y-0 right-0 flex max-w-full pl-0 sm:pl-10",children:e.jsxs("div",{className:`relative w-screen sm:max-w-md transform transition-transform duration-300 ease-in-out shadow-2xl ${N?"translate-x-0":"translate-x-full"}`,children:[e.jsxs("div",{className:"flex h-full flex-col bg-white overflow-y-auto",children:[e.jsxs("div",{className:"px-6 py-8 bg-gradient-to-br from-violet-600 via-purple-600 to-fuchsia-600 text-white relative",children:[e.jsx("button",{type:"button",className:"absolute top-4 right-4 p-2 rounded-xl bg-white/20 text-white hover:bg-white/30 transition-all duration-300 group",onClick:q,children:e.jsx(Vl,{className:"h-6 w-6 group-hover:rotate-90 transition-transform duration-300"})}),e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-white/20 backdrop-blur-md flex items-center justify-center text-2xl font-black border border-white/30 shadow-xl",children:(B?.name||"?").charAt(0)}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-black tracking-tight",children:B?.name}),e.jsx("p",{className:"text-violet-100 text-sm font-medium",children:"Employee Monthly Payroll"})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("span",{className:"px-3 py-1 bg-white/20 backdrop-blur-sm rounded-lg text-xs font-bold border border-white/20 italic",children:x}),B?.status==="Paid"?e.jsxs("span",{className:"px-3 py-1 bg-emerald-400 text-emerald-950 rounded-lg text-xs font-black flex items-center gap-1 shadow-lg",children:[e.jsx(Qt,{size:12})," PAID"]}):e.jsxs("span",{className:"px-3 py-1 bg-amber-400 text-amber-950 rounded-lg text-xs font-black flex items-center gap-1 shadow-lg",children:[e.jsx(Ze,{size:12})," PENDING"]})]})]}),e.jsx("div",{className:"p-6 space-y-8 flex-1",children:e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-slate-400 mb-4 flex items-center gap-2",children:[e.jsx(Qn,{size:14,className:"text-violet-500"})," Salary Breakdown"]}),e.jsxs("div",{className:"bg-slate-50 rounded-2xl p-5 space-y-4 border border-slate-100",children:[e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-slate-500 font-medium",children:"Base Salary"}),e.jsxs("span",{className:"text-slate-900 font-bold",children:["",B.baseSalary.toLocaleString()]})]}),B.commission>0&&e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-slate-500 font-medium whitespace-nowrap",children:"Commission"}),e.jsxs("span",{className:"text-emerald-600 font-bold",children:["",B.commission.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-slate-500 font-medium",children:"Incentives"}),e.jsxs("span",{className:"text-emerald-600 font-bold",children:["+",B.incentives.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-slate-500 font-medium",children:"Deductions"}),e.jsxs("span",{className:"text-red-500 font-bold",children:["-",B.deductions.toLocaleString()]})]}),e.jsxs("div",{className:"pt-4 border-t border-slate-200 flex justify-between items-center",children:[e.jsx("span",{className:"text-slate-900 font-black uppercase text-xs tracking-wider",children:"Net Payable"}),e.jsxs("span",{className:"text-violet-600 font-black text-xl",children:["",B.netPay.toLocaleString()]})]})]}),B?.status==="Paid"&&e.jsx("div",{className:"mt-2 text-[10px] font-bold text-slate-400 uppercase tracking-widest text-center italic",children:"Salary Locked After Payment"})]})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-slate-400 mb-4 flex items-center gap-2",children:[e.jsx(Hs,{size:14,className:"text-violet-500"})," Payment Information"]}),e.jsx("div",{className:`rounded-2xl p-5 border-2 ${B?.status==="Paid"?"bg-emerald-50 border-emerald-100":"bg-slate-50 border-slate-100"}`,children:B?.status==="Paid"?e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-emerald-500 flex items-center justify-center text-white shadow-lg",children:e.jsx(Qt,{size:20})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-black text-emerald-900 leading-tight",children:"Paid Successfully"}),e.jsxs("div",{className:"text-xs font-medium text-emerald-700 mt-0.5",children:["Payment Date: ",B.paymentDate||"Today"]})]})]}):e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-200 flex items-center justify-center text-slate-400",children:e.jsx(Ze,{size:20})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-black text-slate-900 leading-tight",children:"Payment Outstanding"}),e.jsx("div",{className:"text-xs font-medium text-slate-500 mt-0.5",children:"Not Processed Yet"})]})]})})]})]}),e.jsxs("div",{className:"p-6 bg-slate-50 border-t border-slate-100 space-y-3",children:[B?.status==="Pending"?e.jsxs("button",{onClick:()=>ge(B.id),className:"w-full flex items-center justify-center gap-2 py-4 bg-violet-600 text-white rounded-xl font-bold shadow-xl shadow-violet-200 hover:bg-violet-700 hover:scale-[1.02] active:scale-95 transition-all duration-300",children:[e.jsx(Hs,{size:20}),"Confirm Payment & Mark Paid"]}):e.jsxs("button",{disabled:!0,className:"w-full flex items-center justify-center gap-2 py-4 bg-emerald-100 text-emerald-600 rounded-xl font-bold border-2 border-emerald-200 cursor-not-allowed opacity-80",children:[e.jsx(Qt,{size:20}),"Payroll Processed"]}),e.jsx("p",{className:"text-center text-[10px] text-slate-400 mt-2 leading-relaxed tracking-wide uppercase font-bold",children:"This action will be recorded in the system audit logs."})]})]})})]})})]})},Vf={specialization:"",commissionType:"percentage",commissionValue:"",ptRate:"",experience:""},eO={commissionPercent:"",monthlyTarget:"",bonusPercent:""},Aj={performanceBonus:""},tO=({config:s,errors:t,onChange:a})=>e.jsxs("div",{className:"bg-gradient-to-br from-violet-50 to-white rounded-xl shadow-lg border border-violet-100 p-6 space-y-6 animate-in fade-in slide-in-from-top-4 duration-500",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-bold text-violet-900 flex items-center gap-2",children:[e.jsx(Gg,{className:"text-violet-600",size:20}),"Trainer Configuration"]}),e.jsx("div",{className:"px-3 py-1 bg-violet-100 text-violet-700 rounded-lg text-[10px] font-black uppercase tracking-widest",children:"PT Sync Active"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative group",children:[e.jsxs("label",{className:"block text-xs font-bold uppercase tracking-wider text-violet-600 mb-2",children:["Specialization ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:s?.specialization||"",onChange:l=>a("trainerConfig","specialization",l.target.value),placeholder:"e.g. Yoga, HIIT, Rehab",className:`w-full pl-10 pr-4 py-3 bg-white border-2 rounded-xl text-sm focus:outline-none transition-all duration-300 ${t["trainerConfig.specialization"]?"border-red-500 focus:ring-red-500/20":"border-slate-200 focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 hover:border-violet-300"}`}),e.jsx(Hl,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-violet-400"})]}),t["trainerConfig.specialization"]&&e.jsx("p",{className:"text-[10px] text-red-500 font-bold mt-1",children:t["trainerConfig.specialization"]})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-violet-600 mb-2",children:"Experience (Years)"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",value:s?.experience||"",onChange:l=>a("trainerConfig","experience",l.target.value),placeholder:"e.g. 5",className:"w-full pl-10 pr-4 py-3 bg-white border-2 border-slate-200 rounded-xl text-sm focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 hover:border-violet-300 transition-all duration-300"}),e.jsx(ua,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-violet-400"})]})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-violet-600 mb-2",children:"Commission Type"}),e.jsxs("select",{value:s?.commissionType||"percentage",onChange:l=>a("trainerConfig","commissionType",l.target.value),className:"w-full px-4 py-3 bg-white border-2 border-slate-200 rounded-xl text-sm focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 hover:border-violet-300 appearance-none cursor-pointer",children:[e.jsx("option",{value:"percentage",children:"Percentage (%)"}),e.jsx("option",{value:"fixed",children:"Fixed Amount ()"})]})]}),e.jsxs("div",{className:"relative group",children:[e.jsxs("label",{className:"block text-xs font-bold uppercase tracking-wider text-violet-600 mb-2",children:["Commission Value ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",value:s?.commissionValue||"",onChange:l=>a("trainerConfig","commissionValue",l.target.value),placeholder:s?.commissionType==="percentage"?"0-100":"Amount",className:`w-full pl-10 pr-4 py-3 bg-white border-2 rounded-xl text-sm focus:outline-none transition-all duration-300 ${t["trainerConfig.commissionValue"]?"border-red-500 focus:ring-red-500/20":"border-slate-200 focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 hover:border-violet-300"}`}),s?.commissionType==="percentage"?e.jsx(Hc,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-violet-400"}):e.jsx(Qn,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-violet-400"})]}),t["trainerConfig.commissionValue"]&&e.jsx("p",{className:"text-[10px] text-red-500 font-bold mt-1",children:t["trainerConfig.commissionValue"]})]})]})]}),sO=({config:s,errors:t,onChange:a})=>e.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-white rounded-xl shadow-lg border border-orange-100 p-6 space-y-6 animate-in fade-in slide-in-from-top-4 duration-500",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-bold text-orange-900 flex items-center gap-2",children:[e.jsx(Z0,{className:"text-orange-600",size:20}),"Manager Configuration"]}),e.jsx("div",{className:"px-3 py-1 bg-orange-100 text-orange-700 rounded-lg text-[10px] font-black uppercase tracking-widest",children:"Branch Level"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.jsxs("div",{className:"relative group",children:[e.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-orange-600 mb-2",children:"Performance Bonus (Annual %)"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",value:s?.performanceBonus||"",onChange:l=>a("managerConfig","performanceBonus",l.target.value),placeholder:"e.g. 10",className:`w-full pl-10 pr-4 py-3 bg-white border-2 rounded-xl text-sm focus:outline-none transition-all duration-300 ${t["managerConfig.performanceBonus"]?"border-red-500 focus:ring-red-500/20":"border-slate-200 focus:border-orange-500 focus:ring-4 focus:ring-orange-500/20 hover:border-orange-300"}`}),e.jsx(Hc,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-orange-400"})]}),t["managerConfig.performanceBonus"]&&e.jsx("p",{className:"text-[10px] text-red-500 font-bold mt-1",children:t["managerConfig.performanceBonus"]})]})})]}),Dj=()=>{const{role:s}=Oi(),t=Ht(),{id:a}=Ud(),l=!!a,i=kn.useRef(null),o=kn.useRef(null),[c,u]=b.useState({name:"",phone:"",email:"",dob:"",department:"Training",role:"Trainer",joiningDate:"",status:"Active",baseSalary:"",accountNumber:"",ifsc:"",startTime:"09:00",endTime:"18:00",shift:"09:00 - 18:00",trainerConfig:Vf,salesConfig:null,managerConfig:null}),[x,h]=b.useState({govtId:null,contract:null}),[p,f]=b.useState(!1),[y,g]=b.useState({});b.useEffect(()=>{l&&v()},[a]);const v=async()=>{try{const w=await UE(a);let R=w.role;w.role==="BRANCH_ADMIN"&&(R="Admin");const T=w.dob?new Date(w.dob).toISOString().split("T")[0]:"",O=w.joinedDate?new Date(w.joinedDate).toISOString().split("T")[0]:"";u({...w,role:R,dob:T,joiningDate:O,baseSalary:w.baseSalary||"",shift:w.shift||"",startTime:w.shift?.includes(" - ")&&w.shift.split(" - ")[0].includes(":")?w.shift.split(" - ")[0]:"09:00",endTime:w.shift?.includes(" - ")&&w.shift.split(" - ")[1].includes(":")?w.shift.split(" - ")[1]:"18:00",trainerConfig:w.role==="TRAINER"?w.config:Vf,managerConfig:w.role==="MANAGER"?w.config:Aj,salesConfig:w.role==="STAFF"?w.config:eO}),w.documents&&h(w.documents)}catch(w){console.error("Failed to fetch staff details",w),Ve.error("Failed to load staff details")}};b.useEffect(()=>{l||u(w=>{const R={...w};return w.role==="Trainer"?(R.trainerConfig=Vf,R.salesConfig=null,R.managerConfig=null):w.role==="Manager"?(R.managerConfig=Aj,R.trainerConfig=null,R.salesConfig=null):(R.trainerConfig=null,R.salesConfig=null,R.managerConfig=null),R})},[c.role,l]);const C=w=>{const{name:R,value:T}=w.target;u(O=>({...O,[R]:T}))},N=(w,R,T)=>{u(O=>({...O,[w]:{...O[w],[R]:T}}))},k=()=>{const w={};return c.name||(w.name="Full Name is required"),c.email||(w.email="Email is required"),c.role||(w.role="Role is required"),c.role==="Trainer"&&c.trainerConfig&&(c.trainerConfig.commissionValue||(w["trainerConfig.commissionValue"]="Commission value is required"),c.trainerConfig.specialization||(w["trainerConfig.specialization"]="Specialization is required")),g(w),Object.keys(w).length===0},A=(w,R)=>{const T=w.target.files[0];if(T){const O=new FileReader;O.onloadend=()=>{h(W=>({...W,[R]:{name:T.name,type:T.type,data:O.result}}))},O.readAsDataURL(T)}},E=async w=>{if(w.preventDefault(),!!k()){f(!0);try{const R={...c,documents:x};l?(await BN(a,R),Ve.success("Staff profile updated successfully!")):(await RN(R),Ve.success("Staff profile created successfully!")),t("/hr/staff/management")}catch(R){console.error("Failed to submit staff form",R),Ve.error(R.response?.data?.message||"Failed to save staff profile")}finally{f(!1)}}};return e.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-6 pb-12 min-h-screen",children:[e.jsxs("div",{className:"mb-8 relative max-w-6xl mx-auto",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent mb-2 flex items-center gap-2",children:[e.jsx(nl,{className:"text-violet-600",size:28}),l?"Update Staff Profile":"New Staff Profile"]}),e.jsx("p",{className:"text-slate-600 text-sm",children:l?"Modify existing record and sync changes.":"Create a new employee record with role-specific sync."})]}),e.jsxs("button",{onClick:()=>t(-1),className:"flex items-center gap-2 px-4 py-2.5 bg-white border border-slate-200 rounded-xl text-sm font-semibold text-slate-700 hover:bg-slate-50 hover:shadow-md hover:scale-105 transition-all duration-300 shadow-sm group",children:[e.jsx(Xr,{className:"w-4 h-4 transition-transform duration-300 group-hover:-translate-x-1"}),"Back"]})]})})]}),e.jsx("form",{onSubmit:E,className:"max-w-6xl mx-auto",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white/60 backdrop-blur-md rounded-xl shadow-lg border border-white/50 p-6 hover:shadow-xl transition-all duration-300",children:[e.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[e.jsx(nl,{className:"text-violet-600",size:20}),"Personal Details"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative group",children:[e.jsxs("label",{className:"block text-xs font-bold uppercase tracking-wider text-slate-600 mb-2",children:["Full Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"name",value:c.name||"",onChange:C,placeholder:"Enter full name",className:`w-full px-4 py-3 bg-white/80 border-2 rounded-xl text-sm focus:outline-none transition-all duration-300 ${y.name?"border-red-500":"border-slate-200 focus:border-violet-500"}`}),y.name&&e.jsx("p",{className:"text-[10px] text-red-500 font-bold mt-1",children:y.name})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-slate-600 mb-2",children:"Phone Number"}),e.jsx("input",{type:"tel",name:"phone",value:c.phone||"",onChange:C,placeholder:"+91...",className:"w-full px-4 py-3 bg-white/80 border-2 border-slate-200 rounded-xl text-sm focus:outline-none focus:border-violet-500 transition-all duration-300"})]}),e.jsxs("div",{className:"relative group",children:[e.jsxs("label",{className:"block text-xs font-bold uppercase tracking-wider text-slate-600 mb-2",children:["Email Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"email",name:"email",value:c.email||"",onChange:C,placeholder:"email@example.com",className:`w-full px-4 py-3 bg-white/80 border-2 rounded-xl text-sm focus:outline-none transition-all duration-300 ${y.email?"border-red-500":"border-slate-200 focus:border-violet-500"}`}),y.email&&e.jsx("p",{className:"text-[10px] text-red-500 font-bold mt-1",children:y.email})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-slate-600 mb-2",children:"Date of Birth"}),e.jsx("input",{type:"date",name:"dob",value:c.dob||"",onChange:C,className:"w-full px-4 py-3 bg-white/80 border-2 border-slate-200 rounded-xl text-sm focus:outline-none focus:border-violet-500 transition-all duration-300"})]})]})]}),e.jsxs("div",{className:"bg-white/60 backdrop-blur-md rounded-xl shadow-lg border border-white/50 p-6 hover:shadow-xl transition-all duration-300",children:[e.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[e.jsx($c,{className:"text-violet-600",size:20}),"Employment Details"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-slate-600 mb-2",children:"Shift Start Time"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"time",name:"startTime",value:c.startTime||"",onChange:w=>{const R=w.target.value;u(T=>({...T,startTime:R,shift:`${R} - ${T.endTime}`}))},className:"w-full pl-10 pr-4 py-3 bg-white/80 border-2 border-slate-200 rounded-xl text-sm focus:outline-none focus:border-violet-500 transition-all duration-300"}),e.jsx(Ze,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-violet-400"})]})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-slate-600 mb-2",children:"Shift End Time"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"time",name:"endTime",value:c.endTime||"",onChange:w=>{const R=w.target.value;u(T=>({...T,endTime:R,shift:`${T.startTime} - ${R}`}))},className:"w-full pl-10 pr-4 py-3 bg-white/80 border-2 border-slate-200 rounded-xl text-sm focus:outline-none focus:border-violet-500 transition-all duration-300"}),e.jsx(Ze,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-violet-400"})]})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-slate-600 mb-2",children:"Joining Date"}),e.jsx("input",{type:"date",name:"joiningDate",value:c.joiningDate||"",onChange:C,className:"w-full px-4 py-3 bg-white/80 border-2 border-slate-200 rounded-xl text-sm focus:outline-none transition-all duration-300"})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-slate-600 mb-2",children:"Department"}),e.jsxs("select",{name:"department",value:c.department||"Training",onChange:C,className:"w-full px-4 py-3 bg-white/80 border-2 border-slate-200 rounded-xl text-sm focus:outline-none appearance-none cursor-pointer",children:[e.jsx("option",{children:"Training"}),e.jsx("option",{children:"Sales"}),e.jsx("option",{children:"Operations"}),e.jsx("option",{children:"Housekeeping"})]})]}),e.jsxs("div",{className:"relative group",children:[e.jsxs("label",{className:"block text-xs font-bold uppercase tracking-wider text-slate-600 mb-2",children:["Assigned Role ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{name:"role",value:c.role||"Trainer",onChange:C,className:"w-full px-4 py-3 bg-white/80 border-2 border-slate-200 rounded-xl text-sm font-semibold focus:outline-none appearance-none cursor-pointer",children:[s===it.SUPER_ADMIN&&e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"Admin",children:"Admin"}),e.jsx("option",{value:"Manager",children:"Manager"})]}),e.jsx("option",{value:"Trainer",children:"Trainer"}),e.jsx("option",{value:"Staff",children:"Staff"})]})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-slate-600 mb-2",children:"Status"}),e.jsxs("select",{name:"status",value:c.status||"Active",onChange:C,className:"w-full px-4 py-3 bg-white/80 border-2 border-slate-200 rounded-xl text-sm focus:outline-none appearance-none cursor-pointer",children:[e.jsx("option",{children:"Active"}),e.jsx("option",{children:"Probation"}),e.jsx("option",{children:"On Leave"})]})]})]})]}),e.jsxs("div",{className:"bg-white/60 backdrop-blur-md rounded-xl shadow-lg border border-white/50 p-6 hover:shadow-xl transition-all duration-300",children:[e.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[e.jsx(Qn,{className:"text-violet-600",size:20}),"Financials & Payroll (Base)"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-slate-600 mb-2",children:"Base Salary (Monthly)"}),e.jsx("input",{type:"number",name:"baseSalary",value:c.baseSalary||"",onChange:C,placeholder:" 0.00",className:"w-full px-4 py-3 bg-white/80 border-2 border-slate-200 rounded-xl text-sm focus:outline-none transition-all duration-300"})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-slate-600 mb-2",children:"Bank Account Number"}),e.jsx("input",{type:"text",name:"accountNumber",value:c.accountNumber||"",onChange:C,placeholder:"Account number...",className:"w-full px-4 py-3 bg-white/80 border-2 border-slate-200 rounded-xl text-sm focus:outline-none transition-all duration-300"})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-slate-600 mb-2",children:"IFSC Code"}),e.jsx("input",{type:"text",name:"ifsc",value:c.ifsc||"",onChange:C,placeholder:"IFSC...",className:"w-full px-4 py-3 bg-white/80 border-2 border-slate-200 rounded-xl text-sm focus:outline-none transition-all duration-300"})]})]})]}),c.role==="Trainer"&&e.jsx(tO,{config:c.trainerConfig,errors:y,onChange:N}),c.role==="Manager"&&e.jsx(sO,{config:c.managerConfig,errors:y,onChange:N})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white/60 backdrop-blur-md rounded-xl shadow-lg border border-white/50 p-6 hover:shadow-xl transition-all duration-300",children:[e.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[e.jsx(dr,{className:"text-violet-600",size:20}),"Documents"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{type:"file",ref:i,className:"hidden",onChange:w=>A(w,"govtId")}),e.jsxs("div",{onClick:()=>i.current.click(),className:`border-2 border-dashed rounded-xl p-8 flex flex-col items-center justify-center text-center transition-all duration-300 cursor-pointer group ${x.govtId?"border-emerald-500 bg-emerald-50/30":"border-slate-200 hover:border-violet-300 hover:bg-violet-50/30"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center mb-3 group-hover:scale-110 group-hover:rotate-6 transition-all duration-300 shadow-md ${x.govtId?"bg-emerald-500 text-white":"bg-gradient-to-br from-violet-500 to-purple-600 text-white"}`,children:x.govtId?e.jsx(Zt,{size:24}):e.jsx(ig,{size:24})}),e.jsx("div",{className:"text-sm font-bold text-slate-900",children:x.govtId?x.govtId.name:"Upload Government ID"}),x.govtId&&e.jsxs("button",{type:"button",onClick:w=>{w.stopPropagation();const R=window.open(),T=x.govtId.data||x.govtId.url;R.document.write(`<iframe src="${T}" frameborder="0" style="border:0; top:0px; left:0px; bottom:0px; right:0px; width:100%; height:100%;" allowfullscreen></iframe>`)},className:"mt-3 flex items-center gap-1.5 px-3 py-1 bg-emerald-100 text-emerald-700 rounded-lg text-[10px] font-black uppercase tracking-widest hover:bg-emerald-200 transition-colors",children:[e.jsx(qs,{size:12}),"View Current"]})]}),e.jsx("input",{type:"file",ref:o,className:"hidden",onChange:w=>A(w,"contract")}),e.jsxs("div",{onClick:()=>o.current.click(),className:`border-2 border-dashed rounded-xl p-8 flex flex-col items-center justify-center text-center transition-all duration-300 cursor-pointer group ${x.contract?"border-emerald-500 bg-emerald-50/30":"border-slate-200 hover:border-violet-300 hover:bg-violet-50/30"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center mb-3 group-hover:scale-110 group-hover:rotate-6 transition-all duration-300 shadow-md ${x.contract?"bg-emerald-500 text-white":"bg-gradient-to-br from-violet-500 to-purple-600 text-white"}`,children:x.contract?e.jsx(Zt,{size:24}):e.jsx(dr,{size:24})}),e.jsx("div",{className:"text-sm font-bold text-slate-900",children:x.contract?x.contract.name:"Upload Contract"}),x.contract&&e.jsxs("button",{type:"button",onClick:w=>{w.stopPropagation();const R=window.open(),T=x.contract.data||x.contract.url;R.document.write(`<iframe src="${T}" frameborder="0" style="border:0; top:0px; left:0px; bottom:0px; right:0px; width:100%; height:100%;" allowfullscreen></iframe>`)},className:"mt-3 flex items-center gap-1.5 px-3 py-1 bg-emerald-100 text-emerald-700 rounded-lg text-[10px] font-black uppercase tracking-widest hover:bg-emerald-200 transition-colors",children:[e.jsx(qs,{size:12}),"View Current"]})]})]})]}),e.jsxs("button",{type:"submit",disabled:p,className:`group relative w-full px-6 py-4 rounded-xl font-bold shadow-xl hover:shadow-2xl hover:scale-105 transition-all duration-300 flex items-center justify-center gap-2 bg-gradient-to-r from-violet-600 to-purple-600 text-white text-lg ${p?"opacity-70 cursor-not-allowed":""}`,children:[p?e.jsx(Ze,{className:"w-5 h-5 animate-spin relative"}):e.jsx(xa,{className:"w-5 h-5 relative transition-transform duration-300 group-hover:scale-110"}),e.jsx("span",{className:"relative",children:p?"Processing...":l?"Update Profile":"Save Profile"})]})]})]})})]})},aO=()=>{const[s,t]=b.useState([]),[a,l]=b.useState(!0),[i,o]=b.useState(!1);b.useEffect(()=>{c()},[]);const c=async()=>{l(!0);try{const h=await HE();t(h)}catch(h){console.error("Error loading leave requests:",h)}finally{l(!1)}},u=async(h,p)=>{o(!0);try{await WE(h,p),alert(`Leave request ${p.toLowerCase()}!`),c()}catch(f){console.error("Error updating leave request:",f),alert("Failed to update leave request.")}finally{o(!1)}},x=h=>{switch(h){case"Approved":return"bg-emerald-100 text-emerald-700 border border-emerald-200";case"Rejected":return"bg-red-100 text-red-700 border border-red-200";case"Pending":return"bg-amber-100 text-amber-700 border border-amber-200";default:return"bg-slate-100 text-slate-700 border border-slate-200"}};return a?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh]",children:[e.jsx("div",{className:"w-10 h-10 border-4 border-violet-600 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"mt-4 text-slate-500 font-medium",children:"Loading leave requests..."})]}):e.jsxs("div",{className:"flex flex-col gap-6 animate-in fade-in duration-500",children:[e.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-black text-slate-900 flex items-center gap-3",children:[e.jsx(Xe,{className:"text-violet-500",size:28}),"Leave Requests"]}),e.jsx("p",{className:"text-slate-500 font-medium mt-1 text-sm",children:"Review and manage staff leave applications"})]})}),e.jsx("div",{className:"bg-white rounded-3xl border border-slate-100 shadow-xl overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50/50 border-b border-slate-100",children:[e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Employee"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Type"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Date Range"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Reason"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:s.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-12 text-center text-slate-500",children:"No leave requests found."})}):s.map(h=>e.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-bold text-slate-900",children:h.user?.name||"Unknown"}),e.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:h.user?.role||"Staff"})]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsx("span",{className:"text-xs font-bold text-slate-600",children:h.type})}),e.jsx("td",{className:"px-6 py-5",children:e.jsx("div",{className:"flex flex-col gap-1",children:e.jsxs("span",{className:"text-sm font-bold text-slate-900",children:[new Date(h.startDate).toLocaleDateString(),new Date(h.startDate).getTime()!==new Date(h.endDate).getTime()&&`  ${new Date(h.endDate).toLocaleDateString()}`]})})}),e.jsx("td",{className:"px-6 py-5",children:e.jsx("span",{className:"text-xs text-slate-500 font-medium truncate max-w-[200px] block",title:h.reason,children:h.reason})}),e.jsx("td",{className:"px-6 py-5",children:e.jsx("div",{className:"flex justify-center",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-wider flex items-center gap-1 ${x(h.status)}`,children:h.status})})}),e.jsx("td",{className:"px-6 py-5",children:e.jsx("div",{className:"flex justify-center gap-2",children:h.status==="Pending"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>u(h.id,"Approved"),disabled:i,className:"p-2 bg-emerald-50 text-emerald-600 hover:bg-emerald-100 rounded-lg transition-colors border border-emerald-100",title:"Approve",children:e.jsx(Zt,{size:18})}),e.jsx("button",{onClick:()=>u(h.id,"Rejected"),disabled:i,className:"p-2 bg-rose-50 text-rose-600 hover:bg-rose-100 rounded-lg transition-colors border border-rose-100",title:"Reject",children:e.jsx(Vl,{size:18})})]})})})]},h.id))})]})})})]})},rO=()=>{const s=()=>{const C=new Date,N=C.getFullYear(),k=String(C.getMonth()+1).padStart(2,"0"),A=String(C.getDate()).padStart(2,"0");return`${N}-${k}-${A}`},[t,a]=b.useState(s()),[l,i]=b.useState("Main Branch"),[o,c]=b.useState(""),[u,x]=b.useState([{label:"Total Revenue",value:"0",icon:Qn,bg:"bg-indigo-50",color:"text-indigo-600"},{label:"Monthly Target",value:"5,00,000",icon:Qs,bg:"bg-emerald-50",color:"text-emerald-600"},{label:"Pending Payments",value:"0",icon:Hs,bg:"bg-amber-50",color:"text-amber-600"}]),[h,p]=b.useState([]),[f,y]=b.useState(!0),g=async()=>{try{y(!0);const C=await ve.get("/branch-admin/reports/revenue",{params:{date:t}});x(C.data.stats.map(N=>({...N,icon:N.icon==="DollarSign"?Qn:N.icon==="TrendingUp"?Qs:Hs}))),p(C.data.revenueData)}catch(C){console.error("Failed to fetch revenue report:",C)}finally{y(!1)}};b.useEffect(()=>{g()},[t]);const v=()=>{if(h.length===0){alert("No data available to export.");return}const N=[["Date","Member","Service","Amount","Mode","Status"].join(","),...h.map(w=>[`"${w.date}"`,`"${w.member}"`,`"${w.service}"`,`"${w.amount}"`,`"${w.mode}"`,`"${w.status}"`].join(","))].join(`
`),k=new Blob([N],{type:"text/csv;charset=utf-8;"}),A=document.createElement("a"),E=URL.createObjectURL(k);A.setAttribute("href",E),A.setAttribute("download",`revenue_report_${t}.csv`),A.style.visibility="hidden",document.body.appendChild(A),A.click(),document.body.removeChild(A)};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-6 md:p-8",children:[e.jsxs("div",{className:"mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-indigo-500 to-blue-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(Qn,{size:28})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-indigo-600 via-blue-600 to-cyan-600 bg-clip-text text-transparent",children:"Revenue Report"}),e.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Track payments, collection trends and financial health"})]})]}),e.jsxs("button",{onClick:v,className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-indigo-600 to-blue-600 hover:shadow-xl hover:shadow-indigo-500/50 text-white rounded-xl text-sm font-bold transition-all hover:scale-[1.02] active:scale-[0.98]",children:[e.jsx(na,{size:18}),"Export Report"]})]})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:u.map((C,N)=>e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-xl border border-slate-100 flex items-center gap-4 hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1",children:[e.jsx("div",{className:`p-4 rounded-xl ${C.bg} ${C.color} shadow-md`,children:e.jsx(C.icon,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1",children:C.label}),e.jsx("p",{className:"text-3xl font-black text-gray-900 leading-none",children:C.value})]})]},N))}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden mb-8",children:[e.jsx("div",{className:"p-6 border-b border-slate-100 bg-gray-50/30",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-center",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 w-full md:w-auto",children:[e.jsxs("div",{className:"relative group",children:[e.jsx(Xe,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"date",className:"pl-11 h-11 px-4 rounded-xl border-2 border-slate-200 text-sm focus:border-indigo-500 transition-all bg-white",value:t,onChange:C=>a(C.target.value)})]}),e.jsxs("select",{className:"h-11 px-4 rounded-xl border-2 border-slate-200 text-sm focus:border-indigo-500 transition-all bg-white font-medium text-gray-700",value:l,onChange:C=>i(C.target.value),children:[e.jsx("option",{children:"Main Branch"}),e.jsx("option",{children:"Downtown Studio"})]})]}),e.jsxs("div",{className:"relative w-full md:w-72",children:[e.jsx(st,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"text",placeholder:"Search payments...",className:"pl-11 h-11 w-full rounded-xl border-2 border-slate-200 focus:border-indigo-500 text-sm transition-all",value:o,onChange:C=>c(C.target.value)})]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Member"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Service"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Mode"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Status"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:f?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx(dl,{className:"w-8 h-8 text-indigo-500 animate-spin"}),e.jsx("p",{className:"text-slate-500 font-medium",children:"Loading revenue data..."})]})})}):h.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-12 text-center text-slate-400 font-medium italic",children:"No transactions found for the selected period"})}):h.filter(C=>C.member.toLowerCase().includes(o.toLowerCase())).map(C=>e.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 text-sm font-medium text-slate-600",children:C.date}),e.jsx("td",{className:"px-6 py-4 text-sm font-bold text-slate-900",children:C.member}),e.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:C.service}),e.jsx("td",{className:"px-6 py-4 text-sm font-black text-indigo-600",children:C.amount}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:"flex items-center gap-1.5 text-xs font-medium text-slate-500",children:[C.mode==="UPI"||C.mode==="GPay"||C.mode==="PhonePe"?e.jsx(wr,{size:14,className:"text-blue-500"}):e.jsx(Rs,{size:14}),C.mode]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-widest ${C.status==="Paid"?"bg-emerald-100 text-emerald-700":C.status==="Partial"?"bg-amber-100 text-amber-700":"bg-rose-100 text-rose-700"}`,children:C.status})})]},C.id))})]})})]})]})},lO=()=>{const s=()=>{const g=new Date,v=g.getFullYear(),C=String(g.getMonth()+1).padStart(2,"0"),N=String(g.getDate()).padStart(2,"0");return`${v}-${C}-${N}`},[t,a]=b.useState(s()),[l,i]=b.useState(""),[o,c]=b.useState([{label:"Active Members",value:"0",icon:Zn,bg:"bg-emerald-50",color:"text-emerald-600"},{label:"New Joins (MTD)",value:"0",icon:nl,bg:"bg-blue-50",color:"text-blue-600"},{label:"Expired (MTD)",value:"0",icon:og,bg:"bg-rose-50",color:"text-rose-600"}]),[u,x]=b.useState([]),[h,p]=b.useState(!0),f=async()=>{try{p(!0);const g=await ve.get("/branch-admin/reports/membership",{params:{date:t}}),v={UserCheck:Zn,UserPlus:nl,UserMinus:og};c(g.data.stats.map(C=>({...C,icon:v[C.icon]||Zn}))),x(g.data.membershipData)}catch(g){console.error("Failed to fetch membership report:",g)}finally{p(!1)}};b.useEffect(()=>{f()},[t]);const y=()=>{if(u.length===0){alert("No data available to export.");return}const v=[["Member Name","Plan Type","Membership Start","Expiry Date","Status"].join(","),...u.map(A=>[`"${A.name}"`,`"${A.plan}"`,`"${A.startDate}"`,`"${A.endDate}"`,`"${A.status}"`].join(","))].join(`
`),C=new Blob([v],{type:"text/csv;charset=utf-8;"}),N=document.createElement("a"),k=URL.createObjectURL(C);N.setAttribute("href",k),N.setAttribute("download",`membership_report_${t}.csv`),N.style.visibility="hidden",document.body.appendChild(N),N.click(),document.body.removeChild(N)};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-6 md:p-8",children:[e.jsxs("div",{className:"mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-500 via-teal-500 to-cyan-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-emerald-500 to-teal-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(Pt,{size:28})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-emerald-600 via-teal-600 to-cyan-600 bg-clip-text text-transparent",children:"Membership Report"}),e.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Analyze member growth, retention and plan distribution"})]})]}),e.jsxs("button",{onClick:y,className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-emerald-600 to-teal-600 hover:shadow-xl hover:shadow-emerald-500/50 text-white rounded-xl text-sm font-bold transition-all hover:scale-[1.02] active:scale-[0.98]",children:[e.jsx(na,{size:18}),"Export Data"]})]})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:o.map((g,v)=>e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-xl border border-slate-100 flex items-center gap-4 hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1",children:[e.jsx("div",{className:`p-4 rounded-xl ${g.bg} ${g.color} shadow-md`,children:e.jsx(g.icon,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1",children:g.label}),e.jsx("p",{className:"text-3xl font-black text-gray-900 leading-none",children:g.value})]})]},v))}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden mb-8",children:[e.jsx("div",{className:"p-6 border-b border-slate-100 bg-gray-50/30",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative group",children:[e.jsx(Xe,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"date",className:"pl-11 h-11 px-4 rounded-xl border-2 border-slate-200 text-sm focus:border-emerald-500 transition-all bg-white",value:t,onChange:g=>a(g.target.value)})]}),e.jsxs("button",{onClick:()=>{const g=u.reduce((C,N)=>(C[N.plan]=(C[N.plan]||0)+1,C),{}),v=Object.entries(g).map(([C,N])=>`${C}: ${N}`).join(`
`);alert(`Plan Distribution:

${v||"No data available"}`)},className:"flex items-center gap-2 px-4 py-2 bg-emerald-50 border border-emerald-100 rounded-xl text-emerald-700 text-xs font-bold hover:bg-emerald-100 transition-colors",children:[e.jsx(Vg,{size:14}),"Plan Distribution"]})]}),e.jsxs("div",{className:"relative w-full md:w-72",children:[e.jsx(st,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"text",placeholder:"Search members...",className:"pl-11 h-11 w-full rounded-xl border-2 border-slate-200 focus:border-emerald-500 text-sm transition-all",value:l,onChange:g=>i(g.target.value)})]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Member Name"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Plan Type"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Membership Start"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Expiry Date"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Status"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:h?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx(dl,{className:"w-8 h-8 text-emerald-500 animate-spin"}),e.jsx("p",{className:"text-slate-500 font-medium",children:"Loading membership data..."})]})})}):u.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-12 text-center text-slate-400 font-medium italic",children:"No members found for the selected period"})}):u.filter(g=>g.name.toLowerCase().includes(l.toLowerCase())).map(g=>e.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center text-[10px] font-black text-slate-500",children:g.name.charAt(0)}),e.jsx("span",{className:"text-sm font-bold text-slate-900",children:g.name})]})}),e.jsx("td",{className:"px-6 py-4 text-sm font-medium text-slate-600",children:g.plan}),e.jsx("td",{className:"px-6 py-4 text-sm text-slate-500",children:g.startDate}),e.jsx("td",{className:"px-6 py-4 text-sm font-bold text-slate-700",children:g.endDate}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-widest ${g.status==="Active"?"bg-emerald-100 text-emerald-700":"bg-rose-100 text-rose-700"}`,children:g.status})})]},g.id))})]})})]})]})},nO=()=>{const s=()=>{const g=new Date,v=g.getFullYear(),C=String(g.getMonth()+1).padStart(2,"0"),N=String(g.getDate()).padStart(2,"0");return`${v}-${C}-${N}`},[t,a]=b.useState(s()),[l,i]=b.useState(""),[o,c]=b.useState([{label:"Total Leads",value:"0",icon:hy,bg:"bg-orange-50",color:"text-orange-600"},{label:"Converted Leads",value:"0",icon:Nn,bg:"bg-purple-50",color:"text-purple-600"},{label:"Conversion rate",value:"0%",icon:Hc,bg:"bg-blue-50",color:"text-blue-600"}]),[u,x]=b.useState([]),[h,p]=b.useState(!0),f=async()=>{try{p(!0);const g=await ve.get("/branch-admin/reports/lead-conversion",{params:{date:t}}),v={MousePointer2:hy,Target:Nn,Percent:Hc};c(g.data.stats.map(C=>({...C,icon:v[C.icon]||Nn}))),x(g.data.leadData)}catch(g){console.error("Failed to fetch lead conversion report:",g)}finally{p(!1)}};b.useEffect(()=>{f()},[t]);const y=()=>{if(u.length===0){alert("No data available to export.");return}const v=[["Lead Name","Source","Date Received","Status","Sales Notes"].join(","),...u.map(A=>[`"${A.name}"`,`"${A.source}"`,`"${A.date}"`,`"${A.status}"`,`"${A.notes.replace(/"/g,'""')}"`].join(","))].join(`
`),C=new Blob([v],{type:"text/csv;charset=utf-8;"}),N=document.createElement("a"),k=URL.createObjectURL(C);N.setAttribute("href",k),N.setAttribute("download",`lead_conversion_report_${t}.csv`),N.style.visibility="hidden",document.body.appendChild(N),N.click(),document.body.removeChild(N)};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-6 md:p-8",children:[e.jsxs("div",{className:"mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-500 via-rose-500 to-amber-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-orange-500 to-rose-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(Qs,{size:28})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-orange-600 via-rose-600 to-amber-600 bg-clip-text text-transparent",children:"Lead Conversion Report"}),e.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Monitor marketing performance and sales funnel efficiency"})]})]}),e.jsxs("button",{onClick:y,className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-orange-600 to-rose-600 hover:shadow-xl hover:shadow-orange-500/50 text-white rounded-xl text-sm font-bold transition-all hover:scale-[1.02] active:scale-[0.98]",children:[e.jsx(na,{size:18}),"Export Funnel Data"]})]})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:o.map((g,v)=>e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-xl border border-slate-100 flex items-center gap-4 hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1",children:[e.jsx("div",{className:`p-4 rounded-xl ${g.bg} ${g.color} shadow-md`,children:e.jsx(g.icon,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1",children:g.label}),e.jsx("p",{className:"text-3xl font-black text-gray-900 leading-none",children:g.value})]})]},v))}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden mb-8",children:[e.jsx("div",{className:"p-6 border-b border-slate-100 bg-gray-50/30",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative group",children:[e.jsx(Xe,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"date",className:"pl-11 h-11 px-4 rounded-xl border-2 border-slate-200 text-sm focus:border-orange-500 transition-all bg-white",value:t,onChange:g=>a(g.target.value)})]}),e.jsxs("button",{onClick:()=>{const g=u.reduce((C,N)=>(C[N.source]=(C[N.source]||0)+1,C),{}),v=Object.entries(g).map(([C,N])=>`${C}: ${N}`).join(`
`);alert(`Source Breakdown:

${v||"No data available"}`)},className:"flex items-center gap-2 px-4 py-2 bg-rose-50 border border-rose-100 rounded-xl text-rose-700 text-xs font-bold hover:bg-rose-100 transition-colors",children:[e.jsx(s7,{size:14}),"Source Breakdown"]})]}),e.jsxs("div",{className:"relative w-full md:w-72",children:[e.jsx(st,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"text",placeholder:"Search leads...",className:"pl-11 h-11 w-full rounded-xl border-2 border-slate-200 focus:border-orange-500 text-sm transition-all",value:l,onChange:g=>i(g.target.value)})]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Lead Name"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Source"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Date Received"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Sales Notes"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:h?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx(dl,{className:"w-8 h-8 text-orange-500 animate-spin"}),e.jsx("p",{className:"text-slate-500 font-medium",children:"Loading funnel data..."})]})})}):u.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-12 text-center text-slate-400 font-medium italic",children:"No leads found for the selected period"})}):u.filter(g=>g.name.toLowerCase().includes(l.toLowerCase())).map(g=>e.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 text-sm font-bold text-slate-900",children:g.name}),e.jsx("td",{className:"px-6 py-4 text-sm font-medium text-slate-600",children:g.source}),e.jsx("td",{className:"px-6 py-4 text-sm text-slate-500",children:g.date}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-widest ${g.status==="Converted"?"bg-emerald-100 text-emerald-700":g.status==="Follow-up"?"bg-blue-100 text-blue-700":"bg-slate-100 text-slate-700"}`,children:g.status})}),e.jsxs("td",{className:"px-6 py-4 text-sm text-slate-500 italic",children:['"',g.notes,'"']})]},g.id))})]})})]})]})},iO=()=>{const s=()=>{const g=new Date,v=g.getFullYear(),C=String(g.getMonth()+1).padStart(2,"0"),N=String(g.getDate()).padStart(2,"0");return`${v}-${C}-${N}`},[t,a]=b.useState(s()),[l,i]=b.useState(""),[o,c]=b.useState([{label:"Total Expenses",value:"0",icon:Rs,bg:"bg-rose-50",color:"text-rose-600"},{label:"Operational Costs",value:"0",icon:ua,bg:"bg-blue-50",color:"text-blue-600"},{label:"Supplies/Inventory",value:"0",icon:Ic,bg:"bg-amber-50",color:"text-amber-600"}]),[u,x]=b.useState([]),[h,p]=b.useState(!0),f=async()=>{try{p(!0);const g=await ve.get("/branch-admin/reports/expenses",{params:{date:t}}),v={CreditCard:Rs,Zap:ua,ShoppingBag:Ic};c(g.data.stats.map(C=>({...C,icon:v[C.icon]||Rs}))),x(g.data.expenseData)}catch(g){console.error("Failed to fetch expense report:",g)}finally{p(!1)}};b.useEffect(()=>{f()},[t]);const y=()=>{if(u.length===0){alert("No data available to export.");return}const v=[["Date","Category","Description","Amount","Status"].join(","),...u.map(A=>[`"${A.date}"`,`"${A.category}"`,`"${A.description.replace(/"/g,'""')}"`,`"${A.amount}"`,`"${A.status}"`].join(","))].join(`
`),C=new Blob([v],{type:"text/csv;charset=utf-8;"}),N=document.createElement("a"),k=URL.createObjectURL(C);N.setAttribute("href",k),N.setAttribute("download",`expense_report_${t}.csv`),N.style.visibility="hidden",document.body.appendChild(N),N.click(),document.body.removeChild(N)};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-6 md:p-8",children:[e.jsxs("div",{className:"mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-rose-500 via-pink-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-rose-500 to-pink-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(Va,{size:28})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-rose-600 via-pink-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Expense Report"}),e.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Track operational expenditures and overhead costs"})]})]}),e.jsxs("button",{onClick:y,className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-rose-600 to-pink-600 hover:shadow-xl hover:shadow-rose-500/50 text-white rounded-xl text-sm font-bold transition-all hover:scale-[1.02] active:scale-[0.98]",children:[e.jsx(na,{size:18}),"Export Expenses"]})]})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:o.map((g,v)=>e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-xl border border-slate-100 flex items-center gap-4 hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1",children:[e.jsx("div",{className:`p-4 rounded-xl ${g.bg} ${g.color} shadow-md`,children:e.jsx(g.icon,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1",children:g.label}),e.jsx("p",{className:"text-3xl font-black text-gray-900 leading-none",children:g.value})]})]},v))}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden mb-8",children:[e.jsx("div",{className:"p-6 border-b border-slate-100 bg-gray-50/30",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative group",children:[e.jsx(Xe,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"date",className:"pl-11 h-11 px-4 rounded-xl border-2 border-slate-200 text-sm focus:border-rose-500 transition-all bg-white",value:t,onChange:g=>a(g.target.value)})]}),e.jsxs("button",{onClick:()=>{const g=u.reduce((C,N)=>(C[N.category]=(C[N.category]||0)+1,C),{}),v=Object.entries(g).map(([C,N])=>`${C}: ${N}`).join(`
`);alert(`Category Distribution:

${v||"No data available"}`)},className:"flex items-center gap-2 px-4 py-2 bg-pink-50 border border-pink-100 rounded-xl text-pink-700 text-xs font-bold hover:bg-pink-100 transition-colors",children:[e.jsx(Vg,{size:14}),"Category Distribution"]})]}),e.jsxs("div",{className:"relative w-full md:w-72",children:[e.jsx(st,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"text",placeholder:"Search expenses...",className:"pl-11 h-11 w-full rounded-xl border-2 border-slate-200 focus:border-rose-500 text-sm transition-all",value:l,onChange:g=>i(g.target.value)})]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Category"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Description"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Status"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:h?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx(dl,{className:"w-8 h-8 text-rose-500 animate-spin"}),e.jsx("p",{className:"text-slate-500 font-medium",children:"Loading expense data..."})]})})}):u.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-12 text-center text-slate-400 font-medium italic",children:"No expenses found for the selected period"})}):u.filter(g=>g.description.toLowerCase().includes(l.toLowerCase())||g.category.toLowerCase().includes(l.toLowerCase())).map(g=>e.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 text-sm font-medium text-slate-600",children:g.date}),e.jsx("td",{className:"px-6 py-4 text-sm font-bold text-rose-600",children:g.category}),e.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:g.description}),e.jsx("td",{className:"px-6 py-4 text-sm font-black text-slate-900",children:g.amount}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-widest ${g.status==="Paid"?"bg-emerald-100 text-emerald-700":"bg-amber-100 text-amber-700"}`,children:g.status})})]},g.id))})]})})]})]})},oO=()=>{const s=()=>{const g=new Date,v=g.getFullYear(),C=String(g.getMonth()+1).padStart(2,"0"),N=String(g.getDate()).padStart(2,"0");return`${v}-${C}-${N}`},[t,a]=b.useState(s()),[l,i]=b.useState(""),[o,c]=b.useState([{label:"Revenue vs Expense",value:"0%",icon:Qs,bg:"bg-indigo-50",color:"text-indigo-600",trend:"up"},{label:"Lead Conv. Rate",value:"0%",icon:Nn,bg:"bg-purple-50",color:"text-purple-600",trend:"up"},{label:"Member Retention",value:"0%",icon:It,bg:"bg-emerald-50",color:"text-emerald-600",trend:"up"}]),[u,x]=b.useState([]),[h,p]=b.useState(!0),f=async()=>{try{p(!0);const g=await ve.get("/branch-admin/reports/performance",{params:{date:t}}),v={TrendingUp:Qs,Target:Nn,Activity:It};c(g.data.stats.map(C=>({...C,icon:v[C.icon]||It}))),x(g.data.performanceData)}catch(g){console.error("Failed to fetch performance report:",g)}finally{p(!1)}};b.useEffect(()=>{f()},[t]);const y=()=>{if(u.length===0){alert("No data available to export.");return}const v=[["Month","Revenue","Expense","Profit","Margin","Status"].join(","),...u.map(A=>[`"${A.month}"`,`"${A.revenue}"`,`"${A.expense}"`,`"${A.profit}"`,`"${A.margin}"`,`"${A.status}"`].join(","))].join(`
`),C=new Blob([v],{type:"text/csv;charset=utf-8;"}),N=document.createElement("a"),k=URL.createObjectURL(C);N.setAttribute("href",k),N.setAttribute("download",`performance_report_${t}.csv`),N.style.visibility="hidden",document.body.appendChild(N),N.click(),document.body.removeChild(N)};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-6 md:p-8",children:[e.jsxs("div",{className:"mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-500 via-purple-500 to-emerald-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(It,{size:28})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-indigo-600 via-purple-600 to-emerald-600 bg-clip-text text-transparent",children:"Branch Performance Report"}),e.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Comparative analysis of key performance indicators (KPIs)"})]})]}),e.jsxs("button",{onClick:y,className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-indigo-600 to-purple-600 hover:shadow-xl hover:shadow-indigo-500/50 text-white rounded-xl text-sm font-bold transition-all hover:scale-[1.02] active:scale-[0.98]",children:[e.jsx(na,{size:18}),"Export Data"]})]})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:o.map((g,v)=>e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-xl border border-slate-100 flex items-center gap-4 hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1",children:[e.jsx("div",{className:`p-4 rounded-xl ${g.bg} ${g.color} shadow-md`,children:e.jsx(g.icon,{size:24})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1",children:g.label}),e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsx("p",{className:"text-3xl font-black text-gray-900 leading-none",children:g.value}),e.jsxs("span",{className:`flex items-center text-[10px] font-bold ${g.trend==="up"?"text-emerald-600":"text-rose-600"}`,children:[g.trend==="up"?e.jsx(Nl,{size:12}):e.jsx(Ew,{size:12}),g.trend==="up"?"":""]})]})]})]},v))}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden mb-8",children:[e.jsx("div",{className:"p-6 border-b border-slate-100 bg-gray-50/30",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative group",children:[e.jsx(Xe,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"date",className:"pl-11 h-11 px-4 rounded-xl border-2 border-slate-200 text-sm focus:border-indigo-500 transition-all bg-white",value:t,onChange:g=>a(g.target.value)})]}),e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-indigo-50 border border-indigo-100 rounded-xl text-indigo-700 text-xs font-bold",children:[e.jsx(ua,{size:14}),"Efficiency Score: 8.4/10"]})]}),e.jsxs("div",{className:"relative w-full md:w-72",children:[e.jsx(st,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"text",placeholder:"Search performance...",className:"pl-11 h-11 w-full rounded-xl border-2 border-slate-200 focus:border-indigo-500 text-sm transition-all",value:l,onChange:g=>i(g.target.value)})]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Month/Period"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Total Revenue"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Total Expense"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Net Profit"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Margin %"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Status"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:h?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx(dl,{className:"w-8 h-8 text-indigo-500 animate-spin"}),e.jsx("p",{className:"text-slate-500 font-medium",children:"Analyzing performance metrics..."})]})})}):u.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-12 text-center text-slate-400 font-medium italic",children:"No performance data found for the selected period"})}):u.filter(g=>g.month.toLowerCase().includes(l.toLowerCase())).map(g=>e.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 text-sm font-bold text-slate-900",children:g.month}),e.jsx("td",{className:"px-6 py-4 text-sm font-medium text-emerald-600",children:g.revenue}),e.jsx("td",{className:"px-6 py-4 text-sm font-medium text-rose-600",children:g.expense}),e.jsx("td",{className:"px-6 py-4 text-sm font-black text-slate-900",children:g.profit}),e.jsx("td",{className:"px-6 py-4 text-sm font-bold text-indigo-600",children:g.margin}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-widest ${g.status==="Excellent"?"bg-indigo-100 text-indigo-700":g.status==="Good"?"bg-emerald-100 text-emerald-700":"bg-amber-100 text-amber-700"}`,children:g.status})})]},g.id))})]})})]})]})},cO=async(s="",t="All")=>{try{return(await ve.get("/superadmin/gyms",{params:{search:s,status:t}})).data}catch(a){throw a}},dO=async s=>{try{return(await ve.post("/superadmin/gyms",s)).data}catch(t){throw t}},uO=async(s,t)=>{try{return(await ve.patch(`/superadmin/gyms/${s}`,t)).data}catch(a){throw a}},xO=async s=>{try{return(await ve.delete(`/superadmin/gyms/${s}`)).data}catch(t){throw t}},hO=()=>{Ht();const[s,t]=b.useState(!1),[a,l]=b.useState(!1),[i,o]=b.useState(!1),[c,u]=b.useState(!1),[x,h]=b.useState(null),[p,f]=b.useState(""),[y,g]=b.useState([]),[v,C]=b.useState(!0),[N,k]=b.useState({name:"",branchName:"",owner:"",phone:"",email:"",location:"",status:"Active"});b.useEffect(()=>{A()},[]);const A=async()=>{try{C(!0);const z=await cO();g(z.gyms||[])}catch(z){console.error("Failed to load branches:",z),ot.error("Failed to load branches")}finally{C(!1)}},E=[{id:101,name:"Rahul V.",role:"Trainer",status:"Available"},{id:102,name:"Pooja K.",role:"Manager",status:"Assigned"},{id:103,name:"Vikram S.",role:"Trainer",status:"Available"},{id:104,name:"Anita D.",role:"Staff",status:"Available"}],w=z=>{h(z),o(!0)},R=z=>{h(z),k({name:z.gymName,branchName:z.branchName||"",owner:z.owner||"",phone:z.phone||"",email:"",location:z.location||"",status:z.status}),u(!0)},T=async z=>{if(window.confirm("Are you sure you want to delete this branch? This action cannot be undone."))try{await xO(z),ot.success("Branch deleted successfully"),A()}catch(P){console.error("Failed to delete branch:",P),ot.error("Failed to delete branch")}},O=z=>{const{name:P,value:F}=z.target;k(G=>({...G,[P]:F}))},W=async()=>{try{if(!N.branchName||!N.email){ot.error("Branch Name and Email are required");return}const z={gymName:N.branchName,branchName:N.branchName,owner:N.owner,phone:N.phone,location:N.location,email:N.email};await dO(z),ot.success("Branch created successfully"),t(!1),k({name:"",branchName:"",owner:"",phone:"",email:"",location:"",status:"Active"}),A()}catch(z){console.error("Failed to save branch:",z);const P=z.response?.data?.message||z.message||"Failed to create branch";ot.error(P)}},B=async()=>{try{const z={name:N.name,branchName:N.branchName,owner:N.owner,phone:N.phone,location:N.location,status:N.status};await uO(x.id,z),ot.success("Branch updated successfully"),u(!1),A()}catch(z){console.error("Failed to update branch:",z),ot.error("Failed to update branch")}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-6 md:p-8",children:[e.jsxs("div",{className:"mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(zr,{size:28})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Branch Management"}),e.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Configure and manage your gym locations and staff assignments"})]})]}),e.jsxs("button",{onClick:()=>t(!0),className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-violet-600 to-purple-600 hover:shadow-xl hover:shadow-violet-500/50 text-white rounded-xl text-sm font-bold transition-all hover:scale-[1.02] active:scale-[0.98]",children:[e.jsx(wt,{size:18,strokeWidth:3}),"Add New Branch"]})]})})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 flex flex-col md:flex-row justify-between items-center gap-4",children:[e.jsxs("div",{className:"relative w-full md:w-80 group",children:[e.jsx(st,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 transition-colors",size:18}),e.jsx("input",{type:"text",placeholder:"Search by branch name or code...",className:"w-full pl-11 pr-4 py-2.5 bg-slate-50 border-2 border-slate-100 rounded-xl text-sm focus:outline-none focus:ring-4 focus:ring-violet-500/10 focus:border-violet-500 transition-all font-medium",value:p,onChange:z=>f(z.target.value)})]}),e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-slate-50 border border-slate-100 rounded-xl text-slate-500 text-xs font-bold",children:[e.jsx(ks,{size:14}),"Filtered by Active"]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{className:"bg-slate-50/50 border-b border-slate-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-slate-400 uppercase tracking-wider",children:"Branch Details"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-slate-400 uppercase tracking-wider text-center",children:"Branch Code"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-slate-400 uppercase tracking-wider",children:"Manager"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-slate-400 uppercase tracking-wider text-center",children:"Staff"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-slate-400 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-slate-400 uppercase tracking-wider text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:v?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"text-center py-8 text-slate-500",children:e.jsxs("div",{className:"flex justify-center items-center gap-2",children:[e.jsx(lu,{className:"animate-spin",size:20})," Loading branches..."]})})}):y.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"text-center py-8 text-slate-500",children:"No branches found."})}):y.map(z=>e.jsxs("tr",{className:"hover:bg-slate-50/30 transition-colors group",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-violet-50 text-violet-600 flex items-center justify-center shadow-inner group-hover:scale-110 transition-transform",children:e.jsx(Ws,{size:20})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-bold text-slate-800",children:z.gymName||z.branchName}),e.jsx("div",{className:"text-[10px] text-slate-400 font-medium truncate max-w-[150px]",children:z.location||"No address"})]})]})}),e.jsx("td",{className:"px-6 py-4 text-center",children:e.jsxs("span",{className:"px-2 py-1 bg-slate-100 rounded text-[10px] font-black text-slate-500 tracking-wider font-mono uppercase",children:["BR-",z.id.toString().padStart(3,"0")]})}),e.jsx("td",{className:"px-6 py-4 text-sm font-medium text-slate-600 italic",children:z.owner||"N/A"}),e.jsx("td",{className:"px-6 py-4 text-center",children:e.jsxs("div",{className:"inline-flex items-center gap-1.5 px-2 py-1 bg-blue-50 text-blue-600 rounded-lg text-xs font-black",children:[e.jsx(Pt,{size:12}),z.members||0]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:`inline-flex items-center gap-1 text-[10px] font-black uppercase tracking-widest px-2 py-1 rounded-full border ${z.status==="Active"?"text-emerald-600 bg-emerald-50 border-emerald-100":"text-slate-500 bg-slate-100 border-slate-200"}`,children:[e.jsx("div",{className:`h-1 w-1 rounded-full ${z.status==="Active"?"bg-emerald-500 animate-pulse":"bg-slate-400"}`}),z.status]})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-3",children:[e.jsx("button",{onClick:()=>w(z),className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all cursor-pointer",title:"View Details",children:e.jsx(qs,{size:16})}),e.jsx("button",{onClick:()=>R(z),className:"p-2 text-slate-400 hover:text-emerald-600 hover:bg-emerald-50 rounded-lg transition-all cursor-pointer",title:"Edit Branch",children:e.jsx(Ra,{size:16})}),e.jsx("button",{onClick:()=>T(z.id),className:"p-2 text-slate-400 hover:text-rose-600 hover:bg-rose-50 rounded-lg transition-all cursor-pointer",title:"Delete Branch",children:e.jsx(xs,{size:16})})]})})]},z.id))})]})})]}),e.jsx(rt,{isOpen:s,onClose:()=>t(!1),title:"Add New Branch",subtitle:"Fill in the details to create a new location",footer:e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsx("button",{onClick:()=>t(!1),className:"px-6 py-2.5 bg-slate-100 text-slate-600 rounded-xl text-sm font-bold hover:bg-slate-200 transition-all active:scale-95",children:"Cancel"}),e.jsx("button",{onClick:W,className:"px-8 py-2.5 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-xl text-sm font-bold shadow-lg shadow-violet-500/30 hover:shadow-violet-500/50 transition-all hover:scale-105 active:scale-95",children:"Save Branch"})]}),children:e.jsxs("div",{className:"flex flex-col gap-6 p-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Branch Name"}),e.jsx("input",{name:"branchName",value:N.branchName,onChange:O,type:"text",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-100 rounded-xl text-sm focus:border-violet-500 transition-all font-medium",placeholder:"E.g. Southside Studio"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Manager Name"}),e.jsx("input",{name:"owner",value:N.owner,onChange:O,type:"text",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-100 rounded-xl text-sm focus:border-violet-500 transition-all font-medium",placeholder:"John Doe"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Status"}),e.jsxs("select",{name:"status",value:N.status,onChange:O,className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-100 rounded-xl text-sm focus:border-violet-500 transition-all font-medium",children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Suspended",children:"Suspended"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Contact Phone"}),e.jsxs("div",{className:"relative",children:[e.jsx(ja,{className:"absolute left-4 top-3.5 text-slate-300",size:18}),e.jsx("input",{name:"phone",value:N.phone,onChange:O,type:"tel",className:"w-full pl-11 pr-4 py-3 bg-slate-50 border-2 border-slate-100 rounded-xl text-sm focus:border-violet-500 transition-all font-medium",placeholder:"+91 00000 00000"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(_r,{className:"absolute left-4 top-3.5 text-slate-300",size:18}),e.jsx("input",{name:"email",value:N.email,onChange:O,type:"email",className:"w-full pl-11 pr-4 py-3 bg-slate-50 border-2 border-slate-100 rounded-xl text-sm focus:border-violet-500 transition-all font-medium",placeholder:"branch@gym.com"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Address"}),e.jsx("textarea",{name:"location",value:N.location,onChange:O,rows:"3",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-100 rounded-xl text-sm focus:border-violet-500 transition-all font-medium resize-none",placeholder:"Full branch address..."})]})]})}),e.jsx(rt,{isOpen:i,onClose:()=>o(!1),title:"Branch Details",subtitle:x?.name,footer:e.jsx("button",{onClick:()=>o(!1),className:"w-full py-3 bg-slate-100 text-slate-600 rounded-xl text-sm font-bold hover:bg-slate-200 transition-all",children:"Close View"}),children:x&&e.jsxs("div",{className:"flex flex-col gap-8 p-6",children:[e.jsxs("div",{className:"bg-violet-50 rounded-2xl p-6 border border-violet-100 flex flex-col items-center text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-white rounded-2xl shadow-xl flex items-center justify-center text-violet-600 mb-4",children:e.jsx(zr,{size:32})}),e.jsx("h3",{className:"text-xl font-bold text-slate-800",children:x.gymName||x.branchName}),e.jsxs("span",{className:"px-2 py-0.5 bg-violet-600 text-white rounded text-[10px] font-black uppercase tracking-widest mt-2",children:["BR-",x.id.toString().padStart(3,"0")]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest pl-1",children:"Branch Overview"}),e.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[e.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-100 flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-slate-500",children:"Manager"}),e.jsx("span",{className:"text-sm font-bold text-slate-800",children:x.owner})]}),e.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-100 flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-slate-500",children:"Total Staff"}),e.jsxs("span",{className:"text-sm font-bold text-slate-800",children:[x.members||0," Members"]})]}),e.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-100 flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-slate-500",children:"Status"}),e.jsx("span",{className:"text-xs font-bold text-emerald-600 bg-emerald-50 px-2.5 py-1 rounded-lg uppercase tracking-wider",children:x.status})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest pl-1",children:"Location Details"}),e.jsx("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-100 space-y-4",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(Ws,{size:18,className:"text-slate-300 mt-1"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-tighter",children:"Address"}),e.jsx("p",{className:"text-sm font-bold text-slate-700",children:x.location})]})]})})]})]})}),e.jsx(rt,{isOpen:c,onClose:()=>u(!1),title:"Edit Branch",subtitle:"Update location details",footer:e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsx("button",{onClick:()=>u(!1),className:"px-6 py-2.5 bg-slate-100 text-slate-600 rounded-xl text-sm font-bold hover:bg-slate-200 transition-all",children:"Cancel"}),e.jsx("button",{onClick:B,className:"px-8 py-2.5 bg-slate-900 text-white rounded-xl text-sm font-bold shadow-lg hover:shadow-slate-200 transition-all hover:scale-105 active:scale-95",children:"Update Changes"})]}),children:x&&e.jsxs("div",{className:"flex flex-col gap-6 p-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest pl-1",children:"Branch Name"}),e.jsx("input",{name:"name",type:"text",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-100 rounded-xl text-sm font-bold focus:border-violet-500 outline-none transition-all shadow-sm",value:N.name,onChange:O})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest pl-1",children:"Manager"}),e.jsx("input",{name:"owner",type:"text",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-100 rounded-xl text-sm font-bold focus:border-violet-500 outline-none transition-all shadow-sm",value:N.owner,onChange:O})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest pl-1",children:"Status"}),e.jsxs("select",{name:"status",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-100 rounded-xl text-sm font-bold focus:border-violet-500 outline-none transition-all shadow-sm",value:N.status,onChange:O,children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Suspended",children:"Suspended"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest pl-1",children:"Address"}),e.jsx("textarea",{name:"location",rows:"3",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-100 rounded-xl text-sm font-bold focus:border-violet-500 outline-none transition-all shadow-sm resize-none",value:N.location,onChange:O})]})]})}),e.jsx(rt,{isOpen:a,onClose:()=>l(!1),title:"Assign Staff",subtitle:x?`Relocating staff to ${x.name}`:"Manage branch staff",maxWidth:"max-w-2xl",footer:e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsx("button",{onClick:()=>l(!1),className:"px-6 py-2.5 border border-slate-200 text-slate-600 rounded-xl text-sm font-bold hover:bg-slate-50 transition-all",children:"Cancel"}),e.jsx("button",{className:"px-10 py-2.5 bg-slate-900 text-white rounded-xl text-sm font-bold shadow-lg hover:shadow-slate-200 transition-all transform hover:scale-105 active:scale-95",children:"Update Assignment"})]}),children:e.jsxs("div",{className:"flex flex-col gap-8 p-6",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"relative flex-1 group",children:[e.jsx(st,{className:"absolute left-4 top-3 text-slate-300 group-focus-within:text-violet-500",size:18}),e.jsx("input",{type:"text",className:"w-full pl-11 pr-4 py-2.5 bg-slate-50 rounded-xl text-sm border-2 border-slate-100 focus:border-violet-500 outline-none transition-all",placeholder:"Search staff by name or role..."})]}),e.jsx("button",{className:"p-2.5 border-2 border-slate-100 rounded-xl text-slate-400 hover:text-violet-600 hover:bg-violet-50 transition-colors",children:e.jsx(ks,{size:20})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[e.jsx(Pt,{size:14,className:"text-blue-500"})," Available Staff"]}),e.jsx("span",{className:"text-[10px] font-bold text-slate-300",children:"Total: 3"})]}),e.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto pr-2 custom-scrollbar",children:E.map(z=>e.jsxs("div",{className:"p-3 bg-slate-50 border border-slate-100 rounded-xl flex items-center justify-between group hover:border-violet-200 transition-all",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-bold text-slate-700",children:z.name}),e.jsx("div",{className:"text-[10px] text-slate-400 font-medium",children:z.role})]}),e.jsx("button",{className:"p-1.5 bg-white border border-slate-200 text-slate-300 rounded-lg hover:text-emerald-500 hover:border-emerald-500 transition-all",children:e.jsx(wt,{size:14})})]},z.id))})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[e.jsx(Zn,{size:14,className:"text-emerald-500"})," Assigned Staff"]}),e.jsx("span",{className:"text-[10px] font-bold text-slate-300",children:"Total: 2"})]}),e.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto pr-2 custom-scrollbar",children:e.jsxs("div",{className:"p-3 bg-emerald-50/30 border border-emerald-100 rounded-xl flex items-center justify-between group",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-bold text-emerald-800",children:"Amit Singh"}),e.jsx("div",{className:"text-[10px] text-emerald-600 font-medium",children:"Head Manager"})]}),e.jsx("button",{className:"p-1.5 bg-white border border-emerald-100 text-rose-400 rounded-lg hover:bg-rose-50 transition-all opacity-0 group-hover:opacity-100",children:e.jsx(Yr,{size:14})})]})})]})]})]})})]})},mO=()=>{const[s,t]=b.useState(!1),[a,l]=b.useState(!0),[i,o]=b.useState(null),[c,u]=b.useState({paymentWebhook:"",whatsappWebhook:"",attendanceWebhook:"",secret:"whsec_5f8a9b2c3d4e5f6g7h8i9j0k"});b.useEffect(()=>{(async()=>{try{const f=await ob();f.webhooks&&u(y=>({...y,...f.webhooks}))}catch(f){console.error("Failed to load webhook settings:",f)}finally{l(!1)}})()},[]);const x=(p,f)=>{p&&(navigator.clipboard.writeText(p),o(f),setTimeout(()=>o(null),2e3))},h=async()=>{t(!0);try{await cb({webhooks:c}),alert("Webhook configurations saved successfully!")}catch(p){console.error("Failed to save webhooks:",p),alert("Failed to save webhooks: "+p.message)}finally{t(!1)}};return e.jsx("div",{className:"min-h-screen bg-slate-50/50 p-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-indigo-600 flex items-center justify-center text-white shadow-lg",children:e.jsx(cx,{size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Webhook Configurations"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Configure real-time triggers for payments and communication"})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between bg-slate-50/50",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(wn,{size:18,className:"text-indigo-600"}),e.jsx("h2",{className:"font-bold text-gray-800",children:"Endpoint Settings"})]}),e.jsx("div",{className:"px-3 py-1 bg-emerald-100 text-emerald-700 rounded-full text-[10px] font-black uppercase tracking-wider",children:"Real-time Sync Active"})]}),e.jsxs("div",{className:"p-8 space-y-8",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("label",{className:"text-sm font-bold text-gray-700 uppercase tracking-tight",children:"Payment Status Webhook"}),e.jsx("span",{className:"text-[10px] font-bold text-indigo-600 bg-indigo-50 px-2 py-0.5 rounded",children:"Trigger: razorpay.payment.captured"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:c.paymentWebhook,onChange:p=>u({...c,paymentWebhook:p.target.value}),placeholder:"https://your-domain.com/webhook",className:"flex-1 px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm font-mono focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 outline-none transition-all"}),e.jsx("button",{onClick:()=>x(c.paymentWebhook,"payment"),className:"px-4 py-3 bg-white border border-slate-200 rounded-xl hover:bg-slate-50 transition-all text-slate-500",children:i==="payment"?e.jsx(Qt,{size:18,className:"text-emerald-500"}):e.jsx(sg,{size:18})})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("label",{className:"text-sm font-bold text-gray-700 uppercase tracking-tight",children:"WhatsApp Trigger Webhook"}),e.jsx("span",{className:"text-[10px] font-bold text-emerald-600 bg-emerald-50 px-2 py-0.5 rounded",children:"Trigger: message.received"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:c.whatsappWebhook,onChange:p=>u({...c,whatsappWebhook:p.target.value}),placeholder:"https://your-domain.com/whatsapp-hook",className:"flex-1 px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm font-mono focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 outline-none transition-all"}),e.jsx("button",{onClick:()=>x(c.whatsappWebhook,"whatsapp"),className:"px-4 py-3 bg-white border border-slate-200 rounded-xl hover:bg-slate-50 transition-all text-slate-500",children:i==="whatsapp"?e.jsx(Qt,{size:18,className:"text-emerald-500"}):e.jsx(sg,{size:18})})]})]}),e.jsxs("div",{className:"p-4 bg-amber-50 rounded-xl border border-amber-100 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-white flex items-center justify-center text-amber-500 shadow-sm",children:e.jsx(Gw,{size:16})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-amber-800 uppercase tracking-widest",children:"Webhook Signing Secret"}),e.jsx("p",{className:"text-sm font-mono font-bold text-amber-900 mt-0.5 mt-1",children:"whsec_***********************"})]})]}),e.jsx("button",{className:"text-xs font-bold text-amber-700 hover:underline",children:"Regenerate"})]})]}),e.jsx("div",{className:"p-6 bg-slate-50 border-t border-slate-100 flex justify-end",children:e.jsxs("button",{onClick:h,disabled:s,className:"flex items-center gap-2 px-8 py-3 bg-indigo-600 text-white rounded-xl font-bold shadow-lg shadow-indigo-100 hover:bg-indigo-700 transition-all active:scale-95",children:[e.jsx(xa,{size:18}),s?"Saving...":"Save Endpoints"]})})]})]})})},pO=()=>{const[s,t]=b.useState(!1),[a,l]=b.useState(!0),[i,o]=b.useState({}),[c,u]=b.useState({sms:"",whatsapp:"",razorpay_id:"",razorpay_secret:""});b.useEffect(()=>{(async()=>{try{const y=await ob();y.apiKeys&&u(g=>({...g,...y.apiKeys}))}catch(y){console.error("Failed to load API keys:",y)}finally{l(!1)}})()},[]);const x=f=>{o(y=>({...y,[f]:!y[f]}))},h=async()=>{t(!0);try{await cb({apiKeys:c}),alert("API credentials updated successfully!")}catch(f){console.error("Failed to save API keys:",f),alert("Failed to save keys: "+f.message)}finally{t(!1)}},p=({label:f,icon:y,value:g,id:v,placeholder:C,onChange:N})=>e.jsxs("div",{className:"space-y-3 p-6 bg-white rounded-2xl border border-slate-100 shadow-sm hover:shadow-md transition-all",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(y,{size:18,className:"text-indigo-600"}),e.jsx("label",{className:"text-sm font-bold text-gray-700 uppercase tracking-tight",children:f})]}),e.jsx("button",{type:"button",onClick:()=>x(v),className:"text-slate-400 hover:text-indigo-600 transition-colors",children:i[v]?e.jsx(Bh,{size:18}):e.jsx(qs,{size:18})})]}),e.jsx("input",{type:i[v]?"text":"password",value:g||"",onChange:k=>N(k.target.value),placeholder:C,className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm font-mono focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 outline-none transition-all"})]});return e.jsx("div",{className:"min-h-screen bg-slate-50/50 p-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-indigo-600 flex items-center justify-center text-white shadow-lg",children:e.jsx(Bw,{size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"API Key Management"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Securely manage your 3rd party gateway credentials"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(p,{id:"sms",label:"SMS Gateway (Twilio/BulkSMS)",icon:Kl,value:c.sms,onChange:f=>u({...c,sms:f}),placeholder:"Enter API Key or Secret"}),e.jsx(p,{id:"whatsapp",label:"WhatsApp Business API",icon:sr,value:c.whatsapp,onChange:f=>u({...c,whatsapp:f}),placeholder:"System User Access Token"}),e.jsx(p,{id:"razorpay_id",label:"Razorpay Key ID",icon:Rs,value:c.razorpay_id,onChange:f=>u({...c,razorpay_id:f}),placeholder:"Key ID"}),e.jsx(p,{id:"razorpay_secret",label:"Razorpay Secret",icon:Cn,value:c.razorpay_secret,onChange:f=>u({...c,razorpay_secret:f}),placeholder:"Key Secret"})]}),e.jsxs("div",{className:"bg-indigo-50 p-6 rounded-2xl border border-indigo-100 flex items-start gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-white flex items-center justify-center text-indigo-600 shadow-sm shrink-0",children:e.jsx(Cn,{size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-bold text-indigo-900",children:"Security Note"}),e.jsx("p",{className:"text-xs text-indigo-700/70 mt-1",children:"Keys are encrypted at rest with AES-256. Never share your API keys or secrets in public repositories."})]})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsxs("button",{onClick:h,disabled:s,className:"flex items-center gap-2 px-10 py-4 bg-indigo-600 text-white rounded-xl font-bold shadow-lg shadow-indigo-100 hover:bg-indigo-700 transition-all active:scale-95",children:[e.jsx(xa,{size:18}),s?"Securing...":"Propagate API Keys"]})})]})})},fO=()=>{const[s,t]=b.useState(!1),[a,l]=b.useState(!0),[i,o]=b.useState([]),[c,u]=b.useState(null),[x,h]=b.useState({});b.useEffect(()=>{(async()=>{try{const A=await ob();A.messageTemplates?o(A.messageTemplates):o([{id:1,name:"Membership Renewal Reminder",type:"WhatsApp",text:"Hi {{member_name}}, your membership {{plan_name}} expires in {{days}} days. Renew now at {{link}}"},{id:2,name:"Payment Success",type:"Email",text:"Hello {{name}}, we have received your payment of {{amount}} for {{month}}."},{id:3,name:"Class Cancellation",type:"SMS",text:"Alert: The {{class_name}} on {{date}} has been cancelled. Credits refunded."}])}catch(A){console.error("Failed to load templates:",A)}finally{l(!1)}})()},[]);const p=async()=>{t(!0);try{await cb({messageTemplates:i}),alert("Templates saved successfully!")}catch(k){console.error("Failed to save templates:",k),alert("Failed to save: "+k.message)}finally{t(!1)}},f=k=>{u(k.id),h({...k})},y=()=>{u(null),h({})},g=()=>{o(k=>k.map(A=>A.id===c?x:A)),u(null),h({})},v=k=>{window.confirm("Are you sure you want to delete this template?")&&o(A=>A.filter(E=>E.id!==k))},C=()=>{const A={id:i.length>0?Math.max(...i.map(E=>E.id))+1:1,name:"New Template",type:"SMS",text:"Enter template text here..."};o([...i,A]),f(A)},N=k=>{switch(k){case"Email":return e.jsx(_r,{size:16});case"WhatsApp":return e.jsx(sr,{size:16,className:"text-emerald-500"});case"SMS":return e.jsx(Xo,{size:16,className:"text-blue-500"});default:return e.jsx(ag,{size:16})}};return e.jsx("div",{className:"min-h-screen bg-slate-50/50 p-6",children:e.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-8",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-indigo-600 flex items-center justify-center text-white shadow-lg",children:e.jsx(ag,{size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Communication Templates"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Manage automated message content for all channels"})]})]}),e.jsxs("button",{onClick:C,className:"flex items-center gap-2 px-6 py-3 bg-white border border-slate-200 rounded-xl font-bold text-gray-700 hover:bg-slate-50 transition-all shadow-sm",children:[e.jsx(wt,{size:18}),"Create Template"]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:i.map(k=>e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-6 shadow-sm hover:shadow-md transition-all group",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-slate-100 rounded-lg",children:N(c===k.id?x.type:k.type)}),c===k.id?e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:x.name,onChange:A=>h({...x,name:A.target.value}),className:"px-2 py-1 bg-slate-50 border border-slate-200 rounded text-sm font-bold outline-none focus:border-indigo-500"}),e.jsxs("select",{value:x.type,onChange:A=>h({...x,type:A.target.value}),className:"px-2 py-1 bg-slate-50 border border-slate-200 rounded text-[10px] font-black outline-none",children:[e.jsx("option",{children:"WhatsApp"}),e.jsx("option",{children:"SMS"}),e.jsx("option",{children:"Email"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"font-bold text-gray-800",children:k.name}),e.jsx("span",{className:"px-2 py-0.5 bg-slate-100 text-slate-600 rounded text-[10px] font-black uppercase tracking-tighter",children:k.type})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:c===k.id?e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:g,className:"p-2 bg-emerald-50 text-emerald-600 rounded-lg hover:bg-emerald-100 transition-all",children:e.jsx(wr,{size:16})}),e.jsx("button",{onClick:y,className:"p-2 bg-rose-50 text-rose-600 rounded-lg hover:bg-rose-100 transition-all",children:e.jsx(Yr,{size:16})})]}):e.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:()=>f(k),className:"p-2 hover:bg-slate-100 rounded-lg text-slate-400 hover:text-indigo-600",children:e.jsx(Ra,{size:16})}),e.jsx("button",{onClick:()=>v(k.id),className:"p-2 hover:bg-red-50 rounded-lg text-slate-400 hover:text-red-600",children:e.jsx(xs,{size:16})})]})})]}),c===k.id?e.jsx("textarea",{value:x.text,onChange:A=>h({...x,text:A.target.value}),className:"w-full p-4 bg-slate-50 rounded-xl border border-slate-200 font-mono text-xs text-slate-600 leading-relaxed mb-4 min-h-[100px] outline-none focus:border-indigo-500"}):e.jsx("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-100 font-mono text-xs text-slate-600 leading-relaxed mb-4",children:k.text}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Available Placeholders:"}),e.jsx("div",{className:"flex gap-1.5 flex-wrap",children:["member_name","plan_name","amount","date","days","link"].map(A=>e.jsx("code",{className:"text-[10px] bg-indigo-50 text-indigo-600 px-1.5 py-0.5 rounded font-bold",children:`{{${A}}}`},A))})]})]},k.id))}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsxs("button",{onClick:p,disabled:s,className:"flex items-center gap-2 px-8 py-3 bg-indigo-600 text-white rounded-xl font-bold shadow-lg shadow-indigo-100 hover:bg-indigo-700 transition-all active:scale-95",children:[e.jsx(xa,{size:18}),s?"Saving...":"Save All Templates"]})})]})})};function gO(){const{role:s,loading:t}=Oi();return t?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."}):e.jsxs(e.Fragment,{children:[e.jsx(Gk,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#fff",color:"#363636",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)",borderRadius:"12px"}}}),e.jsxs(S3,{children:[e.jsx(De,{path:"/login",element:e.jsx(K7,{})}),e.jsxs(De,{element:s?e.jsx(tD,{role:s}):e.jsx(el,{to:"/login",replace:!0}),children:[e.jsx(De,{path:"/",element:e.jsx(el,{to:"/login",replace:!0})}),e.jsx(De,{path:"/dashboard",element:e.jsx(ZD,{role:s})}),e.jsx(De,{path:"/trainer/members/assigned",element:e.jsx(kz,{})}),e.jsx(De,{path:"/trainer/profile/me",element:e.jsx(Sz,{})}),e.jsx(De,{path:"/trainer/earnings",element:e.jsx(Cz,{})}),e.jsx(De,{path:"/trainer/attendance",element:e.jsx(Az,{})}),e.jsx(De,{path:"/trainer/announcements",element:e.jsx(Dz,{})}),e.jsx(De,{path:"/trainer/availability",element:e.jsx(Lz,{})}),e.jsx(De,{path:"/trainer/sessions/calendar",element:e.jsx(Ez,{})}),e.jsx(De,{path:"/trainer/sessions/upcoming",element:e.jsx(Mz,{})}),(s===it.SUPER_ADMIN||s===it.MANAGER||s===it.BRANCH_ADMIN||s===it.STAFF)&&e.jsxs(e.Fragment,{children:[e.jsx(De,{path:"/memberships",element:e.jsx(t9,{})}),e.jsx(De,{path:"/memberships/new",element:e.jsx(yy,{})}),e.jsx(De,{path:"/memberships/benefits",element:e.jsx(n9,{})}),e.jsx(De,{path:"/memberships/benefits-config",element:e.jsx(i9,{})}),e.jsx(De,{path:"/memberships/plans",element:e.jsx(u9,{})}),e.jsx(De,{path:"/memberships/requests",element:e.jsx(c9,{})}),e.jsx(De,{path:"/memberships/:id",element:e.jsx(r9,{})}),e.jsx(De,{path:"/memberships/:id/edit",element:e.jsx(yy,{})}),e.jsx(De,{path:"/members/renewal-alerts",element:e.jsx(_9,{})})]}),(s===it.SUPER_ADMIN||s===it.MANAGER||s===it.BRANCH_ADMIN||s===it.TRAINER)&&e.jsxs(e.Fragment,{children:[e.jsx(De,{path:"/classes",element:e.jsx(xL,{})}),e.jsx(De,{path:"/classes/new",element:e.jsx(wy,{})}),e.jsx(De,{path:"/classes/:id",element:e.jsx(hL,{})}),e.jsx(De,{path:"/classes/:id/edit",element:e.jsx(wy,{})}),e.jsx(De,{path:"/classes/:id/assign-trainer",element:e.jsx(fL,{})}),e.jsx(De,{path:"/classes/:id/enroll",element:e.jsx(gL,{})})]}),e.jsx(De,{path:"/diet-plans",element:e.jsx(mf,{role:s})}),e.jsx(De,{path:"/diet-plans/create",element:e.jsx(mf,{role:s})}),e.jsx(De,{path:"/diet-plans/*",element:e.jsx(mf,{role:s})}),e.jsx(De,{path:"/workout-plans/*",element:e.jsx(MM,{role:s})}),e.jsx(De,{path:"/progress/*",element:e.jsx(_M,{})}),(s===it.SUPER_ADMIN||s===it.MANAGER||s===it.BRANCH_ADMIN||s===it.STAFF||s===it.TRAINER)&&e.jsxs(De,{path:"/crm",element:e.jsx(zz,{}),children:[e.jsx(De,{path:"inquiry",element:s!==it.TRAINER?e.jsx(Pz,{}):e.jsx(el,{to:"/crm/my-leads",replace:!0})}),e.jsx(De,{path:"pipeline",element:s!==it.TRAINER?e.jsx(e2,{}):e.jsx(el,{to:"/crm/my-leads",replace:!0})}),e.jsx(De,{path:"followups",element:s!==it.TRAINER?e.jsx(Kg,{}):e.jsx(el,{to:"/crm/my-leads",replace:!0})}),e.jsx(De,{path:"my-leads",element:e.jsx(e2,{})})]}),(s===it.MANAGER||s===it.BRANCH_ADMIN)&&e.jsxs(De,{path:"/settings",element:e.jsx(jj,{role:s}),children:[e.jsx(De,{index:!0,element:e.jsx(AR,{role:s})}),e.jsx(De,{path:"branches",element:e.jsx(DR,{})}),e.jsx(De,{path:"roles",element:e.jsx(LR,{})}),e.jsx(De,{path:"billing",element:e.jsx(ER,{})}),e.jsx(De,{path:"integrations",element:e.jsx(MR,{})}),e.jsx(De,{path:"notifications",element:e.jsx(wj,{})}),e.jsx(De,{path:"payment-gateway",element:e.jsx(Nj,{})}),e.jsx(De,{path:"security",element:e.jsx(zR,{role:s})}),e.jsx(De,{path:"logs",element:e.jsx(_R,{})}),e.jsx(De,{path:"webhooks",element:e.jsx(mO,{})}),e.jsx(De,{path:"api-keys",element:e.jsx(pO,{})}),e.jsx(De,{path:"templates",element:e.jsx(fO,{})}),e.jsx(De,{path:"amenities",element:e.jsx(PR,{})})]}),e.jsxs(De,{path:"/operations",element:e.jsx(bL,{}),children:[e.jsx(De,{index:!0,element:s!==it.MEMBER?e.jsx(vL,{}):e.jsx(el,{to:"/dashboard",replace:!0})}),e.jsx(De,{path:"equipment",element:s!==it.MEMBER?e.jsx(jL,{}):e.jsx(el,{to:"/dashboard",replace:!0})}),e.jsx(De,{path:"lockers",element:s!==it.MEMBER?e.jsx(Ky,{}):e.jsx(el,{to:"/dashboard",replace:!0})}),e.jsx(De,{path:"inventory",element:s!==it.MEMBER?e.jsx(wL,{}):e.jsx(el,{to:"/dashboard",replace:!0})}),e.jsx(De,{path:"announcements",element:s!==it.MEMBER?e.jsx(SL,{}):e.jsx(el,{to:"/dashboard",replace:!0})}),e.jsx(De,{path:"rewards",element:s!==it.MEMBER?e.jsx(AL,{}):e.jsx(el,{to:"/dashboard",replace:!0})}),e.jsx(De,{path:"feedback",element:e.jsx(ky,{role:s})}),e.jsx(De,{path:"whatsapp",element:s!==it.MEMBER?e.jsx(yE,{}):e.jsx(el,{to:"/dashboard",replace:!0})}),e.jsx(De,{path:"devices",element:s!==it.MEMBER?e.jsx(jE,{}):e.jsx(el,{to:"/dashboard",replace:!0})}),e.jsx(De,{path:"live-monitor",element:s!==it.MEMBER?e.jsx(Yy,{}):e.jsx(el,{to:"/dashboard",replace:!0})})]}),(s===it.SUPER_ADMIN||s===it.MANAGER||s===it.BRANCH_ADMIN||s===it.STAFF)&&e.jsxs(e.Fragment,{children:[e.jsx(De,{path:"/facility/equipment",element:e.jsx(KR,{})}),e.jsx(De,{path:"/facility/maintenance",element:e.jsx(JR,{})}),e.jsx(De,{path:"/facility/history",element:e.jsx(QR,{})})]}),s!==it.MEMBER&&s!==it.TRAINER&&e.jsxs(e.Fragment,{children:[e.jsx(De,{path:"/finance/dashboard",element:e.jsx(RR,{})}),e.jsx(De,{path:"/finance/pos",element:e.jsx(OR,{})}),e.jsx(De,{path:"/finance/invoices",element:e.jsx($R,{})}),e.jsx(De,{path:"/finance/expenses",element:e.jsx(HR,{})}),e.jsx(De,{path:"/finance/commissions",element:e.jsx(WR,{})}),e.jsx(De,{path:"/finance/cashier",element:e.jsx(Sj,{})}),e.jsx(De,{path:"/finance/transactions",element:e.jsx(Cj,{})}),e.jsx(De,{path:"/finance/petty-cash",element:e.jsx(GR,{})}),e.jsx(De,{path:"/staff/payments/collect",element:e.jsx(Sj,{})}),e.jsx(De,{path:"/staff/payments/history",element:e.jsx(Cj,{})})]}),e.jsx(De,{path:"/hr/payroll",element:e.jsx(ZR,{})}),e.jsx(De,{path:"/hr/leave-requests",element:e.jsx(aO,{})}),e.jsx(De,{path:"/hr/staff/management",element:e.jsx(bz,{role:s,branchId:1})}),e.jsx(De,{path:"/hr/staff/create",element:e.jsx(Dj,{})}),e.jsx(De,{path:"/hr/staff/edit/:id",element:e.jsx(Dj,{})}),(s===it.SUPER_ADMIN||s===it.MANAGER||s===it.BRANCH_ADMIN)&&e.jsxs(e.Fragment,{children:[e.jsx(De,{path:"/superadmin/wallet",element:e.jsx(Ty,{role:s})}),e.jsx(De,{path:"/superadmin/trainer-requests",element:e.jsx(YE,{role:s})}),e.jsx(De,{path:"/superadmin/trainer-change-requests",element:e.jsx(Py,{role:s})}),e.jsx(De,{path:"/superadmin/payroll/create",element:e.jsx(Ry,{role:s})}),e.jsx(De,{path:"/superadmin/payroll/history",element:e.jsx(Oy,{role:s})}),e.jsx(De,{path:"/superadmin/payroll/history/:employeeId",element:e.jsx(Oy,{role:s})})]}),s===it.SUPER_ADMIN&&e.jsxs(e.Fragment,{children:[e.jsx(De,{path:"/superadmin/plans/list",element:e.jsx(NE,{})}),e.jsx(De,{path:"/superadmin/plans",element:e.jsx(el,{to:"/superadmin/plans/list",replace:!0})}),e.jsx(De,{path:"/superadmin/plans/create",element:e.jsx(kE,{})}),e.jsx(De,{path:"/superadmin/plans/features",element:e.jsx(SE,{})}),e.jsx(De,{path:"/superadmin/gyms/all",element:e.jsx(DE,{})}),e.jsx(De,{path:"/superadmin/gyms",element:e.jsx(el,{to:"/superadmin/gyms/all",replace:!0})}),e.jsx(De,{path:"/superadmin/gyms/suspended",element:e.jsx(LE,{})}),e.jsx(De,{path:"/superadmin/subscriptions/active",element:e.jsx(EE,{})}),e.jsx(De,{path:"/superadmin/subscriptions/expired",element:e.jsx(ME,{})}),e.jsx(De,{path:"/superadmin/audit-logs/activity",element:e.jsx(zE,{})}),e.jsx(De,{path:"/superadmin/audit-logs/webhooks",element:e.jsx(_E,{})}),e.jsx(De,{path:"/superadmin/general-settings/general",element:e.jsx(Ey,{})}),e.jsx(De,{path:"/superadmin/general-settings/invoice",element:e.jsx(My,{})}),e.jsx(De,{path:"/superadmin/general-settings/hardware",element:e.jsx(zy,{})}),e.jsx(De,{path:"/superadmin/general-settings/booking",element:e.jsx(FE,{})}),e.jsx(De,{path:"/superadmin/profile/me",element:e.jsx(IE,{})}),e.jsx(De,{path:"/superadmin/store/dashboard",element:e.jsx(XE,{})}),e.jsx(De,{path:"/superadmin/store/products",element:e.jsx(JE,{})}),e.jsx(De,{path:"/superadmin/store/orders",element:e.jsx(ZE,{})}),e.jsx(De,{path:"/superadmin/store/inventory",element:e.jsx(Fy,{})})]}),s===it.BRANCH_ADMIN&&e.jsxs(e.Fragment,{children:[e.jsx(De,{path:"/branchadmin/promos",element:e.jsx(VR,{})}),e.jsx(De,{path:"/branchadmin/store/inventory",element:e.jsx(Fy,{})}),e.jsx(De,{path:"/branchadmin/members/list",element:e.jsx(pf,{})}),e.jsx(De,{path:"/branchadmin/bookings/calendar",element:e.jsx($y,{})}),e.jsx(De,{path:"/branchadmin/tasks/list",element:e.jsx(ff,{})}),e.jsx(De,{path:"/branchadmin/tasks/assign",element:e.jsx(qy,{})}),e.jsx(De,{path:"/branchadmin/reports/daily-attendance",element:e.jsx(Hy,{})}),e.jsx(De,{path:"/branchadmin/reports/booking",element:e.jsx(Gy,{})}),e.jsx(De,{path:"/branchadmin/reports/revenue",element:e.jsx(rO,{})}),e.jsx(De,{path:"/branchadmin/reports/membership",element:e.jsx(lO,{})}),e.jsx(De,{path:"/branchadmin/reports/lead-conversion",element:e.jsx(nO,{})}),e.jsx(De,{path:"/branchadmin/reports/expenses",element:e.jsx(iO,{})}),e.jsx(De,{path:"/branchadmin/reports/performance",element:e.jsx(oO,{})}),e.jsx(De,{path:"/branchadmin/branch-management/branches",element:e.jsx(hO,{})}),e.jsxs(De,{element:e.jsx(jj,{role:s}),children:[e.jsx(De,{path:"/branchadmin/settings/general",element:e.jsx(Ey,{})}),e.jsx(De,{path:"/branchadmin/settings/hardware",element:e.jsx(zy,{})}),e.jsx(De,{path:"/branchadmin/settings/communication",element:e.jsx(wj,{})}),e.jsx(De,{path:"/branchadmin/settings/payments",element:e.jsx(Nj,{})}),e.jsx(De,{path:"/branchadmin/settings/invoice",element:e.jsx(My,{})})]}),e.jsx(De,{path:"/branchadmin/profile/me",element:e.jsx(Vy,{})})]}),s===it.MANAGER&&e.jsxs(e.Fragment,{children:[e.jsx(De,{path:"/manager/attendance/live-checkin",element:e.jsx(Yy,{})}),e.jsx(De,{path:"/manager/attendance/today/member",element:e.jsx($M,{})}),e.jsx(De,{path:"/manager/attendance/today/staff",element:e.jsx(VM,{})}),e.jsx(De,{path:"/manager/reports/daily-attendance",element:e.jsx(Hy,{})}),e.jsx(De,{path:"/manager/reports/booking",element:e.jsx(Gy,{})}),e.jsx(De,{path:"/manager/bookings/calendar",element:e.jsx($y,{})}),e.jsx(De,{path:"/manager/tasks",element:e.jsx(ff,{})}),e.jsx(De,{path:"/manager/tasks/list",element:e.jsx(ff,{})}),e.jsx(De,{path:"/manager/tasks/assign",element:e.jsx(qy,{})}),e.jsx(De,{path:"/manager/communication",element:e.jsx(WM,{})}),e.jsx(De,{path:"/manager/change-requests",element:e.jsx(Py,{role:s})}),e.jsx(De,{path:"/manager/wallet",element:e.jsx(Ty,{role:s})}),e.jsx(De,{path:"/manager/payroll/create",element:e.jsx(Ry,{role:s})}),e.jsx(De,{path:"/manager/members/list",element:e.jsx(pf,{})}),e.jsx(De,{path:"/manager/profile/me",element:e.jsx(Vy,{})})]}),s===it.STAFF&&e.jsxs(e.Fragment,{children:[e.jsx(De,{path:"/staff/attendance/check-in",element:e.jsx(QM,{})}),e.jsx(De,{path:"/staff/attendance/check-out",element:e.jsx(ZM,{})}),e.jsx(De,{path:"/staff/attendance/today",element:e.jsx(tz,{})}),e.jsx(De,{path:"/staff/lockers",element:e.jsx(Ky,{})}),e.jsx(De,{path:"/staff/lockers/assign",element:e.jsx(uz,{})}),e.jsx(De,{path:"/staff/lockers/release",element:e.jsx(xz,{})}),e.jsx(De,{path:"/staff/tasks/my-tasks",element:e.jsx(pz,{})}),e.jsx(De,{path:"/staff/tasks/status",element:e.jsx(fz,{})}),e.jsx(De,{path:"/staff/members/list",element:e.jsx(pf,{})}),e.jsx(De,{path:"/staff/profile/me",element:e.jsx(jz,{})})]}),s===it.MEMBER&&e.jsxs(e.Fragment,{children:[e.jsx(De,{path:"/member/bookings",element:e.jsx(Oz,{})}),e.jsx(De,{path:"/member/check-in",element:e.jsx(Hz,{})}),e.jsx(De,{path:"/member/store",element:e.jsx(az,{})}),e.jsx(De,{path:"/member/membership",element:e.jsx(Vz,{})}),e.jsx(De,{path:"/member/payments",element:e.jsx(jR,{})}),e.jsx(De,{path:"/member/profile/me",element:e.jsx(NR,{})}),e.jsx(De,{path:"/member/wallet",element:e.jsx(kR,{})}),e.jsx(De,{path:"/member/feedback",element:e.jsx(ky,{role:s})})]}),e.jsx(De,{path:"*",element:e.jsx("div",{className:"p-10",children:e.jsx("h1",{children:"Page Not Found"})})})]})]})]})}class bO extends kn.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,a){console.error("Error caught by boundary:",t,a),this.setState({error:t,errorInfo:a})}render(){return this.state.hasError?e.jsxs("div",{style:{padding:"40px",fontFamily:"Inter, sans-serif",backgroundColor:"#fff",minHeight:"100vh"},children:[e.jsx("h1",{style:{color:"#e53e3e",marginBottom:"20px"},children:"Something went wrong"}),e.jsxs("details",{style:{whiteSpace:"pre-wrap",background:"#f7fafc",padding:"20px",borderRadius:"8px"},children:[e.jsx("summary",{style:{cursor:"pointer",fontWeight:"bold",marginBottom:"10px"},children:"Click to see error details"}),e.jsx("p",{style:{color:"#c53030",marginTop:"10px"},children:this.state.error&&this.state.error.toString()}),e.jsx("p",{style:{color:"#2d3748",marginTop:"10px",fontSize:"14px"},children:this.state.errorInfo&&this.state.errorInfo.componentStack})]}),e.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:"20px",padding:"10px 20px",backgroundColor:"#4299e1",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"16px"},children:"Reload Page"})]}):this.props.children}}A6.createRoot(document.getElementById("root")).render(e.jsx(kn.StrictMode,{children:e.jsx(bO,{children:e.jsx(k8,{children:e.jsx(X3,{children:e.jsx(gO,{})})})})}));export{Js as _,vO as c,Eg as g};
