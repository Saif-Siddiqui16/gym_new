(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))l(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function a(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(i){if(i.ep)return;i.ep=!0;const o=a(i);fetch(i.href,o)}})();var jP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function sg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Dp={exports:{}},Rx={};var s1;function u4(){if(s1)return Rx;s1=1;var t=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function a(l,i,o){var d=null;if(o!==void 0&&(d=""+o),i.key!==void 0&&(d=""+i.key),"key"in i){o={};for(var x in i)x!=="key"&&(o[x]=i[x])}else o=i;return i=o.ref,{$$typeof:t,type:l,key:d,ref:i!==void 0?i:null,props:o}}return Rx.Fragment=s,Rx.jsx=a,Rx.jsxs=a,Rx}var a1;function h4(){return a1||(a1=1,Dp.exports=u4()),Dp.exports}var e=h4(),Mp={exports:{}},ts={};var r1;function m4(){if(r1)return ts;r1=1;var t=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),d=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),b=Symbol.iterator;function g(Y){return Y===null||typeof Y!="object"?null:(Y=b&&Y[b]||Y["@@iterator"],typeof Y=="function"?Y:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,w={};function k(Y,$,Q){this.props=Y,this.context=$,this.refs=w,this.updater=Q||j}k.prototype.isReactComponent={},k.prototype.setState=function(Y,$){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,$,"setState")},k.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function C(){}C.prototype=k.prototype;function L(Y,$,Q){this.props=Y,this.context=$,this.refs=w,this.updater=Q||j}var N=L.prototype=new C;N.constructor=L,A(N,k.prototype),N.isPureReactComponent=!0;var P=Array.isArray;function _(){}var F={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function B(Y,$,Q){var ae=Q.ref;return{$$typeof:t,type:Y,key:$,ref:ae!==void 0?ae:null,props:Q}}function T(Y,$){return B(Y.type,$,Y.props)}function q(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===t}function H(Y){var $={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(Q){return $[Q]})}var G=/\/+/g;function W(Y,$){return typeof Y=="object"&&Y!==null&&Y.key!=null?H(""+Y.key):$.toString(36)}function le(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(_,_):(Y.status="pending",Y.then(function($){Y.status==="pending"&&(Y.status="fulfilled",Y.value=$)},function($){Y.status==="pending"&&(Y.status="rejected",Y.reason=$)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function V(Y,$,Q,ae,ue){var me=typeof Y;(me==="undefined"||me==="boolean")&&(Y=null);var be=!1;if(Y===null)be=!0;else switch(me){case"bigint":case"string":case"number":be=!0;break;case"object":switch(Y.$$typeof){case t:case s:be=!0;break;case p:return be=Y._init,V(be(Y._payload),$,Q,ae,ue)}}if(be)return ue=ue(Y),be=ae===""?"."+W(Y,0):ae,P(ue)?(Q="",be!=null&&(Q=be.replace(G,"$&/")+"/"),V(ue,$,Q,"",function(_e){return _e})):ue!=null&&(q(ue)&&(ue=T(ue,Q+(ue.key==null||Y&&Y.key===ue.key?"":(""+ue.key).replace(G,"$&/")+"/")+be)),$.push(ue)),1;be=0;var he=ae===""?".":ae+":";if(P(Y))for(var we=0;we<Y.length;we++)ae=Y[we],me=he+W(ae,we),be+=V(ae,$,Q,me,ue);else if(we=g(Y),typeof we=="function")for(Y=we.call(Y),we=0;!(ae=Y.next()).done;)ae=ae.value,me=he+W(ae,we++),be+=V(ae,$,Q,me,ue);else if(me==="object"){if(typeof Y.then=="function")return V(le(Y),$,Q,ae,ue);throw $=String(Y),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return be}function ne(Y,$,Q){if(Y==null)return Y;var ae=[],ue=0;return V(Y,ae,"","",function(me){return $.call(Q,me,ue++)}),ae}function I(Y){if(Y._status===-1){var $=Y._result;$=$(),$.then(function(Q){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=Q)},function(Q){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=Q)}),Y._status===-1&&(Y._status=0,Y._result=$)}if(Y._status===1)return Y._result.default;throw Y._result}var oe=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)},Ne={map:ne,forEach:function(Y,$,Q){ne(Y,function(){$.apply(this,arguments)},Q)},count:function(Y){var $=0;return ne(Y,function(){$++}),$},toArray:function(Y){return ne(Y,function($){return $})||[]},only:function(Y){if(!q(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}};return ts.Activity=f,ts.Children=Ne,ts.Component=k,ts.Fragment=a,ts.Profiler=i,ts.PureComponent=L,ts.StrictMode=l,ts.Suspense=u,ts.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,ts.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return F.H.useMemoCache(Y)}},ts.cache=function(Y){return function(){return Y.apply(null,arguments)}},ts.cacheSignal=function(){return null},ts.cloneElement=function(Y,$,Q){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var ae=A({},Y.props),ue=Y.key;if($!=null)for(me in $.key!==void 0&&(ue=""+$.key),$)!R.call($,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&$.ref===void 0||(ae[me]=$[me]);var me=arguments.length-2;if(me===1)ae.children=Q;else if(1<me){for(var be=Array(me),he=0;he<me;he++)be[he]=arguments[he+2];ae.children=be}return B(Y.type,ue,ae)},ts.createContext=function(Y){return Y={$$typeof:d,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:o,_context:Y},Y},ts.createElement=function(Y,$,Q){var ae,ue={},me=null;if($!=null)for(ae in $.key!==void 0&&(me=""+$.key),$)R.call($,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(ue[ae]=$[ae]);var be=arguments.length-2;if(be===1)ue.children=Q;else if(1<be){for(var he=Array(be),we=0;we<be;we++)he[we]=arguments[we+2];ue.children=he}if(Y&&Y.defaultProps)for(ae in be=Y.defaultProps,be)ue[ae]===void 0&&(ue[ae]=be[ae]);return B(Y,me,ue)},ts.createRef=function(){return{current:null}},ts.forwardRef=function(Y){return{$$typeof:x,render:Y}},ts.isValidElement=q,ts.lazy=function(Y){return{$$typeof:p,_payload:{_status:-1,_result:Y},_init:I}},ts.memo=function(Y,$){return{$$typeof:h,type:Y,compare:$===void 0?null:$}},ts.startTransition=function(Y){var $=F.T,Q={};F.T=Q;try{var ae=Y(),ue=F.S;ue!==null&&ue(Q,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(_,oe)}catch(me){oe(me)}finally{$!==null&&Q.types!==null&&($.types=Q.types),F.T=$}},ts.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},ts.use=function(Y){return F.H.use(Y)},ts.useActionState=function(Y,$,Q){return F.H.useActionState(Y,$,Q)},ts.useCallback=function(Y,$){return F.H.useCallback(Y,$)},ts.useContext=function(Y){return F.H.useContext(Y)},ts.useDebugValue=function(){},ts.useDeferredValue=function(Y,$){return F.H.useDeferredValue(Y,$)},ts.useEffect=function(Y,$){return F.H.useEffect(Y,$)},ts.useEffectEvent=function(Y){return F.H.useEffectEvent(Y)},ts.useId=function(){return F.H.useId()},ts.useImperativeHandle=function(Y,$,Q){return F.H.useImperativeHandle(Y,$,Q)},ts.useInsertionEffect=function(Y,$){return F.H.useInsertionEffect(Y,$)},ts.useLayoutEffect=function(Y,$){return F.H.useLayoutEffect(Y,$)},ts.useMemo=function(Y,$){return F.H.useMemo(Y,$)},ts.useOptimistic=function(Y,$){return F.H.useOptimistic(Y,$)},ts.useReducer=function(Y,$,Q){return F.H.useReducer(Y,$,Q)},ts.useRef=function(Y){return F.H.useRef(Y)},ts.useState=function(Y){return F.H.useState(Y)},ts.useSyncExternalStore=function(Y,$,Q){return F.H.useSyncExternalStore(Y,$,Q)},ts.useTransition=function(){return F.H.useTransition()},ts.version="19.2.4",ts}var l1;function ag(){return l1||(l1=1,Mp.exports=m4()),Mp.exports}var v=ag();const Di=sg(v);var Lp={exports:{}},Ox={},zp={exports:{}},Ep={};var n1;function p4(){return n1||(n1=1,(function(t){function s(V,ne){var I=V.length;V.push(ne);e:for(;0<I;){var oe=I-1>>>1,Ne=V[oe];if(0<i(Ne,ne))V[oe]=ne,V[I]=Ne,I=oe;else break e}}function a(V){return V.length===0?null:V[0]}function l(V){if(V.length===0)return null;var ne=V[0],I=V.pop();if(I!==ne){V[0]=I;e:for(var oe=0,Ne=V.length,Y=Ne>>>1;oe<Y;){var $=2*(oe+1)-1,Q=V[$],ae=$+1,ue=V[ae];if(0>i(Q,I))ae<Ne&&0>i(ue,Q)?(V[oe]=ue,V[ae]=I,oe=ae):(V[oe]=Q,V[$]=I,oe=$);else if(ae<Ne&&0>i(ue,I))V[oe]=ue,V[ae]=I,oe=ae;else break e}}return ne}function i(V,ne){var I=V.sortIndex-ne.sortIndex;return I!==0?I:V.id-ne.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var d=Date,x=d.now();t.unstable_now=function(){return d.now()-x}}var u=[],h=[],p=1,f=null,b=3,g=!1,j=!1,A=!1,w=!1,k=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function N(V){for(var ne=a(h);ne!==null;){if(ne.callback===null)l(h);else if(ne.startTime<=V)l(h),ne.sortIndex=ne.expirationTime,s(u,ne);else break;ne=a(h)}}function P(V){if(A=!1,N(V),!j)if(a(u)!==null)j=!0,_||(_=!0,H());else{var ne=a(h);ne!==null&&le(P,ne.startTime-V)}}var _=!1,F=-1,R=5,B=-1;function T(){return w?!0:!(t.unstable_now()-B<R)}function q(){if(w=!1,_){var V=t.unstable_now();B=V;var ne=!0;try{e:{j=!1,A&&(A=!1,C(F),F=-1),g=!0;var I=b;try{t:{for(N(V),f=a(u);f!==null&&!(f.expirationTime>V&&T());){var oe=f.callback;if(typeof oe=="function"){f.callback=null,b=f.priorityLevel;var Ne=oe(f.expirationTime<=V);if(V=t.unstable_now(),typeof Ne=="function"){f.callback=Ne,N(V),ne=!0;break t}f===a(u)&&l(u),N(V)}else l(u);f=a(u)}if(f!==null)ne=!0;else{var Y=a(h);Y!==null&&le(P,Y.startTime-V),ne=!1}}break e}finally{f=null,b=I,g=!1}ne=void 0}}finally{ne?H():_=!1}}}var H;if(typeof L=="function")H=function(){L(q)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,W=G.port2;G.port1.onmessage=q,H=function(){W.postMessage(null)}}else H=function(){k(q,0)};function le(V,ne){F=k(function(){V(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(V){switch(b){case 1:case 2:case 3:var ne=3;break;default:ne=b}var I=b;b=ne;try{return V()}finally{b=I}},t.unstable_requestPaint=function(){w=!0},t.unstable_runWithPriority=function(V,ne){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var I=b;b=V;try{return ne()}finally{b=I}},t.unstable_scheduleCallback=function(V,ne,I){var oe=t.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?oe+I:oe):I=oe,V){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=I+Ne,V={id:p++,callback:ne,priorityLevel:V,startTime:I,expirationTime:Ne,sortIndex:-1},I>oe?(V.sortIndex=I,s(h,V),a(u)===null&&V===a(h)&&(A?(C(F),F=-1):A=!0,le(P,I-oe))):(V.sortIndex=Ne,s(u,V),j||g||(j=!0,_||(_=!0,H()))),V},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(V){var ne=b;return function(){var I=b;b=ne;try{return V.apply(this,arguments)}finally{b=I}}}})(Ep)),Ep}var i1;function f4(){return i1||(i1=1,zp.exports=p4()),zp.exports}var Tp={exports:{}},Jr={};var o1;function g4(){if(o1)return Jr;o1=1;var t=ag();function s(u){var h="https://react.dev/errors/"+u;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var l={d:{f:a,r:function(){throw Error(s(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(u,h,p){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:f==null?null:""+f,children:u,containerInfo:h,implementation:p}}var d=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function x(u,h){if(u==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Jr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,Jr.createPortal=function(u,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(s(299));return o(u,h,null,p)},Jr.flushSync=function(u){var h=d.T,p=l.p;try{if(d.T=null,l.p=2,u)return u()}finally{d.T=h,l.p=p,l.d.f()}},Jr.preconnect=function(u,h){typeof u=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,l.d.C(u,h))},Jr.prefetchDNS=function(u){typeof u=="string"&&l.d.D(u)},Jr.preinit=function(u,h){if(typeof u=="string"&&h&&typeof h.as=="string"){var p=h.as,f=x(p,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,g=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?l.d.S(u,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:f,integrity:b,fetchPriority:g}):p==="script"&&l.d.X(u,{crossOrigin:f,integrity:b,fetchPriority:g,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Jr.preinitModule=function(u,h){if(typeof u=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=x(h.as,h.crossOrigin);l.d.M(u,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&l.d.M(u)},Jr.preload=function(u,h){if(typeof u=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,f=x(p,h.crossOrigin);l.d.L(u,p,{crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Jr.preloadModule=function(u,h){if(typeof u=="string")if(h){var p=x(h.as,h.crossOrigin);l.d.m(u,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else l.d.m(u)},Jr.requestFormReset=function(u){l.d.r(u)},Jr.unstable_batchedUpdates=function(u,h){return u(h)},Jr.useFormState=function(u,h,p){return d.H.useFormState(u,h,p)},Jr.useFormStatus=function(){return d.H.useHostTransitionStatus()},Jr.version="19.2.4",Jr}var c1;function Y2(){if(c1)return Tp.exports;c1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(s){console.error(s)}}return t(),Tp.exports=g4(),Tp.exports}var d1;function b4(){if(d1)return Ox;d1=1;var t=f4(),s=ag(),a=Y2();function l(r){var n="https://react.dev/errors/"+r;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)n+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+r+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var n=r,c=r;if(r.alternate)for(;n.return;)n=n.return;else{r=n;do n=r,(n.flags&4098)!==0&&(c=n.return),r=n.return;while(r)}return n.tag===3?c:null}function d(r){if(r.tag===13){var n=r.memoizedState;if(n===null&&(r=r.alternate,r!==null&&(n=r.memoizedState)),n!==null)return n.dehydrated}return null}function x(r){if(r.tag===31){var n=r.memoizedState;if(n===null&&(r=r.alternate,r!==null&&(n=r.memoizedState)),n!==null)return n.dehydrated}return null}function u(r){if(o(r)!==r)throw Error(l(188))}function h(r){var n=r.alternate;if(!n){if(n=o(r),n===null)throw Error(l(188));return n!==r?null:r}for(var c=r,m=n;;){var S=c.return;if(S===null)break;var M=S.alternate;if(M===null){if(m=S.return,m!==null){c=m;continue}break}if(S.child===M.child){for(M=S.child;M;){if(M===c)return u(S),r;if(M===m)return u(S),n;M=M.sibling}throw Error(l(188))}if(c.return!==m.return)c=S,m=M;else{for(var U=!1,ee=S.child;ee;){if(ee===c){U=!0,c=S,m=M;break}if(ee===m){U=!0,m=S,c=M;break}ee=ee.sibling}if(!U){for(ee=M.child;ee;){if(ee===c){U=!0,c=M,m=S;break}if(ee===m){U=!0,m=M,c=S;break}ee=ee.sibling}if(!U)throw Error(l(189))}}if(c.alternate!==m)throw Error(l(190))}if(c.tag!==3)throw Error(l(188));return c.stateNode.current===c?r:n}function p(r){var n=r.tag;if(n===5||n===26||n===27||n===6)return r;for(r=r.child;r!==null;){if(n=p(r),n!==null)return n;r=r.sibling}return null}var f=Object.assign,b=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),L=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),T=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function H(r){return r===null||typeof r!="object"?null:(r=q&&r[q]||r["@@iterator"],typeof r=="function"?r:null)}var G=Symbol.for("react.client.reference");function W(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===G?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case A:return"Fragment";case k:return"Profiler";case w:return"StrictMode";case P:return"Suspense";case _:return"SuspenseList";case B:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case j:return"Portal";case L:return r.displayName||"Context";case C:return(r._context.displayName||"Context")+".Consumer";case N:var n=r.render;return r=r.displayName,r||(r=n.displayName||n.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case F:return n=r.displayName||null,n!==null?n:W(r.type)||"Memo";case R:n=r._payload,r=r._init;try{return W(r(n))}catch{}}return null}var le=Array.isArray,V=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I={pending:!1,data:null,method:null,action:null},oe=[],Ne=-1;function Y(r){return{current:r}}function $(r){0>Ne||(r.current=oe[Ne],oe[Ne]=null,Ne--)}function Q(r,n){Ne++,oe[Ne]=r.current,r.current=n}var ae=Y(null),ue=Y(null),me=Y(null),be=Y(null);function he(r,n){switch(Q(me,n),Q(ue,r),Q(ae,null),n.nodeType){case 9:case 11:r=(r=n.documentElement)&&(r=r.namespaceURI)?Sv(r):0;break;default:if(r=n.tagName,n=n.namespaceURI)n=Sv(n),r=Cv(n,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}$(ae),Q(ae,r)}function we(){$(ae),$(ue),$(me)}function _e(r){r.memoizedState!==null&&Q(be,r);var n=ae.current,c=Cv(n,r.type);n!==c&&(Q(ue,r),Q(ae,c))}function $e(r){ue.current===r&&($(ae),$(ue)),be.current===r&&($(be),Ex._currentValue=I)}var Ke,et;function xe(r){if(Ke===void 0)try{throw Error()}catch(c){var n=c.stack.trim().match(/\n( *(at )?)/);Ke=n&&n[1]||"",et=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ke+r+et}var se=!1;function Ze(r,n){if(!r||se)return"";se=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(n){var He=function(){throw Error()};if(Object.defineProperty(He.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(He,[])}catch(Re){var Te=Re}Reflect.construct(r,[],He)}else{try{He.call()}catch(Re){Te=Re}r.call(He.prototype)}}else{try{throw Error()}catch(Re){Te=Re}(He=r())&&typeof He.catch=="function"&&He.catch(function(){})}}catch(Re){if(Re&&Te&&typeof Re.stack=="string")return[Re.stack,Te.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var M=m.DetermineComponentFrameRoot(),U=M[0],ee=M[1];if(U&&ee){var pe=U.split(`
`),ze=ee.split(`
`);for(S=m=0;m<pe.length&&!pe[m].includes("DetermineComponentFrameRoot");)m++;for(;S<ze.length&&!ze[S].includes("DetermineComponentFrameRoot");)S++;if(m===pe.length||S===ze.length)for(m=pe.length-1,S=ze.length-1;1<=m&&0<=S&&pe[m]!==ze[S];)S--;for(;1<=m&&0<=S;m--,S--)if(pe[m]!==ze[S]){if(m!==1||S!==1)do if(m--,S--,0>S||pe[m]!==ze[S]){var Ie=`
`+pe[m].replace(" at new "," at ");return r.displayName&&Ie.includes("<anonymous>")&&(Ie=Ie.replace("<anonymous>",r.displayName)),Ie}while(1<=m&&0<=S);break}}}finally{se=!1,Error.prepareStackTrace=c}return(c=r?r.displayName||r.name:"")?xe(c):""}function It(r,n){switch(r.tag){case 26:case 27:case 5:return xe(r.type);case 16:return xe("Lazy");case 13:return r.child!==n&&n!==null?xe("Suspense Fallback"):xe("Suspense");case 19:return xe("SuspenseList");case 0:case 15:return Ze(r.type,!1);case 11:return Ze(r.type.render,!1);case 1:return Ze(r.type,!0);case 31:return xe("Activity");default:return""}}function At(r){try{var n="",c=null;do n+=It(r,c),c=r,r=r.return;while(r);return n}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var Xe=Object.prototype.hasOwnProperty,kt=t.unstable_scheduleCallback,nt=t.unstable_cancelCallback,Ct=t.unstable_shouldYield,gt=t.unstable_requestPaint,Ye=t.unstable_now,Kt=t.unstable_getCurrentPriorityLevel,vt=t.unstable_ImmediatePriority,cs=t.unstable_UserBlockingPriority,rs=t.unstable_NormalPriority,dt=t.unstable_LowPriority,Jt=t.unstable_IdlePriority,Nt=t.log,Da=t.unstable_setDisableYieldValue,xs=null,Tt=null;function Ht(r){if(typeof Nt=="function"&&Da(r),Tt&&typeof Tt.setStrictMode=="function")try{Tt.setStrictMode(xs,r)}catch{}}var ps=Math.clz32?Math.clz32:Ot,Lt=Math.log,Zs=Math.LN2;function Ot(r){return r>>>=0,r===0?32:31-(Lt(r)/Zs|0)|0}var Wt=256,Ws=262144,ls=4194304;function St(r){var n=r&42;if(n!==0)return n;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Ss(r,n,c){var m=r.pendingLanes;if(m===0)return 0;var S=0,M=r.suspendedLanes,U=r.pingedLanes;r=r.warmLanes;var ee=m&134217727;return ee!==0?(m=ee&~M,m!==0?S=St(m):(U&=ee,U!==0?S=St(U):c||(c=ee&~r,c!==0&&(S=St(c))))):(ee=m&~M,ee!==0?S=St(ee):U!==0?S=St(U):c||(c=m&~r,c!==0&&(S=St(c)))),S===0?0:n!==0&&n!==S&&(n&M)===0&&(M=S&-S,c=n&-n,M>=c||M===32&&(c&4194048)!==0)?n:S}function Zl(r,n){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&n)===0}function jr(r,n){switch(r){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sn(){var r=ls;return ls<<=1,(ls&62914560)===0&&(ls=4194304),r}function Cl(r){for(var n=[],c=0;31>c;c++)n.push(r);return n}function Dt(r,n){r.pendingLanes|=n,n!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Qn(r,n,c,m,S,M){var U=r.pendingLanes;r.pendingLanes=c,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=c,r.entangledLanes&=c,r.errorRecoveryDisabledLanes&=c,r.shellSuspendCounter=0;var ee=r.entanglements,pe=r.expirationTimes,ze=r.hiddenUpdates;for(c=U&~c;0<c;){var Ie=31-ps(c),He=1<<Ie;ee[Ie]=0,pe[Ie]=-1;var Te=ze[Ie];if(Te!==null)for(ze[Ie]=null,Ie=0;Ie<Te.length;Ie++){var Re=Te[Ie];Re!==null&&(Re.lane&=-536870913)}c&=~He}m!==0&&Cn(r,m,0),M!==0&&S===0&&r.tag!==0&&(r.suspendedLanes|=M&~(U&~n))}function Cn(r,n,c){r.pendingLanes|=n,r.suspendedLanes&=~n;var m=31-ps(n);r.entangledLanes|=n,r.entanglements[m]=r.entanglements[m]|1073741824|c&261930}function cl(r,n){var c=r.entangledLanes|=n;for(r=r.entanglements;c;){var m=31-ps(c),S=1<<m;S&n|r[m]&n&&(r[m]|=n),c&=~S}}function dl(r,n){var c=n&-n;return c=(c&42)!==0?1:ha(c),(c&(r.suspendedLanes|n))!==0?0:c}function ha(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Ra(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function rr(){var r=ne.p;return r!==0?r:(r=window.event,r===void 0?32:Xv(r.type))}function _i(r,n){var c=ne.p;try{return ne.p=r,n()}finally{ne.p=c}}var _r=Math.random().toString(36).slice(2),Gs="__reactFiber$"+_r,ma="__reactProps$"+_r,wr="__reactContainer$"+_r,xl="__reactEvents$"+_r,Al="__reactListeners$"+_r,lo="__reactHandles$"+_r,en="__reactResources$"+_r,tn="__reactMarker$"+_r;function Pi(r){delete r[Gs],delete r[ma],delete r[xl],delete r[Al],delete r[lo]}function sn(r){var n=r[Gs];if(n)return n;for(var c=r.parentNode;c;){if(n=c[wr]||c[Gs]){if(c=n.alternate,n.child!==null||c!==null&&c.child!==null)for(r=Tv(r);r!==null;){if(c=r[Gs])return c;r=Tv(r)}return n}r=c,c=r.parentNode}return null}function an(r){if(r=r[Gs]||r[wr]){var n=r.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return r}return null}function no(r){var n=r.tag;if(n===5||n===26||n===27||n===6)return r.stateNode;throw Error(l(33))}function An(r){var n=r[en];return n||(n=r[en]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ma(r){r[tn]=!0}var Ic=new Set,ul={};function rn(r,n){Zn(r,n),Zn(r+"Capture",n)}function Zn(r,n){for(ul[r]=n,r=0;r<n.length;r++)Ic.add(n[r])}var Bc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Uc={},$c={};function Rd(r){return Xe.call($c,r)?!0:Xe.call(Uc,r)?!1:Bc.test(r)?$c[r]=!0:(Uc[r]=!0,!1)}function hl(r,n,c){if(Rd(n))if(c===null)r.removeAttribute(n);else{switch(typeof c){case"undefined":case"function":case"symbol":r.removeAttribute(n);return;case"boolean":var m=n.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){r.removeAttribute(n);return}}r.setAttribute(n,""+c)}}function ei(r,n,c){if(c===null)r.removeAttribute(n);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(n);return}r.setAttribute(n,""+c)}}function ln(r,n,c,m){if(m===null)r.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(c);return}r.setAttributeNS(n,c,""+m)}}function Es(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function qc(r){var n=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Dn(r,n,c){var m=Object.getOwnPropertyDescriptor(r.constructor.prototype,n);if(!r.hasOwnProperty(n)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var S=m.get,M=m.set;return Object.defineProperty(r,n,{configurable:!0,get:function(){return S.call(this)},set:function(U){c=""+U,M.call(this,U)}}),Object.defineProperty(r,n,{enumerable:m.enumerable}),{getValue:function(){return c},setValue:function(U){c=""+U},stopTracking:function(){r._valueTracker=null,delete r[n]}}}}function Ri(r){if(!r._valueTracker){var n=qc(r)?"checked":"value";r._valueTracker=Dn(r,n,""+r[n])}}function Hc(r){if(!r)return!1;var n=r._valueTracker;if(!n)return!0;var c=n.getValue(),m="";return r&&(m=qc(r)?r.checked?"true":"false":r.value),r=m,r!==c?(n.setValue(r),!0):!1}function Pr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Xa=/[\n"\\]/g;function Oa(r){return r.replace(Xa,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Go(r,n,c,m,S,M,U,ee){r.name="",U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?r.type=U:r.removeAttribute("type"),n!=null?U==="number"?(n===0&&r.value===""||r.value!=n)&&(r.value=""+Es(n)):r.value!==""+Es(n)&&(r.value=""+Es(n)):U!=="submit"&&U!=="reset"||r.removeAttribute("value"),n!=null?Wc(r,U,Es(n)):c!=null?Wc(r,U,Es(c)):m!=null&&r.removeAttribute("value"),S==null&&M!=null&&(r.defaultChecked=!!M),S!=null&&(r.checked=S&&typeof S!="function"&&typeof S!="symbol"),ee!=null&&typeof ee!="function"&&typeof ee!="symbol"&&typeof ee!="boolean"?r.name=""+Es(ee):r.removeAttribute("name")}function Od(r,n,c,m,S,M,U,ee){if(M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(r.type=M),n!=null||c!=null){if(!(M!=="submit"&&M!=="reset"||n!=null)){Ri(r);return}c=c!=null?""+Es(c):"",n=n!=null?""+Es(n):c,ee||n===r.value||(r.value=n),r.defaultValue=n}m=m??S,m=typeof m!="function"&&typeof m!="symbol"&&!!m,r.checked=ee?r.checked:!!m,r.defaultChecked=!!m,U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"&&(r.name=U),Ri(r)}function Wc(r,n,c){n==="number"&&Pr(r.ownerDocument)===r||r.defaultValue===""+c||(r.defaultValue=""+c)}function Rr(r,n,c,m){if(r=r.options,n){n={};for(var S=0;S<c.length;S++)n["$"+c[S]]=!0;for(c=0;c<r.length;c++)S=n.hasOwnProperty("$"+r[c].value),r[c].selected!==S&&(r[c].selected=S),S&&m&&(r[c].defaultSelected=!0)}else{for(c=""+Es(c),n=null,S=0;S<r.length;S++){if(r[S].value===c){r[S].selected=!0,m&&(r[S].defaultSelected=!0);return}n!==null||r[S].disabled||(n=r[S])}n!==null&&(n.selected=!0)}}function Gc(r,n,c){if(n!=null&&(n=""+Es(n),n!==r.value&&(r.value=n),c==null)){r.defaultValue!==n&&(r.defaultValue=n);return}r.defaultValue=c!=null?""+Es(c):""}function Vc(r,n,c,m){if(n==null){if(m!=null){if(c!=null)throw Error(l(92));if(le(m)){if(1<m.length)throw Error(l(93));m=m[0]}c=m}c==null&&(c=""),n=c}c=Es(n),r.defaultValue=c,m=r.textContent,m===c&&m!==""&&m!==null&&(r.value=m),Ri(r)}function nn(r,n){if(n){var c=r.firstChild;if(c&&c===r.lastChild&&c.nodeType===3){c.nodeValue=n;return}}r.textContent=n}var io=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fd(r,n,c){var m=n.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?m?r.setProperty(n,""):n==="float"?r.cssFloat="":r[n]="":m?r.setProperty(n,c):typeof c!="number"||c===0||io.has(n)?n==="float"?r.cssFloat=c:r[n]=(""+c).trim():r[n]=c+"px"}function Id(r,n,c){if(n!=null&&typeof n!="object")throw Error(l(62));if(r=r.style,c!=null){for(var m in c)!c.hasOwnProperty(m)||n!=null&&n.hasOwnProperty(m)||(m.indexOf("--")===0?r.setProperty(m,""):m==="float"?r.cssFloat="":r[m]="");for(var S in n)m=n[S],n.hasOwnProperty(S)&&c[S]!==m&&Fd(r,S,m)}else for(var M in n)n.hasOwnProperty(M)&&Fd(r,M,n[M])}function Yc(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Yr(r){return Bd.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function on(){}var ti=null;function oo(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Oi=null,Pt=null;function Ud(r){var n=an(r);if(n&&(r=n.stateNode)){var c=r[ma]||null;e:switch(r=n.stateNode,n.type){case"input":if(Go(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),n=c.name,c.type==="radio"&&n!=null){for(c=r;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Oa(""+n)+'"][type="radio"]'),n=0;n<c.length;n++){var m=c[n];if(m!==r&&m.form===r.form){var S=m[ma]||null;if(!S)throw Error(l(90));Go(m,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(n=0;n<c.length;n++)m=c[n],m.form===r.form&&Hc(m)}break e;case"textarea":Gc(r,c.value,c.defaultValue);break e;case"select":n=c.value,n!=null&&Rr(r,!!c.multiple,n,!1)}}}var Kc=!1;function $d(r,n,c){if(Kc)return r(n,c);Kc=!0;try{var m=r(n);return m}finally{if(Kc=!1,(Oi!==null||Pt!==null)&&(Fu(),Oi&&(n=Oi,r=Pt,Pt=Oi=null,Ud(n),r)))for(n=0;n<r.length;n++)Ud(r[n])}}function ml(r,n){var c=r.stateNode;if(c===null)return null;var m=c[ma]||null;if(m===null)return null;c=m[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(r=r.type,m=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!m;break e;default:r=!1}if(r)return null;if(c&&typeof c!="function")throw Error(l(231,n,typeof c));return c}var ur=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jc=!1;if(ur)try{var co={};Object.defineProperty(co,"passive",{get:function(){Jc=!0}}),window.addEventListener("test",co,co),window.removeEventListener("test",co,co)}catch{Jc=!1}var pl=null,xo=null,Mn=null;function qd(){if(Mn)return Mn;var r,n=xo,c=n.length,m,S="value"in pl?pl.value:pl.textContent,M=S.length;for(r=0;r<c&&n[r]===S[r];r++);var U=c-r;for(m=1;m<=U&&n[c-m]===S[M-m];m++);return Mn=S.slice(r,1<m?1-m:void 0)}function Dl(r){var n=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&n===13&&(r=13)):r=n,r===10&&(r=13),32<=r||r===13?r:0}function Vo(){return!0}function Yo(){return!1}function lr(r){function n(c,m,S,M,U){this._reactName=c,this._targetInst=S,this.type=m,this.nativeEvent=M,this.target=U,this.currentTarget=null;for(var ee in r)r.hasOwnProperty(ee)&&(c=r[ee],this[ee]=c?c(M):M[ee]);return this.isDefaultPrevented=(M.defaultPrevented!=null?M.defaultPrevented:M.returnValue===!1)?Vo:Yo,this.isPropagationStopped=Yo,this}return f(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Vo)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Vo)},persist:function(){},isPersistent:Vo}),n}var Ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ml=lr(Ln),si=f({},Ln,{view:0,detail:0}),Xo=lr(si),uo,ai,ri,ho=f({},si,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bt,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ri&&(ri&&r.type==="mousemove"?(uo=r.screenX-ri.screenX,ai=r.screenY-ri.screenY):ai=uo=0,ri=r),uo)},movementY:function(r){return"movementY"in r?r.movementY:ai}}),Qc=lr(ho),li=f({},ho,{dataTransfer:0}),ni=lr(li),Hd=f({},si,{relatedTarget:0}),ii=lr(Hd),Wd=f({},Ln,{animationName:0,elapsedTime:0,pseudoElement:0}),z=lr(Wd),X=f({},Ln,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),de=lr(X),fe=f({},Ln,{data:0}),ke=lr(fe),Be={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ge={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ut={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yt(r){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(r):(r=ut[r])?!!n[r]:!1}function Bt(){return yt}var Zt=f({},si,{key:function(r){if(r.key){var n=Be[r.key]||r.key;if(n!=="Unidentified")return n}return r.type==="keypress"?(r=Dl(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Ge[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bt,charCode:function(r){return r.type==="keypress"?Dl(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Dl(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Cs=lr(Zt),pa=f({},ho,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),La=lr(pa),ea=f({},si,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bt}),Ka=lr(ea),Fa=f({},Ln,{propertyName:0,elapsedTime:0,pseudoElement:0}),hr=lr(Fa),oi=f({},ho,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),cn=lr(oi),ci=f({},Ln,{newState:0,oldState:0}),Zc=lr(ci),Ko=[9,13,27,32],zn=ur&&"CompositionEvent"in window,dn=null;ur&&"documentMode"in document&&(dn=document.documentMode);var mo=ur&&"TextEvent"in window&&!dn,di=ur&&(!zn||dn&&8<dn&&11>=dn),nr=" ",Fi=!1;function Ii(r,n){switch(r){case"keyup":return Ko.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jo(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var En=!1;function Or(r,n){switch(r){case"compositionend":return Jo(n);case"keypress":return n.which!==32?null:(Fi=!0,nr);case"textInput":return r=n.data,r===nr&&Fi?null:r;default:return null}}function xi(r,n){if(En)return r==="compositionend"||!zn&&Ii(r,n)?(r=qd(),Mn=xo=pl=null,En=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return di&&n.locale!=="ko"?null:n.data;default:return null}}var Qo={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ed(r){var n=r&&r.nodeName&&r.nodeName.toLowerCase();return n==="input"?!!Qo[r.type]:n==="textarea"}function fl(r,n,c,m){Oi?Pt?Pt.push(m):Pt=[m]:Oi=m,n=Wu(n,"onChange"),0<n.length&&(c=new Ml("onChange","change",null,c,m),r.push({event:c,listeners:n}))}var xn=null,ui=null;function td(r){vv(r,0)}function un(r){var n=no(r);if(Hc(n))return r}function Bi(r,n){if(r==="change")return n}var Xr=!1;if(ur){var Fr;if(ur){var Tn="oninput"in document;if(!Tn){var _n=document.createElement("div");_n.setAttribute("oninput","return;"),Tn=typeof _n.oninput=="function"}Fr=Tn}else Fr=!1;Xr=Fr&&(!document.documentMode||9<document.documentMode)}function hi(){xn&&(xn.detachEvent("onpropertychange",Zo),ui=xn=null)}function Zo(r){if(r.propertyName==="value"&&un(ui)){var n=[];fl(n,ui,r,oo(r)),$d(td,n)}}function ec(r,n,c){r==="focusin"?(hi(),xn=n,ui=c,xn.attachEvent("onpropertychange",Zo)):r==="focusout"&&hi()}function za(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return un(ui)}function Gd(r,n){if(r==="click")return un(n)}function Pn(r,n){if(r==="input"||r==="change")return un(n)}function Rn(r,n){return r===n&&(r!==0||1/r===1/n)||r!==r&&n!==n}var mr=typeof Object.is=="function"?Object.is:Rn;function mi(r,n){if(mr(r,n))return!0;if(typeof r!="object"||r===null||typeof n!="object"||n===null)return!1;var c=Object.keys(r),m=Object.keys(n);if(c.length!==m.length)return!1;for(m=0;m<c.length;m++){var S=c[m];if(!Xe.call(n,S)||!mr(r[S],n[S]))return!1}return!0}function tc(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function sc(r,n){var c=tc(r);r=0;for(var m;c;){if(c.nodeType===3){if(m=r+c.textContent.length,r<=n&&m>=n)return{node:c,offset:n-r};r=m}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=tc(c)}}function pi(r,n){return r&&n?r===n?!0:r&&r.nodeType===3?!1:n&&n.nodeType===3?pi(r,n.parentNode):"contains"in r?r.contains(n):r.compareDocumentPosition?!!(r.compareDocumentPosition(n)&16):!1:!1}function fi(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var n=Pr(r.document);n instanceof r.HTMLIFrameElement;){try{var c=typeof n.contentWindow.location.href=="string"}catch{c=!1}if(c)r=n.contentWindow;else break;n=Pr(r.document)}return n}function On(r){var n=r&&r.nodeName&&r.nodeName.toLowerCase();return n&&(n==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||n==="textarea"||r.contentEditable==="true")}var po=ur&&"documentMode"in document&&11>=document.documentMode,gl=null,gi=null,Nr=null,Ll=!1;function Ts(r,n,c){var m=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Ll||gl==null||gl!==Pr(m)||(m=gl,"selectionStart"in m&&On(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Nr&&mi(Nr,m)||(Nr=m,m=Wu(gi,"onSelect"),0<m.length&&(n=new Ml("onSelect","select",null,n,c),r.push({event:n,listeners:m}),n.target=gl)))}function As(r,n){var c={};return c[r.toLowerCase()]=n.toLowerCase(),c["Webkit"+r]="webkit"+n,c["Moz"+r]="moz"+n,c}var ta={animationend:As("Animation","AnimationEnd"),animationiteration:As("Animation","AnimationIteration"),animationstart:As("Animation","AnimationStart"),transitionrun:As("Transition","TransitionRun"),transitionstart:As("Transition","TransitionStart"),transitioncancel:As("Transition","TransitionCancel"),transitionend:As("Transition","TransitionEnd")},Ea={},Fn={};ur&&(Fn=document.createElement("div").style,"AnimationEvent"in window||(delete ta.animationend.animation,delete ta.animationiteration.animation,delete ta.animationstart.animation),"TransitionEvent"in window||delete ta.transitionend.transition);function hn(r){if(Ea[r])return Ea[r];if(!ta[r])return r;var n=ta[r],c;for(c in n)if(n.hasOwnProperty(c)&&c in Fn)return Ea[r]=n[c];return r}var fo=hn("animationend"),sd=hn("animationiteration"),tx=hn("animationstart"),mu=hn("transitionrun"),pu=hn("transitionstart"),fu=hn("transitioncancel"),sx=hn("transitionend"),ax=new Map,go="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");go.push("scrollEnd");function zl(r,n){ax.set(r,n),rn(n,[r])}var ad=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},bl=[],bo=0,Vd=0;function rd(){for(var r=bo,n=Vd=bo=0;n<r;){var c=bl[n];bl[n++]=null;var m=bl[n];bl[n++]=null;var S=bl[n];bl[n++]=null;var M=bl[n];if(bl[n++]=null,m!==null&&S!==null){var U=m.pending;U===null?S.next=S:(S.next=U.next,U.next=S),m.pending=S}M!==0&&nd(c,S,M)}}function ld(r,n,c,m){bl[bo++]=r,bl[bo++]=n,bl[bo++]=c,bl[bo++]=m,Vd|=m,r.lanes|=m,r=r.alternate,r!==null&&(r.lanes|=m)}function Yd(r,n,c,m){return ld(r,n,c,m),kr(r)}function bi(r,n){return ld(r,null,null,n),kr(r)}function nd(r,n,c){r.lanes|=c;var m=r.alternate;m!==null&&(m.lanes|=c);for(var S=!1,M=r.return;M!==null;)M.childLanes|=c,m=M.alternate,m!==null&&(m.childLanes|=c),M.tag===22&&(r=M.stateNode,r===null||r._visibility&1||(S=!0)),r=M,M=M.return;return r.tag===3?(M=r.stateNode,S&&n!==null&&(S=31-ps(c),r=M.hiddenUpdates,m=r[S],m===null?r[S]=[n]:m.push(n),n.lane=c|536870912),M):null}function kr(r){if(50<Sx)throw Sx=0,Qm=null,Error(l(185));for(var n=r.return;n!==null;)r=n,n=r.return;return r.tag===3?r.stateNode:null}var pr={};function Xd(r,n,c,m){this.tag=r,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sr(r,n,c,m){return new Xd(r,n,c,m)}function Kd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function El(r,n){var c=r.alternate;return c===null?(c=Sr(r.tag,n,r.key,r.mode),c.elementType=r.elementType,c.type=r.type,c.stateNode=r.stateNode,c.alternate=r,r.alternate=c):(c.pendingProps=n,c.type=r.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=r.flags&65011712,c.childLanes=r.childLanes,c.lanes=r.lanes,c.child=r.child,c.memoizedProps=r.memoizedProps,c.memoizedState=r.memoizedState,c.updateQueue=r.updateQueue,n=r.dependencies,c.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},c.sibling=r.sibling,c.index=r.index,c.ref=r.ref,c.refCleanup=r.refCleanup,c}function id(r,n){r.flags&=65011714;var c=r.alternate;return c===null?(r.childLanes=0,r.lanes=n,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=c.childLanes,r.lanes=c.lanes,r.child=c.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=c.memoizedProps,r.memoizedState=c.memoizedState,r.updateQueue=c.updateQueue,r.type=c.type,n=c.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),r}function ac(r,n,c,m,S,M){var U=0;if(m=r,typeof r=="function")Kd(r)&&(U=1);else if(typeof r=="string")U=e4(r,c,ae.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case B:return r=Sr(31,c,n,S),r.elementType=B,r.lanes=M,r;case A:return Ui(c.children,S,M,n);case w:U=8,S|=24;break;case k:return r=Sr(12,c,n,S|2),r.elementType=k,r.lanes=M,r;case P:return r=Sr(13,c,n,S),r.elementType=P,r.lanes=M,r;case _:return r=Sr(19,c,n,S),r.elementType=_,r.lanes=M,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case L:U=10;break e;case C:U=9;break e;case N:U=11;break e;case F:U=14;break e;case R:U=16,m=null;break e}U=29,c=Error(l(130,r===null?"null":typeof r,"")),m=null}return n=Sr(U,c,n,S),n.elementType=r,n.type=m,n.lanes=M,n}function Ui(r,n,c,m){return r=Sr(7,r,m,n),r.lanes=c,r}function od(r,n,c){return r=Sr(6,r,null,n),r.lanes=c,r}function Jd(r){var n=Sr(18,null,null,0);return n.stateNode=r,n}function rc(r,n,c){return n=Sr(4,r.children!==null?r.children:[],r.key,n),n.lanes=c,n.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},n}var Qd=new WeakMap;function Tl(r,n){if(typeof r=="object"&&r!==null){var c=Qd.get(r);return c!==void 0?c:(n={value:r,source:n,stack:At(n)},Qd.set(r,n),n)}return{value:r,source:n,stack:At(n)}}var lc=[],vo=0,Zd=null,cd=0,_l=[],Pl=0,$i=null,Rl=1,Ol="";function vl(r,n){lc[vo++]=cd,lc[vo++]=Zd,Zd=r,cd=n}function gu(r,n,c){_l[Pl++]=Rl,_l[Pl++]=Ol,_l[Pl++]=$i,$i=r;var m=Rl;r=Ol;var S=32-ps(m)-1;m&=~(1<<S),c+=1;var M=32-ps(n)+S;if(30<M){var U=S-S%5;M=(m&(1<<U)-1).toString(32),m>>=U,S-=U,Rl=1<<32-ps(n)+S|c<<S|m,Ol=M+r}else Rl=1<<M|c<<S|m,Ol=r}function rx(r){r.return!==null&&(vl(r,1),gu(r,1,0))}function e0(r){for(;r===Zd;)Zd=lc[--vo],lc[vo]=null,cd=lc[--vo],lc[vo]=null;for(;r===$i;)$i=_l[--Pl],_l[Pl]=null,Ol=_l[--Pl],_l[Pl]=null,Rl=_l[--Pl],_l[Pl]=null}function bu(r,n){_l[Pl++]=Rl,_l[Pl++]=Ol,_l[Pl++]=$i,Rl=n.id,Ol=n.overflow,$i=r}var fr=null,ia=null,bs=!1,Ir=null,ja=!1,mn=Error(l(519));function qi(r){var n=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw nc(Tl(n,r)),mn}function lx(r){var n=r.stateNode,c=r.type,m=r.memoizedProps;switch(n[Gs]=r,n[ma]=m,c){case"dialog":ys("cancel",n),ys("close",n);break;case"iframe":case"object":case"embed":ys("load",n);break;case"video":case"audio":for(c=0;c<Ax.length;c++)ys(Ax[c],n);break;case"source":ys("error",n);break;case"img":case"image":case"link":ys("error",n),ys("load",n);break;case"details":ys("toggle",n);break;case"input":ys("invalid",n),Od(n,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":ys("invalid",n);break;case"textarea":ys("invalid",n),Vc(n,m.value,m.defaultValue,m.children)}c=m.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||n.textContent===""+c||m.suppressHydrationWarning===!0||Nv(n.textContent,c)?(m.popover!=null&&(ys("beforetoggle",n),ys("toggle",n)),m.onScroll!=null&&ys("scroll",n),m.onScrollEnd!=null&&ys("scrollend",n),m.onClick!=null&&(n.onclick=on),n=!0):n=!1,n||qi(r,!0)}function vi(r){for(fr=r.return;fr;)switch(fr.tag){case 5:case 31:case 13:ja=!1;return;case 27:case 3:ja=!0;return;default:fr=fr.return}}function gr(r){if(r!==fr)return!1;if(!bs)return vi(r),bs=!0,!1;var n=r.tag,c;if((c=n!==3&&n!==27)&&((c=n===5)&&(c=r.type,c=!(c!=="form"&&c!=="button")||hp(r.type,r.memoizedProps)),c=!c),c&&ia&&qi(r),vi(r),n===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(l(317));ia=Ev(r)}else if(n===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(l(317));ia=Ev(r)}else n===27?(n=ia,yc(r.type)?(r=bp,bp=null,ia=r):ia=n):ia=fr?$n(r.stateNode.nextSibling):null;return!0}function yo(){ia=fr=null,bs=!1}function nx(){var r=Ir;return r!==null&&(ql===null?ql=r:ql.push.apply(ql,r),Ir=null),r}function nc(r){Ir===null?Ir=[r]:Ir.push(r)}var t0=Y(null),Hi=null,In=null;function Wi(r,n,c){Q(t0,n._currentValue),n._currentValue=c}function Fl(r){r._currentValue=t0.current,$(t0)}function ic(r,n,c){for(;r!==null;){var m=r.alternate;if((r.childLanes&n)!==n?(r.childLanes|=n,m!==null&&(m.childLanes|=n)):m!==null&&(m.childLanes&n)!==n&&(m.childLanes|=n),r===c)break;r=r.return}}function jo(r,n,c,m){var S=r.child;for(S!==null&&(S.return=r);S!==null;){var M=S.dependencies;if(M!==null){var U=S.child;M=M.firstContext;e:for(;M!==null;){var ee=M;M=S;for(var pe=0;pe<n.length;pe++)if(ee.context===n[pe]){M.lanes|=c,ee=M.alternate,ee!==null&&(ee.lanes|=c),ic(M.return,c,r),m||(U=null);break e}M=ee.next}}else if(S.tag===18){if(U=S.return,U===null)throw Error(l(341));U.lanes|=c,M=U.alternate,M!==null&&(M.lanes|=c),ic(U,c,r),U=null}else U=S.child;if(U!==null)U.return=S;else for(U=S;U!==null;){if(U===r){U=null;break}if(S=U.sibling,S!==null){S.return=U.return,U=S;break}U=U.return}S=U}}function Gi(r,n,c,m){r=null;for(var S=n,M=!1;S!==null;){if(!M){if((S.flags&524288)!==0)M=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var U=S.alternate;if(U===null)throw Error(l(387));if(U=U.memoizedProps,U!==null){var ee=S.type;mr(S.pendingProps.value,U.value)||(r!==null?r.push(ee):r=[ee])}}else if(S===be.current){if(U=S.alternate,U===null)throw Error(l(387));U.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(r!==null?r.push(Ex):r=[Ex])}S=S.return}r!==null&&jo(n,r,c,m),n.flags|=262144}function s0(r){for(r=r.firstContext;r!==null;){if(!mr(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Vi(r){Hi=r,In=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function br(r){return vu(Hi,r)}function a0(r,n){return Hi===null&&Vi(r),vu(r,n)}function vu(r,n){var c=n._currentValue;if(n={context:n,memoizedValue:c,next:null},In===null){if(r===null)throw Error(l(308));In=n,r.dependencies={lanes:0,firstContext:n},r.flags|=524288}else In=In.next=n;return c}var gm=typeof AbortController<"u"?AbortController:function(){var r=[],n=this.signal={aborted:!1,addEventListener:function(c,m){r.push(m)}};this.abort=function(){n.aborted=!0,r.forEach(function(c){return c()})}},bm=t.unstable_scheduleCallback,vm=t.unstable_NormalPriority,Ta={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function oc(){return{controller:new gm,data:new Map,refCount:0}}function dd(r){r.refCount--,r.refCount===0&&bm(vm,function(){r.controller.abort()})}var xd=null,r0=0,y=0,D=null;function E(r,n){if(xd===null){var c=xd=[];r0=0,y=rp(),D={status:"pending",value:void 0,then:function(m){c.push(m)}}}return r0++,n.then(O,O),n}function O(){if(--r0===0&&xd!==null){D!==null&&(D.status="fulfilled");var r=xd;xd=null,y=0,D=null;for(var n=0;n<r.length;n++)(0,r[n])()}}function K(r,n){var c=[],m={status:"pending",value:null,reason:null,then:function(S){c.push(S)}};return r.then(function(){m.status="fulfilled",m.value=n;for(var S=0;S<c.length;S++)(0,c[S])(n)},function(S){for(m.status="rejected",m.reason=S,S=0;S<c.length;S++)(0,c[S])(void 0)}),m}var J=V.S;V.S=function(r,n){Vb=Ye(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&E(r,n),J!==null&&J(r,n)};var Z=Y(null);function te(){var r=Z.current;return r!==null?r:ca.pooledCache}function re(r,n){n===null?Q(Z,Z.current):Q(Z,n.pool)}function ce(){var r=te();return r===null?null:{parent:Ta._currentValue,pool:r}}var ge=Error(l(460)),Me=Error(l(474)),ie=Error(l(542)),je={then:function(){}};function Ce(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Fe(r,n,c){switch(c=r[c],c===void 0?r.push(n):c!==n&&(n.then(on,on),n=c),n.status){case"fulfilled":return n.value;case"rejected":throw r=n.reason,Je(r),r;default:if(typeof n.status=="string")n.then(on,on);else{if(r=ca,r!==null&&100<r.shellSuspendCounter)throw Error(l(482));r=n,r.status="pending",r.then(function(m){if(n.status==="pending"){var S=n;S.status="fulfilled",S.value=m}},function(m){if(n.status==="pending"){var S=n;S.status="rejected",S.reason=m}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw r=n.reason,Je(r),r}throw Oe=n,ge}}function Ae(r){try{var n=r._init;return n(r._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Oe=c,ge):c}}var Oe=null;function Ue(){if(Oe===null)throw Error(l(459));var r=Oe;return Oe=null,r}function Je(r){if(r===ge||r===ie)throw Error(l(483))}var We=null,mt=0;function it(r){var n=mt;return mt+=1,We===null&&(We=[]),Fe(We,r,n)}function Vt(r,n){n=n.props.ref,r.ref=n!==void 0?n:null}function xt(r,n){throw n.$$typeof===b?Error(l(525)):(r=Object.prototype.toString.call(n),Error(l(31,r==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":r)))}function fs(r){function n(Se,ve){if(r){var Le=Se.deletions;Le===null?(Se.deletions=[ve],Se.flags|=16):Le.push(ve)}}function c(Se,ve){if(!r)return null;for(;ve!==null;)n(Se,ve),ve=ve.sibling;return null}function m(Se){for(var ve=new Map;Se!==null;)Se.key!==null?ve.set(Se.key,Se):ve.set(Se.index,Se),Se=Se.sibling;return ve}function S(Se,ve){return Se=El(Se,ve),Se.index=0,Se.sibling=null,Se}function M(Se,ve,Le){return Se.index=Le,r?(Le=Se.alternate,Le!==null?(Le=Le.index,Le<ve?(Se.flags|=67108866,ve):Le):(Se.flags|=67108866,ve)):(Se.flags|=1048576,ve)}function U(Se){return r&&Se.alternate===null&&(Se.flags|=67108866),Se}function ee(Se,ve,Le,qe){return ve===null||ve.tag!==6?(ve=od(Le,Se.mode,qe),ve.return=Se,ve):(ve=S(ve,Le),ve.return=Se,ve)}function pe(Se,ve,Le,qe){var Et=Le.type;return Et===A?Ie(Se,ve,Le.props.children,qe,Le.key):ve!==null&&(ve.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===R&&Ae(Et)===ve.type)?(ve=S(ve,Le.props),Vt(ve,Le),ve.return=Se,ve):(ve=ac(Le.type,Le.key,Le.props,null,Se.mode,qe),Vt(ve,Le),ve.return=Se,ve)}function ze(Se,ve,Le,qe){return ve===null||ve.tag!==4||ve.stateNode.containerInfo!==Le.containerInfo||ve.stateNode.implementation!==Le.implementation?(ve=rc(Le,Se.mode,qe),ve.return=Se,ve):(ve=S(ve,Le.children||[]),ve.return=Se,ve)}function Ie(Se,ve,Le,qe,Et){return ve===null||ve.tag!==7?(ve=Ui(Le,Se.mode,qe,Et),ve.return=Se,ve):(ve=S(ve,Le),ve.return=Se,ve)}function He(Se,ve,Le){if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return ve=od(""+ve,Se.mode,Le),ve.return=Se,ve;if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case g:return Le=ac(ve.type,ve.key,ve.props,null,Se.mode,Le),Vt(Le,ve),Le.return=Se,Le;case j:return ve=rc(ve,Se.mode,Le),ve.return=Se,ve;case R:return ve=Ae(ve),He(Se,ve,Le)}if(le(ve)||H(ve))return ve=Ui(ve,Se.mode,Le,null),ve.return=Se,ve;if(typeof ve.then=="function")return He(Se,it(ve),Le);if(ve.$$typeof===L)return He(Se,a0(Se,ve),Le);xt(Se,ve)}return null}function Te(Se,ve,Le,qe){var Et=ve!==null?ve.key:null;if(typeof Le=="string"&&Le!==""||typeof Le=="number"||typeof Le=="bigint")return Et!==null?null:ee(Se,ve,""+Le,qe);if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case g:return Le.key===Et?pe(Se,ve,Le,qe):null;case j:return Le.key===Et?ze(Se,ve,Le,qe):null;case R:return Le=Ae(Le),Te(Se,ve,Le,qe)}if(le(Le)||H(Le))return Et!==null?null:Ie(Se,ve,Le,qe,null);if(typeof Le.then=="function")return Te(Se,ve,it(Le),qe);if(Le.$$typeof===L)return Te(Se,ve,a0(Se,Le),qe);xt(Se,Le)}return null}function Re(Se,ve,Le,qe,Et){if(typeof qe=="string"&&qe!==""||typeof qe=="number"||typeof qe=="bigint")return Se=Se.get(Le)||null,ee(ve,Se,""+qe,Et);if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case g:return Se=Se.get(qe.key===null?Le:qe.key)||null,pe(ve,Se,qe,Et);case j:return Se=Se.get(qe.key===null?Le:qe.key)||null,ze(ve,Se,qe,Et);case R:return qe=Ae(qe),Re(Se,ve,Le,qe,Et)}if(le(qe)||H(qe))return Se=Se.get(Le)||null,Ie(ve,Se,qe,Et,null);if(typeof qe.then=="function")return Re(Se,ve,Le,it(qe),Et);if(qe.$$typeof===L)return Re(Se,ve,Le,a0(ve,qe),Et);xt(ve,qe)}return null}function ht(Se,ve,Le,qe){for(var Et=null,Os=null,jt=ve,os=ve=0,Ns=null;jt!==null&&os<Le.length;os++){jt.index>os?(Ns=jt,jt=null):Ns=jt.sibling;var Fs=Te(Se,jt,Le[os],qe);if(Fs===null){jt===null&&(jt=Ns);break}r&&jt&&Fs.alternate===null&&n(Se,jt),ve=M(Fs,ve,os),Os===null?Et=Fs:Os.sibling=Fs,Os=Fs,jt=Ns}if(os===Le.length)return c(Se,jt),bs&&vl(Se,os),Et;if(jt===null){for(;os<Le.length;os++)jt=He(Se,Le[os],qe),jt!==null&&(ve=M(jt,ve,os),Os===null?Et=jt:Os.sibling=jt,Os=jt);return bs&&vl(Se,os),Et}for(jt=m(jt);os<Le.length;os++)Ns=Re(jt,Se,os,Le[os],qe),Ns!==null&&(r&&Ns.alternate!==null&&jt.delete(Ns.key===null?os:Ns.key),ve=M(Ns,ve,os),Os===null?Et=Ns:Os.sibling=Ns,Os=Ns);return r&&jt.forEach(function(Sc){return n(Se,Sc)}),bs&&vl(Se,os),Et}function Ft(Se,ve,Le,qe){if(Le==null)throw Error(l(151));for(var Et=null,Os=null,jt=ve,os=ve=0,Ns=null,Fs=Le.next();jt!==null&&!Fs.done;os++,Fs=Le.next()){jt.index>os?(Ns=jt,jt=null):Ns=jt.sibling;var Sc=Te(Se,jt,Fs.value,qe);if(Sc===null){jt===null&&(jt=Ns);break}r&&jt&&Sc.alternate===null&&n(Se,jt),ve=M(Sc,ve,os),Os===null?Et=Sc:Os.sibling=Sc,Os=Sc,jt=Ns}if(Fs.done)return c(Se,jt),bs&&vl(Se,os),Et;if(jt===null){for(;!Fs.done;os++,Fs=Le.next())Fs=He(Se,Fs.value,qe),Fs!==null&&(ve=M(Fs,ve,os),Os===null?Et=Fs:Os.sibling=Fs,Os=Fs);return bs&&vl(Se,os),Et}for(jt=m(jt);!Fs.done;os++,Fs=Le.next())Fs=Re(jt,Se,os,Fs.value,qe),Fs!==null&&(r&&Fs.alternate!==null&&jt.delete(Fs.key===null?os:Fs.key),ve=M(Fs,ve,os),Os===null?Et=Fs:Os.sibling=Fs,Os=Fs);return r&&jt.forEach(function(x4){return n(Se,x4)}),bs&&vl(Se,os),Et}function la(Se,ve,Le,qe){if(typeof Le=="object"&&Le!==null&&Le.type===A&&Le.key===null&&(Le=Le.props.children),typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case g:e:{for(var Et=Le.key;ve!==null;){if(ve.key===Et){if(Et=Le.type,Et===A){if(ve.tag===7){c(Se,ve.sibling),qe=S(ve,Le.props.children),qe.return=Se,Se=qe;break e}}else if(ve.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===R&&Ae(Et)===ve.type){c(Se,ve.sibling),qe=S(ve,Le.props),Vt(qe,Le),qe.return=Se,Se=qe;break e}c(Se,ve);break}else n(Se,ve);ve=ve.sibling}Le.type===A?(qe=Ui(Le.props.children,Se.mode,qe,Le.key),qe.return=Se,Se=qe):(qe=ac(Le.type,Le.key,Le.props,null,Se.mode,qe),Vt(qe,Le),qe.return=Se,Se=qe)}return U(Se);case j:e:{for(Et=Le.key;ve!==null;){if(ve.key===Et)if(ve.tag===4&&ve.stateNode.containerInfo===Le.containerInfo&&ve.stateNode.implementation===Le.implementation){c(Se,ve.sibling),qe=S(ve,Le.children||[]),qe.return=Se,Se=qe;break e}else{c(Se,ve);break}else n(Se,ve);ve=ve.sibling}qe=rc(Le,Se.mode,qe),qe.return=Se,Se=qe}return U(Se);case R:return Le=Ae(Le),la(Se,ve,Le,qe)}if(le(Le))return ht(Se,ve,Le,qe);if(H(Le)){if(Et=H(Le),typeof Et!="function")throw Error(l(150));return Le=Et.call(Le),Ft(Se,ve,Le,qe)}if(typeof Le.then=="function")return la(Se,ve,it(Le),qe);if(Le.$$typeof===L)return la(Se,ve,a0(Se,Le),qe);xt(Se,Le)}return typeof Le=="string"&&Le!==""||typeof Le=="number"||typeof Le=="bigint"?(Le=""+Le,ve!==null&&ve.tag===6?(c(Se,ve.sibling),qe=S(ve,Le),qe.return=Se,Se=qe):(c(Se,ve),qe=od(Le,Se.mode,qe),qe.return=Se,Se=qe),U(Se)):c(Se,ve)}return function(Se,ve,Le,qe){try{mt=0;var Et=la(Se,ve,Le,qe);return We=null,Et}catch(jt){if(jt===ge||jt===ie)throw jt;var Os=Sr(29,jt,null,Se.mode);return Os.lanes=qe,Os.return=Se,Os}}}var oa=fs(!0),es=fs(!1),ot=!1;function at(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fa(r,n){r=r.updateQueue,n.updateQueue===r&&(n.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Rt(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ns(r,n,c){var m=r.updateQueue;if(m===null)return null;if(m=m.shared,(Us&2)!==0){var S=m.pending;return S===null?n.next=n:(n.next=S.next,S.next=n),m.pending=n,n=kr(r),nd(r,null,c),n}return ld(r,m,n,c),kr(r)}function Is(r,n,c){if(n=n.updateQueue,n!==null&&(n=n.shared,(c&4194048)!==0)){var m=n.lanes;m&=r.pendingLanes,c|=m,n.lanes=c,cl(r,c)}}function Ja(r,n){var c=r.updateQueue,m=r.alternate;if(m!==null&&(m=m.updateQueue,c===m)){var S=null,M=null;if(c=c.firstBaseUpdate,c!==null){do{var U={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};M===null?S=M=U:M=M.next=U,c=c.next}while(c!==null);M===null?S=M=n:M=M.next=n}else S=M=n;c={baseState:m.baseState,firstBaseUpdate:S,lastBaseUpdate:M,shared:m.shared,callbacks:m.callbacks},r.updateQueue=c;return}r=c.lastBaseUpdate,r===null?c.firstBaseUpdate=n:r.next=n,c.lastBaseUpdate=n}var vr=!1;function sa(){if(vr){var r=D;if(r!==null)throw r}}function Ia(r,n,c,m){vr=!1;var S=r.updateQueue;ot=!1;var M=S.firstBaseUpdate,U=S.lastBaseUpdate,ee=S.shared.pending;if(ee!==null){S.shared.pending=null;var pe=ee,ze=pe.next;pe.next=null,U===null?M=ze:U.next=ze,U=pe;var Ie=r.alternate;Ie!==null&&(Ie=Ie.updateQueue,ee=Ie.lastBaseUpdate,ee!==U&&(ee===null?Ie.firstBaseUpdate=ze:ee.next=ze,Ie.lastBaseUpdate=pe))}if(M!==null){var He=S.baseState;U=0,Ie=ze=pe=null,ee=M;do{var Te=ee.lane&-536870913,Re=Te!==ee.lane;if(Re?(ws&Te)===Te:(m&Te)===Te){Te!==0&&Te===y&&(vr=!0),Ie!==null&&(Ie=Ie.next={lane:0,tag:ee.tag,payload:ee.payload,callback:null,next:null});e:{var ht=r,Ft=ee;Te=n;var la=c;switch(Ft.tag){case 1:if(ht=Ft.payload,typeof ht=="function"){He=ht.call(la,He,Te);break e}He=ht;break e;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=Ft.payload,Te=typeof ht=="function"?ht.call(la,He,Te):ht,Te==null)break e;He=f({},He,Te);break e;case 2:ot=!0}}Te=ee.callback,Te!==null&&(r.flags|=64,Re&&(r.flags|=8192),Re=S.callbacks,Re===null?S.callbacks=[Te]:Re.push(Te))}else Re={lane:Te,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null},Ie===null?(ze=Ie=Re,pe=He):Ie=Ie.next=Re,U|=Te;if(ee=ee.next,ee===null){if(ee=S.shared.pending,ee===null)break;Re=ee,ee=Re.next,Re.next=null,S.lastBaseUpdate=Re,S.shared.pending=null}}while(!0);Ie===null&&(pe=He),S.baseState=pe,S.firstBaseUpdate=ze,S.lastBaseUpdate=Ie,M===null&&(S.shared.lanes=0),pc|=U,r.lanes=U,r.memoizedState=He}}function Cr(r,n){if(typeof r!="function")throw Error(l(191,r));r.call(n)}function Ba(r,n){var c=r.callbacks;if(c!==null)for(r.callbacks=null,r=0;r<c.length;r++)Cr(c[r],n)}var ds=Y(null),Ms=Y(0);function ga(r,n){r=zo,Q(Ms,r),Q(ds,n),zo=r|n.baseLanes}function _s(){Q(Ms,zo),Q(ds,ds.current)}function Qa(){zo=Ms.current,$(ds),$(Ms)}var ba=Y(null),Ls=null;function _a(r){var n=r.alternate;Q(Ds,Ds.current&1),Q(ba,r),Ls===null&&(n===null||ds.current!==null||n.memoizedState!==null)&&(Ls=r)}function Bs(r){Q(Ds,Ds.current),Q(ba,r),Ls===null&&(Ls=r)}function Ua(r){r.tag===22?(Q(Ds,Ds.current),Q(ba,r),Ls===null&&(Ls=r)):$a()}function $a(){Q(Ds,Ds.current),Q(ba,ba.current)}function Vs(r){$(ba),Ls===r&&(Ls=null),$(Ds)}var Ds=Y(0);function Ar(r){for(var n=r;n!==null;){if(n.tag===13){var c=n.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||fp(c)||gp(c)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break;for(;n.sibling===null;){if(n.return===null||n.return===r)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var wa=0,Mt=null,zt=null,zs=null,Kr=!1,Il=!1,Br=!1,qa=0,Yi=0,Xi=null,l0=0;function aa(){throw Error(l(321))}function ix(r,n){if(n===null)return!1;for(var c=0;c<n.length&&c<r.length;c++)if(!mr(r[c],n[c]))return!1;return!0}function ox(r,n,c,m,S,M){return wa=M,Mt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,V.H=r===null||r.memoizedState===null?rb:Am,Br=!1,M=c(m,S),Br=!1,Il&&(M=yi(n,c,m,S)),n0(r),M}function n0(r){V.H=fx;var n=zt!==null&&zt.next!==null;if(wa=0,zs=zt=Mt=null,Kr=!1,Yi=0,Xi=null,n)throw Error(l(300));r===null||or||(r=r.dependencies,r!==null&&s0(r)&&(or=!0))}function yi(r,n,c,m){Mt=r;var S=0;do{if(Il&&(Xi=null),Yi=0,Il=!1,25<=S)throw Error(l(301));if(S+=1,zs=zt=null,r.updateQueue!=null){var M=r.updateQueue;M.lastEffect=null,M.events=null,M.stores=null,M.memoCache!=null&&(M.memoCache.index=0)}V.H=lb,M=n(c,m)}while(Il);return M}function ym(){var r=V.H,n=r.useState()[0];return n=typeof n.then=="function"?Ki(n):n,r=r.useState()[0],(zt!==null?zt.memoizedState:null)!==r&&(Mt.flags|=1024),n}function cx(){var r=qa!==0;return qa=0,r}function dx(r,n,c){n.updateQueue=r.updateQueue,n.flags&=-2053,r.lanes&=~c}function i0(r){if(Kr){for(r=r.memoizedState;r!==null;){var n=r.queue;n!==null&&(n.pending=null),r=r.next}Kr=!1}wa=0,zs=zt=Mt=null,Il=!1,Yi=qa=0,Xi=null}function ir(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zs===null?Mt.memoizedState=zs=r:zs=zs.next=r,zs}function Na(){if(zt===null){var r=Mt.alternate;r=r!==null?r.memoizedState:null}else r=zt.next;var n=zs===null?Mt.memoizedState:zs.next;if(n!==null)zs=n,zt=r;else{if(r===null)throw Mt.alternate===null?Error(l(467)):Error(l(310));zt=r,r={memoizedState:zt.memoizedState,baseState:zt.baseState,baseQueue:zt.baseQueue,queue:zt.queue,next:null},zs===null?Mt.memoizedState=zs=r:zs=zs.next=r}return zs}function ud(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ki(r){var n=Yi;return Yi+=1,Xi===null&&(Xi=[]),r=Fe(Xi,r,n),n=Mt,(zs===null?n.memoizedState:zs.next)===null&&(n=n.alternate,V.H=n===null||n.memoizedState===null?rb:Am),r}function cc(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Ki(r);if(r.$$typeof===L)return br(r)}throw Error(l(438,String(r)))}function wo(r){var n=null,c=Mt.updateQueue;if(c!==null&&(n=c.memoCache),n==null){var m=Mt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(n={data:m.data.map(function(S){return S.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),c===null&&(c=ud(),Mt.updateQueue=c),c.memoCache=n,c=n.data[n.index],c===void 0)for(c=n.data[n.index]=Array(r),m=0;m<r;m++)c[m]=T;return n.index++,c}function Bn(r,n){return typeof n=="function"?n(r):n}function o0(r){var n=Na();return dc(n,zt,r)}function dc(r,n,c){var m=r.queue;if(m===null)throw Error(l(311));m.lastRenderedReducer=c;var S=r.baseQueue,M=m.pending;if(M!==null){if(S!==null){var U=S.next;S.next=M.next,M.next=U}n.baseQueue=S=M,m.pending=null}if(M=r.baseState,S===null)r.memoizedState=M;else{n=S.next;var ee=U=null,pe=null,ze=n,Ie=!1;do{var He=ze.lane&-536870913;if(He!==ze.lane?(ws&He)===He:(wa&He)===He){var Te=ze.revertLane;if(Te===0)pe!==null&&(pe=pe.next={lane:0,revertLane:0,gesture:null,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null}),He===y&&(Ie=!0);else if((wa&Te)===Te){ze=ze.next,Te===y&&(Ie=!0);continue}else He={lane:0,revertLane:ze.revertLane,gesture:null,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null},pe===null?(ee=pe=He,U=M):pe=pe.next=He,Mt.lanes|=Te,pc|=Te;He=ze.action,Br&&c(M,He),M=ze.hasEagerState?ze.eagerState:c(M,He)}else Te={lane:He,revertLane:ze.revertLane,gesture:ze.gesture,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null},pe===null?(ee=pe=Te,U=M):pe=pe.next=Te,Mt.lanes|=He,pc|=He;ze=ze.next}while(ze!==null&&ze!==n);if(pe===null?U=M:pe.next=ee,!mr(M,r.memoizedState)&&(or=!0,Ie&&(c=D,c!==null)))throw c;r.memoizedState=M,r.baseState=U,r.baseQueue=pe,m.lastRenderedState=M}return S===null&&(m.lanes=0),[r.memoizedState,m.dispatch]}function c0(r){var n=Na(),c=n.queue;if(c===null)throw Error(l(311));c.lastRenderedReducer=r;var m=c.dispatch,S=c.pending,M=n.memoizedState;if(S!==null){c.pending=null;var U=S=S.next;do M=r(M,U.action),U=U.next;while(U!==S);mr(M,n.memoizedState)||(or=!0),n.memoizedState=M,n.baseQueue===null&&(n.baseState=M),c.lastRenderedState=M}return[M,m]}function d0(r,n,c){var m=Mt,S=Na(),M=bs;if(M){if(c===void 0)throw Error(l(407));c=c()}else c=n();var U=!mr((zt||S).memoizedState,c);if(U&&(S.memoizedState=c,or=!0),S=S.queue,jm(ux.bind(null,m,S,r),[r]),S.getSnapshot!==n||U||zs!==null&&zs.memoizedState.tag&1){if(m.flags|=2048,ko(9,{destroy:void 0},xx.bind(null,m,S,c,n),null),ca===null)throw Error(l(349));M||(wa&127)!==0||ji(m,n,c)}return c}function ji(r,n,c){r.flags|=16384,r={getSnapshot:n,value:c},n=Mt.updateQueue,n===null?(n=ud(),Mt.updateQueue=n,n.stores=[r]):(c=n.stores,c===null?n.stores=[r]:c.push(r))}function xx(r,n,c,m){n.value=c,n.getSnapshot=m,yu(n)&&hx(r)}function ux(r,n,c){return c(function(){yu(n)&&hx(r)})}function yu(r){var n=r.getSnapshot;r=r.value;try{var c=n();return!mr(r,c)}catch{return!0}}function hx(r){var n=bi(r,2);n!==null&&Hl(n,r,2)}function Ji(r){var n=ir();if(typeof r=="function"){var c=r;if(r=c(),Br){Ht(!0);try{c()}finally{Ht(!1)}}}return n.memoizedState=n.baseState=r,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bn,lastRenderedState:r},n}function ju(r,n,c,m){return r.baseState=c,dc(r,zt,typeof m=="function"?m:Bn)}function wu(r,n,c,m,S){if(Cu(r))throw Error(l(485));if(r=n.action,r!==null){var M={payload:S,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(U){M.listeners.push(U)}};V.T!==null?c(!0):M.isTransition=!1,m(M),c=n.pending,c===null?(M.next=n.pending=M,Nu(n,M)):(M.next=c.next,n.pending=c.next=M)}}function Nu(r,n){var c=n.action,m=n.payload,S=r.state;if(n.isTransition){var M=V.T,U={};V.T=U;try{var ee=c(S,m),pe=V.S;pe!==null&&pe(U,ee),mx(r,n,ee)}catch(ze){No(r,n,ze)}finally{M!==null&&U.types!==null&&(M.types=U.types),V.T=M}}else try{M=c(S,m),mx(r,n,M)}catch(ze){No(r,n,ze)}}function mx(r,n,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(m){ku(r,n,m)},function(m){return No(r,n,m)}):ku(r,n,c)}function ku(r,n,c){n.status="fulfilled",n.value=c,x0(n),r.state=c,n=r.pending,n!==null&&(c=n.next,c===n?r.pending=null:(c=c.next,n.next=c,Nu(r,c)))}function No(r,n,c){var m=r.pending;if(r.pending=null,m!==null){m=m.next;do n.status="rejected",n.reason=c,x0(n),n=n.next;while(n!==m)}r.action=null}function x0(r){r=r.listeners;for(var n=0;n<r.length;n++)(0,r[n])()}function hd(r,n){return n}function Un(r,n){if(bs){var c=ca.formState;if(c!==null){e:{var m=Mt;if(bs){if(ia){t:{for(var S=ia,M=ja;S.nodeType!==8;){if(!M){S=null;break t}if(S=$n(S.nextSibling),S===null){S=null;break t}}M=S.data,S=M==="F!"||M==="F"?S:null}if(S){ia=$n(S.nextSibling),m=S.data==="F!";break e}}qi(m)}m=!1}m&&(n=c[0])}}return c=ir(),c.memoizedState=c.baseState=n,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hd,lastRenderedState:n},c.queue=m,c=tb.bind(null,Mt,m),m.dispatch=c,m=Ji(!1),M=Cm.bind(null,Mt,!1,m.queue),m=ir(),S={state:n,dispatch:null,action:r,pending:null},m.queue=S,c=wu.bind(null,Mt,S,M,c),S.dispatch=c,m.memoizedState=r,[n,c,!1]}function wi(r){var n=Na();return Ni(n,zt,r)}function Ni(r,n,c){if(n=dc(r,n,hd)[0],r=o0(Bn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var m=Ki(n)}catch(U){throw U===ge?ie:U}else m=n;n=Na();var S=n.queue,M=S.dispatch;return c!==n.memoizedState&&(Mt.flags|=2048,ko(9,{destroy:void 0},u0.bind(null,S,c),null)),[m,M,r]}function u0(r,n){r.action=n}function h0(r){var n=Na(),c=zt;if(c!==null)return Ni(n,c,r);Na(),n=n.memoizedState,c=Na();var m=c.queue.dispatch;return c.memoizedState=r,[n,m,!1]}function ko(r,n,c,m){return r={tag:r,create:c,deps:m,inst:n,next:null},n=Mt.updateQueue,n===null&&(n=ud(),Mt.updateQueue=n),c=n.lastEffect,c===null?n.lastEffect=r.next=r:(m=c.next,c.next=r,r.next=m,n.lastEffect=r),r}function Su(){return Na().memoizedState}function xc(r,n,c,m){var S=ir();Mt.flags|=r,S.memoizedState=ko(1|n,{destroy:void 0},c,m===void 0?null:m)}function uc(r,n,c,m){var S=Na();m=m===void 0?null:m;var M=S.memoizedState.inst;zt!==null&&m!==null&&ix(m,zt.memoizedState.deps)?S.memoizedState=ko(n,M,c,m):(Mt.flags|=r,S.memoizedState=ko(1|n,M,c,m))}function Ug(r,n){xc(8390656,8,r,n)}function jm(r,n){uc(2048,8,r,n)}function l5(r){Mt.flags|=4;var n=Mt.updateQueue;if(n===null)n=ud(),Mt.updateQueue=n,n.events=[r];else{var c=n.events;c===null?n.events=[r]:c.push(r)}}function $g(r){var n=Na().memoizedState;return l5({ref:n,nextImpl:r}),function(){if((Us&2)!==0)throw Error(l(440));return n.impl.apply(void 0,arguments)}}function qg(r,n){return uc(4,2,r,n)}function Hg(r,n){return uc(4,4,r,n)}function Wg(r,n){if(typeof n=="function"){r=r();var c=n(r);return function(){typeof c=="function"?c():n(null)}}if(n!=null)return r=r(),n.current=r,function(){n.current=null}}function Gg(r,n,c){c=c!=null?c.concat([r]):null,uc(4,4,Wg.bind(null,n,r),c)}function wm(){}function Vg(r,n){var c=Na();n=n===void 0?null:n;var m=c.memoizedState;return n!==null&&ix(n,m[1])?m[0]:(c.memoizedState=[r,n],r)}function Yg(r,n){var c=Na();n=n===void 0?null:n;var m=c.memoizedState;if(n!==null&&ix(n,m[1]))return m[0];if(m=r(),Br){Ht(!0);try{r()}finally{Ht(!1)}}return c.memoizedState=[m,n],m}function Nm(r,n,c){return c===void 0||(wa&1073741824)!==0&&(ws&261930)===0?r.memoizedState=n:(r.memoizedState=c,r=Xb(),Mt.lanes|=r,pc|=r,c)}function Xg(r,n,c,m){return mr(c,n)?c:ds.current!==null?(r=Nm(r,c,m),mr(r,n)||(or=!0),r):(wa&42)===0||(wa&1073741824)!==0&&(ws&261930)===0?(or=!0,r.memoizedState=c):(r=Xb(),Mt.lanes|=r,pc|=r,n)}function Kg(r,n,c,m,S){var M=ne.p;ne.p=M!==0&&8>M?M:8;var U=V.T,ee={};V.T=ee,Cm(r,!1,n,c);try{var pe=S(),ze=V.S;if(ze!==null&&ze(ee,pe),pe!==null&&typeof pe=="object"&&typeof pe.then=="function"){var Ie=K(pe,m);px(r,n,Ie,gn(r))}else px(r,n,m,gn(r))}catch(He){px(r,n,{then:function(){},status:"rejected",reason:He},gn())}finally{ne.p=M,U!==null&&ee.types!==null&&(U.types=ee.types),V.T=U}}function n5(){}function km(r,n,c,m){if(r.tag!==5)throw Error(l(476));var S=Jg(r).queue;Kg(r,S,n,I,c===null?n5:function(){return Qg(r),c(m)})}function Jg(r){var n=r.memoizedState;if(n!==null)return n;n={memoizedState:I,baseState:I,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bn,lastRenderedState:I},next:null};var c={};return n.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bn,lastRenderedState:c},next:null},r.memoizedState=n,r=r.alternate,r!==null&&(r.memoizedState=n),n}function Qg(r){var n=Jg(r);n.next===null&&(n=r.alternate.memoizedState),px(r,n.next.queue,{},gn())}function Sm(){return br(Ex)}function Zg(){return Na().memoizedState}function eb(){return Na().memoizedState}function i5(r){for(var n=r.return;n!==null;){switch(n.tag){case 24:case 3:var c=gn();r=Rt(c);var m=ns(n,r,c);m!==null&&(Hl(m,n,c),Is(m,n,c)),n={cache:oc()},r.payload=n;return}n=n.return}}function o5(r,n,c){var m=gn();c={lane:m,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Cu(r)?sb(n,c):(c=Yd(r,n,c,m),c!==null&&(Hl(c,r,m),ab(c,n,m)))}function tb(r,n,c){var m=gn();px(r,n,c,m)}function px(r,n,c,m){var S={lane:m,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Cu(r))sb(n,S);else{var M=r.alternate;if(r.lanes===0&&(M===null||M.lanes===0)&&(M=n.lastRenderedReducer,M!==null))try{var U=n.lastRenderedState,ee=M(U,c);if(S.hasEagerState=!0,S.eagerState=ee,mr(ee,U))return ld(r,n,S,0),ca===null&&rd(),!1}catch{}if(c=Yd(r,n,S,m),c!==null)return Hl(c,r,m),ab(c,n,m),!0}return!1}function Cm(r,n,c,m){if(m={lane:2,revertLane:rp(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Cu(r)){if(n)throw Error(l(479))}else n=Yd(r,c,m,2),n!==null&&Hl(n,r,2)}function Cu(r){var n=r.alternate;return r===Mt||n!==null&&n===Mt}function sb(r,n){Il=Kr=!0;var c=r.pending;c===null?n.next=n:(n.next=c.next,c.next=n),r.pending=n}function ab(r,n,c){if((c&4194048)!==0){var m=n.lanes;m&=r.pendingLanes,c|=m,n.lanes=c,cl(r,c)}}var fx={readContext:br,use:cc,useCallback:aa,useContext:aa,useEffect:aa,useImperativeHandle:aa,useLayoutEffect:aa,useInsertionEffect:aa,useMemo:aa,useReducer:aa,useRef:aa,useState:aa,useDebugValue:aa,useDeferredValue:aa,useTransition:aa,useSyncExternalStore:aa,useId:aa,useHostTransitionStatus:aa,useFormState:aa,useActionState:aa,useOptimistic:aa,useMemoCache:aa,useCacheRefresh:aa};fx.useEffectEvent=aa;var rb={readContext:br,use:cc,useCallback:function(r,n){return ir().memoizedState=[r,n===void 0?null:n],r},useContext:br,useEffect:Ug,useImperativeHandle:function(r,n,c){c=c!=null?c.concat([r]):null,xc(4194308,4,Wg.bind(null,n,r),c)},useLayoutEffect:function(r,n){return xc(4194308,4,r,n)},useInsertionEffect:function(r,n){xc(4,2,r,n)},useMemo:function(r,n){var c=ir();n=n===void 0?null:n;var m=r();if(Br){Ht(!0);try{r()}finally{Ht(!1)}}return c.memoizedState=[m,n],m},useReducer:function(r,n,c){var m=ir();if(c!==void 0){var S=c(n);if(Br){Ht(!0);try{c(n)}finally{Ht(!1)}}}else S=n;return m.memoizedState=m.baseState=S,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:S},m.queue=r,r=r.dispatch=o5.bind(null,Mt,r),[m.memoizedState,r]},useRef:function(r){var n=ir();return r={current:r},n.memoizedState=r},useState:function(r){r=Ji(r);var n=r.queue,c=tb.bind(null,Mt,n);return n.dispatch=c,[r.memoizedState,c]},useDebugValue:wm,useDeferredValue:function(r,n){var c=ir();return Nm(c,r,n)},useTransition:function(){var r=Ji(!1);return r=Kg.bind(null,Mt,r.queue,!0,!1),ir().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,n,c){var m=Mt,S=ir();if(bs){if(c===void 0)throw Error(l(407));c=c()}else{if(c=n(),ca===null)throw Error(l(349));(ws&127)!==0||ji(m,n,c)}S.memoizedState=c;var M={value:c,getSnapshot:n};return S.queue=M,Ug(ux.bind(null,m,M,r),[r]),m.flags|=2048,ko(9,{destroy:void 0},xx.bind(null,m,M,c,n),null),c},useId:function(){var r=ir(),n=ca.identifierPrefix;if(bs){var c=Ol,m=Rl;c=(m&~(1<<32-ps(m)-1)).toString(32)+c,n="_"+n+"R_"+c,c=qa++,0<c&&(n+="H"+c.toString(32)),n+="_"}else c=l0++,n="_"+n+"r_"+c.toString(32)+"_";return r.memoizedState=n},useHostTransitionStatus:Sm,useFormState:Un,useActionState:Un,useOptimistic:function(r){var n=ir();n.memoizedState=n.baseState=r;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=c,n=Cm.bind(null,Mt,!0,c),c.dispatch=n,[r,n]},useMemoCache:wo,useCacheRefresh:function(){return ir().memoizedState=i5.bind(null,Mt)},useEffectEvent:function(r){var n=ir(),c={impl:r};return n.memoizedState=c,function(){if((Us&2)!==0)throw Error(l(440));return c.impl.apply(void 0,arguments)}}},Am={readContext:br,use:cc,useCallback:Vg,useContext:br,useEffect:jm,useImperativeHandle:Gg,useInsertionEffect:qg,useLayoutEffect:Hg,useMemo:Yg,useReducer:o0,useRef:Su,useState:function(){return o0(Bn)},useDebugValue:wm,useDeferredValue:function(r,n){var c=Na();return Xg(c,zt.memoizedState,r,n)},useTransition:function(){var r=o0(Bn)[0],n=Na().memoizedState;return[typeof r=="boolean"?r:Ki(r),n]},useSyncExternalStore:d0,useId:Zg,useHostTransitionStatus:Sm,useFormState:wi,useActionState:wi,useOptimistic:function(r,n){var c=Na();return ju(c,zt,r,n)},useMemoCache:wo,useCacheRefresh:eb};Am.useEffectEvent=$g;var lb={readContext:br,use:cc,useCallback:Vg,useContext:br,useEffect:jm,useImperativeHandle:Gg,useInsertionEffect:qg,useLayoutEffect:Hg,useMemo:Yg,useReducer:c0,useRef:Su,useState:function(){return c0(Bn)},useDebugValue:wm,useDeferredValue:function(r,n){var c=Na();return zt===null?Nm(c,r,n):Xg(c,zt.memoizedState,r,n)},useTransition:function(){var r=c0(Bn)[0],n=Na().memoizedState;return[typeof r=="boolean"?r:Ki(r),n]},useSyncExternalStore:d0,useId:Zg,useHostTransitionStatus:Sm,useFormState:h0,useActionState:h0,useOptimistic:function(r,n){var c=Na();return zt!==null?ju(c,zt,r,n):(c.baseState=r,[r,c.queue.dispatch])},useMemoCache:wo,useCacheRefresh:eb};lb.useEffectEvent=$g;function Dm(r,n,c,m){n=r.memoizedState,c=c(m,n),c=c==null?n:f({},n,c),r.memoizedState=c,r.lanes===0&&(r.updateQueue.baseState=c)}var Mm={enqueueSetState:function(r,n,c){r=r._reactInternals;var m=gn(),S=Rt(m);S.payload=n,c!=null&&(S.callback=c),n=ns(r,S,m),n!==null&&(Hl(n,r,m),Is(n,r,m))},enqueueReplaceState:function(r,n,c){r=r._reactInternals;var m=gn(),S=Rt(m);S.tag=1,S.payload=n,c!=null&&(S.callback=c),n=ns(r,S,m),n!==null&&(Hl(n,r,m),Is(n,r,m))},enqueueForceUpdate:function(r,n){r=r._reactInternals;var c=gn(),m=Rt(c);m.tag=2,n!=null&&(m.callback=n),n=ns(r,m,c),n!==null&&(Hl(n,r,c),Is(n,r,c))}};function nb(r,n,c,m,S,M,U){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(m,M,U):n.prototype&&n.prototype.isPureReactComponent?!mi(c,m)||!mi(S,M):!0}function ib(r,n,c,m){r=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(c,m),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(c,m),n.state!==r&&Mm.enqueueReplaceState(n,n.state,null)}function md(r,n){var c=n;if("ref"in n){c={};for(var m in n)m!=="ref"&&(c[m]=n[m])}if(r=r.defaultProps){c===n&&(c=f({},c));for(var S in r)c[S]===void 0&&(c[S]=r[S])}return c}function ob(r){ad(r)}function cb(r){console.error(r)}function db(r){ad(r)}function Au(r,n){try{var c=r.onUncaughtError;c(n.value,{componentStack:n.stack})}catch(m){setTimeout(function(){throw m})}}function xb(r,n,c){try{var m=r.onCaughtError;m(c.value,{componentStack:c.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function Lm(r,n,c){return c=Rt(c),c.tag=3,c.payload={element:null},c.callback=function(){Au(r,n)},c}function ub(r){return r=Rt(r),r.tag=3,r}function hb(r,n,c,m){var S=c.type.getDerivedStateFromError;if(typeof S=="function"){var M=m.value;r.payload=function(){return S(M)},r.callback=function(){xb(n,c,m)}}var U=c.stateNode;U!==null&&typeof U.componentDidCatch=="function"&&(r.callback=function(){xb(n,c,m),typeof S!="function"&&(fc===null?fc=new Set([this]):fc.add(this));var ee=m.stack;this.componentDidCatch(m.value,{componentStack:ee!==null?ee:""})})}function c5(r,n,c,m,S){if(c.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(n=c.alternate,n!==null&&Gi(n,c,S,!0),c=ba.current,c!==null){switch(c.tag){case 31:case 13:return Ls===null?Iu():c.alternate===null&&Ha===0&&(Ha=3),c.flags&=-257,c.flags|=65536,c.lanes=S,m===je?c.flags|=16384:(n=c.updateQueue,n===null?c.updateQueue=new Set([m]):n.add(m),tp(r,m,S)),!1;case 22:return c.flags|=65536,m===je?c.flags|=16384:(n=c.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([m])},c.updateQueue=n):(c=n.retryQueue,c===null?n.retryQueue=new Set([m]):c.add(m)),tp(r,m,S)),!1}throw Error(l(435,c.tag))}return tp(r,m,S),Iu(),!1}if(bs)return n=ba.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=S,m!==mn&&(r=Error(l(422),{cause:m}),nc(Tl(r,c)))):(m!==mn&&(n=Error(l(423),{cause:m}),nc(Tl(n,c))),r=r.current.alternate,r.flags|=65536,S&=-S,r.lanes|=S,m=Tl(m,c),S=Lm(r.stateNode,m,S),Ja(r,S),Ha!==4&&(Ha=2)),!1;var M=Error(l(520),{cause:m});if(M=Tl(M,c),kx===null?kx=[M]:kx.push(M),Ha!==4&&(Ha=2),n===null)return!0;m=Tl(m,c),c=n;do{switch(c.tag){case 3:return c.flags|=65536,r=S&-S,c.lanes|=r,r=Lm(c.stateNode,m,r),Ja(c,r),!1;case 1:if(n=c.type,M=c.stateNode,(c.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(fc===null||!fc.has(M))))return c.flags|=65536,S&=-S,c.lanes|=S,S=ub(S),hb(S,r,c,m),Ja(c,S),!1}c=c.return}while(c!==null);return!1}var zm=Error(l(461)),or=!1;function Ur(r,n,c,m){n.child=r===null?es(n,null,c,m):oa(n,r.child,c,m)}function mb(r,n,c,m,S){c=c.render;var M=n.ref;if("ref"in m){var U={};for(var ee in m)ee!=="ref"&&(U[ee]=m[ee])}else U=m;return Vi(n),m=ox(r,n,c,U,M,S),ee=cx(),r!==null&&!or?(dx(r,n,S),So(r,n,S)):(bs&&ee&&rx(n),n.flags|=1,Ur(r,n,m,S),n.child)}function pb(r,n,c,m,S){if(r===null){var M=c.type;return typeof M=="function"&&!Kd(M)&&M.defaultProps===void 0&&c.compare===null?(n.tag=15,n.type=M,fb(r,n,M,m,S)):(r=ac(c.type,null,m,n,n.mode,S),r.ref=n.ref,r.return=n,n.child=r)}if(M=r.child,!Im(r,S)){var U=M.memoizedProps;if(c=c.compare,c=c!==null?c:mi,c(U,m)&&r.ref===n.ref)return So(r,n,S)}return n.flags|=1,r=El(M,m),r.ref=n.ref,r.return=n,n.child=r}function fb(r,n,c,m,S){if(r!==null){var M=r.memoizedProps;if(mi(M,m)&&r.ref===n.ref)if(or=!1,n.pendingProps=m=M,Im(r,S))(r.flags&131072)!==0&&(or=!0);else return n.lanes=r.lanes,So(r,n,S)}return Em(r,n,c,m,S)}function gb(r,n,c,m){var S=m.children,M=r!==null?r.memoizedState:null;if(r===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((n.flags&128)!==0){if(M=M!==null?M.baseLanes|c:c,r!==null){for(m=n.child=r.child,S=0;m!==null;)S=S|m.lanes|m.childLanes,m=m.sibling;m=S&~M}else m=0,n.child=null;return bb(r,n,M,c,m)}if((c&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},r!==null&&re(n,M!==null?M.cachePool:null),M!==null?ga(n,M):_s(),Ua(n);else return m=n.lanes=536870912,bb(r,n,M!==null?M.baseLanes|c:c,c,m)}else M!==null?(re(n,M.cachePool),ga(n,M),$a(),n.memoizedState=null):(r!==null&&re(n,null),_s(),$a());return Ur(r,n,S,c),n.child}function gx(r,n){return r!==null&&r.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function bb(r,n,c,m,S){var M=te();return M=M===null?null:{parent:Ta._currentValue,pool:M},n.memoizedState={baseLanes:c,cachePool:M},r!==null&&re(n,null),_s(),Ua(n),r!==null&&Gi(r,n,m,!0),n.childLanes=S,null}function Du(r,n){return n=Lu({mode:n.mode,children:n.children},r.mode),n.ref=r.ref,r.child=n,n.return=r,n}function vb(r,n,c){return oa(n,r.child,null,c),r=Du(n,n.pendingProps),r.flags|=2,Vs(n),n.memoizedState=null,r}function d5(r,n,c){var m=n.pendingProps,S=(n.flags&128)!==0;if(n.flags&=-129,r===null){if(bs){if(m.mode==="hidden")return r=Du(n,m),n.lanes=536870912,gx(null,r);if(Bs(n),(r=ia)?(r=zv(r,ja),r=r!==null&&r.data==="&"?r:null,r!==null&&(n.memoizedState={dehydrated:r,treeContext:$i!==null?{id:Rl,overflow:Ol}:null,retryLane:536870912,hydrationErrors:null},c=Jd(r),c.return=n,n.child=c,fr=n,ia=null)):r=null,r===null)throw qi(n);return n.lanes=536870912,null}return Du(n,m)}var M=r.memoizedState;if(M!==null){var U=M.dehydrated;if(Bs(n),S)if(n.flags&256)n.flags&=-257,n=vb(r,n,c);else if(n.memoizedState!==null)n.child=r.child,n.flags|=128,n=null;else throw Error(l(558));else if(or||Gi(r,n,c,!1),S=(c&r.childLanes)!==0,or||S){if(m=ca,m!==null&&(U=dl(m,c),U!==0&&U!==M.retryLane))throw M.retryLane=U,bi(r,U),Hl(m,r,U),zm;Iu(),n=vb(r,n,c)}else r=M.treeContext,ia=$n(U.nextSibling),fr=n,bs=!0,Ir=null,ja=!1,r!==null&&bu(n,r),n=Du(n,m),n.flags|=4096;return n}return r=El(r.child,{mode:m.mode,children:m.children}),r.ref=n.ref,n.child=r,r.return=n,r}function Mu(r,n){var c=n.ref;if(c===null)r!==null&&r.ref!==null&&(n.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(l(284));(r===null||r.ref!==c)&&(n.flags|=4194816)}}function Em(r,n,c,m,S){return Vi(n),c=ox(r,n,c,m,void 0,S),m=cx(),r!==null&&!or?(dx(r,n,S),So(r,n,S)):(bs&&m&&rx(n),n.flags|=1,Ur(r,n,c,S),n.child)}function yb(r,n,c,m,S,M){return Vi(n),n.updateQueue=null,c=yi(n,m,c,S),n0(r),m=cx(),r!==null&&!or?(dx(r,n,M),So(r,n,M)):(bs&&m&&rx(n),n.flags|=1,Ur(r,n,c,M),n.child)}function jb(r,n,c,m,S){if(Vi(n),n.stateNode===null){var M=pr,U=c.contextType;typeof U=="object"&&U!==null&&(M=br(U)),M=new c(m,M),n.memoizedState=M.state!==null&&M.state!==void 0?M.state:null,M.updater=Mm,n.stateNode=M,M._reactInternals=n,M=n.stateNode,M.props=m,M.state=n.memoizedState,M.refs={},at(n),U=c.contextType,M.context=typeof U=="object"&&U!==null?br(U):pr,M.state=n.memoizedState,U=c.getDerivedStateFromProps,typeof U=="function"&&(Dm(n,c,U,m),M.state=n.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof M.getSnapshotBeforeUpdate=="function"||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(U=M.state,typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount(),U!==M.state&&Mm.enqueueReplaceState(M,M.state,null),Ia(n,m,M,S),sa(),M.state=n.memoizedState),typeof M.componentDidMount=="function"&&(n.flags|=4194308),m=!0}else if(r===null){M=n.stateNode;var ee=n.memoizedProps,pe=md(c,ee);M.props=pe;var ze=M.context,Ie=c.contextType;U=pr,typeof Ie=="object"&&Ie!==null&&(U=br(Ie));var He=c.getDerivedStateFromProps;Ie=typeof He=="function"||typeof M.getSnapshotBeforeUpdate=="function",ee=n.pendingProps!==ee,Ie||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(ee||ze!==U)&&ib(n,M,m,U),ot=!1;var Te=n.memoizedState;M.state=Te,Ia(n,m,M,S),sa(),ze=n.memoizedState,ee||Te!==ze||ot?(typeof He=="function"&&(Dm(n,c,He,m),ze=n.memoizedState),(pe=ot||nb(n,c,pe,m,Te,ze,U))?(Ie||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(n.flags|=4194308)):(typeof M.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=m,n.memoizedState=ze),M.props=m,M.state=ze,M.context=U,m=pe):(typeof M.componentDidMount=="function"&&(n.flags|=4194308),m=!1)}else{M=n.stateNode,fa(r,n),U=n.memoizedProps,Ie=md(c,U),M.props=Ie,He=n.pendingProps,Te=M.context,ze=c.contextType,pe=pr,typeof ze=="object"&&ze!==null&&(pe=br(ze)),ee=c.getDerivedStateFromProps,(ze=typeof ee=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(U!==He||Te!==pe)&&ib(n,M,m,pe),ot=!1,Te=n.memoizedState,M.state=Te,Ia(n,m,M,S),sa();var Re=n.memoizedState;U!==He||Te!==Re||ot||r!==null&&r.dependencies!==null&&s0(r.dependencies)?(typeof ee=="function"&&(Dm(n,c,ee,m),Re=n.memoizedState),(Ie=ot||nb(n,c,Ie,m,Te,Re,pe)||r!==null&&r.dependencies!==null&&s0(r.dependencies))?(ze||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(m,Re,pe),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(m,Re,pe)),typeof M.componentDidUpdate=="function"&&(n.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof M.componentDidUpdate!="function"||U===r.memoizedProps&&Te===r.memoizedState||(n.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||U===r.memoizedProps&&Te===r.memoizedState||(n.flags|=1024),n.memoizedProps=m,n.memoizedState=Re),M.props=m,M.state=Re,M.context=pe,m=Ie):(typeof M.componentDidUpdate!="function"||U===r.memoizedProps&&Te===r.memoizedState||(n.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||U===r.memoizedProps&&Te===r.memoizedState||(n.flags|=1024),m=!1)}return M=m,Mu(r,n),m=(n.flags&128)!==0,M||m?(M=n.stateNode,c=m&&typeof c.getDerivedStateFromError!="function"?null:M.render(),n.flags|=1,r!==null&&m?(n.child=oa(n,r.child,null,S),n.child=oa(n,null,c,S)):Ur(r,n,c,S),n.memoizedState=M.state,r=n.child):r=So(r,n,S),r}function wb(r,n,c,m){return yo(),n.flags|=256,Ur(r,n,c,m),n.child}var Tm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _m(r){return{baseLanes:r,cachePool:ce()}}function Pm(r,n,c){return r=r!==null?r.childLanes&~c:0,n&&(r|=fn),r}function Nb(r,n,c){var m=n.pendingProps,S=!1,M=(n.flags&128)!==0,U;if((U=M)||(U=r!==null&&r.memoizedState===null?!1:(Ds.current&2)!==0),U&&(S=!0,n.flags&=-129),U=(n.flags&32)!==0,n.flags&=-33,r===null){if(bs){if(S?_a(n):$a(),(r=ia)?(r=zv(r,ja),r=r!==null&&r.data!=="&"?r:null,r!==null&&(n.memoizedState={dehydrated:r,treeContext:$i!==null?{id:Rl,overflow:Ol}:null,retryLane:536870912,hydrationErrors:null},c=Jd(r),c.return=n,n.child=c,fr=n,ia=null)):r=null,r===null)throw qi(n);return gp(r)?n.lanes=32:n.lanes=536870912,null}var ee=m.children;return m=m.fallback,S?($a(),S=n.mode,ee=Lu({mode:"hidden",children:ee},S),m=Ui(m,S,c,null),ee.return=n,m.return=n,ee.sibling=m,n.child=ee,m=n.child,m.memoizedState=_m(c),m.childLanes=Pm(r,U,c),n.memoizedState=Tm,gx(null,m)):(_a(n),Rm(n,ee))}var pe=r.memoizedState;if(pe!==null&&(ee=pe.dehydrated,ee!==null)){if(M)n.flags&256?(_a(n),n.flags&=-257,n=Om(r,n,c)):n.memoizedState!==null?($a(),n.child=r.child,n.flags|=128,n=null):($a(),ee=m.fallback,S=n.mode,m=Lu({mode:"visible",children:m.children},S),ee=Ui(ee,S,c,null),ee.flags|=2,m.return=n,ee.return=n,m.sibling=ee,n.child=m,oa(n,r.child,null,c),m=n.child,m.memoizedState=_m(c),m.childLanes=Pm(r,U,c),n.memoizedState=Tm,n=gx(null,m));else if(_a(n),gp(ee)){if(U=ee.nextSibling&&ee.nextSibling.dataset,U)var ze=U.dgst;U=ze,m=Error(l(419)),m.stack="",m.digest=U,nc({value:m,source:null,stack:null}),n=Om(r,n,c)}else if(or||Gi(r,n,c,!1),U=(c&r.childLanes)!==0,or||U){if(U=ca,U!==null&&(m=dl(U,c),m!==0&&m!==pe.retryLane))throw pe.retryLane=m,bi(r,m),Hl(U,r,m),zm;fp(ee)||Iu(),n=Om(r,n,c)}else fp(ee)?(n.flags|=192,n.child=r.child,n=null):(r=pe.treeContext,ia=$n(ee.nextSibling),fr=n,bs=!0,Ir=null,ja=!1,r!==null&&bu(n,r),n=Rm(n,m.children),n.flags|=4096);return n}return S?($a(),ee=m.fallback,S=n.mode,pe=r.child,ze=pe.sibling,m=El(pe,{mode:"hidden",children:m.children}),m.subtreeFlags=pe.subtreeFlags&65011712,ze!==null?ee=El(ze,ee):(ee=Ui(ee,S,c,null),ee.flags|=2),ee.return=n,m.return=n,m.sibling=ee,n.child=m,gx(null,m),m=n.child,ee=r.child.memoizedState,ee===null?ee=_m(c):(S=ee.cachePool,S!==null?(pe=Ta._currentValue,S=S.parent!==pe?{parent:pe,pool:pe}:S):S=ce(),ee={baseLanes:ee.baseLanes|c,cachePool:S}),m.memoizedState=ee,m.childLanes=Pm(r,U,c),n.memoizedState=Tm,gx(r.child,m)):(_a(n),c=r.child,r=c.sibling,c=El(c,{mode:"visible",children:m.children}),c.return=n,c.sibling=null,r!==null&&(U=n.deletions,U===null?(n.deletions=[r],n.flags|=16):U.push(r)),n.child=c,n.memoizedState=null,c)}function Rm(r,n){return n=Lu({mode:"visible",children:n},r.mode),n.return=r,r.child=n}function Lu(r,n){return r=Sr(22,r,null,n),r.lanes=0,r}function Om(r,n,c){return oa(n,r.child,null,c),r=Rm(n,n.pendingProps.children),r.flags|=2,n.memoizedState=null,r}function kb(r,n,c){r.lanes|=n;var m=r.alternate;m!==null&&(m.lanes|=n),ic(r.return,n,c)}function Fm(r,n,c,m,S,M){var U=r.memoizedState;U===null?r.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:m,tail:c,tailMode:S,treeForkCount:M}:(U.isBackwards=n,U.rendering=null,U.renderingStartTime=0,U.last=m,U.tail=c,U.tailMode=S,U.treeForkCount=M)}function Sb(r,n,c){var m=n.pendingProps,S=m.revealOrder,M=m.tail;m=m.children;var U=Ds.current,ee=(U&2)!==0;if(ee?(U=U&1|2,n.flags|=128):U&=1,Q(Ds,U),Ur(r,n,m,c),m=bs?cd:0,!ee&&r!==null&&(r.flags&128)!==0)e:for(r=n.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&kb(r,c,n);else if(r.tag===19)kb(r,c,n);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(S){case"forwards":for(c=n.child,S=null;c!==null;)r=c.alternate,r!==null&&Ar(r)===null&&(S=c),c=c.sibling;c=S,c===null?(S=n.child,n.child=null):(S=c.sibling,c.sibling=null),Fm(n,!1,S,c,M,m);break;case"backwards":case"unstable_legacy-backwards":for(c=null,S=n.child,n.child=null;S!==null;){if(r=S.alternate,r!==null&&Ar(r)===null){n.child=S;break}r=S.sibling,S.sibling=c,c=S,S=r}Fm(n,!0,c,null,M,m);break;case"together":Fm(n,!1,null,null,void 0,m);break;default:n.memoizedState=null}return n.child}function So(r,n,c){if(r!==null&&(n.dependencies=r.dependencies),pc|=n.lanes,(c&n.childLanes)===0)if(r!==null){if(Gi(r,n,c,!1),(c&n.childLanes)===0)return null}else return null;if(r!==null&&n.child!==r.child)throw Error(l(153));if(n.child!==null){for(r=n.child,c=El(r,r.pendingProps),n.child=c,c.return=n;r.sibling!==null;)r=r.sibling,c=c.sibling=El(r,r.pendingProps),c.return=n;c.sibling=null}return n.child}function Im(r,n){return(r.lanes&n)!==0?!0:(r=r.dependencies,!!(r!==null&&s0(r)))}function x5(r,n,c){switch(n.tag){case 3:he(n,n.stateNode.containerInfo),Wi(n,Ta,r.memoizedState.cache),yo();break;case 27:case 5:_e(n);break;case 4:he(n,n.stateNode.containerInfo);break;case 10:Wi(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Bs(n),null;break;case 13:var m=n.memoizedState;if(m!==null)return m.dehydrated!==null?(_a(n),n.flags|=128,null):(c&n.child.childLanes)!==0?Nb(r,n,c):(_a(n),r=So(r,n,c),r!==null?r.sibling:null);_a(n);break;case 19:var S=(r.flags&128)!==0;if(m=(c&n.childLanes)!==0,m||(Gi(r,n,c,!1),m=(c&n.childLanes)!==0),S){if(m)return Sb(r,n,c);n.flags|=128}if(S=n.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),Q(Ds,Ds.current),m)break;return null;case 22:return n.lanes=0,gb(r,n,c,n.pendingProps);case 24:Wi(n,Ta,r.memoizedState.cache)}return So(r,n,c)}function Cb(r,n,c){if(r!==null)if(r.memoizedProps!==n.pendingProps)or=!0;else{if(!Im(r,c)&&(n.flags&128)===0)return or=!1,x5(r,n,c);or=(r.flags&131072)!==0}else or=!1,bs&&(n.flags&1048576)!==0&&gu(n,cd,n.index);switch(n.lanes=0,n.tag){case 16:e:{var m=n.pendingProps;if(r=Ae(n.elementType),n.type=r,typeof r=="function")Kd(r)?(m=md(r,m),n.tag=1,n=jb(null,n,r,m,c)):(n.tag=0,n=Em(null,n,r,m,c));else{if(r!=null){var S=r.$$typeof;if(S===N){n.tag=11,n=mb(null,n,r,m,c);break e}else if(S===F){n.tag=14,n=pb(null,n,r,m,c);break e}}throw n=W(r)||r,Error(l(306,n,""))}}return n;case 0:return Em(r,n,n.type,n.pendingProps,c);case 1:return m=n.type,S=md(m,n.pendingProps),jb(r,n,m,S,c);case 3:e:{if(he(n,n.stateNode.containerInfo),r===null)throw Error(l(387));m=n.pendingProps;var M=n.memoizedState;S=M.element,fa(r,n),Ia(n,m,null,c);var U=n.memoizedState;if(m=U.cache,Wi(n,Ta,m),m!==M.cache&&jo(n,[Ta],c,!0),sa(),m=U.element,M.isDehydrated)if(M={element:m,isDehydrated:!1,cache:U.cache},n.updateQueue.baseState=M,n.memoizedState=M,n.flags&256){n=wb(r,n,m,c);break e}else if(m!==S){S=Tl(Error(l(424)),n),nc(S),n=wb(r,n,m,c);break e}else for(r=n.stateNode.containerInfo,r.nodeType===9?r=r.body:r=r.nodeName==="HTML"?r.ownerDocument.body:r,ia=$n(r.firstChild),fr=n,bs=!0,Ir=null,ja=!0,c=es(n,null,m,c),n.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(yo(),m===S){n=So(r,n,c);break e}Ur(r,n,m,c)}n=n.child}return n;case 26:return Mu(r,n),r===null?(c=Ov(n.type,null,n.pendingProps,null))?n.memoizedState=c:bs||(c=n.type,r=n.pendingProps,m=Gu(me.current).createElement(c),m[Gs]=n,m[ma]=r,$r(m,c,r),Ma(m),n.stateNode=m):n.memoizedState=Ov(n.type,r.memoizedProps,n.pendingProps,r.memoizedState),null;case 27:return _e(n),r===null&&bs&&(m=n.stateNode=_v(n.type,n.pendingProps,me.current),fr=n,ja=!0,S=ia,yc(n.type)?(bp=S,ia=$n(m.firstChild)):ia=S),Ur(r,n,n.pendingProps.children,c),Mu(r,n),r===null&&(n.flags|=4194304),n.child;case 5:return r===null&&bs&&((S=m=ia)&&(m=U5(m,n.type,n.pendingProps,ja),m!==null?(n.stateNode=m,fr=n,ia=$n(m.firstChild),ja=!1,S=!0):S=!1),S||qi(n)),_e(n),S=n.type,M=n.pendingProps,U=r!==null?r.memoizedProps:null,m=M.children,hp(S,M)?m=null:U!==null&&hp(S,U)&&(n.flags|=32),n.memoizedState!==null&&(S=ox(r,n,ym,null,null,c),Ex._currentValue=S),Mu(r,n),Ur(r,n,m,c),n.child;case 6:return r===null&&bs&&((r=c=ia)&&(c=$5(c,n.pendingProps,ja),c!==null?(n.stateNode=c,fr=n,ia=null,r=!0):r=!1),r||qi(n)),null;case 13:return Nb(r,n,c);case 4:return he(n,n.stateNode.containerInfo),m=n.pendingProps,r===null?n.child=oa(n,null,m,c):Ur(r,n,m,c),n.child;case 11:return mb(r,n,n.type,n.pendingProps,c);case 7:return Ur(r,n,n.pendingProps,c),n.child;case 8:return Ur(r,n,n.pendingProps.children,c),n.child;case 12:return Ur(r,n,n.pendingProps.children,c),n.child;case 10:return m=n.pendingProps,Wi(n,n.type,m.value),Ur(r,n,m.children,c),n.child;case 9:return S=n.type._context,m=n.pendingProps.children,Vi(n),S=br(S),m=m(S),n.flags|=1,Ur(r,n,m,c),n.child;case 14:return pb(r,n,n.type,n.pendingProps,c);case 15:return fb(r,n,n.type,n.pendingProps,c);case 19:return Sb(r,n,c);case 31:return d5(r,n,c);case 22:return gb(r,n,c,n.pendingProps);case 24:return Vi(n),m=br(Ta),r===null?(S=te(),S===null&&(S=ca,M=oc(),S.pooledCache=M,M.refCount++,M!==null&&(S.pooledCacheLanes|=c),S=M),n.memoizedState={parent:m,cache:S},at(n),Wi(n,Ta,S)):((r.lanes&c)!==0&&(fa(r,n),Ia(n,null,null,c),sa()),S=r.memoizedState,M=n.memoizedState,S.parent!==m?(S={parent:m,cache:m},n.memoizedState=S,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=S),Wi(n,Ta,m)):(m=M.cache,Wi(n,Ta,m),m!==S.cache&&jo(n,[Ta],c,!0))),Ur(r,n,n.pendingProps.children,c),n.child;case 29:throw n.pendingProps}throw Error(l(156,n.tag))}function Co(r){r.flags|=4}function Bm(r,n,c,m,S){if((n=(r.mode&32)!==0)&&(n=!1),n){if(r.flags|=16777216,(S&335544128)===S)if(r.stateNode.complete)r.flags|=8192;else if(Zb())r.flags|=8192;else throw Oe=je,Me}else r.flags&=-16777217}function Ab(r,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!$v(n))if(Zb())r.flags|=8192;else throw Oe=je,Me}function zu(r,n){n!==null&&(r.flags|=4),r.flags&16384&&(n=r.tag!==22?Sn():536870912,r.lanes|=n,g0|=n)}function bx(r,n){if(!bs)switch(r.tailMode){case"hidden":n=r.tail;for(var c=null;n!==null;)n.alternate!==null&&(c=n),n=n.sibling;c===null?r.tail=null:c.sibling=null;break;case"collapsed":c=r.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?n||r.tail===null?r.tail=null:r.tail.sibling=null:m.sibling=null}}function va(r){var n=r.alternate!==null&&r.alternate.child===r.child,c=0,m=0;if(n)for(var S=r.child;S!==null;)c|=S.lanes|S.childLanes,m|=S.subtreeFlags&65011712,m|=S.flags&65011712,S.return=r,S=S.sibling;else for(S=r.child;S!==null;)c|=S.lanes|S.childLanes,m|=S.subtreeFlags,m|=S.flags,S.return=r,S=S.sibling;return r.subtreeFlags|=m,r.childLanes=c,n}function u5(r,n,c){var m=n.pendingProps;switch(e0(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return va(n),null;case 1:return va(n),null;case 3:return c=n.stateNode,m=null,r!==null&&(m=r.memoizedState.cache),n.memoizedState.cache!==m&&(n.flags|=2048),Fl(Ta),we(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(gr(n)?Co(n):r===null||r.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,nx())),va(n),null;case 26:var S=n.type,M=n.memoizedState;return r===null?(Co(n),M!==null?(va(n),Ab(n,M)):(va(n),Bm(n,S,null,m,c))):M?M!==r.memoizedState?(Co(n),va(n),Ab(n,M)):(va(n),n.flags&=-16777217):(r=r.memoizedProps,r!==m&&Co(n),va(n),Bm(n,S,r,m,c)),null;case 27:if($e(n),c=me.current,S=n.type,r!==null&&n.stateNode!=null)r.memoizedProps!==m&&Co(n);else{if(!m){if(n.stateNode===null)throw Error(l(166));return va(n),null}r=ae.current,gr(n)?lx(n):(r=_v(S,m,c),n.stateNode=r,Co(n))}return va(n),null;case 5:if($e(n),S=n.type,r!==null&&n.stateNode!=null)r.memoizedProps!==m&&Co(n);else{if(!m){if(n.stateNode===null)throw Error(l(166));return va(n),null}if(M=ae.current,gr(n))lx(n);else{var U=Gu(me.current);switch(M){case 1:M=U.createElementNS("http://www.w3.org/2000/svg",S);break;case 2:M=U.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;default:switch(S){case"svg":M=U.createElementNS("http://www.w3.org/2000/svg",S);break;case"math":M=U.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;case"script":M=U.createElement("div"),M.innerHTML="<script><\/script>",M=M.removeChild(M.firstChild);break;case"select":M=typeof m.is=="string"?U.createElement("select",{is:m.is}):U.createElement("select"),m.multiple?M.multiple=!0:m.size&&(M.size=m.size);break;default:M=typeof m.is=="string"?U.createElement(S,{is:m.is}):U.createElement(S)}}M[Gs]=n,M[ma]=m;e:for(U=n.child;U!==null;){if(U.tag===5||U.tag===6)M.appendChild(U.stateNode);else if(U.tag!==4&&U.tag!==27&&U.child!==null){U.child.return=U,U=U.child;continue}if(U===n)break e;for(;U.sibling===null;){if(U.return===null||U.return===n)break e;U=U.return}U.sibling.return=U.return,U=U.sibling}n.stateNode=M;e:switch($r(M,S,m),S){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&Co(n)}}return va(n),Bm(n,n.type,r===null?null:r.memoizedProps,n.pendingProps,c),null;case 6:if(r&&n.stateNode!=null)r.memoizedProps!==m&&Co(n);else{if(typeof m!="string"&&n.stateNode===null)throw Error(l(166));if(r=me.current,gr(n)){if(r=n.stateNode,c=n.memoizedProps,m=null,S=fr,S!==null)switch(S.tag){case 27:case 5:m=S.memoizedProps}r[Gs]=n,r=!!(r.nodeValue===c||m!==null&&m.suppressHydrationWarning===!0||Nv(r.nodeValue,c)),r||qi(n,!0)}else r=Gu(r).createTextNode(m),r[Gs]=n,n.stateNode=r}return va(n),null;case 31:if(c=n.memoizedState,r===null||r.memoizedState!==null){if(m=gr(n),c!==null){if(r===null){if(!m)throw Error(l(318));if(r=n.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(l(557));r[Gs]=n}else yo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;va(n),r=!1}else c=nx(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=c),r=!0;if(!r)return n.flags&256?(Vs(n),n):(Vs(n),null);if((n.flags&128)!==0)throw Error(l(558))}return va(n),null;case 13:if(m=n.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(S=gr(n),m!==null&&m.dehydrated!==null){if(r===null){if(!S)throw Error(l(318));if(S=n.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(l(317));S[Gs]=n}else yo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;va(n),S=!1}else S=nx(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=S),S=!0;if(!S)return n.flags&256?(Vs(n),n):(Vs(n),null)}return Vs(n),(n.flags&128)!==0?(n.lanes=c,n):(c=m!==null,r=r!==null&&r.memoizedState!==null,c&&(m=n.child,S=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(S=m.alternate.memoizedState.cachePool.pool),M=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(M=m.memoizedState.cachePool.pool),M!==S&&(m.flags|=2048)),c!==r&&c&&(n.child.flags|=8192),zu(n,n.updateQueue),va(n),null);case 4:return we(),r===null&&op(n.stateNode.containerInfo),va(n),null;case 10:return Fl(n.type),va(n),null;case 19:if($(Ds),m=n.memoizedState,m===null)return va(n),null;if(S=(n.flags&128)!==0,M=m.rendering,M===null)if(S)bx(m,!1);else{if(Ha!==0||r!==null&&(r.flags&128)!==0)for(r=n.child;r!==null;){if(M=Ar(r),M!==null){for(n.flags|=128,bx(m,!1),r=M.updateQueue,n.updateQueue=r,zu(n,r),n.subtreeFlags=0,r=c,c=n.child;c!==null;)id(c,r),c=c.sibling;return Q(Ds,Ds.current&1|2),bs&&vl(n,m.treeForkCount),n.child}r=r.sibling}m.tail!==null&&Ye()>Ru&&(n.flags|=128,S=!0,bx(m,!1),n.lanes=4194304)}else{if(!S)if(r=Ar(M),r!==null){if(n.flags|=128,S=!0,r=r.updateQueue,n.updateQueue=r,zu(n,r),bx(m,!0),m.tail===null&&m.tailMode==="hidden"&&!M.alternate&&!bs)return va(n),null}else 2*Ye()-m.renderingStartTime>Ru&&c!==536870912&&(n.flags|=128,S=!0,bx(m,!1),n.lanes=4194304);m.isBackwards?(M.sibling=n.child,n.child=M):(r=m.last,r!==null?r.sibling=M:n.child=M,m.last=M)}return m.tail!==null?(r=m.tail,m.rendering=r,m.tail=r.sibling,m.renderingStartTime=Ye(),r.sibling=null,c=Ds.current,Q(Ds,S?c&1|2:c&1),bs&&vl(n,m.treeForkCount),r):(va(n),null);case 22:case 23:return Vs(n),Qa(),m=n.memoizedState!==null,r!==null?r.memoizedState!==null!==m&&(n.flags|=8192):m&&(n.flags|=8192),m?(c&536870912)!==0&&(n.flags&128)===0&&(va(n),n.subtreeFlags&6&&(n.flags|=8192)):va(n),c=n.updateQueue,c!==null&&zu(n,c.retryQueue),c=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),m=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(m=n.memoizedState.cachePool.pool),m!==c&&(n.flags|=2048),r!==null&&$(Z),null;case 24:return c=null,r!==null&&(c=r.memoizedState.cache),n.memoizedState.cache!==c&&(n.flags|=2048),Fl(Ta),va(n),null;case 25:return null;case 30:return null}throw Error(l(156,n.tag))}function h5(r,n){switch(e0(n),n.tag){case 1:return r=n.flags,r&65536?(n.flags=r&-65537|128,n):null;case 3:return Fl(Ta),we(),r=n.flags,(r&65536)!==0&&(r&128)===0?(n.flags=r&-65537|128,n):null;case 26:case 27:case 5:return $e(n),null;case 31:if(n.memoizedState!==null){if(Vs(n),n.alternate===null)throw Error(l(340));yo()}return r=n.flags,r&65536?(n.flags=r&-65537|128,n):null;case 13:if(Vs(n),r=n.memoizedState,r!==null&&r.dehydrated!==null){if(n.alternate===null)throw Error(l(340));yo()}return r=n.flags,r&65536?(n.flags=r&-65537|128,n):null;case 19:return $(Ds),null;case 4:return we(),null;case 10:return Fl(n.type),null;case 22:case 23:return Vs(n),Qa(),r!==null&&$(Z),r=n.flags,r&65536?(n.flags=r&-65537|128,n):null;case 24:return Fl(Ta),null;case 25:return null;default:return null}}function Db(r,n){switch(e0(n),n.tag){case 3:Fl(Ta),we();break;case 26:case 27:case 5:$e(n);break;case 4:we();break;case 31:n.memoizedState!==null&&Vs(n);break;case 13:Vs(n);break;case 19:$(Ds);break;case 10:Fl(n.type);break;case 22:case 23:Vs(n),Qa(),r!==null&&$(Z);break;case 24:Fl(Ta)}}function vx(r,n){try{var c=n.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var S=m.next;c=S;do{if((c.tag&r)===r){m=void 0;var M=c.create,U=c.inst;m=M(),U.destroy=m}c=c.next}while(c!==S)}}catch(ee){Xs(n,n.return,ee)}}function hc(r,n,c){try{var m=n.updateQueue,S=m!==null?m.lastEffect:null;if(S!==null){var M=S.next;m=M;do{if((m.tag&r)===r){var U=m.inst,ee=U.destroy;if(ee!==void 0){U.destroy=void 0,S=n;var pe=c,ze=ee;try{ze()}catch(Ie){Xs(S,pe,Ie)}}}m=m.next}while(m!==M)}}catch(Ie){Xs(n,n.return,Ie)}}function Mb(r){var n=r.updateQueue;if(n!==null){var c=r.stateNode;try{Ba(n,c)}catch(m){Xs(r,r.return,m)}}}function Lb(r,n,c){c.props=md(r.type,r.memoizedProps),c.state=r.memoizedState;try{c.componentWillUnmount()}catch(m){Xs(r,n,m)}}function yx(r,n){try{var c=r.ref;if(c!==null){switch(r.tag){case 26:case 27:case 5:var m=r.stateNode;break;case 30:m=r.stateNode;break;default:m=r.stateNode}typeof c=="function"?r.refCleanup=c(m):c.current=m}}catch(S){Xs(r,n,S)}}function Qi(r,n){var c=r.ref,m=r.refCleanup;if(c!==null)if(typeof m=="function")try{m()}catch(S){Xs(r,n,S)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(S){Xs(r,n,S)}else c.current=null}function zb(r){var n=r.type,c=r.memoizedProps,m=r.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":c.autoFocus&&m.focus();break e;case"img":c.src?m.src=c.src:c.srcSet&&(m.srcset=c.srcSet)}}catch(S){Xs(r,r.return,S)}}function Um(r,n,c){try{var m=r.stateNode;P5(m,r.type,c,n),m[ma]=n}catch(S){Xs(r,r.return,S)}}function Eb(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&yc(r.type)||r.tag===4}function $m(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Eb(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&yc(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function qm(r,n,c){var m=r.tag;if(m===5||m===6)r=r.stateNode,n?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(r,n):(n=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,n.appendChild(r),c=c._reactRootContainer,c!=null||n.onclick!==null||(n.onclick=on));else if(m!==4&&(m===27&&yc(r.type)&&(c=r.stateNode,n=null),r=r.child,r!==null))for(qm(r,n,c),r=r.sibling;r!==null;)qm(r,n,c),r=r.sibling}function Eu(r,n,c){var m=r.tag;if(m===5||m===6)r=r.stateNode,n?c.insertBefore(r,n):c.appendChild(r);else if(m!==4&&(m===27&&yc(r.type)&&(c=r.stateNode),r=r.child,r!==null))for(Eu(r,n,c),r=r.sibling;r!==null;)Eu(r,n,c),r=r.sibling}function Tb(r){var n=r.stateNode,c=r.memoizedProps;try{for(var m=r.type,S=n.attributes;S.length;)n.removeAttributeNode(S[0]);$r(n,m,c),n[Gs]=r,n[ma]=c}catch(M){Xs(r,r.return,M)}}var Ao=!1,cr=!1,Hm=!1,_b=typeof WeakSet=="function"?WeakSet:Set,Dr=null;function m5(r,n){if(r=r.containerInfo,xp=Zu,r=fi(r),On(r)){if("selectionStart"in r)var c={start:r.selectionStart,end:r.selectionEnd};else e:{c=(c=r.ownerDocument)&&c.defaultView||window;var m=c.getSelection&&c.getSelection();if(m&&m.rangeCount!==0){c=m.anchorNode;var S=m.anchorOffset,M=m.focusNode;m=m.focusOffset;try{c.nodeType,M.nodeType}catch{c=null;break e}var U=0,ee=-1,pe=-1,ze=0,Ie=0,He=r,Te=null;t:for(;;){for(var Re;He!==c||S!==0&&He.nodeType!==3||(ee=U+S),He!==M||m!==0&&He.nodeType!==3||(pe=U+m),He.nodeType===3&&(U+=He.nodeValue.length),(Re=He.firstChild)!==null;)Te=He,He=Re;for(;;){if(He===r)break t;if(Te===c&&++ze===S&&(ee=U),Te===M&&++Ie===m&&(pe=U),(Re=He.nextSibling)!==null)break;He=Te,Te=He.parentNode}He=Re}c=ee===-1||pe===-1?null:{start:ee,end:pe}}else c=null}c=c||{start:0,end:0}}else c=null;for(up={focusedElem:r,selectionRange:c},Zu=!1,Dr=n;Dr!==null;)if(n=Dr,r=n.child,(n.subtreeFlags&1028)!==0&&r!==null)r.return=n,Dr=r;else for(;Dr!==null;){switch(n=Dr,M=n.alternate,r=n.flags,n.tag){case 0:if((r&4)!==0&&(r=n.updateQueue,r=r!==null?r.events:null,r!==null))for(c=0;c<r.length;c++)S=r[c],S.ref.impl=S.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&M!==null){r=void 0,c=n,S=M.memoizedProps,M=M.memoizedState,m=c.stateNode;try{var ht=md(c.type,S);r=m.getSnapshotBeforeUpdate(ht,M),m.__reactInternalSnapshotBeforeUpdate=r}catch(Ft){Xs(c,c.return,Ft)}}break;case 3:if((r&1024)!==0){if(r=n.stateNode.containerInfo,c=r.nodeType,c===9)pp(r);else if(c===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":pp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(l(163))}if(r=n.sibling,r!==null){r.return=n.return,Dr=r;break}Dr=n.return}}function Pb(r,n,c){var m=c.flags;switch(c.tag){case 0:case 11:case 15:Mo(r,c),m&4&&vx(5,c);break;case 1:if(Mo(r,c),m&4)if(r=c.stateNode,n===null)try{r.componentDidMount()}catch(U){Xs(c,c.return,U)}else{var S=md(c.type,n.memoizedProps);n=n.memoizedState;try{r.componentDidUpdate(S,n,r.__reactInternalSnapshotBeforeUpdate)}catch(U){Xs(c,c.return,U)}}m&64&&Mb(c),m&512&&yx(c,c.return);break;case 3:if(Mo(r,c),m&64&&(r=c.updateQueue,r!==null)){if(n=null,c.child!==null)switch(c.child.tag){case 27:case 5:n=c.child.stateNode;break;case 1:n=c.child.stateNode}try{Ba(r,n)}catch(U){Xs(c,c.return,U)}}break;case 27:n===null&&m&4&&Tb(c);case 26:case 5:Mo(r,c),n===null&&m&4&&zb(c),m&512&&yx(c,c.return);break;case 12:Mo(r,c);break;case 31:Mo(r,c),m&4&&Fb(r,c);break;case 13:Mo(r,c),m&4&&Ib(r,c),m&64&&(r=c.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(c=N5.bind(null,c),q5(r,c))));break;case 22:if(m=c.memoizedState!==null||Ao,!m){n=n!==null&&n.memoizedState!==null||cr,S=Ao;var M=cr;Ao=m,(cr=n)&&!M?Lo(r,c,(c.subtreeFlags&8772)!==0):Mo(r,c),Ao=S,cr=M}break;case 30:break;default:Mo(r,c)}}function Rb(r){var n=r.alternate;n!==null&&(r.alternate=null,Rb(n)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(n=r.stateNode,n!==null&&Pi(n)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var ka=null,Bl=!1;function Do(r,n,c){for(c=c.child;c!==null;)Ob(r,n,c),c=c.sibling}function Ob(r,n,c){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(xs,c)}catch{}switch(c.tag){case 26:cr||Qi(c,n),Do(r,n,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:cr||Qi(c,n);var m=ka,S=Bl;yc(c.type)&&(ka=c.stateNode,Bl=!1),Do(r,n,c),Mx(c.stateNode),ka=m,Bl=S;break;case 5:cr||Qi(c,n);case 6:if(m=ka,S=Bl,ka=null,Do(r,n,c),ka=m,Bl=S,ka!==null)if(Bl)try{(ka.nodeType===9?ka.body:ka.nodeName==="HTML"?ka.ownerDocument.body:ka).removeChild(c.stateNode)}catch(M){Xs(c,n,M)}else try{ka.removeChild(c.stateNode)}catch(M){Xs(c,n,M)}break;case 18:ka!==null&&(Bl?(r=ka,Mv(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,c.stateNode),S0(r)):Mv(ka,c.stateNode));break;case 4:m=ka,S=Bl,ka=c.stateNode.containerInfo,Bl=!0,Do(r,n,c),ka=m,Bl=S;break;case 0:case 11:case 14:case 15:hc(2,c,n),cr||hc(4,c,n),Do(r,n,c);break;case 1:cr||(Qi(c,n),m=c.stateNode,typeof m.componentWillUnmount=="function"&&Lb(c,n,m)),Do(r,n,c);break;case 21:Do(r,n,c);break;case 22:cr=(m=cr)||c.memoizedState!==null,Do(r,n,c),cr=m;break;default:Do(r,n,c)}}function Fb(r,n){if(n.memoizedState===null&&(r=n.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{S0(r)}catch(c){Xs(n,n.return,c)}}}function Ib(r,n){if(n.memoizedState===null&&(r=n.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{S0(r)}catch(c){Xs(n,n.return,c)}}function p5(r){switch(r.tag){case 31:case 13:case 19:var n=r.stateNode;return n===null&&(n=r.stateNode=new _b),n;case 22:return r=r.stateNode,n=r._retryCache,n===null&&(n=r._retryCache=new _b),n;default:throw Error(l(435,r.tag))}}function Tu(r,n){var c=p5(r);n.forEach(function(m){if(!c.has(m)){c.add(m);var S=k5.bind(null,r,m);m.then(S,S)}})}function Ul(r,n){var c=n.deletions;if(c!==null)for(var m=0;m<c.length;m++){var S=c[m],M=r,U=n,ee=U;e:for(;ee!==null;){switch(ee.tag){case 27:if(yc(ee.type)){ka=ee.stateNode,Bl=!1;break e}break;case 5:ka=ee.stateNode,Bl=!1;break e;case 3:case 4:ka=ee.stateNode.containerInfo,Bl=!0;break e}ee=ee.return}if(ka===null)throw Error(l(160));Ob(M,U,S),ka=null,Bl=!1,M=S.alternate,M!==null&&(M.return=null),S.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Bb(n,r),n=n.sibling}var ki=null;function Bb(r,n){var c=r.alternate,m=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Ul(n,r),$l(r),m&4&&(hc(3,r,r.return),vx(3,r),hc(5,r,r.return));break;case 1:Ul(n,r),$l(r),m&512&&(cr||c===null||Qi(c,c.return)),m&64&&Ao&&(r=r.updateQueue,r!==null&&(m=r.callbacks,m!==null&&(c=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=c===null?m:c.concat(m))));break;case 26:var S=ki;if(Ul(n,r),$l(r),m&512&&(cr||c===null||Qi(c,c.return)),m&4){var M=c!==null?c.memoizedState:null;if(m=r.memoizedState,c===null)if(m===null)if(r.stateNode===null){e:{m=r.type,c=r.memoizedProps,S=S.ownerDocument||S;t:switch(m){case"title":M=S.getElementsByTagName("title")[0],(!M||M[tn]||M[Gs]||M.namespaceURI==="http://www.w3.org/2000/svg"||M.hasAttribute("itemprop"))&&(M=S.createElement(m),S.head.insertBefore(M,S.querySelector("head > title"))),$r(M,m,c),M[Gs]=r,Ma(M),m=M;break e;case"link":var U=Bv("link","href",S).get(m+(c.href||""));if(U){for(var ee=0;ee<U.length;ee++)if(M=U[ee],M.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&M.getAttribute("rel")===(c.rel==null?null:c.rel)&&M.getAttribute("title")===(c.title==null?null:c.title)&&M.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){U.splice(ee,1);break t}}M=S.createElement(m),$r(M,m,c),S.head.appendChild(M);break;case"meta":if(U=Bv("meta","content",S).get(m+(c.content||""))){for(ee=0;ee<U.length;ee++)if(M=U[ee],M.getAttribute("content")===(c.content==null?null:""+c.content)&&M.getAttribute("name")===(c.name==null?null:c.name)&&M.getAttribute("property")===(c.property==null?null:c.property)&&M.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&M.getAttribute("charset")===(c.charSet==null?null:c.charSet)){U.splice(ee,1);break t}}M=S.createElement(m),$r(M,m,c),S.head.appendChild(M);break;default:throw Error(l(468,m))}M[Gs]=r,Ma(M),m=M}r.stateNode=m}else Uv(S,r.type,r.stateNode);else r.stateNode=Iv(S,m,r.memoizedProps);else M!==m?(M===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):M.count--,m===null?Uv(S,r.type,r.stateNode):Iv(S,m,r.memoizedProps)):m===null&&r.stateNode!==null&&Um(r,r.memoizedProps,c.memoizedProps)}break;case 27:Ul(n,r),$l(r),m&512&&(cr||c===null||Qi(c,c.return)),c!==null&&m&4&&Um(r,r.memoizedProps,c.memoizedProps);break;case 5:if(Ul(n,r),$l(r),m&512&&(cr||c===null||Qi(c,c.return)),r.flags&32){S=r.stateNode;try{nn(S,"")}catch(ht){Xs(r,r.return,ht)}}m&4&&r.stateNode!=null&&(S=r.memoizedProps,Um(r,S,c!==null?c.memoizedProps:S)),m&1024&&(Hm=!0);break;case 6:if(Ul(n,r),$l(r),m&4){if(r.stateNode===null)throw Error(l(162));m=r.memoizedProps,c=r.stateNode;try{c.nodeValue=m}catch(ht){Xs(r,r.return,ht)}}break;case 3:if(Xu=null,S=ki,ki=Vu(n.containerInfo),Ul(n,r),ki=S,$l(r),m&4&&c!==null&&c.memoizedState.isDehydrated)try{S0(n.containerInfo)}catch(ht){Xs(r,r.return,ht)}Hm&&(Hm=!1,Ub(r));break;case 4:m=ki,ki=Vu(r.stateNode.containerInfo),Ul(n,r),$l(r),ki=m;break;case 12:Ul(n,r),$l(r);break;case 31:Ul(n,r),$l(r),m&4&&(m=r.updateQueue,m!==null&&(r.updateQueue=null,Tu(r,m)));break;case 13:Ul(n,r),$l(r),r.child.flags&8192&&r.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Pu=Ye()),m&4&&(m=r.updateQueue,m!==null&&(r.updateQueue=null,Tu(r,m)));break;case 22:S=r.memoizedState!==null;var pe=c!==null&&c.memoizedState!==null,ze=Ao,Ie=cr;if(Ao=ze||S,cr=Ie||pe,Ul(n,r),cr=Ie,Ao=ze,$l(r),m&8192)e:for(n=r.stateNode,n._visibility=S?n._visibility&-2:n._visibility|1,S&&(c===null||pe||Ao||cr||pd(r)),c=null,n=r;;){if(n.tag===5||n.tag===26){if(c===null){pe=c=n;try{if(M=pe.stateNode,S)U=M.style,typeof U.setProperty=="function"?U.setProperty("display","none","important"):U.display="none";else{ee=pe.stateNode;var He=pe.memoizedProps.style,Te=He!=null&&He.hasOwnProperty("display")?He.display:null;ee.style.display=Te==null||typeof Te=="boolean"?"":(""+Te).trim()}}catch(ht){Xs(pe,pe.return,ht)}}}else if(n.tag===6){if(c===null){pe=n;try{pe.stateNode.nodeValue=S?"":pe.memoizedProps}catch(ht){Xs(pe,pe.return,ht)}}}else if(n.tag===18){if(c===null){pe=n;try{var Re=pe.stateNode;S?Lv(Re,!0):Lv(pe.stateNode,!1)}catch(ht){Xs(pe,pe.return,ht)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===r)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;c===n&&(c=null),n=n.return}c===n&&(c=null),n.sibling.return=n.return,n=n.sibling}m&4&&(m=r.updateQueue,m!==null&&(c=m.retryQueue,c!==null&&(m.retryQueue=null,Tu(r,c))));break;case 19:Ul(n,r),$l(r),m&4&&(m=r.updateQueue,m!==null&&(r.updateQueue=null,Tu(r,m)));break;case 30:break;case 21:break;default:Ul(n,r),$l(r)}}function $l(r){var n=r.flags;if(n&2){try{for(var c,m=r.return;m!==null;){if(Eb(m)){c=m;break}m=m.return}if(c==null)throw Error(l(160));switch(c.tag){case 27:var S=c.stateNode,M=$m(r);Eu(r,M,S);break;case 5:var U=c.stateNode;c.flags&32&&(nn(U,""),c.flags&=-33);var ee=$m(r);Eu(r,ee,U);break;case 3:case 4:var pe=c.stateNode.containerInfo,ze=$m(r);qm(r,ze,pe);break;default:throw Error(l(161))}}catch(Ie){Xs(r,r.return,Ie)}r.flags&=-3}n&4096&&(r.flags&=-4097)}function Ub(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var n=r;Ub(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),r=r.sibling}}function Mo(r,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Pb(r,n.alternate,n),n=n.sibling}function pd(r){for(r=r.child;r!==null;){var n=r;switch(n.tag){case 0:case 11:case 14:case 15:hc(4,n,n.return),pd(n);break;case 1:Qi(n,n.return);var c=n.stateNode;typeof c.componentWillUnmount=="function"&&Lb(n,n.return,c),pd(n);break;case 27:Mx(n.stateNode);case 26:case 5:Qi(n,n.return),pd(n);break;case 22:n.memoizedState===null&&pd(n);break;case 30:pd(n);break;default:pd(n)}r=r.sibling}}function Lo(r,n,c){for(c=c&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var m=n.alternate,S=r,M=n,U=M.flags;switch(M.tag){case 0:case 11:case 15:Lo(S,M,c),vx(4,M);break;case 1:if(Lo(S,M,c),m=M,S=m.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(ze){Xs(m,m.return,ze)}if(m=M,S=m.updateQueue,S!==null){var ee=m.stateNode;try{var pe=S.shared.hiddenCallbacks;if(pe!==null)for(S.shared.hiddenCallbacks=null,S=0;S<pe.length;S++)Cr(pe[S],ee)}catch(ze){Xs(m,m.return,ze)}}c&&U&64&&Mb(M),yx(M,M.return);break;case 27:Tb(M);case 26:case 5:Lo(S,M,c),c&&m===null&&U&4&&zb(M),yx(M,M.return);break;case 12:Lo(S,M,c);break;case 31:Lo(S,M,c),c&&U&4&&Fb(S,M);break;case 13:Lo(S,M,c),c&&U&4&&Ib(S,M);break;case 22:M.memoizedState===null&&Lo(S,M,c),yx(M,M.return);break;case 30:break;default:Lo(S,M,c)}n=n.sibling}}function Wm(r,n){var c=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),r=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),r!==c&&(r!=null&&r.refCount++,c!=null&&dd(c))}function Gm(r,n){r=null,n.alternate!==null&&(r=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==r&&(n.refCount++,r!=null&&dd(r))}function Si(r,n,c,m){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)$b(r,n,c,m),n=n.sibling}function $b(r,n,c,m){var S=n.flags;switch(n.tag){case 0:case 11:case 15:Si(r,n,c,m),S&2048&&vx(9,n);break;case 1:Si(r,n,c,m);break;case 3:Si(r,n,c,m),S&2048&&(r=null,n.alternate!==null&&(r=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==r&&(n.refCount++,r!=null&&dd(r)));break;case 12:if(S&2048){Si(r,n,c,m),r=n.stateNode;try{var M=n.memoizedProps,U=M.id,ee=M.onPostCommit;typeof ee=="function"&&ee(U,n.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(pe){Xs(n,n.return,pe)}}else Si(r,n,c,m);break;case 31:Si(r,n,c,m);break;case 13:Si(r,n,c,m);break;case 23:break;case 22:M=n.stateNode,U=n.alternate,n.memoizedState!==null?M._visibility&2?Si(r,n,c,m):jx(r,n):M._visibility&2?Si(r,n,c,m):(M._visibility|=2,m0(r,n,c,m,(n.subtreeFlags&10256)!==0||!1)),S&2048&&Wm(U,n);break;case 24:Si(r,n,c,m),S&2048&&Gm(n.alternate,n);break;default:Si(r,n,c,m)}}function m0(r,n,c,m,S){for(S=S&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var M=r,U=n,ee=c,pe=m,ze=U.flags;switch(U.tag){case 0:case 11:case 15:m0(M,U,ee,pe,S),vx(8,U);break;case 23:break;case 22:var Ie=U.stateNode;U.memoizedState!==null?Ie._visibility&2?m0(M,U,ee,pe,S):jx(M,U):(Ie._visibility|=2,m0(M,U,ee,pe,S)),S&&ze&2048&&Wm(U.alternate,U);break;case 24:m0(M,U,ee,pe,S),S&&ze&2048&&Gm(U.alternate,U);break;default:m0(M,U,ee,pe,S)}n=n.sibling}}function jx(r,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var c=r,m=n,S=m.flags;switch(m.tag){case 22:jx(c,m),S&2048&&Wm(m.alternate,m);break;case 24:jx(c,m),S&2048&&Gm(m.alternate,m);break;default:jx(c,m)}n=n.sibling}}var wx=8192;function p0(r,n,c){if(r.subtreeFlags&wx)for(r=r.child;r!==null;)qb(r,n,c),r=r.sibling}function qb(r,n,c){switch(r.tag){case 26:p0(r,n,c),r.flags&wx&&r.memoizedState!==null&&t4(c,ki,r.memoizedState,r.memoizedProps);break;case 5:p0(r,n,c);break;case 3:case 4:var m=ki;ki=Vu(r.stateNode.containerInfo),p0(r,n,c),ki=m;break;case 22:r.memoizedState===null&&(m=r.alternate,m!==null&&m.memoizedState!==null?(m=wx,wx=16777216,p0(r,n,c),wx=m):p0(r,n,c));break;default:p0(r,n,c)}}function Hb(r){var n=r.alternate;if(n!==null&&(r=n.child,r!==null)){n.child=null;do n=r.sibling,r.sibling=null,r=n;while(r!==null)}}function Nx(r){var n=r.deletions;if((r.flags&16)!==0){if(n!==null)for(var c=0;c<n.length;c++){var m=n[c];Dr=m,Gb(m,r)}Hb(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Wb(r),r=r.sibling}function Wb(r){switch(r.tag){case 0:case 11:case 15:Nx(r),r.flags&2048&&hc(9,r,r.return);break;case 3:Nx(r);break;case 12:Nx(r);break;case 22:var n=r.stateNode;r.memoizedState!==null&&n._visibility&2&&(r.return===null||r.return.tag!==13)?(n._visibility&=-3,_u(r)):Nx(r);break;default:Nx(r)}}function _u(r){var n=r.deletions;if((r.flags&16)!==0){if(n!==null)for(var c=0;c<n.length;c++){var m=n[c];Dr=m,Gb(m,r)}Hb(r)}for(r=r.child;r!==null;){switch(n=r,n.tag){case 0:case 11:case 15:hc(8,n,n.return),_u(n);break;case 22:c=n.stateNode,c._visibility&2&&(c._visibility&=-3,_u(n));break;default:_u(n)}r=r.sibling}}function Gb(r,n){for(;Dr!==null;){var c=Dr;switch(c.tag){case 0:case 11:case 15:hc(8,c,n);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var m=c.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:dd(c.memoizedState.cache)}if(m=c.child,m!==null)m.return=c,Dr=m;else e:for(c=r;Dr!==null;){m=Dr;var S=m.sibling,M=m.return;if(Rb(m),m===c){Dr=null;break e}if(S!==null){S.return=M,Dr=S;break e}Dr=M}}}var f5={getCacheForType:function(r){var n=br(Ta),c=n.data.get(r);return c===void 0&&(c=r(),n.data.set(r,c)),c},cacheSignal:function(){return br(Ta).controller.signal}},g5=typeof WeakMap=="function"?WeakMap:Map,Us=0,ca=null,vs=null,ws=0,Ys=0,pn=null,mc=!1,f0=!1,Vm=!1,zo=0,Ha=0,pc=0,fd=0,Ym=0,fn=0,g0=0,kx=null,ql=null,Xm=!1,Pu=0,Vb=0,Ru=1/0,Ou=null,fc=null,yr=0,gc=null,b0=null,Eo=0,Km=0,Jm=null,Yb=null,Sx=0,Qm=null;function gn(){return(Us&2)!==0&&ws!==0?ws&-ws:V.T!==null?rp():rr()}function Xb(){if(fn===0)if((ws&536870912)===0||bs){var r=Ws;Ws<<=1,(Ws&3932160)===0&&(Ws=262144),fn=r}else fn=536870912;return r=ba.current,r!==null&&(r.flags|=32),fn}function Hl(r,n,c){(r===ca&&(Ys===2||Ys===9)||r.cancelPendingCommit!==null)&&(v0(r,0),bc(r,ws,fn,!1)),Dt(r,c),((Us&2)===0||r!==ca)&&(r===ca&&((Us&2)===0&&(fd|=c),Ha===4&&bc(r,ws,fn,!1)),Zi(r))}function Kb(r,n,c){if((Us&6)!==0)throw Error(l(327));var m=!c&&(n&127)===0&&(n&r.expiredLanes)===0||Zl(r,n),S=m?y5(r,n):ep(r,n,!0),M=m;do{if(S===0){f0&&!m&&bc(r,n,0,!1);break}else{if(c=r.current.alternate,M&&!b5(c)){S=ep(r,n,!1),M=!1;continue}if(S===2){if(M=n,r.errorRecoveryDisabledLanes&M)var U=0;else U=r.pendingLanes&-536870913,U=U!==0?U:U&536870912?536870912:0;if(U!==0){n=U;e:{var ee=r;S=kx;var pe=ee.current.memoizedState.isDehydrated;if(pe&&(v0(ee,U).flags|=256),U=ep(ee,U,!1),U!==2){if(Vm&&!pe){ee.errorRecoveryDisabledLanes|=M,fd|=M,S=4;break e}M=ql,ql=S,M!==null&&(ql===null?ql=M:ql.push.apply(ql,M))}S=U}if(M=!1,S!==2)continue}}if(S===1){v0(r,0),bc(r,n,0,!0);break}e:{switch(m=r,M=S,M){case 0:case 1:throw Error(l(345));case 4:if((n&4194048)!==n)break;case 6:bc(m,n,fn,!mc);break e;case 2:ql=null;break;case 3:case 5:break;default:throw Error(l(329))}if((n&62914560)===n&&(S=Pu+300-Ye(),10<S)){if(bc(m,n,fn,!mc),Ss(m,0,!0)!==0)break e;Eo=n,m.timeoutHandle=Av(Jb.bind(null,m,c,ql,Ou,Xm,n,fn,fd,g0,mc,M,"Throttled",-0,0),S);break e}Jb(m,c,ql,Ou,Xm,n,fn,fd,g0,mc,M,null,-0,0)}}break}while(!0);Zi(r)}function Jb(r,n,c,m,S,M,U,ee,pe,ze,Ie,He,Te,Re){if(r.timeoutHandle=-1,He=n.subtreeFlags,He&8192||(He&16785408)===16785408){He={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:on},qb(n,M,He);var ht=(M&62914560)===M?Pu-Ye():(M&4194048)===M?Vb-Ye():0;if(ht=s4(He,ht),ht!==null){Eo=M,r.cancelPendingCommit=ht(lv.bind(null,r,n,M,c,m,S,U,ee,pe,Ie,He,null,Te,Re)),bc(r,M,U,!ze);return}}lv(r,n,M,c,m,S,U,ee,pe)}function b5(r){for(var n=r;;){var c=n.tag;if((c===0||c===11||c===15)&&n.flags&16384&&(c=n.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var m=0;m<c.length;m++){var S=c[m],M=S.getSnapshot;S=S.value;try{if(!mr(M(),S))return!1}catch{return!1}}if(c=n.child,n.subtreeFlags&16384&&c!==null)c.return=n,n=c;else{if(n===r)break;for(;n.sibling===null;){if(n.return===null||n.return===r)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function bc(r,n,c,m){n&=~Ym,n&=~fd,r.suspendedLanes|=n,r.pingedLanes&=~n,m&&(r.warmLanes|=n),m=r.expirationTimes;for(var S=n;0<S;){var M=31-ps(S),U=1<<M;m[M]=-1,S&=~U}c!==0&&Cn(r,c,n)}function Fu(){return(Us&6)===0?(Cx(0),!1):!0}function Zm(){if(vs!==null){if(Ys===0)var r=vs.return;else r=vs,In=Hi=null,i0(r),We=null,mt=0,r=vs;for(;r!==null;)Db(r.alternate,r),r=r.return;vs=null}}function v0(r,n){var c=r.timeoutHandle;c!==-1&&(r.timeoutHandle=-1,F5(c)),c=r.cancelPendingCommit,c!==null&&(r.cancelPendingCommit=null,c()),Eo=0,Zm(),ca=r,vs=c=El(r.current,null),ws=n,Ys=0,pn=null,mc=!1,f0=Zl(r,n),Vm=!1,g0=fn=Ym=fd=pc=Ha=0,ql=kx=null,Xm=!1,(n&8)!==0&&(n|=n&32);var m=r.entangledLanes;if(m!==0)for(r=r.entanglements,m&=n;0<m;){var S=31-ps(m),M=1<<S;n|=r[S],m&=~M}return zo=n,rd(),c}function Qb(r,n){Mt=null,V.H=fx,n===ge||n===ie?(n=Ue(),Ys=3):n===Me?(n=Ue(),Ys=4):Ys=n===zm?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,pn=n,vs===null&&(Ha=1,Au(r,Tl(n,r.current)))}function Zb(){var r=ba.current;return r===null?!0:(ws&4194048)===ws?Ls===null:(ws&62914560)===ws||(ws&536870912)!==0?r===Ls:!1}function ev(){var r=V.H;return V.H=fx,r===null?fx:r}function tv(){var r=V.A;return V.A=f5,r}function Iu(){Ha=4,mc||(ws&4194048)!==ws&&ba.current!==null||(f0=!0),(pc&134217727)===0&&(fd&134217727)===0||ca===null||bc(ca,ws,fn,!1)}function ep(r,n,c){var m=Us;Us|=2;var S=ev(),M=tv();(ca!==r||ws!==n)&&(Ou=null,v0(r,n)),n=!1;var U=Ha;e:do try{if(Ys!==0&&vs!==null){var ee=vs,pe=pn;switch(Ys){case 8:Zm(),U=6;break e;case 3:case 2:case 9:case 6:ba.current===null&&(n=!0);var ze=Ys;if(Ys=0,pn=null,y0(r,ee,pe,ze),c&&f0){U=0;break e}break;default:ze=Ys,Ys=0,pn=null,y0(r,ee,pe,ze)}}v5(),U=Ha;break}catch(Ie){Qb(r,Ie)}while(!0);return n&&r.shellSuspendCounter++,In=Hi=null,Us=m,V.H=S,V.A=M,vs===null&&(ca=null,ws=0,rd()),U}function v5(){for(;vs!==null;)sv(vs)}function y5(r,n){var c=Us;Us|=2;var m=ev(),S=tv();ca!==r||ws!==n?(Ou=null,Ru=Ye()+500,v0(r,n)):f0=Zl(r,n);e:do try{if(Ys!==0&&vs!==null){n=vs;var M=pn;t:switch(Ys){case 1:Ys=0,pn=null,y0(r,n,M,1);break;case 2:case 9:if(Ce(M)){Ys=0,pn=null,av(n);break}n=function(){Ys!==2&&Ys!==9||ca!==r||(Ys=7),Zi(r)},M.then(n,n);break e;case 3:Ys=7;break e;case 4:Ys=5;break e;case 7:Ce(M)?(Ys=0,pn=null,av(n)):(Ys=0,pn=null,y0(r,n,M,7));break;case 5:var U=null;switch(vs.tag){case 26:U=vs.memoizedState;case 5:case 27:var ee=vs;if(U?$v(U):ee.stateNode.complete){Ys=0,pn=null;var pe=ee.sibling;if(pe!==null)vs=pe;else{var ze=ee.return;ze!==null?(vs=ze,Bu(ze)):vs=null}break t}}Ys=0,pn=null,y0(r,n,M,5);break;case 6:Ys=0,pn=null,y0(r,n,M,6);break;case 8:Zm(),Ha=6;break e;default:throw Error(l(462))}}j5();break}catch(Ie){Qb(r,Ie)}while(!0);return In=Hi=null,V.H=m,V.A=S,Us=c,vs!==null?0:(ca=null,ws=0,rd(),Ha)}function j5(){for(;vs!==null&&!Ct();)sv(vs)}function sv(r){var n=Cb(r.alternate,r,zo);r.memoizedProps=r.pendingProps,n===null?Bu(r):vs=n}function av(r){var n=r,c=n.alternate;switch(n.tag){case 15:case 0:n=yb(c,n,n.pendingProps,n.type,void 0,ws);break;case 11:n=yb(c,n,n.pendingProps,n.type.render,n.ref,ws);break;case 5:i0(n);default:Db(c,n),n=vs=id(n,zo),n=Cb(c,n,zo)}r.memoizedProps=r.pendingProps,n===null?Bu(r):vs=n}function y0(r,n,c,m){In=Hi=null,i0(n),We=null,mt=0;var S=n.return;try{if(c5(r,S,n,c,ws)){Ha=1,Au(r,Tl(c,r.current)),vs=null;return}}catch(M){if(S!==null)throw vs=S,M;Ha=1,Au(r,Tl(c,r.current)),vs=null;return}n.flags&32768?(bs||m===1?r=!0:f0||(ws&536870912)!==0?r=!1:(mc=r=!0,(m===2||m===9||m===3||m===6)&&(m=ba.current,m!==null&&m.tag===13&&(m.flags|=16384))),rv(n,r)):Bu(n)}function Bu(r){var n=r;do{if((n.flags&32768)!==0){rv(n,mc);return}r=n.return;var c=u5(n.alternate,n,zo);if(c!==null){vs=c;return}if(n=n.sibling,n!==null){vs=n;return}vs=n=r}while(n!==null);Ha===0&&(Ha=5)}function rv(r,n){do{var c=h5(r.alternate,r);if(c!==null){c.flags&=32767,vs=c;return}if(c=r.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!n&&(r=r.sibling,r!==null)){vs=r;return}vs=r=c}while(r!==null);Ha=6,vs=null}function lv(r,n,c,m,S,M,U,ee,pe){r.cancelPendingCommit=null;do Uu();while(yr!==0);if((Us&6)!==0)throw Error(l(327));if(n!==null){if(n===r.current)throw Error(l(177));if(M=n.lanes|n.childLanes,M|=Vd,Qn(r,c,M,U,ee,pe),r===ca&&(vs=ca=null,ws=0),b0=n,gc=r,Eo=c,Km=M,Jm=S,Yb=m,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,S5(rs,function(){return dv(),null})):(r.callbackNode=null,r.callbackPriority=0),m=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||m){m=V.T,V.T=null,S=ne.p,ne.p=2,U=Us,Us|=4;try{m5(r,n,c)}finally{Us=U,ne.p=S,V.T=m}}yr=1,nv(),iv(),ov()}}function nv(){if(yr===1){yr=0;var r=gc,n=b0,c=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||c){c=V.T,V.T=null;var m=ne.p;ne.p=2;var S=Us;Us|=4;try{Bb(n,r);var M=up,U=fi(r.containerInfo),ee=M.focusedElem,pe=M.selectionRange;if(U!==ee&&ee&&ee.ownerDocument&&pi(ee.ownerDocument.documentElement,ee)){if(pe!==null&&On(ee)){var ze=pe.start,Ie=pe.end;if(Ie===void 0&&(Ie=ze),"selectionStart"in ee)ee.selectionStart=ze,ee.selectionEnd=Math.min(Ie,ee.value.length);else{var He=ee.ownerDocument||document,Te=He&&He.defaultView||window;if(Te.getSelection){var Re=Te.getSelection(),ht=ee.textContent.length,Ft=Math.min(pe.start,ht),la=pe.end===void 0?Ft:Math.min(pe.end,ht);!Re.extend&&Ft>la&&(U=la,la=Ft,Ft=U);var Se=sc(ee,Ft),ve=sc(ee,la);if(Se&&ve&&(Re.rangeCount!==1||Re.anchorNode!==Se.node||Re.anchorOffset!==Se.offset||Re.focusNode!==ve.node||Re.focusOffset!==ve.offset)){var Le=He.createRange();Le.setStart(Se.node,Se.offset),Re.removeAllRanges(),Ft>la?(Re.addRange(Le),Re.extend(ve.node,ve.offset)):(Le.setEnd(ve.node,ve.offset),Re.addRange(Le))}}}}for(He=[],Re=ee;Re=Re.parentNode;)Re.nodeType===1&&He.push({element:Re,left:Re.scrollLeft,top:Re.scrollTop});for(typeof ee.focus=="function"&&ee.focus(),ee=0;ee<He.length;ee++){var qe=He[ee];qe.element.scrollLeft=qe.left,qe.element.scrollTop=qe.top}}Zu=!!xp,up=xp=null}finally{Us=S,ne.p=m,V.T=c}}r.current=n,yr=2}}function iv(){if(yr===2){yr=0;var r=gc,n=b0,c=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||c){c=V.T,V.T=null;var m=ne.p;ne.p=2;var S=Us;Us|=4;try{Pb(r,n.alternate,n)}finally{Us=S,ne.p=m,V.T=c}}yr=3}}function ov(){if(yr===4||yr===3){yr=0,gt();var r=gc,n=b0,c=Eo,m=Yb;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?yr=5:(yr=0,b0=gc=null,cv(r,r.pendingLanes));var S=r.pendingLanes;if(S===0&&(fc=null),Ra(c),n=n.stateNode,Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(xs,n,void 0,(n.current.flags&128)===128)}catch{}if(m!==null){n=V.T,S=ne.p,ne.p=2,V.T=null;try{for(var M=r.onRecoverableError,U=0;U<m.length;U++){var ee=m[U];M(ee.value,{componentStack:ee.stack})}}finally{V.T=n,ne.p=S}}(Eo&3)!==0&&Uu(),Zi(r),S=r.pendingLanes,(c&261930)!==0&&(S&42)!==0?r===Qm?Sx++:(Sx=0,Qm=r):Sx=0,Cx(0)}}function cv(r,n){(r.pooledCacheLanes&=n)===0&&(n=r.pooledCache,n!=null&&(r.pooledCache=null,dd(n)))}function Uu(){return nv(),iv(),ov(),dv()}function dv(){if(yr!==5)return!1;var r=gc,n=Km;Km=0;var c=Ra(Eo),m=V.T,S=ne.p;try{ne.p=32>c?32:c,V.T=null,c=Jm,Jm=null;var M=gc,U=Eo;if(yr=0,b0=gc=null,Eo=0,(Us&6)!==0)throw Error(l(331));var ee=Us;if(Us|=4,Wb(M.current),$b(M,M.current,U,c),Us=ee,Cx(0,!1),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(xs,M)}catch{}return!0}finally{ne.p=S,V.T=m,cv(r,n)}}function xv(r,n,c){n=Tl(c,n),n=Lm(r.stateNode,n,2),r=ns(r,n,2),r!==null&&(Dt(r,2),Zi(r))}function Xs(r,n,c){if(r.tag===3)xv(r,r,c);else for(;n!==null;){if(n.tag===3){xv(n,r,c);break}else if(n.tag===1){var m=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(fc===null||!fc.has(m))){r=Tl(c,r),c=ub(2),m=ns(n,c,2),m!==null&&(hb(c,m,n,r),Dt(m,2),Zi(m));break}}n=n.return}}function tp(r,n,c){var m=r.pingCache;if(m===null){m=r.pingCache=new g5;var S=new Set;m.set(n,S)}else S=m.get(n),S===void 0&&(S=new Set,m.set(n,S));S.has(c)||(Vm=!0,S.add(c),r=w5.bind(null,r,n,c),n.then(r,r))}function w5(r,n,c){var m=r.pingCache;m!==null&&m.delete(n),r.pingedLanes|=r.suspendedLanes&c,r.warmLanes&=~c,ca===r&&(ws&c)===c&&(Ha===4||Ha===3&&(ws&62914560)===ws&&300>Ye()-Pu?(Us&2)===0&&v0(r,0):Ym|=c,g0===ws&&(g0=0)),Zi(r)}function uv(r,n){n===0&&(n=Sn()),r=bi(r,n),r!==null&&(Dt(r,n),Zi(r))}function N5(r){var n=r.memoizedState,c=0;n!==null&&(c=n.retryLane),uv(r,c)}function k5(r,n){var c=0;switch(r.tag){case 31:case 13:var m=r.stateNode,S=r.memoizedState;S!==null&&(c=S.retryLane);break;case 19:m=r.stateNode;break;case 22:m=r.stateNode._retryCache;break;default:throw Error(l(314))}m!==null&&m.delete(n),uv(r,c)}function S5(r,n){return kt(r,n)}var $u=null,j0=null,sp=!1,qu=!1,ap=!1,vc=0;function Zi(r){r!==j0&&r.next===null&&(j0===null?$u=j0=r:j0=j0.next=r),qu=!0,sp||(sp=!0,A5())}function Cx(r,n){if(!ap&&qu){ap=!0;do for(var c=!1,m=$u;m!==null;){if(r!==0){var S=m.pendingLanes;if(S===0)var M=0;else{var U=m.suspendedLanes,ee=m.pingedLanes;M=(1<<31-ps(42|r)+1)-1,M&=S&~(U&~ee),M=M&201326741?M&201326741|1:M?M|2:0}M!==0&&(c=!0,fv(m,M))}else M=ws,M=Ss(m,m===ca?M:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(M&3)===0||Zl(m,M)||(c=!0,fv(m,M));m=m.next}while(c);ap=!1}}function C5(){hv()}function hv(){qu=sp=!1;var r=0;vc!==0&&O5()&&(r=vc);for(var n=Ye(),c=null,m=$u;m!==null;){var S=m.next,M=mv(m,n);M===0?(m.next=null,c===null?$u=S:c.next=S,S===null&&(j0=c)):(c=m,(r!==0||(M&3)!==0)&&(qu=!0)),m=S}yr!==0&&yr!==5||Cx(r),vc!==0&&(vc=0)}function mv(r,n){for(var c=r.suspendedLanes,m=r.pingedLanes,S=r.expirationTimes,M=r.pendingLanes&-62914561;0<M;){var U=31-ps(M),ee=1<<U,pe=S[U];pe===-1?((ee&c)===0||(ee&m)!==0)&&(S[U]=jr(ee,n)):pe<=n&&(r.expiredLanes|=ee),M&=~ee}if(n=ca,c=ws,c=Ss(r,r===n?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),m=r.callbackNode,c===0||r===n&&(Ys===2||Ys===9)||r.cancelPendingCommit!==null)return m!==null&&m!==null&&nt(m),r.callbackNode=null,r.callbackPriority=0;if((c&3)===0||Zl(r,c)){if(n=c&-c,n===r.callbackPriority)return n;switch(m!==null&&nt(m),Ra(c)){case 2:case 8:c=cs;break;case 32:c=rs;break;case 268435456:c=Jt;break;default:c=rs}return m=pv.bind(null,r),c=kt(c,m),r.callbackPriority=n,r.callbackNode=c,n}return m!==null&&m!==null&&nt(m),r.callbackPriority=2,r.callbackNode=null,2}function pv(r,n){if(yr!==0&&yr!==5)return r.callbackNode=null,r.callbackPriority=0,null;var c=r.callbackNode;if(Uu()&&r.callbackNode!==c)return null;var m=ws;return m=Ss(r,r===ca?m:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),m===0?null:(Kb(r,m,n),mv(r,Ye()),r.callbackNode!=null&&r.callbackNode===c?pv.bind(null,r):null)}function fv(r,n){if(Uu())return null;Kb(r,n,!0)}function A5(){I5(function(){(Us&6)!==0?kt(vt,C5):hv()})}function rp(){if(vc===0){var r=y;r===0&&(r=Wt,Wt<<=1,(Wt&261888)===0&&(Wt=256)),vc=r}return vc}function gv(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Yr(""+r)}function bv(r,n){var c=n.ownerDocument.createElement("input");return c.name=n.name,c.value=n.value,r.id&&c.setAttribute("form",r.id),n.parentNode.insertBefore(c,n),r=new FormData(r),c.parentNode.removeChild(c),r}function D5(r,n,c,m,S){if(n==="submit"&&c&&c.stateNode===S){var M=gv((S[ma]||null).action),U=m.submitter;U&&(n=(n=U[ma]||null)?gv(n.formAction):U.getAttribute("formAction"),n!==null&&(M=n,U=null));var ee=new Ml("action","action",null,m,S);r.push({event:ee,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(vc!==0){var pe=U?bv(S,U):new FormData(S);km(c,{pending:!0,data:pe,method:S.method,action:M},null,pe)}}else typeof M=="function"&&(ee.preventDefault(),pe=U?bv(S,U):new FormData(S),km(c,{pending:!0,data:pe,method:S.method,action:M},M,pe))},currentTarget:S}]})}}for(var lp=0;lp<go.length;lp++){var np=go[lp],M5=np.toLowerCase(),L5=np[0].toUpperCase()+np.slice(1);zl(M5,"on"+L5)}zl(fo,"onAnimationEnd"),zl(sd,"onAnimationIteration"),zl(tx,"onAnimationStart"),zl("dblclick","onDoubleClick"),zl("focusin","onFocus"),zl("focusout","onBlur"),zl(mu,"onTransitionRun"),zl(pu,"onTransitionStart"),zl(fu,"onTransitionCancel"),zl(sx,"onTransitionEnd"),Zn("onMouseEnter",["mouseout","mouseover"]),Zn("onMouseLeave",["mouseout","mouseover"]),Zn("onPointerEnter",["pointerout","pointerover"]),Zn("onPointerLeave",["pointerout","pointerover"]),rn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rn("onBeforeInput",["compositionend","keypress","textInput","paste"]),rn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ax="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),z5=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ax));function vv(r,n){n=(n&4)!==0;for(var c=0;c<r.length;c++){var m=r[c],S=m.event;m=m.listeners;e:{var M=void 0;if(n)for(var U=m.length-1;0<=U;U--){var ee=m[U],pe=ee.instance,ze=ee.currentTarget;if(ee=ee.listener,pe!==M&&S.isPropagationStopped())break e;M=ee,S.currentTarget=ze;try{M(S)}catch(Ie){ad(Ie)}S.currentTarget=null,M=pe}else for(U=0;U<m.length;U++){if(ee=m[U],pe=ee.instance,ze=ee.currentTarget,ee=ee.listener,pe!==M&&S.isPropagationStopped())break e;M=ee,S.currentTarget=ze;try{M(S)}catch(Ie){ad(Ie)}S.currentTarget=null,M=pe}}}}function ys(r,n){var c=n[xl];c===void 0&&(c=n[xl]=new Set);var m=r+"__bubble";c.has(m)||(yv(n,r,2,!1),c.add(m))}function ip(r,n,c){var m=0;n&&(m|=4),yv(c,r,m,n)}var Hu="_reactListening"+Math.random().toString(36).slice(2);function op(r){if(!r[Hu]){r[Hu]=!0,Ic.forEach(function(c){c!=="selectionchange"&&(z5.has(c)||ip(c,!1,r),ip(c,!0,r))});var n=r.nodeType===9?r:r.ownerDocument;n===null||n[Hu]||(n[Hu]=!0,ip("selectionchange",!1,n))}}function yv(r,n,c,m){switch(Xv(n)){case 2:var S=l4;break;case 8:S=n4;break;default:S=Np}c=S.bind(null,n,c,r),S=void 0,!Jc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(S=!0),m?S!==void 0?r.addEventListener(n,c,{capture:!0,passive:S}):r.addEventListener(n,c,!0):S!==void 0?r.addEventListener(n,c,{passive:S}):r.addEventListener(n,c,!1)}function cp(r,n,c,m,S){var M=m;if((n&1)===0&&(n&2)===0&&m!==null)e:for(;;){if(m===null)return;var U=m.tag;if(U===3||U===4){var ee=m.stateNode.containerInfo;if(ee===S)break;if(U===4)for(U=m.return;U!==null;){var pe=U.tag;if((pe===3||pe===4)&&U.stateNode.containerInfo===S)return;U=U.return}for(;ee!==null;){if(U=sn(ee),U===null)return;if(pe=U.tag,pe===5||pe===6||pe===26||pe===27){m=M=U;continue e}ee=ee.parentNode}}m=m.return}$d(function(){var ze=M,Ie=oo(c),He=[];e:{var Te=ax.get(r);if(Te!==void 0){var Re=Ml,ht=r;switch(r){case"keypress":if(Dl(c)===0)break e;case"keydown":case"keyup":Re=Cs;break;case"focusin":ht="focus",Re=ii;break;case"focusout":ht="blur",Re=ii;break;case"beforeblur":case"afterblur":Re=ii;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Re=Qc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Re=ni;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Re=Ka;break;case fo:case sd:case tx:Re=z;break;case sx:Re=hr;break;case"scroll":case"scrollend":Re=Xo;break;case"wheel":Re=cn;break;case"copy":case"cut":case"paste":Re=de;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Re=La;break;case"toggle":case"beforetoggle":Re=Zc}var Ft=(n&4)!==0,la=!Ft&&(r==="scroll"||r==="scrollend"),Se=Ft?Te!==null?Te+"Capture":null:Te;Ft=[];for(var ve=ze,Le;ve!==null;){var qe=ve;if(Le=qe.stateNode,qe=qe.tag,qe!==5&&qe!==26&&qe!==27||Le===null||Se===null||(qe=ml(ve,Se),qe!=null&&Ft.push(Dx(ve,qe,Le))),la)break;ve=ve.return}0<Ft.length&&(Te=new Re(Te,ht,null,c,Ie),He.push({event:Te,listeners:Ft}))}}if((n&7)===0){e:{if(Te=r==="mouseover"||r==="pointerover",Re=r==="mouseout"||r==="pointerout",Te&&c!==ti&&(ht=c.relatedTarget||c.fromElement)&&(sn(ht)||ht[wr]))break e;if((Re||Te)&&(Te=Ie.window===Ie?Ie:(Te=Ie.ownerDocument)?Te.defaultView||Te.parentWindow:window,Re?(ht=c.relatedTarget||c.toElement,Re=ze,ht=ht?sn(ht):null,ht!==null&&(la=o(ht),Ft=ht.tag,ht!==la||Ft!==5&&Ft!==27&&Ft!==6)&&(ht=null)):(Re=null,ht=ze),Re!==ht)){if(Ft=Qc,qe="onMouseLeave",Se="onMouseEnter",ve="mouse",(r==="pointerout"||r==="pointerover")&&(Ft=La,qe="onPointerLeave",Se="onPointerEnter",ve="pointer"),la=Re==null?Te:no(Re),Le=ht==null?Te:no(ht),Te=new Ft(qe,ve+"leave",Re,c,Ie),Te.target=la,Te.relatedTarget=Le,qe=null,sn(Ie)===ze&&(Ft=new Ft(Se,ve+"enter",ht,c,Ie),Ft.target=Le,Ft.relatedTarget=la,qe=Ft),la=qe,Re&&ht)t:{for(Ft=E5,Se=Re,ve=ht,Le=0,qe=Se;qe;qe=Ft(qe))Le++;qe=0;for(var Et=ve;Et;Et=Ft(Et))qe++;for(;0<Le-qe;)Se=Ft(Se),Le--;for(;0<qe-Le;)ve=Ft(ve),qe--;for(;Le--;){if(Se===ve||ve!==null&&Se===ve.alternate){Ft=Se;break t}Se=Ft(Se),ve=Ft(ve)}Ft=null}else Ft=null;Re!==null&&jv(He,Te,Re,Ft,!1),ht!==null&&la!==null&&jv(He,la,ht,Ft,!0)}}e:{if(Te=ze?no(ze):window,Re=Te.nodeName&&Te.nodeName.toLowerCase(),Re==="select"||Re==="input"&&Te.type==="file")var Os=Bi;else if(ed(Te))if(Xr)Os=Pn;else{Os=za;var jt=ec}else Re=Te.nodeName,!Re||Re.toLowerCase()!=="input"||Te.type!=="checkbox"&&Te.type!=="radio"?ze&&Yc(ze.elementType)&&(Os=Bi):Os=Gd;if(Os&&(Os=Os(r,ze))){fl(He,Os,c,Ie);break e}jt&&jt(r,Te,ze),r==="focusout"&&ze&&Te.type==="number"&&ze.memoizedProps.value!=null&&Wc(Te,"number",Te.value)}switch(jt=ze?no(ze):window,r){case"focusin":(ed(jt)||jt.contentEditable==="true")&&(gl=jt,gi=ze,Nr=null);break;case"focusout":Nr=gi=gl=null;break;case"mousedown":Ll=!0;break;case"contextmenu":case"mouseup":case"dragend":Ll=!1,Ts(He,c,Ie);break;case"selectionchange":if(po)break;case"keydown":case"keyup":Ts(He,c,Ie)}var os;if(zn)e:{switch(r){case"compositionstart":var Ns="onCompositionStart";break e;case"compositionend":Ns="onCompositionEnd";break e;case"compositionupdate":Ns="onCompositionUpdate";break e}Ns=void 0}else En?Ii(r,c)&&(Ns="onCompositionEnd"):r==="keydown"&&c.keyCode===229&&(Ns="onCompositionStart");Ns&&(di&&c.locale!=="ko"&&(En||Ns!=="onCompositionStart"?Ns==="onCompositionEnd"&&En&&(os=qd()):(pl=Ie,xo="value"in pl?pl.value:pl.textContent,En=!0)),jt=Wu(ze,Ns),0<jt.length&&(Ns=new ke(Ns,r,null,c,Ie),He.push({event:Ns,listeners:jt}),os?Ns.data=os:(os=Jo(c),os!==null&&(Ns.data=os)))),(os=mo?Or(r,c):xi(r,c))&&(Ns=Wu(ze,"onBeforeInput"),0<Ns.length&&(jt=new ke("onBeforeInput","beforeinput",null,c,Ie),He.push({event:jt,listeners:Ns}),jt.data=os)),D5(He,r,ze,c,Ie)}vv(He,n)})}function Dx(r,n,c){return{instance:r,listener:n,currentTarget:c}}function Wu(r,n){for(var c=n+"Capture",m=[];r!==null;){var S=r,M=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||M===null||(S=ml(r,c),S!=null&&m.unshift(Dx(r,S,M)),S=ml(r,n),S!=null&&m.push(Dx(r,S,M))),r.tag===3)return m;r=r.return}return[]}function E5(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function jv(r,n,c,m,S){for(var M=n._reactName,U=[];c!==null&&c!==m;){var ee=c,pe=ee.alternate,ze=ee.stateNode;if(ee=ee.tag,pe!==null&&pe===m)break;ee!==5&&ee!==26&&ee!==27||ze===null||(pe=ze,S?(ze=ml(c,M),ze!=null&&U.unshift(Dx(c,ze,pe))):S||(ze=ml(c,M),ze!=null&&U.push(Dx(c,ze,pe)))),c=c.return}U.length!==0&&r.push({event:n,listeners:U})}var T5=/\r\n?/g,_5=/\u0000|\uFFFD/g;function wv(r){return(typeof r=="string"?r:""+r).replace(T5,`
`).replace(_5,"")}function Nv(r,n){return n=wv(n),wv(r)===n}function ra(r,n,c,m,S,M){switch(c){case"children":typeof m=="string"?n==="body"||n==="textarea"&&m===""||nn(r,m):(typeof m=="number"||typeof m=="bigint")&&n!=="body"&&nn(r,""+m);break;case"className":ei(r,"class",m);break;case"tabIndex":ei(r,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":ei(r,c,m);break;case"style":Id(r,m,M);break;case"data":if(n!=="object"){ei(r,"data",m);break}case"src":case"href":if(m===""&&(n!=="a"||c!=="href")){r.removeAttribute(c);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){r.removeAttribute(c);break}m=Yr(""+m),r.setAttribute(c,m);break;case"action":case"formAction":if(typeof m=="function"){r.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof M=="function"&&(c==="formAction"?(n!=="input"&&ra(r,n,"name",S.name,S,null),ra(r,n,"formEncType",S.formEncType,S,null),ra(r,n,"formMethod",S.formMethod,S,null),ra(r,n,"formTarget",S.formTarget,S,null)):(ra(r,n,"encType",S.encType,S,null),ra(r,n,"method",S.method,S,null),ra(r,n,"target",S.target,S,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){r.removeAttribute(c);break}m=Yr(""+m),r.setAttribute(c,m);break;case"onClick":m!=null&&(r.onclick=on);break;case"onScroll":m!=null&&ys("scroll",r);break;case"onScrollEnd":m!=null&&ys("scrollend",r);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(l(61));if(c=m.__html,c!=null){if(S.children!=null)throw Error(l(60));r.innerHTML=c}}break;case"multiple":r.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":r.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){r.removeAttribute("xlink:href");break}c=Yr(""+m),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(c,""+m):r.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(c,""):r.removeAttribute(c);break;case"capture":case"download":m===!0?r.setAttribute(c,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(c,m):r.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?r.setAttribute(c,m):r.removeAttribute(c);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?r.removeAttribute(c):r.setAttribute(c,m);break;case"popover":ys("beforetoggle",r),ys("toggle",r),hl(r,"popover",m);break;case"xlinkActuate":ln(r,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":ln(r,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":ln(r,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":ln(r,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":ln(r,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":ln(r,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":ln(r,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":ln(r,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":ln(r,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":hl(r,"is",m);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Xc.get(c)||c,hl(r,c,m))}}function dp(r,n,c,m,S,M){switch(c){case"style":Id(r,m,M);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(l(61));if(c=m.__html,c!=null){if(S.children!=null)throw Error(l(60));r.innerHTML=c}}break;case"children":typeof m=="string"?nn(r,m):(typeof m=="number"||typeof m=="bigint")&&nn(r,""+m);break;case"onScroll":m!=null&&ys("scroll",r);break;case"onScrollEnd":m!=null&&ys("scrollend",r);break;case"onClick":m!=null&&(r.onclick=on);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ul.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(S=c.endsWith("Capture"),n=c.slice(2,S?c.length-7:void 0),M=r[ma]||null,M=M!=null?M[c]:null,typeof M=="function"&&r.removeEventListener(n,M,S),typeof m=="function")){typeof M!="function"&&M!==null&&(c in r?r[c]=null:r.hasAttribute(c)&&r.removeAttribute(c)),r.addEventListener(n,m,S);break e}c in r?r[c]=m:m===!0?r.setAttribute(c,""):hl(r,c,m)}}}function $r(r,n,c){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ys("error",r),ys("load",r);var m=!1,S=!1,M;for(M in c)if(c.hasOwnProperty(M)){var U=c[M];if(U!=null)switch(M){case"src":m=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:ra(r,n,M,U,c,null)}}S&&ra(r,n,"srcSet",c.srcSet,c,null),m&&ra(r,n,"src",c.src,c,null);return;case"input":ys("invalid",r);var ee=M=U=S=null,pe=null,ze=null;for(m in c)if(c.hasOwnProperty(m)){var Ie=c[m];if(Ie!=null)switch(m){case"name":S=Ie;break;case"type":U=Ie;break;case"checked":pe=Ie;break;case"defaultChecked":ze=Ie;break;case"value":M=Ie;break;case"defaultValue":ee=Ie;break;case"children":case"dangerouslySetInnerHTML":if(Ie!=null)throw Error(l(137,n));break;default:ra(r,n,m,Ie,c,null)}}Od(r,M,ee,pe,ze,U,S,!1);return;case"select":ys("invalid",r),m=U=M=null;for(S in c)if(c.hasOwnProperty(S)&&(ee=c[S],ee!=null))switch(S){case"value":M=ee;break;case"defaultValue":U=ee;break;case"multiple":m=ee;default:ra(r,n,S,ee,c,null)}n=M,c=U,r.multiple=!!m,n!=null?Rr(r,!!m,n,!1):c!=null&&Rr(r,!!m,c,!0);return;case"textarea":ys("invalid",r),M=S=m=null;for(U in c)if(c.hasOwnProperty(U)&&(ee=c[U],ee!=null))switch(U){case"value":m=ee;break;case"defaultValue":S=ee;break;case"children":M=ee;break;case"dangerouslySetInnerHTML":if(ee!=null)throw Error(l(91));break;default:ra(r,n,U,ee,c,null)}Vc(r,m,S,M);return;case"option":for(pe in c)c.hasOwnProperty(pe)&&(m=c[pe],m!=null)&&(pe==="selected"?r.selected=m&&typeof m!="function"&&typeof m!="symbol":ra(r,n,pe,m,c,null));return;case"dialog":ys("beforetoggle",r),ys("toggle",r),ys("cancel",r),ys("close",r);break;case"iframe":case"object":ys("load",r);break;case"video":case"audio":for(m=0;m<Ax.length;m++)ys(Ax[m],r);break;case"image":ys("error",r),ys("load",r);break;case"details":ys("toggle",r);break;case"embed":case"source":case"link":ys("error",r),ys("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ze in c)if(c.hasOwnProperty(ze)&&(m=c[ze],m!=null))switch(ze){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:ra(r,n,ze,m,c,null)}return;default:if(Yc(n)){for(Ie in c)c.hasOwnProperty(Ie)&&(m=c[Ie],m!==void 0&&dp(r,n,Ie,m,c,void 0));return}}for(ee in c)c.hasOwnProperty(ee)&&(m=c[ee],m!=null&&ra(r,n,ee,m,c,null))}function P5(r,n,c,m){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,M=null,U=null,ee=null,pe=null,ze=null,Ie=null;for(Re in c){var He=c[Re];if(c.hasOwnProperty(Re)&&He!=null)switch(Re){case"checked":break;case"value":break;case"defaultValue":pe=He;default:m.hasOwnProperty(Re)||ra(r,n,Re,null,m,He)}}for(var Te in m){var Re=m[Te];if(He=c[Te],m.hasOwnProperty(Te)&&(Re!=null||He!=null))switch(Te){case"type":M=Re;break;case"name":S=Re;break;case"checked":ze=Re;break;case"defaultChecked":Ie=Re;break;case"value":U=Re;break;case"defaultValue":ee=Re;break;case"children":case"dangerouslySetInnerHTML":if(Re!=null)throw Error(l(137,n));break;default:Re!==He&&ra(r,n,Te,Re,m,He)}}Go(r,U,ee,pe,ze,Ie,M,S);return;case"select":Re=U=ee=Te=null;for(M in c)if(pe=c[M],c.hasOwnProperty(M)&&pe!=null)switch(M){case"value":break;case"multiple":Re=pe;default:m.hasOwnProperty(M)||ra(r,n,M,null,m,pe)}for(S in m)if(M=m[S],pe=c[S],m.hasOwnProperty(S)&&(M!=null||pe!=null))switch(S){case"value":Te=M;break;case"defaultValue":ee=M;break;case"multiple":U=M;default:M!==pe&&ra(r,n,S,M,m,pe)}n=ee,c=U,m=Re,Te!=null?Rr(r,!!c,Te,!1):!!m!=!!c&&(n!=null?Rr(r,!!c,n,!0):Rr(r,!!c,c?[]:"",!1));return;case"textarea":Re=Te=null;for(ee in c)if(S=c[ee],c.hasOwnProperty(ee)&&S!=null&&!m.hasOwnProperty(ee))switch(ee){case"value":break;case"children":break;default:ra(r,n,ee,null,m,S)}for(U in m)if(S=m[U],M=c[U],m.hasOwnProperty(U)&&(S!=null||M!=null))switch(U){case"value":Te=S;break;case"defaultValue":Re=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(l(91));break;default:S!==M&&ra(r,n,U,S,m,M)}Gc(r,Te,Re);return;case"option":for(var ht in c)Te=c[ht],c.hasOwnProperty(ht)&&Te!=null&&!m.hasOwnProperty(ht)&&(ht==="selected"?r.selected=!1:ra(r,n,ht,null,m,Te));for(pe in m)Te=m[pe],Re=c[pe],m.hasOwnProperty(pe)&&Te!==Re&&(Te!=null||Re!=null)&&(pe==="selected"?r.selected=Te&&typeof Te!="function"&&typeof Te!="symbol":ra(r,n,pe,Te,m,Re));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ft in c)Te=c[Ft],c.hasOwnProperty(Ft)&&Te!=null&&!m.hasOwnProperty(Ft)&&ra(r,n,Ft,null,m,Te);for(ze in m)if(Te=m[ze],Re=c[ze],m.hasOwnProperty(ze)&&Te!==Re&&(Te!=null||Re!=null))switch(ze){case"children":case"dangerouslySetInnerHTML":if(Te!=null)throw Error(l(137,n));break;default:ra(r,n,ze,Te,m,Re)}return;default:if(Yc(n)){for(var la in c)Te=c[la],c.hasOwnProperty(la)&&Te!==void 0&&!m.hasOwnProperty(la)&&dp(r,n,la,void 0,m,Te);for(Ie in m)Te=m[Ie],Re=c[Ie],!m.hasOwnProperty(Ie)||Te===Re||Te===void 0&&Re===void 0||dp(r,n,Ie,Te,m,Re);return}}for(var Se in c)Te=c[Se],c.hasOwnProperty(Se)&&Te!=null&&!m.hasOwnProperty(Se)&&ra(r,n,Se,null,m,Te);for(He in m)Te=m[He],Re=c[He],!m.hasOwnProperty(He)||Te===Re||Te==null&&Re==null||ra(r,n,He,Te,m,Re)}function kv(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function R5(){if(typeof performance.getEntriesByType=="function"){for(var r=0,n=0,c=performance.getEntriesByType("resource"),m=0;m<c.length;m++){var S=c[m],M=S.transferSize,U=S.initiatorType,ee=S.duration;if(M&&ee&&kv(U)){for(U=0,ee=S.responseEnd,m+=1;m<c.length;m++){var pe=c[m],ze=pe.startTime;if(ze>ee)break;var Ie=pe.transferSize,He=pe.initiatorType;Ie&&kv(He)&&(pe=pe.responseEnd,U+=Ie*(pe<ee?1:(ee-ze)/(pe-ze)))}if(--m,n+=8*(M+U)/(S.duration/1e3),r++,10<r)break}}if(0<r)return n/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var xp=null,up=null;function Gu(r){return r.nodeType===9?r:r.ownerDocument}function Sv(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Cv(r,n){if(r===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&n==="foreignObject"?0:r}function hp(r,n){return r==="textarea"||r==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var mp=null;function O5(){var r=window.event;return r&&r.type==="popstate"?r===mp?!1:(mp=r,!0):(mp=null,!1)}var Av=typeof setTimeout=="function"?setTimeout:void 0,F5=typeof clearTimeout=="function"?clearTimeout:void 0,Dv=typeof Promise=="function"?Promise:void 0,I5=typeof queueMicrotask=="function"?queueMicrotask:typeof Dv<"u"?function(r){return Dv.resolve(null).then(r).catch(B5)}:Av;function B5(r){setTimeout(function(){throw r})}function yc(r){return r==="head"}function Mv(r,n){var c=n,m=0;do{var S=c.nextSibling;if(r.removeChild(c),S&&S.nodeType===8)if(c=S.data,c==="/$"||c==="/&"){if(m===0){r.removeChild(S),S0(n);return}m--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")m++;else if(c==="html")Mx(r.ownerDocument.documentElement);else if(c==="head"){c=r.ownerDocument.head,Mx(c);for(var M=c.firstChild;M;){var U=M.nextSibling,ee=M.nodeName;M[tn]||ee==="SCRIPT"||ee==="STYLE"||ee==="LINK"&&M.rel.toLowerCase()==="stylesheet"||c.removeChild(M),M=U}}else c==="body"&&Mx(r.ownerDocument.body);c=S}while(c);S0(n)}function Lv(r,n){var c=r;r=0;do{var m=c.nextSibling;if(c.nodeType===1?n?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(n?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),m&&m.nodeType===8)if(c=m.data,c==="/$"){if(r===0)break;r--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||r++;c=m}while(c)}function pp(r){var n=r.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var c=n;switch(n=n.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":pp(c),Pi(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}r.removeChild(c)}}function U5(r,n,c,m){for(;r.nodeType===1;){var S=c;if(r.nodeName.toLowerCase()!==n.toLowerCase()){if(!m&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(m){if(!r[tn])switch(n){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(M=r.getAttribute("rel"),M==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(M!==S.rel||r.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||r.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||r.getAttribute("title")!==(S.title==null?null:S.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(M=r.getAttribute("src"),(M!==(S.src==null?null:S.src)||r.getAttribute("type")!==(S.type==null?null:S.type)||r.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&M&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(n==="input"&&r.type==="hidden"){var M=S.name==null?null:""+S.name;if(S.type==="hidden"&&r.getAttribute("name")===M)return r}else return r;if(r=$n(r.nextSibling),r===null)break}return null}function $5(r,n,c){if(n==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!c||(r=$n(r.nextSibling),r===null))return null;return r}function zv(r,n){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!n||(r=$n(r.nextSibling),r===null))return null;return r}function fp(r){return r.data==="$?"||r.data==="$~"}function gp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function q5(r,n){var c=r.ownerDocument;if(r.data==="$~")r._reactRetry=n;else if(r.data!=="$?"||c.readyState!=="loading")n();else{var m=function(){n(),c.removeEventListener("DOMContentLoaded",m)};c.addEventListener("DOMContentLoaded",m),r._reactRetry=m}}function $n(r){for(;r!=null;r=r.nextSibling){var n=r.nodeType;if(n===1||n===3)break;if(n===8){if(n=r.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return r}var bp=null;function Ev(r){r=r.nextSibling;for(var n=0;r;){if(r.nodeType===8){var c=r.data;if(c==="/$"||c==="/&"){if(n===0)return $n(r.nextSibling);n--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||n++}r=r.nextSibling}return null}function Tv(r){r=r.previousSibling;for(var n=0;r;){if(r.nodeType===8){var c=r.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(n===0)return r;n--}else c!=="/$"&&c!=="/&"||n++}r=r.previousSibling}return null}function _v(r,n,c){switch(n=Gu(c),r){case"html":if(r=n.documentElement,!r)throw Error(l(452));return r;case"head":if(r=n.head,!r)throw Error(l(453));return r;case"body":if(r=n.body,!r)throw Error(l(454));return r;default:throw Error(l(451))}}function Mx(r){for(var n=r.attributes;n.length;)r.removeAttributeNode(n[0]);Pi(r)}var qn=new Map,Pv=new Set;function Vu(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var To=ne.d;ne.d={f:H5,r:W5,D:G5,C:V5,L:Y5,m:X5,X:J5,S:K5,M:Q5};function H5(){var r=To.f(),n=Fu();return r||n}function W5(r){var n=an(r);n!==null&&n.tag===5&&n.type==="form"?Qg(n):To.r(r)}var w0=typeof document>"u"?null:document;function Rv(r,n,c){var m=w0;if(m&&typeof n=="string"&&n){var S=Oa(n);S='link[rel="'+r+'"][href="'+S+'"]',typeof c=="string"&&(S+='[crossorigin="'+c+'"]'),Pv.has(S)||(Pv.add(S),r={rel:r,crossOrigin:c,href:n},m.querySelector(S)===null&&(n=m.createElement("link"),$r(n,"link",r),Ma(n),m.head.appendChild(n)))}}function G5(r){To.D(r),Rv("dns-prefetch",r,null)}function V5(r,n){To.C(r,n),Rv("preconnect",r,n)}function Y5(r,n,c){To.L(r,n,c);var m=w0;if(m&&r&&n){var S='link[rel="preload"][as="'+Oa(n)+'"]';n==="image"&&c&&c.imageSrcSet?(S+='[imagesrcset="'+Oa(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(S+='[imagesizes="'+Oa(c.imageSizes)+'"]')):S+='[href="'+Oa(r)+'"]';var M=S;switch(n){case"style":M=N0(r);break;case"script":M=k0(r)}qn.has(M)||(r=f({rel:"preload",href:n==="image"&&c&&c.imageSrcSet?void 0:r,as:n},c),qn.set(M,r),m.querySelector(S)!==null||n==="style"&&m.querySelector(Lx(M))||n==="script"&&m.querySelector(zx(M))||(n=m.createElement("link"),$r(n,"link",r),Ma(n),m.head.appendChild(n)))}}function X5(r,n){To.m(r,n);var c=w0;if(c&&r){var m=n&&typeof n.as=="string"?n.as:"script",S='link[rel="modulepreload"][as="'+Oa(m)+'"][href="'+Oa(r)+'"]',M=S;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":M=k0(r)}if(!qn.has(M)&&(r=f({rel:"modulepreload",href:r},n),qn.set(M,r),c.querySelector(S)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(zx(M)))return}m=c.createElement("link"),$r(m,"link",r),Ma(m),c.head.appendChild(m)}}}function K5(r,n,c){To.S(r,n,c);var m=w0;if(m&&r){var S=An(m).hoistableStyles,M=N0(r);n=n||"default";var U=S.get(M);if(!U){var ee={loading:0,preload:null};if(U=m.querySelector(Lx(M)))ee.loading=5;else{r=f({rel:"stylesheet",href:r,"data-precedence":n},c),(c=qn.get(M))&&vp(r,c);var pe=U=m.createElement("link");Ma(pe),$r(pe,"link",r),pe._p=new Promise(function(ze,Ie){pe.onload=ze,pe.onerror=Ie}),pe.addEventListener("load",function(){ee.loading|=1}),pe.addEventListener("error",function(){ee.loading|=2}),ee.loading|=4,Yu(U,n,m)}U={type:"stylesheet",instance:U,count:1,state:ee},S.set(M,U)}}}function J5(r,n){To.X(r,n);var c=w0;if(c&&r){var m=An(c).hoistableScripts,S=k0(r),M=m.get(S);M||(M=c.querySelector(zx(S)),M||(r=f({src:r,async:!0},n),(n=qn.get(S))&&yp(r,n),M=c.createElement("script"),Ma(M),$r(M,"link",r),c.head.appendChild(M)),M={type:"script",instance:M,count:1,state:null},m.set(S,M))}}function Q5(r,n){To.M(r,n);var c=w0;if(c&&r){var m=An(c).hoistableScripts,S=k0(r),M=m.get(S);M||(M=c.querySelector(zx(S)),M||(r=f({src:r,async:!0,type:"module"},n),(n=qn.get(S))&&yp(r,n),M=c.createElement("script"),Ma(M),$r(M,"link",r),c.head.appendChild(M)),M={type:"script",instance:M,count:1,state:null},m.set(S,M))}}function Ov(r,n,c,m){var S=(S=me.current)?Vu(S):null;if(!S)throw Error(l(446));switch(r){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(n=N0(c.href),c=An(S).hoistableStyles,m=c.get(n),m||(m={type:"style",instance:null,count:0,state:null},c.set(n,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){r=N0(c.href);var M=An(S).hoistableStyles,U=M.get(r);if(U||(S=S.ownerDocument||S,U={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},M.set(r,U),(M=S.querySelector(Lx(r)))&&!M._p&&(U.instance=M,U.state.loading=5),qn.has(r)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},qn.set(r,c),M||Z5(S,r,c,U.state))),n&&m===null)throw Error(l(528,""));return U}if(n&&m!==null)throw Error(l(529,""));return null;case"script":return n=c.async,c=c.src,typeof c=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=k0(c),c=An(S).hoistableScripts,m=c.get(n),m||(m={type:"script",instance:null,count:0,state:null},c.set(n,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,r))}}function N0(r){return'href="'+Oa(r)+'"'}function Lx(r){return'link[rel="stylesheet"]['+r+"]"}function Fv(r){return f({},r,{"data-precedence":r.precedence,precedence:null})}function Z5(r,n,c,m){r.querySelector('link[rel="preload"][as="style"]['+n+"]")?m.loading=1:(n=r.createElement("link"),m.preload=n,n.addEventListener("load",function(){return m.loading|=1}),n.addEventListener("error",function(){return m.loading|=2}),$r(n,"link",c),Ma(n),r.head.appendChild(n))}function k0(r){return'[src="'+Oa(r)+'"]'}function zx(r){return"script[async]"+r}function Iv(r,n,c){if(n.count++,n.instance===null)switch(n.type){case"style":var m=r.querySelector('style[data-href~="'+Oa(c.href)+'"]');if(m)return n.instance=m,Ma(m),m;var S=f({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return m=(r.ownerDocument||r).createElement("style"),Ma(m),$r(m,"style",S),Yu(m,c.precedence,r),n.instance=m;case"stylesheet":S=N0(c.href);var M=r.querySelector(Lx(S));if(M)return n.state.loading|=4,n.instance=M,Ma(M),M;m=Fv(c),(S=qn.get(S))&&vp(m,S),M=(r.ownerDocument||r).createElement("link"),Ma(M);var U=M;return U._p=new Promise(function(ee,pe){U.onload=ee,U.onerror=pe}),$r(M,"link",m),n.state.loading|=4,Yu(M,c.precedence,r),n.instance=M;case"script":return M=k0(c.src),(S=r.querySelector(zx(M)))?(n.instance=S,Ma(S),S):(m=c,(S=qn.get(M))&&(m=f({},c),yp(m,S)),r=r.ownerDocument||r,S=r.createElement("script"),Ma(S),$r(S,"link",m),r.head.appendChild(S),n.instance=S);case"void":return null;default:throw Error(l(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(m=n.instance,n.state.loading|=4,Yu(m,c.precedence,r));return n.instance}function Yu(r,n,c){for(var m=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=m.length?m[m.length-1]:null,M=S,U=0;U<m.length;U++){var ee=m[U];if(ee.dataset.precedence===n)M=ee;else if(M!==S)break}M?M.parentNode.insertBefore(r,M.nextSibling):(n=c.nodeType===9?c.head:c,n.insertBefore(r,n.firstChild))}function vp(r,n){r.crossOrigin==null&&(r.crossOrigin=n.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=n.referrerPolicy),r.title==null&&(r.title=n.title)}function yp(r,n){r.crossOrigin==null&&(r.crossOrigin=n.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=n.referrerPolicy),r.integrity==null&&(r.integrity=n.integrity)}var Xu=null;function Bv(r,n,c){if(Xu===null){var m=new Map,S=Xu=new Map;S.set(c,m)}else S=Xu,m=S.get(c),m||(m=new Map,S.set(c,m));if(m.has(r))return m;for(m.set(r,null),c=c.getElementsByTagName(r),S=0;S<c.length;S++){var M=c[S];if(!(M[tn]||M[Gs]||r==="link"&&M.getAttribute("rel")==="stylesheet")&&M.namespaceURI!=="http://www.w3.org/2000/svg"){var U=M.getAttribute(n)||"";U=r+U;var ee=m.get(U);ee?ee.push(M):m.set(U,[M])}}return m}function Uv(r,n,c){r=r.ownerDocument||r,r.head.insertBefore(c,n==="title"?r.querySelector("head > title"):null)}function e4(r,n,c){if(c===1||n.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(r=n.disabled,typeof n.precedence=="string"&&r==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function $v(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function t4(r,n,c,m){if(c.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var S=N0(m.href),M=n.querySelector(Lx(S));if(M){n=M._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(r.count++,r=Ku.bind(r),n.then(r,r)),c.state.loading|=4,c.instance=M,Ma(M);return}M=n.ownerDocument||n,m=Fv(m),(S=qn.get(S))&&vp(m,S),M=M.createElement("link"),Ma(M);var U=M;U._p=new Promise(function(ee,pe){U.onload=ee,U.onerror=pe}),$r(M,"link",m),c.instance=M}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(c,n),(n=c.state.preload)&&(c.state.loading&3)===0&&(r.count++,c=Ku.bind(r),n.addEventListener("load",c),n.addEventListener("error",c))}}var jp=0;function s4(r,n){return r.stylesheets&&r.count===0&&Qu(r,r.stylesheets),0<r.count||0<r.imgCount?function(c){var m=setTimeout(function(){if(r.stylesheets&&Qu(r,r.stylesheets),r.unsuspend){var M=r.unsuspend;r.unsuspend=null,M()}},6e4+n);0<r.imgBytes&&jp===0&&(jp=62500*R5());var S=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&Qu(r,r.stylesheets),r.unsuspend)){var M=r.unsuspend;r.unsuspend=null,M()}},(r.imgBytes>jp?50:800)+n);return r.unsuspend=c,function(){r.unsuspend=null,clearTimeout(m),clearTimeout(S)}}:null}function Ku(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Qu(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Ju=null;function Qu(r,n){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Ju=new Map,n.forEach(a4,r),Ju=null,Ku.call(r))}function a4(r,n){if(!(n.state.loading&4)){var c=Ju.get(r);if(c)var m=c.get(null);else{c=new Map,Ju.set(r,c);for(var S=r.querySelectorAll("link[data-precedence],style[data-precedence]"),M=0;M<S.length;M++){var U=S[M];(U.nodeName==="LINK"||U.getAttribute("media")!=="not all")&&(c.set(U.dataset.precedence,U),m=U)}m&&c.set(null,m)}S=n.instance,U=S.getAttribute("data-precedence"),M=c.get(U)||m,M===m&&c.set(null,S),c.set(U,S),this.count++,m=Ku.bind(this),S.addEventListener("load",m),S.addEventListener("error",m),M?M.parentNode.insertBefore(S,M.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(S,r.firstChild)),n.state.loading|=4}}var Ex={$$typeof:L,Provider:null,Consumer:null,_currentValue:I,_currentValue2:I,_threadCount:0};function r4(r,n,c,m,S,M,U,ee,pe){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Cl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cl(0),this.hiddenUpdates=Cl(null),this.identifierPrefix=m,this.onUncaughtError=S,this.onCaughtError=M,this.onRecoverableError=U,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=pe,this.incompleteTransitions=new Map}function qv(r,n,c,m,S,M,U,ee,pe,ze,Ie,He){return r=new r4(r,n,c,U,pe,ze,Ie,He,ee),n=1,M===!0&&(n|=24),M=Sr(3,null,null,n),r.current=M,M.stateNode=r,n=oc(),n.refCount++,r.pooledCache=n,n.refCount++,M.memoizedState={element:m,isDehydrated:c,cache:n},at(M),r}function Hv(r){return r?(r=pr,r):pr}function Wv(r,n,c,m,S,M){S=Hv(S),m.context===null?m.context=S:m.pendingContext=S,m=Rt(n),m.payload={element:c},M=M===void 0?null:M,M!==null&&(m.callback=M),c=ns(r,m,n),c!==null&&(Hl(c,r,n),Is(c,r,n))}function Gv(r,n){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var c=r.retryLane;r.retryLane=c!==0&&c<n?c:n}}function wp(r,n){Gv(r,n),(r=r.alternate)&&Gv(r,n)}function Vv(r){if(r.tag===13||r.tag===31){var n=bi(r,67108864);n!==null&&Hl(n,r,67108864),wp(r,67108864)}}function Yv(r){if(r.tag===13||r.tag===31){var n=gn();n=ha(n);var c=bi(r,n);c!==null&&Hl(c,r,n),wp(r,n)}}var Zu=!0;function l4(r,n,c,m){var S=V.T;V.T=null;var M=ne.p;try{ne.p=2,Np(r,n,c,m)}finally{ne.p=M,V.T=S}}function n4(r,n,c,m){var S=V.T;V.T=null;var M=ne.p;try{ne.p=8,Np(r,n,c,m)}finally{ne.p=M,V.T=S}}function Np(r,n,c,m){if(Zu){var S=kp(m);if(S===null)cp(r,n,m,eh,c),Kv(r,m);else if(o4(S,r,n,c,m))m.stopPropagation();else if(Kv(r,m),n&4&&-1<i4.indexOf(r)){for(;S!==null;){var M=an(S);if(M!==null)switch(M.tag){case 3:if(M=M.stateNode,M.current.memoizedState.isDehydrated){var U=St(M.pendingLanes);if(U!==0){var ee=M;for(ee.pendingLanes|=2,ee.entangledLanes|=2;U;){var pe=1<<31-ps(U);ee.entanglements[1]|=pe,U&=~pe}Zi(M),(Us&6)===0&&(Ru=Ye()+500,Cx(0))}}break;case 31:case 13:ee=bi(M,2),ee!==null&&Hl(ee,M,2),Fu(),wp(M,2)}if(M=kp(m),M===null&&cp(r,n,m,eh,c),M===S)break;S=M}S!==null&&m.stopPropagation()}else cp(r,n,m,null,c)}}function kp(r){return r=oo(r),Sp(r)}var eh=null;function Sp(r){if(eh=null,r=sn(r),r!==null){var n=o(r);if(n===null)r=null;else{var c=n.tag;if(c===13){if(r=d(n),r!==null)return r;r=null}else if(c===31){if(r=x(n),r!==null)return r;r=null}else if(c===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;r=null}else n!==r&&(r=null)}}return eh=r,null}function Xv(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Kt()){case vt:return 2;case cs:return 8;case rs:case dt:return 32;case Jt:return 268435456;default:return 32}default:return 32}}var Cp=!1,jc=null,wc=null,Nc=null,Tx=new Map,_x=new Map,kc=[],i4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Kv(r,n){switch(r){case"focusin":case"focusout":jc=null;break;case"dragenter":case"dragleave":wc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Tx.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":_x.delete(n.pointerId)}}function Px(r,n,c,m,S,M){return r===null||r.nativeEvent!==M?(r={blockedOn:n,domEventName:c,eventSystemFlags:m,nativeEvent:M,targetContainers:[S]},n!==null&&(n=an(n),n!==null&&Vv(n)),r):(r.eventSystemFlags|=m,n=r.targetContainers,S!==null&&n.indexOf(S)===-1&&n.push(S),r)}function o4(r,n,c,m,S){switch(n){case"focusin":return jc=Px(jc,r,n,c,m,S),!0;case"dragenter":return wc=Px(wc,r,n,c,m,S),!0;case"mouseover":return Nc=Px(Nc,r,n,c,m,S),!0;case"pointerover":var M=S.pointerId;return Tx.set(M,Px(Tx.get(M)||null,r,n,c,m,S)),!0;case"gotpointercapture":return M=S.pointerId,_x.set(M,Px(_x.get(M)||null,r,n,c,m,S)),!0}return!1}function Jv(r){var n=sn(r.target);if(n!==null){var c=o(n);if(c!==null){if(n=c.tag,n===13){if(n=d(c),n!==null){r.blockedOn=n,_i(r.priority,function(){Yv(c)});return}}else if(n===31){if(n=x(c),n!==null){r.blockedOn=n,_i(r.priority,function(){Yv(c)});return}}else if(n===3&&c.stateNode.current.memoizedState.isDehydrated){r.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}r.blockedOn=null}function th(r){if(r.blockedOn!==null)return!1;for(var n=r.targetContainers;0<n.length;){var c=kp(r.nativeEvent);if(c===null){c=r.nativeEvent;var m=new c.constructor(c.type,c);ti=m,c.target.dispatchEvent(m),ti=null}else return n=an(c),n!==null&&Vv(n),r.blockedOn=c,!1;n.shift()}return!0}function Qv(r,n,c){th(r)&&c.delete(n)}function c4(){Cp=!1,jc!==null&&th(jc)&&(jc=null),wc!==null&&th(wc)&&(wc=null),Nc!==null&&th(Nc)&&(Nc=null),Tx.forEach(Qv),_x.forEach(Qv)}function sh(r,n){r.blockedOn===n&&(r.blockedOn=null,Cp||(Cp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,c4)))}var ah=null;function Zv(r){ah!==r&&(ah=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){ah===r&&(ah=null);for(var n=0;n<r.length;n+=3){var c=r[n],m=r[n+1],S=r[n+2];if(typeof m!="function"){if(Sp(m||c)===null)continue;break}var M=an(c);M!==null&&(r.splice(n,3),n-=3,km(M,{pending:!0,data:S,method:c.method,action:m},m,S))}}))}function S0(r){function n(pe){return sh(pe,r)}jc!==null&&sh(jc,r),wc!==null&&sh(wc,r),Nc!==null&&sh(Nc,r),Tx.forEach(n),_x.forEach(n);for(var c=0;c<kc.length;c++){var m=kc[c];m.blockedOn===r&&(m.blockedOn=null)}for(;0<kc.length&&(c=kc[0],c.blockedOn===null);)Jv(c),c.blockedOn===null&&kc.shift();if(c=(r.ownerDocument||r).$$reactFormReplay,c!=null)for(m=0;m<c.length;m+=3){var S=c[m],M=c[m+1],U=S[ma]||null;if(typeof M=="function")U||Zv(c);else if(U){var ee=null;if(M&&M.hasAttribute("formAction")){if(S=M,U=M[ma]||null)ee=U.formAction;else if(Sp(S)!==null)continue}else ee=U.action;typeof ee=="function"?c[m+1]=ee:(c.splice(m,3),m-=3),Zv(c)}}}function e1(){function r(M){M.canIntercept&&M.info==="react-transition"&&M.intercept({handler:function(){return new Promise(function(U){return S=U})},focusReset:"manual",scroll:"manual"})}function n(){S!==null&&(S(),S=null),m||setTimeout(c,20)}function c(){if(!m&&!navigation.transition){var M=navigation.currentEntry;M&&M.url!=null&&navigation.navigate(M.url,{state:M.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,S=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(c,100),function(){m=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),S!==null&&(S(),S=null)}}}function Ap(r){this._internalRoot=r}rh.prototype.render=Ap.prototype.render=function(r){var n=this._internalRoot;if(n===null)throw Error(l(409));var c=n.current,m=gn();Wv(c,m,r,n,null,null)},rh.prototype.unmount=Ap.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var n=r.containerInfo;Wv(r.current,2,null,r,null,null),Fu(),n[wr]=null}};function rh(r){this._internalRoot=r}rh.prototype.unstable_scheduleHydration=function(r){if(r){var n=rr();r={blockedOn:null,target:r,priority:n};for(var c=0;c<kc.length&&n!==0&&n<kc[c].priority;c++);kc.splice(c,0,r),c===0&&Jv(r)}};var t1=s.version;if(t1!=="19.2.4")throw Error(l(527,t1,"19.2.4"));ne.findDOMNode=function(r){var n=r._reactInternals;if(n===void 0)throw typeof r.render=="function"?Error(l(188)):(r=Object.keys(r).join(","),Error(l(268,r)));return r=h(n),r=r!==null?p(r):null,r=r===null?null:r.stateNode,r};var d4={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lh.isDisabled&&lh.supportsFiber)try{xs=lh.inject(d4),Tt=lh}catch{}}return Ox.createRoot=function(r,n){if(!i(r))throw Error(l(299));var c=!1,m="",S=ob,M=cb,U=db;return n!=null&&(n.unstable_strictMode===!0&&(c=!0),n.identifierPrefix!==void 0&&(m=n.identifierPrefix),n.onUncaughtError!==void 0&&(S=n.onUncaughtError),n.onCaughtError!==void 0&&(M=n.onCaughtError),n.onRecoverableError!==void 0&&(U=n.onRecoverableError)),n=qv(r,1,!1,null,null,c,m,null,S,M,U,e1),r[wr]=n.current,op(r),new Ap(n)},Ox.hydrateRoot=function(r,n,c){if(!i(r))throw Error(l(299));var m=!1,S="",M=ob,U=cb,ee=db,pe=null;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(S=c.identifierPrefix),c.onUncaughtError!==void 0&&(M=c.onUncaughtError),c.onCaughtError!==void 0&&(U=c.onCaughtError),c.onRecoverableError!==void 0&&(ee=c.onRecoverableError),c.formState!==void 0&&(pe=c.formState)),n=qv(r,1,!0,n,c??null,m,S,pe,M,U,ee,e1),n.context=Hv(null),c=n.current,m=gn(),m=ha(m),S=Rt(m),S.callback=null,ns(c,S,m),c=m,n.current.lanes=c,Dt(n,c),Zi(n),r[wr]=n.current,op(r),new rh(n)},Ox.version="19.2.4",Ox}var x1;function v4(){if(x1)return Lp.exports;x1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(s){console.error(s)}}return t(),Lp.exports=b4(),Lp.exports}var y4=v4();const j4=sg(y4);var u1="popstate";function w4(t={}){function s(l,i){let{pathname:o,search:d,hash:x}=l.location;return Af("",{pathname:o,search:d,hash:x},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function a(l,i){return typeof i=="string"?i:Xx(i)}return k4(s,a,null,t)}function Aa(t,s){if(t===!1||t===null||typeof t>"u")throw new Error(s)}function Mi(t,s){if(!t){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function N4(){return Math.random().toString(36).substring(2,10)}function h1(t,s){return{usr:t.state,key:t.key,idx:s}}function Af(t,s,a=null,l){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof s=="string"?V0(s):s,state:a,key:s&&s.key||l||N4()}}function Xx({pathname:t="/",search:s="",hash:a=""}){return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function V0(t){let s={};if(t){let a=t.indexOf("#");a>=0&&(s.hash=t.substring(a),t=t.substring(0,a));let l=t.indexOf("?");l>=0&&(s.search=t.substring(l),t=t.substring(0,l)),t&&(s.pathname=t)}return s}function k4(t,s,a,l={}){let{window:i=document.defaultView,v5Compat:o=!1}=l,d=i.history,x="POP",u=null,h=p();h==null&&(h=0,d.replaceState({...d.state,idx:h},""));function p(){return(d.state||{idx:null}).idx}function f(){x="POP";let w=p(),k=w==null?null:w-h;h=w,u&&u({action:x,location:A.location,delta:k})}function b(w,k){x="PUSH";let C=Af(A.location,w,k);h=p()+1;let L=h1(C,h),N=A.createHref(C);try{d.pushState(L,"",N)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(N)}o&&u&&u({action:x,location:A.location,delta:1})}function g(w,k){x="REPLACE";let C=Af(A.location,w,k);h=p();let L=h1(C,h),N=A.createHref(C);d.replaceState(L,"",N),o&&u&&u({action:x,location:A.location,delta:0})}function j(w){return S4(w)}let A={get action(){return x},get location(){return t(i,d)},listen(w){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(u1,f),u=w,()=>{i.removeEventListener(u1,f),u=null}},createHref(w){return s(i,w)},createURL:j,encodeLocation(w){let k=j(w);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:b,replace:g,go(w){return d.go(w)}};return A}function S4(t,s=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),Aa(a,"No window.location.(origin|href) available to create URL");let l=typeof t=="string"?t:Xx(t);return l=l.replace(/ $/,"%20"),!s&&l.startsWith("//")&&(l=a+l),new URL(l,a)}function X2(t,s,a="/"){return C4(t,s,a,!1)}function C4(t,s,a,l){let i=typeof s=="string"?V0(s):s,o=Uo(i.pathname||"/",a);if(o==null)return null;let d=K2(t);A4(d);let x=null;for(let u=0;x==null&&u<d.length;++u){let h=F4(o);x=R4(d[u],h,l)}return x}function K2(t,s=[],a=[],l="",i=!1){let o=(d,x,u=i,h)=>{let p={relativePath:h===void 0?d.path||"":h,caseSensitive:d.caseSensitive===!0,childrenIndex:x,route:d};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(l)&&u)return;Aa(p.relativePath.startsWith(l),`Absolute route path "${p.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(l.length)}let f=Io([l,p.relativePath]),b=a.concat(p);d.children&&d.children.length>0&&(Aa(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),K2(d.children,s,b,f,u)),!(d.path==null&&!d.index)&&s.push({path:f,score:_4(f,d.index),routesMeta:b})};return t.forEach((d,x)=>{if(d.path===""||!d.path?.includes("?"))o(d,x);else for(let u of J2(d.path))o(d,x,!0,u)}),s}function J2(t){let s=t.split("/");if(s.length===0)return[];let[a,...l]=s,i=a.endsWith("?"),o=a.replace(/\?$/,"");if(l.length===0)return i?[o,""]:[o];let d=J2(l.join("/")),x=[];return x.push(...d.map(u=>u===""?o:[o,u].join("/"))),i&&x.push(...d),x.map(u=>t.startsWith("/")&&u===""?"/":u)}function A4(t){t.sort((s,a)=>s.score!==a.score?a.score-s.score:P4(s.routesMeta.map(l=>l.childrenIndex),a.routesMeta.map(l=>l.childrenIndex)))}var D4=/^:[\w-]+$/,M4=3,L4=2,z4=1,E4=10,T4=-2,m1=t=>t==="*";function _4(t,s){let a=t.split("/"),l=a.length;return a.some(m1)&&(l+=T4),s&&(l+=L4),a.filter(i=>!m1(i)).reduce((i,o)=>i+(D4.test(o)?M4:o===""?z4:E4),l)}function P4(t,s){return t.length===s.length&&t.slice(0,-1).every((l,i)=>l===s[i])?t[t.length-1]-s[s.length-1]:0}function R4(t,s,a=!1){let{routesMeta:l}=t,i={},o="/",d=[];for(let x=0;x<l.length;++x){let u=l[x],h=x===l.length-1,p=o==="/"?s:s.slice(o.length)||"/",f=Ih({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},p),b=u.route;if(!f&&h&&a&&!l[l.length-1].route.index&&(f=Ih({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},p)),!f)return null;Object.assign(i,f.params),d.push({params:i,pathname:Io([o,f.pathname]),pathnameBase:$4(Io([o,f.pathnameBase])),route:b}),f.pathnameBase!=="/"&&(o=Io([o,f.pathnameBase]))}return d}function Ih(t,s){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[a,l]=O4(t.path,t.caseSensitive,t.end),i=s.match(a);if(!i)return null;let o=i[0],d=o.replace(/(.)\/+$/,"$1"),x=i.slice(1);return{params:l.reduce((h,{paramName:p,isOptional:f},b)=>{if(p==="*"){let j=x[b]||"";d=o.slice(0,o.length-j.length).replace(/(.)\/+$/,"$1")}const g=x[b];return f&&!g?h[p]=void 0:h[p]=(g||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:d,pattern:t}}function O4(t,s=!1,a=!0){Mi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let l=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,x,u)=>(l.push({paramName:x,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(l.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,s?void 0:"i"),l]}function F4(t){try{return t.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return Mi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${s}).`),t}}function Uo(t,s){if(s==="/")return t;if(!t.toLowerCase().startsWith(s.toLowerCase()))return null;let a=s.endsWith("/")?s.length-1:s.length,l=t.charAt(a);return l&&l!=="/"?null:t.slice(a)||"/"}var I4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function B4(t,s="/"){let{pathname:a,search:l="",hash:i=""}=typeof t=="string"?V0(t):t,o;return a?(a=a.replace(/\/\/+/g,"/"),a.startsWith("/")?o=p1(a.substring(1),"/"):o=p1(a,s)):o=s,{pathname:o,search:q4(l),hash:H4(i)}}function p1(t,s){let a=s.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?a.length>1&&a.pop():i!=="."&&a.push(i)}),a.length>1?a.join("/"):"/"}function _p(t,s,a,l){return`Cannot include a '${t}' character in a manually specified \`to.${s}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function U4(t){return t.filter((s,a)=>a===0||s.route.path&&s.route.path.length>0)}function rg(t){let s=U4(t);return s.map((a,l)=>l===s.length-1?a.pathname:a.pathnameBase)}function lg(t,s,a,l=!1){let i;typeof t=="string"?i=V0(t):(i={...t},Aa(!i.pathname||!i.pathname.includes("?"),_p("?","pathname","search",i)),Aa(!i.pathname||!i.pathname.includes("#"),_p("#","pathname","hash",i)),Aa(!i.search||!i.search.includes("#"),_p("#","search","hash",i)));let o=t===""||i.pathname==="",d=o?"/":i.pathname,x;if(d==null)x=a;else{let f=s.length-1;if(!l&&d.startsWith("..")){let b=d.split("/");for(;b[0]==="..";)b.shift(),f-=1;i.pathname=b.join("/")}x=f>=0?s[f]:"/"}let u=B4(i,x),h=d&&d!=="/"&&d.endsWith("/"),p=(o||d===".")&&a.endsWith("/");return!u.pathname.endsWith("/")&&(h||p)&&(u.pathname+="/"),u}var Io=t=>t.join("/").replace(/\/\/+/g,"/"),$4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),q4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,H4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,W4=class{constructor(t,s,a,l=!1){this.status=t,this.statusText=s||"",this.internal=l,a instanceof Error?(this.data=a.toString(),this.error=a):this.data=a}};function G4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function V4(t){return t.map(s=>s.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Q2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Z2(t,s){let a=t;if(typeof a!="string"||!I4.test(a))return{absoluteURL:void 0,isExternal:!1,to:a};let l=a,i=!1;if(Q2)try{let o=new URL(window.location.href),d=a.startsWith("//")?new URL(o.protocol+a):new URL(a),x=Uo(d.pathname,s);d.origin===o.origin&&x!=null?a=x+d.search+d.hash:i=!0}catch{Mi(!1,`<Link to="${a}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:l,isExternal:i,to:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ej=["POST","PUT","PATCH","DELETE"];new Set(ej);var Y4=["GET",...ej];new Set(Y4);var Y0=v.createContext(null);Y0.displayName="DataRouter";var tm=v.createContext(null);tm.displayName="DataRouterState";var X4=v.createContext(!1),tj=v.createContext({isTransitioning:!1});tj.displayName="ViewTransition";var K4=v.createContext(new Map);K4.displayName="Fetchers";var J4=v.createContext(null);J4.displayName="Await";var Nn=v.createContext(null);Nn.displayName="Navigation";var tu=v.createContext(null);tu.displayName="Location";var Jn=v.createContext({outlet:null,matches:[],isDataRoute:!1});Jn.displayName="Route";var ng=v.createContext(null);ng.displayName="RouteError";var sj="REACT_ROUTER_ERROR",Q4="REDIRECT",Z4="ROUTE_ERROR_RESPONSE";function e6(t){if(t.startsWith(`${sj}:${Q4}:{`))try{let s=JSON.parse(t.slice(28));if(typeof s=="object"&&s&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.location=="string"&&typeof s.reloadDocument=="boolean"&&typeof s.replace=="boolean")return s}catch{}}function t6(t){if(t.startsWith(`${sj}:${Z4}:{`))try{let s=JSON.parse(t.slice(40));if(typeof s=="object"&&s&&typeof s.status=="number"&&typeof s.statusText=="string")return new W4(s.status,s.statusText,s.data)}catch{}}function s6(t,{relative:s}={}){Aa(X0(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:l}=v.useContext(Nn),{hash:i,pathname:o,search:d}=su(t,{relative:s}),x=o;return a!=="/"&&(x=o==="/"?a:Io([a,o])),l.createHref({pathname:x,search:d,hash:i})}function X0(){return v.useContext(tu)!=null}function Tr(){return Aa(X0(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(tu).location}var aj="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function rj(t){v.useContext(Nn).static||v.useLayoutEffect(t)}function qt(){let{isDataRoute:t}=v.useContext(Jn);return t?f6():a6()}function a6(){Aa(X0(),"useNavigate() may be used only in the context of a <Router> component.");let t=v.useContext(Y0),{basename:s,navigator:a}=v.useContext(Nn),{matches:l}=v.useContext(Jn),{pathname:i}=Tr(),o=JSON.stringify(rg(l)),d=v.useRef(!1);return rj(()=>{d.current=!0}),v.useCallback((u,h={})=>{if(Mi(d.current,aj),!d.current)return;if(typeof u=="number"){a.go(u);return}let p=lg(u,JSON.parse(o),i,h.relative==="path");t==null&&s!=="/"&&(p.pathname=p.pathname==="/"?s:Io([s,p.pathname])),(h.replace?a.replace:a.push)(p,h.state,h)},[s,a,o,i,t])}var lj=v.createContext(null);function ig(){return v.useContext(lj)}function r6(t){let s=v.useContext(Jn).outlet;return v.useMemo(()=>s&&v.createElement(lj.Provider,{value:t},s),[s,t])}function Td(){let{matches:t}=v.useContext(Jn),s=t[t.length-1];return s?s.params:{}}function su(t,{relative:s}={}){let{matches:a}=v.useContext(Jn),{pathname:l}=Tr(),i=JSON.stringify(rg(a));return v.useMemo(()=>lg(t,JSON.parse(i),l,s==="path"),[t,i,l,s])}function l6(t,s){return nj(t,s)}function nj(t,s,a,l,i){Aa(X0(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=v.useContext(Nn),{matches:d}=v.useContext(Jn),x=d[d.length-1],u=x?x.params:{},h=x?x.pathname:"/",p=x?x.pathnameBase:"/",f=x&&x.route;{let C=f&&f.path||"";oj(h,!f||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let b=Tr(),g;if(s){let C=typeof s=="string"?V0(s):s;Aa(p==="/"||C.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${C.pathname}" was given in the \`location\` prop.`),g=C}else g=b;let j=g.pathname||"/",A=j;if(p!=="/"){let C=p.replace(/^\//,"").split("/");A="/"+j.replace(/^\//,"").split("/").slice(C.length).join("/")}let w=X2(t,{pathname:A});Mi(f||w!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Mi(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=d6(w&&w.map(C=>Object.assign({},C,{params:Object.assign({},u,C.params),pathname:Io([p,o.encodeLocation?o.encodeLocation(C.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?p:Io([p,o.encodeLocation?o.encodeLocation(C.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathnameBase])})),d,a,l,i);return s&&k?v.createElement(tu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},k):k}function n6(){let t=p6(),s=G4(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),a=t instanceof Error?t.stack:null,l="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:l},o={padding:"2px 4px",backgroundColor:l},d=null;return console.error("Error handled by React Router default ErrorBoundary:",t),d=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:o},"ErrorBoundary")," or"," ",v.createElement("code",{style:o},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},s),a?v.createElement("pre",{style:i},a):null,d)}var i6=v.createElement(n6,null),ij=class extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){this.props.onError?this.props.onError(t,s):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const a=t6(t.digest);a&&(t=a)}let s=t!==void 0?v.createElement(Jn.Provider,{value:this.props.routeContext},v.createElement(ng.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?v.createElement(o6,{error:t},s):s}};ij.contextType=X4;var Pp=new WeakMap;function o6({children:t,error:s}){let{basename:a}=v.useContext(Nn);if(typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){let l=e6(s.digest);if(l){let i=Pp.get(s);if(i)throw i;let o=Z2(l.location,a);if(Q2&&!Pp.get(s))if(o.isExternal||l.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:l.replace}));throw Pp.set(s,d),d}return v.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return t}function c6({routeContext:t,match:s,children:a}){let l=v.useContext(Y0);return l&&l.static&&l.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=s.route.id),v.createElement(Jn.Provider,{value:t},a)}function d6(t,s=[],a=null,l=null,i=null){if(t==null){if(!a)return null;if(a.errors)t=a.matches;else if(s.length===0&&!a.initialized&&a.matches.length>0)t=a.matches;else return null}let o=t,d=a?.errors;if(d!=null){let p=o.findIndex(f=>f.route.id&&d?.[f.route.id]!==void 0);Aa(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let x=!1,u=-1;if(a)for(let p=0;p<o.length;p++){let f=o[p];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=p),f.route.id){let{loaderData:b,errors:g}=a,j=f.route.loader&&!b.hasOwnProperty(f.route.id)&&(!g||g[f.route.id]===void 0);if(f.route.lazy||j){x=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}let h=a&&l?(p,f)=>{l(p,{location:a.location,params:a.matches?.[0]?.params??{},unstable_pattern:V4(a.matches),errorInfo:f})}:void 0;return o.reduceRight((p,f,b)=>{let g,j=!1,A=null,w=null;a&&(g=d&&f.route.id?d[f.route.id]:void 0,A=f.route.errorElement||i6,x&&(u<0&&b===0?(oj("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,w=null):u===b&&(j=!0,w=f.route.hydrateFallbackElement||null)));let k=s.concat(o.slice(0,b+1)),C=()=>{let L;return g?L=A:j?L=w:f.route.Component?L=v.createElement(f.route.Component,null):f.route.element?L=f.route.element:L=p,v.createElement(c6,{match:f,routeContext:{outlet:p,matches:k,isDataRoute:a!=null},children:L})};return a&&(f.route.ErrorBoundary||f.route.errorElement||b===0)?v.createElement(ij,{location:a.location,revalidation:a.revalidation,component:A,error:g,children:C(),routeContext:{outlet:null,matches:k,isDataRoute:!0},onError:h}):C()},null)}function og(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function x6(t){let s=v.useContext(Y0);return Aa(s,og(t)),s}function u6(t){let s=v.useContext(tm);return Aa(s,og(t)),s}function h6(t){let s=v.useContext(Jn);return Aa(s,og(t)),s}function cg(t){let s=h6(t),a=s.matches[s.matches.length-1];return Aa(a.route.id,`${t} can only be used on routes that contain a unique "id"`),a.route.id}function m6(){return cg("useRouteId")}function p6(){let t=v.useContext(ng),s=u6("useRouteError"),a=cg("useRouteError");return t!==void 0?t:s.errors?.[a]}function f6(){let{router:t}=x6("useNavigate"),s=cg("useNavigate"),a=v.useRef(!1);return rj(()=>{a.current=!0}),v.useCallback(async(i,o={})=>{Mi(a.current,aj),a.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:s,...o}))},[t,s])}var f1={};function oj(t,s,a){!s&&!f1[t]&&(f1[t]=!0,Mi(!1,a))}v.memo(g6);function g6({routes:t,future:s,state:a,onError:l}){return nj(t,void 0,a,l,s)}function Qr({to:t,replace:s,state:a,relative:l}){Aa(X0(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=v.useContext(Nn);Mi(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=v.useContext(Jn),{pathname:d}=Tr(),x=qt(),u=lg(t,rg(o),d,l==="path"),h=JSON.stringify(u);return v.useEffect(()=>{x(JSON.parse(h),{replace:s,state:a,relative:l})},[x,h,l,s,a]),null}function sm(t){return r6(t.context)}function De(t){Aa(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function b6({basename:t="/",children:s=null,location:a,navigationType:l="POP",navigator:i,static:o=!1,unstable_useTransitions:d}){Aa(!X0(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let x=t.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:x,navigator:i,static:o,unstable_useTransitions:d,future:{}}),[x,i,o,d]);typeof a=="string"&&(a=V0(a));let{pathname:h="/",search:p="",hash:f="",state:b=null,key:g="default"}=a,j=v.useMemo(()=>{let A=Uo(h,x);return A==null?null:{location:{pathname:A,search:p,hash:f,state:b,key:g},navigationType:l}},[x,h,p,f,b,g,l]);return Mi(j!=null,`<Router basename="${x}"> is not able to match the URL "${h}${p}${f}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:v.createElement(Nn.Provider,{value:u},v.createElement(tu.Provider,{children:s,value:j}))}function v6({children:t,location:s}){return l6(Df(t),s)}function Df(t,s=[]){let a=[];return v.Children.forEach(t,(l,i)=>{if(!v.isValidElement(l))return;let o=[...s,i];if(l.type===v.Fragment){a.push.apply(a,Df(l.props.children,o));return}Aa(l.type===De,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Aa(!l.props.index||!l.props.children,"An index route cannot have child routes.");let d={id:l.props.id||o.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,middleware:l.props.middleware,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(d.children=Df(l.props.children,o)),a.push(d)}),a}var wh="get",Nh="application/x-www-form-urlencoded";function am(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function y6(t){return am(t)&&t.tagName.toLowerCase()==="button"}function j6(t){return am(t)&&t.tagName.toLowerCase()==="form"}function w6(t){return am(t)&&t.tagName.toLowerCase()==="input"}function N6(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function k6(t,s){return t.button===0&&(!s||s==="_self")&&!N6(t)}var nh=null;function S6(){if(nh===null)try{new FormData(document.createElement("form"),0),nh=!1}catch{nh=!0}return nh}var C6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Rp(t){return t!=null&&!C6.has(t)?(Mi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Nh}"`),null):t}function A6(t,s){let a,l,i,o,d;if(j6(t)){let x=t.getAttribute("action");l=x?Uo(x,s):null,a=t.getAttribute("method")||wh,i=Rp(t.getAttribute("enctype"))||Nh,o=new FormData(t)}else if(y6(t)||w6(t)&&(t.type==="submit"||t.type==="image")){let x=t.form;if(x==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||x.getAttribute("action");if(l=u?Uo(u,s):null,a=t.getAttribute("formmethod")||x.getAttribute("method")||wh,i=Rp(t.getAttribute("formenctype"))||Rp(x.getAttribute("enctype"))||Nh,o=new FormData(x,t),!S6()){let{name:h,type:p,value:f}=t;if(p==="image"){let b=h?`${h}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else h&&o.append(h,f)}}else{if(am(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=wh,l=null,i=Nh,d=t}return o&&i==="text/plain"&&(d=o,o=void 0),{action:l,method:a.toLowerCase(),encType:i,formData:o,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function dg(t,s){if(t===!1||t===null||typeof t>"u")throw new Error(s)}function D6(t,s,a,l){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return a?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${l}`:i.pathname=`${i.pathname}.${l}`:i.pathname==="/"?i.pathname=`_root.${l}`:s&&Uo(i.pathname,s)==="/"?i.pathname=`${s.replace(/\/$/,"")}/_root.${l}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${l}`,i}async function M6(t,s){if(t.id in s)return s[t.id];try{let a=await import(t.module);return s[t.id]=a,a}catch(a){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function L6(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function z6(t,s,a){let l=await Promise.all(t.map(async i=>{let o=s.routes[i.route.id];if(o){let d=await M6(o,a);return d.links?d.links():[]}return[]}));return P6(l.flat(1).filter(L6).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function g1(t,s,a,l,i,o){let d=(u,h)=>a[h]?u.route.id!==a[h].route.id:!0,x=(u,h)=>a[h].pathname!==u.pathname||a[h].route.path?.endsWith("*")&&a[h].params["*"]!==u.params["*"];return o==="assets"?s.filter((u,h)=>d(u,h)||x(u,h)):o==="data"?s.filter((u,h)=>{let p=l.routes[u.route.id];if(!p||!p.hasLoader)return!1;if(d(u,h)||x(u,h))return!0;if(u.route.shouldRevalidate){let f=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:a[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function E6(t,s,{includeHydrateFallback:a}={}){return T6(t.map(l=>{let i=s.routes[l.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),a&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function T6(t){return[...new Set(t)]}function _6(t){let s={},a=Object.keys(t).sort();for(let l of a)s[l]=t[l];return s}function P6(t,s){let a=new Set;return new Set(s),t.reduce((l,i)=>{let o=JSON.stringify(_6(i));return a.has(o)||(a.add(o),l.push({key:o,link:i})),l},[])}function cj(){let t=v.useContext(Y0);return dg(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function R6(){let t=v.useContext(tm);return dg(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var xg=v.createContext(void 0);xg.displayName="FrameworkContext";function dj(){let t=v.useContext(xg);return dg(t,"You must render this element inside a <HydratedRouter> element"),t}function O6(t,s){let a=v.useContext(xg),[l,i]=v.useState(!1),[o,d]=v.useState(!1),{onFocus:x,onBlur:u,onMouseEnter:h,onMouseLeave:p,onTouchStart:f}=s,b=v.useRef(null);v.useEffect(()=>{if(t==="render"&&d(!0),t==="viewport"){let A=k=>{k.forEach(C=>{d(C.isIntersecting)})},w=new IntersectionObserver(A,{threshold:.5});return b.current&&w.observe(b.current),()=>{w.disconnect()}}},[t]),v.useEffect(()=>{if(l){let A=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(A)}}},[l]);let g=()=>{i(!0)},j=()=>{i(!1),d(!1)};return a?t!=="intent"?[o,b,{}]:[o,b,{onFocus:Fx(x,g),onBlur:Fx(u,j),onMouseEnter:Fx(h,g),onMouseLeave:Fx(p,j),onTouchStart:Fx(f,g)}]:[!1,b,{}]}function Fx(t,s){return a=>{t&&t(a),a.defaultPrevented||s(a)}}function F6({page:t,...s}){let{router:a}=cj(),l=v.useMemo(()=>X2(a.routes,t,a.basename),[a.routes,t,a.basename]);return l?v.createElement(B6,{page:t,matches:l,...s}):null}function I6(t){let{manifest:s,routeModules:a}=dj(),[l,i]=v.useState([]);return v.useEffect(()=>{let o=!1;return z6(t,s,a).then(d=>{o||i(d)}),()=>{o=!0}},[t,s,a]),l}function B6({page:t,matches:s,...a}){let l=Tr(),{future:i,manifest:o,routeModules:d}=dj(),{basename:x}=cj(),{loaderData:u,matches:h}=R6(),p=v.useMemo(()=>g1(t,s,h,o,l,"data"),[t,s,h,o,l]),f=v.useMemo(()=>g1(t,s,h,o,l,"assets"),[t,s,h,o,l]),b=v.useMemo(()=>{if(t===l.pathname+l.search+l.hash)return[];let A=new Set,w=!1;if(s.forEach(C=>{let L=o.routes[C.route.id];!L||!L.hasLoader||(!p.some(N=>N.route.id===C.route.id)&&C.route.id in u&&d[C.route.id]?.shouldRevalidate||L.hasClientLoader?w=!0:A.add(C.route.id))}),A.size===0)return[];let k=D6(t,x,i.unstable_trailingSlashAwareDataRequests,"data");return w&&A.size>0&&k.searchParams.set("_routes",s.filter(C=>A.has(C.route.id)).map(C=>C.route.id).join(",")),[k.pathname+k.search]},[x,i.unstable_trailingSlashAwareDataRequests,u,l,o,p,s,t,d]),g=v.useMemo(()=>E6(f,o),[f,o]),j=I6(f);return v.createElement(v.Fragment,null,b.map(A=>v.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...a})),g.map(A=>v.createElement("link",{key:A,rel:"modulepreload",href:A,...a})),j.map(({key:A,link:w})=>v.createElement("link",{key:A,nonce:a.nonce,...w,crossOrigin:w.crossOrigin??a.crossOrigin})))}function U6(...t){return s=>{t.forEach(a=>{typeof a=="function"?a(s):a!=null&&(a.current=s)})}}var $6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{$6&&(window.__reactRouterVersion="7.13.0")}catch{}function q6({basename:t,children:s,unstable_useTransitions:a,window:l}){let i=v.useRef();i.current==null&&(i.current=w4({window:l,v5Compat:!0}));let o=i.current,[d,x]=v.useState({action:o.action,location:o.location}),u=v.useCallback(h=>{a===!1?x(h):v.startTransition(()=>x(h))},[a]);return v.useLayoutEffect(()=>o.listen(u),[o,u]),v.createElement(b6,{basename:t,children:s,location:d.location,navigationType:d.action,navigator:o,unstable_useTransitions:a})}var xj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uj=v.forwardRef(function({onClick:s,discover:a="render",prefetch:l="none",relative:i,reloadDocument:o,replace:d,state:x,target:u,to:h,preventScrollReset:p,viewTransition:f,unstable_defaultShouldRevalidate:b,...g},j){let{basename:A,unstable_useTransitions:w}=v.useContext(Nn),k=typeof h=="string"&&xj.test(h),C=Z2(h,A);h=C.to;let L=s6(h,{relative:i}),[N,P,_]=O6(l,g),F=G6(h,{replace:d,state:x,target:u,preventScrollReset:p,relative:i,viewTransition:f,unstable_defaultShouldRevalidate:b,unstable_useTransitions:w});function R(T){s&&s(T),T.defaultPrevented||F(T)}let B=v.createElement("a",{...g,..._,href:C.absoluteURL||L,onClick:C.isExternal||o?s:R,ref:U6(j,P),target:u,"data-discover":!k&&a==="render"?"true":void 0});return N&&!k?v.createElement(v.Fragment,null,B,v.createElement(F6,{page:L})):B});uj.displayName="Link";var Bh=v.forwardRef(function({"aria-current":s="page",caseSensitive:a=!1,className:l="",end:i=!1,style:o,to:d,viewTransition:x,children:u,...h},p){let f=su(d,{relative:h.relative}),b=Tr(),g=v.useContext(tm),{navigator:j,basename:A}=v.useContext(Nn),w=g!=null&&J6(f)&&x===!0,k=j.encodeLocation?j.encodeLocation(f).pathname:f.pathname,C=b.pathname,L=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;a||(C=C.toLowerCase(),L=L?L.toLowerCase():null,k=k.toLowerCase()),L&&A&&(L=Uo(L,A)||L);const N=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let P=C===k||!i&&C.startsWith(k)&&C.charAt(N)==="/",_=L!=null&&(L===k||!i&&L.startsWith(k)&&L.charAt(k.length)==="/"),F={isActive:P,isPending:_,isTransitioning:w},R=P?s:void 0,B;typeof l=="function"?B=l(F):B=[l,P?"active":null,_?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let T=typeof o=="function"?o(F):o;return v.createElement(uj,{...h,"aria-current":R,className:B,ref:p,style:T,to:d,viewTransition:x},typeof u=="function"?u(F):u)});Bh.displayName="NavLink";var H6=v.forwardRef(({discover:t="render",fetcherKey:s,navigate:a,reloadDocument:l,replace:i,state:o,method:d=wh,action:x,onSubmit:u,relative:h,preventScrollReset:p,viewTransition:f,unstable_defaultShouldRevalidate:b,...g},j)=>{let{unstable_useTransitions:A}=v.useContext(Nn),w=X6(),k=K6(x,{relative:h}),C=d.toLowerCase()==="get"?"get":"post",L=typeof x=="string"&&xj.test(x),N=P=>{if(u&&u(P),P.defaultPrevented)return;P.preventDefault();let _=P.nativeEvent.submitter,F=_?.getAttribute("formmethod")||d,R=()=>w(_||P.currentTarget,{fetcherKey:s,method:F,navigate:a,replace:i,state:o,relative:h,preventScrollReset:p,viewTransition:f,unstable_defaultShouldRevalidate:b});A&&a!==!1?v.startTransition(()=>R()):R()};return v.createElement("form",{ref:j,method:C,action:k,onSubmit:l?u:N,...g,"data-discover":!L&&t==="render"?"true":void 0})});H6.displayName="Form";function W6(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hj(t){let s=v.useContext(Y0);return Aa(s,W6(t)),s}function G6(t,{target:s,replace:a,state:l,preventScrollReset:i,relative:o,viewTransition:d,unstable_defaultShouldRevalidate:x,unstable_useTransitions:u}={}){let h=qt(),p=Tr(),f=su(t,{relative:o});return v.useCallback(b=>{if(k6(b,s)){b.preventDefault();let g=a!==void 0?a:Xx(p)===Xx(f),j=()=>h(t,{replace:g,state:l,preventScrollReset:i,relative:o,viewTransition:d,unstable_defaultShouldRevalidate:x});u?v.startTransition(()=>j()):j()}},[p,h,f,a,l,s,t,i,o,d,x,u])}var V6=0,Y6=()=>`__${String(++V6)}__`;function X6(){let{router:t}=hj("useSubmit"),{basename:s}=v.useContext(Nn),a=m6(),l=t.fetch,i=t.navigate;return v.useCallback(async(o,d={})=>{let{action:x,method:u,encType:h,formData:p,body:f}=A6(o,s);if(d.navigate===!1){let b=d.fetcherKey||Y6();await l(b,a,d.action||x,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:p,body:f,formMethod:d.method||u,formEncType:d.encType||h,flushSync:d.flushSync})}else await i(d.action||x,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:p,body:f,formMethod:d.method||u,formEncType:d.encType||h,replace:d.replace,state:d.state,fromRouteId:a,flushSync:d.flushSync,viewTransition:d.viewTransition})},[l,i,s,a])}function K6(t,{relative:s}={}){let{basename:a}=v.useContext(Nn),l=v.useContext(Jn);Aa(l,"useFormAction must be used inside a RouteContext");let[i]=l.matches.slice(-1),o={...su(t||".",{relative:s})},d=Tr();if(t==null){o.search=d.search;let x=new URLSearchParams(o.search),u=x.getAll("index");if(u.some(p=>p==="")){x.delete("index"),u.filter(f=>f).forEach(f=>x.append("index",f));let p=x.toString();o.search=p?`?${p}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(o.pathname=o.pathname==="/"?a:Io([a,o.pathname])),Xx(o)}function J6(t,{relative:s}={}){let a=v.useContext(tj);Aa(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=hj("useViewTransitionState"),i=su(t,{relative:s});if(!a.isTransitioning)return!1;let o=Uo(a.currentLocation.pathname,l)||a.currentLocation.pathname,d=Uo(a.nextLocation.pathname,l)||a.nextLocation.pathname;return Ih(i.pathname,d)!=null||Ih(i.pathname,o)!=null}var Q6=Y2();const mj=sg(Q6);let Z6={data:""},e3=t=>{if(typeof window=="object"){let s=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return s.nonce=window.__nonce__,s.parentNode||(t||document.head).appendChild(s),s.firstChild}return t||Z6},t3=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,s3=/\/\*[^]*?\*\/|  +/g,b1=/\n+/g,Mc=(t,s)=>{let a="",l="",i="";for(let o in t){let d=t[o];o[0]=="@"?o[1]=="i"?a=o+" "+d+";":l+=o[1]=="f"?Mc(d,o):o+"{"+Mc(d,o[1]=="k"?"":s)+"}":typeof d=="object"?l+=Mc(d,s?s.replace(/([^,])+/g,x=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,x):x?x+" "+u:u)):o):d!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Mc.p?Mc.p(o,d):o+":"+d+";")}return a+(s&&i?s+"{"+i+"}":i)+l},_o={},pj=t=>{if(typeof t=="object"){let s="";for(let a in t)s+=a+pj(t[a]);return s}return t},a3=(t,s,a,l,i)=>{let o=pj(t),d=_o[o]||(_o[o]=(u=>{let h=0,p=11;for(;h<u.length;)p=101*p+u.charCodeAt(h++)>>>0;return"go"+p})(o));if(!_o[d]){let u=o!==t?t:(h=>{let p,f,b=[{}];for(;p=t3.exec(h.replace(s3,""));)p[4]?b.shift():p[3]?(f=p[3].replace(b1," ").trim(),b.unshift(b[0][f]=b[0][f]||{})):b[0][p[1]]=p[2].replace(b1," ").trim();return b[0]})(t);_o[d]=Mc(i?{["@keyframes "+d]:u}:u,a?"":"."+d)}let x=a&&_o.g?_o.g:null;return a&&(_o.g=_o[d]),((u,h,p,f)=>{f?h.data=h.data.replace(f,u):h.data.indexOf(u)===-1&&(h.data=p?u+h.data:h.data+u)})(_o[d],s,l,x),d},r3=(t,s,a)=>t.reduce((l,i,o)=>{let d=s[o];if(d&&d.call){let x=d(a),u=x&&x.props&&x.props.className||/^go/.test(x)&&x;d=u?"."+u:x&&typeof x=="object"?x.props?"":Mc(x,""):x===!1?"":x}return l+i+(d??"")},"");function rm(t){let s=this||{},a=t.call?t(s.p):t;return a3(a.unshift?a.raw?r3(a,[].slice.call(arguments,1),s.p):a.reduce((l,i)=>Object.assign(l,i&&i.call?i(s.p):i),{}):a,e3(s.target),s.g,s.o,s.k)}let fj,Mf,Lf;rm.bind({g:1});let $o=rm.bind({k:1});function l3(t,s,a,l){Mc.p=s,fj=t,Mf=a,Lf=l}function Oc(t,s){let a=this||{};return function(){let l=arguments;function i(o,d){let x=Object.assign({},o),u=x.className||i.className;a.p=Object.assign({theme:Mf&&Mf()},x),a.o=/ *go\d+/.test(u),x.className=rm.apply(a,l)+(u?" "+u:"");let h=t;return t[0]&&(h=x.as||t,delete x.as),Lf&&h[0]&&Lf(x),fj(h,x)}return i}}var n3=t=>typeof t=="function",Uh=(t,s)=>n3(t)?t(s):t,i3=(()=>{let t=0;return()=>(++t).toString()})(),gj=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let s=matchMedia("(prefers-reduced-motion: reduce)");t=!s||s.matches}return t}})(),o3=20,ug="default",bj=(t,s)=>{let{toastLimit:a}=t.settings;switch(s.type){case 0:return{...t,toasts:[s.toast,...t.toasts].slice(0,a)};case 1:return{...t,toasts:t.toasts.map(d=>d.id===s.toast.id?{...d,...s.toast}:d)};case 2:let{toast:l}=s;return bj(t,{type:t.toasts.find(d=>d.id===l.id)?1:0,toast:l});case 3:let{toastId:i}=s;return{...t,toasts:t.toasts.map(d=>d.id===i||i===void 0?{...d,dismissed:!0,visible:!1}:d)};case 4:return s.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(d=>d.id!==s.toastId)};case 5:return{...t,pausedAt:s.time};case 6:let o=s.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(d=>({...d,pauseDuration:d.pauseDuration+o}))}}},kh=[],vj={toasts:[],pausedAt:void 0,settings:{toastLimit:o3}},so={},yj=(t,s=ug)=>{so[s]=bj(so[s]||vj,t),kh.forEach(([a,l])=>{a===s&&l(so[s])})},jj=t=>Object.keys(so).forEach(s=>yj(t,s)),c3=t=>Object.keys(so).find(s=>so[s].toasts.some(a=>a.id===t)),lm=(t=ug)=>s=>{yj(s,t)},d3={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},x3=(t={},s=ug)=>{let[a,l]=v.useState(so[s]||vj),i=v.useRef(so[s]);v.useEffect(()=>(i.current!==so[s]&&l(so[s]),kh.push([s,l]),()=>{let d=kh.findIndex(([x])=>x===s);d>-1&&kh.splice(d,1)}),[s]);let o=a.toasts.map(d=>{var x,u,h;return{...t,...t[d.type],...d,removeDelay:d.removeDelay||((x=t[d.type])==null?void 0:x.removeDelay)||t?.removeDelay,duration:d.duration||((u=t[d.type])==null?void 0:u.duration)||t?.duration||d3[d.type],style:{...t.style,...(h=t[d.type])==null?void 0:h.style,...d.style}}});return{...a,toasts:o}},u3=(t,s="blank",a)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:s,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...a,id:a?.id||i3()}),au=t=>(s,a)=>{let l=u3(s,t,a);return lm(l.toasterId||c3(l.id))({type:2,toast:l}),l.id},ft=(t,s)=>au("blank")(t,s);ft.error=au("error");ft.success=au("success");ft.loading=au("loading");ft.custom=au("custom");ft.dismiss=(t,s)=>{let a={type:3,toastId:t};s?lm(s)(a):jj(a)};ft.dismissAll=t=>ft.dismiss(void 0,t);ft.remove=(t,s)=>{let a={type:4,toastId:t};s?lm(s)(a):jj(a)};ft.removeAll=t=>ft.remove(void 0,t);ft.promise=(t,s,a)=>{let l=ft.loading(s.loading,{...a,...a?.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let o=s.success?Uh(s.success,i):void 0;return o?ft.success(o,{id:l,...a,...a?.success}):ft.dismiss(l),i}).catch(i=>{let o=s.error?Uh(s.error,i):void 0;o?ft.error(o,{id:l,...a,...a?.error}):ft.dismiss(l)}),t};var h3=1e3,m3=(t,s="default")=>{let{toasts:a,pausedAt:l}=x3(t,s),i=v.useRef(new Map).current,o=v.useCallback((f,b=h3)=>{if(i.has(f))return;let g=setTimeout(()=>{i.delete(f),d({type:4,toastId:f})},b);i.set(f,g)},[]);v.useEffect(()=>{if(l)return;let f=Date.now(),b=a.map(g=>{if(g.duration===1/0)return;let j=(g.duration||0)+g.pauseDuration-(f-g.createdAt);if(j<0){g.visible&&ft.dismiss(g.id);return}return setTimeout(()=>ft.dismiss(g.id,s),j)});return()=>{b.forEach(g=>g&&clearTimeout(g))}},[a,l,s]);let d=v.useCallback(lm(s),[s]),x=v.useCallback(()=>{d({type:5,time:Date.now()})},[d]),u=v.useCallback((f,b)=>{d({type:1,toast:{id:f,height:b}})},[d]),h=v.useCallback(()=>{l&&d({type:6,time:Date.now()})},[l,d]),p=v.useCallback((f,b)=>{let{reverseOrder:g=!1,gutter:j=8,defaultPosition:A}=b||{},w=a.filter(L=>(L.position||A)===(f.position||A)&&L.height),k=w.findIndex(L=>L.id===f.id),C=w.filter((L,N)=>N<k&&L.visible).length;return w.filter(L=>L.visible).slice(...g?[C+1]:[0,C]).reduce((L,N)=>L+(N.height||0)+j,0)},[a]);return v.useEffect(()=>{a.forEach(f=>{if(f.dismissed)o(f.id,f.removeDelay);else{let b=i.get(f.id);b&&(clearTimeout(b),i.delete(f.id))}})},[a,o]),{toasts:a,handlers:{updateHeight:u,startPause:x,endPause:h,calculateOffset:p}}},p3=$o`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,f3=$o`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,g3=$o`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,b3=Oc("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${p3} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${f3} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${g3} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,v3=$o`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,y3=Oc("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${v3} 1s linear infinite;
`,j3=$o`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,w3=$o`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,N3=Oc("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${j3} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${w3} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,k3=Oc("div")`
  position: absolute;
`,S3=Oc("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,C3=$o`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,A3=Oc("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${C3} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,D3=({toast:t})=>{let{icon:s,type:a,iconTheme:l}=t;return s!==void 0?typeof s=="string"?v.createElement(A3,null,s):s:a==="blank"?null:v.createElement(S3,null,v.createElement(y3,{...l}),a!=="loading"&&v.createElement(k3,null,a==="error"?v.createElement(b3,{...l}):v.createElement(N3,{...l})))},M3=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,L3=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,z3="0%{opacity:0;} 100%{opacity:1;}",E3="0%{opacity:1;} 100%{opacity:0;}",T3=Oc("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,_3=Oc("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,P3=(t,s)=>{let a=t.includes("top")?1:-1,[l,i]=gj()?[z3,E3]:[M3(a),L3(a)];return{animation:s?`${$o(l)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${$o(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},R3=v.memo(({toast:t,position:s,style:a,children:l})=>{let i=t.height?P3(t.position||s||"top-center",t.visible):{opacity:0},o=v.createElement(D3,{toast:t}),d=v.createElement(_3,{...t.ariaProps},Uh(t.message,t));return v.createElement(T3,{className:t.className,style:{...i,...a,...t.style}},typeof l=="function"?l({icon:o,message:d}):v.createElement(v.Fragment,null,o,d))});l3(v.createElement);var O3=({id:t,className:s,style:a,onHeightUpdate:l,children:i})=>{let o=v.useCallback(d=>{if(d){let x=()=>{let u=d.getBoundingClientRect().height;l(t,u)};x(),new MutationObserver(x).observe(d,{subtree:!0,childList:!0,characterData:!0})}},[t,l]);return v.createElement("div",{ref:o,className:s,style:a},i)},F3=(t,s)=>{let a=t.includes("top"),l=a?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:gj()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${s*(a?1:-1)}px)`,...l,...i}},I3=rm`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ih=16,B3=({reverseOrder:t,position:s="top-center",toastOptions:a,gutter:l,children:i,toasterId:o,containerStyle:d,containerClassName:x})=>{let{toasts:u,handlers:h}=m3(a,o);return v.createElement("div",{"data-rht-toaster":o||"",style:{position:"fixed",zIndex:9999,top:ih,left:ih,right:ih,bottom:ih,pointerEvents:"none",...d},className:x,onMouseEnter:h.startPause,onMouseLeave:h.endPause},u.map(p=>{let f=p.position||s,b=h.calculateOffset(p,{reverseOrder:t,gutter:l,defaultPosition:s}),g=F3(f,b);return v.createElement(O3,{id:p.id,key:p.id,onHeightUpdate:h.updateHeight,className:p.visible?I3:"",style:g},p.type==="custom"?Uh(p.message,p):i?i(p):v.createElement(R3,{toast:p,position:f}))}))},st=ft;function wj(t,s){return function(){return t.apply(s,arguments)}}const{toString:U3}=Object.prototype,{getPrototypeOf:hg}=Object,{iterator:nm,toStringTag:Nj}=Symbol,im=(t=>s=>{const a=U3.call(s);return t[a]||(t[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),zi=t=>(t=t.toLowerCase(),s=>im(s)===t),om=t=>s=>typeof s===t,{isArray:K0}=Array,H0=om("undefined");function ru(t){return t!==null&&!H0(t)&&t.constructor!==null&&!H0(t.constructor)&&Gl(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const kj=zi("ArrayBuffer");function $3(t){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(t):s=t&&t.buffer&&kj(t.buffer),s}const q3=om("string"),Gl=om("function"),Sj=om("number"),lu=t=>t!==null&&typeof t=="object",H3=t=>t===!0||t===!1,Sh=t=>{if(im(t)!=="object")return!1;const s=hg(t);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Nj in t)&&!(nm in t)},W3=t=>{if(!lu(t)||ru(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},G3=zi("Date"),V3=zi("File"),Y3=zi("Blob"),X3=zi("FileList"),K3=t=>lu(t)&&Gl(t.pipe),J3=t=>{let s;return t&&(typeof FormData=="function"&&t instanceof FormData||Gl(t.append)&&((s=im(t))==="formdata"||s==="object"&&Gl(t.toString)&&t.toString()==="[object FormData]"))},Q3=zi("URLSearchParams"),[Z3,ek,tk,sk]=["ReadableStream","Request","Response","Headers"].map(zi),ak=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function nu(t,s,{allOwnKeys:a=!1}={}){if(t===null||typeof t>"u")return;let l,i;if(typeof t!="object"&&(t=[t]),K0(t))for(l=0,i=t.length;l<i;l++)s.call(null,t[l],l,t);else{if(ru(t))return;const o=a?Object.getOwnPropertyNames(t):Object.keys(t),d=o.length;let x;for(l=0;l<d;l++)x=o[l],s.call(null,t[x],x,t)}}function Cj(t,s){if(ru(t))return null;s=s.toLowerCase();const a=Object.keys(t);let l=a.length,i;for(;l-- >0;)if(i=a[l],s===i.toLowerCase())return i;return null}const jd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Aj=t=>!H0(t)&&t!==jd;function zf(){const{caseless:t,skipUndefined:s}=Aj(this)&&this||{},a={},l=(i,o)=>{if(o==="__proto__"||o==="constructor"||o==="prototype")return;const d=t&&Cj(a,o)||o;Sh(a[d])&&Sh(i)?a[d]=zf(a[d],i):Sh(i)?a[d]=zf({},i):K0(i)?a[d]=i.slice():(!s||!H0(i))&&(a[d]=i)};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&nu(arguments[i],l);return a}const rk=(t,s,a,{allOwnKeys:l}={})=>(nu(s,(i,o)=>{a&&Gl(i)?Object.defineProperty(t,o,{value:wj(i,a),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(t,o,{value:i,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:l}),t),lk=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),nk=(t,s,a,l)=>{t.prototype=Object.create(s.prototype,l),Object.defineProperty(t.prototype,"constructor",{value:t,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(t,"super",{value:s.prototype}),a&&Object.assign(t.prototype,a)},ik=(t,s,a,l)=>{let i,o,d;const x={};if(s=s||{},t==null)return s;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)d=i[o],(!l||l(d,t,s))&&!x[d]&&(s[d]=t[d],x[d]=!0);t=a!==!1&&hg(t)}while(t&&(!a||a(t,s))&&t!==Object.prototype);return s},ok=(t,s,a)=>{t=String(t),(a===void 0||a>t.length)&&(a=t.length),a-=s.length;const l=t.indexOf(s,a);return l!==-1&&l===a},ck=t=>{if(!t)return null;if(K0(t))return t;let s=t.length;if(!Sj(s))return null;const a=new Array(s);for(;s-- >0;)a[s]=t[s];return a},dk=(t=>s=>t&&s instanceof t)(typeof Uint8Array<"u"&&hg(Uint8Array)),xk=(t,s)=>{const l=(t&&t[nm]).call(t);let i;for(;(i=l.next())&&!i.done;){const o=i.value;s.call(t,o[0],o[1])}},uk=(t,s)=>{let a;const l=[];for(;(a=t.exec(s))!==null;)l.push(a);return l},hk=zi("HTMLFormElement"),mk=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,l,i){return l.toUpperCase()+i}),v1=(({hasOwnProperty:t})=>(s,a)=>t.call(s,a))(Object.prototype),pk=zi("RegExp"),Dj=(t,s)=>{const a=Object.getOwnPropertyDescriptors(t),l={};nu(a,(i,o)=>{let d;(d=s(i,o,t))!==!1&&(l[o]=d||i)}),Object.defineProperties(t,l)},fk=t=>{Dj(t,(s,a)=>{if(Gl(t)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const l=t[a];if(Gl(l)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},gk=(t,s)=>{const a={},l=i=>{i.forEach(o=>{a[o]=!0})};return K0(t)?l(t):l(String(t).split(s)),a},bk=()=>{},vk=(t,s)=>t!=null&&Number.isFinite(t=+t)?t:s;function yk(t){return!!(t&&Gl(t.append)&&t[Nj]==="FormData"&&t[nm])}const jk=t=>{const s=new Array(10),a=(l,i)=>{if(lu(l)){if(s.indexOf(l)>=0)return;if(ru(l))return l;if(!("toJSON"in l)){s[i]=l;const o=K0(l)?[]:{};return nu(l,(d,x)=>{const u=a(d,i+1);!H0(u)&&(o[x]=u)}),s[i]=void 0,o}}return l};return a(t,0)},wk=zi("AsyncFunction"),Nk=t=>t&&(lu(t)||Gl(t))&&Gl(t.then)&&Gl(t.catch),Mj=((t,s)=>t?setImmediate:s?((a,l)=>(jd.addEventListener("message",({source:i,data:o})=>{i===jd&&o===a&&l.length&&l.shift()()},!1),i=>{l.push(i),jd.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",Gl(jd.postMessage)),kk=typeof queueMicrotask<"u"?queueMicrotask.bind(jd):typeof process<"u"&&process.nextTick||Mj,Sk=t=>t!=null&&Gl(t[nm]),Pe={isArray:K0,isArrayBuffer:kj,isBuffer:ru,isFormData:J3,isArrayBufferView:$3,isString:q3,isNumber:Sj,isBoolean:H3,isObject:lu,isPlainObject:Sh,isEmptyObject:W3,isReadableStream:Z3,isRequest:ek,isResponse:tk,isHeaders:sk,isUndefined:H0,isDate:G3,isFile:V3,isBlob:Y3,isRegExp:pk,isFunction:Gl,isStream:K3,isURLSearchParams:Q3,isTypedArray:dk,isFileList:X3,forEach:nu,merge:zf,extend:rk,trim:ak,stripBOM:lk,inherits:nk,toFlatObject:ik,kindOf:im,kindOfTest:zi,endsWith:ok,toArray:ck,forEachEntry:xk,matchAll:uk,isHTMLForm:hk,hasOwnProperty:v1,hasOwnProp:v1,reduceDescriptors:Dj,freezeMethods:fk,toObjectSet:gk,toCamelCase:mk,noop:bk,toFiniteNumber:vk,findKey:Cj,global:jd,isContextDefined:Aj,isSpecCompliantForm:yk,toJSONObject:jk,isAsyncFn:wk,isThenable:Nk,setImmediate:Mj,asap:kk,isIterable:Sk};let Gt=class Lj extends Error{static from(s,a,l,i,o,d){const x=new Lj(s.message,a||s.code,l,i,o);return x.cause=s,x.name=s.name,d&&Object.assign(x,d),x}constructor(s,a,l,i,o){super(s),this.name="AxiosError",this.isAxiosError=!0,a&&(this.code=a),l&&(this.config=l),i&&(this.request=i),o&&(this.response=o,this.status=o.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Pe.toJSONObject(this.config),code:this.code,status:this.status}}};Gt.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";Gt.ERR_BAD_OPTION="ERR_BAD_OPTION";Gt.ECONNABORTED="ECONNABORTED";Gt.ETIMEDOUT="ETIMEDOUT";Gt.ERR_NETWORK="ERR_NETWORK";Gt.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";Gt.ERR_DEPRECATED="ERR_DEPRECATED";Gt.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";Gt.ERR_BAD_REQUEST="ERR_BAD_REQUEST";Gt.ERR_CANCELED="ERR_CANCELED";Gt.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";Gt.ERR_INVALID_URL="ERR_INVALID_URL";const Ck=null;function Ef(t){return Pe.isPlainObject(t)||Pe.isArray(t)}function zj(t){return Pe.endsWith(t,"[]")?t.slice(0,-2):t}function y1(t,s,a){return t?t.concat(s).map(function(i,o){return i=zj(i),!a&&o?"["+i+"]":i}).join(a?".":""):s}function Ak(t){return Pe.isArray(t)&&!t.some(Ef)}const Dk=Pe.toFlatObject(Pe,{},null,function(s){return/^is[A-Z]/.test(s)});function cm(t,s,a){if(!Pe.isObject(t))throw new TypeError("target must be an object");s=s||new FormData,a=Pe.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(A,w){return!Pe.isUndefined(w[A])});const l=a.metaTokens,i=a.visitor||p,o=a.dots,d=a.indexes,u=(a.Blob||typeof Blob<"u"&&Blob)&&Pe.isSpecCompliantForm(s);if(!Pe.isFunction(i))throw new TypeError("visitor must be a function");function h(j){if(j===null)return"";if(Pe.isDate(j))return j.toISOString();if(Pe.isBoolean(j))return j.toString();if(!u&&Pe.isBlob(j))throw new Gt("Blob is not supported. Use a Buffer instead.");return Pe.isArrayBuffer(j)||Pe.isTypedArray(j)?u&&typeof Blob=="function"?new Blob([j]):Buffer.from(j):j}function p(j,A,w){let k=j;if(j&&!w&&typeof j=="object"){if(Pe.endsWith(A,"{}"))A=l?A:A.slice(0,-2),j=JSON.stringify(j);else if(Pe.isArray(j)&&Ak(j)||(Pe.isFileList(j)||Pe.endsWith(A,"[]"))&&(k=Pe.toArray(j)))return A=zj(A),k.forEach(function(L,N){!(Pe.isUndefined(L)||L===null)&&s.append(d===!0?y1([A],N,o):d===null?A:A+"[]",h(L))}),!1}return Ef(j)?!0:(s.append(y1(w,A,o),h(j)),!1)}const f=[],b=Object.assign(Dk,{defaultVisitor:p,convertValue:h,isVisitable:Ef});function g(j,A){if(!Pe.isUndefined(j)){if(f.indexOf(j)!==-1)throw Error("Circular reference detected in "+A.join("."));f.push(j),Pe.forEach(j,function(k,C){(!(Pe.isUndefined(k)||k===null)&&i.call(s,k,Pe.isString(C)?C.trim():C,A,b))===!0&&g(k,A?A.concat(C):[C])}),f.pop()}}if(!Pe.isObject(t))throw new TypeError("data must be an object");return g(t),s}function j1(t){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(l){return s[l]})}function mg(t,s){this._pairs=[],t&&cm(t,this,s)}const Ej=mg.prototype;Ej.append=function(s,a){this._pairs.push([s,a])};Ej.toString=function(s){const a=s?function(l){return s.call(this,l,j1)}:j1;return this._pairs.map(function(i){return a(i[0])+"="+a(i[1])},"").join("&")};function Mk(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Tj(t,s,a){if(!s)return t;const l=a&&a.encode||Mk,i=Pe.isFunction(a)?{serialize:a}:a,o=i&&i.serialize;let d;if(o?d=o(s,i):d=Pe.isURLSearchParams(s)?s.toString():new mg(s,i).toString(l),d){const x=t.indexOf("#");x!==-1&&(t=t.slice(0,x)),t+=(t.indexOf("?")===-1?"?":"&")+d}return t}class w1{constructor(){this.handlers=[]}use(s,a,l){return this.handlers.push({fulfilled:s,rejected:a,synchronous:l?l.synchronous:!1,runWhen:l?l.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){Pe.forEach(this.handlers,function(l){l!==null&&s(l)})}}const pg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1,legacyInterceptorReqResOrdering:!0},Lk=typeof URLSearchParams<"u"?URLSearchParams:mg,zk=typeof FormData<"u"?FormData:null,Ek=typeof Blob<"u"?Blob:null,Tk={isBrowser:!0,classes:{URLSearchParams:Lk,FormData:zk,Blob:Ek},protocols:["http","https","file","blob","url","data"]},fg=typeof window<"u"&&typeof document<"u",Tf=typeof navigator=="object"&&navigator||void 0,_k=fg&&(!Tf||["ReactNative","NativeScript","NS"].indexOf(Tf.product)<0),Pk=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Rk=fg&&window.location.href||"http://localhost",Ok=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:fg,hasStandardBrowserEnv:_k,hasStandardBrowserWebWorkerEnv:Pk,navigator:Tf,origin:Rk},Symbol.toStringTag,{value:"Module"})),ll={...Ok,...Tk};function Fk(t,s){return cm(t,new ll.classes.URLSearchParams,{visitor:function(a,l,i,o){return ll.isNode&&Pe.isBuffer(a)?(this.append(l,a.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...s})}function Ik(t){return Pe.matchAll(/\w+|\[(\w*)]/g,t).map(s=>s[0]==="[]"?"":s[1]||s[0])}function Bk(t){const s={},a=Object.keys(t);let l;const i=a.length;let o;for(l=0;l<i;l++)o=a[l],s[o]=t[o];return s}function _j(t){function s(a,l,i,o){let d=a[o++];if(d==="__proto__")return!0;const x=Number.isFinite(+d),u=o>=a.length;return d=!d&&Pe.isArray(i)?i.length:d,u?(Pe.hasOwnProp(i,d)?i[d]=[i[d],l]:i[d]=l,!x):((!i[d]||!Pe.isObject(i[d]))&&(i[d]=[]),s(a,l,i[d],o)&&Pe.isArray(i[d])&&(i[d]=Bk(i[d])),!x)}if(Pe.isFormData(t)&&Pe.isFunction(t.entries)){const a={};return Pe.forEachEntry(t,(l,i)=>{s(Ik(l),i,a,0)}),a}return null}function Uk(t,s,a){if(Pe.isString(t))try{return(s||JSON.parse)(t),Pe.trim(t)}catch(l){if(l.name!=="SyntaxError")throw l}return(a||JSON.stringify)(t)}const iu={transitional:pg,adapter:["xhr","http","fetch"],transformRequest:[function(s,a){const l=a.getContentType()||"",i=l.indexOf("application/json")>-1,o=Pe.isObject(s);if(o&&Pe.isHTMLForm(s)&&(s=new FormData(s)),Pe.isFormData(s))return i?JSON.stringify(_j(s)):s;if(Pe.isArrayBuffer(s)||Pe.isBuffer(s)||Pe.isStream(s)||Pe.isFile(s)||Pe.isBlob(s)||Pe.isReadableStream(s))return s;if(Pe.isArrayBufferView(s))return s.buffer;if(Pe.isURLSearchParams(s))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let x;if(o){if(l.indexOf("application/x-www-form-urlencoded")>-1)return Fk(s,this.formSerializer).toString();if((x=Pe.isFileList(s))||l.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return cm(x?{"files[]":s}:s,u&&new u,this.formSerializer)}}return o||i?(a.setContentType("application/json",!1),Uk(s)):s}],transformResponse:[function(s){const a=this.transitional||iu.transitional,l=a&&a.forcedJSONParsing,i=this.responseType==="json";if(Pe.isResponse(s)||Pe.isReadableStream(s))return s;if(s&&Pe.isString(s)&&(l&&!this.responseType||i)){const d=!(a&&a.silentJSONParsing)&&i;try{return JSON.parse(s,this.parseReviver)}catch(x){if(d)throw x.name==="SyntaxError"?Gt.from(x,Gt.ERR_BAD_RESPONSE,this,null,this.response):x}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ll.classes.FormData,Blob:ll.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Pe.forEach(["delete","get","head","post","put","patch"],t=>{iu.headers[t]={}});const $k=Pe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),qk=t=>{const s={};let a,l,i;return t&&t.split(`
`).forEach(function(d){i=d.indexOf(":"),a=d.substring(0,i).trim().toLowerCase(),l=d.substring(i+1).trim(),!(!a||s[a]&&$k[a])&&(a==="set-cookie"?s[a]?s[a].push(l):s[a]=[l]:s[a]=s[a]?s[a]+", "+l:l)}),s},N1=Symbol("internals");function Ix(t){return t&&String(t).trim().toLowerCase()}function Ch(t){return t===!1||t==null?t:Pe.isArray(t)?t.map(Ch):String(t)}function Hk(t){const s=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let l;for(;l=a.exec(t);)s[l[1]]=l[2];return s}const Wk=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Op(t,s,a,l,i){if(Pe.isFunction(l))return l.call(this,s,a);if(i&&(s=a),!!Pe.isString(s)){if(Pe.isString(l))return s.indexOf(l)!==-1;if(Pe.isRegExp(l))return l.test(s)}}function Gk(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,a,l)=>a.toUpperCase()+l)}function Vk(t,s){const a=Pe.toCamelCase(" "+s);["get","set","has"].forEach(l=>{Object.defineProperty(t,l+a,{value:function(i,o,d){return this[l].call(this,s,i,o,d)},configurable:!0})})}let Vl=class{constructor(s){s&&this.set(s)}set(s,a,l){const i=this;function o(x,u,h){const p=Ix(u);if(!p)throw new Error("header name must be a non-empty string");const f=Pe.findKey(i,p);(!f||i[f]===void 0||h===!0||h===void 0&&i[f]!==!1)&&(i[f||u]=Ch(x))}const d=(x,u)=>Pe.forEach(x,(h,p)=>o(h,p,u));if(Pe.isPlainObject(s)||s instanceof this.constructor)d(s,a);else if(Pe.isString(s)&&(s=s.trim())&&!Wk(s))d(qk(s),a);else if(Pe.isObject(s)&&Pe.isIterable(s)){let x={},u,h;for(const p of s){if(!Pe.isArray(p))throw TypeError("Object iterator must return a key-value pair");x[h=p[0]]=(u=x[h])?Pe.isArray(u)?[...u,p[1]]:[u,p[1]]:p[1]}d(x,a)}else s!=null&&o(a,s,l);return this}get(s,a){if(s=Ix(s),s){const l=Pe.findKey(this,s);if(l){const i=this[l];if(!a)return i;if(a===!0)return Hk(i);if(Pe.isFunction(a))return a.call(this,i,l);if(Pe.isRegExp(a))return a.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,a){if(s=Ix(s),s){const l=Pe.findKey(this,s);return!!(l&&this[l]!==void 0&&(!a||Op(this,this[l],l,a)))}return!1}delete(s,a){const l=this;let i=!1;function o(d){if(d=Ix(d),d){const x=Pe.findKey(l,d);x&&(!a||Op(l,l[x],x,a))&&(delete l[x],i=!0)}}return Pe.isArray(s)?s.forEach(o):o(s),i}clear(s){const a=Object.keys(this);let l=a.length,i=!1;for(;l--;){const o=a[l];(!s||Op(this,this[o],o,s,!0))&&(delete this[o],i=!0)}return i}normalize(s){const a=this,l={};return Pe.forEach(this,(i,o)=>{const d=Pe.findKey(l,o);if(d){a[d]=Ch(i),delete a[o];return}const x=s?Gk(o):String(o).trim();x!==o&&delete a[o],a[x]=Ch(i),l[x]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const a=Object.create(null);return Pe.forEach(this,(l,i)=>{l!=null&&l!==!1&&(a[i]=s&&Pe.isArray(l)?l.join(", "):l)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,a])=>s+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...a){const l=new this(s);return a.forEach(i=>l.set(i)),l}static accessor(s){const l=(this[N1]=this[N1]={accessors:{}}).accessors,i=this.prototype;function o(d){const x=Ix(d);l[x]||(Vk(i,d),l[x]=!0)}return Pe.isArray(s)?s.forEach(o):o(s),this}};Vl.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Pe.reduceDescriptors(Vl.prototype,({value:t},s)=>{let a=s[0].toUpperCase()+s.slice(1);return{get:()=>t,set(l){this[a]=l}}});Pe.freezeMethods(Vl);function Fp(t,s){const a=this||iu,l=s||a,i=Vl.from(l.headers);let o=l.data;return Pe.forEach(t,function(x){o=x.call(a,o,i.normalize(),s?s.status:void 0)}),i.normalize(),o}function Pj(t){return!!(t&&t.__CANCEL__)}let ou=class extends Gt{constructor(s,a,l){super(s??"canceled",Gt.ERR_CANCELED,a,l),this.name="CanceledError",this.__CANCEL__=!0}};function Rj(t,s,a){const l=a.config.validateStatus;!a.status||!l||l(a.status)?t(a):s(new Gt("Request failed with status code "+a.status,[Gt.ERR_BAD_REQUEST,Gt.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function Yk(t){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return s&&s[1]||""}function Xk(t,s){t=t||10;const a=new Array(t),l=new Array(t);let i=0,o=0,d;return s=s!==void 0?s:1e3,function(u){const h=Date.now(),p=l[o];d||(d=h),a[i]=u,l[i]=h;let f=o,b=0;for(;f!==i;)b+=a[f++],f=f%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),h-d<s)return;const g=p&&h-p;return g?Math.round(b*1e3/g):void 0}}function Kk(t,s){let a=0,l=1e3/s,i,o;const d=(h,p=Date.now())=>{a=p,i=null,o&&(clearTimeout(o),o=null),t(...h)};return[(...h)=>{const p=Date.now(),f=p-a;f>=l?d(h,p):(i=h,o||(o=setTimeout(()=>{o=null,d(i)},l-f)))},()=>i&&d(i)]}const $h=(t,s,a=3)=>{let l=0;const i=Xk(50,250);return Kk(o=>{const d=o.loaded,x=o.lengthComputable?o.total:void 0,u=d-l,h=i(u),p=d<=x;l=d;const f={loaded:d,total:x,progress:x?d/x:void 0,bytes:u,rate:h||void 0,estimated:h&&x&&p?(x-d)/h:void 0,event:o,lengthComputable:x!=null,[s?"download":"upload"]:!0};t(f)},a)},k1=(t,s)=>{const a=t!=null;return[l=>s[0]({lengthComputable:a,total:t,loaded:l}),s[1]]},S1=t=>(...s)=>Pe.asap(()=>t(...s)),Jk=ll.hasStandardBrowserEnv?((t,s)=>a=>(a=new URL(a,ll.origin),t.protocol===a.protocol&&t.host===a.host&&(s||t.port===a.port)))(new URL(ll.origin),ll.navigator&&/(msie|trident)/i.test(ll.navigator.userAgent)):()=>!0,Qk=ll.hasStandardBrowserEnv?{write(t,s,a,l,i,o,d){if(typeof document>"u")return;const x=[`${t}=${encodeURIComponent(s)}`];Pe.isNumber(a)&&x.push(`expires=${new Date(a).toUTCString()}`),Pe.isString(l)&&x.push(`path=${l}`),Pe.isString(i)&&x.push(`domain=${i}`),o===!0&&x.push("secure"),Pe.isString(d)&&x.push(`SameSite=${d}`),document.cookie=x.join("; ")},read(t){if(typeof document>"u")return null;const s=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return s?decodeURIComponent(s[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Zk(t){return typeof t!="string"?!1:/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function eS(t,s){return s?t.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):t}function Oj(t,s,a){let l=!Zk(s);return t&&(l||a==!1)?eS(t,s):s}const C1=t=>t instanceof Vl?{...t}:t;function Ad(t,s){s=s||{};const a={};function l(h,p,f,b){return Pe.isPlainObject(h)&&Pe.isPlainObject(p)?Pe.merge.call({caseless:b},h,p):Pe.isPlainObject(p)?Pe.merge({},p):Pe.isArray(p)?p.slice():p}function i(h,p,f,b){if(Pe.isUndefined(p)){if(!Pe.isUndefined(h))return l(void 0,h,f,b)}else return l(h,p,f,b)}function o(h,p){if(!Pe.isUndefined(p))return l(void 0,p)}function d(h,p){if(Pe.isUndefined(p)){if(!Pe.isUndefined(h))return l(void 0,h)}else return l(void 0,p)}function x(h,p,f){if(f in s)return l(h,p);if(f in t)return l(void 0,h)}const u={url:o,method:o,data:o,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:x,headers:(h,p,f)=>i(C1(h),C1(p),f,!0)};return Pe.forEach(Object.keys({...t,...s}),function(p){if(p==="__proto__"||p==="constructor"||p==="prototype")return;const f=Pe.hasOwnProp(u,p)?u[p]:i,b=f(t[p],s[p],p);Pe.isUndefined(b)&&f!==x||(a[p]=b)}),a}const Fj=t=>{const s=Ad({},t);let{data:a,withXSRFToken:l,xsrfHeaderName:i,xsrfCookieName:o,headers:d,auth:x}=s;if(s.headers=d=Vl.from(d),s.url=Tj(Oj(s.baseURL,s.url,s.allowAbsoluteUrls),t.params,t.paramsSerializer),x&&d.set("Authorization","Basic "+btoa((x.username||"")+":"+(x.password?unescape(encodeURIComponent(x.password)):""))),Pe.isFormData(a)){if(ll.hasStandardBrowserEnv||ll.hasStandardBrowserWebWorkerEnv)d.setContentType(void 0);else if(Pe.isFunction(a.getHeaders)){const u=a.getHeaders(),h=["content-type","content-length"];Object.entries(u).forEach(([p,f])=>{h.includes(p.toLowerCase())&&d.set(p,f)})}}if(ll.hasStandardBrowserEnv&&(l&&Pe.isFunction(l)&&(l=l(s)),l||l!==!1&&Jk(s.url))){const u=i&&o&&Qk.read(o);u&&d.set(i,u)}return s},tS=typeof XMLHttpRequest<"u",sS=tS&&function(t){return new Promise(function(a,l){const i=Fj(t);let o=i.data;const d=Vl.from(i.headers).normalize();let{responseType:x,onUploadProgress:u,onDownloadProgress:h}=i,p,f,b,g,j;function A(){g&&g(),j&&j(),i.cancelToken&&i.cancelToken.unsubscribe(p),i.signal&&i.signal.removeEventListener("abort",p)}let w=new XMLHttpRequest;w.open(i.method.toUpperCase(),i.url,!0),w.timeout=i.timeout;function k(){if(!w)return;const L=Vl.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),P={data:!x||x==="text"||x==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:L,config:t,request:w};Rj(function(F){a(F),A()},function(F){l(F),A()},P),w=null}"onloadend"in w?w.onloadend=k:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(k)},w.onabort=function(){w&&(l(new Gt("Request aborted",Gt.ECONNABORTED,t,w)),w=null)},w.onerror=function(N){const P=N&&N.message?N.message:"Network Error",_=new Gt(P,Gt.ERR_NETWORK,t,w);_.event=N||null,l(_),w=null},w.ontimeout=function(){let N=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const P=i.transitional||pg;i.timeoutErrorMessage&&(N=i.timeoutErrorMessage),l(new Gt(N,P.clarifyTimeoutError?Gt.ETIMEDOUT:Gt.ECONNABORTED,t,w)),w=null},o===void 0&&d.setContentType(null),"setRequestHeader"in w&&Pe.forEach(d.toJSON(),function(N,P){w.setRequestHeader(P,N)}),Pe.isUndefined(i.withCredentials)||(w.withCredentials=!!i.withCredentials),x&&x!=="json"&&(w.responseType=i.responseType),h&&([b,j]=$h(h,!0),w.addEventListener("progress",b)),u&&w.upload&&([f,g]=$h(u),w.upload.addEventListener("progress",f),w.upload.addEventListener("loadend",g)),(i.cancelToken||i.signal)&&(p=L=>{w&&(l(!L||L.type?new ou(null,t,w):L),w.abort(),w=null)},i.cancelToken&&i.cancelToken.subscribe(p),i.signal&&(i.signal.aborted?p():i.signal.addEventListener("abort",p)));const C=Yk(i.url);if(C&&ll.protocols.indexOf(C)===-1){l(new Gt("Unsupported protocol "+C+":",Gt.ERR_BAD_REQUEST,t));return}w.send(o||null)})},aS=(t,s)=>{const{length:a}=t=t?t.filter(Boolean):[];if(s||a){let l=new AbortController,i;const o=function(h){if(!i){i=!0,x();const p=h instanceof Error?h:this.reason;l.abort(p instanceof Gt?p:new ou(p instanceof Error?p.message:p))}};let d=s&&setTimeout(()=>{d=null,o(new Gt(`timeout of ${s}ms exceeded`,Gt.ETIMEDOUT))},s);const x=()=>{t&&(d&&clearTimeout(d),d=null,t.forEach(h=>{h.unsubscribe?h.unsubscribe(o):h.removeEventListener("abort",o)}),t=null)};t.forEach(h=>h.addEventListener("abort",o));const{signal:u}=l;return u.unsubscribe=()=>Pe.asap(x),u}},rS=function*(t,s){let a=t.byteLength;if(a<s){yield t;return}let l=0,i;for(;l<a;)i=l+s,yield t.slice(l,i),l=i},lS=async function*(t,s){for await(const a of nS(t))yield*rS(a,s)},nS=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const s=t.getReader();try{for(;;){const{done:a,value:l}=await s.read();if(a)break;yield l}}finally{await s.cancel()}},A1=(t,s,a,l)=>{const i=lS(t,s);let o=0,d,x=u=>{d||(d=!0,l&&l(u))};return new ReadableStream({async pull(u){try{const{done:h,value:p}=await i.next();if(h){x(),u.close();return}let f=p.byteLength;if(a){let b=o+=f;a(b)}u.enqueue(new Uint8Array(p))}catch(h){throw x(h),h}},cancel(u){return x(u),i.return()}},{highWaterMark:2})},D1=64*1024,{isFunction:oh}=Pe,iS=(({Request:t,Response:s})=>({Request:t,Response:s}))(Pe.global),{ReadableStream:M1,TextEncoder:L1}=Pe.global,z1=(t,...s)=>{try{return!!t(...s)}catch{return!1}},oS=t=>{t=Pe.merge.call({skipUndefined:!0},iS,t);const{fetch:s,Request:a,Response:l}=t,i=s?oh(s):typeof fetch=="function",o=oh(a),d=oh(l);if(!i)return!1;const x=i&&oh(M1),u=i&&(typeof L1=="function"?(j=>A=>j.encode(A))(new L1):async j=>new Uint8Array(await new a(j).arrayBuffer())),h=o&&x&&z1(()=>{let j=!1;const A=new a(ll.origin,{body:new M1,method:"POST",get duplex(){return j=!0,"half"}}).headers.has("Content-Type");return j&&!A}),p=d&&x&&z1(()=>Pe.isReadableStream(new l("").body)),f={stream:p&&(j=>j.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(j=>{!f[j]&&(f[j]=(A,w)=>{let k=A&&A[j];if(k)return k.call(A);throw new Gt(`Response type '${j}' is not supported`,Gt.ERR_NOT_SUPPORT,w)})});const b=async j=>{if(j==null)return 0;if(Pe.isBlob(j))return j.size;if(Pe.isSpecCompliantForm(j))return(await new a(ll.origin,{method:"POST",body:j}).arrayBuffer()).byteLength;if(Pe.isArrayBufferView(j)||Pe.isArrayBuffer(j))return j.byteLength;if(Pe.isURLSearchParams(j)&&(j=j+""),Pe.isString(j))return(await u(j)).byteLength},g=async(j,A)=>{const w=Pe.toFiniteNumber(j.getContentLength());return w??b(A)};return async j=>{let{url:A,method:w,data:k,signal:C,cancelToken:L,timeout:N,onDownloadProgress:P,onUploadProgress:_,responseType:F,headers:R,withCredentials:B="same-origin",fetchOptions:T}=Fj(j),q=s||fetch;F=F?(F+"").toLowerCase():"text";let H=aS([C,L&&L.toAbortSignal()],N),G=null;const W=H&&H.unsubscribe&&(()=>{H.unsubscribe()});let le;try{if(_&&h&&w!=="get"&&w!=="head"&&(le=await g(R,k))!==0){let Y=new a(A,{method:"POST",body:k,duplex:"half"}),$;if(Pe.isFormData(k)&&($=Y.headers.get("content-type"))&&R.setContentType($),Y.body){const[Q,ae]=k1(le,$h(S1(_)));k=A1(Y.body,D1,Q,ae)}}Pe.isString(B)||(B=B?"include":"omit");const V=o&&"credentials"in a.prototype,ne={...T,signal:H,method:w.toUpperCase(),headers:R.normalize().toJSON(),body:k,duplex:"half",credentials:V?B:void 0};G=o&&new a(A,ne);let I=await(o?q(G,T):q(A,ne));const oe=p&&(F==="stream"||F==="response");if(p&&(P||oe&&W)){const Y={};["status","statusText","headers"].forEach(ue=>{Y[ue]=I[ue]});const $=Pe.toFiniteNumber(I.headers.get("content-length")),[Q,ae]=P&&k1($,$h(S1(P),!0))||[];I=new l(A1(I.body,D1,Q,()=>{ae&&ae(),W&&W()}),Y)}F=F||"text";let Ne=await f[Pe.findKey(f,F)||"text"](I,j);return!oe&&W&&W(),await new Promise((Y,$)=>{Rj(Y,$,{data:Ne,headers:Vl.from(I.headers),status:I.status,statusText:I.statusText,config:j,request:G})})}catch(V){throw W&&W(),V&&V.name==="TypeError"&&/Load failed|fetch/i.test(V.message)?Object.assign(new Gt("Network Error",Gt.ERR_NETWORK,j,G,V&&V.response),{cause:V.cause||V}):Gt.from(V,V&&V.code,j,G,V&&V.response)}}},cS=new Map,Ij=t=>{let s=t&&t.env||{};const{fetch:a,Request:l,Response:i}=s,o=[l,i,a];let d=o.length,x=d,u,h,p=cS;for(;x--;)u=o[x],h=p.get(u),h===void 0&&p.set(u,h=x?new Map:oS(s)),p=h;return h};Ij();const gg={http:Ck,xhr:sS,fetch:{get:Ij}};Pe.forEach(gg,(t,s)=>{if(t){try{Object.defineProperty(t,"name",{value:s})}catch{}Object.defineProperty(t,"adapterName",{value:s})}});const E1=t=>`- ${t}`,dS=t=>Pe.isFunction(t)||t===null||t===!1;function xS(t,s){t=Pe.isArray(t)?t:[t];const{length:a}=t;let l,i;const o={};for(let d=0;d<a;d++){l=t[d];let x;if(i=l,!dS(l)&&(i=gg[(x=String(l)).toLowerCase()],i===void 0))throw new Gt(`Unknown adapter '${x}'`);if(i&&(Pe.isFunction(i)||(i=i.get(s))))break;o[x||"#"+d]=i}if(!i){const d=Object.entries(o).map(([u,h])=>`adapter ${u} `+(h===!1?"is not supported by the environment":"is not available in the build"));let x=a?d.length>1?`since :
`+d.map(E1).join(`
`):" "+E1(d[0]):"as no adapter specified";throw new Gt("There is no suitable adapter to dispatch the request "+x,"ERR_NOT_SUPPORT")}return i}const Bj={getAdapter:xS,adapters:gg};function Ip(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ou(null,t)}function T1(t){return Ip(t),t.headers=Vl.from(t.headers),t.data=Fp.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Bj.getAdapter(t.adapter||iu.adapter,t)(t).then(function(l){return Ip(t),l.data=Fp.call(t,t.transformResponse,l),l.headers=Vl.from(l.headers),l},function(l){return Pj(l)||(Ip(t),l&&l.response&&(l.response.data=Fp.call(t,t.transformResponse,l.response),l.response.headers=Vl.from(l.response.headers))),Promise.reject(l)})}const Uj="1.13.5",dm={};["object","boolean","number","function","string","symbol"].forEach((t,s)=>{dm[t]=function(l){return typeof l===t||"a"+(s<1?"n ":" ")+t}});const _1={};dm.transitional=function(s,a,l){function i(o,d){return"[Axios v"+Uj+"] Transitional option '"+o+"'"+d+(l?". "+l:"")}return(o,d,x)=>{if(s===!1)throw new Gt(i(d," has been removed"+(a?" in "+a:"")),Gt.ERR_DEPRECATED);return a&&!_1[d]&&(_1[d]=!0,console.warn(i(d," has been deprecated since v"+a+" and will be removed in the near future"))),s?s(o,d,x):!0}};dm.spelling=function(s){return(a,l)=>(console.warn(`${l} is likely a misspelling of ${s}`),!0)};function uS(t,s,a){if(typeof t!="object")throw new Gt("options must be an object",Gt.ERR_BAD_OPTION_VALUE);const l=Object.keys(t);let i=l.length;for(;i-- >0;){const o=l[i],d=s[o];if(d){const x=t[o],u=x===void 0||d(x,o,t);if(u!==!0)throw new Gt("option "+o+" must be "+u,Gt.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new Gt("Unknown option "+o,Gt.ERR_BAD_OPTION)}}const Ah={assertOptions:uS,validators:dm},Hn=Ah.validators;let kd=class{constructor(s){this.defaults=s||{},this.interceptors={request:new w1,response:new w1}}async request(s,a){try{return await this._request(s,a)}catch(l){if(l instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{l.stack?o&&!String(l.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(l.stack+=`
`+o):l.stack=o}catch{}}throw l}}_request(s,a){typeof s=="string"?(a=a||{},a.url=s):a=s||{},a=Ad(this.defaults,a);const{transitional:l,paramsSerializer:i,headers:o}=a;l!==void 0&&Ah.assertOptions(l,{silentJSONParsing:Hn.transitional(Hn.boolean),forcedJSONParsing:Hn.transitional(Hn.boolean),clarifyTimeoutError:Hn.transitional(Hn.boolean),legacyInterceptorReqResOrdering:Hn.transitional(Hn.boolean)},!1),i!=null&&(Pe.isFunction(i)?a.paramsSerializer={serialize:i}:Ah.assertOptions(i,{encode:Hn.function,serialize:Hn.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),Ah.assertOptions(a,{baseUrl:Hn.spelling("baseURL"),withXsrfToken:Hn.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let d=o&&Pe.merge(o.common,o[a.method]);o&&Pe.forEach(["delete","get","head","post","put","patch","common"],j=>{delete o[j]}),a.headers=Vl.concat(d,o);const x=[];let u=!0;this.interceptors.request.forEach(function(A){if(typeof A.runWhen=="function"&&A.runWhen(a)===!1)return;u=u&&A.synchronous;const w=a.transitional||pg;w&&w.legacyInterceptorReqResOrdering?x.unshift(A.fulfilled,A.rejected):x.push(A.fulfilled,A.rejected)});const h=[];this.interceptors.response.forEach(function(A){h.push(A.fulfilled,A.rejected)});let p,f=0,b;if(!u){const j=[T1.bind(this),void 0];for(j.unshift(...x),j.push(...h),b=j.length,p=Promise.resolve(a);f<b;)p=p.then(j[f++],j[f++]);return p}b=x.length;let g=a;for(;f<b;){const j=x[f++],A=x[f++];try{g=j(g)}catch(w){A.call(this,w);break}}try{p=T1.call(this,g)}catch(j){return Promise.reject(j)}for(f=0,b=h.length;f<b;)p=p.then(h[f++],h[f++]);return p}getUri(s){s=Ad(this.defaults,s);const a=Oj(s.baseURL,s.url,s.allowAbsoluteUrls);return Tj(a,s.params,s.paramsSerializer)}};Pe.forEach(["delete","get","head","options"],function(s){kd.prototype[s]=function(a,l){return this.request(Ad(l||{},{method:s,url:a,data:(l||{}).data}))}});Pe.forEach(["post","put","patch"],function(s){function a(l){return function(o,d,x){return this.request(Ad(x||{},{method:s,headers:l?{"Content-Type":"multipart/form-data"}:{},url:o,data:d}))}}kd.prototype[s]=a(),kd.prototype[s+"Form"]=a(!0)});let hS=class $j{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(o){a=o});const l=this;this.promise.then(i=>{if(!l._listeners)return;let o=l._listeners.length;for(;o-- >0;)l._listeners[o](i);l._listeners=null}),this.promise.then=i=>{let o;const d=new Promise(x=>{l.subscribe(x),o=x}).then(i);return d.cancel=function(){l.unsubscribe(o)},d},s(function(o,d,x){l.reason||(l.reason=new ou(o,d,x),a(l.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const a=this._listeners.indexOf(s);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const s=new AbortController,a=l=>{s.abort(l)};return this.subscribe(a),s.signal.unsubscribe=()=>this.unsubscribe(a),s.signal}static source(){let s;return{token:new $j(function(i){s=i}),cancel:s}}};function mS(t){return function(a){return t.apply(null,a)}}function pS(t){return Pe.isObject(t)&&t.isAxiosError===!0}const _f={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(_f).forEach(([t,s])=>{_f[s]=t});function qj(t){const s=new kd(t),a=wj(kd.prototype.request,s);return Pe.extend(a,kd.prototype,s,{allOwnKeys:!0}),Pe.extend(a,s,null,{allOwnKeys:!0}),a.create=function(i){return qj(Ad(t,i))},a}const ar=qj(iu);ar.Axios=kd;ar.CanceledError=ou;ar.CancelToken=hS;ar.isCancel=Pj;ar.VERSION=Uj;ar.toFormData=cm;ar.AxiosError=Gt;ar.Cancel=ar.CanceledError;ar.all=function(s){return Promise.all(s)};ar.spread=mS;ar.isAxiosError=pS;ar.mergeConfig=Ad;ar.AxiosHeaders=Vl;ar.formToJSON=t=>_j(Pe.isHTMLForm(t)?new FormData(t):t);ar.getAdapter=Bj.getAdapter;ar.HttpStatusCode=_f;ar.default=ar;const{Axios:SP,AxiosError:CP,CanceledError:AP,isCancel:DP,CancelToken:MP,VERSION:LP,all:zP,Cancel:EP,isAxiosError:TP,spread:_P,toFormData:PP,AxiosHeaders:RP,HttpStatusCode:OP,formToJSON:FP,getAdapter:IP,mergeConfig:BP}=ar,fS="https://gym-saif-production.up.railway.app/api/v1",ye=ar.create({baseURL:fS,withCredentials:!0});ye.interceptors.response.use(t=>t,t=>(t.response?.status===401&&(console.warn("Unauthorized access detected. Redirecting to login..."),localStorage.removeItem("userRole"),localStorage.removeItem("userData"),window.location.pathname!=="/login"&&(window.location.href="/login")),Promise.reject(t)));const Hj=ye,gS=async(t,s,a)=>{try{return(await Hj.post("/auth/login",{email:t,password:s,role:a})).data}catch(l){throw l.response?.data?.message||"Login failed"}},bS=async()=>{try{return(await Hj.post("/auth/logout")).data}catch(t){console.error("Logout failed:",t)}},Wj=v.createContext(),vS=({children:t})=>{const[s,a]=v.useState(()=>{const h=localStorage.getItem("userData");return h?JSON.parse(h):null}),[l,i]=v.useState(()=>localStorage.getItem("userRole")),[o,d]=v.useState(!1),x=h=>{a(h),i(h.role),localStorage.setItem("userRole",h.role),localStorage.setItem("userData",JSON.stringify(h))},u=async()=>{d(!0);try{await bS()}catch(h){console.error("Logout API failed:",h)}finally{a(null),i(null),localStorage.removeItem("userRole"),localStorage.removeItem("userData"),d(!1),window.location.href="/login"}};return e.jsx(Wj.Provider,{value:{user:s,role:l,loading:o,login:x,logout:u},children:t})},Wo=()=>{const t=v.useContext(Wj);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t};const Gj=(...t)=>t.filter((s,a,l)=>!!s&&s.trim()!==""&&l.indexOf(s)===a).join(" ").trim();const yS=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const jS=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(s,a,l)=>l?l.toUpperCase():a.toLowerCase());const P1=t=>{const s=jS(t);return s.charAt(0).toUpperCase()+s.slice(1)};var wS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const NS=t=>{for(const s in t)if(s.startsWith("aria-")||s==="role"||s==="title")return!0;return!1};const kS=v.forwardRef(({color:t="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:i="",children:o,iconNode:d,...x},u)=>v.createElement("svg",{ref:u,...wS,width:s,height:s,stroke:t,strokeWidth:l?Number(a)*24/Number(s):a,className:Gj("lucide",i),...!o&&!NS(x)&&{"aria-hidden":"true"},...x},[...d.map(([h,p])=>v.createElement(h,p)),...Array.isArray(o)?o:[o]]));const Ee=(t,s)=>{const a=v.forwardRef(({className:l,...i},o)=>v.createElement(kS,{ref:o,iconNode:s,className:Gj(`lucide-${yS(P1(t))}`,`lucide-${t}`,l),...i}));return a.displayName=P1(t),a};const SS=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],$t=Ee("activity",SS);const CS=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Vj=Ee("archive",CS);const AS=[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]],O0=Ee("arrow-down-left",AS);const DS=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],Yj=Ee("arrow-down-right",DS);const MS=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],kn=Ee("arrow-left",MS);const LS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],jl=Ee("arrow-right",LS);const zS=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],il=Ee("arrow-up-right",zS);const ES=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],bg=Ee("award",ES);const TS=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Xj=Ee("ban",TS);const _S=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],xa=Ee("banknote",_S);const PS=[["path",{d:"M10 4 8 6",key:"1rru8s"}],["path",{d:"M17 19v2",key:"ts1sot"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"M7 19v2",key:"12npes"}],["path",{d:"M9 5 7.621 3.621A2.121 2.121 0 0 0 4 5v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5",key:"14ym8i"}]],Kj=Ee("bath",PS);const RS=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]],OS=Ee("bell-ring",RS);const FS=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],wl=Ee("bell",FS);const IS=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],J0=Ee("box",IS);const BS=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],W0=Ee("briefcase",BS);const US=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],Tc=Ee("building-2",US);const $S=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],Lr=Ee("building",$S);const qS=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],HS=Ee("calculator",qS);const WS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],Jj=Ee("calendar-days",WS);const GS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ve=Ee("calendar",GS);const VS=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],qo=Ee("camera",VS);const YS=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],Qj=Ee("car",YS);const XS=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Kx=Ee("chart-column",XS);const KS=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V9",key:"uvy0l4"}],["path",{d:"M19 21V3",key:"11j9sm"}]],R1=Ee("chart-no-axes-column-increasing",KS);const JS=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],vg=Ee("chart-pie",JS);const QS=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],Zj=Ee("check-check",QS);const ZS=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],xr=Ee("check",ZS);const e8=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Nl=Ee("chevron-down",e8);const t8=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Gr=Ee("chevron-left",t8);const s8=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],js=Ee("chevron-right",s8);const a8=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],ew=Ee("chevron-up",a8);const r8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],hs=Ee("circle-alert",r8);const l8=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Qt=Ee("circle-check-big",l8);const n8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Xt=Ee("circle-check",n8);const i8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]],qh=Ee("circle-pause",i8);const o8=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],c8=Ee("circle-play",o8);const d8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Yl=Ee("circle-x",d8);const x8=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],al=Ee("clipboard-list",x8);const u8=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Qe=Ee("clock",u8);const h8=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],yg=Ee("coffee",h8);const m8=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Pf=Ee("copy",m8);const p8=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Ps=Ee("credit-card",p8);const f8=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],g8=Ee("crown",f8);const b8=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Vn=Ee("dollar-sign",b8);const v8=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Qs=Ee("download",v8);const y8=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],tw=Ee("droplets",y8);const j8=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],Er=Ee("dumbbell",j8);const w8=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],_c=Ee("ellipsis-vertical",w8);const N8=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],k8=Ee("ellipsis",N8);const S8=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],sw=Ee("external-link",S8);const C8=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Dh=Ee("eye-off",C8);const A8=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],qs=Ee("eye",A8);const D8=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],M8=Ee("file-plus",D8);const L8=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Va=Ee("file-text",L8);const z8=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],jg=Ee("flame",z8);const E8=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],ks=Ee("funnel",E8);const T8=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],Dd=Ee("gift",T8);const _8=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],Hx=Ee("git-branch",_8);const P8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Hh=Ee("globe",P8);const R8=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Wh=Ee("hash",R8);const O8=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],yl=Ee("history",O8);const F8=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],I8=Ee("hourglass",F8);const B8=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],aw=Ee("house",B8);const U8=[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]],$8=Ee("image-plus",U8);const q8=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],H8=Ee("image",q8);const W8=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],Xl=Ee("indian-rupee",W8);const G8=[["path",{d:"M6 16c5 0 7-8 12-8a4 4 0 0 1 0 8c-5 0-7-8-12-8a4 4 0 1 0 0 8",key:"18ogeb"}]],cu=Ee("infinity",G8);const V8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Yn=Ee("info",V8);const Y8=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],rw=Ee("key",Y8);const X8=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Sd=Ee("layers",X8);const K8=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],vd=Ee("layout-dashboard",K8);const J8=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],lw=Ee("layout-grid",J8);const Q8=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],Z8=Ee("link-2",Q8);const eC=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],tC=Ee("list",eC);const sC=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Sl=Ee("loader-circle",sC);const aC=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Q0=Ee("loader",aC);const rC=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],lC=Ee("lock-open",rC);const nC=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Rs=Ee("lock",nC);const iC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],vn=Ee("log-out",iC);const oC=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Wr=Ee("mail",oC);const cC=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],$s=Ee("map-pin",cC);const dC=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],yn=Ee("megaphone",dC);const xC=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],uC=Ee("menu",xC);const hC=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Gh=Ee("message-circle",hC);const mC=[["path",{d:"M12 3H4a2 2 0 0 0-2 2v16.286a.71.71 0 0 0 1.212.502l2.202-2.202A2 2 0 0 1 6.828 19H20a2 2 0 0 0 2-2v-4",key:"11da1y"}],["path",{d:"M16 3h6v6",key:"1bx56c"}],["path",{d:"m16 9 6-6",key:"m4dnic"}]],pC=Ee("message-square-share",mC);const fC=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],sr=Ee("message-square",fC);const gC=[["path",{d:"M5 12h14",key:"1ays0h"}]],bC=Ee("minus",gC);const vC=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],nw=Ee("monitor",vC);const yC=[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]],O1=Ee("mouse-pointer-2",yC);const jC=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],wg=Ee("music",jC);const wC=[["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"M2.586 16.726A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2h6.624a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586z",key:"2d38gg"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],F1=Ee("octagon-x",wC);const NC=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],ol=Ee("package",NC);const kC=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],iw=Ee("paperclip",kC);const SC=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],Rf=Ee("panels-top-left",SC);const CC=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],AC=Ee("pause",CC);const DC=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Pa=Ee("pen",DC);const MC=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],Pc=Ee("percent",MC);const LC=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Hs=Ee("phone",LC);const zC=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],ow=Ee("play",zC);const EC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],wt=Ee("plus",EC);const TC=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],I1=Ee("power",TC);const _C=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],PC=Ee("printer",_C);const RC=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],cw=Ee("qr-code",RC);const OC=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],Ga=Ee("receipt",OC);const FC=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],dw=Ee("refresh-ccw",FC);const IC=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Hr=Ee("refresh-cw",IC);const BC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],UC=Ee("rotate-ccw",BC);const $C=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],na=Ee("save",$C);const qC=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],xw=Ee("scale",qC);const HC=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]],WC=Ee("scan-line",HC);const GC=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],tt=Ee("search",GC);const VC=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Fc=Ee("send",VC);const YC=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],Of=Ee("server",YC);const XC=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],uw=Ee("settings-2",XC);const KC=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Vh=Ee("settings",KC);const JC=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],QC=Ee("share-2",JC);const ZC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],Mh=Ee("shield-alert",ZC);const eA=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Xn=Ee("shield-check",eA);const tA=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ca=Ee("shield",tA);const sA=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],zc=Ee("shopping-bag",sA);const aA=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Ec=Ee("shopping-cart",aA);const rA=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],Jl=Ee("smartphone",rA);const lA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],nA=Ee("smile",lA);const iA=[["path",{d:"m10 20-1.25-2.5L6 18",key:"18frcb"}],["path",{d:"M10 4 8.75 6.5 6 6",key:"7mghy3"}],["path",{d:"m14 20 1.25-2.5L18 18",key:"1chtki"}],["path",{d:"m14 4 1.25 2.5L18 6",key:"1b4wsy"}],["path",{d:"m17 21-3-6h-4",key:"15hhxa"}],["path",{d:"m17 3-3 6 1.5 3",key:"11697g"}],["path",{d:"M2 12h6.5L10 9",key:"kv9z4n"}],["path",{d:"m20 10-1.5 2 1.5 2",key:"1swlpi"}],["path",{d:"M22 12h-6.5L14 15",key:"1mxi28"}],["path",{d:"m4 10 1.5 2L4 14",key:"k9enpj"}],["path",{d:"m7 21 3-6-1.5-3",key:"j8hb9u"}],["path",{d:"m7 3 3 6h4",key:"1otusx"}]],B1=Ee("snowflake",iA);const oA=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],nl=Ee("sparkles",oA);const cA=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Md=Ee("square-pen",cA);const dA=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Wl=Ee("star",dA);const xA=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],uA=Ee("store",xA);const hA=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Bo=Ee("tag",hA);const mA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],wn=Ee("target",mA);const pA=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],Jx=Ee("terminal",pA);const fA=[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]],gA=Ee("thermometer",fA);const bA=[["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}],["path",{d:"M7 10v12",key:"1qc93n"}]],Ff=Ee("thumbs-up",bA);const vA=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],yA=Ee("ticket",vA);const jA=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],wA=Ee("timer",jA);const NA=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ms=Ee("trash-2",NA);const kA=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],F0=Ee("trending-down",kA);const SA=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Js=Ee("trending-up",SA);const CA=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],zr=Ee("triangle-alert",CA);const AA=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Ng=Ee("trophy",AA);const DA=[["path",{d:"m17 2-5 5-5-5",key:"16satq"}],["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",key:"1e6viu"}]],hw=Ee("tv",DA);const MA=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],If=Ee("upload",MA);const LA=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],kl=Ee("user-check",LA);const zA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Bf=Ee("user-minus",zA);const EA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],rl=Ee("user-plus",EA);const TA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],U1=Ee("user-x",TA);const _A=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],lt=Ee("user",_A);const PA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],_t=Ee("users",PA);const RA=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],wd=Ee("utensils",RA);const OA=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],FA=Ee("video",OA);const IA=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Lh=Ee("wallet",IA);const BA=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],mw=Ee("waves",BA);const UA=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],$A=Ee("wifi-off",UA);const qA=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],xm=Ee("wifi",qA);const HA=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],pw=Ee("wind",HA);const WA=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],Kl=Ee("wrench",WA);const GA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Vr=Ee("x",GA);const VA=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ua=Ee("zap",VA),ct={SUPER_ADMIN:"SUPER_ADMIN",BRANCH_ADMIN:"BRANCH_ADMIN",MANAGER:"MANAGER",STAFF:"STAFF",TRAINER:"TRAINER",MEMBER:"MEMBER"},us=({options:t,value:s,onChange:a,icon:l,placeholder:i,className:o})=>{const[d,x]=v.useState(!1),[u,h]=v.useState({top:0,left:0,width:0}),p=v.useRef(null),f=v.useRef(null);v.useEffect(()=>{if(d&&p.current){const k=p.current.getBoundingClientRect();h({top:k.bottom+window.scrollY+8,left:k.left+window.scrollX,width:k.width})}},[d]),v.useEffect(()=>{const k=C=>{p.current&&!p.current.contains(C.target)&&f.current&&!f.current.contains(C.target)&&x(!1)};return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[]),v.useEffect(()=>{if(!d)return;const k=()=>{if(p.current){const C=p.current.getBoundingClientRect();h({top:C.bottom+window.scrollY+8,left:C.left+window.scrollX,width:C.width})}};return window.addEventListener("scroll",k,!0),window.addEventListener("resize",k),()=>{window.removeEventListener("scroll",k,!0),window.removeEventListener("resize",k)}},[d]);const b=k=>typeof k=="string"?k:typeof k=="object"&&k!==null?k.label||k.value||"":String(k||""),g=k=>typeof k=="string"?k:typeof k=="object"&&k!==null?k.value!==void 0?k.value:k.label:String(k||""),j=t.find(k=>g(k)===s),A=j?b(j):s||i||"Select",w=()=>e.jsx("div",{ref:f,style:{position:"absolute",top:`${u.top}px`,left:`${u.left}px`,width:`${u.width}px`,background:"#ffffff",border:"1px solid #e5e7eb",borderRadius:"12px",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.15)",zIndex:7e4,maxHeight:"280px",overflowY:"auto",padding:"6px",animation:"dropdownSlideIn 0.2s ease-out"},children:t&&t.length>0?t.map((k,C)=>{const L=g(k),N=b(k),P=s===L;return e.jsxs("button",{type:"button",onClick:_=>{_.stopPropagation(),a(L),x(!1)},style:{width:"100%",padding:"12px 14px",textAlign:"left",fontSize:"14px",display:"flex",alignItems:"center",justifyContent:"space-between",borderRadius:"8px",border:"none",cursor:"pointer",transition:"all 0.15s",background:P?"#f3f4f6":"transparent",color:P?"#667eea":"#4b5563",fontWeight:P?"600":"500",marginBottom:C<t.length-1?"2px":0},onMouseEnter:_=>{_.currentTarget.style.background=P?"#e5e7eb":"#f9fafb"},onMouseLeave:_=>{_.currentTarget.style.background=P?"#f3f4f6":"transparent"},children:[e.jsx("span",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:N}),P&&e.jsx(xr,{size:16,style:{flexShrink:0,color:"#667eea"}})]},C)}):e.jsx("div",{style:{padding:"12px 14px",fontSize:"14px",color:"#9ca3af",fontStyle:"italic"},children:"No options available"})});return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`relative min-w-[140px] ${o}`,children:e.jsxs("button",{ref:p,type:"button",onClick:()=>x(!d),style:{width:"100%",padding:"14px 16px",fontSize:"15px",border:d?"2px solid #667eea":"2px solid #e5e7eb",borderRadius:"12px",background:d?"#ffffff":"#f9fafb",display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer",transition:"all 0.2s",boxShadow:d?"0 0 0 3px rgba(102, 126, 234, 0.1)":"none"},onMouseEnter:k=>{d||(k.currentTarget.style.borderColor="#d1d5db")},onMouseLeave:k=>{d||(k.currentTarget.style.borderColor="#e5e7eb")},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",color:"#1f2937",fontWeight:"500"},children:[l&&e.jsx(l,{size:18,style:{color:"#9ca3af"}}),e.jsx("span",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:A})]}),e.jsx(Nl,{size:18,style:{color:d?"#667eea":"#9ca3af",transform:d?"rotate(180deg)":"rotate(0deg)",transition:"all 0.3s",flexShrink:0}})]})}),d&&mj.createPortal(e.jsx(w,{}),document.body),e.jsx("style",{children:`
                @keyframes dropdownSlideIn {
                    from {
                        opacity: 0;
                        transform: translateY(-8px);
                    }
                    to {
                        opacity: 1;
                        transform: translateY(0);
                    }
                }
            `})]})},YA=()=>{const t=qt(),{login:s}=Wo(),[a,l]=v.useState(ct.BRANCH_ADMIN),[i,o]=v.useState(""),[d,x]=v.useState(""),[u,h]=v.useState(!1),[p,f]=v.useState(""),b=_=>"/dashboard",g=async _=>{_.preventDefault(),h(!0),f("");try{const F=await gS(i,d,a);s(F),t(b(F.role))}catch(F){f(typeof F=="string"?F:"Login failed. Please check your credentials.")}finally{h(!1)}},j=_=>{_.preventDefault(),alert("Signup is disabled in this demo.")},A=()=>{l(ct.SUPER_ADMIN),o("admin@newgym.com"),x("admin123")},w=()=>{l(ct.BRANCH_ADMIN),o("testbranch@gym.com"),x("123456")},k=()=>{l(ct.MANAGER),o("manager@gym.com"),x("manager123")},C=()=>{l(ct.STAFF),o("staff@gym.com"),x("staff123")},L=()=>{l(ct.TRAINER),o("trainer@gym.com"),x("trainer123")},N=()=>{l(ct.MEMBER),o("member@gym.com"),x("member123")},P=Object.values(ct).map(_=>({value:_,label:_}));return e.jsxs("div",{style:ss.container,children:[e.jsxs("div",{style:ss.backgroundOverlay,children:[e.jsx("div",{style:ss.circle1}),e.jsx("div",{style:ss.circle2}),e.jsx("div",{style:ss.circle3})]}),e.jsxs("div",{style:ss.card,children:[e.jsxs("div",{style:ss.header,children:[e.jsx("div",{style:ss.logoContainer,children:e.jsx(Er,{size:32,color:"#fff",strokeWidth:2.5})}),e.jsx("h1",{style:ss.title,children:"Welcome Back!"}),e.jsx("p",{style:ss.subtitle,children:"Sign in to continue to New Gym"}),e.jsxs("div",{style:ss.quickAccess,children:[e.jsx("button",{type:"button",onClick:A,style:ss.quickButton,children:"Admin"}),e.jsx("button",{type:"button",onClick:w,style:ss.quickButton,children:"Branch"}),e.jsx("button",{type:"button",onClick:k,style:ss.quickButton,children:"Manager"})]}),e.jsxs("div",{style:{...ss.quickAccess,marginTop:"8px"},children:[e.jsx("button",{type:"button",onClick:C,style:ss.quickButton,children:"Staff"}),e.jsx("button",{type:"button",onClick:L,style:ss.quickButton,children:"Trainer"}),e.jsx("button",{type:"button",onClick:N,style:ss.quickButton,children:"Member"})]})]}),e.jsxs("form",{onSubmit:g,style:ss.form,children:[e.jsxs("div",{style:ss.inputGroup,children:[e.jsx("label",{style:ss.label,children:"Select Role (Demo)"}),e.jsx("div",{style:ss.dropdownWrapper,children:e.jsx(us,{options:P,value:a,onChange:l})})]}),e.jsxs("div",{style:ss.inputGroup,children:[e.jsx("label",{style:ss.label,children:"Email Address"}),e.jsxs("div",{style:ss.inputWrapper,children:[e.jsx(Wr,{size:20,style:ss.inputIcon}),e.jsx("input",{type:"email",placeholder:"Enter your email",value:i,onChange:_=>o(_.target.value),style:ss.input,autoFocus:!0})]})]}),e.jsxs("div",{style:ss.inputGroup,children:[e.jsxs("div",{style:ss.labelRow,children:[e.jsx("label",{style:ss.label,children:"Password"}),e.jsx("a",{href:"#",style:ss.forgotLink,children:"Forgot Password?"})]}),e.jsxs("div",{style:ss.inputWrapper,children:[e.jsx(Rs,{size:20,style:ss.inputIcon}),e.jsx("input",{type:"password",placeholder:"Enter your password",value:d,onChange:_=>x(_.target.value),style:ss.input})]})]}),e.jsx("div",{style:ss.rememberRow,children:e.jsxs("label",{style:ss.checkboxLabel,children:[e.jsx("input",{type:"checkbox",style:ss.checkbox}),e.jsx("span",{style:ss.checkboxText,children:"Remember me"})]})}),e.jsx("button",{type:"submit",style:ss.submitButton,children:"Sign In"})]}),e.jsxs("div",{style:ss.footer,children:[e.jsx("span",{style:ss.footerText,children:"Don't have an account? "}),e.jsx("a",{href:"#",onClick:j,style:ss.signupLink,children:"Create Account"})]})]}),e.jsx("style",{children:`
                @keyframes float {
                    0%, 100% { transform: translate(0, 0) scale(1); }
                    33% { transform: translate(30px, -30px) scale(1.1); }
                    66% { transform: translate(-20px, 20px) scale(0.9); }
                }

                @keyframes fadeIn {
                    from { opacity: 0; transform: translateY(20px); }
                    to { opacity: 1; transform: translateY(0); }
                }

                input:focus {
                    outline: none;
                    border-color: #667eea !important;
                    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1) !important;
                }

                button:hover {
                    transform: translateY(-2px);
                    box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4);
                }

                button:active {
                    transform: translateY(0);
                }

                a:hover {
                    text-decoration: underline;
                }
            `})]})},ss={container:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"40px 20px",position:"relative",overflowY:"auto"},backgroundOverlay:{position:"absolute",inset:0,overflow:"hidden",pointerEvents:"none"},circle1:{position:"absolute",top:"-10%",left:"-5%",width:"400px",height:"400px",background:"rgba(255, 255, 255, 0.1)",borderRadius:"50%",filter:"blur(60px)",animation:"float 8s ease-in-out infinite"},circle2:{position:"absolute",bottom:"-15%",right:"-10%",width:"500px",height:"500px",background:"rgba(255, 255, 255, 0.08)",borderRadius:"50%",filter:"blur(80px)",animation:"float 10s ease-in-out infinite",animationDelay:"2s"},circle3:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"300px",height:"300px",background:"rgba(255, 255, 255, 0.05)",borderRadius:"50%",filter:"blur(40px)",animation:"float 6s ease-in-out infinite",animationDelay:"4s"},card:{width:"100%",maxWidth:"460px",background:"#ffffff",borderRadius:"24px",padding:"48px 40px",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",position:"relative",zIndex:10,animation:"fadeIn 0.6s ease-out"},header:{textAlign:"center",marginBottom:"40px"},logoContainer:{width:"80px",height:"80px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:"20px",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 24px",boxShadow:"0 10px 30px rgba(102, 126, 234, 0.3)"},title:{fontSize:"32px",fontWeight:"700",color:"#1a1a1a",margin:"0 0 8px 0",letterSpacing:"-0.5px"},subtitle:{fontSize:"15px",color:"#6b7280",margin:0},quickAccess:{marginTop:"20px",display:"flex",justifyContent:"center",gap:"10px"},quickButton:{padding:"8px 16px",fontSize:"12px",fontWeight:"600",color:"#667eea",background:"rgba(102, 126, 234, 0.1)",border:"1px solid rgba(102, 126, 234, 0.2)",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s"},form:{display:"flex",flexDirection:"column",gap:"24px"},inputGroup:{display:"flex",flexDirection:"column",gap:"8px"},label:{fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"4px"},labelRow:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"4px"},forgotLink:{fontSize:"13px",color:"#667eea",fontWeight:"600",textDecoration:"none",transition:"color 0.2s"},inputWrapper:{position:"relative",display:"flex",alignItems:"center"},dropdownWrapper:{width:"100%"},inputIcon:{position:"absolute",left:"16px",color:"#9ca3af",pointerEvents:"none",zIndex:1},input:{width:"100%",padding:"14px 16px 14px 48px",fontSize:"15px",border:"2px solid #e5e7eb",borderRadius:"12px",background:"#f9fafb",color:"#1f2937",transition:"all 0.2s",fontFamily:"inherit"},rememberRow:{display:"flex",alignItems:"center",marginTop:"-8px"},checkboxLabel:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",userSelect:"none"},checkbox:{width:"18px",height:"18px",cursor:"pointer",accentColor:"#667eea"},checkboxText:{fontSize:"14px",color:"#6b7280"},submitButton:{width:"100%",padding:"16px",fontSize:"16px",fontWeight:"600",color:"#ffffff",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",border:"none",borderRadius:"12px",cursor:"pointer",transition:"all 0.3s",boxShadow:"0 4px 15px rgba(102, 126, 234, 0.3)",marginTop:"8px"},footer:{textAlign:"center",marginTop:"32px",fontSize:"14px"},footerText:{color:"#6b7280"},signupLink:{color:"#667eea",fontWeight:"600",textDecoration:"none",transition:"color 0.2s"}};window.innerWidth<=640&&(ss.card.padding="32px 24px",ss.title.fontSize="28px");const XA={[ct.SUPER_ADMIN]:[{label:"Dashboard",path:"/dashboard",icon:vd},{label:"Gym Management",path:"/superadmin/gyms/all",icon:Lr},{label:"SaaS Plans",path:"/superadmin/plans/list",icon:Va},{label:"Subscriptions",path:"/superadmin/subscriptions/active",icon:Ps},{label:"Webhook Logs",path:"/superadmin/audit-logs/webhooks",icon:Jx},{label:"WhatsApp Chat",path:"/operations/whatsapp",icon:sr},{label:"Device Dashboard",path:"/operations/devices",icon:Jl},{label:"General Settings",path:"/superadmin/general-settings/general",icon:Lr},{label:"Hardware Settings",path:"/superadmin/general-settings/hardware",icon:Rs},{label:"Profile",icon:lt,children:[{label:"My Profile",path:"/superadmin/profile/me",icon:lt},{label:"Logout",path:"/login",icon:vn}]}],[ct.BRANCH_ADMIN]:[{label:"Dashboard",path:"/dashboard",icon:vd},{label:"Admin & HR",icon:Ca,children:[{label:"Branch Management",path:"/branchadmin/branch-management/branches",icon:Lr},{label:"Staff Management",path:"/hr/staff/management",icon:_t},{label:"Add Staff",path:"/hr/staff/create",icon:rl},{label:"Trainer Requests",path:"/branchadmin/trainer-requests",icon:kl},{label:"Payroll & Salaries",path:"/hr/payroll",icon:xa}]},{label:"Sales & CRM",icon:tt,children:[{label:"Walk-in Inquiry",path:"/crm/inquiry",icon:rl},{label:"Leads Pipeline",path:"/crm/pipeline",icon:Hx},{label:"Today Follow-ups",path:"/crm/followups",icon:Qe}]},{label:"E-Commerce",icon:Ec,children:[{label:"POS Store",path:"/finance/pos",icon:Ec},{label:"Inventory",path:"/branchadmin/store/inventory",icon:J0},{label:"Promo Codes",path:"/branchadmin/promos",icon:Pc}]},{label:"Memberships",icon:Ps,children:[{label:"Plans & Benefits",path:"/memberships",icon:Ps},{label:"Renewal Alerts",path:"/members/renewal-alerts",icon:hs}]},{label:"Classes",path:"/classes",icon:Ve},{label:"Operations",icon:$t,children:[{label:"Member List",path:"/branchadmin/members/list",icon:_t},{label:"Bookings",path:"/branchadmin/bookings/calendar",icon:Ve},{label:"Tasks",path:"/branchadmin/tasks/list",icon:al},{label:"Assign Task",path:"/branchadmin/tasks/assign",icon:rl},{label:"WhatsApp Chat",path:"/operations/whatsapp",icon:sr}]},{label:"Facility Management",icon:Kl,children:[{label:"Equipment List",path:"/facility/equipment",icon:ol},{label:"Maintenance Requests",path:"/facility/maintenance",icon:al},{label:"Service History",path:"/facility/history",icon:yl}]},{label:"Finance",icon:xa,children:[{label:"Invoices",path:"/finance/invoices",icon:Va},{label:"Expenses",path:"/finance/expenses",icon:Ga},{label:"Cashier Mode",path:"/finance/cashier",icon:Ga},{label:"Branch Transactions",path:"/finance/transactions",icon:yl},{label:"Petty Cash",path:"/finance/petty-cash",icon:xa},{label:"Benefit Wallets",path:"/superadmin/wallet",icon:Lh}]},{label:"Reports",icon:Kx,children:[{label:"Revenue Report",path:"/branchadmin/reports/revenue",icon:Vn},{label:"Membership Report",path:"/branchadmin/reports/membership",icon:_t},{label:"Lead Conversion Report",path:"/branchadmin/reports/lead-conversion",icon:Js},{label:"Expense Report",path:"/branchadmin/reports/expenses",icon:Ga},{label:"Branch-wise Performance Report",path:"/branchadmin/reports/performance",icon:$t},{label:"Daily Attendance Report",path:"/branchadmin/reports/daily-attendance",icon:al},{label:"Booking Report",path:"/branchadmin/reports/booking",icon:Ve}]},{label:"Settings",icon:Vh,children:[{label:"General Settings",path:"/branchadmin/settings/general",icon:Lr},{label:"Hardware Settings",path:"/branchadmin/settings/hardware",icon:Rs},{label:"Communication",path:"/branchadmin/settings/communication",icon:yn},{label:"Payments",path:"/branchadmin/settings/payments",icon:Ps},{label:"Tax & Invoices",path:"/branchadmin/settings/invoice",icon:Va},{label:"Webhooks",path:"/settings/webhooks",icon:Jx},{label:"API Keys",path:"/settings/api-keys",icon:rw},{label:"Templates",path:"/settings/templates",icon:Rf},{label:"Amenities",path:"/settings/amenities",icon:Sd}]},{label:"Profile",icon:lt,children:[{label:"My Profile",path:"/branchadmin/profile/me",icon:lt},{label:"Logout",path:"/login",icon:vn}]}],[ct.MANAGER]:[{label:"Dashboard",path:"/dashboard",icon:vd},{label:"Memberships",icon:Ps,children:[{label:"Plans & Benefits",path:"/memberships",icon:Ps},{label:"Renewal Alerts",path:"/members/renewal-alerts",icon:hs}]},{label:"Classes",path:"/classes",icon:Ve},{label:"CRM & Sales",icon:tt,children:[{label:"Walk-in Inquiry",path:"/crm/inquiry",icon:rl},{label:"Leads Pipeline",path:"/crm/pipeline",icon:Hx},{label:"Today Follow-ups",path:"/crm/followups",icon:Qe}]},{label:"Attendance",icon:Qe,children:[{label:"Live Monitor",path:"/manager/attendance/live-checkin",icon:$t},{label:"Member Log",path:"/manager/attendance/today/member",icon:_t},{label:"Staff Log",path:"/manager/attendance/today/staff",icon:_t}]},{label:"Operations",icon:$t,children:[{label:"Staff Schedule",path:"/operations",icon:_t},{label:"WhatsApp Chat",path:"/operations/whatsapp",icon:sr},{label:"Equipment",path:"/operations/equipment",icon:Kl},{label:"Lockers",path:"/operations/lockers",icon:Rs},{label:"Inventory",path:"/operations/inventory",icon:ol},{label:"Announcements",path:"/operations/announcements",icon:yn},{label:"Rewards Program",path:"/operations/rewards",icon:$t},{label:"Feedback",path:"/operations/feedback",icon:wl},{label:"Member List",path:"/manager/members/list",icon:_t},{label:"Tasks",path:"/manager/tasks/list",icon:al},{label:"Assign Task",path:"/manager/tasks/assign",icon:rl},{label:"Device Dashboard",path:"/operations/devices",icon:Jl}]},{label:"Facility Management",icon:Kl,children:[{label:"Equipment List",path:"/facility/equipment",icon:ol},{label:"Maintenance Requests",path:"/facility/maintenance",icon:al},{label:"Service History",path:"/facility/history",icon:yl}]},{label:"Financials",icon:xa,children:[{label:"Benefit Wallets",path:"/manager/wallet",icon:Lh},{label:"Cashier Mode",path:"/finance/cashier",icon:Ga},{label:"Branch Transactions",path:"/finance/transactions",icon:yl},{label:"Petty Cash / Expenses",path:"/finance/petty-cash",icon:xa}]},{label:"HR & Staff",icon:_t,children:[{label:"Staff List",path:"/hr/staff/management",icon:_t},{label:"Add Staff",path:"/hr/staff/create",icon:rl},{label:"Leave Requests",path:"/hr/leave-requests",icon:Ve},{label:"Trainer Requests",path:"/manager/requests",icon:kl},{label:"Trainer Change Requests",path:"/manager/change-requests",icon:$t},{label:"Payroll Creation",path:"/manager/payroll/create",icon:xa},{label:"Payroll",path:"/hr/payroll",icon:xa}]},{label:"Settings",icon:Vh,children:[{label:"Organization",path:"/settings",icon:Lr},{label:"Security",path:"/settings/security",icon:Rs},{label:"Amenities",path:"/settings/amenities",icon:Sd}]},{label:"Reports",icon:Kx,children:[{label:"Attendance Report",path:"/manager/reports/daily-attendance",icon:al},{label:"Booking Report",path:"/manager/reports/booking",icon:Ve}]},{label:"Profile",icon:lt,children:[{label:"My Profile",path:"/manager/profile/me",icon:lt},{label:"Logout",path:"/login",icon:vn}]}],[ct.STAFF]:[{label:"Dashboard",path:"/dashboard",icon:vd},{label:"CRM & Sales",icon:tt,children:[{label:"Walk-in Inquiry",path:"/crm/inquiry",icon:rl},{label:"Leads Pipeline",path:"/crm/pipeline",icon:Hx},{label:"Today Follow-ups",path:"/crm/followups",icon:Qe}]},{label:"Memberships",icon:Ps,children:[{label:"Plans & Benefits",path:"/memberships",icon:Ps},{label:"Renewal Alerts",path:"/members/renewal-alerts",icon:hs}]},{label:"Check-In",icon:Qe,children:[{label:"Member Check-In",path:"/staff/attendance/check-in",icon:Qe},{label:"Check-Out",path:"/staff/attendance/check-out",icon:Qe},{label:"Today Check-Ins",path:"/staff/attendance/today",icon:_t},{label:"Member List",path:"/staff/members/list",icon:_t}]},{label:"Locker Assign",icon:Rs,children:[{label:"Assign Locker",path:"/staff/lockers/assign",icon:Rs},{label:"Release Locker",path:"/staff/lockers/release",icon:Rs}]},{label:"Tasks",icon:al,children:[{label:"My Tasks",path:"/staff/tasks/my-tasks",icon:al},{label:"Task Status",path:"/staff/tasks/status",icon:Qe}]},{label:"Payments",icon:Ps,children:[{label:"New Receipt",path:"/finance/cashier",icon:Ga},{label:"My Transactions",path:"/finance/transactions",icon:yl},{label:"Log Expense",path:"/finance/petty-cash",icon:xa}]},{label:"Profile",icon:lt,children:[{label:"My Profile",path:"/staff/profile/me",icon:lt},{label:"Logout",path:"/login",icon:vn}]}],[ct.TRAINER]:[{label:"Dashboard",path:"/dashboard",icon:vd},{label:"My Leads",path:"/crm/my-leads",icon:tt},{label:"Sessions",icon:Ve,children:[{label:"Session Calendar",path:"/trainer/sessions/calendar",icon:Ve},{label:"Upcoming Sessions",path:"/trainer/sessions/upcoming",icon:Qe}]},{label:"My Attendance",path:"/trainer/attendance",icon:Qe},{label:"Availability",path:"/trainer/availability",icon:Ve},{label:"Classes",path:"/classes",icon:Ve},{label:"My Members",path:"/trainer/members/assigned",icon:_t},{label:"Diet Plans",path:"/diet-plans",icon:wd},{label:"Workout Plans",path:"/workout-plans",icon:Er},{label:"My Earnings",path:"/trainer/earnings",icon:Xl},{label:"Announcements",path:"/trainer/announcements",icon:yn},{label:"Progress",path:"/progress",icon:Js},{label:"Profile",icon:lt,children:[{label:"My Profile",path:"/trainer/profile/me",icon:lt},{label:"Logout",path:"/login",icon:vn}]}],[ct.MEMBER]:[{label:"Home",path:"/dashboard",icon:aw},{label:"My Membership",path:"/member/membership",icon:Va},{label:"Bookings",path:"/member/bookings",icon:Ve},{label:"Workout Plans",path:"/workout-plans",icon:Er},{label:"Diet Plans",path:"/diet-plans",icon:wd},{label:"Progress",path:"/progress",icon:Js},{label:"My Wallet",path:"/member/wallet",icon:Lh},{label:"My Invoices",path:"/member/payments",icon:Ga},{label:"Feedback",path:"/member/feedback",icon:yn},{label:"Store",path:"/member/store",icon:Ec},{label:"Profile",path:"/member/profile/me",icon:lt},{label:"Logout",path:"/login",icon:vn}]},KA=({role:t,collapsed:s,setCollapsed:a})=>{const l=Tr(),{logout:i}=Wo(),[o,d]=v.useState({}),x=g=>{d(j=>({...j,[g]:!j[g]}))},u=XA[t]||[],h=g=>{g.preventDefault(),window.confirm("Are you sure you want to logout?")&&i()},p=g=>g.path?l.pathname===g.path||l.pathname.startsWith(g.path+"/"):g.children?g.children.some(j=>l.pathname===j.path||l.pathname.startsWith(j.path+"/")):!1,f=g=>o[g.label]!==void 0?o[g.label]:p(g),b=()=>{window.innerWidth<1024&&a&&a(!0)};return e.jsxs("aside",{className:`sidebar ${s?"collapsed":""} `,children:[e.jsxs("div",{style:{height:"var(--topbar-height)",display:"flex",alignItems:"center",padding:"0 1.5rem",borderBottom:"1px solid var(--border-color)",marginBottom:"1rem"},children:[e.jsx("div",{style:{width:"32px",height:"32px",background:"var(--primary)",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontWeight:"bold",flexShrink:0,marginRight:s?0:"12px"},children:"G"}),!s&&e.jsx("span",{className:"text-title",style:{fontSize:"1.125rem",whiteSpace:"nowrap"},children:"Gym CRM"})]}),e.jsx("nav",{style:{flex:1,overflowY:"auto"},children:e.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:u.map(g=>e.jsx("li",{children:g.children?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>x(g.label),className:`sidebar-item ${p(g)?"active":""} `,title:s?g.label:"",style:{width:"100%",border:"none",background:"none",cursor:"pointer",textAlign:"left",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[e.jsx(g.icon,{size:20}),!s&&e.jsx("span",{children:g.label})]}),!s&&(f(g)?e.jsx(Nl,{size:16}):e.jsx(js,{size:16}))]}),!s&&f(g)&&e.jsx("ul",{style:{listStyle:"none",padding:"4px 0 4px 20px",margin:0,background:"rgba(0,0,0,0.02)",borderLeft:"2px solid var(--border-color)",marginLeft:"24px"},children:g.children.map(j=>e.jsx("li",{children:e.jsxs(Bh,{to:j.path,end:j.path==="/settings"||j.path==="/operations",className:({isActive:A})=>`sidebar-item ${A?"active":""} `,style:({isActive:A})=>({display:"flex",alignItems:"center",gap:"10px",padding:"8px 12px",fontSize:"0.85rem",textDecoration:"none",color:A?"var(--primary)":"var(--text)",fontWeight:A?600:400,borderRadius:"6px",transition:"all 0.2s"}),onClick:j.label==="Logout"?h:b,children:[e.jsx(j.icon,{size:16}),e.jsx("span",{children:j.label})]})},j.path))})]}):e.jsxs(Bh,{to:g.path,className:({isActive:j})=>`sidebar-item ${j?"active":""} `,title:s?g.label:"",onClick:b,children:[e.jsx(g.icon,{size:20}),!s&&e.jsx("span",{children:g.label})]})},g.label))})}),!s&&e.jsxs("div",{style:{padding:"1rem",borderTop:"1px solid var(--border-color)"},children:[e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--muted)",marginBottom:"4px"},children:"Current Role:"}),e.jsx("div",{style:{fontSize:"0.875rem",fontWeight:600,color:"var(--primary)"},children:t})]})]})},JA=({collapsed:t,setCollapsed:s,title:a="Dashboard",role:l})=>{const[i,o]=v.useState(!1),d=v.useRef(null),x=qt();v.useEffect(()=>{const b=g=>{d.current&&!d.current.contains(g.target)&&o(!1)};return document.addEventListener("mousedown",b),()=>{document.removeEventListener("mousedown",b)}},[]);const u=()=>{x("/login"),o(!1)},h=()=>{let b="/profile/me";switch(l){case ct.SUPER_ADMIN:b="/superadmin/profile/me";break;case ct.BRANCH_ADMIN:b="/branchadmin/profile/me";break;case ct.MANAGER:b="/manager/profile/me";break;case ct.STAFF:b="/staff/profile/me";break;case ct.TRAINER:b="/trainer/profile/me";break;case ct.MEMBER:b="/member/profile/me";break;default:console.warn("Unknown role for profile navigation:",l)}x(b),o(!1)},p=()=>{const b=t;s(!t),b&&i&&o(!1)},f=()=>{const b=!i;o(!i),b&&window.innerWidth<1024&&s(!0)};return e.jsxs("header",{className:"topbar",children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-4)"},children:[e.jsx("button",{onClick:p,style:{background:"none",border:"none",cursor:"pointer",color:"var(--muted)",display:"flex",alignItems:"center"},children:e.jsx(uC,{size:22})}),e.jsx("h1",{className:"text-title",style:{fontSize:"1.25rem"},children:a})]}),e.jsx("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-4)"},children:e.jsxs("div",{style:{position:"relative"},ref:d,children:[e.jsx("button",{onClick:f,style:{display:"flex",alignItems:"center",gap:"10px",background:"none",border:"none",cursor:"pointer",padding:"4px"},children:e.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"50%",background:"var(--border-color)",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},children:e.jsx(lt,{size:20,color:"var(--muted)"})})}),i&&e.jsxs("div",{style:{position:"absolute",top:"120%",right:0,width:"180px",backgroundColor:"var(--card-bg)",borderRadius:"8px",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)",padding:"var(--space-1)",zIndex:1e3,border:"1px solid var(--border-color)"},children:[e.jsxs("button",{onClick:h,className:"sidebar-item",style:{width:"100%",margin:0,border:"none",background:"none",textAlign:"left",cursor:"pointer"},children:[e.jsx(lt,{size:16})," Profile"]}),e.jsxs("button",{onClick:u,className:"sidebar-item",style:{width:"100%",margin:"4px 0 0 0",border:"none",background:"none",textAlign:"left",cursor:"pointer",color:"#EF4444"},children:[e.jsx(vn,{size:16})," Logout"]})]})]})})]})},QA={"/dashboard":"Dashboard","/memberships":"Membership Management","/classes":"Class Scheduling","/diet-plans":"Diet Plans","/workout-plans":"Workout Plans","/progress":"Progress Tracking","/settings":"Settings","/operations":"Operations","/profile/me":"My Profile"},ZA=({role:t})=>{const[s,a]=v.useState(window.innerWidth<1024),l=Tr();v.useEffect(()=>{const o=()=>{window.innerWidth<1024&&a(!0)};return window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[]);const i=QA[l.pathname]||"Dashboard";return e.jsxs("div",{className:"app-shell",children:[e.jsx(KA,{role:t,collapsed:s,setCollapsed:a}),e.jsxs("div",{className:"main-container",children:[e.jsx(JA,{collapsed:s,setCollapsed:a,title:i,role:t}),e.jsx("main",{className:"content-area",children:e.jsx("div",{className:"content-max-width",children:e.jsx(sm,{})})})]})]})},is=({children:t,title:s,subtitle:a,className:l="",...i})=>e.jsxs("div",{className:`saas-card ${l}`,...i,children:[(s||a)&&e.jsxs("div",{style:{marginBottom:"var(--space-4)"},children:[s&&e.jsx("h3",{className:"text-title",children:s}),a&&e.jsx("p",{className:"text-muted",children:a})]}),t]}),Gn=({title:t,value:s,icon:a,trend:l,color:i="primary"})=>{const o={primary:{bg:"bg-blue-50",text:"text-blue-600",iconBg:"group-hover:bg-blue-600 group-hover:text-white"},success:{bg:"bg-emerald-50",text:"text-emerald-600",iconBg:"group-hover:bg-emerald-600 group-hover:text-white"},warning:{bg:"bg-amber-50",text:"text-amber-600",iconBg:"group-hover:bg-amber-600 group-hover:text-white"},danger:{bg:"bg-red-50",text:"text-red-600",iconBg:"group-hover:bg-red-600 group-hover:text-white"}},d=o[i]||o.primary;return e.jsxs(is,{className:"group relative overflow-hidden transition-all duration-300 hover:-translate-y-1 hover:shadow-xl hover:shadow-indigo-500/10 border border-transparent hover:border-indigo-100 cursor-pointer p-4 sm:p-5",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2 relative z-10",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-500 font-medium text-xs sm:text-sm mb-1",children:t}),e.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-gray-800 tracking-tight",children:s})]}),e.jsx("div",{className:`w-10 h-10 sm:w-12 sm:h-12 rounded-lg sm:rounded-xl flex items-center justify-center transition-all duration-300 transform group-hover:scale-110 shadow-sm ${d.bg} ${d.text} ${d.iconBg}`,children:a&&e.jsx(a,{size:20,className:"sm:w-[22px] sm:h-[22px] transition-colors duration-300"})})]}),l&&e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 mt-2",children:[e.jsx("span",{className:`text-[10px] sm:text-xs font-semibold px-1.5 sm:px-2 py-0.5 rounded-full ${d.bg} ${d.text}`,children:l}),e.jsx("span",{className:"text-[10px] sm:text-xs text-gray-400",children:"vs last period"})]}),e.jsx("div",{className:`absolute -bottom-4 -right-4 w-20 h-20 sm:w-24 sm:h-24 rounded-full opacity-0 group-hover:opacity-10 transition-opacity duration-500 ${d.bg.replace("bg-","bg-")}`})]})},du=({children:t})=>e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:t}),Ut=({children:t,variant:s="primary",className:a="",icon:l,...i})=>{const o={primary:"bg-violet-600 hover:bg-violet-700 text-white shadow-lg shadow-violet-200",success:"bg-emerald-500 hover:bg-emerald-600 text-white shadow-lg shadow-emerald-200",outline:"bg-white border-2 border-slate-200 text-slate-600 hover:border-violet-500 hover:text-violet-600"},d=o[s]||o.primary;return e.jsxs("button",{className:`inline-flex items-center justify-center gap-2 px-6 py-3 rounded-2xl font-black text-xs uppercase tracking-widest transition-all duration-300 active:scale-95 disabled:opacity-50 disabled:pointer-events-none ${d} ${a}`,...i,children:[l&&e.jsx(l,{size:16}),t]})},gs=ye,e7=async()=>{try{return(await gs.get("/superadmin/dashboard-cards")).data}catch(t){throw t.response?.data?.message||"Failed to fetch dashboard stats"}},t7=e7,s7=async()=>{try{const t=await gs.get("/superadmin/gyms");return(t.data.gyms||t.data).slice(0,5)}catch(t){throw t.response?.data?.message||"Failed to fetch recent gyms"}},a7=async()=>{try{const t=await gs.get("/superadmin/gyms"),a=(t.data.gyms||t.data).filter(i=>i.status==="Pending").length,l=[];return a>0&&l.push({id:"pending-gyms",title:"Pending Approvals",message:`${a} New Gyms waiting for review`,type:"warning",time:"Recently"}),l}catch{return[]}},kg=async(t={})=>{try{return(await gs.get("/superadmin/gyms",{params:t})).data}catch(s){throw s.response?.data?.message||"Failed to fetch gyms"}},fw=async t=>{try{return(await gs.post("/superadmin/gyms",t)).data}catch(s){throw s.response?.data?.message||"Failed to add gym"}},r7=async t=>{try{return(await gs.delete(`/superadmin/gyms/${t}`)).data}catch(s){throw s.response?.data?.message||"Failed to delete gym"}},gw=async t=>{try{return(await gs.patch(`/superadmin/gyms/${t}/toggle-status`)).data}catch(s){throw s.response?.data?.message||"Failed to toggle gym status"}},bw=async t=>{try{let s="/superadmin/gyms";t.toLowerCase().includes("plan")&&(s="/superadmin/plans"),t.toLowerCase().includes("subscription")&&(s="/superadmin/subscriptions"),t.toLowerCase().includes("payment")&&(s="/superadmin/payments"),t.toLowerCase().includes("log")&&(t.toLowerCase().includes("activity")?s="/superadmin/logs/activity":t.toLowerCase().includes("error")?s="/superadmin/logs/error":s="/superadmin/audit-logs");const a=await gs.get(s),l=a.data.gyms||a.data;if(!Array.isArray(l)||l.length===0){console.warn("No data available for export");return}const i=Object.keys(l[0]),o=[i.join(","),...l.map(h=>i.map(p=>{const f=h[p];return typeof f=="string"?`"${f.replace(/"/g,'""')}"`:f}).join(","))].join(`
`),d=new Blob([o],{type:"text/csv;charset=utf-8;"}),x=document.createElement("a"),u=URL.createObjectURL(d);x.setAttribute("href",u),x.setAttribute("download",`${t}_Export_${new Date().toISOString().split("T")[0]}.csv`),x.style.visibility="hidden",document.body.appendChild(x),x.click(),document.body.removeChild(x)}catch(s){console.error("Export failed:",s)}},xu=async()=>{try{return(await gs.get("/superadmin/plans")).data}catch(t){throw t.response?.data?.message||"Failed to fetch plans"}},vw=async t=>{try{return(await gs.post("/superadmin/plans",t)).data}catch(s){throw s.response?.data?.message||"Failed to add plan"}},yw=async(t,s)=>{try{return(await gs.patch(`/superadmin/plans/${t}`,s)).data}catch(a){throw a.response?.data?.message||"Failed to update plan"}},l7=async t=>{try{return(await gs.delete(`/superadmin/plans/${t}`)).data}catch(s){throw s.response?.data?.message||"Failed to delete plan"}},n7=async(t,s)=>{try{return(await gs.patch(`/superadmin/plans/${t}`,{features:s})).data}catch(a){throw a.response?.data?.message||"Failed to update plan features"}},jw=async()=>{try{return(await gs.get("/superadmin/subscriptions")).data}catch(t){throw t.response?.data?.message||"Failed to fetch subscriptions"}},ww=async t=>{try{return(await gs.patch(`/superadmin/subscriptions/${t}/toggle-status`)).data}catch(s){throw s.response?.data?.message||"Failed to toggle subscription status"}},i7=async()=>{try{return(await gs.get("/superadmin/webhook-logs")).data}catch(t){throw t.response?.data?.message||"Failed to fetch webhook logs"}},o7=async()=>{try{return(await gs.get("/superadmin/logs/activity")).data}catch(t){throw t.response?.data?.message||"Failed to fetch activity logs"}},c7=async()=>{try{return(await gs.get("/superadmin/settings/global")).data}catch(t){throw t.response?.data?.message||"Failed to fetch global settings"}},d7=async t=>{try{return(await gs.patch("/superadmin/settings/global",t)).data}catch(s){throw s.response?.data?.message||"Failed to update global settings"}},x7=async()=>{try{return(await gs.get("/superadmin/settings/invoice")).data}catch(t){throw t.response?.data?.message||"Failed to fetch invoice settings"}},u7=async t=>{try{return(await gs.patch("/superadmin/settings/invoice",t)).data}catch(s){throw s.response?.data?.message||"Failed to update invoice settings"}},h7=async()=>{try{return(await gs.get("/superadmin/settings/booking")).data}catch(t){throw t.response?.data?.message||"Failed to fetch booking settings"}},m7=async t=>{try{return(await gs.patch("/superadmin/settings/booking",t)).data}catch(s){throw s.response?.data?.message||"Failed to update booking settings"}},p7=async()=>{try{return(await gs.get("/superadmin/staff")).data}catch(t){throw t.response?.data?.message||"Failed to fetch staff members"}},f7=async t=>{try{return(await gs.post("/superadmin/staff",t)).data}catch(s){throw s.response?.data?.message||"Failed to add staff"}},Nw=async t=>{try{return(await gs.delete(`/superadmin/staff/${t}`)).data}catch(s){throw s.response?.data?.message||"Failed to delete staff member"}},g7=async(t,s)=>{try{return(await gs.patch(`/superadmin/staff/${t}`,s)).data}catch(a){throw a.response?.data?.message||"Failed to update staff member"}},b7=async()=>{try{return(await gs.get("/superadmin/wallet/members")).data}catch(t){throw t.response?.data?.message||"Failed to fetch member wallets"}},v7=async(t,s)=>{try{return(await gs.post(`/superadmin/wallet/members/${t}/transaction`,s)).data}catch(a){throw a.response?.data?.message||"Failed to update wallet"}},y7=async()=>{try{return(await gs.get("/superadmin/requests/trainers")).data}catch(t){throw t.response?.data?.message||"Failed to fetch trainer requests"}},j7=async()=>{try{return(await gs.get("/superadmin/requests/trainer-changes")).data}catch(t){throw t.response?.data?.message||"Failed to fetch trainer change requests"}},$1=async(t,s)=>{try{return(await gs.patch(`/superadmin/requests/trainers/${t}`,{status:s})).data}catch(a){throw a.response?.data?.message||"Failed to update trainer request"}},w7=async()=>{try{return(await gs.get("/superadmin/profile")).data}catch(t){throw t.response?.data?.message||"Failed to fetch admin profile"}},N7=async t=>{try{return(await gs.patch("/superadmin/profile",t)).data}catch(s){throw s.response?.data?.message||"Failed to update admin profile"}},kw=async()=>{try{return(await gs.get("/superadmin/devices")).data}catch(t){throw t.response?.data?.message||"Failed to fetch devices"}},k7=async t=>{try{return(await gs.post("/superadmin/devices",t)).data}catch(s){throw s.response?.data?.message||"Failed to add device"}},S7=async(t,s)=>{try{return(await gs.patch(`/superadmin/devices/${t}`,s)).data}catch(a){throw a.response?.data?.message||"Failed to update device"}},C7=async t=>{try{return(await gs.delete(`/superadmin/devices/${t}`)).data}catch(s){throw s.response?.data?.message||"Failed to delete device"}},A7=()=>{const[t,s]=v.useState([]),[a,l]=v.useState([]),[i,o]=v.useState([]),[d,x]=v.useState(!0),[u,h]=v.useState(null),p={"Total Gyms":Lr,"Total Members":_t,"Active Plans":$t,"Monthly Revenue":Xl},f=async()=>{try{x(!0);const[b,g,j]=await Promise.all([t7(),s7(),a7()]),A=b.map(w=>({...w,icon:p[w.title]||$t}));s(A),l(g),o(j)}catch(b){console.error("Error fetching dashboard data:",b),h("Failed to load dashboard data. Please try again later.")}finally{x(!1)}};return v.useEffect(()=>{f()},[]),d?e.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-6rem)]",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-violet-600 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"text-slate-500 font-medium animate-pulse uppercase tracking-[0.2em] text-[10px]",children:"Authorizing System Access..."})]})}):u?e.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-6rem)]",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-8 text-center max-w-md",children:[e.jsx(zr,{size:48,className:"text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-bold text-red-900 mb-2",children:"Oops!"}),e.jsx("p",{className:"text-red-700 mb-6",children:u}),e.jsx(Ut,{onClick:f,className:"bg-red-600 hover:bg-red-700 text-white border-none",children:"Retry Loading"})]})}):e.jsxs("div",{className:"h-[calc(100vh-6rem)] overflow-y-auto pr-2 pb-8 space-y-8 fade-in scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-transparent",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 pb-6 border-b-2 border-gray-100",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"System Overview"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Monitor platform performance and recent activity"})]}),e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-emerald-50 border border-emerald-200 rounded-lg",children:[e.jsx(Xt,{size:16,className:"text-emerald-600"}),e.jsx("span",{className:"text-sm font-semibold text-emerald-700",children:"All Systems Operational"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Js,{size:20,className:"text-indigo-600"}),e.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Key Metrics"})]}),e.jsxs("span",{className:"text-xs text-gray-500 flex items-center gap-1",children:[e.jsx(Qe,{size:12}),"Updated just now"]})]}),e.jsx(du,{children:t.map(b=>e.jsx(Gn,{...b},b.id))})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-4 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Recent Gym Registrations"}),e.jsxs(Ut,{variant:"outline",size:"small",className:"group hover:bg-indigo-600 hover:text-white hover:border-indigo-600 text-indigo-600 border-indigo-200 font-semibold transition-all duration-300",children:["View All",e.jsx(jl,{size:14,className:"ml-1 group-hover:translate-x-1 transition-transform"})]})]}),e.jsx(is,{className:"overflow-hidden border border-gray-200 shadow-lg hover:shadow-xl transition-shadow duration-300",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm text-left",children:[e.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100/50 border-b-2 border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-xs font-bold uppercase tracking-wider text-gray-700",children:"Gym Name"}),e.jsx("th",{className:"px-4 py-3 text-xs font-bold uppercase tracking-wider text-gray-700 hidden sm:table-cell",children:"Location"}),e.jsx("th",{className:"px-4 py-3 text-xs font-bold uppercase tracking-wider text-gray-700 hidden md:table-cell",children:"Date"}),e.jsx("th",{className:"px-4 py-3 text-xs font-bold uppercase tracking-wider text-gray-700",children:"Status"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:a.length>0?a.map(b=>e.jsxs("tr",{className:"group hover:bg-gradient-to-r hover:from-indigo-50/50 hover:to-transparent transition-all duration-200 cursor-pointer",children:[e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[e.jsx("div",{className:"w-9 h-9 flex-shrink-0 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold text-sm shadow-md group-hover:shadow-lg group-hover:scale-110 transition-all duration-300",children:b.gymName?.charAt(0)||"G"}),e.jsx("span",{className:"font-semibold text-gray-900 group-hover:text-indigo-600 transition-colors truncate",children:b.gymName})]})}),e.jsx("td",{className:"px-4 py-3 text-gray-600 hidden sm:table-cell",children:e.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[e.jsx("div",{className:"w-7 h-7 flex-shrink-0 bg-gray-100 rounded-lg flex items-center justify-center group-hover:bg-indigo-100 transition-colors",children:e.jsx($s,{size:13,className:"text-indigo-500"})}),e.jsx("span",{className:"font-medium truncate",children:b.location||"N/A"})]})}),e.jsx("td",{className:"px-4 py-3 text-gray-600 font-medium whitespace-nowrap hidden md:table-cell",children:b.createdAt?new Date(b.createdAt).toISOString().split("T")[0]:"N/A"}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-bold shadow-sm transition-all duration-300 group-hover:scale-105 whitespace-nowrap ${b.status==="Active"?"bg-gradient-to-r from-emerald-50 to-emerald-100 text-emerald-700 border border-emerald-200":"bg-gradient-to-r from-amber-50 to-amber-100 text-amber-700 border border-amber-200"}`,children:b.status})})]},b.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"px-4 py-8 text-center text-gray-500 font-medium",children:"No recent registrations found"})})})]})})})]}),e.jsxs("div",{className:"lg:col-span-1 space-y-4 min-w-0",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"System Alerts"}),e.jsx("div",{className:"space-y-4 max-h-[600px] overflow-y-auto pr-2 scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100",children:i.length>0?i.map(b=>e.jsx("div",{className:`bg-white rounded-xl border-l-4 ${b.type==="danger"?"border-red-500 bg-gradient-to-r from-red-50/80 to-white":"border-amber-500 bg-gradient-to-r from-amber-50/80 to-white"} shadow-md hover:shadow-lg hover:-translate-y-1 transition-all duration-300 cursor-pointer group`,children:e.jsxs("div",{className:"flex items-start gap-3 p-4",children:[e.jsx("div",{className:`w-10 h-10 flex-shrink-0 bg-gradient-to-br ${b.type==="danger"?"from-red-500 to-red-600":"from-amber-500 to-amber-600"} rounded-xl flex items-center justify-center shadow-lg group-hover:scale-110 group-hover:rotate-6 transition-all duration-300`,children:b.type==="danger"?e.jsx(Of,{size:20,className:"text-white",strokeWidth:2.5}):e.jsx(zr,{size:20,className:"text-white",strokeWidth:2.5})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[e.jsx("h3",{className:`font-bold ${b.type==="danger"?"text-red-900":"text-amber-900"} text-sm`,children:b.title}),b.type==="danger"?e.jsx("span",{className:"w-2 h-2 flex-shrink-0 rounded-full bg-red-500 animate-pulse shadow-lg shadow-red-500/50 mt-1"}):e.jsx("span",{className:"px-1.5 py-0.5 flex-shrink-0 bg-gradient-to-r from-amber-500 to-amber-600 text-white rounded-lg text-xs font-bold shadow-md",children:"Action"})]}),e.jsx("p",{className:`text-xs ${b.type==="danger"?"text-red-700":"text-amber-700"} font-medium mb-2`,children:b.message}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:`px-2 py-0.5 ${b.type==="danger"?"bg-red-100 text-red-700":"bg-amber-100 text-amber-700"} rounded-lg text-xs font-bold`,children:b.type==="danger"?"Critical":"Pending"}),e.jsx("span",{className:"text-xs text-gray-500 font-medium",children:b.time})]})]})]})},b.id)):e.jsxs("div",{className:"bg-emerald-50 border border-emerald-100 rounded-xl p-6 text-center shadow-inner",children:[e.jsx(Xt,{size:32,className:"text-emerald-500 mx-auto mb-2"}),e.jsx("h3",{className:"text-emerald-900 font-bold text-sm",children:"All Systems Clear"}),e.jsx("p",{className:"text-emerald-700 text-xs",children:"No active alerts at this time"})]})})]})]})]})},Qx={createLead:async t=>{try{return(await ye.post("/crm/leads",t)).data}catch(s){throw s.response?.data||s.message}},getLeads:async(t={})=>{try{return(await ye.get("/crm/leads",{params:t})).data}catch(s){throw s.response?.data||s.message}},updateLeadStatus:async(t,s)=>{try{return(await ye.patch(`/crm/leads/${t}/status`,{status:s})).data}catch(a){throw a.response?.data||a.message}},getTodayFollowUps:async()=>{try{return(await ye.get("/crm/followups/today")).data}catch(t){throw t.response?.data||t.message}},addFollowUp:async(t,s)=>{try{return(await ye.post(`/crm/leads/${t}/followups`,s)).data}catch(a){throw a.response?.data||a.message}}},Sg=({isWidget:t=!1})=>{const[s,a]=v.useState([]),[l,i]=v.useState(null),[o,d]=v.useState(!0),{user:x}=Wo(),u=async()=>{try{d(!0);const b=await Qx.getTodayFollowUps();a(b)}catch(b){console.error("Error fetching follow-ups:",b)}finally{d(!1)}};v.useEffect(()=>{u()},[]);const h=new Date().toISOString().split("T")[0],p=s,f=async b=>{try{await Qx.updateLeadStatus(b,"Contacted"),i(b),setTimeout(()=>{a(s.filter(g=>g.id!==b)),i(null)},1e3)}catch(g){console.error("Failed to update status:",g)}};return e.jsxs("div",{className:`saas-card !p-0 overflow-hidden ${t?"":"max-w-4xl mx-auto"}`,children:[e.jsxs("div",{className:"p-4 md:p-6 border-b border-slate-100 flex items-center justify-between bg-gradient-to-r from-slate-50/50 to-white",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-violet-100 text-violet-600 flex items-center justify-center",children:e.jsx(Qe,{size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-black text-slate-800 tracking-tight uppercase tracking-widest text-xs",children:"Today's Follow-ups"}),e.jsxs("p",{className:"text-[10px] font-bold text-slate-400",children:["Scheduled for ",h]})]})]}),e.jsxs("span",{className:"px-3 py-1 rounded-lg bg-violet-600 text-white text-[10px] font-black",children:[p.length," PENDING"]})]}),e.jsx("div",{className:"divide-y divide-slate-50",children:p.length>0?p.map(b=>e.jsxs("div",{className:"p-4 md:p-5 flex flex-col sm:flex-row sm:items-center justify-between gap-4 hover:bg-slate-50/50 transition-colors group",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"w-12 h-12 rounded-full border-2 border-violet-100 bg-white flex items-center justify-center text-violet-600 font-black relative overflow-hidden group-hover:scale-110 transition-transform duration-500",children:[b.name.charAt(0),e.jsx("div",{className:"absolute inset-0 bg-violet-600 opacity-0 group-hover:opacity-10 transition-opacity"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-slate-800 tracking-tight group-hover:text-violet-700 transition-colors uppercase text-sm",children:b.name}),e.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-slate-400 text-[11px] font-medium",children:[e.jsx(Hs,{size:10,className:"text-violet-400"}),b.phone]}),e.jsxs("div",{className:"flex items-center gap-1.5 text-slate-400 text-[11px] font-medium",children:[e.jsx(Qe,{size:10,className:"text-violet-400"}),b.followUpTime||"Not set"]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 w-full sm:w-auto",children:[e.jsx("a",{href:`tel:${b.phone}`,className:"flex-1 sm:flex-none p-3 rounded-xl bg-slate-50 text-slate-400 hover:bg-violet-50 hover:text-violet-600 transition-all flex items-center justify-center",title:"Call Now",children:e.jsx(Hs,{size:18})}),e.jsx("button",{onClick:()=>f(b.id),className:`flex-[2] sm:flex-none px-6 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all shadow-sm flex items-center justify-center gap-2 ${l===b.id?"bg-emerald-500 text-white shadow-emerald-200":"bg-white border border-slate-200 text-slate-600 hover:border-violet-300 hover:text-violet-700"}`,children:l===b.id?e.jsxs(e.Fragment,{children:[e.jsx(xr,{size:14,strokeWidth:3}),"Done"]}):e.jsxs(e.Fragment,{children:[e.jsx(Qt,{size:14}),"Mark Contacted"]})})]})]},b.id)):e.jsxs("div",{className:"p-12 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-4 text-slate-200",children:e.jsx(Qe,{size:32})}),e.jsx("p",{className:"text-slate-400 font-bold text-sm tracking-tight uppercase",children:"No follow-ups scheduled for today"})]})}),!t&&p.length>0&&e.jsx("div",{className:"p-6 bg-slate-50/50 border-t border-slate-100 flex justify-center",children:e.jsxs("button",{className:"text-violet-600 font-black uppercase tracking-widest text-[10px] hover:underline flex items-center gap-2",children:["View All History",e.jsx(sw,{size:14})]})})]})},Z0=ye,D7=async()=>{try{return(await Z0.get("/branch-admin/dashboard/stats")).data}catch(t){throw t.response?.data?.message||"Failed to fetch dashboard stats"}},M7=async()=>{try{return(await Z0.get("/branch-admin/dashboard/activities")).data}catch(t){throw t.response?.data?.message||"Failed to fetch recent activities"}},L7=async()=>{try{return(await Z0.get("/branch-admin/dashboard/trainers")).data}catch(t){throw t.response?.data?.message||"Failed to fetch trainer availability"}},z7=async()=>{try{return(await Z0.get("/branch-admin/dashboard/financials")).data}catch(t){throw t.response?.data?.message||"Failed to fetch financial stats"}},E7=async()=>{try{return(await Z0.get("/branch-admin/dashboard/live-access")).data}catch(t){throw t.response?.data?.message||"Failed to fetch live access data"}},T7=async()=>{try{return(await Z0.get("/branch-admin/dashboard/renewal-alerts")).data}catch(t){throw t.response?.data?.message||"Failed to fetch renewal alerts"}},Sw=({alertsData:t})=>{const s=qt(),[a,l]=v.useState({expiringSoon:[],recentlyExpired:[]}),[i,o]=v.useState(!t),d=new Date,x=p=>{const b=new Date(p)-d;return Math.ceil(b/(1e3*60*60*24))};v.useEffect(()=>{if(t){l({expiringSoon:t.expiringSoon||[],recentlyExpired:t.recentlyExpired||[]}),o(!1);return}(async()=>{try{o(!0);const f=await T7();l({expiringSoon:f.expiringSoon||[],recentlyExpired:f.recentlyExpired||[]})}catch(f){console.error("Failed to load renewal alerts",f)}finally{o(!1)}})()},[t]);const{expiringSoon:u,recentlyExpired:h}=a;return e.jsxs("div",{className:"bg-white rounded-[32px] shadow-xl border border-slate-100 overflow-hidden hover:shadow-2xl transition-all duration-500",children:[e.jsxs("div",{className:"p-4 md:p-6 border-b border-slate-100 bg-gradient-to-r from-amber-50/50 to-rose-50/50 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-2xl bg-white shadow-sm flex items-center justify-center text-amber-500",children:e.jsx(hs,{size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tight",children:"Renewal Alerts"}),e.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Retention Opportunity"})]})]}),e.jsxs("button",{onClick:()=>s("/members/renewal-alerts"),className:"flex items-center gap-1 px-4 py-2 rounded-xl bg-white border border-slate-200 text-[10px] font-black uppercase tracking-widest text-slate-600 hover:border-amber-500 hover:text-amber-600 transition-all shadow-sm",children:["View All ",e.jsx(js,{size:14})]})]}),e.jsxs("div",{className:"p-4 md:p-6 space-y-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between px-2",children:[e.jsxs("h4",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-amber-500 animate-pulse"}),"Expiring in 7 Days"]}),e.jsxs("span",{className:"text-[10px] font-bold text-amber-600 bg-amber-50 px-2 py-0.5 rounded-md",children:[u.length," Members"]})]}),e.jsx("div",{className:"space-y-3",children:u.length>0?u.map(p=>e.jsxs("div",{className:"group relative p-4 rounded-2xl bg-slate-50 border border-slate-100 hover:border-amber-200 hover:bg-white hover:shadow-lg transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-white flex items-center justify-center font-black text-slate-400 group-hover:bg-amber-500 group-hover:text-white transition-all",children:p.memberName.charAt(0)}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-black text-slate-800",children:p.memberName}),e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:p.planName})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-[10px] font-black text-amber-600 uppercase",children:"Ends In"}),e.jsxs("p",{className:"text-sm font-black text-slate-700",children:[x(p.endDate)," Days"]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"flex-1 py-2 rounded-lg bg-white border border-slate-200 flex items-center justify-center text-slate-500 hover:text-green-600 hover:border-green-200 transition-all",children:e.jsx(Hs,{size:14})}),e.jsx("button",{className:"flex-1 py-2 rounded-lg bg-white border border-slate-200 flex items-center justify-center text-slate-500 hover:text-blue-500 hover:border-blue-200 transition-all",children:e.jsx(Gh,{size:14})}),e.jsx("button",{className:"flex-[2] py-2 rounded-lg bg-amber-500 text-white text-[10px] font-black uppercase tracking-widest shadow-lg shadow-amber-100 hover:bg-amber-600 transition-all",children:"Renew"})]})]},p.id)):e.jsx("div",{className:"py-8 text-center bg-slate-50/50 rounded-2xl border border-dashed border-slate-200",children:e.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"No immediate renewals"})})})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-100",children:[e.jsxs("div",{className:"flex items-center justify-between px-2",children:[e.jsxs("h4",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-rose-500"}),"Recently Expired"]}),e.jsxs("span",{className:"text-[10px] font-bold text-rose-600 bg-rose-50 px-2 py-0.5 rounded-md",children:[h.length," Members"]})]}),e.jsx("div",{className:"space-y-3",children:h.length>0?h.map(p=>e.jsx("div",{className:"group p-4 rounded-2xl bg-slate-50/50 border border-slate-100 hover:bg-white hover:border-rose-200 hover:shadow-lg transition-all duration-300",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-9 h-9 rounded-lg bg-white flex items-center justify-center font-black text-slate-300 group-hover:bg-rose-500 group-hover:text-white transition-all text-xs",children:p.memberName.charAt(0)}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-slate-800",children:p.memberName}),e.jsxs("p",{className:"text-[9px] font-bold text-slate-400 uppercase italic",children:["Expired ",Math.abs(x(p.endDate))," days ago"]})]})]}),e.jsx("button",{className:"p-2 rounded-lg bg-white border border-slate-200 text-slate-400 hover:text-rose-600 hover:border-rose-200 transition-all",children:e.jsx(Hs,{size:14})})]})},p.id)):e.jsx("p",{className:"text-center py-4 text-xs font-bold text-slate-300 uppercase tracking-widest",children:"No recent expirations"})})]})]})]})},Cw=({userRole:t="STAFF"})=>{const s=qt(),[a,l]=v.useState(new Date().toLocaleTimeString()),[i,o]=v.useState([]),[d,x]=v.useState(!0),[u,h]=v.useState(null),[p,f]=v.useState(!1),[b,g]=v.useState(""),j=async()=>{try{x(!0);const L=await E7();o(L||[])}catch(L){console.error("LiveAccessControl fetch error:",L)}finally{x(!1)}};v.useEffect(()=>{j();const L=setInterval(j,6e4);return()=>clearInterval(L)},[]),v.useEffect(()=>{const L=setInterval(()=>{l(new Date().toLocaleTimeString())},1e4);return()=>clearInterval(L)},[]);const A=L=>{const N=new Date,P=new Date(L.expiry),_=L.balance||0;if(P<N)return{type:"RED",label:"EXPIRED - STOP",icon:F1,color:"text-rose-600",bg:"bg-rose-50",border:"border-rose-100 shadow-rose-100"};if(_>0)return{type:"RED",label:"PAYMENT DUE - STOP",icon:zr,iconColor:"text-rose-600",bg:"bg-rose-50",border:"border-rose-100 shadow-rose-100"};const F=P-N;return Math.ceil(F/(1e3*60*60*24))<=3?{type:"YELLOW",label:"EXPIRING SOON",icon:Qe,color:"text-amber-600",bg:"bg-amber-50",border:"border-amber-100 shadow-amber-100"}:{type:"GREEN",label:"ACTIVE - ALLOWED",icon:Xt,color:"text-emerald-600",bg:"bg-emerald-50",border:"border-emerald-100 shadow-emerald-100"}},w=t==="MANAGER"||t==="BRANCH_ADMIN",k=L=>{const N=A(L);N.type==="RED"?(h(L),f(!0)):N.type==="YELLOW"?alert(`Reminder sent to ${L.member}`):s("/memberships/"+L.id)},C=()=>{if(!b.trim())return alert("Please enter an override reason.");alert(`Entry overridden for ${u.member} by ${t}. Reason: ${b}`),f(!1),h(null),g("")};return e.jsxs("div",{className:"bg-white rounded-[40px] shadow-2xl border border-slate-100 overflow-hidden mb-8",children:[e.jsxs("div",{className:"p-8 border-b border-slate-100 bg-gradient-to-r from-slate-900 to-slate-800 flex flex-col md:flex-row md:items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"w-14 h-14 rounded-2xl bg-white/10 backdrop-blur-md flex items-center justify-center text-white relative",children:[e.jsx(Rs,{size:28}),e.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-emerald-500 rounded-full border-2 border-slate-900 animate-pulse"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-black text-white tracking-tight",children:"Live Access Control"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:"text-[10px] font-black text-emerald-400 uppercase tracking-widest bg-emerald-500/10 px-2 py-0.5 rounded-lg border border-emerald-500/20",children:"Monitor Operational"}),e.jsxs("span",{className:"text-[10px] font-bold text-slate-400 italic",children:["Last Refresh: ",a]})]})]})]}),e.jsx("div",{className:"flex gap-3",children:e.jsxs("button",{className:"flex items-center gap-2 px-6 py-3 bg-white/10 hover:bg-white/20 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all",children:[e.jsx(yl,{size:16})," Security Logs"]})})]}),e.jsx("div",{className:"hidden md:block overflow-x-auto",children:e.jsxs("table",{className:"w-full min-w-[1000px]",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50/80 border-b border-slate-100",children:[e.jsx("th",{className:"px-8 py-6 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Member Info"}),e.jsx("th",{className:"px-8 py-6 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Membership Plan"}),e.jsx("th",{className:"px-8 py-6 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Dues / Expiry"}),e.jsx("th",{className:"px-8 py-6 text-center text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Security Status"}),e.jsx("th",{className:"px-8 py-6 text-right text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Action"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:i.map(L=>{const N=A(L);return e.jsxs("tr",{className:`group transition-colors ${N.type==="RED"?"bg-rose-50/30":"hover:bg-slate-50/80"}`,children:[e.jsx("td",{className:"px-8 py-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:L.photo,className:"w-12 h-12 rounded-2xl object-cover border-2 border-white shadow-md group-hover:scale-110 transition-transform",alt:""}),e.jsx("div",{className:`absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 border-white ${N.type==="RED"?"bg-rose-500":"bg-emerald-500"}`})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-black text-slate-900 block group-hover:text-slate-700 transition-colors uppercase tracking-tight",children:L.member}),e.jsxs("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:["Logged: ",L.time]})]})]})}),e.jsx("td",{className:"px-8 py-6",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-black text-slate-700 tracking-tight",children:L.plan}),e.jsx("span",{className:"text-[10px] font-medium text-slate-400 uppercase",children:"Premium Member"})]})}),e.jsx("td",{className:"px-8 py-6",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("span",{className:`text-sm font-black tabular-nums ${L.balance>0?"text-rose-600":"text-slate-700"}`,children:["",L.balance?.toLocaleString()||0," Dues"]}),e.jsxs("span",{className:"text-[10px] font-bold text-slate-400 uppercase italic",children:["Exp: ",L.expiry]})]})}),e.jsx("td",{className:"px-8 py-6",children:e.jsxs("div",{className:`mx-auto flex items-center justify-center gap-2 px-4 py-2 rounded-2xl border ${N.bg} ${N.color} ${N.border} shadow-sm max-w-[180px]`,children:[e.jsx(N.icon,{size:16,strokeWidth:3}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-wider",children:N.label})]})}),e.jsx("td",{className:"px-8 py-6 text-right",children:e.jsx("button",{onClick:()=>k(L),className:`h-11 px-6 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${N.type==="RED"?"bg-rose-600 text-white shadow-lg shadow-rose-200 hover:scale-105 active:scale-95":"bg-white border-2 border-slate-100 text-slate-600 hover:border-slate-200"}`,children:N.type==="RED"?"Authorize":"View Profile"})})]},L.id)})})]})}),e.jsx("div",{className:"md:hidden p-4 space-y-4",children:i.map(L=>{const N=A(L);return e.jsxs("div",{className:`p-4 rounded-3xl border ${N.type==="RED"?"bg-rose-50/30 border-rose-100":"bg-white border-slate-100"} shadow-sm`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:L.photo,className:"w-12 h-12 rounded-2xl object-cover border-2 border-white shadow-md",alt:""}),e.jsx("div",{className:`absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 border-white ${N.type==="RED"?"bg-rose-500":"bg-emerald-500"}`})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-black text-slate-900 block uppercase tracking-tight",children:L.member}),e.jsxs("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:["Logged: ",L.time]})]})]}),e.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full ${N.bg} ${N.color}`,children:e.jsx(N.icon,{size:16,strokeWidth:3})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Plan"}),e.jsx("p",{className:"text-sm font-bold text-slate-700",children:L.plan})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Dues"}),e.jsxs("p",{className:`text-sm font-black tabular-nums ${L.balance>0?"text-rose-600":"text-slate-700"}`,children:["",L.balance?.toLocaleString()||0]})]})]}),e.jsx("button",{onClick:()=>k(L),className:`w-full py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${N.type==="RED"?"bg-rose-600 text-white shadow-lg shadow-rose-200":"bg-white border-2 border-slate-100 text-slate-600"}`,children:N.type==="RED"?"Authorize Entry":"View Profile"})]},L.id)})}),p&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-md animate-in fade-in duration-300",children:e.jsx("div",{className:"bg-white w-full max-w-lg rounded-[40px] shadow-2xl border border-slate-100 overflow-hidden transform animate-in slide-in-from-bottom-8 duration-500",children:e.jsxs("div",{className:"p-10 text-center",children:[e.jsx("div",{className:"w-24 h-24 rounded-[32px] bg-rose-50 text-rose-600 flex items-center justify-center mx-auto mb-8 animate-bounce transition-all",children:e.jsx(F1,{size:48})}),e.jsx("h2",{className:"text-3xl font-black text-slate-900 tracking-tight mb-3 uppercase italic",children:"Access Blocked"}),e.jsxs("p",{className:"text-slate-500 font-medium mb-8 leading-relaxed",children:[e.jsx("span",{className:"font-black text-rose-600",children:u?.member})," has outstanding dues of ",e.jsxs("span",{className:"font-black",children:["",u?.balance]})," or an expired membership. Gym entry is restricted."]}),e.jsxs("div",{className:"space-y-4 mb-8",children:[e.jsxs("button",{onClick:()=>s("/finance/cashier"),className:"w-full py-5 bg-emerald-600 text-white rounded-3xl font-black uppercase tracking-[0.2em] text-xs shadow-xl shadow-emerald-200 hover:scale-[1.02] active:scale-95 transition-all flex items-center justify-center gap-3",children:[e.jsx(Xl,{size:18})," Receive Payment"]}),w?e.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-100",children:[e.jsxs("div",{className:"text-left",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1 mb-2 block",children:"Override Reason (Manager Only)"}),e.jsx("textarea",{value:b,onChange:L=>g(L.target.value),placeholder:"e.g. Authorized by director / Technical issues",className:"w-full p-6 h-32 rounded-3xl border-2 border-slate-100 focus:border-rose-500 focus:ring-4 focus:ring-rose-500/10 font-bold text-sm outline-none transition-all bg-slate-50/50"})]}),e.jsxs("button",{onClick:C,className:"w-full py-5 bg-slate-900 text-white rounded-3xl font-black uppercase tracking-[0.2em] text-xs shadow-xl hover:scale-[1.02] active:scale-95 transition-all flex items-center justify-center gap-3",children:[e.jsx(lC,{size:18})," Forced Override entry"]})]}):e.jsxs("div",{className:"p-4 rounded-2xl bg-slate-50 border border-slate-100 flex items-center gap-3 opacity-60",children:[e.jsx(Rs,{size:16,className:"text-slate-400"}),e.jsx("span",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest italic",children:"Manager Authorization Required for Override"})]})]}),e.jsx("button",{onClick:()=>{f(!1),h(null)},className:"text-[10px] font-black text-slate-400 uppercase tracking-widest hover:text-slate-600 transition-colors",children:"Dismiss Check-in"})]})})})]})},Aw=({equipment:t=[],equipmentStats:s})=>{const a=qt(),l=s?s.totalAssets:t.length,i=s?s.operational:t.filter(u=>u.status==="Operational").length,o=s?s.outOfOrder:t.filter(u=>u.status==="Under Maintenance").length,d=s?s.outOfOrder:t.filter(u=>u.status==="Out of Order").length,x=[{label:"Total Assets",count:l,icon:ol,color:"slate",border:"border-slate-200"},{label:"Operational",count:i,icon:Xt,color:"emerald",border:"border-emerald-200"},{label:"In Maintenance",count:o,icon:Kl,color:"amber",border:"border-amber-200"},{label:"Out of Order",count:d,icon:zr,color:"red",border:"border-red-200"}];return e.jsxs("div",{className:"bg-white rounded-3xl p-4 md:p-6 shadow-sm border border-slate-200 h-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 md:mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-black text-slate-800 tracking-tight",children:"Facility Status"}),e.jsx("p",{className:"text-slate-400 text-xs font-medium",children:"Equipment health overview"})]}),e.jsx("button",{onClick:()=>a("/facility/equipment"),className:"p-2 bg-slate-50 text-slate-400 hover:text-slate-900 rounded-xl transition-all",children:e.jsx(il,{size:20})})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:x.map((u,h)=>e.jsxs("div",{className:`p-4 rounded-2xl border-2 ${u.border} bg-white hover:scale-[1.02] transition-all cursor-default group`,children:[e.jsx("div",{className:`w-8 h-8 rounded-lg bg-${u.color}-50 text-${u.color}-600 flex items-center justify-center mb-3 group-hover:rotate-12 transition-transform`,children:e.jsx(u.icon,{size:18})}),e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:u.label}),e.jsx("p",{className:"text-xl font-black text-slate-800 mt-1",children:u.count})]},h))})]})},_7=["Cardio","Strength","Free Weights","Other"],zh=[{label:"Operational",color:"emerald",value:"Operational"},{label:"Under Maintenance",color:"amber",value:"Under Maintenance"},{label:"Out of Order",color:"red",value:"Out of Order"},{label:"Scheduled Service",color:"blue",value:"Scheduled Service"}],P7=()=>{const[t,s]=v.useState([]),[a,l]=v.useState([]),[i,o]=v.useState([]),[d,x]=v.useState({collection:{cash:0,upi:0,card:0},expenses:{today:0}}),[u,h]=v.useState([]),[p,f]=v.useState({defaulters:0,expiringSoon:0,manualOverrides:0}),[b,g]=v.useState(!0),j=qt();return v.useEffect(()=>{(async()=>{try{const[w,k,C,L]=await Promise.all([D7(),M7(),L7(),z7()]),N=w.stats.map(P=>({...P,icon:P.icon==="Users"?_t:P.icon==="CheckCircle"?Qt:P.icon==="DollarSign"?Xl:_t}));s(N),l(k),o(C),x(L),w.equipment&&h(w.equipment),w.risks&&f(w.risks)}catch(w){console.error("Failed to load dashboard data:",w)}finally{g(!1)}})()},[]),b?e.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-6rem)]",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-violet-600 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"text-slate-500 font-medium animate-pulse uppercase tracking-[0.2em] text-[10px]",children:"Synchronizing Branch Data..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 md:p-6",children:[e.jsxs("div",{className:"mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx($t,{size:28})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Branch Overview"}),e.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Real-time branch performance and activity monitoring"})]})]})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:t.map((A,w)=>{const k=A.icon,C=["from-violet-500 to-purple-600","from-emerald-500 to-emerald-600","from-blue-500 to-blue-600","from-fuchsia-500 to-fuchsia-600"];return e.jsxs("div",{className:"group relative bg-white rounded-2xl shadow-lg border border-slate-100 p-4 md:p-6 hover:shadow-2xl transition-all duration-300 hover:-translate-y-1 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50/50 to-purple-50/50 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-semibold text-slate-600 mb-2",children:A.title}),e.jsx("h3",{className:"text-3xl font-black text-slate-900 mb-2",children:A.value}),e.jsxs("p",{className:"text-xs font-semibold text-slate-500 flex items-center gap-1",children:[e.jsx(Js,{size:14,className:"text-emerald-500"}),A.trend]})]}),e.jsx("div",{className:`w-14 h-14 rounded-xl bg-gradient-to-br ${C[w%4]} flex items-center justify-center text-white shadow-lg transition-all duration-300 group-hover:scale-110 group-hover:rotate-6`,children:e.jsx(k,{size:24})})]})]},A.id)})}),e.jsx("div",{className:"mb-10",children:e.jsx(Cw,{userRole:"MANAGER"})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 pb-12",children:[e.jsx(Aw,{equipment:u}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 p-4 md:p-6 hover:shadow-2xl transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6 pb-4 border-b border-slate-100",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-emerald-100 to-emerald-200 flex items-center justify-center text-emerald-600 shadow-md",children:e.jsx(_t,{size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Trainer Status"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Current availability and sessions"})]})]}),e.jsx("div",{className:"space-y-4",children:i.map(A=>e.jsxs("div",{className:"group flex items-center justify-between p-4 rounded-xl bg-slate-50/50 hover:bg-gradient-to-r hover:from-emerald-50/50 hover:to-emerald-100/50 border border-slate-100 hover:border-emerald-200 transition-all duration-300 hover:shadow-md",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-11 h-11 rounded-xl flex items-center justify-center text-white shadow-md transition-all duration-300 group-hover:scale-110 group-hover:rotate-6 ${A.status==="Available"?"bg-gradient-to-br from-emerald-500 to-emerald-600":"bg-gradient-to-br from-orange-500 to-orange-600"}`,children:e.jsx(lt,{size:20})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-slate-900 text-sm",children:A.name}),e.jsx("div",{className:"text-xs text-slate-500 font-medium",children:A.specialty})]})]}),e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-bold border shadow-sm transition-all duration-300 hover:scale-105 ${A.status==="Available"?"bg-gradient-to-r from-emerald-50 to-emerald-100 text-emerald-700 border-emerald-200":"bg-gradient-to-r from-orange-50 to-orange-100 text-orange-700 border-orange-200"}`,children:[e.jsx("span",{className:`inline-block w-2 h-2 rounded-full animate-pulse ${A.status==="Available"?"bg-emerald-500":"bg-orange-500"}`}),A.status]})]},A.id))})]})]}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-black text-slate-800 tracking-tight",children:"Daily Collection Summary"}),e.jsx("p",{className:"text-xs font-semibold text-slate-500 italic",children:"Real-time revenue tracking for today"})]}),e.jsxs("button",{onClick:()=>j("/finance/cashier"),className:"px-6 py-2.5 bg-emerald-500 text-white rounded-xl text-xs font-black uppercase tracking-widest hover:bg-emerald-600 transition-all shadow-lg shadow-emerald-200 flex items-center gap-2",children:[e.jsx(Xl,{size:16}),"Receive Payment"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-[24px] md:rounded-[32px] p-4 md:p-6 border border-slate-100 shadow-xl flex items-center gap-4 md:gap-5 group hover:border-emerald-200 transition-all",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-emerald-50 text-emerald-500 flex items-center justify-center group-hover:scale-110 transition-transform",children:e.jsx(xa,{size:28})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Cash Collection"}),e.jsxs("h4",{className:"text-2xl font-black text-slate-800",children:["",d.collection.cash.toLocaleString()]})]})]}),e.jsxs("div",{className:"bg-white rounded-[24px] md:rounded-[32px] p-4 md:p-6 border border-slate-100 shadow-xl flex items-center gap-4 md:gap-5 group hover:border-violet-200 transition-all",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-violet-50 text-violet-500 flex items-center justify-center group-hover:scale-110 transition-transform",children:e.jsx(Jl,{size:28})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"UPI / QR Sales"}),e.jsxs("h4",{className:"text-2xl font-black text-slate-800",children:["",d.collection.upi.toLocaleString()]})]})]}),e.jsxs("div",{className:"bg-white rounded-[24px] md:rounded-[32px] p-4 md:p-6 border border-slate-100 shadow-xl flex items-center gap-4 md:gap-5 group hover:border-blue-200 transition-all",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-blue-50 text-blue-500 flex items-center justify-center group-hover:scale-110 transition-transform",children:e.jsx(Ps,{size:28})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Card Payments"}),e.jsxs("h4",{className:"text-2xl font-black text-slate-800",children:["",d.collection.card.toLocaleString()]})]})]}),e.jsxs("div",{className:"bg-slate-900 rounded-[24px] md:rounded-[32px] p-4 md:p-6 shadow-xl flex items-center gap-4 md:gap-5 group hover:scale-[1.02] transition-all text-white border-2 border-slate-800",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-white/20 backdrop-blur-md flex items-center justify-center group-hover:rotate-12 transition-transform",children:e.jsx(Xl,{size:28})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest",children:"Net Revenue Today"}),e.jsxs("h4",{className:"text-2xl font-black italic",children:["",(d.collection.cash+d.collection.upi+d.collection.card-d.expenses.today).toLocaleString()]})]})]})]})]}),e.jsx("div",{className:"mt-8",children:e.jsx(Sw,{})}),e.jsxs("div",{className:"mt-8 bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-100 bg-emerald-50/20",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-emerald-100 to-emerald-200 flex items-center justify-center text-emerald-600 shadow-md",children:e.jsx(Qe,{size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Branch Follow-ups Today"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Track all pending follow-ups for the branch"})]})]}),e.jsxs("button",{onClick:()=>j("/crm/followups"),className:"flex items-center gap-2 px-4 py-2 bg-white border border-slate-200 text-slate-600 rounded-xl text-sm font-bold hover:border-emerald-500 hover:text-emerald-600 transition-all shadow-sm",children:["View Full Pipeline ",e.jsx(js,{size:16})]})]}),e.jsx("div",{className:"p-6",children:e.jsx(Sg,{isWidget:!0})})]})]})},R7=[{id:"TXN-1001",member:"John Doe",type:"Membership",amount:15e3,date:"2025-02-13",status:"Completed",method:"UPI",branchId:"B001",receivedBy:"S-001",referenceNumber:"UPI882299"},{id:"TXN-1002",member:"Jane Smith",type:"POS - Whey Protein",amount:4500,date:"2025-02-13",status:"Completed",method:"Card",branchId:"B001",receivedBy:"S-001",referenceNumber:"CRD771100"},{id:"TXN-1003",member:"Mike Johnson",type:"Membership",amount:5e3,date:"2025-02-12",status:"Failed",method:"UPI",branchId:"B001",receivedBy:"S-002",referenceNumber:"UPI554433"},{id:"TXN-1004",member:"Sarah Williams",type:"Personal Training",amount:12e3,date:"2025-02-11",status:"Completed",method:"Cash",branchId:"B001",receivedBy:"S-001"},{id:"TXN-1005",member:"David Brown",type:"POS - Energy Drink",amount:150,date:"2025-02-10",status:"Completed",method:"UPI",branchId:"B001",receivedBy:"S-001",referenceNumber:"UPI112233"}],gd={revenue:{monthly:45e4,ytd:28e5,growth:"+12.5%"},expenses:{total:12e4,pending:15e3},dues:{total:45e3,count:8}},O7={stats:[{id:1,title:"Active Members",value:"0",icon:_t,trend:"...",color:"primary"},{id:2,title:"Classes Today",value:"0",icon:Ve,trend:"...",color:"success"},{id:3,title:"Payments Due",value:"0",icon:hs,trend:"...",color:"warning"}],attendance:[],financials:{collectionToday:0,pendingDuesAmount:0,localExpenses:0},equipmentStats:{totalAssets:0,operational:0,outOfOrder:0},tasksAndNotices:[]},F7=()=>{const t=qt(),[s,a]=v.useState(O7),[l,i]=v.useState(!0);return v.useEffect(()=>{(async()=>{try{const x=(await ye.get("/dashboard/manager")).data;a(u=>({...u,stats:[{...u.stats[0],value:x.activeMembers?.toString()||"0"},{...u.stats[1],value:x.classesToday?.toString()||"0"},{...u.stats[2],value:x.paymentsDue?.toString()||"0"}],attendance:x.attendance||u.attendance,financials:{collectionToday:x.collectionToday||0,pendingDuesAmount:x.pendingDuesAmount||0,localExpenses:x.localExpenses||0},equipmentStats:x.equipmentStats||{totalAssets:0,operational:0,outOfOrder:0},tasksAndNotices:x.tasksAndNotices||[]}))}catch(d){console.error("Failed to fetch manager dashboard:",d)}finally{i(!1)}})()},[]),l?e.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-6rem)]",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-violet-600 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"text-slate-500 font-medium animate-pulse uppercase tracking-[0.2em] text-[10px]",children:"Accessing Manager Intelligence..."})]})}):e.jsxs("div",{className:"fade-in",children:[e.jsx("h2",{className:"text-title",style:{marginBottom:"var(--space-4)"},children:"Manager Dashboard"}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-emerald-50 text-emerald-600 rounded-lg",children:e.jsx(Xl,{size:18,strokeWidth:2.5})}),e.jsx("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-wider",children:"Revenue Protection Today"})]}),e.jsxs("button",{onClick:()=>t("/finance/transactions"),className:"text-[10px] font-black text-violet-600 hover:text-violet-700 flex items-center gap-1 uppercase tracking-widest bg-violet-50 px-3 py-1.5 rounded-lg transition-all",children:["View Audit Log ",e.jsx(jl,{size:10})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-2xl p-5 border border-slate-100 shadow-sm hover:shadow-md transition-all group overflow-hidden relative",children:[e.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-emerald-50/50 rounded-bl-full -mr-10 -mt-10 group-hover:bg-emerald-100/50 transition-colors"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 mb-1 uppercase tracking-widest",children:"Today's Collection"}),e.jsxs("h4",{className:"text-2xl font-black text-slate-800 flex items-center gap-1",children:[e.jsx("span",{className:"text-emerald-500 font-bold",children:""}),s.financials?.collectionToday.toLocaleString()]}),e.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[e.jsxs("span",{className:"px-2 py-0.5 bg-emerald-50 text-emerald-600 text-[9px] font-black rounded-md flex items-center gap-1",children:[e.jsx(Js,{size:10})," Healthy"]}),e.jsx("span",{className:"text-[9px] font-bold text-slate-400 italic",children:"Cash + Digital"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-5 border border-slate-100 shadow-sm hover:shadow-md transition-all group overflow-hidden relative",children:[e.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-amber-50/50 rounded-bl-full -mr-10 -mt-10 group-hover:bg-amber-100/50 transition-colors"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 mb-1 uppercase tracking-widest",children:"Pending Dues"}),e.jsxs("h4",{className:"text-2xl font-black text-slate-800 flex items-center gap-1",children:[e.jsx("span",{className:"text-amber-500 font-bold",children:""}),s.financials?.pendingDuesAmount.toLocaleString()]}),e.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[e.jsxs("span",{className:"px-2 py-0.5 bg-amber-50 text-amber-600 text-[9px] font-black rounded-md",children:[s.stats.find(o=>o.title==="Payments Due")?.value," Invoices"]}),e.jsx("button",{onClick:()=>t("/finance/invoices"),className:"text-[9px] font-black text-violet-600 underline",children:"Send Reminders"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-5 border border-slate-100 shadow-sm hover:shadow-md transition-all group overflow-hidden relative",children:[e.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-blue-50/50 rounded-bl-full -mr-10 -mt-10 group-hover:bg-blue-100/50 transition-colors"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 mb-1 uppercase tracking-widest",children:"Local Expenses"}),e.jsxs("h4",{className:"text-2xl font-black text-slate-800 flex items-center gap-1",children:[e.jsx("span",{className:"text-blue-500 font-bold",children:""}),s.financials?.localExpenses.toLocaleString()]}),e.jsx("div",{className:"mt-2 flex items-center gap-2",children:e.jsx("button",{onClick:()=>t("/finance/petty-cash"),className:"px-3 py-1 bg-slate-900 text-white text-[9px] font-black rounded-lg hover:bg-black transition-all",children:"Log Expense"})})]})]})]})]}),e.jsx(du,{children:s.stats.map(o=>e.jsx(Gn,{...o},o.id))}),e.jsx("div",{className:"mt-8",children:e.jsx(Aw,{equipmentStats:s.equipmentStats})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mt-6 sm:mt-8",children:[e.jsxs("div",{className:"relative bg-white rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6 hover:shadow-2xl transition-all duration-300 overflow-hidden group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50/30 via-purple-50/20 to-blue-50/30 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6 pb-4 border-b border-slate-100",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-lg sm:rounded-xl bg-gradient-to-br from-violet-500 via-purple-500 to-fuchsia-500 flex items-center justify-center text-white shadow-lg transition-all duration-300 group-hover:scale-110 group-hover:rotate-6",children:e.jsx(Er,{size:20,className:"sm:w-[22px] sm:h-[22px]",strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-x-2 gap-y-1",children:[e.jsx("h3",{className:"text-base sm:text-lg font-black text-slate-900",children:"Today's Classes"}),e.jsx("span",{className:"px-1.5 sm:px-2 py-0.5 bg-gradient-to-r from-violet-500 to-purple-600 text-white text-[9px] sm:text-[10px] font-black rounded sm:rounded-md shadow-sm animate-pulse whitespace-nowrap",children:"PREMIUM "})]}),e.jsx("p",{className:"text-[10px] sm:text-xs text-slate-500 font-semibold",children:"Scheduled classes and capacity"})]})]}),e.jsxs("button",{onClick:()=>t("/classes"),className:"px-3 sm:px-4 py-1.5 sm:py-2 bg-gradient-to-r from-violet-500 to-purple-600 text-white rounded-lg sm:rounded-xl text-[10px] sm:text-xs font-bold shadow-lg shadow-violet-500/50 hover:shadow-xl hover:shadow-violet-500/60 hover:scale-105 transition-all flex items-center gap-1.5 sm:gap-2 flex-shrink-0",children:["View Schedule ",e.jsx(jl,{size:12,className:"sm:w-[14px] sm:h-[14px]"})]})]}),e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[s.attendance.map((o,d)=>{const x=o.attendees/o.capacity*100,h=[{gradient:"from-violet-500 via-purple-500 to-fuchsia-500",bgColor:"from-violet-50 to-purple-50"},{gradient:"from-orange-500 via-red-500 to-pink-500",bgColor:"from-orange-50 to-red-50"}][d%2];return e.jsxs("div",{className:"group/class relative p-4 sm:p-5 rounded-xl sm:rounded-2xl bg-gradient-to-r from-slate-50/80 to-white border-2 border-slate-100 hover:border-violet-300 transition-all duration-300 hover:shadow-xl overflow-hidden",children:[e.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${h.bgColor} opacity-0 group-hover/class:opacity-100 transition-opacity duration-300`}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3 sm:mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 sm:w-12 sm:h-12 rounded-lg sm:rounded-xl bg-gradient-to-br ${h.gradient} flex items-center justify-center text-white shadow-lg transition-all duration-300 group-hover/class:scale-110 group-hover/class:rotate-12`,children:e.jsx(Er,{size:20,className:"sm:w-[22px] sm:h-[22px]",strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-black text-slate-900 text-sm sm:text-base",children:o.name}),e.jsxs("div",{className:"text-[10px] sm:text-xs text-slate-500 font-bold flex items-center gap-1 sm:gap-1.5 mt-0.5 sm:mt-1",children:[e.jsx(Qe,{size:12,className:"text-violet-500 sm:w-[13px] sm:h-[13px]"}),o.time]})]})]}),e.jsxs("div",{className:`px-3 sm:px-4 py-1.5 sm:py-2 rounded-lg sm:rounded-xl bg-gradient-to-r ${h.gradient} text-white text-[10px] sm:text-xs font-black shadow-lg`,children:[o.attendees," / ",o.capacity]})]}),e.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[e.jsx("div",{className:"w-full bg-slate-200 h-2.5 sm:h-3 rounded-full overflow-hidden shadow-inner",children:e.jsx("div",{className:`bg-gradient-to-r ${h.gradient} h-full rounded-full transition-all duration-700 shadow-lg relative overflow-hidden`,style:{width:`${x}%`},children:e.jsx("div",{className:"absolute inset-0 bg-white/20 animate-pulse"})})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("p",{className:"text-[10px] sm:text-xs text-slate-600 font-bold",children:[x.toFixed(0),"% Capacity"]}),e.jsx("span",{className:`text-[10px] sm:text-xs font-black ${x>=90?"text-red-600":x>=70?"text-orange-600":"text-emerald-600"}`,children:x>=90?"Almost Full":x>=70?"Filling Fast":"Available"})]})]})]})]},o.id)}),s.attendance.length===0&&e.jsx("div",{className:"p-4 text-center text-slate-500 font-semibold text-sm",children:"No classes scheduled today."})]})]})]}),e.jsxs("div",{className:"relative bg-white rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6 hover:shadow-2xl transition-all duration-300 overflow-hidden group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-50/30 via-orange-50/20 to-red-50/30 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6 pb-4 border-b border-slate-100",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-lg sm:rounded-xl bg-gradient-to-br from-violet-500 via-purple-500 to-fuchsia-500 flex items-center justify-center text-white shadow-lg transition-all duration-300 group-hover:scale-110 group-hover:rotate-6",children:e.jsx(wl,{size:20,className:"sm:w-[22px] sm:h-[22px] animate-pulse",strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-x-2 gap-y-1",children:[e.jsx("h3",{className:"text-base sm:text-lg font-black text-slate-900",children:"Tasks & Notices"}),e.jsx("span",{className:"px-1.5 sm:px-2 py-0.5 bg-gradient-to-r from-violet-500 to-purple-600 text-white text-[9px] sm:text-[10px] font-black rounded sm:rounded-md shadow-sm animate-pulse whitespace-nowrap",children:"PREMIUM "})]}),e.jsx("p",{className:"text-[10px] sm:text-xs text-slate-500 font-semibold",children:"Important updates and reminders"})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("span",{className:"inline-flex items-center gap-1 sm:gap-1.5 px-2.5 sm:px-3 py-1 sm:py-1.5 rounded-lg sm:rounded-xl bg-gradient-to-r from-red-500 to-red-600 text-white text-[10px] sm:text-xs font-black shadow-lg shadow-red-500/50",children:[s.tasksAndNotices.length," Pending"]})})]}),e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[s.tasksAndNotices.map(o=>{const d=o.type==="urgent",x=d?{bg:"red",icon:zr,txt:"red",border:"red-500"}:{bg:"blue",icon:_t,txt:"blue",border:"blue-500"},u=x.icon;return e.jsxs("div",{className:`group/task relative p-4 sm:p-5 rounded-xl sm:rounded-2xl bg-gradient-to-r from-${x.bg}-50 via-${x.bg}-50/50 to-white border-l-4 border-${x.border} hover:shadow-2xl transition-all duration-300 overflow-hidden`,children:[e.jsx("div",{className:`absolute inset-0 bg-gradient-to-r from-${x.bg}-100/50 to-transparent opacity-0 group-hover/task:opacity-100 transition-opacity duration-300`}),e.jsxs("div",{className:"relative z-10 flex items-start gap-3 sm:gap-4",children:[e.jsx("div",{className:`w-10 h-10 sm:w-12 sm:h-12 rounded-lg sm:rounded-xl bg-gradient-to-br from-${x.bg}-500 via-${x.bg}-600 to-${x.bg}-700 flex items-center justify-center text-white shadow-xl transition-all duration-300 group-hover/task:scale-110 group-hover/task:rotate-12`,children:e.jsx(u,{size:20,className:"sm:w-[22px] sm:h-[22px]",strokeWidth:2.5})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between mb-1.5 sm:mb-2",children:[e.jsx("h4",{className:`font-black text-${x.txt}-900 text-sm sm:text-base`,children:o.title}),e.jsx("span",{className:`px-2 sm:px-3 py-0.5 sm:py-1 bg-gradient-to-r from-${x.bg}-500 to-${x.bg}-600 text-white rounded-lg sm:rounded-xl text-[10px] sm:text-xs font-black shadow-lg uppercase`,children:d?"Urgent":"Notice"})]}),e.jsx("p",{className:`text-xs sm:text-sm text-${x.txt}-800 font-semibold mb-2 sm:mb-3`,children:o.description}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("div",{className:`flex items-center gap-1 sm:gap-1.5 px-2 sm:px-3 py-1 sm:py-1.5 bg-white/80 backdrop-blur-sm rounded-md sm:rounded-lg border border-${x.bg}-200`,children:[e.jsx(Qe,{size:12,className:`text-${x.txt}-500 sm:w-[13px] sm:h-[13px]`}),e.jsx("span",{className:`text-[10px] sm:text-xs text-${x.txt}-700 font-bold`,children:o.dueDate})]})})]})]})]},o.id)}),s.tasksAndNotices.length===0&&e.jsx("div",{className:"p-4 text-center text-slate-500 font-semibold text-sm",children:"No pending tasks or notices."})]}),e.jsx("div",{className:"mt-4 sm:mt-6 pt-3 sm:pt-4 border-t border-slate-100",children:e.jsxs("button",{onClick:()=>t("/facility/maintenance"),className:"w-full py-2.5 sm:py-3 bg-gradient-to-r from-violet-500 to-purple-600 text-white rounded-lg sm:rounded-xl text-[10px] sm:text-xs font-black uppercase tracking-widest shadow-xl shadow-violet-500/50 hover:shadow-2xl hover:shadow-violet-500/60 hover:scale-105 transition-all flex items-center justify-center gap-1.5 sm:gap-2",children:["View All Tasks ",e.jsx(jl,{size:12,className:"sm:w-[14px] sm:h-[14px]"})]})})]})]})]})]})},I7=({tickets:t=[]})=>{const s=qt(),a=t.filter(o=>o.status!=="Completed"&&o.status!=="Closed").length,l=t.filter(o=>o.severity==="Critical"&&o.status!=="Completed"&&o.status!=="Closed"),i=l.length;return e.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-sm border border-slate-200 h-full flex flex-col",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-red-50 text-red-600 flex items-center justify-center",children:e.jsx(zr,{size:24})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-black text-slate-800 tracking-tight",children:"Equipment Alerts"}),e.jsx("p",{className:"text-slate-400 text-xs font-medium",children:"Active maintenance tickets"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-2xl bg-slate-50 border border-slate-100 mb-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-none",children:"Total Open"}),e.jsx("p",{className:"text-2xl font-black text-slate-800 mt-2",children:a})]}),e.jsx("div",{className:"h-10 w-1 bg-slate-200 rounded-full"}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-[10px] font-black text-red-400 uppercase tracking-widest leading-none",children:"Critical"}),e.jsx("p",{className:"text-2xl font-black text-red-600 mt-2",children:i})]})]}),e.jsxs("div",{className:"flex-1 space-y-3 mb-6",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Critical Issues"}),l.length>0?l.slice(0,3).map(o=>e.jsxs("div",{className:"p-3 rounded-xl bg-red-50/50 border border-red-100/50 flex items-center justify-between group cursor-pointer hover:bg-red-50 transition-all",onClick:()=>s("/facility/maintenance"),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-red-100 text-red-600 flex items-center justify-center font-bold text-[10px]",children:o.id.split("-")[1]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-slate-800 leading-none",children:o.equipment}),e.jsx("p",{className:"text-[10px] text-red-500 font-medium mt-1",children:o.issueType})]})]}),e.jsx(jl,{size:14,className:"text-red-300 group-hover:translate-x-1 transition-all"})]},o.id)):e.jsx("div",{className:"p-4 rounded-xl border-2 border-dashed border-slate-100 text-center",children:e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"No critical issues"})})]}),e.jsxs("button",{onClick:()=>s("/facility/maintenance"),className:"w-full bg-slate-900 text-white py-4 rounded-2xl font-black text-xs uppercase tracking-widest flex items-center justify-center gap-2 hover:bg-slate-800 transition-all shadow-xl shadow-slate-200",children:["View Maintenance Board",e.jsx(jl,{size:16})]})]})},B7=["Not Working","Electrical Issue","Noise/Vibration","Physical Damage","Safety Risk","Other"],Dw=[{label:"Low",value:"Low",color:"blue"},{label:"Medium",value:"Medium",color:"amber"},{label:"High",value:"High",color:"orange"},{label:"Critical",value:"Critical",color:"red"}],ch=[{label:"Open",value:"Open",color:"red"},{label:"In Progress",value:"In Progress",color:"amber"},{label:"Waiting for Parts",value:"Waiting for Parts",color:"blue"},{label:"Completed",value:"Completed",color:"emerald"},{label:"Closed",value:"Closed",color:"slate"}],U7={stats:[{id:1,title:"Check-ins Today",value:"0",icon:Qt,color:"primary"},{id:2,title:"Pending Payments",value:"0",icon:Xl,color:"warning"},{id:3,title:"New Enquiries",value:"0",icon:_t,color:"success"}],checkins:[],activeUpdates:0,todayShift:"...",assignedTasks:0,highPriorityTasks:0,upcomingClasses:0,collectionToday:0,pendingActions:[]},$7=()=>{const t=qt(),[s,a]=v.useState(U7),[l,i]=v.useState(!0);if(v.useEffect(()=>{(async()=>{try{const u=(await ye.get("/dashboard/staff")).data;a(h=>({...h,stats:[{...h.stats[0],value:u.checkinsToday?.toString()||"0"},{...h.stats[1],value:u.pendingPayments?.toString()||"0"},{...h.stats[2],value:u.newEnquiries?.toString()||"0"}],activeUpdates:u.activeUpdates,todayShift:u.todayShift,assignedTasks:u.assignedTasks,highPriorityTasks:u.highPriorityTasks,upcomingClasses:u.upcomingClasses,collectionToday:u.collectionToday,equipmentAlerts:u.equipmentAlerts,pendingActions:u.pendingActions,renewalAlerts:u.renewalAlerts,checkins:u.checkins||h.checkins}))}catch(x){console.error("Failed to fetch staff dashboard:",x)}finally{i(!1)}})()},[]),l)return e.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-6rem)]",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-violet-600 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"text-slate-500 font-medium animate-pulse uppercase tracking-[0.2em] text-[10px]",children:"Veriving Operational Protocols..."})]})});const o=[{id:1,label:"Active Updates",value:s.activeUpdates!==void 0?s.activeUpdates.toString():"24",trend:"+12%",trendUp:!0,icon:$t,color:"violet",gradient:"from-violet-500 to-purple-600"},{id:2,label:"Today's Shift",value:s.todayShift||"09:00 - 17:00",subtext:"Next: Tomorrow 09:00",icon:Qe,color:"emerald",gradient:"from-emerald-400 to-emerald-600"},{id:3,label:"Assigned Tasks",value:s.assignedTasks!==void 0?s.assignedTasks.toString():"5",subtext:`${s.highPriorityTasks!==void 0?s.highPriorityTasks:"2"} High Priority`,icon:Qt,color:"amber",gradient:"from-amber-400 to-orange-500"},{id:4,label:"Upcoming Classes",value:s.upcomingClasses!==void 0?s.upcomingClasses.toString():"3",subtext:"Next in 45m",icon:Ve,color:"blue",gradient:"from-blue-400 to-indigo-600"}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6 animate-fadeIn",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6 flex-shrink-0",children:e.jsx(vd,{size:24,className:"sm:w-7 sm:h-7",strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Staff Dashboard"}),e.jsx("span",{className:"px-2 py-0.5 bg-gradient-to-r from-violet-500 to-purple-600 text-white text-[10px] font-black rounded-md shadow-sm animate-pulse whitespace-nowrap",children:"PREMIUM "})]}),e.jsx("p",{className:"text-slate-600 text-xs sm:text-sm mt-1",children:"Overview of your daily tasks and gym activity"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("button",{onClick:()=>t("/staff/attendance/check-in"),className:"flex items-center justify-center gap-2 px-5 py-3 bg-white border-2 border-slate-200 text-slate-700 rounded-xl text-sm font-bold shadow-sm hover:border-violet-500 hover:text-violet-600 hover:shadow-md transition-all duration-300",children:[e.jsx(Qe,{size:18,strokeWidth:2.5})," Clock In"]}),e.jsxs("button",{onClick:()=>t("/staff/attendance/check-in"),className:"flex items-center justify-center gap-2 px-5 py-3 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-xl text-sm font-bold shadow-xl shadow-violet-500/50 hover:shadow-2xl hover:shadow-violet-500/60 hover:scale-105 transition-all",children:[e.jsx(kl,{size:18,strokeWidth:2.5})," Member Check-in"]})]})]})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-8",children:o.map(d=>e.jsxs("div",{className:"group relative bg-white rounded-2xl p-6 shadow-lg border border-slate-100 hover:shadow-xl hover:border-violet-100 transition-all duration-300 hover:-translate-y-1 overflow-hidden",children:[e.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${d.gradient} opacity-0 group-hover:opacity-5 transition-opacity duration-300`}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("div",{className:`p-3 rounded-xl bg-${d.color}-50 text-${d.color}-600 group-hover:scale-110 transition-transform duration-300`,children:e.jsx(d.icon,{size:24,strokeWidth:2.5})}),d.trend&&e.jsx("span",{className:`flex items-center text-xs font-bold ${d.trendUp?"text-emerald-500":"text-red-500"} bg-${d.trendUp?"emerald":"red"}-50 px-2 py-1 rounded-lg`,children:d.trend})]}),e.jsx("h3",{className:"text-slate-500 text-xs font-black uppercase tracking-widest mb-1",children:d.label}),e.jsx("div",{className:"text-2xl font-black text-slate-800 mb-1",children:d.value}),d.subtext&&e.jsx("div",{className:"text-xs font-medium text-slate-400",children:d.subtext})]})]},d.id))}),e.jsx(Cw,{userRole:"STAFF",checkinsData:s.checkins}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6 sm:gap-8 auto-rows-min",children:[e.jsxs("div",{className:"bg-white rounded-3xl shadow-xl border border-slate-100 overflow-hidden h-fit",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 bg-emerald-50/30 flex justify-between items-center",children:[e.jsxs("h3",{className:"text-lg font-black text-slate-800 flex items-center gap-2",children:[e.jsx(Qe,{size:20,className:"text-emerald-500"})," CRM Follow-ups"]}),e.jsx("button",{onClick:()=>t("/crm/followups"),className:"text-xs font-bold text-emerald-600 hover:text-emerald-700",children:"View All"})]}),e.jsx("div",{className:"p-4",children:e.jsx(Sg,{isWidget:!0})})]}),e.jsx(I7,{tickets:s.equipmentAlerts||[]}),e.jsxs("div",{className:"bg-gradient-to-br from-emerald-600 to-teal-700 rounded-3xl shadow-xl p-8 text-white relative overflow-hidden group h-fit",children:[e.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10 translate-x-1/4 -translate-y-1/4 group-hover:scale-125 transition-transform duration-700",children:e.jsx(xa,{size:150})}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-white/20 backdrop-blur-md flex items-center justify-center",children:e.jsx(Xl,{size:24})}),e.jsx("h3",{className:"text-lg font-black uppercase tracking-widest",children:"My Collection Today"})]}),e.jsxs("div",{className:"mb-4 sm:mb-8",children:[e.jsx("p",{className:"text-xs font-bold uppercase tracking-[0.2em] opacity-60 mb-2",children:"Total Received Today"}),e.jsxs("h4",{className:"text-4xl sm:text-5xl font-black italic tracking-tighter",children:["",s.collectionToday!==void 0?s.collectionToday.toLocaleString():"8,450"]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("button",{onClick:()=>t("/finance/cashier"),className:"flex-1 py-4 bg-white text-emerald-700 rounded-2xl text-xs font-black uppercase tracking-widest shadow-xl hover:shadow-white/20 active:scale-95 transition-all flex items-center justify-center gap-2",children:[e.jsx(Ga,{size:18}),"New Receipt"]}),e.jsxs("button",{onClick:()=>t("/finance/petty-cash"),className:"flex-1 py-4 bg-emerald-500 text-white border border-emerald-400 rounded-2xl text-xs font-black uppercase tracking-widest shadow-xl hover:bg-emerald-400 active:scale-95 transition-all flex items-center justify-center gap-2",children:[e.jsx(xa,{size:18}),"Log Expense"]})]})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsx(Sw,{alertsData:s.renewalAlerts}),e.jsxs("div",{className:"bg-white rounded-3xl shadow-xl border border-slate-100 overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-slate-100 bg-slate-50/30",children:e.jsxs("h3",{className:"text-lg font-black text-slate-800 flex items-center gap-2",children:[e.jsx(zr,{size:20,className:"text-amber-500"})," Pending Actions"]})}),e.jsxs("div",{className:"p-6 space-y-4",children:[s.pendingActions&&s.pendingActions.map((d,x)=>e.jsxs("div",{className:`group flex items-center justify-between p-4 rounded-2xl bg-white border border-slate-200 shadow-sm transition-all duration-300 cursor-pointer ${d.type==="Payment"?"hover:border-amber-300 hover:shadow-md":"hover:border-blue-300 hover:shadow-md"}`,children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`p-3 rounded-xl ${d.type==="Payment"?"bg-red-50 text-red-500":"bg-blue-50 text-blue-500"}`,children:d.type==="Payment"?e.jsx(Qe,{size:20,strokeWidth:2.5}):e.jsx(kl,{size:20,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-slate-800 text-sm",children:d.title}),e.jsx("div",{className:"text-xs font-medium text-slate-500",children:d.subtitle})]})]}),e.jsx(js,{size:18,className:"text-slate-300 group-hover:translate-x-1 transition-all"})]},x)),(!s.pendingActions||s.pendingActions.length===0)&&e.jsx("div",{className:"text-center py-4 text-slate-400 text-sm italic font-medium",children:"No pending actions for now!"}),e.jsx("button",{onClick:()=>t("/staff/tasks/my-tasks"),className:"w-full mt-2 py-4 bg-slate-50 text-slate-600 rounded-2xl text-xs font-black uppercase tracking-widest border border-slate-200 hover:bg-violet-50 hover:text-violet-600 hover:border-violet-200 transition-all",children:"View All Tasks"})]})]})]})]})]})},rt=({isOpen:t,onClose:s,title:a,subtitle:l,children:i,footer:o,maxWidth:d="max-w-xl"})=>{const[x,u]=v.useState(!1);return v.useEffect(()=>{if(t)document.body.style.overflow="hidden",u(!0);else{const h=setTimeout(()=>{u(!1),document.body.style.overflow="unset"},300);return()=>clearTimeout(h)}},[t]),!t&&!x?null:e.jsxs("div",{className:`fixed inset-0 z-[60000] overflow-hidden transition-opacity duration-300 ${t?"opacity-100":"opacity-0 pointer-events-none"}`,children:[e.jsx("div",{className:"absolute inset-0 bg-slate-900/40 backdrop-blur-sm transition-opacity",onClick:s}),e.jsx("div",{className:"fixed inset-y-0 right-0 flex max-w-full h-screen",children:e.jsxs("div",{className:`relative w-screen ${d} h-full transform transition-transform duration-300 ease-in-out shadow-2xl flex flex-col bg-white border-l border-slate-100 ${t?"translate-x-0":"translate-x-full"}`,children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-100 bg-slate-50/50 shrink-0",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-violet-600 to-purple-600 bg-clip-text text-transparent",children:a}),l&&e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider mt-0.5",children:l})]}),e.jsx("button",{onClick:s,className:"p-2 rounded-full text-slate-400 hover:text-slate-600 hover:bg-slate-100 transition-all duration-200",children:e.jsx(Vr,{size:20})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-thin",children:i}),o&&e.jsx("div",{className:"px-6 py-4 border-t border-slate-100 bg-white sticky bottom-0",children:o})]})})]})},q7={stats:[{id:1,title:"Total Members",value:"0",icon:_t,color:"primary"},{id:2,title:"Sessions Today",value:"0",icon:Ve,color:"success"},{id:3,title:"Pending Plans",value:"0",icon:$t,color:"warning"}],todaySessions:{summary:{total:0,upcoming:0,completed:0},list:[]},myClients:[],pendingTasks:[],earnings:{totalEarnings:0,commission:0,salary:0,target:0,pendingPayouts:0},myAttendance:{presentDays:0,lateDays:0,absentDays:0,attendanceRate:0}},H7=()=>{const t=qt(),[s,a]=v.useState(q7),[l,i]=v.useState(!0),[o,d]=v.useState(null),[x,u]=v.useState(!1),[h,p]=v.useState(!1),[f,b]=v.useState(!1),[g,j]=v.useState(null),[A,w]=v.useState(!1);v.useEffect(()=>{(async()=>{try{const T=(await ye.get("/dashboard/trainer")).data;a(q=>({...q,stats:[{...q.stats[0],value:T.totalMembers.toString()},{...q.stats[1],value:T.sessionsToday.toString()},{...q.stats[2],value:T.pendingPlans.toString()}],todaySessions:T.todaySessions,myClients:T.myClients,pendingTasks:T.pendingTasks||[],myAttendance:{...q.myAttendance,...T.myAttendance},earnings:T.earnings||q.earnings}))}catch(B){console.error("Failed to fetch trainer dashboard:",B)}finally{i(!1)}})()},[]);const k=s.myClients?.filter(R=>R.daysSinceLastVisit>=10)||[];if(l)return e.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-6rem)]",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-violet-600 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"text-slate-500 font-medium animate-pulse uppercase tracking-[0.2em] text-[10px]",children:"Loading Trainer Session Environment..."})]})});const C=R=>{d(R),u(!0)},L=R=>{j(R),w(!0)},N=()=>o?e.jsx(rt,{isOpen:x,onClose:()=>u(!1),title:"Session Details",subtitle:`${o.type} - ${o.time}`,footer:e.jsx("div",{className:"flex gap-3",children:e.jsxs("button",{className:"flex-1 py-2.5 bg-indigo-600 text-white rounded-lg text-sm font-bold shadow-md hover:bg-indigo-700 transition-all flex items-center justify-center gap-2",children:[e.jsx(Qt,{size:18}),"Mark Complete"]})}),children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-4 bg-indigo-50/50 rounded-2xl border border-indigo-100 flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white rounded-xl shadow-sm flex items-center justify-center text-indigo-600 font-bold text-xl",children:o.name.charAt(0)}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:o.name}),e.jsxs("p",{className:"text-xs text-indigo-600 font-bold uppercase tracking-wider",children:[o.type," Session"]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gray-50 flex items-center justify-center text-gray-400",children:e.jsx(Qe,{size:16})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-tight",children:"Time"}),e.jsx("p",{className:"text-sm font-bold text-gray-800",children:o.time})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gray-50 flex items-center justify-center text-gray-400",children:e.jsx($s,{size:16})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-tight",children:"Location"}),e.jsx("p",{className:"text-sm font-bold text-gray-800",children:o.location||"Not Specified"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gray-50 flex items-center justify-center text-gray-400",children:e.jsx(hs,{size:16})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-tight",children:"Status"}),e.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-bold border inline-block ${o.status==="Completed"?"bg-emerald-50 text-emerald-700 border-emerald-100":o.status==="Upcoming"?"bg-amber-50 text-amber-700 border-amber-100":"bg-red-50 text-red-700 border-red-100"}`,children:o.status})]})]})]}),e.jsx("hr",{className:"border-gray-100"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h4",{className:"font-bold text-gray-800 text-sm flex items-center gap-2",children:[e.jsx(sr,{size:16,className:"text-indigo-600"}),"Session Notes"]}),e.jsx("textarea",{className:"w-full p-4 bg-gray-50 border border-gray-200 rounded-xl text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none transition-all placeholder:text-gray-400 min-h-[120px]",placeholder:"Add notes about the session or client feedback..."}),e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-indigo-50 text-indigo-700 rounded-lg text-xs font-bold hover:bg-indigo-100 transition-all ml-auto",children:[e.jsx(na,{size:14}),"Save Notes"]})]})]})}):null,P=()=>s.earnings?e.jsx(rt,{isOpen:h,onClose:()=>p(!1),title:"Earnings Details",subtitle:"This Month Performance",footer:e.jsx("div",{className:"flex gap-3",children:e.jsx("button",{className:"flex-1 py-2.5 bg-gray-50 border border-gray-200 text-gray-700 rounded-lg text-sm font-bold hover:bg-gray-100 transition-all flex items-center justify-center gap-2",children:"Download Statement"})}),children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-5 bg-indigo-600 rounded-2xl text-white shadow-lg relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:e.jsx(Vn,{size:80})}),e.jsx("p",{className:"text-[10px] font-bold opacity-80 uppercase tracking-widest mb-1",children:"Total Fixed + Commission"}),e.jsxs("h3",{className:"text-3xl font-black",children:["",s.earnings.totalEarnings.toLocaleString()]}),e.jsxs("p",{className:"text-[10px] mt-2 opacity-70 font-medium italic",children:["Calculated for ",new Date().toLocaleString("default",{month:"long"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 px-1",children:[e.jsx(W0,{size:16,className:"text-indigo-600"}),e.jsx("h4",{className:"text-sm font-bold text-gray-800",children:"Earnings Breakdown"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-50 rounded-xl border border-gray-100",children:[e.jsx("span",{className:"text-xs font-bold text-gray-600",children:"Base Salary"}),e.jsxs("span",{className:"text-sm font-black text-gray-900",children:["",s.earnings.salary.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-50 rounded-xl border border-gray-100",children:[e.jsx("span",{className:"text-xs font-bold text-gray-600",children:"Commission"}),e.jsxs("span",{className:"text-sm font-black text-indigo-600",children:["",s.earnings.commission.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between items-center p-4 bg-indigo-50 border border-indigo-100 rounded-xl",children:[e.jsx("span",{className:"text-xs font-bold text-indigo-700",children:"Total Calculation"}),e.jsxs("span",{className:"text-sm font-black text-indigo-700",children:["",s.earnings.totalEarnings.toLocaleString()]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-end px-1",children:[e.jsx("h4",{className:"text-xs font-bold text-gray-800",children:"Target Progress"}),e.jsxs("span",{className:"text-[10px] font-extrabold text-indigo-600 bg-indigo-50 px-2 py-0.5 rounded-full",children:[Math.round(s.earnings.totalEarnings/s.earnings.target*100),"%"]})]}),e.jsx("div",{className:"h-2 w-full bg-gray-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-indigo-600 rounded-full transition-all duration-1000",style:{width:`${s.earnings.totalEarnings/s.earnings.target*100}%`}})}),e.jsxs("div",{className:"flex justify-between text-[10px] text-gray-400 font-bold uppercase tracking-tight",children:[e.jsxs("span",{children:["Progress: ",s.earnings.totalEarnings.toLocaleString()]}),e.jsxs("span",{children:["Target: ",s.earnings.target.toLocaleString()]})]})]}),e.jsxs("div",{className:"p-4 bg-emerald-50 rounded-xl border border-emerald-100",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-6 h-6 rounded bg-emerald-100 flex items-center justify-center text-emerald-600",children:e.jsx(Qt,{size:14})}),e.jsx("span",{className:"text-xs font-bold text-emerald-800 uppercase tracking-tighter",children:"Verified Payout"})]}),e.jsx("p",{className:"text-[10px] text-emerald-700 font-medium mb-1",children:"Approved commission for this month:"}),e.jsxs("p",{className:"text-lg font-black text-emerald-800",children:["",s.earnings.pendingPayouts.toLocaleString()]})]})]})}):null,_=()=>s.myAttendance?e.jsx(rt,{isOpen:f,onClose:()=>b(!1),title:"Attendance History",subtitle:"Full Month Overview",footer:e.jsx("button",{className:"w-full py-2.5 bg-gray-50 border border-gray-200 text-gray-700 rounded-lg text-sm font-bold hover:bg-gray-100 transition-all",children:"Correction Request"}),children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between px-1",children:[e.jsx("h4",{className:"font-extrabold text-gray-900 text-sm",children:"February 2026"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{className:"p-1 hover:bg-gray-100 rounded text-gray-400",children:e.jsx(js,{size:16,className:"rotate-180"})}),e.jsx("button",{className:"p-1 hover:bg-gray-100 rounded text-gray-400",children:e.jsx(js,{size:16})})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{className:"p-3 bg-emerald-50 border border-emerald-100 rounded-xl text-center",children:[e.jsx("p",{className:"text-[10px] font-bold text-emerald-600 uppercase mb-1",children:"Present"}),e.jsx("p",{className:"text-xl font-black text-emerald-700",children:s.myAttendance.presentDays})]}),e.jsxs("div",{className:"p-3 bg-amber-50 border border-amber-100 rounded-xl text-center",children:[e.jsx("p",{className:"text-[10px] font-bold text-amber-600 uppercase mb-1",children:"Late"}),e.jsx("p",{className:"text-xl font-black text-amber-700",children:s.myAttendance.lateDays})]}),e.jsxs("div",{className:"p-3 bg-red-50 border border-red-100 rounded-xl text-center",children:[e.jsx("p",{className:"text-[10px] font-bold text-red-600 uppercase mb-1",children:"Absent"}),e.jsx("p",{className:"text-xl font-black text-red-700",children:s.myAttendance.absentDays})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"text-xs font-bold text-gray-800 px-1 uppercase tracking-widest",children:"Recent Records"}),e.jsx("div",{className:"divide-y divide-gray-100 border-y border-gray-100",children:[1,2,3,4,5].map(R=>e.jsxs("div",{className:"py-3 flex items-center justify-between px-1",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"w-8 h-8 rounded-lg bg-gray-50 flex flex-col items-center justify-center",children:[e.jsx("span",{className:"text-[8px] font-bold text-gray-400 leading-tight",children:"FEB"}),e.jsx("span",{className:"text-xs font-black text-gray-700 leading-tight",children:14-R})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-gray-800",children:"Punch In: 08:55 AM"}),e.jsx("p",{className:"text-[10px] text-gray-500 font-medium",children:"Punch Out: 05:05 PM"})]})]}),e.jsx("span",{className:"text-[10px] font-bold px-2 py-0.5 rounded-full bg-emerald-50 text-emerald-600 border border-emerald-100",children:"Present"})]},R))})]})]})}):null,F=()=>g?e.jsx(rt,{isOpen:A,onClose:()=>w(!1),title:"Client Follow-up",subtitle:"At-Risk Member Details",footer:e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{className:"flex-1 py-2.5 bg-indigo-600 text-white rounded-lg text-sm font-bold shadow-md hover:bg-indigo-700 transition-all flex items-center justify-center gap-2",children:[e.jsx(Hs,{size:16}),"Call Member"]}),e.jsxs("button",{className:"flex-1 py-2.5 bg-white border border-gray-200 text-gray-700 rounded-lg text-sm font-bold hover:bg-gray-50 transition-all flex items-center justify-center gap-2",children:[e.jsx(sr,{size:16}),"Message"]})]}),children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-4 bg-red-50 rounded-2xl border border-red-100 flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white rounded-xl shadow-sm flex items-center justify-center text-red-600 font-bold text-xl",children:g.name.charAt(0)}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:g.name}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"px-2 py-0.5 bg-red-100 text-red-700 rounded-full text-[10px] font-black uppercase tracking-wider",children:"At Risk"}),e.jsxs("p",{className:"text-xs text-red-600 font-bold",children:[g.daysSinceLastVisit," Days Inactive"]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-3 bg-gray-50 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-tight mb-1",children:"Membership"}),e.jsx("p",{className:"text-sm font-bold text-gray-800",children:g.membership})]}),e.jsxs("div",{className:"p-3 bg-gray-50 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-tight mb-1",children:"Progress"}),e.jsxs("p",{className:"text-sm font-bold text-gray-800",children:[g.progress,"%"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl border border-gray-100",children:[e.jsx(Hs,{size:16,className:"text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-tight",children:"Phone"}),e.jsx("p",{className:"text-sm font-bold text-gray-800",children:g.phone})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl border border-gray-100",children:[e.jsx(Ve,{size:16,className:"text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-tight",children:"Last Visit"}),e.jsx("p",{className:"text-sm font-bold text-gray-800",children:g.lastVisit})]})]})]}),e.jsx("hr",{className:"border-gray-100"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h4",{className:"font-bold text-gray-800 text-sm flex items-center gap-2",children:[e.jsx(wt,{size:16,className:"text-indigo-600"}),"Add Follow-up Note"]}),e.jsx("textarea",{className:"w-full p-4 bg-gray-50 border border-gray-200 rounded-xl text-sm focus:ring-2 focus:ring-indigo-500 outline-none min-h-[100px]",placeholder:"Record the outcome of your follow-up call..."}),e.jsx("button",{className:"w-full py-2 bg-indigo-50 text-indigo-700 rounded-lg text-xs font-bold hover:bg-indigo-100 transition-all",children:"Save Note"})]})]})}):null;return e.jsxs("div",{className:"h-[calc(100vh-6rem)] overflow-y-auto pr-2 pb-8 space-y-8 fade-in scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-transparent",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 pb-6 border-b-2 border-gray-100",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-1",children:"Trainer Dashboard"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Manage your daily sessions and client performance"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>t("/trainer/sessions/calendar"),className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-200 text-gray-700 rounded-lg text-sm font-semibold hover:bg-gray-50 transition-all shadow-sm",children:[e.jsx(Ve,{size:16}),"My Schedule"]}),e.jsxs("button",{onClick:()=>t("/trainer/sessions/upcoming"),className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg text-sm font-semibold hover:bg-indigo-700 transition-all shadow-md",children:[e.jsx(Er,{size:16}),"Start Session"]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Js,{size:18,className:"text-indigo-600"}),e.jsx("h2",{className:"text-md font-bold text-gray-800",children:"Key Metrics"})]}),e.jsx(du,{children:s.stats.map(R=>e.jsx(Gn,{...R},R.id))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between px-1",children:[e.jsxs("h2",{className:"text-sm font-bold text-gray-800 flex items-center gap-2",children:[e.jsx(Qe,{size:16,className:"text-emerald-500"}),"My Attendance"]}),e.jsx("button",{onClick:()=>b(!0),className:"text-[10px] font-black text-indigo-600 hover:underline",children:"Details"})]}),e.jsxs(is,{className:"p-4 border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"grid grid-cols-3 divide-x divide-gray-100 text-center mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-black",children:s.myAttendance.presentDays}),e.jsx("p",{className:"text-[9px] text-gray-400 uppercase font-bold",children:"Present"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-black text-amber-600",children:s.myAttendance.lateDays}),e.jsx("p",{className:"text-[9px] text-gray-400 uppercase font-bold",children:"Late"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-black text-red-500",children:s.myAttendance.absentDays}),e.jsx("p",{className:"text-[9px] text-gray-400 uppercase font-bold",children:"Absent"})]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs("div",{className:"flex justify-between text-[10px] font-bold",children:[e.jsx("span",{className:"text-gray-500 uppercase",children:"Rate"}),e.jsxs("span",{className:"text-emerald-600",children:[s.myAttendance.attendanceRate,"%"]})]}),e.jsx("div",{className:"h-1 bg-gray-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-emerald-500",style:{width:`${s.myAttendance.attendanceRate}%`}})})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h2",{className:"text-sm font-bold text-gray-800 flex items-center gap-2 px-1",children:[e.jsx(hs,{size:16,className:"text-red-500"}),"Client Alerts"]}),e.jsx(is,{className:"p-0 border border-red-50 shadow-sm overflow-hidden",children:e.jsx("div",{className:"divide-y divide-gray-100",children:k.slice(0,4).map(R=>e.jsxs("div",{onClick:()=>L(R),className:"p-4 hover:bg-red-50/30 cursor-pointer transition-all flex justify-between items-center",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("h4",{className:"font-bold text-gray-800 text-xs truncate",children:R.name}),e.jsxs("p",{className:"text-[10px] text-red-500 font-bold",children:[R.daysSinceLastVisit," Days Inactive"]})]}),e.jsx(js,{size:12,className:"text-red-300"})]},R.id))})})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h2",{className:"text-md font-bold text-gray-900 flex items-center gap-3 px-1",children:[e.jsx(Ve,{size:20,className:"text-indigo-600"}),"Today's Schedule"]}),e.jsxs(is,{className:"border-2 border-indigo-100 shadow-xl p-0 overflow-hidden bg-white",children:[e.jsxs("div",{className:"grid grid-cols-3 divide-x divide-indigo-50 bg-indigo-50/50 border-b border-indigo-100",children:[e.jsxs("div",{className:"p-4 text-center",children:[e.jsx("p",{className:"text-[10px] font-bold text-indigo-400 uppercase tracking-widest",children:"Total"}),e.jsx("p",{className:"text-2xl font-black text-gray-900",children:s.todaySessions.summary.total})]}),e.jsxs("div",{className:"p-4 text-center",children:[e.jsx("p",{className:"text-[10px] font-bold text-amber-400 uppercase tracking-widest",children:"Next"}),e.jsx("p",{className:"text-2xl font-black text-amber-600",children:s.todaySessions.summary.upcoming})]}),e.jsxs("div",{className:"p-4 text-center",children:[e.jsx("p",{className:"text-[10px] font-bold text-emerald-400 uppercase tracking-widest",children:"Done"}),e.jsx("p",{className:"text-2xl font-black text-emerald-600",children:s.todaySessions.summary.completed})]})]}),e.jsx("div",{className:"divide-y divide-gray-100 max-h-[350px] overflow-y-auto",children:s.todaySessions.list.length===0?e.jsx("div",{className:"p-10 text-center text-gray-400 font-bold text-sm",children:"No sessions scheduled"}):s.todaySessions.list.map(R=>e.jsxs("div",{onClick:()=>C(R),className:"p-5 hover:bg-indigo-50/50 cursor-pointer transition-all flex items-center justify-between border-l-4 border-transparent hover:border-indigo-500",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-sm font-black text-gray-900",children:R.time}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h4",{className:"font-bold text-gray-800 text-sm truncate",children:R.name}),e.jsx("span",{className:"text-[10px] px-1.5 py-0.5 bg-gray-100 rounded text-gray-500 font-bold uppercase",children:R.type})]})]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-[10px] font-black uppercase ${R.status==="Completed"?"bg-emerald-100 text-emerald-700":R.status==="Upcoming"?"bg-amber-100 text-amber-700 active-pulse":"bg-red-100 text-red-700"}`,children:R.status})]},R.id))})]})]}),s.isCommissionBased&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h2",{className:"text-md font-bold text-gray-900 flex items-center gap-3 px-1",children:[e.jsx(Js,{size:20,className:"text-emerald-500"}),"Current Earnings"]}),e.jsxs(is,{className:"p-8 border-2 border-emerald-100 shadow-2xl relative overflow-hidden flex flex-col items-center text-center bg-gradient-to-br from-white via-emerald-50/20 to-indigo-50/20",children:[e.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:e.jsx(W0,{size:80})}),e.jsxs("div",{className:"relative mb-6",children:[e.jsx("p",{className:"text-[11px] font-bold text-gray-400 uppercase tracking-widest mb-2",children:"Projected Payout"}),e.jsxs("h3",{className:"text-5xl font-black text-gray-900 tracking-tighter",children:["",s.earnings.totalEarnings.toLocaleString()]})]}),e.jsxs("div",{className:"w-full grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"p-4 bg-white/80 backdrop-blur-sm rounded-2xl border border-emerald-100 shadow-sm",children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase mb-1",children:"Commission"}),e.jsxs("p",{className:"text-lg font-bold text-emerald-600",children:["",s.earnings.commission.toLocaleString()]})]}),e.jsxs("div",{className:"p-4 bg-white/80 backdrop-blur-sm rounded-2xl border border-indigo-100 shadow-sm",children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase mb-1",children:"Base Salary"}),e.jsxs("p",{className:"text-lg font-bold text-indigo-600",children:["",s.earnings.salary.toLocaleString()]})]})]}),e.jsxs("button",{onClick:()=>p(!0),className:"w-full py-4 bg-indigo-600 text-white rounded-2xl font-bold text-sm shadow-xl shadow-indigo-100 hover:bg-indigo-700 transition-all flex items-center justify-center gap-3 hover:-translate-y-1",children:["Detailed Breakdown ",e.jsx(jl,{size:16})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h2",{className:"text-sm font-bold text-gray-800 flex items-center gap-3 px-1",children:[e.jsx(hs,{size:18,className:"text-amber-500"}),"Pending Actions"]}),e.jsx(is,{className:"border border-gray-100 shadow-lg p-0 overflow-hidden",children:e.jsx("div",{className:"divide-y divide-gray-50",children:s.pendingTasks.map(R=>e.jsxs("div",{onClick:()=>t(R.route),className:"p-5 hover:bg-slate-50 cursor-pointer flex justify-between items-center group transition-all",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-400"}),e.jsx("span",{className:"text-sm font-bold text-gray-700 group-hover:text-gray-900",children:R.title})]}),e.jsx("span",{className:"bg-amber-100 text-amber-700 px-3 py-1 rounded-full text-xs font-black",children:R.count})]},R.id))})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between px-1",children:[e.jsxs("h2",{className:"text-sm font-bold text-gray-800 flex items-center gap-2",children:[e.jsx(_t,{size:16,className:"text-blue-600"}),"My Clients"]}),e.jsx("button",{onClick:()=>t("/trainer/members/assigned"),className:"text-[10px] font-black text-indigo-600 hover:underline",children:"View All"})]}),e.jsx(is,{className:"p-5 border border-gray-100 shadow-sm",children:e.jsx("div",{className:"space-y-5",children:s.myClients.slice(0,5).map(R=>e.jsxs("div",{className:"group",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-xs font-bold text-gray-700 group-hover:text-indigo-600 transition-colors",children:R.name}),e.jsxs("span",{className:"text-[10px] font-black text-gray-400",children:[R.progress,"%"]})]}),e.jsx("div",{className:"h-1.5 w-full bg-gray-50 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-500 transition-all duration-1000 group-hover:bg-indigo-500",style:{width:`${R.progress}%`}})})]},R.id))})})]}),e.jsxs("div",{className:"space-y-4 pt-4",children:[e.jsxs("h2",{className:"text-sm font-bold text-gray-800 flex items-center gap-2 px-1",children:[e.jsx(yn,{size:16,className:"text-indigo-500"}),"Announcements"]}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"p-4 bg-indigo-50/50 border border-indigo-100 rounded-2xl hover:bg-indigo-50 transition-all cursor-pointer",children:[e.jsx("h4",{className:"text-xs font-bold text-indigo-900 mb-1",children:"New Policy: Client Cancellations"}),e.jsx("p",{className:"text-[10px] text-indigo-600 font-medium",children:"Please review the updated 4-hour rule in settings..."})]})})]})]})]}),e.jsx(N,{}),e.jsx(P,{}),e.jsx(_,{}),e.jsx(F,{})]})},W7=({isOpen:t,onClose:s,benefit:a})=>{if(!a)return null;const l=a.total==="Unlimited",i=l?"Unlimited":a.total-a.used,o=l?100:a.used/a.total*100;return e.jsx(rt,{isOpen:t,onClose:s,title:a.name,subtitle:"Benefit utilization & history",children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"p-6 md:p-8 space-y-8 overflow-y-auto flex-1 custom-scrollbar",children:[e.jsxs("div",{className:"p-6 bg-slate-50 rounded-3xl border border-slate-100",children:[e.jsxs("div",{className:"flex justify-between items-end mb-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-400 mb-1",children:"Current Usage"}),e.jsxs("div",{className:"text-3xl font-black text-slate-900",children:[a.used," ",e.jsxs("span",{className:"text-sm text-slate-400 uppercase tracking-widest",children:["/ ",a.total]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("h4",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-400 mb-1",children:"Remaining"}),e.jsx("div",{className:"text-xl font-black text-violet-600",children:i})]})]}),!l&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-3 bg-white rounded-full overflow-hidden border border-slate-100",children:e.jsx("div",{className:"h-full bg-violet-600 rounded-full shadow-sm shadow-violet-100 transition-all duration-1000",style:{width:`${o}%`}})}),e.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-slate-400 uppercase tracking-widest px-1",children:[e.jsx("span",{children:"Used"}),e.jsxs("span",{children:[Math.round(o),"% Complete"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-white border border-slate-100 rounded-2xl flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-emerald-50 text-emerald-600 rounded-xl flex items-center justify-center shrink-0",children:e.jsx(Ve,{size:20})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-[9px] font-black uppercase tracking-widest text-slate-400",children:"Valid Until"}),e.jsx("div",{className:"text-sm font-bold text-slate-900",children:a.expiry||"N/A"})]})]}),e.jsxs("div",{className:"p-4 bg-white border border-slate-100 rounded-2xl flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-50 text-blue-600 rounded-xl flex items-center justify-center shrink-0",children:e.jsx(Xt,{size:20})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-[9px] font-black uppercase tracking-widest text-slate-400",children:"Status"}),e.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Active"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 px-1",children:[e.jsx(Qe,{size:16,className:"text-slate-400"}),e.jsx("h3",{className:"text-xs font-black uppercase tracking-[0.15em] text-slate-900",children:"Utilization History"})]}),e.jsx("div",{className:"space-y-3",children:a.history&&a.history.length>0?a.history.map((d,x)=>e.jsxs("div",{className:"p-4 bg-white border border-slate-100 rounded-2xl flex items-center justify-between hover:border-violet-100 transition-colors group",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-violet-600 opacity-20 group-hover:opacity-100 transition-opacity"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-bold text-slate-900",children:d.trainer||d.class||d.service||d.guest||"Activity Logged"}),e.jsx("div",{className:"text-[10px] font-medium text-slate-400 uppercase tracking-widest",children:d.date})]})]}),e.jsx("span",{className:"text-[10px] font-black text-emerald-600 uppercase tracking-widest bg-emerald-50 px-2 py-1 rounded-md",children:d.status})]},x)):e.jsxs("div",{className:"py-10 text-center space-y-2",children:[e.jsx(Yn,{size:32,className:"mx-auto text-slate-200"}),e.jsx("p",{className:"text-sm font-bold text-slate-400",children:"No history available yet."})]})})]}),e.jsxs("div",{className:"p-5 bg-amber-50 rounded-2xl border border-amber-100",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(hs,{size:14,className:"text-amber-600"}),e.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest text-amber-700",children:"Protocol Terms"})]}),e.jsxs("ul",{className:"space-y-1.5 list-disc list-inside",children:[e.jsx("li",{className:"text-[11px] font-medium text-amber-900/70 leading-relaxed italic",children:"Benefits are non-transferable and valid during membership tenure."}),e.jsx("li",{className:"text-[11px] font-medium text-amber-900/70 leading-relaxed italic",children:"Unused benefits do not carry over to the next billing cycle."}),e.jsx("li",{className:"text-[11px] font-medium text-amber-900/70 leading-relaxed italic",children:"Prior booking required for PT sessions and Spa access."})]})]})]}),e.jsx("div",{className:"p-6 md:p-8 bg-white border-t border-slate-100 mt-auto",children:e.jsx("button",{onClick:s,className:"w-full h-12 bg-slate-900 text-white rounded-xl text-xs font-black uppercase tracking-[0.2em] shadow-lg shadow-slate-100 hover:bg-violet-600 transition-all flex items-center justify-center gap-2",children:"CLOSE DETAILS"})})]})})},G7=({walletData:t})=>{const[s,a]=v.useState(null),[l,i]=v.useState(!1);if(!t||!t.benefits||t.benefits.length===0)return e.jsxs(is,{className:"p-5 border-l-4 border-l-slate-200 shadow-sm",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-slate-900 text-xs font-black uppercase tracking-widest",children:"Benefit Wallet"}),e.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-tighter",children:"Your membership benefits"})]})}),e.jsx("div",{className:"py-2 text-center text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"No benefits included."})]});const{planName:o,benefits:d}=t,x=u=>{a(u),i(!0)};return e.jsxs(e.Fragment,{children:[e.jsxs(is,{className:"bg-gradient-to-br from-slate-50/50 to-white p-5 border border-slate-100 rounded-2xl shadow-xl hover:shadow-2xl hover:-translate-y-1 transition-all duration-300 h-[220px] flex flex-col group overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 shrink-0",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-slate-900 text-[11px] font-black uppercase tracking-[0.2em] leading-none text-violet-600",children:"My Benefits"}),e.jsx("p",{className:"text-[9px] text-slate-400 font-bold uppercase tracking-widest mt-1",children:o})]}),e.jsx("div",{className:"w-8 h-8 rounded-lg bg-violet-50 flex items-center justify-center text-violet-600 shadow-sm group-hover:scale-110 transition-transform",children:e.jsx(js,{size:16,strokeWidth:3})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto pr-1 space-y-2 custom-scrollbar",children:e.jsx("div",{className:"space-y-2",children:d.map(u=>{const h=u.total==="Unlimited",p=h?100:u.used/u.total*100,f=h?"":u.total-u.used;return e.jsxs("div",{className:"py-1 group/item cursor-pointer",onClick:()=>x(u),children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("span",{className:"text-[10px] font-black text-slate-700 uppercase tracking-tight",children:u.name}),e.jsxs("span",{className:"text-[9px] font-black tracking-tighter text-slate-400 uppercase",children:[e.jsxs("span",{className:"text-slate-900",children:[f," / ",u.total]})," ",e.jsx("span",{className:"text-slate-400 ml-1",children:u.total==="Unlimited"?"":"Total Quota"})]})]}),e.jsx("div",{className:"h-[2px] bg-slate-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-violet-500 to-purple-600 rounded-full transition-all duration-700",style:{width:`${p}%`}})})]},u.id)})})}),e.jsx("div",{className:"pt-3 mt-auto border-t border-slate-50 shrink-0",children:e.jsxs("button",{onClick:()=>x(d[0]),className:"text-[9px] font-black text-violet-600 uppercase tracking-[0.2em] hover:text-violet-700 transition-colors flex items-center gap-1",children:["VIEW ALL BENEFITS ",e.jsx(js,{size:10,strokeWidth:4})]})})]}),e.jsx(W7,{isOpen:l,onClose:()=>i(!1),benefit:s})]})},V7=({progress:t,size:s=60,strokeWidth:a=6})=>{const l=(s-a)/2,i=l*2*Math.PI,o=i-t/100*i;return e.jsxs("div",{className:"relative inline-flex items-center justify-center p-1 bg-white rounded-full shadow-inner",style:{width:s+8,height:s+8},children:[e.jsxs("svg",{className:"transform -rotate-90",width:s,height:s,children:[e.jsx("circle",{className:"text-slate-100",strokeWidth:a,stroke:"currentColor",fill:"transparent",r:l,cx:s/2,cy:s/2}),e.jsx("circle",{className:"text-violet-600 transition-all duration-1000 ease-out",strokeWidth:a,strokeDasharray:i,strokeDashoffset:o,strokeLinecap:"round",stroke:"currentColor",fill:"transparent",r:l,cx:s/2,cy:s/2,style:{filter:"drop-shadow(0 0 4px rgba(124, 58, 237, 0.3))"}})]}),e.jsxs("span",{className:"absolute text-[10px] font-black text-slate-900 tracking-tighter",children:[Math.round(t),"%"]})]})},Y7={stats:[{id:1,title:"My Plan",value:"...",icon:Qt,color:"primary"},{id:2,title:"Next Class",value:"...",icon:Ve,color:"success"},{id:3,title:"Attendance",value:"0%",icon:Js,color:"success"}],planSummary:{workoutsCompleted:0,totalWorkouts:0,nextGoal:"...",membershipStatus:"...",expiryDate:"...",daysRemaining:0},announcements:[],benefitWallet:{benefits:[]}},X7=()=>{const[t,s]=v.useState(Y7),[a,l]=v.useState(!0);if(v.useEffect(()=>{(async()=>{try{const x=(await ye.get("/dashboard/member")).data;s(u=>({...u,stats:[{...u.stats[0],value:x.planName},{...u.stats[1],value:x.nextClass},{...u.stats[2],value:x.attendanceRate}],planSummary:x.planSummary,announcements:x.announcements,benefitWallet:x.benefitWallet}))}catch(d){console.error("Failed to fetch member dashboard:",d)}finally{l(!1)}})()},[]),a)return e.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-6rem)]",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-violet-600 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"text-slate-500 font-medium animate-pulse uppercase tracking-[0.2em] text-[10px]",children:"Retrieving Your Performance Data..."})]})});const i=new Date().toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"});return e.jsxs("div",{className:"fade-in space-y-6 max-w-7xl mx-auto pb-12 px-4 md:px-6",children:[e.jsxs("div",{className:"relative mb-8",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-3xl blur-3xl opacity-5 animate-pulse"}),e.jsxs("div",{className:"relative bg-white/80 backdrop-blur-md rounded-2xl shadow-xl border border-slate-100 p-6 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-600 to-purple-700 flex items-center justify-center text-white shadow-lg shadow-violet-200 transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(ua,{size:28,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-black text-slate-900 tracking-tight italic uppercase",children:["System Access / ",e.jsx("span",{className:"text-violet-600",children:"Member"})]}),e.jsxs("p",{className:"text-slate-500 text-xs font-bold uppercase tracking-widest flex items-center gap-2",children:[e.jsx($t,{size:12,className:"text-violet-500"}),"Operational Intelligence Overview"]})]})]}),e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-slate-50 border border-slate-100 rounded-xl shadow-sm",children:[e.jsx(Ve,{size:16,className:"text-violet-600"}),e.jsx("span",{className:"text-xs font-black text-slate-700 uppercase tracking-tight",children:i})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx(G7,{walletData:t.benefitWallet}),e.jsxs(is,{className:"p-6 border border-slate-100 rounded-2xl shadow-xl hover:shadow-2xl hover:-translate-y-1 transition-all duration-300 bg-gradient-to-br from-slate-50/50 to-white h-[220px] flex flex-col justify-between overflow-hidden group",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-slate-900 text-[11px] font-black uppercase tracking-[0.2em] leading-none mb-1 text-emerald-600",children:"Progress Snapshot"}),e.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:"Active Week"})]}),e.jsx(V7,{progress:t.planSummary.workoutsCompleted/t.planSummary.totalWorkouts*100,size:50})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5",children:"Weekly Goal"}),e.jsxs("div",{className:"text-2xl font-black text-slate-900 leading-none flex items-baseline gap-1",children:[e.jsx("span",{className:"text-emerald-600",children:t.planSummary.workoutsCompleted}),e.jsxs("span",{className:"text-slate-300 text-sm font-bold",children:["/ ",t.planSummary.totalWorkouts]}),e.jsx("span",{className:"text-[10px] text-slate-400 uppercase ml-2 tracking-widest",children:"Sessions"})]})]}),e.jsxs("button",{className:"text-[10px] font-black text-emerald-600 uppercase tracking-widest hover:translate-x-2 transition-transform inline-flex items-center gap-1.5 mt-auto",children:["GO TO PERFORMANCE LAB ",e.jsx(js,{size:14,strokeWidth:3})]})]}),e.jsxs(is,{className:"p-6 border border-slate-100 rounded-2xl shadow-xl hover:shadow-2xl hover:-translate-y-1 transition-all duration-300 bg-gradient-to-br from-slate-50/50 to-white h-[220px] flex flex-col justify-between overflow-hidden group",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 pb-3 border-b border-slate-50",children:[e.jsx("h3",{className:"text-slate-900 text-[11px] font-black uppercase tracking-[0.2em] text-fuchsia-600",children:"Membership Status"}),e.jsx("span",{className:`px-2.5 py-1 rounded-lg text-[9px] font-black uppercase shadow-sm ${t.planSummary.membershipStatus==="Active"?"bg-gradient-to-r from-emerald-50 to-emerald-100 text-emerald-700":"bg-gradient-to-r from-rose-50 to-rose-100 text-rose-700"}`,children:t.planSummary.membershipStatus})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest leading-none mb-1.5",children:"Active Tier"}),e.jsx("p",{className:"text-sm font-black text-slate-900 leading-none uppercase italic",children:t.stats[0].value})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest leading-none mb-1.5",children:"System Status"}),e.jsxs("p",{className:"text-sm font-black text-fuchsia-600 leading-none",children:[t.planSummary.daysRemaining," Days Remaining"]})]})]})]}),e.jsx("div",{className:"pt-2 border-t border-slate-50",children:e.jsxs("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-tight truncate italic",children:["Subscription Expires: ",t.planSummary.expiryDate]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs(is,{className:"p-5 border border-slate-100 rounded-2xl shadow-xl hover:shadow-2xl hover:-translate-y-1 transition-all duration-300 bg-gradient-to-br from-violet-50/50 to-white flex items-center gap-4 group",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-transform group-hover:scale-110 group-hover:rotate-6",children:e.jsx(Ng,{size:20,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 mb-1",children:"Weekly Target"}),e.jsxs("div",{className:"text-base font-black text-slate-900 leading-none",children:[t.planSummary.workoutsCompleted," / ",t.planSummary.totalWorkouts," sessions"]})]})]}),e.jsxs(is,{className:"p-5 border border-slate-100 rounded-2xl shadow-xl hover:shadow-2xl hover:-translate-y-1 transition-all duration-300 bg-gradient-to-br from-fuchsia-50/50 to-white flex items-center gap-4 group",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-fuchsia-500 to-pink-600 flex items-center justify-center text-white shadow-lg transition-transform group-hover:scale-110 group-hover:rotate-6",children:e.jsx(zc,{size:20,strokeWidth:2.5})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 mb-1",children:"Supply Node"}),e.jsxs("div",{className:"flex items-center justify-between gap-2 overflow-hidden",children:[e.jsxs("span",{className:"text-base font-black text-slate-900 truncate shrink uppercase italic",children:[t.announcements[0]?.title.split(" ")[0]," ..."]}),e.jsx("span",{className:"px-2 py-1 rounded-lg bg-gradient-to-r from-emerald-50 to-emerald-100 text-[9px] font-black text-emerald-700 uppercase shadow-sm whitespace-nowrap",children:"SHIPPED"})]})]})]}),e.jsxs(is,{className:"p-5 border border-slate-100 rounded-2xl shadow-xl hover:shadow-2xl hover:-translate-y-1 transition-all duration-300 bg-gradient-to-br from-amber-50/50 to-white flex items-center gap-4 group",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-amber-500 to-orange-600 flex items-center justify-center text-white shadow-lg transition-transform group-hover:scale-110 group-hover:rotate-6",children:e.jsx(wn,{size:20,strokeWidth:2.5})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 mb-1",children:"Primary Focus"}),e.jsx("div",{className:"text-base font-black text-slate-900 truncate uppercase italic",children:t.planSummary.nextGoal})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-between px-2",children:e.jsxs("h2",{className:"text-[11px] font-black text-slate-500 uppercase tracking-[0.3em] flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-[2px] bg-amber-500"}),"Operational Broadcasts"]})}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:t.announcements.map((o,d)=>e.jsxs(is,{className:"p-5 border border-slate-100 rounded-2xl shadow-xl hover:shadow-2xl hover:-translate-y-1 transition-all duration-300 bg-gradient-to-br from-white to-slate-50/50 flex items-center justify-between gap-4 group",children:[e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-amber-50 to-amber-100 rounded-xl text-amber-600 shadow-sm transition-transform group-hover:scale-110 group-hover:rotate-3",children:e.jsx(nl,{size:20,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-amber-600 leading-none mb-1.5",children:o.date}),e.jsx("p",{className:"text-base font-black text-slate-900 leading-tight uppercase italic",children:o.title})]})]}),e.jsx("button",{className:"p-3 text-slate-300 hover:text-violet-600 hover:bg-violet-50 rounded-xl transition-all",children:e.jsx(js,{size:22,strokeWidth:4})})]},d))})]})]})},C0={SUPER_ADMIN:"SUPER_ADMIN",BRANCH_ADMIN:"BRANCH_ADMIN",MANAGER:"MANAGER",STAFF:"STAFF",TRAINER:"TRAINER",MEMBER:"MEMBER"},K7=({role:t})=>{switch(t){case C0.SUPER_ADMIN:return e.jsx(A7,{});case C0.BRANCH_ADMIN:return e.jsx(P7,{});case C0.MANAGER:return e.jsx(F7,{});case C0.STAFF:return e.jsx($7,{});case C0.TRAINER:return e.jsx(H7,{});case C0.MEMBER:return e.jsx(X7,{});default:return e.jsxs("div",{className:"text-center p-8",children:[e.jsx("h2",{className:"text-title",children:"Welcome to Gym CRM"}),e.jsx("p",{className:"text-muted",children:"Please select a role from the sidebar debugger to view specific dashboards."})]})}},qr={getMembers:async(t={})=>{try{return(await ye.get("/admin/members",{params:t})).data}catch(s){throw s}},getMemberById:async t=>{try{return(await ye.get(`/admin/members/${t}`)).data}catch(s){throw s}},createMember:async t=>{try{return(await ye.post("/admin/members",t)).data}catch(s){throw s}},updateMember:async(t,s)=>{try{return(await ye.patch(`/admin/members/${t}`,s)).data}catch(a){throw a}},toggleStatus:async t=>{try{return(await ye.patch(`/admin/members/${t}/toggle-status`)).data}catch(s){throw s}},freezeMember:async(t,s)=>{try{return(await ye.patch(`/admin/members/${t}/freeze`,s)).data}catch(a){throw a}},unfreezeMember:async t=>{try{return(await ye.patch(`/admin/members/${t}/unfreeze`)).data}catch(s){throw s}},giftDays:async(t,s)=>{try{return(await ye.patch(`/admin/members/${t}/gift`,s)).data}catch(a){throw a}},getPlans:async()=>{try{return(await ye.get("/admin/plans")).data}catch(t){throw t}},createPlan:async t=>{try{return(await ye.post("/admin/plans",t)).data}catch(s){throw s}},updatePlan:async(t,s)=>{try{return(await ye.patch(`/admin/plans/${t}`,s)).data}catch(a){throw a}},deletePlan:async t=>{try{return(await ye.delete(`/admin/plans/${t}`)).data}catch(s){throw s}}},Mw=({status:t})=>{let s,a;switch((t||"").toLowerCase()){case"active":s="#D1FAE5",a="#10B981";break;case"expired":s="#F3F4F6",a="#6B7280";break;case"frozen":s="#FEF3C7",a="#F59E0B";break;default:s="#E5E7EB",a="#374151"}const i={backgroundColor:s,color:a,padding:"4px 12px",borderRadius:"9999px",fontSize:"0.75rem",fontWeight:600,textTransform:"capitalize",display:"inline-block"};return e.jsx("span",{style:i,children:t})},J7=({membership:t})=>{const s=qt(),a=l=>l?l.split(" ").map(i=>i[0]).join("").toUpperCase().slice(0,2):"?";return e.jsxs("div",{className:"group relative bg-white rounded-2xl shadow-xl border border-gray-100 p-6 hover:shadow-2xl transition-all duration-300 overflow-hidden h-full flex flex-col",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-50/0 via-purple-50/0 to-pink-50/0 group-hover:from-indigo-50/50 group-hover:via-purple-50/30 group-hover:to-pink-50/50 transition-all duration-500 rounded-2xl"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white font-bold text-sm shadow-lg group-hover:scale-110 group-hover:rotate-6 transition-all duration-300",children:a(t.memberName)}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 group-hover:text-indigo-600 transition-colors duration-300",children:t.memberName}),e.jsxs("div",{className:"flex items-center gap-1 text-gray-500 text-sm",children:[e.jsx(lt,{size:14}),e.jsx("span",{children:t.memberId})]})]})]}),e.jsx(Mw,{status:t.status})]}),e.jsxs("div",{className:"py-4 px-4 mb-4 bg-gradient-to-br from-gray-50 to-indigo-50/30 rounded-xl border-2 border-gray-100 group-hover:border-indigo-200 transition-all duration-300",children:[e.jsx("div",{className:"font-bold text-base bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent mb-2",children:t.planName}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 text-sm",children:[e.jsx(Ve,{size:14,className:"text-indigo-500"}),e.jsxs("span",{children:[t.startDate,"  ",t.endDate]})]})]}),e.jsxs("button",{onClick:()=>s(`/memberships/${t.id}`),className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl font-semibold shadow-md hover:shadow-lg hover:shadow-indigo-500/50 hover:scale-105 transition-all duration-300 group/btn",children:[e.jsx("span",{children:"View Details"}),e.jsx(jl,{size:16,className:"transition-transform duration-300 group-hover/btn:translate-x-1"})]})]})]})},Q7=()=>{const t=qt(),[s,a]=v.useState(""),[l,i]=v.useState("All"),[o,d]=v.useState([]),[x,u]=v.useState(!0),h=async()=>{try{u(!0);const p={};s&&(p.search=s),l!=="All"&&(p.status=l);const f=await qr.getMembers(p);d(f)}catch(p){console.error("Failed to fetch members:",p),st.error("Failed to load memberships")}finally{u(!1)}};return v.useEffect(()=>{const p=setTimeout(()=>{h()},300);return()=>clearTimeout(p)},[s,l]),e.jsxs("div",{className:"bg-gradient-to-br from-gray-50 via-white to-indigo-50/30 p-6 pb-12",children:[e.jsxs("div",{className:"mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-gray-100 p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 bg-clip-text text-transparent mb-2 flex items-center gap-2",children:[e.jsx(nl,{className:"text-indigo-600",size:28}),"Memberships"]}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Manage member subscriptions and plans"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full sm:w-auto",children:[e.jsxs("button",{onClick:()=>t("/memberships/plans"),className:"w-full sm:w-auto px-5 py-3 bg-white text-indigo-600 border border-indigo-100 rounded-xl font-bold hover:bg-indigo-50 hover:shadow-lg hover:-translate-y-1 transition-all duration-300 flex items-center justify-center gap-2",children:[e.jsx(nl,{size:18}),"Manage Plans"]}),e.jsxs("button",{onClick:()=>t("/memberships/new"),className:"w-full sm:w-auto group relative px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl font-semibold shadow-lg hover:shadow-xl hover:shadow-indigo-500/50 hover:scale-105 hover:-translate-y-1 transition-all duration-300 flex items-center justify-center gap-2",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/20 to-white/0 opacity-0 group-hover:opacity-100 rounded-xl transition-opacity duration-500"}),e.jsx(wt,{size:18,className:"relative z-10 transition-transform duration-300 group-hover:rotate-90"}),e.jsx("span",{className:"relative z-10",children:"Add Membership"})]})]})]})})]}),e.jsx("div",{className:"mb-6 bg-white/60 backdrop-blur-md rounded-xl shadow-lg border border-white/50 p-5 hover:shadow-xl transition-all duration-300 relative z-[100]",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1 group",children:[e.jsx(tt,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 transition-all duration-300 group-focus-within:text-indigo-500 group-focus-within:scale-110"}),e.jsx("input",{type:"text",placeholder:"Search by Member Name or ID...",value:s,onChange:p=>a(p.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border-2 border-gray-200 rounded-xl text-gray-900 text-sm placeholder-gray-400 focus:outline-none focus:ring-4 focus:ring-indigo-500/20 focus:border-indigo-500 hover:border-indigo-300 transition-all duration-300 shadow-sm hover:shadow-md"})]}),e.jsx("div",{className:"w-full sm:w-48 relative z-50",children:e.jsx(us,{options:[{value:"All",label:"All Statuses"},{value:"Active",label:"Active"},{value:"Expired",label:"Expired"},{value:"Frozen",label:"Frozen"}],value:l,onChange:i,icon:ks,className:"hover:scale-105 transition-transform duration-300"})})]})}),x?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):o.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 auto-rows-fr",children:o.map(p=>e.jsx(J7,{membership:p},p.id))}):e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-12 text-center",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-4 bg-gradient-to-br from-gray-100 to-gray-200 rounded-full flex items-center justify-center",children:e.jsx(tt,{size:32,className:"text-gray-400"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"No Memberships Found"}),e.jsx("p",{className:"text-gray-500 mb-6",children:"No memberships match your current filters."}),e.jsx("button",{onClick:()=>{a(""),i("All")},className:"px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl font-semibold shadow-lg hover:shadow-xl hover:scale-105 transition-all duration-300",children:"Clear Filters"})]})]})},Nd={getAll:async()=>{try{return(await ye.get("/amenities")).data}catch(t){throw t.response?.data?.message||"Failed to fetch amenities"}},create:async t=>{try{return(await ye.post("/amenities",t)).data}catch(s){throw s.response?.data?.message||"Failed to create amenity"}},update:async(t,s)=>{try{return(await ye.patch(`/amenities/${t}`,s)).data}catch(a){throw a.response?.data?.message||"Failed to update amenity"}},delete:async t=>{try{return(await ye.delete(`/amenities/${t}`)).data}catch(s){throw s.response?.data?.message||"Failed to delete amenity"}}},q1={Wifi:xm,Zap:ua,Shield:Ca,Coffee:yg,Music:wg,Car:Qj,Tv:hw,Bath:Kj,Wind:pw,Waves:mw,Dumbbell:Er,Layers:Sd,Check:xr},Lw=({benefitIds:t=[],layout:s="list"})=>{const a=Array.isArray(t)?t.map(u=>parseInt(u)):[],[l,i]=v.useState([]),[o,d]=v.useState(!0);if(v.useEffect(()=>{(async()=>{try{const h=await Nd.getAll();i(h)}catch(h){console.error("Failed to load amenities",h)}finally{d(!1)}})()},[]),o)return e.jsx(Sl,{size:16,className:"animate-spin text-indigo-500"});const x=l.filter(u=>a.includes(parseInt(u.id)));return x.length===0?e.jsx("div",{className:"text-gray-400 text-sm italic py-2",children:"No benefits included."}):s==="grid"?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:x.map(u=>{const h=q1[u.icon]||xr;return e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl border border-gray-100 bg-white hover:border-indigo-100 hover:shadow-sm transition-all",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-indigo-50 text-indigo-600 flex items-center justify-center shadow-sm",children:e.jsx(h,{size:18})}),e.jsxs("div",{className:"flex-1 overflow-hidden",children:[e.jsx("div",{className:"font-bold text-sm text-gray-800 truncate",children:u.name}),u.gender&&u.gender!=="UNISEX"&&e.jsx("div",{className:"text-[10px] font-bold text-indigo-500 uppercase tracking-widest mt-0.5",children:u.gender})]})]},u.id)})}):e.jsx("div",{className:"flex flex-wrap gap-2",children:x.map(u=>{const h=q1[u.icon]||xr;return e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-gradient-to-r from-gray-50 to-white border border-gray-200 rounded-lg shadow-sm",children:[e.jsx(h,{size:14,className:"text-indigo-500"}),e.jsx("span",{className:"text-sm font-bold text-gray-700",children:u.name})]},u.id)})})},Z7=({isOpen:t,onClose:s,onFreeze:a,memberName:l})=>{const[i,o]=v.useState(1),[d,x]=v.useState(""),[u,h]=v.useState(!0);if(!t)return null;const p=f=>{f.preventDefault(),a({duration:i,reason:d,isChargeable:u}),s()};return e.jsx(rt,{isOpen:t,onClose:s,title:"Freeze Membership",subtitle:l,maxWidth:"max-w-md",footer:e.jsxs("div",{className:"flex gap-3 w-full",children:[e.jsx(Ut,{type:"button",variant:"outline",onClick:s,className:"flex-1 py-3 rounded-xl border-gray-200 hover:bg-gray-50 text-gray-600 font-bold",children:"Cancel"}),e.jsx(Ut,{type:"submit",form:"freeze-form",variant:"primary",className:"flex-1 py-3 rounded-xl bg-orange-500 hover:bg-orange-600 shadow-lg shadow-orange-200 border-transparent font-bold text-white",children:"Confirm Freeze"})]}),children:e.jsx("form",{id:"freeze-form",onSubmit:p,className:"flex flex-col h-full",children:e.jsxs("div",{className:"flex-1 overflow-y-auto pr-2 space-y-6",children:[e.jsxs("div",{className:"bg-orange-50 p-4 rounded-xl border border-orange-100 flex gap-3 text-orange-800 text-sm font-bold",children:[e.jsx(zr,{className:"shrink-0",size:20}),e.jsxs("p",{children:["Freezing membership for ",l," will pause their access and extend their expiry date."]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-gray-400 mb-2",children:"Duration (Months)"}),e.jsx("select",{className:"w-full h-12 px-4 rounded-xl bg-gray-50 border-transparent focus:bg-white ring-2 ring-transparent focus:ring-orange-100 outline-none font-bold text-sm",value:i,onChange:f=>o(Number(f.target.value)),children:[1,2,3,4,5,6].map(f=>e.jsxs("option",{value:f,children:[f," Month",f>1?"s":""]},f))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-gray-400 mb-2",children:"Reason"}),e.jsx("textarea",{className:"w-full p-4 rounded-xl bg-gray-50 border-transparent focus:bg-white ring-2 ring-transparent focus:ring-orange-100 outline-none font-medium text-sm transition-all resize-none h-24",placeholder:"Why is the member requesting a freeze?",value:d,onChange:f=>x(f.target.value),required:!0})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",id:"chargeable",className:"w-5 h-5 rounded-md text-orange-500 focus:ring-orange-200 border-gray-300",checked:u,onChange:f=>h(f.target.checked)}),e.jsx("label",{htmlFor:"chargeable",className:"text-sm font-bold text-gray-700",children:"Apply Freeze Fee (500/month)"})]})]})})})},Wn=({label:t,icon:s,className:a="",...l})=>e.jsxs("div",{className:"w-full",children:[t&&e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-gray-400 mb-2",children:t}),e.jsxs("div",{className:"relative",children:[s&&e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:e.jsx(s,{size:18})}),e.jsx("input",{className:`
                        w-full 
                        p-4 
                        ${s?"pl-12":""} 
                        bg-gray-50 
                        rounded-xl 
                        font-bold 
                        text-gray-900 
                        outline-none 
                        focus:ring-2 
                        focus:ring-indigo-500 
                        focus:bg-white 
                        transition-all
                        border border-transparent
                        placeholder:text-gray-400
                        ${a}
                    `,...l})]})]}),e9=({isOpen:t,onClose:s,onGift:a,memberName:l})=>{const[i,o]=v.useState(7),[d,x]=v.useState("");if(!t)return null;const u=h=>{h.preventDefault(),a({days:i,note:d}),s()};return e.jsx(rt,{isOpen:t,onClose:s,title:"Gift Free Days",subtitle:l,maxWidth:"max-w-md",footer:e.jsxs("div",{className:"flex gap-3 w-full",children:[e.jsx(Ut,{type:"button",variant:"outline",onClick:s,className:"flex-1 py-3 rounded-xl border-gray-200 hover:bg-gray-50 text-gray-600 font-bold",children:"Cancel"}),e.jsx(Ut,{type:"submit",form:"gift-days-form",variant:"primary",className:"flex-1 py-3 rounded-xl bg-pink-500 hover:bg-pink-600 shadow-lg shadow-pink-200 border-transparent font-bold text-white",children:"Add Gift Days"})]}),children:e.jsx("form",{id:"gift-days-form",onSubmit:u,className:"flex flex-col h-full",children:e.jsxs("div",{className:"flex-1 overflow-y-auto pr-2 space-y-6",children:[e.jsxs("div",{className:"bg-pink-50 p-4 rounded-xl border border-pink-100 flex gap-3 text-pink-800 text-sm font-bold",children:[e.jsx(Ve,{className:"shrink-0",size:20}),e.jsxs("p",{children:["Adding complimentary days to ",l,"'s plan. This will extend their expiry date."]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-gray-400 mb-2",children:"Number of Days"}),e.jsx(Wn,{type:"number",className:"w-full bg-gray-50 border-transparent focus:bg-white transition-all font-bold",placeholder:"e.g. 7",value:i,onChange:h=>o(Number(h.target.value)),min:"1",max:"365",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-gray-400 mb-2",children:"Internal Note"}),e.jsx("textarea",{className:"w-full p-4 rounded-xl bg-gray-50 border-transparent focus:bg-white ring-2 ring-transparent focus:ring-pink-100 outline-none font-medium text-sm transition-all resize-none h-24",placeholder:"Reason for gift (e.g. Referral Bonus, Birthday)",value:d,onChange:h=>x(h.target.value),required:!0})]})]})})})},t9=()=>{const{id:t}=Td(),s=qt(),[a,l]=v.useState(null),[i,o]=v.useState(!0);v.useEffect(()=>{t&&(async()=>{try{o(!0);const C=await qr.getMemberById(t),L={...C,memberName:C.name,planName:C.plan?.name||"No Plan Active",joinDate:C.joinDate?new Date(C.joinDate).toLocaleDateString("en-GB"):"N/A",startDate:C.joinDate?new Date(C.joinDate).toLocaleDateString("en-GB"):"N/A",endDate:C.expiryDate?new Date(C.expiryDate).toLocaleDateString("en-GB"):"N/A",durationText:C.plan?`${C.plan.duration} ${C.plan.durationType||"Months"}`:"N/A",benefits:C.benefits||[],hasFaceId:!!C.avatar};l(L)}catch(C){console.error("Error fetching member details:",C),st.error("Failed to load member details"),s("/memberships")}finally{o(!1)}})()},[t,s]);const[d,x]=v.useState(!1),[u,h]=v.useState(!1),p=v.useRef(null);if(i)return e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})});if(!a)return e.jsx("div",{className:"p-6 text-center text-muted",children:"Membership not found."});const f=a.status==="Frozen",b=async({duration:k,reason:C,isChargeable:L})=>{try{await qr.freezeMember(t,{duration:k,reason:C,isChargeable:L}),st.success("Membership frozen successfully");const N=await qr.getMemberById(t);l(P=>({...P,...N,status:"Frozen",endDate:N.expiryDate?new Date(N.expiryDate).toLocaleDateString():P.endDate}))}catch{st.error("Failed to freeze membership")}},g=async()=>{try{await qr.unfreezeMember(t),st.success("Membership resumed successfully"),l(k=>({...k,status:"Active"}))}catch{st.error("Failed to resume membership")}},j=async({days:k,note:C})=>{try{await qr.giftDays(t,{days:k,note:C}),st.success(`Successfully added ${k} complimentary days`);const L=await qr.getMemberById(t);l(N=>({...N,...L,endDate:L.expiryDate?new Date(L.expiryDate).toLocaleDateString():N.endDate,medicalHistory:L.medicalHistory}))}catch{st.error("Failed to add gift days")}},A=()=>{p.current?.click()},w=k=>{const C=k.target.files?.[0];C&&(console.log("Selected file:",C.name),alert(`Selected file for Face ID: ${C.name}
In a real app, this would be uploaded to the server.`))};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col gap-4 sm:gap-6",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("button",{onClick:()=>s("/memberships"),className:"w-10 h-10 sm:w-12 sm:h-12 rounded-lg sm:rounded-xl bg-gradient-to-br from-slate-100 to-slate-200 hover:from-violet-100 hover:to-purple-100 flex items-center justify-center text-slate-600 hover:text-violet-600 shadow-md hover:shadow-lg transition-all duration-300 hover:scale-110 flex-shrink-0",children:e.jsx(kn,{size:18,className:"sm:w-5 sm:h-5",strokeWidth:2.5})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent truncate",children:"Membership Details"}),e.jsxs("p",{className:"text-slate-600 text-xs sm:text-sm mt-1",children:["ID: ",a.id]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:flex-wrap items-stretch sm:items-center gap-2 sm:gap-3",children:[e.jsxs("button",{onClick:()=>h(!0),className:"group flex items-center justify-center gap-2 px-4 sm:px-5 py-2.5 sm:py-3 bg-gradient-to-r from-pink-500 to-rose-500 text-white rounded-lg sm:rounded-xl text-xs sm:text-sm font-bold shadow-lg shadow-pink-500/50 hover:shadow-xl hover:shadow-pink-500/60 hover:scale-105 transition-all w-full sm:w-auto",children:[e.jsx(Dd,{size:16,strokeWidth:2.5,className:"sm:w-[18px] sm:h-[18px] transition-all duration-300 group-hover:scale-110 group-hover:rotate-12"}),"Gift Days"]}),e.jsxs("button",{onClick:f?g:()=>x(!0),className:"group flex items-center justify-center gap-2 px-4 sm:px-5 py-2.5 sm:py-3 bg-white border-2 border-slate-200 text-slate-700 hover:border-violet-300 hover:text-violet-600 rounded-lg sm:rounded-xl text-xs sm:text-sm font-bold shadow-sm hover:shadow-md hover:scale-105 transition-all w-full sm:w-auto",children:[f?e.jsx(c8,{size:16,strokeWidth:2.5,className:"sm:w-[18px] sm:h-[18px] transition-all duration-300 group-hover:scale-110"}):e.jsx(qh,{size:16,strokeWidth:2.5,className:"sm:w-[18px] sm:h-[18px] transition-all duration-300 group-hover:scale-110"}),f?"Resume":"Freeze"]}),e.jsxs("button",{onClick:()=>s(`/memberships/${a.id}/edit`),className:"group flex items-center justify-center gap-2 px-4 sm:px-5 py-2.5 sm:py-3 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-lg sm:rounded-xl text-xs sm:text-sm font-bold shadow-xl shadow-violet-500/50 hover:shadow-2xl hover:shadow-violet-500/60 hover:scale-105 transition-all w-full sm:w-auto",children:[e.jsx(Pa,{size:16,strokeWidth:2.5,className:"sm:w-[18px] sm:h-[18px] transition-all duration-300 group-hover:scale-110 group-hover:rotate-12"}),"Edit Membership"]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mb-4 sm:mb-6",children:[e.jsxs("div",{className:"group relative bg-white rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6 hover:shadow-2xl transition-all duration-300 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50/50 to-purple-50/50 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-4 sm:mb-6 pb-3 sm:pb-4 border-b border-slate-100",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg sm:rounded-xl bg-gradient-to-br from-violet-100 to-purple-100 flex items-center justify-center text-violet-600 shadow-md flex-shrink-0",children:e.jsx(lt,{size:16,className:"sm:w-5 sm:h-5",strokeWidth:2.5})}),e.jsx("h3",{className:"text-base sm:text-lg font-black text-slate-900",children:"Member Information"})]}),e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 p-3 sm:p-4 rounded-lg sm:rounded-xl bg-gradient-to-r from-slate-50 to-white border border-slate-100",children:[e.jsxs("div",{className:"relative flex-shrink-0",children:[e.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 rounded-xl sm:rounded-2xl bg-gradient-to-br from-violet-500 via-purple-500 to-fuchsia-500 flex items-center justify-center text-white shadow-lg",children:e.jsx(lt,{size:24,className:"sm:w-8 sm:h-8",strokeWidth:2.5})}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 sm:w-6 sm:h-6 bg-gradient-to-br from-emerald-400 to-emerald-600 rounded-full border-2 border-white flex items-center justify-center",children:e.jsx(nl,{size:10,className:"sm:w-3 sm:h-3 text-white"})})]}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"font-black text-slate-900 text-base sm:text-lg truncate",children:a.memberName}),e.jsxs("div",{className:"text-xs sm:text-sm text-slate-500 font-semibold truncate",children:["Member ID: ",a.memberId]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(A0,{icon:Wr,label:"Email",value:a.email}),e.jsx(A0,{icon:Hs,label:"Phone",value:a.phone}),e.jsx(A0,{icon:lt,label:"Gender",value:a.gender}),e.jsx(A0,{icon:Ve,label:"Join Date",value:a.joinDate})]})]})]})]}),e.jsxs("div",{className:"group relative bg-white rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6 hover:shadow-2xl transition-all duration-300 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50/50 to-violet-50/50 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-4 sm:mb-6 pb-3 sm:pb-4 border-b border-slate-100",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg sm:rounded-xl bg-gradient-to-br from-blue-100 to-violet-100 flex items-center justify-center text-blue-600 shadow-md flex-shrink-0",children:e.jsx(Ps,{size:16,className:"sm:w-5 sm:h-5",strokeWidth:2.5})}),e.jsx("h3",{className:"text-base sm:text-lg font-black text-slate-900",children:"Plan Details"})]}),e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-start gap-2",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"text-xs sm:text-sm text-slate-500 font-semibold mb-1",children:"Current Plan"}),e.jsx("div",{className:"text-lg sm:text-xl lg:text-2xl font-black bg-gradient-to-r from-violet-600 to-purple-600 bg-clip-text text-transparent truncate",children:a.planName})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Mw,{status:a.status})})]}),e.jsxs("div",{className:"p-3 sm:p-5 rounded-xl sm:rounded-2xl bg-gradient-to-br from-slate-50 to-white border-2 border-slate-100 space-y-2 sm:space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center gap-2",children:[e.jsx("span",{className:"text-xs sm:text-sm text-slate-600 font-bold",children:"Start Date"}),e.jsx("span",{className:"px-2 sm:px-3 py-1 sm:py-1.5 bg-gradient-to-r from-emerald-50 to-emerald-100 text-emerald-700 rounded-lg text-xs sm:text-sm font-black border border-emerald-200 whitespace-nowrap",children:a.startDate})]}),e.jsxs("div",{className:"flex justify-between items-center gap-2",children:[e.jsx("span",{className:"text-xs sm:text-sm text-slate-600 font-bold",children:"End Date"}),e.jsx("span",{className:"px-2 sm:px-3 py-1 sm:py-1.5 bg-gradient-to-r from-red-50 to-red-100 text-red-700 rounded-lg text-xs sm:text-sm font-black border border-red-200 whitespace-nowrap",children:a.endDate})]})]}),e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"inline-flex items-center gap-1.5 sm:gap-2 px-3 sm:px-4 py-1.5 sm:py-2 bg-gradient-to-r from-violet-500 to-purple-600 text-white rounded-lg sm:rounded-xl text-xs sm:text-sm font-black shadow-lg",children:[e.jsx(Ve,{size:14,className:"sm:w-4 sm:h-4"}),"Duration: ",a.durationText]})})]})]})]})]}),e.jsxs("div",{className:"group relative bg-white rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6 hover:shadow-2xl transition-all duration-300 overflow-hidden mb-4 sm:mb-6",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-50/50 to-purple-50/50 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-4 sm:mb-6 pb-3 sm:pb-4 border-b border-slate-100",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg sm:rounded-xl bg-gradient-to-br from-indigo-100 to-purple-100 flex items-center justify-center text-indigo-600 shadow-md flex-shrink-0",children:e.jsx(lt,{size:16,className:"sm:w-5 sm:h-5",strokeWidth:2.5})}),e.jsx("h3",{className:"text-base sm:text-lg font-black text-slate-900",children:"Biometric Access"})]}),e.jsxs("div",{onClick:A,className:"flex flex-col sm:flex-row items-center justify-between gap-4 p-4 sm:p-6 rounded-xl sm:rounded-2xl bg-gradient-to-r from-slate-50 to-white border-2 border-dashed border-slate-200 hover:border-violet-300 transition-all duration-300 cursor-pointer group/biometric",children:[e.jsx("input",{type:"file",ref:p,onChange:w,className:"hidden",accept:"image/*"}),e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 w-full sm:w-auto",children:[e.jsxs("div",{className:"relative flex-shrink-0",children:[e.jsx("div",{className:"w-14 h-14 sm:w-16 sm:h-16 rounded-xl sm:rounded-2xl bg-gradient-to-br from-indigo-500 via-purple-500 to-violet-500 flex items-center justify-center text-white shadow-xl group-hover/biometric:scale-110 transition-transform duration-300",children:e.jsx(lt,{size:28,className:"sm:w-8 sm:h-8",strokeWidth:2.5})}),a.hasFaceId&&e.jsx("div",{className:"absolute -top-1 -right-1",children:e.jsxs("span",{className:"relative flex h-3.5 w-3.5 sm:h-4 sm:w-4",children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"}),e.jsx("span",{className:"relative inline-flex rounded-full h-3.5 w-3.5 sm:h-4 sm:w-4 bg-emerald-500 border-2 border-white"})]})})]}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"font-black text-slate-900 text-sm sm:text-base group-hover/biometric:text-violet-600 transition-colors",children:"Face ID Avatar"}),e.jsx("div",{className:`text-xs sm:text-sm font-semibold ${a.hasFaceId?"text-emerald-600":"text-slate-500"}`,children:a.hasFaceId?"Registered & Active":"Not setup yet"})]})]}),e.jsx("button",{className:"group/btn px-4 sm:px-5 py-2.5 sm:py-3 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-lg sm:rounded-xl text-xs sm:text-sm font-bold shadow-lg shadow-indigo-500/50 hover:shadow-xl hover:shadow-indigo-500/60 hover:scale-105 transition-all w-full sm:w-auto",children:e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[a.hasFaceId?"Update Photo":"Upload Photo",e.jsx(nl,{size:14,className:"sm:w-4 sm:h-4 transition-all duration-300 group-hover/btn:rotate-12"})]})})]})]})]}),e.jsxs("div",{className:"group relative bg-white rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6 hover:shadow-2xl transition-all duration-300 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-50/50 to-orange-50/50 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-4 sm:mb-6 pb-3 sm:pb-4 border-b border-slate-100",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg sm:rounded-xl bg-gradient-to-br from-amber-100 to-orange-100 flex items-center justify-center text-amber-600 shadow-md flex-shrink-0",children:e.jsx(nl,{size:16,className:"sm:w-5 sm:h-5",strokeWidth:2.5})}),e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 min-w-0",children:[e.jsx("h3",{className:"text-base sm:text-lg font-black text-slate-900 truncate",children:"Included Benefits"}),e.jsx("span",{className:"px-1.5 sm:px-2 py-0.5 bg-gradient-to-r from-violet-500 to-purple-600 text-white text-[9px] sm:text-[10px] font-black rounded-md shadow-sm animate-pulse whitespace-nowrap flex-shrink-0",children:"PREMIUM "})]})]}),e.jsx(Lw,{benefitIds:a.benefits,layout:"grid"})]})]}),e.jsxs("div",{className:`group relative bg-white rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6 hover:shadow-2xl transition-all duration-300 overflow-hidden mt-6 ${a.medicalHistory||a.fitnessGoal?"opacity-100":"opacity-80"}`,children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-50/50 to-pink-50/50 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-4 sm:mb-6 pb-3 sm:pb-4 border-b border-slate-100",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg sm:rounded-xl bg-gradient-to-br from-purple-100 to-pink-100 flex items-center justify-center text-purple-600 shadow-md flex-shrink-0",children:e.jsx(nl,{size:16,className:"sm:w-5 sm:h-5",strokeWidth:2.5})}),e.jsx("h3",{className:"text-base sm:text-lg font-black text-slate-900",children:"Medical & Onboarding"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs sm:text-sm font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Medical History"}),e.jsx("div",{className:"p-4 rounded-xl bg-slate-50 border border-slate-100 text-slate-700 text-sm min-h-[100px]",children:a.medicalHistory||"No medical history reported."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs sm:text-sm font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Fitness Goal"}),e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-violet-50 to-purple-50 text-violet-700 rounded-lg border border-violet-100 font-bold text-sm",children:[e.jsx(nl,{size:14}),a.fitnessGoal||"Not specified"]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-xs sm:text-sm font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Emergency Contact"}),e.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-slate-50 to-white border border-slate-100 space-y-3",children:[e.jsx(A0,{icon:lt,label:"Name",value:a.emergencyName||"N/A"}),e.jsx(A0,{icon:Hs,label:"Phone",value:a.emergencyPhone||"N/A"})]})]})]})]})]}),e.jsx(Z7,{isOpen:d,onClose:()=>x(!1),onFreeze:b,memberName:a.memberName}),e.jsx(e9,{isOpen:u,onClose:()=>h(!1),memberName:a.memberName,onGift:j})]})},A0=({icon:t,label:s,value:a})=>e.jsxs("div",{className:"group/row flex items-center justify-between p-3 rounded-lg hover:bg-slate-50 transition-all duration-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-violet-100 to-purple-100 flex items-center justify-center text-violet-600 transition-all duration-300 group-hover/row:scale-110",children:e.jsx(t,{size:16,strokeWidth:2.5})}),e.jsx("span",{className:"text-sm text-slate-600 font-semibold",children:s})]}),e.jsx("div",{className:"font-bold text-sm text-slate-900",children:a})]}),H1=()=>{const t=qt(),{id:s}=Td(),a=!!s,[l,i]=v.useState(!1),[o,d]=v.useState([]),[x,u]=v.useState([]),[h,p]=v.useState({name:"",email:"",phone:"",gender:"Male",planId:"",startDate:new Date().toISOString().split("T")[0],amount:"",memberId:"",status:"Active",benefits:[],medicalHistory:"",fitnessGoal:"",emergencyName:"",emergencyPhone:""}),f=v.useRef(null);v.useEffect(()=>{(async()=>{try{i(!0);const C=await qr.getPlans();d(C);const L=await Nd.getAll();if(u(L),a){const N=await qr.getMemberById(s);p({name:N.name||"",email:N.email||"",phone:N.phone||"",gender:N.gender||"Male",planId:N.planId||"",startDate:N.joinDate?new Date(N.joinDate).toISOString().split("T")[0]:"",amount:"",memberId:N.memberId||"",status:N.status||"Active",benefits:N.benefits||[],medicalHistory:N.medicalHistory||"",fitnessGoal:N.fitnessGoal||"",emergencyName:N.emergencyName||"",emergencyPhone:N.emergencyPhone||""})}}catch(C){console.error("Initial load error:",C),st.error("Failed to load required data"),a&&t("/memberships")}finally{i(!1)}})()},[a,s,t]);const b=k=>{const{name:C,value:L}=k.target;if(p(N=>({...N,[C]:L})),C==="planId"){const N=o.find(P=>P.id===parseInt(L));N&&p(P=>({...P,amount:N.price}))}},g=k=>{p(C=>{const L=C.benefits.includes(k)?C.benefits.filter(N=>N!==k):[...C.benefits,k];return{...C,benefits:L}})},j=()=>{f.current?.click()},A=k=>{const C=k.target.files?.[0];if(C){if(C.size>5*1024*1024){st.error("File size too large (max 5MB)");return}const L=new FileReader;L.onloadend=()=>{p(N=>({...N,avatar:L.result})),st.success("Image selected successfully")},L.onerror=()=>{st.error("Failed to read file")},L.readAsDataURL(C)}},w=async k=>{k.preventDefault(),i(!0);try{a?(await qr.updateMember(s,h),st.success("Member updated successfully!")):(await qr.createMember(h),st.success("Member created successfully!")),t("/memberships")}catch(C){console.error("Submit error:",C),st.error(C.response?.data?.message||"Operation failed")}finally{i(!1)}};return e.jsxs("div",{className:"bg-gradient-to-br from-gray-50 via-white to-indigo-50/30 p-6 pb-12",children:[e.jsxs("div",{className:"max-w-4xl mx-auto mb-8",children:[e.jsxs("button",{onClick:()=>t("/memberships"),className:"flex items-center gap-2 text-gray-600 hover:text-indigo-600 mb-4 transition-colors duration-300 group",children:[e.jsx(kn,{size:20,className:"transition-transform duration-300 group-hover:-translate-x-1"}),e.jsx("span",{className:"font-medium",children:"Back to Memberships"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsxs("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-gray-100 p-6",children:[e.jsxs("h1",{className:"text-3xl font-bold bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 bg-clip-text text-transparent flex items-center gap-3",children:[e.jsx(nl,{className:"text-indigo-600",size:28}),a?"Edit Membership":"New Membership"]}),e.jsx("p",{className:"text-gray-600 text-sm mt-2",children:a?"Update membership details and benefits":"Create a new membership for your member"})]})]})]}),e.jsxs("form",{onSubmit:w,className:"max-w-4xl mx-auto space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden hover:shadow-2xl transition-all duration-500",children:[e.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 p-6",children:e.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[e.jsx(lt,{size:20}),"Membership Details"]})}),e.jsxs("div",{className:"p-8 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3 group col-span-2 md:col-span-1",children:[e.jsxs("label",{className:"block text-sm font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:["Full Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"name",value:h.name,onChange:b,className:"w-full px-5 py-4 bg-gradient-to-br from-white to-indigo-50/30 border-2 border-gray-200 rounded-2xl text-gray-900 text-sm focus:outline-none focus:ring-4 focus:ring-indigo-500/20 focus:border-indigo-500 hover:border-indigo-300 transition-all duration-300 shadow-md",placeholder:"John Doe",required:!0})]}),e.jsxs("div",{className:"space-y-3 group col-span-2 md:col-span-1",children:[e.jsxs("label",{className:"block text-sm font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:["Email Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"email",name:"email",value:h.email,onChange:b,className:"w-full px-5 py-4 bg-gradient-to-br from-white to-indigo-50/30 border-2 border-gray-200 rounded-2xl text-gray-900 text-sm focus:outline-none focus:ring-4 focus:ring-indigo-500/20 focus:border-indigo-500 hover:border-indigo-300 transition-all duration-300 shadow-md",placeholder:"john@example.com",required:!0})]}),e.jsxs("div",{className:"space-y-3 group col-span-2 md:col-span-1",children:[e.jsxs("label",{className:"block text-sm font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:["Phone Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"tel",name:"phone",value:h.phone,onChange:b,className:"w-full px-5 py-4 bg-gradient-to-br from-white to-indigo-50/30 border-2 border-gray-200 rounded-2xl text-gray-900 text-sm focus:outline-none focus:ring-4 focus:ring-indigo-500/20 focus:border-indigo-500 hover:border-indigo-300 transition-all duration-300 shadow-md",placeholder:"+1 234 567 890",required:!0})]}),e.jsxs("div",{className:"space-y-3 group col-span-2 md:col-span-1",children:[e.jsx("label",{className:"block text-sm font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:"Gender"}),e.jsxs("select",{name:"gender",value:h.gender,onChange:b,className:"w-full px-5 py-4 bg-gradient-to-br from-white to-indigo-50/30 border-2 border-gray-200 rounded-2xl text-gray-900 text-sm focus:outline-none focus:ring-4 focus:ring-indigo-500/20 focus:border-indigo-500 hover:border-indigo-300 transition-all duration-300 shadow-md",children:[e.jsx("option",{value:"Male",children:"Male"}),e.jsx("option",{value:"Female",children:"Female"}),e.jsx("option",{value:"Other",children:"Other"})]})]})]}),e.jsxs("div",{className:"space-y-3 group mt-6",children:[e.jsxs("label",{className:"block text-sm font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:["Select Plan ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:o.length===0?e.jsxs("div",{className:"col-span-3 py-10 text-center bg-gray-50 rounded-2xl border-2 border-dashed border-gray-200",children:[e.jsx(hs,{className:"mx-auto text-gray-400 mb-2",size:32}),e.jsx("p",{className:"text-gray-500 font-medium",children:"No plans found. Please create membership plans first."}),e.jsx("button",{type:"button",onClick:()=>t("/memberships/plans"),className:"mt-3 text-sm font-bold text-indigo-600 hover:text-indigo-800 underline",children:"Go to Plans Management"})]}):o.map(k=>e.jsxs("div",{onClick:()=>b({target:{name:"planId",value:k.id}}),className:`cursor-pointer relative p-4 rounded-xl border-2 transition-all duration-300 ${parseInt(h.planId)===k.id?"border-indigo-500 bg-indigo-50/50 shadow-lg shadow-indigo-500/10":"border-slate-100 hover:border-indigo-200 hover:shadow-md"}`,children:[parseInt(h.planId)===k.id&&e.jsx("div",{className:"absolute top-3 right-3 text-indigo-600",children:e.jsx(xr,{size:18,strokeWidth:3})}),e.jsx("h3",{className:"font-bold text-slate-800",children:k.name}),e.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:[k.duration," ",k.durationType||"Month",k.duration>1?"s":""]}),e.jsxs("div",{className:"mt-3 text-lg font-black text-indigo-600",children:["",k.price]})]},k.id))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[e.jsxs("div",{className:"space-y-3 group",children:[e.jsxs("label",{className:"block text-sm font-bold bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent",children:["Start Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Ve,{size:18,className:"absolute left-5 top-1/2 -translate-y-1/2 text-gray-400 transition-all duration-300 group-focus-within:text-blue-500"}),e.jsx("input",{type:"date",name:"startDate",value:h.startDate,onChange:b,className:"w-full pl-14 pr-5 py-4 bg-gradient-to-br from-white to-blue-50/30 border-2 border-gray-200 rounded-2xl text-gray-900 text-sm focus:outline-none focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 hover:border-blue-300 hover:shadow-lg transition-all duration-300 shadow-md",required:!0})]})]}),e.jsxs("div",{className:"space-y-3 group",children:[e.jsxs("label",{className:"block text-sm font-bold bg-gradient-to-r from-emerald-600 to-teal-600 bg-clip-text text-transparent",children:["Status ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{name:"status",value:h.status,onChange:b,className:"w-full px-5 py-4 bg-gradient-to-br from-white to-emerald-50/30 border-2 border-gray-200 rounded-2xl text-gray-900 text-sm focus:outline-none focus:ring-4 focus:ring-emerald-500/20 focus:border-emerald-500 hover:border-emerald-300 hover:shadow-lg transition-all duration-300 shadow-md",children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Frozen",children:"Frozen"}),e.jsx("option",{value:"Expired",children:"Expired"})]})]})]}),e.jsxs("div",{className:"space-y-5 pt-6 border-t-2 border-gray-100 mt-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center shadow-lg",children:e.jsx(Xt,{className:"w-6 h-6 text-white"})}),e.jsx("h3",{className:"text-xl font-black bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:"Included Benefits"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[x.map(k=>e.jsxs("div",{className:`relative flex items-start p-4 rounded-xl border-2 transition-all duration-300 cursor-pointer hover:scale-105 hover:shadow-lg group ${h.benefits.includes(k.id)?"bg-gradient-to-br from-indigo-50 to-purple-50 border-indigo-300 shadow-md":"bg-white border-gray-200 hover:border-indigo-200 hover:bg-indigo-50/30"}`,children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:k.id,type:"checkbox",className:"h-5 w-5 rounded-lg border-2 border-gray-300 text-indigo-600 focus:ring-4 focus:ring-indigo-500/20 transition-all duration-300 cursor-pointer hover:scale-125 checked:scale-125 hover:shadow-lg",checked:h.benefits.includes(k.id),onChange:()=>g(k.id)})}),e.jsxs("div",{className:"ml-3 text-sm flex-1",children:[e.jsx("label",{htmlFor:k.id,className:`font-semibold cursor-pointer select-none transition-all duration-300 ${h.benefits.includes(k.id)?"text-indigo-700":"text-gray-700 group-hover:text-indigo-600"}`,children:k.name}),k.gender&&k.gender!=="UNISEX"&&e.jsxs("span",{className:`block mt-1 w-max px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-widest ${k.gender==="MALE"?"bg-blue-100 text-blue-700":"bg-pink-100 text-pink-700"}`,children:[k.gender," ONLY"]})]})]},k.id)),x.length===0&&e.jsx("div",{className:"col-span-2 text-center py-4 bg-slate-50 rounded-xl border-2 border-dashed border-slate-200",children:e.jsx("p",{className:"text-slate-500 text-sm",children:"No amenities configured. Add them in settings."})})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden hover:shadow-2xl transition-all duration-500",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 p-6",children:e.jsx("h2",{className:"text-xl font-bold text-white",children:"Medical & Onboarding"})}),e.jsxs("div",{className:"p-8 space-y-6",children:[e.jsxs("div",{className:"space-y-3 group",children:[e.jsx("label",{className:"block text-sm font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Medical History / Conditions"}),e.jsx("textarea",{name:"medicalHistory",className:"w-full px-5 py-4 bg-gradient-to-br from-white to-purple-50/30 border-2 border-gray-200 rounded-2xl text-gray-900 text-sm placeholder-gray-400 focus:outline-none focus:ring-4 focus:ring-purple-500/20 focus:border-purple-500 hover:border-purple-300 hover:shadow-lg transition-all duration-300 shadow-md resize-none",rows:"4",placeholder:"Any injuries, surgeries, or conditions we should be aware of?",value:h.medicalHistory||"",onChange:b})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3 group",children:[e.jsx("label",{className:"block text-sm font-bold bg-gradient-to-r from-pink-600 to-rose-600 bg-clip-text text-transparent",children:"Fitness Goal"}),e.jsxs("select",{name:"fitnessGoal",className:"w-full px-5 py-4 bg-gradient-to-br from-white to-pink-50/30 border-2 border-gray-200 rounded-2xl text-gray-900 text-sm focus:outline-none focus:ring-4 focus:ring-pink-500/20 focus:border-pink-500 hover:border-pink-300 hover:shadow-lg transition-all duration-300 shadow-md",value:h.fitnessGoal||"",onChange:b,children:[e.jsx("option",{value:"",children:"Select Goal"}),e.jsx("option",{value:"Weight Loss",children:"Weight Loss"}),e.jsx("option",{value:"Muscle Gain",children:"Muscle Gain"}),e.jsx("option",{value:"Endurance",children:"General Endurance"}),e.jsx("option",{value:"Flexibility",children:"Flexibility & Mobility"}),e.jsx("option",{value:"Rehabilitation",children:"Rehabilitation"})]})]}),e.jsxs("div",{className:"space-y-3 group",children:[e.jsx("label",{className:"block text-sm font-bold bg-gradient-to-r from-rose-600 to-orange-600 bg-clip-text text-transparent",children:"Emergency Contact Name"}),e.jsx("input",{type:"text",name:"emergencyName",className:"w-full px-5 py-4 bg-gradient-to-br from-white to-rose-50/30 border-2 border-gray-200 rounded-2xl text-gray-900 text-sm placeholder-gray-400 focus:outline-none focus:ring-4 focus:ring-rose-500/20 focus:border-rose-500 hover:border-rose-300 hover:shadow-lg transition-all duration-300 shadow-md",placeholder:"Name",value:h.emergencyName||"",onChange:b})]})]}),e.jsxs("div",{className:"space-y-3 group",children:[e.jsx("label",{className:"block text-sm font-bold bg-gradient-to-r from-orange-600 to-amber-600 bg-clip-text text-transparent",children:"Emergency Contact Phone"}),e.jsx("input",{type:"tel",name:"emergencyPhone",className:"w-full px-5 py-4 bg-gradient-to-br from-white to-orange-50/30 border-2 border-gray-200 rounded-2xl text-gray-900 text-sm placeholder-gray-400 focus:outline-none focus:ring-4 focus:ring-orange-500/20 focus:border-orange-500 hover:border-orange-300 hover:shadow-lg transition-all duration-300 shadow-md",placeholder:"+91...",value:h.emergencyPhone||"",onChange:b})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden hover:shadow-2xl transition-all duration-500",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-cyan-600 p-6",children:e.jsx("h2",{className:"text-xl font-bold text-white",children:"Biometric Data"})}),e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{onClick:j,className:"border-2 border-dashed border-indigo-200 rounded-2xl p-12 flex flex-col items-center justify-center text-center cursor-pointer hover:bg-gradient-to-br hover:from-indigo-50 hover:to-purple-50 hover:border-indigo-400 transition-all duration-300 group relative overflow-hidden",children:[e.jsx("input",{type:"file",ref:f,onChange:A,className:"hidden",accept:"image/*"}),h.avatar?e.jsxs("div",{className:"absolute inset-0 w-full h-full",children:[e.jsx("img",{src:h.avatar,alt:"Face ID",className:"w-full h-full object-cover opacity-50 group-hover:opacity-30 transition-opacity"}),e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[e.jsx("div",{className:"w-16 h-16 bg-white/80 backdrop-blur-sm rounded-full flex items-center justify-center mb-2 shadow-lg",children:e.jsx(If,{size:24,className:"text-indigo-600"})}),e.jsx("span",{className:"font-bold text-gray-900 bg-white/50 px-3 py-1 rounded-full",children:"Change Photo"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300 shadow-lg",children:e.jsx(If,{size:32,className:"text-white"})}),e.jsx("span",{className:"text-base font-bold text-gray-900 mb-1",children:"Upload Face ID Avatar"}),e.jsx("span",{className:"text-sm text-gray-500",children:"For Turnstile Access"})]})]}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs("ul",{className:"space-y-3 text-gray-600",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-full"}),"Ensure good lighting"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-purple-500 to-pink-600 rounded-full"}),"Neutral expression"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-pink-500 to-rose-600 rounded-full"}),"No accessories (glasses/hats)"]})]})})]})})]}),e.jsxs("div",{className:"flex flex-col-reverse sm:flex-row items-center justify-end gap-4 pt-4",children:[e.jsxs("button",{type:"button",onClick:()=>t("/memberships"),className:"w-full sm:w-auto px-8 py-4 bg-white border-2 border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 hover:border-gray-400 hover:shadow-lg transition-all duration-300 flex items-center justify-center gap-2",children:[e.jsx(Vr,{size:18}),"Cancel"]}),e.jsxs("button",{type:"submit",disabled:l,className:"group w-full sm:w-auto px-8 py-4 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl font-semibold shadow-lg hover:shadow-xl hover:shadow-indigo-500/50 hover:scale-105 hover:-translate-y-1 transition-all duration-300 flex items-center justify-center gap-2",children:[l?e.jsx(Sl,{size:18,className:"animate-spin"}):e.jsx(na,{size:18,className:"transition-transform duration-300 group-hover:rotate-12"}),a?"Update Membership":"Save Membership"]})]})]})]})},zw=[{id:"gym_access",name:"Gym Access",icon:"Dumbbell",description:"Unlimited access to gym floor and equipment.",type:"recurring",limit:"Unlimited"},{id:"personal_trainer",name:"Personal Trainer",icon:"User",description:"One-on-one sessions with a certified trainer.",type:"recurring",limit:4},{id:"group_classes",name:"Group Classes",icon:"Users",description:"Access to yoga, zumba, and spin classes.",type:"recurring",limit:8},{id:"diet_plan",name:"Diet Consultation",icon:"Utensils",description:"Monthly diet plan review with nutritionist.",type:"recurring",limit:1},{id:"locker",name:"Private Locker",icon:"Lock",description:"Dedicated locker for personal belongings.",type:"global",limit:1},{id:"sauna",name:"Sauna Access",icon:"Thermometer",description:"Post-workout relaxation in sauna.",type:"recurring",limit:2}],s9=()=>{const t=zw.map(s=>s.id);return e.jsxs("div",{className:"fade-in",children:[e.jsx("h2",{className:"text-title",style:{marginBottom:"var(--space-4)"},children:"Membership Benefits"}),e.jsx("div",{style:{marginBottom:"var(--space-4)",color:"var(--muted)",maxWidth:"600px"},children:"These are the standardized benefits available across various membership plans. Configure them when creating new plans or assigning memberships."}),e.jsx(is,{children:e.jsx(Lw,{benefitIds:t,layout:"grid"})})]})},Bp={Dumbbell:Er,User:lt,Users:_t,Utensils:wd,Lock:Rs,Thermometer:gA,Zap:ua,Droplets:tw,Activity:$t,Clock:Qe,Calendar:Ve},a9=()=>{const[t,s]=v.useState(zw),[a,l]=v.useState(!1),[i,o]=v.useState(null),[d,x]=v.useState({name:"",type:"recurring",limit:"",icon:"Dumbbell",description:""}),u=b=>{o(b),x(b),l(!0)},h=b=>{window.confirm("Are you sure you want to delete this benefit?")&&s(g=>g.filter(j=>j.id!==b))},p=b=>{if(b.preventDefault(),i)s(g=>g.map(j=>j.id===i.id?{...d,id:j.id}:j));else{const g={...d,id:d.name.toLowerCase().replace(/\s+/g,"_")+"_"+Date.now()};s(j=>[...j,g])}l(!1),o(null),x({name:"",type:"recurring",limit:"",icon:"Dumbbell",description:""})},f=()=>{o(null),x({name:"",type:"recurring",limit:"",icon:"Dumbbell",description:""}),l(!0)};return e.jsxs("div",{className:"space-y-6 fade-in p-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-black text-gray-900 tracking-tight",children:"Benefits Configuration"}),e.jsx("p",{className:"text-gray-500 font-bold mt-1",children:"Define standard benefits for membership tiers."})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"hidden lg:flex flex-col items-end mr-6",children:[e.jsxs("span",{className:"text-[10px] font-black text-indigo-600 uppercase tracking-widest flex items-center gap-1",children:[e.jsx(cu,{size:12})," SaaS Sync Active"]}),e.jsx("span",{className:"text-[8px] font-bold text-slate-400 uppercase",children:"Controlled by Plan Limits"})]}),e.jsxs(Ut,{variant:"primary",onClick:f,className:"px-6 py-3 rounded-xl shadow-lg shadow-indigo-200",children:[e.jsx(wt,{size:20,className:"mr-2"}),"Create New Benefit"]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(b=>{const g=Bp[b.icon]||Er;return e.jsxs("div",{className:"bg-white p-6 rounded-[24px] shadow-xl shadow-gray-100/50 border border-gray-50 hover:border-indigo-100 transition-all group relative overflow-hidden",children:[e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-indigo-50 text-indigo-600 rounded-2xl flex items-center justify-center group-hover:scale-110 transition-transform",children:e.jsx(g,{size:24,strokeWidth:2.5})}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity flex gap-2",children:[e.jsx("button",{onClick:()=>u(b),className:"p-2 hover:bg-gray-100 rounded-lg text-gray-500 hover:text-indigo-600",children:e.jsx(Pa,{size:16})}),e.jsx("button",{onClick:()=>h(b.id),className:"p-2 hover:bg-red-50 rounded-lg text-gray-500 hover:text-red-500",children:e.jsx(ms,{size:16})})]})})]}),e.jsx("h3",{className:"text-xl font-black text-gray-900 mb-1",children:b.name}),e.jsxs("div",{className:"flex items-center gap-1.5 mb-3",children:[e.jsx("div",{className:"w-1 h-3 bg-indigo-500 rounded-full"}),e.jsx("span",{className:"text-[10px] font-black text-indigo-500 uppercase tracking-widest",children:"SaaS Sync Logic"})]}),e.jsxs("p",{className:"text-gray-500 text-sm font-medium mb-4 min-h-[40px] italic line-clamp-2",children:['"',b.description,'"']}),e.jsxs("div",{className:"flex items-center gap-3 pt-4 border-t border-gray-50",children:[e.jsx("div",{className:`px-3 py-1 rounded-lg text-xs font-black uppercase tracking-wider ${b.type==="recurring"?"bg-emerald-50 text-emerald-600":"bg-orange-50 text-orange-600"}`,children:b.type==="recurring"?"Monthly":"Global"}),e.jsxs("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-tighter",children:["Default Limit: ",e.jsx("span",{className:"text-gray-900 ml-1 font-black",children:b.limit})]})]})]}),e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gray-50/50 rounded-full -mr-16 -mt-16 group-hover:bg-indigo-50/50 transition-colors pointer-events-none"})]},b.id)})}),a&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:e.jsxs("div",{className:"bg-white rounded-[32px] w-full max-w-lg shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-100 bg-gray-50/50 overflow-hidden relative",children:e.jsxs("div",{className:"relative z-10 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-black text-gray-900",children:i?"Refine Benefit":"Establish Benefit"}),e.jsxs("p",{className:"text-[10px] font-bold text-indigo-600 uppercase tracking-widest flex items-center gap-1 mt-1",children:[e.jsx(nl,{size:12})," Managed by SaaS Subscription"]})]}),e.jsx("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-gray-600 bg-white p-2 rounded-xl shadow-sm border border-gray-100",children:e.jsx(Vr,{size:20})})]})}),e.jsxs("form",{onSubmit:p,className:"p-6 space-y-5",children:[e.jsxs("div",{className:"p-4 bg-indigo-50 rounded-2xl border border-indigo-100 mb-2",children:[e.jsxs("h4",{className:"text-[10px] font-black text-indigo-700 uppercase tracking-widest mb-1 flex items-center gap-2",children:[e.jsx(Yn,{size:14})," Usage Logic Reminder"]}),e.jsx("p",{className:"text-[11px] font-bold text-indigo-600/70 leading-relaxed",children:"Individual member usage for this benefit will be capped based on their plan's quota set in Plan Management."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-gray-400 mb-2 ml-1",children:"Benefit Designation"}),e.jsx(Wn,{className:"w-full h-14 bg-gray-50 border-transparent focus:bg-white transition-all font-black text-lg placeholder:text-gray-300",placeholder:"e.g. Steam Room Access",value:d.name,onChange:b=>x({...d,name:b.target.value}),required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-gray-400 mb-2 ml-1",children:"Sync Strategy"}),e.jsxs("select",{className:"w-full h-12 px-4 rounded-xl bg-gray-50 border-transparent focus:bg-white ring-2 ring-transparent focus:ring-indigo-100 outline-none font-bold text-sm appearance-none",value:d.type,onChange:b=>x({...d,type:b.target.value}),children:[e.jsx("option",{value:"recurring",children:"Monthly Reset"}),e.jsx("option",{value:"global",children:"Lifetime Quota"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-gray-400 mb-2 ml-1",children:"Base Usage Cap"}),e.jsx(Wn,{className:"w-full h-12 bg-gray-50 border-transparent focus:bg-white transition-all font-bold",placeholder:"e.g. 10 or Unlimited",value:d.limit,onChange:b=>x({...d,limit:b.target.value}),required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-gray-400 mb-2 ml-1",children:"Visual Identity (Icon)"}),e.jsx("div",{className:"grid grid-cols-6 gap-2",children:Object.keys(Bp).map(b=>{const g=Bp[b];return e.jsx("button",{type:"button",onClick:()=>x({...d,icon:b}),className:`p-3 rounded-xl flex items-center justify-center transition-all ${d.icon===b?"bg-indigo-600 text-white shadow-lg shadow-indigo-200 scale-110":"bg-gray-50 text-gray-400 hover:bg-gray-100"}`,children:e.jsx(g,{size:18})},b)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-gray-400 mb-2 ml-1",children:"Detailed Description"}),e.jsx("textarea",{className:"w-full p-4 rounded-xl bg-gray-50 border-transparent focus:bg-white ring-2 ring-transparent focus:ring-indigo-100 outline-none font-medium text-sm transition-all resize-none h-24",placeholder:"Brief description of the benefit...",value:d.description,onChange:b=>x({...d,description:b.target.value})})]}),e.jsxs("div",{className:"pt-4 flex gap-3",children:[e.jsx(Ut,{type:"button",variant:"outline",onClick:()=>l(!1),className:"flex-1 py-4 rounded-xl font-black uppercase tracking-widest text-xs",children:"Discard"}),e.jsx(Ut,{type:"submit",variant:"primary",className:"flex-1 py-4 rounded-xl shadow-lg shadow-indigo-200 font-black uppercase tracking-widest text-xs",children:"Commit Benefit"})]})]})]})})]})},r9=[{id:1,memberName:"Sarah Williams",memberId:"M-104",plan:"Platinum Annual",duration:"1 Month",reason:"Traveling for business",requestedOn:"2025-02-04"},{id:2,memberName:"Mike Johnson",memberId:"M-103",plan:"Bronze Quarterly",duration:"2 Months",reason:"Medical injury (sprained ankle)",requestedOn:"2025-02-05"},{id:3,memberName:"Emily Davis",memberId:"M-108",plan:"Gold Annual",duration:"3 Months",reason:"Personal reasons",requestedOn:"2025-02-01"}],l9=()=>{const[t,s]=v.useState(r9),a=(l,i)=>{window.confirm(`Are you sure you want to ${i} this request?`)&&(s(o=>o.filter(d=>d.id!==l)),alert(`Request ${i==="approve"?"Approved":"Rejected"} successfully.`))};return e.jsxs("div",{className:"fade-in space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-black text-gray-900 tracking-tight",children:"Freeze Requests"}),e.jsx("p",{className:"text-gray-500 font-bold mt-1",children:"Manage member membership freeze approvals."})]}),e.jsxs("div",{className:"bg-orange-50 text-orange-600 px-4 py-2 rounded-xl text-sm font-bold flex items-center gap-2",children:[e.jsx(Qe,{size:18}),"Pending: ",t.length]})]}),e.jsx("div",{className:"grid gap-4",children:t.length===0?e.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-2xl border-2 border-dashed border-gray-200",children:[e.jsx(qh,{className:"mx-auto h-12 w-12 text-gray-300 mb-3"}),e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"No Pending Requests"}),e.jsx("p",{className:"text-gray-500",children:"All freeze requests have been processed."})]}):t.map(l=>e.jsx(is,{className:"hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4 items-start md:items-center",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center text-gray-500",children:e.jsx(lt,{size:24})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"font-bold text-lg text-gray-900",children:l.memberName}),e.jsx("span",{className:"text-xs font-mono bg-gray-100 px-2 py-0.5 rounded text-gray-600",children:l.memberId})]}),e.jsxs("div",{className:"flex gap-4 text-sm text-gray-500 font-medium",children:[e.jsx("span",{children:l.plan}),e.jsx("span",{children:""}),e.jsxs("span",{className:"text-orange-600 bg-orange-50 px-2 rounded-md",children:["Requesting: ",l.duration]})]}),e.jsxs("div",{className:"mt-2 text-sm bg-gray-50 p-2 rounded-lg border border-gray-100 max-w-xl text-gray-700",children:[e.jsx("span",{className:"font-bold text-gray-400 text-xs uppercase tracking-wide mr-2",children:"Reason:"}),l.reason]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 w-full md:w-auto mt-2 md:mt-0",children:[e.jsxs("div",{className:"text-right mr-4 hidden md:block",children:[e.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase",children:"Requested On"}),e.jsx("div",{className:"text-sm font-bold text-gray-900",children:l.requestedOn})]}),e.jsxs(Ut,{onClick:()=>a(l.id,"reject"),className:"flex-1 md:flex-none border-red-200 text-red-600 hover:bg-red-50 hover:border-red-300",variant:"outline",children:[e.jsx(Vr,{size:18,className:"mr-2"})," Reject"]}),e.jsxs(Ut,{onClick:()=>a(l.id,"approve"),className:"flex-1 md:flex-none bg-emerald-500 hover:bg-emerald-600 shadow-emerald-200 shadow-lg border-transparent",variant:"primary",children:[e.jsx(xr,{size:18,className:"mr-2"})," Approve"]})]})]})},l.id))})]})},n9=({isOpen:t,onClose:s,onSave:a,initialData:l})=>{const[i,o]=v.useState({name:"",price:"",duration:"",durationType:"Months",description:"",benefits:[]}),[d,x]=v.useState([]);v.useEffect(()=>{t&&((async()=>{try{const b=await Nd.getAll();x(b)}catch(b){console.error("Failed to fetch amenities:",b)}})(),o(l||{name:"",price:"",duration:"",durationType:"Months",description:"",creditsPerBooking:1,maxBookingsPerDay:1,maxBookingsPerWeek:7,cancellationWindow:4,benefits:[]}))},[t,l]);const u=f=>{o(b=>b.benefits.find(j=>j.id===f)?{...b,benefits:b.benefits.filter(j=>j.id!==f)}:{...b,benefits:[...b.benefits,{id:f,limit:"Unlimited"}]})},h=(f,b)=>{o(g=>({...g,benefits:g.benefits.map(j=>j.id===f?{...j,limit:b}:j)}))},p=f=>{f.preventDefault(),a(i),s()};return e.jsx(rt,{isOpen:t,onClose:s,title:l?"Edit Membership Plan":"Create Membership Plan",subtitle:"Configure plan details and benefits",maxWidth:"max-w-2xl",footer:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(Ut,{type:"button",variant:"outline",onClick:s,className:"flex-1 py-3 rounded-xl",children:"Cancel"}),e.jsxs(Ut,{type:"submit",form:"membership-plan-form",variant:"primary",className:"flex-1 py-3 rounded-xl shadow-lg shadow-indigo-200",children:[e.jsx(na,{size:18,className:"mr-2"}),"Save Plan"]})]}),children:e.jsxs("form",{id:"membership-plan-form",onSubmit:p,className:"p-6 space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide border-b border-gray-100 pb-2",children:"Plan Details"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2",children:"Plan Name"}),e.jsx(Wn,{value:i.name,onChange:f=>o({...i,name:f.target.value}),placeholder:"e.g. Gold Annual",className:"font-bold",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2",children:"Price ()"}),e.jsx(Wn,{type:"number",value:i.price,onChange:f=>o({...i,price:f.target.value}),placeholder:"e.g. 19999",className:"font-bold",required:!0})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2",children:"Duration"}),e.jsx(Wn,{type:"number",value:i.duration,onChange:f=>o({...i,duration:f.target.value}),placeholder:"e.g. 12",className:"font-bold",required:!0})]}),e.jsxs("div",{className:"w-1/3",children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2",children:"Unit"}),e.jsxs("select",{className:"w-full h-12 bg-gray-50 border-transparent rounded-xl text-sm font-bold focus:bg-white focus:ring-2 focus:ring-indigo-100 outline-none",value:i.durationType,onChange:f=>o({...i,durationType:f.target.value}),children:[e.jsx("option",{children:"Months"}),e.jsx("option",{children:"Days"}),e.jsx("option",{children:"Years"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2",children:"Description"}),e.jsx("textarea",{className:"w-full p-4 bg-gray-50 border-transparent rounded-xl text-sm font-medium focus:bg-white focus:ring-2 focus:ring-indigo-100 outline-none resize-none h-24 transition-all",placeholder:"What does this plan include?",value:i.description,onChange:f=>o({...i,description:f.target.value})})]})]}),e.jsxs("div",{className:"space-y-4 pt-4",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide border-b border-gray-100 pb-2",children:"Booking & Consumption"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2",children:"Credits / Booking"}),e.jsx(Wn,{type:"number",value:i.creditsPerBooking,onChange:f=>o({...i,creditsPerBooking:f.target.value}),className:"font-bold"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2",children:"Cancellation Window (Hrs)"}),e.jsx(Wn,{type:"number",value:i.cancellationWindow,onChange:f=>o({...i,cancellationWindow:f.target.value}),className:"font-bold"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2",children:"Max Bookings / Day"}),e.jsx(Wn,{type:"number",value:i.maxBookingsPerDay,onChange:f=>o({...i,maxBookingsPerDay:f.target.value}),className:"font-bold"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2",children:"Max Bookings / Week"}),e.jsx(Wn,{type:"number",value:i.maxBookingsPerWeek,onChange:f=>o({...i,maxBookingsPerWeek:f.target.value}),className:"font-bold"})]})]})]}),e.jsxs("div",{className:"space-y-4 pt-4",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-gray-100 pb-2",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide",children:"Included Benefits"}),e.jsxs("span",{className:"text-xs font-bold text-indigo-600 bg-indigo-50 px-2 py-1 rounded-md",children:[i.benefits?.length||0," Selected"]})]}),e.jsxs("div",{className:"space-y-3",children:[d.map(f=>{const b=i.benefits?.find(g=>g.id===f.id);return e.jsx("div",{className:`p-4 rounded-xl border-2 transition-all ${b?"border-indigo-500 bg-indigo-50/10":"border-gray-100 bg-white hover:border-indigo-200"}`,children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{onClick:()=>u(f.id),className:`mt-1 w-5 h-5 rounded-md border-2 flex items-center justify-center cursor-pointer transition-colors ${b?"bg-indigo-500 border-indigo-500":"border-gray-300"}`,children:b&&e.jsx(xr,{size:14,className:"text-white",strokeWidth:3})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-col justify-between items-start gap-1",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900",children:f.name}),e.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:f.description||"Facility access"})]}),f.gender&&f.gender!=="UNISEX"&&e.jsxs("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-widest ${f.gender==="MALE"?"bg-blue-100 text-blue-700":"bg-pink-100 text-pink-700"}`,children:[f.gender," ONLY"]})]}),b&&e.jsx("div",{className:"mt-3 flex items-center gap-3 animate-in fade-in slide-in-from-top-1",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wider block mb-1",children:"Usage Limit (Total)"}),e.jsx("input",{type:"text",className:"w-full h-9 px-3 bg-white border border-indigo-200 rounded-lg text-sm font-bold text-indigo-700 outline-none focus:ring-2 focus:ring-indigo-100",value:b.limit,onChange:g=>h(f.id,g.target.value),placeholder:"e.g. 5 or Unlimited"})]})})]})]})},f.id)}),d.length===0&&e.jsx("div",{className:"text-center py-6 bg-gray-50 rounded-xl border-2 border-dashed border-gray-200",children:e.jsx("p",{className:"text-gray-500 text-sm",children:"No amenities found. Please add them in Settings first."})})]})]})]})})},i9=()=>{const[t,s]=v.useState([]),[a,l]=v.useState(!1),[i,o]=v.useState(!1),[d,x]=v.useState(null),[u,h]=v.useState(""),[p,f]=v.useState("grid"),b=async()=>{try{l(!0);const C=await qr.getPlans();s(C)}catch{st.error("Failed to fetch plans")}finally{l(!1)}};Di.useEffect(()=>{b()},[]);const g=async C=>{try{d?(await qr.updatePlan(d.id,C),st.success("Plan updated successfully")):(await qr.createPlan(C),st.success("Plan created successfully")),b()}catch(L){st.error(L.response?.data?.message||"Operation failed")}},j=C=>{x(C),o(!0)},A=async C=>{if(window.confirm("Are you sure you want to delete this plan?"))try{await qr.deletePlan(C),st.success("Plan deleted successfully"),b()}catch{st.error("Failed to delete plan")}},w=()=>{x(null),o(!0)},k=t.filter(C=>C.name.toLowerCase().includes(u.toLowerCase()));return e.jsxs("div",{className:"p-6 pb-20 animate-in fade-in space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-black text-gray-900 tracking-tight flex items-center gap-2",children:[e.jsx(g8,{className:"text-yellow-500 fill-yellow-500"}),"Membership Plans"]}),e.jsx("p",{className:"text-gray-500 font-medium mt-1",children:"Configure plan tiers, pricing, and benefits."})]}),e.jsxs("button",{onClick:w,className:"w-full md:w-auto px-6 py-3 bg-indigo-600 text-white rounded-xl font-bold shadow-lg shadow-indigo-200 hover:bg-indigo-700 hover:scale-105 transition-all flex items-center justify-center gap-2",children:[e.jsx(wt,{size:20,strokeWidth:3}),"Create New Plan"]})]}),e.jsxs("div",{className:"flex items-center gap-4 bg-white p-4 rounded-2xl shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(tt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{type:"text",placeholder:"Search plans...",className:"w-full pl-11 pr-4 py-3 bg-gray-50 border-transparent rounded-xl font-medium focus:bg-white focus:ring-2 focus:ring-indigo-100 outline-none transition-all",value:u,onChange:C=>h(C.target.value)})]}),e.jsxs("div",{className:"flex items-center gap-1 bg-gray-50 p-1 rounded-xl",children:[e.jsx("button",{onClick:()=>f("grid"),className:`p-2 rounded-lg transition-all ${p==="grid"?"bg-white shadow text-indigo-600":"text-gray-400 hover:text-gray-600"}`,children:e.jsx(lw,{size:20})}),e.jsx("button",{onClick:()=>f("list"),className:`p-2 rounded-lg transition-all ${p==="list"?"bg-white shadow text-indigo-600":"text-gray-400 hover:text-gray-600"}`,children:e.jsx(tC,{size:20})})]})]}),e.jsx("div",{className:`grid ${p==="grid"?"grid-cols-1 md:grid-cols-2 xl:grid-cols-3":"grid-cols-1"} gap-6`,children:k.map(C=>e.jsxs("div",{className:"group relative bg-white rounded-[32px] p-8 shadow-xl shadow-gray-100/50 border border-gray-100 min-h-[500px] flex flex-col hover:border-indigo-100 transition-all hover:-translate-y-1",children:[e.jsxs("div",{className:"absolute top-6 right-6 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:()=>j(C),className:"p-2 hover:bg-indigo-50 text-gray-400 hover:text-indigo-600 rounded-lg transition-colors",children:e.jsx(Pa,{size:16})}),e.jsx("button",{onClick:()=>A(C.id),className:"p-2 hover:bg-red-50 text-gray-400 hover:text-red-600 rounded-lg transition-colors",children:e.jsx(ms,{size:16})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-2xl font-black text-gray-900 mb-2",children:C.name}),e.jsxs("div",{className:"flex items-baseline gap-1",children:[e.jsxs("span",{className:"text-4xl font-black text-indigo-600 tracking-tight",children:["",C.price]}),e.jsxs("span",{className:"text-sm font-bold text-gray-400",children:["/ ",C.duration," ",C.durationType]})]}),e.jsx("p",{className:"text-gray-500 font-medium mt-3 text-sm leading-relaxed",children:C.description})]}),e.jsxs("div",{className:"space-y-3 pt-6 border-t border-gray-100",children:[e.jsxs("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider flex items-center gap-2",children:[e.jsx(nl,{size:12,className:"text-yellow-500"}),"Booking Rules"]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("span",{className:"px-3 py-1.5 bg-violet-50 text-violet-700 rounded-lg text-xs font-bold border border-violet-100 italic",children:[C.creditsPerBooking," Credit / Booking"]}),e.jsxs("span",{className:"px-3 py-1.5 bg-blue-50 text-blue-700 rounded-lg text-xs font-bold border border-blue-100",children:["Max ",C.maxBookingsPerDay,"/day  ",C.maxBookingsPerWeek,"/week"]}),e.jsxs("span",{className:"px-3 py-1.5 bg-rose-50 text-rose-700 rounded-lg text-xs font-bold border border-rose-100",children:[C.cancellationWindow,"h Cancellation"]})]})]}),e.jsxs("div",{className:"space-y-3 pt-6 border-t border-gray-100",children:[e.jsxs("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider flex items-center gap-2",children:[e.jsx(nl,{size:12,className:"text-yellow-500"}),C.benefits?.length," Included Benefits"]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[C.benefits?.slice(0,3).map((L,N)=>e.jsxs("span",{className:"px-3 py-1.5 bg-indigo-50 text-indigo-700 rounded-lg text-xs font-bold border border-indigo-100",children:[L.limit==="Unlimited"?"":L.limit," ",(L.id||"benefit").replace(/_/g," ")]},N)),C.benefits?.length>3&&e.jsxs("span",{className:"px-3 py-1.5 bg-gray-50 text-gray-500 rounded-lg text-xs font-bold border border-gray-100",children:["+",C.benefits.length-3," more"]},3)]})]}),e.jsx("div",{className:"mt-auto pt-8",children:e.jsx("button",{onClick:()=>j(C),className:"w-full py-3 bg-gray-900 text-white rounded-xl font-bold hover:bg-gray-800 transition-all shadow-lg active:scale-95",children:"Edit Plan Details"})})]},C.id))}),e.jsx(n9,{isOpen:i,onClose:()=>o(!1),onSave:g,initialData:d})]})},o9=async()=>(await ye.get("/admin/profile")).data,c9=async t=>(await ye.patch("/admin/profile",t)).data,d9=async t=>(await ye.post("/admin/change-password",t)).data,uu=async()=>(await ye.get("/admin/settings/tenant")).data,Ew=async t=>(await ye.patch("/admin/settings/tenant",t)).data,Cg=async({filters:t={},page:s=1,limit:a=5}={})=>{const l={page:s,limit:a,search:t.search,status:t.status},i=await ye.get("/admin/members",{params:l});return{data:i.data,total:i.data.length}},x9=async t=>(await ye.post("/admin/members",t)).data,u9=async(t,s)=>(await ye.patch(`/admin/members/${t}`,s)).data,h9=async t=>(await ye.delete(`/admin/members/${t}`)).data,m9=async t=>(await ye.patch(`/admin/members/${t}/toggle-status`)).data,p9=async(t,s)=>{const a={start:t,end:s};return(await ye.get("/admin/bookings/range",{params:a})).data},Tw=async t=>(await ye.post("/admin/bookings",t)).data,Ag=async({filters:t={},page:s=1,limit:a=5}={})=>{const l={page:s,limit:a,...t};return(await ye.get("/admin/attendance",{params:l})).data},f9=async()=>(await ye.get("/admin/attendance/stats")).data,g9=async({filters:t={},page:s=1,limit:a=5}={})=>{const l={page:s,limit:a,...t};return(await ye.get("/admin/tasks",{params:l})).data},b9=async(t,s)=>(await ye.patch(`/admin/tasks/${t}/status`,{status:s})).data,v9=async(t,s)=>(await ye.patch(`/admin/tasks/${t}`,s)).data,y9=async t=>(await ye.post("/admin/tasks",t)).data,j9=async t=>(await ye.delete(`/admin/tasks/${t}`)).data,w9=async({type:t="expiring",search:s=""}={})=>{const a={type:t,search:s};return(await ye.get("/admin/members/renewal-alerts",{params:a})).data},N9=async t=>(await ye.post("/admin/members/renewal/renew",t)).data,um=async()=>(await ye.get("/admin/staff")).data,k9=async()=>(await ye.get("/admin/plans")).data,S9=async()=>(await ye.get("/admin/classes")).data,C9=async()=>(await ye.get("/admin/communication/announcements")).data,A9=async t=>(await ye.post("/admin/communication/announcements",t)).data,D9=async()=>(await ye.get("/admin/communication/chats")).data,M9=async t=>(await ye.get(`/admin/communication/chats/${t}/messages`)).data,L9=async(t,s)=>(await ye.post(`/admin/communication/chats/${t}/send`,{text:s})).data,z9=async()=>(await ye.get("/admin/communication/chat-users")).data,E9=({isOpen:t,onClose:s,member:a})=>{const[l,i]=v.useState([]),[o,d]=v.useState(""),[x,u]=v.useState(1),[h,p]=v.useState(""),[f,b]=v.useState(!1),[g,j]=v.useState(!1);v.useEffect(()=>{t&&((async()=>{try{const P=await k9();if(i(P),P.length>0&&a){const _=P.find(F=>F.name===a.planName);d(_?.id||P[0].id)}}catch(P){console.error("Failed to load plans:",P)}})(),A(x))},[t,a]);const A=N=>{const P=new Date,_=new Date(P.setMonth(P.getMonth()+parseInt(N)));p(_.toISOString().split("T")[0])},w=N=>{const P=N.target.value;u(P),A(P)},k=async()=>{if(!o)return st.error("Please select a plan");b(!0);try{await N9({memberId:a.id,planId:o,duration:x}),j(!0),st.success("Membership renewed successfully!"),setTimeout(()=>{j(!1),s()},2e3)}catch(N){console.error("Renewal failed:",N),st.error(N.response?.data?.message||"Renewal failed")}finally{b(!1)}},C=l.find(N=>N.id===o),L=e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:s,className:"flex-1 py-4 bg-slate-50 text-slate-400 rounded-2xl font-black uppercase tracking-widest hover:bg-slate-100 hover:text-slate-600 transition-all border border-slate-100",children:"Cancel"}),e.jsx("button",{onClick:k,disabled:f,className:"flex-[2] py-4 bg-gradient-to-r from-amber-500 to-rose-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl shadow-amber-200 hover:shadow-amber-300 hover:scale-[1.02] active:scale-95 transition-all flex items-center justify-center gap-2",children:f?e.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):e.jsxs(e.Fragment,{children:["Confirm Renewal ",e.jsx(js,{size:18})]})})]});return g?e.jsx(rt,{isOpen:t,onClose:s,title:"Success",children:e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[e.jsx("div",{className:"w-24 h-24 bg-green-50 rounded-full flex items-center justify-center text-green-500 mb-6 animate-bounce",children:e.jsx(Xt,{size:48})}),e.jsx("h3",{className:"text-2xl font-black text-slate-800 mb-2",children:"Membership Renewed!"}),e.jsx("p",{className:"text-slate-500 font-medium",children:"Member has been updated and moved to active status."})]})}):e.jsx(rt,{isOpen:t,onClose:s,title:"Renew Membership",subtitle:"Subscription Extension",footer:L,children:e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"p-6 rounded-3xl bg-slate-50 border border-slate-100 flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-white shadow-sm flex items-center justify-center text-violet-500",children:e.jsx(lt,{size:28})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-1",children:"Renewing For"}),e.jsx("h4",{className:"text-xl font-black text-slate-800 leading-none",children:a?.memberName})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-1",children:"Select New Plan"}),e.jsx("div",{className:"grid grid-cols-1 gap-3",children:l.map(N=>e.jsxs("button",{onClick:()=>d(N.id),className:`p-4 rounded-2xl border-2 transition-all flex items-center justify-between group ${o===N.id?"border-violet-500 bg-violet-50/50 shadow-lg shadow-violet-100":"border-slate-100 bg-white hover:border-violet-200"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg transition-colors ${o===N.id?"bg-violet-500 text-white":"bg-slate-50 text-slate-400 group-hover:bg-violet-100 group-hover:text-violet-500"}`,children:e.jsx(Xn,{size:18})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:`text-sm font-black ${o===N.id?"text-violet-700":"text-slate-700"}`,children:N.name}),e.jsxs("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:["Base Rate: $",N.price]})]})]}),e.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center transition-all ${o===N.id?"border-violet-500 bg-violet-500":"border-slate-200"}`,children:o===N.id&&e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-white animate-scale-in"})})]},N.id))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-1",children:"Duration (Months)"}),e.jsxs("div",{className:"relative",children:[e.jsx(Qe,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("select",{className:"w-full pl-11 pr-4 h-14 rounded-2xl border-2 border-slate-100 focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 font-bold text-slate-700 bg-slate-50/50 transition-all appearance-none",value:x,onChange:w,children:[1,3,6,12].map(N=>e.jsxs("option",{value:N,children:[N," ",N===1?"Month":"Months"]},N))})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-1",children:"New Expiry Date"}),e.jsxs("div",{className:"h-14 flex items-center gap-3 px-4 rounded-2xl bg-amber-50 border-2 border-amber-100 text-amber-700 font-black text-sm",children:[e.jsx(Ve,{size:18}),h]})]})]}),C&&e.jsxs("div",{className:"p-6 rounded-3xl bg-violet-900 text-white shadow-xl shadow-violet-200 relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10 group-hover:scale-125 transition-transform duration-700",children:e.jsx(ua,{size:120,strokeWidth:1})}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("h5",{className:"text-[10px] font-black uppercase tracking-[0.2em] mb-4 opacity-60",children:"Revenue Summary"}),e.jsxs("div",{className:"flex justify-between items-end",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-3xl font-black italic tracking-tighter",children:["$",C.price*x]}),e.jsx("p",{className:"text-[10px] font-bold opacity-70 uppercase tracking-widest mt-1",children:"Total Renewal Payable"})]}),e.jsxs("div",{className:"flex items-center gap-2 bg-white/20 px-3 py-1.5 rounded-xl backdrop-blur-md",children:[e.jsx(Ps,{size:14}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Prepaid"})]})]})]})]})]})})},T9=()=>{const t=qt(),[s,a]=v.useState("expiring"),[l,i]=v.useState(""),[o,d]=v.useState([]),[x,u]=v.useState(!0),[h,p]=v.useState(null),[f,b]=v.useState(!1),[g,j]=v.useState([]);v.useEffect(()=>{const P=setTimeout(async()=>{u(!0);try{const[_,F]=await Promise.all([w9({type:s,search:l}),uu().catch(()=>({messageTemplates:[]}))]);d(_),F&&F.messageTemplates&&j(F.messageTemplates)}catch(_){console.error("Failed to load renewal alerts or settings:",_),st.error("Failed to load data")}finally{u(!1)}},300);return()=>clearTimeout(P)},[s,l]);const A=N=>{if(!N||N==="N/A")return 0;const P=new Date;P.setHours(0,0,0,0);const F=new Date(N)-P;return Math.ceil(F/(1e3*60*60*24))},w=o,k=N=>{p(N),b(!0)},C=N=>{alert(`Initiating call to ${N.memberName} at ${N.phone}...`),window.location.href=`tel:${N.phone}`},L=N=>{const P=g.find(B=>B.name==="Membership Renewal Reminder"||B.id===1);let _="";P?_=P.text.replace("{{member_name}}",N.memberName).replace("{{plan_name}}",N.planName).replace("{{days}}",A(N.endDate)).replace("{{link}}",window.location.origin+"/renew"):_=`Hi ${N.memberName}, your membership ${N.planName} is expiring soon. Please renew!`;const F=N.phone.replace(/\D/g,""),R=encodeURIComponent(_);window.open(`https://wa.me/${F}?text=${R}`,"_blank")};return e.jsxs("div",{className:"min-h-screen bg-slate-50/50 p-4 md:p-8",children:[e.jsxs("div",{className:"max-w-7xl mx-auto mb-8",children:[e.jsxs("button",{onClick:()=>t(-1),className:"flex items-center gap-2 text-slate-400 hover:text-slate-600 transition-colors mb-6 group",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-white shadow-sm flex items-center justify-center group-hover:-translate-x-1 transition-transform",children:e.jsx(Gr,{size:18})}),e.jsx("span",{className:"text-sm font-black uppercase tracking-widest",children:"Back"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6",children:[e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx("div",{className:"w-16 h-16 rounded-3xl bg-gradient-to-br from-amber-500 to-rose-600 flex items-center justify-center text-white shadow-xl shadow-amber-500/20",children:e.jsx(Hr,{size:32,className:"animate-spin-slow"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-black text-slate-900 tracking-tight leading-none mb-2",children:"Renewal Alerts"}),e.jsx("p",{className:"text-slate-500 font-medium italic",children:"Monitor and retain members before they leave."})]})]}),e.jsxs("div",{className:"flex bg-white p-1 rounded-2xl shadow-sm border border-slate-100",children:[e.jsx("button",{onClick:()=>a("expiring"),className:`px-6 py-3 rounded-xl text-xs font-black uppercase tracking-widest transition-all ${s==="expiring"?"bg-amber-500 text-white shadow-lg shadow-amber-500/30":"text-slate-400 hover:text-slate-600"}`,children:"Expiring Soon"}),e.jsx("button",{onClick:()=>a("expired"),className:`px-6 py-3 rounded-xl text-xs font-black uppercase tracking-widest transition-all ${s==="expired"?"bg-rose-600 text-white shadow-lg shadow-rose-600/30":"text-slate-400 hover:text-slate-600"}`,children:"Recently Expired"})]})]})]}),e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"bg-white rounded-[32px] shadow-xl border border-slate-100 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 flex flex-col md:flex-row gap-4 items-center justify-between bg-slate-50/30",children:[e.jsxs("div",{className:"relative w-full md:w-96 group",children:[e.jsx(tt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-amber-500 transition-colors",size:18}),e.jsx("input",{type:"text",className:"pl-11 h-12 w-full rounded-2xl border-2 border-slate-200 focus:ring-4 focus:ring-amber-500/10 focus:border-amber-500 transition-all text-sm font-medium bg-white",placeholder:"Search by name or phone...",value:l,onChange:N=>i(N.target.value)})]}),e.jsx("div",{className:"flex items-center gap-3 w-full md:w-auto",children:e.jsxs("div",{className:"px-5 h-12 flex items-center gap-3 bg-white border-2 border-slate-100 rounded-2xl text-xs font-bold text-slate-500 uppercase tracking-widest",children:[e.jsx(hs,{size:16,className:s==="expiring"?"text-amber-500":"text-rose-500"}),w.length," Members Found"]})})]}),e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"w-full hidden lg:table",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50/50",children:[e.jsx("th",{className:"px-8 py-5 text-left text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Member Info"}),e.jsx("th",{className:"px-8 py-5 text-left text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Plan Details"}),e.jsx("th",{className:"px-8 py-5 text-left text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Expiry Window"}),e.jsx("th",{className:"px-8 py-5 text-right text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Quick Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:x?e.jsx("tr",{children:e.jsxs("td",{colSpan:"4",className:"py-20 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-4 text-violet-500",children:e.jsx(Hr,{size:40,className:"animate-spin"})}),e.jsx("h3",{className:"text-xl font-black text-slate-300 uppercase tracking-widest",children:"Loading data..."})]})}):w.length>0?w.map(N=>e.jsxs("tr",{className:"group hover:bg-slate-50/50 transition-colors",children:[e.jsx("td",{className:"px-8 py-5",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-slate-100 flex items-center justify-center font-black text-slate-400 text-lg group-hover:bg-violet-500 group-hover:text-white transition-all duration-500",children:N.memberName.charAt(0)}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-black text-slate-800 tracking-tight",children:N.memberName}),e.jsx("p",{className:"text-xs font-bold text-slate-400",children:N.phone})]})]})}),e.jsxs("td",{className:"px-8 py-5",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-xl bg-violet-50 text-violet-700 border border-violet-100",children:[e.jsx(Qe,{size:12}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:N.planName})]}),e.jsxs("p",{className:"text-[10px] font-bold text-slate-400 mt-1.5 ml-1",children:["Joined: ",N.joinDate]})]}),e.jsx("td",{className:"px-8 py-5",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${s==="expiring"?"bg-amber-500 animate-pulse":"bg-rose-500"}`}),e.jsx("p",{className:`text-sm font-black ${s==="expiring"?"text-amber-600":"text-rose-600"}`,children:s==="expiring"?`${A(N.endDate)} Days Left`:`Expired ${Math.abs(A(N.endDate))} Days Ago`})]}),e.jsxs("p",{className:"text-[10px] font-bold text-slate-400 uppercase ml-4",children:["Ends: ",N.endDate]})]})}),e.jsx("td",{className:"px-8 py-5",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>L(N),className:"p-3 rounded-xl bg-slate-50 text-slate-400 hover:bg-emerald-50 hover:text-emerald-600 transition-all border border-transparent hover:border-emerald-200",title:"WhatsApp Member",children:e.jsx(Gh,{size:18})}),e.jsx("button",{onClick:()=>C(N),className:"p-3 rounded-xl bg-slate-50 text-slate-400 hover:bg-blue-50 hover:text-blue-600 transition-all border border-transparent hover:border-blue-200",title:"Call Member",children:e.jsx(Hs,{size:18})}),e.jsx("button",{onClick:()=>k(N),className:`px-5 py-2.5 rounded-xl font-black uppercase tracking-widest text-[10px] shadow-lg transition-all hover:scale-105 active:scale-95 ${s==="expiring"?"bg-amber-500 text-white shadow-amber-100 hover:shadow-amber-200":"bg-rose-600 text-white shadow-rose-100 hover:shadow-rose-200"}`,children:"Renew Membership"})]})})]},N.id)):e.jsx("tr",{children:e.jsxs("td",{colSpan:"4",className:"py-20 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-4 text-slate-200",children:e.jsx(Hr,{size:40})}),e.jsx("h3",{className:"text-xl font-black text-slate-300 uppercase tracking-widest",children:"No members in this category"})]})})})]}),e.jsx("div",{className:"lg:hidden divide-y divide-slate-100",children:x?e.jsxs("div",{className:"p-10 text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-4 text-violet-500",children:e.jsx(Hr,{size:24,className:"animate-spin"})}),e.jsx("p",{className:"text-sm font-black text-slate-300 uppercase tracking-widest",children:"Loading..."})]}):w.length>0?w.map(N=>e.jsxs("div",{className:"p-6 space-y-5",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center text-white font-black text-lg ${s==="expiring"?"bg-amber-500":"bg-rose-600"}`,children:N.memberName.charAt(0)}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-black text-slate-800 tracking-tight",children:N.memberName}),e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:N.planName})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:`text-sm font-black ${s==="expiring"?"text-amber-600":"text-rose-600"}`,children:s==="expiring"?`${A(N.endDate)}d`:`${Math.abs(A(N.endDate))}d`}),e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase leading-none",children:s==="expiring"?"Left":"Ago"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>C(N),className:"flex-1 h-12 rounded-xl bg-slate-50 border border-slate-100 flex items-center justify-center text-slate-500 active:bg-slate-100 transition-colors",children:e.jsx(Hs,{size:18})}),e.jsx("button",{onClick:()=>L(N),className:"flex-1 h-12 rounded-xl bg-slate-50 border border-slate-100 flex items-center justify-center text-slate-500 active:bg-slate-100 transition-colors",children:e.jsx(Gh,{size:18})}),e.jsx("button",{onClick:()=>k(N),className:`flex-[3] h-12 rounded-xl font-black uppercase tracking-widest text-[10px] text-white shadow-xl transition-all active:scale-95 ${s==="expiring"?"bg-amber-500 shadow-amber-100":"bg-rose-600 shadow-rose-100"}`,children:"Renew"})]})]},N.id)):e.jsx("div",{className:"p-10 text-center",children:e.jsx("p",{className:"text-sm font-black text-slate-300 uppercase tracking-widest",children:"No records found"})})})]})]})}),e.jsx(E9,{isOpen:f,onClose:()=>b(!1),member:h})]})},_9=async()=>(await ye.get("/admin/classes")).data,hm=async t=>(await ye.get(`/admin/classes/${t}`)).data,P9=async t=>(await ye.post("/admin/classes",t)).data,_w=async(t,s)=>(await ye.patch(`/admin/classes/${t}`,s)).data,Pw=(t,s,a)=>{const l=(s-1)*a,i=l+a;return{total:t.length,data:t.slice(l,i),totalPages:Math.ceil(t.length/a),currentPage:s}},Rw=(t,s)=>!s||Object.keys(s).length===0?t:t.filter(a=>Object.keys(s).every(l=>{const i=s[l];if(i==null||i===""||i==="All")return!0;const o=a[l],d=i.toString().toLowerCase();if(l==="search")return Object.values(a).some(x=>x&&x.toString().toLowerCase().includes(d));if(l==="timeRange"){if(!a.date)return!1;const x=a.date;return i==="Current Month"?x.startsWith("2026-02"):i==="Last Month"?x.startsWith("2026-01"):!0}return o==null?!1:o.toString().toLowerCase()===d})),R9=async()=>{try{return(await ye.get("/trainer/profile")).data}catch(t){throw t.response?.data?.message||"Failed to fetch trainer profile"}},O9=async()=>{try{return(await ye.get("/trainer/earnings")).data}catch(t){throw t.response?.data?.message||"Failed to fetch trainer earnings"}},F9=async()=>{try{return(await ye.get("/trainer/attendance")).data}catch(t){throw t.response?.data?.message||"Failed to fetch trainer attendance"}},I9=async(t={})=>{try{return(await ye.post("/trainer/attendance/check-in",t)).data}catch(s){throw s.response?.data?.message||"Failed to check in/out"}},B9=async t=>{try{return(await ye.post("/trainer/attendance/leave",t)).data}catch(s){throw s.response?.data?.message||"Failed to request leave"}},U9=async()=>{try{return(await ye.get("/trainer/availability")).data}catch(t){throw t.response?.data?.message||"Failed to fetch availability settings"}},Up=async t=>{try{return(await ye.patch("/trainer/availability",t)).data}catch(s){throw s.response?.data?.message||"Failed to update availability settings"}},$9=async t=>{try{return(await ye.delete(`/trainer/availability/time-off/${t}`)).data}catch(s){throw s.response?.data?.message||"Failed to delete time off"}},q9=async t=>{try{return(await ye.patch("/trainer/profile",t)).data}catch(s){throw s.response?.data?.message||"Failed to update trainer profile"}},H9=async t=>{try{return(await ye.post("/trainer/change-password",t)).data}catch(s){throw s.response?.data?.message||"Failed to change password"}},W9=async()=>(await ye.get("/trainer/classes")).data,G9=async t=>(await ye.get(`/trainer/classes/${t}`)).data,V9=async()=>(await ye.get("/trainer/diet-plans")).data,Y9=async t=>(await ye.post("/trainer/diet-plans",t)).data,X9=async(t,s)=>(await ye.patch(`/trainer/diet-plans/${t}`,s)).data,K9=async t=>(await ye.patch(`/trainer/diet-plans/${t}/status`)).data,J9=async()=>(await ye.get("/trainer/workout-plans")).data,Q9=async t=>(await ye.post("/trainer/workout-plans",t)).data,Z9=async(t,s)=>(await ye.patch(`/trainer/workout-plans/${t}`,s)).data,eD=async t=>(await ye.patch(`/trainer/workout-plans/${t}/status`)).data,Dg=async({filters:t={},page:s=1,limit:a=5}={})=>{try{const l=await ye.get("/trainer/members");let i=Rw(l.data,t);return Pw(i,s,a)}catch(l){throw l.response?.data?.message||"Failed to fetch assigned members"}},tD=async t=>{try{return(await ye.get(`/trainer/members/${t}`)).data}catch(s){throw s.response?.data?.message||"Failed to fetch member details"}},sD=async(t,s)=>{try{return(await ye.patch(`/trainer/members/${t}/flag`,{reason:s})).data}catch(a){throw a.response?.data?.message||"Failed to flag member"}},aD=async({filters:t={},page:s=1,limit:a=10}={})=>{try{const l=await ye.get("/trainer/sessions");let i=Rw(l.data,t);return Pw(i,s,a)}catch(l){throw l.response?.data?.message||"Failed to fetch sessions"}},rD=async t=>{try{return(await ye.post("/trainer/sessions",t)).data}catch(s){throw s.response?.data?.message||"Failed to create session"}},lD=async(t,s)=>{try{return(await ye.get("/trainer/sessions")).data.filter(l=>{const i=new Date(l.date);return i>=new Date(t)&&i<=new Date(s)})}catch(a){throw a.response?.data?.message||"Failed to fetch sessions by date"}},nD=async(t,s)=>{try{return(await ye.patch(`/trainer/sessions/${t}/status`,{status:s})).data}catch(a){throw a.response?.data?.message||"Failed to update session status"}},iD=async t=>{try{return(await ye.get(`/trainer/members/${t}/payments`)).data}catch(s){throw s.response?.data?.message||"Failed to fetch member payments"}},oD=()=>{const{role:t}=Wo(),s=qt(),[a,l]=v.useState([]),[i,o]=v.useState(!0),[d,x]=v.useState(""),[u,h]=v.useState("All");v.useEffect(()=>{p()},[]);const p=async()=>{try{o(!0);const b=t==="TRAINER"?await W9():await _9();l(b||[])}catch(b){console.error("Error loading classes:",b)}finally{o(!1)}},f=(a||[]).filter(b=>{const g=b.name?.toLowerCase().includes(d.toLowerCase())||b.trainerName?.toLowerCase().includes(d.toLowerCase()),j=u==="All"||b.status===u;return g&&j});return e.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-white to-violet-50/30 min-h-screen",children:[e.jsxs("div",{className:"mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent mb-2 flex items-center gap-2",children:[e.jsx(Er,{className:"text-violet-600",size:28}),"Classes Schedule"]}),e.jsx("p",{className:"text-slate-600 text-sm",children:"Manage and organize your fitness classes"})]}),t!=="TRAINER"&&e.jsxs("button",{className:"group relative px-6 py-3 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-xl font-semibold shadow-lg hover:shadow-xl hover:shadow-violet-500/50 hover:scale-105 hover:-translate-y-1 transition-all duration-300 flex items-center gap-2",onClick:()=>s("/classes/new"),children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 to-fuchsia-600 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx(wt,{size:20,className:"relative transition-transform duration-300 group-hover:rotate-90"}),e.jsx("span",{className:"relative",children:"Create Class"})]})]})})]}),e.jsx("div",{className:"mb-6 bg-white/60 backdrop-blur-md rounded-xl shadow-lg border border-white/50 p-5 hover:shadow-xl transition-all duration-300",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1 group",children:[e.jsx(tt,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 group-focus-within:scale-110 transition-all duration-300"}),e.jsx("input",{type:"text",placeholder:"Search by Class Name or Trainer...",className:"w-full pl-12 pr-4 py-3 bg-white/80 border-2 border-slate-200 rounded-xl text-sm focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 focus:bg-white transition-all duration-300 hover:border-slate-300",value:d,onChange:b=>x(b.target.value)})]}),e.jsxs("div",{className:"w-full sm:w-48 relative group",children:[e.jsx(ks,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 transition-all duration-300 pointer-events-none"}),e.jsxs("select",{value:u,onChange:b=>h(b.target.value),className:"w-full pl-12 pr-4 py-3 bg-white/80 border-2 border-slate-200 rounded-xl text-sm focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 focus:bg-white transition-all duration-300 hover:border-slate-300 cursor-pointer appearance-none",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%23cbd5e1'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 0.75rem center",backgroundSize:"1.25rem"},children:[e.jsx("option",{value:"All",children:"All Statuses"}),e.jsx("option",{value:"Scheduled",children:"Scheduled"}),e.jsx("option",{value:"Full",children:"Full"}),e.jsx("option",{value:"Completed",children:"Completed"})]})]})]})}),i?e.jsx("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 p-16 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-4 text-violet-600",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-violet-600 border-t-transparent rounded-full animate-spin"}),e.jsx("span",{className:"text-lg font-bold uppercase tracking-widest",children:"Loading Classes..."})]})}):f.length>0?e.jsx("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gradient-to-r from-slate-50 to-slate-100/50 border-b-2 border-slate-200",children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"Class Name"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"Trainer"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"Schedule"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"Capacity"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold uppercase tracking-wider text-slate-700",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:f.map(b=>e.jsxs("tr",{className:"group hover:bg-gradient-to-r hover:from-violet-50/50 hover:via-purple-50/30 hover:to-transparent transition-all duration-300 cursor-pointer",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white font-bold shadow-md group-hover:shadow-lg group-hover:scale-110 group-hover:rotate-6 transition-all duration-300",children:b.name.charAt(0)}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-slate-900 group-hover:text-violet-600 transition-colors duration-300",children:b.name}),e.jsxs("div",{className:"text-xs text-slate-500 flex items-center gap-1 mt-1",children:[e.jsx($s,{size:12})," ",b.location]})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-slate-100 to-slate-200 flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:e.jsx(lt,{size:16,className:"text-slate-600"})}),e.jsx("span",{className:"font-medium text-slate-700",children:b.trainerName})]})}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-700",children:[e.jsx(Ve,{size:16,className:"text-slate-400"}),e.jsx("span",{className:"font-medium",children:b.schedule})]}),e.jsx("div",{className:"text-xs text-slate-500 mt-1 ml-6",children:b.duration})]}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(_t,{size:16,className:"text-slate-400"}),e.jsxs("span",{className:"font-semibold text-slate-700",children:[b.enrolled," / ",b.capacity]})]}),e.jsx("div",{className:"w-24 h-2 bg-slate-100 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${b.enrolled>=b.capacity?"bg-gradient-to-r from-red-500 to-red-600":"bg-gradient-to-r from-violet-500 to-purple-600"}`,style:{width:`${b.enrolled/b.capacity*100}%`}})})]}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`inline-flex items-center px-3 py-1.5 rounded-full text-xs font-bold shadow-sm group-hover:scale-110 group-hover:shadow-md transition-all duration-300 ${b.status==="Scheduled"?"bg-gradient-to-r from-blue-50 to-blue-100 text-blue-700 border border-blue-200 group-hover:shadow-blue-500/50":b.status==="Full"?"bg-gradient-to-r from-amber-50 to-amber-100 text-amber-700 border border-amber-200 group-hover:shadow-amber-500/50":b.status==="Completed"?"bg-gradient-to-r from-slate-50 to-slate-100 text-slate-700 border border-slate-200 group-hover:shadow-slate-500/50":"bg-gradient-to-r from-red-50 to-red-100 text-red-700 border border-red-200 group-hover:shadow-red-500/50"}`,children:b.status})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"flex items-center justify-end",children:e.jsx("button",{className:"px-4 py-2 bg-gradient-to-r from-violet-50 to-purple-50 text-violet-600 rounded-lg text-sm font-semibold hover:from-violet-600 hover:to-purple-600 hover:text-white hover:scale-110 hover:shadow-lg hover:-translate-y-1 transition-all duration-300",onClick:()=>s(`/classes/${b.id}`),children:"View Details"})})})]},b.id))})]})})}):e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 p-16 text-center",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-violet-100 to-purple-100 rounded-full flex items-center justify-center",children:e.jsx(tt,{size:40,className:"text-violet-600"})}),e.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-2",children:"No Classes Found"}),e.jsx("p",{className:"text-slate-600 mb-6",children:d||u!=="All"?"Try adjusting your search or filter criteria":"No classes have been found."}),!d&&u==="All"&&t!=="TRAINER"&&e.jsxs("button",{className:"group relative px-6 py-3 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-xl font-semibold shadow-lg hover:shadow-xl hover:shadow-violet-500/50 hover:scale-105 hover:-translate-y-1 transition-all duration-300 inline-flex items-center gap-2",onClick:()=>s("/classes/new"),children:[e.jsx(wt,{size:20,className:"transition-transform duration-300 group-hover:rotate-90"}),"Create Class"]})]})]})},cD=()=>{const{role:t}=Wo(),{id:s}=Td(),a=qt(),[l,i]=v.useState(null),[o,d]=v.useState([]),[x,u]=v.useState(!0);v.useEffect(()=>{h()},[s]);const h=async()=>{try{u(!0);const[b,g]=await Promise.all([t==="TRAINER"?await G9(s):await hm(s),uu().catch(()=>({messageTemplates:[]}))]);i(b),g&&g.messageTemplates&&d(g.messageTemplates)}catch(b){console.error("Error loading class details:",b),ft.error("Failed to load details"),a("/classes")}finally{u(!1)}};if(x)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(Sl,{className:"w-10 h-10 text-indigo-600 animate-spin"})});if(!l)return e.jsx("div",{className:"p-6 text-center text-muted",children:"Class not found."});const p=l.enrolledMembers||[],f=()=>{const b=o.find(w=>w.name==="Class Cancellation"||w.id===3);if(!b){ft.error("Cancellation template not found.");return}if(p.length===0){ft.error("No members enrolled to notify.");return}const g=p[0],j=b.text.replace("{{class_name}}",l.name).replace("{{date}}",l.schedule),A=(g.phone||"").replace(/\D/g,"");if(!A){ft.error("Member phone not found.");return}window.open(`https://wa.me/${A}?text=${encodeURIComponent(j)}`,"_blank"),ft.success(`Opening notification for ${g.name}`)};return e.jsxs("div",{className:"fade-in px-4 sm:px-6 lg:px-8 py-6 bg-gradient-to-br from-gray-50 to-white min-h-screen",children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"var(--space-6)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-4)"},children:[e.jsx("button",{onClick:()=>a("/classes"),className:"p-2 rounded-full hover:bg-gray-100 transition-colors duration-200 text-gray-500 hover:text-indigo-600",children:e.jsx(kn,{size:24})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-1",children:l.name}),e.jsxs("div",{className:"text-gray-500 font-medium",style:{fontSize:"0.875rem"},children:["Class ID: #",l.id]})]})]}),e.jsx("div",{style:{display:"flex",gap:"var(--space-3)"},children:t!=="TRAINER"&&e.jsxs(e.Fragment,{children:[e.jsxs(Ut,{variant:"outline",onClick:()=>a(`/classes/${s}/assign-trainer`),children:[e.jsx(lt,{size:18,style:{marginRight:"6px"}}),"Assign Trainer"]}),e.jsxs(Ut,{variant:"outline",onClick:()=>a(`/classes/${s}/enroll`),children:[e.jsx(rl,{size:18,style:{marginRight:"6px"}}),"Enroll Members"]}),e.jsxs(Ut,{variant:"primary",onClick:()=>a(`/classes/${s}/edit`),children:[e.jsx(Pa,{size:18,style:{marginRight:"6px"}}),"Edit Class"]}),l.status==="Cancelled"&&e.jsxs(Ut,{variant:"outline",className:"border-rose-200 text-rose-600 hover:bg-rose-50",onClick:f,children:[e.jsx(pC,{size:18,style:{marginRight:"6px"}}),"Notify Cancellation"]})]})})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(400px, 1fr))",gap:"var(--space-6)"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--space-4)"},children:[e.jsxs(is,{title:"Class Overview",children:[e.jsx("p",{style:{color:"var(--text)",lineHeight:"1.6",marginBottom:"24px",fontSize:"1rem"},className:"text-gray-700",children:l.description||"No description provided for this class."}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px"},children:[e.jsx(dh,{icon:Ve,label:"Schedule",value:l.schedule}),e.jsx(dh,{icon:dD,label:"Duration",value:l.duration}),e.jsx(dh,{icon:$s,label:"Location",value:l.location}),e.jsx(dh,{icon:_t,label:"Capacity",value:`${l.enrolled} / ${l.capacity}`})]})]}),e.jsx(is,{title:"Trainer Information",children:e.jsxs("div",{className:"flex items-center gap-4 p-2",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-indigo-50 flex items-center justify-center text-indigo-600 shadow-sm",children:e.jsx(lt,{size:28})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-bold text-gray-900 leading-tight",children:l.trainerName}),e.jsx("div",{className:"text-indigo-600 font-semibold text-xs uppercase tracking-wider mt-1",children:"Assigned Trainer"})]})]})})]}),e.jsx("div",{children:e.jsxs(is,{title:`Enrolled Members (${p.length})`,children:[p.length>0?e.jsx("div",{className:"max-h-[500px] overflow-y-auto custom-scrollbar pr-2",children:e.jsx("ul",{style:{listStyle:"none",padding:0},children:p.map(b=>e.jsx("li",{className:"py-4 border-b border-gray-100 flex items-center justify-between hover:bg-gray-50 transition-colors duration-200 px-2 rounded-xl",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-indigo-50 to-purple-50 flex items-center justify-center shadow-sm",children:e.jsx(lt,{size:18,className:"text-indigo-500"})}),e.jsxs("div",{children:[e.jsx("span",{className:"font-bold text-gray-800 block text-sm",children:b.name}),e.jsx("span",{className:"text-gray-500 text-xs",children:b.email})]})]})},b.id))})}):e.jsxs("div",{className:"text-gray-400 py-12 text-center flex flex-col items-center gap-3 bg-gray-50/50 rounded-2xl border-2 border-dashed border-gray-100 italic font-medium",children:[e.jsx(_t,{size:32,className:"opacity-20"}),"No members enrolled yet."]}),t!=="TRAINER"&&e.jsx("div",{className:"mt-6 text-center border-t border-gray-100 pt-4",children:e.jsx(Ut,{variant:"outline",size:"small",onClick:()=>a(`/classes/${s}/enroll`),className:"w-full",children:"Manage Enrollments"})})]})})]})]})},dh=({icon:t,label:s,value:a})=>e.jsxs("div",{className:"flex flex-col gap-1.5 p-3 rounded-2xl bg-gray-50/50 border border-gray-100 hover:border-indigo-100 transition-all duration-300 group",children:[e.jsxs("span",{className:"text-gray-500 font-bold uppercase tracking-widest flex items-center gap-2",style:{fontSize:"0.65rem"},children:[t&&e.jsx(t,{size:14,className:"group-hover:text-indigo-600 transition-colors duration-300"})," ",s]}),e.jsx("span",{className:"text-gray-900 font-bold",style:{fontSize:"0.95rem"},children:a||"Not set"})]}),dD=({size:t})=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("polyline",{points:"12 6 12 12 16 14"})]}),W1=()=>{const{id:t}=Td(),s=qt(),a=!!t,[l,i]=v.useState({name:"",description:"",trainerId:"",schedule:"",duration:"60 mins",capacity:20,status:"Scheduled",location:"Studio A",requiredBenefit:""}),[o,d]=v.useState([]),[x,u]=v.useState(!1),[h,p]=v.useState(a),[f,b]=v.useState({});v.useEffect(()=>{g(),a&&j()},[a,t]);const g=async()=>{try{const N=(await um()).filter(P=>P.role==="TRAINER"||P.role==="STAFF");d(N)}catch(L){console.error("Error loading trainers:",L),ft.error("Failed to load trainers")}},j=async()=>{try{p(!0);const L=await hm(t);L&&i({name:L.name,description:L.description||"",trainerId:L.trainerId||"",schedule:L.schedule||"",duration:L.duration||"60 mins",capacity:L.capacity||L.maxCapacity||20,status:L.status||"Scheduled",location:L.location||"",requiredBenefit:L.requiredBenefit||""})}catch(L){console.error("Error loading class:",L),ft.error("Failed to load class details"),s("/classes")}finally{p(!1)}},A=L=>{const{name:N,value:P}=L.target;i(_=>({..._,[N]:P})),f[N]&&b(_=>({..._,[N]:""}))},w=()=>{const L={};return l.name.trim()||(L.name="Class name is required"),l.trainerId||(L.trainerId="Trainer is required"),l.schedule||(L.schedule="Schedule is required"),b(L),Object.keys(L).length===0},k=async L=>{if(L.preventDefault(),!!w())try{u(!0);const N={...l,maxCapacity:parseInt(l.capacity)};a?(await _w(t,N),ft.success("Class updated successfully!")):(await P9(N),ft.success("Class created successfully!")),s("/classes")}catch(N){console.error("Error saving class:",N),ft.error(N.response?.data?.message||"Failed to save class")}finally{u(!1)}},C=()=>{s("/classes")};return h?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(Sl,{className:"w-10 h-10 text-indigo-600 animate-spin"})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-indigo-50/30 flex flex-col items-center py-8 px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"w-full max-w-4xl mb-6",children:e.jsxs("button",{onClick:C,className:"group flex items-center text-gray-500 hover:text-indigo-600 transition-all duration-300 hover:scale-105",children:[e.jsx("div",{className:"p-1 rounded-full group-hover:bg-indigo-50 transition-all duration-300 mr-2 group-hover:scale-110 group-hover:-translate-x-1",children:e.jsx(kn,{className:"w-5 h-5"})}),e.jsx("span",{className:"font-medium",children:"Back to Classes"})]})}),e.jsxs("div",{className:"w-full max-w-4xl bg-white rounded-3xl shadow-xl shadow-gray-200/50 border border-gray-100 overflow-hidden hover:shadow-2xl hover:shadow-gray-300/50 transition-all duration-500 max-h-[calc(100vh-120px)] flex flex-col",children:[e.jsxs("div",{className:"px-6 py-6 sm:px-10 border-b border-gray-100 bg-gradient-to-r from-indigo-50/30 to-purple-50/30 flex-shrink-0",children:[e.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:a?"Edit Class":"Create New Class"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Define the details and schedule for this class."})]}),e.jsxs("form",{onSubmit:k,className:"px-6 py-8 sm:px-10 space-y-8 overflow-y-auto flex-1 custom-scrollbar",children:[e.jsxs("div",{className:"space-y-3 group",children:[e.jsxs("label",{className:"block text-sm font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:["Class Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"relative",children:e.jsx("input",{type:"text",name:"name",className:`block w-full px-5 py-4 bg-gradient-to-br from-white to-indigo-50/30 border-2 border-gray-200 rounded-2xl text-gray-900 text-sm placeholder-gray-400 focus:outline-none focus:ring-4 focus:ring-indigo-500/20 focus:border-indigo-500 hover:border-indigo-300 hover:shadow-lg transition-all duration-300 shadow-md focus:scale-[1.02] group-hover:border-indigo-200 ${f.name?"border-red-500 bg-red-50/30 focus:ring-red-500/20":""}`,placeholder:"e.g., Morning Yoga",value:l.name,onChange:A})}),f.name&&e.jsx("p",{className:"text-xs text-red-600 mt-1 font-medium animate-pulse",children:f.name})]}),e.jsxs("div",{className:"space-y-3 group",children:[e.jsx("label",{className:"block text-sm font-bold bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent",children:"Description"}),e.jsx("textarea",{name:"description",className:"block w-full px-5 py-4 bg-gradient-to-br from-white to-blue-50/30 border-2 border-gray-200 rounded-2xl text-gray-900 text-sm placeholder-gray-400 focus:outline-none focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 hover:border-blue-300 hover:shadow-lg transition-all duration-300 shadow-md resize-none focus:scale-[1.01] group-hover:border-blue-200",placeholder:"Describe the class activities and benefits...",value:l.description,onChange:A,rows:"3"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3 group",children:[e.jsxs("label",{className:"block text-sm font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:["Schedule ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"schedule",className:`block w-full px-5 py-4 bg-gradient-to-br from-white to-indigo-50/30 border-2 border-gray-200 rounded-2xl text-gray-900 text-sm placeholder-gray-400 focus:outline-none focus:ring-4 focus:ring-indigo-500/20 focus:border-indigo-500 hover:border-indigo-300 hover:shadow-lg transition-all duration-300 shadow-md focus:scale-[1.02] group-hover:border-indigo-200 ${f.schedule?"border-red-500 bg-red-50/30 focus:ring-red-500/20":""}`,placeholder:"e.g., Mon 7AM",value:l.schedule,onChange:A}),f.schedule&&e.jsx("p",{className:"text-xs text-red-600 mt-1 font-medium",children:f.schedule})]}),e.jsxs("div",{className:"space-y-3 group",children:[e.jsx("label",{className:"block text-sm font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Duration"}),e.jsx("div",{className:"relative z-20",children:e.jsx(us,{options:[{value:"30 mins",label:"30 mins"},{value:"45 mins",label:"45 mins"},{value:"60 mins",label:"60 mins"},{value:"90 mins",label:"90 mins"}],value:l.duration,onChange:L=>A({target:{name:"duration",value:L}}),className:"w-full"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3 group",children:[e.jsxs("label",{className:"block text-sm font-bold bg-gradient-to-r from-emerald-600 to-teal-600 bg-clip-text text-transparent",children:["Assigned Trainer ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative z-10",children:[e.jsx(us,{options:[{value:"",label:"-- Select Trainer --"},...o.map(L=>({value:L.id,label:L.name}))],value:l.trainerId,onChange:L=>A({target:{name:"trainerId",value:L}}),className:`w-full ${f.trainerId?"border-red-500":""}`}),f.trainerId&&e.jsx("p",{className:"text-xs text-red-600 mt-1 font-medium",children:f.trainerId})]})]}),e.jsxs("div",{className:"space-y-3 group",children:[e.jsx("label",{className:"block text-sm font-bold bg-gradient-to-r from-cyan-600 to-blue-600 bg-clip-text text-transparent",children:"Location / Studio"}),e.jsx("input",{type:"text",name:"location",className:"block w-full px-5 py-4 bg-gradient-to-br from-white to-cyan-50/30 border-2 border-gray-200 rounded-2xl text-gray-900 text-sm placeholder-gray-400 focus:outline-none focus:ring-4 focus:ring-cyan-500/20 focus:border-cyan-500 hover:border-cyan-300 hover:shadow-lg transition-all duration-300 shadow-md focus:scale-[1.02] group-hover:border-cyan-200",placeholder:"e.g., Studio A",value:l.location,onChange:A})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-3 group",children:[e.jsx("label",{className:"block text-sm font-bold bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent",children:"Max Capacity"}),e.jsx("input",{type:"number",name:"capacity",className:"block w-full px-5 py-4 bg-gradient-to-br from-white to-orange-50/30 border-2 border-gray-200 rounded-2xl text-gray-900 text-sm placeholder-gray-400 focus:outline-none focus:ring-4 focus:ring-orange-500/20 focus:border-orange-500 hover:border-orange-300 hover:shadow-lg transition-all duration-300 shadow-md focus:scale-[1.02] group-hover:border-orange-200",placeholder:"20",value:l.capacity,onChange:A,min:"1"})]}),e.jsxs("div",{className:"space-y-3 group",children:[e.jsx("label",{className:"block text-sm font-bold bg-gradient-to-r from-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Status"}),e.jsx("div",{className:"relative z-10",children:e.jsx(us,{options:[{value:"Scheduled",label:"Scheduled"},{value:"Full",label:"Full"},{value:"Completed",label:"Completed"},{value:"Cancelled",label:"Cancelled"}],value:l.status,onChange:L=>A({target:{name:"status",value:L}}),className:"w-full"})})]}),e.jsxs("div",{className:"space-y-3 group",children:[e.jsx("label",{className:"block text-sm font-bold bg-gradient-to-r from-pink-600 to-rose-600 bg-clip-text text-transparent",children:"Required Benefit"}),e.jsx("div",{className:"relative z-10",children:e.jsx(us,{options:[{value:"",label:"-- Open to All --"},{value:"group_classes",label:"Group Classes Access"},{value:"yoga_access",label:"Yoga Studio Access"},{value:"gym_access",label:"General Gym Access"}],value:l.requiredBenefit,onChange:L=>A({target:{name:"requiredBenefit",value:L}}),className:"w-full"})})]})]}),e.jsx("div",{className:"p-4 bg-gradient-to-br from-indigo-50/50 to-purple-50/50 rounded-2xl border-2 border-indigo-100",children:e.jsxs("p",{className:"text-xs text-gray-600",children:[e.jsx("span",{className:"font-semibold text-indigo-700",children:"Booking Rule:"})," If a required benefit is selected, only members with that benefit in their plan can book this class."]})}),e.jsxs("div",{className:"pt-6 flex flex-col-reverse md:flex-row items-center justify-end gap-4 border-t border-gray-100 mt-2 sticky bottom-0 bg-white pb-4 -mb-8 -mx-6 px-6 sm:-mx-10 sm:px-10",children:[e.jsx("button",{type:"button",onClick:C,disabled:x,className:"w-full md:w-auto px-8 py-3 bg-white border-2 border-gray-300 rounded-xl text-sm font-semibold text-gray-700 hover:bg-gray-50 hover:text-gray-900 hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-all duration-300 shadow-sm hover:shadow-md hover:scale-105 hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),e.jsxs("button",{type:"submit",disabled:x,className:"w-full md:w-auto flex items-center justify-center px-8 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 border border-transparent rounded-xl text-sm font-semibold text-white hover:from-indigo-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 shadow-lg shadow-indigo-500/30 transition-all duration-300 transform hover:-translate-y-1 hover:shadow-xl hover:shadow-indigo-500/50 hover:scale-105 group disabled:opacity-50 disabled:cursor-not-allowed",children:[x?e.jsx(Sl,{className:"w-5 h-5 mr-2 animate-spin"}):e.jsx(na,{size:18,className:"mr-2 transition-transform duration-300 group-hover:rotate-12 group-hover:scale-110"}),x?"Saving...":"Save Class"]})]})]})]})]})},xD=()=>{const{id:t}=Td(),s=qt(),[a,l]=v.useState(null),[i,o]=v.useState([]),[d,x]=v.useState(""),[u,h]=v.useState(!0),[p,f]=v.useState(!1);v.useEffect(()=>{b()},[t]);const b=async()=>{try{h(!0);const[j,A]=await Promise.all([hm(t),um()]);l(j),o(A.filter(w=>w.role==="TRAINER"||w.role==="STAFF")),x(j.trainerId||"")}catch(j){console.error("Error loading data:",j),ft.error("Failed to load assignment data"),s(`/classes/${t}`)}finally{h(!1)}},g=async()=>{try{f(!0),await _w(t,{trainerId:d}),ft.success("Trainer assigned successfully!"),s(`/classes/${t}`)}catch(j){console.error("Error assigning trainer:",j),ft.error("Failed to assign trainer")}finally{f(!1)}};return u?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(Sl,{className:"w-10 h-10 text-indigo-600 animate-spin"})}):a?e.jsxs("div",{className:"fade-in px-4 sm:px-6 lg:px-8 py-6",style:{maxWidth:"800px",margin:"0 auto"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"var(--space-6)"},children:[e.jsx("button",{onClick:()=>s(`/classes/${t}`),className:"p-2 rounded-full hover:bg-gray-100 transition-colors duration-200 text-gray-400 hover:text-indigo-600",children:e.jsx(kn,{size:24})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Assign Trainer"})]}),e.jsx(is,{className:"mb-8 border-indigo-100 bg-indigo-50/30",children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--primary)",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px"},children:"Class"}),e.jsx("div",{style:{fontWeight:800,fontSize:"1.25rem",color:"var(--text-dark)"},children:a.name})]}),e.jsxs("div",{style:{textAlign:"right"},children:[e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--muted)",fontWeight:600,marginBottom:"4px"},children:"Schedule"}),e.jsx("div",{style:{fontWeight:600,color:"var(--text-dark)"},children:a.schedule})]})]})}),e.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-6 flex items-center gap-2",children:[e.jsx(lt,{size:20,className:"text-indigo-600"}),"Select Available Trainer"]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(240px, 1fr))",gap:"var(--space-4)"},children:i.map(j=>{const A=d===j.id;return e.jsxs("div",{onClick:()=>x(j.id),className:`group relative p-6 rounded-2xl cursor-pointer transition-all duration-300 border-2 shadow-sm hover:shadow-md ${A?"bg-indigo-50 border-indigo-500 shadow-indigo-100":"bg-white border-gray-100 hover:border-indigo-200"}`,children:[A&&e.jsx("div",{className:"absolute top-4 right-4 text-indigo-600 animate-in zoom-in duration-300",children:e.jsx(Qt,{size:24})}),e.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center mb-4 transition-colors duration-300 ${A?"bg-indigo-600 text-white":"bg-gray-100 text-gray-500 group-hover:bg-indigo-100 group-hover:text-indigo-600"}`,children:e.jsx(lt,{size:24})}),e.jsx("div",{className:"font-bold text-gray-900 group-hover:text-indigo-600 transition-colors duration-300",children:j.name}),e.jsx("div",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mt-1",children:j.role})]},j.id)})}),e.jsxs("div",{style:{marginTop:"48px",display:"flex",justifyContent:"flex-end",gap:"16px"},children:[e.jsx(Ut,{variant:"outline",onClick:()=>s(`/classes/${t}`),disabled:p,children:"Cancel"}),e.jsx(Ut,{variant:"primary",onClick:g,loading:p,children:"Confirm Assignment"})]})]}):e.jsx("div",{children:"Class not found"})},uD=()=>{const{id:t}=Td(),s=qt(),[a,l]=v.useState(null),[i,o]=v.useState([]),[d,x]=v.useState([]),[u,h]=v.useState(""),[p,f]=v.useState(!0),[b,g]=v.useState(!1);v.useEffect(()=>{j()},[t]);const j=async()=>{try{f(!0);const k=await hm(t);l(k),o(k.enrolledMembers||[]);const C=await Cg({limit:100}),L=(k.enrolledMembers||[]).map(N=>N.id);x(C.data.filter(N=>!L.includes(N.id)))}catch(k){console.error("Error loading enrollment data:",k),ft.error("Failed to load members"),s(`/classes/${t}`)}finally{f(!1)}},A=async k=>{if(i.length>=(a.maxCapacity||a.capacity)){ft.error("Class is full!");return}try{g(!0),await Tw({memberId:parseInt(k),classId:parseInt(t),date:new Date().toISOString(),status:"Confirmed"}),ft.success("Member enrolled!"),await j()}catch(C){console.error("Error enrolling member:",C),ft.error("Failed to enroll member")}finally{g(!1)}},w=d.filter(k=>k.name.toLowerCase().includes(u.toLowerCase())||k.email?.toLowerCase().includes(u.toLowerCase()));return p?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(Sl,{className:"w-10 h-10 text-indigo-600 animate-spin"})}):a?e.jsxs("div",{className:"fade-in px-4 sm:px-6 lg:px-8 py-6",style:{maxWidth:"1000px",margin:"0 auto"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"var(--space-6)"},children:[e.jsx("button",{onClick:()=>s(`/classes/${t}`),className:"p-2 rounded-full hover:bg-gray-100 transition-colors duration-200 text-gray-400 hover:text-indigo-600",children:e.jsx(kn,{size:24})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Manage Enrollments"})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"var(--space-6)"},children:[e.jsxs(is,{title:"Available Members",children:[e.jsxs("div",{className:"relative mb-6",children:[e.jsx(tt,{size:18,className:"text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),e.jsx("input",{type:"text",placeholder:"Search members to enroll...",value:u,onChange:k=>h(k.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-50 border-2 border-gray-100 rounded-xl focus:border-indigo-500 focus:outline-none transition-all duration-200 shadow-sm"})]}),e.jsxs("div",{style:{maxHeight:"450px",overflowY:"auto"},className:"custom-scrollbar pr-2",children:[w.map(k=>e.jsxs("div",{className:"group flex justify-between items-center p-4 border-b border-gray-100 hover:bg-indigo-50/50 rounded-xl transition-all duration-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center text-gray-500 group-hover:bg-indigo-100 group-hover:text-indigo-600",children:e.jsx(lt,{size:18})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-gray-800",children:k.name}),e.jsx("div",{className:"text-xs text-gray-400 font-medium",children:k.email})]})]}),e.jsxs(Ut,{variant:"outline",size:"small",onClick:()=>A(k.id),disabled:b,className:"group-hover:bg-indigo-600 group-hover:text-white group-hover:border-indigo-600",children:[e.jsx(wt,{size:16,className:"mr-1"})," Enroll"]})]},k.id)),w.length===0&&e.jsx("div",{className:"text-center py-12 text-gray-400 font-medium italic",children:"No available members found."})]})]}),e.jsx(is,{title:`Currently Enrolled (${i.length} / ${a.capacity})`,children:e.jsx("div",{style:{maxHeight:"520px",overflowY:"auto"},className:"custom-scrollbar pr-2 pt-2",children:i.length>0?i.map(k=>e.jsx("div",{className:"flex justify-between items-center p-4 bg-gray-50/80 border border-gray-100 rounded-2xl mb-4 group hover:border-indigo-100 transition-all duration-300",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-50 flex items-center justify-center text-indigo-600",children:e.jsx(lt,{size:18})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-gray-900",children:k.name}),e.jsxs("div",{className:"text-xs text-gray-400 font-medium",children:["#",k.id]})]})]})},k.id)):e.jsx("div",{className:"text-center py-12 text-gray-400 border-2 border-dashed border-gray-100 rounded-2xl italic font-medium",children:"No members enrolled yet."})})})]})]}):e.jsx("div",{children:"Class not found"})},hD=()=>e.jsxs("div",{className:"fade-in",children:[e.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-4 mb-6 border-b border-gray-100",children:[e.jsx(Cc,{to:"/operations",end:!0,children:"Schedule"}),e.jsx(Cc,{to:"/operations/equipment",children:"Equipment"}),e.jsx(Cc,{to:"/operations/lockers",children:"Lockers"}),e.jsx(Cc,{to:"/operations/inventory",children:"Inventory"}),e.jsx(Cc,{to:"/operations/announcements",children:"Announcements"}),e.jsx(Cc,{to:"/operations/rewards",children:"Rewards"}),e.jsx(Cc,{to:"/operations/feedback",children:"Feedback"}),e.jsx(Cc,{to:"/operations/devices",children:"Devices"})]}),e.jsx(sm,{})]}),Cc=({to:t,children:s,end:a=!1})=>e.jsx(Bh,{to:t,end:a,className:({isActive:l})=>`px-5 py-2.5 rounded-xl text-sm font-bold transition-colors whitespace-nowrap ${l?"bg-indigo-600 text-white shadow-lg shadow-indigo-200":"text-gray-500 hover:bg-gray-50 hover:text-gray-900"}`,children:s}),Ya=({title:t,subtitle:s,badge:a,badgeColor:l="violet",fields:i=[],actions:o=[],className:d=""})=>{const x=u=>{const h={violet:"from-violet-500 to-purple-600 shadow-violet-500/50",emerald:"from-emerald-500 to-emerald-600 shadow-emerald-500/50",red:"from-red-500 to-red-600 shadow-red-500/50",amber:"from-amber-500 to-orange-600 shadow-amber-500/50",blue:"from-blue-500 to-indigo-600 shadow-blue-500/50",slate:"from-slate-500 to-slate-600 shadow-slate-500/50",purple:"from-purple-500 to-fuchsia-600 shadow-purple-500/50"};return h[u]||h.violet};return e.jsxs("div",{className:`group relative bg-white/60 backdrop-blur-md rounded-xl shadow-lg border border-white/50 p-4 hover:shadow-2xl hover:scale-[1.02] transition-all duration-300 overflow-hidden ${d}`,children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50/30 to-purple-50/30 opacity-0 group-hover:opacity-100 transition-opacity duration-500 rounded-xl"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg shadow-violet-500/50 group-hover:scale-110 group-hover:rotate-6 transition-all duration-300 flex-shrink-0",children:e.jsx("div",{className:"w-5 h-5 rounded-full bg-white/20"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-base font-bold text-slate-900 group-hover:text-violet-700 transition-colors duration-300 truncate",children:t}),s&&e.jsx("p",{className:"text-xs font-semibold text-slate-600 mt-0.5 truncate",children:s})]})]}),a&&e.jsx("span",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-xl bg-gradient-to-r ${x(typeof a=="object"?a.color:l)} text-white text-xs font-black shadow-lg hover:scale-110 transition-all duration-300 cursor-pointer flex-shrink-0 ml-2`,children:typeof a=="object"?a.label:a})]}),i.length>0&&e.jsx("div",{className:"space-y-2.5 mb-4",children:i.map((u,h)=>{const p=u.icon;return e.jsxs("div",{className:"flex justify-between items-center p-2.5 rounded-lg bg-slate-50/50 hover:bg-violet-50/50 transition-colors duration-200",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[p&&e.jsx(p,{size:14,className:"text-slate-400 group-hover:text-violet-500 transition-colors",strokeWidth:2.5}),e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-slate-500",children:u.label})]}),e.jsx("span",{className:"text-sm font-black text-slate-900",children:u.value})]},h)})}),o.length>0&&e.jsx("div",{className:"flex flex-col gap-2 pt-4 border-t-2 border-slate-100",children:o.map((u,h)=>{const p=u.icon;return e.jsxs("button",{onClick:u.onClick,className:`
                                        group/btn flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl text-xs font-bold transition-all duration-300 shadow-md hover:shadow-xl hover:scale-105
                                        ${u.variant==="primary"?"bg-gradient-to-r from-violet-600 to-purple-600 text-white shadow-violet-500/50 hover:shadow-violet-500/60":u.variant==="danger"?"bg-gradient-to-r from-red-500 to-red-600 text-white shadow-red-500/50 hover:shadow-red-500/60":"bg-white border-2 border-slate-200 text-slate-700 hover:border-violet-300 hover:text-violet-700"}
                                    `,children:[p&&e.jsx(p,{size:16,strokeWidth:2.5,className:"transition-transform duration-300 group-hover/btn:scale-110"}),e.jsx("span",{children:u.label})]},h)})})]})]})},mD=()=>{const[t,s]=v.useState(""),[a,l]=v.useState(""),[i,o]=v.useState(""),[d,x]=v.useState([]),[u,h]=v.useState(!0);v.useEffect(()=>{p()},[]);const p=async()=>{try{h(!0);const A=(await p7()).map(w=>({id:w.id,name:w.name,role:w.role.charAt(0)+w.role.slice(1).toLowerCase(),shift:"Full Day (9AM - 6PM)",status:w.status==="Active"?"On Duty":"Off Duty"}));x(A)}catch{st.error("Failed to load staff list")}finally{h(!1)}},f=d.filter(j=>{const A=j.name.toLowerCase().includes(t.toLowerCase())||j.role.toLowerCase().includes(t.toLowerCase()),w=a===""||j.role===a||j.role.toUpperCase()===a.toUpperCase(),k=i===""||j.status===i;return A&&w&&k}),b=j=>{const A={"On Duty":"bg-gradient-to-r from-emerald-50 to-emerald-100 text-emerald-700 border border-emerald-200","On Leave":"bg-gradient-to-r from-red-50 to-red-100 text-red-700 border border-red-200","Off Duty":"bg-gradient-to-r from-slate-50 to-slate-100 text-slate-700 border border-slate-200"};return e.jsx("span",{className:`inline-flex items-center px-3 py-1.5 rounded-full text-xs font-bold shadow-sm transition-all duration-300 hover:scale-110 hover:shadow-md ${A[j]||A["Off Duty"]}`,children:j})},g=j=>({"On Duty":"emerald","On Leave":"red","Off Duty":"slate"})[j]||"slate";return e.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6 pb-12 min-h-screen",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6",children:e.jsx("div",{className:"flex flex-col gap-4",children:e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx(_t,{className:"text-violet-600 flex-shrink-0",size:24}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Staff Schedule"}),e.jsx("span",{className:"px-2 py-0.5 bg-gradient-to-r from-violet-500 to-purple-600 text-white text-[10px] font-black rounded-md shadow-sm animate-pulse flex-shrink-0",children:"PREMIUM "})]}),e.jsx("p",{className:"text-slate-600 text-xs sm:text-sm mt-1",children:"Manage staff shifts and availability"})]})]})})})]}),e.jsx("div",{className:"mb-4 sm:mb-6 bg-white/60 backdrop-blur-md rounded-xl shadow-lg border border-white/50 p-4 sm:p-5 hover:shadow-xl transition-all duration-300",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"relative group",children:[e.jsx(tt,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 group-focus-within:scale-110 transition-all duration-300"}),e.jsx("input",{type:"text",value:t,onChange:j=>s(j.target.value),placeholder:"Search by name or role...",className:"w-full pl-12 pr-4 py-2.5 sm:py-3 bg-white/80 border-2 border-slate-200 rounded-lg sm:rounded-xl text-sm focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 focus:bg-white transition-all duration-300 hover:border-slate-300"})]}),e.jsxs("div",{className:"relative group",children:[e.jsx(ks,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 group-focus-within:scale-110 transition-all duration-300 pointer-events-none z-10"}),e.jsxs("select",{value:a,onChange:j=>l(j.target.value),className:"w-full pl-12 pr-4 py-2.5 sm:py-3 bg-white/80 border-2 border-slate-200 rounded-lg sm:rounded-xl text-sm focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 focus:bg-white transition-all duration-300 hover:border-slate-300 appearance-none cursor-pointer",children:[e.jsx("option",{value:"",children:"All Roles"}),e.jsx("option",{value:"Trainer",children:"Trainer"}),e.jsx("option",{value:"Receptionist",children:"Receptionist"}),e.jsx("option",{value:"Cleaner",children:"Cleaner"})]})]}),e.jsxs("div",{className:"relative group",children:[e.jsx(Ca,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 group-focus-within:scale-110 transition-all duration-300 pointer-events-none z-10"}),e.jsxs("select",{value:i,onChange:j=>o(j.target.value),className:"w-full pl-12 pr-4 py-2.5 sm:py-3 bg-white/80 border-2 border-slate-200 rounded-lg sm:rounded-xl text-sm focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 focus:bg-white transition-all duration-300 hover:border-slate-300 appearance-none cursor-pointer",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"On Duty",children:"On Duty"}),e.jsx("option",{value:"On Leave",children:"On Leave"}),e.jsx("option",{value:"Off Duty",children:"Off Duty"})]})]})]})}),e.jsx("div",{className:"md:hidden space-y-3 sm:space-y-4 mb-6",children:f.map(j=>e.jsx(Ya,{title:j.name,subtitle:j.role,badge:j.status,badgeColor:g(j.status),fields:[{label:"Shift",value:j.shift,icon:Qe}]},j.id))}),e.jsxs("div",{className:"hidden md:block bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gradient-to-r from-slate-50 to-slate-100/50 border-b-2 border-slate-200",children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"Staff Member"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"Role"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"Shift"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"Status"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:f.map(j=>e.jsxs("tr",{className:"group hover:bg-gradient-to-r hover:from-violet-50/50 hover:via-purple-50/30 hover:to-transparent transition-all duration-300 cursor-pointer",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white font-bold shadow-md group-hover:shadow-lg group-hover:scale-110 group-hover:rotate-6 transition-all duration-300",children:(j.name||"?").charAt(0)}),e.jsx("div",{children:e.jsx("div",{className:"text-sm font-semibold text-slate-900 group-hover:text-violet-600 transition-colors duration-300",children:j.name})})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full text-xs font-bold bg-gradient-to-r from-slate-50 to-slate-100 text-slate-700 border border-slate-200 shadow-sm group-hover:scale-110 group-hover:shadow-md group-hover:from-violet-50 group-hover:to-purple-50 group-hover:text-violet-700 group-hover:border-violet-200 transition-all duration-300",children:j.role})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[e.jsx(Qe,{className:"w-4 h-4 text-slate-400 transition-transform duration-300 group-hover:scale-125"}),j.shift]})}),e.jsx("td",{className:"px-6 py-4",children:b(j.status)})]},j.id))})]})}),f.length===0&&e.jsxs("div",{className:"p-12 sm:p-16 text-center",children:[e.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 mx-auto mb-4 sm:mb-6 bg-gradient-to-br from-violet-100 to-purple-100 rounded-full flex items-center justify-center",children:e.jsx(_t,{size:32,className:"sm:w-10 sm:h-10 text-violet-600"})}),e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-slate-900 mb-2",children:"No Staff Found"}),e.jsx("p",{className:"text-slate-600 text-sm",children:"Try adjusting your search or filter criteria"})]})]}),f.length===0&&e.jsxs("div",{className:"md:hidden bg-white rounded-xl shadow-xl border border-slate-100 p-12 text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gradient-to-br from-violet-100 to-purple-100 rounded-full flex items-center justify-center",children:e.jsx(_t,{size:32,className:"text-violet-600"})}),e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"No Staff Found"}),e.jsx("p",{className:"text-slate-600 text-sm",children:"Try adjusting your search or filter criteria"})]})]})},Ai={getAllEquipment:async(t={})=>(await ye.get("/equipment",{params:t})).data,addEquipment:async t=>(await ye.post("/equipment",t)).data,updateEquipment:async(t,s)=>(await ye.patch(`/equipment/${t}`,s)).data,deleteEquipment:async t=>(await ye.delete(`/equipment/${t}`)).data,reportIssue:async t=>(await ye.post("/equipment/report-issue",t)).data,getMaintenanceRequests:async(t={})=>(await ye.get("/equipment/requests",{params:t})).data,updateMaintenanceStatus:async(t,s)=>(await ye.patch(`/equipment/requests/${t}`,{status:s})).data},pD=({isOpen:t,onClose:s,onAdd:a})=>{const[l,i]=v.useState({name:"",status:"Working",lastMaintenance:"",nextMaintenance:""}),o=()=>{l.name&&(a(l),i({name:"",status:"Working",lastMaintenance:"",nextMaintenance:""}),s())};return t?e.jsxs("div",{className:"h-full flex flex-col bg-white",children:[e.jsx("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between bg-slate-50/50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg",children:e.jsx(Kl,{size:20,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-black text-slate-900",children:"Add New Equipment"}),e.jsx("p",{className:"text-slate-500 text-xs font-medium",children:"Register machinery for maintenance tracking"})]})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2",children:"Equipment Name"}),e.jsx("input",{type:"text",value:l.name,onChange:d=>i({...l,name:d.target.value}),className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl font-semibold text-slate-900 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 transition-all duration-300",placeholder:"e.g. Treadmill X500"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2",children:"Last Service Date"}),e.jsx("div",{className:"relative",children:e.jsx("input",{type:"date",value:l.lastMaintenance,onChange:d=>i({...l,lastMaintenance:d.target.value}),className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl font-semibold text-slate-900 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 transition-all duration-300"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2",children:"Next Service Due"}),e.jsx("input",{type:"date",value:l.nextMaintenance,onChange:d=>i({...l,nextMaintenance:d.target.value}),className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl font-semibold text-slate-900 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 transition-all duration-300"})]})]}),e.jsxs("div",{className:"bg-slate-50 border border-slate-100 rounded-xl p-4",children:[e.jsx("h4",{className:"text-slate-700 font-bold text-sm mb-1",children:"Status"}),e.jsxs("p",{className:"text-slate-500 text-xs",children:["New equipment is set to ",e.jsx("span",{className:"text-emerald-600 font-bold",children:"Working"})," by default."]})]})]}),e.jsx("div",{className:"p-6 border-t border-slate-100 bg-slate-50/50",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:s,className:"flex-1 py-3 rounded-xl font-bold text-slate-600 hover:bg-white border-2 border-slate-200 hover:border-slate-300 transition-all duration-300",children:"Cancel"}),e.jsx("button",{onClick:o,disabled:!l.name,className:"flex-1 py-3 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-xl font-bold hover:shadow-xl hover:shadow-violet-500/50 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:"Add Item"})]})})]}):null},fD=()=>{const[t,s]=v.useState([]),[a,l]=v.useState(!1),[i,o]=v.useState(!0);v.useEffect(()=>{d()},[]);const d=async()=>{try{o(!0);const b=(await Ai.getAllEquipment()).map(g=>({id:g.id,name:g.name,status:g.status==="Operational"?"Working":g.status==="Under Maintenance"?"Under Maintenance":g.status==="Out of Order"?"Out of Order":"Working",lastMaintenance:g.purchaseDate?new Date(g.purchaseDate).toLocaleDateString():"N/A",nextMaintenance:g.warrantyExpiry?new Date(g.warrantyExpiry).toLocaleDateString():"N/A"}));s(b)}catch(f){console.error(f),st.error("Failed to load equipment")}finally{o(!1)}},x=async f=>{try{await Ai.addEquipment({name:f.name,status:f.status==="Working"?"Operational":f.status,purchaseDate:f.lastMaintenance,warrantyExpiry:f.nextMaintenance}),st.success("Equipment added successfully"),d(),l(!1)}catch{st.error("Failed to add equipment")}},u=async(f,b)=>{try{const g=b==="Working"?"Operational":b;await Ai.updateEquipment(f,{status:g}),st.success(`Status updated to ${b}`),d()}catch{st.error("Failed to update status")}},h=f=>{const b={Working:{gradient:"from-emerald-500 to-emerald-600",icon:Qt,shadow:"shadow-emerald-500/50"},"Under Maintenance":{gradient:"from-amber-500 to-orange-600",icon:Kl,shadow:"shadow-amber-500/50"},"Out of Order":{gradient:"from-red-500 to-red-600",icon:zr,shadow:"shadow-red-500/50"}},{gradient:g,icon:j,shadow:A}=b[f]||b.Working;return e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-xl bg-gradient-to-r ${g} text-white text-xs font-black shadow-lg ${A} hover:scale-110 transition-all duration-300 cursor-pointer`,children:[e.jsx(j,{size:14,strokeWidth:2.5}),f]})},p=f=>({Working:"emerald","Under Maintenance":"amber","Out of Order":"red"})[f]||"emerald";return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 rounded-xl sm:rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6 flex-shrink-0",children:e.jsx(Kl,{size:24,className:"sm:w-7 sm:h-7",strokeWidth:2.5})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Equipment Maintenance"}),e.jsx("span",{className:"px-2 py-0.5 bg-gradient-to-r from-violet-500 to-purple-600 text-white text-[10px] font-black rounded-md shadow-sm animate-pulse flex-shrink-0",children:"PREMIUM "})]}),e.jsx("p",{className:"text-slate-600 text-xs sm:text-sm mt-1",children:"Track and manage gym equipment status"})]})]}),e.jsxs("button",{onClick:()=>l(!0),className:"group flex items-center justify-center gap-2 px-4 sm:px-5 py-2.5 sm:py-3 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-lg sm:rounded-xl text-xs sm:text-sm font-bold shadow-xl shadow-violet-500/50 hover:shadow-2xl hover:shadow-violet-500/60 hover:scale-105 transition-all w-full sm:w-auto",children:[e.jsx(wt,{size:16,strokeWidth:2.5,className:"sm:w-[18px] sm:h-[18px] transition-all duration-300 group-hover:scale-110 group-hover:rotate-90"}),"Add Equipment"]})]})})]}),e.jsx("div",{className:"md:hidden space-y-3 sm:space-y-4 mb-6",children:t.map(f=>e.jsx(Ya,{title:f.name,badge:f.status,badgeColor:p(f.status),fields:[{label:"Last Maintenance",value:f.lastMaintenance,icon:Ve},{label:"Next Maintenance",value:f.nextMaintenance,icon:Ve}],actions:[{label:"Mark as Working",onClick:()=>u(f.id,"Working"),show:f.status!=="Working"},{label:"Mark as Maintenance",onClick:()=>u(f.id,"Under Maintenance"),show:f.status!=="Under Maintenance"},{label:"Mark as Broken",onClick:()=>u(f.id,"Out of Order"),show:f.status!=="Out of Order"}].filter(b=>b.show!==!1)},f.id))}),e.jsxs("div",{className:"hidden md:block group relative bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden hover:shadow-2xl hover:border-violet-200 transition-all duration-500 transform hover:-translate-y-1",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50/30 to-purple-50/30 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e.jsx("div",{className:"relative z-10 overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left text-sm",children:[e.jsx("thead",{className:"bg-slate-50/50 border-b border-slate-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Equipment"}),e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Status"}),e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Last Maintenance"}),e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Next Maintenance"}),e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs text-right hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:t.map(f=>e.jsxs("tr",{className:"group/row hover:bg-gradient-to-r hover:from-violet-50/50 hover:to-purple-50/50 transition-all duration-300 cursor-pointer hover:shadow-md",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-violet-100 to-purple-100 text-violet-600 flex items-center justify-center shadow-md transition-all duration-500 group-hover/row:scale-125 group-hover/row:bg-gradient-to-br group-hover/row:from-violet-500 group-hover/row:to-purple-600 group-hover/row:text-white group-hover/row:shadow-xl group-hover/row:rotate-6",children:e.jsx(Kl,{size:18,strokeWidth:2.5})}),e.jsx("span",{className:"font-bold text-slate-800 group-hover/row:text-violet-700 group-hover/row:translate-x-1 transition-all duration-300",children:f.name})]})}),e.jsx("td",{className:"px-6 py-4",children:h(f.status)}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2 text-slate-600 font-semibold",children:[e.jsx(Ve,{size:14,className:"text-slate-400"}),f.lastMaintenance]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-bold",children:[e.jsx(Ve,{size:14,className:"text-violet-400"}),f.nextMaintenance]})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsxs("select",{value:f.status,onChange:b=>u(f.id,b.target.value),className:"px-3 py-2 text-xs font-bold border-2 border-slate-200 rounded-lg bg-white hover:border-violet-300 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 transition-all duration-300 cursor-pointer",children:[e.jsx("option",{value:"Working",children:"Working"}),e.jsx("option",{value:"Under Maintenance",children:"Maintenance"}),e.jsx("option",{value:"Out of Order",children:"Broken"})]})})]},f.id))})]})})]}),e.jsx(rt,{isOpen:a,onClose:()=>l(!1),title:"Create Equipment",children:e.jsx(pD,{isOpen:a,onClose:()=>l(!1),onAdd:x})})]})},D0={getAllInventory:async()=>(await ye.get("/inventory")).data,addInventoryItem:async t=>(await ye.post("/inventory",t)).data,updateInventoryItem:async(t,s)=>(await ye.patch(`/inventory/${t}`,s)).data,recordUsage:async t=>(await ye.post("/inventory/usage",t)).data,receiveStock:async t=>(await ye.post("/inventory/restock",t)).data,deleteInventoryItem:async t=>(await ye.delete(`/inventory/${t}`)).data},gD=()=>{const[t,s]=v.useState(""),[a,l]=v.useState("All"),[i,o]=v.useState([]),[d,x]=v.useState(!0);v.useEffect(()=>{u()},[]);const u=async()=>{try{x(!0);const j=await D0.getAllInventory();o(j)}catch(j){console.error(j),st.error("Failed to load inventory")}finally{x(!1)}},h=j=>{const A=j==="Low Stock",w=j==="Out of Stock";let k,C,L;w?(k="from-red-500 to-red-600",C=zr,L="shadow-red-500/50"):A?(k="from-amber-500 to-orange-600",C=zr,L="shadow-amber-500/50"):(k="from-emerald-500 to-emerald-600",C=Qt,L="shadow-emerald-500/50");const N=C;return e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-xl bg-gradient-to-r ${k} text-white text-xs font-black shadow-lg ${L} hover:scale-110 transition-all duration-300 cursor-pointer`,children:[e.jsx(N,{size:14,strokeWidth:2.5}),j]})},p=j=>j==="Out of Stock"?"red":j==="Low Stock"?"amber":"emerald",f=i.filter(j=>j.status==="Low Stock"||j.status==="Out of Stock").length,b=i.filter(j=>(a==="All"||j.category===a)&&j.itemName.toLowerCase().includes(t.toLowerCase())),g=["All",...new Set(i.map(j=>j.category))];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 rounded-xl sm:rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6 flex-shrink-0",children:e.jsx(ol,{size:24,className:"sm:w-7 sm:h-7",strokeWidth:2.5})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Inventory Management"}),e.jsx("span",{className:"px-2 py-0.5 bg-gradient-to-r from-violet-500 to-purple-600 text-white text-[10px] font-black rounded-md shadow-sm animate-pulse flex-shrink-0",children:"PREMIUM "})]}),e.jsx("p",{className:"text-slate-600 text-xs sm:text-sm mt-1",children:"Track gym supplies and equipment stock"})]})]}),e.jsxs("button",{onClick:async()=>{const j=prompt("Item Name:");if(!j)return;const A=prompt("Category:","Supplies"),w=prompt("Quantity:","10");try{await D0.addInventoryItem({itemName:j,category:A,quantity:w,unit:"pcs",minThreshold:5}),st.success("Item added"),u()}catch{st.error("Failed to add item")}},className:"group flex items-center justify-center gap-2 px-4 sm:px-5 py-2.5 sm:py-3 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-lg sm:rounded-xl text-xs sm:text-sm font-bold shadow-xl shadow-violet-500/50 hover:shadow-2xl hover:shadow-violet-500/60 hover:scale-105 transition-all w-full sm:w-auto",children:[e.jsx(wt,{size:16,strokeWidth:2.5,className:"sm:w-[18px] sm:h-[18px] transition-all duration-300 group-hover:scale-110 group-hover:rotate-90"}),"Add Item"]})]})})]}),f>0&&e.jsxs("div",{className:"mb-6 sm:mb-8 group relative bg-white rounded-xl sm:rounded-2xl shadow-lg border border-red-100 p-1 overflow-hidden animate-fade-in",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-50 to-orange-50 opacity-50"}),e.jsxs("div",{className:"relative p-3 sm:p-4 flex flex-col sm:flex-row items-start sm:items-center gap-3 sm:gap-4",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg sm:rounded-xl bg-gradient-to-br from-red-500 to-orange-600 flex items-center justify-center text-white shadow-lg shadow-red-500/30 animate-pulse flex-shrink-0",children:e.jsx(zr,{size:18,className:"sm:w-5 sm:h-5",strokeWidth:2.5})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-red-800 font-black text-xs sm:text-sm uppercase tracking-wider",children:"Attention Needed"}),e.jsxs("p",{className:"text-red-600 font-bold text-xs sm:text-sm",children:[f," items are running low or out of stock. Please restock soon."]})]}),e.jsx("button",{className:"px-3 sm:px-4 py-1.5 sm:py-2 bg-white text-red-600 text-[10px] sm:text-xs font-black uppercase tracking-wider rounded-lg border border-red-100 shadow-sm hover:shadow-md hover:scale-105 transition-all w-full sm:w-auto",children:"View Items"})]})]}),e.jsxs("div",{className:"mb-4 sm:mb-6 flex flex-col gap-3 sm:gap-4",children:[e.jsxs("div",{className:"relative flex-1 group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(tt,{size:16,className:"sm:w-[18px] sm:h-[18px] text-slate-400 group-focus-within:text-violet-500 transition-colors"})}),e.jsx("input",{type:"text",placeholder:"Search inventory...",value:t,onChange:j=>s(j.target.value),className:"block w-full pl-10 pr-3 py-2.5 sm:py-3 border-2 border-slate-200 rounded-lg sm:rounded-xl leading-5 bg-white placeholder-slate-400 focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 transition-all duration-300 font-semibold text-slate-700 text-sm"})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(ks,{size:16,className:"sm:w-[18px] sm:h-[18px] text-slate-400 group-focus-within:text-violet-500 transition-colors"})}),e.jsx("select",{value:a,onChange:j=>l(j.target.value),className:"block w-full pl-10 pr-10 py-2.5 sm:py-3 border-2 border-slate-200 rounded-lg sm:rounded-xl leading-5 bg-white focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 transition-all duration-300 font-semibold text-slate-700 appearance-none cursor-pointer text-sm",children:g.map(j=>e.jsx("option",{value:j,children:j},j))}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none",children:e.jsx(Yj,{size:14,className:"sm:w-4 sm:h-4 text-slate-400"})})]})]}),e.jsx("div",{className:"md:hidden space-y-3 sm:space-y-4 mb-6",children:b.map(j=>e.jsx(Ya,{title:j.itemName,subtitle:j.category,badge:j.status,badgeColor:p(j.status),fields:[{label:"Quantity",value:j.quantity},{label:"Min Stock",value:j.minThreshold}],actions:[{label:"Restock",onClick:async()=>{const A=prompt("Amount received:");if(A)try{await D0.receiveStock({itemId:j.id,quantity:A}),st.success("Restocked"),u()}catch{}}},{label:"Use",onClick:async()=>{const A=prompt("Amount used:");if(A)try{await D0.recordUsage({itemId:j.id,quantity:A}),st.success("Recorded"),u()}catch{}}}]},j.id))}),e.jsxs("div",{className:"hidden md:block group relative bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden hover:shadow-2xl hover:border-violet-200 transition-all duration-500 transform hover:-translate-y-1",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50/30 to-purple-50/30 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e.jsx("div",{className:"relative z-10 overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left text-sm",children:[e.jsx("thead",{className:"bg-slate-50/50 border-b border-slate-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Item Name"}),e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Category"}),e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Quantity"}),e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Min Stock"}),e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Status"}),e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs text-right hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:b.map(j=>e.jsxs("tr",{className:"group/row hover:bg-gradient-to-r hover:from-violet-50/50 hover:to-purple-50/50 transition-all duration-300 cursor-pointer hover:shadow-md",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-violet-100 to-purple-100 text-violet-600 flex items-center justify-center shadow-md transition-all duration-500 group-hover/row:scale-125 group-hover/row:bg-gradient-to-br group-hover/row:from-violet-500 group-hover/row:to-purple-600 group-hover/row:text-white group-hover/row:shadow-xl group-hover/row:rotate-6",children:e.jsx(ol,{size:18,strokeWidth:2.5})}),e.jsx("span",{className:"font-bold text-slate-800 group-hover/row:text-violet-700 group-hover/row:translate-x-1 transition-all duration-300",children:j.itemName})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-lg text-xs font-bold bg-slate-100 text-slate-600 group-hover/row:bg-white group-hover/row:shadow-sm transition-all duration-300",children:j.category})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"font-black text-slate-700",children:[j.quantity," ",j.unit]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-slate-500 font-semibold",children:j.minThreshold})}),e.jsx("td",{className:"px-6 py-4",children:h(j.status)}),e.jsxs("td",{className:"px-6 py-4 text-right",children:[e.jsx("button",{onClick:async()=>{const A=prompt("Add to stock:","10");A&&(await D0.receiveStock({itemId:j.id,quantity:A}),st.success("Added"),u())},className:"text-emerald-500 hover:text-emerald-700 font-bold text-xs transition-colors mr-3",children:"+ Stock"}),e.jsx("button",{onClick:async()=>{confirm("Delete this item?")&&(await D0.deleteInventoryItem(j.id),st.success("Deleted"),u())},className:"text-red-400 hover:text-red-600 font-bold text-xs transition-colors",children:"Del"})]})]},j.id))})]})})]})]})},Mg={getAllAnnouncements:async()=>(await ye.get("/announcements")).data,addAnnouncement:async t=>(await ye.post("/announcements",t)).data},bD=({audience:t})=>{const s={"All Members":1240,"Active Members":850,"Expired Members":390,"Staff Only":45,"Trainers Only":12};return e.jsxs("div",{className:"mt-4 p-4 bg-indigo-50/50 rounded-2xl border border-indigo-100 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-white flex items-center justify-center text-indigo-600 shadow-sm",children:e.jsx(_t,{size:16})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-indigo-600 uppercase tracking-widest",children:"Estimated Reach"}),e.jsxs("p",{className:"text-sm font-bold text-slate-700",children:[s[t]||0," People"]})]})]}),e.jsxs("div",{className:"flex -space-x-2",children:[[1,2,3].map(a=>e.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-white bg-slate-200"},a)),e.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-white bg-indigo-100 flex items-center justify-center text-[8px] font-black text-indigo-600",children:"+"})]})]})},vD=({isOpen:t,onClose:s,onSuccess:a})=>{const[l,i]=v.useState({title:"",message:"",targetAudience:"All Members",scheduledTime:"",priority:"Normal",broadcastType:"Now"}),[o,d]=v.useState(!1),x=["All Members","Active Members","Expired Members","Staff Only","Trainers Only"],u=["Normal","High","Urgent"],h=async p=>{p.preventDefault(),d(!0);try{await Mg.addAnnouncement({title:l.title,message:l.message,priority:l.priority.toLowerCase(),targetAudience:l.targetAudience.toLowerCase()}),st.success("Announcement broadcasted successfully!"),a(),s()}catch(f){console.error(f),st.error(f.response?.data?.message||"Failed to broadcast announcement")}finally{d(!1)}};return e.jsxs("form",{onSubmit:h,className:"flex flex-col h-full bg-gray-50/50",children:[e.jsxs("div",{className:"flex-1 overflow-y-auto p-8 space-y-10 custom-scrollbar pb-12",children:[e.jsxs("div",{className:"bg-slate-900 rounded-[32px] p-8 text-white relative overflow-hidden group shadow-2xl",children:[e.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-indigo-500 rounded-full blur-[80px] opacity-20 group-hover:opacity-40 transition-opacity duration-700"}),e.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-white/10 backdrop-blur-md rounded-full flex items-center justify-center mb-4 border border-white/20 shadow-inner",children:e.jsx(yn,{size:40,className:"text-indigo-400 animate-pulse"})}),e.jsx("h3",{className:"text-2xl font-black tracking-tight",children:"Broadcast Message"}),e.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-[0.2em] mt-2",children:"Send updates to your gym community"})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-4",children:"Announcement Title"}),e.jsxs("div",{className:"relative",children:[e.jsx(nl,{className:"absolute left-6 top-1/2 -translate-y-1/2 text-indigo-400",size:20}),e.jsx("input",{required:!0,type:"text",placeholder:"Summer Bootcamp 2024 is here!",className:"w-full pl-14 pr-6 py-5 bg-white border-2 border-slate-100 rounded-[28px] text-sm font-bold text-slate-700 focus:outline-none focus:border-indigo-500 transition-all shadow-sm group-hover:shadow-md",value:l.title,onChange:p=>i({...l,title:p.target.value})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-4",children:"Detailed Message"}),e.jsx("textarea",{required:!0,rows:"5",placeholder:"Type your message here... You can use emojis too! ",className:"w-full p-8 bg-white border-2 border-slate-100 rounded-[32px] text-sm font-medium text-slate-700 focus:outline-none focus:border-indigo-500 transition-all shadow-sm resize-none",value:l.message,onChange:p=>i({...l,message:p.target.value})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-4",children:"Target Audience"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:x.map(p=>e.jsx("button",{type:"button",onClick:()=>i({...l,targetAudience:p}),className:`px-4 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all border-2 ${l.targetAudience===p?"bg-indigo-600 border-indigo-600 text-white shadow-lg shadow-indigo-200":"bg-white border-slate-100 text-slate-400 hover:border-indigo-100 hover:text-indigo-600"}`,children:p},p))}),e.jsx(bD,{audience:l.targetAudience})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-4",children:"Broadcasting Schedule"}),e.jsx("div",{className:"flex p-1 bg-white border-2 border-slate-100 rounded-2xl",children:["Now","Scheduled"].map(p=>e.jsx("button",{type:"button",onClick:()=>i({...l,broadcastType:p}),className:`flex-1 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${l.broadcastType===p?"bg-slate-900 text-white shadow-lg":"text-slate-400"}`,children:p},p))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-4",children:"Urgency Level"}),e.jsx("div",{className:"flex gap-2",children:u.map(p=>e.jsx("button",{type:"button",onClick:()=>i({...l,priority:p}),className:`flex-1 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all border-2 ${l.priority===p?p==="Urgent"?"bg-rose-600 border-rose-600 text-white shadow-rose-200":"bg-slate-900 border-slate-900 text-white shadow-slate-200":"bg-white border-slate-100 text-slate-400"}`,children:p},p))})]})]}),l.broadcastType==="Scheduled"&&e.jsxs("div",{className:"space-y-4 animate-in slide-in-from-top-4 duration-300",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-4",children:"Publish Date & Time"}),e.jsxs("div",{className:"relative",children:[e.jsx(Qe,{className:"absolute left-6 top-1/2 -translate-y-1/2 text-slate-300",size:18}),e.jsx("input",{type:"datetime-local",className:"w-full pl-14 pr-6 py-5 bg-white border-2 border-slate-100 rounded-[28px] text-sm font-bold text-slate-700 focus:outline-none focus:border-indigo-500 transition-all shadow-sm",value:l.scheduledTime,onChange:p=>i({...l,scheduledTime:p.target.value})})]})]})]})]}),e.jsxs("div",{className:"shrink-0 p-8 bg-white border-t border-slate-50 flex gap-4 shadow-[0_-10px_40px_rgba(0,0,0,0.03)]",children:[e.jsx("button",{type:"button",onClick:s,className:"flex-1 py-5 bg-slate-50 text-slate-400 rounded-[24px] font-black uppercase tracking-widest hover:bg-slate-100 hover:text-slate-600 transition-all",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:o,className:"flex-[2] py-5 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-[24px] font-black uppercase tracking-widest shadow-2xl shadow-indigo-500/30 hover:shadow-indigo-500/50 transition-all transform hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50 flex items-center justify-center gap-3",children:o?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white/20 border-t-white rounded-full animate-spin"}),e.jsx("span",{children:"Processing..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Fc,{size:20}),e.jsx("span",{children:l.broadcastType==="Now"?"Broadcast Now":"Schedule Broadcast"})]})})]})]})},yD=()=>{const[t,s]=v.useState([]),[a,l]=v.useState(!1),[i,o]=v.useState(!0);v.useEffect(()=>{u()},[]);const d=h=>{const p={high:{gradient:"from-rose-500 to-red-600",bg:"bg-rose-50",text:"text-rose-700",border:"border-rose-100",icon:hs,shadow:"shadow-rose-500/20"},medium:{gradient:"from-amber-500 to-orange-600",bg:"bg-amber-50",text:"text-amber-700",border:"border-amber-100",icon:Yn,shadow:"shadow-amber-500/20"},low:{gradient:"from-indigo-500 to-blue-600",bg:"bg-indigo-50",text:"text-indigo-700",border:"border-indigo-100",icon:Yn,shadow:"shadow-indigo-500/20"}};return p[h]||p.medium},x=()=>{u()},u=async()=>{try{o(!0);const h=await Mg.getAllAnnouncements();s(h)}catch(h){console.error(h),st.error("Failed to load announcements")}finally{o(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-indigo-50/20 p-6 md:p-10 font-sans",children:[e.jsx("div",{className:"max-w-7xl mx-auto mb-12",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-8",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute -top-10 -left-10 w-40 h-40 bg-indigo-200 rounded-full blur-3xl opacity-20 pointer-events-none"}),e.jsxs("h1",{className:"relative text-3xl md:text-5xl font-black text-slate-800 flex items-center gap-4",children:[e.jsx(yn,{className:"text-indigo-600",size:40}),"Broadcast Center"]}),e.jsx("p",{className:"text-slate-500 mt-3 text-lg font-medium max-w-xl",children:"Keep your community engaged with updates, events, and important notices."})]}),e.jsxs("button",{onClick:()=>l(!0),className:"px-8 py-5 bg-slate-900 text-white rounded-[24px] font-black uppercase tracking-widest flex items-center justify-center gap-3 hover:bg-indigo-600 transition-all shadow-2xl shadow-slate-200 hover:shadow-indigo-500/40 hover:-translate-y-1",children:[e.jsx(wt,{size:22,className:"transition-transform group-hover:rotate-90"}),"New Announcement"]})]})}),e.jsx("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.length===0?e.jsxs("div",{className:"col-span-full py-24 flex flex-col items-center justify-center text-center animate-in fade-in slide-in-from-bottom-4 duration-700",children:[e.jsx("div",{className:"w-24 h-24 bg-white/60 backdrop-blur-md rounded-[40px] shadow-sm flex items-center justify-center text-slate-200 mb-6 border border-white/50",children:e.jsx(yn,{size:48,className:"opacity-20"})}),e.jsx("h3",{className:"text-xl font-black text-slate-800 tracking-tight",children:"No Broadcasts Yet"}),e.jsx("p",{className:"text-slate-500 text-sm font-medium max-w-sm mx-auto mt-2",children:"Your announcement history is empty. Start by sharing an update or event with your members."}),e.jsx("button",{onClick:()=>l(!0),className:"mt-8 px-8 py-3 bg-indigo-50 text-indigo-600 rounded-[24px] text-[10px] font-black uppercase tracking-widest hover:bg-indigo-600 hover:text-white transition-all shadow-sm",children:"Launch First Broadcast"})]}):t.map(h=>{const p=d(h.priority),f=p.icon;return e.jsxs("div",{className:"group relative bg-white/60 backdrop-blur-md rounded-[40px] border border-white/50 p-8 shadow-sm hover:shadow-2xl transition-all duration-500 hover:-translate-y-2 overflow-hidden",children:[e.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 bg-gradient-to-br ${p.gradient} opacity-[0.03] rounded-full -translate-y-1/2 translate-x-1/2 group-hover:scale-150 transition-transform duration-700`}),e.jsxs("div",{className:"flex justify-between items-start mb-8",children:[e.jsx("div",{className:`w-14 h-14 rounded-2xl bg-gradient-to-br ${p.gradient} flex items-center justify-center text-white shadow-xl ${p.shadow} group-hover:rotate-12 transition-transform`,children:e.jsx(f,{size:28})}),e.jsx("span",{className:`px-4 py-1.5 rounded-full ${p.bg} ${p.text} text-[10px] font-black uppercase tracking-widest border ${p.border}`,children:h.priority})]}),e.jsx("h3",{className:"text-xl font-black text-slate-800 mb-3 group-hover:text-indigo-600 transition-colors leading-tight",children:h.title}),e.jsx("p",{className:"text-slate-500 text-sm font-medium leading-relaxed mb-8 line-clamp-3",children:h.message}),e.jsxs("div",{className:"pt-6 border-t border-slate-50 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-slate-50 flex items-center justify-center text-slate-400",children:e.jsx(_t,{size:16})}),e.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:h.targetAudience})]}),e.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-bold text-slate-400 whitespace-nowrap",children:[e.jsx(Ve,{size:14,className:"text-slate-300"}),h.date]})]})]},h.id)})}),e.jsx(rt,{isOpen:a,onClose:()=>l(!1),title:"Create Announcement",children:e.jsx(vD,{isOpen:a,onClose:()=>l(!1),onSuccess:x})})]})},G1={getAllRewards:async()=>(await ye.get("/rewards")).data,addReward:async t=>(await ye.post("/rewards",t)).data},jD=({isOpen:t,onClose:s,onAdd:a})=>{const[l,i]=v.useState({name:"",points:"",description:""}),o=()=>{!l.name||!l.points||(a(l),i({name:"",points:"",description:""}),s())};return t?e.jsxs("div",{className:"h-full flex flex-col bg-white",children:[e.jsx("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between bg-slate-50/50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg",children:e.jsx(Dd,{size:20,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-black text-slate-900",children:"Add New Reward"}),e.jsx("p",{className:"text-slate-500 text-xs font-medium",children:"Create a new redeemable item"})]})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2",children:"Reward Name"}),e.jsx("input",{type:"text",value:l.name,onChange:d=>i({...l,name:d.target.value}),className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl font-bold text-slate-900 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 transition-all duration-300",placeholder:"e.g. Gym Bag"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2",children:"Points Cost"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",value:l.points,onChange:d=>i({...l,points:d.target.value}),className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl font-bold text-slate-900 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 transition-all duration-300 pl-10",placeholder:"1000"}),e.jsx(Wl,{size:16,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-amber-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2",children:"Description"}),e.jsx("textarea",{value:l.description,onChange:d=>i({...l,description:d.target.value}),className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl font-medium text-slate-900 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 transition-all duration-300 min-h-[120px] resize-none",placeholder:"Brief details..."})]})]}),e.jsx("div",{className:"p-6 border-t border-slate-100 bg-slate-50/50",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:s,className:"flex-1 py-3 rounded-xl font-bold text-slate-600 hover:bg-white border-2 border-slate-200 hover:border-slate-300 transition-all duration-300",children:"Cancel"}),e.jsx("button",{onClick:o,disabled:!l.name||!l.points,className:"flex-1 py-3 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-xl font-bold hover:shadow-xl hover:shadow-violet-500/50 transition-all duration-300 disabled:opacity-50",children:"Create Reward"})]})})]}):null},wD=()=>{const[t,s]=v.useState([]),[a,l]=v.useState(!0);v.useEffect(()=>{i()},[]);const i=async()=>{try{l(!0);const b=(await G1.getAllRewards()).map(g=>({id:g.id,name:g.member,points:g.points,description:g.description,category:"Custom"}));s(b)}catch(f){console.error(f),st.error("Failed to load rewards")}finally{l(!1)}},[o,d]=v.useState({checkIn:10,referral:500,review:100,classBooking:20}),[x,u]=v.useState(!1),h=async f=>{try{await G1.addReward({points:parseInt(f.points),description:f.name||f.description}),st.success("Reward added successfully"),i(),u(!1)}catch{st.error("Failed to add reward")}},p=f=>{s(t.filter(b=>b.id!==f))};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-6",children:[e.jsxs("div",{className:"mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(Dd,{size:28,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Rewards Program"}),e.jsx("span",{className:"px-2 py-0.5 bg-gradient-to-r from-violet-500 to-purple-600 text-white text-[10px] font-black rounded-md shadow-sm animate-pulse",children:"PREMIUM "})]}),e.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Configure loyalty points and redeemable rewards"})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"group relative bg-white rounded-2xl shadow-lg border border-slate-100 p-6 lg:col-span-1 overflow-hidden h-fit",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50/50 to-purple-50/50 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("h3",{className:"text-lg font-black text-slate-900 mb-6 flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-indigo-500 to-blue-600 flex items-center justify-center text-white shadow-md",children:e.jsx(Vh,{size:16,strokeWidth:2.5})}),"Earning Rules"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-slate-50/80 p-4 rounded-xl border border-slate-200 hover:border-violet-300 transition-colors duration-300",children:e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-bold text-sm",children:[e.jsx("div",{className:"p-1.5 bg-green-100 text-green-600 rounded-lg",children:e.jsx(ua,{size:14})}),"Per Check-in"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("input",{type:"number",value:o.checkIn,onChange:f=>d({...o,checkIn:parseInt(f.target.value)}),className:"w-16 p-1.5 bg-white border-2 border-slate-200 rounded-lg text-right font-black text-slate-900 focus:border-violet-500 focus:outline-none transition-all text-sm"}),e.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase",children:"PTS"})]})]})}),e.jsx("div",{className:"bg-slate-50/80 p-4 rounded-xl border border-slate-200 hover:border-violet-300 transition-colors duration-300",children:e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-bold text-sm",children:[e.jsx("div",{className:"p-1.5 bg-purple-100 text-purple-600 rounded-lg",children:e.jsx(_t,{size:14})}),"Per Referral"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("input",{type:"number",value:o.referral,onChange:f=>d({...o,referral:parseInt(f.target.value)}),className:"w-16 p-1.5 bg-white border-2 border-slate-200 rounded-lg text-right font-black text-slate-900 focus:border-violet-500 focus:outline-none transition-all text-sm"}),e.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase",children:"PTS"})]})]})}),e.jsx("div",{className:"bg-slate-50/80 p-4 rounded-xl border border-slate-200 hover:border-violet-300 transition-colors duration-300",children:e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-bold text-sm",children:[e.jsx("div",{className:"p-1.5 bg-amber-100 text-amber-600 rounded-lg",children:e.jsx(Wl,{size:14})}),"Google Review"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("input",{type:"number",value:o.review,onChange:f=>d({...o,review:parseInt(f.target.value)}),className:"w-16 p-1.5 bg-white border-2 border-slate-200 rounded-lg text-right font-black text-slate-900 focus:border-violet-500 focus:outline-none transition-all text-sm"}),e.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase",children:"PTS"})]})]})}),e.jsx("div",{className:"bg-slate-50/80 p-4 rounded-xl border border-slate-200 hover:border-violet-300 transition-colors duration-300",children:e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-bold text-sm",children:[e.jsx("div",{className:"p-1.5 bg-blue-100 text-blue-600 rounded-lg",children:e.jsx(Ve,{size:14})}),"Class Booking"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("input",{type:"number",value:o.classBooking,onChange:f=>d({...o,classBooking:parseInt(f.target.value)}),className:"w-16 p-1.5 bg-white border-2 border-slate-200 rounded-lg text-right font-black text-slate-900 focus:border-violet-500 focus:outline-none transition-all text-sm"}),e.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase",children:"PTS"})]})]})})]}),e.jsx("button",{className:"w-full mt-6 py-3 bg-gradient-to-r from-indigo-500 to-violet-600 text-white rounded-xl font-bold shadow-lg shadow-indigo-500/30 hover:shadow-xl hover:shadow-indigo-500/40 hover:scale-105 transition-all duration-300",children:"Save Configuration"})]})]}),e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-xl font-black text-slate-900",children:"Active Rewards"}),e.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 px-4 py-2 bg-white border-2 border-slate-200 text-slate-700 rounded-xl text-sm font-bold hover:border-violet-500 hover:text-violet-600 transition-all duration-300",children:[e.jsx(wt,{size:16,strokeWidth:2.5})," Add Reward"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.map(f=>e.jsxs("div",{className:"group relative bg-white p-6 rounded-2xl border border-slate-100 shadow-sm hover:shadow-xl hover:border-violet-200 transition-all duration-300 hover:-translate-y-1 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50/30 to-purple-50/30 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-10",children:e.jsx("button",{onClick:()=>p(f.id),className:"p-2 bg-white rounded-lg text-slate-400 hover:text-red-500 hover:bg-red-50 transition-colors shadow-sm",children:e.jsx(ms,{size:16})})}),e.jsxs("div",{className:"relative z-10 flex items-start gap-4",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-amber-400 to-orange-500 text-white rounded-2xl flex items-center justify-center shrink-0 shadow-lg shadow-amber-500/30 group-hover:scale-110 group-hover:rotate-6 transition-transform duration-300",children:e.jsx(bg,{size:28,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-slate-900 text-lg group-hover:text-violet-700 transition-colors",children:f.name}),e.jsxs("div",{className:"inline-flex items-center gap-1 text-amber-600 font-black text-sm mb-2 bg-amber-50 px-2 py-0.5 rounded-md border border-amber-100",children:[e.jsx(Wl,{size:12,fill:"currentColor"})," ",f.points," Points"]}),e.jsx("p",{className:"text-sm text-slate-600 font-medium leading-relaxed",children:f.description})]})]})]},f.id))})]})]}),e.jsx(rt,{isOpen:x,onClose:()=>u(!1),title:"Create Reward",children:e.jsx(jD,{isOpen:x,onClose:()=>u(!1),onAdd:h})})]})},$p={getAllFeedback:async()=>(await ye.get("/feedback")).data,addFeedback:async t=>(await ye.post("/feedback",t)).data,updateFeedbackStatus:async(t,s)=>(await ye.patch(`/feedback/${t}/status`,{status:s})).data},V1=({role:t="ADMIN"})=>{const s=t==="MEMBER",[a,l]=v.useState(!1),[i,o]=v.useState(!1),[d,x]=v.useState("Suggestion"),[u,h]=v.useState(0),[p,f]=v.useState(""),[b,g]=v.useState(!1),[j,A]=v.useState(!1),[w,k]=v.useState(null),[C,L]=v.useState(""),[N,P]=v.useState([]);v.useEffect(()=>{s||_()},[s]);const _=async()=>{try{const q=(await $p.getAllFeedback()).map(H=>({id:H.id,user:H.member,rating:H.rating,date:H.date,text:H.comment,source:"App",status:H.status}));P(q)}catch{st.error("Failed to load feedback")}},F=async T=>{try{await $p.updateFeedbackStatus(T,"Resolved"),st.success("Feedback marked as resolved"),_(),k(null),L("")}catch{st.error("Failed to resolve feedback")}},R=()=>{o(!0),setTimeout(()=>{l(!0),o(!1),alert("Successfully connected to 'Kiaan Gyms' Google Business Profile!")},1500)},B=async T=>{T.preventDefault(),g(!0);try{await $p.addFeedback({memberId:1,rating:u,comment:`[${d}] ${p}`}),A(!0)}catch{st.error("Failed to submit feedback")}finally{g(!1)}};return s?e.jsxs("div",{className:"fade-in space-y-8 p-4 md:p-8",children:[e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 pb-6 border-b-2 border-slate-100 mb-8",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-black text-slate-900 mb-2 tracking-tight",children:"Feedback Hub"}),e.jsx("p",{className:"text-slate-500 font-medium",children:"Help us evolve by sharing your experience."})]})}),e.jsx("div",{className:"max-w-4xl mx-auto",children:j?e.jsxs("div",{className:"bg-white rounded-[4rem] shadow-2xl p-20 text-center space-y-10 animate-in fade-in zoom-in duration-700 border border-slate-100",children:[e.jsxs("div",{className:"relative mx-auto w-24 h-24",children:[e.jsx("div",{className:"absolute inset-0 bg-emerald-500 rounded-full animate-ping opacity-20"}),e.jsx("div",{className:"relative w-full h-full bg-emerald-100 text-emerald-600 rounded-full flex items-center justify-center border-4 border-white shadow-xl",children:e.jsx(Ff,{size:36})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-4xl font-black text-slate-900 tracking-tight",children:"Submission Received!"}),e.jsx("p",{className:"text-slate-500 text-lg font-medium leading-relaxed max-w-sm mx-auto",children:"We've received your feedback. Our team will review it shortly."})]}),e.jsx("button",{onClick:()=>A(!1),className:"px-10 py-4 bg-slate-900 text-white rounded-2xl font-black uppercase tracking-widest text-[10px] hover:bg-slate-800 transition-all shadow-lg",children:"Send Another"})]}):e.jsx(is,{className:"overflow-hidden border-none shadow-xl shadow-slate-200/50 rounded-[32px]",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 h-full",children:[e.jsxs("div",{className:"md:col-span-2 bg-gradient-to-br from-violet-600 via-purple-700 to-fuchsia-800 p-10 text-white flex flex-col justify-between relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full blur-2xl -mr-16 -mt-16"}),e.jsxs("div",{className:"relative z-10 space-y-6",children:[e.jsx("div",{className:"w-14 h-14 bg-white/10 backdrop-blur-md rounded-2xl flex items-center justify-center border border-white/20 shadow-xl",children:e.jsx(sr,{size:28,className:"text-violet-200"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("h2",{className:"text-3xl font-black leading-tight",children:["Your Voice ",e.jsx("br",{}),"Matters."]}),e.jsx("p",{className:"text-violet-100 text-sm font-medium leading-relaxed opacity-80",children:"Every piece of feedback helps us build a more premium experience for you."})]})]}),e.jsx("div",{className:"relative z-10 pt-10",children:e.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-violet-200 uppercase tracking-widest",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-400 animate-pulse"}),"Active System"]})})]}),e.jsx("div",{className:"md:col-span-3 p-8 lg:p-12 bg-white",children:e.jsxs("form",{onSubmit:B,className:"space-y-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] px-1",children:"How would you rate us?"}),e.jsx("div",{className:"flex gap-3",children:[1,2,3,4,5].map(T=>e.jsx("button",{type:"button",onClick:()=>h(T),className:`w-12 h-12 rounded-xl flex items-center justify-center transition-all duration-300 ${u>=T?"bg-amber-100 text-amber-500 scale-105 shadow-md shadow-amber-200":"bg-slate-50 text-slate-300 hover:bg-slate-100"}`,children:e.jsx(Wl,{size:20,fill:u>=T?"currentColor":"none",strokeWidth:u>=T?0:2})},T))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] px-1",children:"What's this about?"}),e.jsxs("select",{value:d,onChange:T=>x(T.target.value),className:"w-full px-6 py-4 bg-slate-50 border-2 border-slate-100 rounded-2xl text-sm font-bold focus:outline-none focus:border-violet-500 transition-all cursor-pointer text-slate-700",children:[e.jsx("option",{children:"Suggestion"}),e.jsx("option",{children:"Complaint"}),e.jsx("option",{children:"Praise"}),e.jsx("option",{children:"Equipment Request"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] px-1",children:"Your Message"}),e.jsx("textarea",{rows:"4",value:p,onChange:T=>f(T.target.value),placeholder:"Tell us what's on your mind...",className:"w-full px-6 py-5 bg-slate-50 border-2 border-slate-100 rounded-2xl text-sm font-bold focus:outline-none focus:border-violet-500 transition-all resize-none placeholder:text-slate-300 text-slate-700"})]}),e.jsx(Ut,{type:"submit",disabled:b||u===0,className:"w-full py-5 rounded-2xl font-black uppercase tracking-widest text-sm shadow-xl shadow-violet-200",children:b?e.jsxs("div",{className:"flex items-center justify-center gap-3",children:[e.jsx(Hr,{className:"animate-spin",size:18}),"Transmitting..."]}):"Submit Feedback"})]})})]})})})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-6",children:[e.jsxs("div",{className:"mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(Gh,{size:28,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Member Feedback"}),e.jsx("span",{className:"px-2 py-0.5 bg-gradient-to-r from-violet-500 to-purple-600 text-white text-[10px] font-black rounded-md shadow-sm animate-pulse",children:"PREMIUM "})]}),e.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Monitor reviews and ratings from all sources"})]})]}),a?e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-emerald-50 text-emerald-700 rounded-xl font-bold text-sm border border-emerald-100 shadow-sm animate-fade-in",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),"Connected to Google Business"]}):e.jsxs("button",{onClick:R,disabled:i,className:"group flex items-center gap-2 px-5 py-3 bg-white border-2 border-slate-200 text-slate-600 rounded-xl text-sm font-bold shadow-sm hover:border-violet-500 hover:text-violet-600 hover:shadow-md transition-all duration-300",children:[i?e.jsx(Hr,{className:"animate-spin",size:18}):e.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg",alt:"G",className:"w-5 h-5 grayscale group-hover:grayscale-0 transition-all"}),i?"Connecting...":"Connect Google Reviews"]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"lg:col-span-1 group relative bg-white rounded-2xl shadow-lg border border-slate-100 p-8 hover:shadow-xl hover:border-amber-200 transition-all duration-300 overflow-hidden h-fit",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-50/50 to-orange-50/50 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-slate-400 font-black uppercase tracking-widest text-xs mb-2",children:"Overall Rating"}),e.jsx("div",{className:"text-6xl font-black bg-gradient-to-br from-amber-400 to-orange-500 bg-clip-text text-transparent mb-2",children:"4.8"}),e.jsx("div",{className:"flex justify-center gap-1 mb-2 text-amber-400",children:[1,2,3,4,5].map(T=>e.jsx(Wl,{size:24,fill:"currentColor",strokeWidth:0},T))}),e.jsx("div",{className:"text-sm font-bold text-slate-400",children:"Based on 128 Reviews"})]}),e.jsx("div",{className:"space-y-3 pt-6 border-t-2 border-slate-50",children:[5,4,3,2,1].map(T=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xs font-black text-slate-400 w-3",children:T}),e.jsx(Wl,{size:12,className:"text-slate-300",fill:"currentColor",strokeWidth:0}),e.jsx("div",{className:"flex-1 h-2.5 bg-slate-100 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ${T>=4?"bg-gradient-to-r from-emerald-400 to-emerald-500":T===3?"bg-gradient-to-r from-amber-400 to-amber-500":"bg-gradient-to-r from-red-400 to-red-500"}`,style:{width:T===5?"70%":T===4?"20%":"5%"}})}),e.jsx("span",{className:"text-[10px] font-bold text-slate-400 w-6 text-right",children:T===5?"70%":T===4?"20%":"5%"})]},T))})]})]}),e.jsx("div",{className:"lg:col-span-3 space-y-4",children:N.map(T=>e.jsxs("div",{className:"group relative bg-white p-6 rounded-2xl border border-slate-100 shadow-sm hover:shadow-xl hover:translate-x-1 transition-all duration-300 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-slate-50/50 to-white opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row gap-6",children:[e.jsxs("div",{className:"shrink-0 flex md:flex-col items-center gap-3 md:w-32 text-center md:border-r md:border-slate-100 md:pr-6",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-violet-100 to-purple-100 text-violet-600 rounded-full flex items-center justify-center font-black text-xl shadow-inner",children:T.user.charAt(0)}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-sm text-slate-900",children:T.user}),e.jsx("div",{className:"text-xs font-semibold text-slate-400 mt-0.5",children:T.date})]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{className:"flex gap-1 text-amber-400",children:[[...Array(T.rating)].map((q,H)=>e.jsx(Wl,{size:18,fill:"currentColor",strokeWidth:0},H)),[...Array(5-T.rating)].map((q,H)=>e.jsx(Wl,{size:18,className:"text-slate-200",fill:"currentColor",strokeWidth:0},H))]}),e.jsxs("div",{className:"flex gap-2",children:[T.status==="Resolved"&&e.jsx("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-lg text-xs font-bold border bg-emerald-50 text-emerald-600 border-emerald-100",children:"Resolved"}),e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-lg text-xs font-bold border ${T.source==="Google"?"bg-blue-50 text-blue-600 border-blue-100":"bg-indigo-50 text-indigo-600 border-indigo-100"}`,children:[T.source==="Google"&&e.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg",alt:"G",className:"w-3 h-3"}),T.source]})]})]}),e.jsxs("p",{className:"text-slate-600 font-medium leading-relaxed mb-4 italic",children:['"',T.text,'"']}),w===T.id?e.jsxs("div",{className:"mt-4 space-y-3 animate-in fade-in slide-in-from-top-2 duration-300",children:[e.jsx("textarea",{rows:"3",value:C,onChange:q=>L(q.target.value),placeholder:"Type your reply here to resolve this feedback...",className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:outline-none focus:border-violet-500 transition-all resize-none",autoFocus:!0}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>F(T.id),className:"px-4 py-2 bg-violet-600 text-white text-xs font-bold rounded-lg hover:bg-violet-700 transition-all shadow-sm flex items-center gap-2",children:[e.jsx(sr,{size:14})," Send & Resolve"]}),e.jsx("button",{onClick:()=>{k(null),L("")},className:"px-4 py-2 bg-slate-100 text-slate-600 text-xs font-bold rounded-lg hover:bg-slate-200 transition-all",children:"Cancel"})]})]}):e.jsxs("div",{className:"flex gap-4 pt-4 border-t border-slate-50",children:[T.status!=="Resolved"&&e.jsxs("button",{onClick:()=>k(T.id),className:"flex items-center gap-2 text-xs font-bold text-slate-400 hover:text-violet-600 transition-colors group/btn",children:[e.jsx(sr,{size:14,className:"group-hover/btn:scale-110 transition-transform"}),"Reply & Resolve"]}),e.jsxs("button",{className:"flex items-center gap-2 text-xs font-bold text-slate-400 hover:text-emerald-600 transition-colors group/btn",children:[e.jsx(Ff,{size:14,className:"group-hover/btn:scale-110 transition-transform"}),"Helpful"]})]})]})]})]},T.id))})]})]})},ND=()=>{const[t,s]=v.useState([]),[a,l]=v.useState(!0),[i,o]=v.useState(null),[d,x]=v.useState(""),[u,h]=v.useState(""),[p,f]=v.useState({}),[b,g]=v.useState(!0),j=v.useRef(null),A=()=>{j.current?.scrollIntoView({behavior:"smooth"})};v.useEffect(()=>{(async()=>{try{l(!0);const _=await z9();s(_||[])}catch(_){console.error("Failed to load chat users:",_),ft.error("Failed to load users")}finally{l(!1)}})();const P=()=>{window.innerWidth>=768&&g(!0)};return window.addEventListener("resize",P),()=>window.removeEventListener("resize",P)},[]);const w=(t||[]).filter(N=>N.name.toLowerCase().includes(d.toLowerCase())),k=N=>{if(N&&N.preventDefault(),!u.trim()||!i)return;const P=new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),_={id:Date.now(),text:u,time:P,sentBy:"staff"};f(F=>({...F,[i.id]:[...F[i.id]||[],_]})),h("")},C=N=>{if(!i)return;let P="";N==="payment"?P=`Hi ${i.name}, regarding the branch management...`:N==="booking"&&(P=`Hi ${i.name}, the training schedule has been updated.`),h(P)},L=i?p[i.id]||[{id:"welcome",text:`Hi ${i.name}! How can we help you today?`,time:"09:00 AM",sentBy:"member"}]:[];return v.useEffect(()=>{A()},[p,i]),e.jsxs("div",{className:"flex h-[calc(100vh-140px)] bg-white rounded-2xl shadow-2xl border border-slate-100 overflow-hidden relative",children:[e.jsxs("div",{className:`
                ${b?"w-full md:w-80 border-r border-slate-100 flex flex-col bg-slate-50":"hidden md:flex md:w-80 border-r border-slate-100 flex flex-col bg-slate-50"}
                absolute md:relative z-20 h-full transition-all duration-300
            `,children:[e.jsxs("div",{className:"p-4 bg-white border-b border-slate-100",children:[e.jsxs("h2",{className:"text-xl font-black text-slate-800 mb-4 flex items-center gap-2",children:[e.jsx(sr,{className:"text-violet-600",size:24}),"WhatsApp Chat"]}),e.jsxs("div",{className:"relative group",children:[e.jsx(tt,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-600 transition-colors"}),e.jsx("input",{type:"text",placeholder:"Search members...",value:d,onChange:N=>x(N.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-100 border-none rounded-xl text-sm focus:ring-2 focus:ring-violet-500/20 transition-all outline-none font-medium"})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:a?e.jsx("div",{className:"p-10 text-center text-slate-400 font-bold uppercase tracking-widest text-xs animate-pulse",children:"Loading Users..."}):w.map(N=>e.jsxs("button",{onClick:()=>{o(N),window.innerWidth<768&&g(!1)},className:`w-full p-4 flex items-center gap-3 hover:bg-white transition-all border-b border-slate-50/50 ${i?.id===N.id?"bg-white border-l-4 border-l-violet-600 shadow-sm":""}`,children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white font-bold text-lg shadow-sm",children:N.name.charAt(0)}),e.jsxs("div",{className:"flex-1 text-left min-w-0",children:[e.jsxs("div",{className:"flex justify-between items-start mb-0.5",children:[e.jsx("span",{className:"font-bold text-slate-800 truncate",children:N.name}),e.jsx("span",{className:"text-[10px] text-slate-400 font-bold whitespace-nowrap",children:"Now"})]}),e.jsx("div",{className:"text-xs text-slate-500 truncate font-black uppercase tracking-tighter opacity-70",children:N.role.replace("_"," ")})]})]},N.id))})]}),e.jsx("div",{className:`flex-1 flex flex-col bg-[#f0f2f5] relative ${i?"":"items-center justify-center"}`,children:i?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-4 bg-white border-b border-slate-100 flex items-center justify-between shadow-sm z-10",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>g(!0),className:"md:hidden p-2 -ml-2 text-slate-500 hover:text-violet-600 transition-colors",children:e.jsx(Gr,{size:24})}),e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white font-bold shadow-md",children:i.name.charAt(0)}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-slate-800 leading-tight tracking-tight",children:i.name}),e.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"}),e.jsx("span",{className:"text-[10px] text-emerald-600 font-black uppercase tracking-wider",children:i.role.replace("_"," ")})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"p-2 text-slate-400 hover:text-violet-600 hover:bg-violet-50 rounded-xl transition-all",children:e.jsx(Hs,{size:20})}),e.jsx("button",{className:"p-2 text-slate-400 hover:text-violet-600 hover:bg-violet-50 rounded-xl transition-all",children:e.jsx(_c,{size:20})})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-6 space-y-4 custom-scrollbar",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("span",{className:"bg-white/80 backdrop-blur px-3 py-1 rounded-lg text-[10px] font-black text-slate-500 uppercase tracking-widest border border-slate-200 shadow-sm",children:"Today"})}),L.map((N,P)=>e.jsx("div",{className:`flex ${N.sentBy==="staff"?"justify-end":"justify-start"} animate-in fade-in slide-in-from-bottom-2 duration-300`,style:{animationDelay:`${P*50}ms`},children:e.jsxs("div",{className:`
                                        max-w-[85%] md:max-w-[70%] p-3 rounded-2xl shadow-sm relative
                                        ${N.sentBy==="staff"?"bg-violet-600 text-white rounded-tr-none":"bg-white text-slate-800 rounded-tl-none border border-slate-100"}
                                    `,children:[e.jsx("p",{className:"text-sm font-medium leading-relaxed",children:N.text}),e.jsxs("div",{className:`flex items-center justify-end gap-1 mt-1 ${N.sentBy==="staff"?"text-violet-200":"text-slate-400"}`,children:[e.jsx("span",{className:"text-[9px] font-bold uppercase",children:N.time}),N.sentBy==="staff"&&e.jsx(Zj,{size:12})]})]})},N.id)),e.jsx("div",{ref:j})]}),e.jsxs("div",{className:"p-4 bg-white border-t border-slate-100 flex flex-col gap-3",children:[e.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-1 no-scrollbar",children:[e.jsxs("button",{onClick:()=>C("payment"),className:"whitespace-nowrap flex items-center gap-1.5 px-3 py-1.5 bg-violet-50 text-violet-600 rounded-lg text-[11px] font-bold border border-violet-100 hover:bg-violet-100 transition-colors shadow-sm",children:[e.jsx(Va,{size:14}),"Payment Reminder"]}),e.jsxs("button",{onClick:()=>C("booking"),className:"whitespace-nowrap flex items-center gap-1.5 px-3 py-1.5 bg-indigo-50 text-indigo-600 rounded-lg text-[11px] font-bold border border-indigo-100 hover:bg-indigo-100 transition-colors shadow-sm",children:[e.jsx(Ve,{size:14}),"Booking Confirmation"]})]}),e.jsxs("form",{onSubmit:k,className:"flex items-center gap-3",children:[e.jsx("button",{type:"button",className:"p-2 text-slate-400 hover:text-violet-600 transition-colors",children:e.jsx(iw,{size:22})}),e.jsx("div",{className:"flex-1 relative",children:e.jsx("input",{type:"text",value:u,onChange:N=>h(N.target.value),placeholder:"Type a message...",className:"w-full px-4 py-3 bg-slate-100 border-none rounded-xl text-sm outline-none focus:ring-2 focus:ring-violet-500/20 transition-all font-medium"})}),e.jsx("button",{type:"submit",disabled:!u.trim(),className:`p-3 rounded-xl transition-all shadow-lg active:scale-95 ${u.trim()?"bg-violet-600 text-white shadow-violet-200 hover:bg-violet-700 hover:scale-105":"bg-slate-200 text-slate-400 cursor-not-allowed"}`,children:e.jsx(Fc,{size:20})})]})]})]}):e.jsxs("div",{className:"text-center p-8",children:[e.jsx("div",{className:"w-20 h-20 bg-white rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-xl border border-slate-50 rotate-3 animate-bounce shadow-violet-100/50",children:e.jsx(sr,{size:40,className:"text-violet-600"})}),e.jsx("h2",{className:"text-2xl font-black text-slate-800 mb-2",children:"My WhatsApp Chat"}),e.jsx("p",{className:"text-slate-500 font-medium max-w-xs mx-auto text-sm leading-relaxed",children:"Select a Superadmin or Branch Staff from the sidebar to start a conversation."})]})}),e.jsx("style",{children:`
                .no-scrollbar::-webkit-scrollbar { display: none; }
                .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
                .custom-scrollbar::-webkit-scrollbar { width: 4px; }
                .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
                .custom-scrollbar::-webkit-scrollbar-thumb { background: #e2e8f0; border-radius: 10px; }
            `})]})},kD=()=>{const t=qt(),[s,a]=v.useState([]),[l,i]=v.useState(!0),[o,d]=v.useState("");v.useEffect(()=>{x()},[]);const x=async()=>{i(!0);try{const A=(await kw()).map(w=>({id:w.id,name:w.name,type:w.type||"Turnstile",status:w.status==="connected"||w.status==="Online"||w.status==="active"?"Online":"Offline",entriesToday:w.entriesToday||0,lastSync:w.lastSeen?new Date(w.lastSeen).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"Never"}));a(A)}catch(j){console.error("Failed to load devices",j)}finally{i(!1)}},u=()=>{x()},h=j=>{t("/operations/live-monitor")},p=j=>{const A=j==="Online";return e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest border-2 transition-all duration-300 ${A?"bg-emerald-50 text-emerald-600 border-emerald-200":"bg-red-50 text-red-600 border-red-200 animate-pulse"}`,children:[A?e.jsx(xm,{size:12,strokeWidth:3}):e.jsx($A,{size:12,strokeWidth:3}),j]})},f=s.filter(j=>j.name.toLowerCase().includes(o.toLowerCase())||j.type.toLowerCase().includes(o.toLowerCase())),b=s.filter(j=>j.status==="Online").length,g=s.reduce((j,A)=>j+(A.entriesToday||0),0);return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6",children:[e.jsxs("div",{className:"mb-8 relative max-w-7xl mx-auto",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsxs("div",{className:"relative bg-white/80 backdrop-blur-md rounded-2xl shadow-xl border border-slate-100 p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-600 to-indigo-700 flex items-center justify-center text-white shadow-lg shadow-violet-200 transition-all duration-500 hover:scale-110 hover:rotate-3",children:e.jsx(Jl,{size:28,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl sm:text-3xl font-black text-slate-900 tracking-tight flex items-center gap-2",children:["Device Dashboard",e.jsx("span",{className:"px-2 py-0.5 bg-violet-100 text-violet-600 text-[10px] font-black rounded-lg uppercase tracking-tighter",children:"Live Monitor"})]}),e.jsx("p",{className:"text-slate-500 font-medium text-sm mt-1",children:"Monitor entry hardware and sync status"})]})]}),e.jsxs("button",{onClick:u,disabled:l,className:`group flex items-center gap-2 px-6 py-3 bg-white border-2 border-slate-200 rounded-2xl text-sm font-black text-slate-700 hover:bg-slate-50 hover:border-violet-300 hover:text-violet-600 transition-all duration-300 shadow-sm ${l?"opacity-50 cursor-not-allowed":""}`,children:[e.jsx(Hr,{size:18,strokeWidth:2.5,className:`${l?"animate-spin":"group-hover:rotate-180 transition-transform duration-500"}`}),l?"Refreshing Hardware...":"Manual Refresh"]})]}),e.jsx("div",{className:"mt-6 flex flex-col md:flex-row gap-4 items-center w-full max-w-lg",children:e.jsxs("div",{className:"relative flex-1 group w-full",children:[e.jsx(tt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 transition-all",size:18}),e.jsx("input",{type:"text",placeholder:"Search devices by name or type...",className:"w-full pl-12 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-2xl text-xs font-medium text-slate-700 focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all",value:o,onChange:j=>d(j.target.value)})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8 max-w-7xl mx-auto",children:[e.jsx(qp,{icon:e.jsx(Jl,{size:24}),label:"Total Devices",value:s.length,color:"violet"}),e.jsx(qp,{icon:e.jsx($t,{size:24}),label:"Online Devices",value:b,color:"emerald",trend:`${b}/${s.length} Active`}),e.jsx(qp,{icon:e.jsx(_t,{size:24}),label:"Total Entries Today",value:g.toLocaleString(),color:"blue",trend:"Live Traffic"})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 max-w-[1600px] mx-auto auto-rows-fr",children:f.map(j=>e.jsxs("div",{className:"group relative bg-white rounded-[2rem] shadow-lg border border-slate-100 overflow-hidden hover:shadow-2xl hover:border-violet-200 transition-all duration-500 hover:-translate-y-2 flex flex-col h-full",children:[e.jsx("div",{className:"absolute -top-24 -right-24 w-48 h-48 bg-gradient-to-br from-violet-500/5 to-fuchsia-500/5 rounded-full blur-3xl group-hover:scale-150 transition-transform duration-700"}),e.jsx("div",{className:`absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r ${j.status==="Online"?"from-emerald-400 to-teal-500":"from-red-400 to-rose-500 animate-pulse"}`}),e.jsxs("div",{className:"p-6 sm:p-7 relative z-10",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center shadow-lg transition-all duration-500 group-hover:scale-110 group-hover:rotate-6 ${j.type==="Face ID"?"bg-gradient-to-br from-violet-50 to-indigo-50 text-violet-600 border border-violet-100":"bg-gradient-to-br from-blue-50 to-cyan-50 text-blue-600 border border-blue-100"}`,children:j.type==="Face ID"?e.jsx(Xn,{size:28}):e.jsx($t,{size:28})}),p(j.status)]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-black text-slate-900 group-hover:text-violet-600 transition-colors tracking-tight truncate w-full",title:j.name,children:j.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-1 truncate",children:[e.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] truncate",children:j.type}),e.jsx("div",{className:"w-1 h-1 rounded-full bg-slate-200 shrink-0"}),e.jsxs("span",{className:"text-[10px] font-bold text-slate-400 italic shrink-0",children:["#",j.id,"00-X"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-slate-50/50 rounded-2xl border border-slate-100 group-hover:bg-white group-hover:border-violet-100 transition-all duration-500",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1.5",children:"Entries"}),e.jsxs("div",{className:"flex items-baseline gap-1",children:[e.jsx("p",{className:"text-2xl font-black text-slate-900 leading-none",children:j.entriesToday}),e.jsx("span",{className:"text-[10px] font-bold text-emerald-500",children:"+12%"})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1.5",children:"Last Sync"}),e.jsxs("div",{className:"flex items-center gap-1.5 text-slate-600",children:[e.jsx(Hr,{size:12,className:"text-violet-500"}),e.jsx("p",{className:"text-xs font-black tracking-tight",children:j.lastSync})]})]})]})]}),e.jsx("div",{className:"flex-grow"}),e.jsxs("div",{className:"flex items-center justify-between pt-2 mt-4",children:[e.jsx("button",{onClick:()=>h(),className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-slate-900 text-white text-xs font-black hover:bg-violet-600 transition-all duration-300 shadow-lg shadow-slate-200 hover:shadow-violet-200 active:scale-95 shrink-0",children:"Monitor Activity"}),e.jsx("div",{className:"p-2 rounded-xl bg-slate-50 text-slate-400 hover:text-red-500 transition-colors cursor-pointer shrink-0",children:e.jsx(hs,{size:18})})]})]})]},j.id))}),e.jsx("div",{className:"mt-12 max-w-7xl mx-auto",children:e.jsxs("div",{className:"bg-indigo-50/50 rounded-2xl border border-indigo-100 p-6 flex flex-col sm:flex-row items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4 text-center sm:text-left",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-white flex items-center justify-center text-indigo-600 shadow-sm flex-shrink-0",children:e.jsx(Qt,{size:20})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-black text-indigo-900 tracking-tight",children:"Automatic Hardware Synchronization"}),e.jsx("p",{className:"text-xs text-slate-500 font-medium",children:"Device access syncs with Member Status and Attendance automatically."})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("span",{className:"px-3 py-1 bg-white border border-indigo-200 text-indigo-600 text-[10px] font-black rounded-lg uppercase tracking-widest",children:"Active"}),e.jsx("span",{className:"px-3 py-1 bg-indigo-600 text-white text-[10px] font-black rounded-lg uppercase tracking-widest",children:"Verified"})]})]})})]})},qp=({icon:t,label:s,value:a,color:l,trend:i})=>{const o={violet:"from-violet-500 to-purple-600 shadow-violet-200 text-violet-600",emerald:"from-emerald-500 to-teal-600 shadow-emerald-200 text-emerald-600",blue:"from-blue-500 to-indigo-600 shadow-blue-200 text-blue-600"};return e.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-xl border border-slate-100 flex items-center gap-5 hover:scale-[1.02] transition-all duration-300",children:[e.jsx("div",{className:`w-14 h-14 rounded-2xl bg-gradient-to-br ${o[l].split(" shadow")[0]} flex items-center justify-center text-white shadow-lg ${o[l].split(" ")[2]}`,children:t}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-1",children:s}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("p",{className:"text-3xl font-black text-slate-900 tracking-tight",children:a}),i&&e.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase",children:i})]})]})]})},dr=({label:t,value:s,isUnlimited:a,onChange:l,onToggleUnlimited:i,type:o="number",placeholder:d="0",unit:x="",options:u=null,unitValue:h="",onUnitChange:p=null})=>e.jsxs("div",{className:`space-y-2 p-4 rounded-2xl border-2 transition-all duration-300 ${a?"bg-slate-50 border-slate-100 opacity-80":"bg-white border-slate-100 hover:border-indigo-100"}`,children:[e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsx("label",{className:"text-xs font-black uppercase tracking-wider text-slate-500",children:t}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Unlimited"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:a,onChange:f=>i(f.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-9 h-5 bg-slate-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-indigo-600"})]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"relative flex-1",children:a?e.jsxs("div",{className:"w-full px-4 py-3 bg-slate-100 border-2 border-transparent rounded-xl text-sm font-black text-slate-400 flex items-center gap-2 italic",children:[e.jsx(cu,{size:18})," Unlimited"]}):e.jsxs(e.Fragment,{children:[e.jsx("input",{type:o,value:s,onChange:f=>l(f.target.value),disabled:a,min:"1",placeholder:d,className:"w-full px-4 py-3 bg-white border-2 border-slate-200 rounded-xl text-sm font-bold text-slate-700 focus:outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all placeholder:text-slate-300"}),x&&e.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-xs font-black text-slate-400 uppercase tracking-tighter",children:x})]})}),u&&!a&&e.jsx("div",{className:"w-32",children:e.jsx("select",{value:h,onChange:f=>p(f.target.value),className:"w-full h-full px-3 bg-slate-50 border-2 border-slate-100 rounded-xl text-[10px] font-black uppercase tracking-tighter text-slate-600 focus:outline-none focus:border-indigo-500",children:u.map(f=>e.jsx("option",{value:f.value,children:f.label},f.value))})})]})]}),SD=({isOpen:t,onClose:s,editId:a,onSuccess:l})=>{const[i,o]=v.useState({planName:"",price:"",billingCycle:"Monthly",description:"",status:!0,features:[],limits:{branches:{value:1,isUnlimited:!1},managers:{value:2,isUnlimited:!1},staff:{value:5,isUnlimited:!1},trainers:{value:3,isUnlimited:!1},members:{value:100,isUnlimited:!1}},opsLimits:{workouts:{value:10,isUnlimited:!1},diets:{value:10,isUnlimited:!1},classes:{value:5,isUnlimited:!1},checkins:{value:30,isUnlimited:!1},leads:{value:50,isUnlimited:!1}},benefits:[]}),[d,x]=v.useState({basic:!0,limits:!0,ops:!0,benefits:!0}),[u,h]=v.useState({}),[p,f]=v.useState(!1);v.useEffect(()=>{t&&(a?b(parseInt(a)):o({planName:"",price:"",billingCycle:"Monthly",description:"",status:!0,features:[],limits:{branches:{value:1,isUnlimited:!1},managers:{value:2,isUnlimited:!1},staff:{value:5,isUnlimited:!1},trainers:{value:3,isUnlimited:!1},members:{value:100,isUnlimited:!1}},opsLimits:{workouts:{value:10,isUnlimited:!1},diets:{value:10,isUnlimited:!1},classes:{value:5,isUnlimited:!1},checkins:{value:30,isUnlimited:!1},leads:{value:50,isUnlimited:!1}},benefits:[]}),h({}))},[t,a]);const b=async _=>{const R=(await xu()).find(B=>B.id===_);R&&o({planName:R.name,price:R.price,billingCycle:R.period,description:R.description||"",status:R.status==="Active",features:R.features||[],limits:R.limits||i.limits,opsLimits:R.opsLimits||i.opsLimits,benefits:R.benefits||[]})},g=_=>{x(F=>({...F,[_]:!F[_]}))},j=_=>{const{name:F,value:R}=_.target;o(B=>({...B,[F]:R})),u[F]&&h(B=>({...B,[F]:""}))},A=(_,F,R,B)=>{o(T=>({...T,[_]:{...T[_],[F]:{...T[_][F],[R]:B}}}))},w=()=>{o(_=>({..._,benefits:[..._.benefits,{id:Date.now(),name:"",limit:"5",isUnlimited:!1,unit:"Lifetime",gender:"All",room:""}]}))},k=_=>{o(F=>({...F,benefits:F.benefits.filter(R=>R.id!==_)}))},C=(_,F,R)=>{o(B=>({...B,benefits:B.benefits.map(T=>T.id===_?{...T,[F]:R}:T)}))},L=()=>{const _={};return i.planName.trim()||(_.planName="Plan name is required"),i.price||(_.price="Price is required"),i.description.trim()||(_.description="Description is required"),h(_),Object.keys(_).length===0},N=async _=>{if(_.preventDefault(),!L()){x(F=>({...F,basic:!0})),alert("Please fill in all required fields (Name, Price, Description).");return}f(!0);try{const F={name:i.planName,price:i.price,period:i.billingCycle,features:i.features,limits:i.limits,opsLimits:i.opsLimits,benefits:i.benefits,status:i.status?"Active":"Inactive",description:i.description};a?await yw(parseInt(a),F):await vw(F),l(),s()}catch(F){console.error("Error saving plan:",F),alert("Failed to save plan")}finally{f(!1)}},P=({icon:_,title:F,subtitle:R,section:B,active:T,color:q})=>e.jsxs("div",{onClick:()=>g(B),className:`flex items-center justify-between p-4 cursor-pointer rounded-2xl transition-all ${T?"bg-slate-50":"hover:bg-slate-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-xl bg-white shadow-sm border border-slate-100 ${q}`,children:e.jsx(_,{size:20})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-black text-slate-800 text-sm tracking-tight",children:F}),R&&e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:R})]})]}),T?e.jsx(Nl,{size:20,className:"text-slate-400"}):e.jsx(js,{size:20,className:"text-slate-400"})]});return e.jsxs("form",{onSubmit:N,className:"space-y-6 pb-24",children:[e.jsxs("div",{className:"bg-white rounded-[32px] border border-slate-100 shadow-sm overflow-hidden",children:[e.jsx(P,{icon:Kl,title:"Basic Plan Information",subtitle:"Plan core details and pricing",section:"basic",active:d.basic,color:"text-indigo-600"}),d.basic&&e.jsxs("div",{className:"p-6 pt-2 space-y-6 animate-in slide-in-from-top-2 duration-300",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-xs font-black text-slate-500 uppercase tracking-widest",children:"Plan Name *"}),e.jsx("input",{type:"text",name:"planName",className:`w-full px-4 py-3 bg-slate-50 border-2 border-transparent rounded-xl text-sm font-bold text-slate-700 focus:outline-none focus:bg-white focus:border-indigo-500 transition-all ${u.planName?"border-red-500 bg-white":""}`,placeholder:"e.g., Enterprise Premium",value:i.planName,onChange:j}),u.planName&&e.jsx("p",{className:"text-xs text-red-500 font-bold",children:u.planName})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-xs font-black text-slate-500 uppercase tracking-widest",children:"Price () *"}),e.jsx("input",{type:"number",name:"price",className:`w-full px-4 py-3 bg-slate-50 border-2 border-transparent rounded-xl text-sm font-bold text-slate-700 focus:outline-none focus:bg-white focus:border-indigo-500 transition-all ${u.price?"border-red-500 bg-white":""}`,placeholder:"4999",value:i.price,onChange:j})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-xs font-black text-slate-500 uppercase tracking-widest",children:"Billing Cycle"}),e.jsxs("select",{className:"w-full px-4 py-3 bg-slate-50 border-2 border-transparent rounded-xl text-sm font-bold text-slate-700 focus:outline-none focus:bg-white focus:border-indigo-500 transition-all",value:i.billingCycle,onChange:_=>o(F=>({...F,billingCycle:_.target.value})),children:[e.jsx("option",{value:"Monthly",children:"Monthly"}),e.jsx("option",{value:"Quarterly",children:"Quarterly"}),e.jsx("option",{value:"Yearly",children:"Yearly"}),e.jsx("option",{value:"Lifetime",children:"Lifetime / One-time"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-xs font-black text-slate-500 uppercase tracking-widest",children:"Description *"}),e.jsx("textarea",{name:"description",className:"w-full px-4 py-3 bg-slate-50 border-2 border-transparent rounded-xl text-sm font-bold text-slate-700 focus:outline-none focus:bg-white focus:border-indigo-500 transition-all min-h-[80px]",placeholder:"Describe who this plan is for...",value:i.description,onChange:j})]})]})]}),e.jsxs("div",{className:"bg-white rounded-[32px] border border-slate-100 shadow-sm overflow-hidden",children:[e.jsx(P,{icon:Tc,title:"Organization Limits",subtitle:"Control branches and accounts",section:"limits",active:d.limits,color:"text-emerald-600"}),d.limits&&e.jsxs("div",{className:"p-6 pt-2 grid grid-cols-1 md:grid-cols-2 gap-4 animate-in slide-in-from-top-2 duration-300",children:[e.jsx(dr,{label:"Max Branches",value:i.limits.branches.value,isUnlimited:i.limits.branches.isUnlimited,onChange:_=>A("limits","branches","value",_),onToggleUnlimited:_=>A("limits","branches","isUnlimited",_)}),e.jsx(dr,{label:"Max Managers",value:i.limits.managers.value,isUnlimited:i.limits.managers.isUnlimited,onChange:_=>A("limits","managers","value",_),onToggleUnlimited:_=>A("limits","managers","isUnlimited",_)}),e.jsx(dr,{label:"Max Staff Accounts",value:i.limits.staff.value,isUnlimited:i.limits.staff.isUnlimited,onChange:_=>A("limits","staff","value",_),onToggleUnlimited:_=>A("limits","staff","isUnlimited",_)}),e.jsx(dr,{label:"Max Trainers",value:i.limits.trainers.value,isUnlimited:i.limits.trainers.isUnlimited,onChange:_=>A("limits","trainers","value",_),onToggleUnlimited:_=>A("limits","trainers","isUnlimited",_)}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(dr,{label:"Max Members per Branch",value:i.limits.members.value,isUnlimited:i.limits.members.isUnlimited,onChange:_=>A("limits","members","value",_),onToggleUnlimited:_=>A("limits","members","isUnlimited",_)})})]})]}),e.jsxs("div",{className:"bg-white rounded-[32px] border border-slate-100 shadow-sm overflow-hidden",children:[e.jsx(P,{icon:$t,title:"Operational Limits",subtitle:"Workout, Diet & Lead controls",section:"ops",active:d.ops,color:"text-amber-600"}),d.ops&&e.jsxs("div",{className:"p-6 pt-2 grid grid-cols-1 md:grid-cols-2 gap-4 animate-in slide-in-from-top-2 duration-300",children:[e.jsx(dr,{label:"Active Workout Plans",value:i.opsLimits.workouts.value,isUnlimited:i.opsLimits.workouts.isUnlimited,onChange:_=>A("opsLimits","workouts","value",_),onToggleUnlimited:_=>A("opsLimits","workouts","isUnlimited",_)}),e.jsx(dr,{label:"Diet Plans",value:i.opsLimits.diets.value,isUnlimited:i.opsLimits.diets.isUnlimited,onChange:_=>A("opsLimits","diets","value",_),onToggleUnlimited:_=>A("opsLimits","diets","isUnlimited",_)}),e.jsx(dr,{label:"Classes / Schedule",value:i.opsLimits.classes.value,isUnlimited:i.opsLimits.classes.isUnlimited,onChange:_=>A("opsLimits","classes","value",_),onToggleUnlimited:_=>A("opsLimits","classes","isUnlimited",_)}),e.jsx(dr,{label:"Leads per Month",value:i.opsLimits.leads.value,isUnlimited:i.opsLimits.leads.isUnlimited,onChange:_=>A("opsLimits","leads","value",_),onToggleUnlimited:_=>A("opsLimits","leads","isUnlimited",_)})]})]}),e.jsxs("div",{className:"bg-white rounded-[32px] border border-slate-100 shadow-sm overflow-hidden",children:[e.jsx(P,{icon:Dd,title:"Member Benefit Usage Limits",subtitle:"Directly syncs with Benefit Tracking",section:"benefits",active:d.benefits,color:"text-rose-600"}),d.benefits&&e.jsxs("div",{className:"p-6 pt-2 space-y-4 animate-in slide-in-from-top-2 duration-300",children:[e.jsxs("div",{className:"flex justify-between items-center bg-rose-50/50 p-4 rounded-2xl border border-rose-100",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"text-[10px] font-black text-rose-600 uppercase tracking-widest mb-1",children:"Benefit Sync Active"}),e.jsx("p",{className:"text-xs font-bold text-slate-500",children:"Configure sessions/access per member tier."})]}),e.jsxs("button",{type:"button",onClick:w,className:"px-4 py-2 bg-rose-600 text-white rounded-xl text-xs font-black shadow-lg shadow-rose-200 flex items-center gap-2 hover:scale-105 active:scale-95 transition-all",children:[e.jsx(wt,{size:16})," Add Benefit"]})]}),i.benefits.map((_,F)=>e.jsxs("div",{className:"relative group animate-in zoom-in-95 duration-200",children:[e.jsx("button",{type:"button",onClick:()=>k(_.id),className:"absolute -right-2 -top-2 w-8 h-8 bg-white shadow-lg border border-slate-100 rounded-full flex items-center justify-center text-slate-400 hover:text-red-600 transition-all z-10",children:e.jsx(ms,{size:16})}),e.jsxs("div",{className:"p-6 bg-slate-50 rounded-[24px] border border-slate-100 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Select Benefit Name"}),e.jsx("input",{type:"text",value:_.name,onChange:R=>C(_.id,"name",R.target.value),placeholder:"e.g., Sauna Sessions",className:"w-full px-4 py-2 bg-white rounded-xl text-sm font-bold border-2 border-transparent focus:border-rose-500 outline-none transition-all"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Assigned Room / Facility"}),e.jsx("input",{type:"text",value:_.room||"",onChange:R=>C(_.id,"room",R.target.value),placeholder:"e.g., Room A, Sauna 1",className:"w-full px-4 py-2 bg-white rounded-xl text-sm font-bold border-2 border-transparent focus:border-rose-500 outline-none transition-all"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Gender Separation"}),e.jsxs("select",{value:_.gender||"All",onChange:R=>C(_.id,"gender",R.target.value),className:"w-full px-4 py-2 bg-white rounded-xl text-sm font-bold border-2 border-transparent focus:border-rose-500 outline-none transition-all cursor-pointer",children:[e.jsx("option",{value:"All",children:"All Genders"}),e.jsx("option",{value:"Male",children:"Male Only"}),e.jsx("option",{value:"Female",children:"Female Only"})]})]})}),e.jsx(dr,{label:"Quota Limit",value:_.limit,isUnlimited:_.isUnlimited,onChange:R=>C(_.id,"limit",R),onToggleUnlimited:R=>C(_.id,"isUnlimited",R),unitValue:_.unit,onUnitChange:R=>C(_.id,"unit",R),options:[{value:"Per Month",label:"Per Month"},{value:"Per Year",label:"Per Year"},{value:"Lifetime",label:"Entire Duration"}]})]})]},_.id)),i.benefits.length===0&&e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-slate-100 rounded-[32px]",children:[e.jsx(cu,{size:40,className:"mx-auto text-slate-200 mb-2"}),e.jsx("p",{className:"text-sm font-bold text-slate-400",children:"No member benefits configured for this plan."})]})]})]}),e.jsxs("div",{className:"fixed bottom-0 right-0 left-0 p-4 bg-white/80 backdrop-blur-md border-t border-slate-100 z-50 flex gap-4",children:[e.jsx("button",{type:"button",onClick:s,className:"flex-1 py-4 bg-slate-100 text-slate-600 rounded-2xl text-xs font-black uppercase tracking-widest hover:bg-slate-200 transition-all",children:"Cancel"}),e.jsxs("button",{type:"submit",disabled:p,className:"flex-[2] py-4 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-2xl text-xs font-black uppercase tracking-widest shadow-xl shadow-indigo-200 flex items-center justify-center gap-2 hover:shadow-indigo-300 transition-all active:scale-95",children:[e.jsx(na,{size:18}),p?"Saving Configuration...":a?"Update & Sync Plan":"Establish SaaS Plan"]})]})]})},CD=()=>{const[t,s]=v.useState(""),[a,l]=v.useState("all"),[i,o]=v.useState([]),[d,x]=v.useState(!0),[u,h]=v.useState(!1),[p,f]=v.useState(null);v.useEffect(()=>{b()},[]);const b=async()=>{x(!0);try{const P=(await xu()).map(_=>({id:_.id,planName:_.name,price:parseFloat(_.price),billingCycle:_.period,activeUsers:Math.floor(Math.random()*100),status:(_.status||"inactive").toLowerCase(),limits:_.limits||{branches:{value:1,isUnlimited:!1},members:{value:100,isUnlimited:!1}},benefitsCount:(_.benefits||[]).length}));o(P)}catch(N){console.error(N)}finally{x(!1)}},g=i.filter(N=>{const P=N.planName.toLowerCase().includes(t.toLowerCase()),_=a==="all"||N.status===a;return P&&_}),j=()=>{f(null),h(!0)},A=N=>{f(N),h(!0)},w=async N=>{window.confirm("Are you sure you want to delete this plan?")&&(await l7(N),b())},k=()=>{b(),h(!1)},C=N=>`${N.toLocaleString("en-IN")}`,L=({limit:N,icon:P})=>e.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1 bg-slate-50 border border-slate-100 rounded-lg text-slate-600",children:[e.jsx(P,{size:12,className:"text-slate-400"}),e.jsx("span",{className:"text-[10px] font-black uppercase",children:N?.isUnlimited?e.jsx(cu,{size:14,className:"text-indigo-600"}):N?.value||"0"})]});return d?e.jsx("div",{className:"p-6 text-center text-gray-600",children:"Loading plans..."}):e.jsxs("div",{className:"bg-gradient-to-br from-gray-50 via-white to-indigo-50/30 h-full w-full",children:[e.jsxs("div",{className:"mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-gray-100 p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 bg-clip-text text-transparent mb-2 flex items-center gap-2",children:[e.jsx(nl,{className:"text-indigo-600",size:28}),"SaaS Membership Plans"]}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Configure resource quotas and subscription tiers"})]}),e.jsxs("button",{className:"group relative px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl font-semibold shadow-lg hover:shadow-xl hover:shadow-indigo-500/50 hover:scale-105 hover:-translate-y-1 transition-all duration-300 flex items-center gap-2",onClick:j,children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 to-pink-600 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx(wt,{size:20,className:"relative transition-transform duration-300 group-hover:rotate-90"}),e.jsx("span",{className:"relative",children:"Create New Plan"})]})]})})]}),e.jsx("div",{className:"mb-6 bg-white/60 backdrop-blur-md rounded-xl shadow-lg border border-white/50 p-5 relative overflow-visible",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 overflow-visible",children:[e.jsxs("div",{className:"relative flex-1 group",children:[e.jsx(tt,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-indigo-500 transition-all duration-300"}),e.jsx("input",{type:"text",placeholder:"Search plans...",className:"w-full pl-12 pr-4 py-3 bg-white/80 border-2 border-gray-200 rounded-xl text-sm focus:outline-none focus:border-indigo-500 transition-all duration-300",value:t,onChange:N=>s(N.target.value)})]}),e.jsx("div",{className:"w-full sm:w-48 relative overflow-visible",children:e.jsx(us,{options:[{value:"all",label:"All Status"},{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}],value:a,onChange:l})})]})}),g.length>0?e.jsx("div",{className:"hidden md:block bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:e.jsxs("table",{className:"w-full border-separate border-spacing-0",children:[e.jsx("thead",{className:"bg-slate-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black uppercase text-slate-500 tracking-widest",children:"Plan Name"}),e.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black uppercase text-slate-500 tracking-widest",children:"Pricing"}),e.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black uppercase text-slate-500 tracking-widest",children:"Resource limits"}),e.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black uppercase text-slate-500 tracking-widest",children:"Benefits"}),e.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black uppercase text-slate-500 tracking-widest",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black uppercase text-slate-500 tracking-widest",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:g.map(N=>e.jsxs("tr",{className:"group hover:bg-slate-50/50 transition-all duration-200",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-indigo-50 text-indigo-600 flex items-center justify-center font-black text-lg shadow-inner",children:N.planName.charAt(0)}),e.jsx("span",{className:"font-bold text-slate-800 tracking-tight",children:N.planName})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-black text-slate-900 text-lg",children:C(N.price)}),e.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:N.billingCycle})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(L,{limit:N.limits?.branches,icon:Tc}),e.jsx(L,{limit:N.limits?.members,icon:_t})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"font-black text-rose-600",children:N.benefitsCount}),e.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Active"})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-4 py-1.5 rounded-full text-[10px] font-black uppercase tracking-widest shadow-sm ${N.status==="active"?"bg-emerald-50 text-emerald-600 border border-emerald-100":"bg-red-50 text-red-600 border border-red-100"}`,children:N.status})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-end gap-2 opacity-0 group-hover:opacity-100 transition-all",children:[e.jsx("button",{onClick:()=>A(N.id),className:"p-2.5 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 hover:scale-110 rounded-xl transition-all shadow-sm bg-white border border-slate-100",children:e.jsx(Md,{size:16})}),e.jsx("button",{onClick:()=>w(N.id),className:"p-2.5 text-slate-400 hover:text-red-600 hover:bg-red-50 hover:scale-110 rounded-xl transition-all shadow-sm bg-white border border-slate-100",children:e.jsx(ms,{size:16})})]})})]},N.id))})]})}):e.jsx("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-16 text-center",children:e.jsx("p",{className:"text-gray-500",children:"No plans found matching your criteria."})}),e.jsx("div",{className:"md:hidden space-y-4",children:g.map(N=>e.jsx(Ya,{title:N.planName,subtitle:`${C(N.price)} / ${N.billingCycle}`,badge:{label:N.status.toUpperCase(),color:N.status==="active"?"green":"red"},actions:[{label:"Edit",icon:Md,onClick:()=>A(N.id)},{label:"Delete",icon:ms,onClick:()=>w(N.id),variant:"danger"}]},N.id))}),e.jsx(rt,{isOpen:u,onClose:()=>h(!1),title:p?"Refine Subscription Tier":"Establish New SaaS Tier",children:e.jsx(SD,{isOpen:u,onClose:()=>h(!1),editId:p,onSuccess:k})})]})},AD=()=>{const t=qt(),s=Tr(),l=new URLSearchParams(s.search).get("edit"),[i,o]=v.useState({planName:"",price:"",billingCycle:"Monthly",description:"",status:!0,features:[],limits:{branches:{value:1,isUnlimited:!1},managers:{value:2,isUnlimited:!1},staff:{value:5,isUnlimited:!1},trainers:{value:3,isUnlimited:!1},members:{value:100,isUnlimited:!1}},opsLimits:{workouts:{value:10,isUnlimited:!1},diets:{value:10,isUnlimited:!1},classes:{value:5,isUnlimited:!1},checkins:{value:30,isUnlimited:!1},leads:{value:50,isUnlimited:!1}},benefits:[]}),[d,x]=v.useState({basic:!0,limits:!0,ops:!0,benefits:!0}),[u,h]=v.useState({}),[p,f]=v.useState(!1);v.useEffect(()=>{l&&b(parseInt(l))},[l]);const b=async _=>{const R=(await xu()).find(B=>B.id===_);R&&o({planName:R.name,price:R.price,billingCycle:R.period,description:R.description||"",status:R.status==="Active",features:R.features||[],limits:R.limits||i.limits,opsLimits:R.opsLimits||i.opsLimits,benefits:R.benefits||[]})},g=_=>{x(F=>({...F,[_]:!F[_]}))},j=_=>{const{name:F,value:R}=_.target;o(B=>({...B,[F]:R})),u[F]&&h(B=>({...B,[F]:""}))},A=(_,F,R,B)=>{o(T=>({...T,[_]:{...T[_],[F]:{...T[_][F],[R]:B}}}))},w=()=>{o(_=>({..._,benefits:[..._.benefits,{id:Date.now(),name:"",limit:"5",isUnlimited:!1,unit:"Per Month"}]}))},k=_=>{o(F=>({...F,benefits:F.benefits.filter(R=>R.id!==_)}))},C=(_,F,R)=>{o(B=>({...B,benefits:B.benefits.map(T=>T.id===_?{...T,[F]:R}:T)}))},L=()=>{const _={};return i.planName.trim()||(_.planName="Plan name is required"),i.price||(_.price="Price is required"),i.description.trim()||(_.description="Description is required"),h(_),Object.keys(_).length===0},N=async _=>{if(_.preventDefault(),!L()){x(F=>({...F,basic:!0})),alert("Please fill in all required fields (Name, Price, Description).");return}f(!0);try{const F={name:i.planName,price:i.price,period:i.billingCycle,features:i.features,limits:i.limits,opsLimits:i.opsLimits,benefits:i.benefits,status:i.status?"Active":"Inactive",description:i.description};l?await yw(parseInt(l),F):await vw(F),t("/superadmin/plans/list")}catch(F){console.error("Error saving plan:",F),alert("Failed to save plan")}finally{f(!1)}},P=({icon:_,title:F,subtitle:R,section:B,active:T,color:q})=>e.jsxs("div",{onClick:()=>g(B),className:`flex items-center justify-between p-5 cursor-pointer rounded-[24px] transition-all ${T?"bg-slate-50":"hover:bg-slate-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`p-3 rounded-2xl bg-white shadow-sm border border-slate-100 ${q}`,children:e.jsx(_,{size:24})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-black text-slate-800 tracking-tight",children:F}),R&&e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-[0.1em]",children:R})]})]}),T?e.jsx(Nl,{size:24,className:"text-slate-400"}):e.jsx(js,{size:24,className:"text-slate-400"})]});return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-indigo-50/30 py-8 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("button",{onClick:()=>t("/superadmin/plans/list"),className:"group flex items-center text-slate-500 hover:text-indigo-600 transition-all mb-8",children:[e.jsx(kn,{className:"w-5 h-5 mr-2 group-hover:-translate-x-1 transition-transform"}),e.jsx("span",{className:"font-bold text-sm tracking-tight",children:"Back to SaaS Plans"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-black text-slate-900 tracking-tighter",children:l?"Refine SaaS Tier":"Establish New Tier"}),e.jsx("p",{className:"text-slate-500 font-bold mt-1",children:"Configure global resource quotas and member benefits."})]}),e.jsxs("div",{className:"flex items-center gap-3 p-2 bg-indigo-50 rounded-2xl border border-indigo-100",children:[e.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${i.status?"text-indigo-600":"text-slate-400"}`,children:i.status?"Tier Publicly Active":"Tier Hidden / Draft"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:i.status,onChange:()=>o(_=>({..._,status:!_.status})),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-slate-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-gradient-to-r peer-checked:from-indigo-600 peer-checked:to-purple-600"})]})]})]}),e.jsxs("form",{onSubmit:N,className:"space-y-6 pb-24",children:[e.jsxs("div",{className:"bg-white rounded-[32px] border-2 border-slate-100 shadow-xl shadow-slate-100/50 overflow-hidden",children:[e.jsx(P,{icon:Kl,title:"Basic Configuration",subtitle:"Core identity and billing",section:"basic",active:d.basic,color:"text-indigo-600"}),d.basic&&e.jsxs("div",{className:"p-8 pt-2 space-y-6 animate-in slide-in-from-top-2 duration-300",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-xs font-black text-slate-500 uppercase tracking-[0.2em]",children:"Plan Designation *"}),e.jsx("input",{type:"text",name:"planName",className:`w-full px-6 py-4 bg-slate-50 border-2 border-transparent rounded-2xl text-lg font-black text-slate-800 placeholder:text-slate-300 focus:outline-none focus:bg-white focus:border-indigo-500 transition-all ${u.planName?"border-red-500 bg-white":""}`,placeholder:"e.g., Global Enterprise Plus",value:i.planName,onChange:j}),u.planName&&e.jsx("p",{className:"text-xs text-red-500 font-black italic",children:u.planName})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-xs font-black text-slate-500 uppercase tracking-[0.2em]",children:"Subscription Price () *"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-6 top-1/2 -translate-y-1/2 text-2xl font-black text-slate-300",children:""}),e.jsx("input",{type:"number",name:"price",className:`w-full pl-12 pr-6 py-4 bg-slate-50 border-2 border-transparent rounded-2xl text-2xl font-black text-slate-800 focus:outline-none focus:bg-white focus:border-indigo-500 transition-all ${u.price?"border-red-500 bg-white":""}`,placeholder:"9999",value:i.price,onChange:j})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-xs font-black text-slate-500 uppercase tracking-[0.2em]",children:"Billing Interval"}),e.jsxs("select",{className:"w-full px-6 py-5 bg-slate-50 border-2 border-transparent rounded-2xl text-sm font-black text-slate-600 uppercase tracking-widest focus:outline-none focus:bg-white focus:border-indigo-500 transition-all",value:i.billingCycle,onChange:_=>o(F=>({...F,billingCycle:_.target.value})),children:[e.jsx("option",{value:"Monthly",children:"Monthly Cycle"}),e.jsx("option",{value:"Quarterly",children:"Quarterly Cycle"}),e.jsx("option",{value:"Yearly",children:"Yearly Cycle"}),e.jsx("option",{value:"Lifetime",children:"One-time / Lifetime"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-xs font-black text-slate-500 uppercase tracking-[0.2em]",children:"Marketing Description *"}),e.jsx("textarea",{name:"description",className:"w-full px-6 py-4 bg-slate-50 border-2 border-transparent rounded-2xl text-sm font-bold text-slate-600 focus:outline-none focus:bg-white focus:border-indigo-500 transition-all min-h-[120px] resize-none",placeholder:"Highlight why this plan is perfect for scaling gyms...",value:i.description,onChange:j})]})]})]}),e.jsxs("div",{className:"bg-white rounded-[32px] border-2 border-slate-100 shadow-xl shadow-slate-100/50 overflow-hidden",children:[e.jsx(P,{icon:Tc,title:"Organization Resource Quotas",subtitle:"Define infrastructure limits",section:"limits",active:d.limits,color:"text-emerald-600"}),d.limits&&e.jsxs("div",{className:"p-8 pt-2 grid grid-cols-1 md:grid-cols-2 gap-6 animate-in slide-in-from-top-2 duration-300",children:[e.jsx(dr,{label:"Maximum Branches",value:i.limits.branches.value,isUnlimited:i.limits.branches.isUnlimited,onChange:_=>A("limits","branches","value",_),onToggleUnlimited:_=>A("limits","branches","isUnlimited",_),unit:"Branches"}),e.jsx(dr,{label:"Administrative Managers",value:i.limits.managers.value,isUnlimited:i.limits.managers.isUnlimited,onChange:_=>A("limits","managers","value",_),onToggleUnlimited:_=>A("limits","managers","isUnlimited",_),unit:"Total"}),e.jsx(dr,{label:"Staff / Employee Accounts",value:i.limits.staff.value,isUnlimited:i.limits.staff.isUnlimited,onChange:_=>A("limits","staff","value",_),onToggleUnlimited:_=>A("limits","staff","isUnlimited",_),unit:"Accounts"}),e.jsx(dr,{label:"Professional Trainers",value:i.limits.trainers.value,isUnlimited:i.limits.trainers.isUnlimited,onChange:_=>A("limits","trainers","value",_),onToggleUnlimited:_=>A("limits","trainers","isUnlimited",_),unit:"Trainers"}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(dr,{label:"Active Member Quota (per Branch)",value:i.limits.members.value,isUnlimited:i.limits.members.isUnlimited,onChange:_=>A("limits","members","value",_),onToggleUnlimited:_=>A("limits","members","isUnlimited",_),unit:"Active Members"})})]})]}),e.jsxs("div",{className:"bg-white rounded-[32px] border-2 border-slate-100 shadow-xl shadow-slate-100/50 overflow-hidden",children:[e.jsx(P,{icon:$t,title:"Operational Execution Limits",subtitle:"Software feature controls",section:"ops",active:d.ops,color:"text-amber-600"}),d.ops&&e.jsxs("div",{className:"p-8 pt-2 grid grid-cols-1 md:grid-cols-2 gap-6 animate-in slide-in-from-top-2 duration-300",children:[e.jsx(dr,{label:"Active Workout Blueprints",value:i.opsLimits.workouts.value,isUnlimited:i.opsLimits.workouts.isUnlimited,onChange:_=>A("opsLimits","workouts","value",_),onToggleUnlimited:_=>A("opsLimits","workouts","isUnlimited",_)}),e.jsx(dr,{label:"Active Diet Plan Database",value:i.opsLimits.diets.value,isUnlimited:i.opsLimits.diets.isUnlimited,onChange:_=>A("opsLimits","diets","value",_),onToggleUnlimited:_=>A("opsLimits","diets","isUnlimited",_)}),e.jsx(dr,{label:"Class Types / Schedules",value:i.opsLimits.classes.value,isUnlimited:i.opsLimits.classes.isUnlimited,onChange:_=>A("opsLimits","classes","value",_),onToggleUnlimited:_=>A("opsLimits","classes","isUnlimited",_)}),e.jsx(dr,{label:"Inquiry Leads / Month",value:i.opsLimits.leads.value,isUnlimited:i.opsLimits.leads.isUnlimited,onChange:_=>A("opsLimits","leads","value",_),onToggleUnlimited:_=>A("opsLimits","leads","isUnlimited",_)})]})]}),e.jsxs("div",{className:"bg-white rounded-[32px] border-2 border-slate-100 shadow-xl shadow-slate-100/50 overflow-hidden",children:[e.jsx(P,{icon:Dd,title:"Tier-specific Member Benefits",subtitle:"Quota sync for end-users",section:"benefits",active:d.benefits,color:"text-rose-600"}),d.benefits&&e.jsxs("div",{className:"p-8 pt-2 space-y-6 animate-in slide-in-from-top-2 duration-300",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center bg-rose-50/50 p-6 rounded-[24px] border border-rose-100 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-rose-600 text-white rounded-2xl flex items-center justify-center shadow-lg shadow-rose-200",children:e.jsx(cu,{size:28})}),e.jsxs("div",{children:[e.jsxs("h5",{className:"text-sm font-black text-rose-700 tracking-tight flex items-center gap-2",children:["Benefit Quota Logic ",e.jsx("span",{className:"px-2 py-0.5 bg-rose-200 text-rose-700 rounded-md text-[8px] uppercase",children:"Active"})]}),e.jsx("p",{className:"text-[10px] font-bold text-rose-500 uppercase tracking-widest mt-0.5",children:"Automated synchronization with member dashboard"})]})]}),e.jsxs("button",{type:"button",onClick:w,className:"w-full sm:w-auto px-6 py-4 bg-rose-600 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest shadow-xl shadow-rose-200 flex items-center justify-center gap-2 hover:bg-rose-700 hover:-translate-y-1 active:translate-y-0 transition-all",children:[e.jsx(Plus,{size:18})," Configure New Benefit"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:i.benefits.map((_,F)=>e.jsxs("div",{className:"relative group animate-in zoom-in-95 duration-200",children:[e.jsx("button",{type:"button",onClick:()=>k(_.id),className:"absolute -right-3 -top-3 w-10 h-10 bg-white shadow-xl border border-slate-100 rounded-2xl flex items-center justify-center text-slate-400 hover:text-red-600 hover:rotate-90 transition-all z-10",children:e.jsx(Trash2,{size:20})}),e.jsxs("div",{className:"p-6 bg-slate-50 rounded-[32px] border border-slate-100 space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Benefit Designation"}),e.jsx("input",{type:"text",value:_.name,onChange:R=>C(_.id,"name",R.target.value),placeholder:"e.g., Ice Bath Sessions",className:"w-full px-5 py-3 bg-white rounded-2xl text-sm font-black border-2 border-transparent focus:border-rose-500 outline-none transition-all shadow-sm"})]}),e.jsx(dr,{label:"Usage Allocation",value:_.limit,isUnlimited:_.isUnlimited,onChange:R=>C(_.id,"limit",R),onToggleUnlimited:R=>C(_.id,"isUnlimited",R),unitValue:_.unit,onUnitChange:R=>C(_.id,"unit",R),options:[{value:"Per Month",label:"Per Month"},{value:"Per Year",label:"Per Year"},{value:"Lifetime",label:"Lifetime Auth"}]})]})]},_.id))}),i.benefits.length===0&&e.jsxs("div",{className:"text-center py-20 border-4 border-dashed border-slate-50 rounded-[40px] bg-slate-50/30",children:[e.jsx(Dd,{size:60,className:"mx-auto text-slate-200 mb-4 stroke-1"}),e.jsx("h6",{className:"text-lg font-black text-slate-300 tracking-tight",children:"No Tier Benefits defined."}),e.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mt-2",children:"Members will only have access to core gym features."})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-8",children:[e.jsx("button",{type:"button",onClick:()=>t("/superadmin/plans/list"),className:"flex-1 py-5 bg-white border-2 border-slate-200 text-slate-600 rounded-3xl text-sm font-black uppercase tracking-widest hover:bg-slate-50 transition-all border-b-4 active:translate-y-1 active:border-b-0",children:"Discard Changes"}),e.jsxs("button",{type:"submit",disabled:p,className:"flex-[2] py-5 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-3xl text-sm font-black uppercase tracking-widest shadow-2xl shadow-indigo-200 flex items-center justify-center gap-3 hover:shadow-indigo-400 hover:-translate-y-1 active:translate-y-0 transition-all",children:[e.jsx(na,{size:24}),p?"Syncing with SaaS Engine...":l?"Commit & Synchronize Plan":"Establish Global SaaS Tier"]})]})]})]})})},DD=()=>{const t=qt(),[s,a]=v.useState(""),[l,i]=v.useState(!1),[o,d]=v.useState([]),[x,u]=v.useState([]);v.useEffect(()=>{h()},[]);const h=async()=>{const w=await xu();u(w),d(w.map(k=>({id:k.id,name:k.name})))},[p,f]=v.useState([{id:"gym_management",name:"Gym Management",description:"Manage gym branches, locations, and settings",enabled:!1},{id:"trainer_management",name:"Trainer Management",description:"Assign and manage trainers, track sessions",enabled:!1},{id:"member_management",name:"Member Management",description:"Complete member lifecycle management",enabled:!1},{id:"payment_reports",name:"Payment Reports",description:"Financial reports, invoices, and GST reports",enabled:!1},{id:"analytics_dashboard",name:"Analytics Dashboard",description:"Advanced analytics and business insights",enabled:!1},{id:"access_control",name:"Access Control",description:"Entry/exit logs and access management",enabled:!1},{id:"locker_management",name:"Locker Management",description:"Assign and manage lockers for members",enabled:!1},{id:"booking_system",name:"Booking System",description:"Sauna, ice bath, and facility bookings",enabled:!1},{id:"wallet_management",name:"Wallet Management",description:"Member benefit wallet and credit system",enabled:!1},{id:"task_management",name:"Task Management",description:"Assign and track staff tasks",enabled:!1}]),b=w=>{const k=w;if(a(k),k){const L=x.find(N=>N.id===parseInt(k))?.features||[];f(N=>N.map(P=>({...P,enabled:L.includes(P.id)})))}else f(C=>C.map(L=>({...L,enabled:!1})))},g=w=>{f(k=>k.map(C=>C.id===w?{...C,enabled:!C.enabled}:C))},j=async()=>{if(!s){alert("Please select a plan first");return}i(!0);try{const w=parseInt(s),k=p.filter(C=>C.enabled).map(C=>C.id);await n7(w,k),i(!1),alert("Features updated successfully!"),t("/superadmin/plans/list")}catch(w){console.error("Error saving features:",w),alert("Failed to save features"),i(!1)}},A=()=>{a(""),f(w=>w.map(k=>({...k,enabled:!1})))};return e.jsxs("div",{className:"min-h-screen bg-gray-50/50 flex flex-col items-center py-8 px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"w-full max-w-5xl mb-6",children:e.jsxs("button",{onClick:()=>t("/superadmin/plans/list"),className:"group flex items-center text-gray-500 hover:text-indigo-600 transition-colors duration-200",children:[e.jsx("div",{className:"p-1 rounded-full group-hover:bg-indigo-50 transition-colors duration-200 mr-2",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-arrow-left",children:[e.jsx("path",{d:"m12 19-7-7 7-7"}),e.jsx("path",{d:"M19 12H5"})]})}),e.jsx("span",{className:"font-medium",children:"Back to Plans"})]})}),e.jsx("div",{className:"flex flex-col md:flex-row gap-6 w-full max-w-5xl items-start mb-2",children:e.jsx("h1",{className:"text-2xl font-bold text-gray-800 md:hidden mb-4",children:"Feature Toggles"})}),e.jsxs("div",{className:"w-full max-w-5xl bg-white rounded-3xl shadow-xl shadow-gray-200/50 border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"px-6 py-8 sm:px-10 border-b border-gray-100 bg-white",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 tracking-tight",children:"Feature Toggles"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Manage availability of features for specific subscription plans."})]}),e.jsxs("div",{className:"px-6 py-8 sm:px-10 space-y-8",children:[e.jsxs("div",{className:"max-w-md",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Select Plan"}),e.jsxs("div",{className:"relative",children:[e.jsx(us,{options:o.map(w=>({value:w.id,label:w.name})),value:s,onChange:b,placeholder:"Choose a plan to manage features...",className:"w-full"}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-4 text-gray-500",children:e.jsx("svg",{className:"h-4 w-4 fill-current",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"})})})]})]}),s?e.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-300",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:p.map(w=>e.jsxs("div",{className:`p-4 rounded-2xl border transition-all duration-200 flex items-start justify-between gap-4 ${w.enabled?"bg-indigo-50/30 border-indigo-200":"bg-gray-50/50 border-gray-100 hover:border-gray-200"}`,children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:`text-sm font-bold ${w.enabled?"text-indigo-900":"text-gray-700"}`,children:w.name}),e.jsx("p",{className:"text-xs text-gray-500 mt-1 leading-relaxed",children:w.description})]}),e.jsx("div",{className:"flex items-center pt-0.5",children:e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:w.enabled,onChange:()=>g(w.id),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})})]},w.id))}),e.jsxs("div",{className:"pt-8 flex flex-col-reverse md:flex-row items-center justify-end gap-4 border-t border-gray-100 mt-8",children:[e.jsx("button",{onClick:A,disabled:l,className:"w-full md:w-auto px-6 py-2.5 bg-white border border-gray-300 rounded-xl text-sm font-semibold text-gray-700 hover:bg-gray-50 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-all duration-200 shadow-sm",children:"Cancel"}),e.jsxs("button",{onClick:j,disabled:l,className:"w-full md:w-auto flex items-center justify-center px-8 py-2.5 bg-gradient-to-r from-indigo-600 to-indigo-700 border border-transparent rounded-xl text-sm font-semibold text-white hover:from-indigo-700 hover:to-indigo-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 shadow-lg shadow-indigo-500/30 transition-all duration-200 transform hover:-translate-y-0.5 hover:shadow-indigo-500/40 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(na,{size:18,className:"mr-2"}),l?"Saving...":"Save Changes"]})]})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4 text-center border-2 border-dashed border-gray-200 rounded-2xl bg-gray-50/50",children:[e.jsx("div",{className:"p-4 bg-white rounded-full shadow-sm mb-4",children:e.jsx(MD,{className:"w-8 h-8 text-indigo-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No Plan Selected"}),e.jsx("p",{className:"text-sm text-gray-500 max-w-sm mt-1",children:"Select a subscription plan from the dropdown above to view and manage its enabled features."})]})]})]})]})},MD=({className:t})=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[e.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.09a2 2 0 0 1-1-1.74v-.47a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),LD=({isOpen:t,onClose:s,onSuccess:a})=>{const[l,i]=v.useState(!1),[o,d]=v.useState([]),[x,u]=v.useState({gymName:"",branchName:"",ownerName:"",email:"",phone:"",address:"",status:"Active",planId:""}),h=["Active","Suspended"];v.useEffect(()=>{t&&(async()=>{try{const A=await xu();d(A.map(w=>({value:w.id,label:`${w.name} (${w.period} - ${w.price})`})))}catch(A){console.error("Error fetching plans:",A)}})()},[t]);const p=j=>{const{name:A,value:w}=j.target;u(k=>({...k,[A]:w}))},f=j=>{u(A=>({...A,status:j}))},b=j=>{u(A=>({...A,planId:j}))},g=async j=>{if(j.preventDefault(),!x.planId){alert("Please select a SaaS Plan");return}i(!0);try{await fw({...x,owner:x.ownerName,location:x.address}),a(),s(),u({gymName:"",branchName:"",ownerName:"",email:"",phone:"",address:"",status:"Active",planId:""})}catch(A){console.error("Error adding gym:",A),alert(typeof A=="string"?A:"Failed to add gym")}finally{i(!1)}};return e.jsx(rt,{isOpen:t,onClose:s,title:"Add New Gym",subtitle:"Register a new gym branch in the system",maxWidth:"max-w-2xl",footer:e.jsxs("div",{className:"flex flex-col-reverse sm:flex-row items-stretch sm:items-center justify-end gap-3 sm:gap-4 w-full",children:[e.jsx("button",{type:"button",onClick:s,className:"group px-6 sm:px-8 py-2.5 sm:py-3 bg-white border-2 border-slate-200 text-slate-700 hover:border-violet-300 hover:text-violet-600 rounded-lg sm:rounded-xl text-sm font-bold shadow-sm hover:shadow-md transition-all duration-300 hover:scale-105",children:"Cancel"}),e.jsxs("button",{type:"submit",form:"add-gym-form",disabled:l,className:"group relative px-6 sm:px-8 py-2.5 sm:py-3 bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 text-white rounded-lg sm:rounded-xl text-sm font-bold shadow-xl shadow-violet-500/50 hover:shadow-2xl hover:shadow-violet-500/60 transition-all duration-300 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-fuchsia-600 via-purple-600 to-violet-600 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx("span",{className:"relative flex items-center justify-center gap-2",children:l?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(nl,{size:16,className:"group-hover:rotate-12 transition-transform duration-300"}),"Create Gym"]})})]})]}),children:e.jsxs("form",{id:"add-gym-form",onSubmit:g,className:"space-y-6 sm:space-y-8 px-6 py-6 font-inter",children:[e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 pb-3 sm:pb-4 border-b border-slate-100",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg sm:rounded-xl bg-gradient-to-br from-violet-100 to-purple-100 flex items-center justify-center flex-shrink-0",children:e.jsx(Tc,{size:16,className:"sm:w-5 sm:h-5 text-violet-600",strokeWidth:2.5})}),e.jsx("h2",{className:"text-base sm:text-lg font-black bg-gradient-to-r from-violet-600 to-purple-600 bg-clip-text text-transparent",children:"Gym Information"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-xs sm:text-sm font-bold bg-gradient-to-r from-violet-600 to-purple-600 bg-clip-text text-transparent",children:[e.jsx(Tc,{size:14,className:"sm:w-4 sm:h-4 text-violet-500"}),"Gym Name"]}),e.jsx("input",{type:"text",name:"gymName",value:x.gymName,onChange:p,placeholder:"e.g. FitPulse Elite",className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 bg-gradient-to-br from-slate-50 to-white border-2 border-slate-200 rounded-lg sm:rounded-xl text-slate-900 text-sm placeholder-slate-400 focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 hover:border-violet-300 transition-all duration-300 shadow-sm",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-xs sm:text-sm font-bold bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent",children:[e.jsx($s,{size:14,className:"sm:w-4 sm:h-4 text-blue-500"}),"Branch Name"]}),e.jsx("input",{type:"text",name:"branchName",value:x.branchName,onChange:p,placeholder:"e.g. Downtown Hub",className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 bg-gradient-to-br from-slate-50 to-white border-2 border-slate-200 rounded-lg sm:rounded-xl text-slate-900 text-sm placeholder-slate-400 focus:outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 hover:border-blue-300 transition-all duration-300 shadow-sm",required:!0})]})]})]}),e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 pb-3 sm:pb-4 border-b border-slate-100",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg sm:rounded-xl bg-gradient-to-br from-emerald-100 to-teal-100 flex items-center justify-center flex-shrink-0",children:e.jsx(lt,{size:16,className:"sm:w-5 sm:h-5 text-emerald-600",strokeWidth:2.5})}),e.jsx("h2",{className:"text-base sm:text-lg font-black bg-gradient-to-r from-emerald-600 to-teal-600 bg-clip-text text-transparent",children:"Owner & Contact Details"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-xs sm:text-sm font-bold bg-gradient-to-r from-emerald-600 to-teal-600 bg-clip-text text-transparent",children:[e.jsx(lt,{size:14,className:"sm:w-4 sm:h-4 text-emerald-500"}),"Owner Name"]}),e.jsx("input",{type:"text",name:"ownerName",value:x.ownerName,onChange:p,placeholder:"Full Name",className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 bg-gradient-to-br from-slate-50 to-white border-2 border-slate-200 rounded-lg sm:rounded-xl text-slate-900 text-sm placeholder-slate-400 focus:outline-none focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/10 hover:border-emerald-300 transition-all duration-300 shadow-sm",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-xs sm:text-sm font-bold bg-gradient-to-r from-orange-600 to-amber-600 bg-clip-text text-transparent",children:[e.jsx(Hs,{size:14,className:"sm:w-4 sm:h-4 text-orange-500"}),"Contact Phone"]}),e.jsx("input",{type:"tel",name:"phone",value:x.phone,onChange:p,placeholder:"+1 (555) 000-0000",className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 bg-gradient-to-br from-slate-50 to-white border-2 border-slate-200 rounded-lg sm:rounded-xl text-slate-900 text-sm placeholder-slate-400 focus:outline-none focus:border-orange-500 focus:ring-4 focus:ring-orange-500/10 hover:border-orange-300 transition-all duration-300 shadow-sm",required:!0})]}),e.jsxs("div",{className:"md:col-span-2 space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-xs sm:text-sm font-bold bg-gradient-to-r from-pink-600 to-rose-600 bg-clip-text text-transparent",children:[e.jsx(Wr,{size:14,className:"sm:w-4 sm:h-4 text-pink-500"}),"Email Address"]}),e.jsx("input",{type:"email",name:"email",value:x.email,onChange:p,placeholder:"admin@gym.com",className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 bg-gradient-to-br from-slate-50 to-white border-2 border-slate-200 rounded-lg sm:rounded-xl text-slate-900 text-sm placeholder-slate-400 focus:outline-none focus:border-pink-500 focus:ring-4 focus:ring-pink-500/10 hover:border-pink-300 transition-all duration-300 shadow-sm",required:!0})]})]})]}),e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 pb-3 sm:pb-4 border-b border-slate-100",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg sm:rounded-xl bg-gradient-to-br from-indigo-100 to-blue-100 flex items-center justify-center flex-shrink-0",children:e.jsx(aw,{size:16,className:"sm:w-5 sm:h-5 text-indigo-600",strokeWidth:2.5})}),e.jsx("h2",{className:"text-base sm:text-lg font-black bg-gradient-to-r from-indigo-600 to-blue-600 bg-clip-text text-transparent",children:"Location & Status"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[e.jsxs("div",{className:"md:col-span-2 space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-xs sm:text-sm font-bold bg-gradient-to-r from-indigo-600 to-blue-600 bg-clip-text text-transparent",children:[e.jsx($s,{size:14,className:"sm:w-4 sm:h-4 text-indigo-500"}),"Physical Address"]}),e.jsx("textarea",{name:"address",rows:"3",value:x.address,onChange:p,placeholder:"Full street address, City, State, ZIP",className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 bg-gradient-to-br from-slate-50 to-white border-2 border-slate-200 rounded-lg sm:rounded-xl text-slate-900 text-sm placeholder-slate-400 focus:outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 hover:border-indigo-300 transition-all duration-300 shadow-sm resize-none",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-xs sm:text-sm font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:[e.jsx(Xt,{size:14,className:"sm:w-4 sm:h-4 text-green-500"}),"Gym Status"]}),e.jsx(us,{options:h,value:x.status,onChange:f,placeholder:"Select Status",className:"w-full"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-xs sm:text-sm font-bold bg-gradient-to-r from-violet-600 to-indigo-600 bg-clip-text text-transparent",children:[e.jsx(Ps,{size:14,className:"sm:w-4 sm:h-4 text-violet-500"}),"SaaS Plan"]}),e.jsx(us,{options:o,value:x.planId,onChange:b,placeholder:"Select SaaS Plan",className:"w-full"})]})]})]})]})})},zD=()=>{qt();const[t,s]=v.useState(""),[a,l]=v.useState("All"),[i,o]=v.useState([]),[d,x]=v.useState(!0),[u,h]=v.useState(null),[p,f]=v.useState(!1),[b,g]=v.useState(!1),[j,A]=v.useState(1),[w,k]=v.useState(1),[C,L]=v.useState(0);v.useEffect(()=>{const T=setTimeout(()=>{N()},500);return()=>clearTimeout(T)},[t,a,j]);const N=async()=>{x(!0);try{const T=await kg({search:t,status:a,page:j,limit:10});o(T.gyms||[]),k(T.totalPages||1),L(T.total||0)}catch(T){console.error("Error loading gyms:",T),o([])}finally{x(!1)}},P=async T=>{if(window.confirm("Are you sure you want to delete this gym?"))try{await r7(T),N()}catch{alert("Failed to delete gym")}},_=async T=>{try{await gw(T),N()}catch{alert("Failed to update status")}},F=()=>{bw("Gyms")},R=T=>{h(T),f(!0)},B=T=>{T>=1&&T<=w&&A(T)};return d&&i.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center p-20 animate-pulse",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-indigo-600 border-t-transparent rounded-full animate-spin mb-4"}),e.jsx("p",{className:"text-gray-500 font-medium",children:"Loading Gym Data..."})]}):e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8 animate-slide-up",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"Gym Management"}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Manage all gym branches and their statuses (",C," total)."]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:F,className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-200 rounded-xl text-sm font-bold text-gray-700 hover:bg-gray-50 hover:shadow-md hover:scale-105 hover:-translate-y-0.5 transition-all duration-300 shadow-sm",children:[e.jsx(Qs,{className:"w-4 h-4 transition-transform duration-300 group-hover:rotate-12"}),"Export"]}),e.jsxs("button",{onClick:()=>g(!0),className:"flex items-center gap-2 px-4 py-2 bg-indigo-50 border border-indigo-100 rounded-xl text-sm font-bold text-indigo-600 hover:bg-indigo-600 hover:text-white hover:shadow-lg hover:scale-105 hover:-translate-y-0.5 transition-all duration-300 shadow-sm group",children:[e.jsx(wt,{className:"w-4 h-4 transition-transform duration-300 group-hover:rotate-90"}),"Add New Gym"]})]})]}),e.jsx("div",{className:"saas-card mb-6 animate-slide-up",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-center",children:[e.jsxs("div",{className:"relative w-full md:w-96 group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(tt,{className:"h-5 w-5 text-gray-400 group-focus-within:text-indigo-500 transition-colors"})}),e.jsx("input",{type:"text",className:"saas-input pl-10 transition-all duration-300 focus:scale-[1.02] focus:shadow-lg",placeholder:"Search gyms, branches...",value:t,onChange:T=>{s(T.target.value),A(1)}})]}),e.jsx("div",{className:"flex items-center gap-2 w-full md:w-auto overflow-x-auto pb-2 md:pb-0",children:["All","Active","Suspended"].map(T=>e.jsx("button",{onClick:()=>{l(T),A(1)},className:`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-300 whitespace-nowrap hover:scale-105 hover:-translate-y-0.5 ${a===T?"bg-indigo-50 text-indigo-700 border border-indigo-100 shadow-md":"text-gray-600 hover:bg-gray-50 hover:shadow-sm border border-transparent"}`,children:T},T))})]})}),e.jsxs("div",{className:"saas-card p-0 overflow-hidden animate-slide-up delay-200",children:[e.jsxs("div",{className:"saas-table-wrapper relative",children:[d&&e.jsx("div",{className:"absolute inset-0 bg-white/50 backdrop-blur-[1px] flex items-center justify-center z-10 transition-opacity",children:e.jsx("div",{className:"w-8 h-8 border-3 border-indigo-600 border-t-transparent rounded-full animate-spin"})}),e.jsxs("table",{className:"saas-table saas-table-responsive",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Gym Detail"}),e.jsx("th",{children:"Contact Info"}),e.jsx("th",{children:"Location"}),e.jsx("th",{children:"Status"}),e.jsx("th",{className:"text-right",children:"Actions"})]})}),e.jsx("tbody",{children:i.length>0?i.map(T=>e.jsxs("tr",{className:"hover:bg-indigo-50/30 hover:shadow-md hover:scale-[1.01] transition-all duration-300 cursor-pointer group",children:[e.jsx("td",{"data-label":"Gym Detail",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-10 w-10 flex-shrink-0 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600 font-bold text-lg transition-all duration-300 group-hover:scale-110 group-hover:rotate-6 group-hover:shadow-lg",children:(T.gymName||"?").charAt(0)}),e.jsxs("div",{className:"ml-4 text-left",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-900 transition-colors duration-300 group-hover:text-indigo-600",children:T.gymName}),e.jsx("div",{className:"text-sm text-gray-500",children:T.branchName})]})]})}),e.jsx("td",{"data-label":"Contact Info",children:e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"text-sm text-gray-900 font-medium",children:T.owner}),e.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-1",children:[e.jsx(Hs,{size:12,className:"text-gray-400"}),T.phone]})]})}),e.jsx("td",{"data-label":"Location",children:e.jsxs("div",{className:"flex items-center text-sm text-gray-500 max-w-xs justify-end md:justify-start",children:[e.jsx($s,{className:"flex-shrink-0 mr-1.5 h-4 w-4 text-gray-400 transition-transform duration-300 group-hover:scale-125"}),e.jsx("span",{className:"truncate",children:T.location})]})}),e.jsx("td",{"data-label":"Status",children:e.jsxs("span",{className:`saas-badge transition-all duration-300 group-hover:scale-105 ${T.status==="Active"?"badge-green":"badge-red"}`,children:[e.jsx("span",{className:`badge-dot ${T.status==="Active"?"animate-pulse bg-green-600":"bg-red-600"}`}),T.status]})}),e.jsx("td",{"data-label":"Actions",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>R(T),className:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-lg transition-all duration-300 hover:scale-125 hover:shadow-md hover:-translate-y-0.5 group/btn",title:"View Details",children:e.jsx(qs,{className:"w-4 h-4 transition-transform duration-300 group-hover/btn:scale-110"})}),e.jsx("button",{onClick:()=>_(T.id),className:`p-2 rounded-lg transition-all duration-300 hover:scale-125 hover:shadow-md hover:-translate-y-0.5 hover:rotate-12 group/btn ${T.status==="Active"?"text-orange-600 hover:bg-orange-50":"text-green-600 hover:bg-green-50"}`,title:T.status==="Active"?"Suspend":"Activate",children:e.jsx(Xj,{className:"w-4 h-4 transition-transform duration-300 group-hover/btn:rotate-180"})}),e.jsx("button",{onClick:()=>P(T.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-all duration-300 hover:scale-125 hover:shadow-md hover:-translate-y-0.5 group/btn",title:"Delete",children:e.jsx(ms,{className:"w-4 h-4 transition-transform duration-300 group-hover/btn:scale-110 group-hover/btn:rotate-12"})})]})})]},T.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-12 text-center text-gray-500 font-medium",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(tt,{className:"h-10 w-10 text-gray-200 mb-4"}),e.jsx("p",{children:"No gyms found matching your criteria."})]})})})})]})]}),i.length>0&&e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 p-4 border-t border-gray-100 bg-gray-50/50",children:[e.jsxs("div",{className:"text-sm text-gray-500 font-medium",children:["Showing ",e.jsx("span",{className:"text-gray-900",children:(j-1)*10+1})," to ",e.jsx("span",{className:"text-gray-900",children:Math.min(j*10,C)})," of ",e.jsx("span",{className:"text-gray-900",children:C})," gyms"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>B(j-1),disabled:j===1,className:"px-4 py-2 bg-white border border-gray-200 rounded-lg text-sm font-bold text-gray-700 hover:bg-gray-50 hover:shadow-sm disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 active:scale-95",children:"Previous"}),e.jsx("div",{className:"flex items-center gap-1",children:[...Array(w)].map((T,q)=>e.jsx("button",{onClick:()=>B(q+1),className:`w-9 h-9 flex items-center justify-center rounded-lg text-sm font-bold transition-all duration-300 hover:scale-110 ${j===q+1?"bg-indigo-600 text-white shadow-lg shadow-indigo-200":"bg-white border border-gray-200 text-gray-700 hover:border-indigo-300 hover:text-indigo-600 hover:shadow-sm"}`,children:q+1},q+1))}),e.jsx("button",{onClick:()=>B(j+1),disabled:j===w,className:"px-4 py-2 bg-white border border-gray-200 rounded-lg text-sm font-bold text-gray-700 hover:bg-gray-50 hover:shadow-sm disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 active:scale-95",children:"Next"})]})]})]}),e.jsx(rt,{isOpen:p,onClose:()=>f(!1),title:"Gym Details",subtitle:u?.gymName,maxWidth:"max-w-md",children:u&&e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex-1 overflow-y-auto pr-2",children:[e.jsxs("div",{className:"flex flex-col items-center mb-8",children:[e.jsx("div",{className:"h-20 w-20 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600 font-bold text-3xl mb-4 shadow-lg shadow-indigo-100",children:(u.gymName||"?").charAt(0)}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 text-center",children:u.gymName}),e.jsx("p",{className:"text-sm font-medium text-gray-500 mt-1",children:u.branchName}),e.jsx("span",{className:`mt-3 px-3 py-1 rounded-full text-xs font-bold ${u.status==="Active"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:u.status})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-2xl border border-gray-100 hover:border-indigo-100 transition-colors",children:[e.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider block mb-2",children:"Owner Details"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-white flex items-center justify-center text-gray-400 font-bold border border-gray-100",children:(u.owner||"?").charAt(0)}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-gray-900",children:u.owner}),e.jsxs("div",{className:"flex items-center text-xs font-medium text-gray-500 mt-0.5",children:[e.jsx(Hs,{className:"w-3 h-3 mr-1"}),u.phone]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-2xl border border-gray-100 hover:border-indigo-100 transition-colors",children:[e.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider block mb-2",children:"Location"}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-white flex items-center justify-center text-gray-400 shrink-0 border border-gray-100",children:e.jsx($s,{className:"w-5 h-5"})}),e.jsx("p",{className:"text-sm font-medium text-gray-700 pt-2 leading-relaxed",children:u.location})]})]})]})]}),e.jsx("div",{className:"mt-auto border-t border-gray-100 pt-6",children:e.jsx("button",{onClick:()=>f(!1),className:"w-full py-4 bg-gray-900 text-white rounded-xl font-bold hover:bg-gray-800 transition-all shadow-lg hover:shadow-xl active:scale-95",children:"Close Details"})})]})}),e.jsx(LD,{isOpen:b,onClose:()=>g(!1),onSuccess:N})]})},ED=()=>{const[t,s]=v.useState(""),[a,l]=v.useState([]),[i,o]=v.useState(!0);v.useEffect(()=>{const u=setTimeout(()=>{d()},500);return()=>clearTimeout(u)},[t]);const d=async()=>{o(!0);try{const u=await kg({search:t,status:"Suspended",limit:100});l(u.gyms||[])}catch(u){console.error("Error loading suspended gyms:",u),l([])}finally{o(!1)}},x=async u=>{if(window.confirm("Are you sure you want to reactivate this gym?"))try{await gw(u),d()}catch{alert("Failed to reactivate gym")}};return i&&a.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center p-20 animate-pulse",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-red-600 border-t-transparent rounded-full animate-spin mb-4"}),e.jsx("p",{className:"text-red-500 font-medium font-bold uppercase tracking-widest",children:"Loading Suspended Records..."})]}):e.jsxs("div",{className:"w-full",children:[e.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8 animate-slide-up",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"Suspended Gyms"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Review and manage suspended gym accounts."})]})}),e.jsx("div",{className:"bg-amber-50 border-l-4 border-amber-500 p-4 rounded-r-lg mb-6 animate-slide-up hover:bg-amber-100 hover:shadow-md hover:scale-[1.01] transition-all duration-300 group",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(hs,{className:"h-5 w-5 text-amber-600 transition-transform duration-300 group-hover:scale-125 group-hover:rotate-12","aria-hidden":"true"})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-amber-700 transition-colors duration-300 group-hover:text-amber-800 font-medium",children:"Suspended gyms cannot access the platform. Reactivating them will grant immediate access to their dashboards."})})]})}),e.jsx("div",{className:"saas-card mb-6 animate-slide-up",children:e.jsxs("div",{className:"relative w-full md:w-96 group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(tt,{className:"h-5 w-5 text-gray-400 group-focus-within:text-red-500 transition-colors"})}),e.jsx("input",{type:"text",className:"saas-input pl-10 transition-all duration-300 focus:scale-[1.02] focus:shadow-lg focus:border-red-500 focus:ring-red-500/10",placeholder:"Search suspended gyms...",value:t,onChange:u=>s(u.target.value)})]})}),e.jsx("div",{className:"saas-card p-0 overflow-hidden animate-slide-up delay-200",children:e.jsxs("div",{className:"saas-table-wrapper relative",children:[i&&e.jsx("div",{className:"absolute inset-0 bg-white/50 backdrop-blur-[1px] flex items-center justify-center z-10 transition-opacity",children:e.jsx("div",{className:"w-8 h-8 border-3 border-red-600 border-t-transparent rounded-full animate-spin"})}),e.jsxs("table",{className:"saas-table saas-table-responsive",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Gym Detail"}),e.jsx("th",{children:"Contact Info"}),e.jsx("th",{children:"Owner"}),e.jsx("th",{children:"Status"}),e.jsx("th",{className:"text-right",children:"Actions"})]})}),e.jsx("tbody",{children:a.length>0?a.map(u=>e.jsxs("tr",{className:"hover:bg-red-50/30 hover:shadow-md hover:scale-[1.01] transition-all duration-300 cursor-pointer group",children:[e.jsx("td",{"data-label":"Gym Detail",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-10 w-10 flex-shrink-0 rounded-full bg-red-100 flex items-center justify-center text-red-600 font-bold text-lg transition-all duration-300 group-hover:scale-110 group-hover:rotate-6 group-hover:shadow-lg group-hover:bg-red-200",children:(u.gymName||"?").charAt(0)}),e.jsxs("div",{className:"ml-4 text-left",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-900 transition-colors duration-300 group-hover:text-red-600",children:u.gymName}),e.jsx("div",{className:"text-sm text-gray-500",children:u.branchName})]})]})}),e.jsx("td",{"data-label":"Contact Info",className:"text-left text-sm text-gray-900 font-medium",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Phone,{size:12,className:"text-gray-400"}),u.phone]})}),e.jsx("td",{"data-label":"Owner",className:"text-left text-sm text-gray-700 font-semibold",children:u.owner}),e.jsx("td",{"data-label":"Status",children:e.jsxs("span",{className:"saas-badge badge-red transition-all duration-300 group-hover:scale-105 border border-red-100",children:[e.jsx("span",{className:"badge-dot bg-red-600"}),"Suspended"]})}),e.jsx("td",{"data-label":"Actions",children:e.jsx("div",{className:"flex justify-end gap-2",children:e.jsxs("button",{onClick:()=>x(u.id),className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-emerald-600 to-teal-600 text-white rounded-lg text-xs font-black shadow-lg shadow-emerald-200 hover:shadow-emerald-300 hover:scale-110 hover:-translate-y-0.5 transition-all duration-300 group/btn active:scale-95",children:[e.jsx(UC,{className:"w-3.5 h-3.5 transition-transform duration-500 group-hover/btn:rotate-180"}),"REACTIVATE"]})})})]},u.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-16 text-center text-gray-500 bg-gray-50/30",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(Xj,{className:"h-12 w-12 text-gray-200 mb-4"}),e.jsx("p",{className:"font-bold text-lg text-gray-400",children:"No suspended gyms found."}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"All gym accounts are currently active."})]})})})})]})]})})]})},TD=()=>{const[t,s]=v.useState(""),[a,l]=v.useState("all"),[i,o]=v.useState(1),[d,x]=v.useState([]),[u,h]=v.useState(!0),[p,f]=v.useState(null),[b,g]=v.useState(!1),j=5;v.useEffect(()=>{A()},[]),v.useEffect(()=>{o(1)},[t,a]);const A=async()=>{h(!0);const T=await jw(),q=Array.isArray(T)?T.filter(H=>H.status?.toLowerCase()==="active").map(H=>({id:H.id||"",planName:H.plan||"N/A",subscriberName:H.subscriber||"N/A",gymName:H.gym||"N/A",startDate:H.startDate,endDate:H.endDate,status:H.status?.toLowerCase()||"",paymentStatus:H.paymentStatus?.toLowerCase()||""})):[];x(q),h(!1)},w=d.filter(T=>{const q=(T.planName?.toLowerCase()||"").includes(t.toLowerCase())||(T.subscriberName?.toLowerCase()||"").includes(t.toLowerCase())||(T.gymName?.toLowerCase()||"").includes(t.toLowerCase())||(T.id?.toLowerCase()||"").includes(t.toLowerCase()),H=a==="all"||(a==="unpaid"?T.paymentStatus!=="paid"&&T.paymentStatus!=="pending":T.paymentStatus===a);return q&&H}),k=Math.ceil(w.length/j),C=(i-1)*j,L=w.slice(C,C+j),N=()=>{i>1&&o(i-1)},P=()=>{i<k&&o(i+1)},_=T=>{o(T)},F=T=>{f(T),g(!0)},R=async T=>{window.confirm("Are you sure you want to renew this subscription?")&&(console.log("Renew subscription:",T),alert("Renewal initiated for "+T))},B=async T=>{window.confirm("Are you sure you want to cancel this subscription?")&&(await ww(T),A())};return u?e.jsx("div",{className:"p-6 text-center",children:"Loading subscriptions..."}):e.jsxs("div",{className:"activesub-container",children:[e.jsx("div",{className:"activesub-page-header",children:e.jsx("h1",{className:"activesub-page-title",children:"Active Subscriptions"})}),e.jsxs("div",{className:"activesub-filter-bar",children:[e.jsxs("div",{style:{position:"relative",flex:1,minWidth:"250px"},children:[e.jsx(tt,{size:18,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--text-secondary)",transition:"all 0.3s"},className:"group-focus-within:scale-110 group-focus-within:text-indigo-500"}),e.jsx("input",{type:"text",placeholder:"Search by plan, subscriber, gym, or subscription ID...",className:"activesub-search-input transition-all duration-300 focus:scale-[1.02] focus:shadow-lg hover:border-indigo-300",style:{paddingLeft:"2.5rem"},value:t,onChange:T=>s(T.target.value)})]}),e.jsx("div",{className:"group",children:e.jsx(us,{options:[{value:"all",label:"All Payment Status"},{value:"paid",label:"Paid"},{value:"pending",label:"Pending"},{value:"unpaid",label:"Unpaid / Overdue"}],value:a,onChange:l,className:"w-[200px] transition-all duration-300 hover:scale-105"})})]}),w.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"saas-table-wrapper",children:e.jsxs("table",{className:"saas-table saas-table-responsive",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Subscription ID"}),e.jsx("th",{children:"Plan Name"}),e.jsx("th",{children:"Subscriber"}),e.jsx("th",{children:"Gym / Branch"}),e.jsx("th",{children:"Start Date"}),e.jsx("th",{children:"End Date"}),e.jsx("th",{children:"Payment Status"}),e.jsx("th",{className:"text-right",children:"Actions"})]})}),e.jsx("tbody",{children:L.map(T=>e.jsxs("tr",{className:"hover:bg-indigo-50/30 hover:shadow-md hover:scale-[1.005] transition-all duration-300 cursor-pointer group",children:[e.jsx("td",{"data-label":"Subscription ID",style:{fontWeight:500,color:"#8e68e5"},className:"transition-all duration-300 group-hover:scale-105 group-hover:text-indigo-700",children:T.id}),e.jsx("td",{"data-label":"Plan Name",style:{fontWeight:500},className:"transition-colors duration-300 group-hover:text-indigo-600",children:T.planName}),e.jsx("td",{"data-label":"Subscriber",children:T.subscriberName}),e.jsx("td",{"data-label":"Gym / Branch",children:T.gymName}),e.jsx("td",{"data-label":"Start Date",children:new Date(T.startDate).toLocaleDateString("en-IN")}),e.jsx("td",{"data-label":"End Date",children:new Date(T.endDate).toLocaleDateString("en-IN")}),e.jsx("td",{"data-label":"Payment Status",children:e.jsxs("span",{className:`activesub-status-badge activesub-status-${T.paymentStatus} transition-all duration-300 group-hover:scale-110`,children:[e.jsx("span",{className:"inline-block w-1.5 h-1.5 rounded-full mr-1.5 animate-pulse",style:{backgroundColor:T.paymentStatus==="paid"?"#10b981":T.paymentStatus==="pending"?"#f59e0b":"#ef4444"}}),T.paymentStatus.charAt(0).toUpperCase()+T.paymentStatus.slice(1)]})}),e.jsx("td",{"data-label":"Actions",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{className:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-lg transition-all duration-300 hover:scale-125 hover:shadow-md hover:-translate-y-0.5 group/btn",onClick:()=>F(T),title:"View Details",children:e.jsx(qs,{size:16,className:"transition-transform duration-300 group-hover/btn:scale-110"})}),e.jsx("button",{className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-all duration-300 hover:scale-125 hover:shadow-md hover:-translate-y-0.5 group/btn",onClick:()=>R(T.id),title:"Renew",children:e.jsx(Hr,{size:16,className:"transition-transform duration-300 group-hover/btn:rotate-180"})}),e.jsx("button",{className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-all duration-300 hover:scale-125 hover:shadow-md hover:-translate-y-0.5 group/btn",onClick:()=>B(T.id),title:"Cancel",children:e.jsx(Yl,{size:16,className:"transition-transform duration-300 group-hover/btn:rotate-90 group-hover/btn:scale-110"})})]})})]},T.id))})]})}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 mt-6 pb-4",children:[e.jsxs("div",{className:"text-sm text-gray-500 order-2 md:order-1",children:["Showing ",e.jsx("span",{className:"font-medium text-gray-900",children:C+1})," to ",e.jsx("span",{className:"font-medium text-gray-900",children:Math.min(C+j,w.length)})," of ",e.jsx("span",{className:"font-medium text-gray-900",children:w.length})," subscriptions"]}),e.jsxs("div",{className:"flex items-center gap-2 order-1 md:order-2 overflow-x-auto max-w-full pb-1",children:[e.jsx("button",{className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 hover:scale-105 hover:shadow-md hover:-translate-y-0.5 disabled:hover:scale-100 disabled:hover:translate-y-0",onClick:N,disabled:i===1,children:"Previous"}),e.jsx("div",{className:"flex gap-1",children:[...Array(k)].map((T,q)=>e.jsx("button",{className:`w-8 h-8 flex items-center justify-center rounded-lg text-sm font-medium transition-all duration-300 hover:scale-110 ${i===q+1?"bg-indigo-600 text-white shadow-md hover:shadow-lg":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 hover:shadow-sm"}`,onClick:()=>_(q+1),children:q+1},q+1))}),e.jsx("button",{className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 hover:scale-105 hover:shadow-md hover:-translate-y-0.5 disabled:hover:scale-100 disabled:hover:translate-y-0",onClick:P,disabled:i===k,children:"Next"})]})]})]}):e.jsxs("div",{className:"activesub-empty-state",children:[e.jsx("div",{className:"activesub-empty-icon",children:e.jsx(tt,{size:64})}),e.jsx("h3",{className:"activesub-empty-title",children:"No Active Subscriptions Found"}),e.jsx("p",{className:"activesub-empty-description",children:t||a!=="all"?"Try adjusting your search or filter criteria":"There are currently no active subscriptions"})]}),e.jsx(rt,{isOpen:b,onClose:()=>g(!1),title:"Subscription Details",subtitle:`Details for ${p?.id||""}`,width:"500px",children:p&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col items-center py-6 bg-indigo-50/50 rounded-2xl border border-indigo-100",children:[e.jsx("div",{className:"h-20 w-20 rounded-full bg-white text-indigo-600 flex items-center justify-center shadow-md mb-3",children:e.jsx(qs,{size:32})}),e.jsx("h4",{className:"text-xl font-bold text-gray-900",children:p.subscriberName}),e.jsx("span",{className:"text-sm text-gray-500 font-medium",children:p.planName})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-white rounded-xl border border-slate-100 shadow-sm",children:[e.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest block mb-1",children:"Gym / Branch"}),e.jsx("p",{className:"text-sm font-bold text-gray-900",children:p.gymName})]}),e.jsxs("div",{className:"p-4 bg-white rounded-xl border border-slate-100 shadow-sm",children:[e.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest block mb-1",children:"Payment Status"}),e.jsx("span",{className:`activesub-status-badge activesub-status-${p.paymentStatus}`,children:p.paymentStatus.toUpperCase()})]}),e.jsxs("div",{className:"p-4 bg-white rounded-xl border border-slate-100 shadow-sm",children:[e.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest block mb-1",children:"Start Date"}),e.jsx("p",{className:"text-sm font-bold text-gray-900",children:new Date(p.startDate).toLocaleDateString("en-IN")})]}),e.jsxs("div",{className:"p-4 bg-white rounded-xl border border-slate-100 shadow-sm",children:[e.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest block mb-1",children:"End Date"}),e.jsx("p",{className:"text-sm font-bold text-gray-900",children:new Date(p.endDate).toLocaleDateString("en-IN")})]})]}),e.jsxs("div",{className:"p-4 bg-white rounded-xl border border-slate-100 shadow-sm",children:[e.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest block mb-1",children:"Subscription ID"}),e.jsx("p",{className:"text-sm font-mono text-gray-600",children:p.id})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{onClick:()=>g(!1),className:"flex-1 py-3 bg-white border border-gray-200 text-gray-700 rounded-xl text-sm font-bold hover:bg-gray-50 transition-all shadow-sm",children:"Close"}),e.jsx("button",{onClick:()=>{R(p.id),g(!1)},className:"flex-1 py-3 bg-indigo-600 text-white rounded-xl text-sm font-bold hover:bg-indigo-700 transition-all shadow-md hover:shadow-lg",children:"Renew Now"})]})]})})]})},_D=()=>{const[t,s]=v.useState(""),[a,l]=v.useState("all"),[i,o]=v.useState(1),[d,x]=v.useState([]),[u,h]=v.useState(!0),[p,f]=v.useState(null),[b,g]=v.useState(!1),j=5;v.useEffect(()=>{A()},[]),v.useEffect(()=>{o(1)},[t,a]);const A=async()=>{h(!0);const q=(await jw()).filter(H=>H.status.toLowerCase()!=="active").map(H=>({id:H.id,planName:H.plan,subscriberName:H.subscriber,gymName:H.gym,startDate:H.startDate,endDate:H.endDate,status:H.status.toLowerCase(),paymentStatus:H.paymentStatus.toLowerCase()}));x(q),h(!1)},w=d.filter(T=>{const q=T.planName.toLowerCase().includes(t.toLowerCase())||T.subscriberName.toLowerCase().includes(t.toLowerCase())||T.gymName.toLowerCase().includes(t.toLowerCase())||T.id.toLowerCase().includes(t.toLowerCase()),H=a==="all"||T.status===a;return q&&H}),k=Math.ceil(w.length/j),C=(i-1)*j,L=w.slice(C,C+j),N=()=>{i>1&&o(i-1)},P=()=>{i<k&&o(i+1)},_=T=>{o(T)},F=T=>{f(T),g(!0)},R=async T=>{window.confirm("Are you sure you want to renew this subscription?")&&(await ww(T),A())},B=async T=>{window.confirm("Are you sure you want to delete this subscription record?")&&(console.log("Delete subscription:",T),alert("Record "+T+" deleted (mock)"))};return u?e.jsx("div",{className:"p-6 text-center",children:"Loading subscriptions..."}):e.jsxs("div",{className:"expiredsub-container",children:[e.jsx("div",{className:"expiredsub-page-header",children:e.jsx("h1",{className:"expiredsub-page-title",children:"Expired / Due Subscriptions"})}),e.jsxs("div",{className:"expiredsub-filter-bar",children:[e.jsxs("div",{style:{position:"relative",flex:1,minWidth:"250px"},children:[e.jsx(tt,{size:18,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--text-secondary)",transition:"all 0.3s"},className:"group-focus-within:scale-110 group-focus-within:text-red-500"}),e.jsx("input",{type:"text",placeholder:"Search by plan, subscriber, gym, or subscription ID...",className:"expiredsub-search-input transition-all duration-300 focus:scale-[1.02] focus:shadow-lg hover:border-red-300",style:{paddingLeft:"2.5rem"},value:t,onChange:T=>s(T.target.value)})]}),e.jsx("div",{className:"group",children:e.jsx(us,{options:[{value:"all",label:"All Status"},{value:"expired",label:"Expired"},{value:"due",label:"Due for Renewal"}],value:a,onChange:l,className:"w-[180px] transition-all duration-300 hover:scale-105"})})]}),w.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"saas-table-wrapper",children:e.jsxs("table",{className:"saas-table saas-table-responsive",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Subscription ID"}),e.jsx("th",{children:"Plan Name"}),e.jsx("th",{children:"Subscriber"}),e.jsx("th",{children:"Gym / Branch"}),e.jsx("th",{children:"Start Date"}),e.jsx("th",{children:"End Date"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Payment"}),e.jsx("th",{className:"text-right",children:"Actions"})]})}),e.jsx("tbody",{children:L.map(T=>e.jsxs("tr",{className:"hover:bg-red-50/30 hover:shadow-md hover:scale-[1.005] transition-all duration-300 cursor-pointer group",children:[e.jsx("td",{"data-label":"Subscription ID",style:{fontWeight:500,color:"#ea5455"},className:"transition-all duration-300 group-hover:scale-105 group-hover:text-red-700",children:T.id}),e.jsx("td",{"data-label":"Plan Name",style:{fontWeight:500},className:"transition-colors duration-300 group-hover:text-red-600",children:T.planName}),e.jsx("td",{"data-label":"Subscriber",children:T.subscriberName}),e.jsx("td",{"data-label":"Gym / Branch",children:T.gymName}),e.jsx("td",{"data-label":"Start Date",children:new Date(T.startDate).toLocaleDateString("en-IN")}),e.jsx("td",{"data-label":"End Date",children:new Date(T.endDate).toLocaleDateString("en-IN")}),e.jsx("td",{"data-label":"Status",children:e.jsxs("span",{className:`expiredsub-status-badge expiredsub-status-${T.status} transition-all duration-300 group-hover:scale-110`,children:[e.jsx("span",{className:"inline-block w-1.5 h-1.5 rounded-full mr-1.5 animate-pulse",style:{backgroundColor:T.status==="expired"?"#ef4444":"#f59e0b"}}),T.status.charAt(0).toUpperCase()+T.status.slice(1)]})}),e.jsx("td",{"data-label":"Payment",children:e.jsxs("span",{className:`expiredsub-status-badge expiredsub-status-${T.paymentStatus} transition-all duration-300 group-hover:scale-110`,children:[e.jsx("span",{className:"inline-block w-1.5 h-1.5 rounded-full mr-1.5 animate-pulse",style:{backgroundColor:T.paymentStatus==="paid"?"#10b981":T.paymentStatus==="pending"?"#f59e0b":"#ef4444"}}),T.paymentStatus.charAt(0).toUpperCase()+T.paymentStatus.slice(1)]})}),e.jsx("td",{"data-label":"Actions",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-all duration-300 hover:scale-125 hover:shadow-md hover:-translate-y-0.5 group/btn",onClick:()=>R(T.id),title:"Renew",children:e.jsx(Hr,{size:16,className:"transition-transform duration-300 group-hover/btn:rotate-180"})}),e.jsx("button",{className:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-lg transition-all duration-300 hover:scale-125 hover:shadow-md hover:-translate-y-0.5 group/btn",onClick:()=>F(T),title:"View Details",children:e.jsx(qs,{size:16,className:"transition-transform duration-300 group-hover/btn:scale-110"})}),e.jsx("button",{className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-all duration-300 hover:scale-125 hover:shadow-md hover:-translate-y-0.5 group/btn",onClick:()=>B(T.id),title:"Delete",children:e.jsx(ms,{size:16,className:"transition-transform duration-300 group-hover/btn:rotate-12 group-hover/btn:scale-110"})})]})})]},T.id))})]})}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 mt-6 pb-4",children:[e.jsxs("div",{className:"text-sm text-gray-500 order-2 md:order-1",children:["Showing ",e.jsx("span",{className:"font-medium text-gray-900",children:C+1})," to ",e.jsx("span",{className:"font-medium text-gray-900",children:Math.min(C+j,w.length)})," of ",e.jsx("span",{className:"font-medium text-gray-900",children:w.length})," subscriptions"]}),e.jsxs("div",{className:"flex items-center gap-2 order-1 md:order-2 overflow-x-auto max-w-full pb-1",children:[e.jsx("button",{className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 hover:scale-105 hover:shadow-md hover:-translate-y-0.5 disabled:hover:scale-100 disabled:hover:translate-y-0",onClick:N,disabled:i===1,children:"Previous"}),e.jsx("div",{className:"flex gap-1",children:[...Array(k)].map((T,q)=>e.jsx("button",{className:`w-8 h-8 flex items-center justify-center rounded-lg text-sm font-medium transition-all duration-300 hover:scale-110 ${i===q+1?"bg-indigo-600 text-white shadow-md hover:shadow-lg":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 hover:shadow-sm"}`,onClick:()=>_(q+1),children:q+1},q+1))}),e.jsx("button",{className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 hover:scale-105 hover:shadow-md hover:-translate-y-0.5 disabled:hover:scale-100 disabled:hover:translate-y-0",onClick:P,disabled:i===k,children:"Next"})]})]})]}):e.jsxs("div",{className:"expiredsub-empty-state",children:[e.jsx("div",{className:"expiredsub-empty-icon",children:e.jsx(tt,{size:64})}),e.jsx("h3",{className:"expiredsub-empty-title",children:"No Expired or Due Subscriptions Found"}),e.jsx("p",{className:"expiredsub-empty-description",children:t||a!=="all"?"Try adjusting your search or filter criteria":"Great! All subscriptions are currently active"})]}),b&&p&&e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:e.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen",children:""}),e.jsxs("div",{className:"inline-block align-bottom bg-white rounded-2xl text-left overflow-hidden shadow-xl transform transition-all duration-500 hover:scale-[1.02] sm:my-8 sm:align-middle sm:max-w-lg sm:w-full animate-slide-up",children:[e.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:e.jsxs("div",{className:"sm:flex sm:items-start text-indigo-600",children:[e.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-indigo-100 sm:mx-0 sm:h-10 sm:w-10 transition-all duration-300 hover:scale-125 hover:rotate-12 hover:shadow-lg",children:e.jsx(qs,{size:20})}),e.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[e.jsx("h3",{className:"text-xl leading-6 font-bold text-gray-900",children:"Subscription Details"}),e.jsx("div",{className:"mt-6 space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-3 rounded-lg hover:bg-red-50/50 transition-all duration-300",children:[e.jsx("label",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Subscription ID"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:p.id})]}),e.jsxs("div",{className:"p-3 rounded-lg hover:bg-red-50/50 transition-all duration-300",children:[e.jsx("label",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Plan Name"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:p.planName})]}),e.jsxs("div",{className:"p-3 rounded-lg hover:bg-red-50/50 transition-all duration-300",children:[e.jsx("label",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Subscriber"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:p.subscriberName})]}),e.jsxs("div",{className:"p-3 rounded-lg hover:bg-red-50/50 transition-all duration-300",children:[e.jsx("label",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Gym / Branch"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:p.gymName})]}),e.jsxs("div",{className:"p-3 rounded-lg hover:bg-red-50/50 transition-all duration-300",children:[e.jsx("label",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Start Date"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:new Date(p.startDate).toLocaleDateString("en-IN")})]}),e.jsxs("div",{className:"p-3 rounded-lg hover:bg-red-50/50 transition-all duration-300",children:[e.jsx("label",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"End Date"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:new Date(p.endDate).toLocaleDateString("en-IN")})]}),e.jsxs("div",{className:"p-3 rounded-lg hover:bg-red-50/50 transition-all duration-300",children:[e.jsx("label",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Status"}),e.jsx("div",{children:e.jsx("span",{className:`expiredsub-status-badge expiredsub-status-${p.status} transition-all duration-300 hover:scale-110`,children:p.status.toUpperCase()})})]}),e.jsxs("div",{className:"p-3 rounded-lg hover:bg-red-50/50 transition-all duration-300",children:[e.jsx("label",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Payment"}),e.jsx("div",{children:e.jsx("span",{className:`expiredsub-status-badge expiredsub-status-${p.paymentStatus} transition-all duration-300 hover:scale-110`,children:p.paymentStatus.toUpperCase()})})]})]})})]})]})}),e.jsx("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse rounded-b-2xl",children:e.jsx("button",{type:"button",onClick:()=>g(!1),className:"w-full inline-flex justify-center rounded-lg border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:ml-3 sm:w-auto sm:text-sm transition-all duration-300 hover:scale-105 hover:shadow-md hover:-translate-y-0.5",children:"Close"})})]})]})})]})},PD=()=>{const[t,s]=v.useState([]),[a,l]=v.useState(!0),[i,o]=v.useState({search:"",module:"",date:""}),[d,x]=v.useState(!1),[u,h]=v.useState(0),[p,f]=v.useState({key:"date",direction:"desc"}),b=10;v.useEffect(()=>{g()},[]),v.useEffect(()=>{h(0)},[i]);const g=async()=>{l(!0);const T=await o7();s(T),l(!1)},j=T=>{const{name:q,value:H}=T.target;o(G=>({...G,[q]:H}))},A=()=>{bw("Activity Logs")},w=T=>{let q="asc";p.key===T&&p.direction==="asc"&&(q="desc"),f({key:T,direction:q})},C=[...t].sort((T,q)=>{if(!p.key)return 0;const H=T[p.key],G=q[p.key];return H<G?p.direction==="asc"?-1:1:H>G?p.direction==="asc"?1:-1:0}).filter(T=>{const q=T.user.toLowerCase().includes(i.search.toLowerCase())||T.action.toLowerCase().includes(i.search.toLowerCase())||T.affectedMember.toLowerCase().includes(i.search.toLowerCase()),H=i.module===""||T.module.toLowerCase()===i.module.toLowerCase(),G=i.date===""||T.date.includes(i.date);return q&&H&&G}),L=Math.ceil(C.length/b),N=Math.floor(u/b)+1,P=C.slice(u,u+b),_=()=>{u>=b&&h(u-b)},F=()=>{u+b<C.length&&h(u+b)},R=T=>{h((T-1)*b)},B=[{value:"",label:"All Modules"},{value:"General Settings",label:"General Settings"},{value:"Member Management",label:"Member Management"},{value:"Payments",label:"Payments"},{value:"Auth",label:"Authentication"},{value:"Plans",label:"Plans"},{value:"Reports",label:"Reports"}];return a?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsx("div",{className:"relative",children:e.jsx("div",{className:"h-16 w-16 rounded-full border-4 border-slate-100 border-t-violet-600 animate-spin"})})}):e.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-white to-violet-50/30 min-h-screen p-4 sm:p-6",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx(Ca,{className:"text-violet-600 flex-shrink-0",size:24}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"System Activity Logs"}),e.jsx("p",{className:"text-slate-600 text-xs sm:text-sm mt-1",children:"Track user actions and system changes in real-time"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-3",children:[e.jsxs("button",{onClick:A,className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-white border border-slate-200 rounded-lg sm:rounded-xl text-xs sm:text-sm font-semibold text-slate-700 hover:bg-slate-50 hover:shadow-md hover:scale-105 hover:-translate-y-0.5 transition-all duration-300 shadow-sm group w-full sm:w-auto",children:[e.jsx(Qs,{className:"w-4 h-4 transition-transform duration-300 group-hover:translate-y-0.5"}),"Export"]}),e.jsxs("button",{onClick:()=>x(!d),className:`group relative px-4 sm:px-6 py-2.5 rounded-lg sm:rounded-xl font-semibold shadow-lg hover:shadow-xl hover:scale-105 hover:-translate-y-1 transition-all duration-300 flex items-center justify-center gap-2 w-full sm:w-auto text-xs sm:text-sm ${d?"bg-white border border-slate-200 text-slate-700":"bg-gradient-to-r from-violet-600 to-purple-600 text-white hover:shadow-violet-500/50"}`,children:[!d&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 to-fuchsia-600 rounded-lg sm:rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx(ks,{className:`w-4 h-4 relative transition-transform duration-300 ${d?"":"group-hover:rotate-12"}`}),e.jsx("span",{className:"relative",children:d?"Hide Filters":"Show Filters"})]})]})]})})]}),d&&e.jsx("div",{className:"mb-6 bg-white/60 backdrop-blur-md rounded-xl shadow-lg border border-white/50 p-5 hover:shadow-xl transition-all duration-300 animate-slide-down",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"relative group",children:[e.jsx(tt,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 group-focus-within:scale-110 transition-all duration-300"}),e.jsx("input",{type:"text",name:"search",value:i.search,onChange:j,placeholder:"Search by user or action...",className:"w-full pl-12 pr-4 py-3 bg-white/80 border-2 border-slate-200 rounded-xl text-sm focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 focus:bg-white transition-all duration-300 hover:border-slate-300"})]}),e.jsxs("div",{className:"relative group",children:[e.jsx(ks,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 group-focus-within:scale-110 transition-all duration-300 pointer-events-none z-10"}),e.jsx("select",{name:"module",value:i.module,onChange:j,className:"w-full pl-12 pr-4 py-3 bg-white/80 border-2 border-slate-200 rounded-xl text-sm focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 focus:bg-white transition-all duration-300 hover:border-slate-300 appearance-none cursor-pointer",children:B.map(T=>e.jsx("option",{value:T.value,children:T.label},T.value))})]}),e.jsxs("div",{className:"relative group",children:[e.jsx(Ve,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 group-focus-within:scale-110 transition-all duration-300 pointer-events-none z-10"}),e.jsx("input",{type:"date",name:"date",value:i.date,onChange:j,className:"w-full pl-12 pr-4 py-3 bg-white/80 border-2 border-slate-200 rounded-xl text-sm focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 focus:bg-white transition-all duration-300 hover:border-slate-300"})]})]})}),P.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"md:hidden space-y-4 mb-6",children:P.map(T=>e.jsx(Ya,{title:T.action,subtitle:T.user,badge:T.module,badgeColor:"bg-violet-100 text-violet-700 border-violet-200",fields:[{label:"Affected",value:T.affectedMember,icon:lt},{label:"Date",value:T.date.split(" ")[0],icon:Ve},{label:"Time",value:T.date.split(" ").slice(1).join(" "),icon:Qe},{label:"Details",value:T.details,icon:$t}]},T.id))}),e.jsx("div",{className:"hidden md:block bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gradient-to-r from-slate-100 to-slate-200/50 border-b-2 border-slate-300",children:[e.jsx("th",{onClick:()=>w("date"),className:"px-6 py-5 text-left text-xs font-black uppercase tracking-widest text-slate-700 cursor-pointer hover:text-violet-600 transition-colors",children:e.jsxs("div",{className:"flex items-center gap-2",children:["Date",p.key==="date"&&(p.direction==="asc"?"":"")]})}),e.jsx("th",{onClick:()=>w("user"),className:"px-6 py-5 text-left text-xs font-black uppercase tracking-widest text-slate-700 cursor-pointer hover:text-violet-600 transition-colors",children:e.jsxs("div",{className:"flex items-center gap-2",children:["Staff Name",p.key==="user"&&(p.direction==="asc"?"":"")]})}),e.jsx("th",{className:"px-6 py-5 text-left text-xs font-black uppercase tracking-widest text-slate-700",children:"Action"}),e.jsx("th",{className:"px-6 py-5 text-left text-xs font-black uppercase tracking-widest text-slate-700",children:"Affected Member"}),e.jsx("th",{className:"px-6 py-5 text-left text-xs font-black uppercase tracking-widest text-slate-700",children:"Details"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:P.map(T=>e.jsxs("tr",{className:"group hover:bg-slate-50/80 transition-all duration-300 border-b border-slate-100",children:[e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold text-slate-600",children:[e.jsx(Qe,{size:14,className:"text-slate-400 group-hover:text-violet-500 transition-colors"}),T.date]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-violet-100 flex items-center justify-center text-violet-700 font-black text-xs shadow-sm border border-violet-200",children:(T.user||"?").charAt(0)}),e.jsx("span",{className:"text-sm font-bold text-slate-900",children:T.user})]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-black text-slate-800 tracking-tight",children:T.action}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400",children:T.module})]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-violet-400"}),e.jsx("span",{className:"text-sm font-bold text-slate-700",children:T.affectedMember})]})}),e.jsx("td",{className:"px-6 py-5 max-w-xs",children:e.jsx("p",{className:"text-sm font-medium text-slate-500 leading-relaxed italic",children:T.details})})]},T.id))})]})})}),e.jsxs("div",{className:"px-6 py-4 border-t border-slate-100 bg-slate-50/50 flex flex-col sm:flex-row justify-between items-center gap-4",children:[e.jsxs("span",{className:"text-sm text-slate-600",children:["Showing ",u+1," to ",Math.min(u+b,C.length)," of ",C.length," logs"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-4 py-2 bg-white border-2 border-slate-200 rounded-lg text-sm font-semibold text-slate-700 hover:bg-slate-50 hover:border-slate-300 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 hover:scale-105 hover:shadow-md disabled:hover:scale-100",onClick:_,disabled:N===1,children:"Previous"}),e.jsx("div",{className:"flex gap-2",children:[...Array(Math.min(L,5))].map((T,q)=>{const H=q+1;return e.jsx("button",{className:`px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-110 ${N===H?"bg-gradient-to-r from-violet-600 to-purple-600 text-white shadow-lg shadow-violet-500/30":"bg-white border-2 border-slate-200 text-slate-700 hover:bg-slate-50 hover:border-slate-300"}`,onClick:()=>R(H),children:H},H)})}),e.jsx("button",{className:"px-4 py-2 bg-white border-2 border-slate-200 rounded-lg text-sm font-semibold text-slate-700 hover:bg-slate-50 hover:border-slate-300 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 hover:scale-105 hover:shadow-md disabled:hover:scale-100",onClick:F,disabled:N>=L,children:"Next"})]})]})]}):e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 p-16 text-center",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-violet-100 to-purple-100 rounded-full flex items-center justify-center",children:e.jsx($t,{size:40,className:"text-violet-600"})}),e.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-2",children:"No Activity Logs Found"}),e.jsx("p",{className:"text-slate-600",children:i.search||i.module||i.date?"Try adjusting your search or filter criteria":"Activity logs will appear here as users interact with the system"})]})]})},RD=({isOpen:t,onClose:s,selectedLog:a})=>{const[l,i]=Di.useState(!1),o=()=>{navigator.clipboard.writeText(JSON.stringify(a?.payload||{},null,2)),i(!0),setTimeout(()=>i(!1),2e3)};return a?e.jsxs("div",{className:"flex flex-col h-full bg-white text-slate-600 font-mono selection:bg-violet-500/30",children:[e.jsxs("div",{className:"p-8 border-b border-slate-100 bg-slate-50/50 backdrop-blur-md",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-violet-600 flex items-center justify-center text-white shadow-lg shadow-violet-500/20",children:e.jsx(ua,{size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 tracking-tight",children:a.event||"Log Details"}),e.jsxs("p",{className:"text-[10px] text-slate-400 uppercase tracking-[0.2em] font-black mt-1",children:["Request ID: ",a.id]})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-2xl p-4 border border-slate-100 shadow-sm",children:[e.jsx("p",{className:"text-[10px] text-slate-400 uppercase font-black mb-1",children:"Status Code"}),e.jsxs("span",{className:`text-sm font-bold ${a.status==="success"?"text-emerald-500":"text-rose-500"}`,children:[a.statusCode||200," OK"]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-4 border border-slate-100 shadow-sm",children:[e.jsx("p",{className:"text-[10px] text-slate-400 uppercase font-black mb-1",children:"Response Time"}),e.jsx("span",{className:"text-sm font-bold text-gray-900",children:"124ms"})]})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar relative",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 text-violet-600",children:[e.jsx(Jx,{size:16}),e.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Raw JSON Payload"})]}),e.jsx("button",{onClick:o,className:"flex items-center gap-2 px-3 py-1.5 bg-slate-100 hover:bg-slate-200 rounded-lg text-[10px] font-bold uppercase tracking-widest text-slate-600 transition-all border border-slate-200",children:l?e.jsxs(e.Fragment,{children:[e.jsx(xr,{size:12,className:"text-emerald-500"})," Copied"]}):e.jsxs(e.Fragment,{children:[e.jsx(Pf,{size:12})," Copy JSON"]})})]}),e.jsx("div",{className:"bg-slate-900 border border-slate-800 rounded-3xl p-6 text-sm leading-relaxed overflow-x-auto shadow-inner",children:e.jsx("pre",{className:"text-indigo-300 font-mono",children:JSON.stringify(a.payload||{event:"membership.created",timestamp:"2024-03-20T10:30:15Z",data:{id:"MEM_29381",name:"Rahul Sharma",plan:"Elite Monthly",payment:{status:"captured",method:"upi",amount:2500}},metadata:{source:"ios_app",version:"4.2.0"}},null,4)})})]}),e.jsxs("div",{className:"p-8 border-t border-slate-100 bg-slate-50/50 flex gap-4",children:[e.jsx("button",{onClick:s,className:"flex-1 py-4 bg-white hover:bg-slate-50 text-slate-600 rounded-2xl text-xs font-bold uppercase tracking-widest transition-all border border-slate-200 shadow-sm",children:"Close Inspector"}),e.jsxs("button",{className:"flex-1 py-4 bg-violet-600 hover:bg-violet-700 text-white rounded-2xl text-xs font-bold uppercase tracking-widest shadow-xl shadow-violet-500/20 transition-all flex items-center justify-center gap-2",children:[e.jsx(sw,{size:14})," Open in Logs"]})]})]}):null},OD=()=>{const[t,s]=v.useState(null),[a,l]=v.useState([]),[i,o]=v.useState(!0),[d,x]=v.useState(""),[u,h]=v.useState("All"),[p,f]=v.useState("All"),[b,g]=v.useState(!1),[j,A]=v.useState({totalEvents:"0",successRate:"0%",failedLast24h:"0",activeWebhooks:"0"});v.useEffect(()=>{w()},[]);const w=async()=>{o(!0);try{const N=await i7();N&&N.logs?(l(N.logs),A(N.stats)):l(N||[])}catch(N){console.error("Failed to load webhook logs:",N)}finally{o(!1)}},k=()=>{alert("Exporting Webhook Logs to CSV...")},C=a.filter(N=>{const P=N.event.toLowerCase().includes(d.toLowerCase())||N.id.toLowerCase().includes(d.toLowerCase())||N.statusCode.toString().includes(d),_=u==="All"||N.status===u.toLowerCase(),F=p==="All"||N.method===p;return P&&_&&F}),L=N=>{s(N),g(!0)};return e.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-white to-violet-50/30 min-h-screen p-6 md:p-10 font-sans pb-20",children:[e.jsx("div",{className:"max-w-7xl mx-auto mb-10",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 text-violet-600 mb-2",children:[e.jsx(Jx,{size:18}),e.jsx("span",{className:"text-xs font-black uppercase tracking-[0.3em]",children:"System Monitor"})]}),e.jsxs("h1",{className:"text-3xl md:text-4xl font-black text-gray-900 tracking-tighter flex items-center gap-3",children:["Webhook ",e.jsx("span",{className:"text-violet-600",children:"Events"})]}),e.jsx("p",{className:"text-slate-500 mt-2 text-sm font-medium",children:"Real-time API activity and event broadcasting logs."})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:k,className:"px-5 py-3 bg-white border border-slate-200 rounded-xl text-xs font-bold text-slate-600 uppercase tracking-widest hover:bg-slate-50 transition-all flex items-center gap-2 shadow-sm",children:[e.jsx(Qs,{size:14})," Export"]}),e.jsx("button",{onClick:w,className:"p-3 bg-violet-600 text-white rounded-xl shadow-lg shadow-violet-500/20 hover:scale-110 active:scale-95 transition-all",children:e.jsx(Hr,{size:20,className:i?"animate-spin":""})})]})]})}),e.jsx("div",{className:"max-w-7xl mx-auto grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[{label:"Total Events",val:j.totalEvents,icon:ua,color:"violet",bg:"bg-violet-50",text:"text-violet-600"},{label:"Avg Success",val:j.successRate,icon:Xn,color:"emerald",bg:"bg-emerald-50",text:"text-emerald-600"},{label:"Failed (24h)",val:j.failedLast24h,icon:hs,color:"rose",bg:"bg-rose-50",text:"text-rose-600"},{label:"Active Webhooks",val:j.activeWebhooks,icon:Hr,color:"amber",bg:"bg-amber-50",text:"text-amber-600"}].map((N,P)=>e.jsxs("div",{className:"bg-white border border-slate-100 p-6 rounded-3xl shadow-sm hover:shadow-md transition-all",children:[e.jsx("div",{className:`p-2 w-fit rounded-lg ${N.bg} ${N.text} mb-4 group-hover:scale-110 transition-transform`,children:e.jsx(N.icon,{size:18})}),e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:N.label}),e.jsx("p",{className:"text-2xl font-black text-gray-900 tracking-tight",children:N.val})]},P))}),e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"bg-white border border-slate-100 rounded-[32px] overflow-hidden shadow-xl shadow-slate-200/50",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1 group",children:[e.jsx(tt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 transition-all",size:18}),e.jsx("input",{type:"text",placeholder:"Search by event, ID, or status code...",className:"w-full pl-12 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-2xl text-xs font-medium text-slate-700 focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all",value:d,onChange:N=>x(N.target.value)})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("select",{className:"px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-[10px] font-bold text-slate-600 uppercase tracking-widest hover:bg-white transition-all outline-none appearance-none cursor-pointer",value:u,onChange:N=>h(N.target.value),children:[e.jsx("option",{value:"All",children:"Status: All"}),e.jsx("option",{value:"Success",children:"Success"}),e.jsx("option",{value:"Failed",children:"Failed"})]}),e.jsxs("select",{className:"px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-[10px] font-bold text-slate-600 uppercase tracking-widest hover:bg-white transition-all outline-none appearance-none cursor-pointer",value:p,onChange:N=>f(N.target.value),children:[e.jsx("option",{value:"All",children:"Method: All"}),e.jsx("option",{value:"POST",children:"POST"}),e.jsx("option",{value:"GET",children:"GET"}),e.jsx("option",{value:"PUT",children:"PUT"})]})]})]}),e.jsx("div",{className:"hidden lg:block overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-slate-50/50",children:e.jsxs("tr",{className:"text-[10px] text-slate-500 font-black uppercase tracking-widest border-b border-slate-100",children:[e.jsx("th",{className:"px-8 py-4",children:"Event ID"}),e.jsx("th",{className:"px-8 py-4",children:"Event Type"}),e.jsx("th",{className:"px-8 py-4",children:"Status"}),e.jsx("th",{className:"px-8 py-4",children:"Endpoint"}),e.jsx("th",{className:"px-8 py-4 text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:i?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-8 py-20 text-center text-slate-400 text-sm",children:"Loading logs..."})}):C.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-8 py-20 text-center opacity-40 uppercase text-[10px] font-black tracking-widest text-slate-400",children:"No terminal events found"})}):C.map(N=>e.jsxs("tr",{className:"group hover:bg-violet-50/50 transition-colors cursor-pointer",onClick:()=>L(N),children:[e.jsx("td",{className:"px-8 py-5",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-violet-400"}),e.jsx("span",{className:"text-violet-600 font-medium text-xs",children:N.id})]})}),e.jsx("td",{className:"px-8 py-5",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-gray-900 font-bold text-sm",children:N.event}),e.jsxs("span",{className:"text-[9px] text-slate-400 uppercase tracking-widest mt-1 flex items-center gap-1.5",children:[e.jsx(Qe,{size:10})," ",N.time]})]})}),e.jsx("td",{className:"px-8 py-5",children:e.jsxs("div",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-[0.1em] border ${N.status==="success"?"bg-emerald-50 text-emerald-600 border-emerald-100":"bg-rose-50 text-rose-600 border-rose-100"}`,children:[N.statusCode," ",N.status]})}),e.jsx("td",{className:"px-8 py-5",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"px-1.5 py-0.5 bg-slate-100 rounded text-[9px] font-black text-slate-500 border border-slate-200",children:N.method}),e.jsx("span",{className:"text-xs text-slate-500 tracking-tight font-medium",children:N.endpoint})]})}),e.jsx("td",{className:"px-8 py-5 text-right",children:e.jsx("button",{className:"p-2 text-slate-400 group-hover:text-violet-600 transition-colors",children:e.jsx(qs,{size:18})})})]},N.id))})]})}),e.jsx("div",{className:"lg:hidden divide-y divide-slate-100",children:i?e.jsx("div",{className:"p-12 text-center text-slate-400 text-sm",children:"Loading logs..."}):C.length===0?e.jsx("div",{className:"p-12 text-center opacity-40 uppercase text-[10px] font-black tracking-widest text-slate-400",children:"No terminal events found"}):C.map(N=>e.jsxs("div",{className:"p-6 space-y-4 active:bg-slate-50 transition-colors",onClick:()=>L(N),children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-violet-400"}),e.jsx("span",{className:"text-[10px] font-black text-violet-600 tracking-[0.1em]",children:N.id})]}),e.jsx("h3",{className:"text-sm font-bold text-gray-900 tracking-tight",children:N.event})]}),e.jsx("div",{className:`px-2.5 py-1 rounded-lg text-[9px] font-black uppercase tracking-widest border ${N.status==="success"?"bg-emerald-50 text-emerald-600 border-emerald-100":"bg-rose-50 text-rose-600 border-rose-100"}`,children:N.statusCode})]}),e.jsxs("div",{className:"flex items-center justify-between text-[9px] font-black text-slate-400 uppercase tracking-widest",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"px-1.5 py-0.5 bg-slate-100 rounded text-slate-500 border border-slate-200",children:N.method}),e.jsx("span",{children:N.endpoint})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Qe,{size:10})," ",N.time]})]})]},N.id))})]}),e.jsxs("div",{className:"mt-8 flex flex-col md:flex-row md:items-center justify-between gap-6",children:[e.jsxs("p",{className:"text-xs text-slate-500 font-medium",children:["System uptime ",e.jsx("span",{className:"text-emerald-500 font-bold",children:"99.99%"}),"  Latency ",e.jsx("span",{className:"text-violet-600 font-bold",children:"142ms"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"flex-1 md:flex-none px-6 py-3 bg-white border border-slate-200 rounded-2xl text-[10px] font-black uppercase tracking-widest text-slate-500 hover:text-slate-900 hover:bg-slate-50 transition-all",children:"Previous"}),e.jsx("button",{className:"flex-1 md:flex-none px-6 py-3 bg-white border border-slate-200 rounded-2xl text-[10px] font-black uppercase tracking-widest text-slate-500 hover:text-slate-900 hover:bg-slate-50 transition-all shadow-sm",children:"Next Page"})]})]})]}),e.jsx(rt,{isOpen:b,onClose:()=>g(!1),title:"Log Inspector",width:"600px",children:e.jsx(RD,{selectedLog:t,onClose:()=>g(!1)})})]})},Y1=()=>{const t=qt(),[s,a]=v.useState({orgName:"",address:"",email:"",phone:""}),[l,i]=v.useState(!0),[o,d]=v.useState(!1),u=localStorage.getItem("userRole")==="SUPER_ADMIN";v.useEffect(()=>{h()},[]);const h=async()=>{i(!0);try{const b=u?await c7():await uu();a({orgName:b.siteName||"",address:b.contactAddress||"",email:b.supportEmail||"",phone:b.contactPhone||""})}catch(b){console.error("Error loading settings:",b)}finally{i(!1)}},p=b=>{const{name:g,value:j}=b.target;a(A=>({...A,[g]:j}))},f=async()=>{d(!0);try{const b={siteName:s.orgName,contactAddress:s.address,supportEmail:s.email,contactPhone:s.phone};u?await d7(b):await Ew(b),alert("Settings updated successfully!"),t("/dashboard")}catch(b){console.error("Error saving settings:",b),alert("Failed to save settings")}finally{d(!1)}};return l?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 flex items-center justify-center",children:e.jsxs("div",{className:"animate-pulse flex flex-col items-center",children:[e.jsx("div",{className:"h-16 w-16 bg-gradient-to-br from-violet-200 to-purple-200 rounded-full mb-4 animate-spin"}),e.jsx("div",{className:"h-4 w-48 bg-slate-200 rounded"})]})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 flex flex-col items-center py-8 px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"w-full max-w-4xl mb-6",children:e.jsxs("button",{onClick:()=>t("/dashboard"),className:"group flex items-center text-slate-500 hover:text-violet-600 transition-all duration-300 hover:scale-105",children:[e.jsx("div",{className:"p-1 rounded-full group-hover:bg-violet-50 transition-all duration-300 mr-2 group-hover:scale-110",children:e.jsx(kn,{size:20,className:"transition-transform duration-300 group-hover:-translate-x-1"})}),e.jsx("span",{className:"font-semibold",children:"Back to Dashboard"})]})}),e.jsxs("div",{className:"w-full max-w-4xl mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(Tc,{size:28})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"General Settings"}),e.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Manage your organization's core profile information"})]})]})})]}),e.jsx("div",{className:"w-full max-w-4xl bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden transition-all duration-300 hover:shadow-2xl",children:e.jsxs("div",{className:"p-8 sm:p-10 space-y-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-3",htmlFor:"orgName",children:"Organization Name"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-slate-400 group-focus-within:text-violet-600 group-focus-within:scale-110 transition-all duration-300",children:e.jsx(Tc,{size:20})}),e.jsx("input",{type:"text",id:"orgName",name:"orgName",className:"block w-full pl-12 pr-4 py-3.5 bg-white border-2 border-slate-200 rounded-xl text-slate-900 text-sm focus:outline-none focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 hover:border-slate-300 transition-all duration-300 shadow-sm focus:shadow-lg",value:s.orgName,onChange:p,placeholder:"Enter organization name"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-3",htmlFor:"address",children:"Address"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute top-3.5 left-4 flex items-start pointer-events-none text-slate-400 group-focus-within:text-violet-600 group-focus-within:scale-110 transition-all duration-300",children:e.jsx($s,{size:20})}),e.jsx("textarea",{id:"address",name:"address",rows:"3",className:"block w-full pl-12 pr-4 py-3.5 bg-white border-2 border-slate-200 rounded-xl text-slate-900 text-sm focus:outline-none focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 hover:border-slate-300 transition-all duration-300 shadow-sm resize-none focus:shadow-lg",value:s.address,onChange:p,placeholder:"Enter full address"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-3",htmlFor:"email",children:"Contact Email"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-slate-400 group-focus-within:text-violet-600 group-focus-within:scale-110 transition-all duration-300",children:e.jsx(Wr,{size:20})}),e.jsx("input",{type:"email",id:"email",name:"email",className:"block w-full pl-12 pr-4 py-3.5 bg-white border-2 border-slate-200 rounded-xl text-slate-900 text-sm focus:outline-none focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 hover:border-slate-300 transition-all duration-300 shadow-sm focus:shadow-lg",value:s.email,onChange:p,placeholder:"support@example.com"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-3",htmlFor:"phone",children:"Contact Phone"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-slate-400 group-focus-within:text-violet-600 group-focus-within:scale-110 transition-all duration-300",children:e.jsx(Hs,{size:20})}),e.jsx("input",{type:"tel",id:"phone",name:"phone",className:"block w-full pl-12 pr-4 py-3.5 bg-white border-2 border-slate-200 rounded-xl text-slate-900 text-sm focus:outline-none focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 hover:border-slate-300 transition-all duration-300 shadow-sm focus:shadow-lg",value:s.phone,onChange:p,placeholder:"+91 00000 00000"})]})]})]}),e.jsx("div",{className:"flex justify-end pt-6 border-t border-slate-100",children:e.jsxs("button",{onClick:f,disabled:o,className:"group relative flex items-center justify-center px-8 py-3.5 rounded-xl font-bold text-white shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:translate-y-0 w-full sm:w-auto bg-gradient-to-r from-violet-600 to-purple-600 hover:shadow-violet-500/50",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 to-fuchsia-600 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx(na,{size:20,className:"mr-2 relative transition-transform duration-300 group-hover:rotate-12 group-hover:scale-110"}),e.jsx("span",{className:"relative",children:o?"Saving...":"Save Changes"})]})})]})})]})},Lg=({value:t,onChange:s,branches:a=[]})=>e.jsx("div",{className:"bg-violet-50 p-4 rounded-xl border border-violet-100 mb-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-white rounded-lg shadow-sm text-violet-600",children:e.jsx(Hx,{size:20})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-bold text-slate-800",children:"Apply Settings To:"}),e.jsx("p",{className:"text-xs text-slate-500 font-medium",children:"Choose if this configuration is global or branch-specific."})]})]}),e.jsx("div",{className:"w-full sm:w-auto",children:e.jsxs("select",{value:t||"all",onChange:l=>s(l.target.value==="all"?null:l.target.value),className:"w-full sm:w-64 pl-4 pr-10 py-2.5 bg-white border-2 border-slate-200 rounded-xl text-sm font-bold text-slate-700 focus:outline-none focus:border-violet-500 transition-all appearance-none cursor-pointer shadow-sm hover:border-slate-300",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%2364748b'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 1rem center",backgroundSize:"1.25rem"},children:[e.jsx("option",{value:"all",children:" All Branches (Global)"}),a.map(l=>e.jsxs("option",{value:l.id,children:[" ",l.name]},l.id))]})})]})}),FD={name:"Kiaan Fitness Premium",email:"contact@kiaanfitness.com",phone:"+1 (555) 123-4567",address:"123 Fitness Blvd, Silicon Valley, CA",timezone:"PST (UTC-8)",currency:"USD ($)",logoUrl:"https://via.placeholder.com/150"},zg=[{id:1,name:"Downtown HQ",location:"San Francisco, CA",manager:"Sarah Connor",status:"Active",members:1250},{id:2,name:"Westside Studio",location:"Los Angeles, CA",manager:"Mike Ross",status:"Active",members:850},{id:3,name:"North Hills",location:"Seattle, WA",manager:"Nancy Drew",status:"Inactive",members:0}],ID=[{role:"Super Admin",permissions:{members:!0,finance:!0,settings:!0,reports:!0}},{role:"Branch Manager",permissions:{members:!0,finance:!1,settings:!1,reports:!0}},{role:"Trainer",permissions:{members:!0,finance:!1,settings:!1,reports:!1}}],M0={plan:"Enterprise Tier",price:"$299/mo",nextBilling:"Nov 1, 2023",paymentMethod:"Visa ending in 4242",invoices:[{id:"INV-001",date:"Oct 1, 2023",amount:"$299.00",status:"Paid"},{id:"INV-002",date:"Sep 1, 2023",amount:"$299.00",status:"Paid"},{id:"INV-003",date:"Aug 1, 2023",amount:"$299.00",status:"Paid"}]},BD=[{id:1,name:"Stripe",description:"Payment Gateway",status:"Connected",icon:"CreditCard"},{id:2,name:"Mailchimp",description:"Email Marketing",status:"Disconnected",icon:"Mail"},{id:3,name:"Google Calendar",description:"Schedule Sync",status:"Connected",icon:"Calendar"},{id:4,name:"WhatsApp Business",description:"Member Chat",status:"Disconnected",icon:"MessageCircle"}],UD=[{id:1,user:"Admin User",action:"Updated Organization Settings",ip:"192.168.1.1",date:"2023-10-25 14:30"},{id:2,user:"Sarah Connor",action:"Created New Member (M-105)",ip:"192.168.1.4",date:"2023-10-25 10:15"},{id:3,user:"System",action:"Automatic Backup",ip:"localhost",date:"2023-10-25 00:00"},{id:4,user:"Admin User",action:"Changed Password",ip:"192.168.1.1",date:"2023-10-24 16:45"}],X1=()=>{const t=qt(),a=ig()?.role||localStorage.getItem("userRole"),l=a===ct.SUPER_ADMIN,i=a===ct.MANAGER,[o,d]=v.useState(null),[x,u]=v.useState({prefix:"INV-",startNumber:"1001",gstPercent:"18"}),[h,p]=v.useState(!0),[f,b]=v.useState(!1);v.useEffect(()=>{g()},[]);const g=async()=>{p(!0);try{const w=l?await x7():await uu();u({prefix:w.invoicePrefix||"INV-",startNumber:w.invoiceStartNumber||"1001",gstPercent:w.gstPercent?.toString()||"18"})}catch(w){console.error("Error fetching invoice settings:",w)}finally{p(!1)}},j=w=>{const{name:k,value:C}=w.target;u(L=>({...L,[k]:C}))},A=async()=>{b(!0);try{const w={invoicePrefix:x.prefix,invoiceStartNumber:parseInt(x.startNumber),gstPercent:parseFloat(x.gstPercent)};l?await u7(w):await Ew(w),alert("Invoice settings updated successfully!")}catch(w){console.error("Error saving invoice settings:",w),alert("Failed to save invoice settings.")}finally{b(!1)}};return h?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 flex items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(Sl,{className:"animate-spin text-violet-600 mb-4",size:48}),e.jsx("span",{className:"text-lg font-semibold text-slate-600",children:"Loading settings..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6 flex flex-col items-center",children:[e.jsx("div",{className:"w-full max-w-6xl mb-6",children:e.jsxs("button",{onClick:()=>t(l?"/superadmin/general-settings/general":"/branchadmin/settings/general"),className:"group flex items-center text-slate-500 hover:text-violet-600 transition-all duration-300 hover:scale-105",children:[e.jsx("div",{className:"p-1 rounded-full group-hover:bg-violet-50 transition-all duration-300 mr-2 group-hover:scale-110",children:e.jsx(kn,{size:20,className:"transition-transform duration-300 group-hover:-translate-x-1"})}),e.jsx("span",{className:"font-semibold",children:"Back to Settings"})]})}),e.jsxs("div",{className:"max-w-6xl mx-auto mb-6 sm:mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 rounded-xl sm:rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(Ga,{size:24,className:"sm:w-7 sm:h-7"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Invoice Settings"}),e.jsx("p",{className:"text-slate-600 text-xs sm:text-sm mt-0.5 sm:mt-1",children:"Configure invoice numbering and tax details"})]})]})})]}),e.jsx("div",{className:"max-w-6xl mx-auto w-full px-4 mb-6",children:e.jsx(Lg,{value:o,onChange:d,branches:zg})}),e.jsxs("div",{className:"max-w-6xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-6 sm:gap-8",children:[e.jsxs("div",{className:"bg-white rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-6 sm:p-8 hover:shadow-2xl transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 mb-6 sm:mb-8 pb-4 sm:pb-6 border-b border-slate-100",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-lg sm:rounded-xl bg-gradient-to-br from-violet-100 to-purple-100 flex items-center justify-center text-violet-600 shadow-md transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(Va,{size:20,className:"sm:w-6 sm:h-6"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-900",children:"Configuration"}),i&&e.jsx("span",{className:"px-2 py-0.5 bg-slate-100 text-slate-500 text-xs font-bold rounded border border-slate-200 uppercase tracking-wide",children:"Read-Only "})]}),e.jsx("p",{className:"text-xs sm:text-sm text-slate-500",children:i?"View invoice numbering and tax details.":"Set up invoice numbering and tax details"})]})]}),e.jsxs("div",{className:"space-y-5 sm:space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-bold text-slate-700 mb-2 sm:mb-3",htmlFor:"prefix",children:"Invoice Prefix"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 sm:pl-4 flex items-center pointer-events-none text-slate-400 group-focus-within:text-violet-600 group-focus-within:scale-110 transition-all duration-300",children:e.jsx(Wh,{size:18,className:"sm:w-5 sm:h-5"})}),e.jsx("input",{type:"text",id:"prefix",name:"prefix",className:`block w-full pl-10 sm:pl-12 pr-3 sm:pr-4 py-3 sm:py-3.5 bg-white border-2 border-slate-200 rounded-lg sm:rounded-xl text-slate-900 text-sm focus:outline-none focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 hover:border-slate-300 transition-all duration-300 shadow-sm focus:shadow-lg ${i?"cursor-not-allowed bg-slate-50 text-slate-500":""}`,value:x.prefix,onChange:j,placeholder:"e.g. INV-",disabled:i})]}),e.jsxs("p",{className:"text-[10px] sm:text-xs text-slate-500 mt-1.5 sm:mt-2 flex items-center gap-1.5",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-violet-400 inline-block"}),"Prefix for all generated invoice numbers"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-bold text-slate-700 mb-2 sm:mb-3",htmlFor:"startNumber",children:"Starting Number"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 sm:pl-4 flex items-center pointer-events-none text-slate-400 group-focus-within:text-violet-600 group-focus-within:scale-110 transition-all duration-300",children:e.jsx(Wh,{size:18,className:"sm:w-5 sm:h-5"})}),e.jsx("input",{type:"number",id:"startNumber",name:"startNumber",className:`block w-full pl-10 sm:pl-12 pr-3 sm:pr-4 py-3 sm:py-3.5 bg-white border-2 border-slate-200 rounded-lg sm:rounded-xl text-slate-900 text-sm focus:outline-none focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 hover:border-slate-300 transition-all duration-300 shadow-sm focus:shadow-lg ${i?"cursor-not-allowed bg-slate-50 text-slate-500":""}`,value:x.startNumber,onChange:j,placeholder:"e.g. 1001",disabled:i})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-bold text-slate-700 mb-2 sm:mb-3",htmlFor:"gstPercent",children:"Tax Settings (GST %)"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 sm:pl-4 flex items-center pointer-events-none text-slate-400 group-focus-within:text-violet-600 group-focus-within:scale-110 transition-all duration-300 z-10",children:e.jsx(Pc,{size:18,className:"sm:w-5 sm:h-5"})}),e.jsx(us,{options:[{value:"0",label:"0% (Tax Exempt)"},{value:"5",label:"5%"},{value:"12",label:"12%"},{value:"18",label:"18% (Standard)"},{value:"28",label:"28%"}],value:x.gstPercent,onChange:w=>j({target:{name:"gstPercent",value:w}}),className:`w-full pl-10 sm:pl-12 ${i?"cursor-not-allowed bg-slate-50 text-slate-500":""}`,disabled:i})]})]})]}),e.jsx("div",{className:"flex justify-end mt-6 sm:mt-8 pt-4 sm:pt-6 border-t border-slate-100",children:e.jsxs("button",{onClick:A,disabled:f||i,className:"group relative flex items-center justify-center px-6 sm:px-8 py-3 sm:py-3.5 rounded-lg sm:rounded-xl font-bold text-sm sm:text-base text-white shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:translate-y-0 w-full md:w-auto bg-gradient-to-r from-violet-600 to-purple-600 hover:shadow-violet-500/50",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 to-fuchsia-600 rounded-lg sm:rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),f?e.jsx(Sl,{className:"w-4 h-4 sm:w-5 sm:h-5 animate-spin relative mr-2"}):e.jsx(na,{className:"w-4 h-4 sm:w-5 sm:h-5 relative mr-2 transition-transform duration-300 group-hover:rotate-12 group-hover:scale-110"}),e.jsx("span",{className:"relative",children:f?"Saving...":"Save Configuration"})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-6 sm:p-8 hover:shadow-2xl transition-all duration-300",children:[e.jsx("div",{className:"flex items-center justify-between mb-6 sm:mb-8",children:e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg sm:rounded-xl bg-gradient-to-br from-emerald-100 to-emerald-200 flex items-center justify-center text-emerald-600 shadow-md transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(qs,{size:16,className:"sm:w-5 sm:h-5"})}),e.jsx("div",{children:e.jsxs("h2",{className:"text-base sm:text-lg lg:text-xl font-bold text-slate-900 flex items-center gap-2",children:["Live Preview",e.jsx("span",{className:"text-[9px] sm:text-xs font-semibold px-2 sm:px-2.5 py-0.5 sm:py-1 bg-emerald-100 text-emerald-700 rounded-full border border-emerald-200",children:"Updated"})]})})]})}),e.jsx("div",{className:"bg-gradient-to-br from-slate-50 to-slate-100/50 rounded-lg sm:rounded-xl p-4 sm:p-6 border-2 border-slate-200 shadow-inner",children:e.jsxs("div",{className:"bg-white rounded-lg p-4 sm:p-6 shadow-md",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-4 sm:gap-0 mb-4 sm:mb-6",children:[e.jsxs("div",{className:"text-left",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2 sm:mb-3",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-violet-600 to-purple-600 rounded-lg sm:rounded-xl flex items-center justify-center shadow-md",children:e.jsx("span",{className:"text-white font-bold text-xs sm:text-sm",children:"G"})}),e.jsx("span",{className:"font-bold text-slate-800 text-base sm:text-lg",children:"GymName"})]}),e.jsx("div",{className:"h-1.5 sm:h-2 w-24 sm:w-32 bg-slate-200 rounded mb-1 sm:mb-1.5"}),e.jsx("div",{className:"h-1.5 sm:h-2 w-20 sm:w-24 bg-slate-200 rounded"})]}),e.jsxs("div",{className:"text-left sm:text-right w-full sm:w-auto",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-black text-slate-300 tracking-wider",children:"INVOICE"}),e.jsxs("p",{className:"font-mono text-xs sm:text-sm text-violet-600 font-bold mt-1.5 sm:mt-2 bg-violet-50 px-2.5 sm:px-3 py-1 sm:py-1.5 rounded-lg border border-violet-200 inline-block",children:["#",x.prefix,x.startNumber]})]})]}),e.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[e.jsxs("div",{className:"flex justify-between border-b border-slate-100 pb-2 sm:pb-3 hover:bg-slate-50 px-2 sm:px-3 -mx-2 sm:-mx-3 rounded transition-colors",children:[e.jsx("span",{className:"text-xs sm:text-sm text-slate-500 font-semibold",children:"Date Issued"}),e.jsx("span",{className:"text-xs sm:text-sm font-bold text-slate-700",children:new Date().toLocaleDateString()})]}),e.jsxs("div",{className:"flex justify-between border-b border-slate-100 pb-2 sm:pb-3 hover:bg-slate-50 px-2 sm:px-3 -mx-2 sm:-mx-3 rounded transition-colors",children:[e.jsx("span",{className:"text-xs sm:text-sm text-slate-500 font-semibold",children:"Total Amount"}),e.jsx("span",{className:"text-xs sm:text-sm font-black text-slate-900",children:"0.00"})]}),e.jsxs("div",{className:"flex justify-between pt-1 sm:pt-2 hover:bg-slate-50 px-2 sm:px-3 -mx-2 sm:-mx-3 rounded transition-colors",children:[e.jsxs("span",{className:"text-xs sm:text-sm text-slate-500 font-semibold",children:["Tax (",x.gstPercent,"%)"]}),e.jsx("span",{className:"text-xs sm:text-sm font-bold text-emerald-600",children:"Included"})]})]}),e.jsx("div",{className:"mt-4 sm:mt-6 p-3 sm:p-4 bg-gradient-to-r from-violet-50 to-purple-50 rounded-lg border border-violet-100 text-center",children:e.jsx("p",{className:"text-[10px] sm:text-xs text-slate-600 font-semibold",children:"This is how your invoice header will look to customers."})})]})})]})]})]})},K1=()=>{const t=qt(),[s,a]=v.useState([]),[l,i]=v.useState(!1),[o,d]=v.useState("add"),[x,u]=v.useState(null),[h,p]=v.useState({name:"",type:"Access Controller",ip:"",status:"active"});v.useEffect(()=>{f()},[]);const f=async()=>{try{const L=(await kw()).map(N=>({id:N.id,name:N.name,type:N.type||"Turnstile",ip:N.ipAddress||"",status:N.status==="connected"||N.status==="active"||N.status==="Online"?"active":"offline"}));a(L)}catch(C){console.error("Failed to load devices",C)}},b=()=>{d("add"),p({name:"",type:"Access Controller",ip:"",status:"active"}),i(!0)},g=C=>{d("edit"),u(C),p({name:C.name,type:C.type,ip:C.ip,status:C.status}),i(!0)},j=async C=>{if(C.preventDefault(),!h.name||!h.ip){alert("Please fill in all required fields.");return}if(!/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(h.ip)){alert("Please enter a valid IP address.");return}try{o==="edit"?(await S7(x.id,h),alert("Device updated successfully!")):(await k7(h),alert("Device added successfully!")),f(),i(!1)}catch(N){console.error("Failed to save device",N),alert("Failed to save device: "+N)}},A=C=>{const{name:L,value:N}=C.target;p(P=>({...P,[L]:N}))},w=async C=>{if(confirm("Are you sure you want to remove this device?"))try{await C7(C),f()}catch(L){console.error("Failed to delete device",L),alert("Failed to delete device: "+L)}},k=C=>e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-bold shadow-sm transition-all duration-300 hover:scale-110 ${C==="active"?"bg-gradient-to-r from-emerald-50 to-emerald-100 text-emerald-700 border border-emerald-200":"bg-gradient-to-r from-red-50 to-red-100 text-red-700 border border-red-200"}`,children:[e.jsx("span",{className:`inline-block w-2 h-2 rounded-full animate-pulse ${C==="active"?"bg-emerald-500":"bg-red-500"}`}),C.charAt(0).toUpperCase()+C.slice(1)]});return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-6 flex flex-col items-center",children:[e.jsx("div",{className:"w-full max-w-7xl mb-6",children:e.jsxs("button",{onClick:()=>t(localStorage.getItem("userRole")==="SUPER_ADMIN"?"/superadmin/general-settings/general":"/branchadmin/settings/general"),className:"group flex items-center text-slate-500 hover:text-violet-600 transition-all duration-300 hover:scale-105",children:[e.jsx("div",{className:"p-1 rounded-full group-hover:bg-violet-50 transition-all duration-300 mr-2 group-hover:scale-110",children:e.jsx(kn,{size:20,className:"transition-transform duration-300 group-hover:-translate-x-1"})}),e.jsx("span",{className:"font-semibold",children:"Back to Settings"})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(nw,{size:28})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Hardware Settings"}),e.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Manage connected devices and access points"})]})]}),e.jsxs("button",{onClick:b,className:"group relative px-6 py-3 rounded-xl font-bold text-white shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1 flex items-center gap-2 bg-gradient-to-r from-violet-600 to-purple-600 hover:shadow-violet-500/50",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 to-fuchsia-600 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx(wt,{className:"w-5 h-5 relative transition-transform duration-300 group-hover:rotate-90 group-hover:scale-110"}),e.jsx("span",{className:"relative",children:"Add New Device"})]})]})})]}),e.jsx("div",{className:"max-w-7xl mx-auto bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gradient-to-r from-slate-50 to-slate-100/50 border-b-2 border-slate-200",children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"Device Name"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"Type"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"IP Address"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold uppercase tracking-wider text-slate-700",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:s.length>0?s.map(C=>e.jsxs("tr",{className:"group hover:bg-gradient-to-r hover:from-violet-50/50 hover:via-purple-50/30 hover:to-transparent transition-all duration-300",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-11 h-11 rounded-xl flex items-center justify-center shadow-md transition-all duration-300 group-hover:scale-110 group-hover:rotate-6 ${C.status==="active"?"bg-gradient-to-br from-emerald-500 to-emerald-600 text-white":"bg-gradient-to-br from-red-500 to-red-600 text-white"}`,children:e.jsx(Of,{size:20})}),e.jsxs("div",{children:[e.jsx("span",{className:"font-bold text-slate-900 block text-sm group-hover:text-violet-600 transition-colors",children:C.name}),e.jsxs("span",{className:"text-xs text-slate-500",children:["ID: ",C.id]})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"text-sm font-semibold text-slate-700",children:C.type})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"inline-flex items-center gap-2 font-mono text-xs bg-slate-50 px-3 py-1.5 rounded-lg border border-slate-200 transition-all duration-300 group-hover:bg-violet-50 group-hover:border-violet-200 group-hover:text-violet-700",children:[e.jsx(xm,{size:14}),C.ip]})}),e.jsx("td",{className:"px-6 py-4",children:k(C.status)}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>g(C),className:"group/btn p-2.5 text-violet-600 hover:bg-violet-50 rounded-xl transition-all duration-300 border border-transparent hover:border-violet-200 hover:scale-110 hover:shadow-md",title:"Edit",children:e.jsx(Pa,{size:16,className:"transition-transform duration-300 group-hover/btn:rotate-12 group-hover/btn:scale-110"})}),e.jsx("button",{onClick:()=>w(C.id),className:"group/btn p-2.5 text-red-600 hover:bg-red-50 rounded-xl transition-all duration-300 border border-transparent hover:border-red-200 hover:scale-110 hover:shadow-md",title:"Remove",children:e.jsx(ms,{size:16,className:"transition-transform duration-300 group-hover/btn:rotate-12 group-hover/btn:scale-110"})})]})})]},C.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-16 text-center",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-violet-100 to-purple-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(Of,{size:32,className:"text-violet-600"})}),e.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"No Devices Found"}),e.jsx("p",{className:"text-slate-600 text-sm",children:"Add your first hardware device to get started"})]})})})})]})})}),e.jsx(rt,{isOpen:l,onClose:()=>i(!1),title:o==="add"?"Add New Device":"Edit Device Configuration",subtitle:o==="add"?"Configure a new hardware node":`Updating ${x?.name}`,maxWidth:"max-w-lg",footer:e.jsxs("div",{className:"flex flex-row-reverse gap-3 w-full",children:[e.jsx("button",{type:"submit",form:"device-form",className:"px-6 py-2.5 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-xl font-bold shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:o==="add"?"Add Device":"Save Changes"}),e.jsx("button",{type:"button",onClick:()=>i(!1),className:"px-6 py-2.5 bg-white border-2 border-slate-200 text-slate-700 rounded-xl font-bold shadow-sm hover:shadow-md transition-all duration-300 hover:scale-105",children:"Cancel"})]}),children:e.jsxs("form",{id:"device-form",onSubmit:j,className:"flex flex-col gap-6 p-6",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Device Name *"}),e.jsx("input",{type:"text",name:"name",className:"block w-full px-4 py-3 bg-white border-2 border-slate-200 rounded-xl text-slate-900 text-sm focus:outline-none focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 hover:border-slate-300 transition-all duration-300 shadow-sm",value:h.name,onChange:A,placeholder:"e.g. Reception Turnstile",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Device Type"}),e.jsx(us,{options:["Access Controller","Biometric","RFID Reader","Turnstile","Camera"],value:h.type,onChange:C=>A({target:{name:"type",value:C}}),className:"w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"IP Address *"}),e.jsx("input",{type:"text",name:"ip",className:"block w-full px-4 py-3 bg-white border-2 border-slate-200 rounded-xl text-slate-900 text-sm font-mono focus:outline-none focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 hover:border-slate-300 transition-all duration-300 shadow-sm",value:h.ip,onChange:A,placeholder:"192.168.1.1",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-3",children:"Initial Status"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"status",value:"active",checked:h.status==="active",onChange:A,className:"w-4 h-4 text-violet-600 focus:ring-violet-500"}),e.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"status",value:"offline",checked:h.status==="offline",onChange:A,className:"w-4 h-4 text-violet-600 focus:ring-violet-500"}),e.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Offline"})]})]})]})]})})]})},$D=()=>{const t=qt(),[s,a]=v.useState(!1),[l,i]=v.useState(!0),[o,d]=v.useState({globalBookingEnabled:!0,creditsPerBooking:1,maxBookingsPerDay:2,maxBookingsPerWeek:10,classCancellationWindow:4,classAdvanceBookingDays:7,benefitCancellationWindow:24,benefitAdvanceBookingDays:14,penaltyEnabled:!0,penaltyCredits:1});v.useEffect(()=>{(async()=>{try{const p=await h7();d(f=>({...f,...p}))}catch(p){console.error("Failed to load booking settings:",p)}finally{i(!1)}})()},[]);const x=h=>{const{name:p,value:f,type:b,checked:g}=h.target;d(j=>({...j,[p]:b==="checkbox"?g:f}))},u=async()=>{a(!0);try{await m7(o),alert("Booking rules updated successfully!")}catch(h){console.error("Failed to save booking settings:",h),alert("Failed to save: "+h.message)}finally{a(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 flex flex-col items-center py-8 px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"w-full max-w-4xl mb-6",children:e.jsxs("button",{onClick:()=>t("/superadmin/general-settings/general"),className:"group flex items-center text-slate-500 hover:text-violet-600 transition-all duration-300 hover:scale-105",children:[e.jsx("div",{className:"p-1 rounded-full group-hover:bg-violet-50 transition-all duration-300 mr-2 group-hover:scale-110",children:e.jsx(kn,{size:20,className:"transition-transform duration-300 group-hover:-translate-x-1"})}),e.jsx("span",{className:"font-semibold",children:"Back to Dashboard"})]})}),e.jsxs("div",{className:"w-full max-w-4xl mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(Ve,{size:28})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Booking Rules"}),e.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Configure specific windows for classes and premium benefits"})]})]})})]}),e.jsx("div",{className:"w-full max-w-4xl bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden transition-all duration-300 hover:shadow-2xl",children:e.jsxs("div",{className:"p-8 sm:p-10 space-y-10",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-indigo-50 rounded-lg text-indigo-600",children:e.jsx(Er,{size:20})}),e.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Group Class Rules"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-3",children:"Cancellation Window (Classes)"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-slate-400",children:e.jsx(Qe,{size:18})}),e.jsx("input",{type:"number",name:"classCancellationWindow",value:o.classCancellationWindow,onChange:x,className:"block w-full pl-12 pr-4 py-3.5 bg-white border-2 border-slate-200 rounded-xl text-slate-900 text-sm focus:outline-none focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 hover:border-slate-300 transition-all font-semibold"}),e.jsx("span",{className:"absolute inset-y-0 right-4 flex items-center text-xs font-bold text-slate-400",children:"Hours Before"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-3",children:"Advance Booking Window (Classes)"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-slate-400",children:e.jsx(Ve,{size:18})}),e.jsx("input",{type:"number",name:"classAdvanceBookingDays",value:o.classAdvanceBookingDays,onChange:x,className:"block w-full pl-12 pr-4 py-3.5 bg-white border-2 border-slate-200 rounded-xl text-slate-900 text-sm focus:outline-none focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 hover:border-slate-300 transition-all font-semibold"}),e.jsx("span",{className:"absolute inset-y-0 right-4 flex items-center text-xs font-bold text-slate-400",children:"Days Out"})]})]})]})]}),e.jsx("div",{className:"border-t border-slate-100 my-8"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-rose-50 rounded-lg text-rose-600",children:e.jsx(Dd,{size:20})}),e.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Premium Benefit Rules (Sauna, PT, etc.)"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-3",children:"Cancellation Window (Benefits)"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-rose-400",children:e.jsx(Qe,{size:18})}),e.jsx("input",{type:"number",name:"benefitCancellationWindow",value:o.benefitCancellationWindow,onChange:x,className:"block w-full pl-12 pr-4 py-3.5 bg-white border-2 border-rose-100 rounded-xl text-slate-900 text-sm focus:outline-none focus:ring-4 focus:ring-rose-500/20 focus:border-rose-500 hover:border-rose-200 transition-all font-semibold"}),e.jsx("span",{className:"absolute inset-y-0 right-4 flex items-center text-xs font-bold text-rose-400",children:"Hours Before"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-3",children:"Advance Booking Window (Benefits)"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-rose-400",children:e.jsx(Ve,{size:18})}),e.jsx("input",{type:"number",name:"benefitAdvanceBookingDays",value:o.benefitAdvanceBookingDays,onChange:x,className:"block w-full pl-12 pr-4 py-3.5 bg-white border-2 border-rose-100 rounded-xl text-slate-900 text-sm focus:outline-none focus:ring-4 focus:ring-rose-500/20 focus:border-rose-500 hover:border-rose-200 transition-all font-semibold"}),e.jsx("span",{className:"absolute inset-y-0 right-4 flex items-center text-xs font-bold text-rose-400",children:"Days Out"})]})]})]})]}),e.jsx("div",{className:"border-t border-slate-100 my-8"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-slate-50 rounded-lg text-slate-600",children:e.jsx(Ca,{size:20})}),e.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Consumption & Penalties"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:e.jsxs("div",{className:"bg-slate-50 p-6 rounded-2xl border border-slate-200 flex flex-col justify-between",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Late Cancellation Penalty"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"penaltyEnabled",checked:o.penaltyEnabled,onChange:x,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-violet-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-violet-600"})]})]}),o.penaltyEnabled&&e.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2",children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-widest mb-2",children:"Penalty Credits"}),e.jsx("input",{type:"number",name:"penaltyCredits",value:o.penaltyCredits,onChange:x,className:"block w-full px-4 py-2 bg-white border border-slate-300 rounded-lg text-slate-900 text-sm focus:border-violet-500 focus:ring-2 focus:ring-violet-200 transition-all"})]})]})})]}),e.jsx("div",{className:"flex justify-end pt-6 border-t border-slate-100",children:e.jsxs("button",{onClick:u,disabled:s,className:"group relative flex items-center justify-center px-8 py-4 rounded-xl font-bold text-white shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:translate-y-0 w-full sm:w-auto bg-gradient-to-r from-violet-600 to-purple-600 hover:shadow-violet-500/50",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 to-fuchsia-600 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx(na,{size:20,className:"mr-2 relative transition-transform duration-300 group-hover:rotate-12 group-hover:scale-110"}),e.jsx("span",{className:"relative",children:s?"Saving...":"Save Configuration"})]})})]})})]})},qD=()=>{const[t,s]=v.useState(null),[a,l]=v.useState(!0),[i,o]=v.useState("personal"),[d,x]=v.useState(!1),[u,h]=v.useState({type:"",text:""}),[p,f]=v.useState({name:"",email:"",phone:"",address:""});v.useEffect(()=>{b()},[]);const b=async()=>{try{l(!0);const w=await w7();s(w),f({name:w.name,email:w.email,phone:w.phone,address:w.address||""})}catch(w){console.error("Error loading profile:",w),h({type:"error",text:"Failed to load profile data."})}finally{l(!1)}},g=w=>{const{name:k,value:C}=w.target;f(L=>({...L,[k]:C}))},j=async w=>{w.preventDefault(),x(!0),h({type:"",text:""});try{const k=await N7(p);s(k),h({type:"success",text:"Profile updated successfully!"})}catch{h({type:"error",text:"Failed to update profile."})}finally{x(!1)}};if(a)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 flex items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"h-16 w-16 bg-gradient-to-br from-violet-200 to-purple-200 rounded-full mb-4 animate-spin"}),e.jsx("p",{className:"text-lg font-semibold text-slate-600",children:"Loading profile..."})]})});if(!t)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 flex items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-4 text-center max-w-sm",children:[e.jsx("div",{className:"w-16 h-16 bg-red-50 rounded-full flex items-center justify-center",children:e.jsx(Ca,{size:32,className:"text-red-400"})}),e.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Could Not Load Profile"}),e.jsx("p",{className:"text-slate-500 text-sm",children:u.text||"There was an error fetching your profile. Please try refreshing the page."}),e.jsx("button",{onClick:b,className:"px-6 py-2.5 bg-violet-600 text-white rounded-xl text-sm font-bold hover:bg-violet-700 transition-all",children:"Retry"})]})});const A=[{id:"personal",label:"Personal Info",icon:lt},{id:"security",label:"Security",icon:Ca},{id:"notifications",label:"Notifications",icon:wl}];return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-6 md:p-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[e.jsxs("div",{className:"relative bg-white rounded-2xl border border-slate-100 shadow-xl overflow-hidden",children:[e.jsx("div",{className:"h-40 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 relative",children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-transparent to-black/10"})}),e.jsx("div",{className:"px-8 pb-8",children:e.jsxs("div",{className:"relative flex flex-col md:flex-row md:items-end gap-6 -mt-16",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"w-36 h-36 rounded-2xl bg-white p-2 shadow-2xl ring-4 ring-white",children:e.jsx("div",{className:"w-full h-full rounded-xl bg-gradient-to-br from-violet-600 to-purple-600 flex items-center justify-center text-white text-5xl font-black shadow-lg",children:t.avatar})}),e.jsx("button",{className:"absolute bottom-2 right-2 p-3 bg-white rounded-xl shadow-lg border border-slate-200 text-violet-600 hover:scale-110 hover:bg-violet-50 active:scale-95 transition-all duration-300 group-hover:shadow-xl",children:e.jsx(qo,{size:18})})]}),e.jsxs("div",{className:"flex-1 pb-2",children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent mb-2",children:t.name}),e.jsxs("div",{className:"flex flex-wrap gap-3 mt-3",children:[e.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-gradient-to-r from-violet-50 to-purple-50 text-violet-700 text-xs font-bold border border-violet-200 shadow-sm",children:t.role.replace("_"," ")}),e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full bg-emerald-50 text-emerald-700 text-xs font-bold border border-emerald-200 shadow-sm",children:[e.jsx($t,{size:14,className:"text-emerald-500"}),t.status]}),e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full bg-slate-50 text-slate-700 text-xs font-bold border border-slate-200 shadow-sm",children:[e.jsx(Ve,{size:14,className:"text-slate-500"}),"Joined ",t.joinedDate]})]})]}),e.jsxs("button",{className:"md:mb-2 px-6 py-3 bg-gradient-to-r from-emerald-600 to-emerald-700 text-white rounded-xl text-sm font-bold shadow-lg hover:shadow-xl hover:scale-105 active:scale-95 transition-all duration-300 flex items-center gap-2",children:[e.jsx(Xt,{size:18}),"Verified Account"]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"lg:col-span-1 space-y-2",children:A.map(w=>e.jsxs("button",{onClick:()=>o(w.id),className:`w-full flex items-center gap-3 px-5 py-4 rounded-xl text-sm font-bold transition-all duration-300 ${i===w.id?"bg-gradient-to-r from-violet-600 to-purple-600 text-white shadow-lg hover:shadow-xl hover:scale-105":"text-slate-600 hover:bg-white border border-transparent hover:border-slate-200 hover:text-slate-900 hover:shadow-md"}`,children:[e.jsx(w.icon,{size:20,className:i===w.id?"":"text-slate-400"}),w.label]},w.id))}),e.jsx("div",{className:"lg:col-span-3",children:e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-xl p-8",children:[u.text&&e.jsxs("div",{className:`mb-6 p-4 rounded-xl flex items-center gap-3 text-sm font-semibold border ${u.type==="success"?"bg-emerald-50 text-emerald-700 border-emerald-200":"bg-red-50 text-red-700 border-red-200"}`,children:[e.jsx(Xt,{size:18}),u.text]}),i==="personal"&&e.jsxs("form",{onSubmit:j,className:"space-y-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"Personal Information"}),e.jsx("p",{className:"text-sm text-slate-600",children:"Update your personal details and contact information"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Full Name"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-slate-400 group-focus-within:text-violet-600 group-focus-within:scale-110 transition-all duration-300",children:e.jsx(lt,{size:20})}),e.jsx("input",{type:"text",name:"name",value:p.name,onChange:g,className:"block w-full pl-12 pr-4 py-3.5 bg-white border-2 border-slate-200 rounded-xl text-slate-900 text-sm focus:outline-none focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 hover:border-slate-300 transition-all duration-300 shadow-sm focus:shadow-lg",placeholder:"Enter your name"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Email Address"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-slate-400 group-focus-within:text-violet-600 group-focus-within:scale-110 transition-all duration-300",children:e.jsx(Wr,{size:20})}),e.jsx("input",{type:"email",name:"email",value:p.email,onChange:g,className:"block w-full pl-12 pr-4 py-3.5 bg-white border-2 border-slate-200 rounded-xl text-slate-900 text-sm focus:outline-none focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 hover:border-slate-300 transition-all duration-300 shadow-sm focus:shadow-lg",placeholder:"Enter your email"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Phone Number"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-slate-400 group-focus-within:text-violet-600 group-focus-within:scale-110 transition-all duration-300",children:e.jsx(Hs,{size:20})}),e.jsx("input",{type:"text",name:"phone",value:p.phone,onChange:g,className:"block w-full pl-12 pr-4 py-3.5 bg-white border-2 border-slate-200 rounded-xl text-slate-900 text-sm focus:outline-none focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 hover:border-slate-300 transition-all duration-300 shadow-sm focus:shadow-lg",placeholder:"Enter phone number"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Location"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-slate-400 group-focus-within:text-violet-600 group-focus-within:scale-110 transition-all duration-300",children:e.jsx($s,{size:20})}),e.jsx("input",{type:"text",name:"address",value:p.address,onChange:g,className:"block w-full pl-12 pr-4 py-3.5 bg-white border-2 border-slate-200 rounded-xl text-slate-900 text-sm focus:outline-none focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 hover:border-slate-300 transition-all duration-300 shadow-sm focus:shadow-lg",placeholder:"Enter city, country"})]})]})]}),e.jsx("div",{className:"pt-6 border-t border-slate-100",children:e.jsxs("button",{type:"submit",disabled:d,className:"group relative flex items-center justify-center px-8 py-3.5 rounded-xl font-bold text-white shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:translate-y-0 bg-gradient-to-r from-violet-600 to-purple-600 hover:shadow-violet-500/50",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 to-fuchsia-600 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),d?e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin relative mr-2"}):e.jsx(na,{size:20,className:"mr-2 relative transition-transform duration-300 group-hover:rotate-12 group-hover:scale-110"}),e.jsx("span",{className:"relative",children:d?"Saving...":"Save Profile Changes"})]})})]}),i==="security"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"Security Settings"}),e.jsx("p",{className:"text-sm text-slate-600",children:"Manage your password and account security"})]}),e.jsxs("div",{className:"p-6 rounded-xl bg-gradient-to-br from-red-50 to-red-100/50 border-2 border-red-200",children:[e.jsxs("h4",{className:"text-red-700 font-bold flex items-center gap-2 mb-2",children:[e.jsx(Rs,{size:20}),"Password Management"]}),e.jsx("p",{className:"text-red-600 text-sm font-medium",children:"It's recommended to update your password every 90 days for maximum security."}),e.jsx("button",{className:"mt-4 px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-xl text-sm font-bold hover:shadow-lg hover:scale-105 active:scale-95 transition-all duration-300",children:"Change Password"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-sm font-bold text-slate-900 uppercase tracking-wider",children:"Account Security"}),e.jsx("div",{className:"p-6 rounded-xl border-2 border-slate-200 bg-slate-50/50 hover:bg-slate-50 transition-all duration-300",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-slate-900",children:"Two-Factor Authentication"}),e.jsx("p",{className:"text-xs text-slate-600 mt-1",children:"Add an extra layer of security to your account."})]}),e.jsx("div",{className:"relative w-14 h-7 bg-gradient-to-r from-emerald-500 to-emerald-600 rounded-full shadow-md cursor-pointer hover:scale-105 transition-transform duration-300",children:e.jsx("div",{className:"absolute right-1 top-1 w-5 h-5 bg-white rounded-full shadow-sm"})})]})})]})]}),i==="notifications"&&e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[e.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-violet-100 to-purple-100 rounded-full flex items-center justify-center text-violet-600 mb-6 shadow-lg",children:e.jsx(wl,{size:48})}),e.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Notification Preferences"}),e.jsx("p",{className:"text-slate-600 max-w-md font-medium",children:"Customize how you receive alerts and system updates."})]})]})})]})]})})},HD=({isOpen:t,onClose:s,memberData:a,walletData:l,setWalletData:i})=>{const o=a&&l?l[a.id]:{balance:0,transactions:[],lastTransaction:"N/A"},[d,x]=v.useState(null),[u,h]=v.useState(""),[p,f]=v.useState(""),[b,g]=v.useState(!1);v.useEffect(()=>{a&&x(null)},[a]);const j=async A=>{if(A.preventDefault(),!u||!p||isNaN(u)||!a)return;const w=parseFloat(u),k=d==="credit"?"Credit":"Debit";try{g(!0);const C=await v7(a.id,{type:k,amount:w,description:p}),L=C.balance,N=C.transaction,P=new Date(N.createdAt||new Date).toISOString().split("T")[0],_={id:N.id,date:P,type:N.type,amount:parseFloat(N.amount),description:N.description};i(F=>({...F,[a.id]:{balance:L,transactions:[_,...o.transactions],lastTransaction:P}})),x(null),h(""),f("")}catch(C){console.error("Wallet transaction failed:",C),alert("Transaction failed: "+C)}finally{g(!1)}};return t?e.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm transition-opacity duration-300 animate-in fade-in",onClick:s}),e.jsxs("div",{className:`absolute inset-y-0 right-0 w-full max-w-[400px] bg-white shadow-2xl flex flex-col transform transition-transform duration-300 ease-in-out ${t?"translate-x-0":"translate-x-full"} animate-in slide-in-from-right`,children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex flex-col gap-4 bg-white sticky top-0 z-10 font-sans",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:a?.name}),e.jsx("p",{className:"text-xs font-semibold text-gray-400 uppercase tracking-widest",children:a?.id})]}),e.jsx("button",{onClick:s,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition-all",children:e.jsx(Vr,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>x("credit"),className:`flex-1 py-2 px-4 rounded-xl text-xs font-bold transition-all duration-300 shadow-sm ${d==="credit"?"bg-green-600 text-white shadow-green-100":"bg-green-50 text-green-700 hover:bg-green-600 hover:text-white"}`,children:"Add Credit"}),e.jsx("button",{onClick:()=>x("debit"),className:`flex-1 py-2 px-4 rounded-xl text-xs font-bold transition-all duration-300 shadow-sm ${d==="debit"?"bg-red-600 text-white shadow-red-100":"bg-red-50 text-red-700 hover:bg-red-600 hover:text-white"}`,children:"Deduct"})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[e.jsxs("div",{className:"bg-indigo-600 rounded-2xl p-6 text-white shadow-lg shadow-indigo-100",children:[e.jsx("p",{className:"text-indigo-100 text-sm font-medium",children:"Current Balance"}),e.jsx("h3",{className:"text-3xl font-bold mt-1",children:Number(o.balance)<0?`-$${Math.abs(Number(o.balance)).toFixed(2)}`:`$${Number(o.balance).toFixed(2)}`}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-6",children:[e.jsxs("div",{className:"bg-white/10 p-3 rounded-xl backdrop-blur-sm",children:[e.jsx("p",{className:"text-indigo-100 text-[10px] font-bold uppercase tracking-wider",children:"Total Credit"}),e.jsxs("p",{className:"text-base font-bold text-white",children:["$",(o.transactions||[]).filter(A=>A.type==="Credit").reduce((A,w)=>A+Number(w.amount),0).toFixed(2)]})]}),e.jsxs("div",{className:"bg-white/10 p-3 rounded-xl backdrop-blur-sm",children:[e.jsx("p",{className:"text-indigo-100 text-[10px] font-bold uppercase tracking-wider",children:"Total Debit"}),e.jsxs("p",{className:"text-base font-bold text-white",children:["$",(o.transactions||[]).filter(A=>A.type==="Debit").reduce((A,w)=>A+Number(w.amount),0).toFixed(2)]})]})]})]}),d&&e.jsx("div",{className:"animate-slide-up",children:e.jsxs("div",{className:`saas-card border-2 ${d==="credit"?"border-green-100":"border-red-100"}`,children:[e.jsx("h4",{className:`text-sm font-bold mb-4 ${d==="credit"?"text-green-700":"text-red-700"}`,children:d==="credit"?"Add Credit Amount":"Deduct Amount"}),e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest block mb-1",children:"Amount"}),e.jsx("input",{type:"number",required:!0,className:"saas-input",placeholder:"Enter amount...",value:u,onChange:A=>h(A.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest block mb-1",children:"Description"}),e.jsx("input",{type:"text",required:!0,className:"saas-input",placeholder:"Reason for transaction...",value:p,onChange:A=>f(A.target.value)})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsx("button",{type:"button",onClick:()=>x(null),className:"flex-1 py-2 text-sm font-bold text-gray-500 hover:bg-gray-100 rounded-xl transition-all",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:b,className:`flex-1 flex items-center justify-center gap-2 py-2 text-sm font-bold text-white rounded-xl transition-all shadow-md ${b?"opacity-70 cursor-not-allowed":""} ${d==="credit"?"bg-green-600 hover:bg-green-700 shadow-green-100":"bg-red-600 hover:bg-red-700 shadow-red-100"}`,children:b?e.jsx(Sl,{className:"w-4 h-4 animate-spin"}):"Confirm"})]})]})]})}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-bold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-4 bg-indigo-600 rounded-full"}),"Recent Transactions"]}),e.jsx("div",{className:"saas-card p-0 overflow-hidden border border-gray-100 shadow-none",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-50/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-500",children:"Date/Type"}),e.jsx("th",{className:"px-4 py-3 text-right font-semibold text-gray-500",children:"Amount"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-50",children:o.transactions.map(A=>e.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors group",children:[e.jsxs("td",{className:"px-4 py-3",children:[e.jsx("div",{className:"text-gray-900 font-medium",children:A.date}),e.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[e.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${A.type==="Credit"?"bg-green-500":"bg-red-500"}`}),e.jsx("span",{className:`text-[10px] font-bold uppercase ${A.type==="Credit"?"text-green-600":"text-red-600"}`,children:A.type}),e.jsxs("span",{className:"text-gray-400 font-medium text-[10px] truncate max-w-[150px] inline-block",children:[" ",A.description]})]})]}),e.jsxs("td",{className:"px-4 py-3 text-right font-bold text-gray-900",children:[A.type==="Credit"?"+":"-","$",Number(A.amount).toFixed(2)]})]},A.id))})]})})})]})]}),e.jsx("div",{className:"p-6 border-t border-gray-100 bg-gray-50/30",children:e.jsx("button",{onClick:s,className:"w-full py-3 bg-gray-900 text-white rounded-xl font-bold hover:bg-gray-800 transition-all shadow-lg hover:shadow-xl active:scale-[0.98]",children:"Done"})})]})]}):null},J1=({role:t=ct.SUPER_ADMIN})=>{const[s,a]=v.useState(""),[l,i]=v.useState(null),[o,d]=v.useState(!1),[x,u]=v.useState(!0),[h,p]=v.useState([]),[f,b]=v.useState({});v.useEffect(()=>{(async()=>{try{u(!0);const F=await b7();p(F);const R=F.reduce((B,T)=>(B[T.id]={balance:Number(T.balance)||0,transactions:T.transactions||[],lastTransaction:T.lastTransaction},B),{});b(R)}catch(F){console.error("Failed to fetch wallets:",F)}finally{u(!1)}})()},[]);const[g,j]=v.useState(1),A=5;v.useEffect(()=>{j(1)},[s]);const w=_=>{i(_),d(!0)},k=h.filter(_=>_.name.toLowerCase().includes(s.toLowerCase())||_.id.toString().toLowerCase().includes(s.toLowerCase())||_.branch.toLowerCase().includes(s.toLowerCase())),C=g*A,L=C-A,N=k.slice(L,C),P=Math.ceil(k.length/A);return e.jsxs("div",{className:"p-6 w-full animate-slide-up relative overflow-hidden",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"Benefit Wallet Management"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Manage member wallet balances and transactions"})]}),e.jsx("div",{className:"saas-card mb-6",children:e.jsxs("div",{className:"relative w-full md:w-96 group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(tt,{className:"h-5 w-5 text-gray-400 group-focus-within:text-indigo-500 transition-colors"})}),e.jsx("input",{type:"text",className:"saas-input pl-10 transition-all duration-300 focus:scale-[1.02] focus:shadow-lg",placeholder:"Search members, IDs or branches...",value:s,onChange:_=>a(_.target.value)})]})}),e.jsx("div",{className:"hidden md:block saas-card p-0 overflow-hidden shadow-soft rounded-xl mb-6",children:e.jsx("div",{className:"saas-table-wrapper overflow-x-auto",children:e.jsxs("table",{className:"saas-table saas-table-responsive w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Member Name"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Member ID"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Branch"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Current Balance"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Last Transaction"}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Action"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:N.length>0?N.map(_=>{const F=f[_.id]||{balance:0,lastTransaction:"N/A"};return e.jsxs("tr",{className:"hover:bg-indigo-50/30 transition-all duration-300 group",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap","data-label":"Member Name",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:_.name})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap","data-label":"Member ID",children:e.jsx("div",{className:"text-sm text-gray-500",children:_.id})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap","data-label":"Branch",children:e.jsx("div",{className:"text-sm text-gray-500",children:_.branch})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap","data-label":"Current Balance",children:e.jsx("span",{className:`text-sm font-bold ${Number(F.balance)>0?"text-green-600":Number(F.balance)<0?"text-red-100":"text-gray-900"}`,children:Number(F.balance)<0?`-$${Math.abs(Number(F.balance)).toFixed(2)}`:`$${Number(F.balance).toFixed(2)}`})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap","data-label":"Last Transaction",children:e.jsx("div",{className:"text-sm text-gray-500",children:F.lastTransaction})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right","data-label":"Action",children:e.jsxs("button",{onClick:()=>w(_),className:"inline-flex items-center gap-2 px-3 py-1.5 text-sm font-medium text-indigo-600 bg-indigo-50 rounded-lg hover:bg-indigo-100 transition-all duration-300",children:[e.jsx(qs,{className:"w-4 h-4"}),"View Wallet"]})})]},_.id)}):e.jsx("tr",{children:e.jsxs("td",{colSpan:"6",className:"px-6 py-10 text-center text-gray-500 font-medium",children:['No members found matching "',s,'"']})})})]})})}),e.jsx("div",{className:"grid grid-cols-1 gap-4 md:hidden mb-6",children:N.length>0?N.map(_=>{const F=f[_.id]||{balance:0,lastTransaction:"N/A"};return e.jsx(Ya,{title:_.name,subtitle:_.id,badge:{label:Number(F.balance)<0?`-$${Math.abs(Number(F.balance)).toFixed(2)}`:`$${Number(F.balance).toFixed(2)}`,color:Number(F.balance)>0?"emerald":Number(F.balance)<0?"red":"slate"},fields:[{label:"Branch",value:_.branch,icon:$s},{label:"Last Trans.",value:F.lastTransaction,icon:yl}],actions:[{label:"View Wallet",icon:qs,variant:"primary",onClick:()=>w(_)}]},_.id)}):e.jsxs("div",{className:"bg-white p-10 text-center text-gray-500 rounded-xl shadow-sm border border-gray-100",children:['No members found matching "',s,'"']})}),k.length>A&&e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white border border-gray-100 rounded-xl shadow-sm",children:[e.jsxs("div",{className:"flex flex-1 justify-between sm:hidden",children:[e.jsx("button",{onClick:()=>j(_=>Math.max(_-1,1)),disabled:g===1,className:`relative inline-flex items-center rounded-md px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 ${g===1?"opacity-50 cursor-not-allowed":""}`,children:"Previous"}),e.jsx("button",{onClick:()=>j(_=>Math.min(_+1,P)),disabled:g===P,className:`relative ml-3 inline-flex items-center rounded-md px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 ${g===P?"opacity-50 cursor-not-allowed":""}`,children:"Next"})]}),e.jsxs("div",{className:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",e.jsx("span",{className:"font-semibold",children:L+1})," to ",e.jsx("span",{className:"font-semibold",children:Math.min(C,k.length)})," of"," ",e.jsx("span",{className:"font-semibold",children:k.length})," results"]})}),e.jsx("div",{children:e.jsxs("nav",{className:"isolate inline-flex -space-x-px rounded-md shadow-xs","aria-label":"Pagination",children:[e.jsxs("button",{onClick:()=>j(_=>Math.max(_-1,1)),disabled:g===1,className:`relative inline-flex items-center rounded-l-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 ${g===1?"opacity-50 cursor-not-allowed":""}`,children:[e.jsx("span",{className:"sr-only",children:"Previous"}),e.jsx(Gr,{className:"h-5 w-5","aria-hidden":"true"})]}),[...Array(P)].map((_,F)=>e.jsx("button",{onClick:()=>j(F+1),className:`relative inline-flex items-center px-4 py-2 text-sm font-semibold focus:z-20 transition-all ${g===F+1?"z-10 bg-indigo-600 text-white focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600":"text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:outline-offset-0"}`,children:F+1},F+1)),e.jsxs("button",{onClick:()=>j(_=>Math.min(_+1,P)),disabled:g===P,className:`relative inline-flex items-center rounded-r-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 ${g===P?"opacity-50 cursor-not-allowed":""}`,children:[e.jsx("span",{className:"sr-only",children:"Next"}),e.jsx(js,{className:"h-5 w-5","aria-hidden":"true"})]})]})})]})]}),e.jsx(HD,{isOpen:o,onClose:()=>d(!1),memberData:l,walletData:f,setWalletData:b})]})},Ow=async t=>(await ye.post("/admin/staff",t)).data,Fw=async()=>(await ye.get("/admin/staff")).data,WD=async t=>(await ye.get(`/admin/staff/${t}`)).data,GD=async t=>(await ye.post("/admin/payroll",t)).data,VD=async()=>(await ye.get("/admin/payroll/staff")).data,Iw=async()=>(await ye.get("/admin/payroll/history")).data,YD=async(t,s)=>(await ye.patch(`/admin/payroll/${t}/status`,s)).data,XD=async()=>(await ye.get("/admin/leave-requests")).data,KD=async(t,s)=>(await ye.patch(`/admin/leave-requests/${t}/status`,{status:s})).data,Eg=async()=>(await ye.get("/admin/settings/tenant")).data,Tg=async t=>(await ye.patch("/admin/settings/tenant",t)).data,JD=async()=>(await ye.get("/admin/requests/trainers")).data,Q1=async(t,s)=>(await ye.patch(`/admin/requests/trainers/${t}`,{status:s})).data,Bw=async(t,s)=>(await ye.patch(`/admin/staff/${t}`,s)).data,QD=async t=>(await ye.delete(`/admin/staff/${t}`)).data,Hp=({role:t})=>{const[s,a]=v.useState([]),[l,i]=v.useState(!0),[o,d]=v.useState(""),[x,u]=v.useState("All"),[h,p]=v.useState(!1),[f,b]=v.useState(null),[g,j]=v.useState(!1),[A,w]=v.useState({name:"",email:"",phone:"",branch:"",role:"",baseSalary:"",commission:"",status:"Pending",documents:null}),[k,C]=v.useState(!1),L=async()=>{try{i(!0);const I=t==="SUPER_ADMIN"?await y7():await JD();a(I)}catch(I){console.error("Failed to load trainer requests:",I)}finally{i(!1)}};v.useEffect(()=>{L()},[]);const N=s.find(I=>I.id===f),P=async I=>{try{t==="SUPER_ADMIN"?await $1(I,"Approved"):await Q1(I,"Approved"),L()}catch(oe){console.error("Failed to approve trainer:",oe)}},_=async I=>{try{t==="SUPER_ADMIN"?await $1(I,"Rejected"):await Q1(I,"Rejected"),L()}catch(oe){console.error("Failed to reject trainer:",oe)}},F=async I=>{if(I.preventDefault(),!(!A.name||!A.email||!A.phone||!A.branch))try{const oe={...A,role:"TRAINER",trainerConfig:{specialization:A.role,commissionType:"percentage",commissionValue:A.commission}};f?(t==="SUPER_ADMIN"?await g7(f,oe):await Bw(f,oe),L()):(t==="SUPER_ADMIN"?await f7(oe):await Ow(oe),L()),G()}catch(oe){console.error("Failed to save trainer:",oe),alert("Failed to save trainer: "+(oe.response?.data?.message||oe.message))}},R=async I=>{const oe=I.target.files[0];if(oe){C(!0);try{const Ne=new FormData;Ne.append("file",oe),Ne.append("upload_preset","gym_preset"),Ne.append("cloud_name","dw48hcxi5");const $=await(await fetch("https://api.cloudinary.com/v1_1/dw48hcxi5/image/upload",{method:"POST",body:Ne})).json();$.secure_url?w(Q=>({...Q,documents:$.secure_url})):alert("Upload failed: "+$.error?.message)}catch(Ne){console.error("Upload error:",Ne),alert("Error uploading file.")}finally{C(!1)}}},B=async I=>{if(window.confirm("Are you sure you want to delete this trainer application?"))try{t==="SUPER_ADMIN"?await Nw(I):await QD(I),L()}catch(oe){console.error("Failed to delete trainer:",oe),alert("Failed to delete: "+(oe.response?.data?.message||oe.message))}},T=I=>{b(I.id),p(!0)},q=()=>{p(!1),setTimeout(()=>b(null),300)},H=(I=null)=>{I?(b(I.id),w({name:I.name,email:I.email,phone:I.phone,branch:I.branch,role:I.role||"",baseSalary:I.baseSalary||"",commission:I.commission||"",status:I.status})):(b(null),w({name:"",email:"",phone:"",branch:"",role:"",baseSalary:"",commission:"",status:"Pending"})),j(!0)},G=()=>{j(!1),setTimeout(()=>{b(null),w({name:"",email:"",phone:"",branch:"",role:"",baseSalary:"",commission:"",status:"Pending"})},300)},W=JSON.parse(localStorage.getItem("user"))||{},le=W.tenantName||W.branchName||"Downtown Center",V=s.filter(I=>{const oe=I.name.toLowerCase().includes(o.toLowerCase()),Ne=x==="All"||I.status===x,$=t==="SUPER_ADMIN"||t==="BRANCH_ADMIN"||I.branch===le;return oe&&Ne&&$}),ne=I=>{switch(I){case"Approved":return"bg-green-50 text-green-700 ring-1 ring-inset ring-green-600/20";case"Rejected":return"bg-red-50 text-red-700 ring-1 ring-inset ring-red-600/20";default:return"bg-yellow-50 text-yellow-700 ring-1 ring-inset ring-yellow-600/20"}};return e.jsxs("div",{className:"p-6 w-full animate-slide-up relative overflow-hidden",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"Trainer Requests"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Review and manage new trainer applications across all branches"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 flex-1 max-w-2xl",children:[e.jsxs("div",{className:"relative flex-1 group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(tt,{className:"h-5 w-5 text-gray-400 group-focus-within:text-indigo-500 transition-colors"})}),e.jsx("input",{type:"text",placeholder:"Search by trainer name...",className:"saas-input pl-10 transition-all duration-300 focus:scale-[1.01] focus:shadow-md h-11",value:o,onChange:I=>d(I.target.value)})]}),e.jsxs("div",{className:"relative w-full sm:w-48 group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(ks,{className:"h-4 w-4 text-gray-400 group-focus-within:text-indigo-500"})}),e.jsxs("select",{className:"saas-input pl-10 bg-white cursor-pointer h-11",value:x,onChange:I=>u(I.target.value),children:[e.jsx("option",{value:"All",children:"All Statuses"}),e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"Approved",children:"Approved"}),e.jsx("option",{value:"Rejected",children:"Rejected"})]})]})]}),e.jsxs("button",{onClick:H,className:"flex items-center justify-center gap-2 px-5 py-2.5 bg-indigo-600 text-white rounded-lg font-semibold hover:bg-indigo-700 transition-all duration-300 shadow-lg shadow-indigo-200 active:scale-95 h-11",children:[e.jsx(wt,{className:"w-5 h-5"}),e.jsx("span",{children:"Add Trainer"})]})]}),e.jsx("div",{className:"hidden md:block saas-card p-0 overflow-hidden shadow-soft rounded-xl mb-6",children:e.jsx("div",{className:"saas-table-wrapper overflow-x-auto",children:e.jsxs("table",{className:"saas-table saas-table-responsive w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Trainer Name"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Contact Info"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Requested Branch"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Action"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:V.length>0?V.map(I=>e.jsxs("tr",{className:"hover:bg-indigo-50/20 transition-all duration-300 group",children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap","data-label":"Trainer Name",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-900",children:I.name}),e.jsxs("div",{className:"text-xs text-gray-400",children:["ID: TRN-",I.id.toString().padStart(3,"0")]})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap","data-label":"Contact Info",children:[e.jsx("div",{className:"text-sm text-gray-600",children:I.email}),e.jsx("div",{className:"text-xs text-gray-400",children:I.phone})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap","data-label":"Requested Branch",children:e.jsx("div",{className:"text-sm text-gray-600",children:I.branch})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap","data-label":"Status",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${ne(I.status)}`,children:I.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center","data-label":"Action",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:()=>P(I.id),disabled:I.status!=="Pending",title:I.status==="Pending"?"Approve":`Already ${I.status}`,className:`p-1.5 text-green-600 bg-green-50 rounded-lg transition-colors ${I.status!=="Pending"?"opacity-40 cursor-not-allowed":"hover:bg-green-100"}`,children:e.jsx(Qt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>_(I.id),disabled:I.status!=="Pending",title:I.status==="Pending"?"Reject":`Already ${I.status}`,className:`p-1.5 text-red-600 bg-red-50 rounded-lg transition-colors ${I.status!=="Pending"?"opacity-40 cursor-not-allowed":"hover:bg-red-100"}`,children:e.jsx(Yl,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>T(I),title:"View Details",className:"p-1.5 text-indigo-600 bg-indigo-50 rounded-lg hover:bg-indigo-100 transition-colors",children:e.jsx(qs,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>H(I),title:"Edit Trainer",className:"p-1.5 text-amber-600 bg-amber-50 rounded-lg hover:bg-amber-100 transition-colors",children:e.jsx(Pa,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>B(I.id),title:"Delete",className:"p-1.5 text-rose-600 bg-rose-50 rounded-lg hover:bg-rose-100 transition-colors",children:e.jsx(ms,{className:"w-4 h-4"})})]})})]},I.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-12 text-center text-gray-500",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("div",{className:"p-3 bg-gray-50 rounded-full",children:e.jsx(tt,{className:"w-6 h-6 text-gray-400"})}),e.jsxs("p",{className:"font-medium",children:['No results found matching "',o,'"']}),e.jsx("p",{className:"text-sm text-gray-400",children:"Try adjusting your search or filters to find what you're looking for."})]})})})})]})})}),e.jsx("div",{className:"grid grid-cols-1 gap-4 md:hidden mb-6",children:V.length>0?V.map(I=>e.jsx(Ya,{title:I.name,subtitle:`ID: TRN-${I.id.toString().padStart(3,"0")}`,badge:{label:I.status,color:I.status==="Approved"?"emerald":I.status==="Rejected"?"red":"amber"},fields:[{label:"Branch",value:I.branch,icon:Lr},{label:"Email",value:I.email,icon:Wr},{label:"Phone",value:I.phone,icon:Hs}],actions:[{label:"View Details",icon:qs,variant:"secondary",onClick:()=>T(I)},{label:"Edit",icon:Pa,variant:"secondary",onClick:()=>H(I)},{label:"Delete",icon:ms,variant:"danger",onClick:()=>B(I.id)},...I.status==="Pending"?[{label:"Approve",icon:Qt,variant:"primary",onClick:()=>P(I.id)},{label:"Reject",icon:Yl,variant:"danger",onClick:()=>_(I.id)}]:[]]},I.id)):e.jsxs("div",{className:"bg-white p-10 text-center text-gray-500 rounded-xl shadow-sm border border-gray-100",children:['No results found matching "',o,'"']})}),e.jsx("div",{className:"flex items-center justify-between px-4 py-3 bg-white border border-gray-100 rounded-xl shadow-sm",children:e.jsxs("div",{className:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",e.jsx("span",{className:"font-semibold",children:"1"})," to ",e.jsx("span",{className:"font-semibold",children:V.length})," of"," ",e.jsx("span",{className:"font-semibold",children:V.length})," results"]})}),e.jsx("div",{children:e.jsxs("nav",{className:"isolate inline-flex -space-x-px rounded-md shadow-xs",children:[e.jsx("button",{className:"relative inline-flex items-center rounded-l-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 opacity-50 cursor-not-allowed",children:e.jsx(Gr,{className:"h-5 w-5"})}),e.jsx("button",{className:"relative z-10 inline-flex items-center bg-indigo-600 px-4 py-2 text-sm font-semibold text-white",children:"1"}),e.jsx("button",{className:"relative inline-flex items-center rounded-r-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 opacity-50 cursor-not-allowed",children:e.jsx(js,{className:"h-5 w-5"})})]})})]})}),e.jsx(rt,{isOpen:h,onClose:q,title:"Trainer Profile",subtitle:N?`ID: TRN-${N.id.toString().padStart(3,"0")}`:"",children:N&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-extrabold text-gray-900 leading-tight",children:N.name}),e.jsx("div",{className:"mt-4",children:e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold shadow-sm ${ne(N.status)}`,children:N.status})})]}),e.jsx("hr",{className:"border-gray-100"}),e.jsxs("div",{className:"grid grid-cols-1 gap-y-6",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-2.5 bg-gray-50 rounded-xl",children:e.jsx(ks,{className:"w-5 h-5 text-gray-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-1",children:"Contract Status"}),e.jsx("p",{className:"text-gray-900 font-medium",children:"New Application"})]})]}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-2.5 bg-gray-50 rounded-xl",children:e.jsx(Wr,{className:"w-5 h-5 text-gray-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-1",children:"Contact Email"}),e.jsx("p",{className:"text-gray-900 font-medium",children:N.email})]})]}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-2.5 bg-gray-50 rounded-xl",children:e.jsx(Hs,{className:"w-5 h-5 text-gray-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-1",children:"Phone Number"}),e.jsx("p",{className:"text-gray-900 font-medium",children:N.phone})]})]}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-2.5 bg-gray-50 rounded-xl",children:e.jsx(Lr,{className:"w-5 h-5 text-gray-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-1",children:"Requested Branch"}),e.jsx("p",{className:"text-gray-900 font-medium",children:N.branch})]})]})]}),e.jsxs("div",{className:"pt-10 space-y-3",children:[e.jsxs("button",{onClick:()=>P(N.id),disabled:N.status!=="Pending",className:`w-full flex items-center justify-center gap-2 py-4 rounded-xl font-bold transition-all duration-300 shadow-lg ${N.status==="Pending"?"bg-green-600 text-white hover:bg-green-700 shadow-green-100 hover:scale-[1.02] active:scale-95":"bg-gray-100 text-gray-400 cursor-not-allowed shadow-none"}`,children:[e.jsx(Qt,{className:"w-5 h-5"}),e.jsx("span",{children:"Approve Request"})]}),e.jsxs("button",{onClick:()=>_(N.id),disabled:N.status!=="Pending",className:`w-full flex items-center justify-center gap-2 py-4 rounded-xl font-bold transition-all duration-300 shadow-lg ${N.status==="Pending"?"bg-red-50 text-red-600 border border-red-100 hover:bg-red-100 shadow-red-50 hover:scale-[1.02] active:scale-95":"bg-gray-50 text-gray-300 cursor-not-allowed border-none shadow-none"}`,children:[e.jsx(Yl,{className:"w-5 h-5"}),e.jsx("span",{children:"Reject Request"})]})]})]})}),e.jsx(rt,{isOpen:g,onClose:G,title:f?"Edit Trainer":"Add New Trainer",children:e.jsxs("form",{onSubmit:F,className:"flex flex-col gap-6 p-6 pt-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-black text-indigo-600 uppercase tracking-widest mb-1",children:f?"Edit Configuration":"New Registration"}),e.jsx("p",{className:"text-xs text-gray-400 font-medium",children:"Please provide accurate trainer information"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"Trainer Name *"}),e.jsx("input",{required:!0,type:"text",className:"saas-input w-full",placeholder:"Enter full name",value:A.name||"",onChange:I=>w({...A,name:I.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"Specialization / Role *"}),e.jsx("input",{required:!0,type:"text",className:"saas-input w-full",placeholder:"e.g. Senior PT, Yoga Expert",value:A.role||"",onChange:I=>w({...A,role:I.target.value})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"Email Address *"}),e.jsx("input",{required:!0,type:"email",className:"saas-input w-full",placeholder:"example@gym.com",value:A.email||"",onChange:I=>w({...A,email:I.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"Phone Number *"}),e.jsx("input",{required:!0,type:"tel",className:"saas-input w-full",placeholder:"+1 234-567-8900",value:A.phone||"",onChange:I=>w({...A,phone:I.target.value})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"Base Salary *"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 font-bold text-gray-400",children:""}),e.jsx("input",{required:!0,type:"number",className:"saas-input w-full pl-8",placeholder:"25000",value:A.baseSalary||"",onChange:I=>w({...A,baseSalary:I.target.value})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"Commission % (PT Sharing) *"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute right-10 top-1/2 -translate-y-1/2 font-bold text-gray-400",children:"%"}),e.jsx("input",{required:!0,type:"number",className:"saas-input w-full pr-12",placeholder:"20",value:A.commission||"",onChange:I=>w({...A,commission:I.target.value})})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"Requested Branch *"}),e.jsxs("select",{required:!0,className:"saas-input w-full bg-white cursor-pointer",value:A.branch||"",onChange:I=>w({...A,branch:I.target.value}),children:[e.jsx("option",{value:"",children:"Select Branch"}),e.jsx("option",{value:"Downtown Center",children:"Downtown Center"}),e.jsx("option",{value:"Westside Gym",children:"Westside Gym"}),e.jsx("option",{value:"Eastside Fitness",children:"Eastside Fitness"}),e.jsx("option",{value:"North Point",children:"North Point"}),e.jsx("option",{value:"South Bay",children:"South Bay"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"Upload Government ID / Documents *"}),e.jsx("div",{className:"flex items-center justify-center w-full",children:e.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-xl cursor-pointer bg-gray-50 hover:bg-gray-100 transition-all",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[e.jsx(wt,{className:"w-8 h-8 mb-3 text-gray-400"}),k?e.jsx("p",{className:"mb-2 text-sm text-gray-500 font-semibold",children:"Uploading..."}):A.documents?e.jsx("p",{className:"mb-2 text-sm text-green-600 font-semibold",children:"Document Uploaded Successfully"}):e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[e.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),e.jsx("p",{className:"text-xs text-gray-400",children:"PDF, PNG, JPG (MAX. 5MB)"})]})]}),e.jsx("input",{type:"file",className:"hidden",onChange:R,accept:"image/*,.pdf",disabled:k})]})})]}),f&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"Registration Status *"}),e.jsxs("select",{required:!0,className:"saas-input w-full bg-white cursor-pointer",value:A.status,onChange:I=>w({...A,status:I.target.value}),children:[e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"Approved",children:"Approved"}),e.jsx("option",{value:"Rejected",children:"Rejected"})]})]}),e.jsxs("div",{className:"pt-8 space-y-3",children:[e.jsxs("button",{type:"submit",className:"w-full flex items-center justify-center gap-2 py-4 bg-indigo-600 text-white rounded-xl font-bold transition-all duration-300 shadow-lg shadow-indigo-100 hover:bg-indigo-700 hover:scale-[1.02] active:scale-95",children:[f?e.jsx(Pa,{className:"w-5 h-5"}):e.jsx(wt,{className:"w-5 h-5"}),e.jsx("span",{children:f?"Save Changes":"Add Trainer"})]}),e.jsx("button",{type:"button",onClick:G,className:"w-full py-4 bg-gray-50 text-gray-600 rounded-xl font-bold transition-all duration-300 hover:bg-gray-100",children:"Cancel"})]})]})})]})},Z1=({role:t})=>{const s="Downtown Center",[a,l]=v.useState([]),[i,o]=v.useState(!0),[d,x]=v.useState(""),[u,h]=v.useState("All"),[p,f]=v.useState(1),[b,g]=v.useState(null),[j,A]=v.useState(!1),w=5;v.useEffect(()=>{(async()=>{try{const R=await j7();l(R)}catch(R){console.error("Failed to fetch trainer change requests",R)}finally{o(!1)}})()},[]);const k=a.filter(F=>{const R=F.memberName.toLowerCase().includes(d.toLowerCase())||F.memberId.toLowerCase().includes(d.toLowerCase()),B=u==="All"||F.status===u,q=t==="SUPER_ADMIN"||t==="BRANCH_ADMIN"||F.branch===s;return R&&B&&q}),C=Math.ceil(k.length/w),L=k.slice((p-1)*w,p*w),N=(F,R)=>{l(B=>B.map(T=>T.id===F?{...T,status:R}:T)),console.log(`Request ${F} status updated to ${R}`)},P=F=>{g(F),A(!0)},_=F=>{switch(F){case"Approved":return"bg-green-50 text-green-600 border-green-100";case"Rejected":return"bg-rose-50 text-rose-600 border-rose-100";default:return"bg-amber-50 text-amber-600 border-amber-100"}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-6 md:p-8",children:[e.jsx("div",{className:"mb-8 flex flex-col md:flex-row md:items-center justify-between gap-4",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Trainer Change Requests"}),e.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Review and manage member requests for trainer reassignment"})]})}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 mb-6",children:[e.jsxs("div",{className:"p-4 sm:p-6 border-b border-slate-100 flex flex-col md:flex-row gap-4 items-center justify-between",children:[e.jsxs("div",{className:"relative w-full md:w-96 group",children:[e.jsx(tt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 transition-colors group-hover:text-violet-500",size:18}),e.jsx("input",{type:"text",className:"pl-11 h-11 w-full rounded-xl border-2 border-slate-200 focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 transition-all text-sm",placeholder:"Search by member name or ID...",value:d,onChange:F=>x(F.target.value)})]}),e.jsx("div",{className:"w-full md:w-48",children:e.jsx(us,{options:["All","Pending","Approved","Rejected"],value:u,onChange:h,placeholder:"All Status",icon:ks})})]}),e.jsx("div",{className:"saas-table-wrapper hidden md:block",children:e.jsxs("table",{className:"saas-table w-full",children:[e.jsx("thead",{className:"bg-slate-50/50 border-b border-slate-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Member"}),e.jsx("th",{className:"px-6 py-4 text-left text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Requested Change"}),e.jsx("th",{className:"px-6 py-4 text-left text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-6 py-4 text-left text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-right text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-slate-100 text-sm",children:L.length>0?L.map(F=>e.jsxs("tr",{className:"group hover:bg-slate-50/50 transition-all",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-violet-100 text-violet-600 flex items-center justify-center font-bold text-xs uppercase shadow-sm",children:F.memberName.charAt(0)}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-slate-900 group-hover:text-violet-600 transition-colors",children:F.memberName}),e.jsx("div",{className:"text-[10px] font-mono text-slate-400 tracking-tight",children:F.memberId})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsx("span",{className:"text-slate-400",children:"From:"}),e.jsx("span",{className:"font-medium text-slate-700",children:F.currentTrainer})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsx("span",{className:"text-slate-400",children:"To:"}),e.jsx("span",{className:"font-bold text-violet-600",children:F.newTrainer})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2 text-slate-500",children:[e.jsx(Ve,{size:14,className:"text-slate-300"}),e.jsx("span",{className:"text-xs font-medium",children:F.date})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-[10px] font-extrabold uppercase tracking-widest border border-dashed ${_(F.status)} shadow-sm`,children:F.status})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[F.status==="Pending"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>N(F.id,"Approved"),className:"w-8 h-8 flex items-center justify-center text-green-500 hover:bg-green-50 rounded-lg transition-all",title:"Approve",children:e.jsx(Qt,{size:18})}),e.jsx("button",{onClick:()=>N(F.id,"Rejected"),className:"w-8 h-8 flex items-center justify-center text-rose-500 hover:bg-rose-50 rounded-lg transition-all",title:"Reject",children:e.jsx(Yl,{size:18})})]}),e.jsx("button",{onClick:()=>P(F),className:"w-8 h-8 flex items-center justify-center text-slate-400 hover:text-violet-600 hover:bg-violet-50 rounded-lg transition-all",children:e.jsx(qs,{size:18})})]})})]},F.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-12 text-center text-slate-400",children:"No requests found matching your filters."})})})]})}),e.jsx("div",{className:"md:hidden space-y-4 p-4",children:L.length>0?L.map(F=>e.jsx(Ya,{title:F.memberName,subtitle:F.memberId,status:F.status,statusColor:F.status==="Approved"?"emerald":F.status==="Rejected"?"rose":"amber",icon:lt,iconColor:"bg-violet-100 text-violet-600",fields:[{label:"Current Trainer",value:F.currentTrainer},{label:"Requested Trainer",value:F.newTrainer,highlight:!0},{label:"Date",value:F.date},{label:"Reason",value:F.reason}],actions:[{label:"View",icon:qs,onClick:()=>P(F),variant:"secondary"},...F.status==="Pending"?[{label:"Approve",icon:Qt,onClick:()=>N(F.id,"Approved"),variant:"primary",className:"bg-green-600 hover:bg-green-700 text-white"},{label:"Reject",icon:Yl,onClick:()=>N(F.id,"Rejected"),variant:"danger",className:"bg-rose-100 text-rose-600 hover:bg-rose-200"}]:[]]},F.id)):e.jsx("div",{className:"text-center py-12 text-slate-400",children:e.jsx("p",{children:"No requests found."})})}),C>1&&e.jsxs("div",{className:"px-6 py-4 border-t border-slate-100 flex items-center justify-between bg-slate-50/20",children:[e.jsxs("p",{className:"text-xs text-slate-500",children:["Showing ",e.jsx("span",{className:"font-bold text-slate-900",children:(p-1)*w+1})," to ",e.jsx("span",{className:"font-bold text-slate-900",children:Math.min(p*w,k.length)})," of ",e.jsx("span",{className:"font-bold text-slate-900",children:k.length})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{disabled:p===1,onClick:()=>f(F=>F-1),className:"p-2 border border-slate-200 rounded-lg hover:bg-white disabled:opacity-40 transition-all text-slate-500 shadow-sm",children:e.jsx(Gr,{size:16})}),e.jsx("button",{disabled:p===C,onClick:()=>f(F=>F+1),className:"p-2 border border-slate-200 rounded-lg hover:bg-white disabled:opacity-40 transition-all text-slate-500 shadow-sm",children:e.jsx(js,{size:16})})]})]})]}),e.jsx(rt,{isOpen:j,onClose:()=>A(!1),title:"Request Details",subtitle:b?.memberId,children:b&&e.jsxs("div",{className:"space-y-8 fade-in",children:[e.jsxs("div",{className:`p-4 rounded-2xl border-2 border-dashed flex items-center justify-between ${_(b.status)}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-2 h-2 rounded-full animate-pulse ${b.status==="Approved"?"bg-green-500":b.status==="Rejected"?"bg-rose-500":"bg-amber-500"}`}),e.jsx("span",{className:"text-xs font-black uppercase tracking-[0.2em]",children:b.status})]}),e.jsx("span",{className:"text-[10px] font-bold opacity-60 uppercase",children:b.date})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"Current Trainer"}),e.jsx("p",{className:"font-bold text-slate-700",children:b.currentTrainer})]}),e.jsxs("div",{className:"p-4 bg-violet-50 rounded-2xl border border-violet-100",children:[e.jsx("p",{className:"text-[10px] font-black text-violet-400 uppercase tracking-widest mb-2",children:"Requested Trainer"}),e.jsx("p",{className:"font-black text-violet-600",children:b.newTrainer})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4 text-slate-400",children:[e.jsx(sr,{size:16}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Member Reason"})]}),e.jsxs("p",{className:"text-sm font-medium text-slate-600 leading-relaxed italic",children:['"',b.reason,'"']})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-xl",children:[e.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Branch"}),e.jsx("span",{className:"text-xs font-bold text-slate-700",children:b.branch})]}),b.status==="Pending"&&e.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4",children:[e.jsx("button",{onClick:()=>{N(b.id,"Rejected"),A(!1)},className:"py-4 bg-white border-2 border-slate-100 text-slate-500 rounded-2xl font-black uppercase tracking-widest text-[10px] hover:bg-slate-50 hover:text-rose-500 transition-all",children:"Reject"}),e.jsx("button",{onClick:()=>{N(b.id,"Approved"),A(!1)},className:"py-4 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-2xl font-black uppercase tracking-widest text-[10px] shadow-xl shadow-violet-200 hover:scale-105 transition-all",children:"Approve"})]})]})})]})},ey=({role:t=ct.SUPER_ADMIN})=>{const s=qt(),[a,l]=v.useState([]),[i,o]=v.useState(!0),[d,x]=v.useState(""),[u,h]=v.useState("January"),p=new Date().getFullYear(),[f,b]=v.useState(p.toString()),[g,j]=v.useState(0),[A,w]=v.useState(0),[k,C]=v.useState("Pending");v.useEffect(()=>{(async()=>{try{const T=await VD();l(T),console.log("Loaded Staff List:",T)}catch(T){console.error("Error loading staff for payroll:",T)}finally{o(!1)}})()},[]);const L=a.find(B=>B.id===parseInt(d)),P=(()=>{if(!L)return 0;const B=L.baseSalary;return B?Number(B):0})(),_=Number(P)+Number(g)-Number(A),F=async B=>{if(B.preventDefault(),!d){alert("Please select a staff member");return}const T={staffId:d,month:u,year:f,amount:_,status:k};try{await GD(T),alert("Payroll created successfully!"),s("/superadmin/payroll/history")}catch(q){console.error("Error creating payroll:",q),alert("Failed to create payroll: "+(q.response?.data?.message||q.message))}},R=()=>{s(-1)};return e.jsx("div",{className:"bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6 pb-12 min-h-screen",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-8 p-6 bg-white rounded-2xl shadow-xl border border-slate-100 flex justify-between items-center overflow-hidden relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500/5 to-fuchsia-500/5"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-black bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent mb-1",children:"Create Payroll"}),e.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Assign salary, incentives, deductions, and mark as paid"})]}),e.jsx("div",{className:"hidden sm:flex w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 items-center justify-center text-white shadow-lg shadow-violet-200",children:e.jsx(M8,{size:28})})]}),e.jsx("div",{className:"bg-white rounded-3xl shadow-2xl border border-slate-100 overflow-hidden relative",children:e.jsxs("form",{onSubmit:F,className:"p-8 space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black uppercase tracking-wider text-slate-400 ml-1",children:"Select Staff"}),e.jsxs("div",{className:"relative group",children:[e.jsx(_t,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-violet-500 z-10"}),e.jsxs("select",{required:!0,disabled:i,value:d,onChange:B=>x(B.target.value),className:"w-full pl-12 pr-4 py-3.5 bg-slate-50 border-2 border-slate-100 rounded-2xl text-sm font-bold text-slate-700 focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all duration-300 appearance-none cursor-pointer",children:[e.jsx("option",{value:"",children:i?"Loading...":"Choose Employee"}),a.map(B=>e.jsxs("option",{value:B.id,children:[B.name," (",B.role,")"]},B.id))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black uppercase tracking-wider text-slate-400 ml-1",children:"Month"}),e.jsxs("div",{className:"relative group",children:[e.jsx(Ve,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-violet-500 z-10"}),e.jsx("select",{value:u,onChange:B=>h(B.target.value),className:"w-full pl-12 pr-4 py-3.5 bg-slate-50 border-2 border-slate-100 rounded-2xl text-sm font-bold text-slate-700 focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all duration-300 appearance-none cursor-pointer",children:["January","February","March","April","May","June","July","August","September","October","November","December"].map(B=>e.jsx("option",{value:B,children:B},B))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black uppercase tracking-wider text-slate-400 ml-1",children:"Year"}),e.jsxs("div",{className:"relative group",children:[e.jsx(Ve,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-violet-500 z-10"}),e.jsx("select",{value:f,onChange:B=>b(B.target.value),className:"w-full pl-12 pr-4 py-3.5 bg-slate-50 border-2 border-slate-100 rounded-2xl text-sm font-bold text-slate-700 focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all duration-300 appearance-none cursor-pointer",children:[2024,2025,2026,2027].map(B=>e.jsx("option",{value:B.toString(),children:B},B))})]})]})]}),e.jsxs("div",{className:"bg-slate-50 rounded-3xl p-8 border border-slate-100",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(xa,{className:"text-violet-600",size:20}),e.jsx("h2",{className:"text-sm font-black text-slate-800 tracking-tight uppercase",children:"Salary Calculation"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 ml-1",children:"Base Salary"}),e.jsxs("div",{className:"p-4 bg-white border-2 border-slate-100 rounded-2xl text-lg font-black text-slate-900 shadow-inner",children:["",Number(P).toLocaleString()]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 ml-1",children:"Incentives"}),e.jsxs("div",{className:"relative group",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-emerald-600 font-black",children:"+"}),e.jsx("input",{type:"number",value:g,onChange:B=>j(B.target.value),className:"w-full pl-12 pr-4 py-4 bg-white border-2 border-slate-100 rounded-2xl text-lg font-black text-emerald-600 focus:outline-none focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/10 transition-all duration-300 shadow-sm"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 ml-1",children:"Deductions"}),e.jsxs("div",{className:"relative group",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-red-600 font-black",children:"-"}),e.jsx("input",{type:"number",value:A,onChange:B=>w(B.target.value),className:"w-full pl-12 pr-4 py-4 bg-white border-2 border-slate-100 rounded-2xl text-lg font-black text-red-600 focus:outline-none focus:border-red-500 focus:ring-4 focus:ring-red-500/10 transition-all duration-300 shadow-sm"})]})]})]}),e.jsxs("div",{className:"mt-8 pt-8 border-t border-slate-200 flex flex-col sm:flex-row justify-between items-center gap-6",children:[e.jsxs("div",{className:"flex flex-col items-center sm:items-start",children:[e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 mb-1",children:"Final Net Salary"}),e.jsxs("span",{className:"text-4xl font-black text-violet-600 tracking-tighter shadow-violet-100",children:["",_.toLocaleString()]})]}),e.jsxs("div",{className:"flex items-center gap-4 bg-white p-2 border-2 border-slate-100 rounded-2xl shadow-sm",children:[e.jsxs("button",{type:"button",onClick:()=>C("Paid"),className:`px-6 py-3 rounded-xl text-xs font-black transition-all duration-300 flex items-center gap-2 ${k==="Paid"?"bg-emerald-500 text-white shadow-lg shadow-emerald-200":"text-slate-500 hover:bg-slate-50"}`,children:[e.jsx(Qt,{size:16})," PAID"]}),e.jsxs("button",{type:"button",onClick:()=>C("Pending"),className:`px-6 py-3 rounded-xl text-xs font-black transition-all duration-300 flex items-center gap-2 ${k==="Pending"?"bg-amber-400 text-amber-950 shadow-lg shadow-amber-100":"text-slate-500 hover:bg-slate-50"}`,children:[e.jsx(Qe,{size:16})," PENDING"]})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-4",children:[e.jsxs("button",{type:"submit",className:"flex-1 py-4 bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 text-white rounded-2xl font-black text-lg shadow-xl shadow-violet-200 hover:scale-[1.02] active:scale-95 transition-all duration-300 flex items-center justify-center gap-3",children:[e.jsx(Qt,{size:24})," Confirm & Create Payroll"]}),e.jsxs("button",{type:"button",onClick:R,className:"px-10 py-4 bg-white text-slate-500 border-2 border-slate-100 rounded-2xl font-black text-lg hover:bg-slate-50 transition-all duration-300 flex items-center justify-center gap-3",children:[e.jsx(Yl,{size:24})," Cancel"]})]})]})})]})})},ty=()=>{const[t,s]=v.useState(""),[a,l]=v.useState(""),[i,o]=v.useState(null),[d,x]=v.useState(!1),[u,h]=v.useState([]),[p,f]=v.useState(!0);v.useEffect(()=>{(async()=>{try{const k=await Iw();h(k)}catch(k){console.error("Error loading payroll history:",k)}finally{f(!1)}})()},[]);const b=u.filter(w=>{const k=w.staffName?.toLowerCase().includes(t.toLowerCase()),C=a===""||w.status===a;return k&&C}),g=w=>{o(w),x(!0)},j=()=>{x(!1),setTimeout(()=>o(null),300)},A=["","January","February","March","April","May","June","July","August","September","October","November","December"];return e.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6 pb-12 min-h-screen font-sans",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 relative max-w-7xl mx-auto",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6",children:e.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent mb-1 flex items-center gap-2",children:[e.jsx(Va,{className:"text-violet-600",size:24}),"Payroll History"]}),e.jsx("p",{className:"text-slate-600 text-xs sm:text-sm",children:"View and manage employee payment history"})]})})})]}),e.jsx("div",{className:"mb-6 bg-white/60 backdrop-blur-md rounded-2xl shadow-lg border border-white/50 p-4 sm:p-5 max-w-7xl mx-auto",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"md:col-span-2 relative group",children:[e.jsx(tt,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 transition-all duration-300"}),e.jsx("input",{type:"text",placeholder:"Search by name...",value:t,onChange:w=>s(w.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border-2 border-slate-100 rounded-xl text-sm font-bold text-slate-700 focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all duration-300 hover:border-slate-200 shadow-sm"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(ks,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 z-10"}),e.jsxs("select",{value:a,onChange:w=>l(w.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border-2 border-slate-100 rounded-xl text-sm font-bold text-slate-700 focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all duration-300 appearance-none cursor-pointer hover:border-slate-200 shadow-sm",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"Paid",children:"Paid"}),e.jsx("option",{value:"Pending",children:"Pending"})]})]}),e.jsxs("button",{className:"flex items-center justify-center gap-2 py-3 bg-slate-900 text-white rounded-xl text-sm font-black hover:bg-slate-800 transition-all duration-300 shadow-lg shadow-slate-200",children:[e.jsx(Qs,{size:18})," Export Data"]})]})}),e.jsx("div",{className:"grid grid-cols-1 gap-4 md:hidden mb-6 max-w-7xl mx-auto",children:p?e.jsx("div",{className:"text-center py-10 font-bold text-slate-400 tracking-widest uppercase",children:"Loading History..."}):b.length===0?e.jsx("div",{className:"text-center py-10 font-bold text-slate-400 tracking-widest uppercase",children:"No records found"}):b.map(w=>e.jsx(Ya,{title:w.staffName,subtitle:`${A[w.month]} ${w.year}`,badge:{label:w.status,color:w.status==="Paid"?"emerald":"amber"},fields:[{label:"Net Pay",value:`${Number(w.amount).toLocaleString()}`,icon:Xl},{label:"Paid On",value:w.status==="Paid"?"Processed":"-",icon:Ve}],actions:[{label:"View Details",icon:js,variant:"secondary",onClick:()=>g(w)}]},w.id))}),e.jsx("div",{className:"hidden md:block bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden max-w-7xl mx-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50 border-b border-slate-100",children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-black uppercase tracking-widest text-slate-400",children:"Employee"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-black uppercase tracking-widest text-slate-400",children:"Month"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-black uppercase tracking-widest text-slate-400",children:"Net Pay"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-black uppercase tracking-widest text-slate-400",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-black uppercase tracking-widest text-slate-400",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:p?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-10 text-center font-bold text-slate-400 tracking-widest uppercase",children:"Loading History..."})}):b.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-10 text-center font-bold text-slate-400 tracking-widest uppercase",children:"No records found"})}):b.map(w=>e.jsxs("tr",{className:"group hover:bg-slate-50/50 transition-colors cursor-pointer",onClick:()=>g(w),children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-violet-100 flex items-center justify-center text-violet-600 font-bold border border-violet-200",children:w.staffName?.charAt(0)}),e.jsx("span",{className:"text-sm font-black text-slate-900",children:w.staffName})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:"text-sm font-bold text-slate-500",children:[A[w.month]," ",w.year]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:"text-sm font-black text-slate-900",children:["",Number(w.amount).toLocaleString()]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1.5 rounded-lg text-xs font-black uppercase tracking-widest ${w.status==="Paid"?"bg-emerald-50 text-emerald-600":"bg-amber-50 text-amber-600"}`,children:[w.status==="Paid"?e.jsx(Qt,{size:12}):e.jsx(Qe,{size:12}),w.status]})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsx("button",{onClick:k=>{k.stopPropagation(),g(w)},className:"p-2 bg-slate-50 text-slate-400 hover:text-violet-600 hover:bg-violet-50 rounded-xl transition-all duration-300",children:e.jsx(js,{size:18})})})]},w.id))})]})}),e.jsx(rt,{isOpen:d,onClose:j,title:"Payroll Details",subtitle:i?`${i.staffName} - ${A[i.month]} ${i.year}`:"",children:i&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-gradient-to-br from-violet-600 via-purple-600 to-fuchsia-600 p-6 rounded-2xl text-white shadow-xl",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-white/20 flex items-center justify-center text-3xl font-black border border-white/30",children:i.staffName?.charAt(0)}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-black tracking-tight",children:i.staffName}),e.jsxs("div",{className:"text-violet-100 text-sm font-medium",children:[A[i.month]," ",i.year," History"]})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:`px-4 py-1.5 rounded-xl text-xs font-black shadow-lg ${i.status==="Paid"?"bg-emerald-400 text-emerald-950":"bg-amber-400 text-amber-950"}`,children:i.status.toUpperCase()})})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex justify-between items-center pt-6",children:[e.jsx("span",{className:"text-lg font-black text-slate-900 uppercase tracking-widest",children:"Net Payout"}),e.jsxs("span",{className:"text-3xl font-black text-violet-600",children:["",Number(i.amount).toLocaleString()]})]})}),e.jsx("div",{className:"pt-6",children:e.jsx("button",{onClick:j,className:"w-full py-4 px-6 bg-slate-900 text-white rounded-2xl font-black text-lg shadow-xl shadow-slate-200 hover:scale-[1.02] active:scale-95 transition-all",children:"Close Details"})})]})})]})},ZD=()=>{const t=[{label:"Total Products",value:"3",icon:J0,color:"violet",trend:"+12%"},{label:"Total Orders",value:"10",icon:Ec,color:"emerald",trend:"+5%"},{label:"Stock Value",value:"1,25,000",icon:Ps,color:"blue",trend:"+25k"},{label:"Total Sold",value:"50",icon:ol,color:"orange",trend:"+15"}];return e.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6 pb-12 min-h-screen",children:[e.jsxs("div",{className:"mb-8 relative p-6 bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500/5 to-fuchsia-500/5"}),e.jsx("div",{className:"relative z-10 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl sm:text-3xl font-black bg-gradient-to-r from-slate-900 to-slate-600 bg-clip-text text-transparent flex items-center gap-2",children:[e.jsx(vd,{className:"text-slate-800",size:28}),"Store Dashboard"]}),e.jsx("p",{className:"text-slate-500 text-sm font-medium mt-1",children:"Overview of products, orders, and inventory"})]})})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-8",children:t.map((s,a)=>e.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-xl border border-slate-100 hover:scale-105 hover:-translate-y-1 transition-all duration-300 relative overflow-hidden group",children:[e.jsx("div",{className:`absolute top-0 right-0 p-4 opacity-10 group-hover:scale-110 transition-transform duration-500 text-${s.color}-600`,children:e.jsx(s.icon,{size:64})}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-2xl bg-${s.color}-100 flex items-center justify-center text-${s.color}-600 border border-${s.color}-200`,children:e.jsx(s.icon,{size:24})}),e.jsx("span",{className:"text-[10px] font-black text-emerald-500 bg-emerald-50 px-2 py-1 rounded-lg",children:s.trend})]}),e.jsx("div",{className:"text-slate-400 text-xs font-black uppercase tracking-widest mb-1",children:s.label}),e.jsx("div",{className:"text-3xl font-black text-slate-900",children:s.value})]})]},a))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2 px-1",children:[e.jsxs("div",{className:"flex items-center gap-2 text-lg font-black text-slate-800 uppercase tracking-tight",children:[e.jsx(Js,{className:"text-violet-600",size:20}),"Recent Sales Activity"]}),e.jsx("button",{className:"text-xs font-black text-violet-600 hover:underline",children:"View All Orders"})]}),[1,2,3].map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/60 backdrop-blur-sm border border-white rounded-2xl shadow-md hover:shadow-lg transition-all",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center text-slate-400",children:e.jsx(Ec,{size:18})}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm font-black text-slate-900",children:["Order #102",s]}),e.jsx("div",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-widest leading-none",children:"2 items  4,500"})]})]}),e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsx("span",{className:"text-[10px] font-black text-emerald-600 mb-0.5 uppercase tracking-widest",children:"Completed"}),e.jsx("span",{className:"text-[8px] text-slate-400 font-medium",children:"10 mins ago"})]})]},s))]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2 text-lg font-black text-slate-800 uppercase tracking-tight px-1 mb-2",children:[e.jsx(Vj,{className:"text-orange-500",size:20}),"Low Stock Alert"]}),e.jsxs("div",{className:"bg-white/40 backdrop-blur-sm rounded-3xl border border-white p-6 shadow-xl space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-2xl border border-red-100",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-white flex items-center justify-center text-red-600 font-black text-xs",children:"DB"}),e.jsx("span",{className:"text-xs font-black text-red-950 uppercase tracking-tight",children:"Dumbbells..."})]}),e.jsx("span",{className:"text-[10px] font-black text-red-600 px-2 py-1 bg-white rounded-lg",children:"10 left"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-orange-50 rounded-2xl border border-orange-100",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-white flex items-center justify-center text-orange-600 font-black text-xs",children:"YM"}),e.jsx("span",{className:"text-xs font-black text-orange-950 uppercase tracking-tight",children:"Yoga Mat..."})]}),e.jsx("span",{className:"text-[10px] font-black text-orange-600 px-2 py-1 bg-white rounded-lg",children:"30 left"})]})]})]})]})]})},Uw=({isOpen:t,onClose:s,product:a,mode:l="add",onSubmit:i})=>{const[o,d]=v.useState({name:"",sku:"",category:"Supplements",price:"",stock:"",status:"Active",image:""});v.useEffect(()=>{d(a&&l==="edit"?{...a,sku:a.sku||`PRD-00${a.id}`}:{name:"",sku:"",category:"Supplements",price:"",stock:"",status:"Active",image:""})},[a,l,t]);const x=async h=>{h.preventDefault(),i&&await i(o),s()},u=h=>{const p=h.target.files[0];if(p){const f=new FileReader;f.onloadend=()=>{d({...o,image:f.result})},f.readAsDataURL(p)}};return t?e.jsx("div",{className:"fixed inset-0 z-50 overflow-hidden",role:"dialog","aria-modal":"true",children:e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-slate-900/40 backdrop-blur-[2px] transition-opacity duration-300 opacity-100",onClick:s}),e.jsx("div",{className:"fixed inset-y-0 right-0 flex max-w-full pl-0 sm:pl-10",children:e.jsx("div",{className:"relative w-screen sm:max-w-[400px] transform transition-transform duration-300 ease-in-out shadow-2xl translate-x-0",children:e.jsxs("div",{className:"flex h-full flex-col bg-white overflow-y-auto shadow-2xl",children:[e.jsxs("div",{className:"px-6 py-8 bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white relative",children:[e.jsx("button",{onClick:s,className:"absolute top-4 right-4 p-2 rounded-xl bg-white/10 text-white hover:bg-white/20 transition-all",children:e.jsx(Vr,{className:"h-6 w-6"})}),e.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-violet-500/20 flex items-center justify-center border border-violet-500/30 text-violet-400",children:e.jsx(J0,{size:24})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-black tracking-tight",children:l==="edit"?"Edit Product":"Add New Product"}),e.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-widest mt-1",children:l==="edit"?"Update Details":"Store Inventory"})]})]})]}),e.jsxs("form",{onSubmit:x,className:"flex-1 p-6 space-y-6",children:[e.jsx("div",{className:"space-y-1.5 flex flex-col items-center",children:e.jsxs("label",{className:"w-24 h-24 rounded-2xl bg-slate-50 border-2 border-dashed border-slate-200 flex flex-col items-center justify-center cursor-pointer hover:border-violet-500 hover:bg-violet-50 transition-all duration-300 relative overflow-hidden group",children:[o.image?e.jsx("img",{src:o.image,alt:"Product",className:"w-full h-full object-cover"}):e.jsxs(e.Fragment,{children:[e.jsx($8,{className:"text-slate-400 group-hover:text-violet-500 transition-colors mb-1",size:24}),e.jsx("span",{className:"text-[10px] font-bold text-slate-500 group-hover:text-violet-600 transition-colors",children:"Add Photo"})]}),e.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx("span",{className:"text-[10px] text-white font-bold uppercase tracking-wider",children:"Change"})}),e.jsx("input",{type:"file",accept:"image/*",onChange:u,className:"hidden"})]})}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 ml-1",children:"Product Name"}),e.jsx("input",{required:!0,type:"text",value:o.name,onChange:h=>d({...o,name:h.target.value}),placeholder:"e.g. Protein Powder",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-100 rounded-xl text-sm font-bold text-slate-700 focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all duration-300"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 ml-1",children:"SKU Code"}),e.jsx("input",{required:!0,type:"text",value:o.sku,onChange:h=>d({...o,sku:h.target.value}),placeholder:"SKU001",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-100 rounded-xl text-sm font-bold text-slate-700 focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all duration-300 uppercase"})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 ml-1",children:"Category"}),e.jsxs("select",{value:o.category,onChange:h=>d({...o,category:h.target.value}),className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-100 rounded-xl text-sm font-bold text-slate-700 focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all duration-300 cursor-pointer",children:[e.jsx("option",{value:"Supplements",children:"Supplements"}),e.jsx("option",{value:"Accessories",children:"Accessories"}),e.jsx("option",{value:"Equipment",children:"Equipment"}),e.jsx("option",{value:"Apparel",children:"Apparel"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 ml-1",children:"Price ()"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 font-bold",children:""}),e.jsx("input",{required:!0,type:"number",value:o.price,onChange:h=>d({...o,price:h.target.value}),className:"w-full pl-8 pr-4 py-3 bg-slate-50 border-2 border-slate-100 rounded-xl text-sm font-bold text-slate-700 focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all duration-300"})]})]}),e.jsxs("div",{className:"space-y-1.5 group",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 ml-1",children:"Stock Qty"}),e.jsx("input",{required:!0,type:"number",value:o.stock,onChange:h=>d({...o,stock:h.target.value}),className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-100 rounded-xl text-sm font-bold text-slate-700 focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all duration-300"}),e.jsx("p",{className:"text-[9px] text-slate-400 font-bold italic ml-1 select-none",children:"* Alert shown when stock is below 10 units."})]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 ml-1",children:"Status"}),e.jsxs("div",{className:"flex gap-4 p-1.5 bg-slate-100 rounded-2xl border border-slate-200",children:[e.jsxs("button",{type:"button",onClick:()=>d({...o,status:"Active"}),className:`flex-1 flex items-center justify-center gap-2 py-2.5 rounded-xl text-xs font-black transition-all ${o.status==="Active"?"bg-white text-emerald-600 shadow-md ring-1 ring-slate-200":"text-slate-500 hover:text-slate-700"}`,children:[e.jsx(Qt,{size:14})," ACTIVE"]}),e.jsxs("button",{type:"button",onClick:()=>d({...o,status:"Inactive"}),className:`flex-1 flex items-center justify-center gap-2 py-2.5 rounded-xl text-xs font-black transition-all ${o.status==="Inactive"?"bg-white text-red-600 shadow-md ring-1 ring-slate-200":"text-slate-500 hover:text-slate-700"}`,children:[e.jsx(Yl,{size:14})," INACTIVE"]})]})]}),e.jsxs("div",{className:"pt-6 flex flex-col gap-3",children:[e.jsx("button",{type:"submit",className:"w-full py-4 bg-slate-900 text-white rounded-2xl font-black text-sm shadow-xl shadow-slate-200 hover:bg-slate-800 transition-all",children:l==="edit"?"Update Product":"Add Product"}),e.jsx("button",{type:"button",onClick:s,className:"w-full py-4 bg-white text-slate-500 border-2 border-slate-100 rounded-2xl font-black text-sm hover:bg-slate-50 transition-all",children:"Cancel"})]})]})]})})})]})}):null},eM=[{id:1,name:"Protein Powder",sku:"PR001",category:"Supplements",price:2500,stock:50,status:"Active"},{id:2,name:"Yoga Mat",sku:"YM002",category:"Accessories",price:1200,stock:30,status:"Active"},{id:3,name:"Dumbbells Set",sku:"DB003",category:"Equipment",price:5e3,stock:10,status:"Inactive"}],tM=()=>{const[t,s]=v.useState(""),[a,l]=v.useState(""),[i,o]=v.useState(!1),[d,x]=v.useState("add"),[u,h]=v.useState(null),p=eM.filter(j=>{const A=j.name.toLowerCase().includes(t.toLowerCase())||j.sku.toLowerCase().includes(t.toLowerCase()),w=a===""||j.category===a;return A&&w}),f=j=>{h(j),x("edit"),o(!0)},b=()=>{h(null),x("add"),o(!0)},g=j=>{console.log("Delete Product",j)};return e.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6 pb-12 min-h-screen",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl sm:text-3xl font-black bg-gradient-to-r from-slate-900 to-slate-600 bg-clip-text text-transparent flex items-center gap-3",children:[e.jsx(J0,{className:"text-slate-800",size:28}),"Product Inventory"]}),e.jsx("p",{className:"text-slate-500 text-xs sm:text-sm font-medium mt-1",children:"Manage your store products and stock levels"})]}),e.jsxs("button",{onClick:b,className:"w-full sm:w-auto flex items-center justify-center gap-2 px-6 py-3 bg-slate-900 text-white rounded-xl text-sm font-black shadow-xl shadow-slate-200 hover:scale-105 active:scale-95 transition-all",children:[e.jsx(wt,{size:18})," Add New Product"]})]}),e.jsx("div",{className:"mb-6 bg-white/60 backdrop-blur-md rounded-2xl shadow-lg border border-slate-100 p-4 sm:p-5",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"md:col-span-2 relative group",children:[e.jsx(tt,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-slate-900 transition-all"}),e.jsx("input",{type:"text",placeholder:"Search by name or SKU...",value:t,onChange:j=>s(j.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border-2 border-slate-100 rounded-xl text-sm font-bold text-slate-700 focus:outline-none focus:border-slate-900 focus:ring-4 focus:ring-slate-900/5 transition-all"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(ks,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"}),e.jsxs("select",{value:a,onChange:j=>l(j.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border-2 border-slate-100 rounded-xl text-sm font-bold text-slate-700 focus:outline-none focus:border-slate-900 focus:ring-4 focus:ring-slate-900/5 transition-all appearance-none cursor-pointer",children:[e.jsx("option",{value:"",children:"All Categories"}),e.jsx("option",{value:"Supplements",children:"Supplements"}),e.jsx("option",{value:"Accessories",children:"Accessories"}),e.jsx("option",{value:"Equipment",children:"Equipment"})]})]})]})}),e.jsx("div",{className:"hidden md:block bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50 border-b border-slate-100 text-slate-400",children:[e.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black uppercase tracking-widest",children:"Product"}),e.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black uppercase tracking-widest",children:"SKU"}),e.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black uppercase tracking-widest",children:"Category"}),e.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black uppercase tracking-widest",children:"Price"}),e.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black uppercase tracking-widest",children:"Stock"}),e.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black uppercase tracking-widest",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black uppercase tracking-widest",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:p.length>0?p.map(j=>e.jsxs("tr",{className:"group hover:bg-slate-50/50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-100 flex items-center justify-center text-slate-600 border border-slate-200",children:j.name.charAt(0)}),e.jsx("span",{className:"text-sm font-black text-slate-900",children:j.name})]})}),e.jsx("td",{className:"px-6 py-4 text-sm font-bold text-slate-500 uppercase",children:j.sku}),e.jsx("td",{className:"px-6 py-4 text-sm font-bold text-slate-500",children:j.category}),e.jsxs("td",{className:"px-6 py-4 text-sm font-black text-slate-900",children:["",j.price.toLocaleString()]}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("span",{className:`text-sm font-black ${j.stock<=10?"text-orange-600":"text-slate-900"}`,children:[j.stock," Units"]}),e.jsx("span",{className:`text-[8px] font-black uppercase tracking-wider px-2 py-0.5 rounded-full w-fit ${j.stock<=10?"bg-orange-50 text-orange-600 border border-orange-100":"bg-emerald-50 text-emerald-600 border border-emerald-100"}`,children:j.stock<=10?"Low Stock":"In Stock"})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`inline-flex px-3 py-1 rounded-lg text-[10px] font-black uppercase tracking-widest ${j.status==="Active"?"bg-emerald-50 text-emerald-600":"bg-red-50 text-red-600"}`,children:j.status})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>f(j),className:"p-2 bg-slate-50 text-slate-400 hover:text-violet-600 hover:bg-violet-50 rounded-xl transition-all",children:e.jsx(Pa,{size:16})}),e.jsx("button",{onClick:()=>g(j.id),className:"p-2 bg-slate-50 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-xl transition-all",children:e.jsx(ms,{size:16})})]})})]},j.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"px-6 py-12 text-center text-slate-400 font-bold italic",children:"No products found"})})})]})}),e.jsx("div",{className:"md:hidden space-y-4",children:p.map(j=>e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-slate-100 p-5 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-100 flex items-center justify-center text-slate-600",children:j.name.charAt(0)}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-black text-slate-900",children:j.name}),e.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:j.sku})]})]}),e.jsx("span",{className:`px-3 py-1 rounded-lg text-[10px] font-black uppercase tracking-widest ${j.status==="Active"?"bg-emerald-50 text-emerald-600":"bg-red-50 text-red-600"}`,children:j.status})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-widest mb-1 text-[8px]",children:"Price"}),e.jsxs("p",{className:"font-black text-slate-900",children:["",j.price.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-widest mb-1 text-[8px]",children:"Stock"}),e.jsxs("p",{className:`font-black ${j.stock<=10?"text-orange-500":"text-slate-900"}`,children:[j.stock," Units"]})]})]}),e.jsxs("div",{className:"pt-4 border-t border-slate-50 flex gap-2",children:[e.jsxs("button",{onClick:()=>f(j),className:"flex-1 flex items-center justify-center gap-2 py-3 bg-violet-50 text-violet-600 rounded-xl text-xs font-black",children:[e.jsx(Pa,{size:14})," Edit"]}),e.jsx("button",{onClick:()=>g(j.id),className:"p-3 bg-red-50 text-red-600 rounded-xl",children:e.jsx(ms,{size:14})})]})]},j.id))}),e.jsx(Uw,{isOpen:i,onClose:()=>o(!1),product:u,mode:d})]})},sM=[{id:"ORD-1021",customer:"John Doe",date:"11 Feb 2025",total:4500,status:"Completed",items:2},{id:"ORD-1022",customer:"Jane Smith",date:"10 Feb 2025",total:1200,status:"Processing",items:1},{id:"ORD-1023",customer:"Robert Brown",date:"09 Feb 2025",total:5e3,status:"Pending",items:3},{id:"ORD-1024",customer:"Emily White",date:"08 Feb 2025",total:2500,status:"Cancelled",items:1}],aM=()=>{const[t,s]=v.useState(""),[a,l]=v.useState(""),[i,o]=v.useState(!1),[d,x]=v.useState("Guest"),[u,h]=v.useState(""),[p,f]=v.useState(null),b=sM.filter(g=>{const j=g.customer.toLowerCase().includes(t.toLowerCase())||g.id.includes(t),A=a===""||g.status===a;return j&&A});return e.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6 pb-12 min-h-screen",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl sm:text-3xl font-black bg-gradient-to-r from-slate-900 to-slate-600 bg-clip-text text-transparent flex items-center gap-3",children:[e.jsx(Ec,{className:"text-slate-800",size:28}),"Store Orders"]}),e.jsx("p",{className:"text-slate-500 text-xs sm:text-sm font-medium mt-1",children:"Track and manage customer orders and sales"})]}),e.jsxs("button",{onClick:()=>o(!0),className:"w-full sm:w-auto flex items-center justify-center gap-2 px-6 py-3 bg-slate-900 text-white rounded-xl text-sm font-black shadow-xl shadow-slate-200 hover:scale-105 active:scale-95 transition-all",children:[e.jsx(wt,{size:18})," Add New Order"]})]}),e.jsx("div",{className:"mb-6 bg-white/60 backdrop-blur-md rounded-2xl shadow-lg border border-slate-100 p-4 sm:p-5",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"md:col-span-2 relative group",children:[e.jsx(tt,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),e.jsx("input",{type:"text",placeholder:"Search by Order ID or Customer...",value:t,onChange:g=>s(g.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border-2 border-slate-100 rounded-xl text-sm font-bold text-slate-700 focus:outline-none focus:border-slate-900 focus:ring-4 focus:ring-slate-900/5 transition-all"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(ks,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"}),e.jsxs("select",{value:a,onChange:g=>l(g.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border-2 border-slate-100 rounded-xl text-sm font-bold text-slate-700 focus:outline-none focus:border-slate-900 appearance-none cursor-pointer",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"Completed",children:"Completed"}),e.jsx("option",{value:"Processing",children:"Processing"}),e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]}),e.jsxs("button",{className:"flex items-center justify-center gap-2 py-3 bg-slate-900 text-white rounded-xl text-sm font-black hover:bg-slate-800 transition-all shadow-lg shadow-slate-200",children:[e.jsx(Qs,{size:18})," Export Orders"]})]})}),e.jsx("div",{className:"hidden md:block bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50 border-b border-slate-100 text-slate-400",children:[e.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black uppercase tracking-widest",children:"Order ID"}),e.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black uppercase tracking-widest",children:"Customer"}),e.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black uppercase tracking-widest",children:"Date"}),e.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black uppercase tracking-widest",children:"Items"}),e.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black uppercase tracking-widest",children:"Total"}),e.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black uppercase tracking-widest",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black uppercase tracking-widest",children:"Action"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:b.length>0?b.map(g=>e.jsxs("tr",{className:"group hover:bg-slate-50/50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 text-sm font-black text-slate-900",children:g.id}),e.jsx("td",{className:"px-6 py-4 text-sm font-bold text-slate-700",children:g.customer}),e.jsx("td",{className:"px-6 py-4 text-sm font-medium text-slate-500",children:g.date}),e.jsx("td",{className:"px-6 py-4 text-sm font-bold text-slate-500",children:g.items}),e.jsxs("td",{className:"px-6 py-4 text-sm font-black text-slate-900",children:["",g.total.toLocaleString()]}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`inline-flex px-3 py-1 rounded-lg text-[10px] font-black uppercase tracking-widest ${g.status==="Completed"?"bg-emerald-50 text-emerald-600":g.status==="Processing"?"bg-blue-50 text-blue-600":g.status==="Pending"?"bg-amber-50 text-amber-600":"bg-red-50 text-red-600"}`,children:g.status})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsx("button",{className:"p-2 bg-slate-50 text-slate-400 hover:text-violet-600 hover:bg-violet-50 rounded-xl transition-all",children:e.jsx(qs,{size:16})})})]},g.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"px-6 py-12 text-center text-slate-400 font-bold italic",children:"No orders found"})})})]})}),e.jsx("div",{className:"md:hidden space-y-4",children:b.map(g=>e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-slate-100 p-5 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-black text-slate-900",children:g.id}),e.jsx("p",{className:"text-xs text-slate-500 font-bold mt-1",children:g.customer})]}),e.jsx("span",{className:`px-3 py-1 rounded-lg text-[10px] font-black uppercase tracking-widest ${g.status==="Completed"?"bg-emerald-50 text-emerald-600":"bg-amber-50 text-amber-600"}`,children:g.status})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] text-slate-400 font-black uppercase tracking-widest",children:"Date"}),e.jsx("p",{className:"text-xs font-bold text-slate-700",children:g.date})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-[10px] text-slate-400 font-black uppercase tracking-widest",children:"Total"}),e.jsxs("p",{className:"text-sm font-black text-slate-900",children:["",g.total.toLocaleString()]})]})]}),e.jsxs("button",{className:"w-full py-3 bg-slate-50 text-slate-600 rounded-xl font-black text-xs flex items-center justify-center gap-2",children:[e.jsx(qs,{size:14})," View Order Details"]})]},g.id))}),e.jsx(rt,{isOpen:i,onClose:()=>o(!1),title:"Create New Order",subtitle:"Checkout Process",footer:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-4 bg-amber-50 rounded-xl border border-amber-100",children:e.jsxs("p",{className:"text-xs font-bold text-amber-700 flex items-center gap-2",children:[e.jsx(Qt,{size:14}),"Invoice will be generated upon confirmation."]})}),e.jsx("button",{onClick:()=>{console.log("Confirming Order for",d==="Member"?p?.name:"Guest"),o(!1)},className:"w-full py-4 bg-slate-900 text-white rounded-2xl font-black uppercase tracking-widest hover:bg-slate-800 transition-all shadow-xl shadow-slate-200",children:"Confirm Order"})]}),children:e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 ml-1",children:"Order Type"}),e.jsxs("div",{className:"flex gap-4 p-1.5 bg-slate-100 rounded-2xl border border-slate-200",children:[e.jsxs("button",{onClick:()=>x("Guest"),className:`flex-1 flex items-center justify-center gap-2 py-3 rounded-xl text-xs font-black transition-all ${d==="Guest"?"bg-white text-slate-900 shadow-md ring-1 ring-slate-200":"text-slate-500 hover:text-slate-700"}`,children:[e.jsx(lt,{size:14})," GUEST"]}),e.jsxs("button",{onClick:()=>x("Member"),className:`flex-1 flex items-center justify-center gap-2 py-3 rounded-xl text-xs font-black transition-all ${d==="Member"?"bg-white text-violet-600 shadow-md ring-1 ring-slate-200":"text-slate-500 hover:text-slate-700"}`,children:[e.jsx(_t,{size:14})," MEMBER"]})]})]}),d==="Member"&&e.jsxs("div",{className:"space-y-3 animate-in fade-in slide-in-from-top-4",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 ml-1",children:"Search Member"}),e.jsxs("div",{className:"relative group",children:[e.jsx(tt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-600 transition-all",size:18}),e.jsx("input",{type:"text",placeholder:"Enter member name or ID...",value:u,onChange:g=>h(g.target.value),className:"w-full pl-12 pr-4 py-3 bg-slate-50 border-2 border-slate-100 rounded-xl text-sm font-bold text-slate-700 focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all shadow-sm"})]}),u.length>2&&e.jsx("div",{className:"p-4 bg-violet-50/50 rounded-2xl border border-violet-100 text-xs font-bold text-violet-600 italic",children:"Member: Dipanshu Patidar (#M-9021)"})]}),d==="Guest"&&e.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-top-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 ml-1",children:"Guest Name"}),e.jsx("input",{type:"text",placeholder:"Enter full name",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-100 rounded-xl text-sm font-bold transition-all focus:outline-none focus:border-slate-900"})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 ml-1",children:"Contact Number"}),e.jsx("input",{type:"tel",placeholder:"+91 00000 00000",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-100 rounded-xl text-sm font-bold transition-all focus:outline-none focus:border-slate-900"})]})]})]})})]})},_g=async(t={})=>{try{return(await ye.get("/store/products",{params:t})).data}catch(s){throw s.response?.data?.message||"Failed to load products"}},rM=async t=>{try{return(await ye.post("/store/products",t)).data}catch(s){throw s.response?.data?.message||"Failed to add product"}},lM=async(t,s)=>{try{return(await ye.patch(`/store/products/${t}/stock`,{stock:s})).data}catch(a){throw a.response?.data?.message||"Failed to update stock"}},nM=async(t,s)=>{try{return(await ye.put(`/store/products/${t}`,s)).data}catch(a){throw a.response?.data?.message||"Failed to update product"}},iM=async t=>{try{return(await ye.delete(`/store/products/${t}`)).data}catch(s){throw s.response?.data?.message||"Failed to delete product"}},oM=async()=>{try{return(await ye.get("/store/orders")).data}catch(t){throw t.response?.data?.message||"Failed to load orders"}},$w=async t=>{try{return(await ye.post("/store/checkout",t)).data}catch(s){throw s.response?.data?.message||"Failed to checkout"}},sy=()=>{const[t,s]=v.useState(""),[a,l]=v.useState([]),[i,o]=v.useState(!0),[d,x]=v.useState(!1),[u,h]=v.useState("add"),[p,f]=v.useState(null),b=async()=>{try{o(!0);const L=await _g({allStatus:"true"});l(L)}catch(L){st.error(L)}finally{o(!1)}};v.useEffect(()=>{b()},[]);const g=async(L,N)=>{const P=prompt("Enter new stock count:",N);if(P!==null){const _=parseInt(P,10);if(!isNaN(_)&&_>=0)try{await lM(L,_),st.success("Stock updated successfully"),b()}catch(F){st.error(F)}else st.error("Invalid stock count")}},j=async L=>{try{u==="add"?(await rM(L),st.success("Product added successfully!")):(await nM(p.id,L),st.success("Product updated successfully!")),b(),x(!1)}catch(N){st.error(N)}},A=L=>{f(L),h("edit"),x(!0)},w=async L=>{if(window.confirm("Are you sure you want to delete this product?"))try{await iM(L),st.success("Product deleted successfully"),b()}catch(N){st.error(N)}},k=a.filter(L=>{const N=L.sku||`PRD-00${L.id}`;return L.name.toLowerCase().includes(t.toLowerCase())||N.toLowerCase().includes(t.toLowerCase())}),C=a.filter(L=>L.stock<=10).length;return e.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6 pb-12 min-h-screen",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl sm:text-3xl font-black bg-gradient-to-r from-slate-900 to-slate-600 bg-clip-text text-transparent flex items-center gap-3",children:[e.jsx(Vj,{className:"text-slate-800",size:28}),"Store Inventory"]}),e.jsx("p",{className:"text-slate-500 text-xs sm:text-sm font-medium mt-1",children:"Monitor stock levels and warehouse locations"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full sm:w-auto",children:[e.jsxs("button",{onClick:()=>{f(null),h("add"),x(!0)},className:"w-full sm:w-auto flex items-center justify-center gap-2 px-6 py-3 bg-slate-900 text-white rounded-xl text-sm font-black shadow-xl shadow-slate-200 hover:scale-105 transition-all",children:[e.jsx(wt,{size:18})," Add New Product"]}),e.jsxs("button",{onClick:b,className:"w-full sm:w-auto flex items-center justify-center gap-2 px-6 py-3 bg-violet-600 text-white rounded-xl text-sm font-black shadow-xl shadow-violet-200 hover:scale-105 transition-all",children:[e.jsx(dw,{size:18,className:i?"animate-spin":""})," Sync Inventory"]})]})]}),C>0&&e.jsxs("div",{className:"mb-6 p-4 bg-orange-50 border border-orange-100 rounded-2xl flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-orange-100 flex items-center justify-center text-orange-600",children:e.jsx(zr,{size:24})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-black text-orange-950 uppercase tracking-tight",children:"Low Stock Alert"}),e.jsxs("p",{className:"text-xs text-orange-700 font-medium",children:["You have ",C," products with critical stock levels. We recommend restocking soon."]})]})]}),e.jsxs("div",{className:"mb-6 relative",children:[e.jsx(tt,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),e.jsx("input",{type:"text",placeholder:"Search by Product Name or SKU...",value:t,onChange:L=>s(L.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border-2 border-slate-100 rounded-xl text-sm font-bold text-slate-700 focus:outline-none focus:border-slate-900 transition-all shadow-lg shadow-slate-200/50"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:k.map(L=>e.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-xl border border-slate-100 hover:shadow-2xl transition-all group",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-slate-50 flex items-center justify-center border border-slate-100 text-slate-400 group-hover:bg-violet-50 group-hover:text-violet-500 transition-colors overflow-hidden",children:L.image?e.jsx("img",{src:L.image,alt:L.name,className:"w-full h-full object-cover"}):e.jsx(J0,{size:28})}),e.jsx("span",{className:`px-3 py-1.5 rounded-xl text-[10px] font-black uppercase tracking-widest ${L.status==="In Stock"?"bg-emerald-50 text-emerald-600":L.status==="Low Stock"?"bg-orange-50 text-orange-600":"bg-red-50 text-red-600"}`,children:L.status})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-black text-slate-900 mb-1",children:L.name}),e.jsxs("p",{className:"text-[10px] text-slate-400 font-black uppercase tracking-widest leading-none",children:["SKU: ",L.sku||`PRD-00${L.id}`]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-slate-50",children:[e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400",children:"Current Stock"}),e.jsxs("span",{className:`text-sm font-black ${L.stock<=10?"text-orange-600":"text-slate-900"}`,children:[L.stock," Units"]})]}),e.jsxs("div",{className:"flex justify-between items-center py-3",children:[e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400",children:"Category"}),e.jsx("span",{className:"text-sm font-bold text-slate-700",children:L.category})]})]}),e.jsxs("div",{className:"mt-6 flex gap-2",children:[e.jsx("button",{onClick:()=>g(L.id,L.stock),className:"flex-1 py-3 bg-slate-900 text-white rounded-xl font-black text-xs hover:bg-slate-800 transition-all",children:"Update Stock"}),e.jsx("button",{onClick:()=>A(L),className:"p-3 bg-violet-50 text-violet-600 rounded-xl hover:bg-violet-100 transition-all",title:"Edit",children:e.jsx(Pa,{size:16})}),e.jsx("button",{onClick:()=>w(L.id),className:"p-3 bg-red-50 text-red-600 rounded-xl hover:bg-red-100 transition-all",title:"Delete",children:e.jsx(ms,{size:16})})]})]},L.id))}),e.jsx(Uw,{isOpen:d,onClose:()=>x(!1),mode:u,product:p,onSubmit:j})]})},Wp=({label:t,value:s,onChange:a,color:l,icon:i})=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-[10px] font-black uppercase tracking-widest text-gray-400 flex items-center gap-1.5",children:[i&&e.jsx(i,{size:12}),t]}),e.jsxs("div",{className:"relative group",children:[e.jsx("input",{type:"number",className:"w-full h-11 bg-gray-50 border border-gray-100 rounded-xl text-center font-bold text-gray-900 focus:bg-white focus:ring-2 focus:ring-indigo-100 focus:border-indigo-500 outline-none transition-all",value:s,onChange:o=>a(parseInt(o.target.value)||0)}),e.jsx("div",{className:`absolute inset-y-0 right-3 flex items-center pointer-events-none text-[10px] font-bold ${l}`,children:"g"})]})]}),cM=({protein:t,carbs:s,fats:a})=>{const l=parseInt(t)||0,i=parseInt(s)||0,o=parseInt(a)||0,d=l*4,x=i*4,u=o*9,h=d+x+u,p=h>0?Math.round(d/h*100):0,f=h>0?Math.round(x/h*100):0,b=h>0?Math.round(u/h*100):100-p-f;return e.jsxs("div",{className:"bg-gray-50 p-4 rounded-2xl space-y-3 border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-gray-400",children:"Macro Split"}),e.jsxs("span",{className:"text-sm font-black text-indigo-600",children:[h," ",e.jsx("span",{className:"text-[10px] text-gray-400",children:"KCAL"})]})]}),e.jsxs("div",{className:"h-2 w-full bg-gray-200 rounded-full overflow-hidden flex",children:[e.jsx("div",{className:"h-full bg-indigo-500 transition-all duration-500",style:{width:`${p}%`}}),e.jsx("div",{className:"h-full bg-emerald-500 transition-all duration-500",style:{width:`${f}%`}}),e.jsx("div",{className:"h-full bg-rose-500 transition-all duration-500",style:{width:`${b}%`}})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 text-[9px] font-black uppercase tracking-tighter",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-indigo-500"})," P: ",p,"%"]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500"})," C: ",f,"%"]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-rose-500"})," F: ",b,"%"]})]})]})},dM=({isOpen:t,onClose:s,onSave:a,editData:l=null})=>{const i={name:"",clientId:"",target:"Weight Loss",duration:"4",calories:0,macros:{protein:0,carbs:0,fats:0},meals:[{id:1,name:"Breakfast",time:"08:00 AM",cals:0,protein:0,carbs:0,fats:0,notes:"",isExpanded:!0}],notes:"",status:"Active"},[o,d]=v.useState(l||i),[x,u]=v.useState([]);v.useEffect(()=>{d(l||i)},[l,t]),v.useEffect(()=>{t&&Dg({limit:100}).then(j=>u(j?.data||[])).catch(console.error)},[t]),v.useEffect(()=>{const j=parseInt(o.macros.protein)||0,A=parseInt(o.macros.carbs)||0,w=parseInt(o.macros.fats)||0,k=j*4+A*4+w*9;d(C=>({...C,calories:k}))},[o.macros]);const h=()=>{const j=o.meals.length>0?Math.max(...o.meals.map(A=>A.id))+1:1;d(A=>({...A,meals:[...A.meals,{id:j,name:`Meal ${o.meals.length+1}`,time:"12:00 PM",cals:0,protein:0,carbs:0,fats:0,notes:"",isExpanded:!0}]}))},p=j=>{d(A=>({...A,meals:A.meals.filter(w=>w.id!==j)}))},f=(j,A,w)=>{d(k=>({...k,meals:k.meals.map(C=>C.id===j?{...C,[A]:w}:C)}))},b=j=>{d(A=>({...A,meals:A.meals.map(w=>w.id===j?{...w,isExpanded:!w.isExpanded}:w)}))},g=j=>{if(j&&j.preventDefault(),!o.name||!o.clientId){alert("Please fill in Plan Name and Assign a Client.");return}a({...o,id:l?.id||`DP-${Math.floor(Math.random()*1e4)}`})};return t?e.jsx(rt,{isOpen:t,onClose:s,title:l?"Edit Diet Plan":"Create Diet Plan",subtitle:"Configure structured nutritional protocols",children:e.jsxs("div",{className:"flex flex-col h-full bg-white",children:[e.jsxs("div",{className:"flex-1 overflow-y-auto px-4 md:px-5 pb-8 space-y-8 custom-scrollbar",children:[e.jsxs("div",{className:"space-y-4 pt-2",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-indigo-600"}),e.jsx("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900",children:"Basic Information"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-gray-400 ml-1",children:"Plan Name"}),e.jsx("input",{type:"text",className:"w-full h-11 bg-gray-50 border border-gray-100 px-4 rounded-xl text-sm font-bold focus:bg-white focus:ring-2 focus:ring-indigo-100 focus:border-indigo-500 outline-none transition-all",placeholder:"e.g. 12-Week Lean Bulk",value:o.name,onChange:j=>d({...o,name:j.target.value})})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-gray-400 ml-1",children:"Assign To Client"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{className:"w-full h-11 bg-gray-50 border border-gray-100 px-4 rounded-xl text-sm font-bold focus:bg-white focus:ring-2 focus:ring-indigo-100 focus:border-indigo-500 outline-none transition-all appearance-none",value:o.clientId,onChange:j=>d({...o,clientId:j.target.value}),children:[e.jsx("option",{value:"",children:"Select Client"}),x.map(j=>e.jsx("option",{value:j.id,children:j.name},j.id))]}),e.jsx(Nl,{size:16,className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-gray-400 ml-1",children:"Goal Type"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{className:"w-full h-11 bg-gray-50 border border-gray-100 px-4 rounded-xl text-sm font-bold focus:bg-white focus:ring-2 focus:ring-indigo-100 focus:border-indigo-500 outline-none transition-all appearance-none",value:o.target,onChange:j=>d({...o,target:j.target.value}),children:[e.jsx("option",{children:"Weight Loss"}),e.jsx("option",{children:"Muscle Gain"}),e.jsx("option",{children:"Maintenance"})]}),e.jsx(Nl,{size:16,className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"})]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-gray-400 ml-1",children:"Duration (Weeks)"}),e.jsx("input",{type:"number",className:"w-full h-11 bg-gray-50 border border-gray-100 px-4 rounded-xl text-sm font-bold focus:bg-white focus:ring-2 focus:ring-indigo-100 focus:border-indigo-500 outline-none transition-all",placeholder:"4",value:o.duration,onChange:j=>d({...o,duration:j.target.value})})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-indigo-600"}),e.jsx("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900",children:"Macro Configuration"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsx(Wp,{label:"Protein",icon:ua,color:"text-indigo-500",value:o.macros.protein,onChange:j=>d({...o,macros:{...o.macros,protein:j}})}),e.jsx(Wp,{label:"Carbs",icon:jg,color:"text-emerald-500",value:o.macros.carbs,onChange:j=>d({...o,macros:{...o.macros,carbs:j}})}),e.jsx(Wp,{label:"Fats",icon:tw,color:"text-rose-500",value:o.macros.fats,onChange:j=>d({...o,macros:{...o.macros,fats:j}})})]}),e.jsx(cM,{protein:o.macros.protein,carbs:o.macros.carbs,fats:o.macros.fats})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-indigo-600"}),e.jsx("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900",children:"Meal Distribution"})]}),e.jsxs("button",{onClick:h,className:"flex items-center gap-1.5 text-[10px] font-black uppercase tracking-widest text-indigo-600 hover:text-indigo-700 transition-colors",children:[e.jsx(wt,{size:14,strokeWidth:3})," Add Meal"]})]}),e.jsx("div",{className:"space-y-3",children:o.meals.map((j,A)=>e.jsxs("div",{className:"bg-white border border-gray-100 rounded-2xl overflow-hidden shadow-sm",children:[e.jsxs("div",{className:"p-4 flex items-center justify-between cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>b(j.id),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-indigo-50 flex items-center justify-center text-indigo-600 font-bold text-xs",children:A+1}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-bold text-gray-900",children:j.name||`Meal ${A+1}`}),e.jsxs("div",{className:"flex items-center gap-3 text-[10px] font-black uppercase tracking-tighter text-gray-400",children:[e.jsx("span",{children:j.time}),e.jsx("span",{children:""}),e.jsxs("span",{className:"text-indigo-600",children:[j.cals," KCAL"]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:w=>{w.stopPropagation(),p(j.id)},className:"p-1.5 text-gray-300 hover:text-red-500 transition-colors",children:e.jsx(ms,{size:16})}),j.isExpanded?e.jsx(ew,{size:18,className:"text-gray-400"}):e.jsx(Nl,{size:18,className:"text-gray-400"})]})]}),j.isExpanded&&e.jsxs("div",{className:"p-4 pt-0 border-t border-gray-50 space-y-4 animate-in fade-in slide-in-from-top-2 duration-300",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[9px] font-black uppercase tracking-widest text-gray-400",children:"Meal Name"}),e.jsx("input",{type:"text",className:"w-full h-9 bg-gray-50 border border-gray-100 px-3 rounded-lg text-xs font-bold focus:bg-white outline-none",value:j.name,onChange:w=>f(j.id,"name",w.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[9px] font-black uppercase tracking-widest text-gray-400",children:"Time"}),e.jsx("input",{type:"text",className:"w-full h-9 bg-gray-50 border border-gray-100 px-3 rounded-lg text-xs font-bold focus:bg-white outline-none",value:j.time,onChange:w=>f(j.id,"time",w.target.value)})]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[9px] font-black uppercase tracking-widest text-gray-400",children:"Cals"}),e.jsx("input",{type:"number",className:"w-full h-9 bg-gray-50 border border-gray-100 px-2 rounded-lg text-xs font-bold text-center focus:bg-white outline-none",value:j.cals,onChange:w=>f(j.id,"cals",parseInt(w.target.value)||0)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[9px] font-black uppercase tracking-widest text-gray-400",children:"P (g)"}),e.jsx("input",{type:"number",className:"w-full h-9 bg-gray-50 border border-gray-100 px-2 rounded-lg text-xs font-bold text-center focus:bg-white outline-none",value:j.protein,onChange:w=>f(j.id,"protein",parseInt(w.target.value)||0)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[9px] font-black uppercase tracking-widest text-gray-400",children:"C (g)"}),e.jsx("input",{type:"number",className:"w-full h-9 bg-gray-50 border border-gray-100 px-2 rounded-lg text-xs font-bold text-center focus:bg-white outline-none",value:j.carbs,onChange:w=>f(j.id,"carbs",parseInt(w.target.value)||0)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[9px] font-black uppercase tracking-widest text-gray-400",children:"F (g)"}),e.jsx("input",{type:"number",className:"w-full h-9 bg-gray-50 border border-gray-100 px-2 rounded-lg text-xs font-bold text-center focus:bg-white outline-none",value:j.fats,onChange:w=>f(j.id,"fats",parseInt(w.target.value)||0)})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[9px] font-black uppercase tracking-widest text-gray-400",children:"Food Notes / Ingredients"}),e.jsx("textarea",{className:"w-full h-20 bg-gray-50 border border-gray-100 p-3 rounded-lg text-xs font-medium focus:bg-white outline-none resize-none",placeholder:"2 slices whole grain bread, 3 egg whites...",value:j.notes,onChange:w=>f(j.id,"notes",w.target.value)})]})]})]},j.id))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-indigo-600"}),e.jsx("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900",children:"General Instructions"})]}),e.jsx("textarea",{className:"w-full h-32 bg-gray-50 border border-gray-100 p-4 rounded-2xl text-sm font-medium focus:bg-white focus:ring-2 focus:ring-indigo-100 focus:border-indigo-500 outline-none transition-all resize-none",placeholder:"e.g. Drink 3L water daily, Avoid sugary drinks...",value:o.notes,onChange:j=>d({...o,notes:j.target.value})})]})]}),e.jsx("div",{className:"p-4 md:p-6 bg-white border-t border-gray-100 mt-auto",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:s,className:"flex-1 h-12 rounded-xl text-sm font-bold text-gray-500 hover:bg-gray-50 transition-all uppercase tracking-widest",children:"Cancel"}),e.jsxs("button",{onClick:g,className:"flex-[2] h-12 bg-indigo-600 text-white rounded-xl text-sm font-black shadow-lg shadow-indigo-100 hover:bg-indigo-700 hover:-translate-y-0.5 active:translate-y-0 transition-all flex items-center justify-center gap-2 uppercase tracking-[0.2em]",children:[e.jsx(na,{size:18})," Save Plan"]})]})})]})}):null},xM=({isOpen:t,onClose:s,onAssign:a,planName:l})=>{const[i,o]=v.useState(""),[d,x]=v.useState([]),[u,h]=v.useState(""),[p,f]=v.useState(""),[b,g]=v.useState(""),A=[{id:"M-101",name:"John Doe",currentPlan:"Fat Loss Shred"},{id:"M-102",name:"Jane Smith",currentPlan:null},{id:"M-103",name:"Mike Monitor",currentPlan:"Lean Bulk"},{id:"M-104",name:"Alice Cooper",currentPlan:null},{id:"M-105",name:"Bob Builder",currentPlan:"Maintenance"}].filter(k=>k.name.toLowerCase().includes(i.toLowerCase())||k.id.toLowerCase().includes(i.toLowerCase())),w=k=>{x(C=>C.includes(k)?C.filter(L=>L!==k):[...C,k])};return t?e.jsx(rt,{isOpen:t,onClose:s,title:"Assign Diet Plan",subtitle:l,maxWidth:"max-w-lg",footer:e.jsxs("div",{className:"flex gap-3 w-full",children:[e.jsx("button",{onClick:s,className:"flex-1 py-3.5 bg-white text-gray-600 rounded-xl font-bold border border-gray-200 hover:bg-gray-50 transition-all text-sm",children:"Cancel"}),e.jsxs("button",{onClick:()=>{a({members:d,startDate:u,endDate:p,notes:b}),s()},disabled:d.length===0||!u||!p,className:"flex-[2] py-3.5 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-indigo-200 active:scale-95 text-sm flex items-center justify-center gap-2",children:["Assign to ",d.length," Members"]})]}),children:e.jsx("div",{className:"flex flex-col h-full",children:e.jsxs("div",{className:"flex-1 overflow-y-auto pr-2 space-y-6",children:[e.jsxs("div",{className:"bg-slate-50 p-5 rounded-[24px] border border-slate-100 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 pl-1",children:"Start Date"}),e.jsx("input",{type:"date",className:"w-full h-11 bg-white border border-slate-200 rounded-xl px-4 text-sm font-bold focus:border-indigo-500 outline-none",value:u,onChange:k=>h(k.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 pl-1",children:"End Date"}),e.jsx("input",{type:"date",className:"w-full h-11 bg-white border border-slate-200 rounded-xl px-4 text-sm font-bold focus:border-indigo-500 outline-none",value:p,onChange:k=>f(k.target.value)})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 pl-1",children:"Assignment Notes (Optional)"}),e.jsx("textarea",{className:"w-full h-20 bg-white border border-slate-200 rounded-xl px-4 py-2 text-sm font-medium focus:border-indigo-500 outline-none resize-none",placeholder:"Add specific instructions for the member...",value:b,onChange:k=>g(k.target.value)})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(tt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{type:"text",placeholder:"Search members...",className:"w-full pl-11 pr-4 py-3 bg-gray-50 border-none rounded-2xl font-bold text-sm focus:ring-2 focus:ring-indigo-500 outline-none transition-all",value:i,onChange:k=>o(k.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[A.map(k=>{const C=d.includes(k.id);return e.jsxs("div",{onClick:()=>w(k.id),className:`p-4 rounded-2xl border transition-all cursor-pointer flex items-center justify-between group ${C?"bg-indigo-50 border-indigo-200 shadow-inner":"bg-white border-gray-100 hover:border-gray-200 hover:bg-gray-50/50"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center text-sm font-bold transition-colors ${C?"bg-indigo-600 text-white":"bg-gray-100 text-gray-500"}`,children:k.name.charAt(0)}),e.jsxs("div",{children:[e.jsx("p",{className:`font-bold text-sm ${C?"text-indigo-900":"text-gray-900"}`,children:k.name}),e.jsx("p",{className:"text-xs font-semibold text-gray-400",children:k.currentPlan?`Current: ${k.currentPlan}`:"No active plan"})]})]}),e.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all ${C?"border-indigo-600 bg-indigo-600 text-white":"border-gray-200 text-transparent group-hover:border-gray-300"}`,children:e.jsx(Xt,{size:14,strokeWidth:4})})]},k.id)}),A.length===0&&e.jsxs("div",{className:"text-center py-8 text-gray-400",children:[e.jsx(lt,{size:32,className:"mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm font-bold",children:"No members found"})]})]})]})})}):null},qw=async()=>{try{return(await ye.get("/auth/me")).data}catch(t){throw t.response?.data?.message||"Failed to fetch profile"}},uM=async t=>{try{return(await ye.patch("/auth/profile",t)).data}catch(s){throw s.response?.data?.message||"Failed to update profile"}},hM=async t=>{try{return(await ye.post("/member/plan/upgrade",{newPlan:t})).data}catch(s){throw s.response?.data?.message||"Failed to upgrade plan"}},mM=async()=>{try{return(await ye.post("/member/plan/cancel")).data}catch(t){throw t.response?.data?.message||"Failed to cancel membership"}},pM=async()=>{try{return(await ye.get("/member/wallet/transactions")).data}catch(t){throw t.response?.data?.message||"Failed to fetch wallet transactions"}},fM=async t=>{try{return(await ye.post("/member/wallet/add",{amount:t})).data}catch(s){throw s.response?.data?.message||"Failed to add credit"}},gM=async()=>{try{return(await ye.get("/member/bookings")).data}catch(t){throw t.response?.data?.message||"Failed to fetch bookings"}},bM=async t=>{try{const s=await ye.delete(`/member/bookings/${t}`);return{success:!0,id:t}}catch(s){throw s.response?.data?.message||"Failed to cancel booking"}},ay=async t=>{try{return{success:!0,data:(await ye.post("/member/bookings",t)).data}}catch(s){throw s.response?.data?.message||"Failed to create booking"}},vM=async()=>{try{return(await ye.post("/member/membership/freeze")).data}catch(t){throw t.response?.data?.message||"Failed to freeze membership"}},yM=async()=>{try{return(await ye.post("/member/membership/unfreeze")).data}catch(t){throw t.response?.data?.message||"Failed to unfreeze membership"}},jM=async()=>{try{return(await ye.get("/member/invoices")).data}catch(t){throw t.response?.data?.message||"Failed to fetch invoices"}},wM=async t=>{try{return(await ye.post(`/member/invoices/${t}/pay`)).data}catch(s){throw s.response?.data?.message||"Failed to pay invoice"}},NM=async()=>{try{return(await ye.get("/member/wallet/balance")).data}catch(t){throw t.response?.data?.message||"Failed to fetch wallet balance"}},Hw=async()=>{try{return(await ye.get("/member/cards")).data}catch(t){throw t.response?.data?.message||"Failed to fetch saved cards"}},Ww=async t=>{try{return(await ye.post("/member/cards",t)).data}catch(s){throw s.response?.data?.message||"Failed to add card"}},Gw=async t=>{try{return(await ye.delete(`/member/cards/${t}`)).data}catch(s){throw s.response?.data?.message||"Failed to delete card"}},kM=async()=>{try{return(await ye.get("/member/membership-details")).data}catch(t){throw t.response?.data?.message||"Failed to fetch membership details"}},SM=async()=>{try{return(await ye.get("/member/service-requests")).data}catch(t){throw t.response?.data?.message||"Failed to fetch service requests"}},ry=async t=>{try{return(await ye.post("/member/service-requests",t)).data}catch(s){throw s.response?.data?.message||"Failed to create service request"}},CM=async()=>{try{return(await ye.get("/member/classes")).data}catch(t){throw t.response?.data?.message||"Failed to fetch classes"}},AM=async()=>{try{return(await ye.get("/member/profile")).data}catch(t){throw t.response?.data?.message||"Failed to fetch member exact profile"}},DM=async()=>{try{return(await ye.get("/member/workout-plans")).data}catch(t){throw t.response?.data?.message||"Failed to fetch workout plans"}},MM=async()=>{try{return(await ye.get("/member/diet-plans")).data}catch(t){throw t.response?.data?.message||"Failed to fetch diet plans"}},LM=async()=>{try{return(await ye.get("/member/rewards/catalog")).data}catch(t){throw t.response?.data?.message||"Failed to fetch reward catalog"}},zM=async t=>{try{return(await ye.post("/member/rewards/redeem",{catalogId:t})).data}catch(s){throw s.response?.data?.message||"Failed to redeem reward"}},Gp=({role:t})=>{qt(),Tr();const s=t==="TRAINER"||t==="SUPER_ADMIN"||t==="MANAGER"||t==="BRANCH_ADMIN",[a,l]=v.useState([]),[i,o]=v.useState(""),[d,x]=v.useState(null),[u,h]=v.useState(0),[p,f]=v.useState(!0),[b,g]=v.useState(!1),[j,A]=v.useState(null),[w,k]=v.useState(!1),[C,L]=v.useState(null);Di.useEffect(()=>{N()},[s]);const N=async()=>{try{f(!0);const H=s?await V9():await MM();l(H),H.length>0&&x(H[0])}catch(H){console.error("Failed to load plans:",H),ft.error("Failed to load diet plans")}finally{f(!1)}},P=async H=>{try{C&&C.id?(await X9(C.id,H),ft.success("Plan updated successfully")):(await Y9(H),ft.success("Plan created successfully")),await N(),k(!1),L(null)}catch(G){console.error("Error saving plan",G),ft.error("Failed to save plan")}},_=async(H,G)=>{G.stopPropagation();try{await K9(H),ft.success("Status toggled successfully"),await N()}catch(W){console.error("Error toggling status",W),ft.error("Failed to change status")}},F=H=>a.find(W=>W.clientId===H)?.client?.name||"Unassigned",R=a.filter(H=>H.name.toLowerCase().includes(i.toLowerCase())||F(H.clientId).toLowerCase().includes(i.toLowerCase())),B=()=>e.jsx("div",{className:"hidden md:block bg-white rounded-3xl shadow-sm border border-gray-100 overflow-hidden fade-in",children:e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50/50 border-b border-gray-100",children:[e.jsx("th",{className:"px-6 py-4 text-[10px] font-black uppercase tracking-widest text-gray-400",children:"Plan Name"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black uppercase tracking-widest text-gray-400",children:"Client"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black uppercase tracking-widest text-gray-400",children:"Goal"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black uppercase tracking-widest text-gray-400 text-center",children:"Calories"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black uppercase tracking-widest text-gray-400 text-center",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black uppercase tracking-widest text-gray-400 text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-50",children:R.map(H=>e.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors group",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-indigo-50 flex items-center justify-center text-indigo-600",children:e.jsx(wd,{size:16})}),e.jsx("span",{className:"text-sm font-bold text-gray-900 line-clamp-1",children:H.name})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"text-xs font-bold text-gray-600",children:F(H.clientId)})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest px-2.5 py-1 rounded-full ${H.target==="Weight Loss"?"bg-rose-50 text-rose-600":H.target==="Muscle Gain"?"bg-emerald-50 text-emerald-600":"bg-blue-50 text-blue-600"}`,children:H.target})}),e.jsx("td",{className:"px-6 py-4 text-center",children:e.jsxs("span",{className:"text-xs font-black text-gray-900",children:[H.calories," ",e.jsx("span",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-tighter",children:"kcal"})]})}),e.jsx("td",{className:"px-6 py-4 text-center",children:e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-widest ${H.status==="Active"?"bg-emerald-50 text-emerald-600":"bg-gray-100 text-gray-400"}`,children:[e.jsx("div",{className:`w-1 h-1 rounded-full ${H.status==="Active"?"bg-emerald-500":"bg-gray-400"}`}),H.status]})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>{x(H),k(!1)},className:"p-2 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-all",title:"View Details",children:e.jsx(qs,{size:16})}),e.jsx("button",{onClick:()=>{L(H),k(!0)},className:"p-2 text-gray-400 hover:text-amber-600 hover:bg-amber-50 rounded-lg transition-all",title:"Edit Plan",children:e.jsx(Pa,{size:16})}),e.jsx("button",{onClick:G=>_(H.id,G),className:`p-2 rounded-lg transition-all ${H.status==="Active"?"text-gray-400 hover:text-red-500 hover:bg-red-50":"text-gray-400 hover:text-emerald-500 hover:bg-emerald-50"}`,title:H.status==="Active"?"Deactivate":"Activate",children:e.jsx(I1,{size:16})})]})})]},H.id))})]}),R.length===0&&e.jsxs("div",{className:"py-20 flex flex-col items-center justify-center text-gray-400",children:[e.jsx(tt,{size:48,strokeWidth:1,className:"mb-4 opacity-20"}),e.jsx("p",{className:"text-sm font-bold",children:"No diet plans found matching your search."})]})]})}),T=()=>e.jsxs("div",{className:"md:hidden space-y-4 fade-in",children:[R.map(H=>e.jsxs("div",{className:"bg-white p-5 rounded-3xl shadow-sm border border-gray-100 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-indigo-50 flex items-center justify-center text-indigo-600",children:e.jsx(wd,{size:20})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-black text-gray-900 leading-tight",children:H.name}),e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mt-0.5",children:F(H.clientId)})]})]}),e.jsx("span",{className:`text-[9px] font-black uppercase tracking-widest px-2 py-1 rounded-full ${H.target==="Weight Loss"?"bg-rose-50 text-rose-600":H.target==="Muscle Gain"?"bg-emerald-50 text-emerald-600":"bg-blue-50 text-blue-600"}`,children:H.target})]}),e.jsxs("div",{className:"flex items-center justify-between py-3 border-y border-gray-50",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Daily Calories"}),e.jsxs("p",{className:"text-sm font-black text-gray-900",children:[H.calories," ",e.jsx("span",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-tighter",children:"kcal"})]})]}),e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[9px] font-black uppercase tracking-widest ${H.status==="Active"?"bg-emerald-50 text-emerald-600":"bg-gray-100 text-gray-400"}`,children:[e.jsx("div",{className:`w-1 h-1 rounded-full ${H.status==="Active"?"bg-emerald-500":"bg-gray-400"}`}),H.status]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-1",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{x(H),k(!1)},className:"px-4 py-2 bg-indigo-50 text-indigo-600 rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-indigo-100 transition-all",children:"View"}),e.jsx("button",{onClick:()=>{L(H),k(!0)},className:"px-4 py-2 bg-amber-50 text-amber-600 rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-amber-100 transition-all",children:"Edit"})]}),e.jsx("button",{onClick:G=>_(H.id,G),className:`p-2.5 rounded-xl border transition-all ${H.status==="Active"?"text-rose-500 bg-rose-50 border-rose-100":"text-emerald-500 bg-emerald-50 border-emerald-100"}`,children:e.jsx(I1,{size:18})})]})]},H.id)),R.length===0&&e.jsxs("div",{className:"py-20 flex flex-col items-center justify-center text-gray-400",children:[e.jsx(tt,{size:48,strokeWidth:1,className:"mb-4 opacity-20"}),e.jsx("p",{className:"text-sm font-bold text-center",children:"No diet plans found matching your search."})]})]}),q=()=>d?e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 md:gap-10 fade-in",children:[e.jsx("div",{className:"lg:col-span-4 space-y-6",children:e.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-[32px] shadow-sm border border-gray-100 flex flex-col justify-between overflow-hidden relative",children:[e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx("div",{className:"w-12 h-12 bg-indigo-600 rounded-2xl flex items-center justify-center text-white shadow-lg shadow-indigo-100",children:e.jsx($t,{size:24})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-gray-400",children:d.target}),e.jsx("h2",{className:"text-lg font-black text-gray-900 leading-tight",children:d.name})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-5 bg-gray-50 rounded-2xl border border-transparent",children:[e.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-gray-400 mb-1",children:"Calories / Day"}),e.jsxs("div",{className:"text-2xl font-black text-indigo-600",children:[d.calories," ",e.jsx("span",{className:"text-xs text-gray-400 uppercase tracking-widest",children:"kcal"})]})]}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:["protein","carbs","fats"].map(H=>e.jsxs("div",{className:"p-3 bg-white border border-gray-100 rounded-xl text-center",children:[e.jsx("div",{className:"text-[9px] font-black uppercase tracking-tighter text-gray-400 capitalize",children:H.slice(0,1)}),e.jsxs("div",{className:"text-sm font-bold text-gray-900",children:[d.macros[H],"g"]})]},H))}),e.jsxs("div",{className:"pt-4 space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-[10px] font-black uppercase tracking-widest px-1",children:[e.jsx("span",{className:"text-gray-400",children:"Consistency Focus"}),e.jsxs("span",{className:"text-indigo-600",children:[d?Math.min(100,Math.ceil((new Date-new Date(d.createdAt))/(1e3*60*60*24*7*4)*100)):0,"%"]})]}),e.jsx("div",{className:"h-2.5 bg-gray-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-indigo-600 rounded-full transition-all duration-1000",style:{width:`${d?Math.min(100,Math.ceil((new Date-new Date(d.createdAt))/(1e3*60*60*24*7*4)*100)):0}%`}})})]})]})]}),e.jsxs("div",{className:"relative z-10 pt-8 mt-8 border-t border-gray-50 space-y-4",children:[e.jsx("div",{className:"p-4 bg-indigo-50 rounded-2xl",children:e.jsxs("p",{className:"text-[11px] font-bold text-indigo-900 leading-relaxed italic",children:['"',d.notes||"No specific instructions provided.",'"']})}),!s&&e.jsxs("button",{className:"w-full py-4 bg-black text-white rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] hover:bg-indigo-600 transition-all flex items-center justify-center gap-2 shadow-lg shadow-gray-100",children:["MARK COMPLETE ",e.jsx(Xt,{size:16})]}),s&&e.jsx("button",{onClick:()=>x(null),className:"w-full py-4 bg-gray-100 text-gray-600 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] hover:bg-gray-200 transition-all",children:"BACK TO LIST"})]})]})}),e.jsxs("div",{className:"lg:col-span-8 space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2 px-1",children:[e.jsx(wd,{size:18,className:"text-indigo-500"}),e.jsx("h3",{className:"text-sm font-black uppercase tracking-[0.2em] text-gray-900",children:"Meal Sequence"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Array.isArray(d.meals)?d.meals.map((H,G)=>e.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-gray-100 shadow-sm hover:border-indigo-100 transition-all group overflow-hidden relative",children:[e.jsxs("div",{className:"relative z-10 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-center gap-2 bg-indigo-50 text-indigo-600 px-2.5 py-1 rounded-lg text-[10px] font-black uppercase tracking-widest",children:[e.jsx(Qe,{size:12,strokeWidth:3})," ",H.time]}),e.jsxs("div",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:[H.cals," KCAL"]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-black text-gray-900 mb-1 group-hover:text-indigo-600 transition-colors uppercase tracking-tight",children:H.name}),e.jsx("p",{className:"text-[11px] text-gray-500 font-bold leading-relaxed",children:H.notes})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 pt-2",children:[e.jsxs("div",{className:"bg-gray-50 p-2 rounded-lg text-center",children:[e.jsx("div",{className:"text-[8px] font-black text-gray-400 uppercase",children:"P"}),e.jsxs("div",{className:"text-xs font-black text-gray-700",children:[H.protein,"g"]})]}),e.jsxs("div",{className:"bg-gray-50 p-2 rounded-lg text-center",children:[e.jsx("div",{className:"text-[8px] font-black text-gray-400 uppercase",children:"C"}),e.jsxs("div",{className:"text-xs font-black text-gray-700",children:[H.carbs,"g"]})]}),e.jsxs("div",{className:"bg-gray-50 p-2 rounded-lg text-center",children:[e.jsx("div",{className:"text-[8px] font-black text-gray-400 uppercase",children:"F"}),e.jsxs("div",{className:"text-xs font-black text-gray-700",children:[H.fats,"g"]})]})]})]}),e.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity",children:e.jsx("span",{className:"text-4xl font-black italic",children:G+1})})]},H.id)):e.jsxs("div",{className:"col-span-full py-20 bg-white rounded-3xl border border-dashed border-gray-200 flex flex-col items-center justify-center text-gray-400",children:[e.jsx(wd,{size:40,className:"mb-4 opacity-20"}),e.jsx("p",{className:"text-sm font-bold",children:"No meal sequence defined for this plan."})]})})]})]}):null;return e.jsxs("div",{className:"p-4 md:p-8 bg-[#FBFBFE] min-h-screen font-sans",children:[e.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-black text-gray-900 tracking-tight uppercase mb-1",children:s?"Diet Plans":"My Protocol"}),e.jsx("p",{className:"text-gray-400 font-bold text-xs uppercase tracking-widest",children:s?"Precise nutritional scheduling & macro management":`Active Protocol: ${d?.name||"No Active Plan"}`})]}),s&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative group flex-1 md:flex-none",children:[e.jsx(tt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-indigo-600 transition-colors",size:16}),e.jsx("input",{type:"text",placeholder:"Search plans or clients...",className:"w-full md:w-64 h-11 pl-10 pr-4 bg-white rounded-xl font-bold border border-gray-100 focus:border-indigo-500 outline-none transition-all text-xs",value:i,onChange:H=>o(H.target.value)})]}),e.jsxs("button",{onClick:()=>{L(null),k(!0)},className:"h-11 px-6 bg-indigo-600 text-white rounded-xl text-xs font-black uppercase tracking-[0.15em] shadow-lg shadow-indigo-100 hover:bg-indigo-700 hover:-translate-y-0.5 transition-all flex items-center gap-3",children:[e.jsx(wt,{size:16,strokeWidth:3}),"Create Plan"]})]})]}),s&&!d&&e.jsxs(e.Fragment,{children:[e.jsx(B,{}),e.jsx(T,{})]}),(d||!s)&&e.jsx(q,{})]}),e.jsx(dM,{isOpen:w,onClose:()=>{k(!1),L(null)},onSave:P,editData:C}),e.jsx(xM,{isOpen:b,onClose:()=>g(!1),onAssign:H=>console.log("Assigned to:",H),planName:a.find(H=>H.id===j)?.name})]})},Bx=({label:t,value:s,onChange:a,placeholder:l,icon:i})=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-xs font-bold text-gray-500 flex items-center gap-1.5",children:[i&&e.jsx(i,{size:12}),t]}),e.jsx("div",{className:"relative group",children:e.jsx("input",{type:"text",className:"w-full h-12 bg-gray-50 border border-gray-100 rounded-xl px-4 font-bold text-gray-900 focus:bg-white focus:ring-2 focus:ring-indigo-100 focus:border-indigo-500 outline-none transition-all placeholder:font-normal placeholder:text-gray-400",value:s,placeholder:l,onChange:o=>a(o.target.value)})})]}),EM=({isOpen:t,onClose:s,onSave:a,initialData:l=null})=>{const[i,o]=v.useState(1),[d,x]=v.useState(l||{name:"",clientId:"",description:"",target:"Muscle Gain",durationWeeks:12,durationDays:4,difficulty:"Intermediate",intensity:"High",days:{monday:[],tuesday:[],wednesday:[],thursday:[],friday:[],saturday:[],sunday:[]}}),[u,h]=v.useState([]);Di.useEffect(()=>{t&&Dg({limit:100}).then(w=>h(w?.data||[])).catch(console.error)},[t]);const[p,f]=v.useState("monday"),[b,g]=v.useState({name:"",sets:3,reps:"10-12",rpe:8,rest:"90s",notes:""});if(!t)return null;const j=()=>{b.name&&(x(w=>({...w,days:{...w.days,[p]:[...w.days[p],{...b,id:Date.now().toString()}]}})),g({name:"",sets:3,reps:"10-12",rpe:8,rest:"90s",notes:""}))},A=(w,k)=>{x(C=>({...C,days:{...C.days,[w]:C.days[w].filter(L=>L.id!==k)}}))};return e.jsx(rt,{isOpen:t,onClose:s,title:l?"Edit Protocol":"Protocol Architect",subtitle:`Step ${i} of 2: ${i===1?"Definitions":"Orchestration"}`,maxWidth:"max-w-5xl",footer:e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("button",{onClick:s,className:"px-6 py-3 text-sm font-bold text-gray-500 hover:text-gray-900 transition-colors",children:"Cancel"}),e.jsxs("div",{className:"flex items-center gap-4",children:[i===2&&e.jsxs("button",{onClick:()=>o(1),className:"px-6 py-3 bg-gray-100 text-gray-600 rounded-xl text-sm font-bold hover:bg-gray-200 transition-all flex items-center gap-2",children:[e.jsx(Gr,{size:18})," Back"]}),e.jsxs("button",{onClick:()=>{if(i===1)o(2);else{if(!d.name||!d.clientId){alert("Please fill in Plan Name and Assign a Client.");return}a({...d,id:d.id||"wp-"+Date.now(),exercisesCount:Object.values(d.days).flat().length,avgDuration:d.avgDuration||"60 min"})}},className:"px-8 py-3 bg-indigo-600 text-white rounded-xl text-sm font-bold hover:bg-indigo-700 shadow-lg shadow-indigo-200 transition-all flex items-center gap-2",children:[i===1?"Next Step":"Save Protocol",i===1?e.jsx(js,{size:18}):e.jsx(na,{size:18})]})]})]}),children:e.jsx("div",{className:"flex flex-col h-full",children:e.jsx("div",{className:"flex-1 overflow-y-auto pr-2 custom-scrollbar",children:i===1?e.jsxs("div",{className:"max-w-3xl mx-auto space-y-8",children:[e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-bold text-gray-700",children:"Protocol Identity"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("input",{type:"text",placeholder:"e.g. Hypertrophy Mastery 2.0",className:"flex-1 h-14 px-4 bg-white border border-gray-200 rounded-xl text-lg font-bold focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 outline-none transition-all placeholder:font-normal placeholder:text-gray-400",value:d.name,onChange:w=>x({...d,name:w.target.value})}),e.jsxs("select",{className:"flex-1 h-14 bg-white border border-gray-200 px-4 rounded-xl text-sm font-bold focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 outline-none transition-all appearance-none",value:d.clientId,onChange:w=>x({...d,clientId:w.target.value}),children:[e.jsx("option",{value:"",children:"Select Client"}),u.map(w=>e.jsx("option",{value:w.id,children:w.name},w.id))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-bold text-gray-700",children:"Description"}),e.jsx("textarea",{placeholder:"Scientific objectives & background...",className:"w-full h-32 px-4 py-3 bg-white border border-gray-200 rounded-xl text-sm font-medium focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 outline-none transition-all resize-none placeholder:font-normal placeholder:text-gray-400",value:d.description,onChange:w=>x({...d,description:w.target.value})})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Target Strategy"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:["Muscle Gain","Fat Loss","Strength","Endurance"].map(w=>e.jsx("button",{onClick:()=>x({...d,target:w}),className:`h-12 rounded-xl text-xs font-bold transition-all border ${d.target===w?"bg-indigo-600 border-indigo-600 text-white shadow-lg shadow-indigo-200":"bg-white border-gray-200 text-gray-600 hover:border-indigo-300 hover:bg-gray-50"}`,children:w},w))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Intensity Level"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:["Low","Moderate","High"].map(w=>e.jsx("button",{onClick:()=>x({...d,intensity:w}),className:`h-12 rounded-xl text-xs font-bold transition-all border ${d.intensity===w?"bg-indigo-600 border-indigo-600 text-white shadow-lg shadow-indigo-200":"bg-white border-gray-200 text-gray-600 hover:border-indigo-300 hover:bg-gray-50"}`,children:w},w))})]})]}),e.jsxs("div",{className:"bg-gray-50 p-6 rounded-2xl border border-gray-100 grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider flex items-center gap-2",children:[e.jsx(Qe,{size:14})," Duration Schedule"]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsx("input",{type:"number",className:"w-full h-12 bg-white border border-gray-200 rounded-xl px-4 font-bold focus:border-indigo-500 outline-none",value:d.durationWeeks,onChange:w=>x({...d,durationWeeks:w.target.value})}),e.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Weeks"})]}),e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsx("input",{type:"number",className:"w-full h-12 bg-white border border-gray-200 rounded-xl px-4 font-bold focus:border-indigo-500 outline-none",value:d.durationDays,onChange:w=>x({...d,durationDays:w.target.value})}),e.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Days / Week"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider flex items-center gap-2",children:[e.jsx($t,{size:14})," Difficulty Tier"]}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{className:"w-full h-12 bg-white border border-gray-200 rounded-xl text-sm px-4 font-bold focus:ring-4 focus:ring-indigo-500/10 focus:border-indigo-500 outline-none transition-all appearance-none",value:d.difficulty,onChange:w=>x({...d,difficulty:w.target.value}),children:[e.jsx("option",{children:"Beginner"}),e.jsx("option",{children:"Intermediate"}),e.jsx("option",{children:"Advanced"}),e.jsx("option",{children:"Pro-Athlete"})]}),e.jsx(js,{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 rotate-90",size:16})]})]})]})]}):e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[e.jsx("div",{className:"lg:col-span-3 space-y-4",children:["monday","tuesday","wednesday","thursday","friday","saturday","sunday"].map(w=>e.jsxs("button",{onClick:()=>f(w),className:`w-full p-4 rounded-2xl flex items-center justify-between transition-all font-bold text-sm uppercase tracking-wider ${p===w?"bg-indigo-600 text-white shadow-lg shadow-indigo-200":"bg-white text-gray-500 hover:text-indigo-600 hover:text-indigo-600 hover:bg-gray-50"}`,children:[e.jsx("span",{children:w.slice(0,3)}),e.jsx("div",{className:`w-6 h-6 rounded-lg flex items-center justify-center text-[10px] font-bold ${p===w?"bg-white/20":"bg-gray-100"}`,children:d.days[w].length})]},w))}),e.jsxs("div",{className:"lg:col-span-9 space-y-8",children:[e.jsxs("div",{className:"bg-white p-6 rounded-[32px] border border-gray-100 shadow-sm space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-8 h-8 bg-indigo-50 text-indigo-600 rounded-lg flex items-center justify-center",children:e.jsx(Er,{size:16})}),e.jsxs("h3",{className:"text-lg font-bold text-gray-900",children:["Add Movement to ",e.jsx("span",{className:"capitalize",children:p})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsx(Bx,{label:"Movement Name",icon:Er,value:b.name,onChange:w=>g({...b,name:w}),placeholder:"e.g. Barbell Squat"})}),e.jsx(Bx,{label:"Sets",icon:wn,value:b.sets,onChange:w=>g({...b,sets:w})}),e.jsx(Bx,{label:"Reps/Tempo",icon:$t,value:b.reps,onChange:w=>g({...b,reps:w}),placeholder:"e.g. 8-10 or 3010"}),e.jsx(Bx,{label:"Target RPE",icon:ua,value:b.rpe,onChange:w=>g({...b,rpe:w})}),e.jsx(Bx,{label:"Rest Period",icon:Qe,value:b.rest,onChange:w=>g({...b,rest:w}),placeholder:"e.g. 90s"}),e.jsxs("div",{className:"md:col-span-2 space-y-2",children:[e.jsxs("label",{className:"text-xs font-bold text-gray-500 flex items-center gap-1.5",children:[e.jsx(Yn,{size:12})," Notes"]}),e.jsx("textarea",{placeholder:"Technical notes, queueing...",className:"w-full h-20 px-4 py-3 bg-gray-50 rounded-xl border border-gray-100 text-sm font-medium focus:ring-4 focus:ring-indigo-500/10 focus:border-indigo-500 outline-none resize-none transition-all",value:b.notes,onChange:w=>g({...b,notes:w.target.value})})]})]}),e.jsxs("button",{onClick:j,className:"w-full h-12 bg-gray-900 text-white rounded-xl font-bold text-sm hover:bg-indigo-600 transition-all shadow-lg hover:shadow-indigo-200 flex items-center justify-center gap-2",children:[e.jsx(wt,{size:18})," Add Movement"]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between px-2",children:[e.jsxs("h4",{className:"text-sm font-bold text-gray-900 uppercase tracking-wider",children:[p," Schedule"]}),e.jsxs("span",{className:"text-xs font-bold text-gray-400",children:[d.days[p].length," Exercises"]})]}),d.days[p].length===0?e.jsx("div",{className:"py-12 text-center bg-gray-50/50 rounded-[24px] border border-dashed border-gray-200 text-gray-400",children:e.jsx("p",{className:"font-semibold text-sm",children:"No exercises added yet"})}):e.jsx("div",{className:"space-y-3",children:d.days[p].map((w,k)=>e.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white rounded-2xl border border-gray-100 shadow-sm hover:border-indigo-100 transition-all group",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center font-bold text-xs text-gray-500 group-hover:bg-indigo-600 group-hover:text-white transition-all",children:k+1}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h5",{className:"font-bold text-gray-900 text-sm",children:w.name}),e.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[e.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider bg-gray-50 px-2 py-0.5 rounded-md",children:[w.sets," Sets"]}),e.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider bg-gray-50 px-2 py-0.5 rounded-md",children:[w.reps," Reps"]}),w.rpe&&e.jsxs("span",{className:"text-[10px] font-bold text-orange-400 uppercase tracking-wider bg-orange-50 px-2 py-0.5 rounded-md",children:["RPE ",w.rpe]})]})]}),e.jsx("button",{onClick:()=>A(p,w.id),className:"p-2 rounded-lg hover:bg-red-50 text-gray-300 hover:text-red-500 transition-all",children:e.jsx(ms,{size:16})})]},w.id))})]})]})]})})})})},TM=({isOpen:t,onClose:s,onAssign:a,planName:l})=>{const[i,o]=v.useState(""),[d,x]=v.useState([]),[u,h]=v.useState(""),[p,f]=v.useState(""),[b,g]=v.useState(""),A=[{id:"M-101",name:"John Doe",currentPlan:"Hypertrophy Mastery 2.0"},{id:"M-102",name:"Jane Smith",currentPlan:null},{id:"M-103",name:"Mike Monitor",currentPlan:"Strength 5x5"},{id:"M-104",name:"Alice Cooper",currentPlan:null},{id:"M-105",name:"Bob Builder",currentPlan:"Endurance Basics"}].filter(k=>k.name.toLowerCase().includes(i.toLowerCase())||k.id.toLowerCase().includes(i.toLowerCase())),w=k=>{x(C=>C.includes(k)?C.filter(L=>L!==k):[...C,k])};return t?e.jsx(rt,{isOpen:t,onClose:s,title:"Assign Protocol",subtitle:l,maxWidth:"max-w-lg",footer:e.jsxs("div",{className:"flex gap-3 w-full",children:[e.jsx("button",{onClick:s,className:"flex-1 py-3.5 bg-white text-gray-600 rounded-xl font-bold border border-gray-200 hover:bg-gray-50 transition-all text-sm",children:"Cancel"}),e.jsx("button",{onClick:()=>{a({members:d,startDate:u,endDate:p,notes:b}),s()},disabled:d.length===0||!u,className:"flex-[2] py-3.5 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-indigo-200 active:scale-95 text-sm flex items-center justify-center gap-2",children:"Assign Protocol"})]}),children:e.jsx("div",{className:"flex flex-col h-full",children:e.jsxs("div",{className:"flex-1 overflow-y-auto pr-2 space-y-6",children:[e.jsxs("div",{className:"bg-slate-50 p-5 rounded-[24px] border border-slate-100 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 pl-1",children:"Start Date"}),e.jsx("input",{type:"date",className:"w-full h-11 bg-white border border-slate-200 rounded-xl px-4 text-sm font-bold focus:border-indigo-500 outline-none",value:u,onChange:k=>h(k.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 pl-1",children:"End Date (Estimated)"}),e.jsx("input",{type:"date",className:"w-full h-11 bg-white border border-slate-200 rounded-xl px-4 text-sm font-bold focus:border-indigo-500 outline-none",value:p,onChange:k=>f(k.target.value)})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 pl-1",children:"Coach Notes (Optional)"}),e.jsx("textarea",{className:"w-full h-20 bg-white border border-slate-200 rounded-xl px-4 py-2 text-sm font-medium focus:border-indigo-500 outline-none resize-none",placeholder:"Specific focus areas for this member...",value:b,onChange:k=>g(k.target.value)})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(tt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{type:"text",placeholder:"Search athletes...",className:"w-full pl-11 pr-4 py-3 bg-gray-50 border-none rounded-2xl font-bold text-sm focus:ring-2 focus:ring-indigo-500 outline-none transition-all",value:i,onChange:k=>o(k.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[A.map(k=>{const C=d.includes(k.id);return e.jsxs("div",{onClick:()=>w(k.id),className:`p-4 rounded-2xl border transition-all cursor-pointer flex items-center justify-between group ${C?"bg-indigo-50 border-indigo-200 shadow-inner":"bg-white border-gray-100 hover:border-gray-200 hover:bg-gray-50/50"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center text-sm font-bold transition-colors ${C?"bg-indigo-600 text-white":"bg-gray-100 text-gray-500"}`,children:k.name.charAt(0)}),e.jsxs("div",{children:[e.jsx("p",{className:`font-bold text-sm ${C?"text-indigo-900":"text-gray-900"}`,children:k.name}),e.jsx("p",{className:"text-xs font-semibold text-gray-400",children:k.currentPlan?`Current: ${k.currentPlan}`:"No active protocol"})]})]}),e.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all ${C?"border-indigo-600 bg-indigo-600 text-white":"border-gray-200 text-transparent group-hover:border-gray-300"}`,children:e.jsx(Xt,{size:14,strokeWidth:4})})]},k.id)}),A.length===0&&e.jsxs("div",{className:"text-center py-8 text-gray-400",children:[e.jsx(lt,{size:32,className:"mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm font-bold",children:"No athletes found"})]})]})]})})}):null},_M=({role:t})=>{const s=qt();Tr();const a=t==="TRAINER"||t==="SUPER_ADMIN"||t==="MANAGER"||t==="BRANCH_ADMIN",[l,i]=v.useState([]),[o,d]=v.useState(""),[x,u]=v.useState(null),[h,p]=v.useState("monday"),[f,b]=v.useState(!0),[g,j]=v.useState(!1),[A,w]=v.useState(null),[k,C]=v.useState(!1),[L,N]=v.useState(null);Di.useEffect(()=>{P()},[a]);const P=async()=>{try{b(!0);const G=a?await J9():await DM();i(G),G.length>0&&u(G[0])}catch(G){console.error("Failed to load plans:",G),ft.error("Failed to load workout plans")}finally{b(!1)}},_=async G=>{try{A&&A.id?(await Z9(A.id,G),ft.success("Protocol updated successfully")):(await Q9(G),ft.success("Protocol created successfully")),await P(),j(!1),w(null)}catch(W){console.error("Error saving plan",W),ft.error("Failed to save protocol")}},F=async G=>{if(window.confirm("Are you sure you want to deactivate this workout protocol?"))try{await eD(G),ft.success("Protocol deactivated successfully"),await P()}catch(W){console.error("Error deleting plan",W),ft.error("Failed to deactivate protocol")}},R=G=>{N(G),C(!0)},B=G=>{console.log(`Assigned Plan ${L} to members:`,G),C(!1)},T=G=>{w(G),j(!0)},q=()=>{w(null),j(!0)},H=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"];return e.jsxs("div",{className:"p-6 md:p-8 min-h-screen font-sans bg-gradient-to-br from-slate-50 via-white to-violet-50/30",children:[e.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-black bg-gradient-to-r from-slate-900 to-slate-700 bg-clip-text text-transparent tracking-tight mb-2",children:a?"Training Architecture":"Force & Hypertrophy"}),e.jsx("p",{className:"text-slate-500 font-medium text-sm md:text-lg max-w-2xl leading-relaxed",children:a?"Design and manage evidence-based training protocols.":`Executing the ${x?.name} protocol. Focus on form and tempo.`})]}),a&&e.jsxs("button",{onClick:q,className:"group px-6 py-3 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-xl text-sm font-bold shadow-lg shadow-violet-200 hover:shadow-violet-500/30 hover:-translate-y-0.5 transition-all flex items-center justify-center gap-2 w-full md:w-auto",children:[e.jsx(wt,{size:18,strokeWidth:2.5}),"Create Protocol"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 md:gap-8",children:[a?e.jsx("div",{className:"lg:col-span-4 space-y-6",children:e.jsxs("div",{className:"bg-white p-4 md:p-6 rounded-[32px] shadow-xl shadow-slate-200/50 border border-slate-100 space-y-6",children:[e.jsxs("div",{className:"relative group",children:[e.jsx(tt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-600 transition-colors",size:18}),e.jsx("input",{type:"text",placeholder:"Search Protocols...",className:"w-full h-12 pl-12 pr-4 bg-slate-50 rounded-xl font-semibold border-transparent focus:bg-white focus:ring-2 focus:ring-violet-100 outline-none transition-all placeholder:font-bold placeholder:text-slate-400 text-sm",value:o,onChange:G=>d(G.target.value)})]}),e.jsx("div",{className:"space-y-3 max-h-[400px] md:max-h-[600px] overflow-y-auto pr-2 custom-scrollbar",children:l.filter(G=>G.name.toLowerCase().includes(o.toLowerCase())).map(G=>e.jsx("div",{onClick:()=>u(G),className:`w-full p-4 md:p-5 rounded-2xl text-left transition-all relative group cursor-pointer border ${x?.id===G.id?"bg-gradient-to-r from-violet-600 to-purple-600 border-transparent shadow-lg shadow-violet-200":"bg-white border-slate-100 hover:border-violet-100 hover:shadow-md hover:shadow-violet-500/5"}`,children:e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("div",{className:`p-2 rounded-xl ${x?.id===G.id?"bg-white/20 text-white":"bg-violet-50 text-violet-600"}`,children:e.jsx(Er,{size:18,strokeWidth:2.5})}),e.jsxs("div",{className:"flex gap-1",onClick:W=>W.stopPropagation(),children:[e.jsx("button",{onClick:()=>R(G.id),className:`p-1.5 rounded-lg transition-colors ${x?.id===G.id?"text-white/80 hover:bg-white/20 hover:text-white":"text-slate-400 hover:bg-violet-50 hover:text-violet-600"}`,title:"Assign",children:e.jsx(lt,{size:16})}),e.jsx("button",{onClick:()=>T(G),className:`p-1.5 rounded-lg transition-colors ${x?.id===G.id?"text-white/80 hover:bg-white/20 hover:text-white":"text-slate-400 hover:bg-violet-50 hover:text-violet-600"}`,title:"Edit",children:e.jsx(Pa,{size:16})}),e.jsx("button",{onClick:()=>F(G.id),className:`p-1.5 rounded-lg transition-colors ${x?.id===G.id?"text-white/80 hover:bg-white/20 hover:text-red-200":"text-slate-400 hover:bg-red-50 hover:text-red-500"}`,title:"Delete",children:e.jsx(ms,{size:16})})]})]}),e.jsx("h3",{className:`text-base font-bold mb-1 ${x?.id===G.id?"text-white":"text-slate-900"}`,children:G.name}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`text-xs font-bold ${x?.id===G.id?"text-violet-100":"text-slate-500"}`,children:G.level||G.difficulty||"Advanced"}),e.jsx("div",{className:`w-1 h-1 rounded-full ${x?.id===G.id?"bg-violet-300":"bg-slate-300"}`}),e.jsx("span",{className:`text-xs font-bold ${x?.id===G.id?"text-violet-100":"text-slate-500"}`,children:G.duration||"12 Weeks"})]})]})},G.id))})]})}):e.jsx("div",{className:"lg:col-span-4 space-y-6 md:space-y-8",children:e.jsxs("div",{className:"bg-white rounded-[32px] md:rounded-[40px] p-6 md:p-8 relative overflow-hidden h-full flex flex-col justify-between min-h-[400px] border border-slate-100 shadow-xl shadow-slate-200/50 group",children:[e.jsx("div",{className:"absolute top-0 right-0 w-[300px] h-[300px] bg-violet-100/50 rounded-full blur-[80px] opacity-60 group-hover:opacity-80 transition-opacity duration-700"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-[250px] h-[250px] bg-fuchsia-100/50 rounded-full blur-[80px] opacity-60"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6 md:mb-8",children:[e.jsx("div",{className:"w-12 h-12 md:w-14 md:h-14 bg-gradient-to-br from-violet-500 to-purple-600 rounded-2xl flex items-center justify-center shadow-lg shadow-violet-200 text-white",children:e.jsx(Js,{size:24,className:"md:w-7 md:h-7",strokeWidth:2.5})}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-400 mb-1",children:"Current Week"}),e.jsxs("div",{className:"text-xl md:text-2xl font-black text-slate-900",children:["Week ",x&&Math.ceil((new Date-new Date(x.createdAt))/(1e3*60*60*24*7))||1]})]})]}),e.jsxs("div",{className:"space-y-6 md:space-y-8",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-xs font-bold uppercase tracking-wider mb-3",children:[e.jsx("span",{className:"text-slate-600",children:"Protocol Progress"}),e.jsxs("span",{className:"text-violet-600",children:[x?Math.min(100,Math.ceil((new Date-new Date(x.createdAt))/(1e3*60*60*24*7*12)*100)):0,"%"]})]}),e.jsx("div",{className:"h-3 bg-slate-100 rounded-full overflow-hidden p-[2px] border border-slate-200",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-violet-500 to-purple-500 rounded-full relative overflow-hidden shadow-sm transition-all duration-1000",style:{width:`${x?Math.min(100,Math.ceil((new Date-new Date(x.createdAt))/(1e3*60*60*24*7*12)*100)):0}%`},children:e.jsx("div",{className:"absolute inset-0 bg-white/30 animate-[shimmer_2s_infinite]"})})})]}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:e.jsxs("div",{className:"bg-slate-50/80 p-5 md:p-6 rounded-2xl flex items-center justify-between border border-slate-100",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-400 mb-1",children:"Status"}),e.jsx("div",{className:"text-base md:text-lg font-black text-emerald-600 uppercase tracking-tight",children:"Active Plan"})]}),e.jsx("div",{className:"w-10 h-10 bg-white rounded-full flex items-center justify-center shadow-sm text-emerald-500",children:e.jsx($t,{size:20,className:"animate-pulse"})})]})})]})]}),e.jsxs("button",{onClick:()=>s("/progress"),className:"relative z-10 w-full py-4 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-2xl font-bold text-xs uppercase tracking-widest hover:shadow-lg hover:shadow-violet-500/30 hover:-translate-y-1 transition-all mt-6 md:mt-8 flex items-center justify-center gap-3 overflow-hidden group/btn",children:[e.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:["Open Progress Lab ",e.jsx(js,{size:16})]}),e.jsx("div",{className:"absolute inset-0 bg-white/20 translate-y-full group-hover/btn:translate-y-0 transition-transform duration-300"})]})]})}),e.jsxs("div",{className:"lg:col-span-8 space-y-6 md:space-y-8",children:[e.jsx("div",{className:"flex overflow-x-auto gap-3 pb-2 no-scrollbar",children:H.map(G=>{const W=x?.days?.[G];return e.jsx("button",{onClick:()=>p(G),className:`flex-shrink-0 px-6 py-3.5 rounded-xl text-sm font-bold transition-all border ${h===G?"bg-gradient-to-r from-violet-600 to-purple-600 text-white shadow-lg shadow-violet-200 border-transparent scale-105":W?"bg-white border-slate-200 text-slate-700 hover:border-violet-200 hover:bg-violet-50 hover:text-violet-700":"bg-slate-50 border-transparent text-slate-300 cursor-not-allowed"}`,children:G.toUpperCase()},G)})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6",children:[{label:"Total Volume",value:x?.volume||"N/A",icon:$t,color:"text-violet-600",bg:"bg-violet-50",border:"border-violet-100"},{label:"Est. Duration",value:x?.timePerSession||x?.avgDuration||"60 min",icon:Qe,color:"text-orange-600",bg:"bg-orange-50",border:"border-orange-100"},{label:"Intensity",value:x?.intensity||"High",icon:ua,color:"text-amber-600",bg:"bg-amber-50",border:"border-amber-100"}].map((G,W)=>e.jsxs("div",{className:`bg-white p-6 rounded-[24px] shadow-sm border ${G.border} flex items-center gap-5 hover:shadow-lg transition-all hover:-translate-y-1`,children:[e.jsx("div",{className:`w-12 h-12 ${G.bg} ${G.color} rounded-2xl flex items-center justify-center`,children:e.jsx(G.icon,{size:22,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-[10px] font-bold uppercase tracking-wider text-slate-400 mb-0.5",children:G.label}),e.jsx("div",{className:"text-xl font-black text-slate-900",children:G.value})]})]},W))}),e.jsxs("div",{className:"bg-white rounded-[32px] shadow-xl shadow-slate-200/50 border border-slate-100 overflow-hidden",children:[e.jsxs("div",{className:"p-4 md:p-6 border-b border-slate-100 bg-slate-50/50 flex flex-col md:flex-row md:items-center justify-between gap-4 md:gap-0",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white rounded-2xl flex items-center justify-center text-violet-600 shadow-sm border border-slate-100",children:e.jsx(Ve,{size:24,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-black text-slate-900 tracking-tight",children:x?`Day ${H.indexOf(h)+1}: ${x.name}`:"Today's Protocol"}),e.jsxs("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest mt-0.5",children:["Focus: ",x?.goal||"Strength & Power"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between md:justify-end gap-3 w-full md:w-auto",children:[e.jsxs("button",{className:"flex items-center justify-center gap-2 px-4 py-2 bg-white text-slate-600 rounded-xl text-xs font-bold border border-slate-200 hover:border-violet-500 hover:text-violet-600 transition-all shadow-sm flex-1 md:flex-none",children:[e.jsx(wg,{size:14})," Playlist"]}),e.jsxs("button",{className:"flex items-center justify-center gap-2 px-5 py-2.5 bg-slate-900 text-white rounded-xl text-xs font-bold hover:bg-slate-800 transition-all shadow-lg shadow-slate-200 hover:-translate-y-0.5 flex-1 md:flex-none",children:[e.jsx(wA,{size:14})," Start Session"]})]})]}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"space-y-4",children:x?.days?.[h]?x.days[h].map((G,W)=>e.jsxs("div",{className:"group flex flex-col md:flex-row items-stretch md:items-center p-5 rounded-2xl bg-white border border-slate-100 hover:border-violet-200 hover:shadow-lg hover:shadow-violet-500/5 transition-all gap-6 relative overflow-hidden",children:[e.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-violet-500 opacity-0 group-hover:opacity-100 transition-opacity"}),e.jsxs("div",{className:"flex items-center gap-5 md:w-1/3",children:[e.jsx("div",{className:"w-12 h-12 bg-slate-50 rounded-2xl flex items-center justify-center shadow-inner text-slate-400 font-black text-lg group-hover:bg-violet-600 group-hover:text-white transition-all duration-300",children:W+1}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-base font-bold text-slate-900 mb-1 group-hover:text-violet-700 transition-colors",children:G.name}),e.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-400 bg-slate-50 px-2 py-1 rounded-md border border-slate-100",children:G.notes?G.notes.length>20?G.notes.substring(0,20)+"...":G.notes:"Standard Movement"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 flex-1",children:[e.jsxs("div",{className:"text-center md:text-left",children:[e.jsx("div",{className:"text-[9px] font-black uppercase tracking-widest text-slate-400 mb-1",children:"Sets"}),e.jsx("div",{className:"text-sm font-bold text-slate-900 bg-slate-50 inline-block px-3 py-1 rounded-lg border border-slate-100",children:G.sets})]}),e.jsxs("div",{className:"text-center md:text-left",children:[e.jsx("div",{className:"text-[9px] font-black uppercase tracking-widest text-slate-400 mb-1",children:"Reps"}),e.jsx("div",{className:"text-sm font-bold text-slate-900 bg-slate-50 inline-block px-3 py-1 rounded-lg border border-slate-100",children:G.reps})]}),e.jsxs("div",{className:"text-center md:text-left",children:[e.jsx("div",{className:"text-[9px] font-black uppercase tracking-widest text-slate-400 mb-1",children:"RPE"}),e.jsxs("div",{className:"text-sm font-bold text-orange-600 flex items-center gap-1",children:[e.jsx(jg,{size:12,fill:"currentColor"})," ",G.rpe,"/10"]})]}),e.jsxs("div",{className:"text-center md:text-left",children:[e.jsx("div",{className:"text-[9px] font-black uppercase tracking-widest text-slate-400 mb-1",children:"Rest"}),e.jsx("div",{className:"text-sm font-bold text-violet-600",children:G.rest})]})]}),e.jsx("button",{className:"hidden md:flex w-10 h-10 bg-slate-50 rounded-xl items-center justify-center text-slate-400 hover:text-violet-600 hover:bg-violet-50 transition-all border border-transparent hover:border-violet-100",children:e.jsx(Yn,{size:18})})]},G.id)):e.jsxs("div",{className:"text-center py-20 bg-slate-50/50 rounded-[32px] border-2 border-dashed border-slate-200",children:[e.jsx("div",{className:"w-20 h-20 bg-white rounded-3xl flex items-center justify-center text-slate-300 mx-auto mb-6 shadow-sm",children:e.jsx(ua,{size:40})}),e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"Rest & Recovery Day"}),e.jsx("p",{className:"text-slate-500 font-medium max-w-xs mx-auto text-sm leading-relaxed",children:"No specific protocol scheduled. Focus on active recovery and hydration."})]})})})]})]})]})]}),e.jsx(EM,{isOpen:g,onClose:()=>j(!1),onSave:_,initialData:A}),e.jsx(TM,{isOpen:k,onClose:()=>C(!1),onAssign:B,planName:l.find(G=>G.id===L)?.name})]})},Vw=async(t=null)=>{const s=t?`/trainer/members/${t}/progress`:"/member/progress";return(await ye.get(s)).data},PM=async t=>(await ye.post("/member/progress",t)).data,L0=({label:t,value:s,onChange:a,unit:l,icon:i})=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] px-1",children:t}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-600 transition-colors duration-300",children:e.jsx(i,{size:18})}),e.jsx("input",{type:"number",step:"0.1",className:"w-full h-14 pl-12 pr-12 bg-white border-2 border-slate-200 rounded-2xl text-lg font-black text-slate-900 focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 transition-all shadow-sm group-hover:border-violet-200",value:s,onChange:o=>a(o.target.value)}),e.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 font-bold text-sm",children:l})]})]}),RM=({isOpen:t,onClose:s,onSave:a})=>{const[l,i]=v.useState({weight:"",bodyFat:"",chest:"",waist:"",arms:"",legs:""});if(!t)return null;const o=()=>{a(l)};return e.jsx(rt,{isOpen:t,onClose:s,title:"Log Transformation",subtitle:`Entry Date: ${new Date().toLocaleDateString()}`,maxWidth:"max-w-2xl",footer:e.jsxs("div",{className:"flex items-center justify-end gap-6 w-full",children:[e.jsx("button",{onClick:s,className:"px-8 py-4 text-slate-500 text-xs font-black uppercase tracking-widest hover:text-red-500 transition-colors",children:"Discard"}),e.jsxs("button",{onClick:o,className:"group relative px-10 py-4 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-2xl text-sm font-black shadow-xl shadow-violet-200 hover:shadow-2xl hover:shadow-violet-500/30 hover:-translate-y-0.5 active:translate-y-0 transition-all flex items-center gap-3 overflow-hidden",children:[e.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:["INTEGRATE DATA ",e.jsx(na,{size:18})]}),e.jsx("div",{className:"absolute inset-0 bg-white/20 translate-y-full group-hover:translate-y-0 transition-transform duration-300"})]})]}),children:e.jsx("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar",children:e.jsxs("div",{className:"space-y-10",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsx(L0,{label:"Current Weight",value:l.weight,onChange:d=>i({...l,weight:d}),unit:"kg",icon:xw}),e.jsx(L0,{label:"Body Fat %",value:l.bodyFat,onChange:d=>i({...l,bodyFat:d}),unit:"%",icon:Pc})]}),e.jsxs("div",{className:"space-y-6 pt-2 border-t border-slate-100/50",children:[e.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-[0.3em] flex items-center gap-4",children:["Circumference Audit",e.jsx("div",{className:"flex-1 h-px bg-slate-200"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[e.jsx(L0,{label:"Chest",value:l.chest,onChange:d=>i({...l,chest:d}),unit:"cm",icon:$t}),e.jsx(L0,{label:"Waist",value:l.waist,onChange:d=>i({...l,waist:d}),unit:"cm",icon:$t}),e.jsx(L0,{label:"Upper Arms",value:l.arms,onChange:d=>i({...l,arms:d}),unit:"cm",icon:$t}),e.jsx(L0,{label:"Thighs",value:l.legs,onChange:d=>i({...l,legs:d}),unit:"cm",icon:$t})]})]}),e.jsxs("div",{className:"bg-violet-50 p-6 rounded-[32px] border border-violet-100 flex items-start gap-4 shadow-sm",children:[e.jsx("div",{className:"p-2 bg-white rounded-full text-violet-600 shadow-sm shrink-0",children:e.jsx(wn,{size:18})}),e.jsx("p",{className:"text-sm font-medium text-violet-900 leading-relaxed",children:"Accurate metrics fuel anatomical precision. Ensure you are using consistent measuring protocols (same time, same location) for data integrity."})]})]})})})},ly=({current:t,start:s,target:a,color:l})=>{const i=Math.abs(s-a)||1,o=Math.abs(s-t),d=Math.min(Math.round(o/i*100),100);return e.jsxs("div",{className:"space-y-3 mt-6",children:[e.jsxs("div",{className:"flex justify-between items-end",children:[e.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Progress to Target"}),e.jsxs("span",{className:"text-sm font-bold",style:{color:l},children:[d,"%"]})]}),e.jsx("div",{className:"h-2.5 bg-slate-100 rounded-full overflow-hidden border border-slate-200/50",children:e.jsx("div",{className:"h-full rounded-full transition-all duration-1000 shadow-[0_0_10px_rgba(0,0,0,0.1)] relative",style:{width:`${d}%`,backgroundColor:l},children:e.jsx("div",{className:"absolute inset-0 bg-white/20 animate-pulse"})})}),e.jsxs("div",{className:"flex justify-between text-[9px] font-bold text-slate-400 uppercase tracking-tighter",children:[e.jsxs("span",{children:["Start: ",s]}),e.jsxs("span",{children:["Target: ",a]})]})]})},OM=()=>{const t=qt(),{role:s}=Wo(),a=Tr(),i=new URLSearchParams(a.search).get("memberId"),o=a.pathname.includes("/log"),[d,x]=v.useState("overview"),[u,h]=v.useState(!0),[p,f]=v.useState([]),[b,g]=v.useState({chest:{current:0,change:0,unit:"cm"},waist:{current:0,change:0,unit:"cm"},arms:{current:0,change:0,unit:"cm"},legs:{current:0,change:0,unit:"cm"}}),[j,A]=v.useState([]),[w,k]=v.useState({weight:78,bodyFat:15,goal:""});v.useEffect(()=>{C()},[]);const C=async()=>{try{h(!0);const W=await Vw(i);if(W&&W.targets&&k({weight:parseFloat(W.targets.weight)||78,bodyFat:parseFloat(W.targets.bodyFat)||15,goal:W.targets.goal||""}),W&&W.logs&&W.logs.length>0){const le=W.logs.map(I=>({...I,dateLabel:new Date(I.date).toLocaleDateString(),weight:parseFloat(I.weight),bodyFat:parseFloat(I.bodyFat)}));f(le);const V=le[le.length-1],ne=le.length>1?le[le.length-2]:null;if(V.measurements){const I=V.measurements,oe=ne?.measurements||{};g({chest:{current:I.chest||0,change:(parseFloat(I.chest)||0)-(parseFloat(oe.chest)||0),unit:"cm"},waist:{current:I.waist||0,change:(parseFloat(I.waist)||0)-(parseFloat(oe.waist)||0),unit:"cm"},arms:{current:I.arms||0,change:(parseFloat(I.arms)||0)-(parseFloat(oe.arms)||0),unit:"cm"},legs:{current:I.legs||0,change:(parseFloat(I.legs)||0)-(parseFloat(oe.legs)||0),unit:"cm"}})}V.photos&&A(V.photos||[])}}catch(W){console.error("Failed to load progress:",W)}finally{h(!1)}},L=async W=>{try{const le={weight:W.weight,bodyFat:W.bodyFat,measurements:{chest:W.chest,waist:W.waist,arms:W.arms,legs:W.legs},memberId:i,date:new Date};await PM(le);const V=i?`/progress?memberId=${i}`:"/progress";t(V),C()}catch(le){console.error("Failed to save progress:",le)}};if(s!=="MEMBER"&&!i)return e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-white p-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-amber-50 text-amber-500 rounded-full flex items-center justify-center mb-4",children:e.jsx(hs,{size:32})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"No Member Selected"}),e.jsx("p",{className:"text-gray-500 mt-2 max-w-xs",children:"Please select a member from your list to view or log their progress."}),e.jsx("button",{onClick:()=>{t(s==="TRAINER"?"/trainer/members/assigned":"/dashboard")},className:"mt-6 px-6 py-2.5 bg-violet-600 text-white rounded-xl font-bold hover:bg-violet-700 transition-all shadow-lg shadow-violet-200",children:"Go Back"})]});if(u)return e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-white",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-violet-600 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"mt-4 text-slate-500 font-bold uppercase tracking-widest text-xs",children:"Calibrating Metrics..."})]});const N=p.length>0,P=N?p[p.length-1].weight:80,_=N?p[0].weight:80,F=w.weight,R=N?p[p.length-1].bodyFat:20,B=N?p[0].bodyFat:20,T=w.bodyFat,q=(P-_).toFixed(1),H=N&&p.length>1?P<p[p.length-2].weight?"down":"up":"neutral",G=[{id:"m1",label:`Weight Goal (${F}kg)`,target:F,current:P,completed:P<=F},{id:"m2",label:`Body Fat Goal (${T}%)`,target:T,current:R,completed:R<=T},{id:"m3",label:"100% Consistency",target:100,current:N?85:0,completed:!1}];return e.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-6 pb-12 min-h-screen font-sans selection:bg-violet-100 selection:text-violet-900",children:[e.jsxs("div",{className:"fixed inset-0 pointer-events-none",children:[e.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-violet-100/40 rounded-full blur-[120px] mix-blend-multiply opacity-50"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-[500px] h-[500px] bg-purple-100/40 rounded-full blur-[120px] mix-blend-multiply opacity-50"})]}),e.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto space-y-8",children:[e.jsxs("div",{className:"mb-8 relative animate-in slide-in-from-top-5 duration-700",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-6 md:p-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent mb-2 flex items-center gap-3",children:[e.jsx($t,{className:"text-violet-600",size:32}),"Transformation Lab"]}),e.jsxs("p",{className:"text-slate-600 text-sm md:text-base font-medium max-w-2xl",children:["Track, analyze, and optimize your fitness journey with ",e.jsx("span",{className:"text-violet-600 font-bold",children:"precision metrics"}),"."]})]}),e.jsxs("button",{onClick:()=>t(i?`/progress/log?memberId=${i}`:"/progress/log"),className:"group relative px-6 py-3 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-xl text-sm font-bold shadow-lg shadow-violet-500/30 overflow-hidden transition-all hover:-translate-y-1 hover:shadow-violet-500/50 hover:shadow-xl",children:[e.jsx("div",{className:"absolute inset-0 bg-white/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("span",{className:"relative flex items-center gap-2",children:[e.jsx(wt,{size:18,strokeWidth:3}),"LOG NEW DATA"]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 p-6 hover:shadow-2xl hover:scale-[1.02] hover:-translate-y-1 transition-all duration-300 group",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("div",{className:"p-3 bg-violet-50 text-violet-600 rounded-xl group-hover:scale-110 group-hover:rotate-3 transition-all duration-300 shadow-sm group-hover:bg-violet-600 group-hover:text-white",children:e.jsx(xw,{size:20,strokeWidth:2.5})}),e.jsxs("div",{className:`px-2.5 py-1 rounded-full text-[11px] font-bold flex items-center gap-1 ${H==="down"?"bg-emerald-50 text-emerald-600 border border-emerald-100":"bg-rose-50 text-rose-600 border border-rose-100"}`,children:[H==="down"?e.jsx(F0,{size:12}):e.jsx(Js,{size:12}),Math.abs(q)," kg"]})]}),e.jsx("div",{className:"text-[11px] font-bold uppercase tracking-widest text-slate-400 mb-1",children:"Body Mass"}),e.jsxs("div",{className:"text-3xl font-black text-slate-900 mb-2 tracking-tight",children:[P," ",e.jsx("span",{className:"text-lg font-bold text-slate-400",children:"kg"})]}),e.jsx(ly,{current:P,start:_,target:F,color:"#7C3AED"})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 p-6 hover:shadow-2xl hover:scale-[1.02] hover:-translate-y-1 transition-all duration-300 group",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("div",{className:"p-3 bg-fuchsia-50 text-fuchsia-600 rounded-xl group-hover:scale-110 group-hover:rotate-3 transition-all duration-300 shadow-sm group-hover:bg-fuchsia-600 group-hover:text-white",children:e.jsx(Pc,{size:20,strokeWidth:2.5})}),e.jsxs("div",{className:"px-2.5 py-1 rounded-full bg-emerald-50 text-emerald-600 border border-emerald-100 text-[11px] font-bold flex items-center gap-1",children:[e.jsx(F0,{size:12}),"-3.6 %"]})]}),e.jsx("div",{className:"text-[11px] font-bold uppercase tracking-widest text-slate-400 mb-1",children:"Composition"}),e.jsxs("div",{className:"text-3xl font-black text-slate-900 mb-2 tracking-tight",children:[R," ",e.jsx("span",{className:"text-lg font-bold text-slate-400",children:"%"})]}),e.jsx(ly,{current:R,start:B,target:T,color:"#C026D3"})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 p-6 hover:shadow-2xl hover:scale-[1.02] hover:-translate-y-1 transition-all duration-300 group",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("div",{className:"p-3 bg-blue-50 text-blue-600 rounded-xl group-hover:scale-110 group-hover:rotate-3 transition-all duration-300 shadow-sm group-hover:bg-blue-600 group-hover:text-white",children:e.jsx(ua,{size:20,strokeWidth:2.5})}),e.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-blue-600 bg-blue-50 px-2.5 py-1 rounded-full border border-blue-100",children:"Optimal"})]}),e.jsx("div",{className:"text-[11px] font-bold uppercase tracking-widest text-slate-400 mb-1",children:"BMI Score"}),e.jsx("div",{className:"text-3xl font-black text-slate-900 mb-2 tracking-tight",children:"24.2"}),e.jsxs("div",{className:"flex items-center gap-2 mt-auto pt-6 text-xs font-semibold text-slate-400 group-hover:text-blue-600 transition-colors",children:[e.jsx(il,{size:14,className:"text-blue-500"}),e.jsx("span",{className:"text-slate-900 font-bold",children:"+0.4"})," since update"]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 p-6 hover:shadow-2xl hover:scale-[1.02] hover:-translate-y-1 transition-all duration-300 group flex flex-col justify-between relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-violet-500/5 rounded-full blur-xl -mr-10 -mt-10 group-hover:bg-violet-500/10 transition-all duration-500"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("div",{className:"p-3 bg-violet-50 text-violet-600 rounded-xl group-hover:scale-110 group-hover:-rotate-3 transition-all duration-300 shadow-sm group-hover:bg-violet-600 group-hover:text-white",children:e.jsx(wn,{size:20,strokeWidth:2.5})}),e.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-violet-600 bg-violet-50 px-2.5 py-1 rounded-full border border-violet-100",children:"Next Peak"})]}),e.jsx("div",{className:"text-lg font-bold text-slate-900 mb-4 line-clamp-2 leading-tight group-hover:text-violet-700 transition-colors",children:G.find(W=>!W.completed)?.label||"All Goals Completed!"})]}),e.jsxs("div",{className:"space-y-3 relative z-10",children:[e.jsxs("div",{className:"flex justify-between text-[11px] font-bold uppercase tracking-widest",children:[e.jsx("span",{className:"text-slate-400 group-hover:text-slate-500 transition-colors",children:"Progress"}),e.jsxs("span",{className:"text-violet-600",children:[Math.round(G[0].current/G[0].target*100),"%"]})]}),e.jsx("div",{className:"h-2 bg-slate-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-violet-600 relative overflow-hidden",style:{width:`${Math.min(Math.round(G[0].current/G[0].target*100),100)}%`},children:e.jsx("div",{className:"absolute inset-0 bg-white/30 animate-[shimmer_2s_infinite]"})})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[e.jsx("div",{className:"lg:col-span-12 xl:col-span-8 space-y-8",children:e.jsxs("div",{className:"bg-white rounded-[24px] shadow-xl border border-slate-100 p-8 h-full flex flex-col",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-6 mb-8",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-violet-500 to-purple-600 text-white shadow-lg shadow-violet-200 rounded-2xl flex items-center justify-center",children:e.jsx($t,{size:24,strokeWidth:2.5})}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900 tracking-tight",children:"Anatomical Metrics"})]}),e.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-xl self-start sm:self-auto",children:[e.jsx("button",{onClick:()=>x("overview"),className:`px-5 py-2 rounded-lg text-xs font-bold uppercase tracking-wider transition-all duration-300 ${d==="overview"?"bg-white text-violet-600 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:"Grid View"}),e.jsx("button",{onClick:()=>x("history"),className:`px-5 py-2 rounded-lg text-xs font-bold uppercase tracking-wider transition-all duration-300 ${d==="history"?"bg-white text-violet-600 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:"Timeline"})]})]}),d==="overview"?e.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-2",children:Object.entries(b).map(([W,le])=>e.jsxs("div",{className:"group cursor-pointer p-5 bg-slate-50 rounded-2xl hover:bg-white hover:shadow-lg hover:shadow-violet-500/10 transition-all duration-300 border border-slate-100 hover:border-violet-100 hover:-translate-y-1",children:[e.jsx("div",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-400 mb-2 group-hover:text-violet-500 transition-colors",children:W}),e.jsxs("div",{className:"text-xl font-black text-slate-900 mb-2 group-hover:text-violet-600 transition-colors",children:[le.current," ",e.jsx("span",{className:"text-xs text-slate-400 font-bold",children:le.unit})]}),e.jsxs("div",{className:`text-[10px] font-bold uppercase tracking-wider flex items-center gap-1.5 ${le.change>=0?"text-violet-600":"text-emerald-600"}`,children:[le.change>=0?e.jsx(Js,{size:12,strokeWidth:2.5}):e.jsx(F0,{size:12,strokeWidth:2.5}),Math.abs(le.change).toFixed(1)," ",le.unit]})]},W))}),e.jsxs("div",{className:"flex-1 min-h-[250px] bg-slate-50 rounded-2xl border border-slate-100 p-6 relative overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6 shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-white rounded-lg shadow-sm text-slate-500",children:e.jsx(Kx,{size:18})}),e.jsx("h3",{className:"text-sm font-bold text-slate-900 uppercase tracking-widest",children:"Weekly Load"})]}),e.jsx("div",{className:"text-xs font-bold text-slate-400",children:"Past 7 Days"})]}),e.jsx("div",{className:"flex items-end justify-between h-40 gap-4 mt-auto",children:[40,65,30,85,55,90,45].map((W,le)=>e.jsxs("div",{className:"flex-1 flex flex-col justify-end items-center gap-2 group h-full",children:[e.jsx("div",{className:"w-full bg-slate-200 rounded-t-lg relative overflow-hidden transition-all duration-500 group-hover:bg-violet-200",style:{height:`${W}%`},children:e.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-violet-500 h-0 transition-all duration-700 delay-100 group-hover:h-full opacity-0 group-hover:opacity-100"})}),e.jsx("span",{className:"text-[10px] font-bold text-slate-400 group-hover:text-violet-600 uppercase",children:["M","T","W","T","F","S","S"][le]})]},le))})]})]}):e.jsx("div",{className:"flex-1 animate-in fade-in duration-500",children:e.jsx("div",{className:"bg-slate-50 rounded-[32px] border border-slate-100 overflow-hidden",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-slate-200 bg-slate-100/50",children:[e.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Entry Date"}),e.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Body Weight"}),e.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Body Fat %"}),e.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Trend"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:p.slice().reverse().map((W,le,V)=>{const ne=V[le+1],I=ne?(W.weight-ne.weight).toFixed(1):0;return e.jsxs("tr",{className:"hover:bg-white transition-colors group",children:[e.jsx("td",{className:"px-8 py-5",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-white rounded-lg shadow-sm text-slate-400",children:e.jsx(Ve,{size:14})}),e.jsx("span",{className:"font-bold text-slate-900",children:W.dateLabel})]})}),e.jsx("td",{className:"px-8 py-5",children:e.jsxs("span",{className:"text-sm font-black text-slate-900",children:[W.weight," kg"]})}),e.jsx("td",{className:"px-8 py-5",children:e.jsxs("span",{className:"text-sm font-bold text-slate-500",children:[W.bodyFat,"%"]})}),e.jsx("td",{className:"px-8 py-5 text-right",children:le<V.length-1?e.jsxs("span",{className:`text-[10px] font-black px-2 py-1 rounded-lg ${I<=0?"bg-emerald-50 text-emerald-600":"bg-rose-50 text-rose-600"}`,children:[I>0?"+":"",I," kg"]}):e.jsx("span",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest",children:"Baseline"})})]},le)})})]})})}),e.jsxs("div",{className:"p-8 bg-gradient-to-br from-violet-50 via-white to-purple-50 rounded-2xl border border-violet-100/50 relative overflow-hidden group hover:shadow-lg hover:shadow-violet-500/5 transition-all duration-500 mt-auto",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/40 blur-3xl -mr-20 -mt-20 group-hover:bg-white/60 transition-all duration-700"}),e.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row items-center justify-between gap-8",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("div",{className:"w-14 h-14 bg-white rounded-2xl flex items-center justify-center text-violet-600 shadow-md shadow-violet-100 group-hover:scale-110 group-hover:rotate-6 transition-all duration-500",children:e.jsx(Js,{size:28,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-black text-slate-900 mb-1",children:"Consistent Evolution"}),e.jsxs("p",{className:"text-slate-500 text-sm font-medium",children:["You've reached ",e.jsx("span",{className:"text-violet-600 font-bold bg-violet-50 px-2 py-0.5 rounded-lg border border-violet-100",children:"92%"})," of your quarterly metabolic targets."]})]})]}),e.jsxs("button",{className:"group/btn px-6 py-3 bg-white text-violet-600 rounded-xl text-xs font-black uppercase tracking-widest hover:bg-violet-600 hover:text-white transition-all shadow-md shadow-violet-100 hover:shadow-violet-500/20 border border-violet-50",children:[e.jsx("span",{className:"group-hover/btn:hidden",children:"View Audit"}),e.jsxs("span",{className:"hidden group-hover/btn:flex items-center gap-2",children:["Explore Report ",e.jsx(il,{size:14})]})]})]})]})]})}),e.jsxs("div",{className:"lg:col-span-12 xl:col-span-4 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-[24px] shadow-xl border border-slate-100 p-6 flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-slate-900 text-white shadow-lg shadow-slate-200 rounded-xl flex items-center justify-center",children:e.jsx(qo,{size:20,strokeWidth:2.5})}),e.jsx("h2",{className:"text-xl font-bold text-slate-900 tracking-tight uppercase",children:"Visual History"})]}),e.jsx("button",{className:"text-xs font-bold text-violet-600 hover:text-violet-700 hover:underline",children:"View All"})]}),e.jsx("div",{className:"space-y-4",children:N&&j.length>0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative aspect-[3/4] w-full rounded-2xl overflow-hidden group shadow-md hover:shadow-2xl transition-all duration-500 cursor-pointer border border-slate-100",children:[e.jsx("div",{className:"absolute top-4 left-4 z-10 bg-black/60 backdrop-blur-md px-3 py-1 rounded-full border border-white/20",children:e.jsx("span",{className:"text-[10px] font-bold text-white uppercase tracking-wider",children:"Latest Scan"})}),e.jsx("img",{src:j[j.length-1].url,alt:"Current Progress",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-700"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900/80 via-transparent to-transparent opacity-80"}),e.jsxs("div",{className:"absolute bottom-5 left-5 right-5",children:[e.jsx("div",{className:"text-[10px] font-bold text-white/70 mb-1 uppercase tracking-wider",children:j[j.length-1].date}),e.jsx("div",{className:"text-xl font-black text-white",children:"Current Physique"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[j.slice(0,-1).map(W=>e.jsx("div",{className:"relative aspect-square rounded-xl overflow-hidden group border border-slate-100 cursor-pointer",children:e.jsx("img",{src:W.url,alt:W.label,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"})},W.id)),e.jsxs("button",{className:"aspect-square rounded-xl border-2 border-dashed border-slate-200 flex flex-col items-center justify-center gap-2 text-slate-400 hover:border-violet-400 hover:text-violet-600 hover:bg-violet-50/10 transition-all duration-300 group",children:[e.jsx(wt,{size:20,strokeWidth:2.5}),e.jsx("span",{className:"text-[10px] font-bold uppercase",children:"Add Photo"})]})]})]}):e.jsxs("button",{className:"w-full aspect-square rounded-2xl border-2 border-dashed border-slate-200 flex flex-col items-center justify-center gap-3 text-slate-400 hover:border-violet-400 hover:text-violet-600 hover:bg-violet-50/10 transition-all duration-300 group",children:[e.jsx(qo,{size:32,strokeWidth:2}),e.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:"No Photos Yet"})]})})]}),e.jsxs("div",{className:"bg-gradient-to-br from-slate-900 to-slate-800 rounded-[24px] shadow-xl shadow-slate-200 p-6 text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-violet-500/20 rounded-full blur-3xl -mr-10 -mt-10"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-2 bg-white/10 rounded-lg backdrop-blur-sm",children:e.jsx(Ve,{size:18})}),e.jsx("span",{className:"text-sm font-bold uppercase tracking-widest text-white/80",children:"Up Next"})]}),e.jsx("h3",{className:"text-2xl font-black mb-2",children:"Upper Body Power"}),e.jsxs("div",{className:"flex items-center gap-4 text-sm font-medium text-slate-300 mb-6",children:[e.jsx("span",{children:"Today, 5:00 PM"}),e.jsx("span",{className:"w-1 h-1 bg-slate-500 rounded-full"}),e.jsx("span",{children:"60 min"})]}),e.jsx("button",{className:"w-full py-3 bg-white text-slate-900 rounded-xl font-bold text-sm hover:bg-violet-50 transition-colors shadow-lg",children:"Start Workout"})]})]})]})]}),e.jsxs("div",{className:"relative overflow-hidden bg-white rounded-[32px] p-8 md:p-12 shadow-xl border border-slate-100 group",children:[e.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-violet-100/50 rounded-full blur-[120px] mix-blend-multiply opacity-50 group-hover:opacity-70 transition-opacity duration-700"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-[400px] h-[400px] bg-purple-100/50 rounded-full blur-[100px] mix-blend-multiply opacity-30"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-16",children:[e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx("div",{className:"p-4 bg-violet-50 text-violet-600 rounded-2xl border border-violet-100 shadow-sm",children:e.jsx(wn,{size:28,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-black text-slate-900 tracking-tight uppercase mb-1",children:"Strategic Roadmaps"}),e.jsx("p",{className:"text-slate-500 font-medium tracking-wide text-sm",children:"Your journey to peak performance"})]})]}),e.jsx("button",{className:"px-6 py-3 rounded-xl bg-slate-50 border border-slate-100 text-slate-600 text-xs font-bold uppercase tracking-widest hover:bg-slate-100 hover:text-slate-900 transition-all",children:"View Full Plan"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-16 relative",children:[e.jsx("div",{className:"hidden md:block absolute top-[50px] left-[15%] right-[15%] h-[4px] bg-slate-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full w-1/2 bg-gradient-to-r from-emerald-500 via-violet-500 to-slate-100 relative",children:e.jsx("div",{className:"absolute inset-0 bg-white/30 animate-[shimmer_2s_infinite]"})})}),G.map((W,le)=>{const V=W.completed,ne=!W.completed&&(le===0||G[le-1].completed);return e.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[e.jsxs("div",{className:`w-24 h-24 rounded-[32px] flex items-center justify-center mb-8 shadow-xl transition-all duration-500 border-[6px] relative group/node cursor-pointer ${V?"bg-white border-emerald-50 text-emerald-500 shadow-emerald-500/10":ne?"bg-white border-violet-50 text-violet-600 shadow-violet-500/20 scale-110":"bg-white border-slate-50 text-slate-300"}`,children:[(ne||V)&&e.jsx("div",{className:`absolute inset-0 rounded-[24px] blur-xl opacity-20 ${V?"bg-emerald-500":"bg-violet-500"}`}),e.jsx("div",{className:"relative z-10 text-2xl font-black",children:V?e.jsx(wn,{size:32,strokeWidth:3}):le+1}),ne&&e.jsx("div",{className:"absolute -inset-[8px] rounded-[36px] border-2 border-violet-100 animate-ping opacity-40"})]}),e.jsxs("div",{className:`text-center transition-all duration-300 ${ne?"scale-105":"opacity-70 hover:opacity-100"}`,children:[e.jsx("h4",{className:`text-lg font-black mb-3 ${V?"text-emerald-600":ne?"text-slate-900":"text-slate-400"}`,children:W.label}),e.jsx("div",{className:`inline-flex items-center gap-2 px-4 py-1.5 rounded-full text-[10px] font-black uppercase tracking-widest border mb-6 ${V?"bg-emerald-50 border-emerald-100 text-emerald-600":ne?"bg-violet-50 border-violet-100 text-violet-600 shadow-sm":"bg-slate-50 border-slate-100 text-slate-400"}`,children:V?"Completed":ne?"In Progress":"Locked"}),e.jsx("div",{className:"w-full bg-slate-100 h-3 rounded-full overflow-hidden p-[2px] shadow-inner border border-slate-200/50",children:e.jsx("div",{className:`h-full rounded-full transition-all duration-1000 relative overflow-hidden ${V?"bg-emerald-500":ne?"bg-violet-500":"bg-slate-300"}`,style:{width:`${Math.min(Math.round(W.current/W.target*100),100)}%`},children:ne&&e.jsx("div",{className:"absolute inset-0 bg-white/30 animate-[shimmer_1.5s_infinite]"})})}),e.jsxs("div",{className:"flex justify-between mt-2 text-[10px] font-bold uppercase tracking-wider text-slate-400",children:[e.jsx("span",{children:"0%"}),e.jsxs("span",{className:ne?"text-violet-600":"",children:[Math.round(Math.min(W.current/W.target*100,100)),"%"]})]})]})]},W.id)})]})]})]})]}),o&&e.jsx(RM,{isOpen:!0,onClose:()=>t(i?`/progress?memberId=${i}`:"/progress"),onSave:L})]})},Pg=(t,s)=>{if(!t||t.length===0){alert("No data to export");return}const a=Object.keys(t[0]).join(","),l=t.map(u=>Object.values(u).map(h=>typeof h=="string"?`"${h.replace(/"/g,'""')}"`:h).join(",")).join(`
`),i=`${a}
${l}`,o=new Blob([i],{type:"text/csv;charset=utf-8;"}),d=URL.createObjectURL(o),x=document.createElement("a");x.setAttribute("href",d),x.setAttribute("download",`${s}_${new Date().toISOString().split("T")[0]}.csv`),x.style.visibility="hidden",document.body.appendChild(x),x.click(),document.body.removeChild(x)},FM=(t,s)=>{console.log(`Simulating PDF Export for ${s}:`,t),alert(`PDF Export for ${s} triggered. Check console for data dump.`)},IM=["Alex Johnson (Pro)","Samantha Reed (Master)","Michael Chen (Elite)","Emily Davis","Robert Wilson","Jessica Taylor"],BM=({isOpen:t,onClose:s,member:a,onSubmit:l})=>{const[i,o]=v.useState(""),[d,x]=v.useState(""),[u,h]=v.useState(!1);v.useEffect(()=>{t||(o(""),x(""))},[t]);const p=f=>{f.preventDefault(),h(!0),setTimeout(()=>{const b={id:Date.now(),memberName:a?.name,memberId:a?.memberId,currentTrainer:a?.trainer||"Not Assigned",newTrainer:i,reason:d,status:"Pending",requestDate:new Date().toISOString().split("T")[0]};console.log("Trainer Change Request Submitted:",b),l(b),h(!1),s()},800)};return e.jsx(rt,{isOpen:t,onClose:s,title:"Change Trainer",subtitle:`Request for ${a?.name}`,maxWidth:"max-w-md",footer:e.jsxs("div",{className:"flex gap-3 w-full",children:[e.jsx("button",{type:"button",onClick:s,className:"flex-1 h-11 border border-slate-200 text-slate-600 rounded-xl text-sm font-bold hover:bg-slate-50 transition-all",children:"Cancel"}),e.jsx("button",{type:"submit",form:"trainer-change-form",disabled:!i||!d||u,className:`flex-1 h-11 rounded-xl text-sm font-bold text-white shadow-lg transition-all flex items-center justify-center gap-2
                            ${!i||!d||u?"bg-slate-300 cursor-not-allowed shadow-none":"bg-gradient-to-r from-violet-600 to-purple-600 hover:shadow-violet-200 hover:scale-[1.02] active:scale-[0.98]"}`,children:u?e.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(kl,{size:18}),"Submit Request"]})})]}),children:e.jsxs("form",{id:"trainer-change-form",onSubmit:p,className:"space-y-6 px-6 py-6 mt-2",children:[e.jsx("div",{className:"bg-slate-50 rounded-2xl p-4 border border-slate-100 space-y-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-white flex items-center justify-center text-slate-400 shadow-sm border border-slate-100",children:e.jsx(lt,{size:20})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Current Trainer"}),e.jsx("p",{className:"text-sm font-bold text-slate-700",children:a?.trainer||"Not Assigned"})]})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-xs font-bold text-slate-500 uppercase tracking-wider ml-1",children:[e.jsx(kl,{size:14,className:"text-violet-500"}),"Select New Trainer ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsx(us,{options:IM,value:i,onChange:o,placeholder:"Choose a trainer"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-xs font-bold text-slate-500 uppercase tracking-wider ml-1",children:[e.jsx(sr,{size:14,className:"text-violet-500"}),"Reason for Change ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsx("textarea",{required:!0,className:"w-full min-h-[120px] p-4 rounded-xl border-2 border-slate-100 focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all text-sm bg-slate-50/50 hover:bg-white placeholder:text-slate-300 outline-none resize-none",placeholder:"Please explain why you want to change your trainer...",value:d,onChange:f=>x(f.target.value)})]}),e.jsxs("div",{className:"flex gap-3 p-4 bg-amber-50 rounded-xl border border-amber-100",children:[e.jsx(hs,{size:18,className:"text-amber-500 shrink-0 mt-0.5"}),e.jsx("p",{className:"text-xs text-amber-700 leading-relaxed font-medium",children:"Change requests are reviewed by the branch manager. You will receive an update within 24-48 hours."})]})]})})},UM=({isOpen:t,onClose:s,onConfirm:a,title:l,message:i})=>t?e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 sm:p-0",children:[e.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",onClick:s}),e.jsxs("div",{className:"relative bg-white rounded-[40px] shadow-2xl w-full max-w-sm p-8 text-center animate-in zoom-in-95 duration-200 border border-slate-100",children:[e.jsx("div",{className:"w-20 h-20 bg-rose-50 rounded-full flex items-center justify-center mx-auto mb-6 text-rose-500 shadow-inner",children:e.jsx(ms,{size:32})}),e.jsx("h3",{className:"text-2xl font-black text-slate-800 tracking-tight mb-2",children:l}),e.jsx("p",{className:"text-slate-500 text-sm font-medium leading-relaxed mb-8",children:i}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:s,className:"flex-1 py-4 bg-slate-50 text-slate-400 rounded-2xl font-black uppercase tracking-widest hover:bg-slate-100 hover:text-slate-600 transition-all",children:"Cancel"}),e.jsx("button",{onClick:a,className:"flex-[2] py-4 bg-rose-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl shadow-rose-200 hover:bg-rose-700 transition-all",children:"Confirm Delete"})]})]})]}):null,Vp=()=>{const[t,s]=v.useState([]),[a,l]=v.useState(!0),[i,o]=v.useState(""),[d,x]=v.useState("All"),[u,h]=v.useState(1),[p,f]=v.useState(5),[b,g]=v.useState(0),[j,A]=v.useState(!1),[w,k]=v.useState(!1),[C,L]=v.useState(!1),[N,P]=v.useState(!1),[_,F]=v.useState({isOpen:!1,id:null}),[R,B]=v.useState(null),[T,q]=v.useState([]),[H,G]=v.useState(!1),[W,le]=v.useState({name:"",phone:"",planId:"",status:"Active"}),[V,ne]=v.useState({name:"",phone:"",planId:"",status:""}),I=Tr();v.useEffect(()=>{new URLSearchParams(I.search).get("add")==="true"&&A(!0)},[I.search]),v.useEffect(()=>{oe()},[]),v.useEffect(()=>{Ne()},[i,d,u,p]);const oe=async()=>{G(!0);try{const xe=await qr.getPlans();q(Array.isArray(xe)?xe:[])}catch(xe){console.error("Error loading plans:",xe),q([])}finally{G(!1)}},Ne=async()=>{l(!0);try{const se=await Cg({filters:{search:i,status:d==="All"?"":d},page:u,limit:p});s(se?.data||[]),g(se?.total||0)}catch(xe){console.error("Error loading members:",xe)}finally{l(!1)}},Y=xe=>{o(xe.target.value),h(1)},$=xe=>{x(xe),h(1)},Q=async xe=>{await m9(xe),Ne()},ae=xe=>{F({isOpen:!0,id:xe})},ue=async()=>{_.id&&(await h9(_.id),F({isOpen:!1,id:null}),Ne())},me=()=>{Pg(t,"MemberList")},be=()=>{FM(t,"MemberList")},he=xe=>{B(xe),k(!0)},we=xe=>{B(xe),ne({name:xe.name,phone:xe.phone,planId:xe.planId,status:xe.status}),L(!0)},_e=async xe=>{xe.preventDefault(),await u9(R.id,V),L(!1),Ne()},$e=xe=>{console.log("Member List received Trainer Change Request:",xe),P(!1)},Ke=async xe=>{xe.preventDefault();const se=`MEM-2024-${Math.floor(100+Math.random()*900)}`,Ze=new Date().toISOString().split("T")[0];await x9({...W,memberId:se,joinDate:Ze}),A(!1),le({name:"",phone:"",planId:"",status:"Active"}),Ne()},et=xe=>{switch(xe){case"Active":return e.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-bold bg-green-50 text-green-600 border border-green-100 shadow-sm hover:scale-110 hover:shadow-lg hover:bg-green-100 transition-all duration-300 cursor-pointer",children:"Active"});case"Inactive":return e.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-bold bg-gray-100 text-gray-500 border border-gray-200 hover:scale-110 hover:shadow-lg hover:bg-gray-200 transition-all duration-300 cursor-pointer",children:"Inactive"});case"Expired":return e.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-bold bg-red-50 text-red-600 border border-red-100 shadow-sm hover:scale-110 hover:shadow-lg hover:bg-red-100 transition-all duration-300 cursor-pointer",children:"Expired"});default:return e.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-bold bg-gray-100 text-gray-800 hover:scale-110 hover:shadow-lg transition-all duration-300 cursor-pointer",children:"Unknown"})}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-6 md:p-8",children:[e.jsxs("div",{className:"mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(lt,{size:28})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Member List"}),e.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Manage and view all registered members"})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs("button",{onClick:me,className:"flex items-center gap-2 px-4 py-2.5 bg-white border-2 border-slate-200 rounded-xl text-sm font-bold text-slate-700 hover:border-violet-300 hover:bg-violet-50 transition-all duration-300 hover:scale-105 shadow-sm hover:shadow-md group",children:[e.jsx(Qs,{size:16,className:"text-slate-500 group-hover:text-violet-600 group-hover:scale-110 group-hover:-translate-y-0.5 transition-all duration-300"}),e.jsx("span",{className:"hidden sm:inline",children:"Export CSV"}),e.jsx("span",{className:"sm:hidden",children:"CSV"})]}),e.jsxs("button",{onClick:be,className:"flex items-center gap-2 px-4 py-2.5 bg-white border-2 border-slate-200 rounded-xl text-sm font-bold text-slate-700 hover:border-violet-300 hover:bg-violet-50 transition-all duration-300 hover:scale-105 shadow-sm hover:shadow-md group",children:[e.jsx(Va,{size:16,className:"text-slate-500 group-hover:text-violet-600 group-hover:scale-110 group-hover:-translate-y-0.5 transition-all duration-300"}),e.jsx("span",{className:"hidden sm:inline",children:"Export PDF"}),e.jsx("span",{className:"sm:hidden",children:"PDF"})]}),e.jsxs("button",{onClick:()=>A(!0),className:"group relative flex items-center gap-2 px-5 py-2.5 rounded-xl font-bold text-white shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1 bg-gradient-to-r from-violet-600 to-purple-600 hover:shadow-violet-500/50",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 to-fuchsia-600 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx("span",{className:"relative sm:hidden",children:"+ Add"}),e.jsx("span",{className:"relative hidden sm:inline",children:"+ Add New Member"})]})]})]})})]}),e.jsx("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 overflow-visible hover:shadow-2xl hover:border-violet-200 transition-all duration-300",children:e.jsxs("div",{className:"p-4 sm:p-6 border-b border-slate-100 flex flex-col md:flex-row gap-4 items-center justify-between overflow-visible hover:bg-violet-50/20 transition-colors duration-300",children:[e.jsxs("div",{className:"relative w-full md:w-96 group",children:[e.jsx(tt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 transition-colors group-hover:text-violet-500 group-hover:scale-110 duration-300",size:18}),e.jsx("input",{type:"text",className:"pl-11 h-11 w-full rounded-xl border-2 border-slate-200 focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 transition-all text-sm bg-white hover:border-slate-300 shadow-sm focus:shadow-lg",placeholder:"Search by name, ID, or phone...",value:i,onChange:Y})]}),e.jsx("div",{className:"w-full md:w-48 relative z-20 hover:scale-105 transition-transform duration-300",children:e.jsx(us,{options:["All","Active","Inactive","Expired"],value:d,onChange:$,placeholder:"All Status",icon:ks})})]})}),e.jsx("div",{className:"md:hidden grid grid-cols-1 gap-4 mt-6",children:a?e.jsx("div",{className:"py-12 text-center bg-white rounded-2xl border border-slate-100 shadow-xl",children:e.jsxs("div",{className:"flex flex-col items-center gap-3 text-violet-600",children:[e.jsx("div",{className:"w-8 h-8 border-4 border-violet-600 border-t-transparent rounded-full animate-spin"}),e.jsx("span",{className:"text-sm font-black uppercase tracking-widest",children:"Loading..."})]})}):t.length>0?t.map(xe=>e.jsx(Ya,{title:xe.name,subtitle:xe.memberId,badge:xe.status,badgeColor:xe.status==="Active"?"emerald":xe.status==="Expired"?"rose":"slate",fields:[{label:"Phone",value:xe.phone},{label:"Plan",value:xe.plan},{label:"Expiry",value:xe.expiryDate}],actions:[{label:"View",icon:qs,variant:"primary",onClick:()=>he(xe)},{label:"Edit",icon:Md,variant:"secondary",onClick:()=>we(xe)}]},xe.id)):e.jsx("div",{className:"py-12 text-center bg-white rounded-2xl border border-slate-100 shadow-xl",children:e.jsx("p",{className:"text-slate-500 font-bold",children:"No members found"})})}),e.jsxs("div",{className:"hidden md:block bg-white rounded-2xl shadow-xl border border-slate-100 overflow-visible hover:shadow-2xl hover:border-violet-200 transition-all duration-300 mt-8",children:[e.jsx("div",{className:"p-4 sm:p-6 border-b border-slate-100 flex flex-col md:flex-row gap-4 items-center justify-between overflow-visible hover:bg-violet-50/20 transition-colors duration-300",children:e.jsxs("table",{className:"saas-table saas-table-responsive",children:[e.jsx("thead",{className:"bg-gradient-to-r from-violet-50 via-purple-50 to-fuchsia-50 border-b-2 border-violet-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 sm:px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider hover:text-purple-700 transition-colors duration-300 cursor-pointer",children:"Member Name"}),e.jsx("th",{className:"px-4 sm:px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider hover:text-purple-700 transition-colors duration-300 cursor-pointer",children:"Member ID"}),e.jsx("th",{className:"px-4 sm:px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider hover:text-purple-700 transition-colors duration-300 cursor-pointer",children:"Phone Number"}),e.jsx("th",{className:"px-4 sm:px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider hover:text-purple-700 transition-colors duration-300 cursor-pointer",children:"Plan"}),e.jsx("th",{className:"px-4 sm:px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider hover:text-purple-700 transition-colors duration-300 cursor-pointer",children:"Join Date"}),e.jsx("th",{className:"px-4 sm:px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider hover:text-purple-700 transition-colors duration-300 cursor-pointer",children:"Expiry Date"}),e.jsx("th",{className:"px-4 sm:px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider hover:text-purple-700 transition-colors duration-300 cursor-pointer",children:"Status"}),e.jsx("th",{className:"px-4 sm:px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider text-right hover:text-purple-700 transition-colors duration-300 cursor-pointer",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:a?e.jsx("tr",{children:e.jsx("td",{colSpan:"8",className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-2 text-violet-600",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-violet-600 border-t-transparent rounded-full animate-spin"}),e.jsx("span",{className:"text-sm font-medium",children:"Loading members..."})]})})}):t.length>0?t.map(xe=>e.jsxs("tr",{className:"group hover:bg-gradient-to-r hover:from-violet-50/50 hover:to-purple-50/30 transition-all duration-300 cursor-pointer hover:shadow-md hover:scale-[1.002] transform",children:[e.jsx("td",{className:"px-4 sm:px-6 py-4","data-label":"Member Name",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-9 w-9 rounded-full bg-gradient-to-br from-violet-100 to-purple-100 text-violet-700 flex items-center justify-center font-bold text-sm mr-3 group-hover:scale-125 group-hover:shadow-lg group-hover:rotate-6 transition-all duration-500 border-2 border-violet-200",children:(xe.name||"?").charAt(0)}),e.jsx("div",{className:"text-sm font-bold text-gray-900 group-hover:text-violet-700 group-hover:translate-x-1 transition-all duration-300",children:xe.name})]})}),e.jsx("td",{className:"px-4 sm:px-6 py-4","data-label":"Member ID",children:e.jsx("span",{className:"text-xs font-mono text-gray-500 bg-gray-50 px-2 py-1 rounded-md group-hover:bg-violet-100 group-hover:text-violet-700 group-hover:scale-110 transition-all duration-300 inline-block",children:xe.memberId})}),e.jsx("td",{className:"px-4 sm:px-6 py-4","data-label":"Phone Number",children:e.jsx("span",{className:"text-sm text-gray-600 group-hover:text-violet-600 transition-colors duration-300",children:xe.phone})}),e.jsx("td",{className:"px-4 sm:px-6 py-4","data-label":"Plan",children:e.jsx("span",{className:"text-sm text-gray-900 font-semibold group-hover:text-violet-700 group-hover:scale-105 inline-block transition-all duration-300",children:xe.plan})}),e.jsx("td",{className:"px-4 sm:px-6 py-4","data-label":"Join Date",children:e.jsx("span",{className:"text-sm text-gray-500 group-hover:text-violet-600 transition-colors duration-300",children:xe.joinDate})}),e.jsx("td",{className:"px-4 sm:px-6 py-4","data-label":"Expiry Date",children:e.jsx("span",{className:"text-sm text-gray-500 group-hover:text-violet-600 transition-colors duration-300",children:xe.expiryDate})}),e.jsx("td",{className:"px-4 sm:px-6 py-4","data-label":"Status",children:e.jsx("button",{onClick:()=>Q(xe.id),className:"hover:scale-110 active:scale-95 transition-transform duration-300",children:et(xe.status)})}),e.jsx("td",{className:"px-4 sm:px-6 py-4 text-right","data-label":"Actions",children:e.jsxs("div",{className:"flex items-center justify-end gap-2 sm:opacity-0 sm:group-hover:opacity-100 transition-all duration-200 transform sm:translate-x-2 sm:group-hover:translate-x-0",children:[e.jsx("button",{onClick:()=>he(xe),className:"w-10 h-10 flex items-center justify-center text-gray-400 hover:text-violet-600 hover:bg-violet-50 rounded-xl transition-all hover:scale-110 hover:rotate-6 duration-300",title:"View Details",children:e.jsx(qs,{size:20})}),e.jsx("button",{onClick:()=>we(xe),className:"w-10 h-10 flex items-center justify-center text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-xl transition-all hover:scale-110 hover:-rotate-6 duration-300",title:"Edit Member",children:e.jsx(Md,{size:20})}),e.jsx("button",{onClick:()=>ae(xe.id),className:"w-10 h-10 flex items-center justify-center text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-xl transition-all hover:scale-110 duration-300",title:"Delete Member",children:e.jsx(ms,{size:20})})]})})]},xe.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"8",className:"px-6 py-24 text-center text-gray-400",children:e.jsxs("div",{className:"flex flex-col items-center gap-4 animate-in fade-in zoom-in duration-700",children:[e.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-[32px] flex items-center justify-center text-slate-200 border border-slate-100 shadow-inner",children:e.jsx(tt,{size:32})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-black text-slate-800 tracking-tight",children:"No Members Found"}),e.jsx("p",{className:"text-slate-500 text-sm font-medium mt-1",children:"We couldn't find any results for your current query."})]}),e.jsx("button",{onClick:()=>{o(""),x("All")},className:"mt-4 px-8 py-3 bg-violet-50 text-violet-600 rounded-2xl text-[10px] font-black uppercase tracking-widest hover:bg-violet-600 hover:text-white transition-all shadow-sm",children:"Clear All Filters"})]})})})})]})}),e.jsx(UM,{isOpen:_.isOpen,onClose:()=>F({isOpen:!1,id:null}),onConfirm:ue,title:"Remove Member?",message:"This will permanently delete the member record from the system. This action cannot be undone."}),!a&&b>0&&e.jsxs("div",{className:"px-4 sm:px-6 py-4 bg-gray-50/50 border-t border-gray-100 flex flex-col sm:flex-row justify-between items-center gap-4 hover:bg-violet-50/20 transition-colors duration-300",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-3 w-full sm:w-auto",children:[e.jsxs("span",{className:"text-xs font-medium text-gray-500 text-center sm:text-left whitespace-nowrap",children:["Showing ",e.jsx("span",{className:"font-bold text-gray-900",children:(u-1)*p+1})," - ",e.jsx("span",{className:"font-bold text-gray-900",children:Math.min(u*p,b)})," of ",e.jsx("span",{className:"font-bold text-gray-900",children:b})," members"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:"Per page:"}),e.jsx("div",{className:"w-20",children:e.jsx(us,{options:[5,10,20],value:p,onChange:xe=>{f(parseInt(xe)),h(1)}})})]})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("button",{onClick:()=>h(xe=>Math.max(xe-1,1)),disabled:u===1,className:"w-8 h-8 flex items-center justify-center border border-gray-200 rounded-lg bg-white hover:bg-gray-50 text-gray-600 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm transition-all hover:scale-110 hover:border-violet-300 disabled:hover:scale-100 group",children:e.jsx(Gr,{size:16,className:"group-hover:-translate-x-0.5 transition-transform duration-300"})}),e.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.ceil(b/p)},(xe,se)=>se+1).map(xe=>e.jsx("button",{onClick:()=>h(xe),className:`w-8 h-8 rounded-lg text-xs font-bold transition-all hover:scale-110 ${u===xe?"bg-gradient-to-r from-violet-600 to-purple-600 text-white shadow-md shadow-violet-200":"text-gray-600 hover:bg-violet-50 hover:text-violet-600 hover:shadow-sm"}`,children:xe},xe))}),e.jsx("button",{onClick:()=>h(xe=>Math.min(xe+1,Math.ceil(b/p))),disabled:u===Math.ceil(b/p),className:"w-8 h-8 flex items-center justify-center border border-gray-200 rounded-lg bg-white hover:bg-gray-50 text-gray-600 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm transition-all hover:scale-110 hover:border-violet-300 disabled:hover:scale-100 group",children:e.jsx(js,{size:16,className:"group-hover:translate-x-0.5 transition-transform duration-300"})})]})]})]}),e.jsx(rt,{isOpen:j,onClose:()=>A(!1),title:"Add New Member",subtitle:"Register a new member to the branch",maxWidth:"max-w-md",footer:e.jsxs("div",{className:"flex gap-3 w-full",children:[e.jsx("button",{type:"button",onClick:()=>A(!1),className:"flex-1 h-11 border border-gray-200 text-gray-700 rounded-xl text-sm font-bold hover:bg-gray-50 transition-all",children:"Cancel"}),e.jsx("button",{type:"submit",form:"add-member-form",className:"flex-1 h-11 bg-indigo-600 text-white rounded-xl text-sm font-bold hover:bg-indigo-700 shadow-lg shadow-indigo-100 transition-all hover:scale-[1.02] active:scale-[0.98]",children:"Register Member"})]}),children:e.jsxs("form",{id:"add-member-form",onSubmit:Ke,className:"flex flex-col gap-8 px-6 py-4 mt-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-1.5",children:"Full Name"}),e.jsx("input",{required:!0,type:"text",className:"saas-input w-full h-11 px-4 rounded-xl border-gray-200 focus:ring-2 focus:ring-indigo-500 text-sm bg-gray-50/50 focus:bg-white transition-all",placeholder:"Enter member name",value:W.name,onChange:xe=>le({...W,name:xe.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-1.5",children:"Phone Number"}),e.jsx("input",{required:!0,type:"tel",className:"saas-input w-full h-11 px-4 rounded-xl border-gray-200 focus:ring-2 focus:ring-indigo-500 text-sm bg-gray-50/50 focus:bg-white transition-all",placeholder:"+91 00000 00000",value:W.phone,onChange:xe=>le({...W,phone:xe.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-1.5",children:"Membership Plan"}),e.jsx(us,{options:T.map(xe=>({value:xe.id,label:xe.name})),value:W.planId,onChange:xe=>le({...W,planId:xe}),placeholder:H?"Loading plans...":"Select a plan",className:"w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-1.5",children:"Initial Status"}),e.jsx(us,{options:["Active","Inactive"],value:W.status,onChange:xe=>le({...W,status:xe}),className:"w-full"})]})]})]})}),e.jsx(rt,{isOpen:w,onClose:()=>k(!1),title:"Member Details",subtitle:R?.name,maxWidth:"max-w-md",footer:e.jsx("button",{onClick:()=>k(!1),className:"w-full h-11 bg-gray-100 text-gray-700 rounded-xl text-sm font-bold hover:bg-gray-200 transition-all",children:"Close"}),children:R&&e.jsxs("div",{className:"space-y-6 px-6 py-6 mt-2",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"h-16 w-16 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center text-2xl font-black shadow-inner",children:(R?.name||"?").charAt(0)}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:R.name}),e.jsx("p",{className:"text-sm font-mono text-indigo-600 font-medium",children:R.memberId})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-1",children:"Phone"}),e.jsx("p",{className:"text-sm font-semibold text-gray-800",children:R.phone})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-1",children:"Plan"}),e.jsx("p",{className:"text-sm font-semibold text-gray-800",children:R.plan})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-1",children:"Join Date"}),e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:R.joinDate})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-1",children:"Expiry Date"}),e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:R.expiryDate})]})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-50 flex flex-col gap-2",children:[e.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Subscription Status"}),et(R.status)]}),e.jsxs("button",{onClick:()=>P(!0),className:"w-full flex items-center justify-center gap-2 py-3.5 bg-violet-50 text-violet-600 rounded-xl font-bold hover:bg-violet-600 hover:text-white transition-all duration-300 border border-violet-100 group shadow-sm hover:shadow-violet-200",children:[e.jsx(kl,{size:18,className:"group-hover:scale-110 transition-transform"}),"Request Trainer Change"]})]})]})}),e.jsx(BM,{isOpen:N,onClose:()=>P(!1),member:R,onSubmit:$e}),e.jsx(rt,{isOpen:C,onClose:()=>L(!1),title:"Edit Member",subtitle:`Updating info for ${R?.name}`,maxWidth:"max-w-md",footer:e.jsxs("div",{className:"flex gap-3 w-full",children:[e.jsx("button",{type:"button",onClick:()=>L(!1),className:"flex-1 h-11 border border-gray-200 text-gray-700 rounded-xl text-sm font-bold hover:bg-gray-50 transition-all",children:"Cancel"}),e.jsx("button",{type:"submit",form:"edit-member-form",className:"flex-1 h-11 bg-blue-600 text-white rounded-xl text-sm font-bold hover:bg-blue-700 shadow-lg shadow-blue-200 transition-all hover:scale-[1.02] active:scale-[0.98]",children:"Save Changes"})]}),children:e.jsxs("form",{id:"edit-member-form",onSubmit:_e,className:"flex flex-col gap-8 px-6 py-4 mt-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-1.5",children:"Full Name"}),e.jsx("input",{required:!0,type:"text",className:"saas-input w-full h-11 px-4 rounded-xl border-gray-200 focus:ring-2 focus:ring-indigo-500 text-sm bg-gray-50/50 focus:bg-white transition-all",placeholder:"Enter member name",value:V.name,onChange:xe=>ne({...V,name:xe.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-1.5",children:"Phone Number"}),e.jsx("input",{required:!0,type:"tel",className:"saas-input w-full h-11 px-4 rounded-xl border-gray-200 focus:ring-2 focus:ring-indigo-500 text-sm bg-gray-50/50 focus:bg-white transition-all",placeholder:"+91 00000 00000",value:V.phone,onChange:xe=>ne({...V,phone:xe.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-1.5",children:"Plan"}),e.jsx(us,{options:T.map(xe=>({value:xe.id,label:xe.name})),value:V.planId,onChange:xe=>ne({...V,planId:xe}),placeholder:H?"Loading plans...":"Select a plan",className:"w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-1.5",children:"Status"}),e.jsx(us,{options:["Active","Inactive","Expired"],value:V.status,onChange:xe=>ne({...V,status:xe}),className:"w-full"})]})]}),e.jsx("div",{className:"mt-6 pt-6 border-t border-slate-50 flex items-center justify-center",children:e.jsxs("button",{type:"button",onClick:()=>{L(!1),setTimeout(()=>P(!0),300)},className:"flex items-center gap-2 text-violet-600 font-bold text-xs hover:text-violet-700 transition-colors",children:[e.jsx(kl,{size:14}),"Requested Trainer Change for this member?"]})})]})})]})},$M=({isOpen:t,onClose:s})=>{const[a,l]=v.useState({creditsPerBooking:1,maxBookingsPerDay:2,maxBookingsPerWeek:10,cancellationWindow:2,allowWaitlist:!0,notifyOnCancellation:!0}),[i,o]=v.useState(!1),d=u=>{const{name:h,value:p,type:f,checked:b}=u.target;l(g=>({...g,[h]:f==="checkbox"?b:p}))},x=u=>{u.preventDefault(),o(!0),setTimeout(()=>{o(!1),alert("Booking settings updated successfully!"),s()},800)};return e.jsxs("form",{onSubmit:x,className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8 custom-scrollbar",children:[e.jsxs("div",{className:"bg-indigo-50 border border-indigo-100 rounded-2xl p-4 flex gap-3",children:[e.jsx(Yn,{className:"text-indigo-600 shrink-0",size:20}),e.jsx("p",{className:"text-xs text-indigo-700 leading-relaxed",children:"Configure how members interact with the booking system. These limits apply globally unless overridden by specific membership plans."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(yA,{size:18,className:"text-purple-600"}),e.jsx("h3",{className:"text-sm font-bold text-slate-800 uppercase tracking-wider",children:"Consumption Rules"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700",children:"Credits per Session"}),e.jsx("p",{className:"text-[10px] text-slate-400 font-medium",children:"How many credits are deducted from a member's wallet for a successfully attended booking."})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("input",{type:"number",name:"creditsPerBooking",className:"w-full px-4 py-3 bg-white border-2 border-slate-200 rounded-xl text-sm focus:outline-none focus:border-indigo-500 transition-all font-bold",value:a.creditsPerBooking,onChange:d,min:"0"}),e.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-xs font-black text-slate-400 group-focus-within:text-indigo-500 uppercase tracking-tighter",children:"Credits"})]})]})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-100",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Jj,{size:18,className:"text-blue-600"}),e.jsx("h3",{className:"text-sm font-bold text-slate-800 uppercase tracking-wider",children:"Booking Limits"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-widest",children:"Max Bookings Per Day"}),e.jsx("p",{className:"text-[9px] text-slate-400 font-medium",children:"Limit the number of active sessions a member can book in a single 24-hour cycle."})]}),e.jsx("input",{type:"number",name:"maxBookingsPerDay",className:"w-full px-4 py-3 bg-white border-2 border-slate-200 rounded-xl text-sm focus:outline-none focus:border-indigo-500 transition-all font-bold",value:a.maxBookingsPerDay,onChange:d})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-widest",children:"Max Bookings Per Week"}),e.jsx("p",{className:"text-[9px] text-slate-400 font-medium",children:"Weekly cap on bookings to ensure fair access for all members."})]}),e.jsx("input",{type:"number",name:"maxBookingsPerWeek",className:"w-full px-4 py-3 bg-white border-2 border-slate-200 rounded-xl text-sm focus:outline-none focus:border-indigo-500 transition-all font-bold",value:a.maxBookingsPerWeek,onChange:d})]})]})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-100",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Qe,{size:18,className:"text-rose-600"}),e.jsx("h3",{className:"text-sm font-bold text-slate-800 uppercase tracking-wider",children:"Cancellation Window"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700",children:"Hours before start"}),e.jsx("p",{className:"text-[10px] text-slate-400 font-medium leading-relaxed",children:'The minimum time required to cancel a booking without losing the credit. After this window, cancellations are considered "No-Shows".'})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("input",{type:"number",name:"cancellationWindow",className:"w-full px-4 py-3 bg-white border-2 border-slate-200 rounded-xl text-sm focus:outline-none focus:border-rose-500 transition-all font-bold",value:a.cancellationWindow,onChange:d,min:"0"}),e.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-xs font-black text-slate-400 group-focus-within:text-rose-500 uppercase tracking-tighter transition-colors",children:"Hours"})]})]})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-100 pb-10",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(uw,{size:18,className:"text-emerald-600"}),e.jsx("h3",{className:"text-sm font-bold text-slate-800 uppercase tracking-wider",children:"Advanced Settings"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl cursor-pointer hover:bg-slate-100 transition-all",children:[e.jsxs("div",{className:"flex flex-col gap-0.5",children:[e.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Allow Waitlist"}),e.jsx("span",{className:"text-[10px] text-slate-500",children:"Enable queue if session is full"})]}),e.jsx("input",{type:"checkbox",name:"allowWaitlist",checked:a.allowWaitlist,onChange:d,className:"w-5 h-5 rounded-lg border-2 border-slate-300 text-indigo-600 focus:ring-0 transition-all"})]}),e.jsxs("label",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl cursor-pointer hover:bg-slate-100 transition-all",children:[e.jsxs("div",{className:"flex flex-col gap-0.5",children:[e.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Notify Admin"}),e.jsx("span",{className:"text-[10px] text-slate-500",children:"Alert staff on every cancellation"})]}),e.jsx("input",{type:"checkbox",name:"notifyOnCancellation",checked:a.notifyOnCancellation,onChange:d,className:"w-5 h-5 rounded-lg border-2 border-slate-300 text-indigo-600 focus:ring-0 transition-all"})]})]})]})]}),e.jsxs("div",{className:"shrink-0 p-4 bg-white border-t border-slate-100 flex gap-3 shadow-[0_-4px_20px_rgba(0,0,0,0.05)]",children:[e.jsx("button",{type:"button",onClick:s,className:"flex-1 px-4 py-3 bg-white border-2 border-slate-200 text-slate-700 rounded-xl text-sm font-bold hover:bg-slate-50 transition-all",children:"Discard"}),e.jsxs("button",{type:"submit",disabled:i,className:"flex-[2] px-4 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl text-sm font-bold hover:shadow-lg hover:shadow-indigo-500/30 transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:[e.jsx(na,{size:18}),i?"Saving...":"Save Settings"]})]})]})},qM=({isOpen:t,onClose:s,onCreate:a,members:l,classes:i})=>{const[o,d]=v.useState({memberId:"",classId:"",date:new Date().toISOString().split("T")[0],status:"Upcoming"}),x=u=>{if(u.preventDefault(),!o.memberId){alert("Please select a member");return}if(!o.classId){alert("Please select a class");return}if(!o.date){alert("Please select a date");return}a(o),s()};return t?e.jsxs("div",{className:"h-full flex flex-col bg-white",children:[e.jsx("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between bg-slate-50/50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-indigo-500 to-indigo-600 flex items-center justify-center text-white shadow-lg",children:e.jsx(Ve,{size:20,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-black text-slate-900",children:"Create New Booking"}),e.jsx("p",{className:"text-slate-500 text-xs font-medium",children:"Schedule a class or session"})]})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2",children:"Select Member"}),e.jsx(us,{options:l.map(u=>({value:u.id,label:`${u.name} (${u.memberId})`})),value:o.memberId,onChange:u=>d({...o,memberId:u}),placeholder:"Select Member",className:"w-full"})]}),e.jsx("div",{className:"grid grid-cols-1 gap-6",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2",children:"Select Class"}),e.jsx(us,{options:i.map(u=>({value:u.id,label:`${u.name} (${u.trainerName})`})),value:o.classId,onChange:u=>d({...o,classId:u}),placeholder:"Select Class",className:"w-full"})]})}),e.jsx("div",{className:"grid grid-cols-1 gap-6",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2",children:"Date"}),e.jsx("input",{required:!0,type:"date",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl font-semibold text-slate-900 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 transition-all duration-300",value:o.date,onChange:u=>d({...o,date:u.target.value})})]})})]}),e.jsx("div",{className:"p-6 border-t border-slate-100 bg-slate-50/50",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:s,className:"flex-1 py-3 rounded-xl font-bold text-slate-600 hover:bg-white border-2 border-slate-200 hover:border-slate-300 transition-all duration-300",children:"Cancel"}),e.jsx("button",{onClick:x,className:"flex-1 py-3 bg-gradient-to-r from-indigo-600 to-indigo-700 text-white rounded-xl font-bold hover:shadow-xl hover:shadow-indigo-500/50 transition-all duration-300",children:"Create Booking"})]})})]}):null},ny=()=>{const[t,s]=v.useState(new Date),[a,l]=v.useState("All"),[i,o]=v.useState({}),[d,x]=v.useState(!0),[u,h]=v.useState("Month"),[p,f]=v.useState(!1),[b,g]=v.useState(!1),[j,A]=v.useState([]),[w,k]=v.useState([]);v.useEffect(()=>{C()},[t,a,u]);const C=async()=>{try{await Promise.all([L(),N(),P()])}catch(W){console.error("Error loading calendar data:",W)}},L=async()=>{x(!0);let W,le;if(u==="Month"){const I=t.getFullYear(),oe=t.getMonth();W=new Date(I,oe,1).toISOString(),le=new Date(I,oe+1,0,23,59,59).toISOString()}else if(u==="Week"){const I=new Date(t);I.setDate(t.getDate()-t.getDay()),I.setHours(0,0,0,0);const oe=new Date(I);oe.setDate(I.getDate()+6),oe.setHours(23,59,59,999),W=I.toISOString(),le=oe.toISOString()}else{const I=new Date(t);I.setHours(0,0,0,0);const oe=new Date(t);oe.setHours(23,59,59,999),W=I.toISOString(),le=oe.toISOString()}const ne=(await p9(W,le)||[]).reduce((I,oe)=>{const Ne=new Date(oe.date).getDate();return I[Ne]||(I[Ne]=[]),I[Ne].push({...oe,member:oe.member?.name||"Unknown Member",type:oe.class?"Group Class":"Personal Training",slot:"10:00 AM",color:oe.class?"blue":"green"}),I},{});o(ne),x(!1)},N=async()=>{const W=await Cg({limit:100});A(W?.data||[])},P=async()=>{const W=await S9();k(W||[])},_=async W=>{try{await Tw(W),st.success("Booking created successfully"),f(!1),L()}catch(le){console.error(le),st.error(le.message||"Failed to create booking")}},F=()=>{s(u==="Month"?new Date(t.getFullYear(),t.getMonth()-1,1):u==="Week"?new Date(t.getTime()-10080*60*1e3):new Date(t.getTime()-1440*60*1e3))},R=()=>{s(u==="Month"?new Date(t.getFullYear(),t.getMonth()+1,1):u==="Week"?new Date(t.getTime()+10080*60*1e3):new Date(t.getTime()+1440*60*1e3))},B=()=>{s(new Date)},q=(()=>{if(u==="Month"){const W=new Date(t.getFullYear(),t.getMonth()+1,0).getDate(),le=new Date(t.getFullYear(),t.getMonth(),1).getDay(),V=Array.from({length:W},(I,oe)=>{const Ne=new Date(t.getFullYear(),t.getMonth(),oe+1);return{day:oe+1,date:Ne}});return[...Array.from({length:le},()=>null),...V]}else if(u==="Week"){const W=new Date(t);return W.setDate(t.getDate()-t.getDay()),Array.from({length:7},(le,V)=>{const ne=new Date(W);return ne.setDate(W.getDate()+V),{day:ne.getDate(),date:ne}})}else return[{day:t.getDate(),date:new Date(t)}]})(),H=()=>{if(u==="Month")return t.toLocaleString("default",{month:"long",year:"numeric"});if(u==="Week"){const W=new Date(t);W.setDate(t.getDate()-t.getDay());const le=new Date(W);return le.setDate(W.getDate()+6),W.getMonth()===le.getMonth()?`${W.toLocaleString("default",{month:"long"})} ${W.getDate()} - ${le.getDate()}, ${W.getFullYear()}`:`${W.toLocaleString("default",{month:"short"})} ${W.getDate()} - ${le.toLocaleString("default",{month:"short"})} ${le.getDate()}, ${W.getFullYear()}`}else return t.toLocaleString("default",{day:"numeric",month:"long",year:"numeric"})},G=W=>{if(!W)return null;const le=W.date.getFullYear(),V=String(W.date.getMonth()+1).padStart(2,"0"),ne=String(W.date.getDate()).padStart(2,"0"),I=`${le}-${V}-${ne}`,oe=[];return Object.values(i).forEach(Ne=>{Ne.forEach(Y=>{Y.date.split("T")[0]===I&&oe.push(Y)})}),e.jsx("div",{className:"flex flex-col gap-1.5 mt-2 overflow-y-auto max-h-[105px] no-scrollbar pr-0.5",children:oe.filter(Ne=>a==="All"||Ne.type===a).map(Ne=>e.jsxs("div",{className:`flex flex-col p-2 rounded-lg border shadow-sm transition-all duration-200 hover:shadow-md cursor-pointer group/booking ${Ne.color==="blue"?"bg-blue-50/60 text-blue-700 border-blue-100/50 hover:bg-blue-100/80 hover:border-blue-200":"bg-green-50/60 text-green-700 border-green-100/50 hover:bg-green-100/80 hover:border-green-200"}`,title:`${Ne.slot} - ${Ne.type} (${Ne.member})`,children:[e.jsxs("div",{className:"flex items-center gap-1.5 mb-1 pointer-events-none",children:[e.jsx("span",{className:`w-1.5 h-1.5 rounded-full flex-shrink-0 ${Ne.color==="blue"?"bg-blue-500":"bg-green-500"}`}),e.jsx("span",{className:"font-bold tracking-tight uppercase text-[8px] opacity-70 truncate",children:Ne.slot})]}),e.jsxs("div",{className:"font-bold text-[10px] leading-tight truncate px-0.5 pointer-events-none text-gray-800",children:[Ne.member,e.jsx("span",{className:"block font-normal text-[9px] text-gray-500",children:Ne.type})]})]},Ne.id))})};return e.jsxs("div",{className:"p-6 md:p-8 bg-gray-50 min-h-screen font-sans managerdashboard-bookingcalendar",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900 tracking-tight",children:"Booking Calendar"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Manage class schedules and personal training appointments."})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx(us,{options:["All","Group Class","Personal Training"],value:a,onChange:l,placeholder:"All Types",icon:ks,className:"w-48"}),e.jsx("button",{onClick:()=>g(!0),className:"p-2.5 bg-white border border-gray-200 text-gray-600 rounded-lg hover:bg-gray-50 hover:text-indigo-600 transition-all shadow-sm",title:"Booking Settings",children:e.jsx(uw,{size:20})}),e.jsxs("button",{onClick:()=>{f(!0)},className:"saas-btn saas-btn-primary shadow-sm bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center",children:[e.jsx(wt,{size:18,className:"mr-1"})," New Booking"]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-md border border-gray-100/80 overflow-hidden transition-all duration-200 hover:shadow-lg hover:shadow-gray-200/50 px-0",children:[e.jsxs("div",{className:"p-6 border-b border-gray-100/60 flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 tracking-tight",children:H()}),e.jsxs("div",{className:"flex items-center bg-gray-50 p-1 rounded-lg border border-gray-100",children:[e.jsx("button",{onClick:F,className:"p-2 hover:bg-white hover:shadow-sm rounded-md transition-all duration-200 text-gray-600 hover:text-indigo-600 group active:scale-95",children:e.jsx(Gr,{size:18})}),e.jsx("div",{className:"w-[1px] h-4 bg-gray-200 mx-1"}),e.jsx("button",{onClick:R,className:"p-2 hover:bg-white hover:shadow-sm rounded-md transition-all duration-200 text-gray-600 hover:text-indigo-600 group active:scale-95",children:e.jsx(js,{size:18})})]}),e.jsx("button",{onClick:B,className:"hidden sm:block px-4 py-2 text-sm font-bold text-indigo-600 hover:bg-indigo-50 rounded-xl transition-colors",children:"Today"})]}),e.jsxs("div",{className:"flex items-center gap-1 bg-gray-50 p-1 rounded-xl border border-gray-100 self-start sm:self-center",children:[e.jsx("button",{onClick:()=>h("Month"),className:`px-5 py-2 text-sm font-semibold rounded-lg transition-all ${u==="Month"?"bg-white shadow-sm text-indigo-700 border border-gray-100 ring-1 ring-gray-950/5":"text-gray-500 hover:text-gray-700"}`,children:"Month"}),e.jsx("button",{onClick:()=>h("Week"),className:`px-5 py-2 text-sm font-medium rounded-lg transition-all ${u==="Week"?"bg-white shadow-sm text-indigo-700 border border-gray-100 ring-1 ring-gray-950/5":"text-gray-500 hover:text-gray-700"}`,children:"Week"}),e.jsx("button",{onClick:()=>h("Day"),className:`px-5 py-2 text-sm font-medium rounded-lg transition-all ${u==="Day"?"bg-white shadow-sm text-indigo-700 border border-gray-100 ring-1 ring-950/5":"text-gray-500 hover:text-gray-700"}`,children:"Day"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("div",{className:`min-w-[760px] p-6 grid ${u==="Day"?"grid-cols-1":"grid-cols-7"} gap-px bg-gray-100/50`,children:[u!=="Day"&&["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(W=>e.jsx("div",{className:"bg-slate-50/80 p-3 text-center text-xs font-bold text-gray-400 uppercase tracking-widest border-b border-gray-100",children:W},W)),q.map((W,le)=>e.jsxs("div",{className:`bg-white min-h-[140px] p-4 transition-all duration-200 hover:bg-indigo-50/30 flex flex-col group/cell relative ${W&&W.date.toDateString()===new Date().toDateString()?"bg-indigo-50/20":""}`,children:[W&&W.date.toDateString()===new Date().toDateString()&&e.jsx("div",{className:"absolute inset-x-0 top-0 h-[2px] bg-indigo-500 animate-pulse"}),e.jsx("span",{className:`text-sm font-bold flex items-center justify-center w-8 h-8 rounded-full mb-1 transition-all duration-300 ${W&&W.date.toDateString()===new Date().toDateString()?"bg-indigo-600 text-white shadow-md shadow-indigo-200 scale-110":"text-gray-700 group-hover/cell:text-indigo-600 group-hover/cell:scale-110"} ${W?"":"invisible"}`,children:W&&W.day}),d?e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsx("div",{className:"w-4 h-4 border-2 border-indigo-200 border-t-indigo-500 rounded-full animate-spin"})}):G(W)]},le))]})})]}),e.jsxs("div",{className:"mt-6 flex gap-6 items-center px-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),e.jsx("span",{className:"text-xs text-gray-600 font-medium",children:"Group Class"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),e.jsx("span",{className:"text-xs text-gray-600 font-medium",children:"Personal Training"})]})]}),e.jsx(rt,{isOpen:p,onClose:()=>f(!1),title:"Create New Booking",children:e.jsx(qM,{isOpen:p,onClose:()=>f(!1),onCreate:_,members:j,classes:w})}),e.jsx(rt,{isOpen:b,onClose:()=>g(!1),title:"Global Booking Settings",children:e.jsx($M,{isOpen:b,onClose:()=>g(!1)})})]})},Yp=()=>{const[t,s]=v.useState(""),[a,l]=v.useState("All"),[i,o]=v.useState("All"),[d,x]=v.useState([]),[u,h]=v.useState(!0),[p,f]=v.useState(1),[b,g]=v.useState(5),[j,A]=v.useState(0),[w,k]=v.useState(!1),[C,L]=v.useState(null),[N,P]=v.useState({title:"",assignedTo:"",priority:"",dueDate:"",status:""}),[_,F]=v.useState([]);v.useEffect(()=>{B(),R()},[t,a,i,p]);const R=async()=>{try{const V=await um();F(V.map(ne=>({label:ne.name,value:ne.id})))}catch(V){console.error("Failed to load staff:",V)}},B=async()=>{h(!0);const ne=await g9({filters:{search:t,priority:a==="All"?"":a,status:i==="All"?"":i},page:p,limit:b});x(ne.data),A(ne.total),h(!1)},T=async(V,ne)=>{await b9(V,ne==="Completed"?"Pending":"Completed"),B()},q=async V=>{window.confirm("Are you sure you want to delete this task?")&&(await j9(V),B())},H=V=>{L(V),P({title:V.title,assignedToId:V.assignedToId,priority:V.priority,dueDate:V.dueDate,status:V.status}),k(!0)},G=async V=>{V.preventDefault(),await v9(C.id,N),k(!1),B()},W=V=>{switch(V){case"Low":return e.jsx("span",{className:"px-2.5 py-1 rounded-full text-xs font-bold bg-green-50 text-green-600 border border-green-100 shadow-sm",children:"Low"});case"Medium":return e.jsx("span",{className:"px-2.5 py-1 rounded-full text-xs font-bold bg-orange-50 text-orange-600 border border-orange-100 shadow-sm",children:"Medium"});case"High":return e.jsx("span",{className:"px-2.5 py-1 rounded-full text-xs font-bold bg-red-50 text-red-600 border border-red-100 shadow-sm",children:"High"});default:return null}},le=V=>{switch(V){case"Pending":return e.jsxs("span",{className:"flex items-center gap-1.5 text-xs font-bold text-gray-500 bg-gray-100 px-2.5 py-1 rounded-full",children:[e.jsx(Qe,{size:14})," Pending"]});case"In Progress":return e.jsxs("span",{className:"flex items-center gap-1.5 text-xs font-bold text-blue-600 bg-blue-50 px-2.5 py-1 rounded-full border border-blue-100",children:[e.jsx(hs,{size:14})," In Progress"]});case"Completed":return e.jsxs("span",{className:"flex items-center gap-1.5 text-xs font-bold text-green-600 bg-green-50 px-2.5 py-1 rounded-full border border-green-100",children:[e.jsx(Xt,{size:14})," Completed"]});default:return null}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-6 md:p-8",children:[e.jsxs("div",{className:"mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-6",children:e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(Xt,{size:28})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Task List"}),e.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Manage and track staff tasks and responsibilities"})]})]}),e.jsxs("button",{onClick:()=>window.location.href=window.location.pathname.includes("branchadmin")?"/branchadmin/tasks/assign":"/manager/tasks/assign",className:"bg-gradient-to-r from-violet-600 to-purple-600 text-white px-6 py-3 rounded-xl font-bold text-sm shadow-xl shadow-violet-200 hover:shadow-violet-400/40 transition-all hover:scale-[1.02] active:scale-[0.98] flex items-center gap-2",children:[e.jsx(wt,{size:18}),"Assign New Task"]})]})})]}),e.jsx("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden hover:shadow-2xl hover:border-violet-200 transition-all duration-300",children:e.jsxs("div",{className:"p-6 border-b border-slate-100 flex flex-col md:flex-row gap-4 items-center justify-between bg-white hover:bg-violet-50/20 transition-colors duration-300",children:[e.jsxs("div",{className:"relative w-full md:w-96 group",children:[e.jsx(tt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 transition-colors group-hover:text-violet-500 group-hover:scale-110 duration-300",size:18}),e.jsx("input",{type:"text",placeholder:"Search tasks...",className:"pl-11 h-11 w-full rounded-xl border-2 border-slate-200 focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 transition-all text-sm bg-white hover:border-slate-300 shadow-sm focus:shadow-lg",value:t,onChange:V=>{s(V.target.value),f(1)}})]}),e.jsxs("div",{className:"flex flex-wrap gap-3 w-full md:w-auto",children:[e.jsx(us,{options:["All","Low","Medium","High"],value:a,onChange:V=>{l(V),f(1)},placeholder:"All Priorities",icon:ks}),e.jsx(us,{options:["All","Pending","In Progress","Completed"],value:i,onChange:V=>{o(V),f(1)},placeholder:"All Status",icon:Qe})]})]})}),e.jsx("div",{className:"grid grid-cols-1 gap-4 md:hidden mt-6",children:u?e.jsx("div",{className:"py-12 text-center bg-white rounded-2xl border border-slate-100 shadow-xl",children:e.jsxs("div",{className:"flex flex-col items-center gap-3 text-violet-600",children:[e.jsx("div",{className:"w-8 h-8 border-4 border-violet-600 border-t-transparent rounded-full animate-spin"}),e.jsx("span",{className:"text-sm font-black uppercase tracking-widest",children:"Loading..."})]})}):d.length>0?d.map(V=>e.jsx(Ya,{title:V.title,subtitle:V.assignedTo,badge:V.priority,badgeColor:V.priority==="High"?"rose":V.priority==="Medium"?"amber":"emerald",fields:[{label:"Due Date",value:V.dueDate,icon:Qe},{label:"Status",value:V.status}],actions:[{label:"Edit",icon:Md,variant:"primary",onClick:()=>H(V)},{label:"Toggle Status",icon:Xt,variant:"secondary",onClick:()=>T(V.id,V.status)}]},V.id)):e.jsx("div",{className:"py-12 text-center bg-white rounded-2xl border border-slate-100 shadow-xl",children:e.jsx("p",{className:"text-slate-500 font-bold",children:"No tasks found"})})}),e.jsxs("div",{className:"hidden md:block bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden hover:shadow-2xl hover:border-violet-200 transition-all duration-300 mt-8",children:[e.jsx("div",{className:"saas-table-wrapper",children:e.jsxs("table",{className:"saas-table saas-table-responsive",children:[e.jsx("thead",{className:"bg-gradient-to-r from-violet-50 via-purple-50 to-fuchsia-50 border-b-2 border-violet-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider hover:text-purple-700 transition-colors duration-300 cursor-pointer",children:"Task Title"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider hover:text-purple-700 transition-colors duration-300 cursor-pointer",children:"Assigned To"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider hover:text-purple-700 transition-colors duration-300 cursor-pointer",children:"Priority"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider hover:text-purple-700 transition-colors duration-300 cursor-pointer",children:"Due Date"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider hover:text-purple-700 transition-colors duration-300 cursor-pointer",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider text-right hover:text-purple-700 transition-colors duration-300 cursor-pointer",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:u?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-3 text-violet-600",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-current border-t-transparent rounded-full animate-spin"}),e.jsx("span",{className:"text-sm font-medium",children:"Loading tasks..."})]})})}):d.length>0?d.map(V=>e.jsxs("tr",{className:"group hover:bg-gradient-to-r hover:from-violet-50/50 hover:to-purple-50/30 transition-all duration-300",children:[e.jsx("td",{className:"px-6 py-4","data-label":"Task Title",children:e.jsx("p",{className:"text-sm font-bold text-gray-800 tracking-tight group-hover:text-violet-700 transition-colors duration-300",children:V.title})}),e.jsx("td",{className:"px-6 py-4","data-label":"Assigned To",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-100 flex items-center justify-center text-[10px] font-bold text-gray-500",children:(V.assignedTo||"?").charAt(0)}),e.jsx("p",{className:"text-sm font-medium text-gray-600",children:V.assignedTo})]})}),e.jsx("td",{className:"px-6 py-4","data-label":"Priority",children:W(V.priority)}),e.jsx("td",{className:"px-6 py-4","data-label":"Due Date",children:e.jsx("p",{className:"text-xs font-medium text-gray-500 bg-gray-50 px-2 py-1 rounded-md inline-block",children:V.dueDate})}),e.jsx("td",{className:"px-6 py-4","data-label":"Status",children:e.jsx("button",{onClick:()=>T(V.id,V.status),className:"hover:scale-105 active:scale-95 transition-transform",children:le(V.status)})}),e.jsx("td",{className:"px-6 py-4 text-right","data-label":"Actions",children:e.jsxs("div",{className:"flex items-center justify-end gap-1 opacity-0 group-hover:opacity-100 transition-all duration-200 transform translate-x-2 group-hover:translate-x-0",children:[e.jsx("button",{onClick:()=>H(V),className:"p-2 text-gray-400 hover:text-violet-600 hover:bg-violet-50 rounded-lg transition-all hover:scale-110 duration-300",children:e.jsx(Md,{size:16})}),e.jsx("button",{onClick:()=>q(V.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",children:e.jsx(ms,{size:16})})]})})]},V.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-12 text-center text-gray-400 text-sm",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("div",{className:"p-3 bg-gray-50 rounded-full",children:e.jsx(ks,{size:20,className:"text-gray-300"})}),e.jsx("p",{children:"No tasks found matching your filters."})]})})})})]})}),!u&&j>0&&e.jsxs("div",{className:"px-6 py-4 bg-gray-50/50 border-t border-gray-100 flex justify-between items-center",children:[e.jsxs("span",{className:"text-xs font-medium text-gray-500",children:["Showing ",e.jsx("span",{className:"text-gray-900",children:(p-1)*b+1})," - ",e.jsx("span",{className:"text-gray-900",children:Math.min(p*b,j)})," of ",e.jsx("span",{className:"text-gray-900",children:j})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>f(V=>Math.max(V-1,1)),disabled:p===1,className:"w-9 h-9 flex items-center justify-center border border-gray-200 rounded-xl bg-white hover:bg-gray-50 text-gray-600 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm transition-all hover:-translate-y-0.5",children:e.jsx(Gr,{size:18})}),e.jsx("button",{onClick:()=>f(V=>Math.min(V+1,Math.ceil(j/b))),disabled:p===Math.ceil(j/b),className:"w-9 h-9 flex items-center justify-center border border-gray-200 rounded-xl bg-white hover:bg-gray-50 text-gray-600 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm transition-all hover:-translate-y-0.5",children:e.jsx(js,{size:18})})]})]})]}),e.jsx(rt,{isOpen:w,onClose:()=>k(!1),title:"Edit Task",subtitle:`Updating info for ${C?.title}`,maxWidth:"max-w-md",footer:e.jsxs("div",{className:"flex gap-4 w-full",children:[e.jsx("button",{type:"button",onClick:()=>k(!1),className:"flex-1 h-12 border-2 border-slate-100 text-slate-600 rounded-2xl text-sm font-bold hover:bg-slate-50 hover:border-slate-200 transition-all duration-300",children:"Cancel"}),e.jsx("button",{type:"submit",form:"edit-task-form",className:"flex-1 h-12 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-2xl text-sm font-bold shadow-lg shadow-violet-200 hover:shadow-violet-400/40 transition-all hover:scale-[1.02] active:scale-[0.98]",children:"Save Changes"})]}),children:e.jsxs("form",{id:"edit-task-form",onSubmit:G,className:"space-y-6 px-6 py-8",children:[e.jsxs("div",{className:"space-y-2 group",children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest ml-1",children:"Task Title"}),e.jsx("div",{className:"relative",children:e.jsx("input",{required:!0,type:"text",className:"saas-input w-full h-12 px-5 rounded-2xl border-2 border-slate-100 focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 text-sm bg-slate-50/50 focus:bg-white transition-all duration-300 group-hover:border-slate-200",value:N.title,onChange:V=>P({...N,title:V.target.value}),placeholder:"Enter task title..."})})]}),e.jsxs("div",{className:"space-y-2 group",children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest ml-1",children:"Assigned To"}),e.jsx(us,{options:_,value:N.assignedToId,onChange:V=>P({...N,assignedToId:V}),className:"w-full",icon:lt,placeholder:"Select Staff Member"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest ml-1",children:"Priority"}),e.jsx(us,{options:["Low","Medium","High"],value:N.priority,onChange:V=>P({...N,priority:V}),className:"w-full",placeholder:"Priority"})]}),e.jsxs("div",{className:"space-y-2 group",children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest ml-1",children:"Due Date"}),e.jsx("input",{required:!0,type:"date",className:"saas-input w-full h-[52px] px-5 rounded-2xl border-2 border-slate-100 focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 text-sm bg-slate-50/50 focus:bg-white transition-all duration-300 group-hover:border-slate-200",value:N.dueDate,onChange:V=>P({...N,dueDate:V.target.value})})]})]}),e.jsxs("div",{className:"space-y-2 group",children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest ml-1",children:"Status"}),e.jsx(us,{options:["Pending","In Progress","Completed"],value:N.status,onChange:V=>P({...N,status:V}),className:"w-full",placeholder:"Status"})]}),e.jsx("div",{className:"bg-violet-50/50 rounded-2xl p-4 border border-violet-100/50 mt-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 bg-white rounded-xl shadow-sm",children:e.jsx(hs,{size:16,className:"text-violet-500"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-[11px] font-bold text-violet-700 uppercase tracking-wider",children:"Quick Info"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1 leading-relaxed",children:"Assigned staff will see this task instantly in their personal task dashboard."})]})]})})]})})]})},iy=({label:t,icon:s,options:a,value:l,onChange:i,name:o,placeholder:d,isObjectOptions:x})=>{const[u,h]=v.useState(!1),p=v.useRef(null);v.useEffect(()=>{const g=j=>{p.current&&!p.current.contains(j.target)&&h(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const f=g=>{const j=x?g.id:g;i({target:{name:o,value:j}}),h(!1)},b=()=>{if(!l)return d;if(x){const g=a.find(j=>j.id===l);return g?g.name:d}return l};return e.jsxs("div",{className:"space-y-2 relative",ref:p,children:[e.jsxs("label",{className:"text-sm font-bold text-gray-700 flex items-center gap-2",children:[e.jsx(s,{size:16,className:"text-indigo-500"}),t]}),e.jsxs("div",{onClick:()=>h(!u),className:`saas-input w-full h-11 px-4 rounded-xl border border-gray-200 bg-gray-50/50 flex items-center justify-between cursor-pointer transition-all duration-300 hover:border-indigo-300 hover:shadow-md ${u?"ring-2 ring-indigo-500 border-indigo-500 bg-white":""}`,children:[e.jsx("span",{className:`text-sm ${l?"text-gray-900 font-medium":"text-gray-400"}`,children:b()}),e.jsx(Nl,{size:18,className:`text-gray-400 transition-transform duration-300 ${u?"rotate-180 text-indigo-500":""}`})]}),e.jsx("div",{className:`absolute left-0 right-0 top-full mt-2 bg-white border border-gray-100 rounded-xl shadow-xl z-50 overflow-hidden transition-all duration-300 origin-top ${u?"opacity-100 scale-100 translate-y-0 max-h-60":"opacity-0 scale-95 -translate-y-2 max-h-0 pointer-events-none"}`,children:e.jsx("div",{className:"py-1 overflow-y-auto max-h-60",children:a.map(g=>{const j=x?g.id:g,A=x?g.name:g;return e.jsxs("div",{onClick:()=>f(g),className:`px-4 py-3 text-sm font-medium cursor-pointer flex items-center justify-between transition-colors ${l===j?"bg-indigo-50 text-indigo-600":"text-gray-700 hover:bg-gray-50 hover:text-indigo-600"}`,children:[A,l===j&&e.jsx(xr,{size:16,className:"text-indigo-600"})]},j)})})})]})},oy=()=>{const t=qt(),[s,a]=v.useState({title:"",description:"",assignedToId:"",priority:"Medium",dueDate:""}),[l,i]=v.useState(!1),[o,d]=v.useState(!1),[x,u]=v.useState([]);v.useEffect(()=>{(async()=>{try{const b=await um();u(b)}catch(b){console.error("Failed to load staff:",b)}})()},[]);const h=f=>{const{name:b,value:g}=f.target;a(j=>({...j,[b]:g}))},p=async f=>{f.preventDefault(),i(!0);try{await y9({...s,assignedToId:parseInt(s.assignedToId)}),d(!0),a({title:"",description:"",assignedToId:"",priority:"Medium",dueDate:""}),setTimeout(()=>{d(!1),t("/branchadmin/tasks/list")},1500)}catch(b){console.error("Task Assignment Failed:",b),alert("Failed to assign task. Please try again.")}finally{i(!1)}};return e.jsxs("div",{className:"p-6 md:p-8 bg-gray-50 min-h-screen font-sans managerdashboard-assigntask",children:[e.jsxs("div",{className:"mb-8 animate-fade-in-down",children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900 tracking-tight",children:"Assign Task"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Create and assign new tasks to team members."})]}),e.jsx("div",{className:"max-w-3xl animate-fade-in-up",children:e.jsx("div",{className:"bg-white rounded-3xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-lg transition-shadow duration-500",children:e.jsx("form",{onSubmit:p,className:"p-8",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2 group",children:[e.jsxs("label",{className:"text-sm font-bold text-gray-700 flex items-center gap-2 transition-colors group-hover:text-indigo-600",children:[e.jsx(Va,{size:16,className:"text-indigo-500"}),"Task Title"]}),e.jsx("input",{type:"text",name:"title",placeholder:"e.g., Equipment Maintenance",className:"saas-input w-full h-11 px-4 rounded-xl border border-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all duration-300 text-sm bg-gray-50/50 hover:bg-white hover:shadow-md",value:s.title,onChange:h,required:!0})]}),e.jsxs("div",{className:"space-y-2 group",children:[e.jsxs("label",{className:"text-sm font-bold text-gray-700 flex items-center gap-2 transition-colors group-hover:text-indigo-600",children:[e.jsx(R1,{size:16,className:"text-indigo-500"}),"Description"]}),e.jsx("textarea",{name:"description",placeholder:"Enter detailed task instructions...",rows:"4",className:"saas-input w-full p-4 rounded-xl border border-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all duration-300 text-sm bg-gray-50/50 resize-none hover:bg-white hover:shadow-md",value:s.description,onChange:h,required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 relative z-20",children:[e.jsx(iy,{label:"Assign To",icon:rl,name:"assignedToId",value:s.assignedToId,onChange:h,options:x,placeholder:"Select Staff",isObjectOptions:!0}),e.jsx(iy,{label:"Priority",icon:R1,name:"priority",value:s.priority,onChange:h,options:["Low","Medium","High"],placeholder:"Select Priority"})]}),e.jsxs("div",{className:"space-y-2 group relative z-10",children:[e.jsxs("label",{className:"text-sm font-bold text-gray-700 flex items-center gap-2 transition-colors group-hover:text-indigo-600",children:[e.jsx(Ve,{size:16,className:"text-indigo-500"}),"Due Date"]}),e.jsx("input",{type:"date",name:"dueDate",className:"saas-input w-full h-11 px-4 rounded-xl border border-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all duration-300 text-sm bg-gray-50/50 hover:bg-white hover:shadow-md",value:s.dueDate,onChange:h,required:!0})]}),e.jsxs("div",{className:"pt-6",children:[o&&e.jsxs("div",{className:"mb-4 p-4 bg-green-50 border border-green-100 rounded-xl flex items-center gap-3 text-green-700 text-sm font-bold animate-bounce shadow-sm",children:[e.jsx("div",{className:"p-1 bg-green-200 rounded-full",children:e.jsx(Xt,{size:16,className:"text-green-700"})}),"Task assigned successfully!"]}),e.jsxs("button",{type:"submit",disabled:l,className:`saas-btn w-full h-12 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl shadow-lg shadow-indigo-200 font-bold transition-all duration-300 transform hover:-translate-y-1 hover:shadow-xl active:translate-y-0 active:scale-[0.98] flex items-center justify-center gap-2 ${l?"opacity-70 cursor-not-allowed":""}`,children:[l?e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):e.jsx(Fc,{size:18}),l?"Assigning...":"Assign Task"]})]})]})})})})]})},HM=({options:t,value:s,onChange:a,icon:l,placeholder:i})=>{const[o,d]=v.useState(!1),x=v.useRef(null);return v.useEffect(()=>{const u=h=>{x.current&&!x.current.contains(h.target)&&d(!1)};return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[]),e.jsxs("div",{className:"relative min-w-[160px]",ref:x,children:[e.jsxs("button",{onClick:()=>d(!o),className:`w-full h-11 px-4 rounded-xl border flex items-center justify-between transition-all duration-300 ${o?"border-violet-500 ring-2 ring-violet-100 bg-white":"border-gray-200 bg-white hover:border-gray-300"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[l&&e.jsx(l,{size:16,className:"text-gray-400"}),e.jsx("span",{className:"font-medium truncate",children:s==="All"?i:s})]}),e.jsx(Nl,{size:16,className:`text-gray-400 transition-transform duration-300 ${o?"rotate-180 text-violet-500":""}`})]}),e.jsx("div",{className:`absolute top-full left-0 right-0 mt-2 bg-white border border-gray-100 rounded-xl shadow-xl z-50 overflow-hidden transition-all duration-200 origin-top ${o?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-95 -translate-y-2 pointer-events-none"}`,children:e.jsx("div",{className:"py-1",children:t.map(u=>e.jsxs("button",{onClick:()=>{a(u),d(!1)},className:`w-full px-4 py-2.5 text-left text-sm flex items-center justify-between transition-colors ${s===u?"bg-violet-50 text-violet-600 font-medium":"text-gray-600 hover:bg-gray-50"}`,children:[u==="All"?i:u,s===u&&e.jsx(xr,{size:14})]},u))})})]})},cy=()=>{const t=()=>{const G=new Date,W=G.getFullYear(),le=String(G.getMonth()+1).padStart(2,"0"),V=String(G.getDate()).padStart(2,"0");return`${W}-${le}-${V}`},[s,a]=v.useState(t()),[l,i]=v.useState("All"),[o,d]=v.useState(""),[x,u]=v.useState([]),[h,p]=v.useState({totalToday:0,membersToday:0,staffToday:0}),[f,b]=v.useState(!0),[g,j]=v.useState(1),[A,w]=v.useState(0),[k,C]=v.useState(!0),[L,N]=v.useState(null),[P,_]=v.useState(!1),F=5;v.useEffect(()=>{R()},[s,l,o,g]);const R=async()=>{try{b(!0);const G={search:o,type:l,date:s,page:g,limit:F},W=await ye.get("/branch-admin/reports/attendance",{params:G});u(W.data.data||[]),w(W.data.total||0),W.data.stats&&p(W.data.stats)}catch(G){console.error("Attendance Load Error:",G)}finally{b(!1)}},B=()=>{if(x.length===0){alert("No data to export");return}const W=[["Name","Type","Check-In","Check-Out","Status"].join(","),...x.map(I=>[`"${I.name}"`,`"${I.type}"`,`"${I.checkIn}"`,`"${I.checkOut}"`,`"${I.status}"`].join(","))].join(`
`),le=new Blob([W],{type:"text/csv"}),V=URL.createObjectURL(le),ne=document.createElement("a");ne.href=V,ne.download=`attendance_report_${s}.csv`,ne.click()},T=async G=>{if(window.confirm("Are you sure you want to remove this attendance record?"))try{await ye.delete(`/admin/attendance/${G}`),R()}catch(W){console.error("Delete Error:",W)}},q=G=>{N(G),_(!0)},H=[{label:"Total Attendance",value:h.totalToday,icon:_t,bg:"bg-indigo-50",color:"text-indigo-600",border:"border-indigo-100"},{label:"Member Attendance",value:h.membersToday,icon:kl,bg:"bg-green-50",color:"text-green-600",border:"border-green-100"},{label:"Staff Attendance",value:h.staffToday,icon:kl,bg:"bg-blue-50",color:"text-blue-600",border:"border-blue-100"}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-6 md:p-8",children:[e.jsxs("div",{className:"mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(Ve,{size:28})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Daily Attendance Report"}),e.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Detailed breakdown of today's attendance for members and staff"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>C(!k),className:`p-2.5 border rounded-xl hover:bg-gray-50 transition-all ${k?"bg-violet-50 border-violet-200 ring-2 ring-violet-100 text-violet-600":"bg-white border-gray-200 text-gray-500"}`,children:e.jsx(ks,{size:18})}),e.jsxs("button",{onClick:B,className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-violet-600 to-purple-600 hover:shadow-xl hover:shadow-violet-500/50 text-white rounded-xl text-sm font-bold transition-all hover:scale-[1.02] active:scale-[0.98]",children:[e.jsx(Qs,{size:18}),"Export Report"]})]})]})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:H.map((G,W)=>e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-xl border border-slate-100 flex items-center gap-4 hover:shadow-2xl hover:border-violet-200 transition-all duration-300 transform hover:-translate-y-1 hover:scale-105 group cursor-pointer",children:[e.jsx("div",{className:`p-4 rounded-xl ${G.bg} ${G.color} group-hover:scale-125 group-hover:rotate-6 transition-all duration-500 shadow-md`,children:e.jsx(G.icon,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1",children:G.label}),e.jsx("p",{className:"text-3xl font-black text-gray-900 leading-none",children:G.value})]})]},W))}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 hover:shadow-2xl hover:border-violet-200 transition-all duration-300",style:{overflow:"visible",zIndex:10,position:"relative"},children:[k&&e.jsx("div",{className:"p-6 border-b border-slate-100 hover:bg-violet-50/20 transition-colors duration-300",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-center",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 w-full md:w-auto",children:[e.jsxs("div",{className:"relative group",children:[e.jsx(Ve,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-hover:text-violet-500 group-hover:scale-110 transition-all duration-300",size:18}),e.jsx("input",{type:"date",className:"pl-11 h-11 px-4 rounded-xl border-2 border-slate-200 text-sm focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 transition-all bg-white hover:border-slate-300 hover:shadow-sm",value:s,onChange:G=>{a(G.target.value),j(1)}})]}),e.jsx("div",{className:"w-full md:w-48",children:e.jsx(HM,{options:["All","Member","Staff","Trainer"],value:l,onChange:G=>{i(G),j(1)},placeholder:"All Types",icon:_t})})]}),e.jsxs("div",{className:"relative w-full md:w-72 group",children:[e.jsx(tt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-hover:text-violet-500 group-hover:scale-110 transition-all duration-300",size:18}),e.jsx("input",{type:"text",placeholder:"Search by name...",className:"pl-11 h-11 w-full rounded-xl border-2 border-slate-200 focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 text-sm bg-white hover:border-slate-300 hover:shadow-sm transition-all",value:o,onChange:G=>{d(G.target.value),j(1)}})]})]})}),e.jsx("div",{className:"saas-table-wrapper",children:e.jsxs("table",{className:"saas-table saas-table-responsive",children:[e.jsx("thead",{className:"bg-gradient-to-r from-violet-50 via-purple-50 to-fuchsia-50 border-b-2 border-violet-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider hover:text-purple-700 transition-colors duration-300 cursor-pointer",children:"Name"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider hover:text-purple-700 transition-colors duration-300 cursor-pointer",children:"Type"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider hover:text-purple-700 transition-colors duration-300 cursor-pointer",children:"Check-In"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider hover:text-purple-700 transition-colors duration-300 cursor-pointer",children:"Check-Out"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider hover:text-purple-700 transition-colors duration-300 cursor-pointer",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider text-right hover:text-purple-700 transition-colors duration-300 cursor-pointer",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:f?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-2 text-violet-600",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-violet-600 border-t-transparent rounded-full animate-spin"}),e.jsx("span",{className:"text-sm font-medium",children:"Loading report..."})]})})}):x.length>0?x.map(G=>e.jsxs("tr",{className:"hover:bg-gradient-to-r hover:from-violet-50/50 hover:to-purple-50/30 transition-colors duration-200 group",children:[e.jsx("td",{className:"px-6 py-4","data-label":"Name",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`h-9 w-9 rounded-full flex items-center justify-center font-bold text-xs shadow-sm ${G.type==="Member"?"bg-green-100 text-green-700":G.type==="Staff"?"bg-blue-100 text-blue-700":"bg-purple-100 text-purple-700"}`,children:(G.name||"?").charAt(0)}),e.jsx("span",{className:"text-sm font-bold text-gray-800",children:G.name})]})}),e.jsx("td",{className:"px-6 py-4","data-label":"Type",children:e.jsx("span",{className:`text-xs font-bold px-2.5 py-1 rounded-full border ${G.type==="Member"?"bg-green-50 text-green-600 border-green-100":G.type==="Staff"?"bg-blue-50 text-blue-600 border-blue-100":"bg-purple-50 text-purple-600 border-purple-100"}`,children:G.type})}),e.jsx("td",{className:"px-6 py-4","data-label":"Check-In",children:e.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-gray-600",children:[e.jsx(Qe,{size:14,className:"text-gray-400"}),G.time||G.checkIn]})}),e.jsx("td",{className:"px-6 py-4","data-label":"Check-Out",children:e.jsx("span",{className:"text-sm text-gray-600",children:G.checkOut||"-"})}),e.jsx("td",{className:"px-6 py-4","data-label":"Status",children:e.jsxs("span",{className:"inline-flex items-center gap-1.5 text-xs font-bold text-green-600 bg-green-50 px-2.5 py-1 rounded-full border border-green-100",children:[e.jsxs("span",{className:"relative flex h-2 w-2",children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),e.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-green-500"})]}),G.status==="checked-in"||G.status==="checked-out"?"Present":G.status]})}),e.jsx("td",{className:"px-6 py-4 text-right","data-label":"Actions",children:e.jsxs("div",{className:"flex items-center justify-end gap-1 opacity-0 group-hover:opacity-100 transition-all duration-200 transform translate-x-2 group-hover:translate-x-0",children:[e.jsx("button",{onClick:()=>q(G),className:"p-2 text-gray-400 hover:text-violet-600 hover:bg-violet-50 rounded-lg transition-all hover:scale-110 duration-300",title:"View Details",children:e.jsx(qs,{size:16})}),e.jsx("button",{onClick:()=>T(G.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",title:"Delete Record",children:e.jsx(ms,{size:16})})]})})]},G.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-12 text-center text-gray-400 text-sm",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("div",{className:"p-3 bg-gray-50 rounded-full",children:e.jsx(tt,{size:20,className:"text-gray-300"})}),e.jsx("p",{children:"No attendance records found for this date."})]})})})})]})}),!f&&A>0&&e.jsxs("div",{className:"px-6 py-4 bg-gray-50/50 border-t border-gray-100 flex justify-between items-center",children:[e.jsxs("span",{className:"text-xs font-medium text-gray-500",children:["Showing ",e.jsx("span",{className:"font-bold text-gray-900",children:(g-1)*F+1})," - ",e.jsx("span",{className:"font-bold text-gray-900",children:Math.min(g*F,A)})," of ",e.jsx("span",{className:"font-bold text-gray-900",children:A})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>j(G=>Math.max(G-1,1)),disabled:g===1,className:"w-9 h-9 flex items-center justify-center border border-gray-200 rounded-xl bg-white hover:bg-gray-50 text-gray-600 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm transition-all hover:-translate-y-0.5","aria-label":"Previous Page",children:e.jsx(Gr,{size:18})}),e.jsx("button",{onClick:()=>j(G=>Math.min(G+1,Math.ceil(A/F))),disabled:g===Math.ceil(A/F),className:"w-9 h-9 flex items-center justify-center border border-gray-200 rounded-xl bg-white hover:bg-gray-50 text-gray-600 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm transition-all hover:-translate-y-0.5","aria-label":"Next Page",children:e.jsx(js,{size:18})})]})]})]}),e.jsx(rt,{isOpen:P,onClose:()=>_(!1),title:"Attendance Details",subtitle:"Detailed entry log",width:"500px",children:L&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col items-center py-6 bg-slate-50 rounded-2xl border border-slate-100",children:[e.jsx("div",{className:`h-20 w-20 rounded-full flex items-center justify-center font-black text-2xl mb-3 shadow-lg ring-4 ring-offset-4 ${L.type==="Member"?"bg-green-100 text-green-600 ring-green-50":L.type==="Staff"?"bg-blue-100 text-blue-600 ring-blue-50":"bg-purple-100 text-purple-600 ring-purple-50"}`,children:(L.name||"?").charAt(0)}),e.jsx("h4",{className:"text-xl font-bold text-gray-900",children:L.name}),e.jsx("span",{className:`text-[10px] font-black px-3 py-1 rounded-full mt-2 uppercase tracking-widest border ${L.type==="Member"?"bg-green-50 text-green-600 border-green-100":L.type==="Staff"?"bg-blue-50 text-blue-600 border-blue-100":"bg-purple-50 text-purple-600 border-purple-100"}`,children:L.type})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-white rounded-xl border border-slate-100 shadow-sm",children:[e.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1 flex items-center gap-1.5",children:[e.jsx(Qe,{size:12})," Check-In"]}),e.jsx("p",{className:"text-lg font-black text-slate-800",children:L.time||L.checkIn||"-"})]}),e.jsxs("div",{className:"p-4 bg-white rounded-xl border border-slate-100 shadow-sm",children:[e.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1 flex items-center gap-1.5",children:[e.jsx(Qe,{size:12})," Check-Out"]}),e.jsx("p",{className:"text-lg font-black text-slate-800",children:L.checkOut||"-"})]})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-100",children:[e.jsx("div",{className:"flex justify-between items-center p-3 hover:bg-slate-50 rounded-lg transition-colors",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-slate-100 text-slate-500 rounded-lg",children:e.jsx(Jl,{size:16})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-slate-900",children:"Entrance Kiosk A"}),e.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-wide",children:"Device Info"})]})]})}),e.jsx("div",{className:"flex justify-between items-center p-3 hover:bg-slate-50 rounded-lg transition-colors",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-slate-100 text-slate-500 rounded-lg",children:e.jsx($s,{size:16})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-slate-900",children:"Main Location"}),e.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-wide",children:"Branch"})]})]})})]}),e.jsx("button",{onClick:()=>_(!1),className:"w-full py-3 bg-slate-900 text-white rounded-xl text-xs font-black uppercase tracking-widest hover:bg-slate-800 transition-all mt-6 shadow-lg shadow-slate-200",children:"Close Details"})]})})]})},dy=({options:t,value:s,onChange:a,icon:l,placeholder:i})=>{const[o,d]=v.useState(!1),x=v.useRef(null);return v.useEffect(()=>{const u=h=>{x.current&&!x.current.contains(h.target)&&d(!1)};return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[]),e.jsxs("div",{className:"relative min-w-[160px]",ref:x,children:[e.jsxs("button",{onClick:()=>d(!o),className:`w-full h-11 px-4 rounded-xl border flex items-center justify-between transition-all duration-300 ${o?"border-violet-500 ring-2 ring-violet-100 bg-white":"border-gray-200 bg-white hover:border-gray-300"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[l&&e.jsx(l,{size:16,className:"text-gray-400"}),e.jsx("span",{className:"font-medium truncate",children:s==="All"?i:s})]}),e.jsx(Nl,{size:16,className:`text-gray-400 transition-transform duration-300 ${o?"rotate-180 text-violet-500":""}`})]}),e.jsx("div",{className:`absolute top-full left-0 right-0 mt-2 bg-white border border-gray-100 rounded-xl shadow-xl z-50 overflow-hidden transition-all duration-200 origin-top ${o?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-95 -translate-y-2 pointer-events-none"}`,children:e.jsx("div",{className:"py-1",children:t.map(u=>e.jsxs("button",{onClick:()=>{a(u),d(!1)},className:`w-full px-4 py-2.5 text-left text-sm flex items-center justify-between transition-colors ${s===u?"bg-violet-50 text-violet-600 font-medium":"text-gray-600 hover:bg-gray-50"}`,children:[u==="All"?i:u,s===u&&e.jsx(xr,{size:14})]},u))})})]})},xy=()=>{const[t,s]=v.useState("All"),[a,l]=v.useState("All"),[i,o]=v.useState(""),[d,x]=v.useState([]),[u,h]=v.useState({total:0,completed:0,cancelled:0}),[p,f]=v.useState(!0),[b,g]=v.useState(1),[j,A]=v.useState(0),[w,k]=v.useState(!0),[C,L]=v.useState(null),[N,P]=v.useState(!1),_=5;v.useEffect(()=>{F()},[t,a,i,b]);const F=async()=>{try{f(!0);const W={search:i,status:a,dateRange:t,page:b,limit:_},le=await ye.get("/branch-admin/reports/bookings",{params:W});x(le.data.data||[]),A(le.data.total||0),le.data.stats&&h(le.data.stats)}catch(W){console.error("Booking Load Error:",W)}finally{f(!1)}},R=()=>{if(d.length===0){alert("No data to export");return}const le=[["Booking ID","Member","Class/Type","Trainer","Date","Time","Status"].join(","),...d.map(oe=>[`"${oe.id}"`,`"${oe.memberName}"`,`"${oe.classType}"`,`"${oe.trainerName}"`,`"${oe.date}"`,`"${oe.time}"`,`"${oe.status}"`].join(","))].join(`
`),V=new Blob([le],{type:"text/csv;charset=utf-8;"}),ne=URL.createObjectURL(V),I=document.createElement("a");I.setAttribute("href",ne),I.setAttribute("download",`booking_report_${new Date().toISOString().split("T")[0]}.csv`),I.style.visibility="hidden",document.body.appendChild(I),I.click(),document.body.removeChild(I)},B=()=>{if(d.length===0){alert("No data to export");return}const W=d.map(ne=>`<tr><td>${ne.id}</td><td>${ne.memberName}</td><td>${ne.classType}</td><td>${ne.trainerName}</td><td>${ne.date} ${ne.time}</td><td>${ne.status}</td></tr>`).join(""),le=`<html><head><title>Booking Report</title><style>body{font-family:sans-serif;padding:20px}table{width:100%;border-collapse:collapse}th,td{border:1px solid #ddd;padding:8px;text-align:left}th{background:#6d28d9;color:white}tr:nth-child(even){background:#f9f5ff}</style></head><body><h2>Booking Report</h2><p>Generated: ${new Date().toLocaleString()}</p><table><thead><tr><th>ID</th><th>Member</th><th>Class</th><th>Trainer</th><th>Date/Time</th><th>Status</th></tr></thead><tbody>${W}</tbody></table></body></html>`,V=window.open("","_blank");V.document.write(le),V.document.close(),V.print()},T=async W=>{if(window.confirm("Are you sure you want to cancel and remove this booking?"))try{await ye.delete(`/admin/bookings/${W}`),F()}catch(le){console.error("Delete Error:",le),alert("Failed to delete booking. Please try again.")}},q=W=>{L(W),P(!0)},H=W=>W==="Completed"?"bg-green-50 text-green-700 border-green-100":W==="Cancelled"?"bg-red-50 text-red-700 border-red-100":"bg-yellow-50 text-yellow-700 border-yellow-100",G=[{label:"Total Bookings",value:u.total,icon:al,bg:"bg-indigo-50",color:"text-indigo-600",border:"border-indigo-100"},{label:"Completed",value:u.completed,icon:al,bg:"bg-green-50",color:"text-green-600",border:"border-green-100"},{label:"Cancelled",value:u.cancelled,icon:al,bg:"bg-red-50",color:"text-red-600",border:"border-red-100"}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-6 md:p-8",children:[e.jsxs("div",{className:"mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(al,{size:28})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Booking Report"}),e.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Analyze class and personal training booking performance"})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs("button",{onClick:R,className:"bg-white border border-gray-200 hover:bg-gray-50 text-gray-700 flex items-center gap-2 shadow-sm hover:shadow-md transition-all rounded-xl px-4 py-2.5 text-sm font-semibold",children:[e.jsx(Qs,{size:16,className:"text-gray-500"})," Export CSV"]}),e.jsxs("button",{onClick:B,className:"bg-white border border-gray-200 hover:bg-gray-50 text-gray-700 flex items-center gap-2 shadow-sm hover:shadow-md transition-all rounded-xl px-4 py-2.5 text-sm font-semibold",children:[e.jsx(Va,{size:16,className:"text-gray-500"})," Export PDF"]}),e.jsx("button",{onClick:()=>k(!w),className:`p-2.5 border rounded-xl hover:bg-gray-50 transition-all ${w?"bg-violet-50 border-violet-200 ring-2 ring-violet-100 text-violet-600":"bg-white border-gray-200 text-gray-500"}`,children:e.jsx(ks,{size:18})})]})]})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:G.map((W,le)=>e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-xl border border-slate-100 flex items-center gap-4 hover:shadow-2xl hover:border-violet-200 transition-all duration-300 transform hover:-translate-y-1 hover:scale-105 group cursor-pointer",children:[e.jsx("div",{className:`p-4 rounded-xl ${W.bg} ${W.color} group-hover:scale-125 group-hover:rotate-6 transition-all duration-500 shadow-md`,children:e.jsx(W.icon,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1",children:W.label}),e.jsx("p",{className:"text-3xl font-black text-gray-900 leading-none",children:p?e.jsx("span",{className:"text-lg text-gray-300",children:"..."}):W.value})]})]},le))}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 hover:shadow-2xl hover:border-violet-200 transition-all duration-300",style:{overflow:"visible",zIndex:10,position:"relative"},children:[w&&e.jsx("div",{className:"p-6 border-b border-slate-100 hover:bg-violet-50/20 transition-colors duration-300",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between",children:[e.jsxs("div",{className:"flex flex-wrap gap-4 w-full md:w-auto",children:[e.jsx("div",{className:"w-full md:w-48",children:e.jsx(dy,{options:["All","Today","This Week","This Month"],value:t,onChange:W=>{s(W),g(1)},placeholder:"All Time",icon:Ve})}),e.jsx("div",{className:"w-full md:w-48",children:e.jsx(dy,{options:["All","Upcoming","Completed","Cancelled"],value:a,onChange:W=>{l(W),g(1)},placeholder:"All Status",icon:Bo})})]}),e.jsxs("div",{className:"relative w-full md:w-72 group",children:[e.jsx(tt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-hover:text-violet-500 group-hover:scale-110 transition-all duration-300",size:18}),e.jsx("input",{type:"text",placeholder:"Search by member or class...",className:"pl-11 h-11 w-full rounded-xl border-2 border-slate-200 focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 text-sm bg-white hover:border-slate-300 hover:shadow-sm transition-all",value:i,onChange:W=>{o(W.target.value),g(1)}})]})]})}),e.jsx("div",{className:"saas-table-wrapper",children:e.jsxs("table",{className:"saas-table saas-table-responsive",children:[e.jsx("thead",{className:"bg-gradient-to-r from-violet-50 via-purple-50 to-fuchsia-50 border-b-2 border-violet-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider",children:"Booking ID"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider",children:"Member"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider",children:"Booking Type"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider",children:"Trainer"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider",children:"Date / Time"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:p?e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-2 text-violet-600",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-violet-600 border-t-transparent rounded-full animate-spin"}),e.jsx("span",{className:"text-sm font-medium",children:"Generating report..."})]})})}):d.length>0?d.map(W=>e.jsxs("tr",{className:"hover:bg-gradient-to-r hover:from-violet-50/50 hover:to-purple-50/30 transition-colors duration-200 group",children:[e.jsx("td",{className:"px-6 py-4","data-label":"Booking ID",children:e.jsxs("span",{className:"text-xs font-mono text-indigo-600 font-bold bg-indigo-50 px-2 py-1 rounded-md",children:["#",W.id]})}),e.jsx("td",{className:"px-6 py-4","data-label":"Member",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center font-bold text-xs",children:(W.memberName||"U").charAt(0).toUpperCase()}),e.jsx("p",{className:"text-sm font-bold text-gray-800",children:W.memberName||"Unknown"})]})}),e.jsx("td",{className:"px-6 py-4","data-label":"Booking Type",children:e.jsx("span",{className:"text-sm font-medium text-gray-700",children:W.classType||"N/A"})}),e.jsx("td",{className:"px-6 py-4","data-label":"Trainer",children:e.jsx("span",{className:"text-sm text-gray-600 font-medium",children:W.trainerName||"Unassigned"})}),e.jsx("td",{className:"px-6 py-4","data-label":"Date / Time",children:e.jsxs("div",{className:"text-sm text-gray-700",children:[e.jsx("div",{className:"font-semibold",children:W.date||"-"}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-400 mt-0.5",children:[e.jsx(Qe,{size:11}),W.time||"-"]})]})}),e.jsx("td",{className:"px-6 py-4","data-label":"Status",children:e.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-bold border transform transition-transform hover:scale-105 inline-block ${H(W.status)}`,children:W.status||"Pending"})}),e.jsx("td",{className:"px-6 py-4 text-right","data-label":"Actions",children:e.jsxs("div",{className:"flex items-center justify-end gap-1 opacity-0 group-hover:opacity-100 transition-all duration-200 transform translate-x-2 group-hover:translate-x-0",children:[e.jsx("button",{onClick:()=>q(W),className:"p-2 text-gray-400 hover:text-violet-600 hover:bg-violet-50 rounded-lg transition-all hover:scale-110 duration-300",title:"View Details",children:e.jsx(qs,{size:16})}),e.jsx("button",{onClick:()=>T(W.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",title:"Cancel Booking",children:e.jsx(ms,{size:16})})]})})]},W.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"px-6 py-12 text-center text-gray-400 text-sm",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("div",{className:"p-3 bg-gray-50 rounded-full",children:e.jsx(ks,{size:20,className:"text-gray-300"})}),e.jsx("p",{children:"No bookings found for the selected filters."})]})})})})]})}),!p&&j>0&&e.jsxs("div",{className:"px-6 py-4 bg-gray-50/50 border-t border-gray-100 flex justify-between items-center",children:[e.jsxs("span",{className:"text-xs font-medium text-gray-500",children:["Showing ",e.jsx("span",{className:"font-bold text-gray-900",children:(b-1)*_+1})," - ",e.jsx("span",{className:"font-bold text-gray-900",children:Math.min(b*_,j)})," of ",e.jsx("span",{className:"font-bold text-gray-900",children:j})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>g(W=>Math.max(W-1,1)),disabled:b===1,className:"w-9 h-9 flex items-center justify-center border border-gray-200 rounded-xl bg-white hover:bg-gray-50 text-gray-600 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm transition-all hover:-translate-y-0.5","aria-label":"Previous Page",children:e.jsx(Gr,{size:18})}),e.jsx("button",{onClick:()=>g(W=>Math.min(W+1,Math.ceil(j/_))),disabled:b===Math.ceil(j/_),className:"w-9 h-9 flex items-center justify-center border border-gray-200 rounded-xl bg-white hover:bg-gray-50 text-gray-600 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm transition-all hover:-translate-y-0.5","aria-label":"Next Page",children:e.jsx(js,{size:18})})]})]})]}),e.jsx(rt,{isOpen:N,onClose:()=>P(!1),title:"Booking Details",subtitle:"Class and session information",width:"500px",children:C&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col items-center py-6 bg-slate-50 rounded-2xl border border-slate-100",children:[e.jsx("div",{className:"h-20 w-20 rounded-full bg-indigo-100 text-indigo-700 flex items-center justify-center font-black text-2xl mb-3 shadow-lg ring-4 ring-indigo-50 ring-offset-4",children:(C.memberName||"U").charAt(0).toUpperCase()}),e.jsx("h4",{className:"text-xl font-bold text-gray-900",children:C.memberName||"Unknown Member"}),e.jsx("span",{className:"text-[10px] font-black px-3 py-1 rounded-full mt-2 uppercase tracking-widest bg-indigo-50 text-indigo-600 border border-indigo-100",children:C.classType||"Booking"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-white rounded-xl border border-slate-100 shadow-sm",children:[e.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1 flex items-center gap-1.5",children:[e.jsx(lt,{size:12})," Trainer"]}),e.jsx("p",{className:"text-sm font-bold text-gray-900 truncate",children:C.trainerName||"Unassigned"})]}),e.jsxs("div",{className:"p-4 bg-white rounded-xl border border-slate-100 shadow-sm",children:[e.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1 flex items-center gap-1.5",children:[e.jsx(Qe,{size:12})," Time Slot"]}),e.jsx("p",{className:"text-lg font-black text-slate-800",children:C.time||"-"})]}),e.jsxs("div",{className:"p-4 bg-white rounded-xl border border-slate-100 shadow-sm",children:[e.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1 flex items-center gap-1.5",children:[e.jsx($t,{size:12})," Status"]}),e.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded-full border ${H(C.status)}`,children:C.status||"Pending"})]}),e.jsxs("div",{className:"p-4 bg-white rounded-xl border border-slate-100 shadow-sm",children:[e.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1 flex items-center gap-1.5",children:[e.jsx($s,{size:12})," Booking ID"]}),e.jsxs("p",{className:"text-sm font-bold text-indigo-600",children:["#",C.id]})]})]}),e.jsxs("div",{className:"mt-6 p-4 bg-indigo-50/50 rounded-xl border border-indigo-100 flex gap-3 text-sm text-indigo-900",children:[e.jsx("div",{className:"p-1 bg-white rounded-lg h-fit border border-indigo-200",children:e.jsx(Ve,{size:14,className:"text-indigo-600"})}),e.jsxs("p",{children:["Scheduled for ",e.jsx("span",{className:"font-bold",children:C.date||"N/A"})," at ",e.jsx("span",{className:"font-bold",children:C.time||"N/A"}),"."]})]}),e.jsx("button",{onClick:()=>P(!1),className:"w-full py-3 bg-slate-900 text-white rounded-xl text-xs font-black uppercase tracking-widest hover:bg-slate-800 transition-all mt-6 shadow-lg shadow-slate-200",children:"Close Details"})]})})]})},uy=()=>{const[t,s]=v.useState(null),[a,l]=v.useState(!0),[i,o]=v.useState("personal"),[d,x]=v.useState(!1),[u,h]=v.useState({type:"",text:""}),[p,f]=v.useState({name:"",email:"",phone:"",address:""}),[b,g]=v.useState(!1),[j,A]=v.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[w,k]=v.useState(""),[C,L]=v.useState(!1),[N,P]=v.useState({current:!1,new:!1,confirm:!1});v.useEffect(()=>{_()},[]);const _=async()=>{try{l(!0);const q=await o9();s(q),f({name:q.name,email:q.email,phone:q.phone,address:q.address||""})}catch(q){console.error("Error loading profile:",q),h({type:"error",text:"Failed to load profile data."})}finally{l(!1)}},F=q=>{const{name:H,value:G}=q.target;f(W=>({...W,[H]:G}))},R=async q=>{q.preventDefault(),x(!0),h({type:"",text:""});try{const H=await c9(p);s(H),h({type:"success",text:"Profile updated successfully!"})}catch{h({type:"error",text:"Failed to update profile."})}finally{x(!1)}},B=async q=>{if(q.preventDefault(),k(""),j.newPassword!==j.confirmPassword){k("New passwords do not match");return}if(j.newPassword.length<6){k("Password must be at least 6 characters");return}L(!0);try{await d9({currentPassword:j.currentPassword,newPassword:j.newPassword}),h({type:"success",text:"Password changed successfully!"}),g(!1),A({currentPassword:"",newPassword:"",confirmPassword:""})}catch(H){k(H.response?.data?.message||"Failed to change password")}finally{L(!1)}};if(a)return e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh]",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-violet-600 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"mt-4 text-gray-500 font-medium",children:"Loading profile..."})]});if(!t)return e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] gap-4",children:[e.jsx("div",{className:"w-16 h-16 bg-red-50 rounded-full flex items-center justify-center",children:e.jsx(Ca,{size:32,className:"text-red-400"})}),e.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Could Not Load Profile"}),e.jsx("p",{className:"text-slate-500 text-sm max-w-xs text-center",children:u.text||"There was an error fetching your profile. Please try refreshing the page."}),e.jsx("button",{onClick:_,className:"px-6 py-2.5 bg-violet-600 text-white rounded-xl text-sm font-bold hover:bg-violet-700 transition-all",children:"Retry"})]});const T=[{id:"personal",label:"Personal Info",icon:lt},{id:"security",label:"Security",icon:Ca},{id:"notifications",label:"Notifications",icon:wl}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-6 md:p-8",children:[e.jsxs("div",{className:"max-w-5xl mx-auto space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-xl overflow-hidden hover:shadow-2xl hover:border-violet-200 transition-all duration-300",children:[e.jsx("div",{className:"h-32 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 relative",children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 opacity-50 blur-2xl"})}),e.jsx("div",{className:"px-8 pb-8",children:e.jsxs("div",{className:"relative flex flex-col md:flex-row md:items-end gap-6 -mt-12",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"w-32 h-32 rounded-3xl bg-white p-2 shadow-xl ring-4 ring-violet-100",children:e.jsx("div",{className:"w-full h-full rounded-2xl bg-gradient-to-br from-violet-600 to-purple-600 flex items-center justify-center text-white text-5xl font-black",children:t.avatar})}),e.jsx("button",{className:"absolute bottom-2 right-2 p-2.5 bg-white rounded-xl shadow-lg border border-violet-100 text-violet-600 hover:scale-110 hover:rotate-6 active:scale-95 transition-all duration-300",children:e.jsx(qo,{size:18})})]}),e.jsxs("div",{className:"flex-1 pb-2",children:[e.jsx("h1",{className:"text-3xl font-black text-gray-900 tracking-tight",children:t.name}),e.jsxs("div",{className:"flex flex-wrap gap-4 mt-2",children:[e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full bg-gradient-to-r from-violet-50 to-purple-50 text-violet-700 text-xs font-bold border border-violet-200",children:t.role.replace("_"," ")}),e.jsxs("span",{className:"inline-flex items-center gap-1.5 text-xs text-gray-500 font-bold uppercase",children:[e.jsx($t,{size:14,className:"text-green-500"})," ",t.status]}),e.jsxs("span",{className:"inline-flex items-center gap-1.5 text-xs text-gray-500 font-bold uppercase",children:[e.jsx(Ve,{size:14,className:"text-blue-400"})," Joined ",t.joinedDate]})]})]}),e.jsxs("button",{className:"md:mb-2 px-6 py-3 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-2xl text-sm font-black shadow-xl shadow-violet-500/50 hover:shadow-2xl hover:shadow-violet-500/60 hover:scale-[1.02] active:scale-95 transition-all flex items-center gap-2",children:[e.jsx(Xt,{size:18})," Manager Account"]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsx("div",{className:"lg:col-span-1 space-y-2",children:T.map(q=>e.jsxs("button",{onClick:()=>o(q.id),className:`w-full flex items-center gap-3 px-6 py-4 rounded-2xl text-sm font-bold transition-all duration-300 ${i===q.id?"bg-gradient-to-r from-violet-600 to-purple-600 text-white shadow-xl shadow-violet-500/50":"text-gray-500 hover:bg-white border border-transparent hover:border-violet-100 hover:text-violet-600 hover:shadow-md"}`,children:[e.jsx(q.icon,{size:18}),q.label]},q.id))}),e.jsx("div",{className:"lg:col-span-3",children:e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-xl p-8 hover:shadow-2xl hover:border-violet-200 transition-all duration-300",children:[u.text&&e.jsxs("div",{className:`mb-8 p-4 rounded-2xl flex items-center gap-3 text-sm font-bold ${u.type==="success"?"bg-green-50 text-green-700 border border-green-100":"bg-red-50 text-red-700 border border-red-100"}`,children:[e.jsx($t,{size:18})," ",u.text]}),i==="personal"&&e.jsxs("form",{onSubmit:R,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"Full Name"}),e.jsxs("div",{className:"relative",children:[e.jsx(lt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{type:"text",name:"name",value:p.name,onChange:F,className:"w-full pl-12 h-12 bg-white border-2 border-slate-200 rounded-xl focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 transition-all hover:border-slate-300",placeholder:"Enter your name"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(Wr,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{type:"email",name:"email",value:p.email,onChange:F,className:"w-full pl-12 h-12 bg-white border-2 border-slate-200 rounded-xl focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 transition-all hover:border-slate-300",placeholder:"Enter your email"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"Phone Number"}),e.jsxs("div",{className:"relative",children:[e.jsx(Hs,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{type:"text",name:"phone",value:p.phone,onChange:F,className:"w-full pl-12 h-12 bg-white border-2 border-slate-200 rounded-xl focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 transition-all hover:border-slate-300",placeholder:"Enter phone number"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"Location"}),e.jsxs("div",{className:"relative",children:[e.jsx($s,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{type:"text",name:"address",value:p.address,onChange:F,className:"w-full pl-12 h-12 bg-white border-2 border-slate-200 rounded-xl focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 transition-all hover:border-slate-300",placeholder:"Enter city, country"})]})]})]}),e.jsx("div",{className:"pt-6 border-t border-gray-50",children:e.jsxs("button",{type:"submit",disabled:d,className:"px-8 py-3.5 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-2xl text-sm font-black shadow-xl shadow-violet-500/50 hover:shadow-2xl hover:shadow-violet-500/60 hover:scale-[1.02] active:scale-95 transition-all flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[d?e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):e.jsx(Xt,{size:18}),"Save Profile Changes"]})})]}),i==="security"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"p-6 rounded-[28px] bg-red-50/30 border border-red-100/50",children:[e.jsxs("h4",{className:"text-red-700 font-bold flex items-center gap-2",children:[e.jsx(Rs,{size:18})," Password Management"]}),e.jsx("p",{className:"text-red-600/70 text-sm mt-1 font-medium",children:"It's recommended to update your password every 90 days for maximum security."}),e.jsx("button",{onClick:()=>g(!0),className:"mt-6 px-6 py-2.5 bg-red-600 text-white rounded-xl text-xs font-bold hover:bg-red-700 active:scale-95 transition-all",children:"Change Password"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-sm font-black text-gray-900 uppercase tracking-widest px-1",children:"Account Security"}),e.jsx("div",{className:"p-6 rounded-[28px] border border-gray-100 bg-gray-50/30 space-y-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-gray-800",children:"Two-Factor Authentication"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Add an extra layer of security to your account."})]}),e.jsx("div",{className:"w-12 h-6 bg-green-500 rounded-full relative",children:e.jsx("div",{className:"absolute right-1 top-1 w-4 h-4 bg-white rounded-full"})})]})})]})]}),i==="notifications"&&e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-50 rounded-full flex items-center justify-center text-gray-300 mb-4",children:e.jsx(wl,{size:40})}),e.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Notification Preferences"}),e.jsx("p",{className:"text-gray-500 max-w-xs mt-2 font-medium",children:"Customize how you receive alerts and system updates."})]})]})})]})]}),b&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:e.jsx("div",{className:"bg-white rounded-[32px] w-full max-w-md shadow-2xl border border-white/20 overflow-hidden animate-in zoom-in-95 duration-300",children:e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-red-50 flex items-center justify-center text-red-600",children:e.jsx(Rs,{size:24,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-black text-slate-800",children:"Change Password"}),e.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Secure your account"})]})]}),e.jsx("button",{onClick:()=>g(!1),className:"p-2 hover:bg-slate-100 rounded-xl transition-colors text-slate-400",children:e.jsx(Vr,{size:20})})]}),e.jsxs("form",{onSubmit:B,className:"space-y-5",children:[w&&e.jsxs("div",{className:"p-4 bg-red-50 text-red-700 rounded-2xl text-xs font-bold border border-red-100 flex items-center gap-2",children:[e.jsx($t,{size:14})," ",w]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"Current Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Rs,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{type:N.current?"text":"password",required:!0,value:j.currentPassword,onChange:q=>A({...j,currentPassword:q.target.value}),className:"w-full pl-12 pr-12 h-12 bg-slate-50 border-2 border-transparent rounded-xl focus:bg-white focus:border-violet-500 transition-all font-medium",placeholder:""}),e.jsx("button",{type:"button",onClick:()=>P({...N,current:!N.current}),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-violet-600",children:N.current?e.jsx(Dh,{size:18}):e.jsx(qs,{size:18})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ca,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{type:N.new?"text":"password",required:!0,value:j.newPassword,onChange:q=>A({...j,newPassword:q.target.value}),className:"w-full pl-12 pr-12 h-12 bg-slate-50 border-2 border-transparent rounded-xl focus:bg-white focus:border-violet-500 transition-all font-medium",placeholder:""}),e.jsx("button",{type:"button",onClick:()=>P({...N,new:!N.new}),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-violet-600",children:N.new?e.jsx(Dh,{size:18}):e.jsx(qs,{size:18})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"Confirm New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Xt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{type:N.confirm?"text":"password",required:!0,value:j.confirmPassword,onChange:q=>A({...j,confirmPassword:q.target.value}),className:"w-full pl-12 pr-12 h-12 bg-slate-50 border-2 border-transparent rounded-xl focus:bg-white focus:border-violet-500 transition-all font-medium",placeholder:""}),e.jsx("button",{type:"button",onClick:()=>P({...N,confirm:!N.confirm}),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-violet-600",children:N.confirm?e.jsx(Dh,{size:18}):e.jsx(qs,{size:18})})]})]}),e.jsxs("div",{className:"pt-4 flex gap-3",children:[e.jsx("button",{type:"button",onClick:()=>g(!1),className:"flex-1 px-6 py-3 border-2 border-slate-100 text-slate-600 rounded-2xl text-sm font-bold hover:bg-slate-50 transition-all",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:C,className:"flex-3 px-8 py-3 bg-gradient-to-r from-red-600 to-rose-600 text-white rounded-2xl text-sm font-black shadow-xl shadow-red-500/30 hover:shadow-2xl hover:shadow-red-500/40 hover:scale-[1.02] active:scale-95 transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:C?e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):"Update Password"})]})]})]})})})]})},hy=()=>{const[t,s]=v.useState([]),[a,l]=v.useState({currentlyIn:0}),[i,o]=v.useState(!0);v.useEffect(()=>{d();const u=setInterval(d,3e4);return()=>clearInterval(u)},[]);const d=async()=>{const[u,h]=await Promise.all([Ag({limit:10}),f9()]);s(u.data),l(h),o(!1)},x=u=>u==="checked-in"?e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-xl bg-gradient-to-r from-emerald-500 to-emerald-600 text-white text-xs font-black shadow-lg shadow-emerald-500/50 hover:shadow-xl hover:scale-110 transition-all duration-300 cursor-pointer",children:[e.jsxs("span",{className:"relative flex h-2 w-2",children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-white opacity-75"}),e.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-white"})]}),"Checked In"]}):e.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-xl bg-gradient-to-r from-slate-400 to-slate-500 text-white text-xs font-black shadow-lg hover:scale-110 transition-all duration-300 cursor-pointer",children:"Checked Out"});return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6 flex-shrink-0",children:e.jsx($t,{size:24,className:"sm:w-7 sm:h-7",strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Live Monitor"}),e.jsx("span",{className:"px-2 py-0.5 bg-gradient-to-r from-violet-500 to-purple-600 text-white text-[10px] font-black rounded-md shadow-sm animate-pulse whitespace-nowrap",children:"PREMIUM "})]}),e.jsx("p",{className:"text-slate-600 text-xs sm:text-sm mt-1",children:"Real-time gym entry and exit logs"})]})]}),e.jsxs("div",{className:"group relative bg-gradient-to-br from-emerald-500 to-emerald-600 px-5 sm:px-6 py-4 rounded-2xl shadow-xl shadow-emerald-500/50 hover:shadow-2xl hover:shadow-emerald-500/60 hover:scale-105 transition-all duration-300 cursor-pointer overflow-hidden w-full lg:w-auto",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative z-10 flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center text-white transition-all duration-300 group-hover:scale-110 group-hover:rotate-12",children:e.jsx(_t,{size:20,className:"sm:w-6 sm:h-6",strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsx("span",{className:"block text-[10px] sm:text-xs text-white/80 font-bold uppercase tracking-wider",children:"Currently In"}),e.jsx("span",{className:"block text-2xl sm:text-3xl font-black text-white",children:a.currentlyIn})]})]})]})]})})]}),e.jsxs("div",{className:"group relative bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden hover:shadow-2xl hover:border-violet-200 transition-all duration-500 transform hover:-translate-y-1",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50/30 to-purple-50/30 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"p-4 sm:p-6 border-b border-slate-100 bg-slate-50/50 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-violet-100 to-purple-100 flex items-center justify-center text-violet-600 shadow-md transition-all duration-300 group-hover:scale-110 group-hover:rotate-6",children:e.jsx(Qe,{size:20,strokeWidth:2.5})}),e.jsx("h2",{className:"text-base sm:text-lg font-black text-slate-900 uppercase tracking-wider",children:"Latest Activity"})]}),e.jsxs("span",{className:"flex items-center gap-2 text-[10px] sm:text-xs font-black uppercase tracking-widest bg-gradient-to-r from-emerald-500 to-emerald-600 text-white px-3 sm:px-4 py-1.5 sm:py-2 rounded-xl shadow-lg shadow-emerald-500/50 hover:shadow-xl hover:scale-105 transition-all duration-300 cursor-pointer w-full sm:w-auto justify-center",children:[e.jsxs("span",{className:"relative flex h-2 w-2",children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-white opacity-75"}),e.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-white"})]}),"Live Feed"]})]}),e.jsx("div",{className:"hidden md:block overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left text-sm",children:[e.jsx("thead",{className:"bg-white border-b border-slate-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Name"}),e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Type"}),e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Time"}),e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Status"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:i?e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"px-6 py-12 text-center text-sm text-slate-400",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-violet-600"}),e.jsx("span",{className:"font-semibold",children:"Monitoring live feed..."})]})})}):t.length>0?t.map(u=>e.jsxs("tr",{className:"group/row hover:bg-gradient-to-r hover:from-violet-50/50 hover:to-purple-50/50 transition-all duration-300 cursor-pointer hover:shadow-md",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-11 h-11 rounded-xl bg-gradient-to-br from-slate-100 to-slate-200 text-slate-600 flex items-center justify-center font-bold text-sm shadow-md transition-all duration-500 group-hover/row:scale-125 group-hover/row:bg-gradient-to-br group-hover/row:from-violet-500 group-hover/row:to-purple-600 group-hover/row:text-white group-hover/row:shadow-xl group-hover/row:rotate-6",children:u.avatar||(u.name||"?").charAt(0)}),e.jsx("span",{className:"font-bold text-slate-700 group-hover/row:text-violet-700 group-hover/row:translate-x-1 transition-all duration-300",children:u.name})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`text-xs font-black uppercase tracking-widest px-3 py-1.5 rounded-xl border shadow-sm transition-all duration-300 inline-block group-hover/row:scale-110 group-hover/row:shadow-lg ${u.type==="Member"?"bg-gradient-to-r from-blue-500 to-blue-600 text-white border-blue-300 shadow-blue-500/50":u.type==="Staff"?"bg-gradient-to-r from-purple-500 to-purple-600 text-white border-purple-300 shadow-purple-500/50":"bg-gradient-to-r from-orange-500 to-orange-600 text-white border-orange-300 shadow-orange-500/50"}`,children:u.type})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2 text-slate-500 font-semibold font-mono text-xs group-hover/row:text-violet-600 transition-colors duration-300",children:[e.jsx(Qe,{size:14,className:"text-slate-300 group-hover/row:text-violet-400 group-hover/row:rotate-12 transition-all duration-300"}),e.jsx("span",{className:"group-hover/row:scale-105 inline-block transition-transform duration-300",children:u.time})]})}),e.jsx("td",{className:"px-6 py-4",children:x(u.status)})]},u.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"px-6 py-12 text-center text-sm text-slate-400",children:"No activity recorded today."})})})]})}),e.jsx("div",{className:"md:hidden p-4 space-y-4",children:i?e.jsx("div",{className:"py-12 text-center text-sm text-slate-400",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-violet-600"}),e.jsx("span",{className:"font-semibold text-violet-600",children:"Monitoring live feed..."})]})}):t.length>0?t.map(u=>e.jsx(Ya,{title:u.name,subtitle:u.type,badge:u.status==="checked-in"?"Checked In":"Checked Out",badgeColor:u.status==="checked-in"?"emerald":"slate",fields:[{label:"Time",value:u.time,icon:Qe}]},u.id)):e.jsx("div",{className:"py-8 text-center text-sm text-slate-500 bg-white rounded-xl border border-slate-100",children:"No activity recorded today."})})]})]})]})},WM=()=>{const[t,s]=v.useState(""),[a,l]=v.useState(""),[i,o]=v.useState(new Date().toISOString().split("T")[0]),[d,x]=v.useState([]),[u,h]=v.useState(!0),[p,f]=v.useState(1),[b,g]=v.useState(0),[j,A]=v.useState(!1),w=5;v.useEffect(()=>{k()},[t,a,i,p]);const k=async()=>{h(!0);const P=await Ag({filters:{search:t,status:a==="All"?"":a==="Checked Out"?"checked-out":a==="On Time"?"checked-in":a,date:i,type:"Member"},page:p,limit:w});x(P?.data||[]),g(P?.total||0),h(!1)},C=()=>{Pg(d,"MemberAttendanceLog")},L=N=>{switch(N){case"On Time":case"checked-in":case"Present":return e.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-xl bg-gradient-to-r from-emerald-500 to-emerald-600 text-white text-xs font-black shadow-lg shadow-emerald-500/50 hover:scale-110 hover:shadow-xl transition-all duration-300 cursor-pointer",children:"On Time"});case"Late":return e.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-xl bg-gradient-to-r from-amber-500 to-orange-600 text-white text-xs font-black shadow-lg shadow-amber-500/50 hover:scale-110 hover:shadow-xl transition-all duration-300 cursor-pointer",children:"Late"});case"Absent":return e.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-xl bg-gradient-to-r from-red-500 to-red-600 text-white text-xs font-black shadow-lg shadow-red-500/50 hover:scale-110 hover:shadow-xl transition-all duration-300 cursor-pointer",children:"Absent"});case"checked-out":case"Checked Out":return e.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-xl bg-gradient-to-r from-blue-500 to-indigo-600 text-white text-xs font-black shadow-lg shadow-blue-500/50 hover:scale-110 hover:shadow-xl transition-all duration-300 cursor-pointer",children:"Checked Out"});default:return e.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-xl bg-gradient-to-r from-slate-400 to-slate-500 text-white text-xs font-black shadow-lg hover:scale-110 transition-all duration-300 cursor-pointer",children:N})}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6 flex-shrink-0",children:e.jsx($t,{size:24,className:"sm:w-7 sm:h-7",strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Member Attendance"}),e.jsx("span",{className:"px-2 py-0.5 bg-gradient-to-r from-violet-500 to-purple-600 text-white text-[10px] font-black rounded-md shadow-sm animate-pulse whitespace-nowrap",children:"PREMIUM "})]}),e.jsx("p",{className:"text-slate-600 text-xs sm:text-sm mt-1",children:"Monitor member visits and class attendance"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3",children:[e.jsxs("button",{onClick:C,className:"group flex items-center justify-center gap-2 px-5 py-3 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-xl text-sm font-bold shadow-xl shadow-violet-500/50 hover:shadow-2xl hover:shadow-violet-500/60 hover:scale-105 transition-all",children:[e.jsx(Qs,{size:18,strokeWidth:2.5,className:"transition-all duration-300 group-hover:scale-110 group-hover:-translate-y-0.5"}),"Export Report"]}),e.jsxs("button",{onClick:()=>A(!j),className:`group flex items-center justify-center gap-2 px-5 py-3 rounded-xl text-sm font-bold shadow-lg hover:shadow-xl hover:scale-105 transition-all ${j?"bg-gradient-to-r from-violet-500 to-purple-600 text-white shadow-violet-500/50":"bg-white border-2 border-slate-200 text-slate-700 hover:border-violet-300"}`,children:[e.jsx(ks,{size:18,strokeWidth:2.5,className:`transition-all duration-300 ${j?"rotate-180":""}`}),"Filter"]})]})]})})]}),j&&e.jsxs("div",{className:"group relative bg-white rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6 mb-6 overflow-visible hover:shadow-2xl transition-all duration-300",style:{zIndex:50},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50/30 to-purple-50/30 opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-2xl"}),e.jsxs("div",{className:"relative z-10 grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6",children:[e.jsxs("div",{className:"relative group/input",children:[e.jsx(tt,{size:18,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 group-hover/input:text-violet-600 transition-colors duration-300",strokeWidth:2.5}),e.jsx("input",{type:"text",placeholder:"Search member name...",className:"w-full pl-11 pr-4 py-3 border-2 border-slate-200 rounded-xl focus:border-violet-500 focus:ring-2 focus:ring-violet-200 hover:border-violet-300 transition-all duration-300 font-semibold text-sm",value:t,onChange:N=>{s(N.target.value),f(1)}})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:col-span-2",children:[e.jsx("div",{className:"w-full sm:w-auto hover:scale-105 transition-transform duration-300",children:e.jsx(us,{options:["All","On Time","Checked Out","Absent","Late"],value:a,onChange:N=>{l(N),f(1)},placeholder:"All Status",icon:ks,className:"w-full sm:w-40"})}),e.jsxs("div",{className:"relative group/input w-full sm:w-auto",children:[e.jsx("input",{type:"date",className:"w-full px-4 py-3 border-2 border-slate-200 rounded-xl focus:border-violet-500 focus:ring-2 focus:ring-violet-200 hover:border-violet-300 transition-all duration-300 font-semibold text-sm",value:i,onChange:N=>{o(N.target.value),f(1)}}),e.jsx(Ve,{size:16,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 pointer-events-none group-hover/input:text-violet-600 transition-colors duration-300",strokeWidth:2.5})]})]})]})]}),e.jsxs("div",{className:"group relative bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden hover:shadow-2xl hover:border-violet-200 transition-all duration-500 transform hover:-translate-y-1",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50/30 to-purple-50/30 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"hidden md:block overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left text-sm",children:[e.jsx("thead",{className:"bg-slate-50/50 border-b border-slate-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Member Name"}),e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Membership ID"}),e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Plan"}),e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Check-In"}),e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Check-Out"}),e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Status"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:u?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-12 text-center text-sm text-slate-400",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-violet-600"}),e.jsx("span",{className:"font-semibold",children:"Loading member attendance..."})]})})}):d.length>0?d.map(N=>e.jsxs("tr",{className:"group/row hover:bg-gradient-to-r hover:from-violet-50/50 hover:to-purple-50/50 transition-all duration-300 cursor-pointer hover:shadow-md",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-violet-100 to-purple-100 text-violet-600 flex items-center justify-center shadow-md transition-all duration-500 group-hover/row:scale-125 group-hover/row:bg-gradient-to-br group-hover/row:from-violet-500 group-hover/row:to-purple-600 group-hover/row:text-white group-hover/row:shadow-xl group-hover/row:rotate-6",children:e.jsx(lt,{size:18,strokeWidth:2.5})}),e.jsx("span",{className:"font-bold text-slate-800 group-hover/row:text-violet-700 group-hover/row:translate-x-1 transition-all duration-300",children:N.name})]})}),e.jsx("td",{className:"px-6 py-4 text-slate-600 text-sm font-mono font-semibold group-hover/row:text-violet-600 transition-colors duration-300",children:N.membershipId||String(N.id||"").substring(0,8).toUpperCase()}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-lg text-xs font-bold bg-slate-100 text-slate-700 group-hover/row:bg-gradient-to-r group-hover/row:from-violet-100 group-hover/row:to-purple-100 group-hover/row:text-violet-700 group-hover/row:scale-110 transition-all duration-300",children:N.plan||"Standard"})}),e.jsx("td",{className:"px-6 py-4 text-slate-700 text-sm font-semibold group-hover/row:text-violet-600 transition-colors duration-300",children:N.time||N.checkIn}),e.jsx("td",{className:"px-6 py-4 text-slate-700 text-sm font-semibold group-hover/row:text-violet-600 transition-colors duration-300",children:N.checkOut||"-"}),e.jsx("td",{className:"px-6 py-4",children:L(N.status)})]},N.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-12 text-center text-sm text-slate-400",children:"No member attendance logs found for this date."})})})]})}),e.jsx("div",{className:"md:hidden p-4 space-y-4",children:u?e.jsx("div",{className:"py-12 text-center text-sm text-slate-400",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-violet-600"}),e.jsx("span",{className:"font-semibold text-violet-600",children:"Loading data..."})]})}):d.length>0?d.map(N=>e.jsx(Ya,{title:N.name,subtitle:N.membershipId||String(N.id||"").substring(0,8).toUpperCase(),badge:N.status,badgeColor:N.status==="On Time"||N.status==="checked-in"?"emerald":N.status==="Late"?"amber":N.status==="Absent"?"rose":"blue",fields:[{label:"Plan",value:N.plan||"Standard"},{label:"Check-In",value:N.time||N.checkIn,icon:Qe},{label:"Check-Out",value:N.checkOut||"-",icon:Qe}]},N.id)):e.jsx("div",{className:"py-8 text-center text-sm text-slate-500 bg-white rounded-xl border border-slate-100",children:"No records found."})})]}),!u&&b>0&&e.jsxs("div",{className:"px-4 sm:px-6 py-4 bg-slate-50/50 border-t border-slate-100 flex flex-col sm:flex-row justify-between items-center gap-4",children:[e.jsxs("span",{className:"text-xs sm:text-sm text-slate-600 font-semibold text-center sm:text-left",children:["Showing ",e.jsx("span",{className:"font-black text-slate-900",children:(p-1)*w+1})," to ",e.jsx("span",{className:"font-black text-slate-900",children:Math.min(p*w,b)})," of ",e.jsx("span",{className:"font-black text-slate-900",children:b})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>f(N=>Math.max(N-1,1)),disabled:p===1,className:"group p-3 border-2 border-slate-200 rounded-xl hover:bg-gradient-to-r hover:from-violet-500 hover:to-purple-600 hover:text-white hover:border-transparent hover:scale-110 disabled:opacity-50 disabled:hover:scale-100 disabled:hover:bg-transparent disabled:hover:text-slate-400 transition-all duration-300 shadow-sm hover:shadow-lg",children:e.jsx(Gr,{size:18,strokeWidth:2.5,className:"group-hover:-translate-x-0.5 transition-transform duration-300"})}),e.jsx("button",{onClick:()=>f(N=>Math.min(N+1,Math.ceil(b/w))),disabled:p===Math.ceil(b/w),className:"group p-3 border-2 border-slate-200 rounded-xl hover:bg-gradient-to-r hover:from-violet-500 hover:to-purple-600 hover:text-white hover:border-transparent hover:scale-110 disabled:opacity-50 disabled:hover:scale-100 disabled:hover:bg-transparent disabled:hover:text-slate-400 transition-all duration-300 shadow-sm hover:shadow-lg",children:e.jsx(js,{size:18,strokeWidth:2.5,className:"group-hover:translate-x-0.5 transition-transform duration-300"})})]})]})]})]})},GM=({isOpen:t,onClose:s,onSuccess:a})=>{const[l,i]=v.useState({title:"",message:"",audience:"All Members",scheduledTime:"",isScheduled:!1}),[o,d]=v.useState(!1),x=async u=>{u.preventDefault(),d(!0);try{await A9({title:l.title,message:l.message,audience:l.audience,status:l.isScheduled?"Scheduled":"Posted",date:l.isScheduled?new Date(l.scheduledTime).toLocaleString():new Date().toLocaleString()}),a(),s(),i({title:"",message:"",audience:"All Members",scheduledTime:"",isScheduled:!1})}catch(h){console.error(h)}finally{d(!1)}};return e.jsx(rt,{isOpen:t,onClose:s,title:"New Announcement",subtitle:"Broadcast updates to your community",maxWidth:"max-w-md",children:e.jsxs("form",{onSubmit:x,className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8 custom-scrollbar",children:[e.jsxs("div",{className:"bg-gradient-to-br from-indigo-500 to-violet-600 rounded-[24px] p-6 text-white shadow-lg relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white opacity-10 rounded-full -translate-y-1/2 translate-x-1/2 blur-2xl pointer-events-none"}),e.jsx(yn,{size:32,className:"mb-4 text-indigo-100"}),e.jsx("h3",{className:"text-lg font-black tracking-tight",children:"Broadcast Center"}),e.jsx("p",{className:"text-indigo-100 text-xs font-medium mt-1 opacity-80",children:"Send important updates, offers, or news to your members and staff instantly."})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-xs font-black text-slate-500 uppercase tracking-widest flex items-center gap-2",children:[e.jsx(OS,{size:14,className:"text-indigo-500"}),"Subject Line *"]}),e.jsx("input",{type:"text",placeholder:"e.g. Gym Maintenance this Sunday",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl font-bold text-slate-800 focus:bg-white focus:border-indigo-500 transition-all placeholder:font-medium",value:l.title,onChange:u=>i({...l,title:u.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-xs font-black text-slate-500 uppercase tracking-widest flex items-center gap-2",children:[e.jsx(_t,{size:14,className:"text-indigo-500"}),"Target Audience *"]}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:["All Members","Active Members","Trainers","Staff"].map(u=>e.jsx("button",{type:"button",onClick:()=>i({...l,audience:u}),className:`py-3 px-2 rounded-xl text-[10px] font-black uppercase tracking-wider border-2 transition-all ${l.audience===u?"border-indigo-600 bg-indigo-50 text-indigo-700":"border-slate-100 bg-white text-slate-400 hover:border-slate-200"}`,children:u},u))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-xs font-black text-slate-500 uppercase tracking-widest flex items-center gap-2",children:[e.jsx(Qe,{size:14,className:"text-indigo-500"}),"Message Content *"]}),e.jsx("textarea",{rows:"6",placeholder:"Type your announcement here...",className:"w-full p-4 bg-slate-50 border-2 border-slate-200 rounded-xl font-medium text-slate-700 focus:bg-white focus:border-indigo-500 transition-all resize-none",value:l.message,onChange:u=>i({...l,message:u.target.value}),required:!0})]}),e.jsxs("div",{className:"bg-slate-50 p-4 rounded-2xl border border-slate-200 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${l.isScheduled?"bg-indigo-100 text-indigo-600":"bg-slate-200 text-slate-400"}`,children:e.jsx(Ve,{size:20})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-slate-800 text-sm",children:"Schedule for Later"}),e.jsx("p",{className:"text-[10px] text-slate-500 font-medium",children:"Send automatically at a specific time"})]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:l.isScheduled,onChange:u=>i({...l,isScheduled:u.target.checked}),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-slate-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),l.isScheduled&&e.jsx("div",{className:"animate-in fade-in slide-in-from-top-2 pt-2",children:e.jsx("input",{type:"datetime-local",className:"w-full px-4 py-3 bg-white border-2 border-indigo-100 rounded-xl font-bold text-slate-700 focus:border-indigo-500 transition-all",value:l.scheduledTime,onChange:u=>i({...l,scheduledTime:u.target.value})})})]})]}),e.jsxs("div",{className:"shrink-0 p-4 bg-white border-t border-slate-100 flex gap-3 shadow-[0_-4px_20px_rgba(0,0,0,0.05)]",children:[e.jsx("button",{type:"button",onClick:s,className:"flex-1 px-4 py-3 bg-white border-2 border-slate-200 text-slate-700 rounded-xl text-sm font-bold hover:bg-slate-50 transition-all",children:"Cancel"}),e.jsxs("button",{type:"submit",disabled:o,className:"flex-[2] px-4 py-3 bg-indigo-600 text-white rounded-xl text-sm font-bold hover:bg-indigo-700 hover:shadow-lg hover:shadow-indigo-500/30 transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:[l.isScheduled?e.jsx(Ve,{size:18}):e.jsx(Fc,{size:18}),o?"Processing...":l.isScheduled?"Schedule":"Send Now"]})]})]})})},VM=()=>{const[t,s]=v.useState([]),[a,l]=v.useState(!1),[i,o]=v.useState(""),d=async()=>{try{const h=await C9();s(h)}catch(h){console.error("Failed to fetch announcements:",h)}};v.useEffect(()=>{d()},[]);const x=t.filter(h=>h.title.toLowerCase().includes(i.toLowerCase())||h.message.toLowerCase().includes(i.toLowerCase())),u=()=>{d()};return e.jsxs("div",{className:"flex flex-col h-full bg-slate-50/50 rounded-[40px] overflow-hidden",children:[e.jsxs("div",{className:"p-8 pb-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-8",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-black text-slate-800 flex items-center gap-3",children:[e.jsx(yn,{className:"text-orange-500"}),"Announcements"]}),e.jsx("p",{className:"text-slate-500 mt-1 font-medium text-sm",children:"Manage alerts and notifications for your gym"})]}),e.jsxs("button",{onClick:()=>l(!0),className:"px-6 py-4 bg-slate-900 text-white rounded-2xl font-bold flex items-center justify-center gap-2 hover:bg-orange-500 transition-all shadow-xl shadow-slate-200",children:[e.jsx(wt,{size:18})," New Announcement"]})]}),e.jsxs("div",{className:"relative group max-w-2xl",children:[e.jsx(tt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-orange-500 transition-all",size:20}),e.jsx("input",{type:"text",placeholder:"Search announcements...",className:"w-full pl-12 pr-4 py-4 bg-white border-2 border-slate-100 rounded-2xl text-sm font-bold text-slate-700 focus:outline-none focus:border-orange-500 transition-all shadow-sm",value:i,onChange:h=>o(h.target.value)})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto px-8 pb-8 custom-scrollbar space-y-4",children:[x.map(h=>e.jsxs("div",{className:"bg-white p-6 rounded-[32px] border border-slate-100 shadow-sm hover:shadow-lg transition-all group relative overflow-hidden",children:[e.jsx("div",{className:`absolute top-0 left-0 w-1.5 h-full ${h.status==="Posted"?"bg-emerald-500":"bg-amber-500"}`}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("span",{className:`px-2.5 py-1 rounded-lg text-[10px] font-black uppercase tracking-widest ${h.status==="Posted"?"bg-emerald-50 text-emerald-600":"bg-amber-50 text-amber-600"}`,children:h.status}),e.jsxs("span",{className:"flex items-center gap-1 text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:[e.jsx(_t,{size:12})," ",h.audience]}),e.jsxs("span",{className:"flex items-center gap-1 text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:[e.jsx(Ve,{size:12})," ",h.date]})]}),e.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-2",children:h.title}),e.jsx("p",{className:"text-slate-500 text-sm font-medium leading-relaxed",children:h.message})]}),e.jsxs("div",{className:"flex items-center gap-2 md:self-center opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{className:"p-3 text-slate-400 hover:bg-slate-50 hover:text-indigo-600 rounded-xl transition-all",children:e.jsx(Pa,{size:18})}),e.jsx("button",{className:"p-3 text-slate-400 hover:bg-rose-50 hover:text-rose-600 rounded-xl transition-all",children:e.jsx(ms,{size:18})})]})]})]},h.id)),x.length===0&&e.jsxs("div",{className:"py-20 flex flex-col items-center justify-center opacity-40",children:[e.jsx(yn,{size:48,className:"text-slate-300"}),e.jsx("p",{className:"text-xs font-black uppercase tracking-widest text-slate-400 mt-4",children:"No announcements found"})]})]}),e.jsx(GM,{isOpen:a,onClose:()=>l(!1),onSuccess:u})]})},YM=()=>{const[t,s]=v.useState("chats"),[a,l]=v.useState([]),[i,o]=v.useState([]),[d,x]=v.useState(null),[u,h]=v.useState(""),[p,f]=v.useState(""),[b,g]=v.useState("All"),[j,A]=v.useState("list");v.useEffect(()=>{(async()=>{try{const L=await D9();l(L)}catch(L){console.error("Failed to load chats:",L)}})()},[]),v.useEffect(()=>{(async()=>{if(d)try{const L=await M9(d.id);o(L)}catch(L){console.error("Failed to load messages:",L)}})()},[d]);const w=async()=>{if(!(!u.trim()||!d))try{await L9(d.id,u),o([...i,{id:Date.now(),text:u,time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),sender:"me",status:"sent"}]),h("")}catch(C){console.error("Failed to send msg:",C)}},k=a.filter(C=>{const L=C.name.toLowerCase().includes(p.toLowerCase()),N=b==="All"||b==="Unread"&&C.unread>0;return L&&N});return e.jsxs("div",{className:"p-4 md:p-8 h-screen bg-slate-50 flex flex-col",children:[e.jsx("div",{className:"flex justify-center mb-6 shrink-0",children:e.jsxs("div",{className:"bg-white p-1.5 rounded-2xl shadow-sm border border-slate-200 flex gap-2",children:[e.jsx("button",{onClick:()=>s("chats"),className:`px-8 py-3 rounded-xl text-sm font-black uppercase tracking-widest transition-all ${t==="chats"?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:text-slate-600 hover:bg-slate-50"}`,children:"Live Chats"}),e.jsx("button",{onClick:()=>s("announcements"),className:`px-8 py-3 rounded-xl text-sm font-black uppercase tracking-widest transition-all ${t==="announcements"?"bg-orange-500 text-white shadow-lg":"text-slate-400 hover:text-slate-600 hover:bg-slate-50"}`,children:"Announcements"})]})}),e.jsx("div",{className:"flex-1 bg-white rounded-[40px] shadow-2xl border border-slate-100 overflow-hidden relative",children:t==="announcements"?e.jsx(VM,{}):e.jsxs("div",{className:"flex h-full",children:[e.jsxs("div",{className:`${j==="chat"?"hidden":"flex"} md:flex flex-col w-full md:w-[400px] border-r border-slate-50 bg-slate-50/30`,children:[e.jsxs("div",{className:"p-8 pb-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h1",{className:"text-2xl font-black text-slate-800 flex items-center gap-3",children:[e.jsx(sr,{className:"text-indigo-600"}),"Chats"]}),e.jsx("div",{className:"p-2.5 bg-indigo-50 text-indigo-600 rounded-xl hover:bg-indigo-600 hover:text-white transition-all cursor-pointer shadow-sm",children:e.jsx(wt,{size:20})})]}),e.jsxs("div",{className:"relative group mb-6",children:[e.jsx(tt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-indigo-600 transition-all",size:18}),e.jsx("input",{type:"text",placeholder:"Search members...",className:"w-full pl-12 pr-4 py-4 bg-white border-2 border-slate-100 rounded-2xl text-sm font-bold text-slate-700 focus:outline-none focus:border-indigo-500 transition-all shadow-sm",value:p,onChange:C=>f(C.target.value)})]}),e.jsx("div",{className:"flex gap-4 border-b border-slate-100 mb-4",children:["All","Unread","Archived"].map(C=>e.jsxs("button",{onClick:()=>g(C),className:`pb-4 text-xs font-black uppercase tracking-widest relative transition-all ${b===C?"text-indigo-600":"text-slate-400 hover:text-slate-600"}`,children:[C,b===C&&e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-indigo-600 rounded-t-full"})]},C))})]}),e.jsx("div",{className:"flex-1 overflow-y-auto px-4 space-y-2 custom-scrollbar pb-8",children:k.length===0?e.jsxs("div",{className:"py-20 flex flex-col items-center justify-center opacity-40",children:[e.jsx(tt,{size:40,className:"text-slate-300"}),e.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 mt-4",children:"No conversations found"})]}):k.map(C=>e.jsxs("div",{onClick:()=>{x(C),A("chat")},className:`p-4 rounded-[24px] cursor-pointer transition-all flex items-center gap-4 group ${d?.id===C.id?"bg-white shadow-xl shadow-indigo-500/10 border border-slate-100 scale-[1.02]":"hover:bg-white/60"}`,children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white font-black shadow-lg",children:C.avatar}),C.status==="online"?e.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-emerald-500 rounded-full border-4 border-white"}):e.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-slate-200 rounded-full border-4 border-white"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("h3",{className:"font-bold text-slate-800 text-sm truncate",children:C.name}),e.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:C.time})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"text-xs text-slate-500 truncate font-medium",children:C.lastMsg}),C.unread>0&&e.jsx("span",{className:"min-w-[20px] h-5 px-1.5 bg-indigo-600 text-white rounded-full flex items-center justify-center text-[10px] font-black shadow-lg animate-pulse",children:C.unread})]})]})]},C.id))})]}),e.jsx("div",{className:`${j==="list"?"hidden":"flex"} md:flex flex-col flex-1 bg-white relative`,children:d?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-6 md:p-8 flex items-center justify-between border-b border-slate-50 bg-white/80 backdrop-blur-md sticky top-0 z-20",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>A("list"),className:"md:hidden p-2 text-slate-400 hover:text-slate-600",children:e.jsx(XM,{})}),e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-indigo-500 to-purple-400 flex items-center justify-center text-white font-black shadow-lg",children:d.avatar}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-black text-slate-800 tracking-tight",children:d.name}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${d.status==="online"?"bg-emerald-500":"bg-slate-300"}`}),e.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${d.status==="online"?"text-emerald-600":"text-slate-400"}`,children:d.status==="online"?"Active Now":"Recently Active"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"p-3 text-slate-400 hover:bg-slate-50 hover:text-indigo-600 rounded-xl transition-all",title:"Audio Call",children:e.jsx(Hs,{size:20})}),e.jsx("button",{className:"p-3 text-slate-400 hover:bg-slate-50 hover:text-indigo-600 rounded-xl transition-all",title:"Video Call",children:e.jsx(FA,{size:20})}),e.jsx("button",{className:"p-3 text-slate-400 hover:bg-slate-50 hover:text-indigo-600 rounded-xl transition-all",title:"Member Info",children:e.jsx(Yn,{size:20})}),e.jsx("button",{className:"p-3 text-slate-400 hover:bg-slate-50 hover:text-indigo-600 rounded-xl transition-all",title:"More Options",children:e.jsx(_c,{size:20})})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-8 space-y-8 bg-slate-50/20 custom-scrollbar",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("span",{className:"px-4 py-1.5 bg-white text-[10px] font-black text-slate-400 uppercase tracking-widest rounded-full border border-slate-100 shadow-sm",children:"Today"})}),i.map(C=>e.jsx("div",{className:`flex ${C.sender==="me"?"justify-end":"justify-start"} animate-in fade-in slide-in-from-bottom-2 duration-500`,children:e.jsxs("div",{className:`max-w-[75%] md:max-w-md ${C.sender==="me"?"bg-slate-900 text-white rounded-t-[28px] rounded-bl-[28px] shadow-2xl shadow-slate-900/10":"bg-white text-slate-800 rounded-t-[28px] rounded-br-[28px] shadow-xl shadow-slate-200/50 border border-slate-100"} p-5 relative group`,children:[e.jsx("p",{className:"text-sm font-medium leading-relaxed",children:C.text}),e.jsxs("div",{className:`flex items-center gap-2 mt-3 ${C.sender==="me"?"justify-end":"justify-start"}`,children:[e.jsx("span",{className:`text-[9px] font-black uppercase tracking-widest ${C.sender==="me"?"text-slate-400":"text-slate-300"}`,children:C.time}),C.sender==="me"&&e.jsx(Zj,{size:14,className:C.status==="read"?"text-indigo-400":"text-slate-600"})]})]})},C.id))]}),e.jsx("div",{className:"p-6 md:p-8 border-t border-slate-50 bg-white shadow-[0_-10px_40px_rgba(0,0,0,0.02)]",children:e.jsxs("div",{className:"flex items-center gap-4 bg-slate-50 p-2 rounded-[28px] border-2 border-slate-50 focus-within:border-indigo-100 focus-within:bg-white transition-all shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-1 pl-2",children:[e.jsx("button",{className:"p-2.5 text-slate-400 hover:text-indigo-600 transition-colors",children:e.jsx(nA,{size:22})}),e.jsx("button",{className:"p-2.5 text-slate-400 hover:text-indigo-600 transition-colors",children:e.jsx(iw,{size:22})}),e.jsx("button",{className:"p-2.5 text-slate-400 hover:text-indigo-600 transition-colors hidden md:block",children:e.jsx(H8,{size:22})})]}),e.jsx("input",{type:"text",placeholder:"Type a message...",className:"flex-1 bg-transparent border-none focus:ring-0 text-sm font-bold text-slate-700 py-3",value:u,onChange:C=>h(C.target.value),onKeyPress:C=>C.key==="Enter"&&w()}),e.jsx("button",{onClick:w,className:"w-12 h-12 bg-indigo-600 text-white rounded-2xl flex items-center justify-center shadow-lg shadow-indigo-100 hover:bg-indigo-700 hover:scale-110 active:scale-95 transition-all",children:e.jsx(Fc,{size:20})})]})})]}):e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-12 text-center bg-slate-50/10",children:[e.jsx("div",{className:"w-24 h-24 bg-white rounded-[32px] shadow-2xl flex items-center justify-center text-indigo-100 mb-8 animate-bounce delay-700 duration-[3000ms]",children:e.jsx(sr,{size:48})}),e.jsx("h2",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Select a Conversation"}),e.jsx("p",{className:"text-slate-500 mt-4 max-w-sm font-medium leading-relaxed",children:"Connect with your members instantly. Select a chat from the sidebar to start messaging."})]})})]})})]})},XM=()=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"m15 18-6-6 6-6"})}),KM=()=>{const[t,s]=v.useState(""),[a,l]=v.useState(""),[i,o]=v.useState(""),[d,x]=v.useState(new Date().toISOString().split("T")[0]),[u,h]=v.useState([]),[p,f]=v.useState(!0),[b,g]=v.useState(1),[j,A]=v.useState(0),[w,k]=v.useState(!1),C=5;v.useEffect(()=>{L()},[t,a,i,d,b]);const L=async()=>{f(!0);const R=await Ag({filters:{search:t,role:a==="All"?"":a,status:i==="All"?"":i==="Checked Out"?"checked-out":i==="On Time"?"checked-in":i,date:d,type:"Staff"},page:b,limit:C});h(R?.data||[]),A(R?.total||0),f(!1)},N=()=>{Pg(u,"StaffAttendanceLog")},P=F=>{switch(F){case"On Time":case"checked-in":return e.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-xl bg-gradient-to-r from-emerald-500 to-emerald-600 text-white text-xs font-black shadow-lg shadow-emerald-500/50 hover:scale-110 hover:shadow-xl transition-all duration-300 cursor-pointer",children:"On Time"});case"Late":return e.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-xl bg-gradient-to-r from-amber-500 to-orange-600 text-white text-xs font-black shadow-lg shadow-amber-500/50 hover:scale-110 hover:shadow-xl transition-all duration-300 cursor-pointer",children:"Late"});case"Absent":return e.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-xl bg-gradient-to-r from-red-500 to-red-600 text-white text-xs font-black shadow-lg shadow-red-500/50 hover:scale-110 hover:shadow-xl transition-all duration-300 cursor-pointer",children:"Absent"});case"checked-out":case"Checked Out":return e.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-xl bg-gradient-to-r from-blue-500 to-indigo-600 text-white text-xs font-black shadow-lg shadow-blue-500/50 hover:scale-110 hover:shadow-xl transition-all duration-300 cursor-pointer",children:"Checked Out"});default:return e.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-xl bg-gradient-to-r from-slate-400 to-slate-500 text-white text-xs font-black shadow-lg hover:scale-110 transition-all duration-300 cursor-pointer",children:F})}},_=F=>{const B={Trainer:"from-purple-500 to-purple-600 shadow-purple-500/50",Receptionist:"from-blue-500 to-blue-600 shadow-blue-500/50",Cleaning:"from-teal-500 to-teal-600 shadow-teal-500/50",Manager:"from-violet-500 to-violet-600 shadow-violet-500/50"}[F]||"from-slate-500 to-slate-600 shadow-slate-500/50";return e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-lg text-xs font-bold bg-gradient-to-r ${B} text-white shadow-md hover:scale-110 transition-all duration-300`,children:F})};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6 flex-shrink-0",children:e.jsx(W0,{size:24,className:"sm:w-7 sm:h-7",strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Staff Attendance"}),e.jsx("span",{className:"px-2 py-0.5 bg-gradient-to-r from-violet-500 to-purple-600 text-white text-[10px] font-black rounded-md shadow-sm animate-pulse whitespace-nowrap",children:"PREMIUM "})]}),e.jsx("p",{className:"text-slate-600 text-xs sm:text-sm mt-1",children:"Track staff shifts and punctuality"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3",children:[e.jsxs("button",{onClick:N,className:"group flex items-center justify-center gap-2 px-5 py-3 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-xl text-sm font-bold shadow-xl shadow-violet-500/50 hover:shadow-2xl hover:shadow-violet-500/60 hover:scale-105 transition-all",children:[e.jsx(Qs,{size:18,strokeWidth:2.5,className:"transition-all duration-300 group-hover:scale-110 group-hover:-translate-y-0.5"}),"Export Report"]}),e.jsxs("button",{onClick:()=>k(!w),className:`group flex items-center justify-center gap-2 px-5 py-3 rounded-xl text-sm font-bold shadow-lg hover:shadow-xl hover:scale-105 transition-all ${w?"bg-gradient-to-r from-violet-500 to-purple-600 text-white shadow-violet-500/50":"bg-white border-2 border-slate-200 text-slate-700 hover:border-violet-300"}`,children:[e.jsx(ks,{size:18,strokeWidth:2.5,className:`transition-all duration-300 ${w?"rotate-180":""}`}),"Filter"]})]})]})})]}),w&&e.jsxs("div",{className:"group relative bg-white rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6 mb-6 overflow-visible hover:shadow-2xl transition-all duration-300",style:{zIndex:50},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50/30 to-purple-50/30 opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-2xl"}),e.jsxs("div",{className:"relative z-10 grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6",children:[e.jsxs("div",{className:"relative group/input",children:[e.jsx(tt,{size:18,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 group-hover/input:text-violet-600 transition-colors duration-300",strokeWidth:2.5}),e.jsx("input",{type:"text",placeholder:"Search staff name...",className:"w-full pl-11 pr-4 py-3 border-2 border-slate-200 rounded-xl focus:border-violet-500 focus:ring-2 focus:ring-violet-200 hover:border-violet-300 transition-all duration-300 font-semibold text-sm",value:t,onChange:F=>{s(F.target.value),g(1)}})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:col-span-2",children:[e.jsx("div",{className:"w-full sm:w-auto hover:scale-105 transition-transform duration-300",children:e.jsx(us,{options:["All","On Time","Checked Out","Absent","Late"],value:i,onChange:F=>{o(F),g(1)},placeholder:"All Status",icon:ks,className:"w-full sm:w-40"})}),e.jsx("div",{className:"w-full sm:w-auto hover:scale-105 transition-transform duration-300",children:e.jsx(us,{options:["All","Trainer","Receptionist","Cleaning","Manager"],value:a,onChange:F=>{l(F),g(1)},placeholder:"All Roles",icon:lt,className:"w-full sm:w-40"})})]})]})]}),e.jsxs("div",{className:"group relative bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden hover:shadow-2xl hover:border-violet-200 transition-all duration-500 transform hover:-translate-y-1",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50/30 to-purple-50/30 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"hidden md:block overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left text-sm",children:[e.jsx("thead",{className:"bg-slate-50/50 border-b border-slate-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Staff Name"}),e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Role"}),e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Shift Time"}),e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Check-In"}),e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Check-Out"}),e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Status"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:p?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-12 text-center text-sm text-slate-400",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-violet-600"}),e.jsx("span",{className:"font-semibold",children:"Loading staff attendance..."})]})})}):u.length>0?u.map(F=>e.jsxs("tr",{className:"group/row hover:bg-gradient-to-r hover:from-violet-50/50 hover:to-purple-50/50 transition-all duration-300 cursor-pointer hover:shadow-md",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-purple-100 to-violet-100 text-purple-600 flex items-center justify-center shadow-md transition-all duration-500 group-hover/row:scale-125 group-hover/row:bg-gradient-to-br group-hover/row:from-purple-500 group-hover/row:to-violet-600 group-hover/row:text-white group-hover/row:shadow-xl group-hover/row:rotate-6",children:e.jsx(W0,{size:18,strokeWidth:2.5})}),e.jsx("span",{className:"font-bold text-slate-800 group-hover/row:text-violet-700 group-hover/row:translate-x-1 transition-all duration-300",children:F.name})]})}),e.jsx("td",{className:"px-6 py-4",children:_(F.role)}),e.jsx("td",{className:"px-6 py-4 text-slate-600 text-sm font-semibold group-hover/row:text-violet-600 transition-colors duration-300",children:F.shift||"-"}),e.jsx("td",{className:"px-6 py-4 text-slate-700 text-sm font-semibold group-hover/row:text-violet-600 transition-colors duration-300",children:F.time||F.checkIn}),e.jsx("td",{className:"px-6 py-4 text-slate-700 text-sm font-semibold group-hover/row:text-violet-600 transition-colors duration-300",children:F.checkOut||"-"}),e.jsx("td",{className:"px-6 py-4",children:P(F.status)})]},F.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-12 text-center text-sm text-slate-400",children:"No staff attendance logs found for this date."})})})]})}),e.jsx("div",{className:"md:hidden p-4 space-y-4",children:p?e.jsx("div",{className:"py-12 text-center text-sm text-slate-400",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-violet-600"}),e.jsx("span",{className:"font-semibold text-violet-600",children:"Loading data..."})]})}):u.length>0?u.map(F=>e.jsx(Ya,{title:F.name,subtitle:F.role,badge:F.status,badgeColor:F.status==="On Time"||F.status==="checked-in"?"emerald":F.status==="Late"?"amber":F.status==="Absent"?"rose":"blue",fields:[{label:"Shift",value:F.shift||"-"},{label:"Check-In",value:F.time||F.checkIn,icon:Qe},{label:"Check-Out",value:F.checkOut||"-",icon:Qe}]},F.id)):e.jsx("div",{className:"py-8 text-center text-sm text-slate-500 bg-white rounded-xl border border-slate-100",children:"No records found."})})]}),!p&&j>0&&e.jsxs("div",{className:"px-4 sm:px-6 py-4 bg-slate-50/50 border-t border-slate-100 flex flex-col sm:flex-row justify-between items-center gap-4",children:[e.jsxs("span",{className:"text-xs sm:text-sm text-slate-600 font-semibold text-center sm:text-left",children:["Showing ",e.jsx("span",{className:"font-black text-slate-900",children:(b-1)*C+1})," to ",e.jsx("span",{className:"font-black text-slate-900",children:Math.min(b*C,j)})," of ",e.jsx("span",{className:"font-black text-slate-900",children:j})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>g(F=>Math.max(F-1,1)),disabled:b===1,className:"group p-3 border-2 border-slate-200 rounded-xl hover:bg-gradient-to-r hover:from-violet-500 hover:to-purple-600 hover:text-white hover:border-transparent hover:scale-110 disabled:opacity-50 disabled:hover:scale-100 disabled:hover:bg-transparent disabled:hover:text-slate-400 transition-all duration-300 shadow-sm hover:shadow-lg",children:e.jsx(Gr,{size:18,strokeWidth:2.5,className:"group-hover:-translate-x-0.5 transition-transform duration-300"})}),e.jsx("button",{onClick:()=>g(F=>Math.min(F+1,Math.ceil(j/C))),disabled:b===Math.ceil(j/C),className:"group p-3 border-2 border-slate-200 rounded-xl hover:bg-gradient-to-r hover:from-violet-500 hover:to-purple-600 hover:text-white hover:border-transparent hover:scale-110 disabled:opacity-50 disabled:hover:scale-100 disabled:hover:bg-transparent disabled:hover:text-slate-400 transition-all duration-300 shadow-sm hover:shadow-lg",children:e.jsx(js,{size:18,strokeWidth:2.5,className:"group-hover:translate-x-0.5 transition-transform duration-300"})})]})]})]})]})},Yw=async()=>{try{return(await ye.get("/staff/attendance/today")).data}catch(t){throw t.response?.data?.message||"Failed to fetch check-ins"}},JM=async t=>{try{return t&&(await ye.get("/staff/members/search",{params:{search:t}})).data.find(l=>l.name.toLowerCase().includes(t.toLowerCase())||l.memberId.toLowerCase().includes(t.toLowerCase())||l.phone&&l.phone.includes(t))||null}catch(s){throw s.response?.data?.message||"Failed to search member"}},QM=async t=>{try{return!t||t.length<2?[]:(await ye.get("/staff/members/search",{params:{search:t}})).data.slice(0,5)}catch(s){throw s.response?.data?.message||"Failed to fetch suggestions"}},ZM=async t=>{try{return{success:!0,message:"Check-in successful",data:(await ye.post("/staff/attendance/check-in",{memberId:t})).data}}catch(s){return{success:!1,message:s.response?.data?.message||"Check-in failed"}}},eL=async t=>{try{return{success:!0,message:"Check-out successful",data:(await ye.post("/staff/attendance/check-out",{memberId:t})).data}}catch(s){return{success:!1,message:s.response?.data?.message||"Check-out failed"}}},tL=()=>{const[t,s]=v.useState(""),[a,l]=v.useState(null),[i,o]=v.useState(!1),[d,x]=v.useState([]),[u,h]=v.useState(!1),p=v.useRef(null);v.useEffect(()=>{const j=A=>{p.current&&!p.current.contains(A.target)&&h(!1)};return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[]),v.useEffect(()=>{const A=setTimeout(async()=>{if(t.length>=2){const w=await QM(t);x(w),h(!0)}else x([]),h(!1)},300);return()=>clearTimeout(A)},[t]);const f=async j=>{l(j),o(j.status==="Expired"),s(j.name),x([]),h(!1)},b=async j=>{j&&j.preventDefault();const A=await JM(t);A?(l(A),o(A.status==="Expired"),x([]),h(!1)):(l(null),alert("No member found"))},g=async()=>{if(a){const j=await ZM(a.id);j.success&&(alert(j.message),l(null),s(""))}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-6 animate-fadeIn",children:[e.jsxs("div",{className:"mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-6",children:e.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(cw,{size:28,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Member Check-In"}),e.jsx("span",{className:"px-2 py-0.5 bg-gradient-to-r from-violet-500 to-purple-600 text-white text-[10px] font-black rounded-md shadow-sm animate-pulse",children:"LIVE"})]}),e.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Search or scan member to grant access"})]})]})})})]}),e.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[e.jsxs("div",{className:"group relative bg-white rounded-3xl shadow-xl border border-slate-100 overflow-hidden hover:shadow-2xl hover:border-violet-100 transition-all duration-300",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50/20 to-purple-50/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative z-10 p-8",children:[e.jsxs("div",{className:"relative",ref:p,children:[e.jsxs("form",{onSubmit:b,className:"flex gap-4",children:[e.jsxs("div",{className:"relative flex-1 group/input",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx(tt,{size:20,className:"text-slate-400 group-focus-within/input:text-violet-500 transition-colors"})}),e.jsx("input",{type:"text",placeholder:"Search by Name, ID, or Phone...",className:"w-full pl-11 pr-4 py-4 bg-slate-50 border-2 border-slate-200 rounded-xl font-bold text-slate-800 focus:bg-white focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all duration-300",value:t,onChange:j=>s(j.target.value),onFocus:()=>t.length>=2&&h(!0)}),t&&e.jsx("button",{type:"button",onClick:()=>{s(""),l(null)},className:"absolute inset-y-0 right-0 pr-4 flex items-center text-slate-400 hover:text-slate-600",children:e.jsx(Vr,{size:18})})]}),e.jsx("button",{type:"submit",className:"px-8 py-4 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-xl font-bold shadow-lg shadow-violet-500/30 hover:shadow-xl hover:shadow-violet-500/40 hover:scale-105 transition-all duration-300",children:"Search"})]}),u&&d.length>0&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-slate-100 rounded-xl shadow-2xl z-50 overflow-hidden animate-in slide-in-from-top-2 duration-200 ring-1 ring-black/5",children:d.map(j=>e.jsxs("button",{onClick:()=>f(j),className:"w-full px-4 py-3 text-left hover:bg-violet-50 transition-colors flex items-center justify-between group border-b border-slate-50 last:border-0",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-violet-100 text-violet-600 flex items-center justify-center font-bold text-sm shadow-inner group-hover:scale-110 transition-transform",children:j.name.charAt(0)}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-slate-800",children:j.name}),e.jsxs("p",{className:"text-[10px] text-slate-500 font-black uppercase tracking-wider",children:[j.id,"  ",j.phone]})]})]}),e.jsx("span",{className:`px-2.5 py-1 rounded-lg text-[10px] font-black uppercase tracking-wide ${j.status==="Active"?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-700"}`,children:j.status})]},j.id))})]}),e.jsxs("div",{className:"mt-8 flex items-center justify-center",children:[e.jsx("span",{className:"text-xs font-black text-slate-400 px-4 bg-white relative z-10 uppercase tracking-widest",children:"OR"}),e.jsx("div",{className:"absolute w-full h-px bg-slate-100 left-0"})]}),e.jsxs("button",{className:"w-full mt-8 py-4 border-2 border-dashed border-slate-300 rounded-xl flex items-center justify-center gap-3 text-slate-500 hover:bg-violet-50 hover:border-violet-300 hover:text-violet-600 transition-all duration-300 group/scan",children:[e.jsx("div",{className:"p-2 bg-slate-100 rounded-lg group-hover/scan:bg-white group-hover/scan:text-violet-600 transition-colors",children:e.jsx(WC,{size:24})}),e.jsx("span",{className:"font-bold",children:"Scan QR / Barcode"})]})]})]}),a&&e.jsxs("div",{className:`relative p-8 rounded-3xl shadow-2xl border-2 overflow-hidden transition-all duration-500 animate-in zoom-in-95 ${i?"bg-white border-red-200 shadow-red-100":"bg-white border-emerald-200 shadow-emerald-100"}`,children:[e.jsx("div",{className:`absolute top-0 right-0 w-64 h-64 opacity-5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 ${i?"bg-red-500":"bg-emerald-500"}`}),e.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row gap-8 items-center md:items-start text-center md:text-left",children:[e.jsx("div",{className:`w-28 h-28 rounded-3xl flex items-center justify-center text-4xl font-black shadow-xl transform hover:scale-105 transition-transform duration-300 ${i?"bg-gradient-to-br from-red-100 to-red-200 text-red-600 shadow-red-200":"bg-gradient-to-br from-emerald-100 to-emerald-200 text-emerald-600 shadow-emerald-200"}`,children:(a?.name||"?").charAt(0)}),e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-black text-slate-900 leading-tight mb-2",children:a.name}),e.jsxs("div",{className:"flex flex-wrap items-center justify-center md:justify-start gap-3",children:[e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-lg bg-slate-100 text-slate-600 text-xs font-bold border border-slate-200",children:[e.jsx(lt,{size:14}),a.id]}),e.jsx("span",{className:`px-3 py-1 rounded-lg text-xs font-black uppercase tracking-wide border ${i?"bg-red-50 text-red-600 border-red-100":"bg-emerald-50 text-emerald-600 border-emerald-100"}`,children:a.status})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[e.jsxs("div",{className:"p-3 bg-slate-50 rounded-xl border border-slate-100",children:[e.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Expiration"}),e.jsxs("div",{className:"text-sm font-bold text-slate-800 flex items-center gap-1.5",children:[e.jsx(Ve,{size:14,className:"text-violet-500"}),a.expiry]})]}),e.jsxs("div",{className:"p-3 bg-slate-50 rounded-xl border border-slate-100",children:[e.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Plan"}),e.jsx("div",{className:"text-sm font-bold text-slate-800",children:"Premium Annual"})]})]})]})]}),i?e.jsxs("div",{className:"mt-8 p-4 bg-red-50 rounded-xl border border-red-100 flex items-start gap-4",children:[e.jsx("div",{className:"p-2 bg-red-100 rounded-lg text-red-600 shrink-0",children:e.jsx(hs,{size:24,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-red-800 text-sm mb-1",children:"Membership Expired"}),e.jsxs("p",{className:"text-xs text-red-600 font-medium leading-relaxed",children:["This member's plan expired on ",a.expiry,". Please request renewal before granting entry."]})]})]}):e.jsx("div",{className:"mt-8 pt-6 border-t border-slate-100",children:e.jsxs("button",{onClick:g,className:"w-full h-16 bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-400 hover:to-green-500 text-white rounded-2xl shadow-xl shadow-emerald-500/30 text-lg font-black tracking-wide uppercase flex items-center justify-center gap-3 active:scale-95 hover:-translate-y-1 transition-all duration-300",children:[e.jsx(Qt,{size:28,strokeWidth:3}),"Check In Now"]})})]})]})]})},sL=()=>{const[t,s]=v.useState(""),[a,l]=v.useState([]),[i,o]=v.useState(!0);v.useEffect(()=>{d()},[]);const d=async()=>{o(!0);try{const p=(await Yw()).history.filter(f=>f.status==="Inside").map(f=>({id:f.id,name:f.name,time:f.in,duration:"Active",memId:f.memId,memberId:f.memberId}));l(p)}catch(u){console.error("Failed to load active check-ins",u)}finally{o(!1)}},x=async(u,h)=>{const p=await eL(h);p.success,alert(p.success?p.message:"Check-out processed (Mock)."),l(f=>f.filter(b=>b.id!==u))};return e.jsxs("div",{className:"p-6 md:p-8 bg-gray-50 min-h-screen font-sans staffdashboard-membercheckout",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8 animate-fade-in-down",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900 tracking-tight",children:"Member Check-Out"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Manage members currently on the gym floor."})]}),e.jsxs("div",{className:"relative w-full md:w-72 group",children:[e.jsx(tt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-hover:text-indigo-500 transition-colors",size:18}),e.jsx("input",{type:"text",placeholder:"Search name or ID...",className:"saas-input pl-11 h-11 w-full rounded-xl border-gray-200 text-sm focus:ring-2 focus:ring-indigo-500 bg-white shadow-sm hover:border-gray-300 transition-all",value:t,onChange:u=>s(u.target.value)})]})]}),e.jsx("div",{className:"bg-white rounded-3xl shadow-sm border border-gray-100 overflow-hidden animate-fade-in-up",children:e.jsx("div",{className:"saas-table-wrapper",children:e.jsxs("table",{className:"saas-table saas-table-responsive",children:[e.jsx("thead",{className:"bg-gray-50/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-gray-400 uppercase tracking-wider",children:"Member"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-gray-400 uppercase tracking-wider",children:"Check-In Time"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-gray-400 uppercase tracking-wider",children:"Top-Up Duration"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-gray-400 uppercase tracking-wider text-right",children:"Actions"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-100",children:[a.filter(u=>u.name.toLowerCase().includes(t.toLowerCase())||u.memId.toLowerCase().includes(t.toLowerCase())).map(u=>e.jsxs("tr",{className:"hover:bg-gray-50/80 transition-all duration-200 group",children:[e.jsx("td",{className:"px-6 py-4","data-label":"Member",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center font-bold text-sm shadow-sm",children:(u.name||"?").charAt(0)}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-gray-900 group-hover:text-indigo-600 transition-colors",children:u.name}),e.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-wider",children:u.memId})]})]})}),e.jsx("td",{className:"px-6 py-4","data-label":"Check-In Time",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-600 bg-gray-50 px-3 py-1.5 rounded-lg w-fit",children:[e.jsx(Qe,{size:14,className:"text-gray-400 group-hover:text-indigo-500 transition-colors"}),u.time]})}),e.jsx("td",{className:"px-6 py-4","data-label":"Duration",children:e.jsxs("span",{className:"text-xs font-bold px-2.5 py-1 rounded-md bg-orange-50 text-orange-600 border border-orange-100 inline-block",children:[u.duration," active"]})}),e.jsx("td",{className:"px-6 py-4 text-right","data-label":"Actions",children:e.jsxs("button",{onClick:()=>x(u.id,u.memberId),className:"bg-indigo-600 hover:bg-indigo-700 text-white px-5 py-2.5 rounded-xl text-xs font-bold transition-all flex items-center gap-2 ml-auto shadow-md shadow-indigo-200 hover:shadow-lg hover:-translate-y-0.5 active:scale-95 group/btn",children:[e.jsx(vn,{size:14}),"Check-Out",e.jsx(js,{size:12,className:"opacity-50 group-hover/btn:opacity-100 group-hover/btn:translate-x-0.5 transition-all"})]})})]},u.id)),a.filter(u=>u.name.toLowerCase().includes(t.toLowerCase())||u.memId.toLowerCase().includes(t.toLowerCase())).length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"px-6 py-12 text-center text-gray-400",children:"No members found matching your search."})})]})]})})})]})},aL=({options:t,value:s,onChange:a,icon:l,placeholder:i})=>{const[o,d]=v.useState(!1),x=v.useRef(null);return v.useEffect(()=>{const u=h=>{x.current&&!x.current.contains(h.target)&&d(!1)};return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[]),e.jsxs("div",{className:"relative min-w-[150px]",ref:x,children:[e.jsxs("button",{onClick:()=>d(!o),className:`w-full h-11 px-4 rounded-xl border flex items-center justify-between transition-all duration-300 ${o?"border-indigo-500 ring-2 ring-indigo-100 bg-white":"border-gray-200 bg-white hover:border-gray-300"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[l&&e.jsx(l,{size:16,className:"text-gray-400"}),e.jsx("span",{className:"font-medium truncate",children:s==="All"?i:s})]}),e.jsx(Nl,{size:16,className:`text-gray-400 transition-transform duration-300 ${o?"rotate-180 text-indigo-500":""}`})]}),e.jsx("div",{className:`absolute top-full left-0 right-0 mt-2 bg-white border border-gray-100 rounded-xl shadow-xl z-50 overflow-hidden transition-all duration-200 origin-top ${o?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-95 -translate-y-2 pointer-events-none"}`,children:e.jsx("div",{className:"py-1",children:t.map(u=>e.jsxs("button",{onClick:()=>{a(u),d(!1)},className:`w-full px-4 py-2.5 text-left text-sm flex items-center justify-between transition-colors ${s===u?"bg-indigo-50 text-indigo-600 font-medium":"text-gray-600 hover:bg-gray-50"}`,children:[u==="All"?i:u,s===u&&e.jsx(xr,{size:14})]},u))})})]})},rL=()=>{const t=qt(),[s,a]=v.useState("All"),[l,i]=v.useState(""),[o,d]=v.useState([]),[x,u]=v.useState({total:0,inside:0,checkedOut:0}),[h,p]=v.useState(!0);v.useEffect(()=>{f()},[]);const f=async()=>{p(!0);try{const g=await Yw();d(g.history),u(g.stats)}catch(g){console.error("Failed to load check-ins",g)}finally{p(!1)}},b=[{label:"Total Check-Ins",value:x.total,icon:_t,bg:"bg-indigo-50",color:"text-indigo-600",border:"border-indigo-100"},{label:"Currently Inside",value:x.inside,icon:$t,bg:"bg-green-50",color:"text-green-600",border:"border-green-100"},{label:"Total Check-Outs",value:x.checkedOut,icon:Bf,bg:"bg-gray-50",color:"text-gray-600",border:"border-gray-200"}];return e.jsxs("div",{className:"p-6 md:p-8 bg-gray-50 min-h-screen font-sans staffdashboard-todayscheckins",children:[e.jsxs("div",{className:"mb-8 animate-fade-in-down",children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900 tracking-tight",children:"Today Check-Ins"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Real-time overview of attendance activity for today."})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8 animate-fade-in-up",children:b.map((g,j)=>e.jsxs("div",{className:`bg-white p-6 rounded-3xl shadow-sm border ${g.border} flex items-center gap-4 hover:shadow-lg hover:-translate-y-1 transition-all duration-300 group`,children:[e.jsx("div",{className:`p-4 rounded-2xl ${g.bg} ${g.color} group-hover:scale-110 transition-transform`,children:e.jsx(g.icon,{size:26})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[11px] font-bold text-gray-400 uppercase tracking-wider mb-1",children:g.label}),e.jsx("p",{className:"text-3xl font-black text-gray-900 leading-none",children:g.value})]})]},j))}),e.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-gray-100 animate-fade-in-up",style:{animationDelay:"0.1s",overflow:"visible",zIndex:10,position:"relative"},children:[e.jsxs("div",{className:"p-6 border-b border-gray-50 flex flex-col md:flex-row gap-4 items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-2 w-full md:w-auto",children:e.jsx(aL,{options:["All","Inside","Checked-Out"],value:s,onChange:a,placeholder:"All Status",icon:ks})}),e.jsxs("div",{className:"relative w-full md:w-72 group",children:[e.jsx(tt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-hover:text-indigo-500 transition-colors",size:18}),e.jsx("input",{type:"text",placeholder:"Find member...",className:"saas-input pl-11 h-11 w-full rounded-xl border-gray-200 text-sm focus:ring-2 focus:ring-indigo-500 bg-white shadow-sm hover:border-gray-300 transition-all",value:l,onChange:g=>i(g.target.value)})]})]}),e.jsx("div",{className:"hidden md:block saas-table-wrapper",children:e.jsxs("table",{className:"saas-table saas-table-responsive",children:[e.jsx("thead",{className:"bg-gray-50/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-gray-400 uppercase tracking-wider",children:"Member Name"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-gray-400 uppercase tracking-wider",children:"Check-In"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-gray-400 uppercase tracking-wider",children:"Check-Out"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-gray-400 uppercase tracking-wider text-right",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-gray-400 uppercase tracking-wider text-right",children:"Actions"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-100",children:[o.filter(g=>s==="All"||g.status===s).filter(g=>g.name.toLowerCase().includes(l.toLowerCase())).map(g=>e.jsxs("tr",{className:"hover:bg-gray-50 group transition-all duration-200",children:[e.jsx("td",{className:"px-6 py-4","data-label":"Member Name",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-xs font-bold text-gray-500 group-hover:bg-indigo-100 group-hover:text-indigo-600 transition-colors",children:(g.name||"?").charAt(0)}),e.jsx("span",{className:"text-sm font-bold text-gray-800 tracking-tight group-hover:text-indigo-700 transition-colors",children:g.name})]})}),e.jsx("td",{className:"px-6 py-4","data-label":"Check-In",children:e.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-gray-500 bg-gray-50 px-2.5 py-1 rounded-md w-fit",children:[e.jsx(Qe,{size:12,className:"text-green-500"}),g.in]})}),e.jsx("td",{className:"px-6 py-4","data-label":"Check-Out",children:g.out!=="-"?e.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-gray-500 bg-gray-50 px-2.5 py-1 rounded-md w-fit",children:[e.jsx(Qe,{size:12,className:"text-red-400"}),g.out]}):e.jsx("span",{className:"text-gray-300",children:"-"})}),e.jsx("td",{className:"px-6 py-4 text-right","data-label":"Status",children:e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-wider border ${g.status==="Inside"?"bg-green-50 text-green-700 border-green-100":"bg-gray-50 text-gray-600 border-gray-200"}`,children:[e.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${g.status==="Inside"?"bg-green-500 animate-pulse":"bg-gray-400"}`}),g.status]})}),e.jsx("td",{className:"px-6 py-4 text-right","data-label":"Actions",children:g.status==="Inside"&&e.jsxs("button",{onClick:()=>t("/staff/lockers/assign",{state:{memberName:g.name}}),className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1.5 rounded-lg text-[10px] font-bold transition-all flex items-center gap-2 ml-auto shadow-sm active:scale-95",children:[e.jsx(Rs,{size:12}),"Locker"]})})]},g.id)),o.filter(g=>s==="All"||g.status===s).filter(g=>g.name.toLowerCase().includes(l.toLowerCase())).length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"px-6 py-12 text-center text-gray-400",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx(ks,{size:20,className:"text-gray-300"}),e.jsx("p",{children:"No records found."})]})})})]})]})}),e.jsxs("div",{className:"md:hidden p-4 space-y-4",children:[o.filter(g=>s==="All"||g.status===s).filter(g=>g.name.toLowerCase().includes(l.toLowerCase())).map(g=>e.jsx(Ya,{title:g.name,badge:g.status,badgeColor:g.status==="Inside"?"emerald":"slate",fields:[{label:"Check-In",value:g.in,icon:Qe},{label:"Check-Out",value:g.out,icon:Qe}],actions:g.status==="Inside"?[{label:"Locker",icon:Rs,onClick:()=>t("/staff/lockers/assign",{state:{memberName:g.name}}),variant:"primary"}]:[]},g.id)),o.filter(g=>s==="All"||g.status===s).filter(g=>g.name.toLowerCase().includes(l.toLowerCase())).length===0&&e.jsx("div",{className:"py-8 text-center text-sm text-gray-500 bg-white rounded-2xl border border-gray-100",children:"No records found."})]})]})]})},lL=({product:t,onAddToCart:s,onViewDetails:a})=>e.jsxs("div",{className:"group relative bg-white rounded-[2rem] overflow-hidden shadow-sm hover:shadow-2xl hover:shadow-violet-200/50 transition-all duration-700 hover:-translate-y-3 border border-slate-100/50",children:[e.jsxs("div",{className:"relative aspect-square overflow-hidden bg-slate-100",children:[e.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover transition-transform duration-[1.5s] ease-out group-hover:scale-110"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-violet-900/40 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-700"}),e.jsxs("div",{className:"absolute top-4 left-4 flex flex-col gap-2",children:[e.jsx("span",{className:"px-3 py-1 bg-white/90 backdrop-blur-md rounded-full text-[10px] font-black text-violet-600 uppercase tracking-widest shadow-sm",children:t.category}),t.price<t.originalPrice&&e.jsxs("span",{className:"px-3 py-1 bg-rose-500 text-white rounded-full text-[10px] font-black uppercase tracking-widest shadow-lg shadow-rose-500/30",children:["Save ",Math.round((t.originalPrice-t.price)/t.originalPrice*100),"%"]})]}),e.jsxs("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 flex gap-3 translate-y-12 opacity-0 group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-500 delay-100",children:[e.jsx("button",{onClick:()=>a(t),className:"w-12 h-12 bg-white rounded-2xl flex items-center justify-center text-slate-800 shadow-xl hover:bg-violet-600 hover:text-white transition-all transform hover:scale-110 active:scale-95",children:e.jsx(qs,{size:20})}),e.jsx("button",{onClick:()=>s(t),className:"w-12 h-12 bg-violet-600 rounded-2xl flex items-center justify-center text-white shadow-xl hover:bg-slate-900 transition-all transform hover:scale-110 active:scale-95",children:e.jsx(zc,{size:20})})]})]}),e.jsxs("div",{className:"p-7",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-800 leading-tight group-hover:text-violet-600 transition-colors duration-300",children:t.name}),e.jsxs("div",{className:"flex items-center gap-1.5 bg-amber-50 px-2.5 py-1 rounded-lg",children:[e.jsx(Wl,{size:14,className:"text-amber-500",fill:"currentColor"}),e.jsx("span",{className:"text-xs font-black text-amber-700",children:t.rating})]})]}),e.jsx("p",{className:"text-xs text-slate-500 line-clamp-2 leading-relaxed mb-6 font-medium",children:t.description}),e.jsxs("div",{className:"flex items-end justify-between",children:[e.jsxs("div",{children:[e.jsxs("span",{className:"block text-[10px] text-slate-400 line-through mb-1 font-bold tracking-wider",children:["",t.originalPrice.toLocaleString()]}),e.jsxs("span",{className:"text-2xl font-black bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:["",t.price.toLocaleString()]})]}),e.jsxs("button",{onClick:()=>s(t),className:"relative overflow-hidden group/btn px-6 py-3 bg-slate-900 rounded-2xl text-[10px] font-black text-white uppercase tracking-[0.1em] transition-all hover:bg-violet-600 active:scale-95",children:[e.jsx("span",{className:"relative z-10",children:"Add To Cart"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-600 to-fuchsia-600 scale-x-0 group-hover/btn:scale-x-100 origin-left transition-transform duration-500"})]})]})]})]}),nL=()=>{const[t,s]=v.useState(""),[a,l]=v.useState("All"),[i,o]=v.useState([]),[d,x]=v.useState(null),[u,h]=v.useState(!1),[p,f]=v.useState(!1),[b,g]=v.useState("shop"),[j,A]=v.useState([]),[w,k]=v.useState([]),[C,L]=v.useState("cart");v.useEffect(()=>{N(),P()},[a,t]);const N=async()=>{try{const le=await _g({category:a,search:t});A(le)}catch(le){console.error("Failed to fetch products:",le)}},P=async()=>{try{const le=await oM();k(le)}catch(le){console.error("Failed to fetch orders:",le)}},_=["All","Supplements","Apparel","Equipment","Accesories"],F=le=>{o(V=>V.find(I=>I.id===le.id)?V.map(I=>I.id===le.id?{...I,quantity:I.quantity+1}:I):[...V,{...le,quantity:1}])},R=le=>{o(V=>V.filter(ne=>ne.id!==le))},B=(le,V)=>{o(ne=>ne.map(I=>{if(I.id===le){const oe=Math.max(1,I.quantity+V);return{...I,quantity:oe}}return I}))},T=le=>{x(le),h(!0)},q=()=>{L("checkout")},H=async()=>{L("processing");try{await $w({cartItems:i.map(le=>({id:le.id,quantity:le.quantity})),totalAmount:G}),L("success"),P(),o([])}catch(le){st.error(le),L("checkout")}},G=i.reduce((le,V)=>le+V.price*V.quantity,0),W=i.reduce((le,V)=>le+V.quantity,0);return e.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-white to-violet-50/50 min-h-screen p-6 md:p-8",children:[e.jsx("div",{className:"max-w-7xl mx-auto mb-10",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-8",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute -left-4 -top-4 w-24 h-24 bg-violet-600 rounded-full blur-[80px] opacity-20"}),e.jsxs("h1",{className:"relative text-5xl font-black text-slate-800 flex items-center gap-4 tracking-tight",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-violet-600 to-purple-600 rounded-2xl flex items-center justify-center text-white shadow-xl shadow-violet-500/20 rotate-3",children:e.jsx(zc,{size:30})}),"Gym Store"]}),e.jsx("p",{className:"text-slate-500 mt-3 font-semibold text-lg max-w-md",children:"Premium nutrition & elite performance gear delivered to your locker."})]}),e.jsxs("div",{className:"flex flex-col space-y-4 flex-1 max-w-2xl",children:[e.jsxs("div",{className:"relative group",children:[e.jsx(tt,{className:"absolute left-6 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-600 transition-all duration-300",size:22}),e.jsx("input",{type:"text",placeholder:"Search premium essentials...",className:"w-full pl-16 pr-6 py-5 bg-white border-2 border-slate-100 rounded-3xl text-sm font-bold focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/5 transition-all shadow-xl shadow-slate-200/40 placeholder:text-slate-300",value:t,onChange:le=>s(le.target.value)})]}),e.jsxs("div",{className:"flex bg-white/80 backdrop-blur-md border border-slate-100 rounded-3xl p-1.5 shadow-lg gap-2 mb-6",children:[e.jsx("button",{onClick:()=>g("shop"),className:`flex-1 px-8 py-4 rounded-2xl text-xs font-black uppercase tracking-widest transition-all duration-300 ${b==="shop"?"bg-violet-600 text-white shadow-lg":"text-slate-500 hover:text-slate-900 hover:bg-slate-50"}`,children:"Shop Store"}),e.jsx("button",{onClick:()=>g("orders"),className:`flex-1 px-8 py-4 rounded-2xl text-xs font-black uppercase tracking-widest transition-all duration-300 ${b==="orders"?"bg-violet-600 text-white shadow-lg":"text-slate-500 hover:text-slate-900 hover:bg-slate-50"}`,children:"My Orders"})]}),b==="shop"&&e.jsx("div",{className:"flex bg-white/80 backdrop-blur-md border border-slate-100 rounded-2xl p-1.5 shadow-lg overflow-x-auto no-scrollbar gap-1",children:_.map(le=>e.jsx("button",{onClick:()=>l(le),className:`px-6 py-3 rounded-xl text-xs font-black uppercase tracking-widest transition-all duration-300 shrink-0 ${a===le?"bg-slate-900 text-white shadow-lg":"text-slate-500 hover:text-violet-600 hover:bg-violet-50"} `,children:le},le))})]})]})}),b==="shop"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"max-w-7xl mx-auto mb-16 rounded-[3rem] overflow-hidden relative min-h-[450px] shadow-2xl flex items-center",children:[e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("img",{src:"https://images.unsplash.com/photo-1534438327276-14e5300c3a48?q=80&w=2000&auto=format&fit=crop",alt:"Premium Banner",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-slate-900 via-slate-900/80 to-transparent"})]}),e.jsxs("div",{className:"relative z-10 p-12 md:p-20 max-w-2xl",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 bg-violet-500/20 backdrop-blur-xl border border-violet-400/30 px-5 py-2.5 rounded-full mb-8",children:[e.jsx(nl,{size:18,className:"text-violet-300 animate-pulse"}),e.jsx("span",{className:"text-violet-100 text-[10px] font-black uppercase tracking-[0.2em]",children:"The Performance Collection"})]}),e.jsxs("h2",{className:"text-5xl md:text-7xl font-black text-white leading-[1.1] mb-8",children:["FUEL YOUR ",e.jsx("br",{}),e.jsx("span",{className:"bg-gradient-to-r from-violet-400 to-fuchsia-400 bg-clip-text text-transparent",children:"AMBITION."})]}),e.jsx("p",{className:"text-slate-300 text-lg font-medium leading-relaxed mb-10 max-w-lg",children:"Elite-standard supplements and engineered apparel. Built for those who never settle for average."}),e.jsxs("div",{className:"flex flex-wrap gap-5",children:[e.jsx("button",{className:"px-10 py-5 bg-violet-600 text-white rounded-2xl font-black text-sm uppercase tracking-widest hover:bg-violet-700 transition-all shadow-xl shadow-violet-600/30 hover:scale-105 active:scale-95",children:"Shop The Drop"}),e.jsx("button",{className:"px-10 py-5 bg-white/10 backdrop-blur-md border-2 border-white/20 text-white rounded-2xl font-black text-sm uppercase tracking-widest hover:bg-white hover:text-slate-900 transition-all hover:scale-105 active:scale-95",children:"Learn More"})]})]}),e.jsx("div",{className:"absolute right-0 bottom-0 p-20 hidden lg:block",children:e.jsx("div",{className:"w-64 h-64 border-2 border-white/10 rounded-full animate-[spin_20s_linear_infinite] flex items-center justify-center",children:e.jsx("div",{className:"w-48 h-48 border-2 border-violet-500/20 rounded-full flex items-center justify-center",children:e.jsx("div",{className:"w-32 h-32 bg-violet-500/10 rounded-full backdrop-blur-3xl"})})})})]}),e.jsx("div",{className:"max-w-7xl mx-auto grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-10",children:j.map(le=>e.jsx(lL,{product:le,onAddToCart:F,onViewDetails:T},le.id))}),j.length===0&&e.jsxs("div",{className:"text-center py-32 bg-white rounded-[3rem] border-2 border-dashed border-slate-100 mt-10",children:[e.jsx("div",{className:"w-24 h-24 bg-violet-50 rounded-full flex items-center justify-center mx-auto mb-8 text-violet-200",children:e.jsx(tt,{size:48})}),e.jsx("h3",{className:"text-2xl font-black text-slate-800",children:"No matches found"}),e.jsx("p",{className:"text-slate-500 mt-3 font-medium",children:"Try broadening your search or select a different category."})]})]}):e.jsx("div",{className:"max-w-7xl mx-auto space-y-6",children:e.jsx("div",{className:"bg-white rounded-[3rem] border border-slate-100 shadow-xl overflow-hidden",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-slate-100 bg-slate-50/50",children:[e.jsx("th",{className:"px-10 py-6 text-xs font-black text-slate-400 uppercase tracking-widest",children:"Order ID"}),e.jsx("th",{className:"px-10 py-6 text-xs font-black text-slate-400 uppercase tracking-widest",children:"Date"}),e.jsx("th",{className:"px-10 py-6 text-xs font-black text-slate-400 uppercase tracking-widest",children:"Items"}),e.jsx("th",{className:"px-10 py-6 text-xs font-black text-slate-400 uppercase tracking-widest",children:"Total"}),e.jsx("th",{className:"px-10 py-6 text-xs font-black text-slate-400 uppercase tracking-widest",children:"Status"}),e.jsx("th",{className:"px-10 py-6 text-xs font-black text-slate-400 uppercase tracking-widest text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:w.map(le=>e.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[e.jsx("td",{className:"px-10 py-8",children:e.jsxs("span",{className:"font-black text-slate-900",children:["#",le.id]})}),e.jsx("td",{className:"px-10 py-8",children:e.jsx("span",{className:"font-bold text-slate-500",children:le.date})}),e.jsx("td",{className:"px-10 py-8",children:e.jsxs("span",{className:"font-bold text-slate-900",children:[le.items," Items"]})}),e.jsx("td",{className:"px-10 py-8",children:e.jsxs("span",{className:"font-black text-violet-600",children:["",le.total.toLocaleString()]})}),e.jsx("td",{className:"px-10 py-8",children:e.jsx("span",{className:`px-3 py-1 rounded-lg text-[10px] font-black uppercase tracking-wider ${le.status==="Delivered"?"bg-emerald-100 text-emerald-700":"bg-amber-100 text-amber-700"}`,children:le.status})}),e.jsx("td",{className:"px-10 py-8 text-right",children:e.jsx("button",{className:"text-xs font-black text-violet-600 hover:text-violet-800 uppercase tracking-widest",children:"View Details"})})]},le.id))})]})})}),i.length>0&&e.jsxs("button",{onClick:()=>{L("cart"),f(!0)},className:"fixed bottom-10 right-10 z-[100] group",children:[e.jsx("div",{className:"absolute inset-0 bg-violet-600 rounded-full blur-2xl opacity-40 group-hover:opacity-70 transition-all duration-500 group-hover:scale-125"}),e.jsxs("div",{className:"relative w-20 h-20 bg-violet-600 rounded-2xl flex items-center justify-center text-white shadow-2xl group-hover:scale-110 group-hover:rotate-6 transition-all duration-500 border-4 border-white",children:[e.jsx(zc,{size:32}),e.jsx("span",{className:"absolute -top-3 -right-3 min-w-[32px] h-32px p-2 bg-rose-500 rounded-xl border-4 border-white flex items-center justify-center text-[12px] font-black group-hover:scale-125 transition-all shadow-lg",children:W})]})]}),e.jsx(rt,{isOpen:p,onClose:()=>{f(!1),setTimeout(()=>L("cart"),500)},title:C==="success"?"Order Confirmed!":"Your Shopping Bag",maxWidth:"max-w-md",children:e.jsxs("div",{className:"flex flex-col h-full bg-slate-50 relative overflow-hidden",children:[C==="cart"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-5 custom-scrollbar",children:i.length===0?e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-10",children:[e.jsx("div",{className:"w-20 h-20 bg-slate-100 rounded-full flex items-center justify-center mb-6 text-slate-300",children:e.jsx(zc,{size:40})}),e.jsx("h4",{className:"text-lg font-bold text-slate-700",children:"Your bag is empty"}),e.jsx("p",{className:"text-sm text-slate-400 mt-2",children:"Start adding some items to gear up!"})]}):i.map(le=>e.jsxs("div",{className:"bg-white p-5 rounded-[2rem] flex gap-5 shadow-sm border border-slate-100 group transition-all hover:shadow-xl hover:shadow-violet-500/5",children:[e.jsx("div",{className:"w-28 h-28 rounded-2xl overflow-hidden shrink-0 bg-slate-50 border border-slate-100",children:e.jsx("img",{src:le.image,alt:le.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1 flex flex-col pt-1",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h4",{className:"font-bold text-slate-800 text-sm leading-tight",children:le.name}),e.jsx("button",{onClick:()=>R(le.id),className:"text-slate-300 hover:text-rose-500 transition-colors p-1",children:e.jsx(ms,{size:16})})]}),e.jsxs("span",{className:"text-violet-600 font-extrabold text-sm mt-2",children:["",le.price.toLocaleString()]}),e.jsx("div",{className:"flex items-center justify-between mt-auto",children:e.jsxs("div",{className:"flex items-center bg-slate-100 rounded-xl p-1 gap-4",children:[e.jsx("button",{onClick:()=>B(le.id,-1),className:"w-8 h-8 flex items-center justify-center text-slate-500 hover:bg-white hover:text-violet-600 rounded-lg transition-all font-black text-lg",children:"-"}),e.jsx("span",{className:"text-xs font-black text-slate-800",children:le.quantity}),e.jsx("button",{onClick:()=>B(le.id,1),className:"w-8 h-8 flex items-center justify-center text-slate-500 hover:bg-white hover:text-violet-600 rounded-lg transition-all font-black text-lg",children:"+"})]})})]})]},le.id))}),e.jsxs("div",{className:"shrink-0 p-8 bg-white border-t border-slate-100 space-y-6 shadow-[0_-20px_50px_rgba(0,0,0,0.05)]",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between text-slate-500 font-bold text-sm",children:[e.jsx("span",{children:"Subtotal"}),e.jsxs("span",{className:"text-slate-800",children:["",G.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between text-slate-500 font-bold text-sm",children:[e.jsx("span",{children:"Shipping"}),e.jsx("span",{className:"text-emerald-600 uppercase tracking-widest",children:"Free"})]}),e.jsxs("div",{className:"flex justify-between text-2xl font-black text-slate-800 pt-5 border-t border-slate-100",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{className:"bg-gradient-to-r from-violet-600 to-fuchsia-600 bg-clip-text text-transparent",children:["",G.toLocaleString()]})]})]}),e.jsx("button",{onClick:q,disabled:i.length===0,className:"w-full py-6 bg-violet-600 text-white rounded-[2rem] font-black uppercase tracking-[0.2em] shadow-2xl shadow-violet-500/40 hover:bg-violet-700 transition-all transform hover:scale-[1.02] active:scale-95 disabled:opacity-30 disabled:grayscale disabled:pointer-events-none",children:"Secure Checkout"})]})]}),C==="checkout"&&e.jsxs("div",{className:"flex-1 p-8 space-y-8",children:[e.jsxs("button",{onClick:()=>L("cart"),className:"flex items-center gap-2 text-slate-400 hover:text-violet-600 font-bold text-xs uppercase tracking-widest",children:[e.jsx(js,{className:"rotate-180",size:16})," Back to Cart"]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-black text-slate-800 mb-6",children:"Order Review"}),e.jsxs("div",{className:"space-y-4 bg-white p-6 rounded-[2rem] border border-slate-100",children:[e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-slate-500 font-bold",children:"Locker Delivery"}),e.jsx("span",{className:"text-violet-600 font-black",children:"Locker #24"})]}),e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-slate-500 font-bold",children:"Payment Method"}),e.jsxs("span",{className:"text-slate-800 font-black text-right",children:["Gym Wallet",e.jsx("br",{}),e.jsx("span",{className:"text-[10px] text-slate-400 uppercase",children:"Available: 12,450"})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Summary"}),e.jsxs("div",{className:"bg-slate-900 rounded-[2rem] p-8 text-white space-y-4",children:[e.jsxs("div",{className:"flex justify-between text-slate-400 font-medium",children:[e.jsx("span",{children:"Total Items"}),e.jsx("span",{children:W})]}),e.jsxs("div",{className:"flex justify-between text-3xl font-black border-t border-white/10 pt-4",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{className:"text-violet-400",children:["",G.toLocaleString()]})]})]})]}),e.jsxs("button",{onClick:H,disabled:C==="processing",className:"w-full py-6 bg-violet-600 text-white rounded-[2rem] font-black uppercase tracking-[0.2em] shadow-2xl shadow-violet-500/40 hover:bg-violet-700 transition-all hover:scale-[1.02]",children:[C==="processing"?e.jsx(Hr,{className:"animate-spin inline mr-2"}):"","Confirm & Pay"]})]}),C==="success"&&e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8 text-center bg-white",children:[e.jsxs("div",{className:"w-24 h-24 bg-emerald-100 text-emerald-600 rounded-full flex items-center justify-center mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-emerald-500 rounded-full animate-ping opacity-20"}),e.jsx(Qt,{size:48,className:"relative z-10"})]}),e.jsx("h3",{className:"text-3xl font-black text-slate-800 mb-4 tracking-tight",children:"Purchase Confirmed!"}),e.jsxs("p",{className:"text-slate-500 font-medium leading-relaxed mb-4",children:["Your order has been placed successfully. ",e.jsx("br",{}),"Your items will be delivered to your locker soon."]}),e.jsxs("span",{className:"px-4 py-2 bg-slate-100 rounded-full text-xs font-black text-slate-400 uppercase tracking-widest",children:["Order ID: #GYM-",Math.floor(1e5+Math.random()*9e5)]})]})]})})]})},Yh=async()=>{try{return(await ye.get("/staff/lockers")).data}catch(t){throw t.response?.data?.message||"Failed to fetch lockers"}},Xw=async(t,s,a,l=null)=>{try{return{success:!0,message:"Locker assigned successfully",data:(await ye.post(`/staff/lockers/${t}/assign`,{memberId:s,memberName:a,isPaid:l})).data}}catch(i){return{success:!1,message:i.response?.data?.message||"Failed to assign locker"}}},Kw=async t=>{try{return{success:!0,message:"Locker released successfully",data:(await ye.post(`/staff/lockers/${t}/release`)).data}}catch(s){return{success:!1,message:s.response?.data?.message||"Failed to release locker"}}},iL=async t=>{try{return{success:!0,message:"Locker created successfully",data:(await ye.post("/staff/lockers",t)).data}}catch(s){return{success:!1,message:s.response?.data?.message||"Failed to create locker"}}},oL="modulepreload",cL=function(t){return"/"+t},my={},Eh=function(s,a,l){let i=Promise.resolve();if(a&&a.length>0){let u=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),x=d?.nonce||d?.getAttribute("nonce");i=u(a.map(h=>{if(h=cL(h),h in my)return;my[h]=!0;const p=h.endsWith(".css"),f=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${f}`))return;const b=document.createElement("link");if(b.rel=p?"stylesheet":oL,p||(b.as="script"),b.crossOrigin="",b.href=h,x&&b.setAttribute("nonce",x),document.head.appendChild(b),p)return new Promise((g,j)=>{b.addEventListener("load",g),b.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${h}`)))})}))}function o(d){const x=new Event("vite:preloadError",{cancelable:!0});if(x.payload=d,window.dispatchEvent(x),!x.defaultPrevented)throw d}return i.then(d=>{for(const x of d||[])x.status==="rejected"&&o(x.reason);return s().catch(o)})},dL=({isOpen:t,onClose:s,selectedLocker:a,onSuccess:l})=>{const[i,o]=v.useState({memberName:"",lockerId:"",expiryDate:"",notes:"",isPaid:!1}),[d,x]=v.useState(!1),[u,h]=v.useState([]);v.useEffect(()=>{(async()=>{const{getMembers:b}=await Eh(async()=>{const{getMembers:j}=await import("./memberApi-PWcyPVPE.js");return{getMembers:j}},[]),g=await b();h(g)})()},[]),v.useEffect(()=>{t&&a&&o(f=>({...f,lockerId:a.id,isPaid:a.isPaid||!1}))},[t,a]);const p=async f=>{f.preventDefault();const b=u.find(g=>g.name===i.memberName);if(!b){alert("Please select a valid member");return}x(!0);try{const g=await Xw(i.lockerId,b.id,b.name,i.isPaid);g.success?(alert(g.message),l(),s()):alert(g.message)}catch(g){console.error(g)}finally{x(!1)}};return e.jsx(rt,{isOpen:t,onClose:s,title:"Locker Assignment",subtitle:a?`Locker #${a.number}`:"Assign Locker",maxWidth:"max-w-md",footer:e.jsxs("div",{className:"flex gap-3 w-full",children:[e.jsx("button",{type:"button",onClick:s,className:"flex-1 px-4 py-3 bg-white border-2 border-slate-200 text-slate-700 rounded-xl text-sm font-bold hover:bg-slate-50 transition-all",children:"Cancel"}),e.jsxs("button",{type:"submit",form:"locker-assign-form",disabled:d,className:"flex-[2] px-4 py-3 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-xl text-sm font-bold hover:shadow-lg hover:shadow-violet-500/30 transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:[e.jsx(Qt,{size:18}),d?"Processing...":"Save Assignment"]})]}),children:e.jsx("form",{id:"locker-assign-form",onSubmit:p,className:"flex flex-col h-full",children:e.jsxs("div",{className:"flex-1 overflow-y-auto pr-2 space-y-8 custom-scrollbar",children:[e.jsxs("div",{className:"p-4 bg-emerald-50 rounded-2xl border border-emerald-100 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-emerald-600 flex items-center justify-center text-white shadow-lg",children:e.jsx(Rs,{size:24})}),e.jsxs("div",{children:[e.jsx("span",{className:"text-[10px] font-black text-emerald-400 uppercase tracking-widest",children:"Assigning Locker"}),e.jsxs("h3",{className:"text-xl font-bold text-slate-800",children:["Locker #",a?.number]})]})]}),e.jsx("span",{className:"px-3 py-1 bg-emerald-100 text-emerald-600 rounded-lg text-[10px] font-black uppercase tracking-widest",children:"Free"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-xs font-black text-slate-500 uppercase tracking-widest flex items-center gap-2",children:[e.jsx(lt,{size:14,className:"text-violet-500"}),"Member Selection *"]}),e.jsx(us,{options:u.map(f=>f.name),value:i.memberName,onChange:f=>o({...i,memberName:f}),placeholder:"Choose a member"})]}),e.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border-2 border-slate-100 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx("label",{className:"text-xs font-black text-slate-700 uppercase tracking-widest",children:"Billing Mode"}),e.jsx("p",{className:"text-[10px] text-slate-500 font-medium italic",children:"Should this locker be billed?"})]}),e.jsx("button",{type:"button",onClick:()=>o({...i,isPaid:!i.isPaid}),className:`w-14 h-8 rounded-full p-1 transition-all duration-300 ${i.isPaid?"bg-violet-600":"bg-slate-300"}`,children:e.jsx("div",{className:`w-6 h-6 bg-white rounded-full shadow-md transform transition-transform duration-300 ${i.isPaid?"translate-x-6":"translate-x-0"}`})})]}),i.isPaid&&e.jsxs("div",{className:"pt-3 border-t border-slate-200 flex items-center justify-between animate-in fade-in duration-300",children:[e.jsx("span",{className:"text-[10px] font-black text-indigo-600 uppercase tracking-widest",children:"Monthly Rate"}),e.jsxs("span",{className:"text-sm font-black text-slate-800",children:["",a?.price||500]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-xs font-black text-slate-500 uppercase tracking-widest flex items-center gap-2",children:[e.jsx(Ve,{size:14,className:"text-violet-500"}),"Assignment Expiry *"]}),e.jsx("input",{type:"date",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl font-bold text-slate-700 focus:bg-white focus:border-violet-500 transition-all",value:i.expiryDate,onChange:f=>o({...i,expiryDate:f.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-xs font-black text-slate-500 uppercase tracking-widest flex items-center gap-2",children:[e.jsx(Va,{size:14,className:"text-violet-500"}),"Internal Notes"]}),e.jsx("textarea",{rows:"3",placeholder:"Notes about locker usage, items stored, or special requests...",className:"w-full p-4 bg-slate-50 border-2 border-slate-200 rounded-xl font-medium text-slate-700 focus:bg-white focus:border-violet-500 transition-all resize-none",value:i.notes,onChange:f=>o({...i,notes:f.target.value})})]})]})})})},xL=({isOpen:t,onClose:s,selectedLocker:a,onSuccess:l})=>{const[i,o]=v.useState(!1),d=async()=>{if(a){o(!0);try{const x=await Kw(a.id);x.success?(alert(x.message),l(),s()):alert(x.message)}catch(x){console.error(x)}finally{o(!1)}}};return e.jsx(rt,{isOpen:t,onClose:s,title:"Locker Status",subtitle:a?`Locker #${a.number}`:"Locker Details",maxWidth:"max-w-md",footer:e.jsxs("div",{className:"flex flex-col gap-4 w-full",children:[a&&e.jsxs("button",{onClick:d,disabled:i,className:"w-full py-5 bg-rose-600 text-white rounded-[24px] font-black shadow-xl shadow-rose-500/30 hover:bg-rose-700 transition-all transform hover:scale-[1.02] flex items-center justify-center gap-3",children:[e.jsx(vn,{size:22}),i?"Releasing...":"Confirm Release & Clear"]}),e.jsx("button",{onClick:s,className:"w-full py-4 text-slate-400 font-bold hover:text-slate-600 transition-all",children:"Dismiss View"})]}),children:a&&e.jsx("div",{className:"flex flex-col h-full bg-slate-50",children:e.jsxs("div",{className:"flex-1 overflow-y-auto pr-2 space-y-8 custom-scrollbar",children:[e.jsxs("div",{className:"bg-rose-50 border border-rose-100 rounded-3xl p-6 flex flex-col items-center text-center",children:[e.jsxs("div",{className:"w-20 h-20 bg-white rounded-full flex items-center justify-center text-rose-500 shadow-xl mb-4 relative",children:[e.jsx(Rs,{size:40}),e.jsx("div",{className:"absolute top-0 right-0 w-6 h-6 bg-rose-500 rounded-full border-4 border-white animate-pulse"})]}),e.jsx("h3",{className:"text-2xl font-black text-slate-800 tracking-tight",children:"Occupied Locker"}),e.jsxs("p",{className:"text-sm font-bold text-rose-600 uppercase tracking-widest mt-1",children:["Locker #",a.number]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Occupant Information"}),e.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-sm border border-slate-100 space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-violet-100 to-purple-100 text-violet-600 flex items-center justify-center font-black",children:a.assignee?.charAt(0)||"?"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-bold text-slate-800",children:a.assignee||"Anonymous Member"}),e.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Member ID: MEM-2931-X"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6 pt-6 border-t border-slate-50",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-400 mb-1",children:[e.jsx(Ve,{size:14}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-wider",children:"Assigned On"})]}),e.jsx("p",{className:"text-sm font-bold text-slate-700",children:"Oct 12, 2023"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-400 mb-1",children:[e.jsx(Qe,{size:14}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-wider",children:"Expires On"})]}),e.jsx("p",{className:"text-sm font-bold text-rose-600",children:"Dec 31, 2023"})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Internal Notes"}),e.jsx("div",{className:"bg-white rounded-3xl p-6 shadow-sm border border-slate-100 italic text-sm text-slate-500 font-medium",children:'"Member requested locker near the showers. Storing gym bag and personal training equipment."'})]}),e.jsxs("div",{className:"bg-rose-50 border border-rose-100 rounded-2xl p-4 flex gap-3 text-rose-700",children:[e.jsx(lt,{className:"shrink-0",size:18}),e.jsx("p",{className:"text-[10px] font-bold leading-relaxed uppercase",children:"Releasing this locker will make it immediately available for other members. Current items should be cleared."})]})]})})})},uL=({isOpen:t,onClose:s,onSuccess:a})=>{const[l,i]=v.useState({number:"",area:"Men's Changing Room",size:"Medium",isPaid:!1,price:""}),[o,d]=v.useState(!1),x=async u=>{u.preventDefault(),d(!0);try{await iL({...l,price:l.isPaid?parseFloat(l.price):0}),a(),s(),i({number:"",area:"Men's Changing Room",size:"Medium",isPaid:!1,price:""})}catch(h){console.error(h)}finally{d(!1)}};return e.jsx(rt,{isOpen:t,onClose:s,title:"Add New Locker",subtitle:"Register new storage unit",maxWidth:"max-w-md",footer:e.jsxs("div",{className:"flex gap-3 w-full",children:[e.jsx("button",{type:"button",onClick:s,className:"flex-1 px-4 py-3 bg-white border-2 border-slate-200 text-slate-700 rounded-xl text-sm font-bold hover:bg-slate-50 transition-all",children:"Cancel"}),e.jsxs("button",{type:"submit",form:"create-locker-form",disabled:o,className:"flex-[2] px-4 py-3 bg-slate-900 text-white rounded-xl text-sm font-bold hover:bg-violet-600 hover:shadow-lg hover:shadow-violet-500/30 transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:[e.jsx(Qt,{size:18}),o?"Creating...":"Create Locker"]})]}),children:e.jsx("form",{id:"create-locker-form",onSubmit:x,className:"flex flex-col h-full",children:e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8 custom-scrollbar",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-xs font-black text-slate-500 uppercase tracking-widest flex items-center gap-2",children:[e.jsx(Rs,{size:14,className:"text-violet-500"}),"Locker Number *"]}),e.jsx("input",{type:"text",placeholder:"e.g. L-101",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl font-bold text-slate-800 focus:bg-white focus:border-violet-500 transition-all uppercase",value:l.number,onChange:u=>i({...l,number:u.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-xs font-black text-slate-500 uppercase tracking-widest flex items-center gap-2",children:[e.jsx($s,{size:14,className:"text-violet-500"}),"Location Area"]}),e.jsxs("select",{className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl font-bold text-slate-700 focus:bg-white focus:border-violet-500 transition-all appearance-none",value:l.area,onChange:u=>i({...l,area:u.target.value}),children:[e.jsx("option",{children:"Men's Changing Room"}),e.jsx("option",{children:"Women's Changing Room"}),e.jsx("option",{children:"General Hallway"}),e.jsx("option",{children:"VIP Lounge"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-xs font-black text-slate-500 uppercase tracking-widest flex items-center gap-2",children:[e.jsx(J0,{size:14,className:"text-violet-500"}),"Size Configuration"]}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:["Small","Medium","Large"].map(u=>e.jsx("button",{type:"button",onClick:()=>i({...l,size:u}),className:`py-3 rounded-xl text-xs font-black uppercase tracking-wider border-2 transition-all ${l.size===u?"border-violet-600 bg-violet-50 text-violet-700":"border-slate-100 bg-white text-slate-400 hover:border-slate-200"}`,children:u},u))})]}),e.jsxs("div",{className:"space-y-6 pt-4 border-t border-slate-100",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-br from-slate-50 to-white border border-slate-200 rounded-2xl",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-slate-800 text-sm",children:"Paid Locker?"}),e.jsx("p",{className:"text-[10px] text-slate-500 font-medium mt-0.5",children:"Require subscription for usage"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:l.isPaid,onChange:u=>i({...l,isPaid:u.target.checked}),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-slate-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-violet-600"})]})]}),l.isPaid&&e.jsxs("div",{className:"space-y-3 animate-in fade-in slide-in-from-top-2",children:[e.jsxs("label",{className:"text-xs font-black text-slate-500 uppercase tracking-widest flex items-center gap-2",children:[e.jsx(Vn,{size:14,className:"text-violet-500"}),"Monthly Price () *"]}),e.jsx("input",{type:"number",placeholder:"e.g. 500",className:"w-full px-4 py-3 bg-white border-2 border-violet-100 rounded-xl font-bold text-violet-800 focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all",value:l.price,onChange:u=>i({...l,price:u.target.value}),required:l.isPaid})]})]})]})})})},py=()=>{const[t,s]=v.useState([]),[a,l]=v.useState(!0),[i,o]=v.useState(""),[d,x]=v.useState("All"),[u,h]=v.useState(!1),[p,f]=v.useState(!1),[b,g]=v.useState(!1),[j,A]=v.useState(null);v.useEffect(()=>{w()},[]);const w=async()=>{l(!0);try{const N=await Yh();s(N)}catch(N){console.error(N)}finally{l(!1)}},k=N=>{A(N),N.status==="Available"?h(!0):f(!0)},C=t.filter(N=>{const P=N.number.toLowerCase().includes(i.toLowerCase())||N.assignee&&N.assignee.toLowerCase().includes(i.toLowerCase()),_=d==="All"||N.status===d;return P&&_}),L={total:t.length,available:t.filter(N=>N.status==="Available").length,occupied:t.filter(N=>N.status==="Occupied").length,maintenance:t.filter(N=>N.status==="Maintenance").length};return e.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-white to-violet-50/20 min-h-screen p-6 md:p-8 font-sans",children:[e.jsx("div",{className:"max-w-7xl mx-auto mb-10",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-8",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute -top-10 -left-10 w-40 h-40 bg-violet-200 rounded-full blur-3xl opacity-20 pointer-events-none"}),e.jsxs("h1",{className:"relative text-3xl md:text-4xl font-black text-slate-800 flex items-center gap-3",children:[e.jsx(Rs,{className:"text-violet-600",size:32}),"Locker Management"]}),e.jsx("p",{className:"text-slate-500 mt-2 font-medium",children:"Monitor and manage facility storage units"})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[e.jsx("div",{className:"flex overflow-x-auto no-scrollbar max-w-[calc(100vw-6rem)] md:max-w-none bg-white/60 backdrop-blur-sm border-2 border-slate-100 rounded-2xl p-1 shadow-sm",children:["All","Available","Occupied","Maintenance"].map(N=>e.jsx("button",{onClick:()=>x(N),className:`px-5 py-2.5 rounded-xl text-xs font-bold transition-all whitespace-nowrap ${d===N?"bg-violet-600 text-white shadow-lg shadow-violet-500/30":"text-slate-500 hover:text-slate-800"}`,children:N},N))}),e.jsx("button",{className:"p-4 bg-white border-2 border-slate-100 text-slate-400 rounded-2xl hover:text-violet-600 hover:border-violet-100 transition-all shadow-sm",children:e.jsx(Hr,{size:20,className:a?"animate-spin":""})})]})]})}),e.jsx("div",{className:"max-w-7xl mx-auto grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-8 mb-10",children:[{label:"Total Units",value:L.total,color:"slate",icon:Rs},{label:"Available",value:L.available,color:"emerald",icon:Xn},{label:"Occupied",value:L.occupied,color:"amber",icon:Mh},{label:"Maintenance",value:L.maintenance,color:"rose",icon:Kl}].map((N,P)=>e.jsxs("div",{className:"bg-white/60 backdrop-blur-md border border-white/50 p-6 rounded-[32px] shadow-sm hover:shadow-xl transition-all group overflow-hidden relative",children:[e.jsx("div",{className:`absolute -right-4 -bottom-4 opacity-[0.03] group-hover:scale-150 transition-transform duration-700 text-${N.color}-900`,children:e.jsx(N.icon,{size:120})}),e.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2",children:N.label}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-black text-slate-800",children:N.value}),e.jsx("span",{className:`text-${N.color}-500 text-[10px] font-bold`,children:"Units"})]})]},P))}),e.jsxs("div",{className:"max-w-7xl mx-auto mb-8 flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1 group",children:[e.jsx(tt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-600 transition-all",size:20}),e.jsx("input",{type:"text",placeholder:"Search by locker number or member...",className:"w-full pl-12 pr-4 py-4 bg-white/60 backdrop-blur-sm border-2 border-slate-100 rounded-2xl text-sm focus:outline-none focus:border-violet-500 transition-all shadow-sm font-medium",value:i,onChange:N=>o(N.target.value)})]}),e.jsxs("button",{onClick:()=>g(!0),className:"px-8 py-4 bg-slate-900 text-white rounded-2xl font-bold flex items-center justify-center gap-2 hover:bg-violet-600 transition-all shadow-xl shadow-slate-200",children:[e.jsx(wt,{size:20})," Add New Units"]})]}),e.jsx("div",{className:"max-w-7xl mx-auto",children:a?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 gap-4",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-violet-100 border-t-violet-600 rounded-full animate-spin"}),e.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Loading Lockers..."})]}):e.jsx("div",{className:"bg-white/60 backdrop-blur-md border border-white/50 rounded-[32px] shadow-xl overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-slate-100",children:[e.jsx("th",{className:"px-8 py-6 text-[10px] font-black text-slate-400 uppercase tracking-widest ",children:"Locker Number"}),e.jsx("th",{className:"px-8 py-6 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Assigned To"}),e.jsx("th",{className:"px-8 py-6 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Status"}),e.jsx("th",{className:"px-8 py-6 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Billing"}),e.jsx("th",{className:"px-8 py-6 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Actions"})]})}),e.jsx("tbody",{children:C.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"py-24 text-center",children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-[32px] flex items-center justify-center text-slate-200 mb-4",children:e.jsx(Rs,{size:32})}),e.jsx("h3",{className:"text-lg font-black text-slate-800",children:"No Lockers Found"}),e.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Try adjusting your filters."})]})})}):C.map(N=>e.jsxs("tr",{className:"group hover:bg-violet-50/30 transition-colors border-b border-slate-50 last:border-0",children:[e.jsx("td",{className:"px-8 py-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center shadow-sm ${N.status==="Available"?"bg-emerald-50 text-emerald-600":N.status==="Occupied"?"bg-rose-50 text-rose-600":"bg-slate-50 text-slate-400"}`,children:e.jsx(Rs,{size:18})}),e.jsx("span",{className:"font-black text-slate-800 tracking-tight text-lg",children:N.number})]})}),e.jsx("td",{className:"px-8 py-6",children:N.assignee?e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-violet-100 flex items-center justify-center text-[10px] font-black text-violet-600",children:N.assignee.charAt(0)}),e.jsx("span",{className:"font-bold text-slate-700 text-sm",children:N.assignee})]}):e.jsx("span",{className:"text-slate-300 font-medium",children:""})}),e.jsx("td",{className:"px-8 py-6",children:e.jsx("div",{className:"flex justify-center",children:e.jsx("span",{className:`px-4 py-1.5 rounded-full text-[10px] font-black uppercase tracking-widest border transition-all ${N.status==="Available"?"bg-emerald-50 text-emerald-600 border-emerald-100":N.status==="Occupied"?"bg-rose-50 text-rose-600 border-rose-100":"bg-slate-50 text-slate-400 border-slate-100"}`,children:N.status==="Available"?"Free":N.status})})}),e.jsx("td",{className:"px-8 py-6",children:e.jsx("div",{className:"flex justify-center",children:e.jsx("span",{className:`px-3 py-1 rounded-lg text-[8px] font-black uppercase tracking-widest border ${N.isPaid?"bg-indigo-50 text-indigo-600 border-indigo-100":"bg-slate-50 text-slate-400 border-slate-100"}`,children:N.isPaid?"Paid":"Free"})})}),e.jsx("td",{className:"px-8 py-6 text-right",children:e.jsx("button",{onClick:()=>k(N),className:`px-5 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${N.status==="Available"?"bg-slate-900 text-white hover:bg-violet-600 hover:shadow-lg hover:shadow-violet-200":"bg-rose-50 text-rose-600 hover:bg-rose-600 hover:text-white"}`,children:N.status==="Available"?"Assign":"Release"})})]},N.id))})]})})})}),e.jsx(dL,{isOpen:u,onClose:()=>h(!1),selectedLocker:j,onSuccess:w}),e.jsx(xL,{isOpen:p,onClose:()=>f(!1),selectedLocker:j,onSuccess:w}),e.jsx(uL,{isOpen:b,onClose:()=>g(!1),onSuccess:()=>{w(),alert("Locker created successfully!")}})]})},hL=()=>{const t=qt(),{state:s}=Tr(),[a,l]=v.useState({memberName:s?.memberName||"",lockerId:"",expiryDate:"",notes:""}),[i,o]=v.useState([]),d=["Rahul Sharma","Vikram Malhotra","Sneha Gupta","Amit Verma","Alice Johnson"];v.useEffect(()=>{(async()=>{const f=(await Yh()).filter(b=>b.status.toLowerCase()==="available");o(f)})()},[]);const x=h=>{const{name:p,value:f}=h.target;l(b=>({...b,[p]:f}))},u=async h=>{h.preventDefault();const p=await Xw(a.lockerId,"mock-mem-id",a.memberName);if(p.success){alert(p.message),l({memberName:"",lockerId:"",expiryDate:"",notes:""});const f=await Yh();o(f.filter(b=>b.status==="Available"))}else alert(p.message)};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-6 animate-fadeIn",children:[e.jsxs("div",{className:"mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(Rs,{size:28,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Assign Locker"}),e.jsx("span",{className:"px-2 py-0.5 bg-gradient-to-r from-violet-500 to-purple-600 text-white text-[10px] font-black rounded-md shadow-sm animate-pulse",children:"Action Mode"})]}),e.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Allocate a locker to a member for a specific duration"})]})]}),e.jsxs("button",{onClick:()=>t("/staff/lockers/release"),className:"group flex items-center gap-2 px-5 py-3 bg-white border border-slate-200 text-slate-600 rounded-xl text-sm font-bold shadow-sm hover:border-violet-500 hover:text-violet-600 hover:shadow-md transition-all duration-300",children:[e.jsx(vn,{size:18,className:"text-slate-400 group-hover:text-violet-500 rotate-180 transition-colors"}),"View Occupied Lockers"]})]})})]}),e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsxs("div",{className:"group relative bg-white rounded-3xl shadow-xl border border-slate-100 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50/10 to-purple-50/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"}),e.jsxs("form",{onSubmit:u,className:"relative z-10 p-8 space-y-8",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-sm font-black text-slate-700 flex items-center gap-2 uppercase tracking-wide",children:[e.jsx(lt,{size:16,className:"text-violet-500"}),"Member Name"]}),e.jsx(us,{options:d,value:a.memberName,onChange:h=>x({target:{name:"memberName",value:h}}),placeholder:"Select Member",className:"w-full"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-sm font-black text-slate-700 flex items-center gap-2 uppercase tracking-wide",children:[e.jsx(Wh,{size:16,className:"text-violet-500"}),"Locker Number"]}),e.jsx(us,{options:i.map(h=>({value:h.id,label:h.number})),value:a.lockerId,onChange:h=>x({target:{name:"lockerId",value:h}}),placeholder:"Select Locker",className:"w-full"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-sm font-black text-slate-700 flex items-center gap-2 uppercase tracking-wide",children:[e.jsx(Ve,{size:16,className:"text-violet-500"}),"Expiry Date"]}),e.jsx("div",{className:"relative group/input",children:e.jsx("input",{type:"date",name:"expiryDate",className:"w-full h-12 px-4 bg-slate-50 border-2 border-slate-200 rounded-xl font-bold text-slate-700 focus:bg-white focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all duration-300",value:a.expiryDate,onChange:x,required:!0})})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-sm font-black text-slate-700 flex items-center gap-2 uppercase tracking-wide",children:[e.jsx(Va,{size:16,className:"text-violet-500"}),"Notes (Optional)"]}),e.jsx("textarea",{name:"notes",placeholder:"Add any specific instructions or items stored...",rows:"3",className:"w-full p-4 bg-slate-50 border-2 border-slate-200 rounded-xl font-medium text-slate-700 focus:bg-white focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all duration-300 resize-none",value:a.notes,onChange:x})]}),e.jsx("div",{className:"pt-4",children:e.jsxs("button",{type:"submit",className:"w-full h-14 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-xl shadow-xl shadow-violet-500/40 text-lg font-bold transition-all flex items-center justify-center gap-3 hover:shadow-2xl hover:shadow-violet-500/50 hover:scale-[1.02] active:scale-[0.98]",children:[e.jsx(Qt,{size:22,strokeWidth:2.5}),"Confirm Assignment"]})})]})]})})]})},mL=()=>{const t=qt(),[s,a]=v.useState([]);v.useEffect(()=>{l()},[]);const l=async()=>{const d=(await Yh()).filter(x=>x.status==="Occupied").map(x=>({id:x.id,name:x.assignee||"Unknown Member",locker:x.number,assigned:"2023-01-01",expiry:"2023-12-31"}));a(d)},i=async o=>{if(window.confirm("Are you sure you want to release this locker?")){const d=await Kw(o);d.success?(alert(d.message),l()):alert(d.message)}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6 animate-fadeIn",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6 flex-shrink-0",children:e.jsx(vn,{size:24,className:"sm:w-7 sm:h-7",strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Release Locker"}),e.jsx("span",{className:"px-2 py-0.5 bg-gradient-to-r from-violet-500 to-purple-600 text-white text-[10px] font-black rounded-md shadow-sm animate-pulse whitespace-nowrap",children:"Admin Mode"})]}),e.jsx("p",{className:"text-slate-600 text-xs sm:text-sm mt-1",children:"Manage and release occupied lockers for upcoming members"})]})]}),e.jsxs("button",{onClick:()=>t("/staff/lockers/assign"),className:"group flex items-center justify-center gap-2 px-5 py-3 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-xl text-sm font-bold shadow-xl shadow-violet-500/50 hover:shadow-2xl hover:shadow-violet-500/60 hover:scale-105 transition-all duration-300 w-full sm:w-auto",children:[e.jsx(wt,{size:18,strokeWidth:2.5}),"Assign New Locker"]})]})})]}),e.jsxs("div",{className:"bg-white rounded-3xl shadow-xl border border-slate-100 overflow-hidden",children:[e.jsx("div",{className:"p-4 sm:p-6 border-b border-slate-100 bg-slate-50/50 flex flex-col md:flex-row justify-between items-center gap-4",children:e.jsxs("div",{className:"relative w-full md:w-96 group",children:[e.jsx(tt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 transition-colors",size:20}),e.jsx("input",{type:"text",placeholder:"Search locker or member name...",className:"w-full pl-12 pr-4 py-3 bg-white border-2 border-slate-200 rounded-xl font-bold text-slate-700 focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all duration-300"})]})}),e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"w-full hidden md:table",children:[e.jsx("thead",{className:"bg-slate-50/80 border-b border-slate-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-5 px-6 text-left text-xs font-black text-slate-400 uppercase tracking-widest",children:"Member"}),e.jsx("th",{className:"py-5 px-6 text-left text-xs font-black text-slate-400 uppercase tracking-widest",children:"Locker #"}),e.jsx("th",{className:"py-5 px-6 text-left text-xs font-black text-slate-400 uppercase tracking-widest",children:"Assigned"}),e.jsx("th",{className:"py-5 px-6 text-left text-xs font-black text-slate-400 uppercase tracking-widest",children:"Expiry"}),e.jsx("th",{className:"py-5 px-6 text-right text-xs font-black text-slate-400 uppercase tracking-widest",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:s.map(o=>e.jsxs("tr",{className:"group hover:bg-violet-50/30 transition-colors duration-200",children:[e.jsx("td",{className:"py-5 px-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"h-10 w-10 rounded-xl bg-gradient-to-br from-violet-100 to-purple-100 text-violet-600 flex items-center justify-center font-bold text-sm shadow-sm group-hover:scale-110 transition-transform duration-300",children:(o.name||"?").charAt(0)}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-slate-800 text-sm",children:o.name}),e.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-wider",children:"Premium Member"})]})]})}),e.jsx("td",{className:"py-5 px-6",children:e.jsxs("span",{className:"inline-flex items-center justify-center px-3 py-1.5 rounded-lg bg-violet-50 text-violet-700 text-xs font-black border border-violet-100",children:[e.jsx(Rs,{size:12,className:"mr-1.5"}),o.locker]})}),e.jsx("td",{className:"py-5 px-6",children:e.jsx("div",{className:"text-sm font-medium text-slate-500",children:o.assigned})}),e.jsx("td",{className:"py-5 px-6",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold text-slate-700",children:[e.jsx(Ve,{size:14,className:"text-slate-400"}),o.expiry]})}),e.jsx("td",{className:"py-5 px-6 text-right",children:e.jsxs("button",{onClick:()=>i(o.id),className:"inline-flex items-center gap-2 px-4 py-2 bg-white border-2 border-slate-200 text-slate-600 hover:border-red-200 hover:bg-red-50 hover:text-red-600 rounded-xl text-xs font-bold transition-all shadow-sm hover:shadow-md",children:[e.jsx(vn,{size:14}),"Release"]})})]},o.id))})]}),e.jsx("div",{className:"md:hidden p-4 space-y-4",children:s.map(o=>e.jsx(Ya,{title:o.name,subtitle:"Premium Member",badge:`#${o.locker}`,badgeColor:"violet",fields:[{label:"Assigned",value:o.assigned},{label:"Expiry",value:o.expiry,icon:Ve}],actions:[{label:"Release Locker",icon:vn,onClick:()=>i(o.id),variant:"danger"}]},o.id))})]})]})]})},pL=async(t={})=>{try{return(await ye.get("/staff/tasks",{params:{...t,myTasks:!0}})).data}catch(s){throw s.response?.data?.message||"Failed to fetch my tasks"}},fy=async(t={})=>{try{return(await ye.get("/staff/tasks",{params:t})).data}catch(s){throw s.response?.data?.message||"Failed to fetch all tasks"}},fL=async(t,s)=>{try{return(await ye.patch(`/staff/tasks/${t}/status`,{status:s})).data}catch(a){throw a.response?.data?.message||"Failed to update task status"}},gL=()=>{const[t,s]=v.useState(""),[a,l]=v.useState("All"),[i,o]=v.useState([]),[d,x]=v.useState(!0),[u,h]=v.useState(1),p=5;v.useEffect(()=>{f(),h(1)},[a,t]);const f=async()=>{x(!0);try{const C=await pL({status:a,search:t});o(C)}catch(C){console.error("Failed to load tasks:",C)}finally{x(!1)}},b=async C=>{await fL(C,"Completed"),f()},g=C=>{switch(C){case"High":return e.jsx("span",{className:"px-2.5 py-1 rounded-full text-[10px] font-black bg-red-100 text-red-700 border border-red-200",children:"HIGH"});case"Medium":return e.jsx("span",{className:"px-2.5 py-1 rounded-full text-[10px] font-black bg-yellow-100 text-yellow-700 border border-yellow-200",children:"MEDIUM"});case"Low":return e.jsx("span",{className:"px-2.5 py-1 rounded-full text-[10px] font-black bg-green-100 text-green-700 border border-green-200",children:"LOW"});default:return null}},j=C=>{switch(C){case"Completed":return e.jsx("span",{className:"px-2.5 py-1 rounded-full text-[10px] font-black bg-blue-100 text-blue-700 uppercase",children:"Completed"});case"In Progress":return e.jsx("span",{className:"px-2.5 py-1 rounded-full text-[10px] font-black bg-indigo-100 text-indigo-700 uppercase",children:"In Progress"});case"Pending":return e.jsx("span",{className:"px-2.5 py-1 rounded-full text-[10px] font-black bg-gray-100 text-gray-600 uppercase",children:"Pending"});default:return null}},A=Math.ceil(i.length/p),w=(u-1)*p,k=i.slice(w,w+p);return e.jsxs("div",{className:"p-6 md:p-8 bg-gray-50 min-h-screen font-sans staffdashboard-mytasks",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900 tracking-tight",children:"My Tasks"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Manage and track your daily operational responsibilities."})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-gray-50 flex flex-col md:flex-row gap-4 justify-between items-center",children:[e.jsxs("div",{className:"relative w-full md:w-96",children:[e.jsx(tt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{type:"text",placeholder:"Find a task...",className:"saas-input pl-10 h-11 w-full rounded-xl border-gray-200 text-sm focus:ring-2 focus:ring-indigo-500",value:t,onChange:C=>s(C.target.value)})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ks,{size:18,className:"text-indigo-500"}),e.jsx(us,{options:[{value:"All",label:"All Status"},{value:"Pending",label:"Pending"},{value:"In Progress",label:"In Progress"},{value:"Completed",label:"Completed"}],value:a,onChange:l,className:"w-[180px]"})]})]}),e.jsx("div",{className:"saas-table-wrapper",children:e.jsxs("table",{className:"saas-table saas-table-responsive",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Task Details"}),e.jsx("th",{children:"Assigned By"}),e.jsx("th",{className:"text-center",children:"Priority"}),e.jsx("th",{children:"Due Date"}),e.jsx("th",{className:"text-center",children:"Status"}),e.jsx("th",{className:"text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:d?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-10 text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-2 text-indigo-600",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-indigo-600 border-t-transparent rounded-full animate-spin"}),e.jsx("span",{className:"text-sm font-medium",children:"Loading tasks..."})]})})}):k.length>0?k.map(C=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-all duration-200 group",children:[e.jsx("td",{"data-label":"Task Details",children:e.jsx("p",{className:"text-sm font-bold text-gray-800 tracking-tight group-hover:text-indigo-600 transition-colors",children:C.title})}),e.jsx("td",{"data-label":"Assigned By",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(lt,{size:14,className:"text-gray-400"}),e.jsx("span",{className:"text-xs font-semibold text-gray-600",children:C.assignedBy})]})}),e.jsx("td",{"data-label":"Priority",className:"text-center",children:g(C.priority)}),e.jsx("td",{"data-label":"Due Date",children:e.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-gray-500",children:[e.jsx(Qe,{size:14,className:"text-gray-400"}),C.due]})}),e.jsx("td",{"data-label":"Status",className:"text-center",children:j(C.status)}),e.jsx("td",{"data-label":"Actions",className:"text-right",children:C.status!=="Completed"&&e.jsx("button",{onClick:()=>b(C.id),className:"bg-green-500 hover:bg-green-600 text-white p-2 rounded-lg shadow-sm transition-all active:scale-95",title:"Mark Complete",children:e.jsx(Xt,{size:16})})})]},C.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-10 text-center text-gray-500 text-sm",children:"No tasks found matching your search."})})})]})})]}),e.jsxs("div",{className:"mt-8 flex items-center justify-between text-[10px] text-gray-400 font-bold uppercase tracking-widest px-2",children:[e.jsxs("p",{children:["Showing ",i.length>0?w+1:0," to ",Math.min(w+p,i.length)," of ",i.length," tasks"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>h(C=>Math.max(C-1,1)),disabled:u===1,className:"px-3 py-1 border border-gray-200 rounded hover:bg-white transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Prev"}),Array.from({length:A},(C,L)=>L+1).map(C=>e.jsx("button",{onClick:()=>h(C),className:`px-3 py-1 border rounded transition-colors ${u===C?"border-indigo-600 bg-indigo-600 text-white":"border-gray-200 hover:bg-white"}`,children:C},C)),e.jsx("button",{onClick:()=>h(C=>Math.min(C+1,A)),disabled:u===A||A===0,className:"px-3 py-1 border border-gray-200 rounded hover:bg-white transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})},bL=()=>{const[t,s]=v.useState(""),[a,l]=v.useState("All"),[i,o]=v.useState([]),[d,x]=v.useState(!0),[u,h]=v.useState([{label:"Total Tasks",value:"0",icon:al,bg:"bg-indigo-50",color:"text-indigo-600"},{label:"Pending",value:"0",icon:Qe,bg:"bg-yellow-50",color:"text-yellow-600"},{label:"In Progress",value:"0",icon:$t,bg:"bg-blue-50",color:"text-blue-600"},{label:"Completed",value:"0",icon:Qt,bg:"bg-green-50",color:"text-green-600"}]),[p,f]=v.useState(1),b=5;v.useEffect(()=>{g(),f(1)},[a,t]);const g=async()=>{x(!0);try{const L=await fy();j(L);const N=await fy({status:a,search:t});o(N)}catch(L){console.error("Failed to load tasks:",L)}finally{x(!1)}},j=L=>{h([{label:"Total Tasks",value:L.length.toString(),icon:al,bg:"bg-indigo-50",color:"text-indigo-600"},{label:"Pending",value:L.filter(N=>N.status==="Pending").length.toString(),icon:Qe,bg:"bg-yellow-50",color:"text-yellow-600"},{label:"In Progress",value:L.filter(N=>N.status==="In Progress").length.toString(),icon:$t,bg:"bg-blue-50",color:"text-blue-600"},{label:"Completed",value:L.filter(N=>N.status==="Completed").length.toString(),icon:Qt,bg:"bg-green-50",color:"text-green-600"}])},A=L=>{switch(L){case"Completed":return e.jsx("span",{className:"px-3 py-1 rounded-lg text-[10px] font-black bg-green-100 text-green-700 uppercase",children:"Completed"});case"In Progress":return e.jsx("span",{className:"px-3 py-1 rounded-lg text-[10px] font-black bg-blue-100 text-blue-700 uppercase",children:"In Progress"});case"Pending":return e.jsx("span",{className:"px-3 py-1 rounded-lg text-[10px] font-black bg-yellow-100 text-yellow-700 uppercase",children:"Pending"});default:return null}},w=Math.ceil(i.length/b),k=(p-1)*b,C=i.slice(k,k+b);return e.jsxs("div",{className:"p-6 md:p-8 bg-gray-50 min-h-screen font-sans staffdashboard-taskstatus",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900 tracking-tight",children:"Task Status Overview"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Track real-time progress of all operational duties."})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:u.map((L,N)=>e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-center gap-4 hover:shadow-xl hover:-translate-y-1 hover:scale-[1.02] transition-all duration-300 staffdashboard-taskstatus-card active:scale-[0.98] cursor-pointer group",children:[e.jsx("div",{className:`p-4 rounded-xl ${L.bg} ${L.color} group-hover:scale-110 group-hover:rotate-6 transition-all duration-300`,children:e.jsx(L.icon,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest group-hover:text-gray-600 transition-colors",children:L.label}),e.jsx("p",{className:"text-2xl font-black text-gray-900 leading-tight group-hover:scale-110 transition-transform",children:L.value})]})]},N))}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-gray-50 flex flex-col md:flex-row gap-4 justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ks,{size:18,className:"text-indigo-600"}),e.jsx(us,{options:[{value:"All",label:"All Status"},{value:"Pending",label:"Pending"},{value:"In Progress",label:"In Progress"},{value:"Completed",label:"Completed"}],value:a,onChange:l,className:"w-[180px]"})]}),e.jsxs("div",{className:"relative w-full md:w-64",children:[e.jsx(tt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 transition-colors",size:16}),e.jsx("input",{type:"text",placeholder:"Search tasks...",className:"saas-input pl-10 h-10 w-full rounded-lg border-gray-200 text-sm focus:ring-2 focus:ring-indigo-500 focus:shadow-md transition-all duration-300",value:t,onChange:L=>s(L.target.value)})]})]}),e.jsx("div",{className:"saas-table-wrapper",children:e.jsxs("table",{className:"saas-table saas-table-responsive",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Task Title"}),e.jsx("th",{children:"Assigned By"}),e.jsx("th",{className:"text-center",children:"Status"}),e.jsx("th",{className:"text-right",children:"Last Updated"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:d?e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"px-6 py-10 text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-2 text-indigo-600",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-indigo-600 border-t-transparent rounded-full animate-spin"}),e.jsx("span",{className:"text-sm font-medium",children:"Crunching data..."})]})})}):C.length>0?C.map(L=>e.jsxs("tr",{className:"hover:bg-indigo-50/30 hover:-translate-y-0.5 transition-all duration-200 cursor-pointer group hover:shadow-md",children:[e.jsx("td",{"data-label":"Task Title",children:e.jsx("p",{className:"text-sm font-bold text-gray-800 tracking-tight group-hover:text-indigo-600 transition-colors",children:L.title})}),e.jsx("td",{"data-label":"Assigned By",children:e.jsx("p",{className:"text-xs font-semibold text-gray-500 group-hover:text-gray-700 transition-colors",children:L.assignedBy})}),e.jsx("td",{"data-label":"Status",className:"text-center",children:A(L.status)}),e.jsx("td",{"data-label":"Last Updated",className:"text-right",children:e.jsx("span",{className:"text-xs font-bold text-gray-400 italic font-mono uppercase group-hover:text-gray-600 transition-colors",children:L.updated})})]},L.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"px-6 py-10 text-center text-gray-500 text-sm",children:"No tasks found matching your search."})})})]})})]}),e.jsxs("div",{className:"mt-8 flex items-center justify-between text-[10px] text-gray-400 font-bold uppercase tracking-widest px-2",children:[e.jsxs("p",{children:["Showing ",i.length>0?k+1:0," to ",Math.min(k+b,i.length)," of ",i.length," tasks"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>f(L=>Math.max(L-1,1)),disabled:p===1,className:"px-3 py-1 border border-gray-200 rounded hover:bg-white transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Prev"}),Array.from({length:w},(L,N)=>N+1).map(L=>e.jsx("button",{onClick:()=>f(L),className:`px-3 py-1 border rounded transition-colors ${p===L?"border-indigo-600 bg-indigo-600 text-white":"border-gray-200 hover:bg-white"}`,children:L},L)),e.jsx("button",{onClick:()=>f(L=>Math.min(L+1,w)),disabled:p===w||w===0,className:"px-3 py-1 border border-gray-200 rounded hover:bg-white transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})},gy={Admin:["Full Access","Finance","HR","Settings","Branch Ops"],Manager:["Branch Ops","Finance","HR","Team Management"],Trainer:["Workouts","Sessions","Progress","Member Management"],Staff:["General Ops","Check-ins","Basic Member Support"]},vL=({isOpen:t,onClose:s,onConfirm:a,title:l,message:i})=>e.jsx(rt,{isOpen:t,onClose:s,title:l,maxWidth:"max-w-sm",footer:e.jsxs("div",{className:"flex gap-4 w-full p-2",children:[e.jsx("button",{onClick:s,className:"flex-1 py-4 bg-slate-50 text-slate-400 rounded-2xl font-black uppercase tracking-widest hover:bg-slate-100 hover:text-slate-600 transition-all border border-slate-100",children:"Cancel"}),e.jsx("button",{onClick:a,className:"flex-[2] py-4 bg-rose-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl shadow-rose-200 hover:bg-rose-700 transition-all",children:"Confirm Delete"})]}),children:e.jsxs("div",{className:"py-12 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-rose-50 rounded-full flex items-center justify-center mx-auto mb-6 text-rose-500 shadow-inner",children:e.jsx(ms,{size:32})}),e.jsx("p",{className:"text-slate-500 text-sm font-medium leading-relaxed px-4",children:i})]})}),yL=({role:t,branchId:s})=>{const a=qt(),[l,i]=v.useState([]),[o,d]=v.useState(!0),[x,u]=v.useState(""),[h,p]=v.useState("All Roles"),[f,b]=v.useState("All"),[g,j]=v.useState(!1),[A,w]=v.useState({isOpen:!1,id:null});v.useEffect(()=>{k()},[]);const k=async()=>{d(!0);try{const B=await Fw();i(Array.isArray(B)?B:[])}catch(B){console.error(B)}finally{d(!1)}},C=()=>{a("/hr/staff/create")},L=B=>{a(`/hr/staff/edit/${B}`)},N=B=>{w({isOpen:!0,id:B})},P=async()=>{A.id&&(await Nw(A.id),w({isOpen:!1,id:null}),k())},_=["All Roles",...Object.keys(gy)],F=l.filter(B=>{const T=(B.name||"").toLowerCase().includes(x.toLowerCase())||(B.email||"").toLowerCase().includes(x.toLowerCase())||(B.role||"").toLowerCase().includes(x.toLowerCase()),q=(B.role||"").toUpperCase().replace(/_/g," "),H=h.toUpperCase(),G=h==="All Roles"||q===H,W=f==="All"||B.status===f;return T&&G&&W}),R=()=>e.jsxs("div",{className:"space-y-6 flex-1",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest pl-1",children:"Filter by Role"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:_.map(B=>e.jsx("button",{onClick:()=>p(B),className:`px-4 py-3 rounded-xl text-xs font-bold border-2 transition-all min-h-[44px] ${h===B?"bg-indigo-600 border-indigo-600 text-white shadow-lg shadow-indigo-200":"bg-white border-slate-100 text-slate-500 hover:border-indigo-100"}`,children:B},B))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest pl-1",children:"Account Status"}),e.jsx("div",{className:"flex gap-2",children:["All","Active","Inactive"].map(B=>e.jsx("button",{onClick:()=>b(B),className:`px-6 py-3 rounded-xl text-xs font-bold border-2 transition-all min-h-[44px] ${f===B?"bg-emerald-600 border-emerald-600 text-white shadow-lg shadow-emerald-200":"bg-white border-slate-100 text-slate-500 hover:border-emerald-100"}`,children:B},B))})]})]});return e.jsxs("div",{className:"bg-gradient-to-br from-gray-50 via-white to-indigo-50/20 min-h-screen p-6 md:p-8 font-sans pb-24",children:[e.jsx("div",{className:"max-w-7xl mx-auto mb-10",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-black text-slate-800 flex items-center gap-3",children:[e.jsx(Xn,{className:"text-indigo-600",size:32}),"Staff Management"]}),e.jsx("p",{className:"text-slate-500 mt-2 font-medium",children:"Manage branch employees, roles, and system access."})]}),e.jsxs("button",{onClick:C,className:"flex items-center gap-3 px-8 py-4 bg-slate-900 text-white rounded-[24px] font-black uppercase tracking-widest text-xs hover:bg-slate-800 hover:shadow-2xl hover:scale-105 active:scale-95 transition-all shadow-xl",children:[e.jsx(wt,{size:20,strokeWidth:3}),"Add New Staff"]})]})}),e.jsx("div",{className:"max-w-7xl mx-auto mb-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1 group",children:[e.jsx(tt,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-indigo-600 transition-all",size:20}),e.jsx("input",{type:"text",placeholder:"Search team members...",className:"w-full pl-14 pr-4 py-5 bg-white border-2 border-slate-100 rounded-[28px] text-sm focus:outline-none focus:border-indigo-500 transition-all shadow-sm font-medium h-14",value:x,onChange:B=>u(B.target.value)})]}),e.jsxs("button",{onClick:()=>j(!0),className:"lg:hidden flex items-center justify-center gap-2 px-6 py-4 bg-white border-2 border-slate-100 rounded-2xl text-slate-600 font-bold hover:border-indigo-100 transition-all shadow-sm h-14",children:[e.jsx(ks,{size:20})," Filters ",(h!=="All Roles"||f!=="All")&&e.jsx("div",{className:"w-2 h-2 bg-indigo-600 rounded-full"})]}),e.jsx("div",{className:"hidden lg:flex items-center gap-4 bg-white/40 backdrop-blur-sm p-1 rounded-[28px] border-2 border-slate-100 overflow-x-auto custom-scrollbar h-14",children:_.map(B=>e.jsx("button",{onClick:()=>p(B),className:`whitespace-nowrap px-6 py-2.5 rounded-[22px] text-xs font-black uppercase tracking-widest transition-all ${h===B?"bg-slate-900 text-white shadow-xl":"text-slate-400 hover:text-slate-800"}`,children:B},B))}),e.jsx("button",{onClick:k,className:"hidden lg:flex p-4.5 items-center justify-center bg-white border-2 border-slate-100 text-slate-400 rounded-[28px] hover:text-indigo-600 hover:border-indigo-100 transition-all shadow-sm w-14 h-14",children:e.jsx(Hr,{size:20,className:o?"animate-spin":""})})]})}),e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"bg-white/60 backdrop-blur-md rounded-[40px] shadow-sm border border-white/50 overflow-hidden",children:[e.jsx("div",{className:"hidden md:block overflow-x-auto overflow-y-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50/50",children:[e.jsx("th",{className:"px-8 py-7 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Staff Member"}),e.jsx("th",{className:"px-8 py-7 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Direct Access Roles"}),e.jsx("th",{className:"px-8 py-7 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Contact & Reach"}),e.jsx("th",{className:"px-8 py-7 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Status"}),e.jsx("th",{className:"px-8 py-7 text-right text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100/50",children:o&&l.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"py-24 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-indigo-100 border-t-indigo-600 rounded-full animate-spin"}),e.jsx("span",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Fetching Team..."})]})})}):F.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"py-24 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-24 h-24 bg-white rounded-[32px] shadow-2xl flex items-center justify-center text-slate-200 mb-4 opacity-50",children:e.jsx(U1,{size:48})}),e.jsx("h3",{className:"text-xl font-black text-slate-800 tracking-tight",children:"No Members Found"}),e.jsx("p",{className:"text-slate-500 text-sm font-medium max-w-sm mx-auto",children:"None of your team members match the current search or filter criteria. Try clearing them."}),e.jsx("button",{onClick:()=>{p("All Roles"),b("All"),u("")},className:"mt-4 px-6 py-2.5 bg-indigo-50 text-indigo-600 rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-indigo-600 hover:text-white transition-all",children:"Clear All Filters"})]})})}):F.map(B=>e.jsxs("tr",{className:"group hover:bg-white transition-all duration-300",children:[e.jsx("td",{className:"px-8 py-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-14 h-14 rounded-[22px] bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white font-black shadow-lg group-hover:scale-105 transition-transform overflow-hidden",children:B.name.charAt(0)}),B.role==="Branch Manager"&&e.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-amber-400 border-2 border-white rounded-lg flex items-center justify-center text-white shadow-sm",title:"Team Lead",children:e.jsx(Xn,{size:12})})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-bold text-slate-800 flex items-center gap-2",children:[B.name,B.role==="Manager"&&e.jsx("span",{className:"px-1.5 py-0.5 bg-amber-50 text-amber-600 text-[8px] font-black uppercase rounded tracking-widest",children:"Lead"})]}),e.jsxs("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:["Joined: ",B.joinedDate,"  Reports to: ",e.jsx("span",{className:"text-slate-600 font-extrabold",children:B.reportingManager||"Owner"})]})]})]})}),e.jsx("td",{className:"px-8 py-6",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("span",{className:"px-3 py-1 bg-indigo-50 text-indigo-600 rounded-lg text-[10px] font-black uppercase tracking-widest border border-indigo-100",children:B.role}),e.jsx("div",{className:"flex flex-wrap gap-1",children:gy[B.role]?.map(T=>e.jsx("span",{className:"text-[8px] font-bold text-slate-400 uppercase border border-slate-100 px-1.5 py-0.5 rounded-md",children:T},T))})]})}),e.jsx("td",{className:"px-8 py-6",children:e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-600",children:[e.jsx(Wr,{size:12,className:"text-slate-300"})," ",B.email]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-600",children:[e.jsx(Hs,{size:12,className:"text-slate-300"})," ",B.phone]})]})}),e.jsx("td",{className:"px-8 py-6",children:e.jsxs("div",{className:`inline-flex items-center gap-2 px-4 py-1.5 rounded-full ${B.status==="Active"?"bg-emerald-50 text-emerald-600":"bg-rose-50 text-rose-600"}`,children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${B.status==="Active"?"bg-emerald-500 animate-pulse":"bg-rose-500"}`}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:B.status})]})}),e.jsxs("td",{className:"px-8 py-6 text-right",children:[e.jsxs("div",{className:"flex items-center justify-end gap-2 opacity-0 group-hover:opacity-100 transition-all scale-95 group-hover:scale-100",children:[e.jsx("button",{onClick:()=>L(B.id),className:"w-12 h-12 flex items-center justify-center bg-white border-2 border-slate-50 text-slate-400 hover:text-indigo-600 hover:border-indigo-100 rounded-xl transition-all shadow-sm",children:e.jsx(Pa,{size:16})}),e.jsx("button",{onClick:()=>N(B.id),className:"w-12 h-12 flex items-center justify-center bg-white border-2 border-slate-50 text-slate-400 hover:text-rose-600 hover:border-rose-100 rounded-xl transition-all shadow-sm",children:e.jsx(ms,{size:16})})]}),e.jsx("div",{className:"group-hover:hidden text-slate-200",children:e.jsx(k8,{size:20})})]})]},B.id))})]})}),e.jsx("div",{className:"md:hidden p-4 space-y-4",children:o&&l.length===0?e.jsx("div",{className:"py-24 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-indigo-100 border-t-indigo-600 rounded-full animate-spin"}),e.jsx("span",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Fetching Team..."})]})}):F.length===0?e.jsx("div",{className:"py-20 text-center bg-white rounded-3xl border border-slate-100",children:e.jsxs("div",{className:"flex flex-col items-center gap-4 p-8",children:[e.jsx(U1,{size:48,className:"text-slate-200"}),e.jsx("h3",{className:"text-xl font-black text-slate-800 tracking-tight",children:"No Members Found"}),e.jsx("button",{onClick:()=>{p("All Roles"),b("All"),u("")},className:"mt-4 px-6 py-2.5 bg-indigo-50 text-indigo-600 rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-indigo-600 hover:text-white transition-all",children:"Clear Filters"})]})}):F.map(B=>e.jsx(Ya,{title:B.name,subtitle:B.role,badge:B.status,badgeColor:B.status==="Active"?"emerald":"rose",fields:[{label:"Email",value:B.email,icon:Wr},{label:"Phone",value:B.phone,icon:Hs}],actions:[{label:"Edit",icon:Pa,onClick:()=>L(B.id),variant:"secondary"},{label:"Delete",icon:ms,onClick:()=>N(B.id),variant:"danger"}]},B.id))})]})}),e.jsx(vL,{isOpen:A.isOpen,onClose:()=>w({isOpen:!1,id:null}),onConfirm:P,title:"Remove Team Member?",message:"This action will terminate their system access immediately. This cannot be undone."}),e.jsx(rt,{isOpen:g,onClose:()=>j(!1),title:"Filter Staff",children:e.jsxs("div",{className:"h-full flex flex-col p-6",children:[e.jsx(R,{}),e.jsx("button",{onClick:()=>j(!1),className:"w-full py-5 mt-8 bg-indigo-600 text-white rounded-2xl font-black uppercase tracking-widest text-xs shadow-xl shadow-indigo-100 active:scale-95 transition-all h-14",children:"Apply Filters"})]})})]})},jL=async()=>{try{return(await ye.get("/auth/me")).data}catch(t){throw t.response?.data?.message||"Failed to fetch staff profile"}},wL=async t=>{try{return(await ye.patch("/auth/profile",t)).data}catch(s){throw s.response?.data?.message||"Failed to update staff profile"}},NL=()=>{const[t,s]=v.useState(null),[a,l]=v.useState(!0),[i,o]=v.useState("personal"),[d,x]=v.useState(!1),[u,h]=v.useState({type:"",text:""}),[p,f]=v.useState({name:"",email:"",phone:"",address:""});v.useEffect(()=>{b()},[]);const b=async()=>{try{l(!0);const w=await jL();s(w),f({name:w.name,email:w.email,phone:w.phone||"",address:w.address||""})}catch(w){console.error("Error loading staff profile:",w),h({type:"error",text:"Failed to load profile data."})}finally{l(!1)}},g=w=>{const{name:k,value:C}=w.target;f(L=>({...L,[k]:C}))},j=async w=>{w.preventDefault(),x(!0),h({type:"",text:""});try{const k=await wL(p);s(k),h({type:"success",text:"Profile updated successfully!"})}catch{h({type:"error",text:"Failed to update profile."})}finally{x(!1)}};if(a)return e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh]",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-violet-600 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"mt-4 text-violet-600 font-bold bg-violet-50 px-4 py-2 rounded-xl animate-pulse",children:"Loading profile..."})]});if(!t)return e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] gap-4",children:[e.jsx("div",{className:"w-16 h-16 bg-red-50 rounded-full flex items-center justify-center",children:e.jsx(Ca,{size:32,className:"text-red-400"})}),e.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Could Not Load Profile"}),e.jsx("p",{className:"text-slate-500 text-sm text-center max-w-xs",children:u.text||"There was an error fetching your profile. Please try refreshing the page."}),e.jsx("button",{onClick:b,className:"px-6 py-2.5 bg-violet-600 text-white rounded-xl text-sm font-bold hover:bg-violet-700 transition-all",children:"Retry"})]});const A=[{id:"personal",label:"Personal Info",icon:lt},{id:"security",label:"Security",icon:Ca},{id:"notifications",label:"Notifications",icon:wl}];return e.jsx("div",{className:"p-6 md:p-8 bg-gradient-to-br from-slate-50 via-white to-violet-50/30 min-h-screen font-sans animate-fadeIn",children:e.jsxs("div",{className:"max-w-5xl mx-auto space-y-8",children:[e.jsxs("div",{className:"group relative bg-white rounded-[40px] border border-slate-100 shadow-2xl overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-600 via-purple-600 to-fuchsia-600 opacity-95"}),e.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-10"}),e.jsx("div",{className:"relative px-8 pb-8 pt-32",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-end gap-8 -mt-20",children:[e.jsxs("div",{className:"relative group/avatar",children:[e.jsx("div",{className:"w-40 h-40 rounded-[32px] bg-white p-2 shadow-2xl transform group-hover/avatar:scale-105 transition-transform duration-300 rotate-3 group-hover/avatar:rotate-0",children:e.jsx("div",{className:"w-full h-full rounded-[24px] bg-gradient-to-br from-violet-100 to-purple-100 flex items-center justify-center text-violet-600 text-6xl font-black shadow-inner",children:t.avatar})}),e.jsx("button",{className:"absolute bottom-2 right-2 p-3 bg-white rounded-2xl shadow-lg border border-slate-100 text-violet-600 hover:bg-violet-50 hover:scale-110 active:scale-95 transition-all",children:e.jsx(qo,{size:20,strokeWidth:2.5})})]}),e.jsxs("div",{className:"flex-1 pb-4 text-white",children:[e.jsx("h1",{className:"text-4xl font-black tracking-tight mb-3 drop-shadow-md",children:t.name}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx("span",{className:"inline-flex items-center px-4 py-1.5 rounded-full bg-white/20 backdrop-blur-md text-white text-xs font-bold border border-white/30 shadow-sm",children:t.role.replace("_"," ")}),e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-4 py-1.5 rounded-full bg-emerald-500/20 backdrop-blur-md text-emerald-100 text-xs font-bold border border-emerald-400/30 shadow-sm",children:[e.jsx($t,{size:14,className:"text-emerald-300"})," ",t.status]}),e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-4 py-1.5 rounded-full bg-white/10 backdrop-blur-md text-violet-100 text-xs font-bold border border-white/20 shadow-sm",children:[e.jsx(Ve,{size:14,className:"text-violet-200"})," Joined ",t.joinedDate]})]})]}),e.jsx("div",{className:"md:mb-4",children:e.jsxs("span",{className:"inline-flex items-center gap-2 px-6 py-3 bg-white/10 backdrop-blur-md rounded-2xl text-white font-bold text-sm border border-white/20 shadow-lg",children:[e.jsx(Xt,{size:18,className:"text-emerald-400"})," Staff Account"]})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsx("div",{className:"lg:col-span-1 space-y-3",children:A.map(w=>e.jsxs("button",{onClick:()=>o(w.id),className:`w-full flex items-center gap-4 px-6 py-4 rounded-2xl text-sm font-bold transition-all duration-300 ${i===w.id?"bg-gradient-to-r from-violet-600 to-purple-600 text-white shadow-xl shadow-violet-200 transform scale-105":"bg-white text-slate-500 hover:bg-violet-50 hover:text-violet-700 shadow-sm border border-slate-100"}`,children:[e.jsx(w.icon,{size:20,strokeWidth:2.5}),w.label]},w.id))}),e.jsx("div",{className:"lg:col-span-3",children:e.jsxs("div",{className:"bg-white rounded-[40px] border border-slate-100 shadow-xl p-8 md:p-10 animate-in slide-in-from-right duration-500 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-violet-50 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 opacity-50 pointer-events-none"}),u.text&&e.jsxs("div",{className:`mb-8 p-4 rounded-2xl flex items-center gap-3 text-sm font-bold animate-in slide-in-from-top duration-300 ${u.type==="success"?"bg-emerald-50 text-emerald-700 border border-emerald-100":"bg-red-50 text-red-700 border border-red-100"}`,children:[u.type==="success"?e.jsx(Xt,{size:20}):e.jsx(zr,{size:20}),u.text]}),i==="personal"&&e.jsxs("form",{onSubmit:j,className:"space-y-8 relative z-10",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-3 group",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest px-1 group-focus-within:text-violet-500 transition-colors",children:"Full Name"}),e.jsxs("div",{className:"relative",children:[e.jsx(lt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 transition-colors",size:20}),e.jsx("input",{type:"text",name:"name",value:p.name,onChange:g,className:"w-full pl-12 pr-4 h-14 bg-slate-50 border-2 border-slate-100 rounded-2xl font-bold text-slate-700 focus:bg-white focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all duration-300",placeholder:"Enter your name"})]})]}),e.jsxs("div",{className:"space-y-3 group",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest px-1 group-focus-within:text-violet-500 transition-colors",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(Wr,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 transition-colors",size:20}),e.jsx("input",{type:"email",name:"email",value:p.email,onChange:g,className:"w-full pl-12 pr-4 h-14 bg-slate-50 border-2 border-slate-100 rounded-2xl font-bold text-slate-700 focus:bg-white focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all duration-300",placeholder:"Enter your email"})]})]}),e.jsxs("div",{className:"space-y-3 group",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest px-1 group-focus-within:text-violet-500 transition-colors",children:"Phone Number"}),e.jsxs("div",{className:"relative",children:[e.jsx(Hs,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 transition-colors",size:20}),e.jsx("input",{type:"text",name:"phone",value:p.phone,onChange:g,className:"w-full pl-12 pr-4 h-14 bg-slate-50 border-2 border-slate-100 rounded-2xl font-bold text-slate-700 focus:bg-white focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all duration-300",placeholder:"Enter phone number"})]})]}),e.jsxs("div",{className:"space-y-3 group",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest px-1 group-focus-within:text-violet-500 transition-colors",children:"Location"}),e.jsxs("div",{className:"relative",children:[e.jsx($s,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 transition-colors",size:20}),e.jsx("input",{type:"text",name:"address",value:p.address,onChange:g,className:"w-full pl-12 pr-4 h-14 bg-slate-50 border-2 border-slate-100 rounded-2xl font-bold text-slate-700 focus:bg-white focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all duration-300",placeholder:"Enter city, country"})]})]})]}),e.jsx("div",{className:"pt-8 border-t border-slate-100",children:e.jsxs("button",{type:"submit",disabled:d,className:"px-8 py-4 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-2xl text-sm font-black shadow-xl shadow-violet-500/30 hover:shadow-2xl hover:shadow-violet-500/40 hover:scale-[1.02] active:scale-[0.98] transition-all flex items-center gap-3 disabled:opacity-50 disabled:cursor-not-allowed",children:[d?e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):e.jsx(na,{size:20,strokeWidth:2.5}),"Save Profile Changes"]})})]}),i==="security"&&e.jsxs("div",{className:"space-y-8 relative z-10",children:[e.jsxs("div",{className:"p-8 rounded-[32px] bg-red-50 border border-red-100 flex flex-col md:flex-row items-center gap-6 text-center md:text-left",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-2xl flex items-center justify-center text-red-600 shrink-0",children:e.jsx(Rs,{size:32,strokeWidth:2.5})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-red-900 font-bold text-lg mb-1",children:"Password Management"}),e.jsx("p",{className:"text-red-700/80 text-sm font-medium leading-relaxed",children:"It's recommended to update your password every 90 days to ensure maximum security for your account."})]}),e.jsx("button",{className:"px-6 py-3 bg-red-600 text-white rounded-xl text-sm font-bold shadow-lg shadow-red-200 hover:bg-red-700 hover:shadow-red-300 hover:-translate-y-0.5 transition-all",children:"Change Password"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-xs font-black text-slate-400 uppercase tracking-widest px-1",children:"Account Security"}),e.jsx("div",{className:"p-6 rounded-[28px] border-2 border-slate-100 bg-white hover:border-violet-100 transition-colors space-y-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-emerald-50 text-emerald-600 rounded-xl",children:e.jsx(Ca,{size:24,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-base font-bold text-slate-800",children:"Two-Factor Authentication"}),e.jsx("p",{className:"text-xs text-slate-400 font-bold mt-0.5",children:"Add an extra layer of security to your account."})]})]}),e.jsxs("div",{className:"relative group cursor-pointer",children:[e.jsx("div",{className:"w-14 h-8 bg-emerald-500 rounded-full transition-colors shadow-inner"}),e.jsx("div",{className:"absolute right-1 top-1 w-6 h-6 bg-white rounded-full shadow-md transform transition-transform group-hover:scale-110"})]})]})})]})]}),i==="notifications"&&e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center relative z-10",children:[e.jsx("div",{className:"w-24 h-24 bg-violet-50 rounded-full flex items-center justify-center text-violet-300 mb-6 animate-bounce-slow",children:e.jsx(wl,{size:48,strokeWidth:2.5})}),e.jsx("h3",{className:"text-2xl font-black text-slate-800 mb-2",children:"Notification Preferences"}),e.jsx("p",{className:"text-slate-500 max-w-sm font-medium leading-relaxed",children:"Customize how you receive alerts, system updates, and important announcements."}),e.jsx("button",{className:"mt-8 px-8 py-3 bg-slate-100 text-slate-600 rounded-2xl text-sm font-bold hover:bg-violet-50 hover:text-violet-600 transition-all",children:"Manage Settings"})]})]})})]})]})})},by=({trigger:t,children:s,className:a})=>{const[l,i]=v.useState(!1),[o,d]=v.useState({top:0,left:0}),x=v.useRef(null),u=v.useRef(null),h=()=>{if(x.current&&l){const f=x.current.getBoundingClientRect(),b=window.scrollX||window.pageXOffset,g=window.scrollY||window.pageYOffset;d({top:f.bottom+g+8,left:f.right+b})}};v.useEffect(()=>{h()},[l]),v.useEffect(()=>{if(l)return window.addEventListener("scroll",h,!0),window.addEventListener("resize",h),()=>{window.removeEventListener("scroll",h,!0),window.removeEventListener("resize",h)}},[l]),v.useEffect(()=>{const f=b=>{x.current&&!x.current.contains(b.target)&&u.current&&!u.current.contains(b.target)&&i(!1)};return l&&document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[l]);const p=()=>l?mj.createPortal(e.jsx("div",{ref:u,style:{position:"absolute",top:`${o.top}px`,left:`${o.left}px`,transform:"translateX(-100%)",zIndex:9999,animation:"dropdownFadeIn 0.2s ease-out"},className:"bg-white rounded-2xl shadow-xl border border-gray-100 py-2 w-48",onClick:()=>i(!1),children:s}),document.body):null;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`relative ${a}`,ref:x,onClick:f=>{f.stopPropagation(),i(!l)},children:t}),e.jsx(p,{}),e.jsx("style",{children:`
                @keyframes dropdownFadeIn {
                    from { opacity: 0; transform: translateX(-100%) scale(0.95); }
                    to { opacity: 1; transform: translateX(-100%) scale(1); }
                }
            `})]})},kL=({memberId:t,onClose:s})=>{const a=qt(),l=Tr(),[i,o]=v.useState("overview"),[d,x]=v.useState(null),[u,h]=v.useState([]),[p,f]=v.useState(null),[b,g]=v.useState(!0),[j,A]=v.useState(!1),[w,k]=v.useState(""),C=t||l.state?.memberId||1;v.useEffect(()=>{L()},[C]);const L=async()=>{g(!0);try{const P=await tD(C),_=await iD(C),F=await Vw(C);x(P),h(_||[]),f(F)}catch(P){console.error("Failed to load member profile data:",P)}finally{g(!1)}},N=[{id:"overview",label:"Overview"},{id:"attendance",label:"Payments & Records"},{id:"workouts",label:"Workouts"},{id:"measurements",label:"Body Stats"}];return b?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"mt-4 text-gray-500 font-medium",children:"Loading profile..."})]}):d?e.jsxs("div",{className:`flex flex-col gap-6 animate-in fade-in slide-in-from-bottom-4 duration-500 ${s?"p-0":"p-4 md:p-6 lg:p-8 max-w-[1600px] mx-auto pb-12"}`,children:[e.jsxs("div",{className:"flex flex-col gap-6",children:[!s&&e.jsxs("button",{onClick:()=>a("/trainer/members/assigned"),className:"flex items-center gap-2 text-gray-500 hover:text-blue-600 transition-colors w-fit group",children:[e.jsx("div",{className:"p-1.5 bg-white border border-gray-200 rounded-lg group-hover:bg-blue-50 group-hover:border-blue-200 transition-all",children:e.jsx(Gr,{size:18})}),e.jsx("span",{className:"text-sm font-bold",children:"Back to Members"})]}),e.jsxs("div",{className:"bg-white p-4 md:p-8 rounded-3xl border border-gray-100 shadow-sm flex flex-col md:flex-row items-center md:items-start gap-6 md:gap-8 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-blue-50 rounded-bl-[100px] -mr-8 -mt-8 opacity-50"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"w-24 h-24 md:w-32 md:h-32 rounded-3xl bg-gradient-to-br from-blue-600 to-indigo-700 flex items-center justify-center text-white text-4xl font-bold shadow-xl shadow-blue-200 group-hover:scale-105 group-hover:rotate-2 transition-all duration-300",children:(d.name||"?").charAt(0)}),e.jsx("div",{className:"absolute -bottom-2 -right-2 bg-green-500 border-4 border-white w-8 h-8 rounded-full flex items-center justify-center shadow-sm",children:e.jsx(Xn,{size:14,className:"text-white"})})]}),e.jsxs("div",{className:"flex-1 text-center md:text-left",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-2 md:gap-4 mb-2",children:[e.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 tracking-tight",children:d.name}),e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full bg-green-50 text-green-700 text-xs font-bold border border-green-100 mx-auto md:mx-0",children:d.status})]}),e.jsxs("p",{className:"text-gray-500 font-medium mb-4",children:[d.id,"  ",d.plan]}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex flex-wrap justify-center md:justify-start gap-4 text-sm font-semibold",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(Wr,{size:16,className:"text-blue-500"}),d.email]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(Hs,{size:16,className:"text-blue-500"}),d.phone]})]}),e.jsxs("button",{onClick:()=>A(!0),className:"px-8 py-3 bg-blue-600 text-white rounded-2xl font-black text-xs uppercase tracking-widest flex items-center justify-center gap-2 hover:bg-blue-700 active:scale-95 shadow-xl shadow-blue-200 transition-all",children:[e.jsx(sr,{size:16}),"Start Chat"]})]})]})]})]}),e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[{label:"Attendance",value:`${d.attendance}%`,icon:$t,color:"blue"},{label:"Sessions",value:`${d.sessionsDone}/${d.totalSessions}`,icon:wn,color:"purple"},{label:"Next Renewal",value:"15 Oct",icon:Ve,color:"orange"},{label:"Avg Effort",value:"High",icon:Js,color:"green"}].map((P,_)=>e.jsxs("div",{className:"bg-white p-5 rounded-3xl border border-gray-100 shadow-sm hover:shadow-xl hover:-translate-y-2 transition-all duration-300 cursor-pointer group",children:[e.jsx("div",{className:`w-10 h-10 rounded-2xl bg-${P.color}-50 flex items-center justify-center text-${P.color}-600 mb-3 group-hover:rotate-12 group-hover:scale-110 transition-all duration-300`,children:e.jsx(P.icon,{size:20})}),e.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest group-hover:text-gray-600 transition-colors",children:P.label}),e.jsx("p",{className:"text-xl font-black text-gray-900 mt-1 group-hover:scale-110 transition-transform",children:P.value})]},_))}),e.jsxs("div",{className:"bg-white rounded-[32px] border border-gray-100 shadow-sm overflow-hidden min-h-[400px]",children:[e.jsx("div",{className:"flex border-b border-gray-100 overflow-x-auto no-scrollbar scroll-smooth",children:N.map(P=>e.jsxs("button",{onClick:()=>o(P.id),className:`px-8 py-5 text-sm font-bold whitespace-nowrap transition-all duration-300 relative hover:scale-105 ${i===P.id?"text-blue-600":"text-gray-400 hover:text-gray-600"}`,children:[P.label,i===P.id&&e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-blue-600 rounded-t-full animate-in slide-in-from-left duration-300"})]},P.id))}),e.jsxs("div",{className:"p-4 md:p-8",children:[i==="overview"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 animate-in fade-in duration-300",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest mb-4",children:"Training Goal"}),e.jsxs("div",{className:"bg-blue-50/50 p-6 rounded-3xl border border-blue-100/50",children:[e.jsx("p",{className:"text-lg font-bold text-blue-900",children:d.goal}),e.jsx("p",{className:"text-blue-700/70 text-sm mt-1 leading-relaxed",children:"Focusing on compound movements with progressive overload. Current cycle aims for muscle density and neural adaptation."})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest mb-4",children:"Recent Sessions"}),e.jsx("div",{className:"space-y-3",children:d.recentWorkouts?.map(P=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-2xl border border-gray-100 group hover:border-blue-200 hover:bg-blue-50/30 hover:shadow-md hover:-translate-y-0.5 transition-all duration-200 cursor-pointer",children:[e.jsxs("div",{className:"flex items-center gap-4 overflow-hidden",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-white border border-gray-100 flex items-center justify-center text-gray-600 group-hover:scale-110 group-hover:rotate-6 transition-all duration-300 flex-shrink-0",children:e.jsx(Er,{size:18})}),e.jsxs("div",{className:"overflow-hidden",children:[e.jsx("p",{className:"font-bold text-gray-800 truncate",children:P.name}),e.jsxs("p",{className:"text-xs text-gray-500 font-medium truncate",children:[P.date,"  ",P.duration]})]})]}),e.jsx(Xt,{size:18,className:"text-green-500 flex-shrink-0 ml-2"})]},P.id))})]})]}),e.jsx("div",{className:"space-y-8",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest mb-4",children:"Membership Info"}),e.jsxs("div",{className:"bg-white rounded-3xl border border-gray-100 p-6 space-y-4 hover:shadow-lg hover:-translate-y-1 transition-all duration-300",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-bold text-gray-500 inline-flex items-center gap-2",children:[e.jsx(Ve,{size:14})," Plan Expiry"]}),e.jsx("span",{className:"text-sm font-bold text-gray-900",children:d.expiry})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-bold text-gray-500 inline-flex items-center gap-2",children:[e.jsx($s,{size:14})," Primary Hub"]}),e.jsx("span",{className:"text-sm font-bold text-gray-900",children:d.location})]}),e.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-50",children:[e.jsx("span",{className:"text-sm font-bold text-gray-500",children:"Auto-Renew"}),e.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 rounded-lg text-[10px] font-black uppercase",children:"Enabled"})]})]})]})})]}),i==="attendance"&&e.jsx("div",{className:"space-y-8 animate-in fade-in duration-300",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest mb-4",children:"Payment History (Read-only)"}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 overflow-hidden shadow-sm",children:[e.jsxs("table",{className:"w-full text-left hidden md:table",children:[e.jsx("thead",{className:"bg-gray-50/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 uppercase",children:"Date"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 uppercase",children:"Amount"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 uppercase",children:"Method"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 uppercase",children:"Status"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-50",children:u.map(P=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-700",children:P.date}),e.jsxs("td",{className:"px-6 py-4 text-sm font-bold text-gray-900",children:["",P.amount]}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:P.method}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"px-2 py-0.5 bg-green-50 text-green-600 rounded-lg text-[10px] font-black uppercase border border-green-100",children:P.status})})]},P.id))})]}),e.jsx("div",{className:"md:hidden divide-y divide-gray-50",children:u.map(P=>e.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-50 flex items-center justify-center text-blue-600",children:e.jsx(Ps,{size:18})}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-bold text-gray-900",children:["",P.amount]}),e.jsx("p",{className:"text-xs text-gray-500 font-medium",children:P.date})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"px-2 py-0.5 bg-green-50 text-green-600 rounded-lg text-[10px] font-black uppercase border border-green-100 block w-fit ml-auto mb-1",children:P.status}),e.jsx("p",{className:"text-xs text-gray-400 font-medium",children:P.method})]})]},P.id))})]})]})}),i==="workouts"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 animate-in fade-in duration-300",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest",children:"Workout History"}),e.jsx("button",{className:"text-sm font-bold text-blue-600 hover:text-blue-700",children:"View All"})]}),e.jsx("div",{className:"space-y-4",children:[{name:"Upper Body Power",date:"Today, 09:30 AM",duration:"1h 15m",calories:450,load:"12,450 kg"},{name:"Leg Day Hypertrophy",date:"Yesterday, 06:00 PM",duration:"1h 30m",calories:520,load:"15,200 kg"},{name:"Active Recovery",date:"2 Days Ago",duration:"45m",calories:210,load:"-"},{name:"Push Pull Strength",date:"3 Days Ago",duration:"1h 10m",calories:480,load:"11,800 kg"}].map((P,_)=>e.jsxs("div",{className:"flex items-center justify-between p-5 bg-gray-50 rounded-2xl border border-gray-100 group hover:bg-white hover:border-blue-100 hover:shadow-lg transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-white border border-gray-200 flex items-center justify-center text-blue-600 group-hover:scale-110 group-hover:bg-blue-600 group-hover:text-white transition-all duration-300 shadow-sm",children:e.jsx(Er,{size:20})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900 text-lg",children:P.name}),e.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs font-semibold text-gray-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ve,{size:12})," ",P.date]}),e.jsx("span",{className:"w-1 h-1 rounded-full bg-gray-300"}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Qe,{size:12})," ",P.duration]})]})]})]}),e.jsxs("div",{className:"text-right hidden sm:block",children:[e.jsx("p",{className:"text-xl font-black text-gray-900",children:P.calories}),e.jsx("p",{className:"text-[10px] uppercase font-bold text-gray-400 tracking-wider",children:"Calories"})]})]},_))})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest mb-4",children:"Weekly Stats"}),e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 rounded-3xl p-6 text-white shadow-xl",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-3 rounded-xl bg-white/10 backdrop-blur-sm",children:e.jsx($t,{size:24,className:"text-blue-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400 font-medium",children:"Total Volume"}),e.jsx("p",{className:"text-2xl font-bold",children:"45,250 kg"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center text-sm border-b border-white/10 pb-3",children:[e.jsx("span",{className:"text-gray-400",children:"Workouts"}),e.jsx("span",{className:"font-bold text-xl",children:"5"})]}),e.jsxs("div",{className:"flex justify-between items-center text-sm border-b border-white/10 pb-3",children:[e.jsx("span",{className:"text-gray-400",children:"Duration"}),e.jsx("span",{className:"font-bold text-xl",children:"6h 15m"})]}),e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Intensity"}),e.jsx("span",{className:"px-2 py-0.5 rounded-lg bg-green-500/20 text-green-400 font-bold uppercase text-xs",children:"High"})]})]})]})]})})]}),i==="measurements"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 animate-in fade-in duration-300",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest",children:"Core Metrics"}),e.jsxs("button",{onClick:()=>a(`/progress?memberId=${d.id}`),className:"px-4 py-2 bg-violet-600 text-white rounded-xl text-[10px] font-black uppercase tracking-widest flex items-center gap-2 hover:bg-violet-700 transition-all shadow-lg shadow-violet-200",children:[e.jsx(Plus,{size:14})," Manage Progress"]})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:(()=>{const P=p?.logs||[],_=p?.targets||{},F=P.length>0,R=F?P[P.length-1]:{},B=F&&P.length>1?P[P.length-2]:null,T=(H,G)=>{if(G==null)return"0.0";const W=(parseFloat(H)||0)-(parseFloat(G)||0);return(W>=0?"+":"")+W.toFixed(1)};return[{label:"Weight",value:parseFloat(R.weight||0).toFixed(1),unit:"kg",change:T(R.weight,B?.weight),isPositive:(parseFloat(R.weight)||0)<=(parseFloat(B?.weight)||0)},{label:"Body Fat",value:parseFloat(R.bodyFat||0).toFixed(1),unit:"%",change:T(R.bodyFat,B?.bodyFat),isPositive:(parseFloat(R.bodyFat)||0)<=(parseFloat(B?.bodyFat)||0)},{label:"Target Wt",value:parseFloat(_.weight||0).toFixed(1),unit:"kg",change:"Goal",isPositive:!0},{label:"Target BF",value:parseFloat(_.bodyFat||0).toFixed(1),unit:"%",change:"Goal",isPositive:!0}].map((H,G)=>e.jsxs("div",{className:"bg-gray-50 p-4 rounded-2xl border border-gray-100 hover:bg-blue-50/50 hover:border-blue-100 transition-all cursor-default",children:[e.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-1",children:H.label}),e.jsxs("div",{className:"flex items-baseline gap-1",children:[e.jsx("span",{className:"text-2xl font-black text-gray-900",children:H.value}),e.jsx("span",{className:"text-xs font-bold text-gray-500",children:H.unit})]}),e.jsx("div",{className:`text-xs font-bold mt-2 ${H.isPositive?"text-green-600":"text-red-600"}`,children:H.change})]},G))})()}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest mb-6 py-2",children:"Body Measurements"}),e.jsx("div",{className:"space-y-5",children:(()=>{const P=p?.logs||[],_=P.length>0,F=_?P[P.length-1]?.measurements||{}:{},R=_&&P.length>1?P[P.length-2]?.measurements||{}:{};return[{label:"Chest",key:"chest",goal:105},{label:"Waist",key:"waist",goal:80},{label:"Arms",key:"arms",goal:40},{label:"Legs",key:"legs",goal:65}].map((T,q)=>{const H=parseFloat(F[T.key]||0),G=parseFloat(R[T.key]||0),W=Math.min(H/(T.goal||1)*100,100);return e.jsxs("div",{className:"bg-white rounded-xl",children:[e.jsxs("div",{className:"flex justify-between items-end mb-2",children:[e.jsx("span",{className:"font-bold text-gray-700",children:T.label}),e.jsxs("div",{className:"flex gap-4 text-xs font-medium text-gray-500",children:[e.jsxs("span",{children:["Prev: ",G,"cm"]}),e.jsxs("span",{className:"text-blue-600 font-bold",children:["Goal: ",T.goal,"cm"]})]})]}),e.jsx("div",{className:"h-3 bg-gray-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-indigo-600 rounded-full transition-all duration-1000",style:{width:`${W}%`}})}),e.jsxs("div",{className:"mt-1 text-right text-xs font-bold text-gray-900",children:[H," cm"]})]},q)})})()})]})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-blue-600 rounded-[32px] p-6 text-white shadow-xl shadow-blue-200",children:[e.jsx("h3",{className:"font-bold text-xl mb-2",children:"BMI Calculator"}),e.jsx("p",{className:"text-blue-100 text-sm mb-6",children:"Based on latest measurements"}),e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-bold text-blue-200",children:"Current Score"}),e.jsx("span",{className:"text-3xl font-black",children:"22.4"})]}),e.jsxs("div",{className:"w-full h-4 bg-black/20 rounded-full overflow-hidden mb-2 relative",children:[e.jsx("div",{className:"absolute left-[40%] top-0 bottom-0 w-1 bg-white/50"}),e.jsx("div",{className:"h-full w-[45%] bg-white/90 rounded-full"})]}),e.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-blue-200 uppercase tracking-widest",children:[e.jsx("span",{children:"Underweight"}),e.jsx("span",{children:"Normal"}),e.jsx("span",{children:"Overweight"})]}),e.jsx("div",{className:"mt-6 pt-6 border-t border-white/20",children:e.jsxs("p",{className:"text-sm font-medium leading-relaxed",children:["Great job! Your BMI suggests you are in a ",e.jsx("span",{className:"font-black text-white",children:"Healthy Weight"})," range. Keep up the consistency."]})})]})})]})]})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 py-4 px-6 bg-gray-100/50 rounded-2xl border border-gray-200 w-fit mx-auto",children:[e.jsx(Xn,{size:16,className:"text-gray-400"}),e.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Trainee Profile  Read Only Mode"})]}),j&&d&&e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-gray-900/40 backdrop-blur-sm animate-in fade-in duration-300",onClick:()=>A(!1)}),e.jsxs("div",{className:"relative w-full max-w-md bg-white rounded-[32px] shadow-2xl overflow-hidden animate-in zoom-in-95 slide-in-from-bottom-8 duration-300",children:[e.jsxs("div",{className:"p-6 border-b border-gray-100 flex items-center justify-between bg-gray-50/50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-600 flex items-center justify-center text-white font-bold",children:d.name.charAt(0)}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-sm font-bold text-gray-900",children:d.name}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse"}),e.jsx("span",{className:"text-[10px] font-bold text-gray-400 tracking-widest uppercase",children:"Member Online"})]})]})]}),e.jsx("button",{onClick:()=>A(!1),className:"p-2 hover:bg-gray-200 rounded-xl text-gray-400 transition-colors",children:e.jsx(Vr,{size:20})})]}),e.jsxs("div",{className:"p-6 h-[350px] overflow-y-auto bg-gray-50/30 flex flex-col gap-4",children:[e.jsxs("div",{className:"bg-white p-4 rounded-2xl rounded-tl-none border border-gray-100 shadow-sm max-w-[85%] self-start",children:[e.jsx("p",{className:"text-sm text-gray-700",children:"Hello! I noticed you missed your session yesterday. Is everything okay with your training?"}),e.jsx("span",{className:"text-[10px] font-bold text-gray-400 mt-2 block",children:"10:30 AM"})]}),e.jsxs("div",{className:"bg-blue-600 p-4 rounded-2xl rounded-tr-none text-white shadow-lg shadow-blue-200 max-w-[85%] self-end",children:[e.jsx("p",{className:"text-sm font-medium",children:"Just checking in to keep you on track!"}),e.jsx("span",{className:"text-[10px] font-bold text-blue-100 mt-2 block",children:"10:31 AM"})]}),e.jsx("div",{className:"mt-auto flex justify-center",children:e.jsx("div",{className:"px-3 py-1 bg-gray-200/50 rounded-full text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Today"})})]}),e.jsxs("div",{className:"p-4 bg-white border-t border-gray-100 flex gap-2",children:[e.jsx("input",{type:"text",placeholder:"Type a message...",className:"flex-1 px-4 py-2.5 bg-gray-50 border-none rounded-xl text-sm focus:ring-2 focus:ring-blue-500 outline-none transition-all",value:w,onChange:P=>k(P.target.value),onKeyPress:P=>P.key==="Enter"&&k("")}),e.jsx("button",{onClick:()=>k(""),className:"w-10 h-10 bg-blue-600 text-white rounded-xl flex items-center justify-center hover:bg-blue-700 active:scale-90 transition-all shadow-lg shadow-blue-200",children:e.jsx(Fc,{size:18})})]})]})]})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px] text-center p-6",children:[e.jsx("div",{className:"w-16 h-16 bg-red-50 text-red-500 rounded-full flex items-center justify-center mb-4",children:e.jsx(hs,{size:32})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Member Not Found"}),e.jsx("p",{className:"text-gray-500 mt-2 max-w-xs",children:"The profile you are looking for might have been removed or the ID is incorrect."}),e.jsx("div",{className:"flex gap-4 mt-6",children:s?e.jsx("button",{onClick:s,className:"px-6 py-2.5 bg-gray-900 text-white rounded-xl font-bold hover:bg-gray-800 transition-all",children:"Close"}):e.jsx("button",{onClick:()=>a("/trainer/members/assigned"),className:"px-6 py-2.5 bg-gray-900 text-white rounded-xl font-bold hover:bg-gray-800 transition-all",children:"Back to List"})})]})},SL=({isOpen:t,onClose:s,memberName:a,memberId:l})=>{const[i,o]=v.useState(""),[d,x]=v.useState(null),[u,h]=v.useState(""),[p,f]=v.useState(""),[b,g]=v.useState(""),A=[{id:"DP-101",name:"Lean Bulk High Protein",type:"Diet",duration:"4 Weeks",trainer_id:"T-101"},{id:"DP-102",name:"Keto Shred Protocol",type:"Diet",duration:"8 Weeks",trainer_id:"T-101"},{id:"WP-201",name:"Hypertrophy Mastery 2.0",type:"Workout",duration:"12 Weeks",trainer_id:"T-101"},{id:"WP-202",name:"Strength 5x5 Foundation",type:"Workout",duration:"6 Weeks",trainer_id:"T-101"}].filter(k=>k.name.toLowerCase().includes(i.toLowerCase())||k.type.toLowerCase().includes(i.toLowerCase())),w=()=>{console.log("Final Assignment Data:",{memberId:l,planId:d,startDate:u,endDate:p,notes:b}),alert(`Plan assigned to ${a} successfully!`),s()};return e.jsx(rt,{isOpen:t,onClose:s,title:`Assign Plan to ${a}`,subtitle:"Configure plan duration and specific notes",maxWidth:"max-w-xl",children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex-1 overflow-y-auto pr-2 custom-scrollbar space-y-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 pl-1 flex items-center gap-2",children:[e.jsx(al,{size:14})," Select Protocol"]}),e.jsx("span",{className:"text-[10px] font-black text-indigo-500 bg-indigo-50 px-2 py-0.5 rounded-md uppercase tracking-widest",children:"Trainer Plans only"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(tt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-300",size:16}),e.jsx("input",{type:"text",placeholder:"Search your diet or workout plans...",className:"w-full pl-10 pr-4 py-3 bg-slate-50 border-none rounded-2xl text-sm font-bold focus:ring-2 focus:ring-indigo-500 outline-none transition-all",value:i,onChange:k=>o(k.target.value)})]}),e.jsx("div",{className:"grid grid-cols-1 gap-3 max-h-[300px] overflow-y-auto pr-1",children:A.map(k=>{const C=d===k.id;return e.jsxs("button",{onClick:()=>x(k.id),className:`p-4 rounded-2xl border transition-all text-left flex items-center justify-between group ${C?"bg-indigo-600 border-indigo-600 shadow-lg shadow-indigo-100":"bg-white border-slate-100 hover:border-indigo-200 hover:bg-slate-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center font-black text-[10px] uppercase ${C?"bg-white/20 text-white":"bg-slate-100 text-slate-500"}`,children:k.type.charAt(0)}),e.jsxs("div",{children:[e.jsx("p",{className:`font-black text-sm uppercase tracking-tight ${C?"text-white":"text-slate-800"}`,children:k.name}),e.jsx("div",{className:"flex items-center gap-2 mt-0.5",children:e.jsxs("span",{className:`text-[10px] font-bold uppercase tracking-widest opacity-60 ${C?"text-white":"text-slate-400"}`,children:[k.type,"  ",k.duration]})})]})]}),C&&e.jsx(xr,{size:18,className:"text-white",strokeWidth:3})]},k.id)})})]}),e.jsxs("div",{className:"bg-slate-50 p-6 rounded-[32px] border border-slate-100 space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-white text-indigo-600 rounded-xl flex items-center justify-center shadow-sm",children:e.jsx(Ve,{size:16})}),e.jsx("h3",{className:"text-sm font-black text-slate-900 uppercase tracking-widest",children:"Protocol Timeline"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 pl-1",children:"Start Date"}),e.jsx("input",{type:"date",className:"w-full h-12 bg-white border border-slate-200 rounded-xl px-4 text-sm font-bold focus:border-indigo-500 outline-none transition-all",value:u,onChange:k=>h(k.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 pl-1",children:"End Date"}),e.jsx("input",{type:"date",className:"w-full h-12 bg-white border border-slate-200 rounded-xl px-4 text-sm font-bold focus:border-indigo-500 outline-none transition-all",value:p,onChange:k=>f(k.target.value)})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 pl-1",children:"Coach's Directive (Optional)"}),e.jsxs("div",{className:"relative",children:[e.jsx(Yn,{className:"absolute left-3 top-3 text-slate-300",size:16}),e.jsx("textarea",{placeholder:"Add specific instructions, focus points or motivational notes for the athlete...",className:"w-full h-24 pl-10 pr-4 py-3 bg-white border border-slate-200 rounded-2xl text-sm font-medium focus:border-indigo-500 outline-none resize-none transition-all",value:b,onChange:k=>g(k.target.value)})]})]})]})]}),e.jsxs("div",{className:"border-t border-slate-100 pt-6 mt-8 flex items-center justify-between bg-white relative",children:[e.jsx("button",{onClick:s,className:"px-6 py-3.5 text-xs font-black text-slate-400 hover:text-slate-600 transition-colors uppercase tracking-widest",children:"Decline"}),e.jsxs("button",{onClick:w,disabled:!d||!u||!p,className:"px-8 py-3.5 bg-indigo-600 text-white rounded-2xl text-xs font-black uppercase tracking-widest hover:bg-indigo-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-xl shadow-indigo-100 flex items-center gap-2",children:["Confirm Assignment ",e.jsx(jl,{size:16})]})]})]})})},CL=()=>{const t=qt(),[s,a]=v.useState([]),[l,i]=v.useState(!0),[o,d]=v.useState(""),[x,u]=v.useState("All"),[h,p]=v.useState(1),[f,b]=v.useState(6),[g,j]=v.useState(0),[A,w]=v.useState(!1),[k,C]=v.useState(null),[L,N]=v.useState(""),[P,_]=v.useState(!1),[F,R]=v.useState(!1),[B,T]=v.useState(!1),[q,H]=v.useState(!1),[G,W]=v.useState("");v.useEffect(()=>{le()},[o,x,h,f]);const le=async()=>{i(!0);const oe=await Dg({filters:{search:o,status:x==="All"?"":x},page:h,limit:f});a(oe?.data||[]),j(oe?.total||0),i(!1)},V=I=>{d(I.target.value),p(1)},ne=I=>{if(!I)return"bg-gray-50 text-gray-600 border-gray-100";switch(I.toLowerCase()){case"active":return"bg-green-50 text-green-600 border-green-100";case"inactive":return"bg-red-50 text-red-600 border-red-100";default:return"bg-gray-50 text-gray-600 border-gray-100"}};return e.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 max-w-[1600px] mx-auto flex flex-col gap-6 animate-in fade-in duration-500",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"Assigned Members"}),e.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["Manage and track progress of your ",s.length," active trainees"]})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{className:"bg-blue-50 px-4 py-2 rounded-xl flex items-center gap-2 border border-blue-100",children:[e.jsx(Ng,{size:18,className:"text-blue-500"}),e.jsx("span",{className:"text-sm font-bold text-blue-700",children:"Top Performer: Emma"})]})})]}),e.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-gray-200 shadow-sm flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(tt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:"text",placeholder:"Search by name, ID or plan...",className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border-none rounded-xl focus:ring-2 focus:ring-blue-500 transition-all outline-none",value:o,onChange:V})]}),e.jsx("div",{className:"flex gap-2 w-full sm:w-auto",children:e.jsx(us,{options:[{value:"All",label:"All Status"},{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}],value:x,onChange:I=>{u(I),p(1)},className:"w-full sm:w-48"})})]}),l?e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"text-gray-500 font-medium",children:"Loading your members..."})]})}):s.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"hidden lg:block bg-white rounded-[32px] border border-slate-100 shadow-xl overflow-hidden",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{className:"bg-slate-50/50 border-b border-slate-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Athlete"}),e.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Current Plan"}),e.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Attendance"}),e.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Status"}),e.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:s.map(I=>e.jsxs("tr",{className:"group hover:bg-slate-50/50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-indigo-600 text-white flex items-center justify-center font-black text-sm uppercase",children:(I.name||"?").charAt(0)}),e.jsxs("div",{children:[e.jsx("p",{className:"font-black text-slate-800 text-sm uppercase tracking-tight",children:I.name}),e.jsxs("p",{className:"text-[10px] text-slate-400 font-bold",children:["Ref: ",I.id]})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-1.5 bg-indigo-50 text-indigo-600 rounded-lg",children:e.jsx(al,{size:14})}),e.jsx("span",{className:"text-sm font-black text-slate-700 uppercase tracking-tight truncate max-w-[150px]",children:I.plan||"No Active Plan"})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-black text-slate-800",children:I.attendance}),e.jsx("span",{className:"text-[10px] text-emerald-500 font-black bg-emerald-50 px-1.5 py-0.5 rounded-md",children:" 2%"})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest border ${ne(I.status)}`,children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${I.status?.toLowerCase()==="active"?"bg-emerald-500 animate-pulse":"bg-rose-500"}`}),I.status]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>{C(I),H(!0)},className:"px-4 py-2 bg-indigo-600 text-white rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-indigo-700 transition-all shadow-md shadow-indigo-100",children:"Assign Plan"}),e.jsxs(by,{trigger:e.jsx("button",{className:"w-8 h-8 flex items-center justify-center rounded-lg text-slate-400 hover:bg-white hover:text-indigo-600 transition-all border border-transparent hover:border-slate-100",children:e.jsx(_c,{size:18})}),children:[e.jsxs("button",{onClick:()=>{C(I),T(!0)},className:"w-full px-4 py-2.5 text-left text-[10px] font-black text-slate-600 hover:bg-slate-50 flex items-center gap-2 uppercase tracking-widest",children:[e.jsx(qs,{size:14})," Profile"]}),e.jsxs("button",{onClick:()=>t(`/progress?memberId=${I.id}`),className:"w-full px-4 py-2.5 text-left text-[10px] font-black text-slate-600 hover:bg-slate-50 flex items-center gap-2 uppercase tracking-widest",children:[e.jsx(Js,{size:14})," Progress"]}),e.jsxs("button",{onClick:()=>{C(I),w(!0)},className:"w-full px-4 py-2.5 text-left text-[10px] font-black text-slate-600 hover:bg-slate-50 flex items-center gap-2 uppercase tracking-widest",children:[e.jsx(sr,{size:14})," Chat"]}),e.jsxs("button",{onClick:()=>{C(I),_(!0)},className:"w-full px-4 py-2.5 text-left text-[10px] font-black text-slate-600 hover:bg-slate-50 flex items-center gap-2 uppercase tracking-widest",children:[e.jsx(Ve,{size:14})," Attendance"]}),e.jsx("div",{className:"h-px bg-slate-100 my-1 mx-2"}),e.jsxs("button",{onClick:()=>{C(I),R(!0)},className:"w-full px-4 py-2.5 text-left text-[10px] font-black text-rose-600 hover:bg-rose-50 flex items-center gap-2 uppercase tracking-widest",children:[e.jsx(Mh,{size:14})," Flag"]})]})]})})]},I.id))})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:hidden gap-6",children:s.map(I=>e.jsxs("div",{className:"group bg-white rounded-3xl border border-gray-100 shadow-sm hover:shadow-xl hover:border-blue-100 transition-all duration-300 flex flex-col relative",children:[e.jsxs("div",{className:"p-6 flex-1 hover:bg-slate-50/50 transition-colors duration-300",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative group/avatar",children:[e.jsxs("div",{className:"w-16 h-16 rounded-[24px] bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white font-black text-2xl shadow-xl shadow-indigo-100 group-hover/avatar:scale-110 group-hover/avatar:rotate-3 transition-all duration-500 overflow-hidden",children:[(I.name||"?").charAt(0),e.jsx("div",{className:"absolute inset-0 bg-white/20 opacity-0 group-hover/avatar:opacity-100 transition-opacity"})]}),I.isFlagged&&e.jsx("div",{className:"absolute -top-2 -right-2 p-1.5 bg-rose-500 border-2 border-white rounded-xl text-white shadow-lg animate-bounce",title:`Flagged: ${I.flagReason}`,children:e.jsx(Mh,{size:14})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-black text-slate-800 text-lg group-hover:text-indigo-600 transition-colors uppercase tracking-tight truncate max-w-[140px]",children:I.name}),e.jsxs("div",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest border mt-2 ${ne(I.status)}`,children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${I.status?.toLowerCase()==="active"?"bg-emerald-500 animate-pulse":"bg-rose-500"}`}),I.status]})]})]}),e.jsxs(by,{trigger:e.jsx("button",{className:"w-10 h-10 flex items-center justify-center rounded-xl text-slate-400 hover:bg-white hover:text-indigo-600 hover:shadow-md transition-all border border-transparent hover:border-slate-100",children:e.jsx(_c,{size:20})}),children:[e.jsxs("button",{onClick:oe=>{oe.stopPropagation(),t(`/progress?memberId=${I.id}`)},className:"w-full px-4 py-3 text-left text-xs font-black text-slate-600 hover:bg-slate-50 flex items-center gap-3 transition-colors uppercase tracking-widest",children:[e.jsx(Js,{size:16,className:"text-violet-500"})," Member Progress"]}),e.jsxs("button",{onClick:oe=>{oe.stopPropagation(),C(I),_(!0)},className:"w-full px-4 py-3 text-left text-xs font-black text-slate-600 hover:bg-slate-50 flex items-center gap-3 transition-colors uppercase tracking-widest",children:[e.jsx(Ve,{size:16,className:"text-indigo-500"})," Attendance Log"]}),e.jsxs("button",{onClick:oe=>{oe.stopPropagation(),C(I),H(!0)},className:"w-full px-4 py-3 text-left text-xs font-black text-slate-600 hover:bg-slate-50 flex items-center gap-3 transition-colors uppercase tracking-widest",children:[e.jsx(il,{size:16,className:"text-indigo-600"})," Assign Plan"]}),e.jsx("div",{className:"h-px bg-slate-100 my-1 mx-2"}),e.jsxs("button",{onClick:oe=>{oe.stopPropagation(),C(I),R(!0)},className:"w-full px-4 py-3 text-left text-xs font-black text-rose-600 hover:bg-rose-50 flex items-center gap-3 transition-colors uppercase tracking-widest",children:[e.jsx(Mh,{size:16,className:"text-rose-500"})," Flag Status"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-slate-50/80 p-4 rounded-2xl border border-slate-100/50 group-hover:bg-white transition-colors duration-500",children:[e.jsx("p",{className:"text-[10px] text-slate-400 font-black uppercase tracking-widest mb-2",children:"Attendance"}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("p",{className:"text-2xl font-black text-slate-800",children:I.attendance}),e.jsx("p",{className:"text-[10px] text-emerald-500 font-black bg-emerald-50 px-1.5 py-0.5 rounded-md",children:" 2%"})]})]}),e.jsxs("div",{className:"bg-slate-50/80 p-4 rounded-2xl border border-slate-100/50 group-hover:bg-white transition-colors duration-500",children:[e.jsx("p",{className:"text-[10px] text-slate-400 font-black uppercase tracking-widest mb-2",children:"Active Plan"}),e.jsx("p",{className:"text-sm font-black text-slate-700 truncate",children:I.plan})]})]}),e.jsxs("div",{className:"flex items-center gap-3 mt-6 text-[10px] text-slate-400 font-black uppercase tracking-widest",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Ve,{size:14,className:"text-slate-300"})," ",I.joined]}),e.jsx("span",{className:"w-1 h-1 bg-slate-200 rounded-full"}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Qe,{size:14,className:"text-slate-300"})," ",I.lastSession]})]})]}),e.jsxs("div",{className:"p-4 bg-slate-50/50 border-t border-slate-100 flex flex-col gap-3 rounded-b-3xl",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:()=>{C(I),w(!0)},className:"flex-1 flex items-center justify-center gap-2 py-3.5 bg-white border-2 border-slate-100 rounded-2xl text-[10px] font-black uppercase tracking-widest text-slate-600 hover:bg-white hover:border-indigo-100 hover:text-indigo-600 hover:shadow-xl hover:shadow-indigo-50 transition-all active:scale-95",children:[e.jsx(sr,{size:16}),"Chat"]}),e.jsxs("button",{onClick:()=>{C(I),T(!0)},className:"flex-1 flex items-center justify-center gap-2 py-3.5 bg-white border border-slate-200 text-slate-700 rounded-2xl text-[10px] font-black uppercase tracking-widest hover:border-indigo-200 transition-all active:scale-95",children:[e.jsx(qs,{size:16}),"Profile"]})]}),e.jsxs("button",{onClick:()=>{C(I),H(!0)},className:"w-full flex items-center justify-center gap-2 py-3.5 bg-indigo-600 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest hover:bg-indigo-700 transition-all active:scale-95 shadow-xl shadow-indigo-200",children:[e.jsx(il,{size:16}),"Assign Plan"]})]})]},I.id))})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 bg-white rounded-[40px] border border-gray-100 shadow-sm border-dashed",children:[e.jsx(lt,{size:48,className:"text-gray-200 mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"No members found"}),e.jsx("p",{className:"text-gray-500 mt-2",children:"Try adjusting your filters or search term."})]}),!l&&g>0&&e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 bg-white p-4 rounded-[32px] border border-gray-100 shadow-sm",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("span",{className:"text-sm text-gray-500",children:["Showing ",e.jsx("span",{className:"font-bold text-gray-900",children:(h-1)*f+1})," to ",e.jsx("span",{className:"font-bold text-gray-900",children:Math.min(h*f,g)})," of ",e.jsx("span",{className:"font-bold text-gray-900",children:g})," members"]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>p(I=>Math.max(I-1,1)),disabled:h===1,className:"p-2 border border-gray-200 rounded-xl hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:e.jsx(Gr,{size:20})}),e.jsx("div",{className:"flex gap-1",children:Array.from({length:Math.ceil(g/f)},(I,oe)=>oe+1).map(I=>e.jsx("button",{onClick:()=>p(I),className:`w-10 h-10 rounded-xl text-sm font-bold transition-all ${h===I?"bg-blue-600 text-white shadow-lg shadow-blue-200":"text-gray-500 hover:bg-gray-50"}`,children:I},I))}),e.jsx("button",{onClick:()=>p(I=>Math.min(I+1,Math.ceil(g/f))),disabled:h===Math.ceil(g/f),className:"p-2 border border-gray-200 rounded-xl hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:e.jsx(js,{size:20})})]})]}),e.jsx(rt,{isOpen:A,onClose:()=>w(!1),title:k?.name,subtitle:"Member Online",maxWidth:"max-w-md",footer:e.jsxs("div",{className:"flex gap-2 w-full",children:[e.jsx("input",{type:"text",placeholder:"Type a message...",className:"flex-1 px-4 py-2.5 bg-gray-50 border-none rounded-xl text-sm focus:ring-2 focus:ring-blue-500 outline-none transition-all",value:L,onChange:I=>N(I.target.value),onKeyPress:I=>I.key==="Enter"&&N("")}),e.jsx("button",{onClick:()=>N(""),className:"w-10 h-10 bg-blue-600 text-white rounded-xl flex items-center justify-center hover:bg-blue-700 active:scale-90 transition-all shadow-lg shadow-blue-200",children:e.jsx(Fc,{size:18})})]}),children:k&&e.jsx("div",{className:"flex flex-col h-full",children:e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4 custom-scrollbar bg-gray-50/30",children:[e.jsxs("div",{className:"bg-white p-4 rounded-2xl rounded-tl-none border border-gray-100 shadow-sm max-w-[85%] self-start",children:[e.jsx("p",{className:"text-sm text-gray-700",children:"Hello! I noticed you missed your session yesterday. Is everything okay with your training?"}),e.jsx("span",{className:"text-[10px] font-bold text-gray-400 mt-2 block",children:"10:30 AM"})]}),e.jsxs("div",{className:"bg-blue-600 p-4 rounded-2xl rounded-tr-none text-white shadow-lg shadow-blue-200 max-w-[85%] self-endml-auto",children:[e.jsx("p",{className:"text-sm font-medium",children:"Just checking in to keep you on track!"}),e.jsx("span",{className:"text-[10px] font-bold text-blue-100 mt-2 block",children:"10:31 AM"})]}),e.jsx("div",{className:"mt-auto flex justify-center pt-4",children:e.jsx("div",{className:"px-3 py-1 bg-gray-200/50 rounded-full text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Today"})})]})})}),e.jsx(rt,{isOpen:P,onClose:()=>_(!1),title:"Attendance Log",subtitle:k?.name,maxWidth:"max-w-lg",footer:e.jsx("button",{onClick:()=>_(!1),className:"w-full py-3 bg-gray-900 text-white rounded-xl font-bold shadow-lg shadow-gray-200 active:scale-95 transition-all",children:"Close Log"}),children:k&&e.jsx("div",{className:"flex flex-col h-full",children:e.jsx("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar",children:e.jsx("div",{className:"space-y-3",children:(k?.recentWorkouts||[]).length>0?k.recentWorkouts.map((I,oe)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-2xl border border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`p-2 rounded-lg ${I.status==="Present"?"bg-green-100 text-green-600":"bg-orange-100 text-orange-600"}`,children:e.jsx(Ve,{size:18})}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-bold text-gray-900",children:[I.date,"  ",I.time]}),e.jsxs("p",{className:"text-xs text-gray-500 font-medium",children:[I.type," Session"]})]})]}),e.jsx("span",{className:`px-2 py-0.5 rounded-lg text-[10px] font-black uppercase ${I.status==="Present"?"bg-green-50 text-green-700":"bg-orange-50 text-orange-700"}`,children:I.status})]},oe)):e.jsx("p",{className:"text-center text-gray-500 text-sm py-4",children:"No attendance logs available for this member."})})})})}),e.jsx(rt,{isOpen:F,onClose:()=>R(!1),title:"Flag Member",subtitle:k?.name,maxWidth:"max-w-md",footer:e.jsxs("div",{className:"flex gap-3 w-full",children:[e.jsx("button",{onClick:()=>R(!1),className:"flex-1 py-3 bg-gray-100 text-gray-600 rounded-xl font-bold active:scale-95 transition-all",children:"Cancel"}),e.jsx("button",{onClick:async()=>{await sD(k.id,G),W(""),R(!1),le()},className:"flex-1 py-3 bg-red-600 text-white rounded-xl font-bold shadow-xl shadow-red-200 active:scale-95 transition-all",children:"Flag Member"})]}),children:k&&e.jsx("div",{className:"flex flex-col h-full",children:e.jsx("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-gray-500 leading-relaxed font-medium",children:"Flagging a member will notify the administration team for further review of their membership status or conduct."}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2 block",children:"Reason for Flagging"}),e.jsx("textarea",{className:"w-full p-4 bg-gray-50 border-none rounded-2xl text-sm focus:ring-2 focus:ring-red-500 outline-none transition-all h-32 resize-none font-medium text-gray-700",placeholder:"Enter detailed reason (e.g., poor conduct, payment delays, health concerns)...",value:G,onChange:I=>W(I.target.value)})]})]})})})}),e.jsx(rt,{isOpen:B,onClose:()=>T(!1),title:"Member Profile",subtitle:k?.name,maxWidth:"max-w-7xl",children:k&&e.jsx(kL,{memberId:k.id,onClose:()=>T(!1)})}),e.jsx(SL,{isOpen:q,onClose:()=>H(!1),memberName:k?.name,memberId:k?.id})]})},AL=()=>{const[t,s]=v.useState(null),[a,l]=v.useState(!0),[i,o]=v.useState("personal"),[d,x]=v.useState(!1),[u,h]=v.useState({type:"",text:""}),[p,f]=v.useState(!1),[b,g]=v.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[j,A]=v.useState({name:"",email:"",phone:"",address:"",avatar:""});v.useEffect(()=>{w()},[]);const w=async()=>{l(!0);try{const _=await R9();s(_),A({name:_.name,email:_.email,phone:_.phone,address:_.address||"",avatar:_.avatar||""})}catch(_){console.error("Load Profile Error:",_)}finally{l(!1)}},k=_=>{const{name:F,value:R}=_.target;A(B=>({...B,[F]:R}))},C=_=>{const F=_.target.files[0];if(F){const R=new FileReader;R.onloadend=()=>{A(B=>({...B,avatar:R.result}))},R.readAsDataURL(F)}},L=async _=>{_&&_.preventDefault(),x(!0),h({type:"",text:""});try{const F=await q9(j);s(F),h({type:"success",text:"Profile updated successfully!"})}catch(F){h({type:"error",text:typeof F=="string"?F:"Failed to update profile."})}finally{x(!1)}},N=async _=>{if(_.preventDefault(),b.newPassword!==b.confirmPassword){alert("Passwords don't match!");return}x(!0);try{await H9({currentPassword:b.currentPassword,newPassword:b.newPassword}),f(!1),g({currentPassword:"",newPassword:"",confirmPassword:""}),alert("Password updated successfully!")}catch(F){alert(F||"Failed to update password")}finally{x(!1)}};if(a||!t)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 flex items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"h-16 w-16 border-4 border-violet-600 border-t-transparent rounded-full mb-4 animate-spin"}),e.jsx("p",{className:"text-lg font-semibold text-slate-600 tracking-tight",children:!t&&!a?"Failed to load profile":"Accessing Secure Profile..."}),!t&&!a&&e.jsx("button",{onClick:()=>w(),className:"mt-4 px-6 py-2 bg-violet-600 text-white rounded-xl font-bold hover:bg-violet-700 transition-colors",children:"Retry Connection"})]})});const P=[{id:"personal",label:"Personal Info",icon:lt},{id:"security",label:"Security",icon:Ca},{id:"notifications",label:"Notifications",icon:wl}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 md:p-8",children:[e.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[e.jsxs("div",{className:"relative bg-white rounded-3xl border border-slate-100 shadow-xl overflow-hidden animate-in fade-in duration-700",children:[e.jsxs("div",{className:"h-40 bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-10"}),e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full -mr-32 -mt-32 blur-3xl animate-pulse"})]}),e.jsx("div",{className:"px-8 pb-8",children:e.jsxs("div",{className:"relative flex flex-col md:flex-row md:items-end gap-6 -mt-16",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"w-40 h-40 rounded-[2.5rem] bg-white p-2 shadow-2xl ring-8 ring-white/50",children:e.jsx("div",{className:"w-full h-full rounded-[2rem] bg-gradient-to-br from-violet-600 to-indigo-700 flex items-center justify-center text-white text-5xl font-black shadow-inner overflow-hidden",children:j.avatar?e.jsx("img",{src:j.avatar,alt:"Profile",className:"w-full h-full object-cover"}):t.name?.charAt(0)})}),e.jsxs("label",{className:"absolute bottom-2 right-2 p-3 bg-white rounded-2xl shadow-xl border border-slate-200 text-violet-600 hover:scale-110 hover:bg-violet-50 active:scale-95 transition-all duration-300 cursor-pointer group-hover:shadow-violet-200",children:[e.jsx(qo,{size:20}),e.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:C})]})]}),e.jsxs("div",{className:"flex-1 pb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h1",{className:"text-4xl font-black text-slate-900 tracking-tight",children:t.name}),e.jsx("div",{className:"mt-1 px-3 py-1 bg-violet-100 text-violet-700 rounded-lg text-[10px] font-black uppercase tracking-widest border border-violet-200",children:t.role.replace("_"," ")})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 mt-4",children:[e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-emerald-50 text-emerald-700 rounded-2xl text-xs font-black border border-emerald-100 shadow-sm",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),t.status]}),e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-slate-50 text-slate-700 rounded-2xl text-xs font-black border border-slate-100 shadow-sm",children:[e.jsx(Ve,{size:14,className:"text-slate-400"}),"Since ",t.joinedDate]})]})]}),e.jsx("div",{className:"md:mb-4",children:e.jsxs("button",{className:"px-8 py-4 bg-slate-900 text-white rounded-2xl text-sm font-black shadow-xl shadow-slate-200 hover:shadow-2xl hover:bg-slate-800 hover:-translate-y-1 active:scale-95 transition-all duration-300 flex items-center gap-3",children:[e.jsx(Xt,{size:20,className:"text-emerald-400"}),"Verified Professional"]})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[e.jsx("div",{className:"lg:col-span-3 space-y-3",children:P.map(_=>e.jsxs("button",{onClick:()=>{o(_.id),h({type:"",text:""})},className:`w-full flex items-center gap-4 px-6 py-5 rounded-2xl text-sm font-black tracking-wide transition-all duration-300 ${i===_.id?"bg-violet-600 text-white shadow-xl shadow-violet-200 -translate-x-2":"bg-white text-slate-500 hover:bg-violet-50 hover:text-violet-600 border border-slate-100"}`,children:[e.jsx(_.icon,{size:22}),_.label]},_.id))}),e.jsx("div",{className:"lg:col-span-9",children:e.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-2xl p-8 md:p-12 animate-in slide-in-from-bottom-8 duration-500 overflow-hidden relative",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-violet-50/50 rounded-full -mr-32 -mt-32 blur-3xl pointer-events-none"}),u.text&&e.jsxs("div",{className:`mb-10 p-5 rounded-2xl flex items-center gap-4 text-sm font-bold border-2 animate-in fade-in slide-in-from-top-4 ${u.type==="success"?"bg-emerald-50 text-emerald-700 border-emerald-100 shadow-lg shadow-emerald-50":"bg-red-50 text-red-700 border-red-100 shadow-lg shadow-red-50"}`,children:[e.jsx("div",{className:`p-2 rounded-xl ${u.type==="success"?"bg-emerald-200/50":"bg-red-200/50"}`,children:u.type==="success"?e.jsx(Xt,{size:20}):e.jsx(Ca,{size:20})}),u.text]}),i==="personal"&&e.jsxs("form",{onSubmit:L,className:"space-y-10 relative",children:[e.jsx("div",{className:"flex justify-between items-start",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-3xl font-black text-slate-900 tracking-tight",children:"Professional Dossier"}),e.jsx("p",{className:"text-slate-500 font-bold mt-2",children:"Update your public identity and contact gateways"})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[{label:"Display Name",name:"name",type:"text",icon:lt,placeholder:"Test Trainer"},{label:"Secure Email",name:"email",type:"email",icon:Wr,placeholder:"trainer@gym.com"},{label:"Direct Line",name:"phone",type:"text",icon:Hs,placeholder:"Enter phone"},{label:"Base Location",name:"address",type:"text",icon:$s,placeholder:"Enter city, country"}].map(_=>e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-1",children:_.label}),e.jsxs("div",{className:"relative group/field",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-5 flex items-center pointer-events-none text-slate-300 group-focus-within/field:text-violet-600 transition-colors duration-300",children:e.jsx(_.icon,{size:20})}),e.jsx("input",{type:_.type,name:_.name,value:j[_.name],onChange:k,className:"w-full pl-14 pr-6 py-4.5 bg-slate-50 border-2 border-slate-100 rounded-2xl text-slate-900 font-bold focus:bg-white focus:outline-none focus:ring-4 focus:ring-violet-500/10 focus:border-violet-500 transition-all duration-300",placeholder:_.placeholder})]})]},_.name))}),e.jsx("div",{className:"pt-10 flex border-t border-slate-50",children:e.jsxs("button",{type:"submit",disabled:d,className:"group relative flex items-center justify-center px-12 py-5 rounded-[1.5rem] font-black text-white shadow-2xl transition-all duration-300 transform hover:-translate-y-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:translate-y-0 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-600 to-indigo-700"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-700 to-fuchsia-700 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),d?e.jsx("div",{className:"w-6 h-6 border-3 border-white border-t-transparent rounded-full animate-spin relative mr-4"}):e.jsx(na,{size:24,className:"mr-3 relative transition-transform duration-500 group-hover:rotate-[360deg]"}),e.jsx("span",{className:"relative text-lg tracking-tight",children:d?"Encrypting...":"Deploy Profile Updates"})]})})]}),i==="security"&&e.jsxs("div",{className:"space-y-12 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 bg-slate-50 p-8 rounded-3xl border border-slate-100",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"text-xl font-black text-slate-900 flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"p-2 bg-slate-900 text-white rounded-xl",children:e.jsx(Rs,{size:20})})," Access Control"]}),e.jsx("p",{className:"text-slate-500 font-bold",children:"Manage your cryptographic primary access key"})]}),e.jsx("button",{onClick:()=>f(!0),className:"px-8 py-4 bg-slate-900 text-white rounded-2xl text-sm font-black hover:bg-slate-800 hover:shadow-2xl hover:-translate-y-1 active:scale-95 transition-all duration-300 shadow-xl",children:"Modify Passkey"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"p-8 rounded-[2rem] border-2 border-dashed border-slate-200 bg-white hover:border-violet-300 hover:bg-violet-50/30 transition-all duration-300 group/secure",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("div",{className:"p-3 bg-emerald-100 text-emerald-600 rounded-2xl group-hover/secure:scale-110 transition-transform",children:e.jsx(Ca,{size:24})}),e.jsx("div",{className:"relative w-14 h-8 bg-emerald-500 rounded-full shadow-inner p-1 cursor-pointer",children:e.jsx("div",{className:"absolute right-1 w-6 h-6 bg-white rounded-full shadow-sm"})})]}),e.jsx("h5",{className:"text-lg font-black text-slate-900 mb-2",children:"Biometric Bridge"}),e.jsx("p",{className:"text-slate-400 text-sm font-bold",children:"Enabled via local security subsystem (FaceID/Fingerprint)"})]}),e.jsxs("div",{className:"p-8 rounded-[2rem] border-2 border-dashed border-slate-200 bg-white hover:border-blue-300 hover:bg-blue-50/30 transition-all duration-300 group/secure",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("div",{className:"p-3 bg-blue-100 text-blue-600 rounded-2xl group-hover/secure:scale-110 transition-transform",children:e.jsx(wl,{size:24})}),e.jsx("div",{className:"relative w-14 h-8 bg-slate-200 rounded-full shadow-inner p-1 cursor-pointer",children:e.jsx("div",{className:"absolute left-1 w-6 h-6 bg-white rounded-full shadow-sm"})})]}),e.jsx("h5",{className:"text-lg font-black text-slate-900 mb-2",children:"Login Alerts"}),e.jsx("p",{className:"text-slate-400 text-sm font-bold",children:"Receive instant signals for new session initiations"})]})]})]}),i==="notifications"&&e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center animate-in zoom-in-95 duration-500",children:[e.jsxs("div",{className:"w-32 h-32 bg-violet-50 rounded-[2.5rem] flex items-center justify-center text-violet-600 mb-8 shadow-inner ring-4 ring-white relative overflow-hidden group",children:[e.jsx("div",{className:"absolute inset-0 bg-violet-600 opacity-0 group-hover:opacity-10 transition-opacity"}),e.jsx(wl,{size:64,className:"group-hover:rotate-12 transition-transform duration-500"})]}),e.jsx("h3",{className:"text-3xl font-black text-slate-900 mb-4 tracking-tight",children:"Signal Matrix"}),e.jsx("p",{className:"text-slate-400 max-w-sm font-bold text-lg leading-relaxed",children:"Customize your cognitive load by filtering system-wide notifications and alerts."}),e.jsx("button",{className:"mt-10 px-10 py-4 bg-slate-900 text-white rounded-2xl font-black hover:bg-slate-800 transition-all",children:"Establish Protocols"})]})]})})]})]}),p&&e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-md",onClick:()=>!d&&f(!1)}),e.jsxs("div",{className:"relative w-full max-w-lg bg-white rounded-[3rem] shadow-2xl p-8 md:p-12 animate-in zoom-in-95 duration-300 overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-violet-600 to-indigo-600"}),e.jsxs("div",{className:"flex justify-between items-center mb-10",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-black text-slate-900",children:"Modify Passkey"}),e.jsx("p",{className:"text-slate-500 font-bold text-sm mt-1",children:"Establish new cryptographically secure credentials"})]}),e.jsx("button",{onClick:()=>f(!1),className:"p-3 hover:bg-slate-100 rounded-2xl transition-all",children:e.jsx(Vr,{size:24})})]}),e.jsxs("form",{onSubmit:N,className:"space-y-6",children:[[{label:"Current Key",name:"currentPassword",type:"password",icon:Rs},{label:"New Primary Key",name:"newPassword",type:"password",icon:Ca},{label:"Validate New Key",name:"confirmPassword",type:"password",icon:Xt}].map(_=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:_.label}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-5 flex items-center pointer-events-none text-slate-300 group-focus-within:text-violet-600 transition-colors",children:e.jsx(_.icon,{size:20})}),e.jsx("input",{type:_.type,value:b[_.name],onChange:F=>g({...b,[_.name]:F.target.value}),className:"w-full pl-14 pr-6 py-4.5 bg-slate-50 border-2 border-slate-100 rounded-2xl font-bold focus:bg-white focus:outline-none focus:border-violet-500 transition-all",required:!0})]})]},_.name)),e.jsx("div",{className:"pt-6",children:e.jsx("button",{type:"submit",disabled:d,className:"w-full py-5 bg-slate-900 text-white rounded-2xl font-black text-lg hover:bg-slate-800 shadow-2xl shadow-slate-200 transition-all flex items-center justify-center gap-4",children:d?e.jsx("div",{className:"w-6 h-6 border-3 border-white border-t-transparent rounded-full animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(Ca,{size:22,className:"text-violet-400"}),"Update Keys"]})})})]})]})]})]})},DL=()=>{const[t,s]=v.useState(null),[a,l]=v.useState(new Date().getFullYear().toString()),[i,o]=v.useState(null),[d,x]=v.useState(!0);if(v.useEffect(()=>{(async()=>{try{const b=await O9();o(b)}catch(b){console.error("Failed to load earnings:",b)}finally{x(!1)}})()},[]),d)return e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 min-h-screen bg-slate-50",children:[e.jsx("div",{className:"w-10 h-10 border-4 border-violet-600 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"mt-4 text-slate-500 font-medium tracking-tight",children:"Loading your earnings..."})]});if(!i)return e.jsx("div",{className:"p-8 text-center text-gray-500 min-h-screen bg-slate-50",children:"Access Denied or Failed to Load"});const u=f=>{s(t===f?null:f)},h=()=>{alert("Downloading your earnings report... Your statement will be ready shortly.")},p=f=>{switch(f){case"Paid":return"bg-emerald-100 text-emerald-700 border border-emerald-200";case"Pending":return"bg-amber-100 text-amber-700 border border-amber-200";case"Processing":return"bg-blue-100 text-blue-700 border border-blue-200";default:return"bg-gray-100 text-gray-700 border border-gray-200"}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6 animate-fadeIn font-sans",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 rounded-3xl blur-2xl opacity-15 animate-pulse"}),e.jsxs("div",{className:"relative bg-white/80 backdrop-blur-xl rounded-[32px] shadow-2xl border border-white/50 p-6 sm:p-8 overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-violet-50 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 opacity-50"}),e.jsxs("div",{className:"relative z-10 flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4 sm:gap-6",children:[e.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-xl shadow-violet-200 transform hover:scale-105 transition-transform duration-300 group flex-shrink-0",children:e.jsx(xa,{size:28,className:"sm:w-9 sm:h-9 group-hover:rotate-12 transition-transform duration-300",strokeWidth:2})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-1",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-black text-slate-900 tracking-tight",children:"My Earnings"}),e.jsx("span",{className:"px-3 py-1 bg-emerald-100 text-emerald-700 text-[10px] sm:text-xs font-black uppercase tracking-wider rounded-full border border-emerald-200",children:"Secure View"})]}),e.jsx("p",{className:"text-slate-500 font-medium text-sm sm:text-lg",children:"Track your salary, commissions, and bonuses."})]})]}),e.jsxs("button",{onClick:h,className:"flex items-center justify-center gap-2 px-6 py-3 bg-white border-2 border-slate-100 text-slate-600 rounded-xl font-bold hover:border-violet-200 hover:text-violet-600 hover:shadow-lg transition-all w-full sm:w-auto",children:[e.jsx(Qs,{size:18}),"Download Report"]})]})]})]}),e.jsxs(du,{children:[e.jsx(Gn,{title:"Monthly Base Pay",value:`${i.summary.currency}${i.summary.baseSalary.toLocaleString()}`,icon:xa,color:"primary"}),e.jsx(Gn,{title:"Commission Rate",value:`${i.summary.commissionRate}%`,icon:Js,color:"success",trend:"+2%"}),e.jsx(Gn,{title:`Commission (${i.summary.currentMonthName})`,value:`${i.summary.currency}${i.summary.currentMonthCommission.toLocaleString()}`,icon:_t,color:"warning"}),e.jsx(Gn,{title:`Total Earnings (${i.summary.currentMonthName})`,value:`${i.summary.currency}${i.summary.currentMonthTotal.toLocaleString()}`,icon:Vn,color:"primary"})]}),e.jsxs("div",{className:"bg-white rounded-[32px] border border-slate-100 shadow-xl overflow-hidden p-4 sm:p-6 space-y-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-2",children:[e.jsxs("h3",{className:"text-xl font-black text-slate-900 flex items-center gap-2",children:[e.jsx(Ve,{size:24,className:"text-violet-600"})," Earnings History"]}),e.jsx("div",{className:"flex bg-slate-50 p-1 rounded-xl w-full sm:w-auto",children:[...new Set(i.history.map(f=>f.year))].sort((f,b)=>b-f).map(f=>e.jsx("button",{onClick:()=>l(f),className:`flex-1 sm:flex-none px-4 py-2 rounded-lg text-xs font-bold transition-all ${a===f?"bg-white text-violet-600 shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:f},f))})]}),e.jsx("div",{className:"hidden md:block overflow-x-auto rounded-2xl border border-slate-50",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50/50 border-b border-slate-100",children:[e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Month"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Base Salary"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Commission"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Bonus"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Total"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Status"}),e.jsx("th",{className:"px-6 py-4"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:i.history.filter(f=>f.year===a).map(f=>e.jsxs(Di.Fragment,{children:[e.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[e.jsx("td",{className:"px-6 py-5 text-sm font-bold text-slate-900",children:f.month}),e.jsxs("td",{className:"px-6 py-5 text-sm font-medium text-slate-500",children:["",f.baseSalary.toLocaleString()]}),e.jsxs("td",{className:"px-6 py-5 text-sm font-bold text-emerald-600",children:["+",f.commission.toLocaleString()]}),e.jsx("td",{className:"px-6 py-5 text-sm font-medium text-slate-500",children:f.bonus>0?`+${f.bonus.toLocaleString()}`:"-"}),e.jsxs("td",{className:"px-6 py-5 text-sm font-black text-slate-900",children:["",f.total.toLocaleString()]}),e.jsx("td",{className:"px-6 py-5",children:e.jsx("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-wide ${p(f.status)}`,children:f.status})}),e.jsx("td",{className:"px-6 py-5 text-right",children:e.jsx("button",{onClick:()=>u(f.id),className:"p-2 rounded-xl text-slate-400 hover:text-violet-600 hover:bg-violet-50 transition-all",children:t===f.id?e.jsx(ew,{size:18}):e.jsx(Nl,{size:18})})})]}),t===f.id&&e.jsx("tr",{className:"bg-slate-50/30 animate-in fade-in slide-in-from-top-2 duration-200",children:e.jsx("td",{colSpan:"7",className:"px-6 py-6",children:e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 p-6 shadow-sm",children:[e.jsxs("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-4",children:["Commission Breakdown  ",f.month]}),f.details.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:f.details.map(b=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-slate-50 border border-slate-100 hover:border-violet-200 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-violet-100 flex items-center justify-center text-violet-600 font-bold text-xs",children:b.member.charAt(0)}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-slate-900",children:b.member}),e.jsx("p",{className:"text-[10px] text-slate-500",children:b.type})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("span",{className:"text-xs font-black text-emerald-600",children:["+",b.amount.toLocaleString()]}),e.jsx("p",{className:"text-[9px] text-slate-400",children:b.date})]})]},b.id))}):e.jsx("p",{className:"text-sm text-slate-400 italic",children:"No detailed commission data available."})]})})})]},f.id))})]})}),e.jsx("div",{className:"md:hidden space-y-4",children:i.history.filter(f=>f.year===a).map(f=>e.jsxs("div",{children:[e.jsx(Ya,{title:f.month,subtitle:`Base: ${f.baseSalary.toLocaleString()}`,status:f.status,statusColor:f.status==="Paid"?"emerald":"amber",badge:`${f.total.toLocaleString()}`,badgeColor:"violet",icon:xa,actions:[{label:t===f.id?"Hide Details":"View Breakdown",onClick:()=>u(f.id),variant:"secondary"}]}),t===f.id&&e.jsxs("div",{className:"mt-2 ml-4 pl-4 border-l-2 border-slate-100 space-y-2 pb-4",children:[e.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"Commission Details"}),f.details.length>0?f.details.map(b=>e.jsxs("div",{className:"bg-white p-3 rounded-xl border border-slate-100 shadow-sm flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-slate-900",children:b.member}),e.jsx("p",{className:"text-[10px] text-slate-500",children:b.type})]}),e.jsxs("span",{className:"text-xs font-black text-emerald-600",children:["+",b.amount.toLocaleString()]})]},b.id)):e.jsx("p",{className:"text-xs text-slate-400 italic",children:"No details available."})]})]},f.id))})]})]})},ML=()=>{const[t,s]=v.useState("May 2024"),[a,l]=v.useState(!1),[i,o]=v.useState(!1),[d,x]=v.useState([{id:1,type:"Vacation",start:"Mar 10, 2026",end:"Mar 12, 2026",status:"Pending",reason:"Family vacation"},{id:2,type:"Sick Leave",start:"Feb 05, 2026",end:"Feb 05, 2026",status:"Approved",reason:"Fever"},{id:3,type:"Casual",start:"Jan 20, 2026",end:"Jan 20, 2026",status:"Rejected",reason:"Personal work"}]),[u,h]=v.useState(null),[p,f]=v.useState(!0),b=async()=>{f(!0);try{const w=await F9();h(w),x(w.leaveRequests||[]);const k=w.summary?.todayCheckIn!=="Not yet"&&w.summary?.todayCheckOut==="Not yet";o(k)}catch(w){console.error(w)}finally{f(!1)}};v.useEffect(()=>{b()},[]);const g=w=>{switch(w){case"Present":case"Approved":return"bg-emerald-100 text-emerald-700 border border-emerald-200";case"Absent":case"Rejected":return"bg-red-100 text-red-700 border border-red-200";case"Late":case"Pending":return"bg-amber-100 text-amber-700 border border-amber-200";default:return"bg-slate-100 text-slate-700 border border-slate-200"}},j=async()=>{try{const w=await I9({isCheckedIn:i});alert(w.message),o(!i),b()}catch{alert("Failed to check in/out.")}},A=()=>{const[w,k]=v.useState({type:"Sick Leave",start:"",end:"",reason:""}),C=async()=>{if(!w.start||!w.end||!w.reason)return alert("Please fill all fields.");try{await B9(w),alert("Leave request submitted successfully!"),l(!1),b()}catch{alert("Failed to request leave.")}};return e.jsx(rt,{isOpen:a,onClose:()=>l(!1),title:"Request Leave",subtitle:"Submit your leave application",footer:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:C,className:"flex-1 py-2.5 bg-indigo-600 text-white rounded-lg text-sm font-bold shadow-md hover:bg-indigo-700 transition-all",children:"Submit Request"}),e.jsx("button",{onClick:()=>l(!1),className:"px-6 py-2.5 bg-gray-50 border border-gray-200 text-gray-600 rounded-lg text-sm font-bold",children:"Cancel"})]}),children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Leave Type"}),e.jsxs("select",{value:w.type,onChange:L=>k({...w,type:L.target.value}),className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl text-sm font-medium outline-none focus:ring-2 focus:ring-indigo-500",children:[e.jsx("option",{children:"Sick Leave"}),e.jsx("option",{children:"Casual Leave"}),e.jsx("option",{children:"Emergency"}),e.jsx("option",{children:"Vacation"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Start Date"}),e.jsx("input",{type:"date",value:w.start,onChange:L=>k({...w,start:L.target.value}),className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl text-sm font-medium outline-none focus:ring-2 focus:ring-indigo-500"})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-bold text-gray-700 uppercase tracking-wider",children:"End Date"}),e.jsx("input",{type:"date",value:w.end,onChange:L=>k({...w,end:L.target.value}),className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl text-sm font-medium outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-2xl border border-gray-100",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-gray-800",children:"Half Day Request?"}),e.jsx("p",{className:"text-[10px] text-gray-500 font-medium tracking-tight",children:"Select if applying for a partial day"})]}),e.jsx("div",{className:"w-10 h-6 bg-gray-200 rounded-full cursor-pointer relative transition-all duration-300",children:e.jsx("div",{className:"w-4 h-4 bg-white rounded-full absolute top-1 left-1 shadow-sm transition-all duration-300"})})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Reason"}),e.jsx("textarea",{rows:4,value:w.reason,onChange:L=>k({...w,reason:L.target.value}),placeholder:"Explain your reason for leave...",className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl text-sm font-medium outline-none focus:ring-2 focus:ring-indigo-500 resize-none"})]}),e.jsxs("div",{className:"p-4 bg-violet-50 rounded-2xl border border-violet-100 flex gap-3",children:[e.jsx(hs,{size:18,className:"text-violet-500 shrink-0 mt-0.5"}),e.jsx("p",{className:"text-[10px] text-violet-700 font-medium leading-relaxed",children:"Your request will be sent to the manager for approval. You'll be notified once updated."})]})]})})};return p?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 min-h-screen bg-slate-50",children:[e.jsx("div",{className:"w-10 h-10 border-4 border-violet-600 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"mt-4 text-slate-500 font-medium tracking-tight",children:"Loading attendance data..."})]}):u?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6 animate-fadeIn font-sans",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 rounded-3xl blur-2xl opacity-15 animate-pulse"}),e.jsxs("div",{className:"relative bg-white/80 backdrop-blur-xl rounded-[32px] shadow-2xl border border-white/50 p-6 sm:p-8 overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-violet-50 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 opacity-50"}),e.jsxs("div",{className:"relative z-10 flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4 sm:gap-6",children:[e.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-xl shadow-violet-200 transform hover:scale-105 transition-transform duration-300 group flex-shrink-0",children:e.jsx(Qe,{size:28,className:"sm:w-9 sm:h-9 group-hover:rotate-12 transition-transform duration-300",strokeWidth:2})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-1",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-black text-slate-900 tracking-tight",children:"My Attendance"}),e.jsx("span",{className:"px-3 py-1 bg-violet-100 text-violet-700 text-[10px] sm:text-xs font-black uppercase tracking-wider rounded-full border border-violet-200",children:"Personal"})]}),e.jsx("p",{className:"text-slate-500 font-medium text-sm sm:text-lg",children:"Track your daily clock-in/out logs and working hours."})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("button",{onClick:()=>l(!0),className:"flex items-center justify-center gap-2 px-6 py-3 bg-indigo-50 text-indigo-700 border border-indigo-100 rounded-xl font-bold hover:bg-indigo-100 transition-all w-full sm:w-auto",children:[e.jsx(Ve,{size:18}),"Request Leave"]}),e.jsxs("button",{onClick:j,className:`flex items-center justify-center gap-2 px-6 py-3 rounded-xl font-bold shadow-xl transition-all w-full sm:w-auto hover:scale-105 active:scale-95 ${i?"bg-amber-500 text-white shadow-amber-500/30 hover:shadow-amber-500/40":"bg-gradient-to-r from-violet-600 to-purple-600 text-white shadow-violet-500/30 hover:shadow-violet-500/40"}`,children:[i?e.jsx(O0,{size:18}):e.jsx(il,{size:18}),"Today's ",i?"Check-out":"Check-in"]})]})]})]})]}),e.jsxs(du,{children:[e.jsx(Gn,{title:"Today Check-in",value:u.summary.todayCheckIn,icon:il,color:"primary"}),e.jsx(Gn,{title:"Today Check-out",value:u.summary.todayCheckOut,icon:O0,color:"success"}),e.jsx(Gn,{title:"Total Hours Today",value:u.summary.totalHoursToday,icon:I8,color:"warning"}),e.jsx(Gn,{title:"Present This Month",value:`${u.summary.daysPresentMonth}/${u.summary.totalWorkDays} Days`,icon:kl,color:"primary"})]}),e.jsxs("div",{className:"bg-white rounded-[32px] border border-slate-100 shadow-xl overflow-hidden p-4 sm:p-6 space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("h2",{className:"text-xl font-black text-slate-800 flex items-center gap-2",children:[e.jsx(Ve,{className:"text-violet-500",size:24}),"Attendance Logs"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:t,onChange:w=>s(w.target.value),className:"appearance-none bg-slate-50 border border-slate-100 text-slate-600 py-2.5 pl-4 pr-10 rounded-xl text-sm font-bold focus:outline-none focus:border-violet-500 transition-all cursor-pointer",children:[e.jsx("option",{children:"May 2024"}),e.jsx("option",{children:"April 2024"}),e.jsx("option",{children:"March 2024"})]}),e.jsx(Nl,{size:16,className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"})]}),e.jsx("button",{className:"p-2.5 bg-slate-50 border border-slate-100 text-slate-400 rounded-xl hover:text-violet-600 hover:border-violet-100 transition-all",children:e.jsx(ks,{size:18})})]})]}),e.jsx("div",{className:"hidden md:block overflow-hidden rounded-2xl border border-slate-50",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50/50 border-b border-slate-100",children:[e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Date"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Check-In"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Check-Out"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Total Hours"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Status"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:u.logs.map(w=>e.jsxs("tr",{className:"hover:bg-slate-50/50 transition-all duration-200 group",children:[e.jsx("td",{className:"px-6 py-5",children:e.jsx("span",{className:"text-sm font-bold text-slate-900 group-hover:text-violet-700 transition-colors",children:w.date})}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold text-slate-600",children:[e.jsx(il,{size:14,className:"text-emerald-500"}),w.checkIn]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold text-slate-600",children:[e.jsx(O0,{size:14,className:"text-rose-500"}),w.checkOut]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsx("span",{className:"text-sm font-black text-slate-900",children:w.hours})}),e.jsx("td",{className:"px-6 py-5",children:e.jsx("div",{className:"flex justify-center",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-wider ${g(w.status)}`,children:w.status})})})]},w.id))})]})}),e.jsx("div",{className:"md:hidden space-y-4",children:u.logs.map(w=>e.jsx(Ya,{title:w.date,subtitle:`Check-in: ${w.checkIn}`,status:w.status,statusColor:w.status==="Present"?"emerald":w.status==="Late"?"amber":"red",badge:w.hours,badgeColor:"violet",icon:Qe},w.id))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 px-1",children:[e.jsx(Ve,{size:18,className:"text-amber-500"}),e.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Leave History"})]}),e.jsxs(is,{className:"p-0 overflow-hidden border border-gray-100 shadow-xl rounded-[32px]",children:[e.jsx("div",{className:"hidden md:block overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50/50 border-b border-slate-100",children:[e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Date Range"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Type"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Reason"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Status"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:d.map(w=>e.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[e.jsx("td",{className:"px-6 py-5",children:e.jsx("span",{className:"text-sm font-bold text-slate-900",children:w.start===w.end?w.start:`${w.start}  ${w.end}`})}),e.jsx("td",{className:"px-6 py-5",children:e.jsx("span",{className:"text-xs font-bold text-slate-600",children:w.type})}),e.jsx("td",{className:"px-6 py-5",children:e.jsx("span",{className:"text-xs text-slate-500 font-medium truncate max-w-[200px] block",children:w.reason})}),e.jsx("td",{className:"px-6 py-5",children:e.jsx("div",{className:"flex justify-center",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-wider ${g(w.status)}`,children:w.status})})})]},w.id))})]})}),e.jsx("div",{className:"md:hidden p-4 space-y-4",children:d.map(w=>e.jsxs("div",{className:"p-4 bg-slate-50 border border-slate-100 rounded-2xl space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-slate-900",children:w.start===w.end?w.start:`${w.start}  ${w.end}`}),e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-tight",children:w.type})]}),e.jsx("span",{className:`px-2 py-0.5 rounded-full text-[9px] font-bold uppercase ${g(w.status)}`,children:w.status})]}),e.jsx("p",{className:"text-xs text-slate-500 font-medium",children:w.reason})]},w.id))})]})]}),e.jsx(A,{})]}):e.jsx("div",{className:"p-8 text-center text-gray-500 min-h-screen bg-slate-50",children:"Failed to load data"})},LL=()=>{const[t,s]=v.useState([]),[a,l]=v.useState(!0);v.useEffect(()=>{(async()=>{try{const x=(await Mg.getAllAnnouncements()).filter(u=>u.targetRole==="trainer"||u.targetRole==="all"||!u.targetRole);s(x)}catch(d){console.error("Failed to fetch announcements:",d)}finally{l(!1)}})()},[]);const i=o=>{const d={high:{gradient:"from-rose-500 to-red-600",bg:"bg-rose-50",text:"text-rose-700",border:"border-rose-100",icon:hs,shadow:"shadow-rose-500/20"},medium:{gradient:"from-amber-500 to-orange-600",bg:"bg-amber-50",text:"text-amber-700",border:"border-amber-100",icon:Yn,shadow:"shadow-amber-500/20"},low:{gradient:"from-indigo-500 to-blue-600",bg:"bg-indigo-50",text:"text-indigo-700",border:"border-indigo-100",icon:Yn,shadow:"shadow-indigo-500/20"}};return d[o]||d.medium};return a?e.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:e.jsx("div",{className:"w-12 h-12 border-4 border-indigo-600 border-t-transparent rounded-full animate-spin"})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-indigo-50/20 p-6 md:p-10 font-sans",children:[e.jsx("div",{className:"max-w-7xl mx-auto mb-12",children:e.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-8",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute -top-10 -left-10 w-40 h-40 bg-indigo-200 rounded-full blur-3xl opacity-20 pointer-events-none"}),e.jsxs("h1",{className:"relative text-3xl md:text-5xl font-black text-slate-800 flex items-center gap-4",children:[e.jsx(yn,{className:"text-indigo-600",size:40}),"Announcements"]}),e.jsx("p",{className:"text-slate-500 mt-3 text-lg font-medium max-w-xl",children:"Stay updated with the latest gym news, events, and trainer-specific updates."})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.length===0?e.jsxs("div",{className:"col-span-full py-24 flex flex-col items-center justify-center text-center",children:[e.jsx("div",{className:"w-24 h-24 bg-white/60 backdrop-blur-md rounded-[40px] shadow-sm flex items-center justify-center text-slate-200 mb-6 border border-white/50",children:e.jsx(yn,{size:48,className:"opacity-20"})}),e.jsx("h3",{className:"text-xl font-black text-slate-800 tracking-tight",children:"No Announcements for You"}),e.jsx("p",{className:"text-slate-500 text-sm font-medium max-w-sm mx-auto mt-2",children:"There are currently no announcements relevant to trainers. Check back later!"})]}):t.map(o=>{const d=i(o.priority?.toLowerCase()),x=d.icon;return e.jsxs("div",{className:"group relative bg-white/60 backdrop-blur-md rounded-[40px] border border-white/50 p-8 shadow-sm hover:shadow-2xl transition-all duration-500 hover:-translate-y-2 overflow-hidden",children:[e.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 bg-gradient-to-br ${d.gradient} opacity-[0.03] rounded-full -translate-y-1/2 translate-x-1/2 group-hover:scale-150 transition-transform duration-700`}),e.jsxs("div",{className:"flex justify-between items-start mb-8",children:[e.jsx("div",{className:`w-14 h-14 rounded-2xl bg-gradient-to-br ${d.gradient} flex items-center justify-center text-white shadow-xl ${d.shadow} group-hover:rotate-12 transition-transform`,children:e.jsx(x,{size:28})}),e.jsx("span",{className:`px-4 py-1.5 rounded-full ${d.bg} ${d.text} text-[10px] font-black uppercase tracking-widest border ${d.border}`,children:o.priority})]}),e.jsx("h3",{className:"text-xl font-black text-slate-800 mb-3 group-hover:text-indigo-600 transition-colors leading-tight",children:o.title}),e.jsx("p",{className:"text-slate-500 text-sm font-medium leading-relaxed mb-8",children:o.message}),e.jsxs("div",{className:"pt-6 border-t border-slate-50 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-slate-50 flex items-center justify-center text-slate-400",children:e.jsx(_t,{size:16})}),e.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:o.targetRole||"all"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-bold text-slate-400 whitespace-nowrap",children:[e.jsx(Ve,{size:14,className:"text-slate-300"}),o.date]})]})]},o.id)})})]})},zL=()=>{const[t,s]=v.useState([]),[a,l]=v.useState([]),[i,o]=v.useState({}),[d,x]=v.useState(!0),[u,h]=v.useState(!1),[p,f]=v.useState(!1),[b,g]=v.useState(null),j=async()=>{x(!0);try{const N=await U9();s(N.weekly||[]),l(N.timeOff||[]),o(N.preferences||{instantBooking:!0,requireApproval:!1,autoAcceptReturning:!0})}catch(N){console.error("Failed to load availability:",N)}finally{x(!1)}};v.useEffect(()=>{j()},[]);const A=async N=>{const P={...i,[N]:!i[N]};o(P);try{await Up({preferences:P})}catch{alert("Failed to save preference"),o(i)}},w=async N=>{if(window.confirm("Are you sure you want to remove this time off?"))try{await $9(N),l(a.filter(P=>P.id!==N)),alert("Time off removed successfully!")}catch{alert("Failed to remove time off")}},k=N=>{g(t.find(P=>P.day===N)),h(!0)},C=()=>{const[N,P]=v.useState([]),[_,F]=v.useState(""),[R,B]=v.useState("");v.useEffect(()=>{b&&P(b.slots?[...b.slots]:[])},[b]);const T=async()=>{const G=t.map(W=>W.day===b.day?{...W,slots:N}:W);try{await Up({schedule:G}),s(G),h(!1),alert("Schedule updated successfully!")}catch{alert("Failed to update schedule")}},q=()=>{if(!_||!R)return alert("Please specify start and end times");const G=W=>{const[le,V]=W.split(":");let ne=parseInt(le);const I=ne>=12?"PM":"AM";return ne=ne%12||12,`${ne.toString().padStart(2,"0")}:${V} ${I}`};P([...N,{start:G(_),end:G(R)}]),F(""),B("")},H=G=>{P(N.filter((W,le)=>le!==G))};return e.jsx(rt,{isOpen:u,onClose:()=>h(!1),title:`Availability: ${b?.day}`,subtitle:"Manage your time slots",footer:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:T,className:"flex-1 py-2.5 bg-indigo-600 text-white rounded-lg text-sm font-bold shadow-md hover:bg-indigo-700 transition-all",children:"Save Changes"}),e.jsx("button",{onClick:()=>h(!1),className:"px-6 py-2.5 bg-gray-50 border border-gray-200 text-gray-600 rounded-lg text-sm font-bold",children:"Cancel"})]}),children:e.jsxs("div",{className:"space-y-6",children:[N.map((G,W)=>e.jsxs("div",{className:"p-4 bg-gray-50 border border-gray-100 rounded-2xl flex items-center justify-between group",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Qe,{size:16,className:"text-indigo-500"}),e.jsxs("span",{className:"text-sm font-bold text-gray-800",children:[G.start,"  ",G.end]})]}),e.jsx("button",{onClick:()=>H(W),className:"p-2 text-gray-300 hover:text-red-500 transition-colors",children:e.jsx(ms,{size:16})})]},W)),e.jsxs("div",{className:"p-4 border-2 border-dashed border-gray-200 rounded-2xl space-y-4",children:[e.jsx("p",{className:"text-sm font-bold text-gray-700 text-center",children:"Add New Slot"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:"Start Time"}),e.jsx("input",{type:"time",value:_,onChange:G=>F(G.target.value),className:"w-full p-2 border border-gray-200 rounded-lg font-medium text-sm outline-none focus:ring-2 focus:ring-indigo-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:"End Time"}),e.jsx("input",{type:"time",value:R,onChange:G=>B(G.target.value),className:"w-full p-2 border border-gray-200 rounded-lg font-medium text-sm outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),e.jsx("button",{onClick:q,className:"w-full py-2 bg-indigo-50 text-indigo-600 rounded-xl text-sm font-bold hover:bg-indigo-100 transition-colors",children:"+ Add to Schedule"})]}),e.jsxs("div",{className:"space-y-3 pt-4 border-t border-gray-100",children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Configuration"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs font-bold text-gray-700",children:"Slot Duration"}),e.jsxs("select",{className:"w-full p-3 bg-white border border-gray-200 rounded-xl text-sm focus:ring-2 focus:ring-indigo-500 outline-none",children:[e.jsx("option",{children:"30 Minutes"}),e.jsx("option",{children:"60 Minutes"}),e.jsx("option",{children:"90 Minutes"})]})]})]})]})})},L=()=>{const[N,P]=v.useState(""),[_,F]=v.useState(""),[R,B]=v.useState(""),T=async()=>{if(!_||!R||!N)return alert("Fill all fields");try{await Up({newTimeOff:{start:_,end:R,reason:N}}),alert("Dates blocked successfully!"),f(!1),j()}catch{alert("Error updating availability")}};return e.jsx(rt,{isOpen:p,onClose:()=>f(!1),title:"Add Time Off",subtitle:"Block dates on your calendar",footer:e.jsx("button",{onClick:T,className:"w-full py-2.5 bg-indigo-600 text-white rounded-lg text-sm font-bold shadow-md hover:bg-indigo-700 transition-all",children:"Block Dates"}),children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-bold text-gray-700",children:"Reason"}),e.jsx("input",{value:N,onChange:q=>P(q.target.value),type:"text",placeholder:"e.g. Vacation, Sick Leave",className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl text-sm outline-none focus:ring-2 focus:ring-indigo-500"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-bold text-gray-700",children:"Start Date"}),e.jsx("input",{value:_,onChange:q=>F(q.target.value),type:"date",className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl text-sm outline-none focus:ring-2 focus:ring-indigo-500"})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-bold text-gray-700",children:"End Date"}),e.jsx("input",{value:R,onChange:q=>B(q.target.value),type:"date",className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl text-sm outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),e.jsxs("div",{className:"p-4 bg-amber-50 rounded-xl border border-amber-100 flex gap-3",children:[e.jsx(hs,{size:18,className:"text-amber-500 shrink-0 mt-0.5"}),e.jsx("p",{className:"text-[10px] text-amber-700 font-medium",children:"Any existing appointments during these dates will need to be rescheduled manually."})]})]})})};return d?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 min-h-screen bg-slate-50",children:[e.jsx("div",{className:"w-10 h-10 border-4 border-indigo-600 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"mt-4 text-slate-500 font-medium tracking-tight",children:"Loading settings..."})]}):e.jsxs("div",{className:"h-[calc(100vh-6rem)] overflow-y-auto pr-2 pb-8 space-y-8 fade-in scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-transparent",children:[e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 pb-6 border-b-2 border-gray-100",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 mb-1",children:"Availability Settings"}),e.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Manage your personal booking schedule and preferences"})]})}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"xl:col-span-2 space-y-8",children:[e.jsxs("section",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 px-1",children:[e.jsx(Qe,{size:18,className:"text-indigo-600"}),e.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Weekly Availability"})]}),e.jsx(is,{className:"p-0 overflow-hidden border border-gray-200 shadow-md",children:e.jsx("div",{className:"divide-y divide-gray-50",children:t.map(N=>e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center p-4 sm:p-5 hover:bg-gray-50 transition-colors gap-4",children:[e.jsx("div",{className:"w-32",children:e.jsx("p",{className:"font-black text-gray-900 text-sm",children:N.day})}),e.jsx("div",{className:"flex-1",children:N.slots.length>0?e.jsx("div",{className:"flex flex-wrap gap-2",children:N.slots.map((P,_)=>e.jsxs("span",{className:"px-3 py-1 bg-indigo-50 text-indigo-700 rounded-full text-[11px] font-black border border-indigo-100",children:[P.start,"  ",P.end]},_))}):e.jsx("span",{className:"text-xs text-gray-400 font-bold italic",children:"Not Available"})}),e.jsx("button",{onClick:()=>k(N.day),className:"p-2 bg-white border border-gray-100 rounded-xl text-gray-400 hover:text-indigo-600 hover:shadow-sm transition-all shadow-sm",children:e.jsx(Pa,{size:16})})]},N.day))})})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between px-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ve,{size:18,className:"text-amber-500"}),e.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Time Off / Blocked Dates"})]}),e.jsxs("button",{onClick:()=>f(!0),className:"px-3 py-1.5 bg-indigo-50 text-indigo-700 rounded-lg text-xs font-black hover:bg-indigo-100 transition-all flex items-center gap-1.5",children:[e.jsx(wt,{size:14}),"Add Time Off"]})]}),e.jsx(is,{className:"p-5 border border-gray-200 shadow-md",children:a.length>0?e.jsx("div",{className:"space-y-3",children:a.map(N=>e.jsxs("div",{className:"p-4 bg-gray-50 border border-gray-100 rounded-2xl flex items-center justify-between group",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 bg-white rounded-xl flex items-center justify-center text-amber-500 shadow-sm",children:e.jsx(yg,{size:20})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-black text-gray-800",children:N.reason}),e.jsx("p",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-tight",children:N.start===N.end?N.start:`${N.start} to ${N.end}`})]})]}),e.jsx("button",{onClick:()=>w(N.id),className:"p-2 text-gray-300 hover:text-red-500 transition-colors",children:e.jsx(ms,{size:16})})]},N.id))}):e.jsx("div",{className:"py-8 text-center bg-gray-50/50 rounded-2xl border border-dashed border-gray-200",children:e.jsx("p",{className:"text-gray-400 text-sm font-bold italic",children:"No upcoming time off set."})})})]})]}),e.jsx("div",{className:"space-y-8",children:e.jsxs("section",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 px-1",children:[e.jsx(Vh,{size:18,className:"text-slate-600"}),e.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Booking Rules"})]}),e.jsxs(is,{className:"p-5 border border-gray-200 shadow-md space-y-6",children:[e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"flex items-center justify-between group",children:[e.jsxs("div",{className:"max-w-[80%]",children:[e.jsx("p",{className:"text-sm font-black text-gray-800",children:"Instant Booking"}),e.jsx("p",{className:"text-[10px] text-gray-500 font-medium",children:"Clients can book available slots immediately."})]}),e.jsx("button",{onClick:()=>A("instantBooking"),className:`w-10 h-6 flex items-center rounded-full px-1 transition-all duration-300 ${i.instantBooking?"bg-indigo-600":"bg-gray-300"}`,children:e.jsx("div",{className:`w-4 h-4 rounded-full bg-white transition-all transform ${i.instantBooking?"translate-x-4":""}`})})]}),e.jsxs("div",{className:"flex items-center justify-between group",children:[e.jsxs("div",{className:"max-w-[80%]",children:[e.jsx("p",{className:"text-sm font-black text-gray-800",children:"Manual Approval"}),e.jsx("p",{className:"text-[10px] text-gray-500 font-medium",children:"Require approval for every new booking request."})]}),e.jsx("button",{onClick:()=>A("requireApproval"),className:`w-10 h-6 flex items-center rounded-full px-1 transition-all duration-300 ${i.requireApproval?"bg-indigo-600":"bg-gray-300"}`,children:e.jsx("div",{className:`w-4 h-4 rounded-full bg-white transition-all transform ${i.requireApproval?"translate-x-4":""}`})})]}),e.jsxs("div",{className:"flex items-center justify-between group",children:[e.jsxs("div",{className:"max-w-[80%]",children:[e.jsx("p",{className:"text-sm font-black text-gray-800",children:"Auto-Accept Returning"}),e.jsx("p",{className:"text-[10px] text-gray-500 font-medium",children:"Skip approval for existing active clients."})]}),e.jsx("button",{onClick:()=>A("autoAcceptReturning"),className:`w-10 h-6 flex items-center rounded-full px-1 transition-all duration-300 ${i.autoAcceptReturning?"bg-indigo-600":"bg-gray-300"}`,children:e.jsx("div",{className:`w-4 h-4 rounded-full bg-white transition-all transform ${i.autoAcceptReturning?"translate-x-4":""}`})})]})]}),e.jsx("div",{className:"pt-5 border-t border-gray-100",children:e.jsxs("div",{className:"bg-indigo-50 p-4 rounded-2xl border border-indigo-100 flex gap-3",children:[e.jsx(Xt,{size:18,className:"text-indigo-500 shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[11px] font-black text-indigo-700 uppercase",children:"Pro Tip"}),e.jsx("p",{className:"text-[10px] text-indigo-900 font-medium leading-relaxed",children:"Regularly updating your availability increases booking conversion by 40%."})]})]})})]})]})})]}),e.jsx(C,{}),e.jsx(L,{})]})},EL=()=>{const[t,s]=v.useState(new Date),[a,l]=v.useState("month"),[i,o]=v.useState([]),[d,x]=v.useState(!0),[u,h]=v.useState("");v.useEffect(()=>{p()},[t,a]);const p=async()=>{x(!0);let N,P;if(a==="month")N=new Date(t.getFullYear(),t.getMonth(),1),P=new Date(t.getFullYear(),t.getMonth()+1,0);else if(a==="week"){const F=new Date(t);F.setDate(t.getDate()-(t.getDay()===0?6:t.getDay()-1)),F.setHours(0,0,0,0),N=F,P=new Date(N),P.setDate(N.getDate()+6),P.setHours(23,59,59,999)}else N=new Date(t),N.setHours(0,0,0,0),P=new Date(t),P.setHours(23,59,59,999);const _=await lD(N,P);o(_),x(!1)},f=()=>{const N=new Date(t);a==="month"?N.setMonth(t.getMonth()-1):a==="week"?N.setDate(t.getDate()-7):N.setDate(t.getDate()-1),s(N)},b=()=>{const N=new Date(t);a==="month"?N.setMonth(t.getMonth()+1):a==="week"?N.setDate(t.getDate()+7):N.setDate(t.getDate()+1),s(N)},g=()=>{s(new Date)},j=()=>{if(a==="month")return t.toLocaleString("default",{month:"long",year:"numeric"});if(a==="week"){const N=new Date(t);N.setDate(t.getDate()-(t.getDay()===0?6:t.getDay()-1));const P=new Date(N);return P.setDate(N.getDate()+6),N.getMonth()===P.getMonth()?`${N.toLocaleString("default",{month:"long"})} ${N.getDate()} - ${P.getDate()}, ${N.getFullYear()}`:`${N.toLocaleString("default",{month:"short"})} ${N.getDate()} - ${P.toLocaleString("default",{month:"short"})} ${P.getDate()}, ${N.getFullYear()}`}else return t.toLocaleString("default",{day:"numeric",month:"long",year:"numeric"})},w=(()=>{if(a==="month"){const N=new Date(t.getFullYear(),t.getMonth(),1),P=new Date(t.getFullYear(),t.getMonth()+1,0),_=N.getDay()===0?6:N.getDay()-1,F=[];for(let B=_;B>0;B--){const T=new Date(N);T.setDate(N.getDate()-B),F.push({day:T.getDate(),date:T,isOtherMonth:!0})}for(let B=1;B<=P.getDate();B++)F.push({day:B,date:new Date(t.getFullYear(),t.getMonth(),B),isOtherMonth:!1});const R=42-F.length;for(let B=1;B<=R;B++){const T=new Date(t.getFullYear(),t.getMonth()+1,B);F.push({day:B,date:T,isOtherMonth:!0})}return F}else if(a==="week"){const N=new Date(t);return N.setDate(t.getDate()-(t.getDay()===0?6:t.getDay()-1)),Array.from({length:7},(P,_)=>{const F=new Date(N);return F.setDate(N.getDate()+_),{day:F.getDate(),date:F,isOtherMonth:!1}})}else return[{day:t.getDate(),date:new Date(t),isOtherMonth:!1}]})(),k=i.filter(N=>N.title.toLowerCase().includes(u.toLowerCase())),C=N=>{const P=N.toISOString().split("T")[0];return k.filter(_=>_.date?_.date.split("T")[0]===P:_.day===N.getDate()&&N.getMonth()===t.getMonth()&&N.getFullYear()===t.getFullYear())},L=N=>{switch(N){case"blue":return"bg-blue-50 text-blue-700 border-blue-100";case"purple":return"bg-purple-50 text-purple-700 border-purple-100";case"orange":return"bg-orange-50 text-orange-700 border-orange-100";case"red":return"bg-red-50 text-red-700 border-red-100";case"emerald":return"bg-emerald-50 text-emerald-700 border-emerald-100";default:return"bg-gray-50 text-gray-700 border-gray-100"}};return e.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 max-w-[1600px] mx-auto flex flex-col gap-6 animate-in fade-in duration-500",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white border border-gray-200 rounded-2xl flex items-center justify-center text-blue-600 shadow-sm",children:e.jsx(Ve,{size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"Session Calendar"}),e.jsx("p",{className:"text-gray-500 text-sm mt-0.5",children:j()})]})]}),e.jsxs("div",{className:"flex items-center gap-2 bg-white p-1.5 border border-gray-200 rounded-2xl shadow-sm",children:[e.jsx("button",{onClick:()=>l("month"),className:`px-4 py-2 rounded-xl text-sm font-bold transition-all ${a==="month"?"bg-blue-600 text-white shadow-lg shadow-blue-200":"text-gray-500 hover:bg-gray-50"}`,children:"Month"}),e.jsx("button",{onClick:()=>l("week"),className:`px-4 py-2 rounded-xl text-sm font-bold transition-all ${a==="week"?"bg-blue-600 text-white shadow-lg shadow-blue-200":"text-gray-500 hover:bg-gray-50"}`,children:"Week"}),e.jsx("button",{onClick:()=>l("day"),className:`px-4 py-2 rounded-xl text-sm font-bold transition-all ${a==="day"?"bg-blue-600 text-white shadow-lg shadow-blue-200":"text-gray-500 hover:bg-gray-50"}`,children:"Day"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center bg-white p-4 rounded-3xl border border-gray-100 shadow-sm gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:f,className:"p-2 hover:bg-gray-50 rounded-xl border border-gray-100 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(Gr,{size:20})}),e.jsx("button",{onClick:b,className:"p-2 hover:bg-gray-50 rounded-xl border border-gray-100 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(js,{size:20})})]}),e.jsx("button",{onClick:g,className:"px-4 py-2 text-sm font-bold text-blue-600 hover:bg-blue-50 rounded-xl transition-colors",children:"Today"})]}),e.jsx("div",{className:"flex items-center gap-3 w-full sm:w-auto",children:e.jsxs("div",{className:"relative flex-1 sm:w-64",children:[e.jsx(tt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),e.jsx("input",{type:"text",placeholder:"Find session...",className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border-none rounded-xl text-sm focus:ring-2 focus:ring-blue-500 transition-all outline-none",value:u,onChange:N=>h(N.target.value)})]})})]}),e.jsxs("div",{className:"bg-white rounded-[32px] border border-gray-100 shadow-xl overflow-hidden",children:[a!=="day"&&e.jsx("div",{className:"grid grid-cols-7 border-b border-gray-100 bg-gray-50/50",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map(N=>e.jsx("div",{className:"py-4 text-center text-xs font-black text-gray-400 uppercase tracking-widest",children:N},N))}),e.jsx("div",{className:`grid ${a==="day"?"grid-cols-1":"grid-cols-7"} auto-rows-fr`,children:w.map((N,P)=>{const _=N.date.toDateString()===new Date().toDateString(),F=N.isOtherMonth,R=C(N.date);return e.jsxs("div",{className:`min-h-[120px] md:min-h-[160px] p-2 border-r border-b border-gray-100 transition-all hover:bg-gray-50/50 group relative ${F?"bg-gray-50/20":""}`,children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("span",{className:`text-sm font-black w-7 h-7 flex items-center justify-center rounded-lg transition-all ${_?"bg-blue-600 text-white shadow-lg shadow-blue-200":F?"text-gray-300":"text-gray-500"}`,children:N.day}),!F&&e.jsx("button",{className:"opacity-0 group-hover:opacity-100 p-1 hover:bg-white rounded-lg border border-gray-100 text-gray-400 transition-all",children:e.jsx(wt,{size:14})})]}),e.jsxs("div",{className:"flex flex-col gap-1.5 overflow-hidden",children:[R.map(B=>e.jsxs("div",{className:`p-1.5 md:p-2 rounded-xl border text-[10px] md:text-xs font-bold transition-all hover:scale-[1.02] cursor-pointer shadow-sm ${L(B.color)}`,children:[e.jsxs("div",{className:"flex items-center gap-1 opacity-70 mb-0.5",children:[e.jsx(Qe,{size:10}),B.time]}),e.jsx("div",{className:"truncate",children:B.title})]},B.id)),R.length>2&&e.jsxs("div",{className:"text-[10px] font-bold text-gray-400 px-1",children:["+ ",R.length-2," more"]})]})]},P)})})]}),e.jsxs("div",{className:"lg:hidden flex items-center justify-center gap-2 p-4 bg-blue-50 border border-blue-100 rounded-2xl",children:[e.jsx(lw,{size:16,className:"text-blue-500"}),e.jsx("span",{className:"text-xs font-bold text-blue-700",children:"Tip: Tap a day to see full session details"})]})]})},TL=()=>{const[t,s]=v.useState([]),[a,l]=v.useState(!0),[i,o]=v.useState("All"),[d,x]=v.useState(""),[u,h]=v.useState(null),[p,f]=v.useState(!1),[b,g]=v.useState(null),[j,A]=v.useState(!1),[w,k]=v.useState(!1),[C,L]=v.useState({title:"",date:"",time:"",duration:"60 min",location:"Studio A",maxMembers:"20",type:"Group Class"});v.useEffect(()=>{N()},[i,d]);const N=async()=>{l(!0);const B=await aD({filters:{type:i==="All"?"":i,search:d},limit:100});s(B?.data||[]),l(!1)},P=async(R,B)=>{await nD(R,B==="Confirmed"?"Pending":"Confirmed"),N()},_=R=>{if(!R)return"bg-gray-50 text-gray-700 border-gray-100 hover:bg-gray-100 hover:shadow-lg cursor-pointer";switch(R.toLowerCase()){case"confirmed":return"bg-green-50 text-green-700 border-green-100 hover:bg-green-100 hover:shadow-lg cursor-pointer";case"pending":return"bg-amber-50 text-amber-700 border-amber-100 hover:bg-amber-100 hover:shadow-lg cursor-pointer";default:return"bg-gray-50 text-gray-700 border-gray-100 hover:bg-gray-100 hover:shadow-lg cursor-pointer"}},F=async R=>{R.preventDefault(),k(!0);try{await rD(C),A(!1),L({title:"",date:"",time:"",duration:"60 min",location:"Studio A",maxMembers:"20",type:"Group Class"}),N()}catch(B){console.error("Error creating slot:",B),alert(B)}finally{k(!1)}};return e.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 max-w-[1600px] mx-auto flex flex-col gap-6 animate-in fade-in duration-500 pb-12",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{className:"transform hover:translate-x-1 transition-transform duration-300",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 tracking-tight bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text hover:from-blue-600 hover:to-purple-600 transition-all duration-500",children:"Upcoming Sessions"}),e.jsx("p",{className:"text-gray-500 text-sm mt-1 hover:text-gray-700 transition-colors duration-300",children:"Review your schedule for the next 7 days"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{className:"relative p-2.5 bg-white border border-gray-200 rounded-xl text-gray-500 hover:text-blue-600 hover:bg-blue-50 transition-all shadow-sm hover:scale-110 hover:shadow-lg hover:border-blue-300 group",children:[e.jsx(wl,{size:20,className:"group-hover:rotate-12 group-hover:scale-110 transition-all duration-300"}),e.jsx("span",{className:"absolute top-2 right-2 w-2 h-2 bg-red-500 rounded-full border-2 border-white animate-pulse"})]}),e.jsxs("button",{onClick:()=>A(!0),className:"flex items-center gap-2 px-4 sm:px-6 py-2.5 bg-blue-600 text-white rounded-xl text-sm font-bold hover:bg-blue-500 transition-all shadow-lg shadow-blue-200 active:scale-95 hover:scale-105 hover:shadow-xl",children:[e.jsx("span",{className:"hidden sm:inline",children:"Create New Slot"}),e.jsx("span",{className:"sm:hidden",children:"+ New"})]})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-3xl border border-gray-100 shadow-sm flex flex-col md:flex-row gap-4 items-center hover:shadow-xl hover:border-blue-200 transition-all duration-500 transform hover:-translate-y-1",children:[e.jsxs("div",{className:"relative flex-1 w-full group",children:[e.jsx(tt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-hover:text-blue-500 group-hover:scale-110 transition-all duration-300",size:18}),e.jsx("input",{type:"text",placeholder:"Search by session title or member name...",className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border-none rounded-2xl text-sm focus:ring-2 focus:ring-blue-500 transition-all outline-none hover:bg-white hover:shadow-sm",value:d,onChange:R=>x(R.target.value)})]}),e.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto overflow-x-auto no-scrollbar py-1",children:[["All","Group Class","One-on-One"].map(R=>e.jsx("button",{onClick:()=>o(R),className:`px-4 py-2 rounded-xl text-xs font-bold whitespace-nowrap transition-all border hover:scale-105 hover:shadow-md ${i===R?"bg-gray-900 text-white border-gray-900 shadow-lg":"bg-white text-gray-500 border-gray-200 hover:border-gray-300"}`,children:R},R)),e.jsx("div",{className:"h-6 w-px bg-gray-200 mx-2"}),e.jsx("button",{className:"p-2 bg-gray-50 text-gray-500 rounded-xl hover:bg-gray-100 hover:scale-110 hover:shadow-md transition-all duration-300 group",children:e.jsx(ks,{size:18,className:"group-hover:rotate-12 transition-transform duration-300"})})]})]}),a?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[e.jsx("div",{className:"w-10 h-10 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"mt-4 text-gray-500 font-medium",children:"Loading sessions..."})]}):t.length>0?e.jsx("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 text-left",children:t.map(R=>e.jsxs("div",{className:"group bg-white rounded-[32px] border border-gray-100 shadow-sm hover:shadow-2xl hover:border-blue-200 transition-all duration-500 overflow-hidden flex flex-col md:flex-row hover:scale-[1.02] transform",children:[e.jsxs("div",{className:"md:w-36 bg-slate-50 p-6 flex flex-col items-center justify-center text-center border-b md:border-b-0 md:border-r border-slate-100 group-hover:bg-indigo-50 transition-colors duration-500",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1 group-hover:text-indigo-600 transition-colors duration-300",children:new Date(R.date).toLocaleDateString("en-US",{weekday:"short"})}),e.jsx("p",{className:"text-3xl font-black text-slate-900 group-hover:text-indigo-600 group-hover:scale-110 transition-all duration-500",children:new Date(R.date).getDate()}),e.jsx("p",{className:"text-[10px] font-black text-slate-500 group-hover:text-indigo-600 transition-colors duration-300 uppercase tracking-tighter",children:new Date(R.date).toLocaleDateString("en-US",{month:"short"})})]}),e.jsxs("div",{className:"flex-1 p-4 sm:p-6 flex flex-col justify-between relative",children:[e.jsxs("div",{className:"absolute top-4 sm:top-6 right-4 sm:right-6 flex items-center gap-2",children:[e.jsx("button",{onClick:()=>P(R.id,R.status),className:`px-2.5 py-1 rounded-lg text-[10px] font-black uppercase border transition-all active:scale-95 hover:scale-110 hover:shadow-lg ${_(R.status)}`,children:R.status}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:B=>{B.stopPropagation(),g(b===R.id?null:R.id)},className:`p-1.5 rounded-lg transition-all hover:scale-110 ${b===R.id?"bg-blue-50 text-blue-600 rotate-90":"hover:bg-gray-50 text-gray-300"}`,children:e.jsx(_c,{size:18})}),b===R.id&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>g(null)}),e.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-2xl shadow-xl border border-gray-100 py-2 z-20 animate-in zoom-in-95 duration-200 origin-top-right",children:[e.jsxs("button",{className:"w-full px-4 py-2.5 text-left text-sm font-bold text-gray-700 hover:bg-gray-50 flex items-center gap-2 transition-colors group/item",children:[e.jsx(Md,{size:16,className:"text-blue-500 group-hover/item:scale-125 group-hover/item:rotate-12 transition-all duration-300"})," Edit Slot"]}),e.jsxs("button",{className:"w-full px-4 py-2.5 text-left text-sm font-bold text-gray-700 hover:bg-gray-50 flex items-center gap-2 transition-colors group/item",children:[e.jsx(Qs,{size:16,className:"text-purple-500 group-hover/item:scale-125 group-hover/item:-translate-y-0.5 transition-all duration-300"})," Export Roster"]}),e.jsx("div",{className:"h-px bg-gray-100 my-1 mx-2"}),e.jsxs("button",{className:"w-full px-4 py-2.5 text-left text-sm font-bold text-red-600 hover:bg-red-50 flex items-center gap-2 transition-colors group/item",children:[e.jsx(ms,{size:16,className:"text-red-500 group-hover/item:scale-125 transition-all duration-300"})," Cancel Session"]})]})]})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center gap-2 mb-3",children:e.jsx("span",{className:`px-2.5 py-0.5 rounded-lg text-[9px] font-black uppercase tracking-widest group-hover:scale-110 transition-transform duration-300 inline-block border ${R.type==="One-on-One"?"bg-purple-50 text-purple-600 border-purple-100":"bg-indigo-50 text-indigo-600 border-indigo-100"}`,children:R.type})}),e.jsx("h3",{className:"text-xl font-black text-slate-800 group-hover:text-indigo-600 group-hover:translate-x-1 transition-all duration-300 mb-4 tracking-tight leading-tight",children:R.title}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-y-3 gap-x-6",children:[e.jsxs("div",{className:"flex items-center gap-3 text-slate-500 group-hover:text-indigo-600 transition-colors duration-300",children:[e.jsx("div",{className:"p-2 bg-slate-50 rounded-xl group-hover:bg-white group-hover:shadow-md group-hover:scale-110 transition-all duration-300",children:e.jsx(Qe,{size:16,className:"text-indigo-500 group-hover:rotate-12 transition-transform duration-300"})}),e.jsx("span",{className:"text-[11px] font-black uppercase tracking-widest",children:R.time})]}),e.jsxs("div",{className:"flex items-center gap-3 text-slate-500 group-hover:text-amber-600 transition-colors duration-300",children:[e.jsx("div",{className:"p-2 bg-slate-50 rounded-xl group-hover:bg-white group-hover:shadow-md group-hover:scale-110 transition-all duration-300",children:e.jsx($s,{size:16,className:"text-amber-400 group-hover:scale-125 transition-transform duration-300"})}),e.jsx("span",{className:"text-[11px] font-black uppercase tracking-widest truncate",children:R.location})]}),e.jsxs("div",{className:"flex items-center gap-3 text-slate-500 group-hover:text-fuchsia-600 transition-colors duration-300",children:[e.jsx("div",{className:"p-2 bg-slate-50 rounded-xl group-hover:bg-white group-hover:shadow-md group-hover:scale-110 transition-all duration-300",children:e.jsx(_t,{size:16,className:"text-fuchsia-400 group-hover:scale-125 transition-transform duration-300"})}),e.jsxs("span",{className:"text-[11px] font-black uppercase tracking-widest",children:[R.members,"/",R.maxMembers," Members"]})]})]})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-100 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex -space-x-3",children:[[1,2,3].map(B=>e.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-white bg-indigo-50 flex items-center justify-center text-[10px] font-black text-indigo-600 group-hover:scale-110 group-hover:rotate-6 transition-all duration-500 hover:z-10 shadow-sm",children:String.fromCharCode(64+B)},B)),R.members>3&&e.jsxs("div",{className:"w-10 h-10 rounded-full border-2 border-white bg-slate-50 flex items-center justify-center text-[10px] font-black text-slate-500 group-hover:scale-110 transition-all duration-500 shadow-sm",children:["+",R.members-3]})]}),e.jsxs("button",{onClick:()=>{h(R),f(!0)},className:"flex items-center gap-2 py-2 px-4 bg-slate-50 rounded-xl text-[10px] font-black uppercase tracking-widest text-indigo-600 hover:bg-indigo-600 hover:text-white transition-all hover:scale-105 active:scale-95 group/btn shadow-sm hover:shadow-indigo-100",children:["View Details ",e.jsx(il,{size:14,className:"group-hover/btn:rotate-45 group-hover/btn:scale-125 transition-all duration-300"})]})]})]})]},R.id))}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 bg-white rounded-[40px] border border-gray-100 shadow-sm border-dashed",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-50 rounded-full flex items-center justify-center text-gray-300 mb-6",children:e.jsx(Ve,{size:40})}),e.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"No sessions found"}),e.jsx("p",{className:"text-gray-500 mt-2 max-w-xs text-center",children:"Try adjusting your filters or search term."})]}),e.jsx(rt,{isOpen:p,onClose:()=>f(!1),title:"Session Details",subtitle:`${u?.title}  ${u?.time}`,maxWidth:"max-w-2xl",footer:e.jsxs("div",{className:"flex gap-4 w-full",children:[e.jsxs("button",{className:"flex-1 py-4 bg-white border border-gray-200 rounded-2xl text-sm font-black text-gray-700 hover:bg-gray-100 hover:border-gray-300 shadow-sm active:scale-95 transition-all flex items-center justify-center gap-2",children:[e.jsx(Jj,{size:18})," Reschedule"]}),e.jsxs("button",{className:"flex-1 py-4 bg-blue-600 text-white rounded-2xl text-sm font-black hover:bg-blue-700 shadow-xl shadow-blue-200 active:scale-95 transition-all flex items-center justify-center gap-2",children:[e.jsx(Qs,{size:18})," Download Roster"]})]}),children:u&&e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"p-8 border-b border-gray-100 bg-gray-50/30 flex items-start justify-between",children:e.jsxs("div",{className:"flex gap-6",children:[e.jsxs("div",{className:"w-20 h-20 bg-white rounded-3xl border border-gray-100 shadow-sm flex flex-col items-center justify-center text-center",children:[e.jsx("p",{className:"text-[10px] font-black text-blue-600 uppercase tracking-widest leading-none mb-1",children:new Date(u.date).toLocaleDateString("en-US",{month:"short"})}),e.jsx("p",{className:"text-2xl font-black text-gray-900 leading-none",children:new Date(u.date).getDate()})]}),e.jsxs("div",{className:"pt-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:`px-2.5 py-1 rounded-lg text-[10px] font-black uppercase border ${_(u.status)}`,children:u.status}),e.jsx("span",{className:"px-2.5 py-1 rounded-lg bg-gray-100 text-gray-500 text-[10px] font-black uppercase tracking-wider",children:u.location})]}),e.jsx("h2",{className:"text-2xl font-black text-gray-900 leading-tight",children:u.title}),e.jsx("p",{className:"text-gray-500 font-bold text-sm mt-1",children:"90 Min Duration"})]})]})}),e.jsxs("div",{className:"p-8 pb-10 grid grid-cols-1 md:grid-cols-3 gap-8 overflow-y-auto custom-scrollbar",children:[e.jsxs("div",{className:"md:col-span-1 space-y-4",children:[e.jsxs("div",{className:"p-5 bg-blue-50 rounded-3xl border border-blue-100/50",children:[e.jsx("p",{className:"text-[10px] font-black text-blue-400 uppercase tracking-widest mb-3",children:"Capacity"}),e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsx("p",{className:"text-3xl font-black text-blue-900",children:u.members}),e.jsxs("p",{className:"text-sm font-bold text-blue-400 pb-1",children:["/ ",u.maxMembers]})]}),e.jsx("div",{className:"mt-4 w-full h-2 bg-white rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-600 rounded-full transition-all duration-1000",style:{width:`${u.members/u.maxMembers*100}%`}})})]}),e.jsxs("button",{className:"w-full flex items-center justify-between p-4 bg-gray-50 rounded-2xl hover:bg-gray-100 transition-colors group",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Va,{size:18,className:"text-gray-400 group-hover:text-blue-600 transition-colors"}),e.jsx("span",{className:"text-sm font-bold text-gray-600",children:"Session Plan"})]}),e.jsx(il,{size:16,className:"text-gray-300"})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("h3",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-4 flex items-center justify-between",children:["Enrolled Members",e.jsx("span",{className:"text-blue-600",children:"View All"})]}),e.jsxs("div",{className:"space-y-3",children:[[{name:"Alex Thompson",plan:"Gold Plus",time:"Enrolled 2d ago"},{name:"Emma Watson",plan:"Premium",time:"Enrolled 1d ago"},{name:"Mike Ross",plan:"Basic",time:"Enrolled 5h ago"}].map((R,B)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white border border-gray-100 rounded-2xl hover:border-blue-200 hover:shadow-md transition-all group cursor-pointer",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center text-gray-600 font-black text-sm group-hover:from-blue-600 group-hover:to-indigo-700 group-hover:text-white transition-all",children:R.name.charAt(0)}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-gray-900 text-sm",children:R.name}),e.jsx("p",{className:"text-[10px] text-gray-500 font-bold uppercase",children:R.plan})]})]}),e.jsx("p",{className:"text-[10px] font-bold text-gray-400",children:R.time})]},B)),u.members>3&&e.jsxs("div",{className:"p-3 text-center text-[10px] font-black text-gray-400 uppercase tracking-widest bg-gray-50 rounded-xl",children:["+ ",u.members-3," more members"]})]})]})]})]})}),e.jsx(rt,{isOpen:j,onClose:()=>A(!1),title:"Create New Slot",subtitle:"Add a new class or session to your schedule",maxWidth:"max-w-md",footer:e.jsx("div",{className:"flex gap-4 w-full",children:e.jsxs("button",{onClick:F,disabled:w,className:`flex-1 py-4 bg-blue-600 text-white rounded-2xl text-sm font-black shadow-xl shadow-blue-200 transition-all flex items-center justify-center gap-2 ${w?"opacity-70":"hover:bg-blue-700 active:scale-95"}`,children:[w?e.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):e.jsx(na,{size:18}),w?"Saving...":"Create Slot"]})}),children:e.jsx("div",{className:"p-6 space-y-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-1 block",children:"Title"}),e.jsx("input",{type:"text",className:"w-full bg-gray-50 border border-gray-100 rounded-xl px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g. Morning Yoga",value:C.title,onChange:R=>L({...C,title:R.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-1 block",children:"Date"}),e.jsx("input",{type:"date",className:"w-full bg-gray-50 border border-gray-100 rounded-xl px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",value:C.date,onChange:R=>L({...C,date:R.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-1 block",children:"Time"}),e.jsx("input",{type:"time",className:"w-full bg-gray-50 border border-gray-100 rounded-xl px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",value:C.time,onChange:R=>L({...C,time:R.target.value})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-1 block",children:"Duration"}),e.jsx("input",{type:"text",className:"w-full bg-gray-50 border border-gray-100 rounded-xl px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"60 min",value:C.duration,onChange:R=>L({...C,duration:R.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-1 block",children:"Capacity"}),e.jsx("input",{type:"number",className:"w-full bg-gray-50 border border-gray-100 rounded-xl px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"20",value:C.maxMembers,onChange:R=>L({...C,maxMembers:R.target.value})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-1 block",children:"Location"}),e.jsx("input",{type:"text",className:"w-full bg-gray-50 border border-gray-100 rounded-xl px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Studio A",value:C.location,onChange:R=>L({...C,location:R.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-1 block",children:"Type"}),e.jsxs("select",{className:"w-full bg-gray-50 border border-gray-100 rounded-xl px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",value:C.type,onChange:R=>L({...C,type:R.target.value}),children:[e.jsx("option",{value:"Group Class",children:"Group Class"}),e.jsx("option",{value:"One-on-One",children:"One-on-One"})]})]})]})})})]})},_L=()=>{const t=Tr(),s=qt(),a=[{label:"Walk-in Inquiry",path:"/crm/inquiry",icon:rl},{label:"Leads Pipeline",path:"/crm/pipeline",icon:Hx},{label:"Today Follow-ups",path:"/crm/followups",icon:Qe}],l=t.pathname==="/crm/my-leads";return e.jsx("div",{className:"saas-container bg-gradient-to-br from-slate-50 via-white to-violet-50/30",children:e.jsxs("div",{className:"max-w-[1400px] mx-auto",children:[e.jsxs("header",{className:"mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-5 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-4 md:p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 md:gap-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(tt,{size:28})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent tracking-tight",children:l?"My Leads":"CRM & Sales"}),e.jsx("p",{className:"text-slate-600 text-sm mt-1 font-medium",children:"Manage walk-ins, track leads, and drive conversions."})]})]}),!l&&e.jsx("nav",{className:"flex items-center gap-2 p-1.5 bg-slate-50/50 rounded-[20px] border border-slate-100 shadow-inner overflow-x-auto scrollbar-hide",children:a.map(i=>{const o=t.pathname===i.path;return e.jsxs("button",{onClick:()=>s(i.path),className:`
                                                    flex items-center gap-2 px-5 py-2.5 rounded-xl text-xs font-black uppercase tracking-widest transition-all whitespace-nowrap
                                                    ${o?"bg-gradient-to-r from-violet-600 to-purple-600 text-white shadow-lg shadow-violet-200":"text-slate-400 hover:text-violet-600 hover:bg-white"}
                                                `,children:[e.jsx(i.icon,{size:16}),e.jsx("span",{className:"hidden sm:inline",children:i.label})]},i.path)})})]})})]}),e.jsx("main",{className:"saas-section",children:e.jsx(sm,{})})]})})},PL=["Walk-in","Instagram","Facebook","Google","Referral","Other"],RL=["Weight Loss","Strength Training","Yoga","Zumba","CrossFit","Cardio","Bodybuilding"],OL=()=>{const t=qt(),[s,a]=v.useState(!1),[l,i]=v.useState([]),{user:o}=Wo(),d=o||{role:"",id:""},[x,u]=v.useState({name:"",phone:"",email:"",gender:"",age:"",interests:[],source:"",budgetRange:"",preferredContact:"WhatsApp",assignedTo:d.role===ct.TRAINER?d.id:"",followUpDate:"",followUpTime:"",notes:""});v.useEffect(()=>{(async()=>{try{const b=await Fw();i(Array.isArray(b)?b:[])}catch(b){console.error("Could not load staff list:",b)}})()},[]);const h=f=>{u(b=>({...b,interests:b.interests.includes(f)?b.interests.filter(g=>g!==f):[...b.interests,f]}))},p=async f=>{f.preventDefault(),a(!0);try{await Qx.createLead(x),st.success("Lead Created Successfully!"),t("/crm/pipeline")}catch(b){console.error("Failed to create lead:",b),st.error(b.message||"Failed to create lead")}finally{a(!1)}};return e.jsx("div",{className:"max-w-5xl mx-auto",children:e.jsxs("div",{className:"saas-card animate-in fade-in slide-in-from-bottom-4 duration-500",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6 md:mb-10 pb-4 md:pb-6 border-b border-slate-100",children:[e.jsx("div",{className:"w-12 h-12 md:w-14 md:h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg",children:e.jsx(rl,{size:24,className:"md:w-[28px] md:h-[28px]"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl md:text-2xl font-black text-slate-800 tracking-tight",children:"New Walk-in Inquiry"}),e.jsx("p",{className:"text-slate-500 text-[11px] md:text-sm font-medium italic",children:"Capture details for your next successful conversion."})]})]}),e.jsxs("form",{onSubmit:p,className:"space-y-6 md:space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-y-4 md:gap-y-6 gap-x-8",children:[e.jsxs("div",{className:"saas-form-group",children:[e.jsx("label",{className:"saas-label uppercase tracking-widest text-[10px] font-black text-slate-500 mb-2",children:"Full Name *"}),e.jsx("input",{required:!0,className:"saas-input rounded-xl bg-slate-50/50 border-slate-200 focus:bg-white h-12",placeholder:"e.g. Rahul Sharma",value:x.name,onChange:f=>u({...x,name:f.target.value})})]}),e.jsxs("div",{className:"saas-form-group",children:[e.jsx("label",{className:"saas-label uppercase tracking-widest text-[10px] font-black text-slate-500 mb-2",children:"Phone Number *"}),e.jsx("input",{required:!0,type:"tel",className:"saas-input rounded-xl bg-slate-50/50 border-slate-200 focus:bg-white h-12",placeholder:"e.g. 9876543210",value:x.phone,onChange:f=>u({...x,phone:f.target.value})})]}),e.jsxs("div",{className:"saas-form-group",children:[e.jsx("label",{className:"saas-label uppercase tracking-widest text-[10px] font-black text-slate-500 mb-2",children:"Email Address"}),e.jsx("input",{type:"email",className:"saas-input rounded-xl bg-slate-50/50 border-slate-200 focus:bg-white h-12",placeholder:"rahul@example.com",value:x.email,onChange:f=>u({...x,email:f.target.value})})]}),e.jsxs("div",{className:"saas-form-group",children:[e.jsx("label",{className:"saas-label uppercase tracking-widest text-[10px] font-black text-slate-500 mb-2",children:"Gender"}),e.jsxs("select",{className:"saas-input rounded-xl bg-slate-50/50 border-slate-200 focus:bg-white h-12 cursor-pointer",value:x.gender,onChange:f=>u({...x,gender:f.target.value}),children:[e.jsx("option",{value:"",children:"Select Gender"}),e.jsx("option",{value:"Male",children:"Male"}),e.jsx("option",{value:"Female",children:"Female"}),e.jsx("option",{value:"Other",children:"Other"})]})]}),e.jsxs("div",{className:"saas-form-group",children:[e.jsx("label",{className:"saas-label uppercase tracking-widest text-[10px] font-black text-slate-500 mb-2",children:"Age"}),e.jsx("input",{type:"number",className:"saas-input rounded-xl bg-slate-50/50 border-slate-200 focus:bg-white h-12",placeholder:"e.g. 25",value:x.age,onChange:f=>u({...x,age:f.target.value})})]}),e.jsxs("div",{className:"saas-form-group",children:[e.jsx("label",{className:"saas-label uppercase tracking-widest text-[10px] font-black text-slate-500 mb-2",children:"Interested In"}),e.jsx("div",{className:"flex flex-wrap gap-2 pt-1",children:RL.map(f=>e.jsx("button",{type:"button",onClick:()=>h(f),className:`px-3 py-1.5 rounded-lg text-[10px] font-black uppercase tracking-wider border transition-all ${x.interests.includes(f)?"bg-violet-600 border-violet-600 text-white shadow-md shadow-violet-100 scale-105":"bg-white border-slate-200 text-slate-500 hover:border-violet-300"}`,children:f},f))})]}),e.jsxs("div",{className:"saas-form-group",children:[e.jsx("label",{className:"saas-label uppercase tracking-widest text-[10px] font-black text-slate-500 mb-2",children:"Lead Source"}),e.jsxs("select",{className:"saas-input rounded-xl bg-slate-50/50 border-slate-200 focus:bg-white h-12 cursor-pointer",value:x.source,onChange:f=>u({...x,source:f.target.value}),children:[e.jsx("option",{value:"",children:"Select Source"}),PL.map(f=>e.jsx("option",{value:f,children:f},f))]})]}),e.jsxs("div",{className:"saas-form-group",children:[e.jsx("label",{className:"saas-label uppercase tracking-widest text-[10px] font-black text-slate-500 mb-2",children:"Budget Range (Monthly)"}),e.jsx("input",{className:"saas-input rounded-xl bg-slate-50/50 border-slate-200 focus:bg-white h-12",placeholder:"e.g. 3000-5000",value:x.budgetRange,onChange:f=>u({...x,budgetRange:f.target.value})})]}),e.jsxs("div",{className:"saas-form-group",children:[e.jsx("label",{className:"saas-label uppercase tracking-widest text-[10px] font-black text-slate-500 mb-2",children:"Follow-up Date *"}),e.jsx("input",{required:!0,type:"date",className:"saas-input rounded-xl bg-slate-50/50 border-slate-200 focus:bg-white h-12",value:x.followUpDate,onChange:f=>u({...x,followUpDate:f.target.value})})]}),e.jsxs("div",{className:"saas-form-group",children:[e.jsx("label",{className:"saas-label uppercase tracking-widest text-[10px] font-black text-slate-500 mb-2",children:"Follow-up Time"}),e.jsx("input",{type:"time",className:"saas-input rounded-xl bg-slate-50/50 border-slate-200 focus:bg-white h-12",value:x.followUpTime,onChange:f=>u({...x,followUpTime:f.target.value})})]}),e.jsxs("div",{className:"saas-form-group",children:[e.jsx("label",{className:"saas-label uppercase tracking-widest text-[10px] font-black text-slate-500 mb-2",children:"Assign To"}),e.jsxs("select",{className:"saas-input rounded-xl bg-slate-50/50 border-slate-200 focus:bg-white h-12 cursor-pointer disabled:bg-slate-100",disabled:d.role===ct.TRAINER,value:x.assignedTo,onChange:f=>u({...x,assignedTo:f.target.value}),children:[e.jsx("option",{value:"",children:"Unassigned"}),d.id&&e.jsxs("option",{value:d.id,children:["Self (",d.name||"Me",")"]}),l.filter(f=>f.id!==d.id).map(f=>e.jsxs("option",{value:f.id,children:[f.role==="TRAINER"?" ":" ",f.name," (",f.role.charAt(0)+f.role.slice(1).toLowerCase(),")"]},f.id))]})]}),e.jsxs("div",{className:"saas-form-group",children:[e.jsx("label",{className:"saas-label uppercase tracking-widest text-[10px] font-black text-slate-500 mb-2",children:"Preferred Contact"}),e.jsxs("select",{className:"saas-input rounded-xl bg-slate-50/50 border-slate-200 focus:bg-white h-12 cursor-pointer",value:x.preferredContact,onChange:f=>u({...x,preferredContact:f.target.value}),children:[e.jsx("option",{value:"WhatsApp",children:"WhatsApp"}),e.jsx("option",{value:"Call",children:"Phone Call"}),e.jsx("option",{value:"Email",children:"Email"})]})]}),e.jsxs("div",{className:"saas-form-group lg:col-span-2",children:[e.jsx("label",{className:"saas-label uppercase tracking-widest text-[10px] font-black text-slate-500 mb-2",children:"Internal Notes"}),e.jsx("textarea",{rows:4,className:"saas-input min-h-[120px] rounded-xl bg-slate-50/50 border-slate-200 focus:bg-white pt-3",placeholder:"Add anything helpful for conversion...",value:x.notes,onChange:f=>u({...x,notes:f.target.value})})]})]}),e.jsxs("div",{className:"pt-8 md:pt-10 border-t border-slate-100 flex flex-col sm:flex-row items-center justify-end gap-3 md:gap-4",children:[e.jsx("button",{type:"button",onClick:()=>t("/crm/pipeline"),className:"w-full sm:w-auto px-8 py-3.5 rounded-xl text-slate-400 font-bold uppercase tracking-widest text-[10px] hover:bg-slate-50 transition-all border border-transparent hover:border-slate-100",children:"Discard"}),e.jsxs("button",{disabled:s,className:`
                                w-full sm:w-auto px-10 py-4 rounded-xl bg-gradient-to-r from-violet-600 to-indigo-600 text-white font-black uppercase tracking-widest text-[10px] shadow-lg shadow-violet-200/50 
                                hover:shadow-xl hover:shadow-violet-300/50 hover:-translate-y-0.5 active:translate-y-0 transition-all flex items-center justify-center gap-3
                                ${s?"opacity-70 cursor-not-allowed":""}
                            `,children:[s?e.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):e.jsx(rl,{size:16}),"Save New Lead"]})]})]})]})})},FL=[{id:"New",label:"New Inquiries",color:"blue"},{id:"Contacted",label:"Contacted",color:"amber"},{id:"Qualified",label:"Qualified",color:"purple"},{id:"Converted",label:"Converted",color:"emerald"},{id:"Lost",label:"Lost",color:"rose"}],vy=()=>{const[t,s]=v.useState([]),[a,l]=v.useState(!0),[i,o]=v.useState(""),[d,x]=v.useState({show:!1,message:"",type:"success"}),{user:u}=Wo(),h=async()=>{try{l(!0);const g=await Qx.getLeads();s(g)}catch(g){console.error("Error fetching leads:",g),x({show:!0,message:"Failed to load leads",type:"error"})}finally{l(!1)}};v.useEffect(()=>{h()},[]);const p=async(g,j)=>{let A="",w="";if(j==="contact"?(A="Contacted",w="Lead marked as contacted."):j==="qualify"?(A="Qualified",w="Lead marked as qualified."):j==="convert"?(A="Converted",w="Lead converted to member successfully!"):j==="lost"&&(A="Lost",w="Lead marked as not interested."),A)try{await Qx.updateLeadStatus(g,A),s(t.map(k=>k.id===g?{...k,status:A}:k)),x({show:!0,message:w,type:"success"}),setTimeout(()=>x({show:!1,message:"",type:"success"}),3e3)}catch(k){console.error("Update failed:",k),x({show:!0,message:"Failed to update status",type:"error"})}},f={blue:"bg-blue-500",amber:"bg-amber-500",purple:"bg-purple-500",emerald:"bg-emerald-500",rose:"bg-rose-500"},b=t.filter(g=>g.name.toLowerCase().includes(i.toLowerCase())||g.phone.includes(i));return e.jsxs("div",{className:"space-y-6 md:space-y-8",children:[e.jsx("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 overflow-visible hover:shadow-2xl transition-all duration-300",children:e.jsxs("div",{className:"p-4 md:p-6 border-b border-slate-100 flex flex-col md:flex-row gap-4 items-center justify-between",children:[e.jsxs("div",{className:"relative w-full md:w-96 group",children:[e.jsx(tt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 transition-colors",size:18}),e.jsx("input",{type:"text",className:"pl-11 h-11 w-full rounded-xl border-2 border-slate-200 focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 transition-all text-sm bg-white",placeholder:"Search leads by name or phone...",value:i,onChange:g=>o(g.target.value)})]}),e.jsx("div",{className:"flex items-center gap-3 w-full md:w-auto",children:e.jsxs("button",{className:"flex-1 md:flex-none flex items-center justify-center gap-2 px-4 py-2.5 bg-slate-50 border-2 border-slate-100 rounded-xl text-xs font-black uppercase tracking-widest text-slate-500 hover:bg-white hover:border-violet-200 hover:text-violet-600 transition-all",children:[e.jsx(ks,{size:16}),"Filter"]})})]})}),e.jsx("div",{className:"flex flex-col lg:flex-row gap-6 lg:overflow-x-auto lg:pb-8 scrollbar-hide min-h-[600px]",children:FL.map(g=>e.jsxs("div",{className:"flex-shrink-0 w-full lg:w-[350px] flex flex-col gap-3 md:gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between px-1 md:px-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${f[g.color]||"bg-slate-400"}`}),e.jsx("h3",{className:"text-xs md:text-sm font-black text-slate-700 uppercase tracking-widest",children:g.label}),e.jsx("span",{className:"px-2 py-0.5 rounded-md bg-slate-100 text-[9px] md:text-[10px] font-bold text-slate-500",children:b.filter(j=>j.status===g.id).length})]}),e.jsx(_c,{size:16,className:"text-slate-400 cursor-pointer"})]}),e.jsx("div",{className:"flex flex-col gap-3 md:gap-4 p-1 md:p-2 rounded-2xl bg-slate-50/50 border border-slate-100/50 min-h-[150px]",children:b.filter(j=>j.status===g.id).map(j=>e.jsxs("div",{className:"saas-card !mb-0 group cursor-grab active:cursor-grabbing border-slate-100 hover:border-violet-200 hover:shadow-violet-500/10 transition-all duration-300",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-slate-100 to-slate-200 flex items-center justify-center text-slate-600 font-black text-sm group-hover:from-violet-500 group-hover:to-purple-600 group-hover:text-white transition-all duration-500",children:j.name.charAt(0)}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-slate-800 text-sm group-hover:text-violet-700 transition-colors uppercase tracking-tight",children:j.name}),e.jsx("p",{className:"text-[10px] font-bold text-slate-400 mt-0.5 tracking-wider",children:j.interest?.[0]||"Inquiry"})]})]}),e.jsx("button",{className:"p-1 text-slate-300 hover:text-slate-600",children:e.jsx(_c,{size:14})})]}),e.jsxs("div",{className:"space-y-3 mb-5",children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-500",children:[e.jsx(Hs,{size:12,className:"text-violet-400"}),e.jsx("span",{className:"text-[11px] font-medium tracking-tight",children:j.phone})]}),e.jsxs("div",{className:"flex items-center gap-2 text-slate-500",children:[e.jsx(Ve,{size:12,className:"text-violet-400"}),e.jsxs("span",{className:"text-[11px] font-medium tracking-tight",children:["Follow-up: ",j.followUpDate]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-slate-50",children:[e.jsx("div",{className:"flex -space-x-2",children:e.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-white bg-violet-100 flex items-center justify-center text-[10px] font-bold text-violet-600",children:"AV"})}),e.jsxs("div",{className:"flex gap-2",children:[j.status!=="Lost"&&e.jsx("button",{onClick:()=>p(j.id,"lost"),className:"p-2 rounded-lg bg-slate-50 text-slate-400 hover:bg-rose-50 hover:text-rose-600 transition-all",title:"Mark Lost",children:e.jsx(Yl,{size:14})}),j.status==="New"&&e.jsx("button",{onClick:()=>p(j.id,"contact"),className:"p-2 rounded-lg bg-slate-50 text-slate-400 hover:bg-amber-50 hover:text-amber-600 transition-all",title:"Mark Contacted",children:e.jsx(xr,{size:14})}),j.status==="Contacted"&&e.jsx("button",{onClick:()=>p(j.id,"qualify"),className:"p-2 rounded-lg bg-slate-50 text-slate-400 hover:bg-purple-50 hover:text-purple-600 transition-all",title:"Mark Qualified",children:e.jsx(xr,{size:14})}),j.status!=="Converted"&&j.status!=="Lost"&&e.jsxs("button",{onClick:()=>p(j.id,"convert"),className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-violet-600 text-white text-[10px] font-black uppercase tracking-widest hover:bg-violet-700 shadow-sm shadow-violet-100 hover:shadow-violet-200 hover:-translate-y-0.5 transition-all",title:"Convert to Member",children:[e.jsx(jl,{size:12}),"Convert"]})]})]})]},j.id))})]},g.id))}),d.show&&e.jsx("div",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 z-[100] animate-in slide-in-from-bottom-5 duration-300",children:e.jsxs("div",{className:`px-6 py-3 rounded-2xl shadow-2xl flex items-center gap-3 border ${d.type==="success"?"bg-emerald-600 border-emerald-500 text-white":"bg-slate-800 text-white border-slate-700"}`,children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-white/20 flex items-center justify-center uppercase",children:e.jsx(xr,{size:14,className:"text-white"})}),e.jsx("p",{className:"text-sm font-black uppercase tracking-widest",children:d.message})]})})]})},IL=()=>{const[t,s]=v.useState([]),[a,l]=v.useState("Upcoming"),[i,o]=v.useState(!0),[d,x]=v.useState(!1),[u,h]=v.useState(!1),[p,f]=v.useState(null),[b,g]=v.useState(null),[j,A]=v.useState("Today"),[w,k]=v.useState(""),[C,L]=v.useState(!1),[N,P]=v.useState(1),[_,F]=v.useState({type:"",name:"",date:"Today",time:"",location:"",trainer:""}),[R,B]=v.useState(!1),[T,q]=v.useState(null),[H,G]=v.useState(!1),[W,le]=v.useState(null),[V,ne]=v.useState(!1),[I,oe]=v.useState({show:!1,message:"",type:"success"}),[Ne,Y]=v.useState(null),[$,Q]=v.useState(""),[ae,ue]=v.useState([]);v.useEffect(()=>{be(),he(),me()},[]);const me=async()=>{try{const Ye=await CM();ue(Ye)}catch(Ye){console.error("Failed to load classes:",Ye)}},be=async()=>{o(!0);try{const Kt=(await gM()).map(vt=>({id:vt.id,name:vt.class?.name||"Session",type:vt.class?.requiredBenefit?"Facility":"Group Class",date:new Date(vt.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),time:vt.class?.schedule?.time||"TBA",location:vt.class?.location||"Main Floor",trainer:vt.class?.trainer?.name||"Staff",status:vt.status}));s(Kt)}catch(Ye){console.error("Failed to load bookings:",Ye)}o(!1)},he=async()=>{const Ye=await qw();Y(Ye)},we=(Ye,Kt="success")=>{oe({show:!0,message:Ye,type:Kt}),setTimeout(()=>oe(vt=>({...vt,show:!1})),3e3)},_e=()=>{P(1),F({type:"",name:"",date:"Today",time:"",location:"",trainer:""}),L(!0)},$e=Ye=>{le(Ye),G(!0)},Ke=async()=>{await bM(W),s(t.map(Ye=>Ye.id===W?{...Ye,status:"Cancelled"}:Ye)),G(!1),we("Booking cancelled successfully.","info")},et=Ye=>{f(Ye),A(Ye.date),k(Ye.time.split(" - ")[0]),x(!0)},xe=async()=>{if(!w){we("Please select a time slot.","error");return}s(t.map(Ye=>Ye.id===p.id?{...Ye,date:j,time:`${w} - ${Xe(w)}`}:Ye)),x(!1),we("Session rescheduled successfully!")},se=Ye=>{if(Ye.sessions==="Full"){we("This class is full. You've been added to the waitlist.","info");return}g(Ye),h(!0)},Ze=async()=>{if(!w){we("Please select a time slot.","error");return}if(Ne?.benefitWallet&&Ne.benefitWallet.classCredits<=0){Q("Insufficient credits."),we("Insufficient credits.","error");return}try{(await ay({classId:b.id,date:new Date})).success&&(be(),me(),he(),h(!1),Q(""),we("Class booked successfully!"))}catch(Ye){we(Ye||"Failed to book class","error")}},It=()=>{Q(""),P(2),F({type:"Facility",name:"",date:"Next Session",time:"",location:"Wellness Wing",trainer:"Staff"}),L(!0)},At=async()=>{if(!_.time){we("Please select a time slot.","error");return}if(_.type==="Facility"&&Ne?.benefitWallet){const Ye=_.name.toLowerCase();if(Ye.includes("sauna")){if(Ne.benefitWallet.saunaSessions<=0){Q("No sauna credits available. Please upgrade or renew."),we("No sauna credits available. Please upgrade or renew.","error");return}}else if(Ye.includes("ice bath")&&Ne.benefitWallet.iceBathCredits<=0){Q("No ice bath credits available. Please upgrade or renew."),we("No ice bath credits available. Please upgrade or renew.","error");return}}try{const Ye=ae.find(vt=>vt.name===_.name);if(!Ye){we("Selected class not available.","error");return}(await ay({classId:Ye.id,date:new Date})).success&&(be(),me(),he(),L(!1),Q(""),we("Booking created successfully!"))}catch(Ye){we(Ye||"Failed to create booking","error")}},Xe=Ye=>{const[Kt,vt]=Ye.split(" "),[cs,rs]=Kt.split(":");let dt=parseInt(cs);return dt===12?dt=1:dt+=1,`${dt.toString().padStart(2,"0")}:${rs} ${vt}`},kt=t.filter(Ye=>["Upcoming","Confirmed","Pending"].includes(Ye.status)),nt=t.filter(Ye=>Ye.status==="Completed"),Ct=t.filter(Ye=>Ye.status==="Cancelled");let gt=[];return a==="Upcoming"&&(gt=kt),a==="Completed"&&(gt=nt),a==="Cancelled"&&(gt=Ct),e.jsxs("div",{className:"p-6 md:p-8 bg-gray-50 min-h-screen font-sans",children:[e.jsxs("div",{className:"max-w-6xl mx-auto space-y-10",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-black text-gray-900 tracking-tight",children:"Manage Bookings"}),e.jsxs("p",{className:"text-gray-500 font-medium mt-1.5 flex items-center gap-2 text-sm italic",children:[e.jsx(ua,{size:14,className:"text-violet-500 fill-violet-500"}),"Book and manage your personalized gym experience."]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-6",children:[Ne?.benefitWallet&&e.jsxs("div",{className:"px-6 py-3 bg-white rounded-2xl border border-gray-100 shadow-sm flex items-center gap-4",children:[e.jsx("div",{className:"p-2 bg-violet-50 rounded-xl text-violet-600",children:e.jsx(ua,{size:20,className:"fill-violet-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.15em]",children:"Class Credits"}),e.jsx("p",{className:"text-xl font-black text-gray-900",children:Ne.benefitWallet.classCredits})]})]}),e.jsxs("button",{onClick:_e,className:"px-8 py-4 bg-violet-600 text-white rounded-2xl font-black shadow-xl shadow-violet-100 hover:bg-violet-700 hover:-translate-y-0.5 transition-all flex items-center gap-3 active:scale-95",children:[e.jsx(wt,{size:20,strokeWidth:3})," Create Booking"]})]})]}),e.jsxs("div",{className:"flex gap-3 overflow-x-auto pb-4 no-scrollbar",children:[e.jsx(Xp,{label:"Upcoming",count:kt.length,active:a==="Upcoming",onClick:()=>l("Upcoming")}),e.jsx(Xp,{label:"Completed",count:nt.length,active:a==="Completed",onClick:()=>l("Completed")}),e.jsx(Xp,{label:"Cancelled",count:Ct.length,active:a==="Cancelled",onClick:()=>l("Cancelled")})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-10",children:[e.jsx("div",{className:"xl:col-span-2 space-y-6",children:i?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 bg-white rounded-[40px] border border-gray-100 shadow-sm",children:[e.jsx(Q0,{className:"animate-spin text-violet-600 mb-4",size:32}),e.jsx("p",{className:"text-gray-400 font-bold text-sm",children:"Loading your schedule..."})]}):gt.length>0?gt.map(Ye=>e.jsx(HL,{...Ye,onCancel:()=>$e(Ye.id),onReschedule:()=>et(Ye)},Ye.id)):e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 bg-white rounded-[40px] border border-gray-100 shadow-sm text-center px-6",children:[e.jsx("div",{className:"p-4 bg-gray-50 rounded-full mb-4",children:e.jsx(Ve,{size:32,className:"text-gray-300"})}),e.jsxs("h3",{className:"text-lg font-black text-gray-900",children:["No ",a.toLowerCase()," bookings"]}),e.jsx("p",{className:"text-gray-400 text-sm font-medium mt-1",children:"Looks like your schedule is clear. Ready to sweat?"})]})}),e.jsxs("div",{className:"xl:col-span-1 space-y-10",children:[e.jsxs("div",{className:"bg-white p-8 rounded-[40px] border border-gray-100 shadow-sm relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-violet-50 rounded-full -mr-16 -mt-16 blur-3xl"}),e.jsx("h3",{className:"text-xl font-black text-gray-900 mb-6 relative z-10",children:"Explore Classes"}),e.jsx("div",{className:"space-y-4 relative z-10",children:ae.filter(Ye=>!Ye.requiredBenefit).map(Ye=>e.jsx(WL,{name:Ye.name,sessions:`${Ye.maxCapacity-(Ye._count?.bookings||0)} spots left`,icon:Ye.name[0],onClick:()=>se(Ye)},Ye.id))}),e.jsx("button",{onClick:()=>ne(!0),className:"w-full mt-8 py-4 border-2 border-dashed border-gray-100 text-gray-400 rounded-2xl text-sm font-bold hover:border-violet-200 hover:text-violet-600 hover:bg-violet-50/30 transition-all",children:"View Full Class Schedule"})]}),e.jsxs("div",{className:"bg-slate-900 p-10 rounded-[40px] text-white shadow-2xl relative overflow-hidden group",children:[e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"p-3 bg-white/10 rounded-2xl w-fit mb-6",children:e.jsx(ua,{className:"text-indigo-400",size:24})}),e.jsx("h3",{className:"text-2xl font-black mb-3",children:"Recovery Zone"}),e.jsx("p",{className:"text-slate-400 text-sm font-medium mb-6 leading-relaxed",children:"Boost your recovery with a professional Sauna or Ice Bath session."}),Ne?.benefitWallet&&e.jsxs("div",{className:"mb-6 p-4 bg-white/5 rounded-xl border border-white/10",children:[e.jsx("p",{className:"text-xs font-bold text-slate-300 uppercase tracking-wider mb-3",children:"Available Credits"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-1.5 bg-orange-500/20 rounded-lg",children:e.jsx("svg",{className:"w-4 h-4 text-orange-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M10 2a6 6 0 00-6 6c0 4.314 6 10 6 10s6-5.686 6-10a6 6 0 00-6-6z"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"Sauna"}),e.jsx("p",{className:"text-lg font-black text-white",children:Ne.benefitWallet.saunaSessions})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-1.5 bg-cyan-500/20 rounded-lg",children:e.jsx("svg",{className:"w-4 h-4 text-cyan-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M10 2L8 6H4l4 4-2 6 4-3 4 3-2-6 4-4h-4l-2-4z"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"Ice Bath"}),e.jsx("p",{className:"text-lg font-black text-white",children:Ne.benefitWallet.iceBathCredits})]})]})]})]}),e.jsx("button",{onClick:It,className:"w-full py-4 bg-white text-slate-900 rounded-2xl font-black shadow-lg hover:bg-indigo-50 hover:-translate-y-1 transition-all active:translate-y-0",children:"Book Session Now"})]}),e.jsx("div",{className:"absolute -bottom-10 -right-10 w-48 h-48 bg-indigo-500/10 rounded-full blur-3xl group-hover:bg-indigo-500/20 transition-all duration-700"})]})]})]})]}),e.jsx(rt,{isOpen:R,onClose:()=>B(!1),title:"Booking Details",maxWidth:"max-w-md",children:e.jsx(UL,{booking:T,onReschedule:()=>{B(!1),et(T)},onCancel:()=>{B(!1),$e(T.id)}})}),e.jsx(rt,{isOpen:C,onClose:()=>L(!1),title:"New Reservation",maxWidth:"max-w-xl",children:e.jsx(BL,{step:N,setStep:P,data:_,setData:F,onClose:()=>L(!1),onConfirm:At,availableClasses:ae})}),e.jsx(rt,{isOpen:d,onClose:()=>x(!1),title:"Reschedule Session",maxWidth:"max-w-md",children:e.jsx(yy,{title:"Reschedule Session",subtitle:`Adjust your ${p?.name} slot`,onClose:()=>x(!1),onConfirm:xe,confirmLabel:"Confirm Reschedule",selectedDate:j,setSelectedDate:A,selectedTime:w,setSelectedTime:k,memberProfile:Ne})}),e.jsx(rt,{isOpen:u,onClose:()=>h(!1),title:"Book Class",maxWidth:"max-w-md",children:e.jsx(yy,{title:"Book Class",subtitle:`Confirm your spot for ${b?.name}`,onClose:()=>h(!1),onConfirm:Ze,confirmLabel:"Confirm Booking",selectedDate:j,setSelectedDate:A,selectedTime:w,setSelectedTime:k,memberProfile:Ne})}),e.jsx(rt,{isOpen:H,onClose:()=>G(!1),title:"Cancel Reservation?",maxWidth:"max-w-md",children:e.jsx($L,{onClose:()=>G(!1),onConfirm:Ke})}),e.jsx(rt,{isOpen:V,onClose:()=>ne(!1),title:"Full Schedule",maxWidth:"max-w-4xl",children:e.jsx(qL,{onClose:()=>ne(!1),onBook:Ye=>{ne(!1),se(Ye)},classes:ae})}),I.show&&e.jsxs("div",{className:`fixed bottom-8 right-8 z-[100] p-4 rounded-2xl shadow-2xl flex items-center gap-3 animate-in fade-in slide-in-from-bottom-5 duration-300 ${I.type==="error"?"bg-red-500 text-white":"bg-slate-900 text-white"}`,children:[e.jsx("div",{className:`p-1.5 rounded-lg ${I.type==="error"?"bg-white/20":"bg-violet-500/20"}`,children:I.type==="error"?e.jsx(Vr,{size:16}):e.jsx(ua,{size:16,className:"text-violet-400 fill-violet-400"})}),e.jsx("span",{className:"text-sm font-black tracking-tight",children:I.message})]})]})},BL=({step:t,setStep:s,data:a,setData:l,onClose:i,onConfirm:o,availableClasses:d})=>{const x=[{id:"Group Class",label:"Group Class",icon:lt,color:"text-violet-600",bg:"bg-violet-50"},{id:"Personal Training",label:"Personal Training",icon:ua,color:"text-amber-600",bg:"bg-amber-50"},{id:"Facility",label:"Gym Facility",icon:$s,color:"text-indigo-600",bg:"bg-indigo-50"}],u={"Group Class":d.filter(f=>!f.requiredBenefit).map(f=>f.name),"Personal Training":["Strength & Conditioning","Fat Loss Blast","Muscle Building","Posture Correction"],Facility:d.filter(f=>f.requiredBenefit).map(f=>f.name)},h=["Today, May 15","Tomorrow, May 16","Fri, May 17","Sat, May 18","Sun, May 19"],p=["08:00 AM","09:00 AM","10:00 AM","05:00 PM","06:00 PM","07:00 PM"];return e.jsxs("div",{className:"p-8 space-y-8",children:[e.jsx("div",{className:"flex items-center gap-2 mb-2",children:[1,2,3].map(f=>e.jsx("div",{className:`h-1.5 w-8 rounded-full transition-all ${t>=f?"bg-violet-600":"bg-gray-200"}`},f))}),t===1&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 animate-in slide-in-from-right-4 duration-300",children:x.map(f=>e.jsxs("button",{onClick:()=>{l({...a,type:f.id}),s(2)},className:`p-6 rounded-[32px] border-2 flex flex-col items-center text-center gap-4 transition-all hover:scale-105 ${a.type===f.id?"border-violet-600 bg-violet-50/30":"border-gray-50 bg-gray-50/50 hover:bg-white hover:border-violet-100"}`,children:[e.jsx("div",{className:`p-4 rounded-2xl ${f.bg} ${f.color}`,children:e.jsx(f.icon,{size:32,strokeWidth:2.5})}),e.jsx("span",{className:"font-black text-gray-900 text-sm",children:f.label})]},f.id))}),t===2&&e.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right-4 duration-300",children:[e.jsxs("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:["Available ",a.type,"s"]}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:u[a.type].map(f=>e.jsx("button",{onClick:()=>{l({...a,name:f}),s(3)},className:`p-4 rounded-2xl text-left font-bold text-sm transition-all border-2 ${a.name===f?"bg-violet-600 border-violet-600 text-white":"bg-gray-50 border-transparent text-gray-700 hover:bg-white hover:border-violet-100"}`,children:f},f))})]}),t===3&&e.jsxs("div",{className:"space-y-8 animate-in slide-in-from-right-4 duration-300",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Select Date"}),e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 no-scrollbar",children:h.map(f=>e.jsx("button",{onClick:()=>l({...a,date:f}),className:`px-5 py-3 rounded-2xl text-xs font-black whitespace-nowrap transition-all border-2 ${a.date===f?"bg-violet-600 border-violet-600 text-white shadow-lg":"bg-white border-gray-100 text-gray-500 hover:border-violet-100"}`,children:f},f))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Available Slots"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:p.map(f=>e.jsxs("button",{onClick:()=>l({...a,time:f}),className:`p-4 rounded-3xl text-xs font-black transition-all border-2 flex flex-col items-center gap-1 ${a.time===f?"bg-violet-600 border-violet-600 text-white shadow-lg":"bg-gray-50 border-transparent text-gray-500 hover:bg-white hover:border-violet-100"}`,children:[e.jsx(Qe,{size:14,className:a.time===f?"text-white":"text-violet-500"}),f]},f))})]})]}),e.jsxs("div",{className:"pt-8 flex gap-4",children:[t>1&&e.jsx("button",{onClick:()=>s(t-1),className:"flex-1 px-6 py-4 bg-gray-50 text-gray-500 rounded-2xl font-black text-sm hover:bg-gray-100 transition-all uppercase tracking-widest",children:"Back"}),e.jsx("button",{onClick:t===3?o:()=>{},disabled:t<3&&!(t===1&&a.type||t===2&&a.name),className:`flex-[2] py-4 rounded-2xl font-black text-sm transition-all uppercase tracking-widest ${t===3?"bg-violet-600 text-white shadow-xl shadow-violet-100 hover:bg-violet-700 hover:-translate-y-0.5":"bg-gray-100 text-gray-400 cursor-default"}`,children:t===3?"Confirm Booking":"Next Step"})]})]})},yy=({title:t,subtitle:s,onClose:a,onConfirm:l,confirmLabel:i,selectedDate:o,setSelectedDate:d,selectedTime:x,setSelectedTime:u,memberProfile:h})=>{const p=["Today, May 15","Tomorrow, May 16","Fri, May 17","Sat, May 18","Sun, May 19"],f=["08:00 AM","09:00 AM","10:00 AM","05:00 PM","06:00 PM","07:00 PM"];return e.jsxs("div",{className:"p-8 space-y-8",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h3",{className:"text-xl font-black text-gray-900 tracking-tight",children:t}),e.jsx("p",{className:"text-gray-500 font-medium text-sm",children:s})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Select Date"}),e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 no-scrollbar",children:p.map(b=>e.jsx("button",{onClick:()=>d(b),className:`px-5 py-3 rounded-2xl text-xs font-black whitespace-nowrap transition-all border-2 ${o===b?"bg-violet-600 border-violet-600 text-white shadow-lg":"bg-white border-gray-100 text-gray-500 hover:border-violet-100"}`,children:b},b))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Available Slots"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:f.map(b=>e.jsxs("button",{onClick:()=>u(b),className:`p-4 rounded-3xl text-xs font-black transition-all border-2 flex flex-col items-center gap-1 ${x===b?"bg-violet-600 border-violet-600 text-white shadow-lg":"bg-gray-50 border-transparent text-gray-500 hover:bg-white hover:border-violet-100"}`,children:[e.jsx(Qe,{size:14,className:x===b?"text-white":"text-violet-500"}),b]},b))})]})]}),e.jsxs("div",{className:"pt-4 flex flex-col gap-4",children:[h?.benefitWallet&&h.benefitWallet.classCredits<=0&&e.jsxs("div",{className:"flex items-center gap-2 p-4 bg-red-50 text-red-600 rounded-2xl border border-red-100",children:[e.jsx(hs,{size:16}),e.jsx("span",{className:"text-xs font-black uppercase tracking-wider",children:"Insufficient credits."})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:a,className:"flex-1 py-5 bg-gray-50 text-gray-500 rounded-2xl font-black text-sm hover:bg-gray-100 transition-all uppercase tracking-widest",children:"Cancel"}),e.jsx("button",{onClick:l,disabled:h?.benefitWallet&&h.benefitWallet.classCredits<=0,className:`flex-[2] py-5 rounded-2xl font-black text-sm shadow-xl transition-all uppercase tracking-widest ${h?.benefitWallet&&h.benefitWallet.classCredits<=0?"bg-gray-100 text-gray-400 shadow-none":"bg-violet-600 text-white shadow-violet-100 hover:bg-violet-700"}`,children:i})]})]})]})},UL=({booking:t,onReschedule:s,onCancel:a})=>t?e.jsxs("div",{className:"p-8 space-y-8",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("div",{className:"w-20 h-20 rounded-[32px] bg-violet-100 flex items-center justify-center text-violet-600 shadow-lg shadow-violet-100/50",children:e.jsx(Ve,{size:36})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-black text-gray-900 tracking-tight leading-7",children:t.name}),e.jsx("p",{className:"text-gray-400 font-bold text-sm uppercase tracking-widest mt-1",children:t.type})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-5 rounded-[24px] bg-gray-50 border-2 border-gray-100",children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Date"}),e.jsx("p",{className:"text-sm font-black text-gray-900",children:t.date})]}),e.jsxs("div",{className:"p-5 rounded-[24px] bg-gray-50 border-2 border-gray-100",children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Time"}),e.jsx("p",{className:"text-sm font-black text-gray-900",children:t.time})]})]}),e.jsxs("div",{className:"p-6 rounded-[24px] bg-violet-50 border-2 border-violet-100 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-violet-600 flex items-center justify-center text-white font-black text-xs",children:t.instructor?.[0]||t.trainer?.[0]||"S"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-violet-400 uppercase tracking-widest mb-0.5",children:"Instructor/Staff"}),e.jsx("p",{className:"text-sm font-black text-gray-900",children:t.instructor||t.trainer||"Staff"})]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-violet-100",children:[e.jsx("span",{className:"text-[10px] font-black text-violet-400 uppercase tracking-widest",children:"Status"}),e.jsx("span",{className:"px-3 py-1 bg-green-500 rounded-full text-[10px] font-black text-white uppercase tracking-widest",children:t.status})]})]}),t.status!=="Cancelled"&&t.status!=="Completed"&&e.jsxs("div",{className:"flex flex-col gap-4 pt-4",children:[e.jsx("button",{onClick:s,className:"w-full py-5 bg-violet-600 text-white rounded-[24px] font-black shadow-xl shadow-violet-200 hover:bg-violet-700 transition-all uppercase tracking-widest",children:"Reschedule"}),e.jsx("button",{onClick:a,className:"w-full py-4 text-red-500 font-black text-xs hover:bg-red-50 rounded-[20px] transition-all uppercase tracking-[0.2em]",children:"Cancel Booking"})]})]}):null,$L=({onClose:t,onConfirm:s})=>e.jsxs("div",{className:"p-8 space-y-8 text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 rounded-[40px] bg-red-100 text-red-600 shadow-lg shadow-red-100/50 mb-2",children:e.jsx(hs,{size:48})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-3xl font-black text-gray-900 tracking-tight",children:"Wait, really?"}),e.jsx("p",{className:"text-gray-500 font-medium text-sm leading-relaxed px-6",children:"Are you sure you want to cancel this booking? You might lose your spot in this popular session."})]}),e.jsxs("div",{className:"flex flex-col gap-4 pt-4",children:[e.jsx("button",{onClick:s,className:"w-full py-5 bg-red-600 text-white rounded-[24px] font-black shadow-xl shadow-red-200 hover:bg-red-700 transition-all uppercase tracking-widest",children:"Yes, Cancel Booking"}),e.jsx("button",{onClick:t,className:"w-full py-4 text-gray-400 font-black text-xs hover:text-gray-900 transition-colors uppercase tracking-[0.2em]",children:"Nevermind, keep it"})]})]}),qL=({onClose:t,onBook:s,classes:a})=>{const l=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],[i,o]=v.useState("Mon"),x=(a||[]).filter(u=>!u.requiredBenefit).map(u=>({id:u.id,name:u.name,time:u.schedule?.time||"TBA",trainer:u.trainer?.name||"TBA",spots:`${u.maxCapacity-(u._count?.bookings||0)} spots left`,days:u.schedule?.days||[]})).filter(u=>u.days.includes(i));return e.jsxs("div",{className:"p-8 space-y-6",children:[e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 no-scrollbar",children:l.map(u=>e.jsx("button",{onClick:()=>o(u),className:`px-5 py-3 rounded-2xl text-xs font-black whitespace-nowrap transition-all border-2 ${i===u?"bg-violet-600 border-violet-600 text-white shadow-lg":"bg-white border-gray-100 text-gray-500 hover:border-violet-100"}`,children:u},u))}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:x.map((u,h)=>e.jsxs("div",{className:"p-6 bg-gray-50 rounded-[32px] border-2 border-transparent hover:border-violet-100 hover:bg-white transition-all flex justify-between items-center group",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"flex gap-2"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("p",{className:"font-black text-gray-900 text-lg leading-tight",children:u.name}),e.jsx("span",{className:`text-[10px] font-black px-2 py-0.5 rounded-lg ${u.spots.startsWith("0")||u.spots==="Full"?"bg-red-50 text-red-500":"bg-emerald-50 text-emerald-600"}`,children:u.spots.startsWith("0")?"FULL":u.spots.toUpperCase()})]}),e.jsxs("p",{className:"text-xs text-gray-400 font-bold mt-1.5 flex items-center gap-2",children:[e.jsx(Qe,{size:12,strokeWidth:3})," ",u.time,"  ",u.trainer]})]})]}),e.jsx("button",{onClick:()=>s(u),className:"p-3 bg-white rounded-2xl shadow-sm text-violet-600 group-hover:bg-violet-600 group-hover:text-white transition-all",children:e.jsx(wt,{size:20,strokeWidth:3})})]},h))})]})},Xp=({label:t,count:s,active:a,onClick:l})=>e.jsxs("button",{onClick:l,className:`px-8 py-3.5 rounded-2xl text-sm font-black whitespace-nowrap transition-all flex items-center gap-3 border-2 ${a?"bg-violet-600 border-violet-600 text-white shadow-xl shadow-violet-100":"bg-white border-transparent text-gray-400 hover:text-gray-900 hover:border-gray-100"}`,children:[t,s!==void 0&&e.jsx("span",{className:`px-2 py-0.5 rounded-lg text-[10px] font-black ${a?"bg-white/20 text-white":"bg-gray-100 text-gray-500"}`,children:s})]}),HL=({id:t,type:s,name:a,date:l,time:i,location:o,trainer:d,status:x,onCancel:u,onReschedule:h,onClick:p})=>{const f=x==="Pending",b=x==="Cancelled",g=x==="Completed",j=()=>f?"text-amber-600 bg-amber-50/50 border-amber-100":g?"text-indigo-600 bg-indigo-50/50 border-indigo-100":b?"text-red-500 bg-red-50/50 border-red-100":"text-emerald-600 bg-emerald-50/50 border-emerald-100",A=()=>f?"bg-amber-400":b?"bg-red-400":g?"bg-indigo-400":"bg-emerald-500";return e.jsxs("div",{onClick:p,className:"group relative bg-white rounded-[32px] border border-gray-100 shadow-sm hover:shadow-2xl hover:shadow-violet-100/50 transition-all duration-300 overflow-hidden cursor-pointer hover:-translate-y-1",children:[e.jsx("div",{className:`absolute top-0 left-0 w-1.5 h-full ${A()} transition-all duration-300`}),e.jsxs("div",{className:"p-6 md:p-8 space-y-6 relative z-10",children:[e.jsx("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4 pl-3",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("span",{className:"px-3 py-1 rounded-full bg-violet-50 text-[10px] font-black uppercase tracking-wider text-violet-600 border border-violet-100",children:s}),e.jsx("div",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest border ${j()} transition-colors`,children:x})]}),e.jsx("h4",{className:"text-2xl font-black text-gray-900 tracking-tight leading-tight group-hover:text-violet-900 transition-colors",children:a})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-y-4 gap-x-8 pl-3",children:[e.jsx(xh,{icon:Ve,label:l}),e.jsx(xh,{icon:Qe,label:i}),e.jsx(xh,{icon:$s,label:o}),d&&e.jsx(xh,{icon:lt,label:d})]}),!b&&!g&&e.jsxs("div",{className:"pt-6 border-t border-gray-50 flex flex-col sm:flex-row gap-3 pl-3",onClick:w=>w.stopPropagation(),children:[e.jsx("button",{onClick:u,className:"flex-1 py-3.5 px-6 rounded-2xl text-xs font-black text-gray-400 hover:text-red-500 hover:bg-red-50 transition-all uppercase tracking-widest border-2 border-transparent",children:"Cancel"}),e.jsx("button",{onClick:h,className:"flex-1 py-3.5 px-6 rounded-2xl text-xs font-black text-violet-600 bg-violet-50 border-2 border-violet-100 hover:bg-violet-600 hover:text-white hover:border-violet-600 hover:shadow-lg hover:shadow-violet-200 transition-all uppercase tracking-widest",children:"Reschedule"})]})]}),e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-violet-50/50 to-transparent rounded-bl-[100px] -z-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e.jsx("div",{className:"absolute top-6 right-6 text-gray-200 group-hover:text-violet-200 group-hover:translate-x-1 transition-all duration-300",children:e.jsx(js,{size:24})})]})},xh=({icon:t,label:s})=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-violet-50 rounded-xl",children:e.jsx(t,{size:16,className:"text-violet-500"})}),e.jsx("span",{className:"text-sm font-bold text-gray-600",children:s})]}),WL=({name:t,sessions:s,icon:a,onClick:l})=>e.jsxs("div",{onClick:l,className:"flex items-center justify-between p-5 bg-gray-50 rounded-[28px] border-2 border-transparent hover:border-violet-100 hover:bg-white transition-all cursor-pointer group/item",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-violet-100 text-violet-600 flex items-center justify-center font-black text-lg group-hover/item:rotate-12 transition-transform",children:a}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-black text-gray-900",children:t}),e.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-wider",children:s})]})]}),e.jsx("div",{className:"p-2 bg-white rounded-xl shadow-sm text-gray-300 group-hover/item:text-violet-500 group-hover/item:scale-110 transition-all",children:e.jsx(wt,{size:16,strokeWidth:3})})]}),GL=()=>{const[t,s]=v.useState(null),[a,l]=v.useState(!0),i=async()=>{l(!0);try{const o=await AM();s(o)}catch(o){console.error("Failed to load profile for QR code:",o)}finally{l(!1)}};return v.useEffect(()=>{i()},[]),a||!t?e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:e.jsx(Q0,{className:"animate-spin text-violet-600",size:40})}):e.jsx("div",{className:"p-6 md:p-8 bg-gray-50 min-h-screen font-sans",children:e.jsxs("div",{className:"max-w-2xl mx-auto space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-3xl font-black text-gray-900 tracking-tight",children:"Quick Check-In"}),e.jsx("p",{className:"text-gray-500 font-medium mt-1",children:"Scan this code at the gym entrance to log your visit."})]}),e.jsxs("div",{className:"bg-white p-10 rounded-[40px] border border-gray-100 shadow-xl shadow-gray-200/50 flex flex-col items-center",children:[e.jsxs("div",{className:"w-64 h-64 bg-gray-50 rounded-[32px] p-8 border-2 border-dashed border-gray-200 flex items-center justify-center relative group",children:[e.jsx(cw,{size:160,className:"text-gray-800",strokeWidth:1.5}),e.jsx("div",{className:"absolute inset-0 bg-white/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center rounded-[32px]",children:e.jsx("button",{onClick:i,className:"bg-violet-600 text-white px-6 py-3 rounded-2xl font-black shadow-lg",children:"Refresh Code"})})]}),e.jsxs("div",{className:"mt-8 text-center space-y-2",children:[e.jsx("p",{className:"text-lg font-black text-gray-900",children:t.id}),e.jsx("p",{className:"text-sm text-gray-400 font-bold uppercase tracking-widest",children:t.name})]}),e.jsxs("div",{className:"mt-10 grid grid-cols-2 gap-4 w-full",children:[e.jsxs("div",{className:"p-4 bg-green-50 rounded-2xl border border-green-100 flex items-center gap-3",children:[e.jsx(Xn,{className:"text-green-600",size:24}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-green-700 uppercase",children:"Status"}),e.jsx("p",{className:"text-sm font-black text-green-900",children:t.status||"Active"})]})]}),e.jsxs("div",{className:"p-4 bg-blue-50 rounded-2xl border border-blue-100 flex items-center gap-3",children:[e.jsx(Qe,{className:"text-blue-600",size:24}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-blue-700 uppercase",children:"Late Entry"}),e.jsx("p",{className:"text-sm font-black text-blue-900",children:"Allowed"})]})]})]})]}),e.jsxs("div",{className:"bg-violet-50 p-6 rounded-[28px] flex items-start gap-4 border border-violet-100",children:[e.jsx("div",{className:"p-2 bg-white rounded-xl text-violet-600 shadow-sm",children:e.jsx(ua,{size:20,fill:"currentColor"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-violet-900",children:"Pro Tip"}),e.jsxs("p",{className:"text-xs text-violet-700 mt-1 leading-relaxed",children:["Checking in consistently helps you maintain your ",e.jsx("strong",{children:"Consistency Badge"})," and earn extra reward points!"]})]})]})]})})},VL=({isOpen:t,onClose:s,onSubmit:a,memberData:l})=>{const[i,o]=v.useState("Freeze Membership"),[d,x]=v.useState(""),[u,h]=v.useState(!1),p=async f=>{f.preventDefault(),h(!0);try{await a({type:i,reason:d}),x(""),s()}catch(b){console.error("Error submitting request:",b)}finally{h(!1)}};return e.jsx(rt,{isOpen:t,onClose:s,title:"Service Request",maxWidth:"max-w-md",footer:e.jsxs("div",{className:"flex gap-3 w-full",children:[e.jsx(Ut,{variant:"outline",onClick:s,className:"flex-1 py-3 rounded-xl border-slate-200 text-slate-600 font-bold",children:"Cancel"}),e.jsx(Ut,{form:"request-form",type:"submit",disabled:u||!d,className:"flex-1 py-3 rounded-xl bg-violet-600 hover:bg-violet-700 shadow-lg shadow-violet-200 border-transparent font-bold text-white flex items-center justify-center gap-2",children:u?"Sending...":e.jsxs(e.Fragment,{children:[e.jsx(Fc,{size:16})," Submit Request"]})})]}),children:e.jsxs("form",{id:"request-form",onSubmit:p,className:"p-8 space-y-8",children:[e.jsxs("div",{className:"bg-violet-50 p-6 rounded-[24px] border border-violet-100 flex gap-4 text-violet-800 text-sm font-medium leading-relaxed",children:[e.jsx(hs,{className:"shrink-0 text-violet-600",size:24}),e.jsx("p",{children:"Your request will be prioritized. Track status updates in your member activity feed."})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-[10px] font-black uppercase tracking-[0.2em] text-slate-400 px-1",children:"Request Category"}),e.jsxs("select",{className:"w-full h-14 px-6 rounded-2xl bg-slate-50 border-2 border-slate-100 focus:border-violet-500 outline-none font-bold text-sm transition-all text-slate-700",value:i,onChange:f=>o(f.target.value),children:[e.jsx("option",{value:"Freeze Membership",children:"Freeze Membership"}),e.jsx("option",{value:"Unfreeze Membership",children:"Unfreeze Membership"}),e.jsx("option",{value:"Request Trainer Change",children:"Trainer Change Request"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-[10px] font-black uppercase tracking-[0.2em] text-slate-400 px-1",children:"Reason for Request"}),e.jsx("textarea",{className:"w-full p-6 rounded-2xl bg-slate-50 border-2 border-slate-100 focus:border-violet-500 outline-none font-medium text-sm transition-all resize-none h-48 placeholder:text-slate-300 text-slate-700",placeholder:"Please elaborate on your request...",value:d,onChange:f=>x(f.target.value),required:!0})]}),i==="Freeze Membership"&&e.jsxs("div",{className:"p-5 rounded-2xl bg-amber-50/50 border border-amber-100 flex gap-3",children:[e.jsx("div",{className:"text-amber-500 shrink-0",children:e.jsx(hs,{size:18})}),e.jsx("p",{className:"text-[11px] text-amber-800 font-bold leading-normal uppercase tracking-wide",children:"Note: Fee terms and expiry extensions apply based on your specific plan."})]})]})})},YL=({isOpen:t,onClose:s,onSubmit:a,memberName:l})=>{const[i,o]=v.useState({startDate:"",endDate:"",reason:"Travel",notes:""}),[d,x]=v.useState(!1),u=["Medical","Travel","Personal","Other"],h=async p=>{p.preventDefault(),x(!0);try{await a(i),o({startDate:"",endDate:"",reason:"Travel",notes:""}),s()}catch(f){console.error("Error submitting freeze request:",f)}finally{x(!1)}};return e.jsx(rt,{isOpen:t,onClose:s,title:"Request Membership Freeze",subtitle:"Initiate a pause on your account benefits",maxWidth:"max-w-md",footer:e.jsxs("div",{className:"flex gap-3 w-full",children:[e.jsx(Ut,{variant:"outline",onClick:s,className:"flex-1 py-4 rounded-2xl border-slate-200 text-slate-600 font-black uppercase tracking-widest text-[10px]",children:"Cancel"}),e.jsx(Ut,{form:"freeze-request-form",type:"submit",disabled:d||!i.startDate||!i.endDate,className:"flex-1 py-4 rounded-2xl bg-orange-500 hover:bg-orange-600 shadow-xl shadow-orange-100 border-transparent font-black text-white text-[10px] uppercase tracking-widest flex items-center justify-center gap-2",children:d?"Processing...":"Submit Request"})]}),children:e.jsxs("form",{id:"freeze-request-form",onSubmit:h,className:"p-8 space-y-8",children:[e.jsxs("div",{className:"bg-orange-50 p-6 rounded-[28px] border border-orange-100 flex gap-4 text-orange-800 text-xs font-bold leading-relaxed shadow-sm",children:[e.jsx("div",{className:"p-2 bg-white rounded-xl text-orange-500 shadow-sm shrink-0",children:e.jsx(hs,{size:20})}),e.jsxs("p",{children:["Freezing your membership will pause access to all facilities and extend your billing cycle by the total duration of the freeze. ",e.jsx("span",{className:"text-orange-900 underline underline-offset-2",children:"Terms apply"}),"."]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-[10px] font-black uppercase tracking-[0.2em] text-slate-400 px-1",children:"Start Date"}),e.jsxs("div",{className:"relative group",children:[e.jsx("input",{type:"date",className:"w-full h-14 pl-12 pr-6 rounded-2xl bg-slate-50 border-2 border-slate-100 focus:border-orange-400 focus:bg-white outline-none font-bold text-sm transition-all text-slate-700",value:i.startDate,onChange:p=>o({...i,startDate:p.target.value}),required:!0}),e.jsx(Ve,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-orange-500 transition-colors",size:18})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-[10px] font-black uppercase tracking-[0.2em] text-slate-400 px-1",children:"End Date"}),e.jsxs("div",{className:"relative group",children:[e.jsx("input",{type:"date",className:"w-full h-14 pl-12 pr-6 rounded-2xl bg-slate-50 border-2 border-slate-100 focus:border-orange-400 focus:bg-white outline-none font-bold text-sm transition-all text-slate-700",value:i.endDate,onChange:p=>o({...i,endDate:p.target.value}),required:!0}),e.jsx(Ve,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-orange-500 transition-colors",size:18})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-[10px] font-black uppercase tracking-[0.2em] text-slate-400 px-1",children:"Primary Reason"}),e.jsx("select",{className:"w-full h-14 px-6 rounded-2xl bg-slate-50 border-2 border-slate-100 focus:border-orange-400 focus:bg-white outline-none font-bold text-sm transition-all text-slate-700 appearance-none",value:i.reason,onChange:p=>o({...i,reason:p.target.value}),children:u.map(p=>e.jsx("option",{value:p,children:p},p))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-[10px] font-black uppercase tracking-[0.2em] text-slate-400 px-1",children:"Additional Notes (Optional)"}),e.jsx("textarea",{className:"w-full p-6 rounded-2xl bg-slate-50 border-2 border-slate-100 focus:border-orange-400 focus:bg-white outline-none font-medium text-sm transition-all resize-none h-32 placeholder:text-slate-300 text-slate-700",placeholder:"Provide any additional details for our team...",value:i.notes,onChange:p=>o({...i,notes:p.target.value})})]}),e.jsxs("div",{className:"space-y-3 pt-2",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest pl-1",children:"Compliance Check"}),["Free of pending dues","Minimum 7 days duration","Standard freeze fee may apply"].map((p,f)=>e.jsxs("div",{className:"flex items-center gap-3 py-1",children:[e.jsx("div",{className:"w-5 h-5 rounded-full bg-emerald-50 flex items-center justify-center",children:e.jsx(Xt,{size:12,className:"text-emerald-500"})}),e.jsx("span",{className:"text-xs font-bold text-slate-600",children:p})]},f))]})]})})},XL=()=>{const[t,s]=v.useState(!1),[a,l]=v.useState(!1),[i,o]=v.useState(!1),[d,x]=v.useState(!1),[u,h]=v.useState(""),[p,f]=v.useState([]),[b,g]=v.useState({startDate:"",expiryDate:"",status:"",daysRemaining:0,freezeStatus:"No"});v.useEffect(()=>{(async()=>{try{const[N,P]=await Promise.all([kM(),SM()]);h(N.currentPlan||""),g(N),f(P||[])}catch(N){console.error("Failed to fetch membership info:",N)}})()},[]);const j=()=>{l(!0)},A=async()=>{s(!0);try{await hM("Gold Plan"),h("Gold Plan"),l(!1)}catch(L){console.error("Error upgrading plan:",L),alert("Failed to upgrade plan.")}finally{s(!1)}},w=async L=>{if(p.some(_=>_.rawType==="Freeze"&&(_.status==="Pending"||_.status==="Pending Approval")))return;const P=_=>new Date(_).toLocaleDateString("en-US",{month:"short",day:"numeric"});try{const _={type:"Freeze Request",details:`${P(L.startDate)}  ${P(L.endDate)}`,status:"Pending Approval",date:new Date().toISOString().split("T")[0],rawType:"Freeze"},F=await ry(_);f([F.request,...p])}catch(_){console.error("Failed to submit freeze request",_)}},k=async()=>{if(window.confirm("Are you sure you want to cancel your membership? This action cannot be undone.")){s(!0);try{await mM(),h("Cancelled"),alert("Membership cancelled successfully.")}catch(L){console.error("Error cancelling membership:",L),alert("Failed to cancel membership.")}finally{s(!1)}}},C=p.some(L=>L.rawType==="Freeze"&&(L.status==="Pending"||L.status==="Pending Approval"));return e.jsxs("div",{className:"p-3 md:p-8 bg-gray-50 min-h-screen font-sans",children:[e.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-black text-gray-900 tracking-tight",children:"My Membership"}),e.jsx("p",{className:"text-gray-500 font-medium mt-1",children:"Manage your plan, billing, and membership benefits."})]}),e.jsxs("div",{className:"bg-gradient-to-br from-violet-600 to-indigo-700 rounded-[32px] shadow-2xl shadow-violet-200 overflow-hidden relative",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full -mr-16 -mt-16 blur-3xl"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-black/10 rounded-full -ml-10 -mb-10 blur-2xl"}),e.jsxs("div",{className:"p-5 md:p-10 relative z-10 text-white",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"inline-flex items-center px-4 py-1.5 rounded-full bg-white/20 backdrop-blur-md text-white text-[10px] font-black uppercase tracking-wider border border-white/10",children:"Active Plan"}),e.jsx("h2",{className:"text-4xl md:text-5xl font-black text-white tracking-tight",children:u}),e.jsx("p",{className:"text-violet-100 font-medium max-w-sm text-lg leading-relaxed",children:u==="Gold Plan"?"Full access to all facilities, premium classes, and exclusive recovery lounge.":"Access to all gym facilities, group classes, and locker rooms during standard hours."})]}),e.jsxs("div",{className:"text-right space-y-1",children:[e.jsx("p",{className:"text-[10px] font-bold text-violet-200 uppercase tracking-widest",children:"Next Billing"}),e.jsx("p",{className:"text-2xl font-black text-white",children:b.expiryDate||"N/A"}),e.jsxs("p",{className:"text-white/80 font-bold text-sm",children:["",b.price?.toLocaleString()," / month"]})]})]}),e.jsxs("div",{className:"mt-12 grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(Jp,{icon:Xt,label:"24/7 Gym Access",dark:!0}),e.jsx(Jp,{icon:Xt,label:"Locker Facility",dark:!0}),e.jsx(Jp,{icon:Xt,label:u.includes("Gold")?"Unlimited Classes":"Standard Classes",dark:!0})]}),e.jsxs("div",{className:"mt-12 flex flex-wrap gap-4",children:[u!=="Gold Plan"&&e.jsxs("button",{onClick:j,disabled:t,className:"px-8 py-4 bg-white text-violet-600 rounded-2xl font-black shadow-lg hover:bg-gray-50 transition-all flex items-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed uppercase tracking-widest text-xs",children:["Upgrade Plan ",e.jsx(jl,{size:16})]}),e.jsx("button",{onClick:k,disabled:t,className:"px-8 py-4 bg-white/10 border border-white/20 text-white rounded-2xl font-black hover:bg-white/20 transition-all disabled:opacity-70 disabled:cursor-not-allowed uppercase tracking-widest text-xs backdrop-blur-md",children:t?"Processing...":"Cancel Membership"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs(is,{className:"p-8 space-y-6 shadow-xl shadow-slate-200/50 border-none rounded-[32px]",children:[e.jsxs("h3",{className:"text-xl font-black text-gray-900 flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-amber-50 rounded-lg",children:e.jsx(Wl,{className:"text-amber-500 fill-amber-500",size:20})}),"Membership Details"]}),e.jsxs("div",{className:"space-y-4 text-sm font-bold",children:[[{label:"Plan Name",value:u},{label:"Start Date",value:b.startDate},{label:"Expiry Date",value:b.expiryDate},{label:"Remaining Days",value:`${b.daysRemaining} Days`,highlight:!0},{label:"Freeze Status",value:b.freezeStatus}].map((L,N)=>e.jsxs("div",{className:"flex justify-between py-3 border-b border-slate-50 text-slate-500",children:[e.jsx("span",{children:L.label}),e.jsx("span",{className:L.highlight?"text-violet-600 font-black":"text-slate-900",children:L.value})]},N)),e.jsxs("div",{className:"flex justify-between py-3 text-slate-500",children:[e.jsx("span",{children:"Status Badge"}),e.jsx("span",{className:`px-4 py-1 rounded-full text-[10px] font-black uppercase tracking-widest ${b.status==="Active"?"bg-emerald-100 text-emerald-700":"bg-amber-100 text-amber-700"}`,children:b.status})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-slate-50",children:[e.jsxs(Ut,{variant:"outline",className:"w-full py-4 text-[10px] tracking-[0.15em] font-black",onClick:()=>o(!0),disabled:C,children:[e.jsx(qh,{size:16})," ",C&&b.freezeStatus==="No"?"FREEZE PENDING":"FREEZE"]}),e.jsxs(Ut,{variant:"outline",className:"w-full py-4 text-[10px] tracking-[0.15em] font-black",onClick:()=>x(!0),children:[e.jsx(ow,{size:16})," SERVICE"]})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs(is,{className:"p-8 space-y-6 shadow-xl shadow-slate-200/50 border-none rounded-[32px] bg-gradient-to-br from-white to-slate-50/30",children:[e.jsxs("h3",{className:"text-xl font-black text-gray-900 flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-indigo-50 rounded-lg text-indigo-600",children:e.jsx(ua,{size:20})}),"Service Requests"]}),e.jsx("p",{className:"text-sm font-medium text-slate-500 leading-relaxed italic",children:"Perform account actions directly. Approval times vary by branch."}),e.jsxs(Ut,{onClick:()=>o(!0),disabled:C,className:`w-full py-5 rounded-2xl flex items-center justify-center gap-3 font-black uppercase tracking-widest text-xs transition-all shadow-lg ${C?"bg-slate-100 text-slate-400 border-slate-200 cursor-not-allowed shadow-none":"bg-indigo-600 hover:bg-indigo-700 text-white shadow-indigo-100"}`,children:[e.jsx(qh,{size:18}),C?"Freeze Request Pending":"Request Membership Freeze"]})]}),e.jsxs(is,{className:"p-8 space-y-6 flex flex-col shadow-xl shadow-slate-200/50 border-none rounded-[32px]",children:[e.jsxs("h3",{className:"text-xl font-black text-gray-900 flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-slate-100 rounded-lg text-slate-500",children:e.jsx(yl,{size:20})}),"Recent Requests"]}),e.jsx("div",{className:"flex-1 space-y-3 overflow-y-auto max-h-[300px] pr-2 custom-scrollbar",children:p.length===0?e.jsx("div",{className:"py-10 text-center",children:e.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"No recent activity"})}):p.map(L=>e.jsxs("div",{className:"p-5 rounded-[24px] bg-slate-50/50 border border-slate-100 flex items-center justify-between group hover:bg-white hover:shadow-lg hover:shadow-slate-100 transition-all",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{className:"font-black text-slate-900 text-[13px] tracking-tight flex items-center gap-2 uppercase",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-300 group-hover:bg-indigo-500 transition-colors"}),L.type]}),e.jsx("p",{className:"text-[10px] font-bold text-slate-400 tracking-wide pl-3.5 uppercase",children:L.details})]}),e.jsx("div",{className:"text-right",children:e.jsx("span",{className:`px-3 py-1.5 rounded-lg text-[9px] font-black uppercase tracking-widest shadow-sm border ${L.status.includes("Approved")||L.status==="Approved"?"bg-emerald-50 text-emerald-600 border-emerald-100":L.status.includes("Rejected")?"bg-rose-50 text-rose-600 border-rose-100":"bg-amber-50 text-amber-600 border-amber-100"}`,children:L.status==="Pending Approval"?"Pending":L.status})})]},L.id))})]})]})]}),e.jsxs("div",{className:"bg-slate-900 p-8 rounded-[32px] text-white flex flex-col md:flex-row gap-8 items-center justify-between relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-indigo-500/10 rounded-full blur-2xl"}),e.jsxs("div",{className:"space-y-4 relative z-10",children:[e.jsxs("h3",{className:"text-xl font-black flex items-center gap-2 text-indigo-300",children:[e.jsx(Xn,{size:20})," Safety & Rules"]}),e.jsxs("ul",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-3 text-sm text-slate-400",children:[e.jsxs("li",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-indigo-500 rounded-full"})," Always carry your workout towel"]}),e.jsxs("li",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-indigo-500 rounded-full"})," Use proper gym attire at all times"]}),e.jsxs("li",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-indigo-500 rounded-full"})," Respect others and put back weights"]}),e.jsxs("li",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-indigo-500 rounded-full"})," Mobile usage is restricted in workout zones"]})]})]}),e.jsx("button",{className:"whitespace-nowrap bg-white/10 border border-white/20 px-6 py-3 rounded-xl text-indigo-300 text-xs font-black hover:bg-white/20 transition-all uppercase tracking-widest relative z-10",children:"Full Terms"})]})]}),e.jsx(VL,{isOpen:d,onClose:()=>x(!1),onSubmit:async L=>{try{const N={type:L.type,details:L.reason,status:"Pending",date:new Date().toISOString().split("T")[0],rawType:"General"},P=await ry(N);f([P.request,...p])}catch(N){console.error("Failed to submit service request",N)}}}),e.jsx(YL,{isOpen:i,onClose:()=>o(!1),onSubmit:w}),e.jsx(rt,{isOpen:a,onClose:()=>l(!1),title:"Upgrade Membership",maxWidth:"max-w-md",children:e.jsxs("div",{className:"p-8 space-y-8",children:[e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-[32px] bg-violet-100 text-violet-600 shadow-lg shadow-violet-100/50",children:e.jsx(ua,{size:36,fill:"currentColor"})}),e.jsx("h3",{className:"text-3xl font-black text-gray-900 tracking-tight leading-8",children:"Level Up to Gold"}),e.jsx("p",{className:"text-gray-500 font-medium text-sm leading-relaxed px-4",children:"Elevate your fitness journey with premium perks and dedicated training resources."})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-6 rounded-[28px] bg-violet-50 border-2 border-violet-100 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-violet-400 uppercase tracking-[0.2em] mb-1",children:"New Pricing"}),e.jsxs("p",{className:"text-xl font-black text-gray-900",children:["4,999",e.jsx("span",{className:"text-sm font-bold opacity-40",children:"/mo"})]})]}),e.jsx("div",{className:"px-3 py-1 bg-violet-600 rounded-full text-[10px] font-black text-white uppercase tracking-widest",children:"Best Value"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"What's Included"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(Kp,{text:"Unlimited Group Classes"}),e.jsx(Kp,{text:"Free Personal Training Session"}),e.jsx(Kp,{text:"Exclusive Spa & Sauna Access"})]})]})]}),e.jsxs("div",{className:"flex flex-col gap-4 pt-4",children:[e.jsx("button",{onClick:A,disabled:t,className:"w-full py-5 bg-violet-600 text-white rounded-[24px] font-black shadow-xl shadow-violet-200 hover:bg-violet-700 hover:scale-[1.02] active:scale-95 transition-all flex items-center justify-center gap-3 uppercase tracking-widest",children:t?e.jsx(Q0,{className:"animate-spin",size:20}):"Confirm Upgrade"}),e.jsx("button",{onClick:()=>l(!1),disabled:t,className:"w-full py-4 text-gray-400 font-black text-xs hover:text-gray-900 transition-colors uppercase tracking-[0.2em]",children:"Back to Dashboard"})]})]})})]})},Kp=({text:t})=>e.jsxs("div",{className:"flex items-center gap-3 py-1",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-emerald-50 flex items-center justify-center",children:e.jsx(Xt,{size:14,className:"text-emerald-500"})}),e.jsx("span",{className:"text-sm font-bold text-gray-600",children:t})]}),Jp=({icon:t,label:s,dark:a})=>e.jsxs("div",{className:`flex items-center gap-3 p-4 rounded-2xl border ${a?"bg-white/10 border-white/10":"bg-gray-50 border-gray-100"}`,children:[e.jsx("div",{className:`p-2 rounded-xl ${a?"bg-white/20 text-white":"bg-green-50 text-green-600"}`,children:e.jsx(t,{size:16})}),e.jsx("span",{className:`text-sm font-bold ${a?"text-white":"text-gray-700"}`,children:s})]});function Ks(t){"@babel/helpers - typeof";return Ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},Ks(t)}var Li=Uint8Array,jn=Uint16Array,Rg=Int32Array,Og=new Li([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Fg=new Li([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),jy=new Li([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Jw=function(t,s){for(var a=new jn(31),l=0;l<31;++l)a[l]=s+=1<<t[l-1];for(var i=new Rg(a[30]),l=1;l<30;++l)for(var o=a[l];o<a[l+1];++o)i[o]=o-a[l]<<5|l;return{b:a,r:i}},Qw=Jw(Og,2),KL=Qw.b,Uf=Qw.r;KL[28]=258,Uf[258]=28;var JL=Jw(Fg,0),wy=JL.r,$f=new jn(32768);for(var ya=0;ya<32768;++ya){var Ac=(ya&43690)>>1|(ya&21845)<<1;Ac=(Ac&52428)>>2|(Ac&13107)<<2,Ac=(Ac&61680)>>4|(Ac&3855)<<4,$f[ya]=((Ac&65280)>>8|(Ac&255)<<8)>>1}var Wx=(function(t,s,a){for(var l=t.length,i=0,o=new jn(s);i<l;++i)t[i]&&++o[t[i]-1];var d=new jn(s);for(i=1;i<s;++i)d[i]=d[i-1]+o[i-1]<<1;var x;if(a){x=new jn(1<<s);var u=15-s;for(i=0;i<l;++i)if(t[i])for(var h=i<<4|t[i],p=s-t[i],f=d[t[i]-1]++<<p,b=f|(1<<p)-1;f<=b;++f)x[$f[f]>>u]=h}else for(x=new jn(l),i=0;i<l;++i)t[i]&&(x[i]=$f[d[t[i]-1]++]>>15-t[i]);return x}),Ld=new Li(288);for(var ya=0;ya<144;++ya)Ld[ya]=8;for(var ya=144;ya<256;++ya)Ld[ya]=9;for(var ya=256;ya<280;++ya)Ld[ya]=7;for(var ya=280;ya<288;++ya)Ld[ya]=8;var Xh=new Li(32);for(var ya=0;ya<32;++ya)Xh[ya]=5;var QL=Wx(Ld,9,0),ZL=Wx(Xh,5,0),Zw=function(t){return(t+7)/8|0},ez=function(t,s,a){return(a==null||a>t.length)&&(a=t.length),new Li(t.subarray(s,a))},Po=function(t,s,a){a<<=s&7;var l=s/8|0;t[l]|=a,t[l+1]|=a>>8},Ux=function(t,s,a){a<<=s&7;var l=s/8|0;t[l]|=a,t[l+1]|=a>>8,t[l+2]|=a>>16},Qp=function(t,s){for(var a=[],l=0;l<t.length;++l)t[l]&&a.push({s:l,f:t[l]});var i=a.length,o=a.slice();if(!i)return{t:tN,l:0};if(i==1){var d=new Li(a[0].s+1);return d[a[0].s]=1,{t:d,l:1}}a.sort(function(P,_){return P.f-_.f}),a.push({s:-1,f:25001});var x=a[0],u=a[1],h=0,p=1,f=2;for(a[0]={s:-1,f:x.f+u.f,l:x,r:u};p!=i-1;)x=a[a[h].f<a[f].f?h++:f++],u=a[h!=p&&a[h].f<a[f].f?h++:f++],a[p++]={s:-1,f:x.f+u.f,l:x,r:u};for(var b=o[0].s,l=1;l<i;++l)o[l].s>b&&(b=o[l].s);var g=new jn(b+1),j=qf(a[p-1],g,0);if(j>s){var l=0,A=0,w=j-s,k=1<<w;for(o.sort(function(_,F){return g[F.s]-g[_.s]||_.f-F.f});l<i;++l){var C=o[l].s;if(g[C]>s)A+=k-(1<<j-g[C]),g[C]=s;else break}for(A>>=w;A>0;){var L=o[l].s;g[L]<s?A-=1<<s-g[L]++-1:++l}for(;l>=0&&A;--l){var N=o[l].s;g[N]==s&&(--g[N],++A)}j=s}return{t:new Li(g),l:j}},qf=function(t,s,a){return t.s==-1?Math.max(qf(t.l,s,a+1),qf(t.r,s,a+1)):s[t.s]=a},Ny=function(t){for(var s=t.length;s&&!t[--s];);for(var a=new jn(++s),l=0,i=t[0],o=1,d=function(u){a[l++]=u},x=1;x<=s;++x)if(t[x]==i&&x!=s)++o;else{if(!i&&o>2){for(;o>138;o-=138)d(32754);o>2&&(d(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(d(i),--o;o>6;o-=6)d(8304);o>2&&(d(o-3<<5|8208),o=0)}for(;o--;)d(i);o=1,i=t[x]}return{c:a.subarray(0,l),n:s}},$x=function(t,s){for(var a=0,l=0;l<s.length;++l)a+=t[l]*s[l];return a},eN=function(t,s,a){var l=a.length,i=Zw(s+2);t[i]=l&255,t[i+1]=l>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var o=0;o<l;++o)t[i+o+4]=a[o];return(i+4+l)*8},ky=function(t,s,a,l,i,o,d,x,u,h,p){Po(s,p++,a),++i[256];for(var f=Qp(i,15),b=f.t,g=f.l,j=Qp(o,15),A=j.t,w=j.l,k=Ny(b),C=k.c,L=k.n,N=Ny(A),P=N.c,_=N.n,F=new jn(19),R=0;R<C.length;++R)++F[C[R]&31];for(var R=0;R<P.length;++R)++F[P[R]&31];for(var B=Qp(F,7),T=B.t,q=B.l,H=19;H>4&&!T[jy[H-1]];--H);var G=h+5<<3,W=$x(i,Ld)+$x(o,Xh)+d,le=$x(i,b)+$x(o,A)+d+14+3*H+$x(F,T)+2*F[16]+3*F[17]+7*F[18];if(u>=0&&G<=W&&G<=le)return eN(s,p,t.subarray(u,u+h));var V,ne,I,oe;if(Po(s,p,1+(le<W)),p+=2,le<W){V=Wx(b,g,0),ne=b,I=Wx(A,w,0),oe=A;var Ne=Wx(T,q,0);Po(s,p,L-257),Po(s,p+5,_-1),Po(s,p+10,H-4),p+=14;for(var R=0;R<H;++R)Po(s,p+3*R,T[jy[R]]);p+=3*H;for(var Y=[C,P],$=0;$<2;++$)for(var Q=Y[$],R=0;R<Q.length;++R){var ae=Q[R]&31;Po(s,p,Ne[ae]),p+=T[ae],ae>15&&(Po(s,p,Q[R]>>5&127),p+=Q[R]>>12)}}else V=QL,ne=Ld,I=ZL,oe=Xh;for(var R=0;R<x;++R){var ue=l[R];if(ue>255){var ae=ue>>18&31;Ux(s,p,V[ae+257]),p+=ne[ae+257],ae>7&&(Po(s,p,ue>>23&31),p+=Og[ae]);var me=ue&31;Ux(s,p,I[me]),p+=oe[me],me>3&&(Ux(s,p,ue>>5&8191),p+=Fg[me])}else Ux(s,p,V[ue]),p+=ne[ue]}return Ux(s,p,V[256]),p+ne[256]},tz=new Rg([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),tN=new Li(0),sz=function(t,s,a,l,i,o){var d=o.z||t.length,x=new Li(l+d+5*(1+Math.ceil(d/7e3))+i),u=x.subarray(l,x.length-i),h=o.l,p=(o.r||0)&7;if(s){p&&(u[0]=o.r>>3);for(var f=tz[s-1],b=f>>13,g=f&8191,j=(1<<a)-1,A=o.p||new jn(32768),w=o.h||new jn(j+1),k=Math.ceil(a/3),C=2*k,L=function(xe){return(t[xe]^t[xe+1]<<k^t[xe+2]<<C)&j},N=new Rg(25e3),P=new jn(288),_=new jn(32),F=0,R=0,B=o.i||0,T=0,q=o.w||0,H=0;B+2<d;++B){var G=L(B),W=B&32767,le=w[G];if(A[W]=le,w[G]=W,q<=B){var V=d-B;if((F>7e3||T>24576)&&(V>423||!h)){p=ky(t,u,0,N,P,_,R,T,H,B-H,p),T=F=R=0,H=B;for(var ne=0;ne<286;++ne)P[ne]=0;for(var ne=0;ne<30;++ne)_[ne]=0}var I=2,oe=0,Ne=g,Y=W-le&32767;if(V>2&&G==L(B-Y))for(var $=Math.min(b,V)-1,Q=Math.min(32767,B),ae=Math.min(258,V);Y<=Q&&--Ne&&W!=le;){if(t[B+I]==t[B+I-Y]){for(var ue=0;ue<ae&&t[B+ue]==t[B+ue-Y];++ue);if(ue>I){if(I=ue,oe=Y,ue>$)break;for(var me=Math.min(Y,ue-2),be=0,ne=0;ne<me;++ne){var he=B-Y+ne&32767,we=A[he],_e=he-we&32767;_e>be&&(be=_e,le=he)}}}W=le,le=A[W],Y+=W-le&32767}if(oe){N[T++]=268435456|Uf[I]<<18|wy[oe];var $e=Uf[I]&31,Ke=wy[oe]&31;R+=Og[$e]+Fg[Ke],++P[257+$e],++_[Ke],q=B+I,++F}else N[T++]=t[B],++P[t[B]]}}for(B=Math.max(B,q);B<d;++B)N[T++]=t[B],++P[t[B]];p=ky(t,u,h,N,P,_,R,T,H,B-H,p),h||(o.r=p&7|u[p/8|0]<<3,p-=7,o.h=w,o.p=A,o.i=B,o.w=q)}else{for(var B=o.w||0;B<d+h;B+=65535){var et=B+65535;et>=d&&(u[p/8|0]=h,et=d),p=eN(u,p+1,t.subarray(B,et))}o.i=d}return ez(x,0,l+Zw(p)+i)},sN=function(){var t=1,s=0;return{p:function(a){for(var l=t,i=s,o=a.length|0,d=0;d!=o;){for(var x=Math.min(d+2655,o);d<x;++d)i+=l+=a[d];l=(l&65535)+15*(l>>16),i=(i&65535)+15*(i>>16)}t=l,s=i},d:function(){return t%=65521,s%=65521,(t&255)<<24|(t&65280)<<8|(s&255)<<8|s>>8}}},az=function(t,s,a,l,i){if(!i&&(i={l:1},s.dictionary)){var o=s.dictionary.subarray(-32768),d=new Li(o.length+t.length);d.set(o),d.set(t,o.length),t=d,i.w=o.length}return sz(t,s.level==null?6:s.level,s.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+s.mem,a,l,i)},aN=function(t,s,a){for(;a;++s)t[s]=a,a>>>=8},rz=function(t,s){var a=s.level,l=a==0?0:a<6?1:a==9?3:2;if(t[0]=120,t[1]=l<<6|(s.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,s.dictionary){var i=sN();i.p(s.dictionary),aN(t,2,i.d())}};function Hf(t,s){s||(s={});var a=sN();a.p(t);var l=az(t,s,s.dictionary?6:2,4);return rz(l,s),aN(l,l.length-4,a.d()),l}var lz=typeof TextDecoder<"u"&&new TextDecoder,nz=0;try{lz.decode(tN,{stream:!0}),nz=1}catch{}function iz(t){if(Array.isArray(t))return t}function oz(t,s){var a=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(a!=null){var l,i,o,d,x=[],u=!0,h=!1;try{if(o=(a=a.call(t)).next,s!==0)for(;!(u=(l=o.call(a)).done)&&(x.push(l.value),x.length!==s);u=!0);}catch(p){h=!0,i=p}finally{try{if(!u&&a.return!=null&&(d=a.return(),Object(d)!==d))return}finally{if(h)throw i}}return x}}function Sy(t,s){(s==null||s>t.length)&&(s=t.length);for(var a=0,l=Array(s);a<s;a++)l[a]=t[a];return l}function cz(t,s){if(t){if(typeof t=="string")return Sy(t,s);var a={}.toString.call(t).slice(8,-1);return a==="Object"&&t.constructor&&(a=t.constructor.name),a==="Map"||a==="Set"?Array.from(t):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Sy(t,s):void 0}}function dz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cy(t,s){return iz(t)||oz(t,s)||cz(t,s)||dz()}function Ay(t,s="utf8"){return new TextDecoder(s).decode(t)}const xz=new TextEncoder;function uz(t){return xz.encode(t)}const hz=1024*8,mz=(()=>{const t=new Uint8Array(4),s=new Uint32Array(t.buffer);return!((s[0]=1)&t[0])})(),Zp={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Ig{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(s=hz,a={}){let l=!1;typeof s=="number"?s=new ArrayBuffer(s):(l=!0,this.lastWrittenByte=s.byteLength);const i=a.offset?a.offset>>>0:0,o=s.byteLength-i;let d=i;(ArrayBuffer.isView(s)||s instanceof Ig)&&(s.byteLength!==s.buffer.byteLength&&(d=s.byteOffset+i),s=s.buffer),l?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=s,this.length=o,this.byteLength=o,this.byteOffset=d,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,d,o),this._mark=0,this._marks=[]}available(s=1){return this.offset+s<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(s=1){return this.offset+=s,this}back(s=1){return this.offset-=s,this}seek(s){return this.offset=s,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const s=this._marks.pop();if(s===void 0)throw new Error("Mark stack empty");return this.seek(s),this}rewind(){return this.offset=0,this}ensureAvailable(s=1){if(!this.available(s)){const l=(this.offset+s)*2,i=new Uint8Array(l);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=l,this.byteLength=l,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(s=1){return this.readArray(s,"uint8")}readArray(s,a){const l=Zp[a].BYTES_PER_ELEMENT*s,i=this.byteOffset+this.offset,o=this.buffer.slice(i,i+l);if(this.littleEndian===mz&&a!=="uint8"&&a!=="int8"){const x=new Uint8Array(this.buffer.slice(i,i+l));x.reverse();const u=new Zp[a](x.buffer);return this.offset+=l,u.reverse(),u}const d=new Zp[a](o);return this.offset+=l,d}readInt16(){const s=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,s}readUint16(){const s=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,s}readInt32(){const s=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,s}readUint32(){const s=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,s}readFloat32(){const s=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,s}readFloat64(){const s=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,s}readBigInt64(){const s=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,s}readBigUint64(){const s=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,s}readChar(){return String.fromCharCode(this.readInt8())}readChars(s=1){let a="";for(let l=0;l<s;l++)a+=this.readChar();return a}readUtf8(s=1){return Ay(this.readBytes(s))}decodeText(s=1,a="utf8"){return Ay(this.readBytes(s),a)}writeBoolean(s){return this.writeUint8(s?255:0),this}writeInt8(s){return this.ensureAvailable(1),this._data.setInt8(this.offset++,s),this._updateLastWrittenByte(),this}writeUint8(s){return this.ensureAvailable(1),this._data.setUint8(this.offset++,s),this._updateLastWrittenByte(),this}writeByte(s){return this.writeUint8(s)}writeBytes(s){this.ensureAvailable(s.length);for(let a=0;a<s.length;a++)this._data.setUint8(this.offset++,s[a]);return this._updateLastWrittenByte(),this}writeInt16(s){return this.ensureAvailable(2),this._data.setInt16(this.offset,s,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(s){return this.ensureAvailable(2),this._data.setUint16(this.offset,s,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(s){return this.ensureAvailable(4),this._data.setInt32(this.offset,s,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(s){return this.ensureAvailable(4),this._data.setUint32(this.offset,s,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(s){return this.ensureAvailable(4),this._data.setFloat32(this.offset,s,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(s){return this.ensureAvailable(8),this._data.setFloat64(this.offset,s,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(s){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,s,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(s){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,s,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(s){return this.writeUint8(s.charCodeAt(0))}writeChars(s){for(let a=0;a<s.length;a++)this.writeUint8(s.charCodeAt(a));return this}writeUtf8(s){return this.writeBytes(uz(s))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function ex(t){let s=t.length;for(;--s>=0;)t[s]=0}const pz=3,fz=258,rN=29,gz=256,bz=gz+1+rN,lN=30,vz=512,yz=new Array((bz+2)*2);ex(yz);const jz=new Array(lN*2);ex(jz);const wz=new Array(vz);ex(wz);const Nz=new Array(fz-pz+1);ex(Nz);const kz=new Array(rN);ex(kz);const Sz=new Array(lN);ex(Sz);const Cz=(t,s,a,l)=>{let i=t&65535|0,o=t>>>16&65535|0,d=0;for(;a!==0;){d=a>2e3?2e3:a,a-=d;do i=i+s[l++]|0,o=o+i|0;while(--d);i%=65521,o%=65521}return i|o<<16|0};var Wf=Cz;const Az=()=>{let t,s=[];for(var a=0;a<256;a++){t=a;for(var l=0;l<8;l++)t=t&1?3988292384^t>>>1:t>>>1;s[a]=t}return s},Dz=new Uint32Array(Az()),Mz=(t,s,a,l)=>{const i=Dz,o=l+a;t^=-1;for(let d=l;d<o;d++)t=t>>>8^i[(t^s[d])&255];return t^-1};var eo=Mz,Gf={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},nN={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const Lz=(t,s)=>Object.prototype.hasOwnProperty.call(t,s);var zz=function(t){const s=Array.prototype.slice.call(arguments,1);for(;s.length;){const a=s.shift();if(a){if(typeof a!="object")throw new TypeError(a+"must be non-object");for(const l in a)Lz(a,l)&&(t[l]=a[l])}}return t},Ez=t=>{let s=0;for(let l=0,i=t.length;l<i;l++)s+=t[l].length;const a=new Uint8Array(s);for(let l=0,i=0,o=t.length;l<o;l++){let d=t[l];a.set(d,i),i+=d.length}return a},iN={assign:zz,flattenChunks:Ez};let oN=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{oN=!1}const Zx=new Uint8Array(256);for(let t=0;t<256;t++)Zx[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Zx[254]=Zx[254]=1;var Tz=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let s,a,l,i,o,d=t.length,x=0;for(i=0;i<d;i++)a=t.charCodeAt(i),(a&64512)===55296&&i+1<d&&(l=t.charCodeAt(i+1),(l&64512)===56320&&(a=65536+(a-55296<<10)+(l-56320),i++)),x+=a<128?1:a<2048?2:a<65536?3:4;for(s=new Uint8Array(x),o=0,i=0;o<x;i++)a=t.charCodeAt(i),(a&64512)===55296&&i+1<d&&(l=t.charCodeAt(i+1),(l&64512)===56320&&(a=65536+(a-55296<<10)+(l-56320),i++)),a<128?s[o++]=a:a<2048?(s[o++]=192|a>>>6,s[o++]=128|a&63):a<65536?(s[o++]=224|a>>>12,s[o++]=128|a>>>6&63,s[o++]=128|a&63):(s[o++]=240|a>>>18,s[o++]=128|a>>>12&63,s[o++]=128|a>>>6&63,s[o++]=128|a&63);return s};const _z=(t,s)=>{if(s<65534&&t.subarray&&oN)return String.fromCharCode.apply(null,t.length===s?t:t.subarray(0,s));let a="";for(let l=0;l<s;l++)a+=String.fromCharCode(t[l]);return a};var Pz=(t,s)=>{const a=s||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,s));let l,i;const o=new Array(a*2);for(i=0,l=0;l<a;){let d=t[l++];if(d<128){o[i++]=d;continue}let x=Zx[d];if(x>4){o[i++]=65533,l+=x-1;continue}for(d&=x===2?31:x===3?15:7;x>1&&l<a;)d=d<<6|t[l++]&63,x--;if(x>1){o[i++]=65533;continue}d<65536?o[i++]=d:(d-=65536,o[i++]=55296|d>>10&1023,o[i++]=56320|d&1023)}return _z(o,i)},Rz=(t,s)=>{s=s||t.length,s>t.length&&(s=t.length);let a=s-1;for(;a>=0&&(t[a]&192)===128;)a--;return a<0||a===0?s:a+Zx[t[a]]>s?a:s},Vf={string2buf:Tz,buf2string:Pz,utf8border:Rz};function Oz(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Fz=Oz;const uh=16209,Iz=16191;var Bz=function(s,a){let l,i,o,d,x,u,h,p,f,b,g,j,A,w,k,C,L,N,P,_,F,R,B,T;const q=s.state;l=s.next_in,B=s.input,i=l+(s.avail_in-5),o=s.next_out,T=s.output,d=o-(a-s.avail_out),x=o+(s.avail_out-257),u=q.dmax,h=q.wsize,p=q.whave,f=q.wnext,b=q.window,g=q.hold,j=q.bits,A=q.lencode,w=q.distcode,k=(1<<q.lenbits)-1,C=(1<<q.distbits)-1;e:do{j<15&&(g+=B[l++]<<j,j+=8,g+=B[l++]<<j,j+=8),L=A[g&k];t:for(;;){if(N=L>>>24,g>>>=N,j-=N,N=L>>>16&255,N===0)T[o++]=L&65535;else if(N&16){P=L&65535,N&=15,N&&(j<N&&(g+=B[l++]<<j,j+=8),P+=g&(1<<N)-1,g>>>=N,j-=N),j<15&&(g+=B[l++]<<j,j+=8,g+=B[l++]<<j,j+=8),L=w[g&C];s:for(;;){if(N=L>>>24,g>>>=N,j-=N,N=L>>>16&255,N&16){if(_=L&65535,N&=15,j<N&&(g+=B[l++]<<j,j+=8,j<N&&(g+=B[l++]<<j,j+=8)),_+=g&(1<<N)-1,_>u){s.msg="invalid distance too far back",q.mode=uh;break e}if(g>>>=N,j-=N,N=o-d,_>N){if(N=_-N,N>p&&q.sane){s.msg="invalid distance too far back",q.mode=uh;break e}if(F=0,R=b,f===0){if(F+=h-N,N<P){P-=N;do T[o++]=b[F++];while(--N);F=o-_,R=T}}else if(f<N){if(F+=h+f-N,N-=f,N<P){P-=N;do T[o++]=b[F++];while(--N);if(F=0,f<P){N=f,P-=N;do T[o++]=b[F++];while(--N);F=o-_,R=T}}}else if(F+=f-N,N<P){P-=N;do T[o++]=b[F++];while(--N);F=o-_,R=T}for(;P>2;)T[o++]=R[F++],T[o++]=R[F++],T[o++]=R[F++],P-=3;P&&(T[o++]=R[F++],P>1&&(T[o++]=R[F++]))}else{F=o-_;do T[o++]=T[F++],T[o++]=T[F++],T[o++]=T[F++],P-=3;while(P>2);P&&(T[o++]=T[F++],P>1&&(T[o++]=T[F++]))}}else if((N&64)===0){L=w[(L&65535)+(g&(1<<N)-1)];continue s}else{s.msg="invalid distance code",q.mode=uh;break e}break}}else if((N&64)===0){L=A[(L&65535)+(g&(1<<N)-1)];continue t}else if(N&32){q.mode=Iz;break e}else{s.msg="invalid literal/length code",q.mode=uh;break e}break}}while(l<i&&o<x);P=j>>3,l-=P,j-=P<<3,g&=(1<<j)-1,s.next_in=l,s.next_out=o,s.avail_in=l<i?5+(i-l):5-(l-i),s.avail_out=o<x?257+(x-o):257-(o-x),q.hold=g,q.bits=j};const z0=15,Dy=852,My=592,Ly=0,ef=1,zy=2,Uz=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),$z=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),qz=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Hz=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Wz=(t,s,a,l,i,o,d,x)=>{const u=x.bits;let h=0,p=0,f=0,b=0,g=0,j=0,A=0,w=0,k=0,C=0,L,N,P,_,F,R=null,B;const T=new Uint16Array(z0+1),q=new Uint16Array(z0+1);let H=null,G,W,le;for(h=0;h<=z0;h++)T[h]=0;for(p=0;p<l;p++)T[s[a+p]]++;for(g=u,b=z0;b>=1&&T[b]===0;b--);if(g>b&&(g=b),b===0)return i[o++]=1<<24|64<<16|0,i[o++]=1<<24|64<<16|0,x.bits=1,0;for(f=1;f<b&&T[f]===0;f++);for(g<f&&(g=f),w=1,h=1;h<=z0;h++)if(w<<=1,w-=T[h],w<0)return-1;if(w>0&&(t===Ly||b!==1))return-1;for(q[1]=0,h=1;h<z0;h++)q[h+1]=q[h]+T[h];for(p=0;p<l;p++)s[a+p]!==0&&(d[q[s[a+p]]++]=p);if(t===Ly?(R=H=d,B=20):t===ef?(R=Uz,H=$z,B=257):(R=qz,H=Hz,B=0),C=0,p=0,h=f,F=o,j=g,A=0,P=-1,k=1<<g,_=k-1,t===ef&&k>Dy||t===zy&&k>My)return 1;for(;;){G=h-A,d[p]+1<B?(W=0,le=d[p]):d[p]>=B?(W=H[d[p]-B],le=R[d[p]-B]):(W=96,le=0),L=1<<h-A,N=1<<j,f=N;do N-=L,i[F+(C>>A)+N]=G<<24|W<<16|le|0;while(N!==0);for(L=1<<h-1;C&L;)L>>=1;if(L!==0?(C&=L-1,C+=L):C=0,p++,--T[h]===0){if(h===b)break;h=s[a+d[p]]}if(h>g&&(C&_)!==P){for(A===0&&(A=g),F+=f,j=h-A,w=1<<j;j+A<b&&(w-=T[j+A],!(w<=0));)j++,w<<=1;if(k+=1<<j,t===ef&&k>Dy||t===zy&&k>My)return 1;P=C&_,i[P]=g<<24|j<<16|F-o|0}}return C!==0&&(i[F+C]=h-A<<24|64<<16|0),x.bits=g,0};var Gx=Wz;const Gz=0,cN=1,dN=2,{Z_FINISH:Ey,Z_BLOCK:Vz,Z_TREES:hh,Z_OK:zd,Z_STREAM_END:Yz,Z_NEED_DICT:Xz,Z_STREAM_ERROR:Kn,Z_DATA_ERROR:xN,Z_MEM_ERROR:uN,Z_BUF_ERROR:Kz,Z_DEFLATED:Ty}=nN,mm=16180,_y=16181,Py=16182,Ry=16183,Oy=16184,Fy=16185,Iy=16186,By=16187,Uy=16188,$y=16189,Kh=16190,Ro=16191,tf=16192,qy=16193,sf=16194,Hy=16195,Wy=16196,Gy=16197,Vy=16198,mh=16199,ph=16200,Yy=16201,Xy=16202,Ky=16203,Jy=16204,Qy=16205,af=16206,Zy=16207,e2=16208,Sa=16209,hN=16210,mN=16211,Jz=852,Qz=592,Zz=15,eE=Zz,t2=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function tE(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const _d=t=>{if(!t)return 1;const s=t.state;return!s||s.strm!==t||s.mode<mm||s.mode>mN?1:0},pN=t=>{if(_d(t))return Kn;const s=t.state;return t.total_in=t.total_out=s.total=0,t.msg="",s.wrap&&(t.adler=s.wrap&1),s.mode=mm,s.last=0,s.havedict=0,s.flags=-1,s.dmax=32768,s.head=null,s.hold=0,s.bits=0,s.lencode=s.lendyn=new Int32Array(Jz),s.distcode=s.distdyn=new Int32Array(Qz),s.sane=1,s.back=-1,zd},fN=t=>{if(_d(t))return Kn;const s=t.state;return s.wsize=0,s.whave=0,s.wnext=0,pN(t)},gN=(t,s)=>{let a;if(_d(t))return Kn;const l=t.state;return s<0?(a=0,s=-s):(a=(s>>4)+5,s<48&&(s&=15)),s&&(s<8||s>15)?Kn:(l.window!==null&&l.wbits!==s&&(l.window=null),l.wrap=a,l.wbits=s,fN(t))},bN=(t,s)=>{if(!t)return Kn;const a=new tE;t.state=a,a.strm=t,a.window=null,a.mode=mm;const l=gN(t,s);return l!==zd&&(t.state=null),l},sE=t=>bN(t,eE);let s2=!0,rf,lf;const aE=t=>{if(s2){rf=new Int32Array(512),lf=new Int32Array(32);let s=0;for(;s<144;)t.lens[s++]=8;for(;s<256;)t.lens[s++]=9;for(;s<280;)t.lens[s++]=7;for(;s<288;)t.lens[s++]=8;for(Gx(cN,t.lens,0,288,rf,0,t.work,{bits:9}),s=0;s<32;)t.lens[s++]=5;Gx(dN,t.lens,0,32,lf,0,t.work,{bits:5}),s2=!1}t.lencode=rf,t.lenbits=9,t.distcode=lf,t.distbits=5},vN=(t,s,a,l)=>{let i;const o=t.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),l>=o.wsize?(o.window.set(s.subarray(a-o.wsize,a),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>l&&(i=l),o.window.set(s.subarray(a-l,a-l+i),o.wnext),l-=i,l?(o.window.set(s.subarray(a-l,a),0),o.wnext=l,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0},rE=(t,s)=>{let a,l,i,o,d,x,u,h,p,f,b,g,j,A,w=0,k,C,L,N,P,_,F,R;const B=new Uint8Array(4);let T,q;const H=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(_d(t)||!t.output||!t.input&&t.avail_in!==0)return Kn;a=t.state,a.mode===Ro&&(a.mode=tf),d=t.next_out,i=t.output,u=t.avail_out,o=t.next_in,l=t.input,x=t.avail_in,h=a.hold,p=a.bits,f=x,b=u,R=zd;e:for(;;)switch(a.mode){case mm:if(a.wrap===0){a.mode=tf;break}for(;p<16;){if(x===0)break e;x--,h+=l[o++]<<p,p+=8}if(a.wrap&2&&h===35615){a.wbits===0&&(a.wbits=15),a.check=0,B[0]=h&255,B[1]=h>>>8&255,a.check=eo(a.check,B,2,0),h=0,p=0,a.mode=_y;break}if(a.head&&(a.head.done=!1),!(a.wrap&1)||(((h&255)<<8)+(h>>8))%31){t.msg="incorrect header check",a.mode=Sa;break}if((h&15)!==Ty){t.msg="unknown compression method",a.mode=Sa;break}if(h>>>=4,p-=4,F=(h&15)+8,a.wbits===0&&(a.wbits=F),F>15||F>a.wbits){t.msg="invalid window size",a.mode=Sa;break}a.dmax=1<<a.wbits,a.flags=0,t.adler=a.check=1,a.mode=h&512?$y:Ro,h=0,p=0;break;case _y:for(;p<16;){if(x===0)break e;x--,h+=l[o++]<<p,p+=8}if(a.flags=h,(a.flags&255)!==Ty){t.msg="unknown compression method",a.mode=Sa;break}if(a.flags&57344){t.msg="unknown header flags set",a.mode=Sa;break}a.head&&(a.head.text=h>>8&1),a.flags&512&&a.wrap&4&&(B[0]=h&255,B[1]=h>>>8&255,a.check=eo(a.check,B,2,0)),h=0,p=0,a.mode=Py;case Py:for(;p<32;){if(x===0)break e;x--,h+=l[o++]<<p,p+=8}a.head&&(a.head.time=h),a.flags&512&&a.wrap&4&&(B[0]=h&255,B[1]=h>>>8&255,B[2]=h>>>16&255,B[3]=h>>>24&255,a.check=eo(a.check,B,4,0)),h=0,p=0,a.mode=Ry;case Ry:for(;p<16;){if(x===0)break e;x--,h+=l[o++]<<p,p+=8}a.head&&(a.head.xflags=h&255,a.head.os=h>>8),a.flags&512&&a.wrap&4&&(B[0]=h&255,B[1]=h>>>8&255,a.check=eo(a.check,B,2,0)),h=0,p=0,a.mode=Oy;case Oy:if(a.flags&1024){for(;p<16;){if(x===0)break e;x--,h+=l[o++]<<p,p+=8}a.length=h,a.head&&(a.head.extra_len=h),a.flags&512&&a.wrap&4&&(B[0]=h&255,B[1]=h>>>8&255,a.check=eo(a.check,B,2,0)),h=0,p=0}else a.head&&(a.head.extra=null);a.mode=Fy;case Fy:if(a.flags&1024&&(g=a.length,g>x&&(g=x),g&&(a.head&&(F=a.head.extra_len-a.length,a.head.extra||(a.head.extra=new Uint8Array(a.head.extra_len)),a.head.extra.set(l.subarray(o,o+g),F)),a.flags&512&&a.wrap&4&&(a.check=eo(a.check,l,g,o)),x-=g,o+=g,a.length-=g),a.length))break e;a.length=0,a.mode=Iy;case Iy:if(a.flags&2048){if(x===0)break e;g=0;do F=l[o+g++],a.head&&F&&a.length<65536&&(a.head.name+=String.fromCharCode(F));while(F&&g<x);if(a.flags&512&&a.wrap&4&&(a.check=eo(a.check,l,g,o)),x-=g,o+=g,F)break e}else a.head&&(a.head.name=null);a.length=0,a.mode=By;case By:if(a.flags&4096){if(x===0)break e;g=0;do F=l[o+g++],a.head&&F&&a.length<65536&&(a.head.comment+=String.fromCharCode(F));while(F&&g<x);if(a.flags&512&&a.wrap&4&&(a.check=eo(a.check,l,g,o)),x-=g,o+=g,F)break e}else a.head&&(a.head.comment=null);a.mode=Uy;case Uy:if(a.flags&512){for(;p<16;){if(x===0)break e;x--,h+=l[o++]<<p,p+=8}if(a.wrap&4&&h!==(a.check&65535)){t.msg="header crc mismatch",a.mode=Sa;break}h=0,p=0}a.head&&(a.head.hcrc=a.flags>>9&1,a.head.done=!0),t.adler=a.check=0,a.mode=Ro;break;case $y:for(;p<32;){if(x===0)break e;x--,h+=l[o++]<<p,p+=8}t.adler=a.check=t2(h),h=0,p=0,a.mode=Kh;case Kh:if(a.havedict===0)return t.next_out=d,t.avail_out=u,t.next_in=o,t.avail_in=x,a.hold=h,a.bits=p,Xz;t.adler=a.check=1,a.mode=Ro;case Ro:if(s===Vz||s===hh)break e;case tf:if(a.last){h>>>=p&7,p-=p&7,a.mode=af;break}for(;p<3;){if(x===0)break e;x--,h+=l[o++]<<p,p+=8}switch(a.last=h&1,h>>>=1,p-=1,h&3){case 0:a.mode=qy;break;case 1:if(aE(a),a.mode=mh,s===hh){h>>>=2,p-=2;break e}break;case 2:a.mode=Wy;break;case 3:t.msg="invalid block type",a.mode=Sa}h>>>=2,p-=2;break;case qy:for(h>>>=p&7,p-=p&7;p<32;){if(x===0)break e;x--,h+=l[o++]<<p,p+=8}if((h&65535)!==(h>>>16^65535)){t.msg="invalid stored block lengths",a.mode=Sa;break}if(a.length=h&65535,h=0,p=0,a.mode=sf,s===hh)break e;case sf:a.mode=Hy;case Hy:if(g=a.length,g){if(g>x&&(g=x),g>u&&(g=u),g===0)break e;i.set(l.subarray(o,o+g),d),x-=g,o+=g,u-=g,d+=g,a.length-=g;break}a.mode=Ro;break;case Wy:for(;p<14;){if(x===0)break e;x--,h+=l[o++]<<p,p+=8}if(a.nlen=(h&31)+257,h>>>=5,p-=5,a.ndist=(h&31)+1,h>>>=5,p-=5,a.ncode=(h&15)+4,h>>>=4,p-=4,a.nlen>286||a.ndist>30){t.msg="too many length or distance symbols",a.mode=Sa;break}a.have=0,a.mode=Gy;case Gy:for(;a.have<a.ncode;){for(;p<3;){if(x===0)break e;x--,h+=l[o++]<<p,p+=8}a.lens[H[a.have++]]=h&7,h>>>=3,p-=3}for(;a.have<19;)a.lens[H[a.have++]]=0;if(a.lencode=a.lendyn,a.lenbits=7,T={bits:a.lenbits},R=Gx(Gz,a.lens,0,19,a.lencode,0,a.work,T),a.lenbits=T.bits,R){t.msg="invalid code lengths set",a.mode=Sa;break}a.have=0,a.mode=Vy;case Vy:for(;a.have<a.nlen+a.ndist;){for(;w=a.lencode[h&(1<<a.lenbits)-1],k=w>>>24,C=w>>>16&255,L=w&65535,!(k<=p);){if(x===0)break e;x--,h+=l[o++]<<p,p+=8}if(L<16)h>>>=k,p-=k,a.lens[a.have++]=L;else{if(L===16){for(q=k+2;p<q;){if(x===0)break e;x--,h+=l[o++]<<p,p+=8}if(h>>>=k,p-=k,a.have===0){t.msg="invalid bit length repeat",a.mode=Sa;break}F=a.lens[a.have-1],g=3+(h&3),h>>>=2,p-=2}else if(L===17){for(q=k+3;p<q;){if(x===0)break e;x--,h+=l[o++]<<p,p+=8}h>>>=k,p-=k,F=0,g=3+(h&7),h>>>=3,p-=3}else{for(q=k+7;p<q;){if(x===0)break e;x--,h+=l[o++]<<p,p+=8}h>>>=k,p-=k,F=0,g=11+(h&127),h>>>=7,p-=7}if(a.have+g>a.nlen+a.ndist){t.msg="invalid bit length repeat",a.mode=Sa;break}for(;g--;)a.lens[a.have++]=F}}if(a.mode===Sa)break;if(a.lens[256]===0){t.msg="invalid code -- missing end-of-block",a.mode=Sa;break}if(a.lenbits=9,T={bits:a.lenbits},R=Gx(cN,a.lens,0,a.nlen,a.lencode,0,a.work,T),a.lenbits=T.bits,R){t.msg="invalid literal/lengths set",a.mode=Sa;break}if(a.distbits=6,a.distcode=a.distdyn,T={bits:a.distbits},R=Gx(dN,a.lens,a.nlen,a.ndist,a.distcode,0,a.work,T),a.distbits=T.bits,R){t.msg="invalid distances set",a.mode=Sa;break}if(a.mode=mh,s===hh)break e;case mh:a.mode=ph;case ph:if(x>=6&&u>=258){t.next_out=d,t.avail_out=u,t.next_in=o,t.avail_in=x,a.hold=h,a.bits=p,Bz(t,b),d=t.next_out,i=t.output,u=t.avail_out,o=t.next_in,l=t.input,x=t.avail_in,h=a.hold,p=a.bits,a.mode===Ro&&(a.back=-1);break}for(a.back=0;w=a.lencode[h&(1<<a.lenbits)-1],k=w>>>24,C=w>>>16&255,L=w&65535,!(k<=p);){if(x===0)break e;x--,h+=l[o++]<<p,p+=8}if(C&&(C&240)===0){for(N=k,P=C,_=L;w=a.lencode[_+((h&(1<<N+P)-1)>>N)],k=w>>>24,C=w>>>16&255,L=w&65535,!(N+k<=p);){if(x===0)break e;x--,h+=l[o++]<<p,p+=8}h>>>=N,p-=N,a.back+=N}if(h>>>=k,p-=k,a.back+=k,a.length=L,C===0){a.mode=Qy;break}if(C&32){a.back=-1,a.mode=Ro;break}if(C&64){t.msg="invalid literal/length code",a.mode=Sa;break}a.extra=C&15,a.mode=Yy;case Yy:if(a.extra){for(q=a.extra;p<q;){if(x===0)break e;x--,h+=l[o++]<<p,p+=8}a.length+=h&(1<<a.extra)-1,h>>>=a.extra,p-=a.extra,a.back+=a.extra}a.was=a.length,a.mode=Xy;case Xy:for(;w=a.distcode[h&(1<<a.distbits)-1],k=w>>>24,C=w>>>16&255,L=w&65535,!(k<=p);){if(x===0)break e;x--,h+=l[o++]<<p,p+=8}if((C&240)===0){for(N=k,P=C,_=L;w=a.distcode[_+((h&(1<<N+P)-1)>>N)],k=w>>>24,C=w>>>16&255,L=w&65535,!(N+k<=p);){if(x===0)break e;x--,h+=l[o++]<<p,p+=8}h>>>=N,p-=N,a.back+=N}if(h>>>=k,p-=k,a.back+=k,C&64){t.msg="invalid distance code",a.mode=Sa;break}a.offset=L,a.extra=C&15,a.mode=Ky;case Ky:if(a.extra){for(q=a.extra;p<q;){if(x===0)break e;x--,h+=l[o++]<<p,p+=8}a.offset+=h&(1<<a.extra)-1,h>>>=a.extra,p-=a.extra,a.back+=a.extra}if(a.offset>a.dmax){t.msg="invalid distance too far back",a.mode=Sa;break}a.mode=Jy;case Jy:if(u===0)break e;if(g=b-u,a.offset>g){if(g=a.offset-g,g>a.whave&&a.sane){t.msg="invalid distance too far back",a.mode=Sa;break}g>a.wnext?(g-=a.wnext,j=a.wsize-g):j=a.wnext-g,g>a.length&&(g=a.length),A=a.window}else A=i,j=d-a.offset,g=a.length;g>u&&(g=u),u-=g,a.length-=g;do i[d++]=A[j++];while(--g);a.length===0&&(a.mode=ph);break;case Qy:if(u===0)break e;i[d++]=a.length,u--,a.mode=ph;break;case af:if(a.wrap){for(;p<32;){if(x===0)break e;x--,h|=l[o++]<<p,p+=8}if(b-=u,t.total_out+=b,a.total+=b,a.wrap&4&&b&&(t.adler=a.check=a.flags?eo(a.check,i,b,d-b):Wf(a.check,i,b,d-b)),b=u,a.wrap&4&&(a.flags?h:t2(h))!==a.check){t.msg="incorrect data check",a.mode=Sa;break}h=0,p=0}a.mode=Zy;case Zy:if(a.wrap&&a.flags){for(;p<32;){if(x===0)break e;x--,h+=l[o++]<<p,p+=8}if(a.wrap&4&&h!==(a.total&4294967295)){t.msg="incorrect length check",a.mode=Sa;break}h=0,p=0}a.mode=e2;case e2:R=Yz;break e;case Sa:R=xN;break e;case hN:return uN;case mN:default:return Kn}return t.next_out=d,t.avail_out=u,t.next_in=o,t.avail_in=x,a.hold=h,a.bits=p,(a.wsize||b!==t.avail_out&&a.mode<Sa&&(a.mode<af||s!==Ey))&&vN(t,t.output,t.next_out,b-t.avail_out),f-=t.avail_in,b-=t.avail_out,t.total_in+=f,t.total_out+=b,a.total+=b,a.wrap&4&&b&&(t.adler=a.check=a.flags?eo(a.check,i,b,t.next_out-b):Wf(a.check,i,b,t.next_out-b)),t.data_type=a.bits+(a.last?64:0)+(a.mode===Ro?128:0)+(a.mode===mh||a.mode===sf?256:0),(f===0&&b===0||s===Ey)&&R===zd&&(R=Kz),R},lE=t=>{if(_d(t))return Kn;let s=t.state;return s.window&&(s.window=null),t.state=null,zd},nE=(t,s)=>{if(_d(t))return Kn;const a=t.state;return(a.wrap&2)===0?Kn:(a.head=s,s.done=!1,zd)},iE=(t,s)=>{const a=s.length;let l,i,o;return _d(t)||(l=t.state,l.wrap!==0&&l.mode!==Kh)?Kn:l.mode===Kh&&(i=1,i=Wf(i,s,a,0),i!==l.check)?xN:(o=vN(t,s,a,a),o?(l.mode=hN,uN):(l.havedict=1,zd))};var oE=fN,cE=gN,dE=pN,xE=sE,uE=bN,hE=rE,mE=lE,pE=nE,fE=iE,gE="pako inflate (from Nodeca project)",Oo={inflateReset:oE,inflateReset2:cE,inflateResetKeep:dE,inflateInit:xE,inflateInit2:uE,inflate:hE,inflateEnd:mE,inflateGetHeader:pE,inflateSetDictionary:fE,inflateInfo:gE};function bE(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var vE=bE;const yN=Object.prototype.toString,{Z_NO_FLUSH:yE,Z_FINISH:jE,Z_OK:eu,Z_STREAM_END:nf,Z_NEED_DICT:of,Z_STREAM_ERROR:wE,Z_DATA_ERROR:a2,Z_MEM_ERROR:NE}=nN;function hu(t){this.options=iN.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const s=this.options;s.raw&&s.windowBits>=0&&s.windowBits<16&&(s.windowBits=-s.windowBits,s.windowBits===0&&(s.windowBits=-15)),s.windowBits>=0&&s.windowBits<16&&!(t&&t.windowBits)&&(s.windowBits+=32),s.windowBits>15&&s.windowBits<48&&(s.windowBits&15)===0&&(s.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Fz,this.strm.avail_out=0;let a=Oo.inflateInit2(this.strm,s.windowBits);if(a!==eu)throw new Error(Gf[a]);if(this.header=new vE,Oo.inflateGetHeader(this.strm,this.header),s.dictionary&&(typeof s.dictionary=="string"?s.dictionary=Vf.string2buf(s.dictionary):yN.call(s.dictionary)==="[object ArrayBuffer]"&&(s.dictionary=new Uint8Array(s.dictionary)),s.raw&&(a=Oo.inflateSetDictionary(this.strm,s.dictionary),a!==eu)))throw new Error(Gf[a])}hu.prototype.push=function(t,s){const a=this.strm,l=this.options.chunkSize,i=this.options.dictionary;let o,d,x;if(this.ended)return!1;for(s===~~s?d=s:d=s===!0?jE:yE,yN.call(t)==="[object ArrayBuffer]"?a.input=new Uint8Array(t):a.input=t,a.next_in=0,a.avail_in=a.input.length;;){for(a.avail_out===0&&(a.output=new Uint8Array(l),a.next_out=0,a.avail_out=l),o=Oo.inflate(a,d),o===of&&i&&(o=Oo.inflateSetDictionary(a,i),o===eu?o=Oo.inflate(a,d):o===a2&&(o=of));a.avail_in>0&&o===nf&&a.state.wrap>0&&t[a.next_in]!==0;)Oo.inflateReset(a),o=Oo.inflate(a,d);switch(o){case wE:case a2:case of:case NE:return this.onEnd(o),this.ended=!0,!1}if(x=a.avail_out,a.next_out&&(a.avail_out===0||o===nf))if(this.options.to==="string"){let u=Vf.utf8border(a.output,a.next_out),h=a.next_out-u,p=Vf.buf2string(a.output,u);a.next_out=h,a.avail_out=l-h,h&&a.output.set(a.output.subarray(u,u+h),0),this.onData(p)}else this.onData(a.output.length===a.next_out?a.output:a.output.subarray(0,a.next_out));if(!(o===eu&&x===0)){if(o===nf)return o=Oo.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(a.avail_in===0)break}}return!0};hu.prototype.onData=function(t){this.chunks.push(t)};hu.prototype.onEnd=function(t){t===eu&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=iN.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function kE(t,s){const a=new hu(s);if(a.push(t),a.err)throw a.msg||Gf[a.err];return a.result}var SE=hu,CE=kE,AE={Inflate:SE,inflate:CE};const{Inflate:DE,inflate:ME}=AE;var r2=DE,LE=ME;const jN=[];for(let t=0;t<256;t++){let s=t;for(let a=0;a<8;a++)s&1?s=3988292384^s>>>1:s=s>>>1;jN[t]=s}const l2=4294967295;function zE(t,s,a){let l=t;for(let i=0;i<a;i++)l=jN[(l^s[i])&255]^l>>>8;return l}function EE(t,s){return(zE(l2,t,s)^l2)>>>0}function n2(t,s,a){const l=t.readUint32(),i=EE(new Uint8Array(t.buffer,t.byteOffset+t.offset-s-4,s),s);if(i!==l)throw new Error(`CRC mismatch for chunk ${a}. Expected ${l}, found ${i}`)}function wN(t,s,a){for(let l=0;l<a;l++)s[l]=t[l]}function NN(t,s,a,l){let i=0;for(;i<l;i++)s[i]=t[i];for(;i<a;i++)s[i]=t[i]+s[i-l]&255}function kN(t,s,a,l){let i=0;if(a.length===0)for(;i<l;i++)s[i]=t[i];else for(;i<l;i++)s[i]=t[i]+a[i]&255}function SN(t,s,a,l,i){let o=0;if(a.length===0){for(;o<i;o++)s[o]=t[o];for(;o<l;o++)s[o]=t[o]+(s[o-i]>>1)&255}else{for(;o<i;o++)s[o]=t[o]+(a[o]>>1)&255;for(;o<l;o++)s[o]=t[o]+(s[o-i]+a[o]>>1)&255}}function CN(t,s,a,l,i){let o=0;if(a.length===0){for(;o<i;o++)s[o]=t[o];for(;o<l;o++)s[o]=t[o]+s[o-i]&255}else{for(;o<i;o++)s[o]=t[o]+a[o]&255;for(;o<l;o++)s[o]=t[o]+TE(s[o-i],a[o],a[o-i])&255}}function TE(t,s,a){const l=t+s-a,i=Math.abs(l-t),o=Math.abs(l-s),d=Math.abs(l-a);return i<=o&&i<=d?t:o<=d?s:a}function _E(t,s,a,l,i,o){switch(t){case 0:wN(s,a,i);break;case 1:NN(s,a,i,o);break;case 2:kN(s,a,l,i);break;case 3:SN(s,a,l,i,o);break;case 4:CN(s,a,l,i,o);break;default:throw new Error(`Unsupported filter: ${t}`)}}const PE=new Uint16Array([255]),RE=new Uint8Array(PE.buffer),OE=RE[0]===255;function FE(t){const{data:s,width:a,height:l,channels:i,depth:o}=t,d=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],x=Math.ceil(o/8)*i,u=new Uint8Array(l*a*x);let h=0;for(let p=0;p<7;p++){const f=d[p],b=Math.ceil((a-f.x)/f.xStep),g=Math.ceil((l-f.y)/f.yStep);if(b<=0||g<=0)continue;const j=b*x,A=new Uint8Array(j);for(let w=0;w<g;w++){const k=s[h++],C=s.subarray(h,h+j);h+=j;const L=new Uint8Array(j);_E(k,C,L,A,j,x),A.set(L);for(let N=0;N<b;N++){const P=f.x+N*f.xStep,_=f.y+w*f.yStep;if(!(P>=a||_>=l))for(let F=0;F<x;F++)u[(_*a+P)*x+F]=L[N*x+F]}}}if(o===16){const p=new Uint16Array(u.buffer);if(OE)for(let f=0;f<p.length;f++)p[f]=IE(p[f]);return p}else return u}function IE(t){return(t&255)<<8|t>>8&255}const BE=new Uint16Array([255]),UE=new Uint8Array(BE.buffer),$E=UE[0]===255,qE=new Uint8Array(0);function i2(t){const{data:s,width:a,height:l,channels:i,depth:o}=t,d=Math.ceil(o/8)*i,x=Math.ceil(o/8*i*a),u=new Uint8Array(l*x);let h=qE,p=0,f,b;for(let g=0;g<l;g++){switch(f=s.subarray(p+1,p+1+x),b=u.subarray(g*x,(g+1)*x),s[p]){case 0:wN(f,b,x);break;case 1:NN(f,b,x,d);break;case 2:kN(f,b,h,x);break;case 3:SN(f,b,h,x,d);break;case 4:CN(f,b,h,x,d);break;default:throw new Error(`Unsupported filter: ${s[p]}`)}h=b,p+=x+1}if(o===16){const g=new Uint16Array(u.buffer);if($E)for(let j=0;j<g.length;j++)g[j]=HE(g[j]);return g}else return u}function HE(t){return(t&255)<<8|t>>8&255}const Th=Uint8Array.of(137,80,78,71,13,10,26,10);function o2(t){if(!WE(t.readBytes(Th.length)))throw new Error("wrong PNG signature")}function WE(t){if(t.length<Th.length)return!1;for(let s=0;s<Th.length;s++)if(t[s]!==Th[s])return!1;return!0}const GE="tEXt",VE=0,AN=new TextDecoder("latin1");function YE(t){if(KE(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const XE=/^[\u0000-\u00FF]*$/;function KE(t){if(!XE.test(t))throw new Error("invalid latin1 text")}function JE(t,s,a){const l=DN(s);t[l]=QE(s,a-l.length-1)}function DN(t){for(t.mark();t.readByte()!==VE;);const s=t.offset;t.reset();const a=AN.decode(t.readBytes(s-t.offset-1));return t.skip(1),YE(a),a}function QE(t,s){return AN.decode(t.readBytes(s))}const bn={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},cf={UNKNOWN:-1,DEFLATE:0},c2={UNKNOWN:-1,ADAPTIVE:0},df={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},fh={NONE:0,BACKGROUND:1,PREVIOUS:2},xf={SOURCE:0,OVER:1};class ZE extends Ig{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(s,a={}){super(s);const{checkCrc:l=!1}=a;this._checkCrc=l,this._inflator=new r2,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=cf.UNKNOWN,this._filterMethod=c2.UNKNOWN,this._interlaceMethod=df.UNKNOWN,this._colorType=bn.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(o2(this);!this._end;){const s=this.readUint32(),a=this.readChars(4);this.decodeChunk(s,a)}return this.decodeImage(),this._png}decodeApng(){for(o2(this);!this._end;){const s=this.readUint32(),a=this.readChars(4);this.decodeApngChunk(s,a)}return this.decodeApngImage(),this._apng}decodeChunk(s,a){const l=this.offset;switch(a){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(s);break;case"IDAT":this.decodeIDAT(s);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(s);break;case"iCCP":this.decodeiCCP(s);break;case GE:JE(this._png.text,this,s);break;case"pHYs":this.decodepHYs();break;default:this.skip(s);break}if(this.offset-l!==s)throw new Error(`Length mismatch while decoding chunk ${a}`);this._checkCrc?n2(this,s+4,a):this.skip(4)}decodeApngChunk(s,a){const l=this.offset;switch(a!=="fdAT"&&a!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),a){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(s);break;default:this.decodeChunk(s,a),this.offset=l+s;break}if(this.offset-l!==s)throw new Error(`Length mismatch while decoding chunk ${a}`);this._checkCrc?n2(this,s+4,a):this.skip(4)}decodeIHDR(){const s=this._png;s.width=this.readUint32(),s.height=this.readUint32(),s.depth=eT(this.readUint8());const a=this.readUint8();this._colorType=a;let l;switch(a){case bn.GREYSCALE:l=1;break;case bn.TRUECOLOUR:l=3;break;case bn.INDEXED_COLOUR:l=1;break;case bn.GREYSCALE_ALPHA:l=2;break;case bn.TRUECOLOUR_ALPHA:l=4;break;case bn.UNKNOWN:default:throw new Error(`Unknown color type: ${a}`)}if(this._png.channels=l,this._compressionMethod=this.readUint8(),this._compressionMethod!==cf.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const s={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(s)}decodePLTE(s){if(s%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${s}`);const a=s/3;this._hasPalette=!0;const l=[];this._palette=l;for(let i=0;i<a;i++)l.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(s){this._writingDataChunks=!0;const a=s,l=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,l,a)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(s)}decodeFDAT(s){this._writingDataChunks=!0;let a=s,l=this.offset+this.byteOffset;if(l+=4,a-=4,this._inflator.push(new Uint8Array(this.buffer,l,a)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(s)}decodetRNS(s){switch(this._colorType){case bn.GREYSCALE:case bn.TRUECOLOUR:{if(s%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${s}`);if(s/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${s/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(s/2);for(let a=0;a<s/2;a++)this._transparency[a]=this.readUint16();break}case bn.INDEXED_COLOUR:{if(s>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${s} vs ${this._palette.length})`);let a=0;for(;a<s;a++){const l=this.readByte();this._palette[a].push(l)}for(;a<this._palette.length;a++)this._palette[a].push(255);break}case bn.UNKNOWN:case bn.GREYSCALE_ALPHA:case bn.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(s){const a=DN(this),l=this.readUint8();if(l!==cf.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${l}`);const i=this.readBytes(s-a.length-2);this._png.iccEmbeddedProfile={name:a,profile:LE(i)}}decodepHYs(){const s=this.readUint32(),a=this.readUint32(),l=this.readByte();this._png.resolution={x:s,y:a,unit:l}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let s=0;s<this._numberOfFrames;s++){const a={sequenceNumber:this._frames[s].sequenceNumber,delayNumber:this._frames[s].delayNumber,delayDenominator:this._frames[s].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},l=this._frames.at(s);if(l){if(l.data=i2({data:l.data,width:l.width,height:l.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),s===0||l.xOffset===0&&l.yOffset===0&&l.width===this._png.width&&l.height===this._png.height)a.data=l.data;else{const i=this._apng.frames.at(s-1);this.disposeFrame(l,i,a),this.addFrameDataToCanvas(a,l)}this._apng.frames.push(a)}}return this._apng}disposeFrame(s,a,l){switch(s.disposeOp){case fh.NONE:break;case fh.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let o=0;o<this._png.width;o++){const d=(i*s.width+o)*this._png.channels;for(let x=0;x<this._png.channels;x++)l.data[d+x]=0}break;case fh.PREVIOUS:l.data.set(a.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(s,a){const l=1<<this._png.depth,i=(o,d)=>{const x=((o+a.yOffset)*this._png.width+a.xOffset+d)*this._png.channels,u=(o*a.width+d)*this._png.channels;return{index:x,frameIndex:u}};switch(a.blendOp){case xf.SOURCE:for(let o=0;o<a.height;o++)for(let d=0;d<a.width;d++){const{index:x,frameIndex:u}=i(o,d);for(let h=0;h<this._png.channels;h++)s.data[x+h]=a.data[u+h]}break;case xf.OVER:for(let o=0;o<a.height;o++)for(let d=0;d<a.width;d++){const{index:x,frameIndex:u}=i(o,d);for(let h=0;h<this._png.channels;h++){const p=a.data[u+this._png.channels-1]/l,f=h%(this._png.channels-1)===0?1:a.data[u+h],b=Math.floor(p*f+(1-p)*s.data[x+h]);s.data[x+h]+=b}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const s=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==c2.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===df.NO_INTERLACE)this._png.data=i2({data:s,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===df.ADAM7)this._png.data=FE({data:s,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const s=this._inflator.result,a=this._frames.at(-1);a?a.data=s:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:fh.NONE,blendOp:xf.SOURCE,data:s}),this._inflator=new r2,this._writingDataChunks=!1}}function eT(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var d2;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(d2||(d2={}));function tT(t,s){return new ZE(t,s).decode()}var Yt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function uf(){Yt.console&&typeof Yt.console.log=="function"&&Yt.console.log.apply(Yt.console,arguments)}var da={log:uf,warn:function(t){Yt.console&&(typeof Yt.console.warn=="function"?Yt.console.warn.apply(Yt.console,arguments):uf.call(null,arguments))},error:function(t){Yt.console&&(typeof Yt.console.error=="function"?Yt.console.error.apply(Yt.console,arguments):uf(t))}};function hf(t,s,a){var l=new XMLHttpRequest;l.open("GET",t),l.responseType="blob",l.onload=function(){bd(l.response,s,a)},l.onerror=function(){da.error("could not download file")},l.send()}function x2(t){var s=new XMLHttpRequest;s.open("HEAD",t,!1);try{s.send()}catch{}return s.status>=200&&s.status<=299}function gh(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var s=document.createEvent("MouseEvents");s.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(s)}}var bd=Yt.saveAs||((typeof window>"u"?"undefined":Ks(window))!=="object"||window!==Yt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,s,a){var l=Yt.URL||Yt.webkitURL,i=document.createElement("a");s=s||t.name||"download",i.download=s,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?x2(i.href)?hf(t,s,a):gh(i,i.target="_blank"):gh(i)):(i.href=l.createObjectURL(t),setTimeout(function(){l.revokeObjectURL(i.href)},4e4),setTimeout(function(){gh(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,s,a){if(s=s||t.name||"download",typeof t=="string")if(x2(t))hf(t,s,a);else{var l=document.createElement("a");l.href=t,l.target="_blank",setTimeout(function(){gh(l)})}else navigator.msSaveOrOpenBlob((function(i,o){return o===void 0?o={autoBom:!1}:Ks(o)!=="object"&&(da.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(t,a),s)}:function(t,s,a,l){if((l=l||open("","_blank"))&&(l.document.title=l.document.body.innerText="downloading..."),typeof t=="string")return hf(t,s,a);var i=t.type==="application/octet-stream",o=/constructor/i.test(Yt.HTMLElement)||Yt.safari,d=/CriOS\/[\d]+/.test(navigator.userAgent);if((d||i&&o)&&(typeof FileReader>"u"?"undefined":Ks(FileReader))==="object"){var x=new FileReader;x.onloadend=function(){var p=x.result;p=d?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),l?l.location.href=p:location=p,l=null},x.readAsDataURL(t)}else{var u=Yt.URL||Yt.webkitURL,h=u.createObjectURL(t);l?l.location=h:location.href=h,l=null,setTimeout(function(){u.revokeObjectURL(h)},4e4)}});function MN(t){var s;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var a=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(x){return[parseInt(x[1]),parseInt(x[2]),parseInt(x[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(x){return[parseInt(x[1],16),parseInt(x[2],16),parseInt(x[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(x){return[parseInt(x[1]+x[1],16),parseInt(x[2]+x[2],16),parseInt(x[3]+x[3],16)]}}],l=0;l<a.length;l++){var i=a[l].re,o=a[l].process,d=i.exec(t);d&&(s=o(d),this.r=s[0],this.g=s[1],this.b=s[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var x=this.r.toString(16),u=this.g.toString(16),h=this.b.toString(16);return x.length==1&&(x="0"+x),u.length==1&&(u="0"+u),h.length==1&&(h="0"+h),"#"+x+u+h}}var _h=Yt.atob.bind(Yt),u2=Yt.btoa.bind(Yt);function mf(t,s){var a=t[0],l=t[1],i=t[2],o=t[3];a=Zr(a,l,i,o,s[0],7,-680876936),o=Zr(o,a,l,i,s[1],12,-389564586),i=Zr(i,o,a,l,s[2],17,606105819),l=Zr(l,i,o,a,s[3],22,-1044525330),a=Zr(a,l,i,o,s[4],7,-176418897),o=Zr(o,a,l,i,s[5],12,1200080426),i=Zr(i,o,a,l,s[6],17,-1473231341),l=Zr(l,i,o,a,s[7],22,-45705983),a=Zr(a,l,i,o,s[8],7,1770035416),o=Zr(o,a,l,i,s[9],12,-1958414417),i=Zr(i,o,a,l,s[10],17,-42063),l=Zr(l,i,o,a,s[11],22,-1990404162),a=Zr(a,l,i,o,s[12],7,1804603682),o=Zr(o,a,l,i,s[13],12,-40341101),i=Zr(i,o,a,l,s[14],17,-1502002290),a=el(a,l=Zr(l,i,o,a,s[15],22,1236535329),i,o,s[1],5,-165796510),o=el(o,a,l,i,s[6],9,-1069501632),i=el(i,o,a,l,s[11],14,643717713),l=el(l,i,o,a,s[0],20,-373897302),a=el(a,l,i,o,s[5],5,-701558691),o=el(o,a,l,i,s[10],9,38016083),i=el(i,o,a,l,s[15],14,-660478335),l=el(l,i,o,a,s[4],20,-405537848),a=el(a,l,i,o,s[9],5,568446438),o=el(o,a,l,i,s[14],9,-1019803690),i=el(i,o,a,l,s[3],14,-187363961),l=el(l,i,o,a,s[8],20,1163531501),a=el(a,l,i,o,s[13],5,-1444681467),o=el(o,a,l,i,s[2],9,-51403784),i=el(i,o,a,l,s[7],14,1735328473),a=tl(a,l=el(l,i,o,a,s[12],20,-1926607734),i,o,s[5],4,-378558),o=tl(o,a,l,i,s[8],11,-2022574463),i=tl(i,o,a,l,s[11],16,1839030562),l=tl(l,i,o,a,s[14],23,-35309556),a=tl(a,l,i,o,s[1],4,-1530992060),o=tl(o,a,l,i,s[4],11,1272893353),i=tl(i,o,a,l,s[7],16,-155497632),l=tl(l,i,o,a,s[10],23,-1094730640),a=tl(a,l,i,o,s[13],4,681279174),o=tl(o,a,l,i,s[0],11,-358537222),i=tl(i,o,a,l,s[3],16,-722521979),l=tl(l,i,o,a,s[6],23,76029189),a=tl(a,l,i,o,s[9],4,-640364487),o=tl(o,a,l,i,s[12],11,-421815835),i=tl(i,o,a,l,s[15],16,530742520),a=sl(a,l=tl(l,i,o,a,s[2],23,-995338651),i,o,s[0],6,-198630844),o=sl(o,a,l,i,s[7],10,1126891415),i=sl(i,o,a,l,s[14],15,-1416354905),l=sl(l,i,o,a,s[5],21,-57434055),a=sl(a,l,i,o,s[12],6,1700485571),o=sl(o,a,l,i,s[3],10,-1894986606),i=sl(i,o,a,l,s[10],15,-1051523),l=sl(l,i,o,a,s[1],21,-2054922799),a=sl(a,l,i,o,s[8],6,1873313359),o=sl(o,a,l,i,s[15],10,-30611744),i=sl(i,o,a,l,s[6],15,-1560198380),l=sl(l,i,o,a,s[13],21,1309151649),a=sl(a,l,i,o,s[4],6,-145523070),o=sl(o,a,l,i,s[11],10,-1120210379),i=sl(i,o,a,l,s[2],15,718787259),l=sl(l,i,o,a,s[9],21,-343485551),t[0]=Lc(a,t[0]),t[1]=Lc(l,t[1]),t[2]=Lc(i,t[2]),t[3]=Lc(o,t[3])}function pm(t,s,a,l,i,o){return s=Lc(Lc(s,t),Lc(l,o)),Lc(s<<i|s>>>32-i,a)}function Zr(t,s,a,l,i,o,d){return pm(s&a|~s&l,t,s,i,o,d)}function el(t,s,a,l,i,o,d){return pm(s&l|a&~l,t,s,i,o,d)}function tl(t,s,a,l,i,o,d){return pm(s^a^l,t,s,i,o,d)}function sl(t,s,a,l,i,o,d){return pm(a^(s|~l),t,s,i,o,d)}function LN(t){var s,a=t.length,l=[1732584193,-271733879,-1732584194,271733878];for(s=64;s<=t.length;s+=64)mf(l,sT(t.substring(s-64,s)));t=t.substring(s-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(s=0;s<t.length;s++)i[s>>2]|=t.charCodeAt(s)<<(s%4<<3);if(i[s>>2]|=128<<(s%4<<3),s>55)for(mf(l,i),s=0;s<16;s++)i[s]=0;return i[14]=8*a,mf(l,i),l}function sT(t){var s,a=[];for(s=0;s<64;s+=4)a[s>>2]=t.charCodeAt(s)+(t.charCodeAt(s+1)<<8)+(t.charCodeAt(s+2)<<16)+(t.charCodeAt(s+3)<<24);return a}var h2="0123456789abcdef".split("");function aT(t){for(var s="",a=0;a<4;a++)s+=h2[t>>8*a+4&15]+h2[t>>8*a&15];return s}function rT(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Yf(t){return LN(t).map(rT).join("")}var lT=(function(t){for(var s=0;s<t.length;s++)t[s]=aT(t[s]);return t.join("")})(LN("hello"))!="5d41402abc4b2a76b9719d911017c592";function Lc(t,s){if(lT){var a=(65535&t)+(65535&s);return(t>>16)+(s>>16)+(a>>16)<<16|65535&a}return t+s&4294967295}function Xf(t,s){var a,l,i,o;if(t!==a){for(var d=(i=t,o=1+(256/t.length|0),new Array(o+1).join(i)),x=[],u=0;u<256;u++)x[u]=u;var h=0;for(u=0;u<256;u++){var p=x[u];h=(h+p+d.charCodeAt(u))%256,x[u]=x[h],x[h]=p}a=t,l=x}else x=l;var f=s.length,b=0,g=0,j="";for(u=0;u<f;u++)g=(g+(p=x[b=(b+1)%256]))%256,x[b]=x[g],x[g]=p,d=x[(x[b]+x[g])%256],j+=String.fromCharCode(s.charCodeAt(u)^d);return j}var m2={print:4,modify:8,copy:16,"annot-forms":32};function _0(t,s,a,l){this.v=1,this.r=2;var i=192;t.forEach(function(x){if(m2.perm!==void 0)throw new Error("Invalid permission: "+x);i+=m2[x]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(s+this.padding).substr(0,32),d=(a+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,d),this.P=-(1+(255^i)),this.encryptionKey=Yf(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(l)).substr(0,5),this.U=Xf(this.encryptionKey,this.padding)}function P0(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var s="",a=t.length,l=0;l<a;l++){var i=t.charCodeAt(l);s+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[l]}return s}function p2(t){if(Ks(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var s={};this.subscribe=function(a,l,i){if(i=i||!1,typeof a!="string"||typeof l!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");s.hasOwnProperty(a)||(s[a]={});var o=Math.random().toString(35);return s[a][o]=[l,!!i],o},this.unsubscribe=function(a){for(var l in s)if(s[l][a])return delete s[l][a],Object.keys(s[l]).length===0&&delete s[l],!0;return!1},this.publish=function(a){if(s.hasOwnProperty(a)){var l=Array.prototype.slice.call(arguments,1),i=[];for(var o in s[a]){var d=s[a][o];try{d[0].apply(t,l)}catch(x){Yt.console&&da.error("jsPDF PubSub Error",x.message,x)}d[1]&&i.push(o)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return s}}function Jh(t){if(!(this instanceof Jh))return new Jh(t);var s="opacity,stroke-opacity".split(",");for(var a in t)t.hasOwnProperty(a)&&s.indexOf(a)>=0&&(this[a]=t[a]);this.id="",this.objectNumber=-1}function zN(t,s){this.gState=t,this.matrix=s,this.id="",this.objectNumber=-1}function yd(t,s,a,l,i){if(!(this instanceof yd))return new yd(t,s,a,l,i);this.type=t==="axial"?2:3,this.coords=s,this.colors=a,zN.call(this,l,i)}function R0(t,s,a,l,i){if(!(this instanceof R0))return new R0(t,s,a,l,i);this.boundingBox=t,this.xStep=s,this.yStep=a,this.stream="",this.cloneIndex=0,zN.call(this,l,i)}function bt(t){var s,a=typeof arguments[0]=="string"?arguments[0]:"p",l=arguments[1],i=arguments[2],o=arguments[3],d=[],x=1,u=16,h="S",p=null;Ks(t=t||{})==="object"&&(a=t.orientation,l=t.unit||l,i=t.format||i,o=t.compress||t.compressPdf||o,(p=t.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),x=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(s=t.precision),t.floatPrecision!==void 0&&(u=t.floatPrecision),h=t.defaultPathOperation||"S"),d=t.filters||(o===!0?["FlateEncode"]:d),l=l||"mm",a=(""+(a||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,b={},g={internal:{},__private__:{}};g.__private__.PubSub=p2;var j="1.3",A=g.__private__.getPdfVersion=function(){return j};g.__private__.setPdfVersion=function(z){j=z};var w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return w};var k=g.__private__.getPageFormat=function(z){return w[z]};i=i||"a4";var C="compat",L="advanced",N=C;function P(){this.saveGraphicsState(),se(new Dt(Jt,0,0,-Jt,0,ii()*Jt).toString()+" cm"),this.setFontSize(this.getFontSize()/Jt),h="n",N=L}function _(){this.restoreGraphicsState(),h="S",N=C}var F=g.__private__.combineFontStyleAndFontWeight=function(z,X){if(z=="bold"&&X=="normal"||z=="bold"&&X==400||z=="normal"&&X=="italic"||z=="bold"&&X=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return X&&(z=X==400||X==="normal"?z==="italic"?"italic":"normal":X!=700&&X!=="bold"||z!=="normal"?(X==700?"bold":X)+""+z:"bold"),z};g.advancedAPI=function(z){var X=N===C;return X&&P.call(this),typeof z!="function"||(z(this),X&&_.call(this)),this},g.compatAPI=function(z){var X=N===L;return X&&_.call(this),typeof z!="function"||(z(this),X&&P.call(this)),this},g.isAdvancedAPI=function(){return N===L};var R,B=function(z){if(N!==L)throw new Error(z+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},T=g.roundToPrecision=g.__private__.roundToPrecision=function(z,X){var de=s||X;if(isNaN(z)||isNaN(de))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return z.toFixed(de).replace(/0+$/,"")};R=g.hpf=g.__private__.hpf=typeof u=="number"?function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.hpf");return T(z,u)}:u==="smart"?function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.hpf");return T(z,z>-1&&z<1?16:5)}:function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.hpf");return T(z,16)};var q=g.f2=g.__private__.f2=function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.f2");return T(z,2)},H=g.__private__.f3=function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.f3");return T(z,3)},G=g.scale=g.__private__.scale=function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.scale");return N===C?z*Jt:N===L?z:void 0},W=function(z){return G((function(X){return N===C?ii()-X:N===L?X:void 0})(z))};g.__private__.setPrecision=g.setPrecision=function(z){typeof parseInt(z,10)=="number"&&(s=parseInt(z,10))};var le,V="00000000000000000000000000000000",ne=g.__private__.getFileId=function(){return V},I=g.__private__.setFileId=function(z){return V=z!==void 0&&/^[a-fA-F0-9]{32}$/.test(z)?z.toUpperCase():V.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(Xa=new _0(p.userPermissions,p.userPassword,p.ownerPassword,V)),V};g.setFileId=function(z){return I(z),this},g.getFileId=function(){return ne()};var oe=g.__private__.convertDateToPDFDate=function(z){var X=z.getTimezoneOffset(),de=X<0?"+":"-",fe=Math.floor(Math.abs(X/60)),ke=Math.abs(X%60),Be=[de,ae(fe),"'",ae(ke),"'"].join("");return["D:",z.getFullYear(),ae(z.getMonth()+1),ae(z.getDate()),ae(z.getHours()),ae(z.getMinutes()),ae(z.getSeconds()),Be].join("")},Ne=g.__private__.convertPDFDateToDate=function(z){var X=parseInt(z.substr(2,4),10),de=parseInt(z.substr(6,2),10)-1,fe=parseInt(z.substr(8,2),10),ke=parseInt(z.substr(10,2),10),Be=parseInt(z.substr(12,2),10),Ge=parseInt(z.substr(14,2),10);return new Date(X,de,fe,ke,Be,Ge,0)},Y=g.__private__.setCreationDate=function(z){var X;if(z===void 0&&(z=new Date),z instanceof Date)X=oe(z);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(z))throw new Error("Invalid argument passed to jsPDF.setCreationDate");X=z}return le=X},$=g.__private__.getCreationDate=function(z){var X=le;return z==="jsDate"&&(X=Ne(le)),X};g.setCreationDate=function(z){return Y(z),this},g.getCreationDate=function(z){return $(z)};var Q,ae=g.__private__.padd2=function(z){return("0"+parseInt(z)).slice(-2)},ue=g.__private__.padd2Hex=function(z){return("00"+(z=z.toString())).substr(z.length)},me=0,be=[],he=[],we=0,_e=[],$e=[],Ke=!1,et=he;g.__private__.setCustomOutputDestination=function(z){Ke=!0,et=z};var xe=function(z){Ke||(et=z)};g.__private__.resetCustomOutputDestination=function(){Ke=!1,et=he};var se=g.__private__.out=function(z){return z=z.toString(),we+=z.length+1,et.push(z),et},Ze=g.__private__.write=function(z){return se(arguments.length===1?z.toString():Array.prototype.join.call(arguments," "))},It=g.__private__.getArrayBuffer=function(z){for(var X=z.length,de=new ArrayBuffer(X),fe=new Uint8Array(de);X--;)fe[X]=z.charCodeAt(X);return de},At=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return At};var Xe=t.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(z){return Xe=N===L?z/Jt:z,this};var kt,nt=g.__private__.getFontSize=g.getFontSize=function(){return N===C?Xe:Xe*Jt},Ct=t.R2L||!1;g.__private__.setR2L=g.setR2L=function(z){return Ct=z,this},g.__private__.getR2L=g.getR2L=function(){return Ct};var gt,Ye=g.__private__.setZoomMode=function(z){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(z))kt=z;else if(isNaN(z)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(z)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+z+'" is not recognized.');kt=z}else kt=parseInt(z,10)};g.__private__.getZoomMode=function(){return kt};var Kt,vt=g.__private__.setPageMode=function(z){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(z)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+z+'" is not recognized.');gt=z};g.__private__.getPageMode=function(){return gt};var cs=g.__private__.setLayoutMode=function(z){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(z)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+z+'" is not recognized.');Kt=z};g.__private__.getLayoutMode=function(){return Kt},g.__private__.setDisplayMode=g.setDisplayMode=function(z,X,de){return Ye(z),cs(X),vt(de),this};var rs={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(z){if(Object.keys(rs).indexOf(z)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return rs[z]},g.__private__.getDocumentProperties=function(){return rs},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(z){for(var X in rs)rs.hasOwnProperty(X)&&z[X]&&(rs[X]=z[X]);return this},g.__private__.setDocumentProperty=function(z,X){if(Object.keys(rs).indexOf(z)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return rs[z]=X};var dt,Jt,Nt,Da,xs,Tt={},Ht={},ps=[],Lt={},Zs={},Ot={},Wt={},Ws=null,ls=0,St=[],Ss=new p2(g),Zl=t.hotfixes||[],jr={},Sn={},Cl=[],Dt=function z(X,de,fe,ke,Be,Ge){if(!(this instanceof z))return new z(X,de,fe,ke,Be,Ge);isNaN(X)&&(X=1),isNaN(de)&&(de=0),isNaN(fe)&&(fe=0),isNaN(ke)&&(ke=1),isNaN(Be)&&(Be=0),isNaN(Ge)&&(Ge=0),this._matrix=[X,de,fe,ke,Be,Ge]};Object.defineProperty(Dt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(z){this._matrix[0]=z}}),Object.defineProperty(Dt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(z){this._matrix[1]=z}}),Object.defineProperty(Dt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(z){this._matrix[2]=z}}),Object.defineProperty(Dt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(z){this._matrix[3]=z}}),Object.defineProperty(Dt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(z){this._matrix[4]=z}}),Object.defineProperty(Dt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(z){this._matrix[5]=z}}),Object.defineProperty(Dt.prototype,"a",{get:function(){return this._matrix[0]},set:function(z){this._matrix[0]=z}}),Object.defineProperty(Dt.prototype,"b",{get:function(){return this._matrix[1]},set:function(z){this._matrix[1]=z}}),Object.defineProperty(Dt.prototype,"c",{get:function(){return this._matrix[2]},set:function(z){this._matrix[2]=z}}),Object.defineProperty(Dt.prototype,"d",{get:function(){return this._matrix[3]},set:function(z){this._matrix[3]=z}}),Object.defineProperty(Dt.prototype,"e",{get:function(){return this._matrix[4]},set:function(z){this._matrix[4]=z}}),Object.defineProperty(Dt.prototype,"f",{get:function(){return this._matrix[5]},set:function(z){this._matrix[5]=z}}),Object.defineProperty(Dt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Dt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Dt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Dt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Dt.prototype.join=function(z){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(R).join(z)},Dt.prototype.multiply=function(z){var X=z.sx*this.sx+z.shy*this.shx,de=z.sx*this.shy+z.shy*this.sy,fe=z.shx*this.sx+z.sy*this.shx,ke=z.shx*this.shy+z.sy*this.sy,Be=z.tx*this.sx+z.ty*this.shx+this.tx,Ge=z.tx*this.shy+z.ty*this.sy+this.ty;return new Dt(X,de,fe,ke,Be,Ge)},Dt.prototype.decompose=function(){var z=this.sx,X=this.shy,de=this.shx,fe=this.sy,ke=this.tx,Be=this.ty,Ge=Math.sqrt(z*z+X*X),ut=(z/=Ge)*de+(X/=Ge)*fe;de-=z*ut,fe-=X*ut;var yt=Math.sqrt(de*de+fe*fe);return ut/=yt,z*(fe/=yt)<X*(de/=yt)&&(z=-z,X=-X,ut=-ut,Ge=-Ge),{scale:new Dt(Ge,0,0,yt,0,0),translate:new Dt(1,0,0,1,ke,Be),rotate:new Dt(z,X,-X,z,0,0),skew:new Dt(1,0,ut,1,0,0)}},Dt.prototype.toString=function(z){return this.join(" ")},Dt.prototype.inversed=function(){var z=this.sx,X=this.shy,de=this.shx,fe=this.sy,ke=this.tx,Be=this.ty,Ge=1/(z*fe-X*de),ut=fe*Ge,yt=-X*Ge,Bt=-de*Ge,Zt=z*Ge;return new Dt(ut,yt,Bt,Zt,-ut*ke-Bt*Be,-yt*ke-Zt*Be)},Dt.prototype.applyToPoint=function(z){var X=z.x*this.sx+z.y*this.shx+this.tx,de=z.x*this.shy+z.y*this.sy+this.ty;return new Ml(X,de)},Dt.prototype.applyToRectangle=function(z){var X=this.applyToPoint(z),de=this.applyToPoint(new Ml(z.x+z.w,z.y+z.h));return new si(X.x,X.y,de.x-X.x,de.y-X.y)},Dt.prototype.clone=function(){var z=this.sx,X=this.shy,de=this.shx,fe=this.sy,ke=this.tx,Be=this.ty;return new Dt(z,X,de,fe,ke,Be)},g.Matrix=Dt;var Qn=g.matrixMult=function(z,X){return X.multiply(z)},Cn=new Dt(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=Cn;var cl=function(z,X){if(!Zs[z]){var de=(X instanceof yd?"Sh":"P")+(Object.keys(Lt).length+1).toString(10);X.id=de,Zs[z]=de,Lt[de]=X,Ss.publish("addPattern",X)}};g.ShadingPattern=yd,g.TilingPattern=R0,g.addShadingPattern=function(z,X){return B("addShadingPattern()"),cl(z,X),this},g.beginTilingPattern=function(z){B("beginTilingPattern()"),uo(z.boundingBox[0],z.boundingBox[1],z.boundingBox[2]-z.boundingBox[0],z.boundingBox[3]-z.boundingBox[1],z.matrix)},g.endTilingPattern=function(z,X){B("endTilingPattern()"),X.stream=$e[Q].join(`
`),cl(z,X),Ss.publish("endTilingPattern",X),Cl.pop().restore()};var dl,ha=g.__private__.newObject=function(){var z=Ra();return rr(z,!0),z},Ra=g.__private__.newObjectDeferred=function(){return me++,be[me]=function(){return we},me},rr=function(z,X){return X=typeof X=="boolean"&&X,be[z]=we,X&&se(z+" 0 obj"),z},_i=g.__private__.newAdditionalObject=function(){var z={objId:Ra(),content:""};return _e.push(z),z},_r=Ra(),Gs=Ra(),ma=g.__private__.decodeColorString=function(z){var X=z.split(" ");if(X.length!==2||X[1]!=="g"&&X[1]!=="G")X.length!==5||X[4]!=="k"&&X[4]!=="K"||(X=[(1-X[0])*(1-X[3]),(1-X[1])*(1-X[3]),(1-X[2])*(1-X[3]),"r"]);else{var de=parseFloat(X[0]);X=[de,de,de,"r"]}for(var fe="#",ke=0;ke<3;ke++)fe+=("0"+Math.floor(255*parseFloat(X[ke])).toString(16)).slice(-2);return fe},wr=g.__private__.encodeColorString=function(z){var X;typeof z=="string"&&(z={ch1:z});var de=z.ch1,fe=z.ch2,ke=z.ch3,Be=z.ch4,Ge=z.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof de=="string"&&de.charAt(0)!=="#"){var ut=new MN(de);if(ut.ok)de=ut.toHex();else if(!/^\d*\.?\d*$/.test(de))throw new Error('Invalid color "'+de+'" passed to jsPDF.encodeColorString.')}if(typeof de=="string"&&/^#[0-9A-Fa-f]{3}$/.test(de)&&(de="#"+de[1]+de[1]+de[2]+de[2]+de[3]+de[3]),typeof de=="string"&&/^#[0-9A-Fa-f]{6}$/.test(de)){var yt=parseInt(de.substr(1),16);de=yt>>16&255,fe=yt>>8&255,ke=255&yt}if(fe===void 0||Be===void 0&&de===fe&&fe===ke)X=typeof de=="string"?de+" "+Ge[0]:z.precision===2?q(de/255)+" "+Ge[0]:H(de/255)+" "+Ge[0];else if(Be===void 0||Ks(Be)==="object"){if(Be&&!isNaN(Be.a)&&Be.a===0)return["1.","1.","1.",Ge[1]].join(" ");X=typeof de=="string"?[de,fe,ke,Ge[1]].join(" "):z.precision===2?[q(de/255),q(fe/255),q(ke/255),Ge[1]].join(" "):[H(de/255),H(fe/255),H(ke/255),Ge[1]].join(" ")}else X=typeof de=="string"?[de,fe,ke,Be,Ge[2]].join(" "):z.precision===2?[q(de),q(fe),q(ke),q(Be),Ge[2]].join(" "):[H(de),H(fe),H(ke),H(Be),Ge[2]].join(" ");return X},xl=g.__private__.getFilters=function(){return d},Al=g.__private__.putStream=function(z){var X=(z=z||{}).data||"",de=z.filters||xl(),fe=z.alreadyAppliedFilters||[],ke=z.addLength1||!1,Be=X.length,Ge=z.objectId,ut=function(Ka){return Ka};if(p!==null&&Ge===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(ut=Xa.encryptor(Ge,0));var yt={};de===!0&&(de=["FlateEncode"]);var Bt=z.additionalKeyValues||[],Zt=(yt=bt.API.processDataByFilters!==void 0?bt.API.processDataByFilters(X,de):{data:X,reverseChain:[]}).reverseChain+(Array.isArray(fe)?fe.join(" "):fe.toString());if(yt.data.length!==0&&(Bt.push({key:"Length",value:yt.data.length}),ke===!0&&Bt.push({key:"Length1",value:Be})),Zt.length!=0)if(Zt.split("/").length-1==1)Bt.push({key:"Filter",value:Zt});else{Bt.push({key:"Filter",value:"["+Zt+"]"});for(var Cs=0;Cs<Bt.length;Cs+=1)if(Bt[Cs].key==="DecodeParms"){for(var pa=[],La=0;La<yt.reverseChain.split("/").length-1;La+=1)pa.push("null");pa.push(Bt[Cs].value),Bt[Cs].value="["+pa.join(" ")+"]"}}se("<<");for(var ea=0;ea<Bt.length;ea++)se("/"+Bt[ea].key+" "+Bt[ea].value);se(">>"),yt.data.length!==0&&(se("stream"),se(ut(yt.data)),se("endstream"))},lo=g.__private__.putPage=function(z){var X=z.number,de=z.data,fe=z.objId,ke=z.contentsObjId;rr(fe,!0),se("<</Type /Page"),se("/Parent "+z.rootDictionaryObjId+" 0 R"),se("/Resources "+z.resourceDictionaryObjId+" 0 R"),se("/MediaBox ["+parseFloat(R(z.mediaBox.bottomLeftX))+" "+parseFloat(R(z.mediaBox.bottomLeftY))+" "+R(z.mediaBox.topRightX)+" "+R(z.mediaBox.topRightY)+"]"),z.cropBox!==null&&se("/CropBox ["+R(z.cropBox.bottomLeftX)+" "+R(z.cropBox.bottomLeftY)+" "+R(z.cropBox.topRightX)+" "+R(z.cropBox.topRightY)+"]"),z.bleedBox!==null&&se("/BleedBox ["+R(z.bleedBox.bottomLeftX)+" "+R(z.bleedBox.bottomLeftY)+" "+R(z.bleedBox.topRightX)+" "+R(z.bleedBox.topRightY)+"]"),z.trimBox!==null&&se("/TrimBox ["+R(z.trimBox.bottomLeftX)+" "+R(z.trimBox.bottomLeftY)+" "+R(z.trimBox.topRightX)+" "+R(z.trimBox.topRightY)+"]"),z.artBox!==null&&se("/ArtBox ["+R(z.artBox.bottomLeftX)+" "+R(z.artBox.bottomLeftY)+" "+R(z.artBox.topRightX)+" "+R(z.artBox.topRightY)+"]"),typeof z.userUnit=="number"&&z.userUnit!==1&&se("/UserUnit "+z.userUnit),Ss.publish("putPage",{objId:fe,pageContext:St[X],pageNumber:X,page:de}),se("/Contents "+ke+" 0 R"),se(">>"),se("endobj");var Be=de.join(`
`);return N===L&&(Be+=`
Q`),rr(ke,!0),Al({data:Be,filters:xl(),objectId:ke}),se("endobj"),fe},en=g.__private__.putPages=function(){var z,X,de=[];for(z=1;z<=ls;z++)St[z].objId=Ra(),St[z].contentsObjId=Ra();for(z=1;z<=ls;z++)de.push(lo({number:z,data:$e[z],objId:St[z].objId,contentsObjId:St[z].contentsObjId,mediaBox:St[z].mediaBox,cropBox:St[z].cropBox,bleedBox:St[z].bleedBox,trimBox:St[z].trimBox,artBox:St[z].artBox,userUnit:St[z].userUnit,rootDictionaryObjId:_r,resourceDictionaryObjId:Gs}));rr(_r,!0),se("<</Type /Pages");var fe="/Kids [";for(X=0;X<ls;X++)fe+=de[X]+" 0 R ";se(fe+"]"),se("/Count "+ls),se(">>"),se("endobj"),Ss.publish("postPutPages")},tn=function(z){Ss.publish("putFont",{font:z,out:se,newObject:ha,putStream:Al}),z.isAlreadyPutted!==!0&&(z.objectNumber=ha(),se("<<"),se("/Type /Font"),se("/BaseFont /"+P0(z.postScriptName)),se("/Subtype /Type1"),typeof z.encoding=="string"&&se("/Encoding /"+z.encoding),se("/FirstChar 32"),se("/LastChar 255"),se(">>"),se("endobj"))},Pi=function(z){z.objectNumber=ha();var X=[];X.push({key:"Type",value:"/XObject"}),X.push({key:"Subtype",value:"/Form"}),X.push({key:"BBox",value:"["+[R(z.x),R(z.y),R(z.x+z.width),R(z.y+z.height)].join(" ")+"]"}),X.push({key:"Matrix",value:"["+z.matrix.toString()+"]"});var de=z.pages[1].join(`
`);Al({data:de,additionalKeyValues:X,objectId:z.objectNumber}),se("endobj")},sn=function(z,X){X||(X=21);var de=ha(),fe=(function(Ge,ut){var yt,Bt=[],Zt=1/(ut-1);for(yt=0;yt<1;yt+=Zt)Bt.push(yt);if(Bt.push(1),Ge[0].offset!=0){var Cs={offset:0,color:Ge[0].color};Ge.unshift(Cs)}if(Ge[Ge.length-1].offset!=1){var pa={offset:1,color:Ge[Ge.length-1].color};Ge.push(pa)}for(var La="",ea=0,Ka=0;Ka<Bt.length;Ka++){for(yt=Bt[Ka];yt>Ge[ea+1].offset;)ea++;var Fa=Ge[ea].offset,hr=(yt-Fa)/(Ge[ea+1].offset-Fa),oi=Ge[ea].color,cn=Ge[ea+1].color;La+=ue(Math.round((1-hr)*oi[0]+hr*cn[0]).toString(16))+ue(Math.round((1-hr)*oi[1]+hr*cn[1]).toString(16))+ue(Math.round((1-hr)*oi[2]+hr*cn[2]).toString(16))}return La.trim()})(z.colors,X),ke=[];ke.push({key:"FunctionType",value:"0"}),ke.push({key:"Domain",value:"[0.0 1.0]"}),ke.push({key:"Size",value:"["+X+"]"}),ke.push({key:"BitsPerSample",value:"8"}),ke.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ke.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Al({data:fe,additionalKeyValues:ke,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:de}),se("endobj"),z.objectNumber=ha(),se("<< /ShadingType "+z.type),se("/ColorSpace /DeviceRGB");var Be="/Coords ["+R(parseFloat(z.coords[0]))+" "+R(parseFloat(z.coords[1]))+" ";z.type===2?Be+=R(parseFloat(z.coords[2]))+" "+R(parseFloat(z.coords[3])):Be+=R(parseFloat(z.coords[2]))+" "+R(parseFloat(z.coords[3]))+" "+R(parseFloat(z.coords[4]))+" "+R(parseFloat(z.coords[5])),se(Be+="]"),z.matrix&&se("/Matrix ["+z.matrix.toString()+"]"),se("/Function "+de+" 0 R"),se("/Extend [true true]"),se(">>"),se("endobj")},an=function(z,X){var de=Ra(),fe=ha();X.push({resourcesOid:de,objectOid:fe}),z.objectNumber=fe;var ke=[];ke.push({key:"Type",value:"/Pattern"}),ke.push({key:"PatternType",value:"1"}),ke.push({key:"PaintType",value:"1"}),ke.push({key:"TilingType",value:"1"}),ke.push({key:"BBox",value:"["+z.boundingBox.map(R).join(" ")+"]"}),ke.push({key:"XStep",value:R(z.xStep)}),ke.push({key:"YStep",value:R(z.yStep)}),ke.push({key:"Resources",value:de+" 0 R"}),z.matrix&&ke.push({key:"Matrix",value:"["+z.matrix.toString()+"]"}),Al({data:z.stream,additionalKeyValues:ke,objectId:z.objectNumber}),se("endobj")},no=function(z){for(var X in z.objectNumber=ha(),se("<<"),z)switch(X){case"opacity":se("/ca "+q(z[X]));break;case"stroke-opacity":se("/CA "+q(z[X]))}se(">>"),se("endobj")},An=function(z){rr(z.resourcesOid,!0),se("<<"),se("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var X in se("/Font <<"),Tt)Tt.hasOwnProperty(X)&&(f===!1||f===!0&&b.hasOwnProperty(X))&&se("/"+X+" "+Tt[X].objectNumber+" 0 R");se(">>")})(),(function(){if(Object.keys(Lt).length>0){for(var X in se("/Shading <<"),Lt)Lt.hasOwnProperty(X)&&Lt[X]instanceof yd&&Lt[X].objectNumber>=0&&se("/"+X+" "+Lt[X].objectNumber+" 0 R");Ss.publish("putShadingPatternDict"),se(">>")}})(),(function(X){if(Object.keys(Lt).length>0){for(var de in se("/Pattern <<"),Lt)Lt.hasOwnProperty(de)&&Lt[de]instanceof g.TilingPattern&&Lt[de].objectNumber>=0&&Lt[de].objectNumber<X&&se("/"+de+" "+Lt[de].objectNumber+" 0 R");Ss.publish("putTilingPatternDict"),se(">>")}})(z.objectOid),(function(){if(Object.keys(Ot).length>0){var X;for(X in se("/ExtGState <<"),Ot)Ot.hasOwnProperty(X)&&Ot[X].objectNumber>=0&&se("/"+X+" "+Ot[X].objectNumber+" 0 R");Ss.publish("putGStateDict"),se(">>")}})(),(function(){for(var X in se("/XObject <<"),jr)jr.hasOwnProperty(X)&&jr[X].objectNumber>=0&&se("/"+X+" "+jr[X].objectNumber+" 0 R");Ss.publish("putXobjectDict"),se(">>")})(),se(">>"),se("endobj")},Ma=function(z){Ht[z.fontName]=Ht[z.fontName]||{},Ht[z.fontName][z.fontStyle]=z.id},Ic=function(z,X,de,fe,ke){var Be={id:"F"+(Object.keys(Tt).length+1).toString(10),postScriptName:z,fontName:X,fontStyle:de,encoding:fe,isStandardFont:ke||!1,metadata:{}};return Ss.publish("addFont",{font:Be,instance:this}),Tt[Be.id]=Be,Ma(Be),Be.id},ul=g.__private__.pdfEscape=g.pdfEscape=function(z,X){return(function(de,fe){var ke,Be,Ge,ut,yt,Bt,Zt,Cs,pa;if(Ge=(fe=fe||{}).sourceEncoding||"Unicode",yt=fe.outputEncoding,(fe.autoencode||yt)&&Tt[dt].metadata&&Tt[dt].metadata[Ge]&&Tt[dt].metadata[Ge].encoding&&(ut=Tt[dt].metadata[Ge].encoding,!yt&&Tt[dt].encoding&&(yt=Tt[dt].encoding),!yt&&ut.codePages&&(yt=ut.codePages[0]),typeof yt=="string"&&(yt=ut[yt]),yt)){for(Zt=!1,Bt=[],ke=0,Be=de.length;ke<Be;ke++)(Cs=yt[de.charCodeAt(ke)])?Bt.push(String.fromCharCode(Cs)):Bt.push(de[ke]),Bt[ke].charCodeAt(0)>>8&&(Zt=!0);de=Bt.join("")}for(ke=de.length;Zt===void 0&&ke!==0;)de.charCodeAt(ke-1)>>8&&(Zt=!0),ke--;if(!Zt)return de;for(Bt=fe.noBOM?[]:[254,255],ke=0,Be=de.length;ke<Be;ke++){if((pa=(Cs=de.charCodeAt(ke))>>8)>>8)throw new Error("Character at position "+ke+" of string '"+de+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Bt.push(pa),Bt.push(Cs-(pa<<8))}return String.fromCharCode.apply(void 0,Bt)})(z,X).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},rn=g.__private__.beginPage=function(z){$e[++ls]=[],St[ls]={objId:0,contentsObjId:0,userUnit:Number(x),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(z[0]),topRightY:Number(z[1])}},Uc(ls),xe($e[Q])},Zn=function(z,X){var de,fe,ke;switch(a=X||a,typeof z=="string"&&(de=k(z.toLowerCase()),Array.isArray(de)&&(fe=de[0],ke=de[1])),Array.isArray(z)&&(fe=z[0]*Jt,ke=z[1]*Jt),isNaN(fe)&&(fe=i[0],ke=i[1]),(fe>14400||ke>14400)&&(da.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),fe=Math.min(14400,fe),ke=Math.min(14400,ke)),i=[fe,ke],a.substr(0,1)){case"l":ke>fe&&(i=[ke,fe]);break;case"p":fe>ke&&(i=[ke,fe])}rn(i),Pt(oo),se(pl),Yo!==0&&se(Yo+" J"),lr!==0&&se(lr+" j"),Ss.publish("addPage",{pageNumber:ls})},Bc=function(z){z>0&&z<=ls&&($e.splice(z,1),St.splice(z,1),ls--,Q>ls&&(Q=ls),this.setPage(Q))},Uc=function(z){z>0&&z<=ls&&(Q=z)},$c=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return $e.length-1},Rd=function(z,X,de){var fe,ke=void 0;return de=de||{},z=z!==void 0?z:Tt[dt].fontName,X=X!==void 0?X:Tt[dt].fontStyle,fe=z.toLowerCase(),Ht[fe]!==void 0&&Ht[fe][X]!==void 0?ke=Ht[fe][X]:Ht[z]!==void 0&&Ht[z][X]!==void 0?ke=Ht[z][X]:de.disableWarning===!1&&da.warn("Unable to look up font label for font '"+z+"', '"+X+"'. Refer to getFontList() for available fonts."),ke||de.noFallback||(ke=Ht.times[X])==null&&(ke=Ht.times.normal),ke},hl=g.__private__.putInfo=function(){var z=ha(),X=function(fe){return fe};for(var de in p!==null&&(X=Xa.encryptor(z,0)),se("<<"),se("/Producer ("+ul(X("jsPDF "+bt.version))+")"),rs)rs.hasOwnProperty(de)&&rs[de]&&se("/"+de.substr(0,1).toUpperCase()+de.substr(1)+" ("+ul(X(rs[de]))+")");se("/CreationDate ("+ul(X(le))+")"),se(">>"),se("endobj")},ei=g.__private__.putCatalog=function(z){var X=(z=z||{}).rootDictionaryObjId||_r;switch(ha(),se("<<"),se("/Type /Catalog"),se("/Pages "+X+" 0 R"),kt||(kt="fullwidth"),kt){case"fullwidth":se("/OpenAction [3 0 R /FitH null]");break;case"fullheight":se("/OpenAction [3 0 R /FitV null]");break;case"fullpage":se("/OpenAction [3 0 R /Fit]");break;case"original":se("/OpenAction [3 0 R /XYZ null null 1]");break;default:var de=""+kt;de.substr(de.length-1)==="%"&&(kt=parseInt(kt)/100),typeof kt=="number"&&se("/OpenAction [3 0 R /XYZ null null "+q(kt)+"]")}switch(Kt||(Kt="continuous"),Kt){case"continuous":se("/PageLayout /OneColumn");break;case"single":se("/PageLayout /SinglePage");break;case"two":case"twoleft":se("/PageLayout /TwoColumnLeft");break;case"tworight":se("/PageLayout /TwoColumnRight")}gt&&se("/PageMode /"+gt),Ss.publish("putCatalog"),se(">>"),se("endobj")},ln=g.__private__.putTrailer=function(){se("trailer"),se("<<"),se("/Size "+(me+1)),se("/Root "+me+" 0 R"),se("/Info "+(me-1)+" 0 R"),p!==null&&se("/Encrypt "+Xa.oid+" 0 R"),se("/ID [ <"+V+"> <"+V+"> ]"),se(">>")},Es=g.__private__.putHeader=function(){se("%PDF-"+j),se("%")},qc=g.__private__.putXRef=function(){var z="0000000000";se("xref"),se("0 "+(me+1)),se("0000000000 65535 f ");for(var X=1;X<=me;X++)typeof be[X]=="function"?se((z+be[X]()).slice(-10)+" 00000 n "):be[X]!==void 0?se((z+be[X]).slice(-10)+" 00000 n "):se("0000000000 00000 n ")},Dn=g.__private__.buildDocument=function(){var z;me=0,we=0,he=[],be=[],_e=[],_r=Ra(),Gs=Ra(),xe(he),Ss.publish("buildDocument"),Es(),en(),(function(){Ss.publish("putAdditionalObjects");for(var de=0;de<_e.length;de++){var fe=_e[de];rr(fe.objId,!0),se(fe.content),se("endobj")}Ss.publish("postPutAdditionalObjects")})(),z=[],(function(){for(var de in Tt)Tt.hasOwnProperty(de)&&(f===!1||f===!0&&b.hasOwnProperty(de))&&tn(Tt[de])})(),(function(){var de;for(de in Ot)Ot.hasOwnProperty(de)&&no(Ot[de])})(),(function(){for(var de in jr)jr.hasOwnProperty(de)&&Pi(jr[de])})(),(function(de){var fe;for(fe in Lt)Lt.hasOwnProperty(fe)&&(Lt[fe]instanceof yd?sn(Lt[fe]):Lt[fe]instanceof R0&&an(Lt[fe],de))})(z),Ss.publish("putResources"),z.forEach(An),An({resourcesOid:Gs,objectOid:Number.MAX_SAFE_INTEGER}),Ss.publish("postPutResources"),p!==null&&(Xa.oid=ha(),se("<<"),se("/Filter /Standard"),se("/V "+Xa.v),se("/R "+Xa.r),se("/U <"+Xa.toHexString(Xa.U)+">"),se("/O <"+Xa.toHexString(Xa.O)+">"),se("/P "+Xa.P),se(">>"),se("endobj")),hl(),ei();var X=we;return qc(),ln(),se("startxref"),se(""+X),se("%%EOF"),xe($e[Q]),he.join(`
`)},Ri=g.__private__.getBlob=function(z){return new Blob([It(z)],{type:"application/pdf"})},Hc=g.output=g.__private__.output=(dl=function(z,X){switch(typeof(X=X||{})=="string"?X={filename:X}:X.filename=X.filename||"generated.pdf",z){case void 0:return Dn();case"save":g.save(X.filename);break;case"arraybuffer":return It(Dn());case"blob":return Ri(Dn());case"bloburi":case"bloburl":if(Yt.URL!==void 0&&typeof Yt.URL.createObjectURL=="function")return Yt.URL&&Yt.URL.createObjectURL(Ri(Dn()))||void 0;da.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var de="",fe=Dn();try{de=u2(fe)}catch{de=u2(unescape(encodeURIComponent(fe)))}return"data:application/pdf;filename="+X.filename+";base64,"+de;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Yt)==="[object Window]"){var ke="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Be=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';X.pdfObjectUrl&&(ke=X.pdfObjectUrl,Be="");var Ge='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ke+'"'+Be+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(X)+");<\/script></body></html>",ut=Yt.open();return ut!==null&&ut.document.write(Ge),ut}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Yt)==="[object Window]"){var yt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(X.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+X.filename+'" width="500px" height="400px" /></body></html>',Bt=Yt.open();if(Bt!==null){Bt.document.write(yt);var Zt=this;Bt.document.documentElement.querySelector("#pdfViewer").onload=function(){Bt.document.title=X.filename,Bt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Zt.output("bloburl"))}}return Bt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Yt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Cs='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",X)+'"></iframe></body></html>',pa=Yt.open();if(pa!==null&&(pa.document.write(Cs),pa.document.title=X.filename),pa||typeof safari>"u")return pa;break;case"datauri":case"dataurl":return Yt.document.location.href=this.output("datauristring",X);default:return null}},dl.foo=function(){try{return dl.apply(this,arguments)}catch(de){var z=de.stack||"";~z.indexOf(" at ")&&(z=z.split(" at ")[1]);var X="Error in function "+z.split(`
`)[0].split("<")[0]+": "+de.message;if(!Yt.console)throw new Error(X);Yt.console.error(X,de),Yt.alert&&alert(X)}},dl.foo.bar=dl,dl.foo),Pr=function(z){return Array.isArray(Zl)===!0&&Zl.indexOf(z)>-1};switch(l){case"pt":Jt=1;break;case"mm":Jt=72/25.4;break;case"cm":Jt=72/2.54;break;case"in":Jt=72;break;case"px":Jt=Pr("px_scaling")==1?.75:96/72;break;case"pc":case"em":Jt=12;break;case"ex":Jt=6;break;default:if(typeof l!="number")throw new Error("Invalid unit: "+l);Jt=l}var Xa=null;Y(),I();var Oa=g.__private__.getPageInfo=g.getPageInfo=function(z){if(isNaN(z)||z%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:St[z].objId,pageNumber:z,pageContext:St[z]}},Go=g.__private__.getPageInfoByObjId=function(z){if(isNaN(z)||z%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var X in St)if(St[X].objId===z)break;return Oa(X)},Od=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:St[Q].objId,pageNumber:Q,pageContext:St[Q]}};g.addPage=function(){return Zn.apply(this,arguments),this},g.setPage=function(){return Uc.apply(this,arguments),xe.call(this,$e[Q]),this},g.insertPage=function(z){return this.addPage(),this.movePage(Q,z),this},g.movePage=function(z,X){var de,fe;if(z>X){de=$e[z],fe=St[z];for(var ke=z;ke>X;ke--)$e[ke]=$e[ke-1],St[ke]=St[ke-1];$e[X]=de,St[X]=fe,this.setPage(X)}else if(z<X){de=$e[z],fe=St[z];for(var Be=z;Be<X;Be++)$e[Be]=$e[Be+1],St[Be]=St[Be+1];$e[X]=de,St[X]=fe,this.setPage(X)}return this},g.deletePage=function(){return Bc.apply(this,arguments),this},g.__private__.text=g.text=function(z,X,de,fe,ke){var Be,Ge,ut,yt,Bt,Zt,Cs,pa,La,ea=(fe=fe||{}).scope||this;if(typeof z=="number"&&typeof X=="number"&&(typeof de=="string"||Array.isArray(de))){var Ka=de;de=X,X=z,z=Ka}if(arguments[3]instanceof Dt==0?(ut=arguments[4],yt=arguments[5],Ks(Cs=arguments[3])==="object"&&Cs!==null||(typeof ut=="string"&&(yt=ut,ut=null),typeof Cs=="string"&&(yt=Cs,Cs=null),typeof Cs=="number"&&(ut=Cs,Cs=null),fe={flags:Cs,angle:ut,align:yt})):(B("The transform parameter of text() with a Matrix value"),La=ke),isNaN(X)||isNaN(de)||z==null)throw new Error("Invalid arguments passed to jsPDF.text");if(z.length===0)return ea;var Fa,hr="",oi=typeof fe.lineHeightFactor=="number"?fe.lineHeightFactor:ti,cn=ea.internal.scaleFactor;function ci(Ts){return Ts=Ts.split("	").join(Array(fe.TabLen||9).join(" ")),ul(Ts,Cs)}function Zc(Ts){for(var As,ta=Ts.concat(),Ea=[],Fn=ta.length;Fn--;)typeof(As=ta.shift())=="string"?Ea.push(As):Array.isArray(Ts)&&(As.length===1||As[1]===void 0&&As[2]===void 0)?Ea.push(As[0]):Ea.push([As[0],As[1],As[2]]);return Ea}function Ko(Ts,As){var ta;if(typeof Ts=="string")ta=As(Ts)[0];else if(Array.isArray(Ts)){for(var Ea,Fn,hn=Ts.concat(),fo=[],sd=hn.length;sd--;)typeof(Ea=hn.shift())=="string"?fo.push(As(Ea)[0]):Array.isArray(Ea)&&typeof Ea[0]=="string"&&(Fn=As(Ea[0],Ea[1],Ea[2]),fo.push([Fn[0],Fn[1],Fn[2]]));ta=fo}return ta}var zn=!1,dn=!0;if(typeof z=="string")zn=!0;else if(Array.isArray(z)){var mo=z.concat();Ge=[];for(var di,nr=mo.length;nr--;)(typeof(di=mo.shift())!="string"||Array.isArray(di)&&typeof di[0]!="string")&&(dn=!1);zn=dn}if(zn===!1)throw new Error('Type of text must be string or Array. "'+z+'" is not recognized.');typeof z=="string"&&(z=z.match(/[\r?\n]/)?z.split(/\r\n|\r|\n/g):[z]);var Fi=Xe/ea.internal.scaleFactor,Ii=Fi*(oi-1);switch(fe.baseline){case"bottom":de-=Ii;break;case"top":de+=Fi-Ii;break;case"hanging":de+=Fi-2*Ii;break;case"middle":de+=Fi/2-Ii}if((Zt=fe.maxWidth||0)>0&&(typeof z=="string"?z=ea.splitTextToSize(z,Zt):Object.prototype.toString.call(z)==="[object Array]"&&(z=z.reduce(function(Ts,As){return Ts.concat(ea.splitTextToSize(As,Zt))},[]))),Be={text:z,x:X,y:de,options:fe,mutex:{pdfEscape:ul,activeFontKey:dt,fonts:Tt,activeFontSize:Xe}},Ss.publish("preProcessText",Be),z=Be.text,ut=(fe=Be.options).angle,La instanceof Dt==0&&ut&&typeof ut=="number"){ut*=Math.PI/180,fe.rotationDirection===0&&(ut=-ut),N===L&&(ut=-ut);var Jo=Math.cos(ut),En=Math.sin(ut);La=new Dt(Jo,En,-En,Jo,0,0)}else ut&&ut instanceof Dt&&(La=ut);N!==L||La||(La=Cn),(Bt=fe.charSpace||Dl)!==void 0&&(hr+=R(G(Bt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(pa=fe.horizontalScale)!==void 0&&(hr+=R(100*pa)+` Tz
`),fe.lang;var Or=-1,xi=fe.renderingMode!==void 0?fe.renderingMode:fe.stroke,Qo=ea.internal.getCurrentPageInfo().pageContext;switch(xi){case 0:case!1:case"fill":Or=0;break;case 1:case!0:case"stroke":Or=1;break;case 2:case"fillThenStroke":Or=2;break;case 3:case"invisible":Or=3;break;case 4:case"fillAndAddForClipping":Or=4;break;case 5:case"strokeAndAddPathForClipping":Or=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Or=6;break;case 7:case"addToPathForClipping":Or=7}var ed=Qo.usedRenderingMode!==void 0?Qo.usedRenderingMode:-1;Or!==-1?hr+=Or+` Tr
`:ed!==-1&&(hr+=`0 Tr
`),Or!==-1&&(Qo.usedRenderingMode=Or),yt=fe.align||"left";var fl,xn=Xe*oi,ui=ea.internal.pageSize.getWidth(),td=Tt[dt];Bt=fe.charSpace||Dl,Zt=fe.maxWidth||0,Cs=Object.assign({autoencode:!0,noBOM:!0},fe.flags);var un=[],Bi=function(Ts){return ea.getStringUnitWidth(Ts,{font:td,charSpace:Bt,fontSize:Xe,doKerning:!1})*Xe/cn};if(Object.prototype.toString.call(z)==="[object Array]"){var Xr;Ge=Zc(z),yt!=="left"&&(fl=Ge.map(Bi));var Fr,Tn=0;if(yt==="right"){X-=fl[0],z=[],nr=Ge.length;for(var _n=0;_n<nr;_n++)_n===0?(Fr=ml(X),Xr=ur(de)):(Fr=G(Tn-fl[_n]),Xr=-xn),z.push([Ge[_n],Fr,Xr]),Tn=fl[_n]}else if(yt==="center"){X-=fl[0]/2,z=[],nr=Ge.length;for(var hi=0;hi<nr;hi++)hi===0?(Fr=ml(X),Xr=ur(de)):(Fr=G((Tn-fl[hi])/2),Xr=-xn),z.push([Ge[hi],Fr,Xr]),Tn=fl[hi]}else if(yt==="left"){z=[],nr=Ge.length;for(var Zo=0;Zo<nr;Zo++)z.push(Ge[Zo])}else if(yt==="justify"&&td.encoding==="Identity-H"){z=[],nr=Ge.length,Zt=Zt!==0?Zt:ui;for(var ec=0,za=0;za<nr;za++)if(Xr=za===0?ur(de):-xn,Fr=za===0?ml(X):ec,za<nr-1){var Gd=G((Zt-fl[za])/(Ge[za].split(" ").length-1)),Pn=Ge[za].split(" ");z.push([Pn[0]+" ",Fr,Xr]),ec=0;for(var Rn=1;Rn<Pn.length;Rn++){var mr=(Bi(Pn[Rn-1]+" "+Pn[Rn])-Bi(Pn[Rn]))*cn+Gd;Rn==Pn.length-1?z.push([Pn[Rn],mr,0]):z.push([Pn[Rn]+" ",mr,0]),ec-=mr}}else z.push([Ge[za],Fr,Xr]);z.push(["",ec,0])}else{if(yt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(z=[],nr=Ge.length,Zt=Zt!==0?Zt:ui,za=0;za<nr;za++){Xr=za===0?ur(de):-xn,Fr=za===0?ml(X):0;var mi=Ge[za].split(" ").length-1,tc=mi>0?(Zt-fl[za])/mi:0;za<nr-1?un.push(R(G(tc))):un.push(0),z.push([Ge[za],Fr,Xr])}}}(typeof fe.R2L=="boolean"?fe.R2L:Ct)===!0&&(z=Ko(z,function(Ts,As,ta){return[Ts.split("").reverse().join(""),As,ta]})),Be={text:z,x:X,y:de,options:fe,mutex:{pdfEscape:ul,activeFontKey:dt,fonts:Tt,activeFontSize:Xe}},Ss.publish("postProcessText",Be),z=Be.text,Fa=Be.mutex.isHex||!1;var sc=Tt[dt].encoding;sc!=="WinAnsiEncoding"&&sc!=="StandardEncoding"||(z=Ko(z,function(Ts,As,ta){return[ci(Ts),As,ta]})),Ge=Zc(z),z=[];for(var pi,fi,On,po=Array.isArray(Ge[0])?1:0,gl="",gi=function(Ts,As,ta){var Ea="";return ta instanceof Dt?(ta=typeof fe.angle=="number"?Qn(ta,new Dt(1,0,0,1,Ts,As)):Qn(new Dt(1,0,0,1,Ts,As),ta),N===L&&(ta=Qn(new Dt(1,0,0,-1,0,0),ta)),Ea=ta.join(" ")+` Tm
`):Ea=R(Ts)+" "+R(As)+` Td
`,Ea},Nr=0;Nr<Ge.length;Nr++){switch(gl="",po){case 1:On=(Fa?"<":"(")+Ge[Nr][0]+(Fa?">":")"),pi=parseFloat(Ge[Nr][1]),fi=parseFloat(Ge[Nr][2]);break;case 0:On=(Fa?"<":"(")+Ge[Nr]+(Fa?">":")"),pi=ml(X),fi=ur(de)}un!==void 0&&un[Nr]!==void 0&&(gl=un[Nr]+` Tw
`),Nr===0?z.push(gl+gi(pi,fi,La)+On):po===0?z.push(gl+On):po===1&&z.push(gl+gi(pi,fi,La)+On)}z=po===0?z.join(` Tj
T* `):z.join(` Tj
`),z+=` Tj
`;var Ll=`BT
/`;return Ll+=dt+" "+Xe+` Tf
`,Ll+=R(Xe*oi)+` TL
`,Ll+=Mn+`
`,Ll+=hr,Ll+=z,se(Ll+="ET"),b[dt]=!0,ea};var Wc=g.__private__.clip=g.clip=function(z){return se(z==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return Wc("evenodd")},g.__private__.discardPath=g.discardPath=function(){return se("n"),this};var Rr=g.__private__.isValidStyle=function(z){var X=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(z)!==-1&&(X=!0),X};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(z){return Rr(z)&&(h=z),this};var Gc=g.__private__.getStyle=g.getStyle=function(z){var X=h;switch(z){case"D":case"S":X="S";break;case"F":X="f";break;case"FD":case"DF":X="B";break;case"f":case"f*":case"B":case"B*":X=z}return X},Vc=g.close=function(){return se("h"),this};g.stroke=function(){return se("S"),this},g.fill=function(z){return nn("f",z),this},g.fillEvenOdd=function(z){return nn("f*",z),this},g.fillStroke=function(z){return nn("B",z),this},g.fillStrokeEvenOdd=function(z){return nn("B*",z),this};var nn=function(z,X){Ks(X)==="object"?Id(X,z):se(z)},io=function(z){z===null||N===L&&z===void 0||(z=Gc(z),se(z))};function Fd(z,X,de,fe,ke){var Be=new R0(X||this.boundingBox,de||this.xStep,fe||this.yStep,this.gState,ke||this.matrix);Be.stream=this.stream;var Ge=z+"$$"+this.cloneIndex+++"$$";return cl(Ge,Be),Be}var Id=function(z,X){var de=Zs[z.key],fe=Lt[de];if(fe instanceof yd)se("q"),se(Yc(X)),fe.gState&&g.setGState(fe.gState),se(z.matrix.toString()+" cm"),se("/"+de+" sh"),se("Q");else if(fe instanceof R0){var ke=new Dt(1,0,0,-1,0,ii());z.matrix&&(ke=ke.multiply(z.matrix||Cn),de=Fd.call(fe,z.key,z.boundingBox,z.xStep,z.yStep,ke).id),se("q"),se("/Pattern cs"),se("/"+de+" scn"),fe.gState&&g.setGState(fe.gState),se(X),se("Q")}},Yc=function(z){switch(z){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Xc=g.moveTo=function(z,X){return se(R(G(z))+" "+R(W(X))+" m"),this},Bd=g.lineTo=function(z,X){return se(R(G(z))+" "+R(W(X))+" l"),this},Yr=g.curveTo=function(z,X,de,fe,ke,Be){return se([R(G(z)),R(W(X)),R(G(de)),R(W(fe)),R(G(ke)),R(W(Be)),"c"].join(" ")),this};g.__private__.line=g.line=function(z,X,de,fe,ke){if(isNaN(z)||isNaN(X)||isNaN(de)||isNaN(fe)||!Rr(ke))throw new Error("Invalid arguments passed to jsPDF.line");return N===C?this.lines([[de-z,fe-X]],z,X,[1,1],ke||"S"):this.lines([[de-z,fe-X]],z,X,[1,1]).stroke()},g.__private__.lines=g.lines=function(z,X,de,fe,ke,Be){var Ge,ut,yt,Bt,Zt,Cs,pa,La,ea,Ka,Fa,hr;if(typeof z=="number"&&(hr=de,de=X,X=z,z=hr),fe=fe||[1,1],Be=Be||!1,isNaN(X)||isNaN(de)||!Array.isArray(z)||!Array.isArray(fe)||!Rr(ke)||typeof Be!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Xc(X,de),Ge=fe[0],ut=fe[1],Bt=z.length,Ka=X,Fa=de,yt=0;yt<Bt;yt++)(Zt=z[yt]).length===2?(Ka=Zt[0]*Ge+Ka,Fa=Zt[1]*ut+Fa,Bd(Ka,Fa)):(Cs=Zt[0]*Ge+Ka,pa=Zt[1]*ut+Fa,La=Zt[2]*Ge+Ka,ea=Zt[3]*ut+Fa,Ka=Zt[4]*Ge+Ka,Fa=Zt[5]*ut+Fa,Yr(Cs,pa,La,ea,Ka,Fa));return Be&&Vc(),io(ke),this},g.path=function(z){for(var X=0;X<z.length;X++){var de=z[X],fe=de.c;switch(de.op){case"m":Xc(fe[0],fe[1]);break;case"l":Bd(fe[0],fe[1]);break;case"c":Yr.apply(this,fe);break;case"h":Vc()}}return this},g.__private__.rect=g.rect=function(z,X,de,fe,ke){if(isNaN(z)||isNaN(X)||isNaN(de)||isNaN(fe)||!Rr(ke))throw new Error("Invalid arguments passed to jsPDF.rect");return N===C&&(fe=-fe),se([R(G(z)),R(W(X)),R(G(de)),R(G(fe)),"re"].join(" ")),io(ke),this},g.__private__.triangle=g.triangle=function(z,X,de,fe,ke,Be,Ge){if(isNaN(z)||isNaN(X)||isNaN(de)||isNaN(fe)||isNaN(ke)||isNaN(Be)||!Rr(Ge))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[de-z,fe-X],[ke-de,Be-fe],[z-ke,X-Be]],z,X,[1,1],Ge,!0),this},g.__private__.roundedRect=g.roundedRect=function(z,X,de,fe,ke,Be,Ge){if(isNaN(z)||isNaN(X)||isNaN(de)||isNaN(fe)||isNaN(ke)||isNaN(Be)||!Rr(Ge))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ut=4/3*(Math.SQRT2-1);return ke=Math.min(ke,.5*de),Be=Math.min(Be,.5*fe),this.lines([[de-2*ke,0],[ke*ut,0,ke,Be-Be*ut,ke,Be],[0,fe-2*Be],[0,Be*ut,-ke*ut,Be,-ke,Be],[2*ke-de,0],[-ke*ut,0,-ke,-Be*ut,-ke,-Be],[0,2*Be-fe],[0,-Be*ut,ke*ut,-Be,ke,-Be]],z+ke,X,[1,1],Ge,!0),this},g.__private__.ellipse=g.ellipse=function(z,X,de,fe,ke){if(isNaN(z)||isNaN(X)||isNaN(de)||isNaN(fe)||!Rr(ke))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Be=4/3*(Math.SQRT2-1)*de,Ge=4/3*(Math.SQRT2-1)*fe;return Xc(z+de,X),Yr(z+de,X-Ge,z+Be,X-fe,z,X-fe),Yr(z-Be,X-fe,z-de,X-Ge,z-de,X),Yr(z-de,X+Ge,z-Be,X+fe,z,X+fe),Yr(z+Be,X+fe,z+de,X+Ge,z+de,X),io(ke),this},g.__private__.circle=g.circle=function(z,X,de,fe){if(isNaN(z)||isNaN(X)||isNaN(de)||!Rr(fe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(z,X,de,de,fe)},g.setFont=function(z,X,de){return de&&(X=F(X,de)),dt=Rd(z,X,{disableWarning:!1}),this};var on=g.__private__.getFont=g.getFont=function(){return Tt[Rd.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var z,X,de={};for(z in Ht)if(Ht.hasOwnProperty(z))for(X in de[z]=[],Ht[z])Ht[z].hasOwnProperty(X)&&de[z].push(X);return de},g.addFont=function(z,X,de,fe,ke){var Be=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Be.indexOf(arguments[3])!==-1?ke=arguments[3]:arguments[3]&&Be.indexOf(arguments[3])==-1&&(de=F(de,fe)),Ic.call(this,z,X,de,ke=ke||"Identity-H")};var ti,oo=t.lineWidth||.200025,Oi=g.__private__.getLineWidth=g.getLineWidth=function(){return oo},Pt=g.__private__.setLineWidth=g.setLineWidth=function(z){return oo=z,se(R(G(z))+" w"),this};g.__private__.setLineDash=bt.API.setLineDash=bt.API.setLineDashPattern=function(z,X){if(z=z||[],X=X||0,isNaN(X)||!Array.isArray(z))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return z=z.map(function(de){return R(G(de))}).join(" "),X=R(G(X)),se("["+z+"] "+X+" d"),this};var Ud=g.__private__.getLineHeight=g.getLineHeight=function(){return Xe*ti};g.__private__.getLineHeight=g.getLineHeight=function(){return Xe*ti};var Kc=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(z){return typeof(z=z||1.15)=="number"&&(ti=z),this},$d=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return ti};Kc(t.lineHeight);var ml=g.__private__.getHorizontalCoordinate=function(z){return G(z)},ur=g.__private__.getVerticalCoordinate=function(z){return N===L?z:St[Q].mediaBox.topRightY-St[Q].mediaBox.bottomLeftY-G(z)},Jc=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(z){return R(ml(z))},co=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(z){return R(ur(z))},pl=t.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return ma(pl)},g.__private__.setStrokeColor=g.setDrawColor=function(z,X,de,fe){return pl=wr({ch1:z,ch2:X,ch3:de,ch4:fe,pdfColorType:"draw",precision:2}),se(pl),this};var xo=t.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return ma(xo)},g.__private__.setFillColor=g.setFillColor=function(z,X,de,fe){return xo=wr({ch1:z,ch2:X,ch3:de,ch4:fe,pdfColorType:"fill",precision:2}),se(xo),this};var Mn=t.textColor||"0 g",qd=g.__private__.getTextColor=g.getTextColor=function(){return ma(Mn)};g.__private__.setTextColor=g.setTextColor=function(z,X,de,fe){return Mn=wr({ch1:z,ch2:X,ch3:de,ch4:fe,pdfColorType:"text",precision:3}),this};var Dl=t.charSpace,Vo=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(Dl||0)};g.__private__.setCharSpace=g.setCharSpace=function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Dl=z,this};var Yo=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(z){var X=g.CapJoinStyles[z];if(X===void 0)throw new Error("Line cap style of '"+z+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Yo=X,se(X+" J"),this};var lr=0;g.__private__.setLineJoin=g.setLineJoin=function(z){var X=g.CapJoinStyles[z];if(X===void 0)throw new Error("Line join style of '"+z+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return lr=X,se(X+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(z){if(z=z||0,isNaN(z))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return se(R(G(z))+" M"),this},g.GState=Jh,g.setGState=function(z){(z=typeof z=="string"?Ot[Wt[z]]:Ln(null,z)).equals(Ws)||(se("/"+z.id+" gs"),Ws=z)};var Ln=function(z,X){if(!z||!Wt[z]){var de=!1;for(var fe in Ot)if(Ot.hasOwnProperty(fe)&&Ot[fe].equals(X)){de=!0;break}if(de)X=Ot[fe];else{var ke="GS"+(Object.keys(Ot).length+1).toString(10);Ot[ke]=X,X.id=ke}return z&&(Wt[z]=X.id),Ss.publish("addGState",X),X}};g.addGState=function(z,X){return Ln(z,X),this},g.saveGraphicsState=function(){return se("q"),ps.push({key:dt,size:Xe,color:Mn}),this},g.restoreGraphicsState=function(){se("Q");var z=ps.pop();return dt=z.key,Xe=z.size,Mn=z.color,Ws=null,this},g.setCurrentTransformationMatrix=function(z){return se(z.toString()+" cm"),this},g.comment=function(z){return se("#"+z),this};var Ml=function(z,X){var de=z||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return de},set:function(Be){isNaN(Be)||(de=parseFloat(Be))}});var fe=X||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return fe},set:function(Be){isNaN(Be)||(fe=parseFloat(Be))}});var ke="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ke},set:function(Be){ke=Be.toString()}}),this},si=function(z,X,de,fe){Ml.call(this,z,X),this.type="rect";var ke=de||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ke},set:function(Ge){isNaN(Ge)||(ke=parseFloat(Ge))}});var Be=fe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Be},set:function(Ge){isNaN(Ge)||(Be=parseFloat(Ge))}}),this},Xo=function(){this.page=ls,this.currentPage=Q,this.pages=$e.slice(0),this.pagesContext=St.slice(0),this.x=Nt,this.y=Da,this.matrix=xs,this.width=ri(Q),this.height=Qc(Q),this.outputDestination=et,this.id="",this.objectNumber=-1};Xo.prototype.restore=function(){ls=this.page,Q=this.currentPage,St=this.pagesContext,$e=this.pages,Nt=this.x,Da=this.y,xs=this.matrix,ho(Q,this.width),li(Q,this.height),et=this.outputDestination};var uo=function(z,X,de,fe,ke){Cl.push(new Xo),ls=Q=0,$e=[],Nt=z,Da=X,xs=ke,rn([de,fe])};for(var ai in g.beginFormObject=function(z,X,de,fe,ke){return uo(z,X,de,fe,ke),this},g.endFormObject=function(z){return(function(X){if(Sn[X])Cl.pop().restore();else{var de=new Xo,fe="Xo"+(Object.keys(jr).length+1).toString(10);de.id=fe,Sn[X]=fe,jr[fe]=de,Ss.publish("addFormObject",de),Cl.pop().restore()}})(z),this},g.doFormObject=function(z,X){var de=jr[Sn[z]];return se("q"),se(X.toString()+" cm"),se("/"+de.id+" Do"),se("Q"),this},g.getFormObject=function(z){var X=jr[Sn[z]];return{x:X.x,y:X.y,width:X.width,height:X.height,matrix:X.matrix}},g.save=function(z,X){return z=z||"generated.pdf",(X=X||{}).returnPromise=X.returnPromise||!1,X.returnPromise===!1?(bd(Ri(Dn()),z),typeof bd.unload=="function"&&Yt.setTimeout&&setTimeout(bd.unload,911),this):new Promise(function(de,fe){try{var ke=bd(Ri(Dn()),z);typeof bd.unload=="function"&&Yt.setTimeout&&setTimeout(bd.unload,911),de(ke)}catch(Be){fe(Be.message)}})},bt.API)bt.API.hasOwnProperty(ai)&&(ai==="events"&&bt.API.events.length?(function(z,X){var de,fe,ke;for(ke=X.length-1;ke!==-1;ke--)de=X[ke][0],fe=X[ke][1],z.subscribe.apply(z,[de].concat(typeof fe=="function"?[fe]:fe))})(Ss,bt.API.events):g[ai]=bt.API[ai]);function ri(z){return St[z].mediaBox.topRightX-St[z].mediaBox.bottomLeftX}function ho(z,X){St[z].mediaBox.topRightX=X+St[z].mediaBox.bottomLeftX}function Qc(z){return St[z].mediaBox.topRightY-St[z].mediaBox.bottomLeftY}function li(z,X){St[z].mediaBox.topRightY=X+St[z].mediaBox.bottomLeftY}var ni=g.getPageWidth=function(z){return ri(z=z||Q)/Jt},Hd=g.setPageWidth=function(z,X){ho(z,X*Jt)},ii=g.getPageHeight=function(z){return Qc(z=z||Q)/Jt},Wd=g.setPageHeight=function(z,X){li(z,X*Jt)};return g.internal={pdfEscape:ul,getStyle:Gc,getFont:on,getFontSize:nt,getCharSpace:Vo,getTextColor:qd,getLineHeight:Ud,getLineHeightFactor:$d,getLineWidth:Oi,write:Ze,getHorizontalCoordinate:ml,getVerticalCoordinate:ur,getCoordinateString:Jc,getVerticalCoordinateString:co,collections:{},newObject:ha,newAdditionalObject:_i,newObjectDeferred:Ra,newObjectDeferredBegin:rr,getFilters:xl,putStream:Al,events:Ss,scaleFactor:Jt,pageSize:{getWidth:function(){return ni(Q)},setWidth:function(z){Hd(Q,z)},getHeight:function(){return ii(Q)},setHeight:function(z){Wd(Q,z)}},encryptionOptions:p,encryption:Xa,getEncryptor:function(z){return p!==null?Xa.encryptor(z,0):function(X){return X}},output:Hc,getNumberOfPages:$c,get pages(){return $e},out:se,f2:q,f3:H,getPageInfo:Oa,getPageInfoByObjId:Go,getCurrentPageInfo:Od,getPDFVersion:A,Point:Ml,Rectangle:si,Matrix:Dt,hasHotfix:Pr},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return ni(Q)},set:function(z){Hd(Q,z)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return ii(Q)},set:function(z){Wd(Q,z)},enumerable:!0,configurable:!0}),(function(z){for(var X=0,de=At.length;X<de;X++){var fe=Ic.call(this,z[X][0],z[X][1],z[X][2],At[X][3],!0);f===!1&&(b[fe]=!0);var ke=z[X][0].split("-");Ma({id:fe,fontName:ke[0],fontStyle:ke[1]||""})}Ss.publish("addFonts",{fonts:Tt,dictionary:Ht})}).call(g,At),dt="F1",Zn(i,a),Ss.publish("initialized"),g}_0.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},_0.prototype.toHexString=function(t){return t.split("").map(function(s){return("0"+(255&s.charCodeAt(0)).toString(16)).slice(-2)}).join("")},_0.prototype.hexToBytes=function(t){for(var s=[],a=0;a<t.length;a+=2)s.push(String.fromCharCode(parseInt(t.substr(a,2),16)));return s.join("")},_0.prototype.processOwnerPassword=function(t,s){return Xf(Yf(s).substr(0,5),t)},_0.prototype.encryptor=function(t,s){var a=Yf(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&s,s>>8&255)).substr(0,10);return function(l){return Xf(a,l)}},Jh.prototype.equals=function(t){var s,a="id,objectNumber,equals";if(!t||Ks(t)!==Ks(this))return!1;var l=0;for(s in this)if(!(a.indexOf(s)>=0)){if(this.hasOwnProperty(s)&&!t.hasOwnProperty(s)||this[s]!==t[s])return!1;l++}for(s in t)t.hasOwnProperty(s)&&a.indexOf(s)<0&&l--;return l===0},bt.API={events:[]},bt.version="4.2.0";var Wa=bt.API,Bg=1,Pd=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},E0=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ed=function(t){return t.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(s){var a=s.charCodeAt(0).toString(16).toUpperCase();return"#"+(a.length===1?"0"+a:a)})},as=function(t){return t.toFixed(2)},Dc=function(t){return t.toFixed(5)};Wa.__acroform__={};var Ql=function(t,s){t.prototype=Object.create(s.prototype),t.prototype.constructor=t},f2=function(t){return t*Bg},to=function(t){var s=new TN,a=pt.internal.getHeight(t)||0,l=pt.internal.getWidth(t)||0;return s.BBox=[0,0,Number(as(l)),Number(as(a))],s},nT=Wa.__acroform__.setBit=function(t,s){if(t=t||0,s=s||0,isNaN(t)||isNaN(s))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<s},iT=Wa.__acroform__.clearBit=function(t,s){if(t=t||0,s=s||0,isNaN(t)||isNaN(s))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<s)},oT=Wa.__acroform__.getBit=function(t,s){if(isNaN(t)||isNaN(s))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<s?1:0},Za=Wa.__acroform__.getBitForPdf=function(t,s){if(isNaN(t)||isNaN(s))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return oT(t,s-1)},er=Wa.__acroform__.setBitForPdf=function(t,s){if(isNaN(t)||isNaN(s))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return nT(t,s-1)},tr=Wa.__acroform__.clearBitForPdf=function(t,s){if(isNaN(t)||isNaN(s))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return iT(t,s-1)},cT=Wa.__acroform__.calculateCoordinates=function(t,s){var a=s.internal.getHorizontalCoordinate,l=s.internal.getVerticalCoordinate,i=t[0],o=t[1],d=t[2],x=t[3],u={};return u.lowerLeft_X=a(i)||0,u.lowerLeft_Y=l(o+x)||0,u.upperRight_X=a(i+d)||0,u.upperRight_Y=l(o)||0,[Number(as(u.lowerLeft_X)),Number(as(u.lowerLeft_Y)),Number(as(u.upperRight_X)),Number(as(u.upperRight_Y))]},dT=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var s=[],a=t._V||t.DV,l=Kf(t,a),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;s.push("/Tx BMC"),s.push("q"),s.push("BT"),s.push(t.scope.__private__.encodeColorString(t.color)),s.push("/"+i+" "+as(l.fontSize)+" Tf"),s.push("1 0 0 1 0 0 Tm"),s.push(l.text),s.push("ET"),s.push("Q"),s.push("EMC");var o=to(t);return o.scope=t.scope,o.stream=s.join(`
`),o}},Kf=function(t,s){var a=t.fontSize===0?t.maxFontSize:t.fontSize,l={text:"",fontSize:""},i=(s=(s=s.substr(0,1)=="("?s.substr(1):s).substr(s.length-1)==")"?s.substr(0,s.length-1):s).split(" ");i=t.multiline?i.map(function(q){return q.split(`
`)}):i.map(function(q){return[q]});var o=a,d=pt.internal.getHeight(t)||0;d=d<0?-d:d;var x=pt.internal.getWidth(t)||0;x=x<0?-x:x;var u=function(q,H,G){if(q+1<i.length){var W=H+" "+i[q+1][0];return bh(W,t,G).width<=x-4}return!1};o++;e:for(;o>0;){s="",o--;var h,p,f=bh("3",t,o).height,b=t.multiline?d-o:(d-f)/2,g=b+=2,j=0,A=0,w=0;if(o<=0){s=`(...) Tj
`,s+="% Width of Text: "+bh(s,t,o=12).width+", FieldWidth:"+x+`
`;break}for(var k="",C=0,L=0;L<i.length;L++)if(i.hasOwnProperty(L)){var N=!1;if(i[L].length!==1&&w!==i[L].length-1){if((f+2)*(C+2)+2>d)continue e;k+=i[L][w],N=!0,A=L,L--}else{k=(k+=i[L][w]+" ").substr(k.length-1)==" "?k.substr(0,k.length-1):k;var P=parseInt(L),_=u(P,k,o),F=L>=i.length-1;if(_&&!F){k+=" ",w=0;continue}if(_||F){if(F)A=P;else if(t.multiline&&(f+2)*(C+2)+2>d)continue e}else{if(!t.multiline||(f+2)*(C+2)+2>d)continue e;A=P}}for(var R="",B=j;B<=A;B++){var T=i[B];if(t.multiline){if(B===A){R+=T[w]+" ",w=(w+1)%T.length;continue}if(B===j){R+=T[T.length-1]+" ";continue}}R+=T[0]+" "}switch(R=R.substr(R.length-1)==" "?R.substr(0,R.length-1):R,p=bh(R,t,o).width,t.textAlign){case"right":h=x-p-2;break;case"center":h=(x-p)/2;break;default:h=2}s+=as(h)+" "+as(g)+` Td
`,s+="("+Pd(R)+`) Tj
`,s+=-as(h)+` 0 Td
`,g=-(o+2),p=0,j=N?A:A+1,C++,k=""}break}return l.text=s,l.fontSize=o,l},bh=function(t,s,a){var l=s.scope.internal.getFont(s.fontName,s.fontStyle),i=s.scope.getStringUnitWidth(t,{font:l,fontSize:parseFloat(a),charSpace:0})*parseFloat(a);return{height:s.scope.getStringUnitWidth("3",{font:l,fontSize:parseFloat(a),charSpace:0})*parseFloat(a)*1.5,width:i}},xT={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},uT=function(t,s){var a={type:"reference",object:t};s.internal.getPageInfo(t.page).pageContext.annotations.find(function(l){return l.type===a.type&&l.object===a.object})===void 0&&s.internal.getPageInfo(t.page).pageContext.annotations.push(a)},hT=function(t,s){if(s.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Ei.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(xT)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Bg=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new _N,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(a){a.internal.events.unsubscribe(a.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete a.internal.acroformPlugin.acroFormDictionaryRoot._eventID,a.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(a){a.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var l=a.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in l)if(l.hasOwnProperty(i)){var o=l[i];o.objId=void 0,o.hasAnnotation&&uT(o,a)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(a){if(a.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");a.internal.write("/AcroForm "+a.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(a){(function(l,i){var o=!l;for(var d in l||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),l=l||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(l.hasOwnProperty(d)){var x=l[d],u=[],h=x.Rect;if(x.Rect&&(x.Rect=cT(x.Rect,i)),i.internal.newObjectDeferredBegin(x.objId,!0),x.DA=pt.createDefaultAppearanceStream(x),Ks(x)==="object"&&typeof x.getKeyValueListForStream=="function"&&(u=x.getKeyValueListForStream()),x.Rect=h,x.hasAppearanceStream&&!x.appearanceStreamContent){var p=dT(x);u.push({key:"AP",value:"<</N "+p+">>"}),i.internal.acroformPlugin.xForms.push(p)}if(x.appearanceStreamContent){var f="";for(var b in x.appearanceStreamContent)if(x.appearanceStreamContent.hasOwnProperty(b)){var g=x.appearanceStreamContent[b];if(f+="/"+b+" ",f+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var d in g)if(g.hasOwnProperty(d)){var j=g[d];typeof j=="function"&&(j=j.call(i,x)),f+="/"+d+" "+j+" ",i.internal.acroformPlugin.xForms.indexOf(j)>=0||i.internal.acroformPlugin.xForms.push(j)}}else typeof(j=g)=="function"&&(j=j.call(i,x)),f+="/"+d+" "+j,i.internal.acroformPlugin.xForms.indexOf(j)>=0||i.internal.acroformPlugin.xForms.push(j);f+=">>"}u.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:u,objectId:x.objId}),i.internal.out("endobj")}o&&(function(A,w){for(var k in A)if(A.hasOwnProperty(k)){var C=k,L=A[k];w.internal.newObjectDeferredBegin(L.objId,!0),Ks(L)==="object"&&typeof L.putStream=="function"&&L.putStream(),delete A[C]}})(i.internal.acroformPlugin.xForms,i)})(a,t)}),t.internal.acroformPlugin.isInitialized=!0}},EN=Wa.__acroform__.arrayToPdfArray=function(t,s,a){var l=function(d){return d};if(Array.isArray(t)){for(var i="[",o=0;o<t.length;o++)switch(o!==0&&(i+=" "),Ks(t[o])){case"boolean":case"number":case"object":i+=t[o].toString();break;case"string":t[o].substr(0,1)==="/"?i+="/"+Ed(t[o].substr(1)):(s!==void 0&&a&&(l=a.internal.getEncryptor(s)),i+="("+Pd(l(t[o].toString()))+")")}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},pf=function(t,s,a){var l=function(i){return i};return s!==void 0&&a&&(l=a.internal.getEncryptor(s)),(t=t||"").toString(),"("+Pd(l(t))+")"},ao=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ao.prototype.toString=function(){return this.objId+" 0 R"},ao.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},ao.prototype.getKeyValueListForStream=function(){var t=[],s=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var a in s)if(Object.getOwnPropertyDescriptor(this,s[a]).configurable===!1){var l=s[a],i=this[l];i&&(Array.isArray(i)?t.push({key:l,value:EN(i,this.objId,this.scope)}):i instanceof ao?(i.scope=this.scope,t.push({key:l,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:l,value:i}))}return t};var TN=function(){ao.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,s=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return s},set:function(a){s=a}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(a){t=a.trim()},get:function(){return t||null}})};Ql(TN,ao);var _N=function(){ao.call(this);var t,s=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return s.length>0?s:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return s}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var a=function(l){return l};return this.scope&&(a=this.scope.internal.getEncryptor(this.objId)),"("+Pd(a(t))+")"}},set:function(a){t=a}})};Ql(_N,ao);var Ei=function t(){ao.call(this);var s=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return s},set:function(k){if(isNaN(k))throw new Error('Invalid value "'+k+'" for attribute F supplied.');s=k}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Za(s,3)},set:function(k){k?this.F=er(s,3):this.F=tr(s,3)}});var a=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return a},set:function(k){if(isNaN(k))throw new Error('Invalid value "'+k+'" for attribute Ff supplied.');a=k}});var l=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(l.length!==0)return l},set:function(k){l=k!==void 0?k:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!l||isNaN(l[0])?0:l[0]},set:function(k){l[0]=k}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!l||isNaN(l[1])?0:l[1]},set:function(k){l[1]=k}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!l||isNaN(l[2])?0:l[2]},set:function(k){l[2]=k}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!l||isNaN(l[3])?0:l[3]},set:function(k){l[3]=k}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(k){switch(k){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=k;break;default:throw new Error('Invalid value "'+k+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof Qh)return;o="FieldObject"+t.FieldNum++}var k=function(C){return C};return this.scope&&(k=this.scope.internal.getEncryptor(this.objId)),"("+Pd(k(o))+")"},set:function(k){o=k.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(k){o=k}});var d="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return d},set:function(k){d=k}});var x="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return x},set:function(k){x=k}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(k){u=k}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/Bg:h},set:function(k){h=k}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(k){p=k}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof Qh||this instanceof Cd))return pf(f,this.objId,this.scope)},set:function(k){k=k.toString(),f=k}});var b=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof Mr==0?pf(b,this.objId,this.scope):b},set:function(k){k=k.toString(),b=this instanceof Mr==0?k.substr(0,1)==="("?E0(k.substr(1,k.length-2)):E0(k):k}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Mr==1?E0(b.substr(1,b.length-1)):b},set:function(k){k=k.toString(),b=this instanceof Mr==1?"/"+Ed(k):k}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(k){this.V=k}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Mr==0?pf(g,this.objId,this.scope):g},set:function(k){k=k.toString(),g=this instanceof Mr==0?k.substr(0,1)==="("?E0(k.substr(1,k.length-2)):E0(k):k}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Mr==1?E0(g.substr(1,g.length-1)):g},set:function(k){k=k.toString(),g=this instanceof Mr==1?"/"+Ed(k):k}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var j,A=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return A},set:function(k){k=!!k,A=k}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(j)return j},set:function(k){j=k}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Za(this.Ff,1)},set:function(k){k?this.Ff=er(this.Ff,1):this.Ff=tr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Za(this.Ff,2)},set:function(k){k?this.Ff=er(this.Ff,2):this.Ff=tr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Za(this.Ff,3)},set:function(k){k?this.Ff=er(this.Ff,3):this.Ff=tr(this.Ff,3)}});var w=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(w!==null)return w},set:function(k){if([0,1,2].indexOf(k)===-1)throw new Error('Invalid value "'+k+'" for attribute Q supplied.');w=k}}),Object.defineProperty(this,"textAlign",{get:function(){var k;switch(w){case 0:default:k="left";break;case 1:k="center";break;case 2:k="right"}return k},configurable:!0,enumerable:!0,set:function(k){switch(k){case"right":case 2:w=2;break;case"center":case 1:w=1;break;default:w=0}}})};Ql(Ei,ao);var I0=function(){Ei.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(a){t=a}});var s=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return EN(s,this.objId,this.scope)},set:function(a){var l,i;i=[],typeof(l=a)=="string"&&(i=(function(o,d,x){x||(x=1);for(var u,h=[];u=d.exec(o);)h.push(u[x]);return h})(l,/\((.*?)\)/g)),s=i}}),this.getOptions=function(){return s},this.setOptions=function(a){s=a,this.sort&&s.sort()},this.addOption=function(a){a=(a=a||"").toString(),s.push(a),this.sort&&s.sort()},this.removeOption=function(a,l){for(l=l||!1,a=(a=a||"").toString();s.indexOf(a)!==-1&&(s.splice(s.indexOf(a),1),l!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Za(this.Ff,18)},set:function(a){a?this.Ff=er(this.Ff,18):this.Ff=tr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Za(this.Ff,19)},set:function(a){this.combo===!0&&(a?this.Ff=er(this.Ff,19):this.Ff=tr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Za(this.Ff,20)},set:function(a){a?(this.Ff=er(this.Ff,20),s.sort()):this.Ff=tr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Za(this.Ff,22)},set:function(a){a?this.Ff=er(this.Ff,22):this.Ff=tr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Za(this.Ff,23)},set:function(a){a?this.Ff=er(this.Ff,23):this.Ff=tr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Za(this.Ff,27)},set:function(a){a?this.Ff=er(this.Ff,27):this.Ff=tr(this.Ff,27)}}),this.hasAppearanceStream=!1};Ql(I0,Ei);var B0=function(){I0.call(this),this.fontName="helvetica",this.combo=!1};Ql(B0,I0);var U0=function(){B0.call(this),this.combo=!0};Ql(U0,B0);var Ph=function(){U0.call(this),this.edit=!0};Ql(Ph,U0);var Mr=function(){Ei.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Za(this.Ff,15)},set:function(a){a?this.Ff=er(this.Ff,15):this.Ff=tr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Za(this.Ff,16)},set:function(a){a?this.Ff=er(this.Ff,16):this.Ff=tr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Za(this.Ff,17)},set:function(a){a?this.Ff=er(this.Ff,17):this.Ff=tr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Za(this.Ff,26)},set:function(a){a?this.Ff=er(this.Ff,26):this.Ff=tr(this.Ff,26)}});var t,s={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(o){return o};if(this.scope&&(a=this.scope.internal.getEncryptor(this.objId)),Object.keys(s).length!==0){var l,i=[];for(l in i.push("<<"),s)i.push("/"+l+" ("+Pd(a(s[l]))+")");return i.push(">>"),i.join(`
`)}},set:function(a){Ks(a)==="object"&&(s=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return s.CA||""},set:function(a){typeof a=="string"&&(s.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){var l=a==null?"":a.toString();l.substr(0,1)==="/"&&(l=l.substr(1)),t="/"+Ed(l)}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(a){t="/"+Ed(a)}})};Ql(Mr,Ei);var Rh=function(){Mr.call(this),this.pushButton=!0};Ql(Rh,Mr);var $0=function(){Mr.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(s){t=s!==void 0?s:[]}})};Ql($0,Mr);var Qh=function(){var t,s;Ei.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return s},set:function(i){s=i}});var a,l={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(x){return x};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var o,d=[];for(o in d.push("<<"),l)d.push("/"+o+" ("+Pd(i(l[o]))+")");return d.push(">>"),d.join(`
`)},set:function(i){Ks(i)==="object"&&(l=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return l.CA||""},set:function(i){typeof i=="string"&&(l.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return a},set:function(i){var o=i==null?"":i.toString();o.substr(0,1)==="/"&&(o=o.substr(1)),a="/"+Ed(o)}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return a.substr(1,a.length-1)},set:function(i){var o=i==null?"":i.toString();o.substr(0,1)==="/"&&(o=o.substr(1)),a="/"+Ed(o)}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=pt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ql(Qh,Ei),$0.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var s in this.Kids)if(this.Kids.hasOwnProperty(s)){var a=this.Kids[s];a.appearanceStreamContent=t.createAppearanceStream(a.optionName),a.caption=t.getCA()}},$0.prototype.createOption=function(t){var s=new Qh;return s.Parent=this,s.optionName=t,this.Kids.push(s),mT.call(this.scope,s),s};var Oh=function(){Mr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=pt.CheckBox.createAppearanceStream()};Ql(Oh,Mr);var Cd=function(){Ei.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Za(this.Ff,13)},set:function(s){s?this.Ff=er(this.Ff,13):this.Ff=tr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Za(this.Ff,21)},set:function(s){s?this.Ff=er(this.Ff,21):this.Ff=tr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Za(this.Ff,23)},set:function(s){s?this.Ff=er(this.Ff,23):this.Ff=tr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Za(this.Ff,24)},set:function(s){s?this.Ff=er(this.Ff,24):this.Ff=tr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Za(this.Ff,25)},set:function(s){s?this.Ff=er(this.Ff,25):this.Ff=tr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Za(this.Ff,26)},set:function(s){s?this.Ff=er(this.Ff,26):this.Ff=tr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(s){Number.isInteger(s)&&(t=s)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ql(Cd,Ei);var Fh=function(){Cd.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Za(this.Ff,14)},set:function(t){t?this.Ff=er(this.Ff,14):this.Ff=tr(this.Ff,14)}}),this.password=!0};Ql(Fh,Cd);var pt={CheckBox:{createAppearanceStream:function(){return{N:{On:pt.CheckBox.YesNormal},D:{On:pt.CheckBox.YesPushDown,Off:pt.CheckBox.OffPushDown}}},YesPushDown:function(t){var s=to(t);s.scope=t.scope;var a=[],l=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),o=Kf(t,t.caption);return a.push("0.749023 g"),a.push("0 0 "+as(pt.internal.getWidth(t))+" "+as(pt.internal.getHeight(t))+" re"),a.push("f"),a.push("BMC"),a.push("q"),a.push("0 0 1 rg"),a.push("/"+l+" "+as(o.fontSize)+" Tf "+i),a.push("BT"),a.push(o.text),a.push("ET"),a.push("Q"),a.push("EMC"),s.stream=a.join(`
`),s},YesNormal:function(t){var s=to(t);s.scope=t.scope;var a=t.scope.internal.getFont(t.fontName,t.fontStyle).id,l=t.scope.__private__.encodeColorString(t.color),i=[],o=pt.internal.getHeight(t),d=pt.internal.getWidth(t),x=Kf(t,t.caption);return i.push("1 g"),i.push("0 0 "+as(d)+" "+as(o)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+as(d-1)+" "+as(o-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+a+" "+as(x.fontSize)+" Tf "+l),i.push(x.text),i.push("ET"),i.push("Q"),s.stream=i.join(`
`),s},OffPushDown:function(t){var s=to(t);s.scope=t.scope;var a=[];return a.push("0.749023 g"),a.push("0 0 "+as(pt.internal.getWidth(t))+" "+as(pt.internal.getHeight(t))+" re"),a.push("f"),s.stream=a.join(`
`),s}},RadioButton:{Circle:{createAppearanceStream:function(t){var s={D:{Off:pt.RadioButton.Circle.OffPushDown},N:{}};return s.N[t]=pt.RadioButton.Circle.YesNormal,s.D[t]=pt.RadioButton.Circle.YesPushDown,s},getCA:function(){return"l"},YesNormal:function(t){var s=to(t);s.scope=t.scope;var a=[],l=pt.internal.getWidth(t)<=pt.internal.getHeight(t)?pt.internal.getWidth(t)/4:pt.internal.getHeight(t)/4;l=Number((.9*l).toFixed(5));var i=pt.internal.Bezier_C,o=Number((l*i).toFixed(5));return a.push("q"),a.push("1 0 0 1 "+Dc(pt.internal.getWidth(t)/2)+" "+Dc(pt.internal.getHeight(t)/2)+" cm"),a.push(l+" 0 m"),a.push(l+" "+o+" "+o+" "+l+" 0 "+l+" c"),a.push("-"+o+" "+l+" -"+l+" "+o+" -"+l+" 0 c"),a.push("-"+l+" -"+o+" -"+o+" -"+l+" 0 -"+l+" c"),a.push(o+" -"+l+" "+l+" -"+o+" "+l+" 0 c"),a.push("f"),a.push("Q"),s.stream=a.join(`
`),s},YesPushDown:function(t){var s=to(t);s.scope=t.scope;var a=[],l=pt.internal.getWidth(t)<=pt.internal.getHeight(t)?pt.internal.getWidth(t)/4:pt.internal.getHeight(t)/4;l=Number((.9*l).toFixed(5));var i=Number((2*l).toFixed(5)),o=Number((i*pt.internal.Bezier_C).toFixed(5)),d=Number((l*pt.internal.Bezier_C).toFixed(5));return a.push("0.749023 g"),a.push("q"),a.push("1 0 0 1 "+Dc(pt.internal.getWidth(t)/2)+" "+Dc(pt.internal.getHeight(t)/2)+" cm"),a.push(i+" 0 m"),a.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),a.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),a.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),a.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),a.push("f"),a.push("Q"),a.push("0 g"),a.push("q"),a.push("1 0 0 1 "+Dc(pt.internal.getWidth(t)/2)+" "+Dc(pt.internal.getHeight(t)/2)+" cm"),a.push(l+" 0 m"),a.push(l+" "+d+" "+d+" "+l+" 0 "+l+" c"),a.push("-"+d+" "+l+" -"+l+" "+d+" -"+l+" 0 c"),a.push("-"+l+" -"+d+" -"+d+" -"+l+" 0 -"+l+" c"),a.push(d+" -"+l+" "+l+" -"+d+" "+l+" 0 c"),a.push("f"),a.push("Q"),s.stream=a.join(`
`),s},OffPushDown:function(t){var s=to(t);s.scope=t.scope;var a=[],l=pt.internal.getWidth(t)<=pt.internal.getHeight(t)?pt.internal.getWidth(t)/4:pt.internal.getHeight(t)/4;l=Number((.9*l).toFixed(5));var i=Number((2*l).toFixed(5)),o=Number((i*pt.internal.Bezier_C).toFixed(5));return a.push("0.749023 g"),a.push("q"),a.push("1 0 0 1 "+Dc(pt.internal.getWidth(t)/2)+" "+Dc(pt.internal.getHeight(t)/2)+" cm"),a.push(i+" 0 m"),a.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),a.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),a.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),a.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),a.push("f"),a.push("Q"),s.stream=a.join(`
`),s}},Cross:{createAppearanceStream:function(t){var s={D:{Off:pt.RadioButton.Cross.OffPushDown},N:{}};return s.N[t]=pt.RadioButton.Cross.YesNormal,s.D[t]=pt.RadioButton.Cross.YesPushDown,s},getCA:function(){return"8"},YesNormal:function(t){var s=to(t);s.scope=t.scope;var a=[],l=pt.internal.calculateCross(t);return a.push("q"),a.push("1 1 "+as(pt.internal.getWidth(t)-2)+" "+as(pt.internal.getHeight(t)-2)+" re"),a.push("W"),a.push("n"),a.push(as(l.x1.x)+" "+as(l.x1.y)+" m"),a.push(as(l.x2.x)+" "+as(l.x2.y)+" l"),a.push(as(l.x4.x)+" "+as(l.x4.y)+" m"),a.push(as(l.x3.x)+" "+as(l.x3.y)+" l"),a.push("s"),a.push("Q"),s.stream=a.join(`
`),s},YesPushDown:function(t){var s=to(t);s.scope=t.scope;var a=pt.internal.calculateCross(t),l=[];return l.push("0.749023 g"),l.push("0 0 "+as(pt.internal.getWidth(t))+" "+as(pt.internal.getHeight(t))+" re"),l.push("f"),l.push("q"),l.push("1 1 "+as(pt.internal.getWidth(t)-2)+" "+as(pt.internal.getHeight(t)-2)+" re"),l.push("W"),l.push("n"),l.push(as(a.x1.x)+" "+as(a.x1.y)+" m"),l.push(as(a.x2.x)+" "+as(a.x2.y)+" l"),l.push(as(a.x4.x)+" "+as(a.x4.y)+" m"),l.push(as(a.x3.x)+" "+as(a.x3.y)+" l"),l.push("s"),l.push("Q"),s.stream=l.join(`
`),s},OffPushDown:function(t){var s=to(t);s.scope=t.scope;var a=[];return a.push("0.749023 g"),a.push("0 0 "+as(pt.internal.getWidth(t))+" "+as(pt.internal.getHeight(t))+" re"),a.push("f"),s.stream=a.join(`
`),s}}},createDefaultAppearanceStream:function(t){var s=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color);return"/"+s+" "+t.fontSize+" Tf "+a}};pt.internal={Bezier_C:.551915024494,calculateCross:function(t){var s=pt.internal.getWidth(t),a=pt.internal.getHeight(t),l=Math.min(s,a);return{x1:{x:(s-l)/2,y:(a-l)/2+l},x2:{x:(s-l)/2+l,y:(a-l)/2},x3:{x:(s-l)/2,y:(a-l)/2},x4:{x:(s-l)/2+l,y:(a-l)/2+l}}}},pt.internal.getWidth=function(t){var s=0;return Ks(t)==="object"&&(s=f2(t.Rect[2])),s},pt.internal.getHeight=function(t){var s=0;return Ks(t)==="object"&&(s=f2(t.Rect[3])),s};var mT=Wa.addField=function(t){if(hT(this,t),!(t instanceof Ei))throw new Error("Invalid argument passed to jsPDF.addField.");var s;return(s=t).scope.internal.acroformPlugin.printedOut&&(s.scope.internal.acroformPlugin.printedOut=!1,s.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),s.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(s),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Wa.AcroFormChoiceField=I0,Wa.AcroFormListBox=B0,Wa.AcroFormComboBox=U0,Wa.AcroFormEditBox=Ph,Wa.AcroFormButton=Mr,Wa.AcroFormPushButton=Rh,Wa.AcroFormRadioButton=$0,Wa.AcroFormCheckBox=Oh,Wa.AcroFormTextField=Cd,Wa.AcroFormPasswordField=Fh,Wa.AcroFormAppearance=pt,Wa.AcroForm={ChoiceField:I0,ListBox:B0,ComboBox:U0,EditBox:Ph,Button:Mr,PushButton:Rh,RadioButton:$0,CheckBox:Oh,TextField:Cd,PasswordField:Fh,Appearance:pt},bt.AcroForm={ChoiceField:I0,ListBox:B0,ComboBox:U0,EditBox:Ph,Button:Mr,PushButton:Rh,RadioButton:$0,CheckBox:Oh,TextField:Cd,PasswordField:Fh,Appearance:pt};bt.AcroForm;function PN(t){return t.reduce(function(s,a,l){return s[a]=l,s},{})}(function(t){var s="addImage_";t.__addimage__={};var a="UNKNOWN",l={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(q,H){var G,W,le,V,ne,I=a;if((H=H||a)==="RGBA"||q.data!==void 0&&q.data instanceof Uint8ClampedArray&&"height"in q&&"width"in q)return"RGBA";if(_(q))for(ne in l)for(le=l[ne],G=0;G<le.length;G+=1){for(V=!0,W=0;W<le[G].length;W+=1)if(le[G][W]!==void 0&&le[G][W]!==q[W]){V=!1;break}if(V===!0){I=ne;break}}else for(ne in l)for(le=l[ne],G=0;G<le.length;G+=1){for(V=!0,W=0;W<le[G].length;W+=1)if(le[G][W]!==void 0&&le[G][W]!==q.charCodeAt(W)){V=!1;break}if(V===!0){I=ne;break}}return I===a&&H!==a&&(I=H),I},o=function q(H){for(var G=this.internal.write,W=this.internal.putStream,le=(0,this.internal.getFilters)();le.indexOf("FlateEncode")!==-1;)le.splice(le.indexOf("FlateEncode"),1);H.objectId=this.internal.newObject();var V=[];if(V.push({key:"Type",value:"/XObject"}),V.push({key:"Subtype",value:"/Image"}),V.push({key:"Width",value:H.width}),V.push({key:"Height",value:H.height}),H.colorSpace===k.INDEXED?V.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(H.palette.length/3-1)+" "+("sMask"in H&&H.sMask!==void 0?H.objectId+2:H.objectId+1)+" 0 R]"}):(V.push({key:"ColorSpace",value:"/"+H.colorSpace}),H.colorSpace===k.DEVICE_CMYK&&V.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),V.push({key:"BitsPerComponent",value:H.bitsPerComponent}),"decodeParameters"in H&&H.decodeParameters!==void 0&&V.push({key:"DecodeParms",value:"<<"+H.decodeParameters+">>"}),"transparency"in H&&Array.isArray(H.transparency)&&H.transparency.length>0){for(var ne="",I=0,oe=H.transparency.length;I<oe;I++)ne+=H.transparency[I]+" "+H.transparency[I]+" ";V.push({key:"Mask",value:"["+ne+"]"})}H.sMask!==void 0&&V.push({key:"SMask",value:H.objectId+1+" 0 R"});var Ne=H.filter!==void 0?["/"+H.filter]:void 0;if(W({data:H.data,additionalKeyValues:V,alreadyAppliedFilters:Ne,objectId:H.objectId}),G("endobj"),"sMask"in H&&H.sMask!==void 0){var Y,$=(Y=H.sMaskBitsPerComponent)!==null&&Y!==void 0?Y:H.bitsPerComponent,Q={width:H.width,height:H.height,colorSpace:"DeviceGray",bitsPerComponent:$,data:H.sMask};"filter"in H&&(Q.decodeParameters="/Predictor ".concat(H.predictor," /Colors 1 /BitsPerComponent ").concat($," /Columns ").concat(H.width),Q.filter=H.filter),q.call(this,Q)}if(H.colorSpace===k.INDEXED){var ae=this.internal.newObject();W({data:R(new Uint8Array(H.palette)),objectId:ae}),G("endobj")}},d=function(){var q=this.internal.collections[s+"images"];for(var H in q)o.call(this,q[H])},x=function(){var q,H=this.internal.collections[s+"images"],G=this.internal.write;for(var W in H)G("/I"+(q=H[W]).index,q.objectId,"0","R")},u=function(){this.internal.collections[s+"images"]||(this.internal.collections[s+"images"]={},this.internal.events.subscribe("putResources",d),this.internal.events.subscribe("putXobjectDict",x))},h=function(){var q=this.internal.collections[s+"images"];return u.call(this),q},p=function(){return Object.keys(this.internal.collections[s+"images"]).length},f=function(q){return typeof t["process"+q.toUpperCase()]=="function"},b=function(q){return Ks(q)==="object"&&q.nodeType===1},g=function(q,H){if(q.nodeName==="IMG"&&q.hasAttribute("src")){var G=""+q.getAttribute("src");if(G.indexOf("data:image/")===0)return _h(unescape(G).split("base64,").pop());var W=t.loadFile(G,!0);if(W!==void 0)return W}if(q.nodeName==="CANVAS"){if(q.width===0||q.height===0)throw new Error("Given canvas must have data. Canvas width: "+q.width+", height: "+q.height);var le;switch(H){case"PNG":le="image/png";break;case"WEBP":le="image/webp";break;default:le="image/jpeg"}return _h(q.toDataURL(le,1).split("base64,").pop())}},j=function(q){var H=this.internal.collections[s+"images"];if(H){for(var G in H)if(q===H[G].alias)return H[G]}},A=function(q,H,G){return q||H||(q=-96,H=-96),q<0&&(q=-1*G.width*72/q/this.internal.scaleFactor),H<0&&(H=-1*G.height*72/H/this.internal.scaleFactor),q===0&&(q=H*G.width/G.height),H===0&&(H=q*G.height/G.width),[q,H]},w=function(q,H,G,W,le,V){var ne=A.call(this,G,W,le),I=this.internal.getCoordinateString,oe=this.internal.getVerticalCoordinateString,Ne=h.call(this);if(G=ne[0],W=ne[1],Ne[le.index]=le,V){V*=Math.PI/180;var Y=Math.cos(V),$=Math.sin(V),Q=function(ue){return ue.toFixed(4)},ae=[Q(Y),Q($),Q(-1*$),Q(Y),0,0,"cm"]}this.internal.write("q"),V?(this.internal.write([1,"0","0",1,I(q),oe(H+W),"cm"].join(" ")),this.internal.write(ae.join(" ")),this.internal.write([I(G),"0","0",I(W),"0","0","cm"].join(" "))):this.internal.write([I(G),"0","0",I(W),I(q),oe(H+W),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+le.index+" Do"),this.internal.write("Q")},k=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var C=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},L=t.__addimage__.sHashCode=function(q){var H,G,W=0;if(typeof q=="string")for(G=q.length,H=0;H<G;H++)W=(W<<5)-W+q.charCodeAt(H),W|=0;else if(_(q))for(G=q.byteLength/2,H=0;H<G;H++)W=(W<<5)-W+q[H],W|=0;return W},N=t.__addimage__.validateStringAsBase64=function(q){(q=q||"").toString().trim();var H=!0;return q.length===0&&(H=!1),q.length%4!=0&&(H=!1),/^[A-Za-z0-9+/]+$/.test(q.substr(0,q.length-2))===!1&&(H=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(q.substr(-2))===!1&&(H=!1),H},P=t.__addimage__.extractImageFromDataUrl=function(q){if(q==null||!(q=q.trim()).startsWith("data:"))return null;var H=q.indexOf(",");return H<0?null:q.substring(0,H).trim().endsWith("base64")?q.substring(H+1):null};t.__addimage__.isArrayBuffer=function(q){return q instanceof ArrayBuffer};var _=t.__addimage__.isArrayBufferView=function(q){return q instanceof Int8Array||q instanceof Uint8Array||q instanceof Uint8ClampedArray||q instanceof Int16Array||q instanceof Uint16Array||q instanceof Int32Array||q instanceof Uint32Array||q instanceof Float32Array||q instanceof Float64Array},F=t.__addimage__.binaryStringToUint8Array=function(q){for(var H=q.length,G=new Uint8Array(H),W=0;W<H;W++)G[W]=q.charCodeAt(W);return G},R=t.__addimage__.arrayBufferToBinaryString=function(q){for(var H="",G=_(q)?q:new Uint8Array(q),W=0;W<G.length;W+=8192)H+=String.fromCharCode.apply(null,G.subarray(W,W+8192));return H};t.addImage=function(){var q,H,G,W,le,V,ne,I,oe;if(typeof arguments[1]=="number"?(H=a,G=arguments[1],W=arguments[2],le=arguments[3],V=arguments[4],ne=arguments[5],I=arguments[6],oe=arguments[7]):(H=arguments[1],G=arguments[2],W=arguments[3],le=arguments[4],V=arguments[5],ne=arguments[6],I=arguments[7],oe=arguments[8]),Ks(q=arguments[0])==="object"&&!b(q)&&"imageData"in q){var Ne=q;q=Ne.imageData,H=Ne.format||H||a,G=Ne.x||G||0,W=Ne.y||W||0,le=Ne.w||Ne.width||le,V=Ne.h||Ne.height||V,ne=Ne.alias||ne,I=Ne.compression||I,oe=Ne.rotation||Ne.angle||oe}var Y=this.internal.getFilters();if(I===void 0&&Y.indexOf("FlateEncode")!==-1&&(I="SLOW"),isNaN(G)||isNaN(W))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var $=B.call(this,q,H,ne,I);return w.call(this,G,W,le,V,$,oe),this};var B=function(q,H,G,W){var le,V,ne;if(typeof q=="string"&&i(q)===a){q=unescape(q);var I=T(q,!1);(I!==""||(I=t.loadFile(q,!0))!==void 0)&&(q=I)}if(b(q)&&(q=g(q,H)),H=i(q,H),!f(H))throw new Error("addImage does not support files of type '"+H+"', please ensure that a plugin for '"+H+"' support is added.");if(((ne=G)==null||ne.length===0)&&(G=(function(oe){return typeof oe=="string"||_(oe)?L(oe):_(oe.data)?L(oe.data):null})(q)),(le=j.call(this,G))||(q instanceof Uint8Array||H==="RGBA"||(V=q,q=F(q)),le=this["process"+H.toUpperCase()](q,p.call(this),G,(function(oe){return oe&&typeof oe=="string"&&(oe=oe.toUpperCase()),oe in t.image_compression?oe:C.NONE})(W),V)),!le)throw new Error("An unknown error occurred whilst processing the image.");return le},T=t.__addimage__.convertBase64ToBinaryString=function(q,H){H=typeof H!="boolean"||H;var G,W="";if(typeof q=="string"){var le;G=(le=P(q))!==null&&le!==void 0?le:q;try{W=_h(G)}catch(V){if(H)throw N(G)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+V.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return W};t.getImageProperties=function(q){var H,G,W="";if(b(q)&&(q=g(q)),typeof q=="string"&&i(q)===a&&((W=T(q,!1))===""&&(W=t.loadFile(q)||""),q=W),G=i(q),!f(G))throw new Error("addImage does not support files of type '"+G+"', please ensure that a plugin for '"+G+"' support is added.");if(q instanceof Uint8Array||(q=F(q)),!(H=this["process"+G.toUpperCase()](q)))throw new Error("An unknown error occurred whilst processing the image");return H.fileType=G,H}})(bt.API),(function(t){var s=function(a){if(a!==void 0&&a!="")return!0};bt.API.events.push(["addPage",function(a){this.internal.getPageInfo(a.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(a){for(var l,i,o,d=this.internal.getCoordinateString,x=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(a.objId),h=a.pageContext.annotations,p=!1,f=0;f<h.length&&!p;f++)switch((l=h[f]).type){case"link":(s(l.options.url)||s(l.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var b=0;b<h.length;b++){l=h[b];var g=this.internal.pdfEscape,j=this.internal.getEncryptor(a.objId);switch(l.type){case"reference":this.internal.write(" "+l.object.objId+" 0 R ");break;case"text":var A=this.internal.newAdditionalObject(),w=this.internal.newAdditionalObject(),k=this.internal.getEncryptor(A.objId),C=l.title||"Note";o="<</Type /Annot /Subtype /Text "+(i="/Rect ["+d(l.bounds.x)+" "+x(l.bounds.y+l.bounds.h)+" "+d(l.bounds.x+l.bounds.w)+" "+x(l.bounds.y)+"] ")+"/Contents ("+g(k(l.contents))+")",o+=" /Popup "+w.objId+" 0 R",o+=" /P "+u.objId+" 0 R",o+=" /T ("+g(k(C))+") >>",A.content=o;var L=A.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+d(l.bounds.x+30)+" "+x(l.bounds.y+l.bounds.h)+" "+d(l.bounds.x+l.bounds.w+30)+" "+x(l.bounds.y)+"] ")+" /Parent "+L,l.open&&(o+=" /Open true"),o+=" >>",w.content=o,this.internal.write(A.objId,"0 R",w.objId,"0 R");break;case"freetext":i="/Rect ["+d(l.bounds.x)+" "+x(l.bounds.y)+" "+d(l.bounds.x+l.bounds.w)+" "+x(l.bounds.y+l.bounds.h)+"] ";var N=l.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+g(j(l.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+N+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(l.options.name){var P=this.annotations._nameMap[l.options.name];l.options.pageNumber=P.page,l.options.top=P.y}else l.options.top||(l.options.top=0);if(i="/Rect ["+l.finalBounds.x+" "+l.finalBounds.y+" "+l.finalBounds.w+" "+l.finalBounds.h+"] ",o="",l.options.url)o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+g(j(l.options.url))+") >>";else if(l.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(l.options.pageNumber).objId+" 0 R",l.options.magFactor=l.options.magFactor||"XYZ",l.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+l.options.top+"]";break;case"FitV":l.options.left=l.options.left||0,o+=" /FitV "+l.options.left+"]";break;default:var _=x(l.options.top);l.options.left=l.options.left||0,l.options.zoom===void 0&&(l.options.zoom=0),o+=" /XYZ "+l.options.left+" "+_+" "+l.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),t.createAnnotation=function(a){var l=this.internal.getCurrentPageInfo();switch(a.type){case"link":this.link(a.bounds.x,a.bounds.y,a.bounds.w,a.bounds.h,a);break;case"text":case"freetext":l.pageContext.annotations.push(a)}},t.link=function(a,l,i,o,d){var x=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;x.pageContext.annotations.push({finalBounds:{x:u(a),y:h(l),w:u(a+i),h:h(l+o)},options:d,type:"link"})},t.textWithLink=function(a,l,i,o){var d,x,u=this.getTextWidth(a),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){x=o.maxWidth;var p=this.splitTextToSize(a,x).length;d=Math.ceil(h*p)}else x=u,d=h;return this.text(a,l,i,o),i+=.2*h,o.align==="center"&&(l-=u/2),o.align==="right"&&(l-=u),this.link(l,i-h,x,d,o),u},t.getTextWidth=function(a){var l=this.internal.getFontSize();return this.getStringUnitWidth(a)*l/this.internal.scaleFactor}})(bt.API),(function(t){var s={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},a={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},l={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var o=t.__arabicParser__.isInArabicSubstitutionA=function(A){return s[A.charCodeAt(0)]!==void 0},d=t.__arabicParser__.isArabicLetter=function(A){return typeof A=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(A)},x=t.__arabicParser__.isArabicEndLetter=function(A){return d(A)&&o(A)&&s[A.charCodeAt(0)].length<=2},u=t.__arabicParser__.isArabicAlfLetter=function(A){return d(A)&&i.indexOf(A.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(A){return d(A)&&o(A)&&s[A.charCodeAt(0)].length>=1};var h=t.__arabicParser__.arabicLetterHasFinalForm=function(A){return d(A)&&o(A)&&s[A.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(A){return d(A)&&o(A)&&s[A.charCodeAt(0)].length>=3};var p=t.__arabicParser__.arabicLetterHasMedialForm=function(A){return d(A)&&o(A)&&s[A.charCodeAt(0)].length==4},f=t.__arabicParser__.resolveLigatures=function(A){var w=0,k=a,C="",L=0;for(w=0;w<A.length;w+=1)k[A.charCodeAt(w)]!==void 0?(L++,typeof(k=k[A.charCodeAt(w)])=="number"&&(C+=String.fromCharCode(k),k=a,L=0),w===A.length-1&&(k=a,C+=A.charAt(w-(L-1)),w-=L-1,L=0)):(k=a,C+=A.charAt(w-L),w-=L,L=0);return C};t.__arabicParser__.isArabicDiacritic=function(A){return A!==void 0&&l[A.charCodeAt(0)]!==void 0};var b=t.__arabicParser__.getCorrectForm=function(A,w,k){return d(A)?o(A)===!1?-1:!h(A)||!d(w)&&!d(k)||!d(k)&&x(w)||x(A)&&!d(w)||x(A)&&u(w)||x(A)&&x(w)?0:p(A)&&d(w)&&!x(w)&&d(k)&&h(k)?3:x(A)||!d(k)?1:2:-1},g=function(A){var w=0,k=0,C=0,L="",N="",P="",_=(A=A||"").split("\\s+"),F=[];for(w=0;w<_.length;w+=1){for(F.push(""),k=0;k<_[w].length;k+=1)L=_[w][k],N=_[w][k-1],P=_[w][k+1],d(L)?(C=b(L,N,P),F[w]+=C!==-1?String.fromCharCode(s[L.charCodeAt(0)][C]):L):F[w]+=L;F[w]=f(F[w])}return F.join(" ")},j=t.__arabicParser__.processArabic=t.processArabic=function(){var A,w=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,k=[];if(Array.isArray(w)){var C=0;for(k=[],C=0;C<w.length;C+=1)Array.isArray(w[C])?k.push([g(w[C][0]),w[C][1],w[C][2]]):k.push([g(w[C])]);A=k}else A=g(w);return typeof arguments[0]=="string"?A:(arguments[0].text=A,arguments[0])};t.events.push(["preProcessText",j])})(bt.API),bt.API.autoPrint=function(t){var s;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){s=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+s+" 0 R")})),this},(function(t){var s=function(){var a=void 0;Object.defineProperty(this,"pdf",{get:function(){return a},set:function(x){a=x}});var l=150;Object.defineProperty(this,"width",{get:function(){return l},set:function(x){l=isNaN(x)||Number.isInteger(x)===!1||x<0?150:x,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=l+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(x){i=isNaN(x)||Number.isInteger(x)===!1||x<0?300:x,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(x){o=x}});var d={};Object.defineProperty(this,"style",{get:function(){return d},set:function(x){d=x}}),Object.defineProperty(this,"parentNode",{})};s.prototype.getContext=function(a,l){var i;if((a=a||"2d")!=="2d")return null;for(i in l)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=l[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},s.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new s,this.canvas.pdf=this}])})(bt.API),(function(t){var s={left:0,top:0,bottom:0,right:0},a=!1,l=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},s),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(A){u=A}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(A){h=A}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(A){p=A}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(A){f=A}});var b=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return b},set:function(A){b=A}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(A){g=A}});var j=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return j},set:function(A){j=A}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(u){return l.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},t.getTextDimensions=function(u,h){l.call(this);var p=(h=h||{}).fontSize||this.getFontSize(),f=h.font||this.getFont(),b=h.scaleFactor||this.internal.scaleFactor,g=0,j=0,A=0,w=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var k=h.maxWidth;k>0?typeof u=="string"?u=this.splitTextToSize(u,k):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(L,N){return L.concat(w.splitTextToSize(N,k))},[])):u=Array.isArray(u)?u:[u];for(var C=0;C<u.length;C++)g<(A=this.getStringUnitWidth(u[C],{font:f})*p)&&(g=A);return g!==0&&(j=u.length),{w:g/=b,h:Math.max((j*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/b,0)}},t.cellAddPage=function(){l.call(this),this.addPage();var u=this.internal.__cell__.margins||s;return this.internal.__cell__.lastCell=new o(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var d=t.cell=function(){var u;u=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),l.call(this);var h=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,f=this.internal.__cell__.margins||s,b=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===u.lineNumber?(u.x=(h.x||0)+(h.width||0),u.y=h.y||0):h.y+h.height+u.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=f.top,g&&b&&(this.printHeaderRow(u.lineNumber,!0),u.y+=b[0].height)):u.y=h.y+h.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,a===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-p,u.y+p,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+p,{align:"center",baseline:"top",maxWidth:u.width-p-p}):this.text(u.text,u.x+p,u.y+p,{align:"left",baseline:"top",maxWidth:u.width-p-p})),this.internal.__cell__.lastCell=u,this};t.table=function(u,h,p,f,b){if(l.call(this),!p)throw new Error("No data for PDF table.");var g,j,A,w,k=[],C=[],L=[],N={},P={},_=[],F=[],R=(b=b||{}).autoSize||!1,B=b.printHeaders!==!1,T=b.css&&b.css["font-size"]!==void 0?16*b.css["font-size"]:b.fontSize||12,q=b.margins||Object.assign({width:this.getPageWidth()},s),H=typeof b.padding=="number"?b.padding:3,G=b.headerBackgroundColor||"#c8c8c8",W=b.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=B,this.internal.__cell__.margins=q,this.internal.__cell__.table_font_size=T,this.internal.__cell__.padding=H,this.internal.__cell__.headerBackgroundColor=G,this.internal.__cell__.headerTextColor=W,this.setFontSize(T),f==null)C=k=Object.keys(p[0]),L=k.map(function(){return"left"});else if(Array.isArray(f)&&Ks(f[0])==="object")for(k=f.map(function(Ne){return Ne.name}),C=f.map(function(Ne){return Ne.prompt||Ne.name||""}),L=f.map(function(Ne){return Ne.align||"left"}),g=0;g<f.length;g+=1)P[f[g].name]=.7499990551181103*f[g].width;else Array.isArray(f)&&typeof f[0]=="string"&&(C=k=f,L=k.map(function(){return"left"}));if(R||Array.isArray(f)&&typeof f[0]=="string")for(g=0;g<k.length;g+=1){for(N[w=k[g]]=p.map(function(Ne){return Ne[w]}),this.setFont(void 0,"bold"),_.push(this.getTextDimensions(C[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),j=N[w],this.setFont(void 0,"normal"),A=0;A<j.length;A+=1)_.push(this.getTextDimensions(j[A],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);P[w]=Math.max.apply(null,_)+H+H,_=[]}if(B){var le={};for(g=0;g<k.length;g+=1)le[k[g]]={},le[k[g]].text=C[g],le[k[g]].align=L[g];var V=x.call(this,le,P);F=k.map(function(Ne){return new o(u,h,P[Ne],V,le[Ne].text,void 0,le[Ne].align)}),this.setTableHeaderRow(F),this.printHeaderRow(1,!1)}var ne=f.reduce(function(Ne,Y){return Ne[Y.name]=Y.align,Ne},{});for(g=0;g<p.length;g+=1){"rowStart"in b&&b.rowStart instanceof Function&&b.rowStart({row:g,data:p[g]},this);var I=x.call(this,p[g],P);for(A=0;A<k.length;A+=1){var oe=p[g][k[A]];"cellStart"in b&&b.cellStart instanceof Function&&b.cellStart({row:g,col:A,data:oe},this),d.call(this,new o(u,h,P[k[A]],I,oe,g+2,ne[k[A]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=h,this};var x=function(u,h){var p=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,b=this.internal.scaleFactor;return Object.keys(u).map(function(g){var j=u[g];return this.splitTextToSize(j.hasOwnProperty("text")?j.text:j,h[g]-p-p)},this).map(function(g){return this.getLineHeightFactor()*g.length*f/b+p+p},this).reduce(function(g,j){return Math.max(g,j)},0)};t.setTableHeaderRow=function(u){l.call(this),this.internal.__cell__.tableHeaderRow=u},t.printHeaderRow=function(u,h){if(l.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(a=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var b=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){p=this.internal.__cell__.tableHeaderRow[g].clone(),h&&(p.y=this.internal.__cell__.margins.top||0,b.push(p)),p.lineNumber=u;var j=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),d.call(this,p),this.setTextColor(j)}b.length>0&&this.setTableHeaderRow(b),this.setFont(void 0,"normal"),a=!1}})(bt.API);var RN={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},ON=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Jf=PN(ON),FN=[100,200,300,400,500,600,700,800,900],pT=PN(FN);function ff(t){var s=t.family.replace(/"|'/g,"").toLowerCase(),a=(function(o){return RN[o=o||"normal"]?o:"normal"})(t.style),l=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(t.weight),i=(function(o){return typeof Jf[o=o||"normal"]=="number"?o:"normal"})(t.stretch);return{family:s,style:a,weight:l,stretch:i,src:t.src||[],ref:t.ref||{name:s,style:[i,a,l].join(" ")}}}function g2(t,s,a,l){var i;for(i=a;i>=0&&i<s.length;i+=l)if(t[s[i]])return t[s[i]];for(i=a;i>=0&&i<s.length;i-=l)if(t[s[i]])return t[s[i]]}var fT={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},b2={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function v2(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function y2(t){return t.trimLeft()}function gT(t,s){for(var a=0;a<t.length;){if(t.charAt(a)===s)return[t.substring(0,a),t.substring(a+1)];a+=1}return null}function bT(t){var s=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return s===null?null:[s[0],t.substring(s[0].length)]}var T0,vh,j2,w2,N2,gf=["times"];function k2(t,s,a,l,i){var o=4,d=C2;switch(i){case bt.API.image_compression.FAST:o=1,d=S2;break;case bt.API.image_compression.MEDIUM:o=6,d=A2;break;case bt.API.image_compression.SLOW:o=9,d=D2}t=(function(u,h,p,f){for(var b,g=u.length/h,j=new Uint8Array(u.length+g),A=[vT,S2,C2,A2,D2],w=0;w<g;w+=1){var k=w*h,C=u.subarray(k,k+h);if(f)j.set(f(C,p,b),k+w);else{for(var L=A.length,N=[],P=0;P<L;P+=1)N[P]=A[P](C,p,b);var _=jT(N.concat());j.set(N[_],k+w)}b=C}return j})(t,s,Math.ceil(a*l/8),d);var x=Hf(t,{level:o});return bt.API.__addimage__.arrayBufferToBinaryString(x)}function vT(t){var s=Array.apply([],t);return s.unshift(0),s}function S2(t,s){var a=t.length,l=[];l[0]=1;for(var i=0;i<a;i+=1){var o=t[i-s]||0;l[i+1]=t[i]-o+256&255}return l}function C2(t,s,a){var l=t.length,i=[];i[0]=2;for(var o=0;o<l;o+=1){var d=a&&a[o]||0;i[o+1]=t[o]-d+256&255}return i}function A2(t,s,a){var l=t.length,i=[];i[0]=3;for(var o=0;o<l;o+=1){var d=t[o-s]||0,x=a&&a[o]||0;i[o+1]=t[o]+256-(d+x>>>1)&255}return i}function D2(t,s,a){var l=t.length,i=[];i[0]=4;for(var o=0;o<l;o+=1){var d=yT(t[o-s]||0,a&&a[o]||0,a&&a[o-s]||0);i[o+1]=t[o]-d+256&255}return i}function yT(t,s,a){if(t===s&&s===a)return t;var l=Math.abs(s-a),i=Math.abs(t-a),o=Math.abs(t+s-a-a);return l<=i&&l<=o?t:i<=o?s:a}function jT(t){var s=t.map(function(a){return a.reduce(function(l,i){return l+Math.abs(i)},0)});return s.indexOf(Math.min.apply(null,s))}function bf(t,s,a){var l=s*a,i=Math.floor(l/8),o=16-(l-8*i+a),d=(1<<a)-1;return IN(t,i)>>o&d}function M2(t,s,a,l){var i=a*l,o=Math.floor(i/8),d=16-(i-8*o+l),x=(1<<l)-1,u=(s&x)<<d;(function(h,p,f){if(p+1<h.byteLength)h.setUint16(p,f,!1);else{var b=f>>8&255;h.setUint8(p,b)}})(t,o,IN(t,o)&~(x<<d)&65535|u)}function IN(t,s){return s+1<t.byteLength?t.getUint16(s,!1):t.getUint8(s)<<8}function wT(t){var s=0;if(t[s++]!==71||t[s++]!==73||t[s++]!==70||t[s++]!==56||(t[s++]+1&253)!=56||t[s++]!==97)throw new Error("Invalid GIF 87a/89a header.");var a=t[s++]|t[s++]<<8,l=t[s++]|t[s++]<<8,i=t[s++],o=i>>7,d=1<<1+(7&i);t[s++],t[s++];var x=null,u=null;o&&(x=s,u=d,s+=3*d);var h=!0,p=[],f=0,b=null,g=0,j=null;for(this.width=a,this.height=l;h&&s<t.length;)switch(t[s++]){case 33:switch(t[s++]){case 255:if(t[s]!==11||t[s+1]==78&&t[s+2]==69&&t[s+3]==84&&t[s+4]==83&&t[s+5]==67&&t[s+6]==65&&t[s+7]==80&&t[s+8]==69&&t[s+9]==50&&t[s+10]==46&&t[s+11]==48&&t[s+12]==3&&t[s+13]==1&&t[s+16]==0)s+=14,j=t[s++]|t[s++]<<8,s++;else for(s+=12;;){if(!((q=t[s++])>=0))throw Error("Invalid block size");if(q===0)break;s+=q}break;case 249:if(t[s++]!==4||t[s+4]!==0)throw new Error("Invalid graphics extension block.");var A=t[s++];f=t[s++]|t[s++]<<8,b=t[s++],1&A||(b=null),g=A>>2&7,s++;break;case 254:for(;;){if(!((q=t[s++])>=0))throw Error("Invalid block size");if(q===0)break;s+=q}break;default:throw new Error("Unknown graphic control label: 0x"+t[s-1].toString(16))}break;case 44:var w=t[s++]|t[s++]<<8,k=t[s++]|t[s++]<<8,C=t[s++]|t[s++]<<8,L=t[s++]|t[s++]<<8,N=t[s++],P=N>>6&1,_=1<<1+(7&N),F=x,R=u,B=!1;N>>7&&(B=!0,F=s,R=_,s+=3*_);var T=s;for(s++;;){var q;if(!((q=t[s++])>=0))throw Error("Invalid block size");if(q===0)break;s+=q}p.push({x:w,y:k,width:C,height:L,has_local_palette:B,palette_offset:F,palette_size:R,data_offset:T,data_length:s-T,transparent_index:b,interlaced:!!P,delay:f,disposal:g});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+t[s-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return j},this.frameInfo=function(H){if(H<0||H>=p.length)throw new Error("Frame index out of range.");return p[H]},this.decodeAndBlitFrameBGRA=function(H,G){var W=this.frameInfo(H),le=W.width*W.height;if(le>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");var V=new Uint8Array(le);L2(t,W.data_offset,V,le);var ne=W.palette_offset,I=W.transparent_index;I===null&&(I=256);var oe=W.width,Ne=a-oe,Y=oe,$=4*(W.y*a+W.x),Q=4*((W.y+W.height)*a+W.x),ae=$,ue=4*Ne;W.interlaced===!0&&(ue+=4*a*7);for(var me=8,be=0,he=V.length;be<he;++be){var we=V[be];if(Y===0&&(Y=oe,(ae+=ue)>=Q&&(ue=4*Ne+4*a*(me-1),ae=$+(oe+Ne)*(me<<1),me>>=1)),we===I)ae+=4;else{var _e=t[ne+3*we],$e=t[ne+3*we+1],Ke=t[ne+3*we+2];G[ae++]=Ke,G[ae++]=$e,G[ae++]=_e,G[ae++]=255}--Y}},this.decodeAndBlitFrameRGBA=function(H,G){var W=this.frameInfo(H),le=W.width*W.height;if(le>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");var V=new Uint8Array(le);L2(t,W.data_offset,V,le);var ne=W.palette_offset,I=W.transparent_index;I===null&&(I=256);var oe=W.width,Ne=a-oe,Y=oe,$=4*(W.y*a+W.x),Q=4*((W.y+W.height)*a+W.x),ae=$,ue=4*Ne;W.interlaced===!0&&(ue+=4*a*7);for(var me=8,be=0,he=V.length;be<he;++be){var we=V[be];if(Y===0&&(Y=oe,(ae+=ue)>=Q&&(ue=4*Ne+4*a*(me-1),ae=$+(oe+Ne)*(me<<1),me>>=1)),we===I)ae+=4;else{var _e=t[ne+3*we],$e=t[ne+3*we+1],Ke=t[ne+3*we+2];G[ae++]=_e,G[ae++]=$e,G[ae++]=Ke,G[ae++]=255}--Y}}}function L2(t,s,a,l){for(var i=t[s++],o=1<<i,d=o+1,x=d+1,u=i+1,h=(1<<u)-1,p=0,f=0,b=0,g=t[s++],j=new Int32Array(4096),A=null;;){for(;p<16&&g!==0;)f|=t[s++]<<p,p+=8,g===1?g=t[s++]:--g;if(p<u)break;var w=f&h;if(f>>=u,p-=u,w!==o){if(w===d)break;for(var k=w<x?w:A,C=0,L=k;L>o;)L=j[L]>>8,++C;var N=L;if(b+C+(k!==w?1:0)>l)return void da.log("Warning, gif stream longer than expected.");a[b++]=N;var P=b+=C;for(k!==w&&(a[b++]=N),L=k;C--;)L=j[L],a[--P]=255&L,L>>=8;A!==null&&x<4096&&(j[x++]=A<<8|N,x>=h+1&&u<12&&(++u,h=h<<1|1)),A=w}else x=d+1,h=(1<<(u=i+1))-1,A=null}return b!==l&&da.log("Warning, gif stream shorter than expected."),a}function vf(t){var s,a,l,i,o,d=Math.floor,x=new Array(64),u=new Array(64),h=new Array(64),p=new Array(64),f=new Array(65535),b=new Array(65535),g=new Array(64),j=new Array(64),A=[],w=0,k=7,C=new Array(64),L=new Array(64),N=new Array(64),P=new Array(256),_=new Array(2048),F=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],R=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],T=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],q=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],H=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],G=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],le=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function V($,Q){for(var ae=0,ue=0,me=new Array,be=1;be<=16;be++){for(var he=1;he<=$[be];he++)me[Q[ue]]=[],me[Q[ue]][0]=ae,me[Q[ue]][1]=be,ue++,ae++;ae*=2}return me}function ne($){for(var Q=$[0],ae=$[1]-1;ae>=0;)Q&1<<ae&&(w|=1<<k),ae--,--k<0&&(w==255?(I(255),I(0)):I(w),k=7,w=0)}function I($){A.push($)}function oe($){I($>>8&255),I(255&$)}function Ne($,Q,ae,ue,me){for(var be,he=me[0],we=me[240],_e=(function(Xe,kt){var nt,Ct,gt,Ye,Kt,vt,cs,rs,dt,Jt,Nt=0;for(dt=0;dt<8;++dt){nt=Xe[Nt],Ct=Xe[Nt+1],gt=Xe[Nt+2],Ye=Xe[Nt+3],Kt=Xe[Nt+4],vt=Xe[Nt+5],cs=Xe[Nt+6];var Da=nt+(rs=Xe[Nt+7]),xs=nt-rs,Tt=Ct+cs,Ht=Ct-cs,ps=gt+vt,Lt=gt-vt,Zs=Ye+Kt,Ot=Ye-Kt,Wt=Da+Zs,Ws=Da-Zs,ls=Tt+ps,St=Tt-ps;Xe[Nt]=Wt+ls,Xe[Nt+4]=Wt-ls;var Ss=.707106781*(St+Ws);Xe[Nt+2]=Ws+Ss,Xe[Nt+6]=Ws-Ss;var Zl=.382683433*((Wt=Ot+Lt)-(St=Ht+xs)),jr=.5411961*Wt+Zl,Sn=1.306562965*St+Zl,Cl=.707106781*(ls=Lt+Ht),Dt=xs+Cl,Qn=xs-Cl;Xe[Nt+5]=Qn+jr,Xe[Nt+3]=Qn-jr,Xe[Nt+1]=Dt+Sn,Xe[Nt+7]=Dt-Sn,Nt+=8}for(Nt=0,dt=0;dt<8;++dt){nt=Xe[Nt],Ct=Xe[Nt+8],gt=Xe[Nt+16],Ye=Xe[Nt+24],Kt=Xe[Nt+32],vt=Xe[Nt+40],cs=Xe[Nt+48];var Cn=nt+(rs=Xe[Nt+56]),cl=nt-rs,dl=Ct+cs,ha=Ct-cs,Ra=gt+vt,rr=gt-vt,_i=Ye+Kt,_r=Ye-Kt,Gs=Cn+_i,ma=Cn-_i,wr=dl+Ra,xl=dl-Ra;Xe[Nt]=Gs+wr,Xe[Nt+32]=Gs-wr;var Al=.707106781*(xl+ma);Xe[Nt+16]=ma+Al,Xe[Nt+48]=ma-Al;var lo=.382683433*((Gs=_r+rr)-(xl=ha+cl)),en=.5411961*Gs+lo,tn=1.306562965*xl+lo,Pi=.707106781*(wr=rr+ha),sn=cl+Pi,an=cl-Pi;Xe[Nt+40]=an+en,Xe[Nt+24]=an-en,Xe[Nt+8]=sn+tn,Xe[Nt+56]=sn-tn,Nt++}for(dt=0;dt<64;++dt)Jt=Xe[dt]*kt[dt],g[dt]=Jt>0?Jt+.5|0:Jt-.5|0;return g})($,Q),$e=0;$e<64;++$e)j[F[$e]]=_e[$e];var Ke=j[0]-ae;ae=j[0],Ke==0?ne(ue[0]):(ne(ue[b[be=32767+Ke]]),ne(f[be]));for(var et=63;et>0&&j[et]==0;)et--;if(et==0)return ne(he),ae;for(var xe,se=1;se<=et;){for(var Ze=se;j[se]==0&&se<=et;)++se;var It=se-Ze;if(It>=16){xe=It>>4;for(var At=1;At<=xe;++At)ne(we);It&=15}be=32767+j[se],ne(me[(It<<4)+b[be]]),ne(f[be]),se++}return et!=63&&ne(he),ae}function Y($){$=Math.min(Math.max($,1),100),o!=$&&((function(Q){for(var ae=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ue=0;ue<64;ue++){var me=d((ae[ue]*Q+50)/100);me=Math.min(Math.max(me,1),255),x[F[ue]]=me}for(var be=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],he=0;he<64;he++){var we=d((be[he]*Q+50)/100);we=Math.min(Math.max(we,1),255),u[F[he]]=we}for(var _e=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],$e=0,Ke=0;Ke<8;Ke++)for(var et=0;et<8;et++)h[$e]=1/(x[F[$e]]*_e[Ke]*_e[et]*8),p[$e]=1/(u[F[$e]]*_e[Ke]*_e[et]*8),$e++})($<50?Math.floor(5e3/$):Math.floor(200-2*$)),o=$)}this.encode=function($,Q){Q&&Y(Q),A=new Array,w=0,k=7,oe(65496),oe(65504),oe(16),I(74),I(70),I(73),I(70),I(0),I(1),I(1),I(0),oe(1),oe(1),I(0),I(0),(function(){oe(65499),oe(132),I(0);for(var Ct=0;Ct<64;Ct++)I(x[Ct]);I(1);for(var gt=0;gt<64;gt++)I(u[gt])})(),(function(Ct,gt){oe(65472),oe(17),I(8),oe(gt),oe(Ct),I(3),I(1),I(17),I(0),I(2),I(17),I(1),I(3),I(17),I(1)})($.width,$.height),(function(){oe(65476),oe(418),I(0);for(var Ct=0;Ct<16;Ct++)I(R[Ct+1]);for(var gt=0;gt<=11;gt++)I(B[gt]);I(16);for(var Ye=0;Ye<16;Ye++)I(T[Ye+1]);for(var Kt=0;Kt<=161;Kt++)I(q[Kt]);I(1);for(var vt=0;vt<16;vt++)I(H[vt+1]);for(var cs=0;cs<=11;cs++)I(G[cs]);I(17);for(var rs=0;rs<16;rs++)I(W[rs+1]);for(var dt=0;dt<=161;dt++)I(le[dt])})(),oe(65498),oe(12),I(3),I(1),I(0),I(2),I(17),I(3),I(17),I(0),I(63),I(0);var ae=0,ue=0,me=0;w=0,k=7,this.encode.displayName="_encode_";for(var be,he,we,_e,$e,Ke,et,xe,se,Ze=$.data,It=$.width,At=$.height,Xe=4*It,kt=0;kt<At;){for(be=0;be<Xe;){for($e=Xe*kt+be,et=-1,xe=0,se=0;se<64;se++)Ke=$e+(xe=se>>3)*Xe+(et=4*(7&se)),kt+xe>=At&&(Ke-=Xe*(kt+1+xe-At)),be+et>=Xe&&(Ke-=be+et-Xe+4),he=Ze[Ke++],we=Ze[Ke++],_e=Ze[Ke++],C[se]=(_[he]+_[we+256|0]+_[_e+512|0]>>16)-128,L[se]=(_[he+768|0]+_[we+1024|0]+_[_e+1280|0]>>16)-128,N[se]=(_[he+1280|0]+_[we+1536|0]+_[_e+1792|0]>>16)-128;ae=Ne(C,h,ae,s,l),ue=Ne(L,p,ue,a,i),me=Ne(N,p,me,a,i),be+=32}kt+=8}if(k>=0){var nt=[];nt[1]=k+1,nt[0]=(1<<k+1)-1,ne(nt)}return oe(65497),new Uint8Array(A)},t=t||50,(function(){for(var $=String.fromCharCode,Q=0;Q<256;Q++)P[Q]=$(Q)})(),s=V(R,B),a=V(H,G),l=V(T,q),i=V(W,le),(function(){for(var $=1,Q=2,ae=1;ae<=15;ae++){for(var ue=$;ue<Q;ue++)b[32767+ue]=ae,f[32767+ue]=[],f[32767+ue][1]=ae,f[32767+ue][0]=ue;for(var me=-(Q-1);me<=-$;me++)b[32767+me]=ae,f[32767+me]=[],f[32767+me][1]=ae,f[32767+me][0]=Q-1+me;$<<=1,Q<<=1}})(),(function(){for(var $=0;$<256;$++)_[$]=19595*$,_[$+256|0]=38470*$,_[$+512|0]=7471*$+32768,_[$+768|0]=-11059*$,_[$+1024|0]=-21709*$,_[$+1280|0]=32768*$+8421375,_[$+1536|0]=-27439*$,_[$+1792|0]=-5329*$})(),Y(t)}function Ci(t,s){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!s,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function z2(t){function s(B){if(!B)throw Error("assert :P")}function a(B,T,q){for(var H=0;4>H;H++)if(B[T+H]!=q.charCodeAt(H))return!0;return!1}function l(B,T,q,H,G){for(var W=0;W<G;W++)B[T+W]=q[H+W]}function i(B,T,q,H){for(var G=0;G<H;G++)B[T+G]=q}function o(B){return new Int32Array(B)}function d(B,T){for(var q=[],H=0;H<B;H++)q.push(new T);return q}function x(B,T){var q=[];return(function H(G,W,le){for(var V=le[W],ne=0;ne<V&&(G.push(le.length>W+1?[]:new T),!(le.length<W+1));ne++)H(G[ne],W+1,le)})(q,0,B),q}var u=function(){var B=this;function T(y,D){for(var E=1<<D-1>>>0;y&E;)E>>>=1;return E?(y&E-1)+E:y}function q(y,D,E,O,K){s(!(O%E));do y[D+(O-=E)]=K;while(0<O)}function H(y,D,E,O,K){if(s(2328>=K),512>=K)var J=o(512);else if((J=o(K))==null)return 0;return(function(Z,te,re,ce,ge,Me){var ie,je,Ce=te,Fe=1<<re,Ae=o(16),Oe=o(16);for(s(ge!=0),s(ce!=null),s(Z!=null),s(0<re),je=0;je<ge;++je){if(15<ce[je])return 0;++Ae[ce[je]]}if(Ae[0]==ge)return 0;for(Oe[1]=0,ie=1;15>ie;++ie){if(Ae[ie]>1<<ie)return 0;Oe[ie+1]=Oe[ie]+Ae[ie]}for(je=0;je<ge;++je)ie=ce[je],0<ce[je]&&(Me[Oe[ie]++]=je);if(Oe[15]==1)return(ce=new G).g=0,ce.value=Me[0],q(Z,Ce,1,Fe,ce),Fe;var Ue,Je=-1,We=Fe-1,mt=0,it=1,Vt=1,xt=1<<re;for(je=0,ie=1,ge=2;ie<=re;++ie,ge<<=1){if(it+=Vt<<=1,0>(Vt-=Ae[ie]))return 0;for(;0<Ae[ie];--Ae[ie])(ce=new G).g=ie,ce.value=Me[je++],q(Z,Ce+mt,ge,xt,ce),mt=T(mt,ie)}for(ie=re+1,ge=2;15>=ie;++ie,ge<<=1){if(it+=Vt<<=1,0>(Vt-=Ae[ie]))return 0;for(;0<Ae[ie];--Ae[ie]){if(ce=new G,(mt&We)!=Je){for(Ce+=xt,Ue=1<<(Je=ie)-re;15>Je&&!(0>=(Ue-=Ae[Je]));)++Je,Ue<<=1;Fe+=xt=1<<(Ue=Je-re),Z[te+(Je=mt&We)].g=Ue+re,Z[te+Je].value=Ce-te-Je}ce.g=ie-re,ce.value=Me[je++],q(Z,Ce+(mt>>re),ge,xt,ce),mt=T(mt,ie)}}return it!=2*Oe[15]-1?0:Fe})(y,D,E,O,K,J)}function G(){this.value=this.g=0}function W(){this.value=this.g=0}function le(){this.G=d(5,G),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=d(Bi,W)}function V(y,D,E,O){s(y!=null),s(D!=null),s(2147483648>O),y.Ca=254,y.I=0,y.b=-8,y.Ka=0,y.oa=D,y.pa=E,y.Jd=D,y.Yc=E+O,y.Zc=4<=O?E+O-4+1:E,he(y)}function ne(y,D){for(var E=0;0<D--;)E|=_e(y,128)<<D;return E}function I(y,D){var E=ne(y,D);return we(y)?-E:E}function oe(y,D,E,O){var K,J=0;for(s(y!=null),s(D!=null),s(4294967288>O),y.Sb=O,y.Ra=0,y.u=0,y.h=0,4<O&&(O=4),K=0;K<O;++K)J+=D[E+K]<<8*K;y.Ra=J,y.bb=O,y.oa=D,y.pa=E}function Ne(y){for(;8<=y.u&&y.bb<y.Sb;)y.Ra>>>=8,y.Ra+=y.oa[y.pa+y.bb]<<Tn-8>>>0,++y.bb,y.u-=8;ue(y)&&(y.h=1,y.u=0)}function Y(y,D){if(s(0<=D),!y.h&&D<=Fr){var E=ae(y)&Xr[D];return y.u+=D,Ne(y),E}return y.h=1,y.u=0}function $(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ae(y){return y.Ra>>>(y.u&Tn-1)>>>0}function ue(y){return s(y.bb<=y.Sb),y.h||y.bb==y.Sb&&y.u>Tn}function me(y,D){y.u=D,y.h=ue(y)}function be(y){y.u>=_n&&(s(y.u>=_n),Ne(y))}function he(y){s(y!=null&&y.oa!=null),y.pa<y.Zc?(y.I=(y.oa[y.pa++]|y.I<<8)>>>0,y.b+=8):(s(y!=null&&y.oa!=null),y.pa<y.Yc?(y.b+=8,y.I=y.oa[y.pa++]|y.I<<8):y.Ka?y.b=0:(y.I<<=8,y.b+=8,y.Ka=1))}function we(y){return ne(y,1)}function _e(y,D){var E=y.Ca;0>y.b&&he(y);var O=y.b,K=E*D>>>8,J=(y.I>>>O>K)+0;for(J?(E-=K,y.I-=K+1<<O>>>0):E=K+1,O=E,K=0;256<=O;)K+=8,O>>=8;return O=7^K+hi[O],y.b-=O,y.Ca=(E<<O)-1,J}function $e(y,D,E){y[D+0]=E>>24&255,y[D+1]=E>>16&255,y[D+2]=E>>8&255,y[D+3]=255&E}function Ke(y,D){return y[D+0]|y[D+1]<<8}function et(y,D){return Ke(y,D)|y[D+2]<<16}function xe(y,D){return Ke(y,D)|Ke(y,D+2)<<16}function se(y,D){var E=1<<D;return s(y!=null),s(0<D),y.X=o(E),y.X==null?0:(y.Mb=32-D,y.Xa=D,1)}function Ze(y,D){s(y!=null),s(D!=null),s(y.Xa==D.Xa),l(D.X,0,y.X,0,1<<D.Xa)}function It(){this.X=[],this.Xa=this.Mb=0}function At(y,D,E,O){s(E!=null),s(O!=null);var K=E[0],J=O[0];return K==0&&(K=(y*J+D/2)/D),J==0&&(J=(D*K+y/2)/y),0>=K||0>=J?0:(E[0]=K,O[0]=J,1)}function Xe(y,D){return y+(1<<D)-1>>>D}function kt(y,D){return((4278255360&y)+(4278255360&D)>>>0&4278255360)+((16711935&y)+(16711935&D)>>>0&16711935)>>>0}function nt(y,D){B[D]=function(E,O,K,J,Z,te,re){var ce;for(ce=0;ce<Z;++ce){var ge=B[y](te[re+ce-1],K,J+ce);te[re+ce]=kt(E[O+ce],ge)}}}function Ct(){this.ud=this.hd=this.jd=0}function gt(y,D){return((4278124286&(y^D))>>>1)+(y&D)>>>0}function Ye(y){return 0<=y&&256>y?y:0>y?0:255<y?255:void 0}function Kt(y,D){return Ye(y+(y-D+.5>>1))}function vt(y,D,E){return Math.abs(D-E)-Math.abs(y-E)}function cs(y,D,E,O,K,J,Z){for(O=J[Z-1],E=0;E<K;++E)J[Z+E]=O=kt(y[D+E],O)}function rs(y,D,E,O,K){var J;for(J=0;J<E;++J){var Z=y[D+J],te=Z>>8&255,re=16711935&(re=(re=16711935&Z)+((te<<16)+te));O[K+J]=(4278255360&Z)+re>>>0}}function dt(y,D){D.jd=255&y,D.hd=y>>8&255,D.ud=y>>16&255}function Jt(y,D,E,O,K,J){var Z;for(Z=0;Z<O;++Z){var te=D[E+Z],re=te>>>8,ce=te,ge=255&(ge=(ge=te>>>16)+((y.jd<<24>>24)*(re<<24>>24)>>>5));ce=255&(ce=(ce+=(y.hd<<24>>24)*(re<<24>>24)>>>5)+((y.ud<<24>>24)*(ge<<24>>24)>>>5)),K[J+Z]=(4278255360&te)+(ge<<16)+ce}}function Nt(y,D,E,O,K){B[D]=function(J,Z,te,re,ce,ge,Me,ie,je){for(re=Me;re<ie;++re)for(Me=0;Me<je;++Me)ce[ge++]=K(te[O(J[Z++])])},B[y]=function(J,Z,te,re,ce,ge,Me){var ie=8>>J.b,je=J.Ea,Ce=J.K[0],Fe=J.w;if(8>ie)for(J=(1<<J.b)-1,Fe=(1<<ie)-1;Z<te;++Z){var Ae,Oe=0;for(Ae=0;Ae<je;++Ae)Ae&J||(Oe=O(re[ce++])),ge[Me++]=K(Ce[Oe&Fe]),Oe>>=ie}else B["VP8LMapColor"+E](re,ce,Ce,Fe,ge,Me,Z,te,je)}}function Da(y,D,E,O,K){for(E=D+E;D<E;){var J=y[D++];O[K++]=J>>16&255,O[K++]=J>>8&255,O[K++]=255&J}}function xs(y,D,E,O,K){for(E=D+E;D<E;){var J=y[D++];O[K++]=J>>16&255,O[K++]=J>>8&255,O[K++]=255&J,O[K++]=J>>24&255}}function Tt(y,D,E,O,K){for(E=D+E;D<E;){var J=(Z=y[D++])>>16&240|Z>>12&15,Z=240&Z|Z>>28&15;O[K++]=J,O[K++]=Z}}function Ht(y,D,E,O,K){for(E=D+E;D<E;){var J=(Z=y[D++])>>16&248|Z>>13&7,Z=Z>>5&224|Z>>3&31;O[K++]=J,O[K++]=Z}}function ps(y,D,E,O,K){for(E=D+E;D<E;){var J=y[D++];O[K++]=255&J,O[K++]=J>>8&255,O[K++]=J>>16&255}}function Lt(y,D,E,O,K,J){if(J==0)for(E=D+E;D<E;)$e(O,((J=y[D++])[0]>>24|J[1]>>8&65280|J[2]<<8&16711680|J[3]<<24)>>>0),K+=32;else l(O,K,y,D,E)}function Zs(y,D){B[D][0]=B[y+"0"],B[D][1]=B[y+"1"],B[D][2]=B[y+"2"],B[D][3]=B[y+"3"],B[D][4]=B[y+"4"],B[D][5]=B[y+"5"],B[D][6]=B[y+"6"],B[D][7]=B[y+"7"],B[D][8]=B[y+"8"],B[D][9]=B[y+"9"],B[D][10]=B[y+"10"],B[D][11]=B[y+"11"],B[D][12]=B[y+"12"],B[D][13]=B[y+"13"],B[D][14]=B[y+"0"],B[D][15]=B[y+"0"]}function Ot(y){return y==od||y==Jd||y==rc||y==Qd}function Wt(){this.eb=[],this.size=this.A=this.fb=0}function Ws(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ls(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Wt,this.f.kb=new Ws,this.sd=null}function St(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ss(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Zl(y){return alert("todo:WebPSamplerProcessPlane"),y.T}function jr(y,D){var E=y.T,O=D.ba.f.RGBA,K=O.eb,J=O.fb+y.ka*O.A,Z=gr[D.ba.S],te=y.y,re=y.O,ce=y.f,ge=y.N,Me=y.ea,ie=y.W,je=D.cc,Ce=D.dc,Fe=D.Mc,Ae=D.Nc,Oe=y.ka,Ue=y.ka+y.T,Je=y.U,We=Je+1>>1;for(Oe==0?Z(te,re,null,null,ce,ge,Me,ie,ce,ge,Me,ie,K,J,null,null,Je):(Z(D.ec,D.fc,te,re,je,Ce,Fe,Ae,ce,ge,Me,ie,K,J-O.A,K,J,Je),++E);Oe+2<Ue;Oe+=2)je=ce,Ce=ge,Fe=Me,Ae=ie,ge+=y.Rc,ie+=y.Rc,J+=2*O.A,Z(te,(re+=2*y.fa)-y.fa,te,re,je,Ce,Fe,Ae,ce,ge,Me,ie,K,J-O.A,K,J,Je);return re+=y.fa,y.j+Ue<y.o?(l(D.ec,D.fc,te,re,Je),l(D.cc,D.dc,ce,ge,We),l(D.Mc,D.Nc,Me,ie,We),E--):1&Ue||Z(te,re,null,null,ce,ge,Me,ie,ce,ge,Me,ie,K,J+O.A,null,null,Je),E}function Sn(y,D,E){var O=y.F,K=[y.J];if(O!=null){var J=y.U,Z=D.ba.S,te=Z==id||Z==rc;D=D.ba.f.RGBA;var re=[0],ce=y.ka;re[0]=y.T,y.Kb&&(ce==0?--re[0]:(--ce,K[0]-=y.width),y.j+y.ka+y.T==y.o&&(re[0]=y.o-y.j-ce));var ge=D.eb;ce=D.fb+ce*D.A,y=ad(O,K[0],y.width,J,re,ge,ce+(te?0:3),D.A),s(E==re),y&&Ot(Z)&&go(ge,ce,te,J,re,D.A)}return 0}function Cl(y){var D=y.ma,E=D.ba.S,O=11>E,K=E==Sr||E==El||E==id||E==ac||E==12||Ot(E);if(D.memory=null,D.Ib=null,D.Jb=null,D.Nd=null,!ui(D.Oa,y,K?11:12))return 0;if(K&&Ot(E)&&Zc(),y.da)alert("todo:use_scaling");else{if(O){if(D.Ib=Zl,y.Kb){if(E=y.U+1>>1,D.memory=o(y.U+2*E),D.memory==null)return 0;D.ec=D.memory,D.fc=0,D.cc=D.ec,D.dc=D.fc+y.U,D.Mc=D.cc,D.Nc=D.dc+E,D.Ib=jr,Zc()}}else alert("todo:EmitYUV");K&&(D.Jb=Sn,O&&cn())}if(O&&!Vi){for(y=0;256>y;++y)br[y]=89858*(y-128)+ic>>Fl,gm[y]=-22014*(y-128)+ic,vu[y]=-45773*(y-128),a0[y]=113618*(y-128)+ic>>Fl;for(y=jo;y<Gi;++y)D=76283*(y-16)+ic>>Fl,bm[y-jo]=hl(D,255),vm[y-jo]=hl(D+8>>4,15);Vi=1}return 1}function Dt(y){var D=y.ma,E=y.U,O=y.T;return s(!(1&y.ka)),0>=E||0>=O?0:(E=D.Ib(y,D),D.Jb!=null&&D.Jb(y,D,E),D.Dc+=E,1)}function Qn(y){y.ma.memory=null}function Cn(y,D,E,O){return Y(y,8)!=47?0:(D[0]=Y(y,14)+1,E[0]=Y(y,14)+1,O[0]=Y(y,1),Y(y,3)!=0?0:!y.h)}function cl(y,D){if(4>y)return y+1;var E=y-2>>1;return(2+(1&y)<<E)+Y(D,E)+1}function dl(y,D){return 120<D?D-120:1<=(E=((E=_l[D-1])>>4)*y+(8-(15&E)))?E:1;var E}function ha(y,D,E){var O=ae(E),K=y[D+=255&O].g-8;return 0<K&&(me(E,E.u+8),O=ae(E),D+=y[D].value,D+=O&(1<<K)-1),me(E,E.u+y[D].g),y[D].value}function Ra(y,D,E){return E.g+=y.g,E.value+=y.value<<D>>>0,s(8>=E.g),y.g}function rr(y,D,E){var O=y.xc;return s((D=O==0?0:y.vc[y.md*(E>>O)+(D>>O)])<y.Wb),y.Ya[D]}function _i(y,D,E,O){var K=y.ab,J=y.c*D,Z=y.C;D=Z+D;var te=E,re=O;for(O=y.Ta,E=y.Ua;0<K--;){var ce=y.gc[K],ge=Z,Me=D,ie=te,je=re,Ce=(re=O,te=E,ce.Ea);switch(s(ge<Me),s(Me<=ce.nc),ce.hc){case 2:za(ie,je,(Me-ge)*Ce,re,te);break;case 0:var Fe=ge,Ae=Me,Oe=re,Ue=te,Je=(xt=ce).Ea;Fe==0&&(Zo(ie,je,null,null,1,Oe,Ue),cs(ie,je+1,0,0,Je-1,Oe,Ue+1),je+=Je,Ue+=Je,++Fe);for(var We=1<<xt.b,mt=We-1,it=Xe(Je,xt.b),Vt=xt.K,xt=xt.w+(Fe>>xt.b)*it;Fe<Ae;){var fs=Vt,oa=xt,es=1;for(ec(ie,je,Oe,Ue-Je,1,Oe,Ue);es<Je;){var ot=(es&~mt)+We;ot>Je&&(ot=Je),(0,mi[fs[oa++]>>8&15])(ie,je+ +es,Oe,Ue+es-Je,ot-es,Oe,Ue+es),es=ot}je+=Je,Ue+=Je,++Fe&mt||(xt+=it)}Me!=ce.nc&&l(re,te-Ce,re,te+(Me-ge-1)*Ce,Ce);break;case 1:for(Ce=ie,Ae=je,Je=(ie=ce.Ea)-(Ue=ie&~(Oe=(je=1<<ce.b)-1)),Fe=Xe(ie,ce.b),We=ce.K,ce=ce.w+(ge>>ce.b)*Fe;ge<Me;){for(mt=We,it=ce,Vt=new Ct,xt=Ae+Ue,fs=Ae+ie;Ae<xt;)dt(mt[it++],Vt),tc(Vt,Ce,Ae,je,re,te),Ae+=je,te+=je;Ae<fs&&(dt(mt[it++],Vt),tc(Vt,Ce,Ae,Je,re,te),Ae+=Je,te+=Je),++ge&Oe||(ce+=Fe)}break;case 3:if(ie==re&&je==te&&0<ce.b){for(Ae=re,ie=Ce=te+(Me-ge)*Ce-(Ue=(Me-ge)*Xe(ce.Ea,ce.b)),je=re,Oe=te,Fe=[],Ue=(Je=Ue)-1;0<=Ue;--Ue)Fe[Ue]=je[Oe+Ue];for(Ue=Je-1;0<=Ue;--Ue)Ae[ie+Ue]=Fe[Ue];Gd(ce,ge,Me,re,Ce,re,te)}else Gd(ce,ge,Me,ie,je,re,te)}te=O,re=E}re!=E&&l(O,E,te,re,J)}function _r(y,D){var E=y.V,O=y.Ba+y.c*y.C,K=D-y.C;if(s(D<=y.l.o),s(16>=K),0<K){var J=y.l,Z=y.Ta,te=y.Ua,re=J.width;if(_i(y,K,E,O),K=te=[te],s((E=y.C)<(O=D)),s(J.v<J.va),O>J.o&&(O=J.o),E<J.j){var ce=J.j-E;E=J.j,K[0]+=ce*re}if(E>=O?E=0:(K[0]+=4*J.v,J.ka=E-J.j,J.U=J.va-J.v,J.T=O-E,E=1),E){if(te=te[0],11>(E=y.ca).S){var ge=E.f.RGBA,Me=(O=E.S,K=J.U,J=J.T,ce=ge.eb,ge.A),ie=J;for(ge=ge.fb+y.Ma*ge.A;0<ie--;){var je=Z,Ce=te,Fe=K,Ae=ce,Oe=ge;switch(O){case Xd:sc(je,Ce,Fe,Ae,Oe);break;case Sr:pi(je,Ce,Fe,Ae,Oe);break;case od:pi(je,Ce,Fe,Ae,Oe),go(Ae,Oe,0,Fe,1,0);break;case Kd:po(je,Ce,Fe,Ae,Oe);break;case El:Lt(je,Ce,Fe,Ae,Oe,1);break;case Jd:Lt(je,Ce,Fe,Ae,Oe,1),go(Ae,Oe,0,Fe,1,0);break;case id:Lt(je,Ce,Fe,Ae,Oe,0);break;case rc:Lt(je,Ce,Fe,Ae,Oe,0),go(Ae,Oe,1,Fe,1,0);break;case ac:fi(je,Ce,Fe,Ae,Oe);break;case Qd:fi(je,Ce,Fe,Ae,Oe),zl(Ae,Oe,Fe,1,0);break;case Ui:On(je,Ce,Fe,Ae,Oe);break;default:s(0)}te+=re,ge+=Me}y.Ma+=J}else alert("todo:EmitRescaledRowsYUVA");s(y.Ma<=E.height)}}y.C=D,s(y.C<=y.i)}function Gs(y){var D;if(0<y.ua)return 0;for(D=0;D<y.Wb;++D){var E=y.Ya[D].G,O=y.Ya[D].H;if(0<E[1][O[1]+0].g||0<E[2][O[2]+0].g||0<E[3][O[3]+0].g)return 0}return 1}function ma(y,D,E,O,K,J){if(y.Z!=0){var Z=y.qd,te=y.rd;for(s(vi[y.Z]!=null);D<E;++D)vi[y.Z](Z,te,O,K,O,K,J),Z=O,te=K,K+=J;y.qd=Z,y.rd=te}}function wr(y,D){var E=y.l.ma,O=E.Z==0||E.Z==1?y.l.j:y.C;if(O=y.C<O?O:y.C,s(D<=y.l.o),D>O){var K=y.l.width,J=E.ca,Z=E.tb+K*O,te=y.V,re=y.Ba+y.c*O,ce=y.gc;s(y.ab==1),s(ce[0].hc==3),Rn(ce[0],O,D,te,re,J,Z),ma(E,O,D,J,Z,K)}y.C=y.Ma=D}function xl(y,D,E,O,K,J,Z){var te=y.$/O,re=y.$%O,ce=y.m,ge=y.s,Me=E+y.$,ie=Me;K=E+O*K;var je=E+O*J,Ce=280+ge.ua,Fe=y.Pb?te:16777216,Ae=0<ge.ua?ge.Wa:null,Oe=ge.wc,Ue=Me<je?rr(ge,re,te):null;s(y.C<J),s(je<=K);var Je=!1;e:for(;;){for(;Je||Me<je;){var We=0;if(te>=Fe){var mt=Me-E;s((Fe=y).Pb),Fe.wd=Fe.m,Fe.xd=mt,0<Fe.s.ua&&Ze(Fe.s.Wa,Fe.s.vb),Fe=te+$i}if(re&Oe||(Ue=rr(ge,re,te)),s(Ue!=null),Ue.Qb&&(D[Me]=Ue.qb,Je=!0),!Je)if(be(ce),Ue.jc){We=ce,mt=D;var it=Me,Vt=Ue.pd[ae(We)&Bi-1];s(Ue.jc),256>Vt.g?(me(We,We.u+Vt.g),mt[it]=Vt.value,We=0):(me(We,We.u+Vt.g-256),s(256<=Vt.value),We=Vt.value),We==0&&(Je=!0)}else We=ha(Ue.G[0],Ue.H[0],ce);if(ce.h)break;if(Je||256>We){if(!Je)if(Ue.nd)D[Me]=(Ue.qb|We<<8)>>>0;else{if(be(ce),Je=ha(Ue.G[1],Ue.H[1],ce),be(ce),mt=ha(Ue.G[2],Ue.H[2],ce),it=ha(Ue.G[3],Ue.H[3],ce),ce.h)break;D[Me]=(it<<24|Je<<16|We<<8|mt)>>>0}if(Je=!1,++Me,++re>=O&&(re=0,++te,Z!=null&&te<=J&&!(te%16)&&Z(y,te),Ae!=null))for(;ie<Me;)We=D[ie++],Ae.X[(506832829*We&4294967295)>>>Ae.Mb]=We}else if(280>We){if(We=cl(We-256,ce),mt=ha(Ue.G[4],Ue.H[4],ce),be(ce),mt=dl(O,mt=cl(mt,ce)),ce.h)break;if(Me-E<mt||K-Me<We)break e;for(it=0;it<We;++it)D[Me+it]=D[Me+it-mt];for(Me+=We,re+=We;re>=O;)re-=O,++te,Z!=null&&te<=J&&!(te%16)&&Z(y,te);if(s(Me<=K),re&Oe&&(Ue=rr(ge,re,te)),Ae!=null)for(;ie<Me;)We=D[ie++],Ae.X[(506832829*We&4294967295)>>>Ae.Mb]=We}else{if(!(We<Ce))break e;for(Je=We-280,s(Ae!=null);ie<Me;)We=D[ie++],Ae.X[(506832829*We&4294967295)>>>Ae.Mb]=We;We=Me,s(!(Je>>>(mt=Ae).Xa)),D[We]=mt.X[Je],Je=!0}Je||s(ce.h==ue(ce))}if(y.Pb&&ce.h&&Me<K)s(y.m.h),y.a=5,y.m=y.wd,y.$=y.xd,0<y.s.ua&&Ze(y.s.vb,y.s.Wa);else{if(ce.h)break e;Z?.(y,te>J?J:te),y.a=0,y.$=Me-E}return 1}return y.a=3,0}function Al(y){s(y!=null),y.vc=null,y.yc=null,y.Ya=null;var D=y.Wa;D!=null&&(D.X=null),y.vb=null,s(y!=null)}function lo(){var y=new Bt;return y==null?null:(y.a=0,y.xb=lx,Zs("Predictor","VP8LPredictors"),Zs("Predictor","VP8LPredictors_C"),Zs("PredictorAdd","VP8LPredictorsAdd"),Zs("PredictorAdd","VP8LPredictorsAdd_C"),za=rs,tc=Jt,sc=Da,pi=xs,fi=Tt,On=Ht,po=ps,B.VP8LMapColor32b=Pn,B.VP8LMapColor8b=mr,y)}function en(y,D,E,O,K){var J=1,Z=[y],te=[D],re=O.m,ce=O.s,ge=null,Me=0;e:for(;;){if(E)for(;J&&Y(re,1);){var ie=Z,je=te,Ce=O,Fe=1,Ae=Ce.m,Oe=Ce.gc[Ce.ab],Ue=Y(Ae,2);if(Ce.Oc&1<<Ue)J=0;else{switch(Ce.Oc|=1<<Ue,Oe.hc=Ue,Oe.Ea=ie[0],Oe.nc=je[0],Oe.K=[null],++Ce.ab,s(4>=Ce.ab),Ue){case 0:case 1:Oe.b=Y(Ae,3)+2,Fe=en(Xe(Oe.Ea,Oe.b),Xe(Oe.nc,Oe.b),0,Ce,Oe.K),Oe.K=Oe.K[0];break;case 3:var Je,We=Y(Ae,8)+1,mt=16<We?0:4<We?1:2<We?2:3;if(ie[0]=Xe(Oe.Ea,mt),Oe.b=mt,Je=Fe=en(We,1,0,Ce,Oe.K)){var it,Vt=We,xt=Oe,fs=1<<(8>>xt.b),oa=o(fs);if(oa==null)Je=0;else{var es=xt.K[0],ot=xt.w;for(oa[0]=xt.K[0][0],it=1;it<1*Vt;++it)oa[it]=kt(es[ot+it],oa[it-1]);for(;it<4*fs;++it)oa[it]=0;xt.K[0]=null,xt.K[0]=oa,Je=1}}Fe=Je;break;case 2:break;default:s(0)}J=Fe}}if(Z=Z[0],te=te[0],J&&Y(re,1)&&!(J=1<=(Me=Y(re,4))&&11>=Me)){O.a=3;break e}var at;if(at=J)t:{var fa,Rt,ns,Is=O,Ja=Z,vr=te,sa=Me,Ia=E,Cr=Is.m,Ba=Is.s,ds=[null],Ms=1,ga=0,_s=Pl[sa];s:for(;;){if(Ia&&Y(Cr,1)){var Qa=Y(Cr,3)+2,ba=Xe(Ja,Qa),Ls=Xe(vr,Qa),_a=ba*Ls;if(!en(ba,Ls,0,Is,ds))break s;for(ds=ds[0],Ba.xc=Qa,fa=0;fa<_a;++fa){var Bs=ds[fa]>>8&65535;ds[fa]=Bs,Bs>=Ms&&(Ms=Bs+1)}}if(Cr.h)break s;for(Rt=0;5>Rt;++Rt){var Ua=vo[Rt];!Rt&&0<sa&&(Ua+=1<<sa),ga<Ua&&(ga=Ua)}var $a=d(Ms*_s,G),Vs=Ms,Ds=d(Vs,le);if(Ds==null)var Ar=null;else s(65536>=Vs),Ar=Ds;var wa=o(ga);if(Ar==null||wa==null||$a==null){Is.a=1;break s}var Mt=$a;for(fa=ns=0;fa<Ms;++fa){var zt=Ar[fa],zs=zt.G,Kr=zt.H,Il=0,Br=1,qa=0;for(Rt=0;5>Rt;++Rt){Ua=vo[Rt],zs[Rt]=Mt,Kr[Rt]=ns,!Rt&&0<sa&&(Ua+=1<<sa);r:{var Yi,Xi=Ua,l0=Is,aa=wa,ix=Mt,ox=ns,n0=0,yi=l0.m,ym=Y(yi,1);if(i(aa,0,0,Xi),ym){var cx=Y(yi,1)+1,dx=Y(yi,1),i0=Y(yi,dx==0?1:8);aa[i0]=1,cx==2&&(aa[i0=Y(yi,8)]=1);var ir=1}else{var Na=o(19),ud=Y(yi,4)+4;if(19<ud){l0.a=3;var Ki=0;break r}for(Yi=0;Yi<ud;++Yi)Na[cd[Yi]]=Y(yi,3);var cc=void 0,wo=void 0,Bn=l0,o0=Na,dc=Xi,c0=aa,d0=0,ji=Bn.m,xx=8,ux=d(128,G);a:for(;H(ux,0,7,o0,19);){if(Y(ji,1)){var yu=2+2*Y(ji,3);if((cc=2+Y(ji,yu))>dc)break a}else cc=dc;for(wo=0;wo<dc&&cc--;){be(ji);var hx=ux[0+(127&ae(ji))];me(ji,ji.u+hx.g);var Ji=hx.value;if(16>Ji)c0[wo++]=Ji,Ji!=0&&(xx=Ji);else{var ju=Ji==16,wu=Ji-16,Nu=lc[wu],mx=Y(ji,Tl[wu])+Nu;if(wo+mx>dc)break a;for(var ku=ju?xx:0;0<mx--;)c0[wo++]=ku}}d0=1;break a}d0||(Bn.a=3),ir=d0}(ir=ir&&!yi.h)&&(n0=H(ix,ox,8,aa,Xi)),ir&&n0!=0?Ki=n0:(l0.a=3,Ki=0)}if(Ki==0)break s;if(Br&&Zd[Rt]==1&&(Br=Mt[ns].g==0),Il+=Mt[ns].g,ns+=Ki,3>=Rt){var No,x0=wa[0];for(No=1;No<Ua;++No)wa[No]>x0&&(x0=wa[No]);qa+=x0}}if(zt.nd=Br,zt.Qb=0,Br&&(zt.qb=(zs[3][Kr[3]+0].value<<24|zs[1][Kr[1]+0].value<<16|zs[2][Kr[2]+0].value)>>>0,Il==0&&256>zs[0][Kr[0]+0].value&&(zt.Qb=1,zt.qb+=zs[0][Kr[0]+0].value<<8)),zt.jc=!zt.Qb&&6>qa,zt.jc){var hd,Un=zt;for(hd=0;hd<Bi;++hd){var wi=hd,Ni=Un.pd[wi],u0=Un.G[0][Un.H[0]+wi];256<=u0.value?(Ni.g=u0.g+256,Ni.value=u0.value):(Ni.g=0,Ni.value=0,wi>>=Ra(u0,8,Ni),wi>>=Ra(Un.G[1][Un.H[1]+wi],16,Ni),wi>>=Ra(Un.G[2][Un.H[2]+wi],0,Ni),Ra(Un.G[3][Un.H[3]+wi],24,Ni))}}}Ba.vc=ds,Ba.Wb=Ms,Ba.Ya=Ar,Ba.yc=$a,at=1;break t}at=0}if(!(J=at)){O.a=3;break e}if(0<Me){if(ce.ua=1<<Me,!se(ce.Wa,Me)){O.a=1,J=0;break e}}else ce.ua=0;var h0=O,ko=Z,Su=te,xc=h0.s,uc=xc.xc;if(h0.c=ko,h0.i=Su,xc.md=Xe(ko,uc),xc.wc=uc==0?-1:(1<<uc)-1,E){O.xb=qi;break e}if((ge=o(Z*te))==null){O.a=1,J=0;break e}J=(J=xl(O,ge,0,Z,te,te,null))&&!re.h;break e}return J?(K!=null?K[0]=ge:(s(ge==null),s(E)),O.$=0,E||Al(ce)):Al(ce),J}function tn(y,D){var E=y.c*y.i,O=E+D+16*D;return s(y.c<=D),y.V=o(O),y.V==null?(y.Ta=null,y.Ua=0,y.a=1,0):(y.Ta=y.V,y.Ua=y.Ba+E+D,1)}function Pi(y,D){var E=y.C,O=D-E,K=y.V,J=y.Ba+y.c*E;for(s(D<=y.l.o);0<O;){var Z=16<O?16:O,te=y.l.ma,re=y.l.width,ce=re*Z,ge=te.ca,Me=te.tb+re*E,ie=y.Ta,je=y.Ua;_i(y,Z,K,J),bl(ie,je,ge,Me,ce),ma(te,E,E+Z,ge,Me,re),O-=Z,K+=Z*y.c,E+=Z}s(E==D),y.C=y.Ma=D}function sn(){this.ub=this.yd=this.td=this.Rb=0}function an(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function no(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function An(){this.Yb=(function(){var y=[];return(function D(E,O,K){for(var J=K[O],Z=0;Z<J&&(E.push(K.length>O+1?[]:0),!(K.length<O+1));Z++)D(E[Z],O+1,K)})(y,0,[3,11]),y})()}function Ma(){this.jb=o(3),this.Wc=x([4,8],An),this.Xc=x([4,17],An)}function Ic(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function ul(){this.ld=this.La=this.dd=this.tc=0}function rn(){this.Na=this.la=0}function Zn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Bc(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Uc(){this.uc=this.M=this.Nb=0,this.wa=Array(new ul),this.Y=0,this.ya=Array(new Bc),this.aa=0,this.l=new ei}function $c(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Rd(){this.cb=this.a=0,this.sc="",this.m=new $,this.Od=new sn,this.Kc=new an,this.ed=new Ic,this.Qa=new no,this.Ic=this.$c=this.Aa=0,this.D=new Uc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=d(8,$),this.ia=0,this.pb=d(4,Zn),this.Pa=new Ma,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new $c),this.Hd=0,this.rb=Array(new rn),this.sb=0,this.wa=Array(new ul),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Bc),this.L=this.aa=0,this.gd=x([4,2],ul),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function hl(y,D){return 0>y?0:y>D?D:y}function ei(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ln(){var y=new Rd;return y!=null&&(y.a=0,y.sc="OK",y.cb=0,y.Xb=0,vl||(vl=Ri)),y}function Es(y,D,E){return y.a==0&&(y.a=D,y.sc=E,y.cb=0),0}function qc(y,D,E){return 3<=E&&y[D+0]==157&&y[D+1]==1&&y[D+2]==42}function Dn(y,D){if(y==null)return 0;if(y.a=0,y.sc="OK",D==null)return Es(y,2,"null VP8Io passed to VP8GetHeaders()");var E=D.data,O=D.w,K=D.ha;if(4>K)return Es(y,7,"Truncated header.");var J=E[O+0]|E[O+1]<<8|E[O+2]<<16,Z=y.Od;if(Z.Rb=!(1&J),Z.td=J>>1&7,Z.yd=J>>4&1,Z.ub=J>>5,3<Z.td)return Es(y,3,"Incorrect keyframe parameters.");if(!Z.yd)return Es(y,4,"Frame not displayable.");O+=3,K-=3;var te=y.Kc;if(Z.Rb){if(7>K)return Es(y,7,"cannot parse picture header");if(!qc(E,O,K))return Es(y,3,"Bad code word");te.c=16383&(E[O+4]<<8|E[O+3]),te.Td=E[O+4]>>6,te.i=16383&(E[O+6]<<8|E[O+5]),te.Ud=E[O+6]>>6,O+=7,K-=7,y.za=te.c+15>>4,y.Ub=te.i+15>>4,D.width=te.c,D.height=te.i,D.Da=0,D.j=0,D.v=0,D.va=D.width,D.o=D.height,D.da=0,D.ib=D.width,D.hb=D.height,D.U=D.width,D.T=D.height,i((J=y.Pa).jb,0,255,J.jb.length),s((J=y.Qa)!=null),J.Cb=0,J.Bb=0,J.Fb=1,i(J.Zb,0,0,J.Zb.length),i(J.Lb,0,0,J.Lb)}if(Z.ub>K)return Es(y,7,"bad partition length");V(J=y.m,E,O,Z.ub),O+=Z.ub,K-=Z.ub,Z.Rb&&(te.Ld=we(J),te.Kd=we(J)),te=y.Qa;var re,ce=y.Pa;if(s(J!=null),s(te!=null),te.Cb=we(J),te.Cb){if(te.Bb=we(J),we(J)){for(te.Fb=we(J),re=0;4>re;++re)te.Zb[re]=we(J)?I(J,7):0;for(re=0;4>re;++re)te.Lb[re]=we(J)?I(J,6):0}if(te.Bb)for(re=0;3>re;++re)ce.jb[re]=we(J)?ne(J,8):255}else te.Bb=0;if(J.Ka)return Es(y,3,"cannot parse segment header");if((te=y.ed).zd=we(J),te.Tb=ne(J,6),te.wb=ne(J,3),te.Pc=we(J),te.Pc&&we(J)){for(ce=0;4>ce;++ce)we(J)&&(te.vd[ce]=I(J,6));for(ce=0;4>ce;++ce)we(J)&&(te.od[ce]=I(J,6))}if(y.L=te.Tb==0?0:te.zd?1:2,J.Ka)return Es(y,3,"cannot parse filter header");var ge=K;if(K=re=O,O=re+ge,te=ge,y.Xb=(1<<ne(y.m,2))-1,ge<3*(ce=y.Xb))E=7;else{for(re+=3*ce,te-=3*ce,ge=0;ge<ce;++ge){var Me=E[K+0]|E[K+1]<<8|E[K+2]<<16;Me>te&&(Me=te),V(y.Jc[+ge],E,re,Me),re+=Me,te-=Me,K+=3}V(y.Jc[+ce],E,re,te),E=re<O?0:5}if(E!=0)return Es(y,E,"cannot parse partitions");for(E=ne(re=y.m,7),K=we(re)?I(re,4):0,O=we(re)?I(re,4):0,te=we(re)?I(re,4):0,ce=we(re)?I(re,4):0,re=we(re)?I(re,4):0,ge=y.Qa,Me=0;4>Me;++Me){if(ge.Cb){var ie=ge.Zb[Me];ge.Fb||(ie+=E)}else{if(0<Me){y.pb[Me]=y.pb[0];continue}ie=E}var je=y.pb[Me];je.Sc[0]=Rl[hl(ie+K,127)],je.Sc[1]=Ol[hl(ie+0,127)],je.Eb[0]=2*Rl[hl(ie+O,127)],je.Eb[1]=101581*Ol[hl(ie+te,127)]>>16,8>je.Eb[1]&&(je.Eb[1]=8),je.Qc[0]=Rl[hl(ie+ce,117)],je.Qc[1]=Ol[hl(ie+re,127)],je.lc=ie+re}if(!Z.Rb)return Es(y,4,"Not a key frame.");for(we(J),Z=y.Pa,E=0;4>E;++E){for(K=0;8>K;++K)for(O=0;3>O;++O)for(te=0;11>te;++te)ce=_e(J,ia[E][K][O][te])?ne(J,8):bu[E][K][O][te],Z.Wc[E][K].Yb[O][te]=ce;for(K=0;17>K;++K)Z.Xc[E][K]=Z.Wc[E][bs[K]]}return y.kc=we(J),y.kc&&(y.Bd=ne(J,8)),y.cb=1}function Ri(y,D,E,O,K,J,Z){var te=D[K].Yb[E];for(E=0;16>K;++K){if(!_e(y,te[E+0]))return K;for(;!_e(y,te[E+1]);)if(te=D[++K].Yb[0],E=0,K==16)return 16;var re=D[K+1].Yb;if(_e(y,te[E+2])){var ce=y,ge=0;if(_e(ce,(ie=te)[(Me=E)+3]))if(_e(ce,ie[Me+6])){for(te=0,Me=2*(ge=_e(ce,ie[Me+8]))+(ie=_e(ce,ie[Me+9+ge])),ge=0,ie=gu[Me];ie[te];++te)ge+=ge+_e(ce,ie[te]);ge+=3+(8<<Me)}else _e(ce,ie[Me+7])?(ge=7+2*_e(ce,165),ge+=_e(ce,145)):ge=5+_e(ce,159);else ge=_e(ce,ie[Me+4])?3+_e(ce,ie[Me+5]):2;te=re[2]}else ge=1,te=re[1];re=Z+rx[K],0>(ce=y).b&&he(ce);var Me,ie=ce.b,je=(Me=ce.Ca>>1)-(ce.I>>ie)>>31;--ce.b,ce.Ca+=je,ce.Ca|=1,ce.I-=(Me+1&je)<<ie,J[re]=((ge^je)-je)*O[(0<K)+0]}return 16}function Hc(y){var D=y.rb[y.sb-1];D.la=0,D.Na=0,i(y.zc,0,0,y.zc.length),y.ja=0}function Pr(y,D,E,O,K){K=y[D+E+32*O]+(K>>3),y[D+E+32*O]=-256&K?0>K?0:255:K}function Xa(y,D,E,O,K,J){Pr(y,D,0,E,O+K),Pr(y,D,1,E,O+J),Pr(y,D,2,E,O-J),Pr(y,D,3,E,O-K)}function Oa(y){return(20091*y>>16)+y}function Go(y,D,E,O){var K,J=0,Z=o(16);for(K=0;4>K;++K){var te=y[D+0]+y[D+8],re=y[D+0]-y[D+8],ce=(35468*y[D+4]>>16)-Oa(y[D+12]),ge=Oa(y[D+4])+(35468*y[D+12]>>16);Z[J+0]=te+ge,Z[J+1]=re+ce,Z[J+2]=re-ce,Z[J+3]=te-ge,J+=4,D++}for(K=J=0;4>K;++K)te=(y=Z[J+0]+4)+Z[J+8],re=y-Z[J+8],ce=(35468*Z[J+4]>>16)-Oa(Z[J+12]),Pr(E,O,0,0,te+(ge=Oa(Z[J+4])+(35468*Z[J+12]>>16))),Pr(E,O,1,0,re+ce),Pr(E,O,2,0,re-ce),Pr(E,O,3,0,te-ge),J++,O+=32}function Od(y,D,E,O){var K=y[D+0]+4,J=35468*y[D+4]>>16,Z=Oa(y[D+4]),te=35468*y[D+1]>>16;Xa(E,O,0,K+Z,y=Oa(y[D+1]),te),Xa(E,O,1,K+J,y,te),Xa(E,O,2,K-J,y,te),Xa(E,O,3,K-Z,y,te)}function Wc(y,D,E,O,K){Go(y,D,E,O),K&&Go(y,D+16,E,O+4)}function Rr(y,D,E,O){gi(y,D+0,E,O,1),gi(y,D+32,E,O+128,1)}function Gc(y,D,E,O){var K;for(y=y[D+0]+4,K=0;4>K;++K)for(D=0;4>D;++D)Pr(E,O,D,K,y)}function Vc(y,D,E,O){y[D+0]&&Ts(y,D+0,E,O),y[D+16]&&Ts(y,D+16,E,O+4),y[D+32]&&Ts(y,D+32,E,O+128),y[D+48]&&Ts(y,D+48,E,O+128+4)}function nn(y,D,E,O){var K,J=o(16);for(K=0;4>K;++K){var Z=y[D+0+K]+y[D+12+K],te=y[D+4+K]+y[D+8+K],re=y[D+4+K]-y[D+8+K],ce=y[D+0+K]-y[D+12+K];J[0+K]=Z+te,J[8+K]=Z-te,J[4+K]=ce+re,J[12+K]=ce-re}for(K=0;4>K;++K)Z=(y=J[0+4*K]+3)+J[3+4*K],te=J[1+4*K]+J[2+4*K],re=J[1+4*K]-J[2+4*K],ce=y-J[3+4*K],E[O+0]=Z+te>>3,E[O+16]=ce+re>>3,E[O+32]=Z-te>>3,E[O+48]=ce-re>>3,O+=64}function io(y,D,E){var O,K=D-32,J=kr,Z=255-y[K-1];for(O=0;O<E;++O){var te,re=J,ce=Z+y[D-1];for(te=0;te<E;++te)y[D+te]=re[ce+y[K+te]];D+=32}}function Fd(y,D){io(y,D,4)}function Id(y,D){io(y,D,8)}function Yc(y,D){io(y,D,16)}function Xc(y,D){var E;for(E=0;16>E;++E)l(y,D+32*E,y,D-32,16)}function Bd(y,D){var E;for(E=16;0<E;--E)i(y,D,y[D-1],16),D+=32}function Yr(y,D,E){var O;for(O=0;16>O;++O)i(D,E+32*O,y,16)}function on(y,D){var E,O=16;for(E=0;16>E;++E)O+=y[D-1+32*E]+y[D+E-32];Yr(O>>5,y,D)}function ti(y,D){var E,O=8;for(E=0;16>E;++E)O+=y[D-1+32*E];Yr(O>>4,y,D)}function oo(y,D){var E,O=8;for(E=0;16>E;++E)O+=y[D+E-32];Yr(O>>4,y,D)}function Oi(y,D){Yr(128,y,D)}function Pt(y,D,E){return y+2*D+E+2>>2}function Ud(y,D){var E,O=D-32;for(O=new Uint8Array([Pt(y[O-1],y[O+0],y[O+1]),Pt(y[O+0],y[O+1],y[O+2]),Pt(y[O+1],y[O+2],y[O+3]),Pt(y[O+2],y[O+3],y[O+4])]),E=0;4>E;++E)l(y,D+32*E,O,0,O.length)}function Kc(y,D){var E=y[D-1],O=y[D-1+32],K=y[D-1+64],J=y[D-1+96];$e(y,D+0,16843009*Pt(y[D-1-32],E,O)),$e(y,D+32,16843009*Pt(E,O,K)),$e(y,D+64,16843009*Pt(O,K,J)),$e(y,D+96,16843009*Pt(K,J,J))}function $d(y,D){var E,O=4;for(E=0;4>E;++E)O+=y[D+E-32]+y[D-1+32*E];for(O>>=3,E=0;4>E;++E)i(y,D+32*E,O,4)}function ml(y,D){var E=y[D-1+0],O=y[D-1+32],K=y[D-1+64],J=y[D-1-32],Z=y[D+0-32],te=y[D+1-32],re=y[D+2-32],ce=y[D+3-32];y[D+0+96]=Pt(O,K,y[D-1+96]),y[D+1+96]=y[D+0+64]=Pt(E,O,K),y[D+2+96]=y[D+1+64]=y[D+0+32]=Pt(J,E,O),y[D+3+96]=y[D+2+64]=y[D+1+32]=y[D+0+0]=Pt(Z,J,E),y[D+3+64]=y[D+2+32]=y[D+1+0]=Pt(te,Z,J),y[D+3+32]=y[D+2+0]=Pt(re,te,Z),y[D+3+0]=Pt(ce,re,te)}function ur(y,D){var E=y[D+1-32],O=y[D+2-32],K=y[D+3-32],J=y[D+4-32],Z=y[D+5-32],te=y[D+6-32],re=y[D+7-32];y[D+0+0]=Pt(y[D+0-32],E,O),y[D+1+0]=y[D+0+32]=Pt(E,O,K),y[D+2+0]=y[D+1+32]=y[D+0+64]=Pt(O,K,J),y[D+3+0]=y[D+2+32]=y[D+1+64]=y[D+0+96]=Pt(K,J,Z),y[D+3+32]=y[D+2+64]=y[D+1+96]=Pt(J,Z,te),y[D+3+64]=y[D+2+96]=Pt(Z,te,re),y[D+3+96]=Pt(te,re,re)}function Jc(y,D){var E=y[D-1+0],O=y[D-1+32],K=y[D-1+64],J=y[D-1-32],Z=y[D+0-32],te=y[D+1-32],re=y[D+2-32],ce=y[D+3-32];y[D+0+0]=y[D+1+64]=J+Z+1>>1,y[D+1+0]=y[D+2+64]=Z+te+1>>1,y[D+2+0]=y[D+3+64]=te+re+1>>1,y[D+3+0]=re+ce+1>>1,y[D+0+96]=Pt(K,O,E),y[D+0+64]=Pt(O,E,J),y[D+0+32]=y[D+1+96]=Pt(E,J,Z),y[D+1+32]=y[D+2+96]=Pt(J,Z,te),y[D+2+32]=y[D+3+96]=Pt(Z,te,re),y[D+3+32]=Pt(te,re,ce)}function co(y,D){var E=y[D+0-32],O=y[D+1-32],K=y[D+2-32],J=y[D+3-32],Z=y[D+4-32],te=y[D+5-32],re=y[D+6-32],ce=y[D+7-32];y[D+0+0]=E+O+1>>1,y[D+1+0]=y[D+0+64]=O+K+1>>1,y[D+2+0]=y[D+1+64]=K+J+1>>1,y[D+3+0]=y[D+2+64]=J+Z+1>>1,y[D+0+32]=Pt(E,O,K),y[D+1+32]=y[D+0+96]=Pt(O,K,J),y[D+2+32]=y[D+1+96]=Pt(K,J,Z),y[D+3+32]=y[D+2+96]=Pt(J,Z,te),y[D+3+64]=Pt(Z,te,re),y[D+3+96]=Pt(te,re,ce)}function pl(y,D){var E=y[D-1+0],O=y[D-1+32],K=y[D-1+64],J=y[D-1+96];y[D+0+0]=E+O+1>>1,y[D+2+0]=y[D+0+32]=O+K+1>>1,y[D+2+32]=y[D+0+64]=K+J+1>>1,y[D+1+0]=Pt(E,O,K),y[D+3+0]=y[D+1+32]=Pt(O,K,J),y[D+3+32]=y[D+1+64]=Pt(K,J,J),y[D+3+64]=y[D+2+64]=y[D+0+96]=y[D+1+96]=y[D+2+96]=y[D+3+96]=J}function xo(y,D){var E=y[D-1+0],O=y[D-1+32],K=y[D-1+64],J=y[D-1+96],Z=y[D-1-32],te=y[D+0-32],re=y[D+1-32],ce=y[D+2-32];y[D+0+0]=y[D+2+32]=E+Z+1>>1,y[D+0+32]=y[D+2+64]=O+E+1>>1,y[D+0+64]=y[D+2+96]=K+O+1>>1,y[D+0+96]=J+K+1>>1,y[D+3+0]=Pt(te,re,ce),y[D+2+0]=Pt(Z,te,re),y[D+1+0]=y[D+3+32]=Pt(E,Z,te),y[D+1+32]=y[D+3+64]=Pt(O,E,Z),y[D+1+64]=y[D+3+96]=Pt(K,O,E),y[D+1+96]=Pt(J,K,O)}function Mn(y,D){var E;for(E=0;8>E;++E)l(y,D+32*E,y,D-32,8)}function qd(y,D){var E;for(E=0;8>E;++E)i(y,D,y[D-1],8),D+=32}function Dl(y,D,E){var O;for(O=0;8>O;++O)i(D,E+32*O,y,8)}function Vo(y,D){var E,O=8;for(E=0;8>E;++E)O+=y[D+E-32]+y[D-1+32*E];Dl(O>>4,y,D)}function Yo(y,D){var E,O=4;for(E=0;8>E;++E)O+=y[D+E-32];Dl(O>>3,y,D)}function lr(y,D){var E,O=4;for(E=0;8>E;++E)O+=y[D-1+32*E];Dl(O>>3,y,D)}function Ln(y,D){Dl(128,y,D)}function Ml(y,D,E){var O=y[D-E],K=y[D+0],J=3*(K-O)+bi[1020+y[D-2*E]-y[D+E]],Z=nd[112+(J+4>>3)];y[D-E]=kr[255+O+nd[112+(J+3>>3)]],y[D+0]=kr[255+K-Z]}function si(y,D,E,O){var K=y[D+0],J=y[D+E];return pr[255+y[D-2*E]-y[D-E]]>O||pr[255+J-K]>O}function Xo(y,D,E,O){return 4*pr[255+y[D-E]-y[D+0]]+pr[255+y[D-2*E]-y[D+E]]<=O}function uo(y,D,E,O,K){var J=y[D-3*E],Z=y[D-2*E],te=y[D-E],re=y[D+0],ce=y[D+E],ge=y[D+2*E],Me=y[D+3*E];return 4*pr[255+te-re]+pr[255+Z-ce]>O?0:pr[255+y[D-4*E]-J]<=K&&pr[255+J-Z]<=K&&pr[255+Z-te]<=K&&pr[255+Me-ge]<=K&&pr[255+ge-ce]<=K&&pr[255+ce-re]<=K}function ai(y,D,E,O){var K=2*O+1;for(O=0;16>O;++O)Xo(y,D+O,E,K)&&Ml(y,D+O,E)}function ri(y,D,E,O){var K=2*O+1;for(O=0;16>O;++O)Xo(y,D+O*E,1,K)&&Ml(y,D+O*E,1)}function ho(y,D,E,O){var K;for(K=3;0<K;--K)ai(y,D+=4*E,E,O)}function Qc(y,D,E,O){var K;for(K=3;0<K;--K)ri(y,D+=4,E,O)}function li(y,D,E,O,K,J,Z,te){for(J=2*J+1;0<K--;){if(uo(y,D,E,J,Z))if(si(y,D,E,te))Ml(y,D,E);else{var re=y,ce=D,ge=E,Me=re[ce-2*ge],ie=re[ce-ge],je=re[ce+0],Ce=re[ce+ge],Fe=re[ce+2*ge],Ae=27*(Ue=bi[1020+3*(je-ie)+bi[1020+Me-Ce]])+63>>7,Oe=18*Ue+63>>7,Ue=9*Ue+63>>7;re[ce-3*ge]=kr[255+re[ce-3*ge]+Ue],re[ce-2*ge]=kr[255+Me+Oe],re[ce-ge]=kr[255+ie+Ae],re[ce+0]=kr[255+je-Ae],re[ce+ge]=kr[255+Ce-Oe],re[ce+2*ge]=kr[255+Fe-Ue]}D+=O}}function ni(y,D,E,O,K,J,Z,te){for(J=2*J+1;0<K--;){if(uo(y,D,E,J,Z))if(si(y,D,E,te))Ml(y,D,E);else{var re=y,ce=D,ge=E,Me=re[ce-ge],ie=re[ce+0],je=re[ce+ge],Ce=nd[112+(4+(Fe=3*(ie-Me))>>3)],Fe=nd[112+(Fe+3>>3)],Ae=Ce+1>>1;re[ce-2*ge]=kr[255+re[ce-2*ge]+Ae],re[ce-ge]=kr[255+Me+Fe],re[ce+0]=kr[255+ie-Ce],re[ce+ge]=kr[255+je-Ae]}D+=O}}function Hd(y,D,E,O,K,J){li(y,D,E,1,16,O,K,J)}function ii(y,D,E,O,K,J){li(y,D,1,E,16,O,K,J)}function Wd(y,D,E,O,K,J){var Z;for(Z=3;0<Z;--Z)ni(y,D+=4*E,E,1,16,O,K,J)}function z(y,D,E,O,K,J){var Z;for(Z=3;0<Z;--Z)ni(y,D+=4,1,E,16,O,K,J)}function X(y,D,E,O,K,J,Z,te){li(y,D,K,1,8,J,Z,te),li(E,O,K,1,8,J,Z,te)}function de(y,D,E,O,K,J,Z,te){li(y,D,1,K,8,J,Z,te),li(E,O,1,K,8,J,Z,te)}function fe(y,D,E,O,K,J,Z,te){ni(y,D+4*K,K,1,8,J,Z,te),ni(E,O+4*K,K,1,8,J,Z,te)}function ke(y,D,E,O,K,J,Z,te){ni(y,D+4,1,K,8,J,Z,te),ni(E,O+4,1,K,8,J,Z,te)}function Be(){this.ba=new ls,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ss,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ge(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ut(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function yt(){this.ua=0,this.Wa=new It,this.vb=new It,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new le,this.yc=new G}function Bt(){this.xb=this.a=0,this.l=new ei,this.ca=new ls,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Q,this.Pb=0,this.wd=new Q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new yt,this.ab=0,this.gc=d(4,ut),this.Oc=0}function Zt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ei,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Cs(y,D,E,O,K,J,Z){for(y=y==null?0:y[D+0],D=0;D<Z;++D)K[J+D]=y+E[O+D]&255,y=K[J+D]}function pa(y,D,E,O,K,J,Z){var te;if(y==null)Cs(null,null,E,O,K,J,Z);else for(te=0;te<Z;++te)K[J+te]=y[D+te]+E[O+te]&255}function La(y,D,E,O,K,J,Z){if(y==null)Cs(null,null,E,O,K,J,Z);else{var te,re=y[D+0],ce=re,ge=re;for(te=0;te<Z;++te)ce=ge+(re=y[D+te])-ce,ge=E[O+te]+(-256&ce?0>ce?0:255:ce)&255,ce=re,K[J+te]=ge}}function ea(y,D,E,O){var K=D.width,J=D.o;if(s(y!=null&&D!=null),0>E||0>=O||E+O>J)return null;if(!y.Cc){if(y.ga==null){var Z;if(y.ga=new Zt,(Z=y.ga==null)||(Z=D.width*D.o,s(y.Gb.length==0),y.Gb=o(Z),y.Uc=0,y.Gb==null?Z=0:(y.mb=y.Gb,y.nb=y.Uc,y.rc=null,Z=1),Z=!Z),!Z){Z=y.ga;var te=y.Fa,re=y.P,ce=y.qc,ge=y.mb,Me=y.nb,ie=re+1,je=ce-1,Ce=Z.l;if(s(te!=null&&ge!=null&&D!=null),vi[0]=null,vi[1]=Cs,vi[2]=pa,vi[3]=La,Z.ca=ge,Z.tb=Me,Z.c=D.width,Z.i=D.height,s(0<Z.c&&0<Z.i),1>=ce)D=0;else if(Z.$a=3&te[re+0],Z.Z=te[re+0]>>2&3,Z.Lc=te[re+0]>>4&3,re=te[re+0]>>6&3,0>Z.$a||1<Z.$a||4<=Z.Z||1<Z.Lc||re)D=0;else if(Ce.put=Dt,Ce.ac=Cl,Ce.bc=Qn,Ce.ma=Z,Ce.width=D.width,Ce.height=D.height,Ce.Da=D.Da,Ce.v=D.v,Ce.va=D.va,Ce.j=D.j,Ce.o=D.o,Z.$a)e:{s(Z.$a==1),D=lo();t:for(;;){if(D==null){D=0;break e}if(s(Z!=null),Z.mc=D,D.c=Z.c,D.i=Z.i,D.l=Z.l,D.l.ma=Z,D.l.width=Z.c,D.l.height=Z.i,D.a=0,oe(D.m,te,ie,je),!en(Z.c,Z.i,1,D,null)||(D.ab==1&&D.gc[0].hc==3&&Gs(D.s)?(Z.ic=1,te=D.c*D.i,D.Ta=null,D.Ua=0,D.V=o(te),D.Ba=0,D.V==null?(D.a=1,D=0):D=1):(Z.ic=0,D=tn(D,Z.c)),!D))break t;D=1;break e}Z.mc=null,D=0}else D=je>=Z.c*Z.i;Z=!D}if(Z)return null;y.ga.Lc!=1?y.Ga=0:O=J-E}s(y.ga!=null),s(E+O<=J);e:{if(D=(te=y.ga).c,J=te.l.o,te.$a==0){if(ie=y.rc,je=y.Vc,Ce=y.Fa,re=y.P+1+E*D,ce=y.mb,ge=y.nb+E*D,s(re<=y.P+y.qc),te.Z!=0)for(s(vi[te.Z]!=null),Z=0;Z<O;++Z)vi[te.Z](ie,je,Ce,re,ce,ge,D),ie=ce,je=ge,ge+=D,re+=D;else for(Z=0;Z<O;++Z)l(ce,ge,Ce,re,D),ie=ce,je=ge,ge+=D,re+=D;y.rc=ie,y.Vc=je}else{if(s(te.mc!=null),D=E+O,s((Z=te.mc)!=null),s(D<=Z.i),Z.C>=D)D=1;else if(te.ic||cn(),te.ic){te=Z.V,ie=Z.Ba,je=Z.c;var Fe=Z.i,Ae=(Ce=1,re=Z.$/je,ce=Z.$%je,ge=Z.m,Me=Z.s,Z.$),Oe=je*Fe,Ue=je*D,Je=Me.wc,We=Ae<Ue?rr(Me,ce,re):null;s(Ae<=Oe),s(D<=Fe),s(Gs(Me));t:for(;;){for(;!ge.h&&Ae<Ue;){if(ce&Je||(We=rr(Me,ce,re)),s(We!=null),be(ge),256>(Fe=ha(We.G[0],We.H[0],ge)))te[ie+Ae]=Fe,++Ae,++ce>=je&&(ce=0,++re<=D&&!(re%16)&&wr(Z,re));else{if(!(280>Fe)){Ce=0;break t}Fe=cl(Fe-256,ge);var mt,it=ha(We.G[4],We.H[4],ge);if(be(ge),!(Ae>=(it=dl(je,it=cl(it,ge)))&&Oe-Ae>=Fe)){Ce=0;break t}for(mt=0;mt<Fe;++mt)te[ie+Ae+mt]=te[ie+Ae+mt-it];for(Ae+=Fe,ce+=Fe;ce>=je;)ce-=je,++re<=D&&!(re%16)&&wr(Z,re);Ae<Ue&&ce&Je&&(We=rr(Me,ce,re))}s(ge.h==ue(ge))}wr(Z,re>D?D:re);break t}!Ce||ge.h&&Ae<Oe?(Ce=0,Z.a=ge.h?5:3):Z.$=Ae,D=Ce}else D=xl(Z,Z.V,Z.Ba,Z.c,Z.i,D,Pi);if(!D){O=0;break e}}E+O>=J&&(y.Cc=1),O=1}if(!O)return null;if(y.Cc&&((O=y.ga)!=null&&(O.mc=null),y.ga=null,0<y.Ga))return alert("todo:WebPDequantizeLevels"),null}return y.nb+E*K}function Ka(y,D,E,O,K,J){for(;0<K--;){var Z,te=y,re=D+(E?1:0),ce=y,ge=D+(E?0:3);for(Z=0;Z<O;++Z){var Me=ce[ge+4*Z];Me!=255&&(Me*=32897,te[re+4*Z+0]=te[re+4*Z+0]*Me>>23,te[re+4*Z+1]=te[re+4*Z+1]*Me>>23,te[re+4*Z+2]=te[re+4*Z+2]*Me>>23)}D+=J}}function Fa(y,D,E,O,K){for(;0<O--;){var J;for(J=0;J<E;++J){var Z=y[D+2*J+0],te=15&(ce=y[D+2*J+1]),re=4369*te,ce=(240&ce|ce>>4)*re>>16;y[D+2*J+0]=(240&Z|Z>>4)*re>>16&240|(15&Z|Z<<4)*re>>16>>4&15,y[D+2*J+1]=240&ce|te}D+=K}}function hr(y,D,E,O,K,J,Z,te){var re,ce,ge=255;for(ce=0;ce<K;++ce){for(re=0;re<O;++re){var Me=y[D+re];J[Z+4*re]=Me,ge&=Me}D+=E,Z+=te}return ge!=255}function oi(y,D,E,O,K){var J;for(J=0;J<K;++J)E[O+J]=y[D+J]>>8}function cn(){go=Ka,zl=Fa,ad=hr,bl=oi}function ci(y,D,E){B[y]=function(O,K,J,Z,te,re,ce,ge,Me,ie,je,Ce,Fe,Ae,Oe,Ue,Je){var We,mt=Je-1>>1,it=te[re+0]|ce[ge+0]<<16,Vt=Me[ie+0]|je[Ce+0]<<16;s(O!=null);var xt=3*it+Vt+131074>>2;for(D(O[K+0],255&xt,xt>>16,Fe,Ae),J!=null&&(xt=3*Vt+it+131074>>2,D(J[Z+0],255&xt,xt>>16,Oe,Ue)),We=1;We<=mt;++We){var fs=te[re+We]|ce[ge+We]<<16,oa=Me[ie+We]|je[Ce+We]<<16,es=it+fs+Vt+oa+524296,ot=es+2*(fs+Vt)>>3;xt=ot+it>>1,it=(es=es+2*(it+oa)>>3)+fs>>1,D(O[K+2*We-1],255&xt,xt>>16,Fe,Ae+(2*We-1)*E),D(O[K+2*We-0],255&it,it>>16,Fe,Ae+(2*We-0)*E),J!=null&&(xt=es+Vt>>1,it=ot+oa>>1,D(J[Z+2*We-1],255&xt,xt>>16,Oe,Ue+(2*We-1)*E),D(J[Z+2*We+0],255&it,it>>16,Oe,Ue+(2*We+0)*E)),it=fs,Vt=oa}1&Je||(xt=3*it+Vt+131074>>2,D(O[K+Je-1],255&xt,xt>>16,Fe,Ae+(Je-1)*E),J!=null&&(xt=3*Vt+it+131074>>2,D(J[Z+Je-1],255&xt,xt>>16,Oe,Ue+(Je-1)*E)))}}function Zc(){gr[Xd]=yo,gr[Sr]=nc,gr[Kd]=nx,gr[El]=t0,gr[id]=Hi,gr[ac]=In,gr[Ui]=Wi,gr[od]=nc,gr[Jd]=t0,gr[rc]=Hi,gr[Qd]=In}function Ko(y){return y&-16384?0>y?0:255:y>>s0}function zn(y,D){return Ko((19077*y>>8)+(26149*D>>8)-14234)}function dn(y,D,E){return Ko((19077*y>>8)-(6419*D>>8)-(13320*E>>8)+8708)}function mo(y,D){return Ko((19077*y>>8)+(33050*D>>8)-17685)}function di(y,D,E,O,K){O[K+0]=zn(y,E),O[K+1]=dn(y,D,E),O[K+2]=mo(y,D)}function nr(y,D,E,O,K){O[K+0]=mo(y,D),O[K+1]=dn(y,D,E),O[K+2]=zn(y,E)}function Fi(y,D,E,O,K){var J=dn(y,D,E);D=J<<3&224|mo(y,D)>>3,O[K+0]=248&zn(y,E)|J>>5,O[K+1]=D}function Ii(y,D,E,O,K){var J=240&mo(y,D)|15;O[K+0]=240&zn(y,E)|dn(y,D,E)>>4,O[K+1]=J}function Jo(y,D,E,O,K){O[K+0]=255,di(y,D,E,O,K+1)}function En(y,D,E,O,K){nr(y,D,E,O,K),O[K+3]=255}function Or(y,D,E,O,K){di(y,D,E,O,K),O[K+3]=255}function xi(y,D,E){B[y]=function(O,K,J,Z,te,re,ce,ge,Me){for(var ie=ge+(-2&Me)*E;ge!=ie;)D(O[K+0],J[Z+0],te[re+0],ce,ge),D(O[K+1],J[Z+0],te[re+0],ce,ge+E),K+=2,++Z,++re,ge+=2*E;1&Me&&D(O[K+0],J[Z+0],te[re+0],ce,ge)}}function Qo(y,D,E){return E==0?y==0?D==0?6:5:D==0?4:0:E}function ed(y,D,E,O,K){switch(y>>>30){case 3:gi(D,E,O,K,0);break;case 2:Nr(D,E,O,K);break;case 1:Ts(D,E,O,K)}}function fl(y,D){var E,O,K=D.M,J=D.Nb,Z=y.oc,te=y.pc+40,re=y.oc,ce=y.pc+584,ge=y.oc,Me=y.pc+600;for(E=0;16>E;++E)Z[te+32*E-1]=129;for(E=0;8>E;++E)re[ce+32*E-1]=129,ge[Me+32*E-1]=129;for(0<K?Z[te-1-32]=re[ce-1-32]=ge[Me-1-32]=129:(i(Z,te-32-1,127,21),i(re,ce-32-1,127,9),i(ge,Me-32-1,127,9)),O=0;O<y.za;++O){var ie=D.ya[D.aa+O];if(0<O){for(E=-1;16>E;++E)l(Z,te+32*E-4,Z,te+32*E+12,4);for(E=-1;8>E;++E)l(re,ce+32*E-4,re,ce+32*E+4,4),l(ge,Me+32*E-4,ge,Me+32*E+4,4)}var je=y.Gd,Ce=y.Hd+O,Fe=ie.ad,Ae=ie.Hc;if(0<K&&(l(Z,te-32,je[Ce].y,0,16),l(re,ce-32,je[Ce].f,0,8),l(ge,Me-32,je[Ce].ea,0,8)),ie.Za){var Oe=Z,Ue=te-32+16;for(0<K&&(O>=y.za-1?i(Oe,Ue,je[Ce].y[15],4):l(Oe,Ue,je[Ce+1].y,0,4)),E=0;4>E;E++)Oe[Ue+128+E]=Oe[Ue+256+E]=Oe[Ue+384+E]=Oe[Ue+0+E];for(E=0;16>E;++E,Ae<<=2)Oe=Z,Ue=te+Ta[E],ja[ie.Ob[E]](Oe,Ue),ed(Ae,Fe,16*+E,Oe,Ue)}else if(Oe=Qo(O,K,ie.Ob[0]),Ir[Oe](Z,te),Ae!=0)for(E=0;16>E;++E,Ae<<=2)ed(Ae,Fe,16*+E,Z,te+Ta[E]);for(E=ie.Gc,Oe=Qo(O,K,ie.Dd),mn[Oe](re,ce),mn[Oe](ge,Me),Ae=Fe,Oe=re,Ue=ce,255&(ie=0|E)&&(170&ie?Ll(Ae,256,Oe,Ue):As(Ae,256,Oe,Ue)),ie=ge,Ae=Me,255&(E>>=8)&&(170&E?Ll(Fe,320,ie,Ae):As(Fe,320,ie,Ae)),K<y.Ub-1&&(l(je[Ce].y,0,Z,te+480,16),l(je[Ce].f,0,re,ce+224,8),l(je[Ce].ea,0,ge,Me+224,8)),E=8*J*y.B,je=y.sa,Ce=y.ta+16*O+16*J*y.R,Fe=y.qa,ie=y.ra+8*O+E,Ae=y.Ha,Oe=y.Ia+8*O+E,E=0;16>E;++E)l(je,Ce+E*y.R,Z,te+32*E,16);for(E=0;8>E;++E)l(Fe,ie+E*y.B,re,ce+32*E,8),l(Ae,Oe+E*y.B,ge,Me+32*E,8)}}function xn(y,D,E,O,K,J,Z,te,re){var ce=[0],ge=[0],Me=0,ie=re!=null?re.kd:0,je=re??new Ge;if(y==null||12>E)return 7;je.data=y,je.w=D,je.ha=E,D=[D],E=[E],je.gb=[je.gb];e:{var Ce=D,Fe=E,Ae=je.gb;if(s(y!=null),s(Fe!=null),s(Ae!=null),Ae[0]=0,12<=Fe[0]&&!a(y,Ce[0],"RIFF")){if(a(y,Ce[0]+8,"WEBP")){Ae=3;break e}var Oe=xe(y,Ce[0]+4);if(12>Oe||4294967286<Oe){Ae=3;break e}if(ie&&Oe>Fe[0]-8){Ae=7;break e}Ae[0]=Oe,Ce[0]+=12,Fe[0]-=12}Ae=0}if(Ae!=0)return Ae;for(Oe=0<je.gb[0],E=E[0];;){e:{var Ue=y;Fe=D,Ae=E;var Je=ce,We=ge,mt=Ce=[0];if((xt=Me=[Me])[0]=0,8>Ae[0])Ae=7;else{if(!a(Ue,Fe[0],"VP8X")){if(xe(Ue,Fe[0]+4)!=10){Ae=3;break e}if(18>Ae[0]){Ae=7;break e}var it=xe(Ue,Fe[0]+8),Vt=1+et(Ue,Fe[0]+12);if(2147483648<=Vt*(Ue=1+et(Ue,Fe[0]+15))){Ae=3;break e}mt!=null&&(mt[0]=it),Je!=null&&(Je[0]=Vt),We!=null&&(We[0]=Ue),Fe[0]+=18,Ae[0]-=18,xt[0]=1}Ae=0}}if(Me=Me[0],Ce=Ce[0],Ae!=0)return Ae;if(Fe=!!(2&Ce),!Oe&&Me)return 3;if(J!=null&&(J[0]=!!(16&Ce)),Z!=null&&(Z[0]=Fe),te!=null&&(te[0]=0),Z=ce[0],Ce=ge[0],Me&&Fe&&re==null){Ae=0;break}if(4>E){Ae=7;break}if(Oe&&Me||!Oe&&!Me&&!a(y,D[0],"ALPH")){E=[E],je.na=[je.na],je.P=[je.P],je.Sa=[je.Sa];e:{it=y,Ae=D,Oe=E;var xt=je.gb;Je=je.na,We=je.P,mt=je.Sa,Vt=22,s(it!=null),s(Oe!=null),Ue=Ae[0];var fs=Oe[0];for(s(Je!=null),s(mt!=null),Je[0]=null,We[0]=null,mt[0]=0;;){if(Ae[0]=Ue,Oe[0]=fs,8>fs){Ae=7;break e}var oa=xe(it,Ue+4);if(4294967286<oa){Ae=3;break e}var es=8+oa+1&-2;if(Vt+=es,0<xt&&Vt>xt){Ae=3;break e}if(!a(it,Ue,"VP8 ")||!a(it,Ue,"VP8L")){Ae=0;break e}if(fs[0]<es){Ae=7;break e}a(it,Ue,"ALPH")||(Je[0]=it,We[0]=Ue+8,mt[0]=oa),Ue+=es,fs-=es}}if(E=E[0],je.na=je.na[0],je.P=je.P[0],je.Sa=je.Sa[0],Ae!=0)break}E=[E],je.Ja=[je.Ja],je.xa=[je.xa];e:if(xt=y,Ae=D,Oe=E,Je=je.gb[0],We=je.Ja,mt=je.xa,it=Ae[0],Ue=!a(xt,it,"VP8 "),Vt=!a(xt,it,"VP8L"),s(xt!=null),s(Oe!=null),s(We!=null),s(mt!=null),8>Oe[0])Ae=7;else{if(Ue||Vt){if(xt=xe(xt,it+4),12<=Je&&xt>Je-12){Ae=3;break e}if(ie&&xt>Oe[0]-8){Ae=7;break e}We[0]=xt,Ae[0]+=8,Oe[0]-=8,mt[0]=Vt}else mt[0]=5<=Oe[0]&&xt[it+0]==47&&!(xt[it+4]>>5),We[0]=Oe[0];Ae=0}if(E=E[0],je.Ja=je.Ja[0],je.xa=je.xa[0],D=D[0],Ae!=0)break;if(4294967286<je.Ja)return 3;if(te==null||Fe||(te[0]=je.xa?2:1),Z=[Z],Ce=[Ce],je.xa){if(5>E){Ae=7;break}te=Z,ie=Ce,Fe=J,y==null||5>E?y=0:5<=E&&y[D+0]==47&&!(y[D+4]>>5)?(Oe=[0],xt=[0],Je=[0],oe(We=new Q,y,D,E),Cn(We,Oe,xt,Je)?(te!=null&&(te[0]=Oe[0]),ie!=null&&(ie[0]=xt[0]),Fe!=null&&(Fe[0]=Je[0]),y=1):y=0):y=0}else{if(10>E){Ae=7;break}te=Ce,y==null||10>E||!qc(y,D+3,E-3)?y=0:(ie=y[D+0]|y[D+1]<<8|y[D+2]<<16,Fe=16383&(y[D+7]<<8|y[D+6]),y=16383&(y[D+9]<<8|y[D+8]),1&ie||3<(ie>>1&7)||!(ie>>4&1)||ie>>5>=je.Ja||!Fe||!y?y=0:(Z&&(Z[0]=Fe),te&&(te[0]=y),y=1))}if(!y||(Z=Z[0],Ce=Ce[0],Me&&(ce[0]!=Z||ge[0]!=Ce)))return 3;re!=null&&(re[0]=je,re.offset=D-re.w,s(4294967286>D-re.w),s(re.offset==re.ha-E));break}return Ae==0||Ae==7&&Me&&re==null?(J!=null&&(J[0]|=je.na!=null&&0<je.na.length),O!=null&&(O[0]=Z),K!=null&&(K[0]=Ce),0):Ae}function ui(y,D,E){var O=D.width,K=D.height,J=0,Z=0,te=O,re=K;if(D.Da=y!=null&&0<y.Da,D.Da&&(te=y.cd,re=y.bd,J=y.v,Z=y.j,11>E||(J&=-2,Z&=-2),0>J||0>Z||0>=te||0>=re||J+te>O||Z+re>K))return 0;if(D.v=J,D.j=Z,D.va=J+te,D.o=Z+re,D.U=te,D.T=re,D.da=y!=null&&0<y.da,D.da){if(!At(te,re,E=[y.ib],J=[y.hb]))return 0;D.ib=E[0],D.hb=J[0]}return D.ob=y!=null&&y.ob,D.Kb=y==null||!y.Sd,D.da&&(D.ob=D.ib<3*O/4&&D.hb<3*K/4,D.Kb=0),1}function td(y){if(y==null)return 2;if(11>y.S){var D=y.f.RGBA;D.fb+=(y.height-1)*D.A,D.A=-D.A}else D=y.f.kb,y=y.height,D.O+=(y-1)*D.fa,D.fa=-D.fa,D.N+=(y-1>>1)*D.Ab,D.Ab=-D.Ab,D.W+=(y-1>>1)*D.Db,D.Db=-D.Db,D.F!=null&&(D.J+=(y-1)*D.lb,D.lb=-D.lb);return 0}function un(y,D,E,O){if(O==null||0>=y||0>=D)return 2;if(E!=null){if(E.Da){var K=E.cd,J=E.bd,Z=-2&E.v,te=-2&E.j;if(0>Z||0>te||0>=K||0>=J||Z+K>y||te+J>D)return 2;y=K,D=J}if(E.da){if(!At(y,D,K=[E.ib],J=[E.hb]))return 2;y=K[0],D=J[0]}}O.width=y,O.height=D;e:{var re=O.width,ce=O.height;if(y=O.S,0>=re||0>=ce||!(y>=Xd&&13>y))y=2;else{if(0>=O.Rd&&O.sd==null){Z=J=K=D=0;var ge=(te=re*r0[y])*ce;if(11>y||(J=(ce+1)/2*(D=(re+1)/2),y==12&&(Z=(K=re)*ce)),(ce=o(ge+2*J+Z))==null){y=1;break e}O.sd=ce,11>y?((re=O.f.RGBA).eb=ce,re.fb=0,re.A=te,re.size=ge):((re=O.f.kb).y=ce,re.O=0,re.fa=te,re.Fd=ge,re.f=ce,re.N=0+ge,re.Ab=D,re.Cd=J,re.ea=ce,re.W=0+ge+J,re.Db=D,re.Ed=J,y==12&&(re.F=ce,re.J=0+ge+2*J),re.Tc=Z,re.lb=K)}if(D=1,K=O.S,J=O.width,Z=O.height,K>=Xd&&13>K)if(11>K)y=O.f.RGBA,D&=(te=Math.abs(y.A))*(Z-1)+J<=y.size,D&=te>=J*r0[K],D&=y.eb!=null;else{y=O.f.kb,te=(J+1)/2,ge=(Z+1)/2,re=Math.abs(y.fa),ce=Math.abs(y.Ab);var Me=Math.abs(y.Db),ie=Math.abs(y.lb),je=ie*(Z-1)+J;D&=re*(Z-1)+J<=y.Fd,D&=ce*(ge-1)+te<=y.Cd,D=(D&=Me*(ge-1)+te<=y.Ed)&re>=J&ce>=te&Me>=te,D&=y.y!=null,D&=y.f!=null,D&=y.ea!=null,K==12&&(D&=ie>=J,D&=je<=y.Tc,D&=y.F!=null)}else D=0;y=D?0:2}}return y!=0||E!=null&&E.fd&&(y=td(O)),y}var Bi=64,Xr=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Fr=24,Tn=32,_n=8,hi=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];nt("Predictor0","PredictorAdd0"),B.Predictor0=function(){return 4278190080},B.Predictor1=function(y){return y},B.Predictor2=function(y,D,E){return D[E+0]},B.Predictor3=function(y,D,E){return D[E+1]},B.Predictor4=function(y,D,E){return D[E-1]},B.Predictor5=function(y,D,E){return gt(gt(y,D[E+1]),D[E+0])},B.Predictor6=function(y,D,E){return gt(y,D[E-1])},B.Predictor7=function(y,D,E){return gt(y,D[E+0])},B.Predictor8=function(y,D,E){return gt(D[E-1],D[E+0])},B.Predictor9=function(y,D,E){return gt(D[E+0],D[E+1])},B.Predictor10=function(y,D,E){return gt(gt(y,D[E-1]),gt(D[E+0],D[E+1]))},B.Predictor11=function(y,D,E){var O=D[E+0];return 0>=vt(O>>24&255,y>>24&255,(D=D[E-1])>>24&255)+vt(O>>16&255,y>>16&255,D>>16&255)+vt(O>>8&255,y>>8&255,D>>8&255)+vt(255&O,255&y,255&D)?O:y},B.Predictor12=function(y,D,E){var O=D[E+0];return(Ye((y>>24&255)+(O>>24&255)-((D=D[E-1])>>24&255))<<24|Ye((y>>16&255)+(O>>16&255)-(D>>16&255))<<16|Ye((y>>8&255)+(O>>8&255)-(D>>8&255))<<8|Ye((255&y)+(255&O)-(255&D)))>>>0},B.Predictor13=function(y,D,E){var O=D[E-1];return(Kt((y=gt(y,D[E+0]))>>24&255,O>>24&255)<<24|Kt(y>>16&255,O>>16&255)<<16|Kt(y>>8&255,O>>8&255)<<8|Kt(255&y,255&O))>>>0};var Zo=B.PredictorAdd0;B.PredictorAdd1=cs,nt("Predictor2","PredictorAdd2"),nt("Predictor3","PredictorAdd3"),nt("Predictor4","PredictorAdd4"),nt("Predictor5","PredictorAdd5"),nt("Predictor6","PredictorAdd6"),nt("Predictor7","PredictorAdd7"),nt("Predictor8","PredictorAdd8"),nt("Predictor9","PredictorAdd9"),nt("Predictor10","PredictorAdd10"),nt("Predictor11","PredictorAdd11"),nt("Predictor12","PredictorAdd12"),nt("Predictor13","PredictorAdd13");var ec=B.PredictorAdd2;Nt("ColorIndexInverseTransform","MapARGB","32b",function(y){return y>>8&255},function(y){return y}),Nt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(y){return y},function(y){return y>>8&255});var za,Gd=B.ColorIndexInverseTransform,Pn=B.MapARGB,Rn=B.VP8LColorIndexInverseTransformAlpha,mr=B.MapAlpha,mi=B.VP8LPredictorsAdd=[];mi.length=16,(B.VP8LPredictors=[]).length=16,(B.VP8LPredictorsAdd_C=[]).length=16,(B.VP8LPredictors_C=[]).length=16;var tc,sc,pi,fi,On,po,gl,gi,Nr,Ll,Ts,As,ta,Ea,Fn,hn,fo,sd,tx,mu,pu,fu,sx,ax,go,zl,ad,bl,bo=o(511),Vd=o(2041),rd=o(225),ld=o(767),Yd=0,bi=Vd,nd=rd,kr=ld,pr=bo,Xd=0,Sr=1,Kd=2,El=3,id=4,ac=5,Ui=6,od=7,Jd=8,rc=9,Qd=10,Tl=[2,3,7],lc=[3,3,11],vo=[280,256,256,256,40],Zd=[0,1,1,1,0],cd=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],_l=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Pl=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],$i=8,Rl=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Ol=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],vl=null,gu=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],rx=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],e0=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],bu=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],fr=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ia=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],bs=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ir=[],ja=[],mn=[],qi=1,lx=2,vi=[],gr=[];ci("UpsampleRgbLinePair",di,3),ci("UpsampleBgrLinePair",nr,3),ci("UpsampleRgbaLinePair",Or,4),ci("UpsampleBgraLinePair",En,4),ci("UpsampleArgbLinePair",Jo,4),ci("UpsampleRgba4444LinePair",Ii,2),ci("UpsampleRgb565LinePair",Fi,2);var yo=B.UpsampleRgbLinePair,nx=B.UpsampleBgrLinePair,nc=B.UpsampleRgbaLinePair,t0=B.UpsampleBgraLinePair,Hi=B.UpsampleArgbLinePair,In=B.UpsampleRgba4444LinePair,Wi=B.UpsampleRgb565LinePair,Fl=16,ic=1<<Fl-1,jo=-227,Gi=482,s0=6,Vi=0,br=o(256),a0=o(256),vu=o(256),gm=o(256),bm=o(Gi-jo),vm=o(Gi-jo);xi("YuvToRgbRow",di,3),xi("YuvToBgrRow",nr,3),xi("YuvToRgbaRow",Or,4),xi("YuvToBgraRow",En,4),xi("YuvToArgbRow",Jo,4),xi("YuvToRgba4444Row",Ii,2),xi("YuvToRgb565Row",Fi,2);var Ta=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],oc=[0,2,8],dd=[8,7,6,4,4,2,2,2,1,1,1,1],xd=1;this.WebPDecodeRGBA=function(y,D,E,O,K){var J=Sr,Z=new Be,te=new ls;Z.ba=te,te.S=J,te.width=[te.width],te.height=[te.height];var re=te.width,ce=te.height,ge=new St;if(ge==null||y==null)var Me=2;else s(ge!=null),Me=xn(y,D,E,ge.width,ge.height,ge.Pd,ge.Qd,ge.format,null);if(Me!=0?re=0:(re!=null&&(re[0]=ge.width[0]),ce!=null&&(ce[0]=ge.height[0]),re=1),re){te.width=te.width[0],te.height=te.height[0],O!=null&&(O[0]=te.width),K!=null&&(K[0]=te.height);e:{if(O=new ei,(K=new Ge).data=y,K.w=D,K.ha=E,K.kd=1,D=[0],s(K!=null),((y=xn(K.data,K.w,K.ha,null,null,null,D,null,K))==0||y==7)&&D[0]&&(y=4),(D=y)==0){if(s(Z!=null),O.data=K.data,O.w=K.w+K.offset,O.ha=K.ha-K.offset,O.put=Dt,O.ac=Cl,O.bc=Qn,O.ma=Z,K.xa){if((y=lo())==null){Z=1;break e}if((function(ie,je){var Ce=[0],Fe=[0],Ae=[0];t:for(;;){if(ie==null)return 0;if(je==null)return ie.a=2,0;if(ie.l=je,ie.a=0,oe(ie.m,je.data,je.w,je.ha),!Cn(ie.m,Ce,Fe,Ae)){ie.a=3;break t}if(ie.xb=lx,je.width=Ce[0],je.height=Fe[0],!en(Ce[0],Fe[0],1,ie,null))break t;return 1}return s(ie.a!=0),0})(y,O)){if(O=(D=un(O.width,O.height,Z.Oa,Z.ba))==0){t:{O=y;s:for(;;){if(O==null){O=0;break t}if(s(O.s.yc!=null),s(O.s.Ya!=null),s(0<O.s.Wb),s((E=O.l)!=null),s((K=E.ma)!=null),O.xb!=0){if(O.ca=K.ba,O.tb=K.tb,s(O.ca!=null),!ui(K.Oa,E,El)){O.a=2;break s}if(!tn(O,E.width)||E.da)break s;if((E.da||Ot(O.ca.S))&&cn(),11>O.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),O.ca.f.kb.F!=null&&cn()),O.Pb&&0<O.s.ua&&O.s.vb.X==null&&!se(O.s.vb,O.s.Wa.Xa)){O.a=1;break s}O.xb=0}if(!xl(O,O.V,O.Ba,O.c,O.i,E.o,_r))break s;K.Dc=O.Ma,O=1;break t}s(O.a!=0),O=0}O=!O}O&&(D=y.a)}else D=y.a}else{if((y=new ln)==null){Z=1;break e}if(y.Fa=K.na,y.P=K.P,y.qc=K.Sa,Dn(y,O)){if((D=un(O.width,O.height,Z.Oa,Z.ba))==0){if(y.Aa=0,E=Z.Oa,s((K=y)!=null),E!=null){if(0<(re=0>(re=E.Md)?0:100<re?255:255*re/100)){for(ce=ge=0;4>ce;++ce)12>(Me=K.pb[ce]).lc&&(Me.ia=re*dd[0>Me.lc?0:Me.lc]>>3),ge|=Me.ia;ge&&(alert("todo:VP8InitRandom"),K.ia=1)}K.Ga=E.Id,100<K.Ga?K.Ga=100:0>K.Ga&&(K.Ga=0)}(function(ie,je){if(ie==null)return 0;if(je==null)return Es(ie,2,"NULL VP8Io parameter in VP8Decode().");if(!ie.cb&&!Dn(ie,je))return 0;if(s(ie.cb),je.ac==null||je.ac(je)){je.ob&&(ie.L=0);var Ce=oc[ie.L];if(ie.L==2?(ie.yb=0,ie.zb=0):(ie.yb=je.v-Ce>>4,ie.zb=je.j-Ce>>4,0>ie.yb&&(ie.yb=0),0>ie.zb&&(ie.zb=0)),ie.Va=je.o+15+Ce>>4,ie.Hb=je.va+15+Ce>>4,ie.Hb>ie.za&&(ie.Hb=ie.za),ie.Va>ie.Ub&&(ie.Va=ie.Ub),0<ie.L){var Fe=ie.ed;for(Ce=0;4>Ce;++Ce){var Ae;if(ie.Qa.Cb){var Oe=ie.Qa.Lb[Ce];ie.Qa.Fb||(Oe+=Fe.Tb)}else Oe=Fe.Tb;for(Ae=0;1>=Ae;++Ae){var Ue=ie.gd[Ce][Ae],Je=Oe;if(Fe.Pc&&(Je+=Fe.vd[0],Ae&&(Je+=Fe.od[0])),0<(Je=0>Je?0:63<Je?63:Je)){var We=Je;0<Fe.wb&&(We=4<Fe.wb?We>>2:We>>1)>9-Fe.wb&&(We=9-Fe.wb),1>We&&(We=1),Ue.dd=We,Ue.tc=2*Je+We,Ue.ld=40<=Je?2:15<=Je?1:0}else Ue.tc=0;Ue.La=Ae}}}Ce=0}else Es(ie,6,"Frame setup failed"),Ce=ie.a;if(Ce=Ce==0){if(Ce){ie.$c=0,0<ie.Aa||(ie.Ic=xd);t:{Ce=ie.Ic,Fe=4*(We=ie.za);var mt=32*We,it=We+1,Vt=0<ie.L?We*(0<ie.Aa?2:1):0,xt=(ie.Aa==2?2:1)*We;if((Ue=Fe+832+(Ae=3*(16*Ce+oc[ie.L])/2*mt)+(Oe=ie.Fa!=null&&0<ie.Fa.length?ie.Kc.c*ie.Kc.i:0))!=Ue)Ce=0;else{if(Ue>ie.Vb){if(ie.Vb=0,ie.Ec=o(Ue),ie.Fc=0,ie.Ec==null){Ce=Es(ie,1,"no memory during frame initialization.");break t}ie.Vb=Ue}Ue=ie.Ec,Je=ie.Fc,ie.Ac=Ue,ie.Bc=Je,Je+=Fe,ie.Gd=d(mt,$c),ie.Hd=0,ie.rb=d(it+1,rn),ie.sb=1,ie.wa=Vt?d(Vt,ul):null,ie.Y=0,ie.D.Nb=0,ie.D.wa=ie.wa,ie.D.Y=ie.Y,0<ie.Aa&&(ie.D.Y+=We),s(!0),ie.oc=Ue,ie.pc=Je,Je+=832,ie.ya=d(xt,Bc),ie.aa=0,ie.D.ya=ie.ya,ie.D.aa=ie.aa,ie.Aa==2&&(ie.D.aa+=We),ie.R=16*We,ie.B=8*We,We=(mt=oc[ie.L])*ie.R,mt=mt/2*ie.B,ie.sa=Ue,ie.ta=Je+We,ie.qa=ie.sa,ie.ra=ie.ta+16*Ce*ie.R+mt,ie.Ha=ie.qa,ie.Ia=ie.ra+8*Ce*ie.B+mt,ie.$c=0,Je+=Ae,ie.mb=Oe?Ue:null,ie.nb=Oe?Je:null,s(Je+Oe<=ie.Fc+ie.Vb),Hc(ie),i(ie.Ac,ie.Bc,0,Fe),Ce=1}}if(Ce){if(je.ka=0,je.y=ie.sa,je.O=ie.ta,je.f=ie.qa,je.N=ie.ra,je.ea=ie.Ha,je.Vd=ie.Ia,je.fa=ie.R,je.Rc=ie.B,je.F=null,je.J=0,!Yd){for(Ce=-255;255>=Ce;++Ce)bo[255+Ce]=0>Ce?-Ce:Ce;for(Ce=-1020;1020>=Ce;++Ce)Vd[1020+Ce]=-128>Ce?-128:127<Ce?127:Ce;for(Ce=-112;112>=Ce;++Ce)rd[112+Ce]=-16>Ce?-16:15<Ce?15:Ce;for(Ce=-255;510>=Ce;++Ce)ld[255+Ce]=0>Ce?0:255<Ce?255:Ce;Yd=1}gl=nn,gi=Wc,Ll=Rr,Ts=Gc,As=Vc,Nr=Od,ta=Hd,Ea=ii,Fn=X,hn=de,fo=Wd,sd=z,tx=fe,mu=ke,pu=ai,fu=ri,sx=ho,ax=Qc,ja[0]=$d,ja[1]=Fd,ja[2]=Ud,ja[3]=Kc,ja[4]=ml,ja[5]=Jc,ja[6]=ur,ja[7]=co,ja[8]=xo,ja[9]=pl,Ir[0]=on,Ir[1]=Yc,Ir[2]=Xc,Ir[3]=Bd,Ir[4]=ti,Ir[5]=oo,Ir[6]=Oi,mn[0]=Vo,mn[1]=Id,mn[2]=Mn,mn[3]=qd,mn[4]=lr,mn[5]=Yo,mn[6]=Ln,Ce=1}else Ce=0}Ce&&(Ce=(function(fs,oa){for(fs.M=0;fs.M<fs.Va;++fs.M){var es,ot=fs.Jc[fs.M&fs.Xb],at=fs.m,fa=fs;for(es=0;es<fa.za;++es){var Rt=at,ns=fa,Is=ns.Ac,Ja=ns.Bc+4*es,vr=ns.zc,sa=ns.ya[ns.aa+es];if(ns.Qa.Bb?sa.$b=_e(Rt,ns.Pa.jb[0])?2+_e(Rt,ns.Pa.jb[2]):_e(Rt,ns.Pa.jb[1]):sa.$b=0,ns.kc&&(sa.Ad=_e(Rt,ns.Bd)),sa.Za=!_e(Rt,145)+0,sa.Za){var Ia=sa.Ob,Cr=0;for(ns=0;4>ns;++ns){var Ba,ds=vr[0+ns];for(Ba=0;4>Ba;++Ba){ds=fr[Is[Ja+Ba]][ds];for(var Ms=e0[_e(Rt,ds[0])];0<Ms;)Ms=e0[2*Ms+_e(Rt,ds[Ms])];ds=-Ms,Is[Ja+Ba]=ds}l(Ia,Cr,Is,Ja,4),Cr+=4,vr[0+ns]=ds}}else ds=_e(Rt,156)?_e(Rt,128)?1:3:_e(Rt,163)?2:0,sa.Ob[0]=ds,i(Is,Ja,ds,4),i(vr,0,ds,4);sa.Dd=_e(Rt,142)?_e(Rt,114)?_e(Rt,183)?1:3:2:0}if(fa.m.Ka)return Es(fs,7,"Premature end-of-partition0 encountered.");for(;fs.ja<fs.za;++fs.ja){if(fa=ot,Rt=(at=fs).rb[at.sb-1],Is=at.rb[at.sb+at.ja],es=at.ya[at.aa+at.ja],Ja=at.kc?es.Ad:0)Rt.la=Is.la=0,es.Za||(Rt.Na=Is.Na=0),es.Hc=0,es.Gc=0,es.ia=0;else{var ga,_s;if(Rt=Is,Is=fa,Ja=at.Pa.Xc,vr=at.ya[at.aa+at.ja],sa=at.pb[vr.$b],ns=vr.ad,Ia=0,Cr=at.rb[at.sb-1],ds=Ba=0,i(ns,Ia,0,384),vr.Za)var Qa=0,ba=Ja[3];else{Ms=o(16);var Ls=Rt.Na+Cr.Na;if(Ls=vl(Is,Ja[1],Ls,sa.Eb,0,Ms,0),Rt.Na=Cr.Na=(0<Ls)+0,1<Ls)gl(Ms,0,ns,Ia);else{var _a=Ms[0]+3>>3;for(Ms=0;256>Ms;Ms+=16)ns[Ia+Ms]=_a}Qa=1,ba=Ja[0]}var Bs=15&Rt.la,Ua=15&Cr.la;for(Ms=0;4>Ms;++Ms){var $a=1&Ua;for(_a=_s=0;4>_a;++_a)Bs=Bs>>1|($a=(Ls=vl(Is,ba,Ls=$a+(1&Bs),sa.Sc,Qa,ns,Ia))>Qa)<<7,_s=_s<<2|(3<Ls?3:1<Ls?2:ns[Ia+0]!=0),Ia+=16;Bs>>=4,Ua=Ua>>1|$a<<7,Ba=(Ba<<8|_s)>>>0}for(ba=Bs,Qa=Ua>>4,ga=0;4>ga;ga+=2){for(_s=0,Bs=Rt.la>>4+ga,Ua=Cr.la>>4+ga,Ms=0;2>Ms;++Ms){for($a=1&Ua,_a=0;2>_a;++_a)Ls=$a+(1&Bs),Bs=Bs>>1|($a=0<(Ls=vl(Is,Ja[2],Ls,sa.Qc,0,ns,Ia)))<<3,_s=_s<<2|(3<Ls?3:1<Ls?2:ns[Ia+0]!=0),Ia+=16;Bs>>=2,Ua=Ua>>1|$a<<5}ds|=_s<<4*ga,ba|=Bs<<4<<ga,Qa|=(240&Ua)<<ga}Rt.la=ba,Cr.la=Qa,vr.Hc=Ba,vr.Gc=ds,vr.ia=43690&ds?0:sa.ia,Ja=!(Ba|ds)}if(0<at.L&&(at.wa[at.Y+at.ja]=at.gd[es.$b][es.Za],at.wa[at.Y+at.ja].La|=!Ja),fa.Ka)return Es(fs,7,"Premature end-of-file encountered.")}if(Hc(fs),at=oa,fa=1,es=(ot=fs).D,Rt=0<ot.L&&ot.M>=ot.zb&&ot.M<=ot.Va,ot.Aa==0)t:{if(es.M=ot.M,es.uc=Rt,fl(ot,es),fa=1,es=(_s=ot.D).Nb,Rt=(ds=oc[ot.L])*ot.R,Is=ds/2*ot.B,Ms=16*es*ot.R,_a=8*es*ot.B,Ja=ot.sa,vr=ot.ta-Rt+Ms,sa=ot.qa,ns=ot.ra-Is+_a,Ia=ot.Ha,Cr=ot.Ia-Is+_a,Ua=(Bs=_s.M)==0,Ba=Bs>=ot.Va-1,ot.Aa==2&&fl(ot,_s),_s.uc)for($a=(Ls=ot).D.M,s(Ls.D.uc),_s=Ls.yb;_s<Ls.Hb;++_s){Qa=_s,ba=$a;var Vs=(Ds=(qa=Ls).D).Nb;ga=qa.R;var Ds=Ds.wa[Ds.Y+Qa],Ar=qa.sa,wa=qa.ta+16*Vs*ga+16*Qa,Mt=Ds.dd,zt=Ds.tc;if(zt!=0)if(s(3<=zt),qa.L==1)0<Qa&&fu(Ar,wa,ga,zt+4),Ds.La&&ax(Ar,wa,ga,zt),0<ba&&pu(Ar,wa,ga,zt+4),Ds.La&&sx(Ar,wa,ga,zt);else{var zs=qa.B,Kr=qa.qa,Il=qa.ra+8*Vs*zs+8*Qa,Br=qa.Ha,qa=qa.Ia+8*Vs*zs+8*Qa;Vs=Ds.ld,0<Qa&&(Ea(Ar,wa,ga,zt+4,Mt,Vs),hn(Kr,Il,Br,qa,zs,zt+4,Mt,Vs)),Ds.La&&(sd(Ar,wa,ga,zt,Mt,Vs),mu(Kr,Il,Br,qa,zs,zt,Mt,Vs)),0<ba&&(ta(Ar,wa,ga,zt+4,Mt,Vs),Fn(Kr,Il,Br,qa,zs,zt+4,Mt,Vs)),Ds.La&&(fo(Ar,wa,ga,zt,Mt,Vs),tx(Kr,Il,Br,qa,zs,zt,Mt,Vs))}}if(ot.ia&&alert("todo:DitherRow"),at.put!=null){if(_s=16*Bs,Bs=16*(Bs+1),Ua?(at.y=ot.sa,at.O=ot.ta+Ms,at.f=ot.qa,at.N=ot.ra+_a,at.ea=ot.Ha,at.W=ot.Ia+_a):(_s-=ds,at.y=Ja,at.O=vr,at.f=sa,at.N=ns,at.ea=Ia,at.W=Cr),Ba||(Bs-=ds),Bs>at.o&&(Bs=at.o),at.F=null,at.J=null,ot.Fa!=null&&0<ot.Fa.length&&_s<Bs&&(at.J=ea(ot,at,_s,Bs-_s),at.F=ot.mb,at.F==null&&at.F.length==0)){fa=Es(ot,3,"Could not decode alpha data.");break t}_s<at.j&&(ds=at.j-_s,_s=at.j,s(!(1&ds)),at.O+=ot.R*ds,at.N+=ot.B*(ds>>1),at.W+=ot.B*(ds>>1),at.F!=null&&(at.J+=at.width*ds)),_s<Bs&&(at.O+=at.v,at.N+=at.v>>1,at.W+=at.v>>1,at.F!=null&&(at.J+=at.v),at.ka=_s-at.j,at.U=at.va-at.v,at.T=Bs-_s,fa=at.put(at))}es+1!=ot.Ic||Ba||(l(ot.sa,ot.ta-Rt,Ja,vr+16*ot.R,Rt),l(ot.qa,ot.ra-Is,sa,ns+8*ot.B,Is),l(ot.Ha,ot.Ia-Is,Ia,Cr+8*ot.B,Is))}if(!fa)return Es(fs,6,"Output aborted.")}return 1})(ie,je)),je.bc!=null&&je.bc(je),Ce&=1}return Ce?(ie.cb=0,Ce):0})(y,O)||(D=y.a)}}else D=y.a}D==0&&Z.Oa!=null&&Z.Oa.fd&&(D=td(Z.ba))}Z=D}J=Z!=0?null:11>J?te.f.RGBA.eb:te.f.kb.y}else J=null;return J};var r0=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(B,T){for(var q="",H=0;H<4;H++)q+=String.fromCharCode(B[T++]);return q}function p(B,T){return B[T+0]|B[T+1]<<8}function f(B,T){return(B[T+0]|B[T+1]<<8|B[T+2]<<16)>>>0}function b(B,T){return(B[T+0]|B[T+1]<<8|B[T+2]<<16|B[T+3]<<24)>>>0}new u;var g=[0],j=[0],A=[],w=new u,k=t,C=(function(B,T){var q={},H=0,G=!1,W=0,le=0;if(q.frames=[],!(function($,Q){for(var ae=0;ae<4;ae++)if($[Q+ae]!="RIFF".charCodeAt(ae))return!0;return!1})(B,T)){for(b(B,T+=4),T+=8;T<B.length;){var V=h(B,T),ne=b(B,T+=4);T+=4;var I=ne+(1&ne);switch(V){case"VP8 ":case"VP8L":q.frames[H]===void 0&&(q.frames[H]={}),(Y=q.frames[H]).src_off=G?le:T-8,Y.src_size=W+ne+8,H++,G&&(G=!1,W=0,le=0);break;case"VP8X":(Y=q.header={}).feature_flags=B[T];var oe=T+4;Y.canvas_width=1+f(B,oe),oe+=3,Y.canvas_height=1+f(B,oe),oe+=3;break;case"ALPH":G=!0,W=I+8,le=T-8;break;case"ANIM":(Y=q.header).bgcolor=b(B,T),oe=T+4,Y.loop_count=p(B,oe),oe+=2;break;case"ANMF":var Ne,Y;(Y=q.frames[H]={}).offset_x=2*f(B,T),T+=3,Y.offset_y=2*f(B,T),T+=3,Y.width=1+f(B,T),T+=3,Y.height=1+f(B,T),T+=3,Y.duration=f(B,T),T+=3,Ne=B[T++],Y.dispose=1&Ne,Y.blend=Ne>>1&1}V!="ANMF"&&(T+=I)}return q}})(k,0);C.response=k,C.rgbaoutput=!0,C.dataurl=!1;var L=C.header?C.header:null,N=C.frames?C.frames:null;if(L){L.loop_counter=L.loop_count,g=[L.canvas_height],j=[L.canvas_width];for(var P=0;P<N.length&&N[P].blend!=0;P++);}var _=N[0],F=w.WebPDecodeRGBA(k,_.src_off,_.src_size,j,g);_.rgba=F,_.imgwidth=j[0],_.imgheight=g[0];for(var R=0;R<j[0]*g[0]*4;R++)A[R]=F[R];return this.width=j,this.height=g,this.data=A,this}function NT(){var t,s=this.internal.__metadata__.metadata,a=unescape(encodeURIComponent(s));t=this.internal.__metadata__.rawXml?a:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+t.length+" >>"),this.internal.write("stream"),this.internal.write(t),this.internal.write("endstream"),this.internal.write("endobj")}function kT(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(t){var s,a,l,i,o,d,x,u,h,p=function($){return $=$||{},this.isStrokeTransparent=$.isStrokeTransparent||!1,this.strokeOpacity=$.strokeOpacity||1,this.strokeStyle=$.strokeStyle||"#000000",this.fillStyle=$.fillStyle||"#000000",this.isFillTransparent=$.isFillTransparent||!1,this.fillOpacity=$.fillOpacity||1,this.font=$.font||"10px sans-serif",this.textBaseline=$.textBaseline||"alphabetic",this.textAlign=$.textAlign||"left",this.lineWidth=$.lineWidth||1,this.lineJoin=$.lineJoin||"miter",this.lineCap=$.lineCap||"butt",this.path=$.path||[],this.transform=$.transform!==void 0?$.transform.clone():new u,this.globalCompositeOperation=$.globalCompositeOperation||"normal",this.globalAlpha=$.globalAlpha||1,this.clip_path=$.clip_path||[],this.currentPoint=$.currentPoint||new d,this.miterLimit=$.miterLimit||10,this.lastPoint=$.lastPoint||new d,this.lineDashOffset=$.lineDashOffset||0,this.lineDash=$.lineDash||[],this.margin=$.margin||[0,0,0,0],this.prevPageLastElemOffset=$.prevPageLastElemOffset||0,this.ignoreClearRect=typeof $.ignoreClearRect!="boolean"||$.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),s=this.internal.f2,a=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,d=this.internal.Point,x=this.internal.Rectangle,u=this.internal.Matrix,h=new p}]);var f=function($){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Q=$;Object.defineProperty(this,"pdf",{get:function(){return Q}});var ae=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ae},set:function(se){ae=!!se}});var ue=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ue},set:function(se){ue=!!se}});var me=0;Object.defineProperty(this,"posX",{get:function(){return me},set:function(se){isNaN(se)||(me=se)}});var be=0;Object.defineProperty(this,"posY",{get:function(){return be},set:function(se){isNaN(se)||(be=se)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(se){var Ze;typeof se=="number"?Ze=[se,se,se,se]:((Ze=new Array(4))[0]=se[0],Ze[1]=se.length>=2?se[1]:Ze[0],Ze[2]=se.length>=3?se[2]:Ze[0],Ze[3]=se.length>=4?se[3]:Ze[1]),h.margin=Ze}});var he=!1;Object.defineProperty(this,"autoPaging",{get:function(){return he},set:function(se){he=se}});var we=0;Object.defineProperty(this,"lastBreak",{get:function(){return we},set:function(se){we=se}});var _e=[];Object.defineProperty(this,"pageBreaks",{get:function(){return _e},set:function(se){_e=se}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(se){se instanceof p&&(h=se)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(se){h.path=se}});var $e=[];Object.defineProperty(this,"ctxStack",{get:function(){return $e},set:function(se){$e=se}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(se){var Ze;Ze=b(se),this.ctx.fillStyle=Ze.style,this.ctx.isFillTransparent=Ze.a===0,this.ctx.fillOpacity=Ze.a,this.pdf.setFillColor(Ze.r,Ze.g,Ze.b,{a:Ze.a}),this.pdf.setTextColor(Ze.r,Ze.g,Ze.b,{a:Ze.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(se){var Ze=b(se);this.ctx.strokeStyle=Ze.style,this.ctx.isStrokeTransparent=Ze.a===0,this.ctx.strokeOpacity=Ze.a,Ze.a===0?this.pdf.setDrawColor(255,255,255):(Ze.a,this.pdf.setDrawColor(Ze.r,Ze.g,Ze.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(se){["butt","round","square"].indexOf(se)!==-1&&(this.ctx.lineCap=se,this.pdf.setLineCap(se))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(se){isNaN(se)||(this.ctx.lineWidth=se,this.pdf.setLineWidth(se))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(se){["bevel","round","miter"].indexOf(se)!==-1&&(this.ctx.lineJoin=se,this.pdf.setLineJoin(se))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(se){isNaN(se)||(this.ctx.miterLimit=se,this.pdf.setMiterLimit(se))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(se){this.ctx.textBaseline=se}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(se){["right","end","center","left","start"].indexOf(se)!==-1&&(this.ctx.textAlign=se)}});var Ke=null,et=null,xe=null;Object.defineProperty(this,"fontFaces",{get:function(){return xe},set:function(se){Ke=null,et=null,xe=se}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(se){var Ze;if(this.ctx.font=se,(Ze=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(se))!==null){var It=Ze[1];Ze[2];var At=Ze[3],Xe=Ze[4];Ze[5];var kt=Ze[6],nt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Xe)[2];Xe=Math.floor(nt==="px"?parseFloat(Xe)*this.pdf.internal.scaleFactor:nt==="em"?parseFloat(Xe)*this.pdf.getFontSize():parseFloat(Xe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Xe);var Ct=(function(Nt){var Da,xs,Tt=[],Ht=Nt.trim();if(Ht==="")return gf;if(Ht in b2)return[b2[Ht]];for(;Ht!=="";){switch(xs=null,Da=(Ht=y2(Ht)).charAt(0)){case'"':case"'":xs=gT(Ht.substring(1),Da);break;default:xs=bT(Ht)}if(xs===null||(Tt.push(xs[0]),(Ht=y2(xs[1]))!==""&&Ht.charAt(0)!==","))return gf;Ht=Ht.replace(/^,/,"")}return Tt})(kt);if(this.fontFaces){var gt=(function(Nt,Da){var xs=Nt.getFontList(),Tt=JSON.stringify(xs);if(Ke===null||et!==Tt){var Ht=(function(ps){var Lt=[];return Object.keys(ps).forEach(function(Zs){ps[Zs].forEach(function(Ot){var Wt=null;switch(Ot){case"bold":Wt={family:Zs,weight:"bold"};break;case"italic":Wt={family:Zs,style:"italic"};break;case"bolditalic":Wt={family:Zs,weight:"bold",style:"italic"};break;case"":case"normal":Wt={family:Zs}}Wt!==null&&(Wt.ref={name:Zs,style:Ot},Lt.push(Wt))})}),Lt})(xs);Ke=(function(ps){for(var Lt={},Zs=0;Zs<ps.length;++Zs){var Ot=ff(ps[Zs]),Wt=Ot.family,Ws=Ot.stretch,ls=Ot.style,St=Ot.weight;Lt[Wt]=Lt[Wt]||{},Lt[Wt][Ws]=Lt[Wt][Ws]||{},Lt[Wt][Ws][ls]=Lt[Wt][Ws][ls]||{},Lt[Wt][Ws][ls][St]=Ot}return Lt})(Ht.concat(Da)),et=Tt}return Ke})(this.pdf,this.fontFaces),Ye=Ct.map(function(Nt){return{family:Nt,stretch:"normal",weight:At,style:It}}),Kt=(function(Nt,Da,xs){for(var Tt=(xs=xs||{}).defaultFontFamily||"times",Ht=Object.assign({},fT,xs.genericFontFamilies||{}),ps=null,Lt=null,Zs=0;Zs<Da.length;++Zs)if(Ht[(ps=ff(Da[Zs])).family]&&(ps.family=Ht[ps.family]),Nt.hasOwnProperty(ps.family)){Lt=Nt[ps.family];break}if(!(Lt=Lt||Nt[Tt]))throw new Error("Could not find a font-family for the rule '"+v2(ps)+"' and default family '"+Tt+"'.");if(Lt=(function(Ot,Wt){if(Wt[Ot])return Wt[Ot];var Ws=Jf[Ot],ls=Ws<=Jf.normal?-1:1,St=g2(Wt,ON,Ws,ls);if(!St)throw new Error("Could not find a matching font-stretch value for "+Ot);return St})(ps.stretch,Lt),Lt=(function(Ot,Wt){if(Wt[Ot])return Wt[Ot];for(var Ws=RN[Ot],ls=0;ls<Ws.length;++ls)if(Wt[Ws[ls]])return Wt[Ws[ls]];throw new Error("Could not find a matching font-style for "+Ot)})(ps.style,Lt),!(Lt=(function(Ot,Wt){if(Wt[Ot])return Wt[Ot];if(Ot===400&&Wt[500])return Wt[500];if(Ot===500&&Wt[400])return Wt[400];var Ws=pT[Ot],ls=g2(Wt,FN,Ws,Ot<400?-1:1);if(!ls)throw new Error("Could not find a matching font-weight for value "+Ot);return ls})(ps.weight,Lt)))throw new Error("Failed to resolve a font for the rule '"+v2(ps)+"'.");return Lt})(gt,Ye);this.pdf.setFont(Kt.ref.name,Kt.ref.style)}else{var vt="";(At==="bold"||parseInt(At,10)>=700||It==="bold")&&(vt="bold"),It==="italic"&&(vt+="italic"),vt.length===0&&(vt="normal");for(var cs="",rs={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},dt=0;dt<Ct.length;dt++){if(this.pdf.internal.getFont(Ct[dt],vt,{noFallback:!0,disableWarning:!0})!==void 0){cs=Ct[dt];break}if(vt==="bolditalic"&&this.pdf.internal.getFont(Ct[dt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)cs=Ct[dt],vt="bold";else if(this.pdf.internal.getFont(Ct[dt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){cs=Ct[dt],vt="normal";break}}if(cs===""){for(var Jt=0;Jt<Ct.length;Jt++)if(rs[Ct[Jt]]){cs=rs[Ct[Jt]];break}}cs=cs===""?"Times":cs,this.pdf.setFont(cs,vt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(se){this.ctx.globalCompositeOperation=se}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(se){this.ctx.globalAlpha=se}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(se){this.ctx.lineDashOffset=se,Y.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(se){this.ctx.lineDash=se,Y.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(se){this.ctx.ignoreClearRect=!!se}})};f.prototype.setLineDash=function($){this.lineDash=$},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){N.call(this,"fill",!1)},f.prototype.stroke=function(){N.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function($,Q){if(isNaN($)||isNaN(Q))throw da.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ae=this.ctx.transform.applyToPoint(new d($,Q));this.path.push({type:"mt",x:ae.x,y:ae.y}),this.ctx.lastPoint=new d($,Q)},f.prototype.closePath=function(){var $=new d(0,0),Q=0;for(Q=this.path.length-1;Q!==-1;Q--)if(this.path[Q].type==="begin"&&Ks(this.path[Q+1])==="object"&&typeof this.path[Q+1].x=="number"){$=new d(this.path[Q+1].x,this.path[Q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new d($.x,$.y)},f.prototype.lineTo=function($,Q){if(isNaN($)||isNaN(Q))throw da.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ae=this.ctx.transform.applyToPoint(new d($,Q));this.path.push({type:"lt",x:ae.x,y:ae.y}),this.ctx.lastPoint=new d(ae.x,ae.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),N.call(this,null,!0)},f.prototype.quadraticCurveTo=function($,Q,ae,ue){if(isNaN(ae)||isNaN(ue)||isNaN($)||isNaN(Q))throw da.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var me=this.ctx.transform.applyToPoint(new d(ae,ue)),be=this.ctx.transform.applyToPoint(new d($,Q));this.path.push({type:"qct",x1:be.x,y1:be.y,x:me.x,y:me.y}),this.ctx.lastPoint=new d(me.x,me.y)},f.prototype.bezierCurveTo=function($,Q,ae,ue,me,be){if(isNaN(me)||isNaN(be)||isNaN($)||isNaN(Q)||isNaN(ae)||isNaN(ue))throw da.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var he=this.ctx.transform.applyToPoint(new d(me,be)),we=this.ctx.transform.applyToPoint(new d($,Q)),_e=this.ctx.transform.applyToPoint(new d(ae,ue));this.path.push({type:"bct",x1:we.x,y1:we.y,x2:_e.x,y2:_e.y,x:he.x,y:he.y}),this.ctx.lastPoint=new d(he.x,he.y)},f.prototype.arc=function($,Q,ae,ue,me,be){if(isNaN($)||isNaN(Q)||isNaN(ae)||isNaN(ue)||isNaN(me))throw da.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(be=!!be,!this.ctx.transform.isIdentity){var he=this.ctx.transform.applyToPoint(new d($,Q));$=he.x,Q=he.y;var we=this.ctx.transform.applyToPoint(new d(0,ae)),_e=this.ctx.transform.applyToPoint(new d(0,0));ae=Math.sqrt(Math.pow(we.x-_e.x,2)+Math.pow(we.y-_e.y,2))}Math.abs(me-ue)>=2*Math.PI&&(ue=0,me=2*Math.PI),this.path.push({type:"arc",x:$,y:Q,radius:ae,startAngle:ue,endAngle:me,counterclockwise:be})},f.prototype.arcTo=function($,Q,ae,ue,me){throw new Error("arcTo not implemented.")},f.prototype.rect=function($,Q,ae,ue){if(isNaN($)||isNaN(Q)||isNaN(ae)||isNaN(ue))throw da.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo($,Q),this.lineTo($+ae,Q),this.lineTo($+ae,Q+ue),this.lineTo($,Q+ue),this.lineTo($,Q),this.lineTo($+ae,Q),this.lineTo($,Q)},f.prototype.fillRect=function($,Q,ae,ue){if(isNaN($)||isNaN(Q)||isNaN(ae)||isNaN(ue))throw da.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var me={};this.lineCap!=="butt"&&(me.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(me.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect($,Q,ae,ue),this.fill(),me.hasOwnProperty("lineCap")&&(this.lineCap=me.lineCap),me.hasOwnProperty("lineJoin")&&(this.lineJoin=me.lineJoin)}},f.prototype.strokeRect=function($,Q,ae,ue){if(isNaN($)||isNaN(Q)||isNaN(ae)||isNaN(ue))throw da.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");j.call(this)||(this.beginPath(),this.rect($,Q,ae,ue),this.stroke())},f.prototype.clearRect=function($,Q,ae,ue){if(isNaN($)||isNaN(Q)||isNaN(ae)||isNaN(ue))throw da.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect($,Q,ae,ue))},f.prototype.save=function($){$=typeof $!="boolean"||$;for(var Q=this.pdf.internal.getCurrentPageInfo().pageNumber,ae=0;ae<this.pdf.internal.getNumberOfPages();ae++)this.pdf.setPage(ae+1),this.pdf.internal.out("q");if(this.pdf.setPage(Q),$){this.ctx.fontSize=this.pdf.internal.getFontSize();var ue=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ue}},f.prototype.restore=function($){$=typeof $!="boolean"||$;for(var Q=this.pdf.internal.getCurrentPageInfo().pageNumber,ae=0;ae<this.pdf.internal.getNumberOfPages();ae++)this.pdf.setPage(ae+1),this.pdf.internal.out("Q");this.pdf.setPage(Q),$&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var b=function($){var Q,ae,ue,me;if($.isCanvasGradient===!0&&($=$.getColor()),!$)return{r:0,g:0,b:0,a:0,style:$};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test($))Q=0,ae=0,ue=0,me=0;else{var be=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec($);if(be!==null)Q=parseInt(be[1]),ae=parseInt(be[2]),ue=parseInt(be[3]),me=1;else if((be=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec($))!==null)Q=parseInt(be[1]),ae=parseInt(be[2]),ue=parseInt(be[3]),me=parseFloat(be[4]);else{if(me=1,typeof $=="string"&&$.charAt(0)!=="#"){var he=new MN($);$=he.ok?he.toHex():"#000000"}$.length===4?(Q=$.substring(1,2),Q+=Q,ae=$.substring(2,3),ae+=ae,ue=$.substring(3,4),ue+=ue):(Q=$.substring(1,3),ae=$.substring(3,5),ue=$.substring(5,7)),Q=parseInt(Q,16),ae=parseInt(ae,16),ue=parseInt(ue,16)}}return{r:Q,g:ae,b:ue,a:me,style:$}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},j=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function($,Q,ae,ue){if(isNaN(Q)||isNaN(ae)||typeof $!="string")throw da.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ue=isNaN(ue)?void 0:ue,!g.call(this)){var me=I(this.ctx.transform.rotation),be=this.ctx.transform.scaleX;H.call(this,{text:$,x:Q,y:ae,scale:be,angle:me,align:this.textAlign,maxWidth:ue})}},f.prototype.strokeText=function($,Q,ae,ue){if(isNaN(Q)||isNaN(ae)||typeof $!="string")throw da.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!j.call(this)){ue=isNaN(ue)?void 0:ue;var me=I(this.ctx.transform.rotation),be=this.ctx.transform.scaleX;H.call(this,{text:$,x:Q,y:ae,scale:be,renderingMode:"stroke",angle:me,align:this.textAlign,maxWidth:ue})}},f.prototype.measureText=function($){if(typeof $!="string")throw da.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Q=this.pdf,ae=this.pdf.internal.scaleFactor,ue=Q.internal.getFontSize(),me=Q.getStringUnitWidth($)*ue/Q.internal.scaleFactor;return new function(be){var he=(be=be||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return he}}),this}({width:me*=Math.round(96*ae/72*1e4)/1e4})},f.prototype.scale=function($,Q){if(isNaN($)||isNaN(Q))throw da.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ae=new u($,0,0,Q,0,0);this.ctx.transform=this.ctx.transform.multiply(ae)},f.prototype.rotate=function($){if(isNaN($))throw da.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Q=new u(Math.cos($),Math.sin($),-Math.sin($),Math.cos($),0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},f.prototype.translate=function($,Q){if(isNaN($)||isNaN(Q))throw da.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ae=new u(1,0,0,1,$,Q);this.ctx.transform=this.ctx.transform.multiply(ae)},f.prototype.transform=function($,Q,ae,ue,me,be){if(isNaN($)||isNaN(Q)||isNaN(ae)||isNaN(ue)||isNaN(me)||isNaN(be))throw da.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var he=new u($,Q,ae,ue,me,be);this.ctx.transform=this.ctx.transform.multiply(he)},f.prototype.setTransform=function($,Q,ae,ue,me,be){$=isNaN($)?1:$,Q=isNaN(Q)?0:Q,ae=isNaN(ae)?0:ae,ue=isNaN(ue)?1:ue,me=isNaN(me)?0:me,be=isNaN(be)?0:be,this.ctx.transform=new u($,Q,ae,ue,me,be)};var A=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function($,Q,ae,ue,me,be,he,we,_e){var $e=this.pdf.getImageProperties($),Ke=1,et=1,xe=1,se=1;ue!==void 0&&we!==void 0&&(xe=we/ue,se=_e/me,Ke=$e.width/ue*we/ue,et=$e.height/me*_e/me),be===void 0&&(be=Q,he=ae,Q=0,ae=0),ue!==void 0&&we===void 0&&(we=ue,_e=me),ue===void 0&&we===void 0&&(we=$e.width,_e=$e.height);var Ze=this.ctx.transform.decompose(),It=I(Ze.rotate.shx),At=new u,Xe=(At=(At=(At=At.multiply(Ze.translate)).multiply(Ze.skew)).multiply(Ze.scale)).applyToRectangle(new x(be-Q*xe,he-ae*se,ue*Ke,me*et));if(this.autoPaging){for(var kt,nt=w.call(this,Xe),Ct=[],gt=0;gt<nt.length;gt+=1)Ct.indexOf(nt[gt])===-1&&Ct.push(nt[gt]);L(Ct);for(var Ye=Ct[0],Kt=Ct[Ct.length-1],vt=Ye;vt<Kt+1;vt++){this.pdf.setPage(vt);var cs=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],rs=vt===1?this.posY+this.margin[0]:this.margin[0],dt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Jt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Nt=vt===1?0:dt+(vt-2)*Jt;if(this.ctx.clip_path.length!==0){var Da=this.path;kt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(kt,this.posX+this.margin[3],-Nt+rs+this.ctx.prevPageLastElemOffset),P.call(this,"fill",!0),this.path=Da}var xs=JSON.parse(JSON.stringify(Xe));xs=C([xs],this.posX+this.margin[3],-Nt+rs+this.ctx.prevPageLastElemOffset)[0];var Tt=(vt>Ye||vt<Kt)&&A.call(this);Tt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],cs,Jt,null).clip().discardPath()),this.pdf.addImage($,"JPEG",xs.x,xs.y,xs.w,xs.h,null,null,It),Tt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage($,"JPEG",Xe.x,Xe.y,Xe.w,Xe.h,null,null,It)};var w=function($,Q,ae){var ue=[];Q=Q||this.pdf.internal.pageSize.width,ae=ae||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var me=this.posY+this.ctx.prevPageLastElemOffset;switch($.type){default:case"mt":case"lt":ue.push(Math.floor(($.y+me)/ae)+1);break;case"arc":ue.push(Math.floor(($.y+me-$.radius)/ae)+1),ue.push(Math.floor(($.y+me+$.radius)/ae)+1);break;case"qct":var be=oe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,$.x1,$.y1,$.x,$.y);ue.push(Math.floor((be.y+me)/ae)+1),ue.push(Math.floor((be.y+be.h+me)/ae)+1);break;case"bct":var he=Ne(this.ctx.lastPoint.x,this.ctx.lastPoint.y,$.x1,$.y1,$.x2,$.y2,$.x,$.y);ue.push(Math.floor((he.y+me)/ae)+1),ue.push(Math.floor((he.y+he.h+me)/ae)+1);break;case"rect":ue.push(Math.floor(($.y+me)/ae)+1),ue.push(Math.floor(($.y+$.h+me)/ae)+1)}for(var we=0;we<ue.length;we+=1)for(;this.pdf.internal.getNumberOfPages()<ue[we];)k.call(this);return ue},k=function(){var $=this.fillStyle,Q=this.strokeStyle,ae=this.font,ue=this.lineCap,me=this.lineWidth,be=this.lineJoin;this.pdf.addPage(),this.fillStyle=$,this.strokeStyle=Q,this.font=ae,this.lineCap=ue,this.lineWidth=me,this.lineJoin=be},C=function($,Q,ae){for(var ue=0;ue<$.length;ue++)switch($[ue].type){case"bct":$[ue].x2+=Q,$[ue].y2+=ae;case"qct":$[ue].x1+=Q,$[ue].y1+=ae;default:$[ue].x+=Q,$[ue].y+=ae}return $},L=function($){return $.sort(function(Q,ae){return Q-ae})},N=function($,Q){var ae=this.fillStyle,ue=this.strokeStyle,me=this.lineCap,be=this.lineWidth,he=Math.abs(be*this.ctx.transform.scaleX),we=this.lineJoin;if(this.autoPaging){for(var _e,$e,Ke=JSON.parse(JSON.stringify(this.path)),et=JSON.parse(JSON.stringify(this.path)),xe=[],se=0;se<et.length;se++)if(et[se].x!==void 0)for(var Ze=w.call(this,et[se]),It=0;It<Ze.length;It+=1)xe.indexOf(Ze[It])===-1&&xe.push(Ze[It]);for(var At=0;At<xe.length;At++)for(;this.pdf.internal.getNumberOfPages()<xe[At];)k.call(this);L(xe);for(var Xe=xe[0],kt=xe[xe.length-1],nt=Xe;nt<kt+1;nt++){this.pdf.setPage(nt),this.fillStyle=ae,this.strokeStyle=ue,this.lineCap=me,this.lineWidth=he,this.lineJoin=we;var Ct=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],gt=nt===1?this.posY+this.margin[0]:this.margin[0],Ye=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Kt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],vt=nt===1?0:Ye+(nt-2)*Kt;if(this.ctx.clip_path.length!==0){var cs=this.path;_e=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(_e,this.posX+this.margin[3],-vt+gt+this.ctx.prevPageLastElemOffset),P.call(this,$,!0),this.path=cs}if($e=JSON.parse(JSON.stringify(Ke)),this.path=C($e,this.posX+this.margin[3],-vt+gt+this.ctx.prevPageLastElemOffset),Q===!1||nt===0){var rs=(nt>Xe||nt<kt)&&A.call(this);rs&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ct,Kt,null).clip().discardPath()),P.call(this,$,Q),rs&&this.pdf.restoreGraphicsState()}this.lineWidth=be}this.path=Ke}else this.lineWidth=he,P.call(this,$,Q),this.lineWidth=be},P=function($,Q){if(($!=="stroke"||Q||!j.call(this))&&($==="stroke"||Q||!g.call(this))){for(var ae,ue,me=[],be=this.path,he=0;he<be.length;he++){var we=be[he];switch(we.type){case"begin":me.push({begin:!0});break;case"close":me.push({close:!0});break;case"mt":me.push({start:we,deltas:[],abs:[]});break;case"lt":var _e=me.length;if(be[he-1]&&!isNaN(be[he-1].x)&&(ae=[we.x-be[he-1].x,we.y-be[he-1].y],_e>0)){for(;_e>=0;_e--)if(me[_e-1].close!==!0&&me[_e-1].begin!==!0){me[_e-1].deltas.push(ae),me[_e-1].abs.push(we);break}}break;case"bct":ae=[we.x1-be[he-1].x,we.y1-be[he-1].y,we.x2-be[he-1].x,we.y2-be[he-1].y,we.x-be[he-1].x,we.y-be[he-1].y],me[me.length-1].deltas.push(ae);break;case"qct":var $e=be[he-1].x+2/3*(we.x1-be[he-1].x),Ke=be[he-1].y+2/3*(we.y1-be[he-1].y),et=we.x+2/3*(we.x1-we.x),xe=we.y+2/3*(we.y1-we.y),se=we.x,Ze=we.y;ae=[$e-be[he-1].x,Ke-be[he-1].y,et-be[he-1].x,xe-be[he-1].y,se-be[he-1].x,Ze-be[he-1].y],me[me.length-1].deltas.push(ae);break;case"arc":me.push({deltas:[],abs:[],arc:!0}),Array.isArray(me[me.length-1].abs)&&me[me.length-1].abs.push(we)}}ue=Q?null:$==="stroke"?"stroke":"fill";for(var It=!1,At=0;At<me.length;At++)if(me[At].arc)for(var Xe=me[At].abs,kt=0;kt<Xe.length;kt++){var nt=Xe[kt];nt.type==="arc"?R.call(this,nt.x,nt.y,nt.radius,nt.startAngle,nt.endAngle,nt.counterclockwise,void 0,Q,!It):G.call(this,nt.x,nt.y),It=!0}else if(me[At].close===!0)this.pdf.internal.out("h"),It=!1;else if(me[At].begin!==!0){var Ct=me[At].start.x,gt=me[At].start.y;W.call(this,me[At].deltas,Ct,gt),It=!0}ue&&B.call(this,ue),Q&&T.call(this)}},_=function($){var Q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ae=Q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return $-ae;case"top":return $+Q-ae;case"hanging":return $+Q-2*ae;case"middle":return $+Q/2-ae;default:return $}},F=function($){return $+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var $=function(){};return $.colorStops=[],$.addColorStop=function(Q,ae){this.colorStops.push([Q,ae])},$.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},$.isCanvasGradient=!0,$},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var R=function($,Q,ae,ue,me,be,he,we,_e){for(var $e=V.call(this,ae,ue,me,be),Ke=0;Ke<$e.length;Ke++){var et=$e[Ke];Ke===0&&(_e?q.call(this,et.x1+$,et.y1+Q):G.call(this,et.x1+$,et.y1+Q)),le.call(this,$,Q,et.x2,et.y2,et.x3,et.y3,et.x4,et.y4)}we?T.call(this):B.call(this,he)},B=function($){switch($){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},T=function(){this.pdf.clip(),this.pdf.discardPath()},q=function($,Q){this.pdf.internal.out(a($)+" "+l(Q)+" m")},H=function($){var Q;switch($.align){case"right":case"end":Q="right";break;case"center":Q="center";break;default:Q="left"}var ae,ue,me,be=this.pdf.getTextDimensions($.text),he=_.call(this,$.y),we=F.call(this,he)-be.h,_e=this.ctx.transform.applyToPoint(new d($.x,he));if(this.autoPaging){var $e=this.ctx.transform.decompose(),Ke=new u;Ke=(Ke=(Ke=Ke.multiply($e.translate)).multiply($e.skew)).multiply($e.scale);for(var et=this.ctx.transform.applyToRectangle(new x($.x,he,be.w,be.h)),xe=Ke.applyToRectangle(new x($.x,we,be.w,be.h)),se=w.call(this,xe),Ze=[],It=0;It<se.length;It+=1)Ze.indexOf(se[It])===-1&&Ze.push(se[It]);L(Ze);for(var At=Ze[0],Xe=Ze[Ze.length-1],kt=At;kt<Xe+1;kt++){this.pdf.setPage(kt);var nt=kt===1?this.posY+this.margin[0]:this.margin[0],Ct=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],gt=this.pdf.internal.pageSize.height-this.margin[2],Ye=gt-this.margin[0],Kt=this.pdf.internal.pageSize.width-this.margin[1],vt=Kt-this.margin[3],cs=kt===1?0:Ct+(kt-2)*Ye;if(this.ctx.clip_path.length!==0){var rs=this.path;ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(ae,this.posX+this.margin[3],-1*cs+nt),P.call(this,"fill",!0),this.path=rs}var dt=C([JSON.parse(JSON.stringify(xe))],this.posX+this.margin[3],-cs+nt+this.ctx.prevPageLastElemOffset)[0];$.scale>=.01&&(ue=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ue*$.scale),me=this.lineWidth,this.lineWidth=me*$.scale);var Jt=this.autoPaging!=="text";if(Jt||dt.y+dt.h<=gt){if(Jt||dt.y>=nt&&dt.x<=Kt){var Nt=Jt?$.text:this.pdf.splitTextToSize($.text,$.maxWidth||Kt-dt.x)[0],Da=C([JSON.parse(JSON.stringify(et))],this.posX+this.margin[3],-cs+nt+this.ctx.prevPageLastElemOffset)[0],xs=Jt&&(kt>At||kt<Xe)&&A.call(this);xs&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],vt,Ye,null).clip().discardPath()),this.pdf.text(Nt,Da.x,Da.y,{angle:$.angle,align:Q,renderingMode:$.renderingMode}),xs&&this.pdf.restoreGraphicsState()}}else dt.y<gt&&(this.ctx.prevPageLastElemOffset+=gt-dt.y);$.scale>=.01&&(this.pdf.setFontSize(ue),this.lineWidth=me)}}else $.scale>=.01&&(ue=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ue*$.scale),me=this.lineWidth,this.lineWidth=me*$.scale),this.pdf.text($.text,_e.x+this.posX,_e.y+this.posY,{angle:$.angle,align:Q,renderingMode:$.renderingMode,maxWidth:$.maxWidth}),$.scale>=.01&&(this.pdf.setFontSize(ue),this.lineWidth=me)},G=function($,Q,ae,ue){ae=ae||0,ue=ue||0,this.pdf.internal.out(a($+ae)+" "+l(Q+ue)+" l")},W=function($,Q,ae){return this.pdf.lines($,Q,ae,null,null)},le=function($,Q,ae,ue,me,be,he,we){this.pdf.internal.out([s(i(ae+$)),s(o(ue+Q)),s(i(me+$)),s(o(be+Q)),s(i(he+$)),s(o(we+Q)),"c"].join(" "))},V=function($,Q,ae,ue){for(var me=2*Math.PI,be=Math.PI/2;Q>ae;)Q-=me;var he=Math.abs(ae-Q);he<me&&ue&&(he=me-he);for(var we=[],_e=ue?-1:1,$e=Q;he>1e-5;){var Ke=$e+_e*Math.min(he,be);we.push(ne.call(this,$,$e,Ke)),he-=Math.abs(Ke-$e),$e=Ke}return we},ne=function($,Q,ae){var ue=(ae-Q)/2,me=$*Math.cos(ue),be=$*Math.sin(ue),he=me,we=-be,_e=he*he+we*we,$e=_e+he*me+we*be,Ke=4/3*(Math.sqrt(2*_e*$e)-$e)/(he*be-we*me),et=he-Ke*we,xe=we+Ke*he,se=et,Ze=-xe,It=ue+Q,At=Math.cos(It),Xe=Math.sin(It);return{x1:$*Math.cos(Q),y1:$*Math.sin(Q),x2:et*At-xe*Xe,y2:et*Xe+xe*At,x3:se*At-Ze*Xe,y3:se*Xe+Ze*At,x4:$*Math.cos(ae),y4:$*Math.sin(ae)}},I=function($){return 180*$/Math.PI},oe=function($,Q,ae,ue,me,be){var he=$+.5*(ae-$),we=Q+.5*(ue-Q),_e=me+.5*(ae-me),$e=be+.5*(ue-be),Ke=Math.min($,me,he,_e),et=Math.max($,me,he,_e),xe=Math.min(Q,be,we,$e),se=Math.max(Q,be,we,$e);return new x(Ke,xe,et-Ke,se-xe)},Ne=function($,Q,ae,ue,me,be,he,we){var _e,$e,Ke,et,xe,se,Ze,It,At,Xe,kt,nt,Ct,gt,Ye=ae-$,Kt=ue-Q,vt=me-ae,cs=be-ue,rs=he-me,dt=we-be;for($e=0;$e<41;$e++)At=(Ze=(Ke=$+(_e=$e/40)*Ye)+_e*((xe=ae+_e*vt)-Ke))+_e*(xe+_e*(me+_e*rs-xe)-Ze),Xe=(It=(et=Q+_e*Kt)+_e*((se=ue+_e*cs)-et))+_e*(se+_e*(be+_e*dt-se)-It),$e==0?(kt=At,nt=Xe,Ct=At,gt=Xe):(kt=Math.min(kt,At),nt=Math.min(nt,Xe),Ct=Math.max(Ct,At),gt=Math.max(gt,Xe));return new x(Math.round(kt),Math.round(nt),Math.round(Ct-kt),Math.round(gt-nt))},Y=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var $,Q,ae=($=this.ctx.lineDash,Q=this.ctx.lineDashOffset,JSON.stringify({lineDash:$,lineDashOffset:Q}));this.prevLineDash!==ae&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ae)}}})(bt.API),(function(t){var s=function(d){var x,u,h,p,f,b,g,j,A,w;for(u=[],h=0,p=(d+=x="\0\0\0\0".slice(d.length%4||4)).length;p>h;h+=4)(f=(d.charCodeAt(h)<<24)+(d.charCodeAt(h+1)<<16)+(d.charCodeAt(h+2)<<8)+d.charCodeAt(h+3))!==0?(b=(f=((f=((f=((f=(f-(w=f%85))/85)-(A=f%85))/85)-(j=f%85))/85)-(g=f%85))/85)%85,u.push(b+33,g+33,j+33,A+33,w+33)):u.push(122);return(function(k,C){for(var L=C;L>0;L--)k.pop()})(u,x.length),String.fromCharCode.apply(String,u)+"~>"},a=function(d){var x,u,h,p,f,b=String,g="length",j=255,A="charCodeAt",w="slice",k="replace";for(d[w](-2),d=d[w](0,-2)[k](/\s/g,"")[k]("z","!!!!!"),h=[],p=0,f=(d+=x="uuuuu"[w](d[g]%5||5))[g];f>p;p+=5)u=52200625*(d[A](p)-33)+614125*(d[A](p+1)-33)+7225*(d[A](p+2)-33)+85*(d[A](p+3)-33)+(d[A](p+4)-33),h.push(j&u>>24,j&u>>16,j&u>>8,j&u);return(function(C,L){for(var N=L;N>0;N--)C.pop()})(h,x[g]),b.fromCharCode.apply(b,h)},l=function(d){return d.split("").map(function(x){return("0"+x.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(d){var x=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((d=d.replace(/\s/g,"")).indexOf(">")!==-1&&(d=d.substr(0,d.indexOf(">"))),d.length%2&&(d+="0"),x.test(d)===!1)return"";for(var u="",h=0;h<d.length;h+=2)u+=String.fromCharCode("0x"+(d[h]+d[h+1]));return u},o=function(d){for(var x=new Uint8Array(d.length),u=d.length;u--;)x[u]=d.charCodeAt(u);return(x=Hf(x)).reduce(function(h,p){return h+String.fromCharCode(p)},"")};t.processDataByFilters=function(d,x){var u=0,h=d||"",p=[];for(typeof(x=x||[])=="string"&&(x=[x]),u=0;u<x.length;u+=1)switch(x[u]){case"ASCII85Decode":case"/ASCII85Decode":h=a(h),p.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":h=s(h),p.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":h=i(h),p.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":h=l(h),p.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":h=o(h),p.push("/FlateDecode");break;default:throw new Error('The filter: "'+x[u]+'" is not implemented')}return{data:h,reverseChain:p.reverse().join(" ")}}})(bt.API),(function(t){t.loadFile=function(s,a,l){return(function(i,o,d){o=o!==!1,d=typeof d=="function"?d:function(){};var x=void 0;try{x=(function(u,h,p){var f=new XMLHttpRequest,b=0,g=function(j){var A=j.length,w=[],k=String.fromCharCode;for(b=0;b<A;b+=1)w.push(k(255&j.charCodeAt(b)));return w.join("")};if(f.open("GET",u,!h),f.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(f.onload=function(){f.status===200?p(g(this.responseText)):p(void 0)}),f.send(null),h&&f.status===200)return g(f.responseText)})(i,o,d)}catch{}return x})(s,a,l)},t.allowFsRead=void 0,t.loadImageFile=t.loadFile})(bt.API),(function(t){function s(){return(Yt.html2canvas?Promise.resolve(Yt.html2canvas):Eh(()=>import("./html2canvas.esm-DXEQVQnt.js"),[])).catch(function(x){return Promise.reject(new Error("Could not load html2canvas: "+x))}).then(function(x){return x.default?x.default:x})}function a(){return(Yt.DOMPurify?Promise.resolve(Yt.DOMPurify):Eh(()=>import("./purify.es-Bzr520pe.js"),[])).catch(function(x){return Promise.reject(new Error("Could not load dompurify: "+x))}).then(function(x){return x.default?x.default:x})}var l=function(x){var u=Ks(x);return u==="undefined"?"undefined":u==="string"||x instanceof String?"string":u==="number"||x instanceof Number?"number":u==="function"||x instanceof Function?"function":x&&x.constructor===Array?"array":x&&x.nodeType===1?"element":u==="object"?"object":"unknown"},i=function(x,u){var h=document.createElement(x);for(var p in u.className&&(h.className=u.className),u.innerHTML&&u.dompurify&&(h.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)h.style[p]=u.style[p];return h},o=function x(u,h){for(var p=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),f=u.firstChild;f;f=f.nextSibling)h!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||p.appendChild(x(f,h));return u.nodeType===1&&(u.nodeName==="CANVAS"?(p.width=u.width,p.height=u.height,p.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(p.value=u.value),p.addEventListener("load",function(){p.scrollTop=u.scrollTop,p.scrollLeft=u.scrollLeft},!0)),p},d=function x(u){var h=Object.assign(x.convert(Promise.resolve()),JSON.parse(JSON.stringify(x.template))),p=x.convert(Promise.resolve(),h);return(p=p.setProgress(1,x,1,[x])).set(u)};(d.prototype=Object.create(Promise.prototype)).constructor=d,d.convert=function(x,u){return x.__proto__=u||d.prototype,x},d.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},d.prototype.from=function(x,u){return this.then(function(){switch(u=u||(function(h){switch(l(h)){case"string":return"string";case"element":return h.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(x),u){case"string":return this.then(a).then(function(h){return this.set({src:i("div",{innerHTML:x,dompurify:h})})});case"element":return this.set({src:x});case"canvas":return this.set({canvas:x});case"img":return this.set({img:x});default:return this.error("Unknown source type.")}})},d.prototype.to=function(x){switch(x){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},d.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var x={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(x.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:x}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},d.prototype.toCanvas=function(){var x=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(x).then(s).then(function(u){var h=Object.assign({},this.opt.html2canvas);return delete h.onrendered,u(this.prop.container,h)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},d.prototype.toContext2d=function(){var x=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(x).then(s).then(function(u){var h=this.opt.jsPDF,p=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,b=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete b.onrendered,h.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,h.context2d.posX=this.opt.x,h.context2d.posY=this.opt.y,h.context2d.margin=this.opt.margin,h.context2d.fontFaces=p,p)for(var g=0;g<p.length;++g){var j=p[g],A=j.src.find(function(w){return w.format==="truetype"});A&&h.addFont(A.url,j.ref.name,j.ref.style)}return b.windowHeight=b.windowHeight||0,b.windowHeight=b.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):b.windowHeight,h.context2d.save(!0),u(this.prop.container,b)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},d.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var x=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=x})},d.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},d.prototype.output=function(x,u,h){return(h=h||"pdf").toLowerCase()==="img"||h.toLowerCase()==="image"?this.outputImg(x,u):this.outputPdf(x,u)},d.prototype.outputPdf=function(x,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(x,u)})},d.prototype.outputImg=function(x){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(x){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+x+'" is not supported.'}})},d.prototype.save=function(x){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(x?{filename:x}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},d.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},d.prototype.set=function(x){if(l(x)!=="object")return this;var u=Object.keys(x||{}).map(function(h){if(h in d.template.prop)return function(){this.prop[h]=x[h]};switch(h){case"margin":return this.setMargin.bind(this,x.margin);case"jsPDF":return function(){return this.opt.jsPDF=x.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,x.pageSize);default:return function(){this.opt[h]=x[h]}}},this);return this.then(function(){return this.thenList(u)})},d.prototype.get=function(x,u){return this.then(function(){var h=x in d.template.prop?this.prop[x]:this.opt[x];return u?u(h):h})},d.prototype.setMargin=function(x){return this.then(function(){switch(l(x)){case"number":x=[x,x,x,x];case"array":if(x.length===2&&(x=[x[0],x[1],x[0],x[1]]),x.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=x}).then(this.setPageSize)},d.prototype.setPageSize=function(x){function u(h,p){return Math.floor(h*p/72*96)}return this.then(function(){(x=x||bt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(x.inner={width:x.width-this.opt.margin[1]-this.opt.margin[3],height:x.height-this.opt.margin[0]-this.opt.margin[2]},x.inner.px={width:u(x.inner.width,x.k),height:u(x.inner.height,x.k)},x.inner.ratio=x.inner.height/x.inner.width),this.prop.pageSize=x})},d.prototype.setProgress=function(x,u,h,p){return x!=null&&(this.progress.val=x),u!=null&&(this.progress.state=u),h!=null&&(this.progress.n=h),p!=null&&(this.progress.stack=p),this.progress.ratio=this.progress.val/this.progress.state,this},d.prototype.updateProgress=function(x,u,h,p){return this.setProgress(x?this.progress.val+x:null,u||null,h?this.progress.n+h:null,p?this.progress.stack.concat(p):null)},d.prototype.then=function(x,u){var h=this;return this.thenCore(x,u,function(p,f){return h.updateProgress(null,null,1,[p]),Promise.prototype.then.call(this,function(b){return h.updateProgress(null,p),b}).then(p,f).then(function(b){return h.updateProgress(1),b})})},d.prototype.thenCore=function(x,u,h){h=h||Promise.prototype.then;var p=this;x&&(x=x.bind(p)),u&&(u=u.bind(p));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?p:d.convert(Object.assign({},p),Promise.prototype),b=h.call(f,x,u);return d.convert(b,p.__proto__)},d.prototype.thenExternal=function(x,u){return Promise.prototype.then.call(this,x,u)},d.prototype.thenList=function(x){var u=this;return x.forEach(function(h){u=u.thenCore(h)}),u},d.prototype.catch=function(x){x&&(x=x.bind(this));var u=Promise.prototype.catch.call(this,x);return d.convert(u,this)},d.prototype.catchExternal=function(x){return Promise.prototype.catch.call(this,x)},d.prototype.error=function(x){return this.then(function(){throw new Error(x)})},d.prototype.using=d.prototype.set,d.prototype.saveAs=d.prototype.save,d.prototype.export=d.prototype.output,d.prototype.run=d.prototype.then,bt.getPageSize=function(x,u,h){if(Ks(x)==="object"){var p=x;x=p.orientation,u=p.unit||u,h=p.format||h}u=u||"mm",h=h||"a4",x=(""+(x||"P")).toLowerCase();var f,b=(""+h).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+u}var j,A=0,w=0;if(g.hasOwnProperty(b))A=g[b][1]/f,w=g[b][0]/f;else try{A=h[1],w=h[0]}catch{throw new Error("Invalid format: "+h)}if(x==="p"||x==="portrait")x="p",w>A&&(j=w,w=A,A=j);else{if(x!=="l"&&x!=="landscape")throw"Invalid orientation: "+x;x="l",A>w&&(j=w,w=A,A=j)}return{width:w,height:A,unit:u,k:f,orientation:x}},t.html=function(x,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(ff):null;var h=new d(u);return u.worker?h:h.from(x).doCallback()}})(bt.API),bt.API.addJS=function(t){var s,a,l=(function(i){for(var o="",d=0;d<i.length;d++){var x=i[d];if(x==="("||x===")"){for(var u=0,h=d-1;h>=0&&i[h]==="\\";h--)u++;o+=u%2==0?"\\"+x:x}else o+=x}return o})(t);return this.internal.events.subscribe("postPutResources",function(){s=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(s+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),a=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+l+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){s!==void 0&&a!==void 0&&this.internal.out("/Names <</JavaScript "+s+" 0 R>>")}),this},(function(t){var s;t.events.push(["postPutResources",function(){var a=this,l=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=a.outline.render().split(/\r\n/),o=0;o<i.length;o++){var d=i[o],x=l.exec(d);if(x!=null){var u=x[1];a.internal.newObjectDeferredBegin(u,!1)}a.internal.write(d)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,p=[];for(o=0;o<h;o++){var f=a.internal.newObject();p.push(f);var b=a.internal.getPageInfo(o+1);a.internal.write("<< /D["+b.objId+" 0 R /XYZ null null null]>> endobj")}var g=a.internal.newObject();for(a.internal.write("<< /Names [ "),o=0;o<p.length;o++)a.internal.write("(page_"+(o+1)+")"+p[o]+" 0 R");a.internal.write(" ] >>","endobj"),s=a.internal.newObject(),a.internal.write("<< /Dests "+g+" 0 R"),a.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var a=this;a.outline.root.children.length>0&&(a.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&a.internal.write("/Names "+s+" 0 R"))}]),t.events.push(["initialized",function(){var a=this;a.outline={createNamedDestinations:!1,root:{children:[]}},a.outline.add=function(l,i,o){var d={title:i,options:o,children:[]};return l==null&&(l=this.root),l.children.push(d),d},a.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=a,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},a.outline.genIds_r=function(l){l.id=a.internal.newObjectDeferred();for(var i=0;i<l.children.length;i++)this.genIds_r(l.children[i])},a.outline.renderRoot=function(l){this.objStart(l),this.line("/Type /Outlines"),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1]))),this.line("/Count "+this.count_r({count:0},l)),this.objEnd()},a.outline.renderItems=function(l){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<l.children.length;o++){var d=l.children[o];this.objStart(d),this.line("/Title "+this.makeString(d.title)),this.line("/Parent "+this.makeRef(l)),o>0&&this.line("/Prev "+this.makeRef(l.children[o-1])),o<l.children.length-1&&this.line("/Next "+this.makeRef(l.children[o+1])),d.children.length>0&&(this.line("/First "+this.makeRef(d.children[0])),this.line("/Last "+this.makeRef(d.children[d.children.length-1])));var x=this.count=this.count_r({count:0},d);if(x>0&&this.line("/Count "+x),d.options&&d.options.pageNumber){var u=a.internal.getPageInfo(d.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var h=0;h<l.children.length;h++)this.renderItems(l.children[h])},a.outline.line=function(l){this.ctx.val+=l+`\r
`},a.outline.makeRef=function(l){return l.id+" 0 R"},a.outline.makeString=function(l){return"("+a.internal.pdfEscape(l)+")"},a.outline.objStart=function(l){this.ctx.val+=`\r
`+l.id+` 0 obj\r
<<\r
`},a.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},a.outline.count_r=function(l,i){for(var o=0;o<i.children.length;o++)l.count++,this.count_r(l,i.children[o]);return l.count}}])})(bt.API),(function(t){var s=[192,193,194,195,196,197,198,199];t.processJPEG=function(a,l,i,o,d,x){var u,h=this.decode.DCT_DECODE,p=null;if(typeof a=="string"||this.__addimage__.isArrayBuffer(a)||this.__addimage__.isArrayBufferView(a)){switch(a=d||a,a=this.__addimage__.isArrayBuffer(a)?new Uint8Array(a):a,u=(function(f){for(var b,g=256*f.charCodeAt(4)+f.charCodeAt(5),j=f.length,A={width:0,height:0,numcomponents:1},w=4;w<j;w+=2){if(w+=g,s.indexOf(f.charCodeAt(w+1))!==-1){b=256*f.charCodeAt(w+5)+f.charCodeAt(w+6),A={width:256*f.charCodeAt(w+7)+f.charCodeAt(w+8),height:b,numcomponents:f.charCodeAt(w+9)};break}g=256*f.charCodeAt(w+2)+f.charCodeAt(w+3)}return A})(a=this.__addimage__.isArrayBufferView(a)?this.__addimage__.arrayBufferToBinaryString(a):a),u.numcomponents){case 1:x=this.color_spaces.DEVICE_GRAY;break;case 4:x=this.color_spaces.DEVICE_CMYK;break;case 3:x=this.color_spaces.DEVICE_RGB}p={data:a,width:u.width,height:u.height,colorSpace:x,bitsPerComponent:8,filter:h,index:l,alias:i}}return p}})(bt.API),bt.API.processPNG=function(t,s,a,l){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,o=tT(t,{checkCrc:!0}),d=o.width,x=o.height,u=o.channels,h=o.palette,p=o.depth;i=h&&u===1?(function(R){for(var B=R.width,T=R.height,q=R.data,H=R.palette,G=R.depth,W=!1,le=[],V=[],ne=void 0,I=!1,oe=0,Ne=0;Ne<H.length;Ne++){var Y=Cy(H[Ne],4),$=Y[0],Q=Y[1],ae=Y[2],ue=Y[3];le.push($,Q,ae),ue!=null&&(ue===0?(oe++,V.length<1&&V.push(Ne)):ue<255&&(I=!0))}if(I||oe>1){W=!0,V=void 0;var me=B*T;ne=new Uint8Array(me);for(var be=new DataView(q.buffer),he=0;he<me;he++){var we=bf(be,he,G),_e=Cy(H[we],4)[3];ne[he]=_e}}else oe===0&&(V=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:W?8:void 0,colorBytes:q,alphaBytes:ne,needSMask:W,palette:le,mask:V}})(o):u===2||u===4?(function(R){for(var B=R.data,T=R.width,q=R.height,H=R.channels,G=R.depth,W=H===2?"DeviceGray":"DeviceRGB",le=H-1,V=T*q,ne=le,I=V*ne,oe=1*V,Ne=Math.ceil(I*G/8),Y=Math.ceil(oe*G/8),$=new Uint8Array(Ne),Q=new Uint8Array(Y),ae=new DataView(B.buffer),ue=new DataView($.buffer),me=new DataView(Q.buffer),be=!1,he=0;he<V;he++){for(var we=he*H,_e=0;_e<ne;_e++)M2(ue,bf(ae,we+_e,G),he*ne+_e,G);var $e=bf(ae,we+ne,G);$e<(1<<G)-1&&(be=!0),M2(me,$e,1*he,G)}return{colorSpace:W,colorsPerPixel:le,sMaskBitsPerComponent:be?G:void 0,colorBytes:$,alphaBytes:Q,needSMask:be}})(o):(function(R){var B=R.data,T=R.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:T,colorsPerPixel:T==="DeviceGray"?1:3,colorBytes:B instanceof Uint16Array?(function(q){for(var H=q.length,G=new Uint8Array(2*H),W=new DataView(G.buffer,G.byteOffset,G.byteLength),le=0;le<H;le++)W.setUint16(2*le,q[le],!1);return G})(B):B,needSMask:!1}})(o);var f,b,g,j=i,A=j.colorSpace,w=j.colorsPerPixel,k=j.sMaskBitsPerComponent,C=j.colorBytes,L=j.alphaBytes,N=j.needSMask,P=j.palette,_=j.mask,F=null;return l!==bt.API.image_compression.NONE&&typeof Hf=="function"?(F=(function(R){var B;switch(R){case bt.API.image_compression.FAST:B=11;break;case bt.API.image_compression.MEDIUM:B=13;break;case bt.API.image_compression.SLOW:B=14;break;default:B=12}return B})(l),f=this.decode.FLATE_DECODE,b="/Predictor ".concat(F," /Colors ").concat(w," /BitsPerComponent ").concat(p," /Columns ").concat(d),t=k2(C,Math.ceil(d*w*p/8),w,p,l),N&&(g=k2(L,Math.ceil(d*k/8),1,k,l))):(f=void 0,b=void 0,t=C,N&&(g=L)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(g&&this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),{alias:a,data:t,index:s,filter:f,decodeParameters:b,transparency:_,palette:P,sMask:g,predictor:F,width:d,height:x,bitsPerComponent:p,sMaskBitsPerComponent:k,colorSpace:A}}},(function(t){t.processGIF89A=function(s,a,l,i){var o=new wT(s),d=o.width,x=o.height,u=[];o.decodeAndBlitFrameRGBA(0,u);var h={data:u,width:d,height:x},p=new vf(100).encode(h,100);return t.processJPEG.call(this,p,a,l,i)},t.processGIF87A=t.processGIF89A})(bt.API),Ci.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var s=0;s<t;s++){var a=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[s]={red:i,green:l,blue:a,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ci.prototype.parseBGR=function(){this.pos=this.offset;var t="bit"+this.bitPP,s=this.width*this.height*4;if(s>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(s);try{this[t]()}catch(a){da.log("bit decode error:"+a)}},Ci.prototype.bit1=function(){var t,s=Math.ceil(this.width/8),a=s%4;for(t=this.height-1;t>=0;t--){for(var l=this.bottom_up?t:this.height-1-t,i=0;i<s;i++)for(var o=this.datav.getUint8(this.pos++,!0),d=l*this.width*4+8*i*4,x=0;x<8&&8*i+x<this.width;x++){var u=this.palette[o>>7-x&1];this.data[d+4*x]=u.blue,this.data[d+4*x+1]=u.green,this.data[d+4*x+2]=u.red,this.data[d+4*x+3]=255}a!==0&&(this.pos+=4-a)}},Ci.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),s=t%4,a=this.height-1;a>=0;a--){for(var l=this.bottom_up?a:this.height-1-a,i=0;i<t;i++){var o=this.datav.getUint8(this.pos++,!0),d=l*this.width*4+2*i*4,x=o>>4,u=15&o,h=this.palette[x];if(this.data[d]=h.blue,this.data[d+1]=h.green,this.data[d+2]=h.red,this.data[d+3]=255,2*i+1>=this.width)break;h=this.palette[u],this.data[d+4]=h.blue,this.data[d+4+1]=h.green,this.data[d+4+2]=h.red,this.data[d+4+3]=255}s!==0&&(this.pos+=4-s)}},Ci.prototype.bit8=function(){for(var t=this.width%4,s=this.height-1;s>=0;s--){for(var a=this.bottom_up?s:this.height-1-s,l=0;l<this.width;l++){var i=this.datav.getUint8(this.pos++,!0),o=a*this.width*4+4*l;if(i<this.palette.length){var d=this.palette[i];this.data[o]=d.red,this.data[o+1]=d.green,this.data[o+2]=d.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}t!==0&&(this.pos+=4-t)}},Ci.prototype.bit15=function(){for(var t=this.width%3,s=parseInt("11111",2),a=this.height-1;a>=0;a--){for(var l=this.bottom_up?a:this.height-1-a,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var d=(o&s)/s*255|0,x=(o>>5&s)/s*255|0,u=(o>>10&s)/s*255|0,h=o>>15?255:0,p=l*this.width*4+4*i;this.data[p]=u,this.data[p+1]=x,this.data[p+2]=d,this.data[p+3]=h}this.pos+=t}},Ci.prototype.bit16=function(){for(var t=this.width%3,s=parseInt("11111",2),a=parseInt("111111",2),l=this.height-1;l>=0;l--){for(var i=this.bottom_up?l:this.height-1-l,o=0;o<this.width;o++){var d=this.datav.getUint16(this.pos,!0);this.pos+=2;var x=(d&s)/s*255|0,u=(d>>5&a)/a*255|0,h=(d>>11)/s*255|0,p=i*this.width*4+4*o;this.data[p]=h,this.data[p+1]=u,this.data[p+2]=x,this.data[p+3]=255}this.pos+=t}},Ci.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var s=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var l=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),d=s*this.width*4+4*a;this.data[d]=o,this.data[d+1]=i,this.data[d+2]=l,this.data[d+3]=255}this.pos+=this.width%4}},Ci.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var s=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var l=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),d=this.datav.getUint8(this.pos++,!0),x=s*this.width*4+4*a;this.data[x]=o,this.data[x+1]=i,this.data[x+2]=l,this.data[x+3]=d}},Ci.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(s,a,l,i){var o=new Ci(s,!1),d=o.width,x=o.height,u={data:o.getData(),width:d,height:x},h=new vf(100).encode(u,100);return t.processJPEG.call(this,h,a,l,i)}})(bt.API),z2.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(s,a,l,i){var o=new z2(s),d=o.width,x=o.height,u={data:o.getData(),width:d,height:x},h=new vf(100).encode(u,100);return t.processJPEG.call(this,h,a,l,i)}})(bt.API),bt.API.processRGBA=function(t,s,a){for(var l=t.data,i=l.length,o=new Uint8Array(i/4*3),d=new Uint8Array(i/4),x=0,u=0,h=0;h<i;h+=4){var p=l[h],f=l[h+1],b=l[h+2],g=l[h+3];o[x++]=p,o[x++]=f,o[x++]=b,d[u++]=g}var j=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(d),data:j,index:s,alias:a,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},bt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},T0=bt.API,vh=T0.getCharWidthsArray=function(t,s){var a,l,i=(s=s||{}).font||this.internal.getFont(),o=s.fontSize||this.internal.getFontSize(),d=s.charSpace||this.internal.getCharSpace(),x=s.widths?s.widths:i.metadata.Unicode.widths,u=x.fof?x.fof:1,h=s.kerning?s.kerning:i.metadata.Unicode.kerning,p=h.fof?h.fof:1,f=s.doKerning!==!1,b=0,g=t.length,j=0,A=x[0]||u,w=[];for(a=0;a<g;a++)l=t.charCodeAt(a),typeof i.metadata.widthOfString=="function"?w.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(l))+d*(1e3/o)||0)/1e3):(b=f&&Ks(h[l])==="object"&&!isNaN(parseInt(h[l][j],10))?h[l][j]/p:0,w.push((x[l]||A)/u+b)),j=l;return w},j2=T0.getStringUnitWidth=function(t,s){var a=(s=s||{}).fontSize||this.internal.getFontSize(),l=s.font||this.internal.getFont(),i=s.charSpace||this.internal.getCharSpace();return T0.processArabic&&(t=T0.processArabic(t)),typeof l.metadata.widthOfString=="function"?l.metadata.widthOfString(t,a,i)/a:vh.apply(this,arguments).reduce(function(o,d){return o+d},0)},w2=function(t,s,a,l){for(var i=[],o=0,d=t.length,x=0;o!==d&&x+s[o]<a;)x+=s[o],o++;i.push(t.slice(0,o));var u=o;for(x=0;o!==d;)x+s[o]>l&&(i.push(t.slice(u,o)),x=0,u=o),x+=s[o],o++;return u!==o&&i.push(t.slice(u,o)),i},N2=function(t,s,a){a||(a={});var l,i,o,d,x,u,h,p=[],f=[p],b=a.textIndent||0,g=0,j=0,A=t.split(" "),w=vh.apply(this,[" ",a])[0];if(u=a.lineIndent===-1?A[0].length+2:a.lineIndent||0){var k=Array(u).join(" "),C=[];A.map(function(N){(N=N.split(/\s*\n/)).length>1?C=C.concat(N.map(function(P,_){return(_&&P.length?`
`:"")+P})):C.push(N[0])}),A=C,u=j2.apply(this,[k,a])}for(o=0,d=A.length;o<d;o++){var L=0;if(l=A[o],u&&l[0]==`
`&&(l=l.substr(1),L=1),b+g+(j=(i=vh.apply(this,[l,a])).reduce(function(N,P){return N+P},0))>s||L){if(j>s){for(x=w2.apply(this,[l,i,s-(b+g),s]),p.push(x.shift()),p=[x.pop()];x.length;)f.push([x.shift()]);j=i.slice(l.length-(p[0]?p[0].length:0)).reduce(function(N,P){return N+P},0)}else p=[l];f.push(p),b=j+u,g=w}else p.push(l),b+=g+j,g=w}return h=u?function(N,P){return(P?k:"")+N.join(" ")}:function(N){return N.join(" ")},f.map(h)},T0.splitTextToSize=function(t,s,a){var l,i=(a=a||{}).fontSize||this.internal.getFontSize(),o=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var f=this.internal.getFont(p.fontName,p.fontStyle),b="Unicode";return f.metadata[b]?{widths:f.metadata[b].widths||{0:1},kerning:f.metadata[b].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,a);l=Array.isArray(t)?t:String(t).split(/\r?\n/);var d=1*this.internal.scaleFactor*s/i;o.textIndent=a.textIndent?1*a.textIndent*this.internal.scaleFactor/i:0,o.lineIndent=a.lineIndent;var x,u,h=[];for(x=0,u=l.length;x<u;x++)h=h.concat(N2.apply(this,[l[x],d,o]));return h},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var s="0123456789abcdef",a="klmnopqrstuvwxyz",l={},i={},o=0;o<16;o++)l[a[o]]=s[o],i[s[o]]=a[o];var d=function(b){return"0x"+parseInt(b,10).toString(16)},x=t.__fontmetrics__.compress=function(b){var g,j,A,w,k=["{"];for(var C in b){if(g=b[C],isNaN(parseInt(C,10))?j="'"+C+"'":(C=parseInt(C,10),j=(j=d(C).slice(2)).slice(0,-1)+i[j.slice(-1)]),typeof g=="number")g<0?(A=d(g).slice(3),w="-"):(A=d(g).slice(2),w=""),A=w+A.slice(0,-1)+i[A.slice(-1)];else{if(Ks(g)!=="object")throw new Error("Don't know what to do with value type "+Ks(g)+".");A=x(g)}k.push(j+A)}return k.push("}"),k.join("")},u=t.__fontmetrics__.uncompress=function(b){if(typeof b!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,j,A,w,k={},C=1,L=k,N=[],P="",_="",F=b.length-1,R=1;R<F;R+=1)(w=b[R])=="'"?g?(A=g.join(""),g=void 0):g=[]:g?g.push(w):w=="{"?(N.push([L,A]),L={},A=void 0):w=="}"?((j=N.pop())[0][j[1]]=L,A=void 0,L=j[0]):w=="-"?C=-1:A===void 0?l.hasOwnProperty(w)?(P+=l[w],A=parseInt(P,16)*C,C=1,P=""):P+=w:l.hasOwnProperty(w)?(_+=l[w],L[A]=parseInt(_,16)*C,C=1,A=void 0,_=""):_+=w;return k},h={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},p={Unicode:{Courier:h,"Courier-Bold":h,"Courier-BoldOblique":h,"Courier-Oblique":h,Helvetica:h,"Helvetica-Bold":h,"Helvetica-BoldOblique":h,"Helvetica-Oblique":h,"Times-Roman":h,"Times-Bold":h,"Times-BoldItalic":h,"Times-Italic":h}},f={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(b){var g=b.font,j=f.Unicode[g.postScriptName];j&&(g.metadata.Unicode={},g.metadata.Unicode.widths=j.widths,g.metadata.Unicode.kerning=j.kerning);var A=p.Unicode[g.postScriptName];A&&(g.metadata.Unicode.encoding=A,g.encoding=A.codePages[0])}])})(bt.API),(function(t){var s=function(a){for(var l=a.length,i=new Uint8Array(l),o=0;o<l;o++)i[o]=a.charCodeAt(o);return i};t.API.events.push(["addFont",function(a){var l=void 0,i=a.font,o=a.instance;if(!i.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(l=o.existsFileInVFS(i.postScriptName)===!1?o.loadFile(i.postScriptName):o.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(d,x){x=/^\x00\x01\x00\x00/.test(x)?s(x):s(_h(x)),d.metadata=t.API.TTFFont.open(x),d.metadata.Unicode=d.metadata.Unicode||{encoding:{},kerning:{},widths:[]},d.metadata.glyIdsUsed=[0]})(i,l)}}])})(bt),bt.API.addSvgAsImage=function(t,s,a,l,i,o,d,x){if(isNaN(s)||isNaN(a))throw da.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(l)||isNaN(i))throw da.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=l,u.height=i;var h=u.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,u.width,u.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(Yt.canvg?Promise.resolve(Yt.canvg):Eh(()=>import("./index.es-TA9WuDkt.js"),[])).catch(function(b){return Promise.reject(new Error("Could not load canvg: "+b))}).then(function(b){return b.default?b.default:b}).then(function(b){return b.fromString(h,t,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(b){return b.render(p)}).then(function(){f.addImage(u.toDataURL("image/jpeg",1),s,a,l,i,d,x)})},bt.API.putTotalPages=function(t){var s,a=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(s=new RegExp(t,"g"),a=this.internal.getNumberOfPages()):(s=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),a=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var l=1;l<=this.internal.getNumberOfPages();l++)for(var i=0;i<this.internal.pages[l].length;i++)this.internal.pages[l][i]=this.internal.pages[l][i].replace(s,a);return this},bt.API.viewerPreferences=function(t,s){var a;t=t||{},s=s||!1;var l,i,o,d={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},x=Object.keys(d),u=[],h=0,p=0,f=0;function b(j,A){var w,k=!1;for(w=0;w<j.length;w+=1)j[w]===A&&(k=!0);return k}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(d)),this.internal.viewerpreferences.isSubscribed=!1),a=this.internal.viewerpreferences.configuration,t==="reset"||s===!0){var g=x.length;for(f=0;f<g;f+=1)a[x[f]].value=a[x[f]].defaultValue,a[x[f]].explicitSet=!1}if(Ks(t)==="object"){for(i in t)if(o=t[i],b(x,i)&&o!==void 0){if(a[i].type==="boolean"&&typeof o=="boolean")a[i].value=o;else if(a[i].type==="name"&&b(a[i].valueSet,o))a[i].value=o;else if(a[i].type==="integer"&&Number.isInteger(o))a[i].value=o;else if(a[i].type==="array"){for(h=0;h<o.length;h+=1)if(l=!0,o[h].length===1&&typeof o[h][0]=="number")u.push(String(o[h]-1));else if(o[h].length>1){for(p=0;p<o[h].length;p+=1)typeof o[h][p]!="number"&&(l=!1);l===!0&&u.push([o[h][0]-1,o[h][1]-1].join(" "))}a[i].value="["+u.join(" ")+"]"}else a[i].value=a[i].defaultValue;a[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var j,A=[];for(j in a)a[j].explicitSet===!0&&(a[j].type==="name"?A.push("/"+j+" /"+a[j].value):A.push("/"+j+" "+a[j].value));A.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+A.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=a,this},bt.API.addMetadata=function(t,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:t,namespaceUri:s??"http://jspdf.default.namespaceuri/",rawXml:typeof s=="boolean"&&s},this.internal.events.subscribe("putCatalog",kT),this.internal.events.subscribe("postPutResources",NT)),this},(function(t){var s=t.API,a=s.pdfEscape16=function(o,d){for(var x,u=d.metadata.Unicode.widths,h=["","0","00","000","0000"],p=[""],f=0,b=o.length;f<b;++f){if(x=d.metadata.characterToGlyph(o.charCodeAt(f)),d.metadata.glyIdsUsed.push(x),d.metadata.toUnicode[x]=o.charCodeAt(f),u.indexOf(x)==-1&&(u.push(x),u.push([parseInt(d.metadata.widthOfGlyph(x),10)])),x=="0")return p.join("");x=x.toString(16),p.push(h[4-x.length],x)}return p.join("")},l=function(o){var d,x,u,h,p,f,b;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],f=0,b=(x=Object.keys(o).sort(function(g,j){return g-j})).length;f<b;f++)d=x[f],u.length>=100&&(p+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),o[d]!==void 0&&o[d]!==null&&typeof o[d].toString=="function"&&(h=("0000"+o[d].toString(16)).slice(-4),d=("0000"+(+d).toString(16)).slice(-4),u.push("<"+d+"><"+h+">"));return u.length&&(p+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),p+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};s.events.push(["putFont",function(o){(function(d){var x=d.font,u=d.out,h=d.newObject,p=d.putStream;if(x.metadata instanceof t.API.TTFFont&&x.encoding==="Identity-H"){for(var f=x.metadata.Unicode.widths,b=x.metadata.subset.encode(x.metadata.glyIdsUsed,1),g="",j=0;j<b.length;j++)g+=String.fromCharCode(b[j]);var A=h();p({data:g,addLength1:!0,objectId:A}),u("endobj");var w=h();p({data:l(x.metadata.toUnicode),addLength1:!0,objectId:w}),u("endobj");var k=h();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+P0(x.fontName)),u("/FontFile2 "+A+" 0 R"),u("/FontBBox "+t.API.PDFObject.convert(x.metadata.bbox)),u("/Flags "+x.metadata.flags),u("/StemV "+x.metadata.stemV),u("/ItalicAngle "+x.metadata.italicAngle),u("/Ascent "+x.metadata.ascender),u("/Descent "+x.metadata.decender),u("/CapHeight "+x.metadata.capHeight),u(">>"),u("endobj");var C=h();u("<<"),u("/Type /Font"),u("/BaseFont /"+P0(x.fontName)),u("/FontDescriptor "+k+" 0 R"),u("/W "+t.API.PDFObject.convert(f)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+x.encoding+")"),u(">>"),u(">>"),u("endobj"),x.objectNumber=h(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+w+" 0 R"),u("/BaseFont /"+P0(x.fontName)),u("/Encoding /"+x.encoding),u("/DescendantFonts ["+C+" 0 R]"),u(">>"),u("endobj"),x.isAlreadyPutted=!0}})(o)}]),s.events.push(["putFont",function(o){(function(d){var x=d.font,u=d.out,h=d.newObject,p=d.putStream;if(x.metadata instanceof t.API.TTFFont&&x.encoding==="WinAnsiEncoding"){for(var f=x.metadata.rawData,b="",g=0;g<f.length;g++)b+=String.fromCharCode(f[g]);var j=h();p({data:b,addLength1:!0,objectId:j}),u("endobj");var A=h();p({data:l(x.metadata.toUnicode),addLength1:!0,objectId:A}),u("endobj");var w=h();u("<<"),u("/Descent "+x.metadata.decender),u("/CapHeight "+x.metadata.capHeight),u("/StemV "+x.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+j+" 0 R"),u("/Flags 96"),u("/FontBBox "+t.API.PDFObject.convert(x.metadata.bbox)),u("/FontName /"+P0(x.fontName)),u("/ItalicAngle "+x.metadata.italicAngle),u("/Ascent "+x.metadata.ascender),u(">>"),u("endobj"),x.objectNumber=h();for(var k=0;k<x.metadata.hmtx.widths.length;k++)x.metadata.hmtx.widths[k]=parseInt(x.metadata.hmtx.widths[k]*(1e3/x.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+A+" 0 R/BaseFont/"+P0(x.fontName)+"/FontDescriptor "+w+" 0 R/Encoding/"+x.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(x.metadata.hmtx.widths)+">>"),u("endobj"),x.isAlreadyPutted=!0}})(o)}]);var i=function(o){var d,x=o.text||"",u=o.x,h=o.y,p=o.options||{},f=o.mutex||{},b=f.pdfEscape,g=f.activeFontKey,j=f.fonts,A=g,w="",k=0,C="",L=j[A].encoding;if(j[A].encoding!=="Identity-H")return{text:x,x:u,y:h,options:p,mutex:f};for(C=x,A=g,Array.isArray(x)&&(C=x[0]),k=0;k<C.length;k+=1)j[A].metadata.hasOwnProperty("cmap")&&(d=j[A].metadata.cmap.unicode.codeMap[C[k].charCodeAt(0)]),d||C[k].charCodeAt(0)<256&&j[A].metadata.hasOwnProperty("Unicode")?w+=C[k]:w+="";var N="";return parseInt(A.slice(1))<14||L==="WinAnsiEncoding"?N=b(w,A).split("").map(function(P){return P.charCodeAt(0).toString(16)}).join(""):L==="Identity-H"&&(N=a(w,j[A])),f.isHex=!0,{text:N,x:u,y:h,options:p,mutex:f}};s.events.push(["postProcessText",function(o){var d=o.text||"",x=[],u={text:d,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(d)){var h=0;for(h=0;h<d.length;h+=1)Array.isArray(d[h])&&d[h].length===3?x.push([i(Object.assign({},u,{text:d[h][0]})).text,d[h][1],d[h][2]]):x.push(i(Object.assign({},u,{text:d[h]})).text);o.text=x}else o.text=i(Object.assign({},u,{text:d})).text}])})(bt),(function(t){var s=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(a){return s.call(this),this.internal.vFS[a]!==void 0},t.addFileToVFS=function(a,l){return s.call(this),this.internal.vFS[a]=l,this},t.getFileFromVFS=function(a){return s.call(this),this.internal.vFS[a]!==void 0?this.internal.vFS[a]:null}})(bt.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(l){var i,o,d,x,u,h,p,f=s,b=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],j={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},A={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},w=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],k=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),C=!1,L=0;this.__bidiEngine__={};var N=function(q){var H=q.charCodeAt(),G=H>>8,W=A[G];return W!==void 0?f[256*W+(255&H)]:G===252||G===253?"AL":k.test(G)?"L":G===8?"R":"N"},P=function(q){for(var H,G=0;G<q.length;G++){if((H=N(q.charAt(G)))==="L")return!1;if(H==="R")return!0}return!1},_=function(q,H,G,W){var le,V,ne,I,oe=H[W];switch(oe){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":C=!1;break;case"N":case"AN":break;case"EN":C&&(oe="AN");break;case"AL":C=!0,oe="R";break;case"WS":case"BN":oe="N";break;case"CS":W<1||W+1>=H.length||(le=G[W-1])!=="EN"&&le!=="AN"||(V=H[W+1])!=="EN"&&V!=="AN"?oe="N":C&&(V="AN"),oe=V===le?V:"N";break;case"ES":oe=(le=W>0?G[W-1]:"B")==="EN"&&W+1<H.length&&H[W+1]==="EN"?"EN":"N";break;case"ET":if(W>0&&G[W-1]==="EN"){oe="EN";break}if(C){oe="N";break}for(ne=W+1,I=H.length;ne<I&&H[ne]==="ET";)ne++;oe=ne<I&&H[ne]==="EN"?"EN":"N";break;case"NSM":if(d&&!x){for(I=H.length,ne=W+1;ne<I&&H[ne]==="NSM";)ne++;if(ne<I){var Ne=q[W],Y=Ne>=1425&&Ne<=2303||Ne===64286;if(le=H[ne],Y&&(le==="R"||le==="AL")){oe="R";break}}}oe=W<1||(le=H[W-1])==="B"?"N":G[W-1];break;case"B":C=!1,i=!0,oe=L;break;case"S":o=!0,oe="N"}return oe},F=function(q,H,G){var W=q.split("");return G&&R(W,G,{hiLevel:L}),W.reverse(),H&&H.reverse(),W.join("")},R=function(q,H,G){var W,le,V,ne,I,oe=-1,Ne=q.length,Y=0,$=[],Q=L?g:b,ae=[];for(C=!1,i=!1,o=!1,le=0;le<Ne;le++)ae[le]=N(q[le]);for(V=0;V<Ne;V++){if(I=Y,$[V]=_(q,ae,$,V),W=240&(Y=Q[I][j[$[V]]]),Y&=15,H[V]=ne=Q[Y][5],W>0)if(W===16){for(le=oe;le<V;le++)H[le]=1;oe=-1}else oe=-1;if(Q[Y][6])oe===-1&&(oe=V);else if(oe>-1){for(le=oe;le<V;le++)H[le]=ne;oe=-1}ae[V]==="B"&&(H[V]=0),G.hiLevel|=ne}o&&(function(ue,me,be){for(var he=0;he<be;he++)if(ue[he]==="S"){me[he]=L;for(var we=he-1;we>=0&&ue[we]==="WS";we--)me[we]=L}})(ae,H,Ne)},B=function(q,H,G,W,le){if(!(le.hiLevel<q)){if(q===1&&L===1&&!i)return H.reverse(),void(G&&G.reverse());for(var V,ne,I,oe,Ne=H.length,Y=0;Y<Ne;){if(W[Y]>=q){for(I=Y+1;I<Ne&&W[I]>=q;)I++;for(oe=Y,ne=I-1;oe<ne;oe++,ne--)V=H[oe],H[oe]=H[ne],H[ne]=V,G&&(V=G[oe],G[oe]=G[ne],G[ne]=V);Y=I}Y++}}},T=function(q,H,G){var W=q.split(""),le={hiLevel:L};return G||(G=[]),R(W,G,le),(function(V,ne,I){if(I.hiLevel!==0&&p)for(var oe,Ne=0;Ne<V.length;Ne++)ne[Ne]===1&&(oe=w.indexOf(V[Ne]))>=0&&(V[Ne]=w[oe+1])})(W,G,le),B(2,W,H,G,le),B(1,W,H,G,le),W.join("")};return this.__bidiEngine__.doBidiReorder=function(q,H,G){if((function(le,V){if(V)for(var ne=0;ne<le.length;ne++)V[ne]=ne;x===void 0&&(x=P(le)),h===void 0&&(h=P(le))})(q,H),d||!u||h)if(d&&u&&x^h)L=x?1:0,q=F(q,H,G);else if(!d&&u&&h)L=x?1:0,q=T(q,H,G),q=F(q,H);else if(!d||x||u||h){if(d&&!u&&x^h)q=F(q,H),x?(L=0,q=T(q,H,G)):(L=1,q=T(q,H,G),q=F(q,H));else if(d&&x&&!u&&h)L=1,q=T(q,H,G),q=F(q,H);else if(!d&&!u&&x^h){var W=p;x?(L=1,q=T(q,H,G),L=0,p=!1,q=T(q,H,G),p=W):(L=0,q=T(q,H,G),q=F(q,H),L=1,p=!1,q=T(q,H,G),p=W,q=F(q,H))}}else L=0,q=T(q,H,G);else L=x?1:0,q=T(q,H,G);return q},this.__bidiEngine__.setOptions=function(q){q&&(d=q.isInputVisual,u=q.isOutputVisual,x=q.isInputRtl,h=q.isOutputRtl,p=q.isSymmetricSwapping)},this.__bidiEngine__.setOptions(l),this.__bidiEngine__};var s=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],a=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(l){var i=l.text;l.x,l.y;var o=l.options||{};l.mutex,o.lang;var d=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,a.setOptions(o),Object.prototype.toString.call(i)==="[object Array]"){var x=0;for(d=[],x=0;x<i.length;x+=1)Object.prototype.toString.call(i[x])==="[object Array]"?d.push([a.doBidiReorder(i[x][0]),i[x][1],i[x][2]]):d.push([a.doBidiReorder(i[x])]);l.text=d}else l.text=a.doBidiReorder(i);a.setOptions({isInputVisual:!0})}])})(bt),bt.API.TTFFont=(function(){function t(s){var a;if(this.rawData=s,a=this.contents=new Rc(s),this.contents.pos=4,a.readString(4)==="ttcf")throw new Error("TTCF not supported.");a.pos=0,this.parse(),this.subset=new IT(this),this.registerTTF()}return t.open=function(s){return new t(s)},t.prototype.parse=function(){return this.directory=new ST(this.contents),this.head=new AT(this),this.name=new ET(this),this.cmap=new BN(this),this.toUnicode={},this.hhea=new DT(this),this.maxp=new TT(this),this.hmtx=new _T(this),this.post=new LT(this),this.os2=new MT(this),this.loca=new FT(this),this.glyf=new PT(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var s,a,l,i,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var d,x,u,h;for(h=[],d=0,x=(u=this.bbox).length;d<x;d++)s=u[d],h.push(Math.round(s*this.scaleFactor));return h}).call(this),this.stemV=0,this.post.exists?(l=255&(i=this.post.italic_angle),32768&(a=i>>16)&&(a=-(1+(65535^a))),this.italicAngle=+(a+"."+l)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(s){var a;return((a=this.cmap.unicode)!=null?a.codeMap[s]:void 0)||0},t.prototype.widthOfGlyph=function(s){var a;return a=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(s).advance*a},t.prototype.widthOfString=function(s,a,l){var i,o,d,x;for(d=0,o=0,x=(s=""+s).length;0<=x?o<x:o>x;o=0<=x?++o:--o)i=s.charCodeAt(o),d+=this.widthOfGlyph(this.characterToGlyph(i))+l*(1e3/a)||0;return d*(a/1e3)},t.prototype.lineHeight=function(s,a){var l;return a==null&&(a=!1),l=a?this.lineGap:0,(this.ascender+l-this.decender)/1e3*s},t})();var Ti,Rc=(function(){function t(s){this.data=s??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(s){return this.data[this.pos++]=s},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(s){return this.writeByte(s>>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s)},t.prototype.readInt32=function(){var s;return(s=this.readUInt32())>=2147483648?s-4294967296:s},t.prototype.writeInt32=function(s){return s<0&&(s+=4294967296),this.writeUInt32(s)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(s){return this.writeByte(s>>8&255),this.writeByte(255&s)},t.prototype.readInt16=function(){var s;return(s=this.readUInt16())>=32768?s-65536:s},t.prototype.writeInt16=function(s){return s<0&&(s+=65536),this.writeUInt16(s)},t.prototype.readString=function(s){var a,l;for(l=[],a=0;0<=s?a<s:a>s;a=0<=s?++a:--a)l[a]=String.fromCharCode(this.readByte());return l.join("")},t.prototype.writeString=function(s){var a,l,i;for(i=[],a=0,l=s.length;0<=l?a<l:a>l;a=0<=l?++a:--a)i.push(this.writeByte(s.charCodeAt(a)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(s){return this.writeInt16(s)},t.prototype.readLongLong=function(){var s,a,l,i,o,d,x,u;return s=this.readByte(),a=this.readByte(),l=this.readByte(),i=this.readByte(),o=this.readByte(),d=this.readByte(),x=this.readByte(),u=this.readByte(),128&s?-1*(72057594037927940*(255^s)+281474976710656*(255^a)+1099511627776*(255^l)+4294967296*(255^i)+16777216*(255^o)+65536*(255^d)+256*(255^x)+(255^u)+1):72057594037927940*s+281474976710656*a+1099511627776*l+4294967296*i+16777216*o+65536*d+256*x+u},t.prototype.writeLongLong=function(s){var a,l;return a=Math.floor(s/4294967296),l=4294967295&s,this.writeByte(a>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a),this.writeByte(l>>24&255),this.writeByte(l>>16&255),this.writeByte(l>>8&255),this.writeByte(255&l)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(s){return this.writeInt32(s)},t.prototype.read=function(s){var a,l;for(a=[],l=0;0<=s?l<s:l>s;l=0<=s?++l:--l)a.push(this.readByte());return a},t.prototype.write=function(s){var a,l,i,o;for(o=[],l=0,i=s.length;l<i;l++)a=s[l],o.push(this.writeByte(a));return o},t})(),ST=(function(){var t;function s(a){var l,i,o;for(this.scalarType=a.readInt(),this.tableCount=a.readShort(),this.searchRange=a.readShort(),this.entrySelector=a.readShort(),this.rangeShift=a.readShort(),this.tables={},i=0,o=this.tableCount;0<=o?i<o:i>o;i=0<=o?++i:--i)l={tag:a.readString(4),checksum:a.readInt(),offset:a.readInt(),length:a.readInt()},this.tables[l.tag]=l}return s.prototype.encode=function(a){var l,i,o,d,x,u,h,p,f,b,g,j,A;for(A in g=Object.keys(a).length,u=Math.log(2),f=16*Math.floor(Math.log(g)/u),d=Math.floor(f/u),p=16*g-f,(i=new Rc).writeInt(this.scalarType),i.writeShort(g),i.writeShort(f),i.writeShort(d),i.writeShort(p),o=16*g,h=i.pos+o,x=null,j=[],a)for(b=a[A],i.writeString(A),i.writeInt(t(b)),i.writeInt(h),i.writeInt(b.length),j=j.concat(b),A==="head"&&(x=h),h+=b.length;h%4;)j.push(0),h++;return i.write(j),l=2981146554-t(i.data),i.pos=x+8,i.writeUInt32(l),i.data},t=function(a){var l,i,o,d;for(a=UN.call(a);a.length%4;)a.push(0);for(o=new Rc(a),i=0,l=0,d=a.length;l<d;l=l+=4)i+=o.readUInt32();return 4294967295&i},s})(),CT={}.hasOwnProperty,ro=function(t,s){for(var a in s)CT.call(s,a)&&(t[a]=s[a]);function l(){this.constructor=t}return l.prototype=s.prototype,t.prototype=new l,t.__super__=s.prototype,t};Ti=(function(){function t(s){var a;this.file=s,a=this.file.directory.tables[this.tag],this.exists=!!a,a&&(this.offset=a.offset,this.length=a.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var AT=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ro(t,Ti),t.prototype.tag="head",t.prototype.parse=function(s){return s.pos=this.offset,this.version=s.readInt(),this.revision=s.readInt(),this.checkSumAdjustment=s.readInt(),this.magicNumber=s.readInt(),this.flags=s.readShort(),this.unitsPerEm=s.readShort(),this.created=s.readLongLong(),this.modified=s.readLongLong(),this.xMin=s.readShort(),this.yMin=s.readShort(),this.xMax=s.readShort(),this.yMax=s.readShort(),this.macStyle=s.readShort(),this.lowestRecPPEM=s.readShort(),this.fontDirectionHint=s.readShort(),this.indexToLocFormat=s.readShort(),this.glyphDataFormat=s.readShort()},t.prototype.encode=function(s){var a;return(a=new Rc).writeInt(this.version),a.writeInt(this.revision),a.writeInt(this.checkSumAdjustment),a.writeInt(this.magicNumber),a.writeShort(this.flags),a.writeShort(this.unitsPerEm),a.writeLongLong(this.created),a.writeLongLong(this.modified),a.writeShort(this.xMin),a.writeShort(this.yMin),a.writeShort(this.xMax),a.writeShort(this.yMax),a.writeShort(this.macStyle),a.writeShort(this.lowestRecPPEM),a.writeShort(this.fontDirectionHint),a.writeShort(s),a.writeShort(this.glyphDataFormat),a.data},t})(),E2=(function(){function t(s,a){var l,i,o,d,x,u,h,p,f,b,g,j,A,w,k,C,L;switch(this.platformID=s.readUInt16(),this.encodingID=s.readShort(),this.offset=a+s.readInt(),f=s.pos,s.pos=this.offset,this.format=s.readUInt16(),this.length=s.readUInt16(),this.language=s.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=s.readByte();break;case 4:for(g=s.readUInt16(),b=g/2,s.pos+=6,o=(function(){var N,P;for(P=[],u=N=0;0<=b?N<b:N>b;u=0<=b?++N:--N)P.push(s.readUInt16());return P})(),s.pos+=2,A=(function(){var N,P;for(P=[],u=N=0;0<=b?N<b:N>b;u=0<=b?++N:--N)P.push(s.readUInt16());return P})(),h=(function(){var N,P;for(P=[],u=N=0;0<=b?N<b:N>b;u=0<=b?++N:--N)P.push(s.readUInt16());return P})(),p=(function(){var N,P;for(P=[],u=N=0;0<=b?N<b:N>b;u=0<=b?++N:--N)P.push(s.readUInt16());return P})(),i=(this.length-s.pos+this.offset)/2,x=(function(){var N,P;for(P=[],u=N=0;0<=i?N<i:N>i;u=0<=i?++N:--N)P.push(s.readUInt16());return P})(),u=k=0,L=o.length;k<L;u=++k)for(w=o[u],l=C=j=A[u];j<=w?C<=w:C>=w;l=j<=w?++C:--C)p[u]===0?d=l+h[u]:(d=x[p[u]/2+(l-j)-(b-u)]||0)!==0&&(d+=h[u]),this.codeMap[l]=65535&d}s.pos=f}return t.encode=function(s,a){var l,i,o,d,x,u,h,p,f,b,g,j,A,w,k,C,L,N,P,_,F,R,B,T,q,H,G,W,le,V,ne,I,oe,Ne,Y,$,Q,ae,ue,me,be,he,we,_e,$e,Ke;switch(W=new Rc,d=Object.keys(s).sort(function(et,xe){return et-xe}),a){case"macroman":for(A=0,w=(function(){var et=[];for(j=0;j<256;++j)et.push(0);return et})(),C={0:0},o={},le=0,oe=d.length;le<oe;le++)C[we=s[i=d[le]]]==null&&(C[we]=++A),o[i]={old:s[i],new:C[s[i]]},w[i]=C[s[i]];return W.writeUInt16(1),W.writeUInt16(0),W.writeUInt32(12),W.writeUInt16(0),W.writeUInt16(262),W.writeUInt16(0),W.write(w),{charMap:o,subtable:W.data,maxGlyphID:A+1};case"unicode":for(H=[],f=[],L=0,C={},l={},k=h=null,V=0,Ne=d.length;V<Ne;V++)C[P=s[i=d[V]]]==null&&(C[P]=++L),l[i]={old:P,new:C[P]},x=C[P]-i,k!=null&&x===h||(k&&f.push(k),H.push(i),h=x),k=i;for(k&&f.push(k),f.push(65535),H.push(65535),T=2*(B=H.length),R=2*Math.pow(Math.log(B)/Math.LN2,2),b=Math.log(R/2)/Math.LN2,F=2*B-R,u=[],_=[],g=[],j=ne=0,Y=H.length;ne<Y;j=++ne){if(q=H[j],p=f[j],q===65535){u.push(0),_.push(0);break}if(q-(G=l[q].new)>=32768)for(u.push(0),_.push(2*(g.length+B-j)),i=I=q;q<=p?I<=p:I>=p;i=q<=p?++I:--I)g.push(l[i].new);else u.push(G-q),_.push(0)}for(W.writeUInt16(3),W.writeUInt16(1),W.writeUInt32(12),W.writeUInt16(4),W.writeUInt16(16+8*B+2*g.length),W.writeUInt16(0),W.writeUInt16(T),W.writeUInt16(R),W.writeUInt16(b),W.writeUInt16(F),be=0,$=f.length;be<$;be++)i=f[be],W.writeUInt16(i);for(W.writeUInt16(0),he=0,Q=H.length;he<Q;he++)i=H[he],W.writeUInt16(i);for(_e=0,ae=u.length;_e<ae;_e++)x=u[_e],W.writeUInt16(x);for($e=0,ue=_.length;$e<ue;$e++)N=_[$e],W.writeUInt16(N);for(Ke=0,me=g.length;Ke<me;Ke++)A=g[Ke],W.writeUInt16(A);return{charMap:l,subtable:W.data,maxGlyphID:L+1}}},t})(),BN=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ro(t,Ti),t.prototype.tag="cmap",t.prototype.parse=function(s){var a,l,i;for(s.pos=this.offset,this.version=s.readUInt16(),i=s.readUInt16(),this.tables=[],this.unicode=null,l=0;0<=i?l<i:l>i;l=0<=i?++l:--l)a=new E2(s,this.offset),this.tables.push(a),a.isUnicode&&this.unicode==null&&(this.unicode=a);return!0},t.encode=function(s,a){var l,i;return a==null&&(a="macroman"),l=E2.encode(s,a),(i=new Rc).writeUInt16(0),i.writeUInt16(1),l.table=i.data.concat(l.subtable),l},t})(),DT=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ro(t,Ti),t.prototype.tag="hhea",t.prototype.parse=function(s){return s.pos=this.offset,this.version=s.readInt(),this.ascender=s.readShort(),this.decender=s.readShort(),this.lineGap=s.readShort(),this.advanceWidthMax=s.readShort(),this.minLeftSideBearing=s.readShort(),this.minRightSideBearing=s.readShort(),this.xMaxExtent=s.readShort(),this.caretSlopeRise=s.readShort(),this.caretSlopeRun=s.readShort(),this.caretOffset=s.readShort(),s.pos+=8,this.metricDataFormat=s.readShort(),this.numberOfMetrics=s.readUInt16()},t})(),MT=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ro(t,Ti),t.prototype.tag="OS/2",t.prototype.parse=function(s){if(s.pos=this.offset,this.version=s.readUInt16(),this.averageCharWidth=s.readShort(),this.weightClass=s.readUInt16(),this.widthClass=s.readUInt16(),this.type=s.readShort(),this.ySubscriptXSize=s.readShort(),this.ySubscriptYSize=s.readShort(),this.ySubscriptXOffset=s.readShort(),this.ySubscriptYOffset=s.readShort(),this.ySuperscriptXSize=s.readShort(),this.ySuperscriptYSize=s.readShort(),this.ySuperscriptXOffset=s.readShort(),this.ySuperscriptYOffset=s.readShort(),this.yStrikeoutSize=s.readShort(),this.yStrikeoutPosition=s.readShort(),this.familyClass=s.readShort(),this.panose=(function(){var a,l;for(l=[],a=0;a<10;++a)l.push(s.readByte());return l})(),this.charRange=(function(){var a,l;for(l=[],a=0;a<4;++a)l.push(s.readInt());return l})(),this.vendorID=s.readString(4),this.selection=s.readShort(),this.firstCharIndex=s.readShort(),this.lastCharIndex=s.readShort(),this.version>0&&(this.ascent=s.readShort(),this.descent=s.readShort(),this.lineGap=s.readShort(),this.winAscent=s.readShort(),this.winDescent=s.readShort(),this.codePageRange=(function(){var a,l;for(l=[],a=0;a<2;a=++a)l.push(s.readInt());return l})(),this.version>1))return this.xHeight=s.readShort(),this.capHeight=s.readShort(),this.defaultChar=s.readShort(),this.breakChar=s.readShort(),this.maxContext=s.readShort()},t})(),LT=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ro(t,Ti),t.prototype.tag="post",t.prototype.parse=function(s){var a,l,i;switch(s.pos=this.offset,this.format=s.readInt(),this.italicAngle=s.readInt(),this.underlinePosition=s.readShort(),this.underlineThickness=s.readShort(),this.isFixedPitch=s.readInt(),this.minMemType42=s.readInt(),this.maxMemType42=s.readInt(),this.minMemType1=s.readInt(),this.maxMemType1=s.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(l=s.readUInt16(),this.glyphNameIndex=[],o=0;0<=l?o<l:o>l;o=0<=l?++o:--o)this.glyphNameIndex.push(s.readUInt16());for(this.names=[],i=[];s.pos<this.offset+this.length;)a=s.readByte(),i.push(this.names.push(s.readString(a)));return i;case 151552:return l=s.readUInt16(),this.offsets=s.read(l);case 262144:return this.map=(function(){var d,x,u;for(u=[],o=d=0,x=this.file.maxp.numGlyphs;0<=x?d<x:d>x;o=0<=x?++d:--d)u.push(s.readUInt32());return u}).call(this)}},t})(),zT=function(t,s){this.raw=t,this.length=t.length,this.platformID=s.platformID,this.encodingID=s.encodingID,this.languageID=s.languageID},ET=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ro(t,Ti),t.prototype.tag="name",t.prototype.parse=function(s){var a,l,i,o,d,x,u,h,p,f,b;for(s.pos=this.offset,s.readShort(),a=s.readShort(),x=s.readShort(),l=[],o=0;0<=a?o<a:o>a;o=0<=a?++o:--o)l.push({platformID:s.readShort(),encodingID:s.readShort(),languageID:s.readShort(),nameID:s.readShort(),length:s.readShort(),offset:this.offset+x+s.readShort()});for(u={},o=p=0,f=l.length;p<f;o=++p)i=l[o],s.pos=i.offset,h=s.readString(i.length),d=new zT(h,i),u[b=i.nameID]==null&&(u[b]=[]),u[i.nameID].push(d);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},t})(),TT=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ro(t,Ti),t.prototype.tag="maxp",t.prototype.parse=function(s){return s.pos=this.offset,this.version=s.readInt(),this.numGlyphs=s.readUInt16(),this.maxPoints=s.readUInt16(),this.maxContours=s.readUInt16(),this.maxCompositePoints=s.readUInt16(),this.maxComponentContours=s.readUInt16(),this.maxZones=s.readUInt16(),this.maxTwilightPoints=s.readUInt16(),this.maxStorage=s.readUInt16(),this.maxFunctionDefs=s.readUInt16(),this.maxInstructionDefs=s.readUInt16(),this.maxStackElements=s.readUInt16(),this.maxSizeOfInstructions=s.readUInt16(),this.maxComponentElements=s.readUInt16(),this.maxComponentDepth=s.readUInt16()},t})(),_T=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ro(t,Ti),t.prototype.tag="hmtx",t.prototype.parse=function(s){var a,l,i,o,d,x,u;for(s.pos=this.offset,this.metrics=[],a=0,x=this.file.hhea.numberOfMetrics;0<=x?a<x:a>x;a=0<=x?++a:--a)this.metrics.push({advance:s.readUInt16(),lsb:s.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var h,p;for(p=[],a=h=0;0<=i?h<i:h>i;a=0<=i?++h:--h)p.push(s.readInt16());return p})(),this.widths=(function(){var h,p,f,b;for(b=[],h=0,p=(f=this.metrics).length;h<p;h++)o=f[h],b.push(o.advance);return b}).call(this),l=this.widths[this.widths.length-1],u=[],a=d=0;0<=i?d<i:d>i;a=0<=i?++d:--d)u.push(this.widths.push(l));return u},t.prototype.forGlyph=function(s){return s in this.metrics?this.metrics[s]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[s-this.metrics.length]}},t})(),UN=[].slice,PT=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ro(t,Ti),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(s){var a,l,i,o,d,x,u,h,p,f;return s in this.cache?this.cache[s]:(o=this.file.loca,a=this.file.contents,l=o.indexOf(s),(i=o.lengthOf(s))===0?this.cache[s]=null:(a.pos=this.offset+l,d=(x=new Rc(a.read(i))).readShort(),h=x.readShort(),f=x.readShort(),u=x.readShort(),p=x.readShort(),this.cache[s]=d===-1?new OT(x,h,f,u,p):new RT(x,d,h,f,u,p),this.cache[s]))},t.prototype.encode=function(s,a,l){var i,o,d,x,u;for(d=[],o=[],x=0,u=a.length;x<u;x++)i=s[a[x]],o.push(d.length),i&&(d=d.concat(i.encode(l)));return o.push(d.length),{table:d,offsets:o}},t})(),RT=(function(){function t(s,a,l,i,o,d){this.raw=s,this.numberOfContours=a,this.xMin=l,this.yMin=i,this.xMax=o,this.yMax=d,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),OT=(function(){function t(s,a,l,i,o){var d,x;for(this.raw=s,this.xMin=a,this.yMin=l,this.xMax=i,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],d=this.raw;x=d.readShort(),this.glyphOffsets.push(d.pos),this.glyphIDs.push(d.readUInt16()),32&x;)d.pos+=1&x?4:2,128&x?d.pos+=8:64&x?d.pos+=4:8&x&&(d.pos+=2)}return t.prototype.encode=function(){var s,a,l;for(a=new Rc(UN.call(this.raw.data)),s=0,l=this.glyphIDs.length;s<l;++s)a.pos=this.glyphOffsets[s];return a.data},t})(),FT=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ro(t,Ti),t.prototype.tag="loca",t.prototype.parse=function(s){var a,l;return s.pos=this.offset,a=this.file.head.indexToLocFormat,this.offsets=a===0?(function(){var i,o;for(o=[],l=0,i=this.length;l<i;l+=2)o.push(2*s.readUInt16());return o}).call(this):(function(){var i,o;for(o=[],l=0,i=this.length;l<i;l+=4)o.push(s.readUInt32());return o}).call(this)},t.prototype.indexOf=function(s){return this.offsets[s]},t.prototype.lengthOf=function(s){return this.offsets[s+1]-this.offsets[s]},t.prototype.encode=function(s,a){for(var l=new Uint32Array(this.offsets.length),i=0,o=0,d=0;d<l.length;++d)if(l[d]=i,o<a.length&&a[o]==d){++o,l[d]=i;var x=this.offsets[d],u=this.offsets[d+1]-x;u>0&&(i+=u)}for(var h=new Array(4*l.length),p=0;p<l.length;++p)h[4*p+3]=255&l[p],h[4*p+2]=(65280&l[p])>>8,h[4*p+1]=(16711680&l[p])>>16,h[4*p]=(4278190080&l[p])>>24;return h},t})(),IT=(function(){function t(s){this.font=s,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var s,a,l,i,o;for(a in i=this.font.cmap.tables[0].codeMap,s={},o=this.subset)l=o[a],s[a]=i[l];return s},t.prototype.glyphsFor=function(s){var a,l,i,o,d,x,u;for(i={},d=0,x=s.length;d<x;d++)i[o=s[d]]=this.font.glyf.glyphFor(o);for(o in a=[],i)(l=i[o])!=null&&l.compound&&a.push.apply(a,l.glyphIDs);if(a.length>0)for(o in u=this.glyphsFor(a))l=u[o],i[o]=l;return i},t.prototype.encode=function(s,a){var l,i,o,d,x,u,h,p,f,b,g,j,A,w,k;for(i in l=BN.encode(this.generateCmap(),"unicode"),d=this.glyphsFor(s),g={0:0},k=l.charMap)g[(u=k[i]).old]=u.new;for(j in b=l.maxGlyphID,d)j in g||(g[j]=b++);return p=(function(C){var L,N;for(L in N={},C)N[C[L]]=L;return N})(g),f=Object.keys(p).sort(function(C,L){return C-L}),A=(function(){var C,L,N;for(N=[],C=0,L=f.length;C<L;C++)x=f[C],N.push(p[x]);return N})(),o=this.font.glyf.encode(d,A,g),h=this.font.loca.encode(o.offsets,A),w={cmap:this.font.cmap.raw(),glyf:o.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(a)},this.font.os2.exists&&(w["OS/2"]=this.font.os2.raw()),this.font.directory.encode(w)},t})();bt.API.PDFObject=(function(){var t;function s(){}return t=function(a,l){return(Array(l+1).join("0")+a).slice(-l)},s.convert=function(a){var l,i,o,d;if(Array.isArray(a))return"["+(function(){var x,u,h;for(h=[],x=0,u=a.length;x<u;x++)l=a[x],h.push(s.convert(l));return h})().join(" ")+"]";if(typeof a=="string")return"/"+a;if(a?.isString)return"("+a+")";if(a instanceof Date)return"(D:"+t(a.getUTCFullYear(),4)+t(a.getUTCMonth(),2)+t(a.getUTCDate(),2)+t(a.getUTCHours(),2)+t(a.getUTCMinutes(),2)+t(a.getUTCSeconds(),2)+"Z)";if({}.toString.call(a)==="[object Object]"){for(i in o=["<<"],a)d=a[i],o.push("/"+i+" "+s.convert(d));return o.push(">>"),o.join(`
`)}return""+a},s})();function $N(t,s,a,l,i){l=l||{};var o=1.15,d=i.internal.scaleFactor,x=i.internal.getFontSize()/d,u=i.getLineHeightFactor?i.getLineHeightFactor():o,h=x*u,p=/\r\n|\r|\n/g,f="",b=1;if((l.valign==="middle"||l.valign==="bottom"||l.halign==="center"||l.halign==="right")&&(f=typeof t=="string"?t.split(p):t,b=f.length||1),a+=x*(2-o),l.valign==="middle"?a-=b/2*h:l.valign==="bottom"&&(a-=b*h),l.halign==="center"||l.halign==="right"){var g=x;if(l.halign==="center"&&(g*=.5),f&&b>=1){for(var j=0;j<f.length;j++)i.text(f[j],s-i.getStringUnitWidth(f[j])*g,a),a+=h;return i}s-=i.getStringUnitWidth(t)*g}return l.halign==="justify"?i.text(t,s,a,{maxWidth:l.maxWidth||100,align:"justify"}):i.text(t,s,a),i}var T2={},q0=(function(){function t(s){this.jsPDFDocument=s,this.userStyles={textColor:s.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:s.internal.getFontSize(),fontStyle:s.internal.getFont().fontStyle,font:s.internal.getFont().fontName,lineWidth:s.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:s.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(s,a){a===void 0&&(a=null),a?a.__autoTableDocumentDefaults=s:T2=s},t.unifyColor=function(s){return Array.isArray(s)?s:typeof s=="number"?[s,s,s]:typeof s=="string"?[s]:null},t.prototype.applyStyles=function(s,a){var l,i,o;a===void 0&&(a=!1),s.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(s.fontStyle);var d=this.jsPDFDocument.internal.getFont(),x=d.fontStyle,u=d.fontName;if(s.font&&(u=s.font),s.fontStyle){x=s.fontStyle;var h=this.getFontList()[u];h&&h.indexOf(x)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(h[0]),x=h[0])}if(this.jsPDFDocument.setFont(u,x),s.fontSize&&this.jsPDFDocument.setFontSize(s.fontSize),!a){var p=t.unifyColor(s.fillColor);p&&(l=this.jsPDFDocument).setFillColor.apply(l,p),p=t.unifyColor(s.textColor),p&&(i=this.jsPDFDocument).setTextColor.apply(i,p),p=t.unifyColor(s.lineColor),p&&(o=this.jsPDFDocument).setDrawColor.apply(o,p),typeof s.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(s.lineWidth)}},t.prototype.splitTextToSize=function(s,a,l){return this.jsPDFDocument.splitTextToSize(s,a,l)},t.prototype.rect=function(s,a,l,i,o){return this.jsPDFDocument.rect(s,a,l,i,o)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(s){return this.jsPDFDocument.getTextWidth(s)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(s){this.jsPDFDocument.setPage(s)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return T2||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var s=this.jsPDFDocument.internal.pageSize;return s.width==null&&(s={width:s.getWidth(),height:s.getHeight()}),s},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var s=this.jsPDFDocument;return s.getLineHeightFactor?s.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(s){return s/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var s=this.jsPDFDocument.internal.getCurrentPageInfo();return s?s.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t})(),Qf=function(t,s){return Qf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,l){a.__proto__=l}||function(a,l){for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&(a[i]=l[i])},Qf(t,s)};function qN(t,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");Qf(t,s);function a(){this.constructor=t}t.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}var HN=(function(t){qN(s,t);function s(a){var l=t.call(this)||this;return l._element=a,l}return s})(Array);function BT(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function UT(t){var s={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return s[t]}function Zh(t,s,a){a.applyStyles(s,!0);var l=Array.isArray(t)?t:[t],i=l.map(function(o){return a.getTextWidth(o)}).reduce(function(o,d){return Math.max(o,d)},0);return i}function WN(t,s,a,l){var i=s.settings.tableLineWidth,o=s.settings.tableLineColor;t.applyStyles({lineWidth:i,lineColor:o});var d=GN(i,!1);d&&t.rect(a.x,a.y,s.getWidth(t.pageSize().width),l.y-a.y,d)}function GN(t,s){var a=t>0,l=s||s===0;return a&&l?"DF":a?"S":l?"F":null}function fm(t,s){var a,l,i,o;if(t=t||s,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=s}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(a=t.left)!==null&&a!==void 0?a:s,top:(l=t.top)!==null&&l!==void 0?l:s,right:(i=t.right)!==null&&i!==void 0?i:s,bottom:(o=t.bottom)!==null&&o!==void 0?o:s}):(typeof t!="number"&&(t=s),{top:t,right:t,bottom:t,left:t})}function VN(t,s){var a=fm(s.settings.margin,0);return t.pageSize().width-(a.left+a.right)}function $T(t,s,a,l,i){var o={},d=1.3333333333333333,x=yf(s,function(L){return i.getComputedStyle(L).backgroundColor});x!=null&&(o.fillColor=x);var u=yf(s,function(L){return i.getComputedStyle(L).color});u!=null&&(o.textColor=u);var h=HT(l,a);h&&(o.cellPadding=h);var p="borderTopColor",f=d*a,b=l.borderTopWidth;if(l.borderBottomWidth===b&&l.borderRightWidth===b&&l.borderLeftWidth===b){var g=(parseFloat(b)||0)/f;g&&(o.lineWidth=g)}else o.lineWidth={top:(parseFloat(l.borderTopWidth)||0)/f,right:(parseFloat(l.borderRightWidth)||0)/f,bottom:(parseFloat(l.borderBottomWidth)||0)/f,left:(parseFloat(l.borderLeftWidth)||0)/f},o.lineWidth.top||(o.lineWidth.right?p="borderRightColor":o.lineWidth.bottom?p="borderBottomColor":o.lineWidth.left&&(p="borderLeftColor"));var j=yf(s,function(L){return i.getComputedStyle(L)[p]});j!=null&&(o.lineColor=j);var A=["left","right","center","justify"];A.indexOf(l.textAlign)!==-1&&(o.halign=l.textAlign),A=["middle","bottom","top"],A.indexOf(l.verticalAlign)!==-1&&(o.valign=l.verticalAlign);var w=parseInt(l.fontSize||"");isNaN(w)||(o.fontSize=w/d);var k=qT(l);k&&(o.fontStyle=k);var C=(l.fontFamily||"").toLowerCase();return t.indexOf(C)!==-1&&(o.font=C),o}function qT(t){var s="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(s="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(s+="italic"),s}function yf(t,s){var a=YN(t,s);if(!a)return null;var l=a.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!l||!Array.isArray(l))return null;var i=[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])],o=parseInt(l[4]);return o===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function YN(t,s){var a=s(t);return a==="rgba(0, 0, 0, 0)"||a==="transparent"||a==="initial"||a==="inherit"?t.parentElement==null?null:YN(t.parentElement,s):a}function HT(t,s){var a=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],l=96/(72/s),i=(parseInt(t.lineHeight)-parseInt(t.fontSize))/s/2,o=a.map(function(x){return parseInt(x||"0")/l}),d=fm(o,0);return i>d.top&&(d.top=i),i>d.bottom&&(d.bottom=i),d}function XN(t,s,a,l,i){var o,d;l===void 0&&(l=!1),i===void 0&&(i=!1);var x;typeof s=="string"?x=a.document.querySelector(s):x=s;var u=Object.keys(t.getFontList()),h=t.scaleFactor(),p=[],f=[],b=[];if(!x)return console.error("Html table could not be found with input: ",s),{head:p,body:f,foot:b};for(var g=0;g<x.rows.length;g++){var j=x.rows[g],A=(d=(o=j?.parentElement)===null||o===void 0?void 0:o.tagName)===null||d===void 0?void 0:d.toLowerCase(),w=WT(u,h,a,j,l,i);w&&(A==="thead"?p.push(w):A==="tfoot"?b.push(w):f.push(w))}return{head:p,body:f,foot:b}}function WT(t,s,a,l,i,o){for(var d=new HN(l),x=0;x<l.cells.length;x++){var u=l.cells[x],h=a.getComputedStyle(u);if(i||h.display!=="none"){var p=void 0;o&&(p=$T(t,u,s,h,a)),d.push({rowSpan:u.rowSpan,colSpan:u.colSpan,styles:p,_element:u,content:GT(u)})}}var f=a.getComputedStyle(l);if(d.length>0&&(i||f.display!=="none"))return d}function GT(t){var s=t.cloneNode(!0);return s.innerHTML=s.innerHTML.replace(/\n/g,"").replace(/ +/g," "),s.innerHTML=s.innerHTML.split(/<br.*?>/).map(function(a){return a.trim()}).join(`
`),s.innerText||s.textContent||""}function VT(t,s,a){for(var l=0,i=[t,s,a];l<i.length;l++){var o=i[l];o&&typeof o!="object"&&console.error("The options parameter should be of type object, is: "+typeof o),o.startY&&typeof o.startY!="number"&&(console.error("Invalid value for startY option",o.startY),delete o.startY)}}function Fo(t,s,a,l,i){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(t),d=1;d<arguments.length;d++){var x=arguments[d];if(x!=null)for(var u in x)Object.prototype.hasOwnProperty.call(x,u)&&(o[u]=x[u])}return o}function KN(t,s){var a=new q0(t),l=a.getDocumentOptions(),i=a.getGlobalOptions();VT(i,l,s);var o=Fo({},i,l,s),d;typeof window<"u"&&(d=window);var x=YT(i,l,s),u=XT(i,l,s),h=KT(a,o),p=QT(a,o,d);return{id:s.tableId,content:p,hooks:u,styles:x,settings:h}}function YT(t,s,a){for(var l={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(u){if(u==="columnStyles"){var h=t[u],p=s[u],f=a[u];l.columnStyles=Fo({},h,p,f)}else{var b=[t,s,a],g=b.map(function(j){return j[u]||{}});l[u]=Fo({},g[0],g[1],g[2])}},o=0,d=Object.keys(l);o<d.length;o++){var x=d[o];i(x)}return l}function XT(t,s,a){for(var l=[t,s,a],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},o=0,d=l;o<d.length;o++){var x=d[o];x.didParseCell&&i.didParseCell.push(x.didParseCell),x.willDrawCell&&i.willDrawCell.push(x.willDrawCell),x.didDrawCell&&i.didDrawCell.push(x.didDrawCell),x.willDrawPage&&i.willDrawPage.push(x.willDrawPage),x.didDrawPage&&i.didDrawPage.push(x.didDrawPage)}return i}function KT(t,s){var a,l,i,o,d,x,u,h,p,f,b,g,j=fm(s.margin,40/t.scaleFactor()),A=(a=JT(t,s.startY))!==null&&a!==void 0?a:j.top,w;s.showFoot===!0?w="everyPage":s.showFoot===!1?w="never":w=(l=s.showFoot)!==null&&l!==void 0?l:"everyPage";var k;s.showHead===!0?k="everyPage":s.showHead===!1?k="never":k=(i=s.showHead)!==null&&i!==void 0?i:"everyPage";var C=(o=s.useCss)!==null&&o!==void 0?o:!1,L=s.theme||(C?"plain":"striped"),N=!!s.horizontalPageBreak,P=(d=s.horizontalPageBreakRepeat)!==null&&d!==void 0?d:null;return{includeHiddenHtml:(x=s.includeHiddenHtml)!==null&&x!==void 0?x:!1,useCss:C,theme:L,startY:A,margin:j,pageBreak:(u=s.pageBreak)!==null&&u!==void 0?u:"auto",rowPageBreak:(h=s.rowPageBreak)!==null&&h!==void 0?h:"auto",tableWidth:(p=s.tableWidth)!==null&&p!==void 0?p:"auto",showHead:k,showFoot:w,tableLineWidth:(f=s.tableLineWidth)!==null&&f!==void 0?f:0,tableLineColor:(b=s.tableLineColor)!==null&&b!==void 0?b:200,horizontalPageBreak:N,horizontalPageBreakRepeat:P,horizontalPageBreakBehaviour:(g=s.horizontalPageBreakBehaviour)!==null&&g!==void 0?g:"afterAllRows"}}function JT(t,s){var a=t.getLastAutoTable(),l=t.scaleFactor(),i=t.pageNumber(),o=!1;if(a&&a.startPageNumber){var d=a.startPageNumber+a.pageNumber-1;o=d===i}return typeof s=="number"?s:(s==null||s===!1)&&o&&a?.finalY!=null?a.finalY+20/l:null}function QT(t,s,a){var l=s.head||[],i=s.body||[],o=s.foot||[];if(s.html){var d=s.includeHiddenHtml;if(a){var x=XN(t,s.html,a,d,s.useCss)||{};l=x.head||l,i=x.body||l,o=x.foot||l}else console.error("Cannot parse html in non browser environment")}var u=s.columns||ZT(l,i,o);return{columns:u,head:l,body:i,foot:o}}function ZT(t,s,a){var l=t[0]||s[0]||a[0]||[],i=[];return Object.keys(l).filter(function(o){return o!=="_element"}).forEach(function(o){var d=1,x;Array.isArray(l)?x=l[parseInt(o)]:x=l[o],typeof x=="object"&&!Array.isArray(x)&&(d=x?.colSpan||1);for(var u=0;u<d;u++){var h=void 0;Array.isArray(l)?h=i.length:h=o+(u>0?"_".concat(u):"");var p={dataKey:h};i.push(p)}}),i}var Zf=(function(){function t(s,a,l){this.table=a,this.pageNumber=a.pageNumber,this.settings=a.settings,this.cursor=l,this.doc=s.getDocument()}return t})(),e_=(function(t){qN(s,t);function s(a,l,i,o,d,x){var u=t.call(this,a,l,x)||this;return u.cell=i,u.row=o,u.column=d,u.section=o.section,u}return s})(Zf),t_=(function(){function t(s,a){this.pageNumber=1,this.id=s.id,this.settings=s.settings,this.styles=s.styles,this.hooks=s.hooks,this.columns=a.columns,this.head=a.head,this.body=a.body,this.foot=a.foot}return t.prototype.getHeadHeight=function(s){return this.head.reduce(function(a,l){return a+l.getMaxCellHeight(s)},0)},t.prototype.getFootHeight=function(s){return this.foot.reduce(function(a,l){return a+l.getMaxCellHeight(s)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(s,a,l,i,o,d){for(var x=0,u=a;x<u.length;x++){var h=u[x],p=new e_(s,this,l,i,o,d),f=h(p)===!1;if(l.text=Array.isArray(l.text)?l.text:[l.text],f)return!1}return!0},t.prototype.callEndPageHooks=function(s,a){s.applyStyles(s.userStyles);for(var l=0,i=this.hooks.didDrawPage;l<i.length;l++){var o=i[l];o(new Zf(s,this,a))}},t.prototype.callWillDrawPageHooks=function(s,a){for(var l=0,i=this.hooks.willDrawPage;l<i.length;l++){var o=i[l];o(new Zf(s,this,a))}},t.prototype.getWidth=function(s){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var a=this.columns.reduce(function(i,o){return i+o.wrappedWidth},0);return a}else{var l=this.settings.margin;return s-l.left-l.right}},t})(),JN=(function(){function t(s,a,l,i,o){o===void 0&&(o=!1),this.height=0,this.raw=s,s instanceof HN&&(this.raw=s._element,this.element=s._element),this.index=a,this.section=l,this.cells=i,this.spansMultiplePages=o}return t.prototype.getMaxCellHeight=function(s){var a=this;return s.reduce(function(l,i){var o;return Math.max(l,((o=a.cells[i.index])===null||o===void 0?void 0:o.height)||0)},0)},t.prototype.hasRowSpan=function(s){var a=this;return s.filter(function(l){var i=a.cells[l.index];return i?i.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(s,a){return this.getMaxCellHeight(a)<=s},t.prototype.getMinimumRowHeight=function(s,a){var l=this;return s.reduce(function(i,o){var d=l.cells[o.index];if(!d)return 0;var x=a.getLineHeight(d.styles.fontSize),u=d.padding("vertical"),h=u+x;return h>i?h:i},0)},t})(),QN=(function(){function t(s,a,l){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=a,this.section=l,this.raw=s;var o=s;s!=null&&typeof s=="object"&&!Array.isArray(s)?(this.rowSpan=s.rowSpan||1,this.colSpan=s.colSpan||1,o=(i=s.content)!==null&&i!==void 0?i:s,s._element&&(this.raw=s._element)):(this.rowSpan=1,this.colSpan=1);var d=o!=null?""+o:"",x=/\r\n|\r|\n/g;this.text=d.split(x)}return t.prototype.getTextPos=function(){var s;if(this.styles.valign==="top")s=this.y+this.padding("top");else if(this.styles.valign==="bottom")s=this.y+this.height-this.padding("bottom");else{var a=this.height-this.padding("vertical");s=this.y+a/2+this.padding("top")}var l;if(this.styles.halign==="right")l=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");l=this.x+i/2+this.padding("left")}else l=this.x+this.padding("left");return{x:l,y:s}},t.prototype.getContentHeight=function(s,a){a===void 0&&(a=1.15);var l=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/s*a,o=l*i+this.padding("vertical");return Math.max(o,this.styles.minCellHeight)},t.prototype.padding=function(s){var a=fm(this.styles.cellPadding,0);return s==="vertical"?a.top+a.bottom:s==="horizontal"?a.left+a.right:a[s]},t})(),s_=(function(){function t(s,a,l){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=s,this.raw=a,this.index=l}return t.prototype.getMaxCustomCellWidth=function(s){for(var a=0,l=0,i=s.allRows();l<i.length;l++){var o=i[l],d=o.cells[this.index];d&&typeof d.styles.cellWidth=="number"&&(a=Math.max(a,d.styles.cellWidth))}return a},t})();function a_(t,s){r_(t,s);var a=[],l=0;s.columns.forEach(function(o){var d=o.getMaxCustomCellWidth(s);d?o.width=d:(o.width=o.wrappedWidth,a.push(o)),l+=o.width});var i=s.getWidth(t.pageSize().width)-l;i&&(i=eg(a,i,function(o){return Math.max(o.minReadableWidth,o.minWidth)})),i&&(i=eg(a,i,function(o){return o.minWidth})),i=Math.abs(i),!s.settings.horizontalPageBreak&&i>.1/t.scaleFactor()&&(i=i<1?i:Math.round(i),console.log("Of the table content, ".concat(i," units width could not fit page"))),n_(s),i_(s,t),l_(s)}function r_(t,s){var a=t.scaleFactor(),l=s.settings.horizontalPageBreak,i=VN(t,s);s.allRows().forEach(function(o){for(var d=0,x=s.columns;d<x.length;d++){var u=x[d],h=o.cells[u.index];if(h){var p=s.hooks.didParseCell;s.callCellHooks(t,p,h,o,u,null);var f=h.padding("horizontal");h.contentWidth=Zh(h.text,h.styles,t)+f;var b=Zh(h.text.join(" ").split(/[^\S\u00A0]+/),h.styles,t);if(h.minReadableWidth=b+h.padding("horizontal"),typeof h.styles.cellWidth=="number")h.minWidth=h.styles.cellWidth,h.wrappedWidth=h.styles.cellWidth;else if(h.styles.cellWidth==="wrap"||l===!0)h.contentWidth>i?(h.minWidth=i,h.wrappedWidth=i):(h.minWidth=h.contentWidth,h.wrappedWidth=h.contentWidth);else{var g=10/a;h.minWidth=h.styles.minCellWidth||g,h.wrappedWidth=h.contentWidth,h.minWidth>h.wrappedWidth&&(h.wrappedWidth=h.minWidth)}}}}),s.allRows().forEach(function(o){for(var d=0,x=s.columns;d<x.length;d++){var u=x[d],h=o.cells[u.index];if(h&&h.colSpan===1)u.wrappedWidth=Math.max(u.wrappedWidth,h.wrappedWidth),u.minWidth=Math.max(u.minWidth,h.minWidth),u.minReadableWidth=Math.max(u.minReadableWidth,h.minReadableWidth);else{var p=s.styles.columnStyles[u.dataKey]||s.styles.columnStyles[u.index]||{},f=p.cellWidth||p.minCellWidth;f&&typeof f=="number"&&(u.minWidth=f,u.wrappedWidth=f)}h&&(h.colSpan>1&&!u.minWidth&&(u.minWidth=h.minWidth),h.colSpan>1&&!u.wrappedWidth&&(u.wrappedWidth=h.minWidth))}})}function eg(t,s,a){for(var l=s,i=t.reduce(function(g,j){return g+j.wrappedWidth},0),o=0;o<t.length;o++){var d=t[o],x=d.wrappedWidth/i,u=l*x,h=d.width+u,p=a(d),f=h<p?p:h;s-=f-d.width,d.width=f}if(s=Math.round(s*1e10)/1e10,s){var b=t.filter(function(g){return s<0?g.width>a(g):!0});b.length&&(s=eg(b,s,a))}return s}function l_(t){for(var s={},a=1,l=t.allRows(),i=0;i<l.length;i++)for(var o=l[i],d=0,x=t.columns;d<x.length;d++){var u=x[d],h=s[u.index];if(a>1)a--,delete o.cells[u.index];else if(h)h.cell.height+=o.height,a=h.cell.colSpan,delete o.cells[u.index],h.left--,h.left<=1&&delete s[u.index];else{var p=o.cells[u.index];if(!p)continue;if(p.height=o.height,p.rowSpan>1){var f=l.length-i,b=p.rowSpan>f?f:p.rowSpan;s[u.index]={cell:p,left:b,row:o}}}}}function n_(t){for(var s=t.allRows(),a=0;a<s.length;a++)for(var l=s[a],i=null,o=0,d=0,x=0;x<t.columns.length;x++){var u=t.columns[x];if(d-=1,d>1&&t.columns[x+1])o+=u.width,delete l.cells[u.index];else if(i){var h=i;delete l.cells[u.index],i=null,h.width=u.width+o}else{var h=l.cells[u.index];if(!h)continue;if(d=h.colSpan,o=0,h.colSpan>1){i=h,o+=u.width;continue}h.width=u.width+o}}}function i_(t,s){for(var a={count:0,height:0},l=0,i=t.allRows();l<i.length;l++){for(var o=i[l],d=0,x=t.columns;d<x.length;d++){var u=x[d],h=o.cells[u.index];if(h){s.applyStyles(h.styles,!0);var p=h.width-h.padding("horizontal");if(h.styles.overflow==="linebreak")h.text=s.splitTextToSize(h.text,p+1/s.scaleFactor(),{fontSize:h.styles.fontSize});else if(h.styles.overflow==="ellipsize")h.text=_2(h.text,p,h.styles,s,"...");else if(h.styles.overflow==="hidden")h.text=_2(h.text,p,h.styles,s,"");else if(typeof h.styles.overflow=="function"){var f=h.styles.overflow(h.text,p);typeof f=="string"?h.text=[f]:h.text=f}h.contentHeight=h.getContentHeight(s.scaleFactor(),s.getLineHeightFactor());var b=h.contentHeight/h.rowSpan;h.rowSpan>1&&a.count*a.height<b*h.rowSpan?a={height:b,count:h.rowSpan}:a&&a.count>0&&a.height>b&&(b=a.height),b>o.height&&(o.height=b)}}a.count--}}function _2(t,s,a,l,i){return t.map(function(o){return o_(o,s,a,l,i)})}function o_(t,s,a,l,i){var o=1e4*l.scaleFactor();if(s=Math.ceil(s*o)/o,s>=Zh(t,a,l))return t;for(;s<Zh(t+i,a,l)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+i}function ZN(t,s){var a=new q0(t),l=c_(s,a.scaleFactor()),i=new t_(s,l);return a_(a,i),a.applyStyles(a.userStyles),i}function c_(t,s){var a=t.content,l=x_(a.columns);if(a.head.length===0){var i=P2(l,"head");i&&a.head.push(i)}if(a.foot.length===0){var i=P2(l,"foot");i&&a.foot.push(i)}var o=t.settings.theme,d=t.styles;return{columns:l,head:jf("head",a.head,l,d,o,s),body:jf("body",a.body,l,d,o,s),foot:jf("foot",a.foot,l,d,o,s)}}function jf(t,s,a,l,i,o){var d={},x=s.map(function(u,h){for(var p=0,f={},b=0,g=0,j=0,A=a;j<A.length;j++){var w=A[j];if(d[w.index]==null||d[w.index].left===0)if(g===0){var k=void 0;Array.isArray(u)?k=u[w.index-b-p]:k=u[w.dataKey];var C={};typeof k=="object"&&!Array.isArray(k)&&(C=k?.styles||{});var L=u_(t,w,h,i,l,o,C),N=new QN(k,L,t);f[w.dataKey]=N,f[w.index]=N,g=N.colSpan-1,d[w.index]={left:N.rowSpan-1,times:g}}else g--,b++;else d[w.index].left--,g=d[w.index].times,p++}return new JN(u,h,t,f)});return x}function P2(t,s){var a={};return t.forEach(function(l){if(l.raw!=null){var i=d_(s,l.raw);i!=null&&(a[l.dataKey]=i)}}),Object.keys(a).length>0?a:null}function d_(t,s){if(t==="head"){if(typeof s=="object")return s.header||null;if(typeof s=="string"||typeof s=="number")return s}else if(t==="foot"&&typeof s=="object")return s.footer;return null}function x_(t){return t.map(function(s,a){var l,i;return typeof s=="object"?i=(l=s.dataKey)!==null&&l!==void 0?l:a:i=a,new s_(i,s,a)})}function u_(t,s,a,l,i,o,d){var x=UT(l),u;t==="head"?u=i.headStyles:t==="body"?u=i.bodyStyles:t==="foot"&&(u=i.footStyles);var h=Fo({},x.table,x[t],i.styles,u),p=i.columnStyles[s.dataKey]||i.columnStyles[s.index]||{},f=t==="body"?p:{},b=t==="body"&&a%2===0?Fo({},x.alternateRow,i.alternateRowStyles):{},g=BT(o),j=Fo({},g,h,b,f);return Fo(j,d)}function h_(t,s,a){var l;a===void 0&&(a={});var i=VN(t,s),o=new Map,d=[],x=[],u=[];Array.isArray(s.settings.horizontalPageBreakRepeat)?u=s.settings.horizontalPageBreakRepeat:(typeof s.settings.horizontalPageBreakRepeat=="string"||typeof s.settings.horizontalPageBreakRepeat=="number")&&(u=[s.settings.horizontalPageBreakRepeat]),u.forEach(function(b){var g=s.columns.find(function(j){return j.dataKey===b||j.index===b});g&&!o.has(g.index)&&(o.set(g.index,!0),d.push(g.index),x.push(s.columns[g.index]),i-=g.wrappedWidth)});for(var h=!0,p=(l=a?.start)!==null&&l!==void 0?l:0;p<s.columns.length;){if(o.has(p)){p++;continue}var f=s.columns[p].wrappedWidth;if(h||i>=f)h=!1,d.push(p),x.push(s.columns[p]),i-=f;else break;p++}return{colIndexes:d,columns:x,lastIndex:p-1}}function m_(t,s){for(var a=[],l=0;l<s.columns.length;l++){var i=h_(t,s,{start:l});i.columns.length&&(a.push(i),l=i.lastIndex)}return a}function e5(t,s){var a=s.settings,l=a.startY,i=a.margin,o={x:i.left,y:l},d=s.getHeadHeight(s.columns)+s.getFootHeight(s.columns),x=l+i.bottom+d;if(a.pageBreak==="avoid"){var u=s.body,h=u.reduce(function(b,g){return b+g.height},0);x+=h}var p=new q0(t);(a.pageBreak==="always"||a.startY!=null&&x>p.pageSize().height)&&(s5(p),o.y=i.top),s.callWillDrawPageHooks(p,o);var f=Fo({},o);s.startPageNumber=p.pageNumber(),a.horizontalPageBreak?p_(p,s,f,o):(p.applyStyles(p.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&s.head.forEach(function(b){return Ho(p,s,b,o,s.columns)}),p.applyStyles(p.userStyles),s.body.forEach(function(b,g){var j=g===s.body.length-1;em(p,s,b,j,f,o,s.columns)}),p.applyStyles(p.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&s.foot.forEach(function(b){return Ho(p,s,b,o,s.columns)})),WN(p,s,f,o),s.callEndPageHooks(p,o),s.finalY=o.y,t.lastAutoTable=s,p.applyStyles(p.userStyles)}function p_(t,s,a,l){var i=m_(t,s),o=s.settings;if(o.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(h,p){t.applyStyles(t.userStyles),p>0?Vx(t,s,a,l,h.columns,!0):R2(t,s,l,h.columns),f_(t,s,a,l,h.columns),wf(t,s,l,h.columns)});else for(var d=-1,x=i[0],u=function(){var h=d;if(x){t.applyStyles(t.userStyles);var p=x.columns;d>=0?Vx(t,s,a,l,p,!0):R2(t,s,l,p),h=O2(t,s,d+1,l,p),wf(t,s,l,p)}var f=h-d;i.slice(1).forEach(function(b){t.applyStyles(t.userStyles),Vx(t,s,a,l,b.columns,!0),O2(t,s,d+1,l,b.columns,f),wf(t,s,l,b.columns)}),d=h};d<s.body.length-1;)u()}function R2(t,s,a,l){var i=s.settings;t.applyStyles(t.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&s.head.forEach(function(o){return Ho(t,s,o,a,l)})}function f_(t,s,a,l,i){t.applyStyles(t.userStyles),s.body.forEach(function(o,d){var x=d===s.body.length-1;em(t,s,o,x,a,l,i)})}function O2(t,s,a,l,i,o){t.applyStyles(t.userStyles),o=o??s.body.length;var d=Math.min(a+o,s.body.length),x=-1;return s.body.slice(a,d).forEach(function(u,h){var p=a+h===s.body.length-1,f=t5(t,s,p,l);u.canEntireRowFit(f,i)&&(Ho(t,s,u,l,i),x=a+h)}),x}function wf(t,s,a,l){var i=s.settings;t.applyStyles(t.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&s.foot.forEach(function(o){return Ho(t,s,o,a,l)})}function g_(t,s,a){var l=a.getLineHeight(t.styles.fontSize),i=t.padding("vertical"),o=Math.floor((s-i)/l);return Math.max(0,o)}function b_(t,s,a,l){var i={};t.spansMultiplePages=!0,t.height=0;for(var o=0,d=0,x=a.columns;d<x.length;d++){var u=x[d],h=t.cells[u.index];if(h){Array.isArray(h.text)||(h.text=[h.text]);var p=new QN(h.raw,h.styles,h.section);p=Fo(p,h),p.text=[];var f=g_(h,s,l);h.text.length>f&&(p.text=h.text.splice(f,h.text.length));var b=l.scaleFactor(),g=l.getLineHeightFactor();h.contentHeight=h.getContentHeight(b,g),h.contentHeight>=s&&(h.contentHeight=s,p.styles.minCellHeight-=s),h.contentHeight>t.height&&(t.height=h.contentHeight),p.contentHeight=p.getContentHeight(b,g),p.contentHeight>o&&(o=p.contentHeight),i[u.index]=p}}var j=new JN(t.raw,-1,t.section,i,!0);j.height=o;for(var A=0,w=a.columns;A<w.length;A++){var u=w[A],p=j.cells[u.index];p&&(p.height=j.height);var h=t.cells[u.index];h&&(h.height=t.height)}return j}function v_(t,s,a,l){var i=t.pageSize().height,o=l.settings.margin,d=o.top+o.bottom,x=i-d;s.section==="body"&&(x-=l.getHeadHeight(l.columns)+l.getFootHeight(l.columns));var u=s.getMinimumRowHeight(l.columns,t),h=u<a;if(u>x)return console.log("Will not be able to print row ".concat(s.index," correctly since it's minimum height is larger than page height")),!0;if(!h)return!1;var p=s.hasRowSpan(l.columns),f=s.getMaxCellHeight(l.columns)>x;return f?(p&&console.log("The content of row ".concat(s.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(p||l.settings.rowPageBreak==="avoid")}function em(t,s,a,l,i,o,d){var x=t5(t,s,l,o);if(a.canEntireRowFit(x,d))Ho(t,s,a,o,d);else if(v_(t,a,x,s)){var u=b_(a,x,s,t);Ho(t,s,a,o,d),Vx(t,s,i,o,d),em(t,s,u,l,i,o,d)}else Vx(t,s,i,o,d),em(t,s,a,l,i,o,d)}function Ho(t,s,a,l,i){l.x=s.settings.margin.left;for(var o=0,d=i;o<d.length;o++){var x=d[o],u=a.cells[x.index];if(!u){l.x+=x.width;continue}t.applyStyles(u.styles),u.x=l.x,u.y=l.y;var h=s.callCellHooks(t,s.hooks.willDrawCell,u,a,x,l);if(h===!1){l.x+=x.width;continue}y_(t,u,l);var p=u.getTextPos();$N(u.text,p.x,p.y,{halign:u.styles.halign,valign:u.styles.valign,maxWidth:Math.ceil(u.width-u.padding("left")-u.padding("right"))},t.getDocument()),s.callCellHooks(t,s.hooks.didDrawCell,u,a,x,l),l.x+=x.width}l.y+=a.height}function y_(t,s,a){var l=s.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof l.lineWidth=="number"){var i=GN(l.lineWidth,l.fillColor);i&&t.rect(s.x,a.y,s.width,s.height,i)}else typeof l.lineWidth=="object"&&(l.fillColor&&t.rect(s.x,a.y,s.width,s.height,"F"),j_(t,s,a,l.lineWidth))}function j_(t,s,a,l){var i,o,d,x;l.top&&(i=a.x,o=a.y,d=a.x+s.width,x=a.y,l.right&&(d+=.5*l.right),l.left&&(i-=.5*l.left),u(l.top,i,o,d,x)),l.bottom&&(i=a.x,o=a.y+s.height,d=a.x+s.width,x=a.y+s.height,l.right&&(d+=.5*l.right),l.left&&(i-=.5*l.left),u(l.bottom,i,o,d,x)),l.left&&(i=a.x,o=a.y,d=a.x,x=a.y+s.height,l.top&&(o-=.5*l.top),l.bottom&&(x+=.5*l.bottom),u(l.left,i,o,d,x)),l.right&&(i=a.x+s.width,o=a.y,d=a.x+s.width,x=a.y+s.height,l.top&&(o-=.5*l.top),l.bottom&&(x+=.5*l.bottom),u(l.right,i,o,d,x));function u(h,p,f,b,g){t.getDocument().setLineWidth(h),t.getDocument().line(p,f,b,g,"S")}}function t5(t,s,a,l){var i=s.settings.margin.bottom,o=s.settings.showFoot;return(o==="everyPage"||o==="lastPage"&&a)&&(i+=s.getFootHeight(s.columns)),t.pageSize().height-l.y-i}function Vx(t,s,a,l,i,o){i===void 0&&(i=[]),o===void 0&&(o=!1),t.applyStyles(t.userStyles),s.settings.showFoot==="everyPage"&&!o&&s.foot.forEach(function(x){return Ho(t,s,x,l,i)}),s.callEndPageHooks(t,l);var d=s.settings.margin;WN(t,s,a,l),s5(t),s.pageNumber++,l.x=d.left,l.y=d.top,a.y=d.top,s.callWillDrawPageHooks(t,l),s.settings.showHead==="everyPage"&&(s.head.forEach(function(x){return Ho(t,s,x,l,i)}),t.applyStyles(t.userStyles))}function s5(t){var s=t.pageNumber();t.setPage(s+1);var a=t.pageNumber();return a===s?(t.addPage(),!0):!1}function w_(t){t.API.autoTable=function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];var l=s[0],i=KN(this,l),o=ZN(this,i);return e5(this,o),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(s,a,l,i){$N(s,a,l,i,this)},t.API.autoTableSetDefaults=function(s){return q0.setDefaults(s,this),this},t.autoTableSetDefaults=function(s,a){q0.setDefaults(s,a)},t.API.autoTableHtmlToJson=function(s,a){var l;if(a===void 0&&(a=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new q0(this),o=XN(i,s,window,a,!1),d=o.head,x=o.body,u=((l=d[0])===null||l===void 0?void 0:l.map(function(h){return h.content}))||[];return{columns:u,rows:x,data:x}}}var Nf;function G0(t,s){var a=KN(t,s),l=ZN(t,a);e5(t,l)}try{if(typeof window<"u"&&window){var F2=window,I2=F2.jsPDF||((Nf=F2.jspdf)===null||Nf===void 0?void 0:Nf.jsPDF);I2&&w_(I2)}}catch(t){console.error("Could not apply autoTable plugin",t)}const N_=()=>{const[t,s]=v.useState(!1),[a,l]=v.useState(!1),[i,o]=v.useState(!1),[d,x]=v.useState(null),[u,h]=v.useState(null),[p,f]=v.useState(!1),[b,g]=v.useState(!1),[j,A]=v.useState(!0),[w,k]=v.useState([]),[C,L]=v.useState([]),[N,P]=v.useState({name:"",number:"",expiry:"",cvv:""}),[_,F]=v.useState(new Date().getFullYear().toString()),R=async()=>{try{const[I,oe]=await Promise.all([jM(),Hw()]);k(I),L(oe||[])}catch(I){console.error("Error fetching data:",I)}finally{A(!1)}};v.useEffect(()=>{R()},[]);const B=I=>{h(I);try{const oe=w.find(Y=>Y.id===I);if(!oe)return;const Ne=new bt;Ne.setFontSize(20),Ne.text(`Invoice #${oe.id}`,14,22),Ne.setFontSize(10),Ne.text(`Generated on: ${new Date().toLocaleDateString()}`,14,30),Ne.text(`Status: ${oe.status}`,14,35),G0(Ne,{startY:45,head:[["Description","Amount","Due Date"]],body:[["Membership Services",`INR ${oe.amount.toLocaleString()}`,oe.dueDate]],theme:"striped",headStyles:{fillColor:[139,92,246]}}),Ne.save(`${oe.id}_Statement.pdf`)}catch(oe){console.error("PDF generation failed",oe)}finally{h(null)}},T=()=>{try{const I=new bt;I.setFontSize(20),I.text("Complete Yearly Statement",14,22),I.setFontSize(10),I.text(`Generated on: ${new Date().toLocaleDateString()}`,14,30),I.text(`Fiscal Year: ${_}`,14,35);const Ne=w.filter(Y=>new Date(Y.date).getFullYear().toString()===_).map(Y=>[Y.id,Y.date,Y.status,`INR ${Y.amount.toLocaleString()}`]);G0(I,{startY:45,head:[["Invoice ID","Date","Status","Amount"]],body:Ne,theme:"striped",headStyles:{fillColor:[139,92,246]}}),I.save(`Complete_Statement_${new Date().getFullYear()}.pdf`),l(!1)}catch(I){console.error("PDF generation failed",I)}},q=async()=>{try{if(N.number.length<4){alert("Valid card required");return}const I={name:N.name||"New Payment Card",number:N.number.slice(-4),expiry:N.expiry||"MM/YY",brand:"Custom"},oe=await Ww(I);L([...C,oe.card]),s(!1),P({name:"",number:"",expiry:"",cvv:""}),alert("Card Added!")}catch(I){console.error("Failed",I),alert("Adding card failed")}},H=async I=>{if(window.confirm("Are you sure you want to delete this payment method?"))try{await Gw(I),L(C.filter(oe=>oe.id!==I))}catch(oe){console.error("Failed to delete card:",oe),alert("Failed to delete card")}},G=I=>{x(I),o(!0)},W=async()=>{f(!0);try{await wM(d.dbId),g(!0),k(I=>I.map(oe=>oe.id===d.id?{...oe,status:"Paid"}:oe)),setTimeout(()=>{g(!1),o(!1)},2e3)}catch(I){console.error("Error paying invoice:",I),alert("Failed to process payment")}finally{f(!1)}},le=w.filter(I=>I.status==="Paid").reduce((I,oe)=>I+oe.amount,0),V=w.filter(I=>I.status!=="Paid").reduce((I,oe)=>I+oe.amount,0),ne=[{id:1,title:"Outstanding Balance",value:`${V.toLocaleString()}`,icon:hs,color:V>0?"danger":"success"},{id:2,title:"Total Paid",value:`${le.toLocaleString()}`,icon:Qt,color:"success"},{id:3,title:"Total Invoices",value:w.length.toString(),icon:Va,color:"primary"}];return e.jsxs("div",{className:"p-4 md:p-8 bg-slate-50 min-h-screen",children:[e.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-black text-slate-900 tracking-tight",children:"Payments & Billing"}),e.jsx("p",{className:"text-slate-500 font-medium",children:"Manage your invoices and payment methods in one place."})]}),e.jsx("div",{className:"flex gap-2",children:e.jsx(Ut,{variant:"outline",onClick:()=>l(!0),icon:Va,children:"Yearly Statement"})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:ne.map(I=>e.jsx(Gn,{...I},I.id))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[e.jsxs(is,{className:"rounded-[32px] border-l-4 border-l-emerald-500",children:[e.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4",children:"Account Status"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-emerald-100 text-emerald-600 flex items-center justify-center",children:e.jsx(Qt,{size:20})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-black text-slate-900 leading-tight",children:V>0?"Action Required":"Paid & Current"}),e.jsx("div",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-wide",children:V>0?"Pay Outstanding Balance":"All clear"})]})]})]}),e.jsxs(is,{className:"rounded-[32px]",children:[e.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4",children:"Payment Methods"}),e.jsxs("div",{className:"space-y-4",children:[C.length>0?C.map((I,oe)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-white flex items-center justify-center shadow-sm",children:e.jsx(Ps,{size:14,className:"text-violet-600"})}),e.jsxs("span",{className:"text-sm font-bold text-slate-700",children:[" ",I.number]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[oe===0&&e.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),e.jsx("button",{onClick:()=>H(I.id),className:"p-2 text-slate-400 hover:text-rose-500 hover:bg-rose-50 rounded-full transition-all",children:e.jsx(ms,{size:16})})]})]},I.id||oe)):e.jsx("div",{className:"text-xs font-bold text-slate-400 flex items-center justify-center p-4",children:"No linked cards yet"}),e.jsx(Ut,{variant:"outline",onClick:()=>s(!0),className:"w-full h-12 border-dashed border-2 hover:border-violet-300 rounded-2xl",icon:wt,children:"Add New Method"})]})]})]}),e.jsx("div",{className:"lg:col-span-3",children:e.jsxs(is,{className:"rounded-[32px] p-0 overflow-hidden",children:[e.jsxs("div",{className:"p-8 border-b border-slate-50 flex justify-between items-center",children:[e.jsx("h3",{className:"text-xl font-black text-slate-900",children:"Invoice History"}),e.jsx("div",{className:"p-2.5 bg-slate-50 rounded-xl text-slate-400",children:e.jsx(Ga,{size:20})})]}),w.length>0?e.jsxs("div",{className:"overflow-x-auto overflow-y-hidden",children:[e.jsxs("table",{className:"w-full text-left border-collapse hidden md:table",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50/50",children:[e.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"ID"}),e.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Issued"}),e.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Amount"}),e.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Status"}),e.jsx("th",{className:"px-8 py-5 text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:w.map(I=>e.jsx(k_,{...I,onDownload:B,onPay:G,downloading:u},I.id))})]}),e.jsx("div",{className:"md:hidden p-6 space-y-6",children:w.map(I=>e.jsx(Ya,{title:`Invoice #${I.id}`,subtitle:I.date,status:I.status,statusColor:I.status==="Paid"?"emerald":I.status==="Unpaid"?"rose":"amber",badge:`${I.amount.toLocaleString()}`,badgeColor:"violet",icon:Ga,actions:I.status!=="Paid"?[{label:"Pay Now",icon:Xl,onClick:()=>G(I),variant:"primary"},{label:"PDF",icon:Qs,onClick:()=>B(I.id),variant:"outline"}]:[{label:"Download PDF",icon:Qs,onClick:()=>B(I.id),variant:"outline"}]},I.id))})]}):e.jsxs("div",{className:"p-20 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-6 text-slate-200",children:e.jsx(Va,{size:40})}),e.jsx("h4",{className:"text-xl font-bold text-slate-900 mb-2",children:"No invoices available"}),e.jsx("p",{className:"text-slate-400 font-medium",children:"All your future billing will appear here."})]}),e.jsx("div",{className:"p-8 text-center bg-slate-50/30 border-t border-slate-50",children:e.jsxs("button",{onClick:()=>l(!0),className:"group inline-flex items-center gap-2 text-violet-600 font-black text-[10px] uppercase tracking-[0.2em] hover:text-violet-700 transition-all",children:[e.jsx(Va,{size:14}),"Download Complete Year Statement"]})})]})})]})]}),e.jsx(rt,{isOpen:i,onClose:()=>!p&&o(!1),title:"Process Payment",maxWidth:"max-w-md",children:d&&e.jsx("div",{className:"p-8 space-y-8 h-full flex flex-col",children:b?e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center space-y-8 animate-in fade-in zoom-in duration-500",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-emerald-500/20 rounded-full animate-ping"}),e.jsx("div",{className:"relative w-24 h-24 bg-emerald-100 text-emerald-600 rounded-full flex items-center justify-center border-4 border-white shadow-xl",children:e.jsx(Ff,{size:40})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-3xl font-black text-slate-900 tracking-tight",children:"Payment Verified!"}),e.jsxs("p",{className:"text-slate-500 font-medium max-w-xs leading-relaxed",children:["Your invoice balance for #",d.id," has been cleared."]})]}),e.jsx("div",{className:"pt-10 w-full",children:e.jsx("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-100 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Invoice will reflect status 'Paid' immediately"})})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-slate-50 p-6 rounded-[32px] border border-slate-100 flex items-center gap-6",children:[e.jsx("div",{className:"w-16 h-16 rounded-[24px] bg-white shadow-sm flex items-center justify-center text-violet-600",children:e.jsx(Ga,{size:32})}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-xl font-black text-slate-900 leading-tight",children:["#",d.id]}),e.jsxs("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mt-1",children:["Due Date: ",d.dueDate]})]})]}),e.jsxs("div",{className:"space-y-6 flex-1",children:[e.jsxs("div",{className:"p-6 rounded-[32px] bg-slate-900 text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/5 rounded-full -mr-16 -mt-16 blur-2xl"}),e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-[0.2em] mb-2",children:"Total Amount Due"}),e.jsxs("div",{className:"text-4xl font-black tracking-tight mb-6",children:["",d.amount.toLocaleString()]}),e.jsx("div",{className:"flex items-center justify-between pt-6 border-t border-white/10 mt-6",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ps,{size:16,className:"text-slate-400"}),e.jsx("span",{className:"text-sm font-bold opacity-80",children:C.length>0?`Card  ${C[0].number}`:"No Linked Cards"})]})})]}),e.jsxs("div",{className:"p-6 rounded-[32px] bg-emerald-50 border border-emerald-100 flex gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-white flex items-center justify-center text-emerald-600 shadow-sm shrink-0",children:e.jsx(Xt,{size:20})}),e.jsx("p",{className:"text-xs font-bold text-emerald-800 leading-relaxed uppercase tracking-wide",children:"Your payment is secured with standard encryption. Verified merchant Kiaan Gyms."})]})]}),e.jsx("div",{className:"pt-6 border-t border-slate-100",children:e.jsx(Ut,{onClick:W,disabled:p,className:"w-full py-5 rounded-[24px]",children:p?e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Hr,{size:20,className:"animate-spin"}),"Processing Security..."]}):`Authorize Payment (${d.amount.toLocaleString()})`})})]})})}),e.jsx(rt,{isOpen:t,onClose:()=>s(!1),title:"Add New Card",maxWidth:"max-w-md",children:e.jsxs("div",{className:"p-8 space-y-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Card Number"}),e.jsx("input",{value:N.number,onChange:I=>P({...N,number:I.target.value}),maxLength:16,className:"w-full h-14 px-5 rounded-[20px] border-2 border-slate-100 focus:border-violet-500 outline-none font-bold text-slate-900 transition-all bg-slate-50 tracking-widest",placeholder:"0000 0000 0000 0000"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Expiry"}),e.jsx("input",{value:N.expiry,onChange:I=>P({...N,expiry:I.target.value}),className:"w-full h-14 px-5 rounded-[20px] border-2 border-slate-100 focus:border-violet-500 outline-none font-bold text-slate-900 transition-all bg-slate-50",placeholder:"MM/YY"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"CVV"}),e.jsx("input",{value:N.cvv,onChange:I=>P({...N,cvv:I.target.value}),maxLength:4,className:"w-full h-14 px-5 rounded-[20px] border-2 border-slate-100 focus:border-violet-500 outline-none font-bold text-slate-900 transition-all bg-slate-50",placeholder:"",type:"password"})]})]})]}),e.jsxs("div",{className:"flex gap-4 pt-4",children:[e.jsx(Ut,{variant:"outline",onClick:()=>s(!1),className:"flex-1 py-5 rounded-[24px]",children:"Cancel"}),e.jsx(Ut,{onClick:q,className:"flex-[2] py-5 rounded-[24px]",children:"Add Securely"})]})]})}),e.jsx(rt,{isOpen:a,onClose:()=>l(!1),title:"Yearly Statement",maxWidth:"max-w-md",children:e.jsxs("div",{className:"p-8 space-y-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-violet-50 p-6 rounded-[24px] border border-violet-100 flex gap-4 text-violet-800 text-sm font-medium leading-relaxed",children:[e.jsx(Va,{className:"shrink-0 text-violet-600",size:24}),e.jsx("p",{children:"Select the fiscal year to download your complete payment breakdown and gym membership statements."})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Fiscal Year"}),e.jsxs("select",{value:_,onChange:I=>F(I.target.value),className:"w-full h-14 px-5 rounded-[20px] border-2 border-slate-100 focus:border-violet-500 outline-none font-black text-slate-900 transition-all bg-slate-50 appearance-none",children:[e.jsx("option",{value:"2026",children:"2026"}),e.jsx("option",{value:"2025",children:"2025"}),e.jsx("option",{value:"2024",children:"2024"}),e.jsx("option",{value:"2023",children:"2023"}),e.jsx("option",{value:"2022",children:"2022"})]})]})]}),e.jsxs("div",{className:"flex gap-4 pt-4",children:[e.jsx(Ut,{variant:"outline",onClick:()=>l(!1),className:"flex-1 py-5 rounded-[24px]",children:"Close"}),e.jsx(Ut,{onClick:T,className:"flex-[2] py-5 rounded-[24px]",icon:Qs,children:"Generate PDF"})]})]})})]})},k_=({id:t,dbId:s,date:a,amount:l,status:i,onDownload:o,onPay:d,downloading:x})=>e.jsxs("tr",{className:"hover:bg-slate-50/50 transition-all group",children:[e.jsx("td",{className:"px-8 py-5",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ga,{size:16,className:"text-slate-400 group-hover:text-violet-500 transition-colors"}),e.jsx("span",{className:"text-sm font-bold text-slate-900 tracking-tight",children:t})]})}),e.jsx("td",{className:"px-8 py-5",children:e.jsx("span",{className:"text-sm font-bold text-slate-500",children:a})}),e.jsx("td",{className:"px-8 py-5",children:e.jsxs("span",{className:"text-sm font-black text-slate-900 tracking-tight",children:["",l.toLocaleString()]})}),e.jsx("td",{className:"px-8 py-5",children:e.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-lg text-[10px] font-black uppercase tracking-wider border ${i==="Paid"?"bg-emerald-50 text-emerald-600 border-emerald-100":i==="Unpaid"?"bg-rose-50 text-rose-600 border-rose-100":"bg-amber-50 text-amber-600 border-amber-100"}`,children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full mr-1.5 ${i==="Paid"?"bg-emerald-500":i==="Unpaid"?"bg-rose-500":"bg-amber-500 animate-pulse"}`}),i]})}),e.jsx("td",{className:"px-8 py-5",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[i!=="Paid"&&e.jsx(Ut,{onClick:()=>d({id:t,dbId:s,date:a,amount:l,status:i}),className:"h-10 px-4 py-0 rounded-xl bg-violet-600 hover:bg-violet-700 shadow-md shadow-violet-100",children:"Pay Now"}),e.jsx("button",{onClick:()=>o(t),disabled:x===t,className:"p-2.5 text-slate-400 hover:text-violet-600 hover:bg-white rounded-xl shadow-sm border border-slate-100 transition-all disabled:opacity-50",title:"Download PDF",children:x===t?e.jsx("div",{className:"w-4 h-4 border-2 border-violet-600 border-t-transparent rounded-full animate-spin"}):e.jsx(Qs,{size:16})})]})})]}),S_=()=>{const[t,s]=v.useState(null),[a,l]=v.useState(!0),[i,o]=v.useState("personal"),[d,x]=v.useState(!1),[u,h]=v.useState({type:"",text:""}),[p,f]=v.useState(!1),[b,g]=v.useState({name:"",email:"",phone:"",address:"",password:"",confirmPassword:""});v.useEffect(()=>{j()},[]);const j=async()=>{l(!0);const P=await qw();s(P),g({name:P.name,email:P.email,phone:P.phone,address:P.address||""}),l(!1)},A=P=>{const{name:_,value:F}=P.target;g(R=>({...R,[_]:F}))},w=async P=>{if(P.preventDefault(),x(!0),h({type:"",text:""}),b.password&&b.password!==b.confirmPassword){h({type:"error",text:"Passwords do not match!"}),x(!1);return}try{const _=await uM(b);s(_),g(F=>({...F,password:"",confirmPassword:""})),h({type:"success",text:"Profile updated successfully!"})}catch{h({type:"error",text:"Failed to update profile."})}finally{x(!1)}},k=async()=>{f(!0);try{const P=await vM();s(P),h({type:"success",text:"Membership frozen successfully!"})}catch{h({type:"error",text:"Failed to freeze membership."})}finally{f(!1)}},C=async()=>{f(!0);try{const P=await yM();s(P),h({type:"success",text:"Membership unfrozen successfully!"})}catch{h({type:"error",text:"Failed to unfreeze membership."})}finally{f(!1)}},L=P=>{switch(P){case"Active":return"bg-emerald-50 text-emerald-700 border-emerald-200";case"Expired":return"bg-red-50 text-red-700 border-red-200";case"Payment Pending":return"bg-amber-50 text-amber-700 border-amber-200";case"Frozen":return"bg-blue-50 text-blue-700 border-blue-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}};if(a)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 flex items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"h-16 w-16 bg-gradient-to-br from-violet-200 to-purple-200 rounded-full mb-4 animate-spin"}),e.jsx("p",{className:"text-lg font-semibold text-slate-600",children:"Loading profile..."})]})});const N=[{id:"personal",label:"Personal Info",icon:lt},{id:"security",label:"Security",icon:Ca},{id:"notifications",label:"Notifications",icon:wl}];return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-6 md:p-8 font-sans",children:e.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[e.jsxs("div",{className:"relative bg-white rounded-2xl border border-slate-100 shadow-xl overflow-hidden animate-in fade-in duration-500",children:[e.jsxs("div",{className:"h-40 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-transparent to-black/10"}),e.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-10"})]}),e.jsx("div",{className:"px-8 pb-8",children:e.jsxs("div",{className:"relative flex flex-col md:flex-row md:items-end gap-6 -mt-16",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"w-36 h-36 rounded-2xl bg-white p-2 shadow-2xl ring-4 ring-white",children:e.jsx("div",{className:"w-full h-full rounded-xl bg-gradient-to-br from-violet-600 to-purple-600 flex items-center justify-center text-white text-5xl font-black shadow-lg",children:t.avatar})}),e.jsx("button",{className:"absolute bottom-2 right-2 p-3 bg-white rounded-xl shadow-lg border border-slate-200 text-violet-600 hover:scale-110 hover:bg-violet-50 active:scale-95 transition-all duration-300 group-hover:shadow-xl",children:e.jsx(qo,{size:18})})]}),e.jsxs("div",{className:"flex-1 pb-2",children:[e.jsx("h1",{className:"text-3xl font-black bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent mb-2",children:t.name}),e.jsxs("div",{className:"flex flex-wrap gap-3 mt-3",children:[e.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-gradient-to-r from-violet-50 to-purple-50 text-violet-700 text-xs font-bold border border-violet-200 shadow-sm",children:t.plan}),e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-bold border shadow-sm ${L(t.membershipStatus)}`,children:[t.membershipStatus==="Active"&&e.jsx(Xt,{size:14}),t.membershipStatus==="Frozen"&&e.jsx(B1,{size:14}),t.membershipStatus==="Expired"&&e.jsx(Qe,{size:14}),t.membershipStatus==="Payment Pending"&&e.jsx(ua,{size:14}),t.membershipStatus]}),e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full bg-slate-50 text-slate-700 text-xs font-bold border border-slate-200 shadow-sm",children:[e.jsx(Ve,{size:14,className:"text-slate-500"}),"Joined ",t.joinedDate]})]})]}),e.jsxs("button",{className:"md:mb-2 px-6 py-3 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-xl text-sm font-bold shadow-lg shadow-violet-200 hover:shadow-violet-500/30 hover:scale-105 active:scale-95 transition-all duration-300 flex items-center gap-2",children:[e.jsx(Xt,{size:18}),"Verified Member"]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-xl p-8 animate-in fade-in duration-500",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-1",children:"Membership Details"}),e.jsx("p",{className:"text-sm text-slate-600 font-medium",children:"Your current plan information"})]}),e.jsx("div",{className:"p-3 bg-gradient-to-br from-violet-100 to-purple-100 rounded-xl",children:e.jsx($t,{size:24,className:"text-violet-600"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-100",children:[e.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-1",children:"Plan Name"}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:t.plan})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-100",children:[e.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-1",children:"Start Date"}),e.jsx("p",{className:"text-sm font-bold text-slate-900",children:new Date(t.membershipStartDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]}),e.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-100",children:[e.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-1",children:"Expiry Date"}),e.jsx("p",{className:"text-sm font-bold text-slate-900",children:new Date(t.membershipExpiryDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})]})]}),(t.currentUserRole==="ADMIN"||t.currentUserRole==="MANAGER")&&e.jsx("div",{className:"mt-6 pt-6 border-t border-slate-100",children:t.membershipStatus==="Active"?e.jsx("button",{onClick:k,disabled:p,className:"w-full px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-xl text-sm font-bold shadow-lg shadow-blue-200 hover:shadow-blue-500/30 hover:scale-105 active:scale-95 transition-all duration-300 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:p?e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(AC,{size:18}),"Freeze Membership"]})}):t.membershipStatus==="Frozen"?e.jsx("button",{onClick:C,disabled:p,className:"w-full px-6 py-3 bg-gradient-to-r from-emerald-600 to-emerald-700 text-white rounded-xl text-sm font-bold shadow-lg shadow-emerald-200 hover:shadow-emerald-500/30 hover:scale-105 active:scale-95 transition-all duration-300 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:p?e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(ow,{size:18}),"Unfreeze Membership"]})}):e.jsx("div",{className:"text-center p-4 bg-slate-50 rounded-xl border border-slate-200",children:e.jsxs("p",{className:"text-xs font-bold text-slate-500",children:["Freeze/Unfreeze not available for ",t.membershipStatus," status"]})})})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-xl p-8 animate-in fade-in duration-500",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-1",children:"Benefit Wallet"}),e.jsx("p",{className:"text-sm text-slate-600 font-medium",children:"Your available credits"})]}),e.jsx("span",{className:"px-3 py-1.5 rounded-full bg-gradient-to-r from-violet-50 to-purple-50 text-violet-700 text-xs font-bold border border-violet-200 shadow-sm",children:t.planValidity})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-5 bg-gradient-to-br from-orange-50 to-red-50 rounded-xl border border-orange-100 hover:shadow-lg transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"p-2 bg-white rounded-lg shadow-sm",children:e.jsx(jg,{size:20,className:"text-orange-600"})}),e.jsx("span",{className:"text-2xl font-black text-orange-600",children:t.benefitWallet.saunaSessions})]}),e.jsx("p",{className:"text-xs font-bold text-orange-900 uppercase tracking-wider",children:"Sauna Sessions"}),e.jsx("p",{className:"text-[10px] text-orange-700 mt-1 font-medium",children:"Left"})]}),e.jsxs("div",{className:"p-5 bg-gradient-to-br from-cyan-50 to-blue-50 rounded-xl border border-cyan-100 hover:shadow-lg transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"p-2 bg-white rounded-lg shadow-sm",children:e.jsx(B1,{size:20,className:"text-cyan-600"})}),e.jsx("span",{className:"text-2xl font-black text-cyan-600",children:t.benefitWallet.iceBathCredits})]}),e.jsx("p",{className:"text-xs font-bold text-cyan-900 uppercase tracking-wider",children:"Ice Bath Credits"}),e.jsx("p",{className:"text-[10px] text-cyan-700 mt-1 font-medium",children:"Left"})]}),e.jsx("div",{className:"p-5 bg-gradient-to-br from-violet-50 to-purple-50 rounded-xl border border-violet-100 hover:shadow-lg transition-all duration-300 col-span-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-white rounded-lg shadow-sm",children:e.jsx(Er,{size:20,className:"text-violet-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-violet-900 uppercase tracking-wider",children:"PT Sessions Remaining"}),e.jsx("p",{className:"text-[10px] text-violet-700 mt-0.5 font-medium",children:"Personal Training"})]})]}),e.jsx("span",{className:"text-3xl font-black text-violet-600",children:t.benefitWallet.ptSessions})]})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"lg:col-span-1 space-y-2",children:N.map(P=>e.jsxs("button",{onClick:()=>o(P.id),className:`w-full flex items-center gap-3 px-5 py-4 rounded-xl text-sm font-bold transition-all duration-300 ${i===P.id?"bg-gradient-to-r from-violet-600 to-purple-600 text-white shadow-lg shadow-violet-200 hover:shadow-xl hover:scale-105":"text-slate-600 hover:bg-white border border-transparent hover:border-slate-200 hover:text-slate-900 hover:shadow-md"}`,children:[e.jsx(P.icon,{size:20,className:i===P.id?"":"text-slate-400"}),P.label]},P.id))}),e.jsx("div",{className:"lg:col-span-3",children:e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-xl p-8 animate-in slide-in-from-right duration-500",children:[u.text&&e.jsxs("div",{className:`mb-6 p-4 rounded-xl flex items-center gap-3 text-sm font-bold border ${u.type==="success"?"bg-emerald-50 text-emerald-700 border-emerald-200":"bg-red-50 text-red-700 border-red-200"}`,children:[u.type==="success"?e.jsx(Xt,{size:18}):e.jsx(Ca,{size:18}),u.text]}),i==="personal"&&e.jsxs("form",{onSubmit:w,className:"space-y-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"Personal Information"}),e.jsx("p",{className:"text-sm text-slate-600 font-medium",children:"Update your profile details and contact information."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest px-1",children:"Full Name"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-slate-400 group-focus-within:text-violet-600 group-focus-within:scale-110 transition-all duration-300",children:e.jsx(lt,{size:20})}),e.jsx("input",{type:"text",name:"name",value:b.name,onChange:A,className:"block w-full pl-12 pr-4 py-3.5 bg-white border-2 border-slate-200 rounded-xl text-slate-900 text-sm font-bold focus:outline-none focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 hover:border-violet-200 transition-all duration-300 shadow-sm",placeholder:"Enter your name"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest px-1",children:"Email Address"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-slate-400 group-focus-within:text-violet-600 group-focus-within:scale-110 transition-all duration-300",children:e.jsx(Wr,{size:20})}),e.jsx("input",{type:"email",name:"email",value:b.email,readOnly:!0,className:"block w-full pl-12 pr-4 py-3.5 bg-slate-50 border-2 border-slate-200 rounded-xl text-slate-500 text-sm font-bold cursor-not-allowed transition-all duration-300 shadow-sm",placeholder:"Enter your email"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest px-1",children:"Phone Number"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-slate-400 group-focus-within:text-violet-600 group-focus-within:scale-110 transition-all duration-300",children:e.jsx(Hs,{size:20})}),e.jsx("input",{type:"text",name:"phone",value:b.phone,onChange:A,className:"block w-full pl-12 pr-4 py-3.5 bg-white border-2 border-slate-200 rounded-xl text-slate-900 text-sm font-bold focus:outline-none focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 hover:border-violet-200 transition-all duration-300 shadow-sm",placeholder:"Enter phone number"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest px-1",children:"Location"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-slate-400 group-focus-within:text-violet-600 group-focus-within:scale-110 transition-all duration-300",children:e.jsx($s,{size:20})}),e.jsx("input",{type:"text",name:"address",value:b.address,onChange:A,className:"block w-full pl-12 pr-4 py-3.5 bg-white border-2 border-slate-200 rounded-xl text-slate-900 text-sm font-bold focus:outline-none focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 hover:border-violet-200 transition-all duration-300 shadow-sm",placeholder:"Enter city, country"})]})]})]}),e.jsx("div",{className:"pt-8 border-t border-slate-100",children:e.jsxs("button",{type:"submit",disabled:d,className:"group relative flex items-center justify-center px-8 py-4 rounded-xl font-bold text-white shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:translate-y-0 bg-gradient-to-r from-violet-600 to-purple-600 hover:shadow-violet-500/50 w-full md:w-auto",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 to-fuchsia-600 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),d?e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin relative mr-2"}):e.jsx(na,{size:20,className:"mr-2 relative transition-transform duration-300 group-hover:rotate-12 group-hover:scale-110"}),e.jsx("span",{className:"relative z-10",children:d?"Saving...":"Save Profile Changes"})]})})]}),i==="security"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"Security Settings"}),e.jsx("p",{className:"text-sm text-slate-600 font-medium",children:"Manage your password and account security"})]}),e.jsxs("div",{className:"p-6 rounded-2xl bg-gradient-to-br from-red-50 to-red-100/50 border-2 border-red-100",children:[e.jsxs("h4",{className:"text-red-700 font-bold flex items-center gap-2 mb-2",children:[e.jsx(Rs,{size:20})," Password Management"]}),e.jsx("p",{className:"text-red-800/70 text-sm font-medium",children:"It's recommended to update your password every 90 days for maximum security."}),e.jsxs("form",{onSubmit:w,className:"space-y-4",children:[e.jsx("div",{children:e.jsx("input",{type:"password",name:"password",value:b.password,onChange:A,placeholder:"New Password",className:"w-full mt-4 px-4 py-3 bg-white border border-red-200 rounded-xl text-sm focus:ring-2 focus:ring-red-400 focus:outline-none transition-all"})}),e.jsx("div",{children:e.jsx("input",{type:"password",name:"confirmPassword",value:b.confirmPassword,onChange:A,placeholder:"Confirm New Password",className:"w-full px-4 py-3 bg-white border border-red-200 rounded-xl text-sm focus:ring-2 focus:ring-red-400 focus:outline-none transition-all"})}),e.jsx("button",{type:"submit",disabled:d||!b.password,className:"mt-4 px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-xl text-sm font-bold hover:shadow-lg hover:scale-105 active:scale-95 transition-all duration-300 shadow-red-200 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:d?"Updating...":"Change Password"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-xs font-black text-slate-900 uppercase tracking-widest px-1",children:"Account Security"}),e.jsx("div",{className:"p-6 rounded-2xl border-2 border-slate-100 bg-slate-50/50 hover:bg-white hover:border-violet-100 transition-all duration-300 group cursor-pointer",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-slate-900 group-hover:text-violet-700 transition-colors",children:"Two-Factor Authentication"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1 font-medium",children:"Add an extra layer of security to your account."})]}),e.jsx("div",{className:"relative w-12 h-6 bg-slate-300 rounded-full shadow-inner transition-all hover:bg-slate-400",children:e.jsx("div",{className:"absolute left-1 top-1 w-4 h-4 bg-white rounded-full shadow-sm transition-all text-emerald-500"})})]})})]})]}),i==="notifications"&&e.jsxs("div",{className:"flex flex-col items-center justify-center py-24 text-center",children:[e.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-violet-100 to-purple-100 rounded-full flex items-center justify-center text-violet-600 mb-6 shadow-inner",children:e.jsx(wl,{size:40,className:"animate-pulse"})}),e.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Notification Preferences"}),e.jsx("p",{className:"text-slate-500 max-w-sm font-medium leading-relaxed",children:"Customize how you receive alerts, session reminders, and system updates."})]})]})})]})]})})},C_=()=>{const[t,s]=v.useState([]),a=qt(),[l,i]=v.useState("All"),[o,d]=v.useState(!1),[x,u]=v.useState(!1),[h,p]=v.useState(!1),[f,b]=v.useState(!1),[g,j]=v.useState(""),[A,w]=v.useState(!1),[k,C]=v.useState(0),[L,N]=v.useState(0),[P,_]=v.useState(0),[F,R]=v.useState(0),[B,T]=v.useState("transactions"),[q,H]=v.useState([]),[G,W]=v.useState([]),[le,V]=v.useState([]),[ne,I]=v.useState(!1),[oe,Ne]=v.useState({name:"",number:"",expiry:""}),[Y,$]=v.useState(!1),[Q,ae]=v.useState("All");v.useEffect(()=>{ue(),me()},[]);const ue=async()=>{const xe=await pM();s(xe)},me=async()=>{try{const xe=await NM();C(xe?.balance||0),N(xe?.addedThisMonth||0),_(xe?.loyaltyPts||0),R(xe?.credits||0);const se=await Hw();V(se||[]);const Ze=await LM();W(Ze||[])}catch(xe){console.error("Failed to load wallet details:",xe)}},be=async xe=>{xe.preventDefault(),w(!0);try{const se=parseFloat(g);await fM(se),await me(),await ue(),d(!1),j(""),alert("Credits added successfully!")}catch(se){console.error("Error adding credits:",se),alert("Failed to add credits")}finally{w(!1)}},he=async()=>{b(!0);try{const xe=new bt;xe.setFontSize(20),xe.setTextColor(40,40,40),xe.text("Benefit Wallet Statement",14,22),xe.setFontSize(10),xe.setTextColor(100,100,100),xe.text(`Generated on: ${new Date().toLocaleDateString()}`,14,30),xe.text(`Available Balance: INR ${k}`,14,35);const se=t.map(Ze=>[Ze.date,Ze.title,Ze.type==="income"?"Credit":"Debit",(Ze.type==="income"?"+":"-")+" INR "+Ze.amount.toLocaleString()]);G0(xe,{startY:45,head:[["Date","Description","Type","Amount"]],body:se,theme:"striped",headStyles:{fillColor:[139,92,246]},styles:{fontSize:9,cellPadding:3}}),xe.save(`Wallet_Statement_${new Date().toISOString().split("T")[0]}.pdf`)}catch(xe){console.error("Error generating PDF:",xe),alert("Failed to generate statement.")}finally{b(!1)}},we=async xe=>{if(xe.preventDefault(),oe.number.length<4){alert("Please enter a valid card number");return}try{const se={name:oe.name||"New Card",number:oe.number.slice(-4),expiry:oe.expiry||"MM/YY",brand:"Custom"},Ze=await Ww(se);V([...le,Ze.card]),I(!1),Ne({name:"",number:"",expiry:""}),alert("Card saved successfully!")}catch(se){console.error("Failed to save card:",se),alert("Failed to save card")}},_e=async xe=>{if(window.confirm("Are you sure you want to delete this card?"))try{await Gw(xe),V(le.filter(se=>se.id!==xe))}catch(se){console.error("Failed to delete card:",se),alert("Failed to delete card")}},$e=async(xe,se,Ze)=>{if(P<se){alert("Insufficient loyalty points to redeem this item.");return}if(window.confirm(`Redeem ${Ze} for ${se} points?`)){w(!0);try{const It=await zM(xe);_(It.remainingPoints),await ue(),alert("Reward redeemed successfully!")}catch(It){console.error("Failed to redeem reward:",It),alert(typeof It=="string"?It:"Failed to redeem reward")}finally{w(!1)}}},Ke=t.filter(xe=>l==="All"?!0:xe.type===l.toLowerCase()),et=t.filter(xe=>Q==="All"?!0:xe.type===Q.toLowerCase());return e.jsxs("div",{className:"p-6 md:p-8 bg-gray-50 min-h-screen font-sans",children:[e.jsxs("div",{className:"max-w-5xl mx-auto space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-black text-gray-900 tracking-tight",children:"Benefit Wallet"}),e.jsx("p",{className:"text-gray-500 font-medium mt-1",children:"Manage your credits, rewards, and transaction history."})]}),e.jsxs("button",{onClick:()=>d(!0),className:"px-6 py-3 bg-violet-600 text-white rounded-2xl font-black shadow-lg shadow-violet-100 hover:bg-violet-700 transition-all flex items-center gap-2",children:[e.jsx(wt,{size:18})," Add Credits"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-slate-900 to-slate-800 p-6 md:p-8 rounded-[32px] md:rounded-[40px] text-white shadow-2xl relative overflow-hidden",children:[e.jsxs("div",{className:"relative z-10 space-y-8",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"p-3 bg-white/10 rounded-2xl backdrop-blur-md",children:e.jsx(Lh,{size:24,className:"text-indigo-300"})}),e.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Available Balance"})]}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-5xl font-black tracking-tight flex items-baseline gap-1",children:[e.jsx("span",{className:"text-2xl text-indigo-400 font-bold",children:""})," ",k.toLocaleString()]}),e.jsxs("p",{className:"text-slate-400 text-xs font-bold mt-2 flex items-center gap-1",children:[e.jsx(wt,{size:14,className:"text-green-400"})," ",L.toLocaleString()," added this month"]})]}),e.jsxs("div",{className:"flex items-center gap-4 pt-4",children:[e.jsxs("div",{className:"flex-1 p-3 bg-white/5 rounded-2xl border border-white/10 text-center",children:[e.jsx("p",{className:"text-[10px] uppercase font-bold text-slate-500",children:"Loyalty Pts"}),e.jsx("p",{className:"text-lg font-black text-indigo-300",children:P})]}),e.jsxs("div",{className:"flex-1 p-3 bg-white/5 rounded-2xl border border-white/10 text-center",children:[e.jsx("p",{className:"text-[10px] uppercase font-bold text-slate-500",children:"Credits"}),e.jsx("p",{className:"text-lg font-black text-indigo-300",children:F})]})]})]}),e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-indigo-500/10 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-violet-500/10 rounded-full blur-2xl"})]}),e.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-[28px] md:rounded-[32px] border border-gray-100 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(kf,{icon:Ps,label:"Saved Cards",onClick:()=>u(!0)}),e.jsx(kf,{icon:Wl,label:"Redeem Rewards",onClick:()=>p(!0)}),e.jsx(kf,{icon:yl,label:"Statement PDF",onClick:he,isLoading:f})]})]})]}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-white rounded-[32px] border border-gray-100 shadow-sm p-5 md:p-8 h-full flex flex-col",children:[e.jsxs("div",{className:"flex items-center gap-6 mb-8 border-b border-gray-100 pb-4",children:[e.jsxs("button",{onClick:()=>T("transactions"),className:`text-lg font-black transition-all relative ${B==="transactions"?"text-gray-900":"text-gray-400 hover:text-gray-600"}`,children:["Transactions",B==="transactions"&&e.jsx("div",{className:"absolute -bottom-[17px] left-0 right-0 h-1 bg-violet-600 rounded-full"})]}),e.jsxs("button",{onClick:()=>T("invoices"),className:`text-lg font-black transition-all relative ${B==="invoices"?"text-gray-900":"text-gray-400 hover:text-gray-600"}`,children:["My Invoices",B==="invoices"&&e.jsx("div",{className:"absolute -bottom-[17px] left-0 right-0 h-1 bg-violet-600 rounded-full"})]})]}),B==="transactions"?e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest",children:"Recent Activity"}),e.jsx("div",{className:"flex bg-gray-50 p-1 rounded-xl w-full sm:w-auto overflow-x-auto scrollbar-hide",children:["All","Income","Spent"].map(xe=>e.jsx("button",{onClick:()=>i(xe),className:`flex-1 sm:flex-none px-4 py-1.5 rounded-lg text-xs font-bold transition-all whitespace-nowrap ${l===xe?"bg-white text-violet-600 shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:xe},xe))})]}),e.jsx("div",{className:"space-y-1 max-h-[400px] overflow-y-auto pr-1 custom-scrollbar",children:Ke.length>0?Ke.map(xe=>e.jsx(D_,{title:xe.title,date:xe.date,amount:`${xe.type==="income"?"+":"-"}${xe.amount.toLocaleString()}`,type:xe.type},xe.id)):e.jsx("p",{className:"text-center text-gray-400 py-8 text-sm font-bold",children:"No transactions found."})}),e.jsx("button",{onClick:()=>$(!0),className:"w-full mt-6 py-4 text-violet-600 font-black text-sm hover:bg-violet-50 rounded-2xl transition-all",children:"View Detailed History"})]}):e.jsxs("div",{className:"flex-1 space-y-6",children:[e.jsxs("div",{className:"p-4 rounded-2xl bg-amber-50 border border-amber-100 flex gap-3 text-amber-800 text-sm",children:[e.jsx(hs,{className:"shrink-0",size:20}),e.jsx("p",{className:"font-medium",children:"You have 1 pending invoice. Please pay to avoid membership suspension."})]}),e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8 space-y-6 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-full flex items-center justify-center text-slate-200",children:e.jsx(Ga,{size:40})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-xl font-black text-slate-900",children:"Manage Your Invoices"}),e.jsx("p",{className:"text-sm text-slate-500 font-medium max-w-xs mx-auto",children:"We've moved our billing system to a dedicated page for better security and experience."})]}),e.jsxs(Ut,{onClick:()=>a("/member/payments"),variant:"primary",className:"px-8 py-4 rounded-2xl shadow-xl shadow-violet-100",children:["Go to My Invoices ",e.jsx(il,{size:18,className:"ml-2"})]})]})]})]})})]})]}),e.jsx(rt,{isOpen:Y,onClose:()=>$(!1),title:"Transaction History",maxWidth:"max-w-4xl",children:e.jsx("div",{className:"p-8 h-full flex flex-col",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[e.jsxs("div",{className:"w-full md:w-64 space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Filter by Type"}),e.jsx("div",{className:"space-y-1",children:["All","Income","Spent"].map(xe=>e.jsxs("button",{onClick:()=>ae(xe),className:`w-full flex items-center justify-between p-3 rounded-2xl text-sm font-bold transition-all ${Q===xe?"bg-violet-600 text-white shadow-lg shadow-violet-100":"text-gray-500 hover:bg-gray-50"}`,children:[xe,Q===xe&&e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-white"})]},xe))})]}),e.jsxs("div",{className:"p-6 rounded-3xl bg-slate-900 text-white space-y-4",children:[e.jsx("p",{className:"text-xs font-bold text-slate-400",children:"Monthly Summary"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-slate-500 font-bold",children:"Total Added"}),e.jsxs("span",{className:"text-lg font-black text-green-400",children:["+",L.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between items-center text-sm font-bold",children:[e.jsx("span",{className:"text-xs text-slate-500 font-bold",children:"Available"}),e.jsxs("span",{className:"text-lg font-black text-indigo-400",children:["",k.toLocaleString()]})]})]})]})]}),e.jsx("div",{className:"flex-1 space-y-4",children:et.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"hidden md:block bg-gray-50/50 rounded-3xl border border-gray-100 overflow-hidden",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Transaction"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Date"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-right",children:"Amount"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:et.map(xe=>e.jsxs("tr",{className:"hover:bg-white transition-colors group",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-xl ${xe.type==="income"?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:xe.type==="income"?e.jsx(O0,{size:16}):e.jsx(il,{size:16})}),e.jsx("span",{className:"font-bold text-gray-900 text-sm",children:xe.title})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"text-xs font-bold text-gray-400",children:xe.date})}),e.jsxs("td",{className:`px-6 py-4 text-sm font-black text-right ${xe.type==="income"?"text-green-600":"text-gray-900"}`,children:[xe.type==="income"?"+":"-","",xe.amount.toLocaleString()]})]},xe.id))})]})}),e.jsx("div",{className:"md:hidden space-y-4",children:et.map(xe=>e.jsx(Ya,{title:xe.title,subtitle:xe.date,status:xe.type==="income"?"+"+xe.amount.toLocaleString():"-"+xe.amount.toLocaleString(),statusColor:xe.type==="income"?"text-green-600":"text-gray-900",icon:xe.type==="income"?O0:il,iconColor:xe.type==="income"?"bg-green-100 text-green-600":"bg-red-100 text-red-600",fields:[]},xe.id))})]}):e.jsxs("div",{className:"h-64 flex flex-col items-center justify-center text-center space-y-3 bg-gray-50/50 rounded-3xl border border-dashed border-gray-200",children:[e.jsx("div",{className:"p-4 bg-gray-100 rounded-full text-gray-400",children:e.jsx(yl,{size:32})}),e.jsx("p",{className:"text-gray-400 font-bold text-sm",children:"No transactions found for this filter."})]})})]})})}),e.jsx(rt,{isOpen:o,onClose:()=>d(!1),title:"Add Wallet Credits",maxWidth:"max-w-md",children:e.jsxs("form",{onSubmit:be,className:"p-8 space-y-8",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Amount to add ()"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-6 top-1/2 -translate-y-1/2 text-gray-400 font-bold text-xl",children:""}),e.jsx("input",{type:"number",autoFocus:!0,required:!0,min:"1",className:"w-full bg-gray-50 border-2 border-gray-100 focus:border-violet-500 rounded-[24px] py-5 pl-12 pr-6 text-2xl font-black text-gray-900 outline-none transition-all",value:g,onChange:xe=>j(xe.target.value)})]})]}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:[500,1e3,2e3].map(xe=>e.jsxs("button",{type:"button",onClick:()=>j(xe),className:"py-4 rounded-2xl bg-violet-50 text-violet-600 text-xs font-black shadow-sm hover:bg-violet-600 hover:text-white transition-all active:scale-95",children:["+ ",xe]},xe))}),e.jsx("button",{type:"submit",disabled:A||!g,className:"w-full py-5 bg-violet-600 text-white rounded-[24px] font-black shadow-xl shadow-violet-200 hover:bg-violet-700 transition-all disabled:opacity-70 disabled:cursor-not-allowed flex justify-center items-center gap-2 transform active:scale-[0.98]",children:A?e.jsx(Q0,{className:"animate-spin",size:20}):"Proceed to Pay"}),e.jsx("p",{className:"text-center text-[10px] font-bold text-gray-400 uppercase tracking-[0.2em]",children:"Secure encrypted payment"})]})}),e.jsx(rt,{isOpen:x,onClose:()=>{u(!1),I(!1)},title:ne?"Add New Card":"Payment Methods",maxWidth:"max-w-md",children:e.jsx("div",{className:"p-8",children:ne?e.jsxs("form",{onSubmit:we,className:"space-y-6 animate-in slide-in-from-right-4 duration-300",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Card Holder Name"}),e.jsx("input",{required:!0,type:"text",className:"w-full bg-gray-50 border-2 border-gray-100 focus:border-violet-500 rounded-2xl py-4 px-5 text-sm font-black outline-none transition-all",placeholder:"Enter full name",value:oe.name,onChange:xe=>Ne({...oe,name:xe.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Card Number"}),e.jsx("input",{required:!0,type:"text",maxLength:"16",className:"w-full bg-gray-50 border-2 border-gray-100 focus:border-violet-500 rounded-2xl py-4 px-5 text-sm font-black outline-none transition-all tracking-[0.2em]",placeholder:"0000 0000 0000 0000",value:oe.number,onChange:xe=>Ne({...oe,number:xe.target.value.replace(/\D/g,"")})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Expiry Date"}),e.jsx("input",{required:!0,type:"text",maxLength:"5",className:"w-full bg-gray-50 border-2 border-gray-100 focus:border-violet-500 rounded-2xl py-4 px-5 text-sm font-black outline-none transition-all",placeholder:"MM/YY",value:oe.expiry,onChange:xe=>{let se=xe.target.value.replace(/\D/g,"");se.length>=2&&(se=se.slice(0,2)+"/"+se.slice(2)),Ne({...oe,expiry:se})}})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"CVV"}),e.jsx("input",{required:!0,type:"password",maxLength:"3",className:"w-full bg-gray-50 border-2 border-gray-100 focus:border-violet-500 rounded-2xl py-4 px-5 text-sm font-black outline-none transition-all",placeholder:""})]})]}),e.jsxs("div",{className:"flex gap-4 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>I(!1),className:"flex-1 py-5 bg-gray-50 text-gray-400 rounded-[24px] font-black text-sm hover:bg-gray-100 transition-all uppercase tracking-widest",children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex-[2] py-5 bg-violet-600 text-white rounded-[24px] font-black text-sm shadow-xl shadow-violet-200 hover:bg-violet-700 transition-all uppercase tracking-widest",children:"Save Method"})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"space-y-4",children:le.map((xe,se)=>e.jsxs("div",{className:`p-6 rounded-[32px] border-2 transition-all ${se===0?"border-violet-200 bg-violet-50/20":"border-gray-50 bg-white hover:border-violet-100"} flex items-center justify-between group`,children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-12 h-8 ${xe.brand==="HDFC"?"bg-slate-900":xe.brand==="ICICI"?"bg-blue-600":"bg-slate-500"} rounded-lg flex items-center justify-center text-[8px] text-white font-black shadow-lg`,children:xe.brand}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-black text-gray-900",children:xe.name}),e.jsxs("p",{className:"text-[11px] font-bold text-gray-400",children:["  ",xe.number]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[se===0&&e.jsx("div",{className:"w-6 h-6 rounded-full bg-violet-600 flex items-center justify-center shadow-lg shadow-violet-200",children:e.jsx(Wl,{size:12,className:"text-white fill-white"})}),e.jsx("button",{onClick:()=>_e(xe.id),className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-full transition-all",children:e.jsx(ms,{size:16})})]})]},xe.id))}),e.jsxs("button",{onClick:()=>I(!0),className:"w-full py-5 border-2 border-dashed border-gray-200 rounded-[24px] text-gray-400 font-black text-sm hover:border-violet-300 hover:text-violet-600 hover:bg-violet-50 transition-all flex items-center justify-center gap-2",children:[e.jsx(wt,{size:20})," Add New Method"]})]})})}),e.jsx(rt,{isOpen:h,onClose:()=>p(!1),title:"Rewards Store",maxWidth:"max-w-md",children:e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs("div",{className:"bg-gradient-to-br from-violet-600 to-indigo-700 p-8 text-white",children:[e.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.2em] opacity-80 mb-1",children:"Total Available"}),e.jsxs("h2",{className:"text-4xl font-black flex items-center gap-2",children:[P," ",e.jsx(Wl,{className:"fill-white",size:24})]})]}),e.jsx("div",{className:"p-8 space-y-6 flex-1 overflow-y-auto",children:G.length===0?e.jsx("p",{className:"text-center text-xs font-bold text-gray-400",children:"Loading rewards store..."}):G.map(xe=>e.jsx(A_,{points:xe.points,title:xe.name,description:xe.description,disabled:P<xe.points||A,onRedeem:()=>$e(xe.id,xe.points,xe.name)},xe.id))}),e.jsx("div",{className:"p-8 bg-gray-50 border-t border-gray-100 italic text-[10px] font-bold text-gray-400 text-center uppercase tracking-widest",children:"New rewards added every month"})]})})]})},kf=({icon:t,label:s,onClick:a,isLoading:l})=>e.jsxs("button",{onClick:a,disabled:l,className:"w-full flex items-center justify-between p-3.5 md:p-4 bg-gray-50 hover:bg-violet-50 hover:text-violet-600 rounded-2xl transition-all group disabled:opacity-70 disabled:cursor-not-allowed",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[l?e.jsx(Q0,{size:18,className:"animate-spin text-violet-500"}):e.jsx(t,{size:18}),e.jsx("span",{className:"text-sm font-bold",children:s})]}),e.jsx(il,{size:16,className:"text-gray-300 group-hover:text-violet-500"})]}),A_=({points:t,title:s,description:a,onRedeem:l,disabled:i})=>e.jsxs("div",{className:`p-4 rounded-2xl border border-gray-100 bg-white flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 ${i?"opacity-50":""}`,children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"px-2 py-0.5 rounded-md bg-amber-100 text-amber-600 text-[10px] font-black",children:[t," PTS"]}),e.jsx("h4",{className:"font-bold text-gray-900 text-sm",children:s})]}),e.jsx("p",{className:"text-xs text-gray-400 font-medium",children:a})]}),e.jsx("button",{onClick:l,disabled:i,className:`px-4 py-2 rounded-xl text-xs font-black transition-all ${i?"bg-gray-100 text-gray-400":"bg-gray-900 text-white hover:bg-violet-600"}`,children:"Redeem"})]}),D_=({title:t,date:s,amount:a,type:l})=>{const i=l==="income";return e.jsxs("div",{className:"flex items-center justify-between p-3 md:p-4 hover:bg-gray-50 rounded-2xl transition-all",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`p-2.5 rounded-xl ${i?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:i?e.jsx(O0,{size:18}):e.jsx(il,{size:18})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900 text-sm",children:t}),e.jsx("p",{className:"text-[11px] text-gray-400 font-bold uppercase tracking-wide",children:s})]})]}),e.jsx("span",{className:`text-sm font-black ${i?"text-green-600":"text-gray-900"}`,children:a})]})},B2=({role:t})=>e.jsx("div",{className:"fade-in",children:e.jsx(sm,{context:{role:t}})}),M_=({role:t})=>{const s=t==="MANAGER",[a,l]=v.useState({...FD,openingHours:"06:00 AM - 10:00 PM",wifiPassword:"KiaaanFitness@2024"}),i=o=>{s&&!["openingHours","wifiPassword"].includes(o.target.name)||l({...a,[o.target.name]:o.target.value})};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4 sm:gap-6",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 rounded-xl sm:rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(Lr,{size:24,className:"sm:w-7 sm:h-7",strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:s?"Branch Operational Details":"Organization Settings"}),e.jsx("span",{className:"hidden sm:inline-block px-2 py-0.5 bg-gradient-to-r from-violet-500 to-purple-600 text-white text-[10px] font-black rounded-md shadow-sm animate-pulse",children:s?"BRANCH SCOPE ":"GLOBAL SCOPE "})]}),e.jsx("p",{className:"text-slate-600 text-xs sm:text-sm mt-0.5 sm:mt-1",children:s?"Update your specific branch details and operation hours":"Manage your gym's brand identity and global contact details"})]})]}),e.jsxs("button",{className:"group flex items-center justify-center gap-2 px-5 sm:px-6 py-2.5 sm:py-3 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-lg sm:rounded-xl text-sm font-bold shadow-xl shadow-violet-500/50 hover:shadow-2xl hover:shadow-violet-500/60 hover:scale-105 transition-all w-full lg:w-auto",children:[e.jsx(na,{size:16,className:"sm:w-[18px] sm:h-[18px]",strokeWidth:2.5}),"Save Changes"]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 sm:gap-8",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"group relative bg-white rounded-xl sm:rounded-2xl shadow-lg border border-slate-100 p-6 sm:p-8 hover:shadow-xl hover:border-violet-200 transition-all duration-300 h-full text-center",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50/50 to-purple-50/50 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[e.jsxs("div",{className:"relative mb-4 sm:mb-6",children:[e.jsx("div",{className:"w-32 h-32 sm:w-40 sm:h-40 rounded-full p-1 bg-gradient-to-br from-violet-500 to-fuchsia-500 shadow-xl shadow-violet-200",children:e.jsx("div",{className:"w-full h-full rounded-full border-4 border-white bg-slate-50 overflow-hidden flex items-center justify-center group-hover:scale-105 transition-transform duration-500",children:a.logoUrl?e.jsx("img",{src:a.logoUrl,alt:"Logo",className:"w-full h-full object-cover"}):e.jsx(Lr,{size:40,className:"sm:w-12 sm:h-12 text-slate-300"})})}),!s&&e.jsx("button",{className:"absolute bottom-1 right-1 sm:bottom-2 sm:right-2 p-2.5 sm:p-3 bg-violet-600 text-white rounded-full shadow-lg hover:bg-violet-700 hover:scale-110 transition-all duration-300 border-4 border-white",children:e.jsx(qo,{size:18,className:"sm:w-5 sm:h-5",strokeWidth:2.5})})]}),e.jsx("h3",{className:"text-lg sm:text-xl font-black text-slate-800 mb-2",children:"Brand Logo"}),e.jsx("p",{className:"text-slate-500 text-xs sm:text-sm font-medium mb-4 sm:mb-6 max-w-xs mx-auto",children:s?"Global organization logo (Managed by Admin)":"Upload a high-resolution logo. Recommended size: 512x512px."}),!s&&e.jsx("button",{className:"w-full py-2.5 sm:py-3 bg-white border-2 border-slate-200 text-slate-700 rounded-lg sm:rounded-xl text-sm font-bold hover:border-violet-500 hover:text-violet-600 transition-all duration-300",children:"Upload New Logo"})]})]})}),e.jsxs("div",{className:"lg:col-span-2 space-y-6 sm:space-y-8",children:[e.jsxs("div",{className:"group relative bg-white rounded-xl sm:rounded-2xl shadow-lg border border-slate-100 p-6 sm:p-8 hover:shadow-xl hover:border-violet-200 transition-all duration-300",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50/30 to-purple-50/30 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative z-10 grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6",children:[e.jsxs("div",{className:"md:col-span-2 border-b border-slate-100 pb-2 mb-2",children:[e.jsx("h3",{className:"text-sm font-black text-violet-600 uppercase tracking-widest",children:"Global Brand Identity"}),e.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-tight",children:"Read-only for Branch Scope"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2 ml-1",children:"Organization Name"}),e.jsxs("div",{className:"relative group/input",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx(Lr,{size:18,className:"text-slate-400 group-focus-within/input:text-violet-500 transition-colors"})}),e.jsx("input",{name:"name",type:"text",value:a.name,onChange:i,disabled:s,className:`w-full pl-11 pr-4 py-3.5 border-2 rounded-xl font-bold transition-all duration-300 ${s?"bg-slate-100 text-slate-400 cursor-not-allowed border-slate-100":"bg-slate-50 border-slate-200 text-slate-800 focus:bg-white focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10"}`,placeholder:"Enter organization name"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2 ml-1",children:"Email Address"}),e.jsxs("div",{className:"relative group/input",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx(Wr,{size:18,className:"text-slate-400 group-focus-within/input:text-violet-500 transition-colors"})}),e.jsx("input",{name:"email",type:"email",value:a.email,onChange:i,disabled:s,className:`w-full pl-11 pr-4 py-3.5 border-2 rounded-xl font-bold transition-all duration-300 ${s?"bg-slate-100 text-slate-400 cursor-not-allowed border-slate-100":"bg-slate-50 border-slate-200 text-slate-800 focus:bg-white focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10"}`,placeholder:"admin@example.com"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2 ml-1",children:"Phone Number"}),e.jsxs("div",{className:"relative group/input",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx(Hs,{size:18,className:"text-slate-400 group-focus-within/input:text-violet-500 transition-colors"})}),e.jsx("input",{name:"phone",type:"text",value:a.phone,onChange:i,disabled:s,className:`w-full pl-11 pr-4 py-3.5 border-2 rounded-xl font-bold transition-all duration-300 ${s?"bg-slate-100 text-slate-400 cursor-not-allowed border-slate-100":"bg-slate-50 border-slate-200 text-slate-800 focus:bg-white focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10"}`,placeholder:"+1 (555) 000-0000"})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2 ml-1",children:"Address"}),e.jsxs("div",{className:"relative group/input",children:[e.jsx("div",{className:"absolute top-4 left-4 flex items-start pointer-events-none",children:e.jsx($s,{size:18,className:"text-slate-400 group-focus-within/input:text-violet-500 transition-colors"})}),e.jsx("textarea",{name:"address",value:a.address,onChange:i,disabled:s,rows:"3",className:`w-full pl-11 pr-4 py-3.5 border-2 rounded-xl font-bold transition-all duration-300 resize-none ${s?"bg-slate-100 text-slate-400 cursor-not-allowed border-slate-100":"bg-slate-50 border-slate-200 text-slate-800 focus:bg-white focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10"}`,placeholder:"Enter full address"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2 ml-1",children:"Timezone"}),e.jsxs("div",{className:"relative group/input",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx(Hh,{size:18,className:"text-slate-400 group-focus-within/input:text-violet-500 transition-colors"})}),e.jsxs("select",{name:"timezone",value:a.timezone,onChange:i,disabled:s,className:`w-full pl-11 pr-4 py-3.5 border-2 rounded-xl font-bold transition-all duration-300 appearance-none cursor-pointer ${s?"bg-slate-100 text-slate-400 cursor-not-allowed border-slate-100":"bg-slate-50 border-slate-200 text-slate-800 focus:bg-white focus:border-violet-500"}`,children:[e.jsx("option",{children:"PST (UTC-8)"}),e.jsx("option",{children:"EST (UTC-5)"}),e.jsx("option",{children:"IST (UTC+5:30)"})]}),!s&&e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-4 pointer-events-none",children:e.jsx(jl,{size:16,className:"text-slate-400 rotate-90"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2 ml-1",children:"Currency"}),e.jsxs("div",{className:"relative group/input",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx(Ps,{size:18,className:"text-slate-400 group-focus-within/input:text-violet-500 transition-colors"})}),e.jsxs("select",{name:"currency",value:a.currency,onChange:i,disabled:s,className:`w-full pl-11 pr-4 py-3.5 border-2 rounded-xl font-bold transition-all duration-300 appearance-none cursor-pointer ${s?"bg-slate-100 text-slate-400 cursor-not-allowed border-slate-100":"bg-slate-50 border-slate-200 text-slate-800 focus:bg-white focus:border-violet-500"}`,children:[e.jsx("option",{children:"USD ($)"}),e.jsx("option",{children:"EUR ()"}),e.jsx("option",{children:"INR ()"})]}),!s&&e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-4 pointer-events-none",children:e.jsx(jl,{size:16,className:"text-slate-400 rotate-90"})})]})]})]})]}),e.jsxs("div",{className:"group relative bg-white rounded-xl sm:rounded-2xl shadow-lg border border-slate-100 p-6 sm:p-8 hover:shadow-xl hover:border-violet-200 transition-all duration-300 overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-violet-50 rounded-bl-full -mr-16 -mt-16 transition-all group-hover:bg-violet-100"}),e.jsxs("div",{className:"relative z-10 space-y-6",children:[e.jsxs("div",{className:"border-b border-slate-100 pb-2 mb-2",children:[e.jsx("h3",{className:"text-sm font-black text-violet-600 uppercase tracking-widest",children:"Local Operational Details"}),e.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-tight",children:"Active for Branch Scope"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2 ml-1",children:"Opening Hours"}),e.jsxs("div",{className:"relative group/input",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx(Hh,{size:18,className:"text-slate-400 group-focus-within/input:text-violet-500 transition-colors"})}),e.jsx("input",{name:"openingHours",type:"text",value:a.openingHours,onChange:i,className:"w-full pl-11 pr-4 py-3.5 bg-violet-50/50 border-2 border-violet-100 rounded-xl font-bold text-slate-800 focus:bg-white focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all duration-300",placeholder:"e.g. 06:00 AM - 10:00 PM"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2 ml-1",children:"Guest Wi-Fi Password"}),e.jsxs("div",{className:"relative group/input",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx(Hs,{size:18,className:"text-slate-400 group-focus-within/input:text-violet-500 transition-colors"})}),e.jsx("input",{name:"wifiPassword",type:"text",value:a.wifiPassword,onChange:i,className:"w-full pl-11 pr-4 py-3.5 bg-violet-50/50 border-2 border-violet-100 rounded-xl font-bold text-slate-800 focus:bg-white focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all duration-300",placeholder:"Set Wi-Fi password"})]})]})]})]})]})]})]})]})},L_=()=>{const[t,s]=v.useState([]),[a,l]=v.useState(!0),[i,o]=v.useState(!1),[d,x]=v.useState({gymName:"",branchName:"",owner:"",phone:"",email:"",location:""}),u=async()=>{try{const g=((await kg()).gyms||[]).map(j=>({id:j.id,name:j.gymName+(j.branchName?` - ${j.branchName}`:""),location:j.location||"N/A",manager:j.owner||"N/A",status:j.status||"Active",members:j.members||0}));s(g)}catch(f){console.error("Failed to fetch branches:",f)}finally{l(!1)}};v.useEffect(()=>{u()},[]);const h=f=>{x({...d,[f.target.name]:f.target.value})},p=async f=>{f.preventDefault();try{await fw(d),o(!1),x({gymName:"",branchName:"",owner:"",phone:"",email:"",location:""}),u()}catch(b){console.error("Failed to add branch:",b),alert("Failed to add branch. Please try again.")}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6 flex-shrink-0",children:e.jsx($s,{size:24,className:"sm:w-7 sm:h-7",strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Branch Management"}),e.jsx("span",{className:"px-2 py-0.5 bg-gradient-to-r from-violet-500 to-purple-600 text-white text-[10px] font-black rounded-md shadow-sm animate-pulse whitespace-nowrap",children:"PREMIUM "})]}),e.jsx("p",{className:"text-slate-600 text-xs sm:text-sm mt-1",children:"Manage gym locations and their details"})]})]}),e.jsxs("button",{onClick:()=>o(!0),className:"group flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-xl text-sm font-bold shadow-xl shadow-violet-500/50 hover:shadow-2xl hover:shadow-violet-500/60 hover:scale-105 transition-all w-full sm:w-auto",children:[e.jsx(wt,{size:18,strokeWidth:2.5,className:"transition-all duration-300 group-hover:rotate-90"}),"Add Branch"]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4 sm:gap-6",children:[t.map(f=>e.jsxs("div",{className:"group relative bg-white rounded-3xl shadow-lg border border-slate-100 overflow-hidden hover:shadow-2xl hover:border-violet-200 transition-all duration-500 hover:-translate-y-1",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50/30 to-purple-50/30 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e.jsxs("div",{className:"relative p-6 z-10",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 text-white flex items-center justify-center text-2xl font-black shadow-lg shadow-violet-200 group-hover:scale-110 group-hover:rotate-3 transition-transform duration-500",children:f.name.charAt(0)}),e.jsxs("div",{className:"flex flex-col items-end gap-2",children:[e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-black uppercase tracking-wide border ${f.status==="Active"?"bg-emerald-50 text-emerald-600 border-emerald-100 shadow-emerald-500/20":"bg-slate-50 text-slate-500 border-slate-100"} shadow-sm`,children:f.status}),e.jsx("button",{className:"p-2 text-slate-300 hover:text-violet-600 hover:bg-violet-50 rounded-lg transition-all",children:e.jsx(_c,{size:16})})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-xl font-black text-slate-800 mb-1 group-hover:text-violet-700 transition-colors",children:f.name}),e.jsxs("p",{className:"text-slate-500 text-sm font-medium flex items-center gap-1.5",children:[e.jsx($s,{size:14,className:"text-violet-400"}),f.location]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[e.jsxs("div",{className:"p-3 bg-slate-50 rounded-xl border border-slate-100 group-hover:bg-white group-hover:shadow-sm transition-all",children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-400 text-[10px] font-black uppercase tracking-wider mb-1",children:[e.jsx(W0,{size:12})," Manager"]}),e.jsx("div",{className:"font-bold text-slate-700 text-sm truncate",children:f.manager})]}),e.jsxs("div",{className:"p-3 bg-slate-50 rounded-xl border border-slate-100 group-hover:bg-white group-hover:shadow-sm transition-all",children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-400 text-[10px] font-black uppercase tracking-wider mb-1",children:[e.jsx(_t,{size:12})," Members"]}),e.jsx("div",{className:"font-bold text-slate-700 text-sm",children:f.members})]})]}),e.jsxs("button",{className:"w-full py-3 flex items-center justify-center gap-2 bg-white border-2 border-slate-200 text-slate-600 rounded-xl text-sm font-bold hover:border-violet-500 hover:text-violet-600 hover:shadow-lg transition-all duration-300 group/btn",children:[e.jsx(Pa,{size:16,className:"group-hover/btn:scale-110 transition-transform"}),"Manage Branch"]})]})]},f.id)),e.jsxs("button",{onClick:()=>o(!0),className:"group relative min-h-[300px] flex flex-col items-center justify-center p-6 border-3 border-dashed border-slate-200 rounded-3xl hover:border-violet-400 hover:bg-violet-50/30 transition-all duration-300",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-slate-50 flex items-center justify-center text-slate-300 mb-4 group-hover:bg-white group-hover:text-violet-500 group-hover:scale-110 group-hover:shadow-lg transition-all duration-300",children:e.jsx(wt,{size:32,strokeWidth:3})}),e.jsx("h3",{className:"text-lg font-bold text-slate-400 group-hover:text-violet-600 transition-colors",children:"Add New Branch"})]})]}),i&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden animate-in fade-in zoom-in duration-300",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Add New Branch"}),e.jsx("button",{onClick:()=>o(!1),className:"text-slate-400 hover:text-slate-600 transition-colors",children:e.jsx(wt,{size:24,className:"rotate-45"})})]}),e.jsxs("form",{onSubmit:p,className:"p-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Gym Name"}),e.jsx("input",{type:"text",name:"gymName",value:d.gymName,onChange:h,required:!0,className:"w-full px-4 py-2 rounded-xl border border-slate-200 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 outline-none transition-all font-medium text-slate-700",placeholder:"e.g. Gold's Gym"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Branch Name"}),e.jsx("input",{type:"text",name:"branchName",value:d.branchName,onChange:h,required:!0,className:"w-full px-4 py-2 rounded-xl border border-slate-200 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 outline-none transition-all font-medium text-slate-700",placeholder:"e.g. Downtown"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Manager/Owner"}),e.jsxs("div",{className:"relative",children:[e.jsx(_t,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),e.jsx("input",{type:"text",name:"owner",value:d.owner,onChange:h,required:!0,className:"w-full pl-10 pr-4 py-2 rounded-xl border border-slate-200 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 outline-none transition-all font-medium text-slate-700",placeholder:"Full Name"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Phone"}),e.jsx("input",{type:"tel",name:"phone",value:d.phone,onChange:h,required:!0,className:"w-full px-4 py-2 rounded-xl border border-slate-200 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 outline-none transition-all font-medium text-slate-700",placeholder:"+1 (555) 000-0000"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Email"}),e.jsx("input",{type:"email",name:"email",value:d.email,onChange:h,required:!0,className:"w-full px-4 py-2 rounded-xl border border-slate-200 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 outline-none transition-all font-medium text-slate-700",placeholder:"branch@example.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Location"}),e.jsxs("div",{className:"relative",children:[e.jsx($s,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),e.jsx("input",{type:"text",name:"location",value:d.location,onChange:h,required:!0,className:"w-full pl-10 pr-4 py-2 rounded-xl border border-slate-200 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 outline-none transition-all font-medium text-slate-700",placeholder:"123 Main St, City, Country"})]})]}),e.jsxs("div",{className:"pt-4 flex gap-3",children:[e.jsx("button",{type:"button",onClick:()=>o(!1),className:"flex-1 py-3 rounded-xl border border-slate-200 text-slate-600 font-bold hover:bg-slate-50 transition-all",children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex-1 py-3 rounded-xl bg-gradient-to-r from-violet-600 to-purple-600 text-white font-bold shadow-lg shadow-violet-200 hover:shadow-xl hover:scale-[1.02] transition-all",children:"Create Branch"})]})]})]})})]})},z_=()=>e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4 sm:gap-6",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 rounded-xl sm:rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(_t,{size:24,className:"sm:w-7 sm:h-7",strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Roles & Permissions"}),e.jsx("span",{className:"hidden sm:inline-block px-2 py-0.5 bg-gradient-to-r from-violet-500 to-purple-600 text-white text-[10px] font-black rounded-md shadow-sm animate-pulse",children:"PREMIUM "})]}),e.jsx("p",{className:"text-slate-600 text-xs sm:text-sm mt-0.5 sm:mt-1",children:"Manage access control and user privileges"})]})]}),e.jsxs("button",{className:"group flex items-center justify-center gap-2 px-5 sm:px-6 py-2.5 sm:py-3 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-lg sm:rounded-xl text-sm font-bold shadow-xl shadow-violet-500/50 hover:shadow-2xl hover:shadow-violet-500/60 hover:scale-105 transition-all w-full lg:w-auto",children:[e.jsx(Ca,{size:16,className:"sm:w-[18px] sm:h-[18px]",strokeWidth:2.5}),"Create New Role"]})]})})]}),e.jsxs("div",{className:"group relative bg-white rounded-2xl sm:rounded-3xl shadow-xl border border-slate-100 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50/10 to-purple-50/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"}),e.jsx("div",{className:"relative z-10 overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50/50 border-b border-slate-200",children:[e.jsx("th",{className:"text-left py-5 px-6 text-xs font-black uppercase tracking-widest text-slate-400",children:"Role Name"}),e.jsx("th",{className:"text-center py-5 px-6 text-xs font-black uppercase tracking-widest text-slate-400",children:"Members"}),e.jsx("th",{className:"text-center py-5 px-6 text-xs font-black uppercase tracking-widest text-slate-400",children:"Financials"}),e.jsx("th",{className:"text-center py-5 px-6 text-xs font-black uppercase tracking-widest text-slate-400",children:"Settings"}),e.jsx("th",{className:"text-center py-5 px-6 text-xs font-black uppercase tracking-widest text-slate-400",children:"Reports"}),e.jsx("th",{className:"text-right py-5 px-6 text-xs font-black uppercase tracking-widest text-slate-400",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:ID.map((t,s)=>e.jsxs("tr",{className:"group/row hover:bg-violet-50/30 transition-colors duration-200",children:[e.jsx("td",{className:"py-5 px-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${t.role==="Super Admin"?"bg-purple-100 text-purple-600":t.role==="Manager"?"bg-indigo-100 text-indigo-600":t.role==="Trainer"?"bg-emerald-100 text-emerald-600":"bg-slate-100 text-slate-600"}`,children:e.jsx(Rs,{size:16,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-slate-800",children:t.role}),e.jsxs("div",{className:"text-xs font-medium text-slate-400",children:[t.users||0," Users"]})]})]})}),[t.permissions.members,t.permissions.finance,t.permissions.settings,t.permissions.reports].map((a,l)=>e.jsx("td",{className:"py-5 px-6 text-center",children:e.jsx("div",{className:`inline-flex items-center justify-center w-8 h-8 rounded-full shadow-sm transition-transform duration-300 group-hover/row:scale-110 ${a?"bg-gradient-to-br from-emerald-100 to-emerald-200 text-emerald-600 shadow-emerald-200":"bg-gradient-to-br from-red-50 to-red-100 text-red-400"}`,children:a?e.jsx(xr,{size:16,strokeWidth:3}):e.jsx(Vr,{size:16,strokeWidth:3})})},l)),e.jsx("td",{className:"py-5 px-6 text-right",children:e.jsxs("button",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-white border border-slate-200 text-slate-600 rounded-lg text-xs font-bold shadow-sm hover:border-violet-500 hover:text-violet-600 hover:shadow-md transition-all duration-300",children:[e.jsx(Pa,{size:12,strokeWidth:2.5})," Edit"]})})]},s))})]})})]}),e.jsxs("div",{className:"mt-6 p-4 bg-amber-50 rounded-xl border border-amber-100 flex items-start gap-3",children:[e.jsx(hs,{size:20,className:"text-amber-500 shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-amber-800 text-sm",children:"Permission Updates"}),e.jsx("p",{className:"text-amber-700 text-xs mt-1",children:"Changes to role permissions may take up to 5 minutes to propagate to all active user sessions. Users may need to re-login to see updated access rights."})]})]})]}),E_=()=>e.jsxs("div",{className:"fade-in p-4 sm:p-6",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 sm:mb-6",children:"Billing & Plans"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[e.jsxs(is,{title:"Current Plan",className:"lg:col-span-2",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 sm:gap-0",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-1 sm:mb-2",children:M0.plan}),e.jsxs("p",{className:"text-sm sm:text-base text-gray-500",children:[M0.price," billed monthly"]})]}),e.jsx(Ut,{variant:"primary",className:"w-full sm:w-auto",children:"Upgrade Plan"})]}),e.jsxs("div",{className:"mt-4 sm:mt-6 text-sm sm:text-base text-gray-500",children:["Next billing date: ",e.jsx("span",{className:"text-gray-900 font-semibold",children:M0.nextBilling})]})]}),e.jsxs(is,{title:"Payment Method",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("div",{className:"p-2.5 sm:p-3 bg-gray-100 rounded-lg shrink-0",children:e.jsx(Ps,{size:20,className:"sm:w-6 sm:h-6"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-sm sm:text-base text-gray-900",children:M0.paymentMethod}),e.jsx("div",{className:"text-xs sm:text-sm text-gray-500",children:"Expires 12/25"})]})]}),e.jsx(Ut,{variant:"outline",size:"small",className:"mt-3 sm:mt-4 w-full",children:"Update Information"})]})]}),e.jsxs(is,{title:"Invoice History",children:[e.jsx("div",{className:"hidden md:block overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-left border-b border-gray-200",children:[e.jsx("th",{className:"py-3 font-semibold text-gray-700",children:"Invoice ID"}),e.jsx("th",{className:"py-3 font-semibold text-gray-700",children:"Date"}),e.jsx("th",{className:"py-3 font-semibold text-gray-700",children:"Amount"}),e.jsx("th",{className:"py-3 font-semibold text-gray-700",children:"Status"}),e.jsx("th",{className:"py-3 font-semibold text-gray-700 text-right",children:"Download"})]})}),e.jsx("tbody",{children:M0.invoices.map(t=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"py-3 font-medium text-gray-900",children:t.id}),e.jsx("td",{className:"py-3 text-gray-600",children:t.date}),e.jsx("td",{className:"py-3 text-gray-900",children:t.amount}),e.jsx("td",{className:"py-3",children:e.jsx("span",{className:"px-3 py-1 bg-emerald-100 text-emerald-700 rounded-full text-xs font-semibold",children:t.status})}),e.jsx("td",{className:"py-3 text-right",children:e.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors text-gray-500 hover:text-gray-700",children:e.jsx(Qs,{size:16})})})]},t.id))})]})}),e.jsx("div",{className:"md:hidden space-y-3",children:M0.invoices.map(t=>e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-100",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-sm text-gray-900 mb-1",children:t.id}),e.jsx("div",{className:"text-xs text-gray-500",children:t.date})]}),e.jsx("span",{className:"px-2.5 py-1 bg-emerald-100 text-emerald-700 rounded-full text-xs font-semibold",children:t.status})]}),e.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-gray-200",children:[e.jsx("div",{className:"font-bold text-base text-gray-900",children:t.amount}),e.jsx("button",{className:"p-2 bg-white hover:bg-gray-100 rounded-lg transition-colors text-gray-600 border border-gray-200",children:e.jsx(Qs,{size:16})})]})]},t.id))})]})]}),T_=()=>e.jsxs("div",{className:"fade-in p-4 sm:p-6",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 sm:mb-6",children:"Integrations"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:BD.map(t=>e.jsxs(is,{children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 mb-3 sm:mb-4",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-lg sm:rounded-xl bg-gray-100 flex items-center justify-center shrink-0",children:e.jsx(Z8,{size:20,className:"sm:w-6 sm:h-6 text-gray-600"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h3",{className:"text-base sm:text-lg font-bold text-gray-900 truncate",children:t.name}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-500 line-clamp-1",children:t.description})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-stretch sm:items-center gap-3 mt-4 sm:mt-6 pt-3 sm:pt-4 border-t border-gray-100",children:[e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold text-center ${t.status==="Connected"?"bg-emerald-100 text-emerald-700":"bg-gray-100 text-gray-600"}`,children:t.status}),e.jsx(Ut,{variant:t.status==="Connected"?"outline":"primary",size:"small",className:"w-full sm:w-auto",children:t.status==="Connected"?"Disconnect":"Connect"})]})]},t.id))})]}),U2=()=>{const a=ig()?.role===ct.MANAGER,[l,i]=v.useState(null),[o,d]=v.useState("channels"),[x,u]=v.useState([{id:1,name:"Welcome Email",type:"Email",subject:"Welcome to Gym!",body:"Hi {name}, thanks for joining..."},{id:2,name:"Payment Reminder",type:"WhatsApp",subject:"",body:"Dear {name}, your payment of {amount} is due."}]),[h,p]=v.useState({whatsapp:{provider:"Twilio",apiKey:"sk_test_...",number:"+1234567890"},sms:{provider:"MSG91",apiKey:"auth_key_...",senderId:"GYMAPP"},email:{provider:"AWS SES",apiKey:"AKIA...",region:"us-east-1"}}),f=()=>{alert("Communication configuration saved successfully!")},[b,g]=v.useState(!1),[j,A]=v.useState({name:"",type:"WhatsApp",subject:"",body:""}),w=()=>{if(!j.name||!j.body){alert("Please fill in the template name and message body.");return}const N={id:x.length+1,...j};u([...x,N]),g(!1),A({name:"",type:"WhatsApp",subject:"",body:""}),alert("New message template created successfully!")},k=N=>{window.confirm("Are you sure you want to delete this template?")&&u(x.filter(P=>P.id!==N))},C=(N,P,_)=>{u(x.map(F=>F.id===N?{...F,[P]:_}:F))},L=N=>{console.log("Saving template:",N),alert(`Template "${N.name}" updated successfully!`)};return e.jsxs("div",{className:"fade-in space-y-4 sm:space-y-6 p-4 sm:p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 sm:gap-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-black text-gray-900 tracking-tight",children:"Communication"}),a&&e.jsx("span",{className:"px-2 py-0.5 bg-slate-100 text-slate-500 text-xs font-bold rounded border border-slate-200 uppercase tracking-wide",children:"Read-Only "})]}),e.jsx("p",{className:"text-sm sm:text-base text-gray-500 font-bold mt-1",children:a?"View communication templates & settings.":"Manage SMS, Email & WhatsApp templates."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[e.jsx(Ut,{variant:o==="channels"?"primary":"outline",onClick:()=>d("channels"),className:"w-full sm:w-auto",children:"Gateway Channels"}),e.jsx(Ut,{variant:o==="templates"?"primary":"outline",onClick:()=>d("templates"),className:"w-full sm:w-auto",children:"Message Templates"})]})]}),e.jsx(Lg,{value:l,onChange:i,branches:zg}),o==="channels"?e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[e.jsx(is,{title:"WhatsApp Integration",children:e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-3 sm:mb-4",children:[e.jsx("div",{className:"p-2 sm:p-3 bg-green-100 text-green-600 rounded-lg shrink-0",children:e.jsx(sr,{size:20,className:"sm:w-6 sm:h-6"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-sm sm:text-base text-gray-900",children:"WhatsApp Business"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Configure Twilio or Meta API"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Provider"}),e.jsxs("select",{className:`w-full p-2 border rounded-lg mt-1 text-sm ${a?"bg-gray-100 cursor-not-allowed text-gray-500":"bg-gray-50"}`,disabled:a,children:[e.jsx("option",{children:"Twilio"}),e.jsx("option",{children:"Meta Cloud API"}),e.jsx("option",{children:"Interakt"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"API Key / Auth Token"}),e.jsx("input",{type:"password",value:h.whatsapp.apiKey,className:`w-full p-2 border rounded-lg mt-1 text-sm ${a?"bg-gray-100 cursor-not-allowed text-gray-500":""}`,disabled:a,placeholder:a?"":"Enter API Key"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Sender Number"}),e.jsx("input",{type:"text",value:h.whatsapp.number,className:`w-full p-2 border rounded-lg mt-1 text-sm ${a?"bg-gray-100 cursor-not-allowed text-gray-500":""}`,disabled:a,placeholder:a?"":"Enter Sender Number"})]}),e.jsx(Ut,{variant:"primary",className:"w-full mt-2",onClick:f,disabled:a,children:"Save Configuration"})]})}),e.jsx(is,{title:"SMS Gateway",children:e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-3 sm:mb-4",children:[e.jsx("div",{className:"p-2 sm:p-3 bg-blue-100 text-blue-600 rounded-lg shrink-0",children:e.jsx(Jl,{size:20,className:"sm:w-6 sm:h-6"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-sm sm:text-base text-gray-900",children:"SMS Gateway"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"DLT Registered Headers required (India)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Provider"}),e.jsxs("select",{className:`w-full p-2 border rounded-lg mt-1 text-sm ${a?"bg-gray-100 cursor-not-allowed text-gray-500":"bg-gray-50"}`,disabled:a,children:[e.jsx("option",{children:"MSG91"}),e.jsx("option",{children:"Kaleyra"}),e.jsx("option",{children:"Twilio"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Auth Key"}),e.jsx("input",{type:"password",value:h.sms.apiKey,className:`w-full p-2 border rounded-lg mt-1 text-sm ${a?"bg-gray-100 cursor-not-allowed text-gray-500":""}`,disabled:a,placeholder:a?"":"Enter Auth Key"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Sender ID (6 chars)"}),e.jsx("input",{type:"text",value:h.sms.senderId,className:`w-full p-2 border rounded-lg mt-1 text-sm ${a?"bg-gray-100 cursor-not-allowed text-gray-500":""}`,disabled:a,placeholder:a?"":"Enter Sender ID"})]}),e.jsx(Ut,{variant:"primary",className:"w-full mt-2",onClick:f,disabled:a,children:"Save Configuration"})]})})]}):e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-lg font-black text-gray-800",children:"Message Templates"}),!a&&e.jsxs(Ut,{onClick:()=>g(!0),variant:"primary",className:"bg-indigo-600 text-white shadow-lg shadow-indigo-200",children:[e.jsx(wt,{size:18,className:"mr-2"}),"New Template"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:x.map(N=>e.jsxs(is,{className:"relative group",children:[e.jsx("div",{className:"absolute top-3 sm:top-4 right-3 sm:right-4",children:e.jsx("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:!a&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>L(N),className:"p-1.5 sm:p-2 text-blue-600 hover:bg-blue-50 rounded-full",title:"Save Changes",children:e.jsx(na,{size:14,className:"sm:w-4 sm:h-4"})}),e.jsx("button",{onClick:()=>k(N.id),className:"p-1.5 sm:p-2 text-red-600 hover:bg-red-50 rounded-full",title:"Delete Template",children:e.jsx(ms,{size:14,className:"sm:w-4 sm:h-4"})})]})})}),e.jsxs("div",{className:"flex items-center gap-2 mb-2 sm:mb-3",children:[e.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded uppercase ${N.type==="Email"?"bg-orange-100 text-orange-700":"bg-green-100 text-green-700"}`,children:N.type}),e.jsx("h4",{className:"font-bold text-sm sm:text-base text-gray-900",children:N.name})]}),N.type==="Email"&&e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"text-xs text-gray-400 uppercase",children:"Subject"}),e.jsx("input",{type:"text",value:N.subject,onChange:P=>C(N.id,"subject",P.target.value),className:`w-full text-xs sm:text-sm p-1 border-b focus:outline-none focus:border-indigo-500 ${a?"bg-gray-100 cursor-not-allowed text-gray-500":""}`,disabled:a})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-xs text-gray-400 uppercase",children:["Body Content (Supports ","{variables}",")"]}),e.jsx("textarea",{value:N.body,onChange:P=>C(N.id,"body",P.target.value),rows:3,className:`w-full text-xs sm:text-sm p-2 border rounded bg-gray-50 focus:bg-white focus:ring-1 focus:ring-indigo-500 outline-none mt-1 ${a?"bg-gray-100 cursor-not-allowed text-gray-500":""}`,disabled:a})]})]},N.id))})]}),e.jsx(rt,{isOpen:b,onClose:()=>g(!1),title:"Create Message Template",subtitle:"Design new notification templates",maxWidth:"max-w-lg",footer:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(Ut,{variant:"outline",className:"flex-1",onClick:()=>g(!1),children:"Cancel"}),e.jsx(Ut,{variant:"primary",className:"flex-1",onClick:w,children:"Create Template"})]}),children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Template Name"}),e.jsx("input",{type:"text",placeholder:"e.g. Membership Renewal Reminder",className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl focus:border-violet-500 focus:ring-2 focus:ring-violet-200 outline-none transition-all",value:j.name,onChange:N=>A({...j,name:N.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Channel Type"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:["WhatsApp","Email","SMS"].map(N=>e.jsx("button",{onClick:()=>A({...j,type:N}),className:`px-4 py-3 rounded-xl text-sm font-bold border-2 transition-all ${j.type===N?"border-violet-600 bg-violet-50 text-violet-700":"border-slate-100 bg-white text-slate-500 hover:border-slate-200"}`,children:N},N))})]}),j.type==="Email"&&e.jsxs("div",{className:"animate-in slide-in-from-top-2 duration-200",children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Email Subject"}),e.jsx("input",{type:"text",placeholder:"e.g. Important Update regarding your membership",className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl focus:border-violet-500 focus:ring-2 focus:ring-violet-200 outline-none transition-all",value:j.subject,onChange:N=>A({...j,subject:N.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Message Body"}),e.jsx("div",{className:"mb-2 flex gap-2 overflow-x-auto pb-2",children:["{name}","{amount}","{date}","{branch}"].map(N=>e.jsx("button",{onClick:()=>A(P=>({...P,body:P.body+" "+N})),className:"px-2 py-1 bg-slate-100 text-slate-600 rounded text-[10px] font-bold uppercase hover:bg-slate-200 whitespace-nowrap",children:N},N))}),e.jsx("textarea",{placeholder:"Type your message here...",className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl focus:border-violet-500 focus:ring-2 focus:ring-violet-200 outline-none transition-all min-h-[150px] resize-none",value:j.body,onChange:N=>A({...j,body:N.target.value})}),e.jsxs("p",{className:"text-xs text-slate-400 mt-2 text-right",children:[j.body.length," characters"]})]}),e.jsxs("div",{className:"p-4 bg-amber-50 rounded-xl border border-amber-100 flex gap-3",children:[e.jsx("div",{className:"shrink-0 text-amber-500 mt-0.5",children:e.jsx(sr,{size:16})}),e.jsxs("p",{className:"text-xs text-amber-700 leading-relaxed font-medium",children:[e.jsx("strong",{children:"Note:"})," WhatsApp templates require approval from Meta before they can be sent. Email and SMS templates are active immediately."]})]})]})})]})},__=({role:t})=>{const s=t==="MANAGER",[a,l]=v.useState({minLength:"10 Characters",expiry:"Every 90 Days"}),[i,o]=v.useState(!1);return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4 sm:gap-6",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 rounded-xl sm:rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(Ca,{size:24,className:"sm:w-7 sm:h-7",strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Security Settings"}),e.jsx("span",{className:"hidden sm:inline-block px-2 py-0.5 bg-gradient-to-r from-violet-500 to-purple-600 text-white text-[10px] font-black rounded-md shadow-sm animate-pulse",children:s?"READ-ONLY ":"PREMIUM "})]}),e.jsx("p",{className:"text-slate-600 text-xs sm:text-sm mt-0.5 sm:mt-1",children:s?"Viewing global security policies (Management scope)":"Configure security policies and access controls"})]})]}),!s&&e.jsxs("button",{className:"group flex items-center justify-center gap-2 px-5 sm:px-6 py-2.5 sm:py-3 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-lg sm:rounded-xl text-sm font-bold shadow-xl shadow-violet-500/50 hover:shadow-2xl hover:shadow-violet-500/60 hover:scale-105 transition-all w-full lg:w-auto",children:[e.jsx(na,{size:16,className:"sm:w-[18px] sm:h-[18px]",strokeWidth:2.5}),"Save Configuration"]})]})})]}),e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"group relative bg-white rounded-xl sm:rounded-2xl shadow-lg border border-slate-100 p-6 sm:p-8 hover:shadow-xl hover:border-violet-200 transition-all duration-300",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50/20 to-purple-50/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-2.5 bg-violet-50 text-violet-600 rounded-xl group-hover:bg-violet-100 transition-colors",children:e.jsx(Rs,{size:20,strokeWidth:2.5})}),e.jsx("h3",{className:"text-xl font-black text-slate-800",children:"Password Policy"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2",children:"Minimum Length"}),e.jsxs("select",{value:a.minLength,onChange:d=>!s&&l({...a,minLength:d.target.value}),disabled:s,className:`w-full px-4 py-3 border-2 rounded-xl font-bold transition-all duration-300 appearance-none ${s?"bg-slate-100 text-slate-400 cursor-not-allowed border-slate-100":"bg-slate-50 border-slate-200 text-slate-800 focus:bg-white focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10"}`,children:[e.jsx("option",{children:"8 Characters"}),e.jsx("option",{children:"10 Characters"}),e.jsx("option",{children:"12 Characters"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2",children:"Password Expiry"}),e.jsxs("select",{value:a.expiry,onChange:d=>!s&&l({...a,expiry:d.target.value}),disabled:s,className:`w-full px-4 py-3 border-2 rounded-xl font-bold transition-all duration-300 appearance-none ${s?"bg-slate-100 text-slate-400 cursor-not-allowed border-slate-100":"bg-slate-50 border-slate-200 text-slate-800 focus:bg-white focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10"}`,children:[e.jsx("option",{children:"Never"}),e.jsx("option",{children:"Every 90 Days"}),e.jsx("option",{children:"Every 180 Days"})]})]})]})]})]}),e.jsxs("div",{className:"group relative bg-white rounded-xl sm:rounded-2xl shadow-lg border border-slate-100 p-6 sm:p-8 hover:shadow-xl hover:border-violet-200 transition-all duration-300",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50/20 to-purple-50/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row md:items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-3 bg-amber-50 text-amber-500 rounded-xl border border-amber-100 group-hover:bg-amber-100 transition-colors shrink-0",children:e.jsx(Jl,{size:24,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-black text-slate-800 mb-1",children:"Two-Factor Authentication (2FA)"}),e.jsx("p",{className:"text-slate-500 text-sm font-medium leading-relaxed max-w-md",children:"Require OTP verification for all staff and admin logins to enhance account security."})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`text-sm font-bold ${i?"text-emerald-600":"text-slate-400"}`,children:i?"Enabled":"Disabled"}),e.jsx("button",{onClick:()=>!s&&o(!i),disabled:s,className:`relative w-14 h-8 rounded-full transition-colors duration-300 focus:outline-none focus:ring-4 focus:ring-violet-500/20 ${s?"bg-slate-100 cursor-not-allowed":i?"bg-violet-600":"bg-slate-200"} `,children:e.jsx("span",{className:`absolute left-1 top-1 w-6 h-6 bg-white rounded-full shadow-md transform transition-transform duration-300 ${i?"translate-x-6":"translate-x-0"} `})})]})]})]}),e.jsxs("div",{className:"group relative bg-white rounded-xl sm:rounded-2xl shadow-lg border border-slate-100 p-6 sm:p-8 hover:shadow-xl hover:border-violet-200 transition-all duration-300",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50/20 to-purple-50/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-2.5 bg-emerald-50 text-emerald-600 rounded-xl group-hover:bg-emerald-100 transition-colors",children:e.jsx(Hh,{size:20,strokeWidth:2.5})}),e.jsx("h3",{className:"text-xl font-black text-slate-800",children:"Active Sessions"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 p-4 bg-emerald-50/50 rounded-xl border border-emerald-100 hover:bg-emerald-50 hover:border-emerald-200 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-white flex items-center justify-center text-emerald-500 shadow-sm shrink-0",children:e.jsx(nw,{size:20,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-slate-800",children:"Windows PC - Chrome"}),e.jsxs("div",{className:"text-xs font-semibold text-emerald-600 flex items-center gap-1",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"}),"Current Session  San Francisco, CA"]})]})]}),e.jsx("span",{className:"self-start sm:self-center px-3 py-1 bg-emerald-100 text-emerald-700 text-xs font-black rounded-lg uppercase tracking-wide whitespace-nowrap",children:"Active"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 p-4 bg-slate-50 rounded-xl border border-slate-100 hover:bg-white hover:border-slate-200 hover:shadow-md transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-white flex items-center justify-center text-slate-400 shadow-sm border border-slate-100 shrink-0",children:e.jsx(Jl,{size:20,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-slate-700",children:"iPhone 13 - Safari"}),e.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Los Angeles, CA  2 hours ago"})]})]}),e.jsx("button",{disabled:s,className:`self-start sm:self-center px-4 py-2 bg-white rounded-lg text-xs font-bold transition-all shadow-sm w-full sm:w-auto ${s?"text-slate-300 border-slate-100 cursor-not-allowed":"text-red-500 border-red-100 hover:bg-red-50 hover:text-red-600 hover:border-red-200"} `,children:"Revoke"})]})]})]})]})]})]})},P_=[{id:1,type:"Payment",provider:"Razorpay",event:"payment.captured",status:"Success",time:"10:42 AM"},{id:2,type:"Payment",provider:"Razorpay",event:"payment.failed",status:"Failed",time:"09:15 AM"},{id:3,type:"WhatsApp",provider:"Twilio",event:"message.sent",status:"Success",time:"Yesterday"}],R_=()=>{const[t,s]=v.useState("system"),[a,l]=v.useState(""),[i,o]=v.useState(!1),d=UD.filter(x=>x.user.toLowerCase().includes(a.toLowerCase())||x.action.toLowerCase().includes(a.toLowerCase()));return e.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-6 pb-12 min-h-screen",children:[e.jsxs("div",{className:"mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent mb-2 flex items-center gap-2",children:[e.jsx(Ca,{className:"text-violet-600",size:28}),"System & Security Logs"]}),e.jsx("p",{className:"text-slate-600 text-sm",children:"Track system activity and webhook events in real-time"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>s("system"),className:`px-6 py-2.5 rounded-xl font-semibold shadow-lg transition-all duration-300 flex items-center gap-2 ${t==="system"?"bg-gradient-to-r from-violet-600 to-purple-600 text-white hover:shadow-xl hover:shadow-violet-500/50 hover:scale-105 hover:-translate-y-1":"bg-white border border-slate-200 text-slate-700 hover:bg-slate-50 hover:shadow-md hover:scale-105"}`,children:"System Activity"}),e.jsx("button",{onClick:()=>s("webhooks"),className:`px-6 py-2.5 rounded-xl font-semibold shadow-lg transition-all duration-300 flex items-center gap-2 ${t==="webhooks"?"bg-gradient-to-r from-violet-600 to-purple-600 text-white hover:shadow-xl hover:shadow-violet-500/50 hover:scale-105 hover:-translate-y-1":"bg-white border border-slate-200 text-slate-700 hover:bg-slate-50 hover:shadow-md hover:scale-105"}`,children:"Webhook Events"})]})]})})]}),t==="system"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-6 bg-white/60 backdrop-blur-md rounded-xl shadow-lg border border-white/50 p-5 hover:shadow-xl transition-all duration-300",children:e.jsx("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-center",children:e.jsxs("div",{className:"relative w-full md:w-96 group",children:[e.jsx(tt,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 group-focus-within:scale-110 transition-all duration-300"}),e.jsx("input",{type:"text",value:a,onChange:x=>l(x.target.value),placeholder:"Search by user or action...",className:"w-full pl-12 pr-4 py-3 bg-white/80 border-2 border-slate-200 rounded-xl text-sm focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 focus:bg-white transition-all duration-300 hover:border-slate-300"})]})})}),e.jsx("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gradient-to-r from-slate-50 to-slate-100/50 border-b-2 border-slate-200",children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"Date & Time"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"User"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"Action"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"IP Address"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:d.map(x=>e.jsxs("tr",{className:"group hover:bg-gradient-to-r hover:from-violet-50/50 hover:via-purple-50/30 hover:to-transparent transition-all duration-300 cursor-pointer",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[e.jsx(Qe,{className:"w-4 h-4 text-slate-400 transition-transform duration-300 group-hover:scale-125"}),x.date]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white font-bold shadow-md group-hover:shadow-lg group-hover:scale-110 group-hover:rotate-6 transition-all duration-300",children:(x.user||"?").charAt(0)}),e.jsx("div",{children:e.jsx("div",{className:"text-sm font-semibold text-slate-900 group-hover:text-violet-600 transition-colors duration-300",children:x.user})})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-sm font-medium text-slate-700 group-hover:text-slate-900 transition-colors duration-300",children:x.action})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2 font-mono text-xs text-slate-500 group-hover:text-violet-600 transition-colors duration-300",children:[e.jsx(Hh,{className:"w-4 h-4 text-slate-400 transition-transform duration-300 group-hover:scale-125"}),x.ip]})})]},x.id))})]})})})]}):e.jsx("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden p-6",children:e.jsxs("div",{className:"space-y-4",children:[P_.map(x=>e.jsxs("div",{className:"group flex justify-between items-center p-5 border-2 border-slate-100 rounded-xl hover:border-violet-200 hover:bg-gradient-to-r hover:from-violet-50/50 hover:to-purple-50/30 cursor-pointer transition-all duration-300 hover:shadow-lg hover:scale-[1.02]",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`p-3 rounded-xl shadow-md transition-all duration-300 group-hover:scale-110 group-hover:rotate-6 ${x.type==="Payment"?"bg-gradient-to-br from-blue-500 to-blue-600 text-white":"bg-gradient-to-br from-green-500 to-green-600 text-white"}`,children:e.jsx($t,{size:20})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-bold text-slate-900 group-hover:text-violet-600 transition-colors duration-300",children:x.provider}),e.jsx("span",{className:"text-xs text-slate-500 font-mono bg-slate-100 px-2 py-1 rounded-lg group-hover:bg-violet-100 group-hover:text-violet-700 transition-all duration-300",children:x.event})]}),e.jsx("div",{className:"text-sm text-slate-500 mt-1",children:x.time})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:`text-xs font-bold px-4 py-2 rounded-full uppercase shadow-sm transition-all duration-300 group-hover:scale-110 group-hover:shadow-md ${x.status==="Success"?"bg-gradient-to-r from-emerald-50 to-emerald-100 text-emerald-700 border border-emerald-200 group-hover:shadow-emerald-500/50":"bg-gradient-to-r from-red-50 to-red-100 text-red-700 border border-red-200 group-hover:shadow-red-500/50"}`,children:x.status}),e.jsx(js,{size:20,className:"text-slate-400 group-hover:text-violet-600 group-hover:translate-x-1 transition-all duration-300"})]})]},x.id)),e.jsx("div",{className:"text-center pt-6",children:e.jsxs("button",{className:"group px-6 py-3 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-xl font-semibold shadow-lg hover:shadow-xl hover:shadow-violet-500/50 hover:scale-105 hover:-translate-y-1 transition-all duration-300 flex items-center justify-center gap-2 mx-auto",children:[e.jsx(Hr,{size:16,className:"transition-transform duration-300 group-hover:rotate-180"}),"Load More Events"]})})]})})]})},$2=()=>{const a=ig()?.role===ct.MANAGER,[l,i]=v.useState("razorpay"),[o,d]=v.useState(null),x=u=>{u.preventDefault(),alert("Payment gateway configuration saved successfully!")};return e.jsxs("div",{className:"fade-in max-w-4xl mx-auto space-y-4 sm:space-y-6 p-4 sm:p-6",children:[e.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-black text-gray-900 tracking-tight",children:"Payment Integration"}),a&&e.jsx("span",{className:"px-2 py-0.5 bg-slate-100 text-slate-500 text-xs font-bold rounded border border-slate-200 uppercase tracking-wide",children:"Read-Only "})]}),e.jsx("p",{className:"text-sm sm:text-base text-gray-500 font-bold mt-1",children:a?"Contact Admin to update payment configuration.":"Configure your online payment gateway settings."})]})}),e.jsx(Lg,{value:o,onChange:d,branches:zg}),e.jsxs(is,{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 border-b border-gray-100 pb-4 sm:pb-6 mb-4 sm:mb-6",children:[e.jsxs("button",{onClick:()=>!a&&i("razorpay"),disabled:a,className:`flex-1 py-3 sm:py-4 px-4 sm:px-6 rounded-lg sm:rounded-xl border-2 font-bold text-base sm:text-lg transition-all flex items-center justify-center gap-2 sm:gap-3 ${l==="razorpay"?"border-indigo-600 bg-indigo-50 text-indigo-700":"border-gray-100 text-gray-400 hover:border-gray-200"} ${a?"cursor-not-allowed opacity-75":""}`,children:[e.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6 rounded-full bg-blue-900"}),"Razorpay"]}),e.jsxs("button",{onClick:()=>!a&&i("stripe"),disabled:a,className:`flex-1 py-3 sm:py-4 px-4 sm:px-6 rounded-lg sm:rounded-xl border-2 font-bold text-base sm:text-lg transition-all flex items-center justify-center gap-2 sm:gap-3 ${l==="stripe"?"border-indigo-600 bg-indigo-50 text-indigo-700":"border-gray-100 text-gray-400 hover:border-gray-200"} ${a?"cursor-not-allowed opacity-75":""}`,children:[e.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6 rounded-full bg-indigo-600"}),"Stripe"]})]}),e.jsxs("form",{className:"space-y-4 sm:space-y-6",onSubmit:x,children:[e.jsxs("div",{className:"bg-yellow-50 p-3 sm:p-4 rounded-lg sm:rounded-xl border border-yellow-100 flex gap-2 sm:gap-3 text-yellow-800 text-xs sm:text-sm font-bold",children:[e.jsx(Rs,{className:"shrink-0",size:18}),e.jsx("p",{children:"Credentials are encrypted and stored securely. Do not share your secret keys."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-gray-400 mb-2",children:l==="razorpay"?"Key ID":"Publishable Key"}),e.jsx(Wn,{type:"text",className:`w-full bg-gray-50 border-transparent focus:bg-white transition-all font-mono text-xs sm:text-sm ${a?"cursor-not-allowed text-gray-400":""}`,placeholder:a?"":l==="razorpay"?"rzp_test_...":"pk_test_...",disabled:a})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-gray-400 mb-2",children:l==="razorpay"?"Key Secret":"Secret Key"}),e.jsx(Wn,{type:"password",className:`w-full bg-gray-50 border-transparent focus:bg-white transition-all font-mono text-xs sm:text-sm ${a?"cursor-not-allowed text-gray-400":""}`,placeholder:"",disabled:a})]})]}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 sm:w-5 sm:h-5 rounded text-indigo-600 focus:ring-indigo-200 border-gray-300 disabled:opacity-50",id:"sandbox",defaultChecked:!0,disabled:a}),e.jsx("label",{htmlFor:"sandbox",className:`text-gray-700 font-bold text-xs sm:text-sm ${a?"text-gray-400":""}`,children:"Enable Sandbox / Test Mode"})]}),!a&&e.jsx("div",{className:"flex justify-end pt-2 sm:pt-4",children:e.jsxs(Ut,{variant:"primary",className:"w-full sm:w-auto px-6 sm:px-8 py-2.5 sm:py-3 rounded-lg sm:rounded-xl shadow-lg shadow-indigo-200",children:[e.jsx(na,{size:16,className:"sm:w-[18px] sm:h-[18px] mr-2"}),"Save Configuration"]})})]})]})]})},q2=[{name:"Wifi",icon:xm},{name:"Zap",icon:ua},{name:"Shield",icon:Ca},{name:"Coffee",icon:yg},{name:"Music",icon:wg},{name:"Car",icon:Qj},{name:"Tv",icon:hw},{name:"Bath",icon:Kj},{name:"Wind",icon:pw},{name:"Waves",icon:mw},{name:"Dumbbell",icon:Er},{name:"Layers",icon:Sd}],O_=()=>{const[t,s]=v.useState([]),[a,l]=v.useState(!0),[i,o]=v.useState(""),[d,x]=v.useState(!1),[u,h]=v.useState(null),[p,f]=v.useState({name:"",description:"",icon:"Layers",status:"Active",gender:"UNISEX"});v.useEffect(()=>{b()},[]);const b=async()=>{try{l(!0);const C=await Nd.getAll();s(C)}catch(C){ft.error(C)}finally{l(!1)}},g=(C=null)=>{C?(h(C),f({name:C.name,description:C.description||"",icon:C.icon||"Layers",status:C.status||"Active",gender:C.gender||"UNISEX"})):(h(null),f({name:"",description:"",icon:"Layers",status:"Active",gender:"UNISEX"})),x(!0)},j=async C=>{C.preventDefault();try{u?(await Nd.update(u.id,p),ft.success("Amenity updated successfully")):(await Nd.create(p),ft.success("Amenity created successfully")),x(!1),b()}catch(L){ft.error(L)}},A=async C=>{if(window.confirm("Are you sure you want to delete this amenity?"))try{await Nd.delete(C),ft.success("Amenity deleted successfully"),b()}catch(L){ft.error(L)}},w=t.filter(C=>C.name.toLowerCase().includes(i.toLowerCase())||C.description?.toLowerCase().includes(i.toLowerCase())),k=C=>{const L=q2.find(P=>P.name===C),N=L?L.icon:Sd;return e.jsx(N,{size:20})};return e.jsxs("div",{className:"min-h-screen bg-slate-50/50 p-4 sm:p-6 lg:p-8 animate-in fade-in duration-500",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-8",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-black text-slate-800 tracking-tight flex items-center gap-2",children:[e.jsx(Sd,{className:"text-violet-600",size:28}),"Amenity Management"]}),e.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Create and manage facilities available at your gym"})]}),e.jsxs("button",{onClick:()=>g(),className:"flex items-center justify-center gap-2 px-5 py-2.5 bg-violet-600 hover:bg-violet-700 text-white rounded-xl font-bold shadow-lg shadow-violet-200 transition-all hover:scale-105 active:scale-95",children:[e.jsx(wt,{size:20}),"Add New Amenity"]})]}),e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 p-4 mb-6 flex flex-col md:flex-row gap-4 items-center",children:e.jsxs("div",{className:"relative flex-1 w-full",children:[e.jsx(tt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"text",placeholder:"Search amenities...",className:"w-full pl-11 pr-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-violet-500/20 focus:border-violet-500 transition-all font-medium",value:i,onChange:C=>o(C.target.value)})]})}),a?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(C=>e.jsx("div",{className:"h-48 bg-white rounded-2xl border border-slate-100 animate-pulse"},C))}):w.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:w.map(C=>e.jsxs("div",{className:"group relative bg-white rounded-2xl border border-slate-100 p-6 shadow-sm hover:shadow-xl hover:border-violet-200 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("div",{className:"p-3 bg-violet-50 text-violet-600 rounded-xl group-hover:bg-violet-600 group-hover:text-white transition-colors duration-300",children:k(C.icon)}),e.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:()=>g(C),className:"p-2 text-slate-400 hover:text-violet-600 hover:bg-violet-50 rounded-lg transition-all",children:e.jsx(Pa,{size:16})}),e.jsx("button",{onClick:()=>A(C.id),className:"p-2 text-slate-400 hover:text-rose-600 hover:bg-rose-50 rounded-lg transition-all",children:e.jsx(ms,{size:16})})]})]}),e.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-1",children:C.name}),e.jsx("p",{className:"text-slate-500 text-sm mb-4 line-clamp-2",children:C.description||"No description provided"}),e.jsxs("div",{className:"flex items-center justify-between mt-auto gap-2 flex-wrap",children:[e.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-wider ${C.status==="Active"?"bg-emerald-50 text-emerald-600":"bg-slate-100 text-slate-500"}`,children:C.status}),e.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-wider ${C.gender==="MALE"?"bg-blue-50 text-blue-600":C.gender==="FEMALE"?"bg-pink-50 text-pink-600":"bg-purple-50 text-purple-600"}`,children:C.gender==="MALE"?" MALE":C.gender==="FEMALE"?" FEMALE":" UNISEX"}),e.jsx("span",{className:"text-[10px] text-slate-400 font-bold uppercase",children:"Gym Scope "})]})]},C.id))}):e.jsxs("div",{className:"bg-white rounded-2xl border-2 border-dashed border-slate-200 p-12 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Sd,{size:32,className:"text-slate-300"})}),e.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"No amenities found"}),e.jsx("p",{className:"text-slate-500 mt-1 mb-6",children:"Start by adding your first gym facility"}),e.jsx("button",{onClick:()=>g(),className:"px-6 py-2 bg-slate-800 text-white rounded-xl font-bold hover:bg-slate-900 transition-all",children:"Create Now"})]}),d&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:e.jsxs("div",{className:"bg-white w-full max-w-md rounded-3xl shadow-2xl animate-in zoom-in-95 duration-300 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between bg-white relative z-10",children:[e.jsx("h2",{className:"text-xl font-black text-slate-800",children:u?"Edit Amenity":"New Amenity"}),e.jsx("button",{onClick:()=>x(!1),className:"p-2 hover:bg-slate-100 rounded-full transition-colors",children:e.jsx(Vr,{size:20,className:"text-slate-400"})})]}),e.jsxs("form",{onSubmit:j,className:"p-6 space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2 ml-1",children:"Amenity Name"}),e.jsx("input",{required:!0,type:"text",placeholder:"e.g. Luxury Sauna",className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-violet-500/20 focus:border-violet-500 transition-all font-bold",value:p.name,onChange:C=>f({...p,name:C.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2 ml-1",children:"Description"}),e.jsx("textarea",{rows:"3",placeholder:"Brief details about the facility...",className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-violet-500/20 focus:border-violet-500 transition-all font-medium resize-none",value:p.description,onChange:C=>f({...p,description:C.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2 ml-1",children:"Choose Icon"}),e.jsx("div",{className:"grid grid-cols-6 gap-2",children:q2.map(C=>e.jsx("button",{type:"button",onClick:()=>f({...p,icon:C.name}),className:`p-3 rounded-xl flex items-center justify-center transition-all ${p.icon===C.name?"bg-violet-600 text-white shadow-lg shadow-violet-200 ring-2 ring-violet-600 ring-offset-2":"bg-slate-50 text-slate-400 hover:bg-slate-100"}`,children:e.jsx(C.icon,{size:20})},C.name))})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2 ml-1",children:"Gender Scope"}),e.jsxs("select",{className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-violet-500/20 focus:border-violet-500 transition-all font-bold appearance-none",value:p.gender,onChange:C=>f({...p,gender:C.target.value}),children:[e.jsx("option",{value:"UNISEX",children:"Unisex"}),e.jsx("option",{value:"MALE",children:"Male Only"}),e.jsx("option",{value:"FEMALE",children:"Female Only"})]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2 ml-1",children:"Status"}),e.jsxs("select",{className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-violet-500/20 focus:border-violet-500 transition-all font-bold appearance-none",value:p.status,onChange:C=>f({...p,status:C.target.value}),children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]}),e.jsxs("div",{className:"pt-4 flex gap-3",children:[e.jsx("button",{type:"button",onClick:()=>x(!1),className:"flex-1 px-6 py-3 border border-slate-200 text-slate-600 rounded-xl font-bold hover:bg-slate-50 transition-all",children:"Cancel"}),e.jsxs("button",{type:"submit",className:"flex-1 px-6 py-3 bg-violet-600 text-white rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-violet-700 shadow-lg shadow-violet-200 transition-all",children:[e.jsx(na,{size:18}),u?"Save Changes":"Create Amenity"]})]})]})]})})]})},F_=()=>{const[t,s]=v.useState("This Month");return e.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6 pb-12 min-h-screen",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent mb-2 flex items-center gap-2",children:[e.jsx(Kx,{className:"text-violet-600",size:24}),"Financial Overview"]}),e.jsx("p",{className:"text-slate-600 text-xs sm:text-sm",children:"Real-time revenue, expense, and transaction tracking"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-3",children:[e.jsxs("button",{className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-white border border-slate-200 rounded-lg sm:rounded-xl text-xs sm:text-sm font-semibold text-slate-700 hover:bg-slate-50 hover:shadow-md hover:scale-105 transition-all duration-300 shadow-sm group",children:[e.jsx(Qs,{className:"w-4 h-4 transition-transform duration-300 group-hover:translate-y-0.5"}),"Export Report"]}),e.jsxs("button",{className:"group relative px-4 sm:px-6 py-2.5 rounded-lg sm:rounded-xl font-semibold shadow-lg hover:shadow-xl hover:scale-105 hover:-translate-y-1 transition-all duration-300 flex items-center justify-center gap-2 bg-gradient-to-r from-violet-600 to-purple-600 text-white hover:shadow-violet-500/50",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 to-fuchsia-600 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx(wt,{className:"w-4 h-4 relative"}),e.jsx("span",{className:"relative text-xs sm:text-sm",children:"Add Transaction"})]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[e.jsx(yh,{title:"Monthly Revenue",value:`${gd.revenue.monthly.toLocaleString()}`,change:gd.revenue.growth,icon:Js,color:"emerald"}),e.jsx(yh,{title:"Total Expenses",value:`${gd.expenses.total.toLocaleString()}`,subValue:`Pending: ${gd.expenses.pending.toLocaleString()}`,icon:F0,color:"red"}),e.jsx(yh,{title:"Due Payments",value:`${gd.dues.total.toLocaleString()}`,subValue:`${gd.dues.count} Invoices Pending`,icon:hs,color:"orange"}),e.jsx(yh,{title:"YTD Revenue",value:`${gd.revenue.ytd.toLocaleString()}`,change:"Year to Date",icon:Vn,color:"violet"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 bg-white/60 backdrop-blur-md rounded-xl shadow-lg border border-white/50 p-4 sm:p-6 hover:shadow-xl transition-all duration-300",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 sm:gap-0 mb-4 sm:mb-6",children:[e.jsxs("h3",{className:"text-base sm:text-lg font-bold text-slate-900 flex items-center gap-2",children:[e.jsx(Kx,{className:"text-violet-600",size:18}),"Revenue Analytics"]}),e.jsxs("div",{className:"relative group w-full sm:w-auto",children:[e.jsx(Ve,{size:14,className:"sm:w-4 sm:h-4 absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"}),e.jsxs("select",{value:t,onChange:a=>s(a.target.value),className:"w-full sm:w-auto pl-8 sm:pl-9 pr-4 py-2 bg-white/80 border-2 border-slate-200 rounded-lg text-xs sm:text-sm font-semibold focus:outline-none focus:border-violet-500 focus:ring-2 focus:ring-violet-500/20 transition-all duration-300 appearance-none cursor-pointer",children:[e.jsx("option",{children:"This Month"}),e.jsx("option",{children:"Last Quarter"}),e.jsx("option",{children:"This Year"})]})]})]}),e.jsx("div",{className:"h-48 sm:h-64 flex items-end justify-between gap-1 sm:gap-2 px-2 sm:px-4 pb-4 border-b border-slate-100",children:[40,65,45,80,55,90,70,85,60,75,50,95].map((a,l)=>e.jsxs("div",{className:"w-full bg-violet-50 rounded-t-lg relative group/bar",children:[e.jsx("div",{className:"absolute bottom-0 w-full bg-gradient-to-t from-violet-600 to-purple-500 rounded-t-lg transition-all duration-500 hover:from-violet-700 hover:to-purple-600 cursor-pointer",style:{height:`${a}%`},children:e.jsxs("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-slate-900 text-white text-[10px] sm:text-xs font-bold px-1.5 sm:px-2 py-0.5 sm:py-1 rounded opacity-0 group-hover/bar:opacity-100 transition-opacity whitespace-nowrap",children:["",(a*1e3).toLocaleString()]})}),e.jsx("div",{className:"absolute -bottom-6 w-full text-center text-[10px] sm:text-xs font-bold text-slate-400",children:["J","F","M","A","M","J","J","A","S","O","N","D"][l]})]},l))})]}),e.jsxs("div",{className:"bg-white/60 backdrop-blur-md rounded-xl shadow-lg border border-white/50 p-4 sm:p-6 hover:shadow-xl transition-all duration-300",children:[e.jsxs("h3",{className:"text-base sm:text-lg font-bold text-slate-900 mb-3 sm:mb-4 flex items-center gap-2",children:[e.jsx(Ps,{className:"text-violet-600",size:18}),"Recent Transactions"]}),e.jsx("div",{className:"space-y-2 sm:space-y-3 mb-3 sm:mb-4",children:R7.map(a=>e.jsxs("div",{className:"group flex items-center justify-between p-2.5 sm:p-3 hover:bg-violet-50/50 rounded-lg sm:rounded-xl transition-all duration-300 cursor-pointer border border-transparent hover:border-violet-100",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0",children:[e.jsx("div",{className:`p-1.5 sm:p-2 rounded-lg transition-all duration-300 group-hover:scale-110 group-hover:rotate-6 shadow-sm flex-shrink-0 ${a.type.includes("POS")?"bg-gradient-to-br from-purple-500 to-purple-600 text-white":"bg-gradient-to-br from-blue-500 to-blue-600 text-white"}`,children:a.type.includes("POS")?e.jsx(zc,{size:14,className:"sm:w-[18px] sm:h-[18px]"}):e.jsx(Ps,{size:14,className:"sm:w-[18px] sm:h-[18px]"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"text-xs sm:text-sm font-bold text-slate-900 group-hover:text-violet-600 transition-colors truncate",children:a.member}),e.jsx("div",{className:"text-[10px] sm:text-xs text-slate-500 truncate",children:a.type})]})]}),e.jsxs("div",{className:"text-right flex-shrink-0 ml-2",children:[e.jsxs("div",{className:`text-xs sm:text-sm font-bold ${a.status==="Completed"?"text-emerald-600":"text-red-500"}`,children:[a.status==="Completed"?"+":"","",a.amount.toLocaleString()]}),e.jsx("div",{className:"text-[10px] sm:text-xs text-slate-400",children:a.date})]})]},a.id))}),e.jsx("button",{className:"w-full py-2.5 text-xs sm:text-sm font-bold text-violet-600 bg-violet-50 hover:bg-violet-100 rounded-lg sm:rounded-xl transition-all duration-300 hover:scale-105",children:"View All Transactions"})]})]})]})},yh=({title:t,value:s,change:a,subValue:l,icon:i,color:o})=>{const d={emerald:{bg:"from-emerald-500 to-emerald-600",icon:"bg-emerald-100 text-emerald-600"},red:{bg:"from-red-500 to-red-600",icon:"bg-red-100 text-red-600"},orange:{bg:"from-orange-500 to-orange-600",icon:"bg-orange-100 text-orange-600"},violet:{bg:"from-violet-500 to-purple-600",icon:"bg-violet-100 text-violet-600"}};return e.jsxs("div",{className:"group bg-white rounded-xl sm:rounded-2xl p-4 sm:p-6 shadow-lg border border-slate-100 hover:shadow-xl hover:scale-105 hover:-translate-y-1 transition-all duration-300",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3 sm:mb-4",children:[e.jsx("div",{className:`p-2.5 sm:p-3 rounded-lg sm:rounded-xl ${d[o].icon} shadow-md group-hover:scale-110 group-hover:rotate-6 transition-all duration-300`,children:e.jsx(i,{size:20,className:"sm:w-6 sm:h-6"})}),a&&e.jsx("span",{className:`text-[10px] sm:text-xs font-bold px-2.5 sm:px-3 py-1 sm:py-1.5 rounded-full ${a.includes("+")?"bg-emerald-100 text-emerald-700 border border-emerald-200":"bg-slate-100 text-slate-600 border border-slate-200"}`,children:a})]}),e.jsx("div",{className:"text-slate-500 text-[10px] sm:text-xs font-bold uppercase tracking-wider mb-2",children:t}),e.jsx("div",{className:"text-2xl sm:text-3xl font-black text-slate-900 mb-1",children:s}),l&&e.jsx("div",{className:"text-xs font-semibold text-slate-500 mt-2",children:l})]})},qx={getAllPromos:async()=>{try{return(await ye.get("/promos")).data}catch(t){throw t.response?.data?.message||"Failed to fetch promos"}},createPromo:async t=>{try{return(await ye.post("/promos",t)).data}catch(s){throw s.response?.data?.message||"Failed to create promo"}},updatePromo:async(t,s)=>{try{return(await ye.put(`/promos/${t}`,s)).data}catch(a){throw a.response?.data?.message||"Failed to update promo"}},deletePromo:async t=>{try{return(await ye.delete(`/promos/${t}`)).data}catch(s){throw s.response?.data?.message||"Failed to delete promo"}},validatePromo:async t=>{try{return(await ye.get(`/promos/validate/${t}`)).data}catch(s){throw s.response?.data?.message||"Failed to validate promo code"}}},I_=()=>{const[t,s]=v.useState([]),[a,l]=v.useState([]),[i,o]=v.useState([]),[d,x]=v.useState(""),[u,h]=v.useState("All"),[p,f]=v.useState("member"),[b,g]=v.useState(null),[j,A]=v.useState(""),[w,k]=v.useState(!1),[C,L]=v.useState(""),[N,P]=v.useState(null),[_,F]=v.useState(0),[R,B]=v.useState(0),[T,q]=v.useState(0),[H,G]=v.useState(18);v.useEffect(()=>{(async()=>{try{const[we,_e,$e]=await Promise.all([_g(),qr.getMembers(),uu().catch(()=>({gstPercent:18}))]);s(we),l(_e),$e&&$e.gstPercent&&G(parseFloat($e.gstPercent))}catch(we){console.error("Failed to load POS data",we)}})()},[]);const W=t.filter(he=>(u==="All"||he.category===u)&&he.name.toLowerCase().includes(d.toLowerCase())),le=a.filter(he=>he.name.toLowerCase().includes(j.toLowerCase())||he.memberId&&he.memberId.toLowerCase().includes(j.toLowerCase())),V=["All",...new Set(t.map(he=>he.category))],ne=he=>{const we=t.find(Ke=>Ke.id===he.id),_e=i.find(Ke=>Ke.id===he.id);if((_e?_e.qty:0)>=we.stock){alert("Cannot add more items. Out of stock.");return}o(Ke=>Ke.find(xe=>xe.id===he.id)?Ke.map(xe=>xe.id===he.id?{...xe,qty:xe.qty+1}:xe):[...Ke,{...he,qty:1}])},I=(he,we)=>{const _e=t.find($e=>$e.id===he);o($e=>$e.map(Ke=>{if(Ke.id===he){if(we>0&&Ke.qty>=_e.stock)return Ke;const et=Math.max(0,Ke.qty+we);return{...Ke,qty:et}}return Ke}).filter(Ke=>Ke.qty>0))};v.useEffect(()=>{if(b&&b.id){const he=b.totalPoints||500;q(he)}else q(0),B(0)},[b]);const oe=async()=>{if(C)try{const he=await qx.validatePromo(C),we=i.reduce((_e,$e)=>_e+$e.price*$e.qty,0);he.type==="PERCENTAGE"?F(we*(parseFloat(he.value)/100)):F(parseFloat(he.value)),P(he.code),st.success("Promo code applied successfully!")}catch(he){alert(he||"Invalid Discount Code"),F(0),P(null)}},Ne=()=>{F(0),P(null),L("")},Y=async()=>{if(p==="member"&&!b){alert("Please select a member for this transaction.");return}if(R>T){alert("Cannot use more points than available.");return}try{const he={memberId:b?b.id:null,cartItems:i.map(_e=>({id:_e.id,quantity:_e.qty})),totalAmount:be,discountCode:N,pointsRedeemed:R};await $w(he),s(_e=>_e.map($e=>{const Ke=i.find(et=>et.id===$e.id);return Ke?{...$e,stock:$e.stock-Ke.qty}:$e}));const we=p==="member"?`Member: ${b.name} (${b.memberId})`:"Guest Checkout";alert(`Processing Payment of ${Math.round(be).toLocaleString()}.
${we}

Invoice generated and synced with Finance & Member history.`),o([]),g(null),A(""),F(0),P(null),L(""),B(0)}catch(he){alert(`Failed to complete transaction: ${he}`)}},$=i.reduce((he,we)=>he+we.price*we.qty,0),Q=Math.max(0,$-_),ae=parseInt(R||0),ue=Math.max(0,Q-ae),me=ue*(H/100),be=ue+me;return e.jsx("div",{className:"bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6 pb-12 min-h-screen",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 sm:gap-6 min-h-[calc(100vh-120px)]",children:[e.jsxs("div",{className:"flex-1 flex flex-col gap-4 sm:gap-6 overflow-hidden",children:[e.jsxs("div",{className:"relative shrink-0",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent mb-2 flex items-center gap-2",children:[e.jsx(uA,{className:"text-violet-600",size:24}),"POS Store"]}),e.jsx("p",{className:"text-slate-600 text-xs sm:text-sm",children:"Sell supplements, gear, and amenities"})]}),e.jsxs("div",{className:"relative w-full group",children:[e.jsx(tt,{size:18,className:"absolute left-3 sm:left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 group-focus-within:scale-110 transition-all duration-300"}),e.jsx("input",{type:"text",value:d,onChange:he=>x(he.target.value),placeholder:"Search products...",className:"w-full pl-10 sm:pl-12 pr-4 py-2.5 sm:py-3 bg-white/80 border-2 border-slate-200 rounded-lg sm:rounded-xl text-xs sm:text-sm focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 focus:bg-white transition-all duration-300 hover:border-slate-300"})]})]})})]}),e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 shrink-0 scrollbar-hide",children:V.map(he=>e.jsx("button",{onClick:()=>h(he),className:`px-4 sm:px-6 py-2 sm:py-2.5 rounded-lg sm:rounded-xl text-xs sm:text-sm font-bold whitespace-nowrap transition-all duration-300 shadow-md ${u===he?"bg-gradient-to-r from-violet-600 to-purple-600 text-white hover:shadow-xl hover:shadow-violet-500/50 hover:scale-105":"bg-white text-slate-700 hover:bg-slate-50 hover:shadow-lg hover:scale-105 border border-slate-100"}`,children:he},he))}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-3 sm:gap-4 overflow-y-auto pb-4 pr-2",children:W.map(he=>e.jsxs("div",{className:"group bg-white rounded-xl sm:rounded-2xl p-3 sm:p-4 shadow-md hover:shadow-xl transition-all duration-300 border border-slate-100 flex flex-col hover:scale-105 hover:-translate-y-1",children:[e.jsxs("div",{className:"aspect-square bg-gradient-to-br from-violet-100 via-purple-100 to-fuchsia-100 rounded-lg sm:rounded-xl mb-2 sm:mb-3 relative overflow-hidden flex items-center justify-center",children:[he.image?e.jsx("img",{src:he.image,alt:he.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}):e.jsx(ol,{size:48,className:"text-violet-400 opacity-50"}),he.stock===0?e.jsx("div",{className:"absolute top-1.5 sm:top-2 right-1.5 sm:right-2 bg-rose-600 text-white px-2 py-1 rounded-md text-[10px] font-black uppercase tracking-tight shadow-lg animate-pulse",children:"Out of Stock"}):e.jsxs("div",{className:"absolute top-1.5 sm:top-2 right-1.5 sm:right-2 bg-white/90 backdrop-blur-sm px-1.5 sm:px-2 py-0.5 sm:py-1 rounded-md sm:rounded-lg text-[10px] sm:text-xs font-bold shadow-md",children:[e.jsx(ol,{size:10,className:"sm:w-3 sm:h-3 inline mr-0.5 sm:mr-1 text-violet-500"}),he.stock," in stock"]})]}),e.jsx("h3",{className:"font-bold text-slate-900 text-xs sm:text-sm mb-1 line-clamp-2 group-hover:text-violet-600 transition-colors",children:he.name}),e.jsx("div",{className:"text-[10px] sm:text-xs font-semibold text-slate-500 mb-2 sm:mb-3",children:he.category}),e.jsxs("div",{className:"mt-auto flex items-center justify-between",children:[e.jsxs("div",{className:"font-black text-base sm:text-lg text-slate-900",children:["",he.price]}),e.jsx("button",{onClick:()=>ne(he),disabled:he.stock===0,className:`p-1.5 sm:p-2 bg-gradient-to-br transition-all duration-300 rounded-lg sm:rounded-xl ${he.stock===0?"from-slate-100 to-slate-200 text-slate-400 cursor-not-allowed":"from-violet-500 to-purple-600 text-white hover:shadow-lg hover:shadow-violet-500/50 hover:scale-110"}`,children:e.jsx(wt,{size:14,className:"sm:w-[18px] sm:h-[18px]"})})]})]},he.id))})]}),e.jsxs("div",{className:"w-full lg:w-96 shrink-0 flex flex-col bg-white/60 backdrop-blur-md rounded-xl sm:rounded-2xl shadow-2xl border border-white/50 h-[calc(100vh-120px)] lg:h-[calc(100vh-48px)]",children:[e.jsx("div",{className:"p-4 sm:p-6 border-b border-slate-100 bg-gradient-to-r from-violet-50 to-purple-50 rounded-t-xl sm:rounded-t-2xl shrink-0",children:e.jsxs("h3",{className:"text-lg sm:text-xl font-black text-slate-900 flex items-center gap-2",children:[e.jsx(Ec,{className:"text-violet-600",size:20}),"Current Cart"]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto min-h-0 flex flex-col",children:[e.jsx("div",{className:"p-3 sm:p-4 space-y-2 sm:space-y-3 flex-shrink-0",children:i.length===0?e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400 opacity-50 py-10",children:[e.jsx(Ec,{size:40,className:"sm:w-12 sm:h-12 mb-3 sm:mb-4"}),e.jsx("p",{className:"font-bold text-sm sm:text-base",children:"Cart is empty"})]}):i.map(he=>e.jsxs("div",{className:"group flex items-center gap-2 sm:gap-3 bg-white p-2.5 sm:p-3 rounded-lg sm:rounded-xl border border-slate-100 shadow-sm hover:shadow-md hover:border-violet-200 transition-all duration-300",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-violet-100 to-purple-100 rounded-lg sm:rounded-xl shrink-0 overflow-hidden flex items-center justify-center",children:he.image?e.jsx("img",{src:he.image,alt:he.name,className:"w-full h-full object-cover"}):e.jsx(ol,{size:16,className:"sm:w-5 sm:h-5 text-violet-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-bold text-xs sm:text-sm text-slate-900 truncate group-hover:text-violet-600 transition-colors",children:he.name}),e.jsxs("div",{className:"text-[10px] sm:text-xs font-semibold text-slate-500",children:["",he.price,"  ",he.qty]})]}),e.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 bg-slate-50 rounded-lg p-1",children:[e.jsx("button",{onClick:()=>I(he.id,-1),className:"p-0.5 sm:p-1 hover:bg-white rounded-md transition-colors",children:e.jsx(bC,{size:12,className:"sm:w-[14px] sm:h-[14px]"})}),e.jsx("span",{className:"text-[10px] sm:text-xs font-bold w-3 sm:w-4 text-center",children:he.qty}),e.jsx("button",{onClick:()=>I(he.id,1),className:"p-0.5 sm:p-1 hover:bg-white rounded-md transition-colors",children:e.jsx(wt,{size:12,className:"sm:w-[14px] sm:h-[14px]"})})]})]},he.id))}),e.jsx("div",{className:"px-4 pb-4 sm:px-6 sm:pb-6 border-t border-slate-100 bg-white/40 flex-shrink-0",children:e.jsxs("div",{className:"py-4",children:[e.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 mb-3",children:"Customer Information"}),e.jsxs("div",{className:"flex gap-4 mb-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group",children:[e.jsx("input",{type:"radio",name:"customerType",checked:p==="member",onChange:()=>f("member"),className:"w-4 h-4 text-violet-600 border-slate-300 focus:ring-violet-500"}),e.jsx("span",{className:`text-xs font-bold transition-colors ${p==="member"?"text-violet-600":"text-slate-500 group-hover:text-slate-700"}`,children:"Assign to Member"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group",children:[e.jsx("input",{type:"radio",name:"customerType",checked:p==="guest",onChange:()=>f("guest"),className:"w-4 h-4 text-violet-600 border-slate-300 focus:ring-violet-500"}),e.jsx("span",{className:`text-xs font-bold transition-colors ${p==="guest"?"text-violet-600":"text-slate-500 group-hover:text-slate-700"}`,children:"Guest Checkout"})]})]}),p==="member"&&e.jsxs("div",{className:"relative animate-in fade-in slide-in-from-top-2",children:[e.jsxs("div",{onClick:()=>k(!w),className:`flex items-center justify-between px-4 py-2.5 bg-white border-2 rounded-xl cursor-pointer transition-all ${b?"border-violet-200 bg-violet-50/30":"border-slate-100 hover:border-slate-200"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[e.jsx(_t,{size:16,className:b?"text-violet-600":"text-slate-400"}),b?e.jsxs("div",{className:"truncate",children:[e.jsx("div",{className:"text-xs font-bold text-slate-900",children:b.name}),e.jsx("div",{className:"text-[10px] text-slate-500",children:b.memberId})]}):e.jsx("span",{className:"text-xs font-bold text-slate-400",children:"Search Member..."})]}),e.jsx(Nl,{size:16,className:`text-slate-400 transition-transform ${w?"rotate-180":""}`})]}),w&&e.jsxs("div",{className:"mt-2 bg-white rounded-xl shadow-lg border border-slate-200 overflow-hidden animate-in zoom-in-95 duration-200",children:[e.jsx("div",{className:"p-2 border-b border-slate-50",children:e.jsxs("div",{className:"relative",children:[e.jsx(tt,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),e.jsx("input",{type:"text",value:j,onChange:he=>A(he.target.value),placeholder:"Name or ID...",className:"w-full pl-9 pr-3 py-2 bg-slate-50 border-none rounded-lg text-xs font-bold focus:ring-2 focus:ring-violet-500/20",autoFocus:!0,onClick:he=>he.stopPropagation()})]})}),e.jsx("div",{className:"max-h-48 overflow-y-auto pt-1",children:le.length>0?le.map(he=>e.jsxs("div",{onClick:()=>{g(he),k(!1)},className:"px-4 py-2 hover:bg-violet-50 cursor-pointer transition-colors border-b border-slate-50 last:border-none",children:[e.jsx("div",{className:"text-xs font-bold text-slate-900",children:he.name}),e.jsxs("div",{className:"text-[10px] text-slate-500 font-medium",children:[he.memberId,"  ",he.phone]})]},he.id)):e.jsx("div",{className:"p-4 text-center text-xs text-slate-400 font-bold italic",children:"No members found"})})]})]}),e.jsxs("div",{className:"mt-4 p-3 bg-violet-50/50 rounded-xl border border-violet-100 flex items-start gap-2",children:[e.jsx(Yn,{size:14,className:"text-violet-500 shrink-0 mt-0.5"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-[10px] font-bold text-violet-700 leading-tight",children:"This transaction will generate an Invoice."}),e.jsxs("p",{className:"text-[9px] font-medium text-slate-500 leading-tight italic",children:["Auto-Sync: Finance Module & ",p==="member"?"Member Purchase History":"General Sales Log"]})]})]})]})}),i.length>0&&e.jsxs("div",{className:"px-4 sm:px-6 py-4 bg-white/40 border-t border-slate-100 space-y-4 flex-shrink-0",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 block",children:"Promo & Discount"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:C,onChange:he=>L(he.target.value),disabled:!!N,placeholder:"Enter CODE (e.g., SAVE10)",className:"flex-1 px-3 py-2 bg-white border border-slate-200 rounded-lg text-xs font-bold focus:ring-2 focus:ring-violet-500/20 disabled:bg-slate-50 disabled:text-slate-400"}),N?e.jsx("button",{onClick:Ne,className:"px-4 py-2 bg-rose-100 text-rose-600 rounded-lg text-xs font-bold hover:bg-rose-200 transition-colors",children:"Remove"}):e.jsx("button",{onClick:oe,className:"px-4 py-2 bg-slate-900 text-white rounded-lg text-xs font-bold hover:bg-slate-800 transition-colors",children:"Apply"})]}),N&&e.jsxs("div",{className:"text-[10px] text-emerald-600 font-bold mt-1 ml-1",children:["- ",_.toLocaleString()," discount applied!"]})]}),p==="member"&&b&&T>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400",children:"Use Reward Points"}),e.jsxs("span",{className:"text-[10px] font-bold text-violet-600 bg-violet-50 px-2 py-0.5 rounded-md",children:[T," Available"]})]}),e.jsx("input",{type:"number",min:"0",max:Math.min(T,Q),value:R,onChange:he=>{let we=parseInt(he.target.value)||0;we=Math.min(we,T,Math.floor(Q)),B(we)},disabled:Q<=0,placeholder:"Points to redeem",className:"w-full px-3 py-2 bg-white border border-slate-200 rounded-lg text-xs font-bold focus:ring-2 focus:ring-violet-500/20"}),e.jsx("div",{className:"text-[10px] text-slate-500 italic mt-1 ml-1",children:"1 point = 1"})]})]})]})," ",e.jsxs("div",{className:"p-4 sm:p-6 bg-gradient-to-r from-slate-50 to-slate-100/50 border-t border-slate-200 space-y-3 flex-shrink-0 rounded-b-xl sm:rounded-b-2xl",children:[e.jsxs("div",{className:"flex justify-between items-center text-slate-600 font-semibold text-xs sm:text-sm",children:[e.jsx("span",{children:"Subtotal"}),e.jsxs("span",{children:["",$.toLocaleString()]})]}),_>0&&e.jsxs("div",{className:"flex justify-between items-center text-emerald-600 font-bold text-xs sm:text-sm",children:[e.jsxs("span",{children:["Discount (",N,")"]}),e.jsxs("span",{children:["-",_.toLocaleString()]})]}),R>0&&e.jsxs("div",{className:"flex justify-between items-center text-violet-600 font-bold text-xs sm:text-sm",children:[e.jsxs("span",{children:["Points Redeemed (",R," pts)"]}),e.jsxs("span",{children:["-",R.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between items-center text-slate-500 font-medium text-[10px] sm:text-xs",children:[e.jsx("span",{children:"Taxable Amount"}),e.jsxs("span",{children:["",ue.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between items-center text-slate-600 font-semibold text-[10px] sm:text-xs",children:[e.jsxs("span",{children:["Tax (",H,"% GST)"]}),e.jsxs("span",{children:["",Math.round(me).toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between items-center text-xl sm:text-2xl font-black text-slate-900 pt-3 sm:pt-4 border-t border-slate-300",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{className:"text-violet-600",children:["",Math.round(be).toLocaleString()]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-2",children:e.jsxs("button",{disabled:i.length===0||p==="member"&&!b,onClick:Y,className:"group relative w-full px-4 sm:px-6 py-3 sm:py-4 rounded-lg sm:rounded-xl font-bold shadow-xl hover:shadow-2xl hover:scale-105 hover:-translate-y-1 transition-all duration-300 flex items-center justify-center gap-2 bg-gradient-to-r from-violet-600 to-purple-600 text-white text-base sm:text-lg hover:shadow-violet-500/50 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 disabled:hover:translate-y-0",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 to-fuchsia-600 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx("span",{className:"relative text-sm sm:text-base",children:"Checkout Now"})]})})]})]})]})})},tg=async()=>{try{return(await ye.get("/finance/expenses")).data}catch(t){throw t}},a5=async t=>{try{return(await ye.post("/finance/expenses",t)).data}catch(s){throw s}},B_=async()=>{try{return(await ye.get("/finance/invoices")).data}catch(t){throw t}},U_=async t=>{try{return(await ye.post("/finance/cashier",t)).data}catch(s){throw s}},$_=async()=>{try{return(await ye.get("/finance/transactions")).data}catch(t){throw t}},q_=async t=>{try{return(await ye.delete(`/finance/expenses/${t}`)).data}catch(s){throw s}},H_=()=>{const[t,s]=v.useState(""),[a,l]=v.useState(""),[i,o]=v.useState(null),[d,x]=v.useState(!1),[u,h]=v.useState([]),[p,f]=v.useState(!0);Di.useEffect(()=>{(async()=>{try{const k=await B_();h(k)}catch(k){console.error("Error loading invoices:",k)}finally{f(!1)}})()},[]);const b=u.filter(w=>{const k=w.memberName?.toLowerCase().includes(t.toLowerCase())||w.invoiceNumber?.toLowerCase().includes(t.toLowerCase()),C=a===""||w.status===a;return k&&C}),g=w=>{o(w),x(!0)},j=w=>{switch(w){case"Paid":return"bg-emerald-50 text-emerald-700 border-emerald-200";case"Partial":return"bg-amber-50 text-amber-700 border-amber-200";case"Overdue":return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},A=w=>{switch(w){case"Paid":return e.jsx(Qt,{size:14});case"Partial":return e.jsx(Qe,{size:14});case"Overdue":return e.jsx(hs,{size:14});default:return null}};return e.jsxs("div",{className:"p-6 md:p-8 bg-gradient-to-br from-slate-50 via-white to-violet-50/30 min-h-screen font-sans",children:[e.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-4xl font-black text-gray-900 tracking-tight flex items-center gap-3",children:[e.jsx(Va,{size:36,className:"text-violet-600"}),"Invoices"]}),e.jsx("p",{className:"text-gray-500 font-medium mt-1.5 flex items-center gap-2 text-sm",children:"Manage billing and track payments"})]}),e.jsx("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative group",children:[e.jsx(tt,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 transition-colors"}),e.jsx("input",{type:"text",value:t,onChange:w=>s(w.target.value),placeholder:"Search by member name or invoice number...",className:"w-full pl-12 pr-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl text-sm font-bold focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 focus:bg-white transition-all"})]}),e.jsxs("div",{className:"relative group",children:[e.jsx(ks,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 transition-colors pointer-events-none z-10"}),e.jsxs("select",{value:a,onChange:w=>l(w.target.value),className:"w-full pl-12 pr-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl text-sm font-bold focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 focus:bg-white transition-all appearance-none cursor-pointer",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"Paid",children:"Paid"}),e.jsx("option",{value:"Partial",children:"Partial"}),e.jsx("option",{value:"Overdue",children:"Overdue"})]})]})]})}),e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-xl overflow-hidden",children:[e.jsx("div",{className:"hidden md:block overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-slate-50/50 border-b border-slate-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-slate-400 uppercase tracking-widest",children:"Invoice Number"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-slate-400 uppercase tracking-widest",children:"Member Name"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-slate-400 uppercase tracking-widest",children:"Service Type"}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-black text-slate-400 uppercase tracking-widest",children:"Total Amount"}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-black text-slate-400 uppercase tracking-widest",children:"Paid Amount"}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-black text-slate-400 uppercase tracking-widest",children:"Balance Due"}),e.jsx("th",{className:"px-6 py-4 text-center text-xs font-black text-slate-400 uppercase tracking-widest",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-center text-xs font-black text-slate-400 uppercase tracking-widest",children:"Action"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:b.map(w=>e.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ga,{size:16,className:"text-violet-500"}),e.jsx("span",{className:"text-sm font-bold text-slate-900",children:w.invoiceNumber})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(lt,{size:16,className:"text-slate-400"}),e.jsx("span",{className:"text-sm font-bold text-slate-900",children:w.memberName})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-bold bg-violet-50 text-violet-700 border border-violet-200",children:w.serviceType})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsxs("span",{className:"text-sm font-black text-slate-900",children:["",w.totalAmount.toLocaleString()]})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsxs("span",{className:"text-sm font-bold text-emerald-600",children:["",w.paidAmount.toLocaleString()]})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsxs("span",{className:`text-sm font-black ${w.balanceDue>0?"text-red-600":"text-slate-400"}`,children:["",w.balanceDue.toLocaleString()]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"flex justify-center",children:e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-bold border ${j(w.status)}`,children:[A(w.status),w.status]})})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"flex justify-center gap-2",children:e.jsx("button",{onClick:()=>g(w),className:"p-2 text-violet-600 bg-violet-50 hover:bg-violet-100 rounded-xl transition-all hover:scale-110 shadow-sm",title:"View Details",children:e.jsx(qs,{size:16})})})})]},w.id))})]})}),e.jsx("div",{className:"md:hidden divide-y divide-slate-100",children:b.map(w=>e.jsx("div",{className:"p-4 hover:bg-slate-50/50 transition-colors",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Ga,{size:14,className:"text-violet-500"}),e.jsx("span",{className:"text-sm font-bold text-slate-900",children:w.invoiceNumber})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(lt,{size:14,className:"text-slate-400"}),e.jsx("span",{className:"text-sm font-bold text-slate-700",children:w.memberName})]})]}),e.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-bold border ${j(w.status)}`,children:[A(w.status),w.status]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-bold bg-violet-50 text-violet-700 border border-violet-200",children:w.serviceType})}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 pt-2 border-t border-slate-100",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-wider mb-0.5",children:"Total"}),e.jsxs("p",{className:"text-sm font-black text-slate-900",children:["",w.totalAmount.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-wider mb-0.5",children:"Paid"}),e.jsxs("p",{className:"text-sm font-bold text-emerald-600",children:["",w.paidAmount.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-wider mb-0.5",children:"Due"}),e.jsxs("p",{className:`text-sm font-black ${w.balanceDue>0?"text-red-600":"text-slate-400"}`,children:["",w.balanceDue.toLocaleString()]})]})]}),e.jsxs("button",{onClick:()=>g(w),className:"w-full py-2.5 px-4 bg-violet-600 text-white rounded-xl text-sm font-bold hover:bg-violet-700 transition-all flex items-center justify-center gap-2",children:[e.jsx(qs,{size:16}),"View Details"]})]})},w.id))}),p?e.jsxs("div",{className:"p-16 text-center",children:[e.jsx("div",{className:"w-12 h-12 mx-auto mb-4 border-4 border-violet-200 border-t-violet-600 rounded-full animate-spin"}),e.jsx("p",{className:"text-slate-600 font-bold",children:"Loading invoices..."})]}):b.length===0&&e.jsxs("div",{className:"p-16 text-center",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-violet-100 to-purple-100 rounded-full flex items-center justify-center",children:e.jsx(Va,{size:40,className:"text-violet-600"})}),e.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-2",children:"No Invoices Found"}),e.jsx("p",{className:"text-slate-600",children:"Try adjusting your search or filter criteria"})]})]})]}),e.jsx(rt,{isOpen:d,onClose:()=>x(!1),title:"Invoice Details",maxWidth:"max-w-2xl",children:i&&e.jsx(W_,{invoice:i,onClose:()=>x(!1)})})]})},W_=({invoice:t,onClose:s})=>{const a=()=>{try{const l=new bt,i=localStorage.getItem("userData");let o="Gym CRM";if(i){const j=JSON.parse(i);o=j?.branchName||j?.tenant?.name||"GYM INVOICE"}const d=[109,40,217],x=[30,41,59],u=[100,116,139];l.setFontSize(28),l.setTextColor(...d),l.setFont("helvetica","bold"),l.text(o.toUpperCase(),14,25),l.setFontSize(10),l.setTextColor(...u),l.setFont("helvetica","normal"),l.text("TAX INVOICE",196,25,null,null,"right"),l.setDrawColor(226,232,240),l.setLineWidth(.5),l.line(14,32,196,32),l.setFontSize(10),l.setTextColor(...u),l.text("Invoice Number:",14,42),l.setFontSize(11),l.setTextColor(...x),l.setFont("helvetica","bold"),l.text(t.invoiceNumber,14,48),l.setFontSize(10),l.setTextColor(...u),l.setFont("helvetica","normal"),l.text("Date of Issue:",90,42),l.setFontSize(11),l.setTextColor(...x),l.setFont("helvetica","bold"),l.text(new Date(t.issueDate).toLocaleDateString(),90,48),l.setFontSize(10),l.setTextColor(...u),l.setFont("helvetica","normal"),l.text("Status:",196,42,null,null,"right");let h=[100,116,139];t.status==="Paid"&&(h=[5,150,105]),t.status==="Overdue"&&(h=[220,38,38]),t.status==="Partial"&&(h=[217,119,6]),l.setFontSize(14),l.setTextColor(...h),l.setFont("helvetica","bold"),l.text(t.status.toUpperCase(),196,49,null,null,"right"),l.setFillColor(248,250,252),l.roundedRect(14,55,182,30,3,3,"F"),l.setFontSize(9),l.setTextColor(...u),l.text("BILL TO",22,65),l.setFontSize(14),l.setTextColor(...x),l.text(t.memberName,22,74),l.setFontSize(10),l.setTextColor(...u),l.setFont("helvetica","normal"),l.text("Member",22,80);const p=t.services.map(j=>[j.name,j.quantity.toString(),`Rs. ${j.rate.toLocaleString()}`,`Rs. ${j.amount.toLocaleString()}`]);G0(l,{startY:95,head:[["DESCRIPTION","QTY","RATE","AMOUNT"]],body:p,theme:"plain",headStyles:{fillColor:[248,250,252],textColor:[100,116,139],fontStyle:"bold",fontSize:9,cellPadding:{top:6,bottom:6,left:8,right:8}},bodyStyles:{textColor:[30,41,59],fontSize:10,cellPadding:{top:6,bottom:6,left:8,right:8}},alternateRowStyles:{fillColor:[255,255,255]},columnStyles:{0:{cellWidth:80},1:{halign:"center"},2:{halign:"right"},3:{halign:"right",fontStyle:"bold"}},margin:{left:14,right:14}});let f=l.lastAutoTable.finalY+15;l.setFillColor(248,250,252),l.roundedRect(120,f,76,45,3,3,"F"),l.setFontSize(10),l.setTextColor(...u),l.setFont("helvetica","normal"),l.text("Total Amount:",125,f+10),l.setFontSize(12),l.setFont("helvetica","bold"),l.setTextColor(...x),l.text(`Rs. ${t.totalAmount.toLocaleString()}`,190,f+10,null,null,"right"),l.setFontSize(10),l.setFont("helvetica","normal"),l.setTextColor(...u),l.text("Paid Amount:",125,f+20),l.setFontSize(12),l.setFont("helvetica","bold"),l.setTextColor(5,150,105),l.text(`Rs. ${t.paidAmount.toLocaleString()}`,190,f+20,null,null,"right"),l.setDrawColor(226,232,240),l.line(125,f+26,190,f+26),l.setFontSize(10),l.setFont("helvetica","bold"),l.setTextColor(...x),l.text("Balance Due:",125,f+36);let b=t.balanceDue>0?[220,38,38]:[30,41,59];if(l.setFontSize(14),l.setTextColor(...b),l.text(`Rs. ${t.balanceDue.toLocaleString()}`,190,f+36,null,null,"right"),t.paymentHistory&&t.paymentHistory.length>0){f+=60,l.setFontSize(9),l.setTextColor(...u),l.setFont("helvetica","bold"),l.text("PAYMENT HISTORY",14,f);const j=t.paymentHistory.map(A=>[new Date(A.date).toLocaleDateString(),A.method,A.transactionId,`Rs. ${A.amount.toLocaleString()}`]);G0(l,{startY:f+5,head:[["DATE","METHOD","TXN ID","AMOUNT"]],body:j,theme:"plain",headStyles:{textColor:[100,116,139],fontStyle:"bold",fontSize:8,cellPadding:{top:4,bottom:4,left:8,right:8}},bodyStyles:{textColor:[100,116,139],fontSize:9,cellPadding:{top:4,bottom:4,left:8,right:8}},columnStyles:{3:{halign:"right",fontStyle:"bold",textColor:[5,150,105]}},margin:{left:14,right:14}})}const g=l.internal.getNumberOfPages();for(let j=1;j<=g;j++)l.setPage(j),l.setFontSize(8),l.setFont("helvetica","normal"),l.setTextColor(148,163,184),l.text("Generated professionally by Gym CRM",105,285,null,null,"center");l.save(`Invoice_${t.invoiceNumber}.pdf`)}catch(l){console.error("Failed generating PDF: ",l)}};return e.jsxs("div",{className:"p-5 md:p-8 space-y-6 md:space-y-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl md:text-2xl font-black text-gray-900 tracking-tight mb-1",children:t.invoiceNumber}),e.jsxs("p",{className:"text-xs md:text-sm text-gray-500 font-medium",children:["Issued on ",new Date(t.issueDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]}),e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-bold border ${t.status==="Paid"?"bg-emerald-50 text-emerald-700 border-emerald-200":t.status==="Partial"?"bg-amber-50 text-amber-700 border-amber-200":"bg-red-50 text-red-700 border-red-200"}`,children:[t.status==="Paid"&&e.jsx(Qt,{size:14}),t.status==="Partial"&&e.jsx(Qe,{size:14}),t.status==="Overdue"&&e.jsx(hs,{size:14}),t.status]})]}),e.jsxs("div",{className:"p-6 bg-slate-50 rounded-2xl border border-slate-100",children:[e.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-3",children:"Bill To"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-violet-600 to-purple-600 flex items-center justify-center text-white text-lg font-black",children:t.memberName[0]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-black text-gray-900",children:t.memberName}),e.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Member"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 md:gap-4",children:[e.jsxs("div",{className:"p-4 md:p-5 bg-violet-50 rounded-2xl border border-violet-100",children:[e.jsx("p",{className:"text-[10px] md:text-xs font-black text-violet-400 uppercase tracking-widest mb-1",children:"Total Amount"}),e.jsxs("p",{className:"text-xl md:text-2xl font-black text-violet-900",children:["",t.totalAmount.toLocaleString()]})]}),e.jsxs("div",{className:"p-4 md:p-5 bg-emerald-50 rounded-2xl border border-emerald-100",children:[e.jsx("p",{className:"text-[10px] md:text-xs font-black text-emerald-400 uppercase tracking-widest mb-1",children:"Paid"}),e.jsxs("p",{className:"text-xl md:text-2xl font-black text-emerald-900",children:["",t.paidAmount.toLocaleString()]})]}),e.jsxs("div",{className:"p-4 md:p-5 bg-red-50 rounded-2xl border border-red-100",children:[e.jsx("p",{className:"text-[10px] md:text-xs font-black text-red-400 uppercase tracking-widest mb-1",children:"Balance Due"}),e.jsxs("p",{className:"text-xl md:text-2xl font-black text-red-900",children:["",t.balanceDue.toLocaleString()]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-black text-slate-900 uppercase tracking-widest mb-4",children:"Services"}),e.jsx("div",{className:"space-y-3",children:t.services.map((l,i)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-xl border border-slate-100",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-bold text-gray-900",children:l.name}),e.jsxs("p",{className:"text-xs text-gray-500 font-medium mt-0.5",children:["Qty: ",l.quantity,"  ",l.rate.toLocaleString()]})]}),e.jsxs("p",{className:"text-lg font-black text-gray-900",children:["",l.amount.toLocaleString()]})]},i))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-black text-slate-900 uppercase tracking-widest mb-4",children:"Payment History"}),t.paymentHistory.length>0?e.jsx("div",{className:"space-y-3",children:t.paymentHistory.map((l,i)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-emerald-50 rounded-xl border border-emerald-100",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Ps,{size:14,className:"text-emerald-600"}),e.jsx("p",{className:"text-sm font-bold text-emerald-900",children:l.method})]}),e.jsx("p",{className:"text-xs text-emerald-700 font-medium",children:new Date(l.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),e.jsx("p",{className:"text-xs text-emerald-600 font-medium mt-0.5",children:l.transactionId})]}),e.jsxs("p",{className:"text-lg font-black text-emerald-900",children:["",l.amount.toLocaleString()]})]},i))}):e.jsxs("div",{className:"p-8 text-center bg-slate-50 rounded-xl border border-slate-100",children:[e.jsx(hs,{size:32,className:"text-slate-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm font-bold text-slate-600",children:"No payments recorded yet"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 md:gap-4 pt-4 border-t border-slate-100",children:[e.jsx("button",{onClick:s,className:"flex-1 px-6 py-3.5 md:py-4 bg-slate-50 text-slate-600 rounded-2xl font-black text-[10px] md:text-xs hover:bg-slate-100 transition-all uppercase tracking-widest",children:"Close"}),e.jsxs("button",{onClick:a,className:"flex-[2] px-6 py-3.5 md:py-4 bg-violet-600 text-white rounded-2xl font-black text-[10px] md:text-xs shadow-xl shadow-violet-200 hover:bg-violet-700 transition-all flex items-center justify-center gap-2 uppercase tracking-widest",children:[e.jsx(Qs,{size:18}),"Download PDF"]})]})]})},Sf=["Rent","Maintenance","Salary","Utilities","Marketing","Supplies","Others"],G_=()=>{const[t,s]=v.useState([]),[a,l]=v.useState(""),[i,o]=v.useState(""),[d,x]=v.useState(!1),[u,h]=v.useState(!0),[p,f]=v.useState({title:"",category:"",amount:"",date:new Date().toISOString().split("T")[0],notes:"",status:"Pending"});v.useEffect(()=>{b()},[]);const b=async()=>{try{h(!0);const k=await tg();s(k)}catch(k){console.error("Failed to fetch expenses",k)}finally{h(!1)}},g=t.filter(k=>{const C=k.title.toLowerCase().includes(a.toLowerCase())||k.notes&&k.notes.toLowerCase().includes(a.toLowerCase()),L=i===""||k.category===i;return C&&L}),j=t.reduce((k,C)=>k+Number(C.amount),0),A=Sf.map(k=>{const C=t.filter(N=>N.category===k).reduce((N,P)=>N+Number(P.amount),0),L=j>0?C/j*100:0;return{category:k,amount:C,percentage:L}}).filter(k=>k.amount>0).sort((k,C)=>C.amount-k.amount),w=async k=>{k.preventDefault();try{const C=await a5(p);s([C,...t]),x(!1),f({title:"",category:"",amount:"",date:new Date().toISOString().split("T")[0],notes:"",status:"Pending"})}catch(C){console.error("Failed to add expense",C)}};return e.jsxs("div",{className:"p-4 md:p-8 bg-gradient-to-br from-slate-50 via-white to-violet-50/30 min-h-screen font-sans",children:[e.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-4xl font-black text-gray-900 tracking-tight flex items-center gap-3",children:[e.jsx(F0,{size:36,className:"text-violet-600"}),"Operations Expenses"]}),e.jsx("p",{className:"text-gray-500 font-medium mt-1.5 flex items-center gap-2 text-sm",children:"Manage operational costs and track spending categories."})]}),e.jsxs("button",{onClick:()=>x(!0),className:"flex items-center justify-center gap-2 px-6 py-4 bg-violet-600 text-white rounded-2xl font-black text-sm shadow-xl shadow-violet-200 hover:bg-violet-700 transition-all hover:scale-105 active:scale-95 uppercase tracking-widest",children:[e.jsx(wt,{size:18}),"Log New Expense"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-slate-900 rounded-[24px] md:rounded-[32px] p-6 md:p-8 text-white shadow-2xl relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10 group-hover:opacity-20 transition-opacity",children:e.jsx(vg,{size:120})}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:"Total Expenses (Current)"}),e.jsxs("h2",{className:"text-5xl font-black mb-6",children:["",j.toLocaleString()]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-xs font-black text-slate-500 uppercase tracking-widest border-b border-slate-800 pb-2",children:"Category Breakdown"}),e.jsxs("div",{className:"space-y-3",children:[A.slice(0,3).map((k,C)=>e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-xs font-bold",children:[e.jsx("span",{children:k.category}),e.jsxs("span",{children:["",k.amount.toLocaleString()]})]}),e.jsx("div",{className:"h-1.5 bg-slate-800 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-violet-500 rounded-full transition-all duration-1000",style:{width:`${k.percentage}%`}})})]},C)),A.length>3&&e.jsxs("p",{className:"text-[10px] text-slate-500 text-center pt-2 font-bold",children:["+ ",A.length-3," more categories"]})]})]})]})]}),e.jsxs("div",{className:"lg:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-[24px] md:rounded-[32px] p-5 md:p-8 border border-slate-100 shadow-xl shadow-slate-200/50 flex flex-col justify-between",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-emerald-50 text-emerald-600 flex items-center justify-center mb-4",children:e.jsx(Qt,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-1",children:"Paid Expenses"}),e.jsxs("h3",{className:"text-3xl font-black text-slate-900",children:["",t.filter(k=>k.status==="Paid").reduce((k,C)=>k+Number(C.amount),0).toLocaleString()]}),e.jsxs("p",{className:"text-xs text-emerald-600 font-bold mt-2 flex items-center gap-1",children:[e.jsx(Qt,{size:12})," Fullfilled payments"]})]})]}),e.jsxs("div",{className:"bg-white rounded-[24px] md:rounded-[32px] p-5 md:p-8 border border-slate-100 shadow-xl shadow-slate-200/50 flex flex-col justify-between text-left",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-amber-50 text-amber-600 flex items-center justify-center mb-4",children:e.jsx(Qe,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-1",children:"Pending Amount"}),e.jsxs("h3",{className:"text-3xl font-black text-slate-900",children:["",t.filter(k=>k.status==="Pending").reduce((k,C)=>k+Number(C.amount),0).toLocaleString()]}),e.jsxs("p",{className:"text-xs text-amber-600 font-bold mt-2 flex items-center gap-1",children:[e.jsx(hs,{size:12})," Awaiting verification"]})]})]})]})]}),e.jsx("div",{className:"bg-white rounded-3xl border border-slate-100 shadow-xl p-4 md:p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative group",children:[e.jsx(tt,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 transition-colors group-focus-within:text-violet-500"}),e.jsx("input",{type:"text",value:a,onChange:k=>l(k.target.value),placeholder:"Search by title or notes...",className:"w-full pl-12 pr-4 py-4 bg-slate-50 border-2 border-slate-200 rounded-2xl text-sm font-bold focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 focus:bg-white transition-all"})]}),e.jsxs("div",{className:"relative group",children:[e.jsx(ks,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none z-10"}),e.jsxs("select",{value:i,onChange:k=>o(k.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-50 border-2 border-slate-200 rounded-2xl text-sm font-bold focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 focus:bg-white transition-all appearance-none cursor-pointer",children:[e.jsx("option",{value:"",children:"All Categories"}),Sf.map(k=>e.jsx("option",{value:k,children:k},k))]})]})]})}),e.jsxs("div",{className:"bg-white rounded-[32px] border border-slate-100 shadow-2xl overflow-hidden",children:[e.jsxs("div",{className:"md:hidden",children:[e.jsx("div",{className:"space-y-4 p-4",children:g.map(k=>e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-100 shadow-sm relative overflow-hidden",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"inline-flex px-2 py-0.5 rounded-full text-[10px] font-black uppercase tracking-wider bg-violet-50 text-violet-700 border border-violet-100",children:k.category}),e.jsx("span",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-wider",children:new Date(k.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]}),e.jsx("h4",{className:"font-bold text-slate-900 text-sm",children:k.title})]}),e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:"text-base font-black text-slate-900",children:["",Number(k.amount).toLocaleString()]})})]}),k.notes&&e.jsx("div",{className:"bg-slate-50 p-3 rounded-lg mb-3",children:e.jsxs("p",{className:"text-xs font-medium text-slate-500 line-clamp-2 italic",children:['"',k.notes,'"']})}),e.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-slate-50",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-600",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-slate-100 flex items-center justify-center text-[10px] font-black text-slate-500",children:k.addedBy?.[0]||"A"}),e.jsx("span",{children:k.addedBy||"System"})]}),e.jsx("button",{className:"text-violet-600 text-xs font-black uppercase tracking-wide",children:"View Details"})]})]},k.id))}),g.length===0&&e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(Ga,{size:48,className:"text-slate-200 mx-auto mb-4"}),e.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-widest text-xs",children:"No expenses found"})]})]}),e.jsxs("div",{className:"hidden md:block overflow-x-auto",children:[e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50/50 border-b border-slate-100",children:[e.jsx("th",{className:"px-8 py-5 text-left text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Date"}),e.jsx("th",{className:"px-8 py-5 text-left text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Expense Title"}),e.jsx("th",{className:"px-8 py-5 text-left text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Category"}),e.jsx("th",{className:"px-8 py-5 text-left text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Notes"}),e.jsx("th",{className:"px-8 py-5 text-left text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Added By"}),e.jsx("th",{className:"px-8 py-5 text-right text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Amount"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:g.map(k=>e.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[e.jsx("td",{className:"px-8 py-5",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold text-slate-600",children:[e.jsx(Ve,{size:14,className:"text-violet-500"}),new Date(k.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})}),e.jsx("td",{className:"px-8 py-5",children:e.jsx("div",{className:"text-sm font-black text-slate-900 group-hover:text-violet-600 transition-colors",children:k.title})}),e.jsx("td",{className:"px-8 py-5",children:e.jsx("span",{className:"inline-flex px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-wider bg-violet-50 text-violet-700 border border-violet-100",children:k.category})}),e.jsx("td",{className:"px-8 py-5",children:e.jsx("div",{className:"text-xs font-medium text-slate-500 max-w-[200px] truncate",title:k.notes,children:k.notes||""})}),e.jsx("td",{className:"px-8 py-5",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold text-slate-700",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-slate-100 flex items-center justify-center text-[10px] font-black text-slate-500",children:k.addedBy?.[0]||"A"}),k.addedBy||"System"]})}),e.jsx("td",{className:"px-8 py-5 text-right",children:e.jsxs("div",{className:"text-base font-black text-slate-900",children:["",Number(k.amount).toLocaleString()]})})]},k.id))})]}),g.length===0&&e.jsxs("div",{className:"p-20 text-center",children:[e.jsx(Ga,{size:48,className:"text-slate-200 mx-auto mb-4"}),e.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-widest text-xs",children:"No expenses found"})]})]})]})]}),e.jsx(rt,{isOpen:d,onClose:()=>x(!1),title:"Log Operational Expense",maxWidth:"max-w-md",children:e.jsxs("form",{onSubmit:w,className:"p-8 space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Expense Title"}),e.jsx("input",{required:!0,type:"text",value:p.title,onChange:k=>f({...p,title:k.target.value}),placeholder:"e.g. Electricity Bill Jan 2024",className:"w-full px-5 py-4 border-2 border-slate-100 rounded-[24px] focus:border-violet-500 outline-none font-bold text-gray-900 transition-all"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Category"}),e.jsxs("select",{required:!0,value:p.category,onChange:k=>f({...p,category:k.target.value}),className:"w-full px-5 py-4 border-2 border-slate-100 rounded-[24px] focus:border-violet-500 outline-none font-bold text-gray-900 transition-all bg-slate-50/50 appearance-none cursor-pointer",children:[e.jsx("option",{value:"",children:"Select"}),Sf.map(k=>e.jsx("option",{value:k,children:k},k))]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Amount ()"}),e.jsx("input",{required:!0,type:"number",value:p.amount,onChange:k=>f({...p,amount:k.target.value}),placeholder:"0",className:"w-full px-5 py-4 border-2 border-slate-100 rounded-[24px] focus:border-violet-500 outline-none font-bold text-gray-900 transition-all"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Expense Date"}),e.jsx("input",{required:!0,type:"date",value:p.date,onChange:k=>f({...p,date:k.target.value}),className:"w-full px-5 py-4 border-2 border-slate-100 rounded-[24px] focus:border-violet-500 outline-none font-bold text-gray-900 transition-all bg-slate-50/50"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Status"}),e.jsxs("select",{required:!0,value:p.status,onChange:k=>f({...p,status:k.target.value}),className:"w-full px-5 py-4 border-2 border-slate-100 rounded-[24px] focus:border-violet-500 outline-none font-bold text-gray-900 transition-all bg-slate-50/50 appearance-none cursor-pointer",children:[e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"Paid",children:"Paid"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Additional Notes"}),e.jsx("textarea",{rows:"4",value:p.notes,onChange:k=>f({...p,notes:k.target.value}),placeholder:"Mention utility month, invoice reference, etc...",className:"w-full px-5 py-4 border-2 border-slate-100 rounded-[24px] focus:border-violet-500 outline-none font-bold text-gray-900 transition-all resize-none bg-slate-50/50"})]}),e.jsxs("div",{className:"flex gap-4 pt-6",children:[e.jsx("button",{type:"button",onClick:()=>x(!1),className:"flex-1 px-8 py-4 bg-slate-50 text-slate-500 rounded-2xl font-black text-xs hover:bg-slate-100 transition-all uppercase tracking-widest",children:"Discard"}),e.jsxs("button",{type:"submit",className:"flex-[2] px-8 py-4 bg-violet-600 text-white rounded-2xl font-black text-xs shadow-xl shadow-violet-200 hover:bg-violet-700 transition-all uppercase tracking-widest flex items-center justify-center gap-2",children:[e.jsx(Qt,{size:18}),"Save Expense"]})]})]})})]})},jh=[{id:1,trainer:"John Doe",sessions:45,tier:"Gold (20%)",totalSales:54e3,commission:10800},{id:2,trainer:"Sarah Coach",sessions:32,tier:"Silver (15%)",totalSales:38400,commission:5760},{id:3,trainer:"Mike Trainer",sessions:50,tier:"Platinum (25%)",totalSales:6e4,commission:15e3}],V_=()=>{const[t,s]=v.useState("February 2025"),a=jh.reduce((o,d)=>o+d.commission,0),l=jh.reduce((o,d)=>o+d.totalSales,0),i=jh.reduce((o,d)=>o+d.sessions,0);return e.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6 pb-12 min-h-screen",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent mb-2 flex items-center gap-2",children:[e.jsx(Ng,{className:"text-violet-600",size:24}),"Trainer Commissions"]}),e.jsx("p",{className:"text-slate-600 text-xs sm:text-sm",children:"Monthly performance and payout reports"})]}),e.jsxs("div",{className:"relative group",children:[e.jsx(Ve,{size:14,className:"sm:w-4 sm:h-4 absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"}),e.jsxs("select",{value:t,onChange:o=>s(o.target.value),className:"w-full sm:w-auto pl-8 sm:pl-9 pr-4 py-2.5 bg-white border-2 border-slate-200 rounded-lg sm:rounded-xl text-xs sm:text-sm font-semibold focus:outline-none focus:border-violet-500 focus:ring-2 focus:ring-violet-500/20 transition-all duration-300 appearance-none cursor-pointer shadow-sm hover:shadow-md",children:[e.jsx("option",{children:"February 2025"}),e.jsx("option",{children:"January 2025"}),e.jsx("option",{children:"December 2024"})]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[e.jsxs("div",{className:"group bg-white rounded-xl sm:rounded-2xl p-4 sm:p-6 shadow-lg border border-slate-100 hover:shadow-xl hover:scale-105 hover:-translate-y-1 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-slate-500 font-bold text-[10px] sm:text-xs uppercase tracking-wider",children:"Total Commissions"}),e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg sm:rounded-xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-md group-hover:scale-110 group-hover:rotate-6 transition-all duration-300",children:e.jsx(Vn,{size:16,className:"sm:w-5 sm:h-5"})})]}),e.jsxs("div",{className:"text-2xl sm:text-3xl font-black text-violet-600",children:["",a.toLocaleString()]})]}),e.jsxs("div",{className:"group bg-white rounded-xl sm:rounded-2xl p-4 sm:p-6 shadow-lg border border-slate-100 hover:shadow-xl hover:scale-105 hover:-translate-y-1 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-slate-500 font-bold text-[10px] sm:text-xs uppercase tracking-wider",children:"Total Sales"}),e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg sm:rounded-xl bg-gradient-to-br from-emerald-500 to-emerald-600 flex items-center justify-center text-white shadow-md group-hover:scale-110 group-hover:rotate-6 transition-all duration-300",children:e.jsx(Js,{size:16,className:"sm:w-5 sm:h-5"})})]}),e.jsxs("div",{className:"text-2xl sm:text-3xl font-black text-slate-900",children:["",l.toLocaleString()]})]}),e.jsxs("div",{className:"group bg-white rounded-xl sm:rounded-2xl p-4 sm:p-6 shadow-lg border border-slate-100 hover:shadow-xl hover:scale-105 hover:-translate-y-1 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-slate-500 font-bold text-[10px] sm:text-xs uppercase tracking-wider",children:"Total Sessions"}),e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg sm:rounded-xl bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center text-white shadow-md group-hover:scale-110 group-hover:rotate-6 transition-all duration-300",children:e.jsx(wn,{size:16,className:"sm:w-5 sm:h-5"})})]}),e.jsx("div",{className:"text-2xl sm:text-3xl font-black text-slate-900",children:i})]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:jh.map(o=>e.jsxs("div",{className:"group relative overflow-hidden bg-white/60 backdrop-blur-md rounded-xl sm:rounded-2xl shadow-lg border border-white/50 hover:shadow-2xl hover:scale-105 hover:-translate-y-2 transition-all duration-300",children:[e.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 sm:w-32 sm:h-32 bg-gradient-to-br from-violet-100 to-purple-100 rounded-full -mr-8 sm:-mr-12 -mt-8 sm:-mt-12 group-hover:from-violet-200 group-hover:to-purple-200 transition-colors duration-300"}),e.jsxs("div",{className:"relative z-10 p-4 sm:p-6 flex flex-col items-center text-center",children:[e.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-br from-violet-500 to-purple-600 rounded-full flex items-center justify-center text-white mb-3 sm:mb-4 border-4 border-white shadow-xl group-hover:scale-110 group-hover:rotate-6 transition-all duration-300",children:e.jsx(lt,{size:32,className:"sm:w-10 sm:h-10"})}),e.jsx("h3",{className:"text-lg sm:text-xl font-black text-slate-900 group-hover:text-violet-600 transition-colors",children:o.trainer}),e.jsxs("div",{className:"inline-flex items-center gap-1.5 px-2.5 sm:px-3 py-1.5 bg-gradient-to-r from-amber-50 to-amber-100 text-amber-700 rounded-full text-[10px] sm:text-xs font-bold mt-2 border border-amber-200 shadow-sm group-hover:scale-110 group-hover:shadow-md transition-all duration-300",children:[e.jsx(bg,{size:10,className:"sm:w-3 sm:h-3"}),o.tier]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4 w-full mt-4 sm:mt-6 pt-4 sm:pt-6 border-t border-slate-100",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-[10px] sm:text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Sessions"}),e.jsx("div",{className:"text-base sm:text-lg font-black text-slate-900 mt-1",children:o.sessions})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-[10px] sm:text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Sales"}),e.jsxs("div",{className:"text-base sm:text-lg font-black text-slate-900 mt-1",children:["",o.totalSales.toLocaleString()]})]})]}),e.jsxs("div",{className:"w-full mt-3 sm:mt-4 bg-gradient-to-r from-emerald-50 to-emerald-100 rounded-lg sm:rounded-xl p-3 sm:p-4 border border-emerald-200 shadow-sm group-hover:shadow-md group-hover:scale-105 transition-all duration-300",children:[e.jsx("div",{className:"text-[10px] sm:text-xs font-bold text-emerald-700 uppercase tracking-widest mb-1",children:"Total Commission"}),e.jsxs("div",{className:"text-xl sm:text-2xl font-black text-emerald-700",children:["",o.commission.toLocaleString()]})]})]})]},o.id))})]})},r5=({isOpen:t,onClose:s,payment:a})=>{if(!t||!a)return null;const i=(x=>{switch(x){case"Card":return Ps;case"UPI":return Jl;case"Bank Transfer":return Lr;default:return xa}})(a.method),o=()=>{const x=localStorage.getItem("userData");let u="Gym CRM";if(x){const f=JSON.parse(x);u=f?.branchName||f?.tenant?.name||"GYM RECEIPT"}const h=window.open("","_blank"),p=`
            <!DOCTYPE html>
            <html>
            <head>
                <title>Receipt - ${a.id||"Print"}</title>
                <style>
                    body {
                        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
                        color: #1e293b;
                        margin: 0;
                        padding: 40px;
                        -webkit-print-color-adjust: exact;
                        print-color-adjust: exact;
                    }
                    .receipt-box {
                        max-width: 600px;
                        margin: 0 auto;
                        border: 2px dashed #cbd5e1;
                        border-radius: 16px;
                        padding: 30px;
                    }
                    .header {
                        text-align: center;
                        border-bottom: 2px dashed #cbd5e1;
                        padding-bottom: 20px;
                        margin-bottom: 20px;
                    }
                    .header h1 {
                        color: #10b981;
                        margin: 0 0 10px 0;
                        font-size: 28px;
                    }
                    .header p {
                        margin: 0;
                        color: #64748b;
                        font-weight: bold;
                        text-transform: uppercase;
                        font-size: 12px;
                        letter-spacing: 2px;
                    }
                    .row {
                        display: flex;
                        justify-content: space-between;
                        margin-bottom: 12px;
                        font-size: 14px;
                    }
                    .row .label {
                        color: #64748b;
                        font-weight: bold;
                        text-transform: uppercase;
                        font-size: 11px;
                        letter-spacing: 1px;
                    }
                    .row .value {
                        font-weight: bold;
                        color: #0f172a;
                    }
                    .divider {
                        border-top: 1px solid #e2e8f0;
                        margin: 20px 0;
                        width: 100%;
                    }
                    .total-box {
                        background: #f8fafc;
                        padding: 20px;
                        border-radius: 12px;
                        margin-top: 20px;
                        display: flex;
                        justify-content: space-between;
                        align-items: center;
                        border: 1px solid #e2e8f0;
                    }
                    .total-label {
                        color: #64748b;
                        font-weight: bold;
                        text-transform: uppercase;
                        font-size: 12px;
                        letter-spacing: 1px;
                    }
                    .total-value {
                        font-size: 32px;
                        font-weight: 900;
                        color: #10b981;
                    }
                    @media print {
                        @page { margin: 0.5cm; }
                        body { padding: 0; }
                        .receipt-box { border: none; padding: 20px; max-width: 100%; }
                    }
                </style>
            </head>
            <body>
                <div class="receipt-box">
                    <div class="header">
                        <h1>${u.toUpperCase()}</h1>
                        <p>CASHIER RECEIPT</p>
                    </div>
                    
                    <div class="row">
                        <span class="label">Receipt ID</span>
                        <span class="value">${a.id||""}</span>
                    </div>
                    <div class="row">
                        <span class="label">Date</span>
                        <span class="value">${a.date||""}</span>
                    </div>
                    <div class="row">
                        <span class="label">Received By</span>
                        <span class="value">${a.receivedBy||""}</span>
                    </div>

                    <div class="divider"></div>

                    <div class="row">
                        <span class="label">Member Name</span>
                        <span class="value">${a.memberName||""}</span>
                    </div>
                    <div class="row">
                        <span class="label">Payment Type</span>
                        <span class="value" style="text-transform: capitalize;">${a.paymentType||""}</span>
                    </div>
                    <div class="row">
                        <span class="label">Payment Method</span>
                        <span class="value">${a.method||""}</span>
                    </div>
                    ${a.referenceNumber?`
                    <div class="row">
                        <span class="label">Reference ID</span>
                        <span class="value">${a.referenceNumber}</span>
                    </div>
                    `:""}

                    <div class="total-box">
                        <span class="total-label">Total Amount Paid</span>
                        <span class="total-value">Rs. ${parseFloat(a.finalAmount||0).toLocaleString()}</span>
                    </div>
                    
                    <div style="text-align: center; margin-top: 40px; color: #94a3b8; font-size: 11px;">
                        <p>Thank you for your payment!</p>
                        <p>Generated professionally by Gym CRM</p>
                    </div>
                </div>
                <script>
                    window.onload = function() {
                        window.print();
                    }
                <\/script>
            </body>
            </html>
        `;h.document.write(p),h.document.close()},d=()=>{try{const x=new bt,u=localStorage.getItem("userData");let h="Gym CRM";if(u){const A=JSON.parse(u);h=A?.branchName||A?.tenant?.name||"GYM RECEIPT"}const p=[16,185,129],f=[30,41,59],b=[100,116,139];x.setFontSize(28),x.setTextColor(...p),x.setFont("helvetica","bold"),x.text(h.toUpperCase(),14,25),x.setFontSize(10),x.setTextColor(...b),x.setFont("helvetica","normal"),x.text("CASHIER RECEIPT",196,25,null,null,"right"),x.setDrawColor(226,232,240),x.setLineWidth(.5),x.line(14,32,196,32),x.setFontSize(10),x.setTextColor(...b),x.text("Receipt ID:",14,42),x.setFontSize(11),x.setTextColor(...f),x.setFont("helvetica","bold"),x.text(a.id||"",14,48),x.setFontSize(10),x.setTextColor(...b),x.setFont("helvetica","normal"),x.text("Date:",196,42,null,null,"right"),x.setFontSize(11),x.setTextColor(...f),x.setFont("helvetica","bold"),x.text(a.date||"",196,48,null,null,"right"),x.setFontSize(10),x.setTextColor(...b),x.setFont("helvetica","normal"),x.text("Received By:",14,58),x.setFontSize(11),x.setTextColor(...f),x.setFont("helvetica","bold"),x.text(a.receivedBy||"",14,64),x.setFontSize(14),x.setTextColor(...p),x.text("SUCCESS",196,64,null,null,"right"),x.setFillColor(248,250,252),x.roundedRect(14,72,182,30,3,3,"F"),x.setFontSize(9),x.setTextColor(...b),x.text("MEMBER",22,82),x.setFontSize(14),x.setTextColor(...f),x.text(a.memberName||"",22,91);const g=[[(a.paymentType||"").toUpperCase(),a.method||"",a.referenceNumber||"N/A",`Rs. ${parseFloat(a.finalAmount||0).toLocaleString()}`]];G0(x,{startY:110,head:[["PAYMENT TYPE","METHOD","REF ID","TOTAL PAID"]],body:g,theme:"plain",headStyles:{fillColor:[248,250,252],textColor:[100,116,139],fontStyle:"bold",fontSize:9,cellPadding:{top:6,bottom:6,left:8,right:8}},bodyStyles:{textColor:[30,41,59],fontSize:11,fontStyle:"bold",cellPadding:{top:8,bottom:8,left:8,right:8}},columnStyles:{3:{halign:"right",textColor:[16,185,129]}},margin:{left:14,right:14}});const j=x.internal.getNumberOfPages();for(let A=1;A<=j;A++)x.setPage(A),x.setFontSize(8),x.setFont("helvetica","normal"),x.setTextColor(148,163,184),x.text("Generated professionally by Gym CRM",105,285,null,null,"center");x.save(`Receipt_${a.id||"download"}.pdf`)}catch(x){console.error("Failed generating PDF: ",x)}};return e.jsx("div",{className:"fixed inset-0 z-[10000] flex items-center justify-center bg-slate-900/60 backdrop-blur-md px-4 py-8 overflow-y-auto",children:e.jsxs("div",{className:"relative w-full max-w-lg bg-white rounded-[40px] shadow-2xl overflow-hidden animate-in zoom-in-95 duration-300 flex flex-col my-auto",children:[e.jsx("button",{onClick:s,className:"absolute top-6 right-6 p-2 rounded-full bg-slate-50 text-slate-400 hover:text-slate-600 hover:bg-slate-100 transition-all z-10 no-print",children:e.jsx(Vr,{size:20})}),e.jsxs("div",{className:"p-8 text-center bg-gradient-to-b from-emerald-500/10 to-transparent border-b border-dashed border-slate-100 relative",children:[e.jsx("div",{className:"w-20 h-20 bg-emerald-500 text-white rounded-[28px] flex items-center justify-center mx-auto mb-6 shadow-xl shadow-emerald-200 print:shadow-none",children:e.jsx(Xt,{size:40})}),e.jsx("h3",{className:"text-2xl font-black text-slate-800 tracking-tight",children:"Payment Confirmed"}),e.jsx("p",{className:"text-[10px] font-black text-emerald-600 uppercase tracking-[0.2em] mt-2 bg-emerald-50 px-3 py-1 rounded-full inline-block",children:"Digital Receipt Generated"})]}),e.jsxs("div",{className:"p-8 space-y-8",children:[e.jsxs("div",{className:"bg-slate-50 rounded-[32px] p-6 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Receipt ID"}),e.jsx("span",{className:"text-sm font-black text-slate-700",children:a.id})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Date"}),e.jsx("span",{className:"text-sm font-black text-slate-700",children:a.date})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Received By"}),e.jsx("span",{className:"text-sm font-black text-slate-700",children:a.receivedBy})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-violet-50 flex items-center justify-center text-violet-500",children:e.jsx(lt,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Member Name"}),e.jsx("p",{className:"text-base font-black text-slate-800",children:a.memberName})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-amber-50 flex items-center justify-center text-amber-500",children:e.jsx(i,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Payment Type & Method"}),e.jsxs("p",{className:"text-sm font-black text-slate-800 capitalize",children:[a.paymentType,"  ",a.method]}),a.referenceNumber&&e.jsxs("p",{className:"text-[10px] font-bold text-slate-400 mt-1 uppercase",children:["Ref: ",a.referenceNumber]})]})]})]}),e.jsxs("div",{className:"pt-8 border-t border-slate-100 flex items-end justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Total Amount Received"}),e.jsxs("h2",{className:"text-4xl font-black text-emerald-600",children:["",parseFloat(a.finalAmount).toLocaleString()]})]}),e.jsxs("div",{className:"px-3 py-1.5 rounded-xl bg-slate-900 text-white text-[10px] font-black uppercase tracking-widest flex items-center gap-2",children:[e.jsx(Xt,{size:12,className:"text-emerald-400"}),"Success"]})]})]}),e.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[e.jsxs("button",{onClick:o,className:"flex-1 h-14 bg-white border-2 border-slate-200 rounded-2xl text-xs font-black uppercase tracking-widest text-slate-400 hover:text-emerald-500 hover:border-emerald-200 transition-all flex items-center justify-center gap-3 group",children:[e.jsx(PC,{size:18,className:"group-hover:scale-110 transition-transform"}),"Print"]}),e.jsxs("button",{onClick:d,className:"flex-1 h-14 bg-slate-900 border-2 border-slate-900 rounded-2xl text-xs font-black uppercase tracking-widest text-white hover:bg-slate-800 hover:scale-[1.03] active:scale-95 transition-all flex items-center justify-center gap-3",children:[e.jsx(Qs,{size:18}),"Download PDF"]})]})]})})},H2=()=>{const t=qt(),s=localStorage.getItem("userData"),a=s?JSON.parse(s):{name:"Operator",role:"STAFF",branchId:"Unknown"},[l,i]=v.useState([]),[o,d]=v.useState(null),[x,u]=v.useState(""),[h,p]=v.useState(!1);v.useEffect(()=>{(async()=>{try{const B=await ye.get("/admin/members");i(B.data)}catch(B){console.error("Failed fetching members",B)}})()},[]);const[f,b]=v.useState({type:"",amount:"",discount:0,method:"Cash",referenceNumber:"",notes:""}),[g,j]=v.useState(!1),[A,w]=v.useState(null),[k,C]=v.useState(!1),L=[{id:"membership",label:"New Membership",icon:Lr,color:"text-violet-500"},{id:"renewal",label:"Renewal",icon:yl,color:"text-amber-500"},{id:"pt",label:"Personal Training",icon:ua,color:"text-rose-500"},{id:"diet",label:"Diet Plan",icon:Bo,color:"text-emerald-500"},{id:"addon",label:"Add-On",icon:wt,color:"text-blue-500"},{id:"other",label:"Other",icon:HS,color:"text-slate-500"}],N=[{id:"Cash",label:"Cash",icon:xa},{id:"Card",label:"Card",icon:Ps},{id:"UPI",label:"UPI / QR",icon:Jl},{id:"Bank Transfer",label:"Bank Transfer",icon:Lr}],P=l.filter(R=>R.name?.toLowerCase().includes(x.toLowerCase())||R.phone?.includes(x)),_=()=>{const R=parseFloat(f.amount)||0,B=parseFloat(f.discount)||0;return Math.max(0,R-B)},F=async()=>{if(!o||!f.type||!f.amount){alert("Please complete all required fields.");return}if(f.method!=="Cash"&&!f.referenceNumber){alert("Reference number is required for non-cash payments.");return}const R=_();try{const T={id:(await U_({memberId:o.id,paymentType:f.type,amount:f.amount,discount:f.discount,method:f.method,referenceNumber:f.referenceNumber,notes:f.notes})).receipt.invoiceNumber,memberId:o.memberId||o.id,memberName:o.name,paymentType:f.type,amount:f.amount,discount:f.discount,finalAmount:R,method:f.method,referenceNumber:f.referenceNumber,receivedBy:a.name,date:new Date().toLocaleDateString("en-IN"),branchId:a.branchName||"GYM",status:"completed"};w(T),C(!0),setTimeout(()=>{j(!0),C(!1),d(null),b({type:"",amount:"",discount:0,method:"Cash",referenceNumber:"",notes:""})},1500)}catch{alert("Payment failed to record. Check connection.")}};return e.jsxs("div",{className:"min-h-screen bg-slate-50/50 p-4 md:p-8",children:[e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-8",children:[e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx("div",{className:"w-16 h-16 rounded-3xl bg-gradient-to-br from-emerald-500 to-teal-600 flex items-center justify-center text-white shadow-xl shadow-emerald-500/20",children:e.jsx(Ga,{size:32})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-black text-slate-900 tracking-tight leading-none mb-2",children:"Cashier Mode"}),e.jsx("p",{className:"text-slate-500 font-medium italic",children:"Collect offline payments and generate instant receipts."})]})]}),e.jsxs("button",{onClick:()=>t("/finance/transactions"),className:"px-6 py-3 bg-white border-2 border-slate-100 rounded-2xl text-xs font-black uppercase tracking-widest text-slate-400 hover:text-emerald-500 hover:border-emerald-100 hover:bg-emerald-50/30 transition-all shadow-sm flex items-center gap-2 group",children:[e.jsx(yl,{size:16,className:"group-hover:rotate-[-45deg] transition-transform"}),"Branch Transactions"]})]}),k?e.jsxs("div",{className:"bg-white rounded-[40px] shadow-2xl border border-slate-100 p-12 text-center animate-in zoom-in-95 duration-500",children:[e.jsx("div",{className:"w-24 h-24 bg-emerald-50 rounded-full flex items-center justify-center text-emerald-500 mx-auto mb-6 animate-bounce",children:e.jsx(Xt,{size:48})}),e.jsx("h2",{className:"text-3xl font-black text-slate-800 mb-2",children:"Payment Received!"}),e.jsx("p",{className:"text-slate-500 font-medium max-w-md mx-auto",children:"The transaction has been recorded and the receipt is being generated."})]}):e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[e.jsxs("div",{className:"lg:col-span-8 space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-[32px] shadow-xl border border-slate-100 p-8",children:[e.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-slate-400 mb-6 flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500"}),"Step 1: Select Member"]}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:`flex items-center justify-between px-6 py-4 bg-slate-50 border-2 rounded-2xl cursor-pointer transition-all ${o?"border-emerald-200 bg-emerald-50/30":"border-slate-100 hover:border-slate-200"}`,onClick:()=>p(!h),children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center shadow-sm ${o?"bg-white text-emerald-500":"bg-slate-200 text-slate-400"}`,children:e.jsx(_t,{size:24})}),o?e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-sm font-black text-slate-800",children:o.name}),e.jsxs("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:[o.phone,"  ",o.memberId]})]}):e.jsx("span",{className:"text-sm font-black text-slate-300",children:"Search member by name or phone..."})]}),e.jsx(Nl,{size:20,className:`text-slate-300 transition-transform duration-300 ${h?"rotate-180":""}`})]}),h&&e.jsxs("div",{className:"absolute top-full left-0 right-0 mt-3 bg-white rounded-3xl shadow-2xl border border-slate-100 z-50 overflow-hidden animate-in fade-in slide-in-from-top-4 duration-300",children:[e.jsx("div",{className:"p-4 bg-slate-50 border-b border-slate-100",children:e.jsxs("div",{className:"relative",children:[e.jsx(tt,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-emerald-500"}),e.jsx("input",{type:"text",value:x,onChange:R=>u(R.target.value),placeholder:"Quick search...",className:"w-full pl-12 pr-4 h-12 rounded-xl bg-white border-2 border-slate-200 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/10 font-bold text-sm outline-none transition-all",autoFocus:!0})]})}),e.jsx("div",{className:"max-h-64 overflow-y-auto",children:P.length>0?P.map(R=>e.jsxs("button",{onClick:()=>{d(R),p(!1)},className:"w-full px-6 py-4 flex items-center gap-4 hover:bg-emerald-50 transition-colors border-b border-slate-50 last:border-none text-left",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-slate-100 flex items-center justify-center font-black text-slate-400 text-xs uppercase",children:R.name?R.name.charAt(0):"A"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-black text-slate-800 leading-none mb-1",children:R.name}),e.jsxs("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-tight",children:[R.phone,"  ",R.memberId]})]})]},R.id)):e.jsx("div",{className:"p-8 text-center bg-slate-50/50",children:e.jsx("p",{className:"text-xs font-black text-slate-300 uppercase tracking-widest",children:"No members found"})})})]})]})]}),e.jsxs("div",{className:"bg-white rounded-[32px] shadow-xl border border-slate-100 p-8",children:[e.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-slate-400 mb-8 flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500"}),"Step 2: Payment Details"]}),e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:L.map(R=>e.jsxs("button",{onClick:()=>b({...f,type:R.id}),className:`p-4 rounded-2xl border-2 transition-all flex flex-col items-center justify-center text-center gap-3 group ${f.type===R.id?"border-emerald-500 bg-emerald-50/30":"border-slate-50 bg-slate-50 hover:border-slate-200"}`,children:[e.jsx("div",{className:`p-3 rounded-xl transition-all ${f.type===R.id?"bg-emerald-500 text-white shadow-lg":"bg-white text-slate-400"}`,children:e.jsx(R.icon,{size:20})}),e.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${f.type===R.id?"text-emerald-700":"text-slate-500"}`,children:R.label})]},R.id))}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-1",children:"Bill Amount ()"}),e.jsxs("div",{className:"relative",children:[e.jsx(Lr,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"number",value:f.amount,onChange:R=>b({...f,amount:R.target.value}),className:"w-full pl-11 pr-4 h-14 rounded-2xl border-2 border-slate-100 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/10 font-black text-slate-800 bg-slate-50/50",placeholder:"0.00"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-1",children:"Discount ()"}),e.jsxs("div",{className:"relative",children:[e.jsx(Bo,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"number",value:f.discount,onChange:R=>b({...f,discount:R.target.value}),className:"w-full pl-11 pr-4 h-14 rounded-2xl border-2 border-slate-100 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/10 font-black text-slate-800 bg-slate-50/50",placeholder:"0"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-1",children:"Payment Method"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:N.map(R=>e.jsxs("button",{onClick:()=>b({...f,method:R.id}),className:`px-4 py-3 rounded-xl border-2 transition-all flex items-center gap-3 font-black text-[10px] uppercase tracking-widest ${f.method===R.id?"border-emerald-500 bg-emerald-500 text-white shadow-lg":"border-slate-100 bg-white text-slate-400 hover:border-slate-200"}`,children:[e.jsx(R.icon,{size:16}),R.label]},R.id))})]}),f.method!=="Cash"&&e.jsxs("div",{className:"space-y-3 animate-in slide-in-from-left-4",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-1",children:"Reference / Transaction ID"}),e.jsxs("div",{className:"relative",children:[e.jsx(Jl,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-emerald-500",size:18}),e.jsx("input",{type:"text",value:f.referenceNumber,onChange:R=>b({...f,referenceNumber:R.target.value}),className:"w-full pl-11 pr-4 h-14 rounded-2xl border-2 border-emerald-100 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/10 font-black text-slate-800 bg-emerald-50/10",placeholder:"Enter TXN ID..."})]})]})]})]})]}),e.jsxs("div",{className:"lg:col-span-4 h-fit sticky top-8",children:[e.jsxs("div",{className:"bg-slate-900 rounded-[40px] shadow-2xl p-8 text-white relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 right-0 p-12 opacity-5 translate-x-1/2 -translate-y-1/4 group-hover:scale-125 transition-transform duration-1000",children:e.jsx(Ga,{size:240,strokeWidth:1})}),e.jsxs("div",{className:"relative z-10 space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.3em] opacity-40 mb-2",children:"Final Payable"}),e.jsxs("h2",{className:"text-6xl font-black italic tracking-tighter tabular-nums drop-shadow-2xl",children:["",_().toLocaleString()]})]}),e.jsxs("div",{className:"space-y-4 pt-8 border-t border-white/10",children:[e.jsxs("div",{className:"flex justify-between items-center opacity-60",children:[e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Base Amount"}),e.jsxs("span",{className:"font-bold tabular-nums",children:["",parseFloat(f.amount||0).toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between items-center text-rose-400",children:[e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Instant Discount"}),e.jsxs("span",{className:"font-bold tabular-nums",children:["-",parseFloat(f.discount||0).toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-white/10 text-emerald-400",children:[e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Method"}),e.jsx("span",{className:"font-black uppercase tracking-widest",children:f.method})]})]}),e.jsxs("div",{className:"pt-4",children:[e.jsxs("button",{onClick:F,className:"w-full py-5 bg-gradient-to-r from-emerald-400 to-teal-500 text-white rounded-[24px] font-black uppercase tracking-widest text-sm shadow-xl shadow-emerald-500/30 hover:shadow-emerald-500/50 hover:scale-[1.03] active:scale-95 transition-all flex items-center justify-center gap-3",children:["Receive Payment ",e.jsx(jl,{size:20})]}),e.jsx("p",{className:"text-[9px] font-bold opacity-30 uppercase tracking-[0.2em] text-center mt-6",children:"Secure Branch Level Encryption"})]})]})]}),e.jsxs("div",{className:"mt-6 p-6 rounded-3xl bg-white border border-slate-100 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-100 flex items-center justify-center text-slate-400",children:e.jsx(lt,{size:20})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Current Operator"}),e.jsx("p",{className:"text-xs font-bold text-slate-700",children:a.name})]})]}),e.jsx("div",{className:"px-3 py-1 bg-violet-50 text-violet-600 rounded-lg text-[10px] font-black uppercase tracking-widest",children:a.role})]})]})]})]}),e.jsx(r5,{isOpen:g,onClose:()=>j(!1),payment:A})]})},W2=()=>{const t=qt(),[s,a]=v.useState(""),[l,i]=v.useState("All"),[o,d]=v.useState(null),[x,u]=v.useState(!1),[h,p]=v.useState(null),[f,b]=v.useState([]),g=localStorage.getItem("userData"),j=g?JSON.parse(g):{name:"Staff Operator"};v.useEffect(()=>{(async()=>{try{const P=await $_();b(P)}catch(P){console.error("Failed fetching transactions:",P)}})()},[]);const A=N=>{switch(N){case"Card":return Ps;case"UPI":return Jl;case"Bank Transfer":return Lr;default:return xa}},w=N=>N.includes("Membership")?"bg-violet-50 text-violet-600 border-violet-100":N.includes("POS")?"bg-blue-50 text-blue-600 border-blue-100":N.includes("PT")?"bg-rose-50 text-rose-600 border-rose-100":"bg-slate-50 text-slate-600 border-slate-100",k=f.filter(N=>{const P=l==="All"||N.type&&N.type.includes(l),_=N.member&&N.member.toLowerCase().includes(s.toLowerCase())||N.id&&N.id.toLowerCase().includes(s.toLowerCase());return P&&_}),C=()=>{if(k.length===0){alert("No transactions available to export.");return}const N=["Transaction ID","Date","Member Name","Category","Method","Amount"],P=k.map(T=>[T.id||"",T.date||"",`"${T.member||""}"`,T.type||"",T.method||"",T.amount||0]),_=[N.join(","),...P.map(T=>T.join(","))].join(`
`),F=new Blob([_],{type:"text/csv;charset=utf-8;"}),R=URL.createObjectURL(F),B=document.createElement("a");B.href=R,B.setAttribute("download",`Transactions_Export_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(B),B.click(),document.body.removeChild(B)},L=N=>{p({...N,memberName:N.member,paymentType:N.type,finalAmount:N.amount,receivedBy:j.name||"Staff Operator"}),u(!0)};return e.jsxs("div",{className:"min-h-screen bg-slate-50/50 p-4 md:p-8",children:[e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6 mb-8",children:[e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>t(-1),className:"flex items-center gap-2 text-slate-400 hover:text-slate-600 transition-colors mb-4 group",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-white shadow-sm flex items-center justify-center group-hover:-translate-x-1 transition-transform",children:e.jsx(kn,{size:16})}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.2em]",children:"Back"})]}),e.jsxs("div",{className:"flex items-center gap-4 md:gap-5",children:[e.jsxs("div",{className:"w-12 h-12 md:w-16 md:h-16 rounded-2xl md:rounded-3xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-xl shadow-violet-500/20 shrink-0",children:[e.jsx(yl,{size:24,className:"md:hidden"}),e.jsx(yl,{size:32,className:"hidden md:block"})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl md:text-4xl font-black text-slate-900 tracking-tight leading-none mb-2",children:"Branch Transactions"}),e.jsx("p",{className:"text-slate-500 font-medium italic text-sm md:text-base",children:"Complete audit trail of all payments received."})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto",children:[e.jsxs("button",{onClick:C,className:"flex-1 md:flex-none px-6 py-3.5 bg-white border-2 border-slate-100 rounded-2xl text-xs font-black uppercase tracking-widest text-slate-500 hover:border-violet-200 hover:text-violet-600 transition-all shadow-sm flex items-center justify-center gap-3",children:[e.jsx(Qs,{size:18}),"Export CSV"]}),e.jsxs("button",{onClick:()=>t("/finance/cashier"),className:"flex-1 md:flex-none px-6 py-3.5 bg-slate-900 text-white rounded-2xl text-xs font-black uppercase tracking-widest hover:bg-slate-800 hover:scale-[1.02] active:scale-95 transition-all shadow-xl shadow-slate-200 flex items-center justify-center gap-3",children:[e.jsx(wt,{size:18}),"New Payment"]})]})]}),e.jsxs("div",{className:"bg-white rounded-[24px] md:rounded-[32px] shadow-xl border border-slate-100 p-4 md:p-6 mb-8 flex flex-col lg:flex-row gap-4 items-center",children:[e.jsxs("div",{className:"relative flex-1 w-full group",children:[e.jsx(tt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 transition-colors",size:18}),e.jsx("input",{type:"text",value:s,onChange:N=>a(N.target.value),className:"w-full pl-11 pr-4 h-12 rounded-2xl border-2 border-slate-100 focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 font-bold text-sm bg-slate-50/50 transition-all outline-none",placeholder:"Search by ID or member name..."})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full lg:w-auto",children:[e.jsxs("select",{value:l,onChange:N=>i(N.target.value),className:"h-12 px-5 rounded-2xl border-2 border-slate-100 bg-white font-bold text-xs uppercase tracking-widest text-slate-500 outline-none focus:border-violet-500 transition-all w-full sm:w-auto",children:[e.jsx("option",{value:"All",children:"All Types"}),e.jsx("option",{value:"Membership",children:"Membership"}),e.jsx("option",{value:"POS",children:"Products"}),e.jsx("option",{value:"Personal Training",children:"PT Sessions"})]}),e.jsxs("div",{className:"h-12 px-6 flex items-center justify-center gap-3 bg-violet-50 border-2 border-violet-100 rounded-2xl text-xs font-black text-violet-600 uppercase tracking-widest w-full sm:w-auto",children:[e.jsx(Qe,{size:16}),k.length," Total"]})]})]}),e.jsxs("div",{className:"bg-white rounded-[40px] shadow-2xl border border-slate-100 overflow-hidden",children:[e.jsx("div",{className:"hidden lg:block overflow-x-auto overflow-y-visible",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50/80",children:[e.jsx("th",{className:"px-8 py-6 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Transaction ID"}),e.jsx("th",{className:"px-8 py-6 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Member"}),e.jsx("th",{className:"px-8 py-6 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Category"}),e.jsx("th",{className:"px-8 py-6 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Method"}),e.jsx("th",{className:"px-8 py-6 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Amount"}),e.jsx("th",{className:"px-8 py-6 text-right text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:k.map(N=>{const P=A(N.method);return e.jsxs("tr",{className:"group hover:bg-violet-50/30 transition-colors",children:[e.jsx("td",{className:"px-8 py-5",children:e.jsx("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-slate-100 rounded-lg text-[10px] font-black text-slate-500 uppercase",children:N.id})}),e.jsx("td",{className:"px-8 py-5",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-violet-100 to-purple-100 flex items-center justify-center text-violet-500 font-black text-xs",children:N.member.charAt(0)}),e.jsx("span",{className:"text-sm font-black text-slate-800 tracking-tight transition-colors group-hover:text-violet-600",children:N.member})]})}),e.jsx("td",{className:"px-8 py-5",children:e.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-xl border text-[10px] font-black uppercase tracking-widest ${w(N.type)}`,children:[e.jsx(Bo,{size:12}),N.type]})}),e.jsx("td",{className:"px-8 py-5",children:e.jsxs("div",{className:"flex items-center gap-2 text-slate-500",children:[e.jsx(P,{size:16,className:"text-slate-400"}),e.jsx("span",{className:"text-xs font-bold",children:N.method})]})}),e.jsx("td",{className:"px-8 py-5",children:e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsxs("span",{className:"text-sm font-black text-slate-900 tabular-nums",children:["",N.amount.toLocaleString()]}),e.jsxs("div",{className:"flex items-center gap-1 text-[9px] font-bold text-slate-400 uppercase",children:[e.jsx(Ve,{size:10}),N.date]})]})}),e.jsx("td",{className:"px-8 py-5 text-right",children:e.jsx("button",{onClick:()=>L(N),className:"p-3 rounded-xl bg-white border-2 border-slate-100 text-slate-400 hover:text-violet-600 hover:border-violet-100 hover:shadow-lg hover:shadow-violet-100 transition-all",children:e.jsx(Ga,{size:18})})})]},N.id)})})]})}),e.jsx("div",{className:"lg:hidden divide-y divide-slate-100",children:k.map(N=>{const P=A(N.method);return e.jsxs("div",{className:"p-4 md:p-6 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-violet-100 flex items-center justify-center text-violet-500 font-black",children:N.member.charAt(0)}),e.jsxs("div",{className:"overflow-hidden",children:[e.jsx("p",{className:"text-sm font-black text-slate-800 tracking-tight truncate max-w-[120px]",children:N.member}),e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:N.id})]})]}),e.jsxs("div",{className:"text-right shrink-0",children:[e.jsxs("p",{className:"text-lg font-black text-slate-900 leading-none",children:["",N.amount.toLocaleString()]}),e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase mt-1",children:N.date})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:`px-3 py-1 rounded-lg border text-[10px] font-black uppercase tracking-widest ${w(N.type)}`,children:N.type}),e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 rounded-lg bg-slate-50 border border-slate-100 text-[10px] font-black text-slate-500 uppercase tracking-widest",children:[e.jsx(P,{size:12}),N.method]})]}),e.jsxs("button",{onClick:()=>L(N),className:"w-full h-12 bg-white border-2 border-slate-100 rounded-xl text-[10px] font-black uppercase tracking-widest text-slate-400 flex items-center justify-center gap-2 active:bg-slate-50 hover:bg-slate-50 transition-colors",children:[e.jsx(Ga,{size:16}),"View Digital Receipt"]})]},N.id)})})]})]}),e.jsx(r5,{isOpen:x,onClose:()=>u(!1),payment:h})]})},Y_=()=>{const t=qt(),s=localStorage.getItem("userData"),a=s?JSON.parse(s):{role:"STAFF",branchId:"B001"},l=["BRANCH_ADMIN","MANAGER","SUPER_ADMIN"].includes(a.role),[i,o]=v.useState(""),[d,x]=v.useState("All"),[u,h]=v.useState(!1),[p,f]=v.useState([]);v.useEffect(()=>{(async()=>{try{const q=await tg();f(q)}catch(q){console.error("Failed fetching expenses:",q)}})()},[]);const[b,g]=v.useState({title:"",category:"",amount:"",paymentMethod:"Cash",vendor:"",invoiceNumber:"",notes:"",date:new Date().toISOString().split("T")[0]}),j=["Cleaning","Maintenance","Utilities","Supplies","Miscellaneous"],A=["Cash","Card","Bank Transfer"],w=p.map(T=>{let q={};if(T.notes)try{q=JSON.parse(T.notes)}catch{q={notes:T.notes}}return{...T,vendor:q.vendor||"",paymentMethod:q.paymentMethod||"Cash",invoiceNumber:q.invoiceNumber||"",actualNotes:q.notes||"",dateStr:T.date?new Date(T.date).toISOString().split("T")[0]:"N/A"}});let k=0,C=0,L=0,N=0;const P=new Date().toISOString().split("T")[0],_=new Date().getMonth();w.forEach(T=>{const q=Number(T.amount)||0;T.dateStr===P&&(k+=q),new Date(T.date).getMonth()===_&&(C+=q),T.paymentMethod==="Cash"?L+=q:N+=q});const F=w.filter(T=>{const q=d==="All"||T.category===d,H=String(T.title||"").toLowerCase().includes(i.toLowerCase())||String(T.vendor||"").toLowerCase().includes(i.toLowerCase());return q&&H}),R=async T=>{T.preventDefault();try{await a5({title:b.title,category:b.category,amount:b.amount,date:b.date,status:"Paid",notes:JSON.stringify({paymentMethod:b.paymentMethod,vendor:b.vendor,invoiceNumber:b.invoiceNumber,notes:b.notes})}),h(!1),g({title:"",category:"",amount:"",paymentMethod:"Cash",vendor:"",invoiceNumber:"",notes:"",date:new Date().toISOString().split("T")[0]});const q=await tg();f(q)}catch(q){console.error("Failed to add expense:",q),alert("Failed to create expense. Check console for details.")}},B=async T=>{if(window.confirm("Are you sure you want to delete this expense? This action cannot be undone."))try{await q_(T);const q=p.filter(H=>H.id!==T);f(q)}catch(q){console.error("Failed to delete expense:",q),alert("Failed to delete expense. You may not have permission.")}};return e.jsx("div",{className:"min-h-screen bg-slate-50/50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6 mb-8",children:[e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>t(-1),className:"flex items-center gap-2 text-slate-400 hover:text-slate-600 transition-colors mb-4 group",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-white shadow-sm flex items-center justify-center group-hover:-translate-x-1 transition-transform",children:e.jsx(kn,{size:16})}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.2em]",children:"Back"})]}),e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx("div",{className:"w-16 h-16 rounded-3xl bg-gradient-to-br from-orange-500 to-rose-600 flex items-center justify-center text-white shadow-xl shadow-orange-500/20",children:e.jsx(xa,{size:32})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-black text-slate-900 tracking-tight leading-none mb-2",children:l?"Petty Cash / Expenses":"Log Expense"}),e.jsxs("p",{className:"text-slate-500 font-medium italic",children:["Track operational spending and petty cash logs for ",a.branchName||a.branchId||"Gym","."]})]})]})]}),e.jsx("button",{onClick:()=>h(!u),className:`px-6 py-3.5 rounded-2xl text-xs font-black uppercase tracking-widest transition-all shadow-xl flex items-center gap-3 ${u?"bg-white border-2 border-slate-100 text-slate-500 hover:border-slate-200":"bg-slate-900 text-white hover:bg-slate-800 hover:scale-[1.02] active:scale-95 shadow-slate-200"}`,children:u?"Cancel Entry":e.jsxs(e.Fragment,{children:[e.jsx(wt,{size:18})," New Expense"]})})]}),l&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white rounded-[32px] p-6 border border-slate-100 shadow-xl group hover:border-orange-200 transition-all",children:e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"p-3 rounded-2xl bg-orange-50 text-orange-500 group-hover:scale-110 transition-transform",children:e.jsx(F0,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Today"}),e.jsxs("h4",{className:"text-2xl font-black text-slate-800 tabular-nums",children:["",k.toLocaleString()]})]})]})}),e.jsx("div",{className:"bg-white rounded-[32px] p-6 border border-slate-100 shadow-xl group hover:border-rose-200 transition-all",children:e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"p-3 rounded-2xl bg-rose-50 text-rose-500 group-hover:scale-110 transition-transform",children:e.jsx(Ve,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"This Month"}),e.jsxs("h4",{className:"text-2xl font-black text-slate-800 tabular-nums",children:["",C.toLocaleString()]})]})]})}),e.jsx("div",{className:"bg-white rounded-[32px] p-6 border border-slate-100 shadow-xl group hover:border-emerald-200 transition-all",children:e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"p-3 rounded-2xl bg-emerald-50 text-emerald-500 group-hover:scale-110 transition-transform",children:e.jsx(Xl,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Cash Used"}),e.jsxs("h4",{className:"text-2xl font-black text-slate-800 tabular-nums",children:["",L.toLocaleString()]})]})]})}),e.jsx("div",{className:"bg-white rounded-[32px] p-6 border border-slate-100 shadow-xl group hover:border-blue-200 transition-all",children:e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"p-3 rounded-2xl bg-blue-50 text-blue-500 group-hover:scale-110 transition-transform",children:e.jsx(Ps,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Digital/Card"}),e.jsxs("h4",{className:"text-2xl font-black text-slate-800 tabular-nums",children:["",N.toLocaleString()]})]})]})})]}),u&&e.jsx("div",{className:"bg-white rounded-[40px] shadow-2xl border border-slate-100 p-8 mb-8 animate-in slide-in-from-top-4 duration-300",children:e.jsxs("form",{onSubmit:R,className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Expense Title*"}),e.jsx("input",{required:!0,type:"text",placeholder:"e.g. Drinking Water",value:b.title,onChange:T=>g({...b,title:T.target.value}),className:"w-full h-14 pl-6 pr-4 rounded-2xl border-2 border-slate-100 focus:border-orange-500 focus:ring-4 focus:ring-orange-500/10 font-bold text-sm outline-none transition-all bg-slate-50/50"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Category*"}),e.jsxs("select",{required:!0,value:b.category,onChange:T=>g({...b,category:T.target.value}),className:"w-full h-14 px-6 rounded-2xl border-2 border-slate-100 focus:border-orange-500 font-bold text-sm outline-none bg-slate-50/50",children:[e.jsx("option",{value:"",children:"Select Category"}),j.map(T=>e.jsx("option",{value:T,children:T},T))]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Amount ()*"}),e.jsxs("div",{className:"relative",children:[e.jsx(Xl,{size:18,className:"absolute left-6 top-1/2 -translate-y-1/2 text-slate-400"}),e.jsx("input",{required:!0,type:"number",placeholder:"0.00",value:b.amount,onChange:T=>g({...b,amount:T.target.value}),className:"w-full h-14 pl-14 pr-4 rounded-2xl border-2 border-slate-100 focus:border-orange-500 focus:ring-4 focus:ring-orange-500/10 font-black text-slate-800 outline-none transition-all bg-slate-50/50"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Payment Method"}),e.jsx("select",{value:b.paymentMethod,onChange:T=>g({...b,paymentMethod:T.target.value}),className:"w-full h-14 px-6 rounded-2xl border-2 border-slate-100 focus:border-orange-500 font-bold text-sm outline-none bg-slate-50/50",children:A.map(T=>e.jsx("option",{value:T,children:T},T))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Vendor Name"}),e.jsx("input",{type:"text",placeholder:"Optional",value:b.vendor,onChange:T=>g({...b,vendor:T.target.value}),className:"w-full h-14 px-6 rounded-2xl border-2 border-slate-100 focus:border-orange-500 font-bold text-sm outline-none bg-slate-50/50"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Invoice Number"}),e.jsx("input",{type:"text",placeholder:"Optional",value:b.invoiceNumber,onChange:T=>g({...b,invoiceNumber:T.target.value}),className:"w-full h-14 px-6 rounded-2xl border-2 border-slate-100 focus:border-orange-500 font-bold text-sm outline-none bg-slate-50/50"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Expense Date"}),e.jsx("input",{type:"date",value:b.date,onChange:T=>g({...b,date:T.target.value}),className:"w-full h-14 px-6 rounded-2xl border-2 border-slate-100 focus:border-orange-500 font-bold text-sm outline-none bg-slate-50/50"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Internal Notes"}),e.jsx("textarea",{rows:"2",value:b.notes,onChange:T=>g({...b,notes:T.target.value}),className:"w-full p-6 rounded-2xl border-2 border-slate-100 focus:border-orange-500 font-bold text-sm outline-none bg-slate-50/50",placeholder:"Add any specific details about this purchase..."})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsx("button",{type:"submit",className:"px-10 py-5 bg-gradient-to-r from-orange-500 to-rose-600 text-white rounded-2xl font-black uppercase tracking-widest text-sm shadow-xl shadow-orange-500/20 hover:scale-[1.02] active:scale-95 transition-all",children:"Save Daily Expense"})})]})}),e.jsxs("div",{className:"bg-white rounded-[40px] shadow-xl border border-slate-100 overflow-hidden",children:[e.jsxs("div",{className:"p-8 border-b border-slate-100 flex flex-col md:flex-row md:items-center justify-between gap-6",children:[e.jsxs("div",{className:"relative flex-1 group",children:[e.jsx(tt,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-orange-500 transition-colors",size:20}),e.jsx("input",{type:"text",value:i,onChange:T=>o(T.target.value),placeholder:"Search by title or vendor...",className:"w-full h-14 pl-14 pr-6 rounded-2xl border-2 border-slate-100 focus:border-orange-500 focus:ring-4 focus:ring-orange-500/10 font-bold text-sm outline-none transition-all bg-slate-50/30"})]}),e.jsx("div",{className:"flex gap-4",children:e.jsxs("select",{value:d,onChange:T=>x(T.target.value),className:"h-14 px-6 rounded-2xl border-2 border-slate-100 font-black text-[10px] uppercase tracking-widest text-slate-500 outline-none focus:border-orange-500 transition-all",children:[e.jsx("option",{value:"All",children:"All Categories"}),j.map(T=>e.jsx("option",{value:T,children:T},T))]})})]}),e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"w-full hidden md:table",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50/80 border-b border-slate-100",children:[e.jsx("th",{className:"px-8 py-6 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Date & ID"}),e.jsx("th",{className:"px-8 py-6 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Expense Item"}),e.jsx("th",{className:"px-8 py-6 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Category"}),e.jsx("th",{className:"px-8 py-6 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Method"}),e.jsx("th",{className:"px-8 py-6 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Logged By"}),e.jsx("th",{className:"px-8 py-6 text-right text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Amount"}),l&&e.jsx("th",{className:"px-8 py-6 text-right text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:F.map(T=>e.jsxs("tr",{className:"group hover:bg-orange-50/20 transition-colors",children:[e.jsx("td",{className:"px-8 py-6",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xs font-black text-slate-800 tabular-nums",children:T.dateStr}),e.jsxs("span",{className:"text-[9px] font-bold text-slate-400 uppercase",children:["EXP-",T.id]})]})}),e.jsx("td",{className:"px-8 py-6",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-black text-slate-900 group-hover:text-orange-600 transition-colors",children:T.title}),e.jsx("span",{className:"text-[10px] font-medium text-slate-400 italic",children:T.vendor||"Local Vendor"})]})}),e.jsx("td",{className:"px-8 py-6",children:e.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-slate-100 rounded-lg text-[9px] font-black text-slate-500 uppercase tracking-widest border border-slate-200",children:[e.jsx(Bo,{size:10}),T.category]})}),e.jsx("td",{className:"px-8 py-6",children:e.jsxs("div",{className:"flex items-center gap-2 text-slate-500",children:[T.paymentMethod==="Cash"?e.jsx(xa,{size:16}):e.jsx(Ps,{size:16}),e.jsx("span",{className:"text-[10px] font-bold uppercase",children:T.paymentMethod})]})}),e.jsx("td",{className:"px-8 py-6",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-orange-100 flex items-center justify-center text-orange-600",children:e.jsx(lt,{size:14})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[10px] font-black text-slate-700 leading-none mb-0.5",children:T.addedBy||"Staff"}),e.jsx("span",{className:"text-[9px] font-bold text-slate-400 uppercase",children:"Operator"})]})]})}),e.jsx("td",{className:"px-8 py-6 text-right",children:e.jsxs("span",{className:"text-base font-black text-slate-900 tabular-nums",children:["",Number(T.amount).toLocaleString()]})}),l&&e.jsx("td",{className:"px-8 py-6 text-right",children:e.jsx("button",{onClick:()=>B(T.id),className:"p-2 text-slate-400 hover:text-rose-500 hover:bg-rose-50 rounded-lg transition-colors",title:"Delete Expense",children:e.jsx(ms,{size:16})})})]},T.id||Math.random()))})]}),e.jsx("div",{className:"md:hidden divide-y divide-slate-100",children:F.map(T=>e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase block mb-1",children:T.dateStr}),e.jsx("h4",{className:"text-base font-black text-slate-900 leading-tight",children:T.title}),e.jsx("p",{className:"text-xs font-medium text-slate-400",children:T.vendor||"Local Vendor"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("span",{className:"text-xl font-black text-slate-900 tabular-nums block leading-none",children:["",Number(T.amount).toLocaleString()]}),e.jsx("span",{className:`text-[9px] font-black uppercase tracking-widest px-2 py-0.5 rounded-lg border mt-2 inline-block ${T.paymentMethod==="Cash"?"bg-orange-50 border-orange-100 text-orange-600":"bg-blue-50 border-blue-100 text-blue-600"}`,children:T.paymentMethod})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-slate-50",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-7 h-7 rounded-lg bg-slate-100 flex items-center justify-center text-slate-400",children:e.jsx(lt,{size:14})}),e.jsx("span",{className:"text-[10px] font-black text-slate-500 uppercase",children:T.addedBy||"Staff"})]}),e.jsxs("div",{className:"flex gap-3 items-center",children:[e.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase bg-slate-100 px-2 py-1 rounded-lg",children:T.category}),l&&e.jsx("button",{onClick:()=>B(T.id),className:"p-1.5 text-slate-400 hover:text-rose-500 hover:bg-rose-50 rounded-md transition-colors",children:e.jsx(ms,{size:14})})]})]})]},T.id||Math.random()))})]})]})]})})},X_=()=>{const[t,s]=v.useState([]),[a,l]=v.useState(!0),[i,o]=v.useState(""),[d,x]=v.useState(!1),[u,h]=v.useState(null),[p,f]=v.useState({code:"",type:"PERCENTAGE",value:"",usageLimit:"",expiryDate:"",status:"Active"}),b=async()=>{try{const C=await qx.getAllPromos();s(C)}catch(C){st.error(C.message||"Failed to fetch promos")}finally{l(!1)}};v.useEffect(()=>{b()},[]);const g=C=>{f({...p,[C.target.name]:C.target.value})},j=C=>{f({...C,expiryDate:C.expiryDate?C.expiryDate.split("T")[0]:""}),h(C.id),x(!0)},A=async C=>{if(window.confirm("Are you sure you want to delete this promo code?"))try{await qx.deletePromo(C),st.success("Promo deleted successfully"),b()}catch(L){st.error(L.message||"Failed to delete promo")}},w=async C=>{C.preventDefault();try{u?(await qx.updatePromo(u,p),st.success("Promo updated successfully")):(await qx.createPromo(p),st.success("Promo created successfully")),x(!1),h(null),f({code:"",type:"PERCENTAGE",value:"",usageLimit:"",expiryDate:"",status:"Active"}),b()}catch(L){st.error(L.message||"Failed to save promo")}},k=t.filter(C=>!i||C.code.toLowerCase().includes(i.toLowerCase()));return e.jsxs("div",{className:"p-4 sm:p-6 pb-12",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Promo Codes"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Manage discounts and rewards"})]}),e.jsxs("button",{onClick:()=>{h(null),f({code:"",type:"PERCENTAGE",value:"",usageLimit:"",expiryDate:"",status:"Active"}),x(!0)},className:"flex items-center gap-2 px-4 py-2 bg-violet-600 text-white rounded-lg hover:bg-violet-700 transition",children:[e.jsx(wt,{size:16})," Create Promo"]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden mb-6",children:[e.jsx("div",{className:"p-4 border-b border-slate-200",children:e.jsxs("div",{className:"relative max-w-sm",children:[e.jsx(tt,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),e.jsx("input",{type:"text",placeholder:"Search by code...",value:i,onChange:C=>o(C.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-violet-500/20"})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm text-left",children:[e.jsx("thead",{className:"bg-slate-50 border-b border-slate-200 text-slate-600 font-medium",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4",children:"CODE"}),e.jsx("th",{className:"px-6 py-4",children:"DISCOUNT"}),e.jsx("th",{className:"px-6 py-4",children:"USAGE LIMIT"}),e.jsx("th",{className:"px-6 py-4",children:"USED"}),e.jsx("th",{className:"px-6 py-4",children:"STATUS"}),e.jsx("th",{className:"px-6 py-4",children:"EXPIRY"}),e.jsx("th",{className:"px-6 py-4",children:"ACTIONS"})]})}),e.jsx("tbody",{children:a?e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"text-center py-8 text-slate-500",children:"Loading..."})}):k.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"text-center py-8 text-slate-500",children:"No promo codes found"})}):k.map(C=>e.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[e.jsx("td",{className:"px-6 py-4 font-bold text-slate-900",children:C.code}),e.jsxs("td",{className:"px-6 py-4",children:[C.type==="PERCENTAGE"?`${C.value}%`:`${C.value}`," OFF"]}),e.jsx("td",{className:"px-6 py-4 text-slate-500",children:C.usageLimit||"Unlimited"}),e.jsx("td",{className:"px-6 py-4 font-medium text-slate-900",children:C.usedCount}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-semibold ${C.status==="Active"?"bg-emerald-100 text-emerald-700":"bg-rose-100 text-rose-700"}`,children:[C.status==="Active"?e.jsx(Qt,{size:12}):e.jsx(Yl,{size:12}),C.status]})}),e.jsx("td",{className:"px-6 py-4 text-slate-500",children:C.expiryDate?C.expiryDate.split("T")[0].split("-").reverse().join("/"):"Never"}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>j(C),className:"text-indigo-600 hover:text-indigo-800",children:e.jsx(Pa,{size:16})}),e.jsx("button",{onClick:()=>A(C.id),className:"text-rose-600 hover:text-rose-800",children:e.jsx(ms,{size:16})})]})})]},C.id))})]})})]}),d&&e.jsx("div",{className:"fixed inset-0 bg-slate-900/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:e.jsx("h2",{className:"text-xl font-bold text-slate-900",children:u?"Edit Promo":"New Promo Code"})}),e.jsxs("form",{onSubmit:w,className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1",children:"Code / Name"}),e.jsx("input",{required:!0,type:"text",name:"code",value:p.code,onChange:g,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-violet-500",placeholder:"e.g. SUMMER25"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1",children:"Type"}),e.jsxs("select",{name:"type",value:p.type,onChange:g,className:"w-full px-3 py-2 border rounded-lg",children:[e.jsx("option",{value:"PERCENTAGE",children:"Percentage (%)"}),e.jsx("option",{value:"FLAT",children:"Flat Amount ()"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1",children:"Discount Value"}),e.jsx("input",{required:!0,type:"number",min:"0",step:"0.01",name:"value",value:p.value,onChange:g,className:"w-full px-3 py-2 border rounded-lg",placeholder:"10"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1",children:"Max Limits"}),e.jsx("input",{type:"number",min:"1",name:"usageLimit",value:p.usageLimit,onChange:g,className:"w-full px-3 py-2 border rounded-lg",placeholder:"e.g. 100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1",children:"Expiry Date"}),e.jsx("input",{type:"date",name:"expiryDate",value:p.expiryDate,onChange:g,className:"w-full px-3 py-2 border rounded-lg"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1",children:"Status"}),e.jsxs("select",{name:"status",value:p.status,onChange:g,className:"w-full px-3 py-2 border rounded-lg",children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]}),e.jsxs("div",{className:"pt-4 flex gap-3",children:[e.jsx("button",{type:"button",onClick:()=>x(!1),className:"flex-1 px-4 py-2 border rounded-lg font-semibold hover:bg-slate-50",children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-violet-600 text-white rounded-lg font-semibold hover:bg-violet-700",children:"Save Promo"})]})]})]})})]})},Yx=({status:t,color:s="emerald",icon:a})=>{const l={emerald:"from-emerald-500 to-emerald-600 shadow-emerald-500/50",amber:"from-amber-500 to-amber-600 shadow-amber-500/50",red:"from-red-500 to-red-600 shadow-red-500/50",blue:"from-blue-500 to-blue-600 shadow-blue-500/50",orange:"from-orange-500 to-orange-600 shadow-orange-500/50",slate:"from-slate-500 to-slate-600 shadow-slate-500/50",violet:"from-violet-500 to-violet-600 shadow-violet-500/50",indigo:"from-indigo-500 to-indigo-600 shadow-indigo-500/50"},i=l[s]||l.emerald;return e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-gradient-to-r ${i} text-white text-[10px] font-black uppercase tracking-wider shadow-lg hover:scale-110 transition-all duration-300 cursor-default`,children:[a&&e.jsx(a,{size:12,strokeWidth:3}),t]})},K_=({equipment:t,onClose:s,onSubmit:a})=>{const[l,i]=v.useState({equipmentId:t?.id||"",issueType:"",severity:"Medium",description:""}),o=d=>{d.preventDefault(),a(l)};return e.jsxs("div",{className:"flex flex-col gap-6 p-6 pt-4",children:[e.jsxs("div",{className:"p-4 bg-red-50 rounded-xl border border-red-100 flex items-start gap-3",children:[e.jsx(hs,{className:"text-red-500 mt-1",size:20}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-bold text-red-900",children:"Reporting Issue for"}),e.jsx("p",{className:"text-xs text-red-700 font-medium",children:t?t.name:"Select Equipment"})]})]}),e.jsxs("form",{onSubmit:o,className:"space-y-5",children:[!t&&e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-wider",children:"Select Equipment"}),e.jsx("select",{className:"w-full px-4 py-3 rounded-xl border-2 border-slate-100 focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 outline-none transition-all font-bold text-slate-700",value:l.equipmentId,onChange:d=>i({...l,equipmentId:d.target.value}),required:!0,children:e.jsx("option",{value:"",children:"Choose a machine..."})})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-wider",children:"Issue Type"}),e.jsxs("select",{className:"w-full px-4 py-3 rounded-xl border-2 border-slate-100 focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 outline-none transition-all font-bold text-slate-700",value:l.issueType,onChange:d=>i({...l,issueType:d.target.value}),required:!0,children:[e.jsx("option",{value:"",children:"Select issue type..."}),B7.map(d=>e.jsx("option",{value:d,children:d},d))]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-wider",children:"Severity Level"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:Dw.map(d=>e.jsxs("label",{className:`
                                    relative flex items-center justify-center p-3 rounded-xl border-2 cursor-pointer transition-all gap-2
                                    ${l.severity===d.value?`border-${d.color}-500 bg-${d.color}-50 text-${d.color}-700`:"border-slate-100 hover:border-slate-200 text-slate-500"}
                                `,children:[e.jsx("input",{type:"radio",name:"severity",value:d.value,className:"hidden",onChange:()=>i({...l,severity:d.value})}),e.jsx("span",{className:`w-2 h-2 rounded-full bg-${d.color}-500`}),e.jsx("span",{className:"text-xs font-black uppercase tracking-tight",children:d.label}),l.severity===d.value&&e.jsx("div",{className:"absolute -top-1 -right-1",children:e.jsx("div",{className:`w-4 h-4 rounded-full bg-${d.color}-500 flex items-center justify-center text-white`,children:e.jsx(Vr,{size:10,strokeWidth:4})})})]},d.value))})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-wider",children:"Description"}),e.jsx("textarea",{className:"w-full px-4 py-3 rounded-xl border-2 border-slate-100 focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 outline-none transition-all font-bold text-slate-700 min-h-[100px] resize-none",placeholder:"Explain what's wrong with the machine...",value:l.description,onChange:d=>i({...l,description:d.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-wider",children:"Photo (Optional)"}),e.jsx("div",{className:"flex items-center justify-center w-full",children:e.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-slate-200 border-dashed rounded-xl cursor-pointer bg-slate-50 hover:bg-slate-100 transition-all",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[e.jsx(qo,{className:"w-8 h-8 mb-3 text-slate-400"}),e.jsx("p",{className:"mb-2 text-xs text-slate-500 font-bold uppercase tracking-wider",children:"Click to upload photo"}),e.jsx("p",{className:"text-[10px] text-slate-400 font-medium",children:"JPEG, PNG up to 5MB"})]}),e.jsx("input",{type:"file",className:"hidden"})]})})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:s,className:"flex-1 px-6 py-3.5 rounded-xl border-2 border-slate-100 text-slate-600 font-black uppercase tracking-wider text-xs hover:bg-slate-50 transition-all",children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex-1 px-6 py-3.5 rounded-xl bg-gradient-to-r from-red-500 to-red-600 text-white font-black uppercase tracking-wider text-xs shadow-lg shadow-red-200 hover:scale-105 active:scale-95 transition-all",children:"Submit Report"})]})]})]})},J_=({onClose:t,onAdd:s})=>{const[a,l]=v.useState({name:"",category:"Cardio",brand:"",model:"",serialNumber:"",location:"",purchaseDate:"",warrantyExpiry:"",status:"Operational",notes:""}),i=x=>{x.preventDefault(),s(a)},o="w-full px-4 py-2.5 rounded-xl border-2 border-slate-100 focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 outline-none transition-all font-bold text-slate-700 text-sm",d="text-[10px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-1.5 mb-1";return e.jsxs("form",{onSubmit:i,className:"flex flex-col gap-6 p-6 pt-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"col-span-2",children:[e.jsxs("label",{className:d,children:[e.jsx(Bo,{size:12})," Equipment Name"]}),e.jsx("input",{className:o,placeholder:"e.g. Matrix Treadmill T7xe",value:a.name,onChange:x=>l({...a,name:x.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:d,children:[e.jsx(ol,{size:12})," Category"]}),e.jsx("select",{className:o,value:a.category,onChange:x=>l({...a,category:x.target.value}),children:_7.map(x=>e.jsx("option",{value:x,children:x},x))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:d,children:[e.jsx(Wh,{size:12})," Serial Number"]}),e.jsx("input",{className:o,placeholder:"SN-XXXXXX",value:a.serialNumber,onChange:x=>l({...a,serialNumber:x.target.value})})]}),e.jsxs("div",{children:[e.jsxs("label",{className:d,children:[e.jsx(Bo,{size:12})," Brand"]}),e.jsx("input",{className:o,placeholder:"e.g. Matrix",value:a.brand,onChange:x=>l({...a,brand:x.target.value})})]}),e.jsxs("div",{children:[e.jsxs("label",{className:d,children:[e.jsx(Bo,{size:12})," Model"]}),e.jsx("input",{className:o,placeholder:"e.g. T7xe",value:a.model,onChange:x=>l({...a,model:x.target.value})})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsxs("label",{className:d,children:[e.jsx($s,{size:12})," Location (Floor Area)"]}),e.jsx("input",{className:o,placeholder:"e.g. Cardio Zone - Floor 1",value:a.location,onChange:x=>l({...a,location:x.target.value})})]}),e.jsxs("div",{children:[e.jsxs("label",{className:d,children:[e.jsx(Ve,{size:12})," Purchase Date"]}),e.jsx("input",{type:"date",className:o,value:a.purchaseDate,onChange:x=>l({...a,purchaseDate:x.target.value})})]}),e.jsxs("div",{children:[e.jsxs("label",{className:d,children:[e.jsx(Ve,{size:12})," Warranty Expiry"]}),e.jsx("input",{type:"date",className:o,value:a.warrantyExpiry,onChange:x=>l({...a,warrantyExpiry:x.target.value})})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsxs("label",{className:d,children:[e.jsx(hs,{size:12,className:"hidden"})," Status"]}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:zh.map(x=>e.jsxs("label",{className:`
                                    flex items-center justify-center p-2.5 rounded-xl border-2 cursor-pointer transition-all gap-2
                                    ${a.status===x.value?`border-${x.color}-500 bg-${x.color}-50 text-${x.color}-700`:"border-slate-100 text-slate-500"}
                                `,children:[e.jsx("input",{type:"radio",name:"status",value:x.value,className:"hidden",onChange:()=>l({...a,status:x.value})}),e.jsx("span",{className:`w-2 h-2 rounded-full bg-${x.color}-500`}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-tight",children:x.label})]},x.value))})]})]}),e.jsxs("div",{className:"flex gap-3 pt-6",children:[e.jsx("button",{type:"button",onClick:t,className:"flex-1 px-6 py-3.5 rounded-xl border-2 border-slate-100 text-slate-600 font-black uppercase tracking-wider text-xs hover:bg-slate-50 transition-all",children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex-1 px-6 py-3.5 rounded-xl bg-gradient-to-r from-violet-600 to-indigo-600 text-white font-black uppercase tracking-wider text-xs shadow-lg shadow-violet-200 hover:scale-105 active:scale-95 transition-all",children:"Add Equipment"})]})]})},Q_=()=>{const[t,s]=v.useState([]),[a,l]=v.useState(!0),[i,o]=v.useState(""),[d,x]=v.useState("All"),[u,h]=v.useState(!1),[p,f]=v.useState(!1),[b,g]=v.useState(null);v.useEffect(()=>{j()},[i,d]);const j=async()=>{try{l(!0);const L={};i&&(L.search=i),d!=="All"&&(L.category=d);const N=await Ai.getAllEquipment(L);s(N)}catch(L){console.error("Failed to fetch equipment:",L),st.error("Failed to load equipment inventory")}finally{l(!1)}},A=async(L,N)=>{try{await Ai.updateEquipment(L,{status:N}),st.success("Status updated"),j()}catch{st.error("Failed to update status")}},w=async L=>{try{await Ai.addEquipment(L),st.success("Equipment added successfully"),h(!1),j()}catch{st.error("Failed to add equipment")}},k=async L=>{try{await Ai.reportIssue(L),st.success("Issue reported successfully"),f(!1),j()}catch{st.error("Failed to submit report")}},C=L=>zh.find(N=>N.label===L)||zh[0];return e.jsxs("div",{className:"min-h-screen bg-[#F8FAFC] pb-20",children:[e.jsx("div",{className:"bg-white border-b border-slate-200 sticky top-0 z-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-violet-600 to-indigo-600 flex items-center justify-center text-white shadow-lg shadow-violet-200",children:e.jsx(ol,{size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-black text-slate-800 tracking-tight",children:"Equipment Inventory"}),e.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Manage and track your gym facility assets"})]})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-2 bg-slate-900 text-white px-5 py-3 rounded-xl font-bold text-sm shadow-xl shadow-slate-200 hover:scale-105 active:scale-95 transition-all",children:[e.jsx(wt,{size:18,strokeWidth:3}),"Add Equipment"]})})]}),e.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(tt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"text",placeholder:"Search by name or serial number...",className:"w-full pl-11 pr-4 py-3 rounded-xl border-2 border-slate-50 bg-slate-50 focus:bg-white focus:border-violet-500 focus:ring-4 focus:ring-violet-500/5 outline-none transition-all font-medium text-slate-600",value:i,onChange:L=>o(L.target.value)})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("select",{className:"px-4 py-3 rounded-xl border-2 border-slate-50 bg-slate-50 font-bold text-sm text-slate-600 focus:border-violet-500 outline-none transition-all",value:d,onChange:L=>x(L.target.value),children:[e.jsx("option",{value:"All",children:"All Categories"}),e.jsx("option",{value:"Cardio",children:"Cardio"}),e.jsx("option",{value:"Strength",children:"Strength"}),e.jsx("option",{value:"Free Weights",children:"Free Weights"})]})})]})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-8",children:a?e.jsx("div",{className:"flex items-center justify-center p-20",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-violet-600"})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"hidden lg:block bg-white rounded-3xl shadow-sm border border-slate-200 overflow-hidden",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50/50 border-b border-slate-100",children:[e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Equipment / Brand"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Category & Location"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Warranty"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:t.map(L=>e.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-100 flex items-center justify-center text-slate-500 group-hover:scale-110 group-hover:bg-violet-100 group-hover:text-violet-600 transition-all",children:e.jsx(ol,{size:20})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-slate-800 text-sm",children:L.name}),e.jsx("p",{className:"text-[10px] text-slate-400 font-bold tracking-wider",children:L.serialNumber||"NO SERIAL"})]})]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-xs font-bold text-slate-600 bg-slate-100 px-2 py-0.5 rounded-md w-fit",children:L.category}),e.jsxs("span",{className:"text-[10px] font-medium text-slate-400 flex items-center gap-1",children:[e.jsx($s,{size:10})," ",L.location]})]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("p",{className:"text-xs font-bold text-slate-700",children:L.warrantyExpiry?new Date(L.warrantyExpiry).toLocaleDateString():"N/A"}),e.jsx("p",{className:"text-[10px] text-slate-400 font-medium",children:"Warranty Info"})]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsx(Yx,{status:L.status,color:C(L.status).color})}),e.jsx("td",{className:"px-6 py-5 text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("select",{className:"text-[10px] font-black uppercase tracking-tight bg-slate-50 border-none rounded-lg px-2 py-1 outline-none cursor-pointer hover:bg-slate-100 transition-colors",value:L.status,onChange:N=>A(L.id,N.target.value),children:zh.map(N=>e.jsx("option",{value:N.value,children:N.label},N.value))}),e.jsx("button",{onClick:()=>{g(L),f(!0)},className:"p-2 text-red-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",title:"Report Issue",children:e.jsx(zr,{size:18})})]})})]},L.id))})]})}),e.jsx("div",{className:"lg:hidden space-y-4",children:t.map(L=>e.jsxs("div",{className:"bg-white rounded-3xl p-5 shadow-sm border border-slate-100 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-violet-50 text-violet-600 flex items-center justify-center",children:e.jsx(ol,{size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-slate-800",children:L.name}),e.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:L.serialNumber||"NO SERIAL"})]})]}),e.jsx(Yx,{status:L.status,color:C(L.status).color})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 py-4 border-y border-slate-50",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Location"}),e.jsxs("p",{className:"text-xs font-bold text-slate-600 mt-1 flex items-center gap-1",children:[e.jsx($s,{size:12,className:"text-slate-300"})," ",L.location]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Warranty"}),e.jsxs("p",{className:"text-xs font-bold text-slate-600 mt-1 flex items-center gap-1",children:[e.jsx(Ve,{size:12,className:"text-slate-300"})," ",L.warrantyExpiry?new Date(L.warrantyExpiry).toLocaleDateString():"N/A"]})]})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsxs("button",{onClick:()=>{g(L),f(!0)},className:"flex-1 bg-red-50 text-red-600 py-3 rounded-xl font-black text-[10px] uppercase tracking-wider flex items-center justify-center gap-2",children:[e.jsx(zr,{size:14})," Report Issue"]}),e.jsx("button",{className:"w-12 h-12 bg-slate-50 text-slate-400 rounded-xl flex items-center justify-center",children:e.jsx(jl,{size:20})})]})]},L.id))})]})}),e.jsx(rt,{isOpen:u,onClose:()=>h(!1),title:"Add New Equipment",children:e.jsx(J_,{onClose:()=>h(!1),onAdd:w})}),e.jsx(rt,{isOpen:p,onClose:()=>f(!1),title:"Report Machine Issue",children:e.jsx(K_,{equipment:b,onClose:()=>f(!1),onSubmit:k})})]})},Z_=()=>{const[t,s]=v.useState([]),[a,l]=v.useState(!0),[i,o]=v.useState("All"),[d,x]=v.useState(""),[u,h]=v.useState(null),[p,f]=v.useState(!1),b=["All","Open","In Progress","Completed","Critical"];v.useEffect(()=>{g()},[i]);const g=async()=>{try{l(!0);const k={};i!=="All"&&(i==="Critical"?k.priority="Critical":k.status=i);const C=await Ai.getMaintenanceRequests(k);s(C)}catch(k){console.error("Failed to fetch maintenance requests:",k),st.error("Failed to load maintenance tickets")}finally{l(!1)}},j=async(k,C)=>{try{await Ai.updateMaintenanceStatus(k,C),st.success("Ticket status updated"),g()}catch{st.error("Failed to update ticket status")}},A=k=>Dw.find(C=>C.value===k)?.color||"slate",w=k=>ch.find(C=>C.label===k)||ch[0];return e.jsxs("div",{className:"min-h-screen bg-[#F8FAFC] pb-20",children:[e.jsx("div",{className:"bg-white border-b border-slate-200 sticky top-0 z-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-amber-500 to-orange-600 flex items-center justify-center text-white shadow-lg shadow-orange-200 shrink-0",children:e.jsx(Kl,{size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-black text-slate-800 tracking-tight",children:"Maintenance Requests"}),e.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Track and resolve equipment service tickets"})]})]})}),e.jsx("div",{className:"flex bg-slate-100 p-1 rounded-xl overflow-x-auto no-scrollbar",children:b.map(k=>e.jsx("button",{onClick:()=>o(k),className:`
                                        px-4 py-2 rounded-lg text-xs font-black uppercase tracking-wider transition-all whitespace-nowrap
                                        ${i===k?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-700"}
                                    `,children:k},k))})]}),e.jsxs("div",{className:"mt-8 relative",children:[e.jsx(tt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"text",placeholder:"Find by machine or ticket ID...",className:"w-full pl-11 pr-4 py-3 rounded-xl border-2 border-slate-50 bg-slate-50 focus:bg-white focus:border-amber-500 focus:ring-4 focus:ring-amber-500/5 outline-none transition-all font-medium text-slate-600",value:d,onChange:k=>x(k.target.value)})]})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-8",children:a?e.jsx("div",{className:"flex items-center justify-center p-20",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-amber-600"})}):e.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-slate-200 overflow-hidden",children:[e.jsx("div",{className:"grid grid-cols-1 gap-4 md:hidden p-4",children:t.map(k=>e.jsxs("div",{className:`bg-white p-4 rounded-xl border border-slate-100 shadow-sm relative overflow-hidden ${k.priority==="Critical"?"border-l-4 border-l-red-500":""}`,onClick:()=>{h(k),f(!0)},children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${k.priority==="Critical"?"bg-red-100 text-red-600":"bg-amber-100 text-amber-600"}`,children:e.jsx(zr,{size:18})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-slate-800 text-sm",children:k.equipment?.name}),e.jsxs("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-wider",children:["#T-",k.id]})]})]}),e.jsx(Yx,{status:k.status,color:w(k.status).color})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-y-2 text-xs mb-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-400 font-bold uppercase text-[10px] tracking-wider",children:"Priority"}),e.jsxs("span",{className:`inline-flex items-center gap-1.5 mt-1 px-2 py-0.5 rounded-md bg-${A(k.priority)}-50 text-${A(k.priority)}-700 font-bold border border-${A(k.priority)}-100`,children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full bg-${A(k.priority)}-500`}),k.priority]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-400 font-bold uppercase text-[10px] tracking-wider",children:"Date"}),e.jsx("p",{className:"font-bold text-slate-700 mt-1",children:new Date(k.createdAt).toLocaleDateString()})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-slate-50",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-slate-100 flex items-center justify-center text-[10px] font-bold text-slate-500",children:"S"}),e.jsx("span",{className:"text-xs font-medium text-slate-500",children:"System"})]}),e.jsx("div",{onClick:C=>C.stopPropagation(),children:e.jsx("select",{className:"text-[10px] font-black uppercase tracking-tight bg-slate-50 border-none rounded-lg px-3 py-1.5 outline-none cursor-pointer hover:bg-slate-100 transition-colors",value:k.status,onChange:C=>j(k.id,C.target.value),children:ch.map(C=>e.jsx("option",{value:C.value,children:C.label},C.value))})})]})]},k.id))}),e.jsx("div",{className:"hidden md:block overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50/50 border-b border-slate-100",children:[e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Ticket ID"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Equipment"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Priority"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Date Reported"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:t.map(k=>e.jsxs("tr",{className:`hover:bg-slate-50/50 transition-colors group cursor-pointer ${k.priority==="Critical"?"bg-red-50/30":""}`,onClick:()=>{h(k),f(!0)},children:[e.jsx("td",{className:"px-6 py-5",children:e.jsxs("span",{className:"text-xs font-black text-slate-900 group-hover:text-amber-600 transition-colors uppercase",children:["#T-",k.id]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${k.priority==="Critical"?"bg-red-100 text-red-600":"bg-amber-100 text-amber-600"}`,children:e.jsx(zr,{size:16})}),e.jsx("span",{className:"font-bold text-slate-800 text-sm",children:k.equipment?.name})]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-lg bg-${A(k.priority)}-50 text-${A(k.priority)}-700 text-[10px] font-black uppercase tracking-wider border border-${A(k.priority)}-100`,children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full bg-${A(k.priority)}-500`}),k.priority]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("p",{className:"text-xs font-bold text-slate-700",children:"Staff"}),e.jsx("p",{className:"text-[10px] text-slate-400 font-medium",children:new Date(k.createdAt).toLocaleDateString()})]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsx(Yx,{status:k.status,color:w(k.status).color})}),e.jsx("td",{className:"px-6 py-5 text-right",onClick:C=>C.stopPropagation(),children:e.jsx("select",{className:"text-[10px] font-black uppercase tracking-tight bg-slate-50 border-none rounded-lg px-3 py-1.5 outline-none cursor-pointer hover:bg-slate-100 transition-colors",value:k.status,onChange:C=>j(k.id,C.target.value),children:ch.map(C=>e.jsx("option",{value:C.value,children:C.label},C.value))})})]},k.id))})]})}),t.length===0&&e.jsxs("div",{className:"p-20 flex flex-col items-center justify-center text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-3xl bg-slate-50 flex items-center justify-center text-slate-300 mb-4",children:e.jsx(Xt,{size:32})}),e.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"No requests found"}),e.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Great job! All machines seem to be in good shape."})]})]})}),e.jsx(rt,{isOpen:p,onClose:()=>f(!1),title:`Ticket #T-${u?.id}`,children:u&&e.jsxs("div",{className:"space-y-8",children:[e.jsx("section",{className:"space-y-4",children:e.jsxs("div",{className:"p-5 rounded-2xl bg-slate-50 border border-slate-100 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-black text-slate-400 uppercase tracking-widest",children:"Issue Reported"}),e.jsx("p",{className:"text-lg font-black text-slate-800 mt-1",children:u.issue})]}),e.jsx(Yx,{status:u.status,color:w(u.status).color})]}),e.jsx("p",{className:"text-sm text-slate-600 font-medium leading-relaxed",children:u.issue})]})}),e.jsxs("section",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 rounded-xl border-2 border-slate-50",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Equipment"}),e.jsx("p",{className:"text-sm font-bold text-slate-800 mt-1",children:u.equipment?.name})]}),e.jsxs("div",{className:"p-4 rounded-xl border-2 border-slate-50",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Priority"}),e.jsx("p",{className:`text-sm font-bold text-${A(u.priority)}-500 mt-1`,children:u.priority})]}),e.jsxs("div",{className:"p-4 rounded-xl border-2 border-slate-50",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Reported By"}),e.jsx("p",{className:"text-sm font-bold text-slate-800 mt-1",children:"Staff"})]}),e.jsxs("div",{className:"p-4 rounded-xl border-2 border-slate-50",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Date Reported"}),e.jsx("p",{className:"text-sm font-bold text-slate-800 mt-1",children:new Date(u.createdAt).toLocaleDateString()})]})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsxs("h4",{className:"text-xs font-black text-slate-900 uppercase tracking-widest flex items-center gap-2",children:[e.jsx(lt,{size:14,className:"text-slate-400"})," Assignment & Progress"]}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-violet-50 border border-violet-100",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-white flex items-center justify-center text-violet-600 shadow-sm font-bold uppercase text-xs",children:u.assignedTo.split("")[0]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-violet-400 uppercase tracking-wider",children:"Assigned To"}),e.jsx("p",{className:"text-sm font-bold text-violet-900",children:u.assignedTo})]})]}),e.jsx("button",{className:"text-[10px] font-black uppercase text-violet-600 hover:underline",children:"Reassign"})]})})]}),e.jsxs("div",{className:"flex gap-3 pt-6 border-t border-slate-100",children:[e.jsx("button",{className:"flex-1 bg-slate-900 text-white py-4 rounded-xl font-black text-xs uppercase tracking-widest shadow-xl shadow-slate-200",children:"Update Status"}),e.jsx("button",{className:"px-6 py-4 rounded-xl border-2 border-slate-100 text-slate-400 hover:text-red-500 hover:border-red-100 transition-all",children:e.jsx(js,{size:20})})]})]})})]})},eP=()=>{const[t,s]=v.useState([]),[a,l]=v.useState(!0),[i,o]=v.useState("All"),[d,x]=v.useState(""),[u,h]=v.useState(null),p=["All","Pending","In Progress","Completed","Cancelled"];v.useEffect(()=>{f()},[i]);const f=async()=>{try{l(!0);const P={};i!=="All"&&(P.status=i);const _=await Ai.getMaintenanceRequests(P);s(_)}catch(P){console.error("Failed to fetch service history:",P),st.error("Failed to load service history")}finally{l(!1)}},b=async(P,_)=>{try{await Ai.updateMaintenanceStatus(P,_),st.success("Status updated successfully"),f(),u?.id===P&&h(F=>({...F,status:_}))}catch{st.error("Failed to update status")}},g=t.filter(P=>{const _=P.equipment?.name?.toLowerCase()||"",F=P.issue?.toLowerCase()||"",R=d.toLowerCase();return _.includes(R)||F.includes(R)||`#T-${P.id}`.toLowerCase().includes(R)}),j=P=>{switch(P){case"Completed":return e.jsx(Xt,{size:14,className:"text-emerald-500"});case"In Progress":return e.jsx(Qe,{size:14,className:"text-amber-500"});case"Cancelled":return e.jsx(Yl,{size:14,className:"text-red-500"});default:return e.jsx(Qe,{size:14,className:"text-blue-500"})}},A=P=>{switch(P){case"Completed":return"bg-emerald-50 text-emerald-700 border-emerald-200";case"In Progress":return"bg-amber-50 text-amber-700 border-amber-200";case"Cancelled":return"bg-red-50 text-red-700 border-red-200";case"Pending":return"bg-blue-50 text-blue-700 border-blue-200";default:return"bg-slate-50 text-slate-700 border-slate-200"}},w=P=>{switch(P){case"Critical":return"bg-red-100 text-red-700 border-red-200";case"High":return"bg-orange-100 text-orange-700 border-orange-200";case"Medium":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"Low":return"bg-green-100 text-green-700 border-green-200";default:return"bg-slate-100 text-slate-700 border-slate-200"}},k=t.length,C=t.filter(P=>P.status==="Completed").length,L=t.filter(P=>P.status==="In Progress").length,N=t.filter(P=>P.status==="Pending").length;return e.jsxs("div",{className:"min-h-screen bg-[#F8FAFC] pb-20",children:[e.jsx("div",{className:"bg-white border-b border-slate-200 sticky top-0 z-20",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-emerald-500 to-teal-600 flex items-center justify-center text-white shadow-lg shadow-emerald-200 shrink-0",children:e.jsx(yl,{size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-black text-slate-800 tracking-tight",children:"Service History"}),e.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Complete log of all equipment maintenance and service records"})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[e.jsxs("div",{className:"bg-slate-50 rounded-xl p-3 border border-slate-100",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Total Records"}),e.jsx("p",{className:"text-2xl font-black text-slate-800 mt-1",children:k})]}),e.jsxs("div",{className:"bg-emerald-50 rounded-xl p-3 border border-emerald-100",children:[e.jsx("p",{className:"text-[10px] font-black text-emerald-500 uppercase tracking-widest",children:"Completed"}),e.jsx("p",{className:"text-2xl font-black text-emerald-700 mt-1",children:C})]}),e.jsxs("div",{className:"bg-amber-50 rounded-xl p-3 border border-amber-100",children:[e.jsx("p",{className:"text-[10px] font-black text-amber-500 uppercase tracking-widest",children:"In Progress"}),e.jsx("p",{className:"text-2xl font-black text-amber-700 mt-1",children:L})]}),e.jsxs("div",{className:"bg-blue-50 rounded-xl p-3 border border-blue-100",children:[e.jsx("p",{className:"text-[10px] font-black text-blue-500 uppercase tracking-widest",children:"Pending"}),e.jsx("p",{className:"text-2xl font-black text-blue-700 mt-1",children:N})]})]}),e.jsx("div",{className:"flex bg-slate-100 p-1 rounded-xl overflow-x-auto no-scrollbar",children:p.map(P=>e.jsx("button",{onClick:()=>o(P),className:`
                                        px-4 py-2 rounded-lg text-xs font-black uppercase tracking-wider transition-all whitespace-nowrap
                                        ${i===P?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-700"}
                                    `,children:P},P))}),e.jsxs("div",{className:"relative",children:[e.jsx(tt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"text",placeholder:"Search by equipment name, issue, or ticket ID...",className:"w-full pl-11 pr-4 py-3 rounded-xl border-2 border-slate-50 bg-slate-50 focus:bg-white focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/5 outline-none transition-all font-medium text-slate-600",value:d,onChange:P=>x(P.target.value)})]})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-8",children:a?e.jsx("div",{className:"flex items-center justify-center p-20",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600"})}):e.jsx(e.Fragment,{children:g.length===0?e.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-slate-200 p-20 flex flex-col items-center justify-center text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-3xl bg-slate-50 flex items-center justify-center text-slate-300 mb-4",children:e.jsx(Xt,{size:32})}),e.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"No service records found"}),e.jsx("p",{className:"text-slate-400 text-sm mt-1",children:i!=="All"?`No ${i.toLowerCase()} records at this time.`:"All equipment is running smoothly. No service history yet."})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"hidden lg:block bg-white rounded-3xl shadow-sm border border-slate-200 overflow-hidden",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50/50 border-b border-slate-100",children:[e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Ticket"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Equipment"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Issue"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Priority"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Date"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:g.map(P=>e.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group cursor-pointer",onClick:()=>h(P),children:[e.jsx("td",{className:"px-6 py-5",children:e.jsxs("span",{className:"text-xs font-black text-slate-900 group-hover:text-emerald-600 transition-colors uppercase",children:["#T-",P.id]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-slate-100 flex items-center justify-center text-slate-500 group-hover:bg-emerald-100 group-hover:text-emerald-600 transition-all",children:e.jsx(ol,{size:16})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-slate-800 text-sm",children:P.equipment?.name||"Unknown"}),e.jsx("p",{className:"text-[10px] text-slate-400 font-bold",children:P.equipment?.category||""})]})]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsx("p",{className:"text-xs font-semibold text-slate-600 max-w-[200px] truncate",children:P.issue})}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-lg text-[10px] font-black uppercase tracking-wider border ${w(P.priority)}`,children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-current opacity-60"}),P.priority]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex items-center gap-1.5 text-xs font-bold text-slate-600",children:[e.jsx(Ve,{size:12,className:"text-slate-400"}),new Date(P.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-lg text-[10px] font-black uppercase tracking-wider border ${A(P.status)}`,children:[j(P.status),P.status]})}),e.jsx("td",{className:"px-6 py-5 text-right",onClick:_=>_.stopPropagation(),children:e.jsxs("select",{className:"text-[10px] font-black uppercase tracking-tight bg-slate-50 border-none rounded-lg px-3 py-1.5 outline-none cursor-pointer hover:bg-slate-100 transition-colors",value:P.status,onChange:_=>b(P.id,_.target.value),children:[e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"In Progress",children:"In Progress"}),e.jsx("option",{value:"Completed",children:"Completed"}),e.jsx("option",{value:"Cancelled",children:"Cancelled"})]})})]},P.id))})]})}),e.jsx("div",{className:"lg:hidden space-y-4",children:g.map(P=>e.jsxs("div",{className:`bg-white rounded-2xl p-5 shadow-sm border border-slate-100 space-y-4 cursor-pointer active:scale-[0.98] transition-all ${P.priority==="Critical"?"border-l-4 border-l-red-500":""}`,onClick:()=>h(P),children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-emerald-50 text-emerald-600 flex items-center justify-center",children:e.jsx(Kl,{size:18})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-slate-800 text-sm",children:P.equipment?.name||"Unknown"}),e.jsxs("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-wider",children:["#T-",P.id]})]})]}),e.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-lg text-[10px] font-black uppercase tracking-wider border ${A(P.status)}`,children:[j(P.status),P.status]})]}),e.jsx("p",{className:"text-xs text-slate-600 font-medium line-clamp-2",children:P.issue}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 py-3 border-y border-slate-50",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Priority"}),e.jsx("span",{className:`inline-flex items-center gap-1.5 mt-1 px-2 py-0.5 rounded-md text-[10px] font-bold border ${w(P.priority)}`,children:P.priority})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Date"}),e.jsxs("p",{className:"text-xs font-bold text-slate-700 mt-1 flex items-center gap-1",children:[e.jsx(Ve,{size:12,className:"text-slate-300"}),new Date(P.createdAt).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-1",onClick:_=>_.stopPropagation(),children:[e.jsxs("select",{className:"text-[10px] font-black uppercase tracking-tight bg-slate-50 border-none rounded-lg px-3 py-1.5 outline-none cursor-pointer hover:bg-slate-100 transition-colors",value:P.status,onChange:_=>b(P.id,_.target.value),children:[e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"In Progress",children:"In Progress"}),e.jsx("option",{value:"Completed",children:"Completed"}),e.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),e.jsxs("button",{onClick:_=>{_.stopPropagation(),h(P)},className:"text-[10px] font-bold text-emerald-600 hover:underline flex items-center gap-1",children:["Details ",e.jsx(js,{size:12})]})]})]},P.id))})]})})}),u&&e.jsx("div",{className:"fixed inset-0 z-50 overflow-hidden",role:"dialog","aria-modal":"true",children:e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-slate-900/40 backdrop-blur-[2px] transition-opacity duration-300",onClick:()=>h(null)}),e.jsx("div",{className:"fixed inset-y-0 right-0 flex max-w-full pl-0 sm:pl-10",children:e.jsx("div",{className:"relative w-screen sm:max-w-[440px] transform transition-transform duration-300 ease-in-out shadow-2xl",children:e.jsxs("div",{className:"flex h-full flex-col bg-white overflow-y-auto shadow-2xl",children:[e.jsxs("div",{className:"px-6 py-8 bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white relative",children:[e.jsx("button",{onClick:()=>h(null),className:"absolute top-4 right-4 p-2 rounded-xl bg-white/10 text-white hover:bg-white/20 transition-all",children:e.jsx(Yl,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-emerald-500/20 flex items-center justify-center border border-emerald-500/30 text-emerald-400",children:e.jsx(Kl,{size:24})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-black tracking-tight",children:"Service Record"}),e.jsxs("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-widest",children:["Ticket #T-",u.id]})]})]})]}),e.jsxs("div",{className:"flex-1 p-6 space-y-6",children:[e.jsx("div",{className:"p-5 rounded-2xl bg-slate-50 border border-slate-100 space-y-3",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Issue Reported"}),e.jsx("p",{className:"text-base font-black text-slate-800 mt-1",children:u.issue})]}),e.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-1 rounded-lg text-[10px] font-black uppercase border ${A(u.status)}`,children:[j(u.status),u.status]})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 rounded-xl border-2 border-slate-50",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Equipment"}),e.jsx("p",{className:"text-sm font-bold text-slate-800 mt-1",children:u.equipment?.name||"Unknown"})]}),e.jsxs("div",{className:"p-4 rounded-xl border-2 border-slate-50",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Category"}),e.jsx("p",{className:"text-sm font-bold text-slate-800 mt-1",children:u.equipment?.category||"N/A"})]}),e.jsxs("div",{className:"p-4 rounded-xl border-2 border-slate-50",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Priority"}),e.jsx("span",{className:`inline-flex items-center gap-1 mt-1 px-2 py-0.5 rounded-md text-[10px] font-bold border ${w(u.priority)}`,children:u.priority})]}),e.jsxs("div",{className:"p-4 rounded-xl border-2 border-slate-50",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Date Reported"}),e.jsx("p",{className:"text-sm font-bold text-slate-800 mt-1",children:new Date(u.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})]}),u.equipment&&e.jsxs("div",{className:"p-4 rounded-xl bg-emerald-50 border border-emerald-100 space-y-3",children:[e.jsxs("p",{className:"text-xs font-black text-emerald-700 uppercase tracking-widest flex items-center gap-2",children:[e.jsx(ol,{size:14})," Equipment Details"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-emerald-500",children:"Brand"}),e.jsx("p",{className:"text-xs font-bold text-emerald-900",children:u.equipment.brand||"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-emerald-500",children:"Location"}),e.jsx("p",{className:"text-xs font-bold text-emerald-900",children:u.equipment.location||"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-emerald-500",children:"Serial Number"}),e.jsx("p",{className:"text-xs font-bold text-emerald-900",children:u.equipment.serialNumber||"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-emerald-500",children:"Equipment Status"}),e.jsx("p",{className:"text-xs font-bold text-emerald-900",children:u.equipment.status||"N/A"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-xs font-black text-slate-900 uppercase tracking-widest",children:"Update Status"}),e.jsxs("select",{className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-100 rounded-xl text-sm font-bold text-slate-700 focus:outline-none focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/10 transition-all cursor-pointer",value:u.status,onChange:P=>b(u.id,P.target.value),children:[e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"In Progress",children:"In Progress"}),e.jsx("option",{value:"Completed",children:"Completed"}),e.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]})]}),e.jsx("div",{className:"px-6 py-4 border-t border-slate-100",children:e.jsx("button",{onClick:()=>h(null),className:"w-full bg-slate-900 text-white py-4 rounded-xl font-black text-xs uppercase tracking-widest shadow-xl shadow-slate-200 hover:bg-slate-800 transition-colors",children:"Close"})})]})})})]})})]})},tP=()=>{const[t,s]=v.useState(""),[a,l]=v.useState(""),i=["","January","February","March","April","May","June","July","August","September","October","November","December"],o=new Date,d=`${i[o.getMonth()+1]} ${o.getFullYear()}`,[x,u]=v.useState(d),[h,p]=v.useState([]),[f,b]=v.useState(!0),[g,j]=v.useState(!1),[A,w]=v.useState(null),[k,C]=v.useState(0),[L,N]=v.useState(0);v.useEffect(()=>{(async()=>{try{const Q=(await Iw()).map(ae=>({id:ae.id,name:ae.staffName,baseSalary:Number(ae.amount),attendanceRate:100,commission:0,bonus:0,deductions:0,netPay:Number(ae.amount),status:ae.status,month:`${i[ae.month]} ${ae.year}`,paymentDate:ae.status==="Paid"?"Processed":null}));p(Q)}catch($){console.error("Error loading payroll history:",$)}finally{b(!1)}})()},[]);const P=h.filter(Y=>Y.month===x)||[],_=P.find(Y=>Y.id===A);v.useEffect(()=>{_&&(C(_.bonus),N(_.deductions))},[A,x,_]);const F=P.filter(Y=>{const $=Y.name?.toLowerCase().includes(t.toLowerCase()),Q=a===""||Y.status===a;return $&&Q}),R=P.reduce((Y,$)=>Y+$.netPay,0),B=P.filter(Y=>Y.status==="Paid").reduce((Y,$)=>Y+$.netPay,0),T=P.filter(Y=>Y.status==="Pending").reduce((Y,$)=>Y+$.netPay,0),q=P.filter(Y=>Y.status==="Paid").length,H=P.filter(Y=>Y.status==="Pending").length,G=P.length>0?[...P].sort((Y,$)=>$.netPay-Y.netPay)[0]:null,W=P.reduce((Y,$)=>Y+Number($.bonus||0)+Number($.commission||0),0),le=P.reduce((Y,$)=>Y+Number($.deductions||0),0),V=async Y=>{try{await YD(Y,{status:"Paid"}),p($=>$.map(Q=>Q.id===Y?{...Q,status:"Paid",paymentDate:"Processed"}:Q)),alert("Payroll marked as Paid!")}catch($){console.error("Error updating status:",$),alert("Failed to update status")}},ne=Y=>{w(Y.id),j(!0)},I=()=>{j(!1),setTimeout(()=>w(null),300)},oe=Y=>Y==="Paid"?"emerald":"amber",Ne=[...new Set(h.map(Y=>Y.month))].sort((Y,$)=>{const Q=new Date(Y);return new Date($)-Q});return v.useEffect(()=>{Ne.length>0&&!Ne.includes(x)&&u(Ne[0])},[Ne]),e.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6 pb-12 min-h-screen",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent mb-2 flex items-center gap-2",children:[e.jsx(xa,{className:"text-violet-600",size:24}),"Payroll Management"]}),e.jsx("p",{className:"text-slate-600 text-xs sm:text-sm",children:"View and process monthly staff salaries"})]}),e.jsxs("div",{className:"relative group w-full sm:w-64",children:[e.jsx(Ve,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-violet-500 z-10"}),e.jsx("select",{value:x,onChange:Y=>u(Y.target.value),className:"w-full pl-10 pr-10 py-2.5 bg-white border-2 border-slate-100 rounded-xl text-sm font-bold text-slate-700 shadow-sm focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all duration-300 appearance-none cursor-pointer",children:Ne.length>0?Ne.map(Y=>e.jsx("option",{value:Y,children:Y},Y)):e.jsx("option",{value:x,children:x})})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[e.jsxs("div",{className:"group relative overflow-hidden rounded-xl sm:rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105 hover:-translate-y-1",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-600 via-purple-600 to-fuchsia-600"}),e.jsxs("div",{className:"relative p-4 sm:p-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-violet-200 font-bold text-[10px] sm:text-xs uppercase tracking-wider",children:"Total Payroll Cost"}),e.jsx(Xl,{className:"text-violet-200 opacity-50",size:20})]}),e.jsxs("div",{className:"text-2xl sm:text-3xl font-black mb-1",children:["",R.toLocaleString()]}),e.jsxs("div",{className:"text-violet-200 text-xs sm:text-sm",children:["For ",x]})]})]}),e.jsxs("div",{className:"group bg-white rounded-xl sm:rounded-2xl p-4 sm:p-6 shadow-lg border border-slate-100 hover:shadow-xl hover:scale-105 hover:-translate-y-1 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-slate-500 font-bold text-[10px] sm:text-xs uppercase tracking-wider",children:"Paid"}),e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg sm:rounded-xl bg-gradient-to-br from-emerald-500 to-emerald-600 flex items-center justify-center text-white shadow-md group-hover:scale-110 group-hover:rotate-6 transition-all duration-300",children:e.jsx(Qt,{size:16,className:"sm:w-5 sm:h-5"})})]}),e.jsxs("div",{className:"text-2xl sm:text-3xl font-black text-emerald-600 mb-1",children:["",B.toLocaleString()]}),e.jsxs("div",{className:"text-slate-500 text-xs sm:text-sm",children:[q," Staff Members"]})]}),e.jsxs("div",{className:"group bg-white rounded-xl sm:rounded-2xl p-4 sm:p-6 shadow-lg border border-slate-100 hover:shadow-xl hover:scale-105 hover:-translate-y-1 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-slate-500 font-bold text-[10px] sm:text-xs uppercase tracking-wider",children:"Pending"}),e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg sm:rounded-xl bg-gradient-to-br from-orange-500 to-orange-600 flex items-center justify-center text-white shadow-md group-hover:scale-110 group-hover:rotate-6 transition-all duration-300",children:e.jsx(Qe,{size:16,className:"sm:w-5 sm:h-5"})})]}),e.jsxs("div",{className:"text-2xl sm:text-3xl font-black text-orange-600 mb-1",children:["",T.toLocaleString()]}),e.jsxs("div",{className:"text-slate-500 text-xs sm:text-sm",children:[H," Staff Members"]})]}),e.jsxs("div",{className:"group bg-white rounded-xl sm:rounded-2xl p-4 sm:p-6 shadow-lg border border-slate-100 hover:shadow-xl hover:scale-105 hover:-translate-y-1 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-slate-500 font-bold text-[10px] sm:text-xs uppercase tracking-wider",children:"Total Staff"}),e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg sm:rounded-xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-md group-hover:scale-110 group-hover:rotate-6 transition-all duration-300",children:e.jsx(_t,{size:16,className:"sm:w-5 sm:h-5"})})]}),e.jsx("div",{className:"text-2xl sm:text-3xl font-black text-slate-900 mb-1",children:P.length}),e.jsx("div",{className:"text-slate-500 text-xs sm:text-sm",children:"Active Employees"})]})]}),e.jsxs("div",{className:"mb-6 sm:mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4 px-1",children:[e.jsx(Js,{className:"text-violet-600",size:20}),e.jsx("h2",{className:"text-lg font-black text-slate-800 tracking-tight uppercase",children:"Monthly Analytics"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl p-5 border border-slate-100 shadow-lg relative overflow-hidden group hover:scale-[1.02] transition-all duration-300",children:[e.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:scale-110 transition-transform duration-500",children:e.jsx(Js,{size:64,className:"text-violet-600"})}),e.jsx("div",{className:"relative z-10 text-slate-400 text-xs font-black uppercase tracking-widest mb-3",children:"Highest Paid"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-violet-100 flex items-center justify-center text-violet-600 font-black text-lg border border-violet-200",children:G?.name?G.name.charAt(0):"?"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-black text-slate-900 leading-tight",children:G?.name||"N/A"}),e.jsxs("div",{className:"text-violet-600 font-bold text-sm mt-0.5",children:["",G?.netPay?.toLocaleString()||"0"]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-5 border border-slate-100 shadow-lg relative overflow-hidden group hover:scale-[1.02] transition-all duration-300",children:[e.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:scale-110 transition-transform duration-500",children:e.jsx(Js,{size:64,className:"text-emerald-600"})}),e.jsx("div",{className:"text-slate-400 text-xs font-black uppercase tracking-widest mb-2",children:"Total Incentives"}),e.jsxs("div",{className:"text-3xl font-black text-emerald-600 mb-1",children:["",W.toLocaleString()]}),e.jsxs("div",{className:"text-slate-500 text-[10px] font-bold uppercase tracking-wider",children:["For ",x]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-5 border border-slate-100 shadow-lg relative overflow-hidden group hover:scale-[1.02] transition-all duration-300",children:[e.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:scale-110 transition-transform duration-500",children:e.jsx(Js,{size:64,className:"text-red-600"})}),e.jsx("div",{className:"text-slate-400 text-xs font-black uppercase tracking-widest mb-2",children:"Total Deductions"}),e.jsxs("div",{className:"text-3xl font-black text-red-600 mb-1",children:["",le.toLocaleString()]}),e.jsxs("div",{className:"text-slate-500 text-[10px] font-bold uppercase tracking-wider",children:["For ",x]})]})]})]}),e.jsx("div",{className:"mb-4 sm:mb-6 bg-white/60 backdrop-blur-md rounded-xl shadow-lg border border-white/50 p-4 sm:p-5 hover:shadow-xl transition-all duration-300",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"relative group",children:[e.jsx(tt,{size:18,className:"absolute left-3 sm:left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 group-focus-within:scale-110 transition-all duration-300"}),e.jsx("input",{type:"text",value:t,onChange:Y=>s(Y.target.value),placeholder:"Search by employee name...",className:"w-full pl-10 sm:pl-12 pr-4 py-2.5 sm:py-3 bg-white/80 border-2 border-slate-200 rounded-lg sm:rounded-xl text-xs sm:text-sm focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 focus:bg-white transition-all duration-300 hover:border-slate-300"})]}),e.jsxs("div",{className:"relative group",children:[e.jsx(ks,{size:18,className:"absolute left-3 sm:left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 group-focus-within:scale-110 transition-all duration-300 pointer-events-none z-10"}),e.jsxs("select",{value:a,onChange:Y=>l(Y.target.value),className:"w-full pl-10 sm:pl-12 pr-4 py-2.5 sm:py-3 bg-white/80 border-2 border-slate-200 rounded-lg sm:rounded-xl text-xs sm:text-sm focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 focus:bg-white transition-all duration-300 hover:border-slate-300 appearance-none cursor-pointer",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"Paid",children:"Paid"}),e.jsx("option",{value:"Pending",children:"Pending"})]})]})]})}),e.jsx("div",{className:"md:hidden space-y-3 sm:space-y-4 mb-6",children:f?e.jsx("div",{className:"text-center py-10 font-bold text-slate-400",children:"Loading Payrolls..."}):F.length===0?e.jsx("div",{className:"text-center py-10 font-bold text-slate-400",children:"No records found"}):F.map(Y=>e.jsx(Ya,{title:Y.name,badge:Y.status,badgeColor:oe(Y.status),fields:[{label:"Base Salary",value:`${Y.baseSalary.toLocaleString()}`},{label:"Attendance",value:`${Y.attendanceRate||0}%`},{label:"Commission",value:`${(Y.commission||0).toLocaleString()}`},{label:"Net Pay",value:`${Y.netPay.toLocaleString()}`}],actions:[{label:Y.status==="Paid"?"Paid":"Mark Paid",icon:Y.status==="Paid"?Qt:xa,onClick:()=>Y.status==="Pending"?V(Y.id):ne(Y),variant:Y.status==="Paid"?"success":"primary"}],onClick:()=>ne(Y)},Y.id))}),e.jsxs("div",{className:"hidden md:block bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gradient-to-r from-slate-50 to-slate-100/50 border-b-2 border-slate-200",children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"Employee"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"Base Salary"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"Attendance"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"Commission"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"Net Pay"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold uppercase tracking-wider text-slate-700",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:f?e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"px-6 py-10 text-center font-bold text-slate-400",children:"Loading Payrolls..."})}):F.map(Y=>e.jsxs("tr",{onClick:()=>ne(Y),className:"group cursor-pointer hover:bg-gradient-to-r hover:from-violet-50/50 hover:via-purple-50/30 hover:to-transparent transition-all duration-300",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white font-bold shadow-md group-hover:shadow-lg group-hover:scale-110 group-hover:rotate-6 transition-all duration-300",children:(Y.name||"?").charAt(0)}),e.jsx("div",{children:e.jsx("div",{className:"text-sm font-semibold text-slate-900 group-hover:text-violet-600 transition-colors duration-300",children:Y.name})})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:"text-sm font-semibold text-slate-700",children:["",Y.baseSalary.toLocaleString()]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-16 h-2 bg-slate-100 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full ${Y.attendanceRate>=90?"bg-emerald-500":Y.attendanceRate>=75?"bg-amber-500":"bg-rose-500"}`,style:{width:`${Y.attendanceRate||0}%`}})}),e.jsxs("span",{className:"text-xs font-bold text-slate-600",children:[Y.attendanceRate||0,"%"]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:"text-sm font-bold text-indigo-600",children:["",(Y.commission||0).toLocaleString()]})}),e.jsx("td",{className:"px-6 py-4 border-l border-slate-100",children:e.jsxs("span",{className:"text-sm font-black text-slate-900",children:["",Y.netPay.toLocaleString()]})}),e.jsx("td",{className:"px-6 py-4",children:Y.status==="Paid"?e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-bold bg-gradient-to-r from-emerald-50 to-emerald-100 text-emerald-700 border border-emerald-200 shadow-sm transition-all duration-300 hover:scale-110 hover:shadow-md",children:[e.jsx(Qt,{size:14}),"Paid"]}):e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-bold bg-gradient-to-r from-orange-50 to-orange-100 text-orange-700 border border-orange-200 shadow-sm transition-all duration-300 hover:scale-110 hover:shadow-md",children:[e.jsx(Qe,{size:14}),"Pending"]})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",onClick:$=>$.stopPropagation(),children:[Y.status==="Pending"&&e.jsxs("button",{onClick:()=>V(Y.id),className:"flex items-center gap-1.5 px-3 py-1.5 bg-violet-600 text-white rounded-lg text-xs font-bold hover:bg-violet-700 transition-all duration-300 active:scale-95 shadow-lg shadow-violet-200",children:[e.jsx(Qt,{size:14}),"Mark Paid"]}),e.jsx("button",{onClick:()=>ne(Y),className:"group/btn p-2 rounded-lg text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 transition-all duration-300 hover:scale-110",title:"View Details",children:e.jsx(tt,{size:18})}),e.jsx("button",{className:"group/btn p-2 rounded-lg text-slate-400 hover:text-violet-600 hover:bg-violet-50 transition-all duration-300 hover:scale-110",children:e.jsx(Qs,{size:18,className:"transition-transform duration-300 group-hover/btn:translate-y-0.5"})})]})})]},Y.id))})]})}),!f&&F.length===0&&e.jsxs("div",{className:"p-12 sm:p-16 text-center",children:[e.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 mx-auto mb-4 sm:mb-6 bg-gradient-to-br from-violet-100 to-purple-100 rounded-full flex items-center justify-center",children:e.jsx(xa,{size:32,className:"sm:w-10 sm:h-10 text-violet-600"})}),e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-slate-900 mb-2",children:"No Payroll Records Found"}),e.jsx("p",{className:"text-slate-600 text-sm sm:text-base",children:"Try adjusting your search or filter criteria"})]})]}),g&&e.jsx("div",{className:"fixed inset-0 z-50 overflow-hidden",role:"dialog","aria-modal":"true",children:e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:`absolute inset-0 bg-slate-900/40 backdrop-blur-[2px] transition-opacity duration-300 ${g?"opacity-100":"opacity-0"}`,"aria-hidden":"true",onClick:I}),e.jsx("div",{className:"fixed inset-y-0 right-0 flex max-w-full pl-0 sm:pl-10",children:e.jsx("div",{className:`relative w-screen sm:max-w-md transform transition-transform duration-300 ease-in-out shadow-2xl ${g?"translate-x-0":"translate-x-full"}`,children:e.jsxs("div",{className:"flex h-full flex-col bg-white overflow-y-auto",children:[e.jsxs("div",{className:"px-6 py-8 bg-gradient-to-br from-violet-600 via-purple-600 to-fuchsia-600 text-white relative",children:[e.jsx("button",{type:"button",className:"absolute top-4 right-4 p-2 rounded-xl bg-white/20 text-white hover:bg-white/30 transition-all duration-300 group",onClick:I,children:e.jsx(Yl,{className:"h-6 w-6 group-hover:rotate-90 transition-transform duration-300"})}),e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-white/20 backdrop-blur-md flex items-center justify-center text-2xl font-black border border-white/30 shadow-xl",children:(_?.name||"?").charAt(0)}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-black tracking-tight",children:_?.name}),e.jsx("p",{className:"text-violet-100 text-sm font-medium",children:"Employee Monthly Payroll"})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("span",{className:"px-3 py-1 bg-white/20 backdrop-blur-sm rounded-lg text-xs font-bold border border-white/20 italic",children:x}),_?.status==="Paid"?e.jsxs("span",{className:"px-3 py-1 bg-emerald-400 text-emerald-950 rounded-lg text-xs font-black flex items-center gap-1 shadow-lg",children:[e.jsx(Qt,{size:12})," PAID"]}):e.jsxs("span",{className:"px-3 py-1 bg-amber-400 text-amber-950 rounded-lg text-xs font-black flex items-center gap-1 shadow-lg",children:[e.jsx(Qe,{size:12})," PENDING"]})]})]}),e.jsxs("div",{className:"p-6 space-y-8 flex-1",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-slate-400 mb-4 flex items-center gap-2",children:[e.jsx(Vn,{size:14,className:"text-violet-500"})," Salary Breakdown"]}),e.jsxs("div",{className:"space-y-4 bg-slate-50 rounded-2xl p-5 border border-slate-100",children:[e.jsxs("div",{className:"flex justify-between items-center pb-3 border-b border-slate-200",children:[e.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Base Salary"}),e.jsxs("span",{className:"text-sm font-bold text-slate-900",children:["",(_?.baseSalary||0).toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between items-center pb-3 border-b border-slate-200",children:[e.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Attendance"}),e.jsxs("span",{className:"text-sm font-bold text-slate-900",children:[_?.attendanceRate||0,"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center pb-3 border-b border-slate-200",children:[e.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Commission"}),e.jsxs("span",{className:"text-sm font-bold text-indigo-600",children:["",(_?.commission||0).toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between items-center pb-3 border-b border-slate-200",children:[e.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Incentives / Bonus"}),e.jsxs("span",{className:"text-sm font-bold text-emerald-600",children:["+",(_?.bonus||0).toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between items-center pb-3 border-b border-slate-200",children:[e.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Deductions"}),e.jsxs("span",{className:"text-sm font-bold text-red-600",children:["-",(_?.deductions||0).toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-2",children:[e.jsx("span",{className:"text-base font-black text-slate-900",children:"Net Pay"}),e.jsxs("span",{className:"text-2xl font-black text-violet-600",children:["",(_?.netPay||0).toLocaleString()]})]}),_?.status==="Paid"&&e.jsx("div",{className:"mt-2 text-[10px] font-bold text-slate-400 uppercase tracking-widest text-center italic",children:"Salary Locked After Payment"})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-slate-400 mb-4 flex items-center gap-2",children:[e.jsx(xa,{size:14,className:"text-violet-500"})," Payment Information"]}),e.jsx("div",{className:`rounded-2xl p-5 border-2 ${_?.status==="Paid"?"bg-emerald-50 border-emerald-100":"bg-slate-50 border-slate-100"}`,children:_?.status==="Paid"?e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-emerald-500 flex items-center justify-center text-white shadow-lg",children:e.jsx(Qt,{size:20})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-black text-emerald-900 leading-tight",children:"Paid Successfully"}),e.jsxs("div",{className:"text-xs font-medium text-emerald-700 mt-0.5",children:["Payment Date: ",_.paymentDate||"Today"]})]})]}):e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-200 flex items-center justify-center text-slate-400",children:e.jsx(Qe,{size:20})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-black text-slate-900 leading-tight",children:"Payment Outstanding"}),e.jsx("div",{className:"text-xs font-medium text-slate-500 mt-0.5",children:"Not Processed Yet"})]})]})})]})]}),e.jsxs("div",{className:"p-6 bg-slate-50 border-t border-slate-100 space-y-3",children:[_?.status==="Pending"?e.jsx(e.Fragment,{children:e.jsxs("button",{onClick:()=>V(_.id),className:"w-full flex items-center justify-center gap-2 py-4 bg-violet-600 text-white rounded-xl font-bold shadow-xl shadow-violet-200 hover:bg-violet-700 hover:scale-[1.02] active:scale-95 transition-all duration-300",children:[e.jsx(xa,{size:20}),"Confirm Payment & Mark Paid"]})}):e.jsxs("button",{disabled:!0,className:"w-full flex items-center justify-center gap-2 py-4 bg-emerald-100 text-emerald-600 rounded-xl font-bold border-2 border-emerald-200 cursor-not-allowed opacity-80",children:[e.jsx(Qt,{size:20}),"Payroll Processed"]}),e.jsx("p",{className:"text-center text-[10px] text-slate-400 mt-2 leading-relaxed tracking-wide uppercase font-bold",children:"This action will be recorded in the system audit logs."})]})]})})})]})})]})},Cf={specialization:"",commissionType:"percentage",commissionValue:"",ptRate:"",experience:""},sP={commissionPercent:"",monthlyTarget:"",bonusPercent:""},G2={performanceBonus:""},aP=({config:t,errors:s,onChange:a})=>e.jsxs("div",{className:"bg-gradient-to-br from-violet-50 to-white rounded-xl shadow-lg border border-violet-100 p-6 space-y-6 animate-in fade-in slide-in-from-top-4 duration-500",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-bold text-violet-900 flex items-center gap-2",children:[e.jsx(bg,{className:"text-violet-600",size:20}),"Trainer Configuration"]}),e.jsx("div",{className:"px-3 py-1 bg-violet-100 text-violet-700 rounded-lg text-[10px] font-black uppercase tracking-widest",children:"PT Sync Active"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative group",children:[e.jsxs("label",{className:"block text-xs font-bold uppercase tracking-wider text-violet-600 mb-2",children:["Specialization ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:t?.specialization||"",onChange:l=>a("trainerConfig","specialization",l.target.value),placeholder:"e.g. Yoga, HIIT, Rehab",className:`w-full pl-10 pr-4 py-3 bg-white border-2 rounded-xl text-sm focus:outline-none transition-all duration-300 ${s["trainerConfig.specialization"]?"border-red-500 focus:ring-red-500/20":"border-slate-200 focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 hover:border-violet-300"}`}),e.jsx(Wl,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-violet-400"})]}),s["trainerConfig.specialization"]&&e.jsx("p",{className:"text-[10px] text-red-500 font-bold mt-1",children:s["trainerConfig.specialization"]})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-violet-600 mb-2",children:"Experience (Years)"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",value:t?.experience||"",onChange:l=>a("trainerConfig","experience",l.target.value),placeholder:"e.g. 5",className:"w-full pl-10 pr-4 py-3 bg-white border-2 border-slate-200 rounded-xl text-sm focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 hover:border-violet-300 transition-all duration-300"}),e.jsx(ua,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-violet-400"})]})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-violet-600 mb-2",children:"Commission Type"}),e.jsxs("select",{value:t?.commissionType||"percentage",onChange:l=>a("trainerConfig","commissionType",l.target.value),className:"w-full px-4 py-3 bg-white border-2 border-slate-200 rounded-xl text-sm focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 hover:border-violet-300 appearance-none cursor-pointer",children:[e.jsx("option",{value:"percentage",children:"Percentage (%)"}),e.jsx("option",{value:"fixed",children:"Fixed Amount ()"})]})]}),e.jsxs("div",{className:"relative group",children:[e.jsxs("label",{className:"block text-xs font-bold uppercase tracking-wider text-violet-600 mb-2",children:["Commission Value ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",value:t?.commissionValue||"",onChange:l=>a("trainerConfig","commissionValue",l.target.value),placeholder:t?.commissionType==="percentage"?"0-100":"Amount",className:`w-full pl-10 pr-4 py-3 bg-white border-2 rounded-xl text-sm focus:outline-none transition-all duration-300 ${s["trainerConfig.commissionValue"]?"border-red-500 focus:ring-red-500/20":"border-slate-200 focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 hover:border-violet-300"}`}),t?.commissionType==="percentage"?e.jsx(Pc,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-violet-400"}):e.jsx(Vn,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-violet-400"})]}),s["trainerConfig.commissionValue"]&&e.jsx("p",{className:"text-[10px] text-red-500 font-bold mt-1",children:s["trainerConfig.commissionValue"]})]})]})]}),rP=({config:t,errors:s,onChange:a})=>e.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-white rounded-xl shadow-lg border border-orange-100 p-6 space-y-6 animate-in fade-in slide-in-from-top-4 duration-500",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-bold text-orange-900 flex items-center gap-2",children:[e.jsx(W0,{className:"text-orange-600",size:20}),"Manager Configuration"]}),e.jsx("div",{className:"px-3 py-1 bg-orange-100 text-orange-700 rounded-lg text-[10px] font-black uppercase tracking-widest",children:"Branch Level"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.jsxs("div",{className:"relative group",children:[e.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-orange-600 mb-2",children:"Performance Bonus (Annual %)"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",value:t?.performanceBonus||"",onChange:l=>a("managerConfig","performanceBonus",l.target.value),placeholder:"e.g. 10",className:`w-full pl-10 pr-4 py-3 bg-white border-2 rounded-xl text-sm focus:outline-none transition-all duration-300 ${s["managerConfig.performanceBonus"]?"border-red-500 focus:ring-red-500/20":"border-slate-200 focus:border-orange-500 focus:ring-4 focus:ring-orange-500/20 hover:border-orange-300"}`}),e.jsx(Pc,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-orange-400"})]}),s["managerConfig.performanceBonus"]&&e.jsx("p",{className:"text-[10px] text-red-500 font-bold mt-1",children:s["managerConfig.performanceBonus"]})]})})]}),V2=()=>{const t=qt(),{id:s}=Td(),a=!!s,l=Di.useRef(null),i=Di.useRef(null),[o,d]=v.useState({name:"",phone:"",email:"",dob:"",department:"Training",role:"Trainer",joiningDate:"",status:"Active",baseSalary:"",accountNumber:"",ifsc:"",trainerConfig:Cf,salesConfig:null,managerConfig:null}),[x,u]=v.useState({govtId:null,contract:null}),[h,p]=v.useState(!1),[f,b]=v.useState({});v.useEffect(()=>{a&&g()},[s]);const g=async()=>{try{const L=await WD(s);let N=L.role;L.role==="BRANCH_ADMIN"&&(N="Admin");const P=L.dob?new Date(L.dob).toISOString().split("T")[0]:"",_=L.joinedDate?new Date(L.joinedDate).toISOString().split("T")[0]:"";d({...L,role:N,dob:P,joiningDate:_,baseSalary:L.baseSalary||"",trainerConfig:L.role==="TRAINER"?L.config:Cf,managerConfig:L.role==="MANAGER"?L.config:G2,salesConfig:L.role==="STAFF"?L.config:sP}),L.documents&&u(L.documents)}catch(L){console.error("Failed to fetch staff details",L),st.error("Failed to load staff details")}};v.useEffect(()=>{a||d(L=>{const N={...L};return L.role==="Trainer"?(N.trainerConfig=Cf,N.salesConfig=null,N.managerConfig=null):L.role==="Manager"?(N.managerConfig=G2,N.trainerConfig=null,N.salesConfig=null):(N.trainerConfig=null,N.salesConfig=null,N.managerConfig=null),N})},[o.role,a]);const j=L=>{const{name:N,value:P}=L.target;d(_=>({..._,[N]:P}))},A=(L,N,P)=>{d(_=>({..._,[L]:{..._[L],[N]:P}}))},w=()=>{const L={};return o.name||(L.name="Full Name is required"),o.email||(L.email="Email is required"),o.role||(L.role="Role is required"),o.role==="Trainer"&&o.trainerConfig&&(o.trainerConfig.commissionValue||(L["trainerConfig.commissionValue"]="Commission value is required"),o.trainerConfig.specialization||(L["trainerConfig.specialization"]="Specialization is required")),b(L),Object.keys(L).length===0},k=(L,N)=>{const P=L.target.files[0];if(P){const _=new FileReader;_.onloadend=()=>{u(F=>({...F,[N]:{name:P.name,type:P.type,data:_.result}}))},_.readAsDataURL(P)}},C=async L=>{if(L.preventDefault(),!!w()){p(!0);try{const N={...o,documents:x};a?(await Bw(s,N),st.success("Staff profile updated successfully!")):(await Ow(N),st.success("Staff profile created successfully!")),t("/hr/staff/management")}catch(N){console.error("Failed to submit staff form",N),st.error(N.response?.data?.message||"Failed to save staff profile")}finally{p(!1)}}};return e.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-6 pb-12 min-h-screen",children:[e.jsxs("div",{className:"mb-8 relative max-w-6xl mx-auto",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent mb-2 flex items-center gap-2",children:[e.jsx(rl,{className:"text-violet-600",size:28}),a?"Update Staff Profile":"New Staff Profile"]}),e.jsx("p",{className:"text-slate-600 text-sm",children:a?"Modify existing record and sync changes.":"Create a new employee record with role-specific sync."})]}),e.jsxs("button",{onClick:()=>t(-1),className:"flex items-center gap-2 px-4 py-2.5 bg-white border border-slate-200 rounded-xl text-sm font-semibold text-slate-700 hover:bg-slate-50 hover:shadow-md hover:scale-105 transition-all duration-300 shadow-sm group",children:[e.jsx(Gr,{className:"w-4 h-4 transition-transform duration-300 group-hover:-translate-x-1"}),"Back"]})]})})]}),e.jsx("form",{onSubmit:C,className:"max-w-6xl mx-auto",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white/60 backdrop-blur-md rounded-xl shadow-lg border border-white/50 p-6 hover:shadow-xl transition-all duration-300",children:[e.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[e.jsx(rl,{className:"text-violet-600",size:20}),"Personal Details"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative group",children:[e.jsxs("label",{className:"block text-xs font-bold uppercase tracking-wider text-slate-600 mb-2",children:["Full Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"name",value:o.name||"",onChange:j,placeholder:"Enter full name",className:`w-full px-4 py-3 bg-white/80 border-2 rounded-xl text-sm focus:outline-none transition-all duration-300 ${f.name?"border-red-500":"border-slate-200 focus:border-violet-500"}`}),f.name&&e.jsx("p",{className:"text-[10px] text-red-500 font-bold mt-1",children:f.name})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-slate-600 mb-2",children:"Phone Number"}),e.jsx("input",{type:"tel",name:"phone",value:o.phone||"",onChange:j,placeholder:"+91...",className:"w-full px-4 py-3 bg-white/80 border-2 border-slate-200 rounded-xl text-sm focus:outline-none focus:border-violet-500 transition-all duration-300"})]}),e.jsxs("div",{className:"relative group",children:[e.jsxs("label",{className:"block text-xs font-bold uppercase tracking-wider text-slate-600 mb-2",children:["Email Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"email",name:"email",value:o.email||"",onChange:j,placeholder:"email@example.com",className:`w-full px-4 py-3 bg-white/80 border-2 rounded-xl text-sm focus:outline-none transition-all duration-300 ${f.email?"border-red-500":"border-slate-200 focus:border-violet-500"}`}),f.email&&e.jsx("p",{className:"text-[10px] text-red-500 font-bold mt-1",children:f.email})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-slate-600 mb-2",children:"Date of Birth"}),e.jsx("input",{type:"date",name:"dob",value:o.dob||"",onChange:j,className:"w-full px-4 py-3 bg-white/80 border-2 border-slate-200 rounded-xl text-sm focus:outline-none focus:border-violet-500 transition-all duration-300"})]})]})]}),e.jsxs("div",{className:"bg-white/60 backdrop-blur-md rounded-xl shadow-lg border border-white/50 p-6 hover:shadow-xl transition-all duration-300",children:[e.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[e.jsx(Tc,{className:"text-violet-600",size:20}),"Employment Details"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-slate-600 mb-2",children:"Department"}),e.jsxs("select",{name:"department",value:o.department||"Training",onChange:j,className:"w-full px-4 py-3 bg-white/80 border-2 border-slate-200 rounded-xl text-sm focus:outline-none appearance-none cursor-pointer",children:[e.jsx("option",{children:"Training"}),e.jsx("option",{children:"Sales"}),e.jsx("option",{children:"Operations"}),e.jsx("option",{children:"Housekeeping"})]})]}),e.jsxs("div",{className:"relative group",children:[e.jsxs("label",{className:"block text-xs font-bold uppercase tracking-wider text-slate-600 mb-2",children:["Assigned Role ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{name:"role",value:o.role||"Trainer",onChange:j,className:"w-full px-4 py-3 bg-white/80 border-2 border-slate-200 rounded-xl text-sm font-semibold focus:outline-none appearance-none cursor-pointer",children:[e.jsx("option",{value:"Admin",children:"Admin"}),e.jsx("option",{value:"Manager",children:"Manager"}),e.jsx("option",{value:"Trainer",children:"Trainer"}),e.jsx("option",{value:"Staff",children:"Staff"})]})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-slate-600 mb-2",children:"Joining Date"}),e.jsx("input",{type:"date",name:"joiningDate",value:o.joiningDate||"",onChange:j,className:"w-full px-4 py-3 bg-white/80 border-2 border-slate-200 rounded-xl text-sm focus:outline-none transition-all duration-300"})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-slate-600 mb-2",children:"Status"}),e.jsxs("select",{name:"status",value:o.status||"Active",onChange:j,className:"w-full px-4 py-3 bg-white/80 border-2 border-slate-200 rounded-xl text-sm focus:outline-none appearance-none cursor-pointer",children:[e.jsx("option",{children:"Active"}),e.jsx("option",{children:"Probation"}),e.jsx("option",{children:"On Leave"})]})]})]})]}),e.jsxs("div",{className:"bg-white/60 backdrop-blur-md rounded-xl shadow-lg border border-white/50 p-6 hover:shadow-xl transition-all duration-300",children:[e.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[e.jsx(Vn,{className:"text-violet-600",size:20}),"Financials & Payroll (Base)"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-slate-600 mb-2",children:"Base Salary (Monthly)"}),e.jsx("input",{type:"number",name:"baseSalary",value:o.baseSalary||"",onChange:j,placeholder:" 0.00",className:"w-full px-4 py-3 bg-white/80 border-2 border-slate-200 rounded-xl text-sm focus:outline-none transition-all duration-300"})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-slate-600 mb-2",children:"Bank Account Number"}),e.jsx("input",{type:"text",name:"accountNumber",value:o.accountNumber||"",onChange:j,placeholder:"Account number...",className:"w-full px-4 py-3 bg-white/80 border-2 border-slate-200 rounded-xl text-sm focus:outline-none transition-all duration-300"})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-slate-600 mb-2",children:"IFSC Code"}),e.jsx("input",{type:"text",name:"ifsc",value:o.ifsc||"",onChange:j,placeholder:"IFSC...",className:"w-full px-4 py-3 bg-white/80 border-2 border-slate-200 rounded-xl text-sm focus:outline-none transition-all duration-300"})]})]})]}),o.role==="Trainer"&&e.jsx(aP,{config:o.trainerConfig,errors:f,onChange:A}),o.role==="Manager"&&e.jsx(rP,{config:o.managerConfig,errors:f,onChange:A})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white/60 backdrop-blur-md rounded-xl shadow-lg border border-white/50 p-6 hover:shadow-xl transition-all duration-300",children:[e.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[e.jsx(Va,{className:"text-violet-600",size:20}),"Documents"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{type:"file",ref:l,className:"hidden",onChange:L=>k(L,"govtId")}),e.jsxs("div",{onClick:()=>l.current.click(),className:`border-2 border-dashed rounded-xl p-8 flex flex-col items-center justify-center text-center transition-all duration-300 cursor-pointer group ${x.govtId?"border-emerald-500 bg-emerald-50/30":"border-slate-200 hover:border-violet-300 hover:bg-violet-50/30"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center mb-3 group-hover:scale-110 group-hover:rotate-6 transition-all duration-300 shadow-md ${x.govtId?"bg-emerald-500 text-white":"bg-gradient-to-br from-violet-500 to-purple-600 text-white"}`,children:x.govtId?e.jsx(Xt,{size:24}):e.jsx(If,{size:24})}),e.jsx("div",{className:"text-sm font-bold text-slate-900",children:x.govtId?x.govtId.name:"Upload Government ID"})]}),e.jsx("input",{type:"file",ref:i,className:"hidden",onChange:L=>k(L,"contract")}),e.jsxs("div",{onClick:()=>i.current.click(),className:`border-2 border-dashed rounded-xl p-8 flex flex-col items-center justify-center text-center transition-all duration-300 cursor-pointer group ${x.contract?"border-emerald-500 bg-emerald-50/30":"border-slate-200 hover:border-violet-300 hover:bg-violet-50/30"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center mb-3 group-hover:scale-110 group-hover:rotate-6 transition-all duration-300 shadow-md ${x.contract?"bg-emerald-500 text-white":"bg-gradient-to-br from-violet-500 to-purple-600 text-white"}`,children:x.contract?e.jsx(Xt,{size:24}):e.jsx(Va,{size:24})}),e.jsx("div",{className:"text-sm font-bold text-slate-900",children:x.contract?x.contract.name:"Upload Contract"})]})]})]}),e.jsxs("button",{type:"submit",disabled:h,className:`group relative w-full px-6 py-4 rounded-xl font-bold shadow-xl hover:shadow-2xl hover:scale-105 transition-all duration-300 flex items-center justify-center gap-2 bg-gradient-to-r from-violet-600 to-purple-600 text-white text-lg ${h?"opacity-70 cursor-not-allowed":""}`,children:[h?e.jsx(Qe,{className:"w-5 h-5 animate-spin relative"}):e.jsx(na,{className:"w-5 h-5 relative transition-transform duration-300 group-hover:scale-110"}),e.jsx("span",{className:"relative",children:h?"Processing...":a?"Update Profile":"Save Profile"})]})]})]})})]})},lP=()=>{const[t,s]=v.useState([]),[a,l]=v.useState(!0),[i,o]=v.useState(!1);v.useEffect(()=>{d()},[]);const d=async()=>{l(!0);try{const h=await XD();s(h)}catch(h){console.error("Error loading leave requests:",h)}finally{l(!1)}},x=async(h,p)=>{o(!0);try{await KD(h,p),alert(`Leave request ${p.toLowerCase()}!`),d()}catch(f){console.error("Error updating leave request:",f),alert("Failed to update leave request.")}finally{o(!1)}},u=h=>{switch(h){case"Approved":return"bg-emerald-100 text-emerald-700 border border-emerald-200";case"Rejected":return"bg-red-100 text-red-700 border border-red-200";case"Pending":return"bg-amber-100 text-amber-700 border border-amber-200";default:return"bg-slate-100 text-slate-700 border border-slate-200"}};return a?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh]",children:[e.jsx("div",{className:"w-10 h-10 border-4 border-violet-600 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"mt-4 text-slate-500 font-medium",children:"Loading leave requests..."})]}):e.jsxs("div",{className:"flex flex-col gap-6 animate-in fade-in duration-500",children:[e.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-black text-slate-900 flex items-center gap-3",children:[e.jsx(Ve,{className:"text-violet-500",size:28}),"Leave Requests"]}),e.jsx("p",{className:"text-slate-500 font-medium mt-1 text-sm",children:"Review and manage staff leave applications"})]})}),e.jsx("div",{className:"bg-white rounded-3xl border border-slate-100 shadow-xl overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50/50 border-b border-slate-100",children:[e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Employee"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Type"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Date Range"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Reason"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:t.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-12 text-center text-slate-500",children:"No leave requests found."})}):t.map(h=>e.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-bold text-slate-900",children:h.user?.name||"Unknown"}),e.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:h.user?.role||"Staff"})]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsx("span",{className:"text-xs font-bold text-slate-600",children:h.type})}),e.jsx("td",{className:"px-6 py-5",children:e.jsx("div",{className:"flex flex-col gap-1",children:e.jsxs("span",{className:"text-sm font-bold text-slate-900",children:[new Date(h.startDate).toLocaleDateString(),new Date(h.startDate).getTime()!==new Date(h.endDate).getTime()&&`  ${new Date(h.endDate).toLocaleDateString()}`]})})}),e.jsx("td",{className:"px-6 py-5",children:e.jsx("span",{className:"text-xs text-slate-500 font-medium truncate max-w-[200px] block",title:h.reason,children:h.reason})}),e.jsx("td",{className:"px-6 py-5",children:e.jsx("div",{className:"flex justify-center",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-wider flex items-center gap-1 ${u(h.status)}`,children:h.status})})}),e.jsx("td",{className:"px-6 py-5",children:e.jsx("div",{className:"flex justify-center gap-2",children:h.status==="Pending"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>x(h.id,"Approved"),disabled:i,className:"p-2 bg-emerald-50 text-emerald-600 hover:bg-emerald-100 rounded-lg transition-colors border border-emerald-100",title:"Approve",children:e.jsx(Xt,{size:18})}),e.jsx("button",{onClick:()=>x(h.id,"Rejected"),disabled:i,className:"p-2 bg-rose-50 text-rose-600 hover:bg-rose-100 rounded-lg transition-colors border border-rose-100",title:"Reject",children:e.jsx(Yl,{size:18})})]})})})]},h.id))})]})})})]})},nP=()=>{const t=()=>{const A=new Date,w=A.getFullYear(),k=String(A.getMonth()+1).padStart(2,"0"),C=String(A.getDate()).padStart(2,"0");return`${w}-${k}-${C}`},[s,a]=v.useState(t()),[l,i]=v.useState("Main Branch"),[o,d]=v.useState(""),[x,u]=v.useState([{label:"Total Revenue",value:"0",icon:Vn,bg:"bg-indigo-50",color:"text-indigo-600"},{label:"Monthly Target",value:"5,00,000",icon:Js,bg:"bg-emerald-50",color:"text-emerald-600"},{label:"Pending Payments",value:"0",icon:xa,bg:"bg-amber-50",color:"text-amber-600"}]),[h,p]=v.useState([]),[f,b]=v.useState(!0),g=async()=>{try{b(!0);const A=await ye.get("/branch-admin/reports/revenue",{params:{date:s}});u(A.data.stats.map(w=>({...w,icon:w.icon==="DollarSign"?Vn:w.icon==="TrendingUp"?Js:xa}))),p(A.data.revenueData)}catch(A){console.error("Failed to fetch revenue report:",A)}finally{b(!1)}};v.useEffect(()=>{g()},[s]);const j=()=>{if(h.length===0){alert("No data available to export.");return}const w=[["Date","Member","Service","Amount","Mode","Status"].join(","),...h.map(N=>[`"${N.date}"`,`"${N.member}"`,`"${N.service}"`,`"${N.amount}"`,`"${N.mode}"`,`"${N.status}"`].join(","))].join(`
`),k=new Blob([w],{type:"text/csv;charset=utf-8;"}),C=document.createElement("a"),L=URL.createObjectURL(k);C.setAttribute("href",L),C.setAttribute("download",`revenue_report_${s}.csv`),C.style.visibility="hidden",document.body.appendChild(C),C.click(),document.body.removeChild(C)};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-6 md:p-8",children:[e.jsxs("div",{className:"mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-indigo-500 to-blue-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(Vn,{size:28})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-indigo-600 via-blue-600 to-cyan-600 bg-clip-text text-transparent",children:"Revenue Report"}),e.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Track payments, collection trends and financial health"})]})]}),e.jsxs("button",{onClick:j,className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-indigo-600 to-blue-600 hover:shadow-xl hover:shadow-indigo-500/50 text-white rounded-xl text-sm font-bold transition-all hover:scale-[1.02] active:scale-[0.98]",children:[e.jsx(Qs,{size:18}),"Export Report"]})]})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:x.map((A,w)=>e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-xl border border-slate-100 flex items-center gap-4 hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1",children:[e.jsx("div",{className:`p-4 rounded-xl ${A.bg} ${A.color} shadow-md`,children:e.jsx(A.icon,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1",children:A.label}),e.jsx("p",{className:"text-3xl font-black text-gray-900 leading-none",children:A.value})]})]},w))}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden mb-8",children:[e.jsx("div",{className:"p-6 border-b border-slate-100 bg-gray-50/30",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-center",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 w-full md:w-auto",children:[e.jsxs("div",{className:"relative group",children:[e.jsx(Ve,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"date",className:"pl-11 h-11 px-4 rounded-xl border-2 border-slate-200 text-sm focus:border-indigo-500 transition-all bg-white",value:s,onChange:A=>a(A.target.value)})]}),e.jsxs("select",{className:"h-11 px-4 rounded-xl border-2 border-slate-200 text-sm focus:border-indigo-500 transition-all bg-white font-medium text-gray-700",value:l,onChange:A=>i(A.target.value),children:[e.jsx("option",{children:"Main Branch"}),e.jsx("option",{children:"Downtown Studio"})]})]}),e.jsxs("div",{className:"relative w-full md:w-72",children:[e.jsx(tt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"text",placeholder:"Search payments...",className:"pl-11 h-11 w-full rounded-xl border-2 border-slate-200 focus:border-indigo-500 text-sm transition-all",value:o,onChange:A=>d(A.target.value)})]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Member"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Service"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Mode"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Status"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:f?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx(Sl,{className:"w-8 h-8 text-indigo-500 animate-spin"}),e.jsx("p",{className:"text-slate-500 font-medium",children:"Loading revenue data..."})]})})}):h.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-12 text-center text-slate-400 font-medium italic",children:"No transactions found for the selected period"})}):h.filter(A=>A.member.toLowerCase().includes(o.toLowerCase())).map(A=>e.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 text-sm font-medium text-slate-600",children:A.date}),e.jsx("td",{className:"px-6 py-4 text-sm font-bold text-slate-900",children:A.member}),e.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:A.service}),e.jsx("td",{className:"px-6 py-4 text-sm font-black text-indigo-600",children:A.amount}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:"flex items-center gap-1.5 text-xs font-medium text-slate-500",children:[A.mode==="UPI"||A.mode==="GPay"||A.mode==="PhonePe"?e.jsx(xr,{size:14,className:"text-blue-500"}):e.jsx(Ps,{size:14}),A.mode]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-widest ${A.status==="Paid"?"bg-emerald-100 text-emerald-700":A.status==="Partial"?"bg-amber-100 text-amber-700":"bg-rose-100 text-rose-700"}`,children:A.status})})]},A.id))})]})})]})]})},iP=()=>{const t=()=>{const g=new Date,j=g.getFullYear(),A=String(g.getMonth()+1).padStart(2,"0"),w=String(g.getDate()).padStart(2,"0");return`${j}-${A}-${w}`},[s,a]=v.useState(t()),[l,i]=v.useState(""),[o,d]=v.useState([{label:"Active Members",value:"0",icon:kl,bg:"bg-emerald-50",color:"text-emerald-600"},{label:"New Joins (MTD)",value:"0",icon:rl,bg:"bg-blue-50",color:"text-blue-600"},{label:"Expired (MTD)",value:"0",icon:Bf,bg:"bg-rose-50",color:"text-rose-600"}]),[x,u]=v.useState([]),[h,p]=v.useState(!0),f=async()=>{try{p(!0);const g=await ye.get("/branch-admin/reports/membership",{params:{date:s}}),j={UserCheck:kl,UserPlus:rl,UserMinus:Bf};d(g.data.stats.map(A=>({...A,icon:j[A.icon]||kl}))),u(g.data.membershipData)}catch(g){console.error("Failed to fetch membership report:",g)}finally{p(!1)}};v.useEffect(()=>{f()},[s]);const b=()=>{if(x.length===0){alert("No data available to export.");return}const j=[["Member Name","Plan Type","Membership Start","Expiry Date","Status"].join(","),...x.map(C=>[`"${C.name}"`,`"${C.plan}"`,`"${C.startDate}"`,`"${C.endDate}"`,`"${C.status}"`].join(","))].join(`
`),A=new Blob([j],{type:"text/csv;charset=utf-8;"}),w=document.createElement("a"),k=URL.createObjectURL(A);w.setAttribute("href",k),w.setAttribute("download",`membership_report_${s}.csv`),w.style.visibility="hidden",document.body.appendChild(w),w.click(),document.body.removeChild(w)};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-6 md:p-8",children:[e.jsxs("div",{className:"mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-500 via-teal-500 to-cyan-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-emerald-500 to-teal-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(_t,{size:28})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-emerald-600 via-teal-600 to-cyan-600 bg-clip-text text-transparent",children:"Membership Report"}),e.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Analyze member growth, retention and plan distribution"})]})]}),e.jsxs("button",{onClick:b,className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-emerald-600 to-teal-600 hover:shadow-xl hover:shadow-emerald-500/50 text-white rounded-xl text-sm font-bold transition-all hover:scale-[1.02] active:scale-[0.98]",children:[e.jsx(Qs,{size:18}),"Export Data"]})]})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:o.map((g,j)=>e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-xl border border-slate-100 flex items-center gap-4 hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1",children:[e.jsx("div",{className:`p-4 rounded-xl ${g.bg} ${g.color} shadow-md`,children:e.jsx(g.icon,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1",children:g.label}),e.jsx("p",{className:"text-3xl font-black text-gray-900 leading-none",children:g.value})]})]},j))}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden mb-8",children:[e.jsx("div",{className:"p-6 border-b border-slate-100 bg-gray-50/30",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative group",children:[e.jsx(Ve,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"date",className:"pl-11 h-11 px-4 rounded-xl border-2 border-slate-200 text-sm focus:border-emerald-500 transition-all bg-white",value:s,onChange:g=>a(g.target.value)})]}),e.jsxs("button",{onClick:()=>{const g=x.reduce((A,w)=>(A[w.plan]=(A[w.plan]||0)+1,A),{}),j=Object.entries(g).map(([A,w])=>`${A}: ${w}`).join(`
`);alert(`Plan Distribution:

${j||"No data available"}`)},className:"flex items-center gap-2 px-4 py-2 bg-emerald-50 border border-emerald-100 rounded-xl text-emerald-700 text-xs font-bold hover:bg-emerald-100 transition-colors",children:[e.jsx(vg,{size:14}),"Plan Distribution"]})]}),e.jsxs("div",{className:"relative w-full md:w-72",children:[e.jsx(tt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"text",placeholder:"Search members...",className:"pl-11 h-11 w-full rounded-xl border-2 border-slate-200 focus:border-emerald-500 text-sm transition-all",value:l,onChange:g=>i(g.target.value)})]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Member Name"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Plan Type"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Membership Start"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Expiry Date"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Status"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:h?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx(Sl,{className:"w-8 h-8 text-emerald-500 animate-spin"}),e.jsx("p",{className:"text-slate-500 font-medium",children:"Loading membership data..."})]})})}):x.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-12 text-center text-slate-400 font-medium italic",children:"No members found for the selected period"})}):x.filter(g=>g.name.toLowerCase().includes(l.toLowerCase())).map(g=>e.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center text-[10px] font-black text-slate-500",children:g.name.charAt(0)}),e.jsx("span",{className:"text-sm font-bold text-slate-900",children:g.name})]})}),e.jsx("td",{className:"px-6 py-4 text-sm font-medium text-slate-600",children:g.plan}),e.jsx("td",{className:"px-6 py-4 text-sm text-slate-500",children:g.startDate}),e.jsx("td",{className:"px-6 py-4 text-sm font-bold text-slate-700",children:g.endDate}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-widest ${g.status==="Active"?"bg-emerald-100 text-emerald-700":"bg-rose-100 text-rose-700"}`,children:g.status})})]},g.id))})]})})]})]})},oP=()=>{const t=()=>{const g=new Date,j=g.getFullYear(),A=String(g.getMonth()+1).padStart(2,"0"),w=String(g.getDate()).padStart(2,"0");return`${j}-${A}-${w}`},[s,a]=v.useState(t()),[l,i]=v.useState(""),[o,d]=v.useState([{label:"Total Leads",value:"0",icon:O1,bg:"bg-orange-50",color:"text-orange-600"},{label:"Converted Leads",value:"0",icon:wn,bg:"bg-purple-50",color:"text-purple-600"},{label:"Conversion rate",value:"0%",icon:Pc,bg:"bg-blue-50",color:"text-blue-600"}]),[x,u]=v.useState([]),[h,p]=v.useState(!0),f=async()=>{try{p(!0);const g=await ye.get("/branch-admin/reports/lead-conversion",{params:{date:s}}),j={MousePointer2:O1,Target:wn,Percent:Pc};d(g.data.stats.map(A=>({...A,icon:j[A.icon]||wn}))),u(g.data.leadData)}catch(g){console.error("Failed to fetch lead conversion report:",g)}finally{p(!1)}};v.useEffect(()=>{f()},[s]);const b=()=>{if(x.length===0){alert("No data available to export.");return}const j=[["Lead Name","Source","Date Received","Status","Sales Notes"].join(","),...x.map(C=>[`"${C.name}"`,`"${C.source}"`,`"${C.date}"`,`"${C.status}"`,`"${C.notes.replace(/"/g,'""')}"`].join(","))].join(`
`),A=new Blob([j],{type:"text/csv;charset=utf-8;"}),w=document.createElement("a"),k=URL.createObjectURL(A);w.setAttribute("href",k),w.setAttribute("download",`lead_conversion_report_${s}.csv`),w.style.visibility="hidden",document.body.appendChild(w),w.click(),document.body.removeChild(w)};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-6 md:p-8",children:[e.jsxs("div",{className:"mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-500 via-rose-500 to-amber-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-orange-500 to-rose-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(Js,{size:28})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-orange-600 via-rose-600 to-amber-600 bg-clip-text text-transparent",children:"Lead Conversion Report"}),e.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Monitor marketing performance and sales funnel efficiency"})]})]}),e.jsxs("button",{onClick:b,className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-orange-600 to-rose-600 hover:shadow-xl hover:shadow-orange-500/50 text-white rounded-xl text-sm font-bold transition-all hover:scale-[1.02] active:scale-[0.98]",children:[e.jsx(Qs,{size:18}),"Export Funnel Data"]})]})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:o.map((g,j)=>e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-xl border border-slate-100 flex items-center gap-4 hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1",children:[e.jsx("div",{className:`p-4 rounded-xl ${g.bg} ${g.color} shadow-md`,children:e.jsx(g.icon,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1",children:g.label}),e.jsx("p",{className:"text-3xl font-black text-gray-900 leading-none",children:g.value})]})]},j))}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden mb-8",children:[e.jsx("div",{className:"p-6 border-b border-slate-100 bg-gray-50/30",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative group",children:[e.jsx(Ve,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"date",className:"pl-11 h-11 px-4 rounded-xl border-2 border-slate-200 text-sm focus:border-orange-500 transition-all bg-white",value:s,onChange:g=>a(g.target.value)})]}),e.jsxs("button",{onClick:()=>{const g=x.reduce((A,w)=>(A[w.source]=(A[w.source]||0)+1,A),{}),j=Object.entries(g).map(([A,w])=>`${A}: ${w}`).join(`
`);alert(`Source Breakdown:

${j||"No data available"}`)},className:"flex items-center gap-2 px-4 py-2 bg-rose-50 border border-rose-100 rounded-xl text-rose-700 text-xs font-bold hover:bg-rose-100 transition-colors",children:[e.jsx(QC,{size:14}),"Source Breakdown"]})]}),e.jsxs("div",{className:"relative w-full md:w-72",children:[e.jsx(tt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"text",placeholder:"Search leads...",className:"pl-11 h-11 w-full rounded-xl border-2 border-slate-200 focus:border-orange-500 text-sm transition-all",value:l,onChange:g=>i(g.target.value)})]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Lead Name"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Source"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Date Received"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Sales Notes"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:h?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx(Sl,{className:"w-8 h-8 text-orange-500 animate-spin"}),e.jsx("p",{className:"text-slate-500 font-medium",children:"Loading funnel data..."})]})})}):x.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-12 text-center text-slate-400 font-medium italic",children:"No leads found for the selected period"})}):x.filter(g=>g.name.toLowerCase().includes(l.toLowerCase())).map(g=>e.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 text-sm font-bold text-slate-900",children:g.name}),e.jsx("td",{className:"px-6 py-4 text-sm font-medium text-slate-600",children:g.source}),e.jsx("td",{className:"px-6 py-4 text-sm text-slate-500",children:g.date}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-widest ${g.status==="Converted"?"bg-emerald-100 text-emerald-700":g.status==="Follow-up"?"bg-blue-100 text-blue-700":"bg-slate-100 text-slate-700"}`,children:g.status})}),e.jsxs("td",{className:"px-6 py-4 text-sm text-slate-500 italic",children:['"',g.notes,'"']})]},g.id))})]})})]})]})},cP=()=>{const t=()=>{const g=new Date,j=g.getFullYear(),A=String(g.getMonth()+1).padStart(2,"0"),w=String(g.getDate()).padStart(2,"0");return`${j}-${A}-${w}`},[s,a]=v.useState(t()),[l,i]=v.useState(""),[o,d]=v.useState([{label:"Total Expenses",value:"0",icon:Ps,bg:"bg-rose-50",color:"text-rose-600"},{label:"Operational Costs",value:"0",icon:ua,bg:"bg-blue-50",color:"text-blue-600"},{label:"Supplies/Inventory",value:"0",icon:zc,bg:"bg-amber-50",color:"text-amber-600"}]),[x,u]=v.useState([]),[h,p]=v.useState(!0),f=async()=>{try{p(!0);const g=await ye.get("/branch-admin/reports/expenses",{params:{date:s}}),j={CreditCard:Ps,Zap:ua,ShoppingBag:zc};d(g.data.stats.map(A=>({...A,icon:j[A.icon]||Ps}))),u(g.data.expenseData)}catch(g){console.error("Failed to fetch expense report:",g)}finally{p(!1)}};v.useEffect(()=>{f()},[s]);const b=()=>{if(x.length===0){alert("No data available to export.");return}const j=[["Date","Category","Description","Amount","Status"].join(","),...x.map(C=>[`"${C.date}"`,`"${C.category}"`,`"${C.description.replace(/"/g,'""')}"`,`"${C.amount}"`,`"${C.status}"`].join(","))].join(`
`),A=new Blob([j],{type:"text/csv;charset=utf-8;"}),w=document.createElement("a"),k=URL.createObjectURL(A);w.setAttribute("href",k),w.setAttribute("download",`expense_report_${s}.csv`),w.style.visibility="hidden",document.body.appendChild(w),w.click(),document.body.removeChild(w)};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-6 md:p-8",children:[e.jsxs("div",{className:"mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-rose-500 via-pink-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-rose-500 to-pink-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(Ga,{size:28})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-rose-600 via-pink-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Expense Report"}),e.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Track operational expenditures and overhead costs"})]})]}),e.jsxs("button",{onClick:b,className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-rose-600 to-pink-600 hover:shadow-xl hover:shadow-rose-500/50 text-white rounded-xl text-sm font-bold transition-all hover:scale-[1.02] active:scale-[0.98]",children:[e.jsx(Qs,{size:18}),"Export Expenses"]})]})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:o.map((g,j)=>e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-xl border border-slate-100 flex items-center gap-4 hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1",children:[e.jsx("div",{className:`p-4 rounded-xl ${g.bg} ${g.color} shadow-md`,children:e.jsx(g.icon,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1",children:g.label}),e.jsx("p",{className:"text-3xl font-black text-gray-900 leading-none",children:g.value})]})]},j))}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden mb-8",children:[e.jsx("div",{className:"p-6 border-b border-slate-100 bg-gray-50/30",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative group",children:[e.jsx(Ve,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"date",className:"pl-11 h-11 px-4 rounded-xl border-2 border-slate-200 text-sm focus:border-rose-500 transition-all bg-white",value:s,onChange:g=>a(g.target.value)})]}),e.jsxs("button",{onClick:()=>{const g=x.reduce((A,w)=>(A[w.category]=(A[w.category]||0)+1,A),{}),j=Object.entries(g).map(([A,w])=>`${A}: ${w}`).join(`
`);alert(`Category Distribution:

${j||"No data available"}`)},className:"flex items-center gap-2 px-4 py-2 bg-pink-50 border border-pink-100 rounded-xl text-pink-700 text-xs font-bold hover:bg-pink-100 transition-colors",children:[e.jsx(vg,{size:14}),"Category Distribution"]})]}),e.jsxs("div",{className:"relative w-full md:w-72",children:[e.jsx(tt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"text",placeholder:"Search expenses...",className:"pl-11 h-11 w-full rounded-xl border-2 border-slate-200 focus:border-rose-500 text-sm transition-all",value:l,onChange:g=>i(g.target.value)})]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Category"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Description"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Status"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:h?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx(Sl,{className:"w-8 h-8 text-rose-500 animate-spin"}),e.jsx("p",{className:"text-slate-500 font-medium",children:"Loading expense data..."})]})})}):x.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-12 text-center text-slate-400 font-medium italic",children:"No expenses found for the selected period"})}):x.filter(g=>g.description.toLowerCase().includes(l.toLowerCase())||g.category.toLowerCase().includes(l.toLowerCase())).map(g=>e.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 text-sm font-medium text-slate-600",children:g.date}),e.jsx("td",{className:"px-6 py-4 text-sm font-bold text-rose-600",children:g.category}),e.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:g.description}),e.jsx("td",{className:"px-6 py-4 text-sm font-black text-slate-900",children:g.amount}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-widest ${g.status==="Paid"?"bg-emerald-100 text-emerald-700":"bg-amber-100 text-amber-700"}`,children:g.status})})]},g.id))})]})})]})]})},dP=()=>{const t=()=>{const g=new Date,j=g.getFullYear(),A=String(g.getMonth()+1).padStart(2,"0"),w=String(g.getDate()).padStart(2,"0");return`${j}-${A}-${w}`},[s,a]=v.useState(t()),[l,i]=v.useState(""),[o,d]=v.useState([{label:"Revenue vs Expense",value:"0%",icon:Js,bg:"bg-indigo-50",color:"text-indigo-600",trend:"up"},{label:"Lead Conv. Rate",value:"0%",icon:wn,bg:"bg-purple-50",color:"text-purple-600",trend:"up"},{label:"Member Retention",value:"0%",icon:$t,bg:"bg-emerald-50",color:"text-emerald-600",trend:"up"}]),[x,u]=v.useState([]),[h,p]=v.useState(!0),f=async()=>{try{p(!0);const g=await ye.get("/branch-admin/reports/performance",{params:{date:s}}),j={TrendingUp:Js,Target:wn,Activity:$t};d(g.data.stats.map(A=>({...A,icon:j[A.icon]||$t}))),u(g.data.performanceData)}catch(g){console.error("Failed to fetch performance report:",g)}finally{p(!1)}};v.useEffect(()=>{f()},[s]);const b=()=>{if(x.length===0){alert("No data available to export.");return}const j=[["Month","Revenue","Expense","Profit","Margin","Status"].join(","),...x.map(C=>[`"${C.month}"`,`"${C.revenue}"`,`"${C.expense}"`,`"${C.profit}"`,`"${C.margin}"`,`"${C.status}"`].join(","))].join(`
`),A=new Blob([j],{type:"text/csv;charset=utf-8;"}),w=document.createElement("a"),k=URL.createObjectURL(A);w.setAttribute("href",k),w.setAttribute("download",`performance_report_${s}.csv`),w.style.visibility="hidden",document.body.appendChild(w),w.click(),document.body.removeChild(w)};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-6 md:p-8",children:[e.jsxs("div",{className:"mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-500 via-purple-500 to-emerald-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx($t,{size:28})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-indigo-600 via-purple-600 to-emerald-600 bg-clip-text text-transparent",children:"Branch Performance Report"}),e.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Comparative analysis of key performance indicators (KPIs)"})]})]}),e.jsxs("button",{onClick:b,className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-indigo-600 to-purple-600 hover:shadow-xl hover:shadow-indigo-500/50 text-white rounded-xl text-sm font-bold transition-all hover:scale-[1.02] active:scale-[0.98]",children:[e.jsx(Qs,{size:18}),"Export Data"]})]})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:o.map((g,j)=>e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-xl border border-slate-100 flex items-center gap-4 hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1",children:[e.jsx("div",{className:`p-4 rounded-xl ${g.bg} ${g.color} shadow-md`,children:e.jsx(g.icon,{size:24})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1",children:g.label}),e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsx("p",{className:"text-3xl font-black text-gray-900 leading-none",children:g.value}),e.jsxs("span",{className:`flex items-center text-[10px] font-bold ${g.trend==="up"?"text-emerald-600":"text-rose-600"}`,children:[g.trend==="up"?e.jsx(il,{size:12}):e.jsx(Yj,{size:12}),g.trend==="up"?"":""]})]})]})]},j))}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden mb-8",children:[e.jsx("div",{className:"p-6 border-b border-slate-100 bg-gray-50/30",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative group",children:[e.jsx(Ve,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"date",className:"pl-11 h-11 px-4 rounded-xl border-2 border-slate-200 text-sm focus:border-indigo-500 transition-all bg-white",value:s,onChange:g=>a(g.target.value)})]}),e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-indigo-50 border border-indigo-100 rounded-xl text-indigo-700 text-xs font-bold",children:[e.jsx(ua,{size:14}),"Efficiency Score: 8.4/10"]})]}),e.jsxs("div",{className:"relative w-full md:w-72",children:[e.jsx(tt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"text",placeholder:"Search performance...",className:"pl-11 h-11 w-full rounded-xl border-2 border-slate-200 focus:border-indigo-500 text-sm transition-all",value:l,onChange:g=>i(g.target.value)})]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Month/Period"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Total Revenue"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Total Expense"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Net Profit"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Margin %"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Status"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:h?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx(Sl,{className:"w-8 h-8 text-indigo-500 animate-spin"}),e.jsx("p",{className:"text-slate-500 font-medium",children:"Analyzing performance metrics..."})]})})}):x.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-12 text-center text-slate-400 font-medium italic",children:"No performance data found for the selected period"})}):x.filter(g=>g.month.toLowerCase().includes(l.toLowerCase())).map(g=>e.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 text-sm font-bold text-slate-900",children:g.month}),e.jsx("td",{className:"px-6 py-4 text-sm font-medium text-emerald-600",children:g.revenue}),e.jsx("td",{className:"px-6 py-4 text-sm font-medium text-rose-600",children:g.expense}),e.jsx("td",{className:"px-6 py-4 text-sm font-black text-slate-900",children:g.profit}),e.jsx("td",{className:"px-6 py-4 text-sm font-bold text-indigo-600",children:g.margin}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-widest ${g.status==="Excellent"?"bg-indigo-100 text-indigo-700":g.status==="Good"?"bg-emerald-100 text-emerald-700":"bg-amber-100 text-amber-700"}`,children:g.status})})]},g.id))})]})})]})]})},xP=async(t="",s="All")=>{try{return(await ye.get("/superadmin/gyms",{params:{search:t,status:s}})).data}catch(a){throw a}},uP=async t=>{try{return(await ye.post("/superadmin/gyms",t)).data}catch(s){throw s}},hP=async(t,s)=>{try{return(await ye.patch(`/superadmin/gyms/${t}`,s)).data}catch(a){throw a}},mP=async t=>{try{return(await ye.delete(`/superadmin/gyms/${t}`)).data}catch(s){throw s}},pP=()=>{qt();const[t,s]=v.useState(!1),[a,l]=v.useState(!1),[i,o]=v.useState(!1),[d,x]=v.useState(!1),[u,h]=v.useState(null),[p,f]=v.useState(""),[b,g]=v.useState([]),[j,A]=v.useState(!0),[w,k]=v.useState({name:"",branchName:"",owner:"",phone:"",email:"",location:"",status:"Active"});v.useEffect(()=>{C()},[]);const C=async()=>{try{A(!0);const T=await xP();g(T.gyms||[])}catch(T){console.error("Failed to load branches:",T),ft.error("Failed to load branches")}finally{A(!1)}},L=[{id:101,name:"Rahul V.",role:"Trainer",status:"Available"},{id:102,name:"Pooja K.",role:"Manager",status:"Assigned"},{id:103,name:"Vikram S.",role:"Trainer",status:"Available"},{id:104,name:"Anita D.",role:"Staff",status:"Available"}],N=T=>{h(T),o(!0)},P=T=>{h(T),k({name:T.gymName,branchName:T.branchName||"",owner:T.owner||"",phone:T.phone||"",email:"",location:T.location||"",status:T.status}),x(!0)},_=async T=>{if(window.confirm("Are you sure you want to delete this branch? This action cannot be undone."))try{await mP(T),ft.success("Branch deleted successfully"),C()}catch(q){console.error("Failed to delete branch:",q),ft.error("Failed to delete branch")}},F=T=>{const{name:q,value:H}=T.target;k(G=>({...G,[q]:H}))},R=async()=>{try{if(!w.branchName||!w.email){ft.error("Branch Name and Email are required");return}const T={gymName:w.branchName,branchName:w.branchName,owner:w.owner,phone:w.phone,location:w.location,email:w.email};await uP(T),ft.success("Branch created successfully"),s(!1),k({name:"",branchName:"",owner:"",phone:"",email:"",location:"",status:"Active"}),C()}catch(T){console.error("Failed to save branch:",T);const q=T.response?.data?.message||T.message||"Failed to create branch";ft.error(q)}},B=async()=>{try{const T={name:w.name,branchName:w.branchName,owner:w.owner,phone:w.phone,location:w.location,status:w.status};await hP(u.id,T),ft.success("Branch updated successfully"),x(!1),C()}catch(T){console.error("Failed to update branch:",T),ft.error("Failed to update branch")}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-6 md:p-8",children:[e.jsxs("div",{className:"mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(Lr,{size:28})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Branch Management"}),e.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Configure and manage your gym locations and staff assignments"})]})]}),e.jsxs("button",{onClick:()=>s(!0),className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-violet-600 to-purple-600 hover:shadow-xl hover:shadow-violet-500/50 text-white rounded-xl text-sm font-bold transition-all hover:scale-[1.02] active:scale-[0.98]",children:[e.jsx(wt,{size:18,strokeWidth:3}),"Add New Branch"]})]})})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 flex flex-col md:flex-row justify-between items-center gap-4",children:[e.jsxs("div",{className:"relative w-full md:w-80 group",children:[e.jsx(tt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 transition-colors",size:18}),e.jsx("input",{type:"text",placeholder:"Search by branch name or code...",className:"w-full pl-11 pr-4 py-2.5 bg-slate-50 border-2 border-slate-100 rounded-xl text-sm focus:outline-none focus:ring-4 focus:ring-violet-500/10 focus:border-violet-500 transition-all font-medium",value:p,onChange:T=>f(T.target.value)})]}),e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-slate-50 border border-slate-100 rounded-xl text-slate-500 text-xs font-bold",children:[e.jsx(ks,{size:14}),"Filtered by Active"]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{className:"bg-slate-50/50 border-b border-slate-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-slate-400 uppercase tracking-wider",children:"Branch Details"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-slate-400 uppercase tracking-wider text-center",children:"Branch Code"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-slate-400 uppercase tracking-wider",children:"Manager"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-slate-400 uppercase tracking-wider text-center",children:"Staff"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-slate-400 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-slate-400 uppercase tracking-wider text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:j?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"text-center py-8 text-slate-500",children:e.jsxs("div",{className:"flex justify-center items-center gap-2",children:[e.jsx(Q0,{className:"animate-spin",size:20})," Loading branches..."]})})}):b.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"text-center py-8 text-slate-500",children:"No branches found."})}):b.map(T=>e.jsxs("tr",{className:"hover:bg-slate-50/30 transition-colors group",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-violet-50 text-violet-600 flex items-center justify-center shadow-inner group-hover:scale-110 transition-transform",children:e.jsx($s,{size:20})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-bold text-slate-800",children:T.gymName||T.branchName}),e.jsx("div",{className:"text-[10px] text-slate-400 font-medium truncate max-w-[150px]",children:T.location||"No address"})]})]})}),e.jsx("td",{className:"px-6 py-4 text-center",children:e.jsxs("span",{className:"px-2 py-1 bg-slate-100 rounded text-[10px] font-black text-slate-500 tracking-wider font-mono uppercase",children:["BR-",T.id.toString().padStart(3,"0")]})}),e.jsx("td",{className:"px-6 py-4 text-sm font-medium text-slate-600 italic",children:T.owner||"N/A"}),e.jsx("td",{className:"px-6 py-4 text-center",children:e.jsxs("div",{className:"inline-flex items-center gap-1.5 px-2 py-1 bg-blue-50 text-blue-600 rounded-lg text-xs font-black",children:[e.jsx(_t,{size:12}),T.members||0]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:`inline-flex items-center gap-1 text-[10px] font-black uppercase tracking-widest px-2 py-1 rounded-full border ${T.status==="Active"?"text-emerald-600 bg-emerald-50 border-emerald-100":"text-slate-500 bg-slate-100 border-slate-200"}`,children:[e.jsx("div",{className:`h-1 w-1 rounded-full ${T.status==="Active"?"bg-emerald-500 animate-pulse":"bg-slate-400"}`}),T.status]})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-3",children:[e.jsx("button",{onClick:()=>N(T),className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all cursor-pointer",title:"View Details",children:e.jsx(qs,{size:16})}),e.jsx("button",{onClick:()=>P(T),className:"p-2 text-slate-400 hover:text-emerald-600 hover:bg-emerald-50 rounded-lg transition-all cursor-pointer",title:"Edit Branch",children:e.jsx(Pa,{size:16})}),e.jsx("button",{onClick:()=>_(T.id),className:"p-2 text-slate-400 hover:text-rose-600 hover:bg-rose-50 rounded-lg transition-all cursor-pointer",title:"Delete Branch",children:e.jsx(ms,{size:16})})]})})]},T.id))})]})})]}),e.jsx(rt,{isOpen:t,onClose:()=>s(!1),title:"Add New Branch",subtitle:"Fill in the details to create a new location",footer:e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsx("button",{onClick:()=>s(!1),className:"px-6 py-2.5 bg-slate-100 text-slate-600 rounded-xl text-sm font-bold hover:bg-slate-200 transition-all active:scale-95",children:"Cancel"}),e.jsx("button",{onClick:R,className:"px-8 py-2.5 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-xl text-sm font-bold shadow-lg shadow-violet-500/30 hover:shadow-violet-500/50 transition-all hover:scale-105 active:scale-95",children:"Save Branch"})]}),children:e.jsxs("div",{className:"flex flex-col gap-6 p-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Branch Name"}),e.jsx("input",{name:"branchName",value:w.branchName,onChange:F,type:"text",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-100 rounded-xl text-sm focus:border-violet-500 transition-all font-medium",placeholder:"E.g. Southside Studio"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Manager Name"}),e.jsx("input",{name:"owner",value:w.owner,onChange:F,type:"text",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-100 rounded-xl text-sm focus:border-violet-500 transition-all font-medium",placeholder:"John Doe"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Status"}),e.jsxs("select",{name:"status",value:w.status,onChange:F,className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-100 rounded-xl text-sm focus:border-violet-500 transition-all font-medium",children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Suspended",children:"Suspended"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Contact Phone"}),e.jsxs("div",{className:"relative",children:[e.jsx(Hs,{className:"absolute left-4 top-3.5 text-slate-300",size:18}),e.jsx("input",{name:"phone",value:w.phone,onChange:F,type:"tel",className:"w-full pl-11 pr-4 py-3 bg-slate-50 border-2 border-slate-100 rounded-xl text-sm focus:border-violet-500 transition-all font-medium",placeholder:"+91 00000 00000"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(Wr,{className:"absolute left-4 top-3.5 text-slate-300",size:18}),e.jsx("input",{name:"email",value:w.email,onChange:F,type:"email",className:"w-full pl-11 pr-4 py-3 bg-slate-50 border-2 border-slate-100 rounded-xl text-sm focus:border-violet-500 transition-all font-medium",placeholder:"branch@gym.com"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Address"}),e.jsx("textarea",{name:"location",value:w.location,onChange:F,rows:"3",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-100 rounded-xl text-sm focus:border-violet-500 transition-all font-medium resize-none",placeholder:"Full branch address..."})]})]})}),e.jsx(rt,{isOpen:i,onClose:()=>o(!1),title:"Branch Details",subtitle:u?.name,footer:e.jsx("button",{onClick:()=>o(!1),className:"w-full py-3 bg-slate-100 text-slate-600 rounded-xl text-sm font-bold hover:bg-slate-200 transition-all",children:"Close View"}),children:u&&e.jsxs("div",{className:"flex flex-col gap-8 p-6",children:[e.jsxs("div",{className:"bg-violet-50 rounded-2xl p-6 border border-violet-100 flex flex-col items-center text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-white rounded-2xl shadow-xl flex items-center justify-center text-violet-600 mb-4",children:e.jsx(Lr,{size:32})}),e.jsx("h3",{className:"text-xl font-bold text-slate-800",children:u.gymName||u.branchName}),e.jsxs("span",{className:"px-2 py-0.5 bg-violet-600 text-white rounded text-[10px] font-black uppercase tracking-widest mt-2",children:["BR-",u.id.toString().padStart(3,"0")]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest pl-1",children:"Branch Overview"}),e.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[e.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-100 flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-slate-500",children:"Manager"}),e.jsx("span",{className:"text-sm font-bold text-slate-800",children:u.owner})]}),e.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-100 flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-slate-500",children:"Total Staff"}),e.jsxs("span",{className:"text-sm font-bold text-slate-800",children:[u.members||0," Members"]})]}),e.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-100 flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-slate-500",children:"Status"}),e.jsx("span",{className:"text-xs font-bold text-emerald-600 bg-emerald-50 px-2.5 py-1 rounded-lg uppercase tracking-wider",children:u.status})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest pl-1",children:"Location Details"}),e.jsx("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-100 space-y-4",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx($s,{size:18,className:"text-slate-300 mt-1"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-tighter",children:"Address"}),e.jsx("p",{className:"text-sm font-bold text-slate-700",children:u.location})]})]})})]})]})}),e.jsx(rt,{isOpen:d,onClose:()=>x(!1),title:"Edit Branch",subtitle:"Update location details",footer:e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsx("button",{onClick:()=>x(!1),className:"px-6 py-2.5 bg-slate-100 text-slate-600 rounded-xl text-sm font-bold hover:bg-slate-200 transition-all",children:"Cancel"}),e.jsx("button",{onClick:B,className:"px-8 py-2.5 bg-slate-900 text-white rounded-xl text-sm font-bold shadow-lg hover:shadow-slate-200 transition-all hover:scale-105 active:scale-95",children:"Update Changes"})]}),children:u&&e.jsxs("div",{className:"flex flex-col gap-6 p-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest pl-1",children:"Branch Name"}),e.jsx("input",{name:"name",type:"text",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-100 rounded-xl text-sm font-bold focus:border-violet-500 outline-none transition-all shadow-sm",value:w.name,onChange:F})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest pl-1",children:"Manager"}),e.jsx("input",{name:"owner",type:"text",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-100 rounded-xl text-sm font-bold focus:border-violet-500 outline-none transition-all shadow-sm",value:w.owner,onChange:F})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest pl-1",children:"Status"}),e.jsxs("select",{name:"status",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-100 rounded-xl text-sm font-bold focus:border-violet-500 outline-none transition-all shadow-sm",value:w.status,onChange:F,children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Suspended",children:"Suspended"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest pl-1",children:"Address"}),e.jsx("textarea",{name:"location",rows:"3",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-100 rounded-xl text-sm font-bold focus:border-violet-500 outline-none transition-all shadow-sm resize-none",value:w.location,onChange:F})]})]})}),e.jsx(rt,{isOpen:a,onClose:()=>l(!1),title:"Assign Staff",subtitle:u?`Relocating staff to ${u.name}`:"Manage branch staff",maxWidth:"max-w-2xl",footer:e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsx("button",{onClick:()=>l(!1),className:"px-6 py-2.5 border border-slate-200 text-slate-600 rounded-xl text-sm font-bold hover:bg-slate-50 transition-all",children:"Cancel"}),e.jsx("button",{className:"px-10 py-2.5 bg-slate-900 text-white rounded-xl text-sm font-bold shadow-lg hover:shadow-slate-200 transition-all transform hover:scale-105 active:scale-95",children:"Update Assignment"})]}),children:e.jsxs("div",{className:"flex flex-col gap-8 p-6",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"relative flex-1 group",children:[e.jsx(tt,{className:"absolute left-4 top-3 text-slate-300 group-focus-within:text-violet-500",size:18}),e.jsx("input",{type:"text",className:"w-full pl-11 pr-4 py-2.5 bg-slate-50 rounded-xl text-sm border-2 border-slate-100 focus:border-violet-500 outline-none transition-all",placeholder:"Search staff by name or role..."})]}),e.jsx("button",{className:"p-2.5 border-2 border-slate-100 rounded-xl text-slate-400 hover:text-violet-600 hover:bg-violet-50 transition-colors",children:e.jsx(ks,{size:20})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[e.jsx(_t,{size:14,className:"text-blue-500"})," Available Staff"]}),e.jsx("span",{className:"text-[10px] font-bold text-slate-300",children:"Total: 3"})]}),e.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto pr-2 custom-scrollbar",children:L.map(T=>e.jsxs("div",{className:"p-3 bg-slate-50 border border-slate-100 rounded-xl flex items-center justify-between group hover:border-violet-200 transition-all",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-bold text-slate-700",children:T.name}),e.jsx("div",{className:"text-[10px] text-slate-400 font-medium",children:T.role})]}),e.jsx("button",{className:"p-1.5 bg-white border border-slate-200 text-slate-300 rounded-lg hover:text-emerald-500 hover:border-emerald-500 transition-all",children:e.jsx(wt,{size:14})})]},T.id))})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[e.jsx(kl,{size:14,className:"text-emerald-500"})," Assigned Staff"]}),e.jsx("span",{className:"text-[10px] font-bold text-slate-300",children:"Total: 2"})]}),e.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto pr-2 custom-scrollbar",children:e.jsxs("div",{className:"p-3 bg-emerald-50/30 border border-emerald-100 rounded-xl flex items-center justify-between group",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-bold text-emerald-800",children:"Amit Singh"}),e.jsx("div",{className:"text-[10px] text-emerald-600 font-medium",children:"Head Manager"})]}),e.jsx("button",{className:"p-1.5 bg-white border border-emerald-100 text-rose-400 rounded-lg hover:bg-rose-50 transition-all opacity-0 group-hover:opacity-100",children:e.jsx(Vr,{size:14})})]})})]})]})]})})]})},fP=()=>{const[t,s]=v.useState(!1),[a,l]=v.useState(!0),[i,o]=v.useState(null),[d,x]=v.useState({paymentWebhook:"",whatsappWebhook:"",attendanceWebhook:"",secret:"whsec_5f8a9b2c3d4e5f6g7h8i9j0k"});v.useEffect(()=>{(async()=>{try{const f=await Eg();f.webhooks&&x(b=>({...b,...f.webhooks}))}catch(f){console.error("Failed to load webhook settings:",f)}finally{l(!1)}})()},[]);const u=(p,f)=>{p&&(navigator.clipboard.writeText(p),o(f),setTimeout(()=>o(null),2e3))},h=async()=>{s(!0);try{await Tg({webhooks:d}),alert("Webhook configurations saved successfully!")}catch(p){console.error("Failed to save webhooks:",p),alert("Failed to save webhooks: "+p.message)}finally{s(!1)}};return e.jsx("div",{className:"min-h-screen bg-slate-50/50 p-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-indigo-600 flex items-center justify-center text-white shadow-lg",children:e.jsx(Jx,{size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Webhook Configurations"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Configure real-time triggers for payments and communication"})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between bg-slate-50/50",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(wl,{size:18,className:"text-indigo-600"}),e.jsx("h2",{className:"font-bold text-gray-800",children:"Endpoint Settings"})]}),e.jsx("div",{className:"px-3 py-1 bg-emerald-100 text-emerald-700 rounded-full text-[10px] font-black uppercase tracking-wider",children:"Real-time Sync Active"})]}),e.jsxs("div",{className:"p-8 space-y-8",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("label",{className:"text-sm font-bold text-gray-700 uppercase tracking-tight",children:"Payment Status Webhook"}),e.jsx("span",{className:"text-[10px] font-bold text-indigo-600 bg-indigo-50 px-2 py-0.5 rounded",children:"Trigger: razorpay.payment.captured"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:d.paymentWebhook,onChange:p=>x({...d,paymentWebhook:p.target.value}),placeholder:"https://your-domain.com/webhook",className:"flex-1 px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm font-mono focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 outline-none transition-all"}),e.jsx("button",{onClick:()=>u(d.paymentWebhook,"payment"),className:"px-4 py-3 bg-white border border-slate-200 rounded-xl hover:bg-slate-50 transition-all text-slate-500",children:i==="payment"?e.jsx(Qt,{size:18,className:"text-emerald-500"}):e.jsx(Pf,{size:18})})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("label",{className:"text-sm font-bold text-gray-700 uppercase tracking-tight",children:"WhatsApp Trigger Webhook"}),e.jsx("span",{className:"text-[10px] font-bold text-emerald-600 bg-emerald-50 px-2 py-0.5 rounded",children:"Trigger: message.received"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:d.whatsappWebhook,onChange:p=>x({...d,whatsappWebhook:p.target.value}),placeholder:"https://your-domain.com/whatsapp-hook",className:"flex-1 px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm font-mono focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 outline-none transition-all"}),e.jsx("button",{onClick:()=>u(d.whatsappWebhook,"whatsapp"),className:"px-4 py-3 bg-white border border-slate-200 rounded-xl hover:bg-slate-50 transition-all text-slate-500",children:i==="whatsapp"?e.jsx(Qt,{size:18,className:"text-emerald-500"}):e.jsx(Pf,{size:18})})]})]}),e.jsxs("div",{className:"p-4 bg-amber-50 rounded-xl border border-amber-100 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-white flex items-center justify-center text-amber-500 shadow-sm",children:e.jsx(dw,{size:16})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-amber-800 uppercase tracking-widest",children:"Webhook Signing Secret"}),e.jsx("p",{className:"text-sm font-mono font-bold text-amber-900 mt-0.5 mt-1",children:"whsec_***********************"})]})]}),e.jsx("button",{className:"text-xs font-bold text-amber-700 hover:underline",children:"Regenerate"})]})]}),e.jsx("div",{className:"p-6 bg-slate-50 border-t border-slate-100 flex justify-end",children:e.jsxs("button",{onClick:h,disabled:t,className:"flex items-center gap-2 px-8 py-3 bg-indigo-600 text-white rounded-xl font-bold shadow-lg shadow-indigo-100 hover:bg-indigo-700 transition-all active:scale-95",children:[e.jsx(na,{size:18}),t?"Saving...":"Save Endpoints"]})})]})]})})},gP=()=>{const[t,s]=v.useState(!1),[a,l]=v.useState(!0),[i,o]=v.useState({}),[d,x]=v.useState({sms:"",whatsapp:"",razorpay_id:"",razorpay_secret:""});v.useEffect(()=>{(async()=>{try{const b=await Eg();b.apiKeys&&x(g=>({...g,...b.apiKeys}))}catch(b){console.error("Failed to load API keys:",b)}finally{l(!1)}})()},[]);const u=f=>{o(b=>({...b,[f]:!b[f]}))},h=async()=>{s(!0);try{await Tg({apiKeys:d}),alert("API credentials updated successfully!")}catch(f){console.error("Failed to save API keys:",f),alert("Failed to save keys: "+f.message)}finally{s(!1)}},p=({label:f,icon:b,value:g,id:j,placeholder:A,onChange:w})=>e.jsxs("div",{className:"space-y-3 p-6 bg-white rounded-2xl border border-slate-100 shadow-sm hover:shadow-md transition-all",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(b,{size:18,className:"text-indigo-600"}),e.jsx("label",{className:"text-sm font-bold text-gray-700 uppercase tracking-tight",children:f})]}),e.jsx("button",{type:"button",onClick:()=>u(j),className:"text-slate-400 hover:text-indigo-600 transition-colors",children:i[j]?e.jsx(Dh,{size:18}):e.jsx(qs,{size:18})})]}),e.jsx("input",{type:i[j]?"text":"password",value:g||"",onChange:k=>w(k.target.value),placeholder:A,className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm font-mono focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 outline-none transition-all"})]});return e.jsx("div",{className:"min-h-screen bg-slate-50/50 p-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-indigo-600 flex items-center justify-center text-white shadow-lg",children:e.jsx(rw,{size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"API Key Management"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Securely manage your 3rd party gateway credentials"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(p,{id:"sms",label:"SMS Gateway (Twilio/BulkSMS)",icon:Jl,value:d.sms,onChange:f=>x({...d,sms:f}),placeholder:"Enter API Key or Secret"}),e.jsx(p,{id:"whatsapp",label:"WhatsApp Business API",icon:sr,value:d.whatsapp,onChange:f=>x({...d,whatsapp:f}),placeholder:"System User Access Token"}),e.jsx(p,{id:"razorpay_id",label:"Razorpay Key ID",icon:Ps,value:d.razorpay_id,onChange:f=>x({...d,razorpay_id:f}),placeholder:"Key ID"}),e.jsx(p,{id:"razorpay_secret",label:"Razorpay Secret",icon:Xn,value:d.razorpay_secret,onChange:f=>x({...d,razorpay_secret:f}),placeholder:"Key Secret"})]}),e.jsxs("div",{className:"bg-indigo-50 p-6 rounded-2xl border border-indigo-100 flex items-start gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-white flex items-center justify-center text-indigo-600 shadow-sm shrink-0",children:e.jsx(Xn,{size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-bold text-indigo-900",children:"Security Note"}),e.jsx("p",{className:"text-xs text-indigo-700/70 mt-1",children:"Keys are encrypted at rest with AES-256. Never share your API keys or secrets in public repositories."})]})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsxs("button",{onClick:h,disabled:t,className:"flex items-center gap-2 px-10 py-4 bg-indigo-600 text-white rounded-xl font-bold shadow-lg shadow-indigo-100 hover:bg-indigo-700 transition-all active:scale-95",children:[e.jsx(na,{size:18}),t?"Securing...":"Propagate API Keys"]})})]})})},bP=()=>{const[t,s]=v.useState(!1),[a,l]=v.useState(!0),[i,o]=v.useState([]),[d,x]=v.useState(null),[u,h]=v.useState({});v.useEffect(()=>{(async()=>{try{const C=await Eg();C.messageTemplates?o(C.messageTemplates):o([{id:1,name:"Membership Renewal Reminder",type:"WhatsApp",text:"Hi {{member_name}}, your membership {{plan_name}} expires in {{days}} days. Renew now at {{link}}"},{id:2,name:"Payment Success",type:"Email",text:"Hello {{name}}, we have received your payment of {{amount}} for {{month}}."},{id:3,name:"Class Cancellation",type:"SMS",text:"Alert: The {{class_name}} on {{date}} has been cancelled. Credits refunded."}])}catch(C){console.error("Failed to load templates:",C)}finally{l(!1)}})()},[]);const p=async()=>{s(!0);try{await Tg({messageTemplates:i}),alert("Templates saved successfully!")}catch(k){console.error("Failed to save templates:",k),alert("Failed to save: "+k.message)}finally{s(!1)}},f=k=>{x(k.id),h({...k})},b=()=>{x(null),h({})},g=()=>{o(k=>k.map(C=>C.id===d?u:C)),x(null),h({})},j=k=>{window.confirm("Are you sure you want to delete this template?")&&o(C=>C.filter(L=>L.id!==k))},A=()=>{const C={id:i.length>0?Math.max(...i.map(L=>L.id))+1:1,name:"New Template",type:"SMS",text:"Enter template text here..."};o([...i,C]),f(C)},w=k=>{switch(k){case"Email":return e.jsx(Wr,{size:16});case"WhatsApp":return e.jsx(sr,{size:16,className:"text-emerald-500"});case"SMS":return e.jsx(Bo,{size:16,className:"text-blue-500"});default:return e.jsx(Rf,{size:16})}};return e.jsx("div",{className:"min-h-screen bg-slate-50/50 p-6",children:e.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-8",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-indigo-600 flex items-center justify-center text-white shadow-lg",children:e.jsx(Rf,{size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Communication Templates"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Manage automated message content for all channels"})]})]}),e.jsxs("button",{onClick:A,className:"flex items-center gap-2 px-6 py-3 bg-white border border-slate-200 rounded-xl font-bold text-gray-700 hover:bg-slate-50 transition-all shadow-sm",children:[e.jsx(wt,{size:18}),"Create Template"]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:i.map(k=>e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-6 shadow-sm hover:shadow-md transition-all group",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-slate-100 rounded-lg",children:w(d===k.id?u.type:k.type)}),d===k.id?e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:u.name,onChange:C=>h({...u,name:C.target.value}),className:"px-2 py-1 bg-slate-50 border border-slate-200 rounded text-sm font-bold outline-none focus:border-indigo-500"}),e.jsxs("select",{value:u.type,onChange:C=>h({...u,type:C.target.value}),className:"px-2 py-1 bg-slate-50 border border-slate-200 rounded text-[10px] font-black outline-none",children:[e.jsx("option",{children:"WhatsApp"}),e.jsx("option",{children:"SMS"}),e.jsx("option",{children:"Email"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"font-bold text-gray-800",children:k.name}),e.jsx("span",{className:"px-2 py-0.5 bg-slate-100 text-slate-600 rounded text-[10px] font-black uppercase tracking-tighter",children:k.type})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:d===k.id?e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:g,className:"p-2 bg-emerald-50 text-emerald-600 rounded-lg hover:bg-emerald-100 transition-all",children:e.jsx(xr,{size:16})}),e.jsx("button",{onClick:b,className:"p-2 bg-rose-50 text-rose-600 rounded-lg hover:bg-rose-100 transition-all",children:e.jsx(Vr,{size:16})})]}):e.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:()=>f(k),className:"p-2 hover:bg-slate-100 rounded-lg text-slate-400 hover:text-indigo-600",children:e.jsx(Pa,{size:16})}),e.jsx("button",{onClick:()=>j(k.id),className:"p-2 hover:bg-red-50 rounded-lg text-slate-400 hover:text-red-600",children:e.jsx(ms,{size:16})})]})})]}),d===k.id?e.jsx("textarea",{value:u.text,onChange:C=>h({...u,text:C.target.value}),className:"w-full p-4 bg-slate-50 rounded-xl border border-slate-200 font-mono text-xs text-slate-600 leading-relaxed mb-4 min-h-[100px] outline-none focus:border-indigo-500"}):e.jsx("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-100 font-mono text-xs text-slate-600 leading-relaxed mb-4",children:k.text}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Available Placeholders:"}),e.jsx("div",{className:"flex gap-1.5 flex-wrap",children:["member_name","plan_name","amount","date","days","link"].map(C=>e.jsx("code",{className:"text-[10px] bg-indigo-50 text-indigo-600 px-1.5 py-0.5 rounded font-bold",children:`{{${C}}}`},C))})]})]},k.id))}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsxs("button",{onClick:p,disabled:t,className:"flex items-center gap-2 px-8 py-3 bg-indigo-600 text-white rounded-xl font-bold shadow-lg shadow-indigo-100 hover:bg-indigo-700 transition-all active:scale-95",children:[e.jsx(na,{size:18}),t?"Saving...":"Save All Templates"]})})]})})};function vP(){const{role:t,loading:s}=Wo();return s?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."}):e.jsxs(e.Fragment,{children:[e.jsx(B3,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#fff",color:"#363636",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)",borderRadius:"12px"}}}),e.jsxs(v6,{children:[e.jsx(De,{path:"/login",element:e.jsx(YA,{})}),e.jsxs(De,{element:t?e.jsx(ZA,{role:t}):e.jsx(Qr,{to:"/login",replace:!0}),children:[e.jsx(De,{path:"/",element:e.jsx(Qr,{to:"/login",replace:!0})}),e.jsx(De,{path:"/dashboard",element:e.jsx(K7,{role:t})}),e.jsx(De,{path:"/trainer/members/assigned",element:e.jsx(CL,{})}),e.jsx(De,{path:"/trainer/profile/me",element:e.jsx(AL,{})}),e.jsx(De,{path:"/trainer/earnings",element:e.jsx(DL,{})}),e.jsx(De,{path:"/trainer/attendance",element:e.jsx(ML,{})}),e.jsx(De,{path:"/trainer/announcements",element:e.jsx(LL,{})}),e.jsx(De,{path:"/trainer/availability",element:e.jsx(zL,{})}),e.jsx(De,{path:"/trainer/sessions/calendar",element:e.jsx(EL,{})}),e.jsx(De,{path:"/trainer/sessions/upcoming",element:e.jsx(TL,{})}),(t===ct.SUPER_ADMIN||t===ct.MANAGER||t===ct.BRANCH_ADMIN||t===ct.STAFF)&&e.jsxs(e.Fragment,{children:[e.jsx(De,{path:"/memberships",element:e.jsx(Q7,{})}),e.jsx(De,{path:"/memberships/new",element:e.jsx(H1,{})}),e.jsx(De,{path:"/memberships/benefits",element:e.jsx(s9,{})}),e.jsx(De,{path:"/memberships/benefits-config",element:e.jsx(a9,{})}),e.jsx(De,{path:"/memberships/plans",element:e.jsx(i9,{})}),e.jsx(De,{path:"/memberships/requests",element:e.jsx(l9,{})}),e.jsx(De,{path:"/memberships/:id",element:e.jsx(t9,{})}),e.jsx(De,{path:"/memberships/:id/edit",element:e.jsx(H1,{})}),e.jsx(De,{path:"/members/renewal-alerts",element:e.jsx(T9,{})})]}),(t===ct.SUPER_ADMIN||t===ct.MANAGER||t===ct.BRANCH_ADMIN||t===ct.TRAINER)&&e.jsxs(e.Fragment,{children:[e.jsx(De,{path:"/classes",element:e.jsx(oD,{})}),e.jsx(De,{path:"/classes/new",element:e.jsx(W1,{})}),e.jsx(De,{path:"/classes/:id",element:e.jsx(cD,{})}),e.jsx(De,{path:"/classes/:id/edit",element:e.jsx(W1,{})}),e.jsx(De,{path:"/classes/:id/assign-trainer",element:e.jsx(xD,{})}),e.jsx(De,{path:"/classes/:id/enroll",element:e.jsx(uD,{})})]}),e.jsx(De,{path:"/diet-plans",element:e.jsx(Gp,{role:t})}),e.jsx(De,{path:"/diet-plans/create",element:e.jsx(Gp,{role:t})}),e.jsx(De,{path:"/diet-plans/*",element:e.jsx(Gp,{role:t})}),e.jsx(De,{path:"/workout-plans/*",element:e.jsx(_M,{role:t})}),e.jsx(De,{path:"/progress/*",element:e.jsx(OM,{})}),(t===ct.SUPER_ADMIN||t===ct.MANAGER||t===ct.BRANCH_ADMIN||t===ct.STAFF||t===ct.TRAINER)&&e.jsxs(De,{path:"/crm",element:e.jsx(_L,{}),children:[e.jsx(De,{path:"inquiry",element:t!==ct.TRAINER?e.jsx(OL,{}):e.jsx(Qr,{to:"/crm/my-leads",replace:!0})}),e.jsx(De,{path:"pipeline",element:t!==ct.TRAINER?e.jsx(vy,{}):e.jsx(Qr,{to:"/crm/my-leads",replace:!0})}),e.jsx(De,{path:"followups",element:t!==ct.TRAINER?e.jsx(Sg,{}):e.jsx(Qr,{to:"/crm/my-leads",replace:!0})}),e.jsx(De,{path:"my-leads",element:e.jsx(vy,{})})]}),(t===ct.MANAGER||t===ct.BRANCH_ADMIN)&&e.jsxs(De,{path:"/settings",element:e.jsx(B2,{role:t}),children:[e.jsx(De,{index:!0,element:e.jsx(M_,{role:t})}),e.jsx(De,{path:"branches",element:e.jsx(L_,{})}),e.jsx(De,{path:"roles",element:e.jsx(z_,{})}),e.jsx(De,{path:"billing",element:e.jsx(E_,{})}),e.jsx(De,{path:"integrations",element:e.jsx(T_,{})}),e.jsx(De,{path:"notifications",element:e.jsx(U2,{})}),e.jsx(De,{path:"payment-gateway",element:e.jsx($2,{})}),e.jsx(De,{path:"security",element:e.jsx(__,{role:t})}),e.jsx(De,{path:"logs",element:e.jsx(R_,{})}),e.jsx(De,{path:"webhooks",element:e.jsx(fP,{})}),e.jsx(De,{path:"api-keys",element:e.jsx(gP,{})}),e.jsx(De,{path:"templates",element:e.jsx(bP,{})}),e.jsx(De,{path:"amenities",element:e.jsx(O_,{})})]}),e.jsxs(De,{path:"/operations",element:e.jsx(hD,{}),children:[e.jsx(De,{index:!0,element:t!==ct.MEMBER?e.jsx(mD,{}):e.jsx(Qr,{to:"/dashboard",replace:!0})}),e.jsx(De,{path:"equipment",element:t!==ct.MEMBER?e.jsx(fD,{}):e.jsx(Qr,{to:"/dashboard",replace:!0})}),e.jsx(De,{path:"lockers",element:t!==ct.MEMBER?e.jsx(py,{}):e.jsx(Qr,{to:"/dashboard",replace:!0})}),e.jsx(De,{path:"inventory",element:t!==ct.MEMBER?e.jsx(gD,{}):e.jsx(Qr,{to:"/dashboard",replace:!0})}),e.jsx(De,{path:"announcements",element:t!==ct.MEMBER?e.jsx(yD,{}):e.jsx(Qr,{to:"/dashboard",replace:!0})}),e.jsx(De,{path:"rewards",element:t!==ct.MEMBER?e.jsx(wD,{}):e.jsx(Qr,{to:"/dashboard",replace:!0})}),e.jsx(De,{path:"feedback",element:e.jsx(V1,{role:t})}),e.jsx(De,{path:"whatsapp",element:t!==ct.MEMBER?e.jsx(ND,{}):e.jsx(Qr,{to:"/dashboard",replace:!0})}),e.jsx(De,{path:"devices",element:t!==ct.MEMBER?e.jsx(kD,{}):e.jsx(Qr,{to:"/dashboard",replace:!0})}),e.jsx(De,{path:"live-monitor",element:t!==ct.MEMBER?e.jsx(hy,{}):e.jsx(Qr,{to:"/dashboard",replace:!0})})]}),(t===ct.SUPER_ADMIN||t===ct.MANAGER||t===ct.BRANCH_ADMIN||t===ct.STAFF)&&e.jsxs(e.Fragment,{children:[e.jsx(De,{path:"/facility/equipment",element:e.jsx(Q_,{})}),e.jsx(De,{path:"/facility/maintenance",element:e.jsx(Z_,{})}),e.jsx(De,{path:"/facility/history",element:e.jsx(eP,{})})]}),t!==ct.MEMBER&&t!==ct.TRAINER&&e.jsxs(e.Fragment,{children:[e.jsx(De,{path:"/finance/dashboard",element:e.jsx(F_,{})}),e.jsx(De,{path:"/finance/pos",element:e.jsx(I_,{})}),e.jsx(De,{path:"/finance/invoices",element:e.jsx(H_,{})}),e.jsx(De,{path:"/finance/expenses",element:e.jsx(G_,{})}),e.jsx(De,{path:"/finance/commissions",element:e.jsx(V_,{})}),e.jsx(De,{path:"/finance/cashier",element:e.jsx(H2,{})}),e.jsx(De,{path:"/finance/transactions",element:e.jsx(W2,{})}),e.jsx(De,{path:"/finance/petty-cash",element:e.jsx(Y_,{})}),e.jsx(De,{path:"/staff/payments/collect",element:e.jsx(H2,{})}),e.jsx(De,{path:"/staff/payments/history",element:e.jsx(W2,{})})]}),e.jsx(De,{path:"/hr/payroll",element:e.jsx(tP,{})}),e.jsx(De,{path:"/hr/leave-requests",element:e.jsx(lP,{})}),e.jsx(De,{path:"/hr/staff/management",element:e.jsx(yL,{role:t,branchId:1})}),e.jsx(De,{path:"/hr/staff/create",element:e.jsx(V2,{})}),e.jsx(De,{path:"/hr/staff/edit/:id",element:e.jsx(V2,{})}),(t===ct.SUPER_ADMIN||t===ct.MANAGER||t===ct.BRANCH_ADMIN)&&e.jsxs(e.Fragment,{children:[e.jsx(De,{path:"/superadmin/wallet",element:e.jsx(J1,{role:t})}),e.jsx(De,{path:"/superadmin/trainer-requests",element:e.jsx(Hp,{role:t})}),e.jsx(De,{path:"/superadmin/trainer-change-requests",element:e.jsx(Z1,{role:t})}),e.jsx(De,{path:"/superadmin/payroll/create",element:e.jsx(ey,{role:t})}),e.jsx(De,{path:"/superadmin/payroll/history",element:e.jsx(ty,{role:t})}),e.jsx(De,{path:"/superadmin/payroll/history/:employeeId",element:e.jsx(ty,{role:t})})]}),t===ct.SUPER_ADMIN&&e.jsxs(e.Fragment,{children:[e.jsx(De,{path:"/superadmin/plans/list",element:e.jsx(CD,{})}),e.jsx(De,{path:"/superadmin/plans",element:e.jsx(Qr,{to:"/superadmin/plans/list",replace:!0})}),e.jsx(De,{path:"/superadmin/plans/create",element:e.jsx(AD,{})}),e.jsx(De,{path:"/superadmin/plans/features",element:e.jsx(DD,{})}),e.jsx(De,{path:"/superadmin/gyms/all",element:e.jsx(zD,{})}),e.jsx(De,{path:"/superadmin/gyms",element:e.jsx(Qr,{to:"/superadmin/gyms/all",replace:!0})}),e.jsx(De,{path:"/superadmin/gyms/suspended",element:e.jsx(ED,{})}),e.jsx(De,{path:"/superadmin/subscriptions/active",element:e.jsx(TD,{})}),e.jsx(De,{path:"/superadmin/subscriptions/expired",element:e.jsx(_D,{})}),e.jsx(De,{path:"/superadmin/audit-logs/activity",element:e.jsx(PD,{})}),e.jsx(De,{path:"/superadmin/audit-logs/webhooks",element:e.jsx(OD,{})}),e.jsx(De,{path:"/superadmin/general-settings/general",element:e.jsx(Y1,{})}),e.jsx(De,{path:"/superadmin/general-settings/invoice",element:e.jsx(X1,{})}),e.jsx(De,{path:"/superadmin/general-settings/hardware",element:e.jsx(K1,{})}),e.jsx(De,{path:"/superadmin/general-settings/booking",element:e.jsx($D,{})}),e.jsx(De,{path:"/superadmin/profile/me",element:e.jsx(qD,{})}),e.jsx(De,{path:"/superadmin/store/dashboard",element:e.jsx(ZD,{})}),e.jsx(De,{path:"/superadmin/store/products",element:e.jsx(tM,{})}),e.jsx(De,{path:"/superadmin/store/orders",element:e.jsx(aM,{})}),e.jsx(De,{path:"/superadmin/store/inventory",element:e.jsx(sy,{})})]}),t===ct.BRANCH_ADMIN&&e.jsxs(e.Fragment,{children:[e.jsx(De,{path:"/branchadmin/promos",element:e.jsx(X_,{})}),e.jsx(De,{path:"/branchadmin/store/inventory",element:e.jsx(sy,{})}),e.jsx(De,{path:"/branchadmin/members/list",element:e.jsx(Vp,{})}),e.jsx(De,{path:"/branchadmin/bookings/calendar",element:e.jsx(ny,{})}),e.jsx(De,{path:"/branchadmin/tasks/list",element:e.jsx(Yp,{})}),e.jsx(De,{path:"/branchadmin/tasks/assign",element:e.jsx(oy,{})}),e.jsx(De,{path:"/branchadmin/reports/daily-attendance",element:e.jsx(cy,{})}),e.jsx(De,{path:"/branchadmin/reports/booking",element:e.jsx(xy,{})}),e.jsx(De,{path:"/branchadmin/reports/revenue",element:e.jsx(nP,{})}),e.jsx(De,{path:"/branchadmin/reports/membership",element:e.jsx(iP,{})}),e.jsx(De,{path:"/branchadmin/reports/lead-conversion",element:e.jsx(oP,{})}),e.jsx(De,{path:"/branchadmin/reports/expenses",element:e.jsx(cP,{})}),e.jsx(De,{path:"/branchadmin/reports/performance",element:e.jsx(dP,{})}),e.jsx(De,{path:"/branchadmin/branch-management/branches",element:e.jsx(pP,{})}),e.jsx(De,{path:"/branchadmin/trainer-requests",element:e.jsx(Hp,{role:t})}),e.jsxs(De,{element:e.jsx(B2,{role:t}),children:[e.jsx(De,{path:"/branchadmin/settings/general",element:e.jsx(Y1,{})}),e.jsx(De,{path:"/branchadmin/settings/hardware",element:e.jsx(K1,{})}),e.jsx(De,{path:"/branchadmin/settings/communication",element:e.jsx(U2,{})}),e.jsx(De,{path:"/branchadmin/settings/payments",element:e.jsx($2,{})}),e.jsx(De,{path:"/branchadmin/settings/invoice",element:e.jsx(X1,{})})]}),e.jsx(De,{path:"/branchadmin/profile/me",element:e.jsx(uy,{})})]}),t===ct.MANAGER&&e.jsxs(e.Fragment,{children:[e.jsx(De,{path:"/manager/attendance/live-checkin",element:e.jsx(hy,{})}),e.jsx(De,{path:"/manager/attendance/today/member",element:e.jsx(WM,{})}),e.jsx(De,{path:"/manager/attendance/today/staff",element:e.jsx(KM,{})}),e.jsx(De,{path:"/manager/reports/daily-attendance",element:e.jsx(cy,{})}),e.jsx(De,{path:"/manager/reports/booking",element:e.jsx(xy,{})}),e.jsx(De,{path:"/manager/bookings/calendar",element:e.jsx(ny,{})}),e.jsx(De,{path:"/manager/tasks",element:e.jsx(Yp,{})}),e.jsx(De,{path:"/manager/tasks/list",element:e.jsx(Yp,{})}),e.jsx(De,{path:"/manager/tasks/assign",element:e.jsx(oy,{})}),e.jsx(De,{path:"/manager/communication",element:e.jsx(YM,{})}),e.jsx(De,{path:"/manager/requests",element:e.jsx(Hp,{role:t})}),e.jsx(De,{path:"/manager/change-requests",element:e.jsx(Z1,{role:t})}),e.jsx(De,{path:"/manager/wallet",element:e.jsx(J1,{role:t})}),e.jsx(De,{path:"/manager/payroll/create",element:e.jsx(ey,{role:t})}),e.jsx(De,{path:"/manager/members/list",element:e.jsx(Vp,{})}),e.jsx(De,{path:"/manager/profile/me",element:e.jsx(uy,{})})]}),t===ct.STAFF&&e.jsxs(e.Fragment,{children:[e.jsx(De,{path:"/staff/attendance/check-in",element:e.jsx(tL,{})}),e.jsx(De,{path:"/staff/attendance/check-out",element:e.jsx(sL,{})}),e.jsx(De,{path:"/staff/attendance/today",element:e.jsx(rL,{})}),e.jsx(De,{path:"/staff/lockers",element:e.jsx(py,{})}),e.jsx(De,{path:"/staff/lockers/assign",element:e.jsx(hL,{})}),e.jsx(De,{path:"/staff/lockers/release",element:e.jsx(mL,{})}),e.jsx(De,{path:"/staff/tasks/my-tasks",element:e.jsx(gL,{})}),e.jsx(De,{path:"/staff/tasks/status",element:e.jsx(bL,{})}),e.jsx(De,{path:"/staff/members/list",element:e.jsx(Vp,{})}),e.jsx(De,{path:"/staff/profile/me",element:e.jsx(NL,{})})]}),t===ct.MEMBER&&e.jsxs(e.Fragment,{children:[e.jsx(De,{path:"/member/bookings",element:e.jsx(IL,{})}),e.jsx(De,{path:"/member/check-in",element:e.jsx(GL,{})}),e.jsx(De,{path:"/member/store",element:e.jsx(nL,{})}),e.jsx(De,{path:"/member/membership",element:e.jsx(XL,{})}),e.jsx(De,{path:"/member/payments",element:e.jsx(N_,{})}),e.jsx(De,{path:"/member/profile/me",element:e.jsx(S_,{})}),e.jsx(De,{path:"/member/wallet",element:e.jsx(C_,{})}),e.jsx(De,{path:"/member/feedback",element:e.jsx(V1,{role:t})})]}),e.jsx(De,{path:"*",element:e.jsx("div",{className:"p-10",children:e.jsx("h1",{children:"Page Not Found"})})})]})]})]})}class yP extends Di.Component{constructor(s){super(s),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(s){return{hasError:!0}}componentDidCatch(s,a){console.error("Error caught by boundary:",s,a),this.setState({error:s,errorInfo:a})}render(){return this.state.hasError?e.jsxs("div",{style:{padding:"40px",fontFamily:"Inter, sans-serif",backgroundColor:"#fff",minHeight:"100vh"},children:[e.jsx("h1",{style:{color:"#e53e3e",marginBottom:"20px"},children:"Something went wrong"}),e.jsxs("details",{style:{whiteSpace:"pre-wrap",background:"#f7fafc",padding:"20px",borderRadius:"8px"},children:[e.jsx("summary",{style:{cursor:"pointer",fontWeight:"bold",marginBottom:"10px"},children:"Click to see error details"}),e.jsx("p",{style:{color:"#c53030",marginTop:"10px"},children:this.state.error&&this.state.error.toString()}),e.jsx("p",{style:{color:"#2d3748",marginTop:"10px",fontSize:"14px"},children:this.state.errorInfo&&this.state.errorInfo.componentStack})]}),e.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:"20px",padding:"10px 20px",backgroundColor:"#4299e1",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"16px"},children:"Reload Page"})]}):this.props.children}}j4.createRoot(document.getElementById("root")).render(e.jsx(Di.StrictMode,{children:e.jsx(yP,{children:e.jsx(vS,{children:e.jsx(q6,{children:e.jsx(vP,{})})})})}));export{Ks as _,ye as a,jP as c,sg as g};
