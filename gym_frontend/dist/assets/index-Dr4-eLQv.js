(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))l(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var __=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bp={exports:{}},Tx={};var Vv;function X5(){if(Vv)return Tx;Vv=1;var t=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function r(l,i,o){var d=null;if(o!==void 0&&(d=""+o),i.key!==void 0&&(d=""+i.key),"key"in i){o={};for(var x in i)x!=="key"&&(o[x]=i[x])}else o=i;return i=o.ref,{$$typeof:t,type:l,key:d,ref:i!==void 0?i:null,props:o}}return Tx.Fragment=s,Tx.jsx=r,Tx.jsxs=r,Tx}var Yv;function K5(){return Yv||(Yv=1,bp.exports=X5()),bp.exports}var e=K5(),vp={exports:{}},Qt={};var Xv;function J5(){if(Xv)return Qt;Xv=1;var t=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),d=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),y=Symbol.iterator;function f(X){return X===null||typeof X!="object"?null:(X=y&&X[y]||X["@@iterator"],typeof X=="function"?X:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,v={};function N(X,q,Z){this.props=X,this.context=q,this.refs=v,this.updater=Z||w}N.prototype.isReactComponent={},N.prototype.setState=function(X,q){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,q,"setState")},N.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function A(){}A.prototype=N.prototype;function L(X,q,Z){this.props=X,this.context=q,this.refs=v,this.updater=Z||w}var M=L.prototype=new A;M.constructor=L,S(M,N.prototype),M.isPureReactComponent=!0;var T=Array.isArray;function _(){}var I={H:null,A:null,T:null,S:null},B=Object.prototype.hasOwnProperty;function P(X,q,Z){var ae=Z.ref;return{$$typeof:t,type:X,key:q,ref:ae!==void 0?ae:null,props:Z}}function R(X,q){return P(X.type,q,X.props)}function W(X){return typeof X=="object"&&X!==null&&X.$$typeof===t}function H(X){var q={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(Z){return q[Z]})}var $=/\/+/g;function G(X,q){return typeof X=="object"&&X!==null&&X.key!=null?H(""+X.key):q.toString(36)}function le(X){switch(X.status){case"fulfilled":return X.value;case"rejected":throw X.reason;default:switch(typeof X.status=="string"?X.then(_,_):(X.status="pending",X.then(function(q){X.status==="pending"&&(X.status="fulfilled",X.value=q)},function(q){X.status==="pending"&&(X.status="rejected",X.reason=q)})),X.status){case"fulfilled":return X.value;case"rejected":throw X.reason}}throw X}function Q(X,q,Z,ae,ue){var he=typeof X;(he==="undefined"||he==="boolean")&&(X=null);var be=!1;if(X===null)be=!0;else switch(he){case"bigint":case"string":case"number":be=!0;break;case"object":switch(X.$$typeof){case t:case s:be=!0;break;case p:return be=X._init,Q(be(X._payload),q,Z,ae,ue)}}if(be)return ue=ue(X),be=ae===""?"."+G(X,0):ae,T(ue)?(Z="",be!=null&&(Z=be.replace($,"$&/")+"/"),Q(ue,q,Z,"",function(Fe){return Fe})):ue!=null&&(W(ue)&&(ue=R(ue,Z+(ue.key==null||X&&X.key===ue.key?"":(""+ue.key).replace($,"$&/")+"/")+be)),q.push(ue)),1;be=0;var Me=ae===""?".":ae+":";if(T(X))for(var Ne=0;Ne<X.length;Ne++)ae=X[Ne],he=Me+G(ae,Ne),be+=Q(ae,q,Z,he,ue);else if(Ne=f(X),typeof Ne=="function")for(X=Ne.call(X),Ne=0;!(ae=X.next()).done;)ae=ae.value,he=Me+G(ae,Ne++),be+=Q(ae,q,Z,he,ue);else if(he==="object"){if(typeof X.then=="function")return Q(le(X),q,Z,ae,ue);throw q=String(X),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return be}function ne(X,q,Z){if(X==null)return X;var ae=[],ue=0;return Q(X,ae,"","",function(he){return q.call(Z,he,ue++)}),ae}function F(X){if(X._status===-1){var q=X._result;q=q(),q.then(function(Z){(X._status===0||X._status===-1)&&(X._status=1,X._result=Z)},function(Z){(X._status===0||X._status===-1)&&(X._status=2,X._result=Z)}),X._status===-1&&(X._status=0,X._result=q)}if(X._status===1)return X._result.default;throw X._result}var de=typeof reportError=="function"?reportError:function(X){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof X=="object"&&X!==null&&typeof X.message=="string"?String(X.message):String(X),error:X});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",X);return}console.error(X)},ke={map:ne,forEach:function(X,q,Z){ne(X,function(){q.apply(this,arguments)},Z)},count:function(X){var q=0;return ne(X,function(){q++}),q},toArray:function(X){return ne(X,function(q){return q})||[]},only:function(X){if(!W(X))throw Error("React.Children.only expected to receive a single React element child.");return X}};return Qt.Activity=g,Qt.Children=ke,Qt.Component=N,Qt.Fragment=r,Qt.Profiler=i,Qt.PureComponent=L,Qt.StrictMode=l,Qt.Suspense=u,Qt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Qt.__COMPILER_RUNTIME={__proto__:null,c:function(X){return I.H.useMemoCache(X)}},Qt.cache=function(X){return function(){return X.apply(null,arguments)}},Qt.cacheSignal=function(){return null},Qt.cloneElement=function(X,q,Z){if(X==null)throw Error("The argument must be a React element, but you passed "+X+".");var ae=S({},X.props),ue=X.key;if(q!=null)for(he in q.key!==void 0&&(ue=""+q.key),q)!B.call(q,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&q.ref===void 0||(ae[he]=q[he]);var he=arguments.length-2;if(he===1)ae.children=Z;else if(1<he){for(var be=Array(he),Me=0;Me<he;Me++)be[Me]=arguments[Me+2];ae.children=be}return P(X.type,ue,ae)},Qt.createContext=function(X){return X={$$typeof:d,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null},X.Provider=X,X.Consumer={$$typeof:o,_context:X},X},Qt.createElement=function(X,q,Z){var ae,ue={},he=null;if(q!=null)for(ae in q.key!==void 0&&(he=""+q.key),q)B.call(q,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(ue[ae]=q[ae]);var be=arguments.length-2;if(be===1)ue.children=Z;else if(1<be){for(var Me=Array(be),Ne=0;Ne<be;Ne++)Me[Ne]=arguments[Ne+2];ue.children=Me}if(X&&X.defaultProps)for(ae in be=X.defaultProps,be)ue[ae]===void 0&&(ue[ae]=be[ae]);return P(X,he,ue)},Qt.createRef=function(){return{current:null}},Qt.forwardRef=function(X){return{$$typeof:x,render:X}},Qt.isValidElement=W,Qt.lazy=function(X){return{$$typeof:p,_payload:{_status:-1,_result:X},_init:F}},Qt.memo=function(X,q){return{$$typeof:h,type:X,compare:q===void 0?null:q}},Qt.startTransition=function(X){var q=I.T,Z={};I.T=Z;try{var ae=X(),ue=I.S;ue!==null&&ue(Z,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(_,de)}catch(he){de(he)}finally{q!==null&&Z.types!==null&&(q.types=Z.types),I.T=q}},Qt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Qt.use=function(X){return I.H.use(X)},Qt.useActionState=function(X,q,Z){return I.H.useActionState(X,q,Z)},Qt.useCallback=function(X,q){return I.H.useCallback(X,q)},Qt.useContext=function(X){return I.H.useContext(X)},Qt.useDebugValue=function(){},Qt.useDeferredValue=function(X,q){return I.H.useDeferredValue(X,q)},Qt.useEffect=function(X,q){return I.H.useEffect(X,q)},Qt.useEffectEvent=function(X){return I.H.useEffectEvent(X)},Qt.useId=function(){return I.H.useId()},Qt.useImperativeHandle=function(X,q,Z){return I.H.useImperativeHandle(X,q,Z)},Qt.useInsertionEffect=function(X,q){return I.H.useInsertionEffect(X,q)},Qt.useLayoutEffect=function(X,q){return I.H.useLayoutEffect(X,q)},Qt.useMemo=function(X,q){return I.H.useMemo(X,q)},Qt.useOptimistic=function(X,q){return I.H.useOptimistic(X,q)},Qt.useReducer=function(X,q,Z){return I.H.useReducer(X,q,Z)},Qt.useRef=function(X){return I.H.useRef(X)},Qt.useState=function(X){return I.H.useState(X)},Qt.useSyncExternalStore=function(X,q,Z){return I.H.useSyncExternalStore(X,q,Z)},Qt.useTransition=function(){return I.H.useTransition()},Qt.version="19.2.4",Qt}var Kv;function Yf(){return Kv||(Kv=1,vp.exports=J5()),vp.exports}var j=Yf();const so=Vf(j);var yp={exports:{}},_x={},jp={exports:{}},wp={};var Jv;function Z5(){return Jv||(Jv=1,(function(t){function s(Q,ne){var F=Q.length;Q.push(ne);e:for(;0<F;){var de=F-1>>>1,ke=Q[de];if(0<i(ke,ne))Q[de]=ne,Q[F]=ke,F=de;else break e}}function r(Q){return Q.length===0?null:Q[0]}function l(Q){if(Q.length===0)return null;var ne=Q[0],F=Q.pop();if(F!==ne){Q[0]=F;e:for(var de=0,ke=Q.length,X=ke>>>1;de<X;){var q=2*(de+1)-1,Z=Q[q],ae=q+1,ue=Q[ae];if(0>i(Z,F))ae<ke&&0>i(ue,Z)?(Q[de]=ue,Q[ae]=F,de=ae):(Q[de]=Z,Q[q]=F,de=q);else if(ae<ke&&0>i(ue,F))Q[de]=ue,Q[ae]=F,de=ae;else break e}}return ne}function i(Q,ne){var F=Q.sortIndex-ne.sortIndex;return F!==0?F:Q.id-ne.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var d=Date,x=d.now();t.unstable_now=function(){return d.now()-x}}var u=[],h=[],p=1,g=null,y=3,f=!1,w=!1,S=!1,v=!1,N=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function M(Q){for(var ne=r(h);ne!==null;){if(ne.callback===null)l(h);else if(ne.startTime<=Q)l(h),ne.sortIndex=ne.expirationTime,s(u,ne);else break;ne=r(h)}}function T(Q){if(S=!1,M(Q),!w)if(r(u)!==null)w=!0,_||(_=!0,H());else{var ne=r(h);ne!==null&&le(T,ne.startTime-Q)}}var _=!1,I=-1,B=5,P=-1;function R(){return v?!0:!(t.unstable_now()-P<B)}function W(){if(v=!1,_){var Q=t.unstable_now();P=Q;var ne=!0;try{e:{w=!1,S&&(S=!1,A(I),I=-1),f=!0;var F=y;try{t:{for(M(Q),g=r(u);g!==null&&!(g.expirationTime>Q&&R());){var de=g.callback;if(typeof de=="function"){g.callback=null,y=g.priorityLevel;var ke=de(g.expirationTime<=Q);if(Q=t.unstable_now(),typeof ke=="function"){g.callback=ke,M(Q),ne=!0;break t}g===r(u)&&l(u),M(Q)}else l(u);g=r(u)}if(g!==null)ne=!0;else{var X=r(h);X!==null&&le(T,X.startTime-Q),ne=!1}}break e}finally{g=null,y=F,f=!1}ne=void 0}}finally{ne?H():_=!1}}}var H;if(typeof L=="function")H=function(){L(W)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,G=$.port2;$.port1.onmessage=W,H=function(){G.postMessage(null)}}else H=function(){N(W,0)};function le(Q,ne){I=N(function(){Q(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(Q){switch(y){case 1:case 2:case 3:var ne=3;break;default:ne=y}var F=y;y=ne;try{return Q()}finally{y=F}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(Q,ne){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var F=y;y=Q;try{return ne()}finally{y=F}},t.unstable_scheduleCallback=function(Q,ne,F){var de=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?de+F:de):F=de,Q){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=F+ke,Q={id:p++,callback:ne,priorityLevel:Q,startTime:F,expirationTime:ke,sortIndex:-1},F>de?(Q.sortIndex=F,s(h,Q),r(u)===null&&Q===r(h)&&(S?(A(I),I=-1):S=!0,le(T,F-de))):(Q.sortIndex=ke,s(u,Q),w||f||(w=!0,_||(_=!0,H()))),Q},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(Q){var ne=y;return function(){var F=y;y=ne;try{return Q.apply(this,arguments)}finally{y=F}}}})(wp)),wp}var Zv;function Q5(){return Zv||(Zv=1,jp.exports=Z5()),jp.exports}var Np={exports:{}},Xr={};var Qv;function e4(){if(Qv)return Xr;Qv=1;var t=Yf();function s(u){var h="https://react.dev/errors/"+u;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var l={d:{f:r,r:function(){throw Error(s(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(u,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:u,containerInfo:h,implementation:p}}var d=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function x(u,h){if(u==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Xr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,Xr.createPortal=function(u,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(s(299));return o(u,h,null,p)},Xr.flushSync=function(u){var h=d.T,p=l.p;try{if(d.T=null,l.p=2,u)return u()}finally{d.T=h,l.p=p,l.d.f()}},Xr.preconnect=function(u,h){typeof u=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,l.d.C(u,h))},Xr.prefetchDNS=function(u){typeof u=="string"&&l.d.D(u)},Xr.preinit=function(u,h){if(typeof u=="string"&&h&&typeof h.as=="string"){var p=h.as,g=x(p,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,f=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?l.d.S(u,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:f}):p==="script"&&l.d.X(u,{crossOrigin:g,integrity:y,fetchPriority:f,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Xr.preinitModule=function(u,h){if(typeof u=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=x(h.as,h.crossOrigin);l.d.M(u,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&l.d.M(u)},Xr.preload=function(u,h){if(typeof u=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=x(p,h.crossOrigin);l.d.L(u,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Xr.preloadModule=function(u,h){if(typeof u=="string")if(h){var p=x(h.as,h.crossOrigin);l.d.m(u,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else l.d.m(u)},Xr.requestFormReset=function(u){l.d.r(u)},Xr.unstable_batchedUpdates=function(u,h){return u(h)},Xr.useFormState=function(u,h,p){return d.H.useFormState(u,h,p)},Xr.useFormStatus=function(){return d.H.useHostTransitionStatus()},Xr.version="19.2.4",Xr}var e1;function P2(){if(e1)return Np.exports;e1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(s){console.error(s)}}return t(),Np.exports=e4(),Np.exports}var t1;function t4(){if(t1)return _x;t1=1;var t=Q5(),s=Yf(),r=P2();function l(a){var n="https://react.dev/errors/"+a;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)n+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var n=a,c=a;if(a.alternate)for(;n.return;)n=n.return;else{a=n;do n=a,(n.flags&4098)!==0&&(c=n.return),a=n.return;while(a)}return n.tag===3?c:null}function d(a){if(a.tag===13){var n=a.memoizedState;if(n===null&&(a=a.alternate,a!==null&&(n=a.memoizedState)),n!==null)return n.dehydrated}return null}function x(a){if(a.tag===31){var n=a.memoizedState;if(n===null&&(a=a.alternate,a!==null&&(n=a.memoizedState)),n!==null)return n.dehydrated}return null}function u(a){if(o(a)!==a)throw Error(l(188))}function h(a){var n=a.alternate;if(!n){if(n=o(a),n===null)throw Error(l(188));return n!==a?null:a}for(var c=a,m=n;;){var k=c.return;if(k===null)break;var D=k.alternate;if(D===null){if(m=k.return,m!==null){c=m;continue}break}if(k.child===D.child){for(D=k.child;D;){if(D===c)return u(k),a;if(D===m)return u(k),n;D=D.sibling}throw Error(l(188))}if(c.return!==m.return)c=k,m=D;else{for(var U=!1,ee=k.child;ee;){if(ee===c){U=!0,c=k,m=D;break}if(ee===m){U=!0,m=k,c=D;break}ee=ee.sibling}if(!U){for(ee=D.child;ee;){if(ee===c){U=!0,c=D,m=k;break}if(ee===m){U=!0,m=D,c=k;break}ee=ee.sibling}if(!U)throw Error(l(189))}}if(c.alternate!==m)throw Error(l(190))}if(c.tag!==3)throw Error(l(188));return c.stateNode.current===c?a:n}function p(a){var n=a.tag;if(n===5||n===26||n===27||n===6)return a;for(a=a.child;a!==null;){if(n=p(a),n!==null)return n;a=a.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),A=Symbol.for("react.consumer"),L=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),R=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function H(a){return a===null||typeof a!="object"?null:(a=W&&a[W]||a["@@iterator"],typeof a=="function"?a:null)}var $=Symbol.for("react.client.reference");function G(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===$?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case S:return"Fragment";case N:return"Profiler";case v:return"StrictMode";case T:return"Suspense";case _:return"SuspenseList";case P:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case w:return"Portal";case L:return a.displayName||"Context";case A:return(a._context.displayName||"Context")+".Consumer";case M:var n=a.render;return a=a.displayName,a||(a=n.displayName||n.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case I:return n=a.displayName||null,n!==null?n:G(a.type)||"Memo";case B:n=a._payload,a=a._init;try{return G(a(n))}catch{}}return null}var le=Array.isArray,Q=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},de=[],ke=-1;function X(a){return{current:a}}function q(a){0>ke||(a.current=de[ke],de[ke]=null,ke--)}function Z(a,n){ke++,de[ke]=a.current,a.current=n}var ae=X(null),ue=X(null),he=X(null),be=X(null);function Me(a,n){switch(Z(he,n),Z(ue,a),Z(ae,null),n.nodeType){case 9:case 11:a=(a=n.documentElement)&&(a=a.namespaceURI)?fv(a):0;break;default:if(a=n.tagName,n=n.namespaceURI)n=fv(n),a=gv(n,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}q(ae),Z(ae,a)}function Ne(){q(ae),q(ue),q(he)}function Fe(a){a.memoizedState!==null&&Z(be,a);var n=ae.current,c=gv(n,a.type);n!==c&&(Z(ue,a),Z(ae,c))}function Xe(a){ue.current===a&&(q(ae),q(ue)),be.current===a&&(q(be),Dx._currentValue=F)}var st,et;function xe(a){if(st===void 0)try{throw Error()}catch(c){var n=c.stack.trim().match(/\n( *(at )?)/);st=n&&n[1]||"",et=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+st+a+et}var se=!1;function Ze(a,n){if(!a||se)return"";se=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(n){var qe=function(){throw Error()};if(Object.defineProperty(qe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(qe,[])}catch(Pe){var Ee=Pe}Reflect.construct(a,[],qe)}else{try{qe.call()}catch(Pe){Ee=Pe}a.call(qe.prototype)}}else{try{throw Error()}catch(Pe){Ee=Pe}(qe=a())&&typeof qe.catch=="function"&&qe.catch(function(){})}}catch(Pe){if(Pe&&Ee&&typeof Pe.stack=="string")return[Pe.stack,Ee.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var k=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");k&&k.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var D=m.DetermineComponentFrameRoot(),U=D[0],ee=D[1];if(U&&ee){var me=U.split(`
`),ze=ee.split(`
`);for(k=m=0;m<me.length&&!me[m].includes("DetermineComponentFrameRoot");)m++;for(;k<ze.length&&!ze[k].includes("DetermineComponentFrameRoot");)k++;if(m===me.length||k===ze.length)for(m=me.length-1,k=ze.length-1;1<=m&&0<=k&&me[m]!==ze[k];)k--;for(;1<=m&&0<=k;m--,k--)if(me[m]!==ze[k]){if(m!==1||k!==1)do if(m--,k--,0>k||me[m]!==ze[k]){var Be=`
`+me[m].replace(" at new "," at ");return a.displayName&&Be.includes("<anonymous>")&&(Be=Be.replace("<anonymous>",a.displayName)),Be}while(1<=m&&0<=k);break}}}finally{se=!1,Error.prepareStackTrace=c}return(c=a?a.displayName||a.name:"")?xe(c):""}function Ft(a,n){switch(a.tag){case 26:case 27:case 5:return xe(a.type);case 16:return xe("Lazy");case 13:return a.child!==n&&n!==null?xe("Suspense Fallback"):xe("Suspense");case 19:return xe("SuspenseList");case 0:case 15:return Ze(a.type,!1);case 11:return Ze(a.type.render,!1);case 1:return Ze(a.type,!0);case 31:return xe("Activity");default:return""}}function Ct(a){try{var n="",c=null;do n+=Ft(a,c),c=a,a=a.return;while(a);return n}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var Ve=Object.prototype.hasOwnProperty,wt=t.unstable_scheduleCallback,nt=t.unstable_cancelCallback,kt=t.unstable_shouldYield,ft=t.unstable_requestPaint,Ge=t.unstable_now,Xt=t.unstable_getCurrentPriorityLevel,gt=t.unstable_ImmediatePriority,cs=t.unstable_UserBlockingPriority,rs=t.unstable_NormalPriority,dt=t.unstable_LowPriority,Kt=t.unstable_IdlePriority,jt=t.log,Aa=t.unstable_setDisableYieldValue,xs=null,Tt=null;function Ut(a){if(typeof jt=="function"&&Aa(a),Tt&&typeof Tt.setStrictMode=="function")try{Tt.setStrictMode(xs,a)}catch{}}var us=Math.clz32?Math.clz32:Rt,Dt=Math.log,Zs=Math.LN2;function Rt(a){return a>>>=0,a===0?32:31-(Dt(a)/Zs|0)|0}var $t=256,Hs=262144,ls=4194304;function Nt(a){var n=a&42;if(n!==0)return n;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function ks(a,n,c){var m=a.pendingLanes;if(m===0)return 0;var k=0,D=a.suspendedLanes,U=a.pingedLanes;a=a.warmLanes;var ee=m&134217727;return ee!==0?(m=ee&~D,m!==0?k=Nt(m):(U&=ee,U!==0?k=Nt(U):c||(c=ee&~a,c!==0&&(k=Nt(c))))):(ee=m&~D,ee!==0?k=Nt(ee):U!==0?k=Nt(U):c||(c=m&~a,c!==0&&(k=Nt(c)))),k===0?0:n!==0&&n!==k&&(n&D)===0&&(D=k&-k,c=n&-n,D>=c||D===32&&(c&4194048)!==0)?n:k}function Xl(a,n){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&n)===0}function yr(a,n){switch(a){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sn(){var a=ls;return ls<<=1,(ls&62914560)===0&&(ls=4194304),a}function Nl(a){for(var n=[],c=0;31>c;c++)n.push(a);return n}function At(a,n){a.pendingLanes|=n,n!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Zn(a,n,c,m,k,D){var U=a.pendingLanes;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=c,a.entangledLanes&=c,a.errorRecoveryDisabledLanes&=c,a.shellSuspendCounter=0;var ee=a.entanglements,me=a.expirationTimes,ze=a.hiddenUpdates;for(c=U&~c;0<c;){var Be=31-us(c),qe=1<<Be;ee[Be]=0,me[Be]=-1;var Ee=ze[Be];if(Ee!==null)for(ze[Be]=null,Be=0;Be<Ee.length;Be++){var Pe=Ee[Be];Pe!==null&&(Pe.lane&=-536870913)}c&=~qe}m!==0&&Cn(a,m,0),D!==0&&k===0&&a.tag!==0&&(a.suspendedLanes|=D&~(U&~n))}function Cn(a,n,c){a.pendingLanes|=n,a.suspendedLanes&=~n;var m=31-us(n);a.entangledLanes|=n,a.entanglements[m]=a.entanglements[m]|1073741824|c&261930}function nl(a,n){var c=a.entangledLanes|=n;for(a=a.entanglements;c;){var m=31-us(c),k=1<<m;k&n|a[m]&n&&(a[m]|=n),c&=~k}}function il(a,n){var c=n&-n;return c=(c&42)!==0?1:ua(c),(c&(a.suspendedLanes|n))!==0?0:c}function ua(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Pa(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function rr(){var a=ne.p;return a!==0?a:(a=window.event,a===void 0?32:Iv(a.type))}function Ti(a,n){var c=ne.p;try{return ne.p=a,n()}finally{ne.p=c}}var Er=Math.random().toString(36).slice(2),Ws="__reactFiber$"+Er,ma="__reactProps$"+Er,jr="__reactContainer$"+Er,ol="__reactEvents$"+Er,kl="__reactListeners$"+Er,ro="__reactHandles$"+Er,Kl="__reactResources$"+Er,Jl="__reactMarker$"+Er;function _i(a){delete a[Ws],delete a[ma],delete a[ol],delete a[kl],delete a[ro]}function Zl(a){var n=a[Ws];if(n)return n;for(var c=a.parentNode;c;){if(n=c[jr]||c[Ws]){if(c=n.alternate,n.child!==null||c!==null&&c.child!==null)for(a=kv(a);a!==null;){if(c=a[Ws])return c;a=kv(a)}return n}a=c,c=a.parentNode}return null}function Ql(a){if(a=a[Ws]||a[jr]){var n=a.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return a}return null}function lo(a){var n=a.tag;if(n===5||n===26||n===27||n===6)return a.stateNode;throw Error(l(33))}function An(a){var n=a[Kl];return n||(n=a[Kl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ma(a){a[Jl]=!0}var Oc=new Set,cl={};function en(a,n){Qn(a,n),Qn(a+"Capture",n)}function Qn(a,n){for(cl[a]=n,a=0;a<n.length;a++)Oc.add(n[a])}var Fc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bc={},Ic={};function Td(a){return Ve.call(Ic,a)?!0:Ve.call(Bc,a)?!1:Fc.test(a)?Ic[a]=!0:(Bc[a]=!0,!1)}function dl(a,n,c){if(Td(n))if(c===null)a.removeAttribute(n);else{switch(typeof c){case"undefined":case"function":case"symbol":a.removeAttribute(n);return;case"boolean":var m=n.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){a.removeAttribute(n);return}}a.setAttribute(n,""+c)}}function ei(a,n,c){if(c===null)a.removeAttribute(n);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(n);return}a.setAttribute(n,""+c)}}function tn(a,n,c,m){if(m===null)a.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttributeNS(n,c,""+m)}}function Es(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Uc(a){var n=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Mn(a,n,c){var m=Object.getOwnPropertyDescriptor(a.constructor.prototype,n);if(!a.hasOwnProperty(n)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var k=m.get,D=m.set;return Object.defineProperty(a,n,{configurable:!0,get:function(){return k.call(this)},set:function(U){c=""+U,D.call(this,U)}}),Object.defineProperty(a,n,{enumerable:m.enumerable}),{getValue:function(){return c},setValue:function(U){c=""+U},stopTracking:function(){a._valueTracker=null,delete a[n]}}}}function Pi(a){if(!a._valueTracker){var n=Uc(a)?"checked":"value";a._valueTracker=Mn(a,n,""+a[n])}}function $c(a){if(!a)return!1;var n=a._valueTracker;if(!n)return!0;var c=n.getValue(),m="";return a&&(m=Uc(a)?a.checked?"true":"false":a.value),a=m,a!==c?(n.setValue(a),!0):!1}function Tr(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Va=/[\n"\\]/g;function Ra(a){return a.replace(Va,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Wo(a,n,c,m,k,D,U,ee){a.name="",U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?a.type=U:a.removeAttribute("type"),n!=null?U==="number"?(n===0&&a.value===""||a.value!=n)&&(a.value=""+Es(n)):a.value!==""+Es(n)&&(a.value=""+Es(n)):U!=="submit"&&U!=="reset"||a.removeAttribute("value"),n!=null?qc(a,U,Es(n)):c!=null?qc(a,U,Es(c)):m!=null&&a.removeAttribute("value"),k==null&&D!=null&&(a.defaultChecked=!!D),k!=null&&(a.checked=k&&typeof k!="function"&&typeof k!="symbol"),ee!=null&&typeof ee!="function"&&typeof ee!="symbol"&&typeof ee!="boolean"?a.name=""+Es(ee):a.removeAttribute("name")}function _d(a,n,c,m,k,D,U,ee){if(D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(a.type=D),n!=null||c!=null){if(!(D!=="submit"&&D!=="reset"||n!=null)){Pi(a);return}c=c!=null?""+Es(c):"",n=n!=null?""+Es(n):c,ee||n===a.value||(a.value=n),a.defaultValue=n}m=m??k,m=typeof m!="function"&&typeof m!="symbol"&&!!m,a.checked=ee?a.checked:!!m,a.defaultChecked=!!m,U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"&&(a.name=U),Pi(a)}function qc(a,n,c){n==="number"&&Tr(a.ownerDocument)===a||a.defaultValue===""+c||(a.defaultValue=""+c)}function _r(a,n,c,m){if(a=a.options,n){n={};for(var k=0;k<c.length;k++)n["$"+c[k]]=!0;for(c=0;c<a.length;c++)k=n.hasOwnProperty("$"+a[c].value),a[c].selected!==k&&(a[c].selected=k),k&&m&&(a[c].defaultSelected=!0)}else{for(c=""+Es(c),n=null,k=0;k<a.length;k++){if(a[k].value===c){a[k].selected=!0,m&&(a[k].defaultSelected=!0);return}n!==null||a[k].disabled||(n=a[k])}n!==null&&(n.selected=!0)}}function Hc(a,n,c){if(n!=null&&(n=""+Es(n),n!==a.value&&(a.value=n),c==null)){a.defaultValue!==n&&(a.defaultValue=n);return}a.defaultValue=c!=null?""+Es(c):""}function Wc(a,n,c,m){if(n==null){if(m!=null){if(c!=null)throw Error(l(92));if(le(m)){if(1<m.length)throw Error(l(93));m=m[0]}c=m}c==null&&(c=""),n=c}c=Es(n),a.defaultValue=c,m=a.textContent,m===c&&m!==""&&m!==null&&(a.value=m),Pi(a)}function sn(a,n){if(n){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=n;return}}a.textContent=n}var no=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pd(a,n,c){var m=n.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?m?a.setProperty(n,""):n==="float"?a.cssFloat="":a[n]="":m?a.setProperty(n,c):typeof c!="number"||c===0||no.has(n)?n==="float"?a.cssFloat=c:a[n]=(""+c).trim():a[n]=c+"px"}function Rd(a,n,c){if(n!=null&&typeof n!="object")throw Error(l(62));if(a=a.style,c!=null){for(var m in c)!c.hasOwnProperty(m)||n!=null&&n.hasOwnProperty(m)||(m.indexOf("--")===0?a.setProperty(m,""):m==="float"?a.cssFloat="":a[m]="");for(var k in n)m=n[k],n.hasOwnProperty(k)&&c[k]!==m&&Pd(a,k,m)}else for(var D in n)n.hasOwnProperty(D)&&Pd(a,D,n[D])}function Gc(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Od=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Gr(a){return Od.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function an(){}var ti=null;function io(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Ri=null,_t=null;function Fd(a){var n=Ql(a);if(n&&(a=n.stateNode)){var c=a[ma]||null;e:switch(a=n.stateNode,n.type){case"input":if(Wo(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),n=c.name,c.type==="radio"&&n!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Ra(""+n)+'"][type="radio"]'),n=0;n<c.length;n++){var m=c[n];if(m!==a&&m.form===a.form){var k=m[ma]||null;if(!k)throw Error(l(90));Wo(m,k.value,k.defaultValue,k.defaultValue,k.checked,k.defaultChecked,k.type,k.name)}}for(n=0;n<c.length;n++)m=c[n],m.form===a.form&&$c(m)}break e;case"textarea":Hc(a,c.value,c.defaultValue);break e;case"select":n=c.value,n!=null&&_r(a,!!c.multiple,n,!1)}}}var Yc=!1;function Bd(a,n,c){if(Yc)return a(n,c);Yc=!0;try{var m=a(n);return m}finally{if(Yc=!1,(Ri!==null||_t!==null)&&(Pu(),Ri&&(n=Ri,a=_t,_t=Ri=null,Fd(n),a)))for(n=0;n<a.length;n++)Fd(a[n])}}function xl(a,n){var c=a.stateNode;if(c===null)return null;var m=c[ma]||null;if(m===null)return null;c=m[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(l(231,n,typeof c));return c}var xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xc=!1;if(xr)try{var oo={};Object.defineProperty(oo,"passive",{get:function(){Xc=!0}}),window.addEventListener("test",oo,oo),window.removeEventListener("test",oo,oo)}catch{Xc=!1}var ul=null,co=null,Dn=null;function Id(){if(Dn)return Dn;var a,n=co,c=n.length,m,k="value"in ul?ul.value:ul.textContent,D=k.length;for(a=0;a<c&&n[a]===k[a];a++);var U=c-a;for(m=1;m<=U&&n[c-m]===k[D-m];m++);return Dn=k.slice(a,1<m?1-m:void 0)}function Sl(a){var n=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&n===13&&(a=13)):a=n,a===10&&(a=13),32<=a||a===13?a:0}function Go(){return!0}function Vo(){return!1}function lr(a){function n(c,m,k,D,U){this._reactName=c,this._targetInst=k,this.type=m,this.nativeEvent=D,this.target=U,this.currentTarget=null;for(var ee in a)a.hasOwnProperty(ee)&&(c=a[ee],this[ee]=c?c(D):D[ee]);return this.isDefaultPrevented=(D.defaultPrevented!=null?D.defaultPrevented:D.returnValue===!1)?Go:Vo,this.isPropagationStopped=Vo,this}return g(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Go)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Go)},persist:function(){},isPersistent:Go}),n}var Ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cl=lr(Ln),si=g({},Ln,{view:0,detail:0}),Yo=lr(si),xo,ai,ri,uo=g({},si,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bt,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==ri&&(ri&&a.type==="mousemove"?(xo=a.screenX-ri.screenX,ai=a.screenY-ri.screenY):ai=xo=0,ri=a),xo)},movementY:function(a){return"movementY"in a?a.movementY:ai}}),Kc=lr(uo),li=g({},uo,{dataTransfer:0}),ni=lr(li),Ud=g({},si,{relatedTarget:0}),ii=lr(Ud),$d=g({},Ln,{animationName:0,elapsedTime:0,pseudoElement:0}),z=lr($d),V=g({},Ln,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),ce=lr(V),pe=g({},Ln,{data:0}),ye=lr(pe),Ie={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},We={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ut={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bt(a){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(a):(a=ut[a])?!!n[a]:!1}function Bt(){return bt}var Jt=g({},si,{key:function(a){if(a.key){var n=Ie[a.key]||a.key;if(n!=="Unidentified")return n}return a.type==="keypress"?(a=Sl(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?We[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bt,charCode:function(a){return a.type==="keypress"?Sl(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Sl(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Ss=lr(Jt),pa=g({},uo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Da=lr(pa),Qs=g({},si,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bt}),Ya=lr(Qs),Oa=g({},Ln,{propertyName:0,elapsedTime:0,pseudoElement:0}),ur=lr(Oa),oi=g({},uo,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),rn=lr(oi),ci=g({},Ln,{newState:0,oldState:0}),Jc=lr(ci),Xo=[9,13,27,32],zn=xr&&"CompositionEvent"in window,ln=null;xr&&"documentMode"in document&&(ln=document.documentMode);var ho=xr&&"TextEvent"in window&&!ln,di=xr&&(!zn||ln&&8<ln&&11>=ln),nr=" ",Oi=!1;function Fi(a,n){switch(a){case"keyup":return Xo.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ko(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var En=!1;function Pr(a,n){switch(a){case"compositionend":return Ko(n);case"keypress":return n.which!==32?null:(Oi=!0,nr);case"textInput":return a=n.data,a===nr&&Oi?null:a;default:return null}}function xi(a,n){if(En)return a==="compositionend"||!zn&&Fi(a,n)?(a=Id(),Dn=co=ul=null,En=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return di&&n.locale!=="ko"?null:n.data;default:return null}}var Jo={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zc(a){var n=a&&a.nodeName&&a.nodeName.toLowerCase();return n==="input"?!!Jo[a.type]:n==="textarea"}function hl(a,n,c,m){Ri?_t?_t.push(m):_t=[m]:Ri=m,n=$u(n,"onChange"),0<n.length&&(c=new Cl("onChange","change",null,c,m),a.push({event:c,listeners:n}))}var nn=null,ui=null;function Qc(a){dv(a,0)}function on(a){var n=lo(a);if($c(n))return a}function Bi(a,n){if(a==="change")return n}var Vr=!1;if(xr){var Rr;if(xr){var Tn="oninput"in document;if(!Tn){var _n=document.createElement("div");_n.setAttribute("oninput","return;"),Tn=typeof _n.oninput=="function"}Rr=Tn}else Rr=!1;Vr=Rr&&(!document.documentMode||9<document.documentMode)}function hi(){nn&&(nn.detachEvent("onpropertychange",Zo),ui=nn=null)}function Zo(a){if(a.propertyName==="value"&&on(ui)){var n=[];hl(n,ui,a,io(a)),Bd(Qc,n)}}function Qo(a,n,c){a==="focusin"?(hi(),nn=n,ui=c,nn.attachEvent("onpropertychange",Zo)):a==="focusout"&&hi()}function La(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return on(ui)}function qd(a,n){if(a==="click")return on(n)}function Pn(a,n){if(a==="input"||a==="change")return on(n)}function Rn(a,n){return a===n&&(a!==0||1/a===1/n)||a!==a&&n!==n}var hr=typeof Object.is=="function"?Object.is:Rn;function mi(a,n){if(hr(a,n))return!0;if(typeof a!="object"||a===null||typeof n!="object"||n===null)return!1;var c=Object.keys(a),m=Object.keys(n);if(c.length!==m.length)return!1;for(m=0;m<c.length;m++){var k=c[m];if(!Ve.call(n,k)||!hr(a[k],n[k]))return!1}return!0}function ec(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function tc(a,n){var c=ec(a);a=0;for(var m;c;){if(c.nodeType===3){if(m=a+c.textContent.length,a<=n&&m>=n)return{node:c,offset:n-a};a=m}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=ec(c)}}function pi(a,n){return a&&n?a===n?!0:a&&a.nodeType===3?!1:n&&n.nodeType===3?pi(a,n.parentNode):"contains"in a?a.contains(n):a.compareDocumentPosition?!!(a.compareDocumentPosition(n)&16):!1:!1}function fi(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var n=Tr(a.document);n instanceof a.HTMLIFrameElement;){try{var c=typeof n.contentWindow.location.href=="string"}catch{c=!1}if(c)a=n.contentWindow;else break;n=Tr(a.document)}return n}function On(a){var n=a&&a.nodeName&&a.nodeName.toLowerCase();return n&&(n==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||n==="textarea"||a.contentEditable==="true")}var mo=xr&&"documentMode"in document&&11>=document.documentMode,ml=null,gi=null,wr=null,Al=!1;function Ts(a,n,c){var m=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Al||ml==null||ml!==Tr(m)||(m=ml,"selectionStart"in m&&On(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),wr&&mi(wr,m)||(wr=m,m=$u(gi,"onSelect"),0<m.length&&(n=new Cl("onSelect","select",null,n,c),a.push({event:n,listeners:m}),n.target=ml)))}function Cs(a,n){var c={};return c[a.toLowerCase()]=n.toLowerCase(),c["Webkit"+a]="webkit"+n,c["Moz"+a]="moz"+n,c}var ea={animationend:Cs("Animation","AnimationEnd"),animationiteration:Cs("Animation","AnimationIteration"),animationstart:Cs("Animation","AnimationStart"),transitionrun:Cs("Transition","TransitionRun"),transitionstart:Cs("Transition","TransitionStart"),transitioncancel:Cs("Transition","TransitionCancel"),transitionend:Cs("Transition","TransitionEnd")},za={},Fn={};xr&&(Fn=document.createElement("div").style,"AnimationEvent"in window||(delete ea.animationend.animation,delete ea.animationiteration.animation,delete ea.animationstart.animation),"TransitionEvent"in window||delete ea.transitionend.transition);function cn(a){if(za[a])return za[a];if(!ea[a])return a;var n=ea[a],c;for(c in n)if(n.hasOwnProperty(c)&&c in Fn)return za[a]=n[c];return a}var po=cn("animationend"),ed=cn("animationiteration"),Z0=cn("animationstart"),xu=cn("transitionrun"),uu=cn("transitionstart"),hu=cn("transitioncancel"),Q0=cn("transitionend"),ex=new Map,fo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fo.push("scrollEnd");function Ml(a,n){ex.set(a,n),en(n,[a])}var td=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},pl=[],go=0,Hd=0;function sd(){for(var a=go,n=Hd=go=0;n<a;){var c=pl[n];pl[n++]=null;var m=pl[n];pl[n++]=null;var k=pl[n];pl[n++]=null;var D=pl[n];if(pl[n++]=null,m!==null&&k!==null){var U=m.pending;U===null?k.next=k:(k.next=U.next,U.next=k),m.pending=k}D!==0&&rd(c,k,D)}}function ad(a,n,c,m){pl[go++]=a,pl[go++]=n,pl[go++]=c,pl[go++]=m,Hd|=m,a.lanes|=m,a=a.alternate,a!==null&&(a.lanes|=m)}function Wd(a,n,c,m){return ad(a,n,c,m),Nr(a)}function bi(a,n){return ad(a,null,null,n),Nr(a)}function rd(a,n,c){a.lanes|=c;var m=a.alternate;m!==null&&(m.lanes|=c);for(var k=!1,D=a.return;D!==null;)D.childLanes|=c,m=D.alternate,m!==null&&(m.childLanes|=c),D.tag===22&&(a=D.stateNode,a===null||a._visibility&1||(k=!0)),a=D,D=D.return;return a.tag===3?(D=a.stateNode,k&&n!==null&&(k=31-us(c),a=D.hiddenUpdates,m=a[k],m===null?a[k]=[n]:m.push(n),n.lane=c|536870912),D):null}function Nr(a){if(50<wx)throw wx=0,$m=null,Error(l(185));for(var n=a.return;n!==null;)a=n,n=a.return;return a.tag===3?a.stateNode:null}var mr={};function Gd(a,n,c,m){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kr(a,n,c,m){return new Gd(a,n,c,m)}function Vd(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Dl(a,n){var c=a.alternate;return c===null?(c=kr(a.tag,n,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=n,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&65011712,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,n=a.dependencies,c.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c.refCleanup=a.refCleanup,c}function ld(a,n){a.flags&=65011714;var c=a.alternate;return c===null?(a.childLanes=0,a.lanes=n,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,n=c.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a}function sc(a,n,c,m,k,D){var U=0;if(m=a,typeof a=="function")Vd(a)&&(U=1);else if(typeof a=="string")U=O5(a,c,ae.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case P:return a=kr(31,c,n,k),a.elementType=P,a.lanes=D,a;case S:return Ii(c.children,k,D,n);case v:U=8,k|=24;break;case N:return a=kr(12,c,n,k|2),a.elementType=N,a.lanes=D,a;case T:return a=kr(13,c,n,k),a.elementType=T,a.lanes=D,a;case _:return a=kr(19,c,n,k),a.elementType=_,a.lanes=D,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case L:U=10;break e;case A:U=9;break e;case M:U=11;break e;case I:U=14;break e;case B:U=16,m=null;break e}U=29,c=Error(l(130,a===null?"null":typeof a,"")),m=null}return n=kr(U,c,n,k),n.elementType=a,n.type=m,n.lanes=D,n}function Ii(a,n,c,m){return a=kr(7,a,m,n),a.lanes=c,a}function nd(a,n,c){return a=kr(6,a,null,n),a.lanes=c,a}function Yd(a){var n=kr(18,null,null,0);return n.stateNode=a,n}function ac(a,n,c){return n=kr(4,a.children!==null?a.children:[],a.key,n),n.lanes=c,n.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},n}var Xd=new WeakMap;function Ll(a,n){if(typeof a=="object"&&a!==null){var c=Xd.get(a);return c!==void 0?c:(n={value:a,source:n,stack:Ct(n)},Xd.set(a,n),n)}return{value:a,source:n,stack:Ct(n)}}var rc=[],bo=0,Kd=null,id=0,zl=[],El=0,Ui=null,Tl=1,_l="";function fl(a,n){rc[bo++]=id,rc[bo++]=Kd,Kd=a,id=n}function mu(a,n,c){zl[El++]=Tl,zl[El++]=_l,zl[El++]=Ui,Ui=a;var m=Tl;a=_l;var k=32-us(m)-1;m&=~(1<<k),c+=1;var D=32-us(n)+k;if(30<D){var U=k-k%5;D=(m&(1<<U)-1).toString(32),m>>=U,k-=U,Tl=1<<32-us(n)+k|c<<k|m,_l=D+a}else Tl=1<<D|c<<k|m,_l=a}function tx(a){a.return!==null&&(fl(a,1),mu(a,1,0))}function Jd(a){for(;a===Kd;)Kd=rc[--bo],rc[bo]=null,id=rc[--bo],rc[bo]=null;for(;a===Ui;)Ui=zl[--El],zl[El]=null,_l=zl[--El],zl[El]=null,Tl=zl[--El],zl[El]=null}function pu(a,n){zl[El++]=Tl,zl[El++]=_l,zl[El++]=Ui,Tl=n.id,_l=n.overflow,Ui=a}var pr=null,la=null,fs=!1,Or=null,ja=!1,dn=Error(l(519));function $i(a){var n=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw lc(Ll(n,a)),dn}function sx(a){var n=a.stateNode,c=a.type,m=a.memoizedProps;switch(n[Ws]=a,n[ma]=m,c){case"dialog":bs("cancel",n),bs("close",n);break;case"iframe":case"object":case"embed":bs("load",n);break;case"video":case"audio":for(c=0;c<kx.length;c++)bs(kx[c],n);break;case"source":bs("error",n);break;case"img":case"image":case"link":bs("error",n),bs("load",n);break;case"details":bs("toggle",n);break;case"input":bs("invalid",n),_d(n,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":bs("invalid",n);break;case"textarea":bs("invalid",n),Wc(n,m.value,m.defaultValue,m.children)}c=m.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||n.textContent===""+c||m.suppressHydrationWarning===!0||mv(n.textContent,c)?(m.popover!=null&&(bs("beforetoggle",n),bs("toggle",n)),m.onScroll!=null&&bs("scroll",n),m.onScrollEnd!=null&&bs("scrollend",n),m.onClick!=null&&(n.onclick=an),n=!0):n=!1,n||$i(a,!0)}function vi(a){for(pr=a.return;pr;)switch(pr.tag){case 5:case 31:case 13:ja=!1;return;case 27:case 3:ja=!0;return;default:pr=pr.return}}function fr(a){if(a!==pr)return!1;if(!fs)return vi(a),fs=!0,!1;var n=a.tag,c;if((c=n!==3&&n!==27)&&((c=n===5)&&(c=a.type,c=!(c!=="form"&&c!=="button")||ap(a.type,a.memoizedProps)),c=!c),c&&la&&$i(a),vi(a),n===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(l(317));la=Nv(a)}else if(n===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(l(317));la=Nv(a)}else n===27?(n=la,vc(a.type)?(a=op,op=null,la=a):la=n):la=pr?$n(a.stateNode.nextSibling):null;return!0}function vo(){la=pr=null,fs=!1}function ax(){var a=Or;return a!==null&&(Il===null?Il=a:Il.push.apply(Il,a),Or=null),a}function lc(a){Or===null?Or=[a]:Or.push(a)}var Zd=X(null),qi=null,Bn=null;function Hi(a,n,c){Z(Zd,n._currentValue),n._currentValue=c}function Pl(a){a._currentValue=Zd.current,q(Zd)}function nc(a,n,c){for(;a!==null;){var m=a.alternate;if((a.childLanes&n)!==n?(a.childLanes|=n,m!==null&&(m.childLanes|=n)):m!==null&&(m.childLanes&n)!==n&&(m.childLanes|=n),a===c)break;a=a.return}}function yo(a,n,c,m){var k=a.child;for(k!==null&&(k.return=a);k!==null;){var D=k.dependencies;if(D!==null){var U=k.child;D=D.firstContext;e:for(;D!==null;){var ee=D;D=k;for(var me=0;me<n.length;me++)if(ee.context===n[me]){D.lanes|=c,ee=D.alternate,ee!==null&&(ee.lanes|=c),nc(D.return,c,a),m||(U=null);break e}D=ee.next}}else if(k.tag===18){if(U=k.return,U===null)throw Error(l(341));U.lanes|=c,D=U.alternate,D!==null&&(D.lanes|=c),nc(U,c,a),U=null}else U=k.child;if(U!==null)U.return=k;else for(U=k;U!==null;){if(U===a){U=null;break}if(k=U.sibling,k!==null){k.return=U.return,U=k;break}U=U.return}k=U}}function Wi(a,n,c,m){a=null;for(var k=n,D=!1;k!==null;){if(!D){if((k.flags&524288)!==0)D=!0;else if((k.flags&262144)!==0)break}if(k.tag===10){var U=k.alternate;if(U===null)throw Error(l(387));if(U=U.memoizedProps,U!==null){var ee=k.type;hr(k.pendingProps.value,U.value)||(a!==null?a.push(ee):a=[ee])}}else if(k===be.current){if(U=k.alternate,U===null)throw Error(l(387));U.memoizedState.memoizedState!==k.memoizedState.memoizedState&&(a!==null?a.push(Dx):a=[Dx])}k=k.return}a!==null&&yo(n,a,c,m),n.flags|=262144}function Qd(a){for(a=a.firstContext;a!==null;){if(!hr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Gi(a){qi=a,Bn=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function gr(a){return fu(qi,a)}function e0(a,n){return qi===null&&Gi(a),fu(a,n)}function fu(a,n){var c=n._currentValue;if(n={context:n,memoizedValue:c,next:null},Bn===null){if(a===null)throw Error(l(308));Bn=n,a.dependencies={lanes:0,firstContext:n},a.flags|=524288}else Bn=Bn.next=n;return c}var im=typeof AbortController<"u"?AbortController:function(){var a=[],n=this.signal={aborted:!1,addEventListener:function(c,m){a.push(m)}};this.abort=function(){n.aborted=!0,a.forEach(function(c){return c()})}},om=t.unstable_scheduleCallback,cm=t.unstable_NormalPriority,Ea={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ic(){return{controller:new im,data:new Map,refCount:0}}function od(a){a.refCount--,a.refCount===0&&om(cm,function(){a.controller.abort()})}var cd=null,t0=0,b=0,C=null;function E(a,n){if(cd===null){var c=cd=[];t0=0,b=Ym(),C={status:"pending",value:void 0,then:function(m){c.push(m)}}}return t0++,n.then(O,O),n}function O(){if(--t0===0&&cd!==null){C!==null&&(C.status="fulfilled");var a=cd;cd=null,b=0,C=null;for(var n=0;n<a.length;n++)(0,a[n])()}}function Y(a,n){var c=[],m={status:"pending",value:null,reason:null,then:function(k){c.push(k)}};return a.then(function(){m.status="fulfilled",m.value=n;for(var k=0;k<c.length;k++)(0,c[k])(n)},function(k){for(m.status="rejected",m.reason=k,k=0;k<c.length;k++)(0,c[k])(void 0)}),m}var K=Q.S;Q.S=function(a,n){Fb=Ge(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&E(a,n),K!==null&&K(a,n)};var J=X(null);function te(){var a=J.current;return a!==null?a:ia.pooledCache}function re(a,n){n===null?Z(J,J.current):Z(J,n.pool)}function oe(){var a=te();return a===null?null:{parent:Ea._currentValue,pool:a}}var fe=Error(l(460)),Ae=Error(l(474)),ie=Error(l(542)),ve={then:function(){}};function Se(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Oe(a,n,c){switch(c=a[c],c===void 0?a.push(n):c!==n&&(n.then(an,an),n=c),n.status){case"fulfilled":return n.value;case"rejected":throw a=n.reason,Ke(a),a;default:if(typeof n.status=="string")n.then(an,an);else{if(a=ia,a!==null&&100<a.shellSuspendCounter)throw Error(l(482));a=n,a.status="pending",a.then(function(m){if(n.status==="pending"){var k=n;k.status="fulfilled",k.value=m}},function(m){if(n.status==="pending"){var k=n;k.status="rejected",k.reason=m}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw a=n.reason,Ke(a),a}throw Re=n,fe}}function Ce(a){try{var n=a._init;return n(a._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Re=c,fe):c}}var Re=null;function Ue(){if(Re===null)throw Error(l(459));var a=Re;return Re=null,a}function Ke(a){if(a===fe||a===ie)throw Error(l(483))}var He=null,mt=0;function it(a){var n=mt;return mt+=1,He===null&&(He=[]),Oe(He,a,n)}function Vt(a,n){n=n.props.ref,a.ref=n!==void 0?n:null}function xt(a,n){throw n.$$typeof===y?Error(l(525)):(a=Object.prototype.toString.call(n),Error(l(31,a==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":a)))}function hs(a){function n(je,ge){if(a){var De=je.deletions;De===null?(je.deletions=[ge],je.flags|=16):De.push(ge)}}function c(je,ge){if(!a)return null;for(;ge!==null;)n(je,ge),ge=ge.sibling;return null}function m(je){for(var ge=new Map;je!==null;)je.key!==null?ge.set(je.key,je):ge.set(je.index,je),je=je.sibling;return ge}function k(je,ge){return je=Dl(je,ge),je.index=0,je.sibling=null,je}function D(je,ge,De){return je.index=De,a?(De=je.alternate,De!==null?(De=De.index,De<ge?(je.flags|=67108866,ge):De):(je.flags|=67108866,ge)):(je.flags|=1048576,ge)}function U(je){return a&&je.alternate===null&&(je.flags|=67108866),je}function ee(je,ge,De,$e){return ge===null||ge.tag!==6?(ge=nd(De,je.mode,$e),ge.return=je,ge):(ge=k(ge,De),ge.return=je,ge)}function me(je,ge,De,$e){var zt=De.type;return zt===S?Be(je,ge,De.props.children,$e,De.key):ge!==null&&(ge.elementType===zt||typeof zt=="object"&&zt!==null&&zt.$$typeof===B&&Ce(zt)===ge.type)?(ge=k(ge,De.props),Vt(ge,De),ge.return=je,ge):(ge=sc(De.type,De.key,De.props,null,je.mode,$e),Vt(ge,De),ge.return=je,ge)}function ze(je,ge,De,$e){return ge===null||ge.tag!==4||ge.stateNode.containerInfo!==De.containerInfo||ge.stateNode.implementation!==De.implementation?(ge=ac(De,je.mode,$e),ge.return=je,ge):(ge=k(ge,De.children||[]),ge.return=je,ge)}function Be(je,ge,De,$e,zt){return ge===null||ge.tag!==7?(ge=Ii(De,je.mode,$e,zt),ge.return=je,ge):(ge=k(ge,De),ge.return=je,ge)}function qe(je,ge,De){if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return ge=nd(""+ge,je.mode,De),ge.return=je,ge;if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case f:return De=sc(ge.type,ge.key,ge.props,null,je.mode,De),Vt(De,ge),De.return=je,De;case w:return ge=ac(ge,je.mode,De),ge.return=je,ge;case B:return ge=Ce(ge),qe(je,ge,De)}if(le(ge)||H(ge))return ge=Ii(ge,je.mode,De,null),ge.return=je,ge;if(typeof ge.then=="function")return qe(je,it(ge),De);if(ge.$$typeof===L)return qe(je,e0(je,ge),De);xt(je,ge)}return null}function Ee(je,ge,De,$e){var zt=ge!==null?ge.key:null;if(typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint")return zt!==null?null:ee(je,ge,""+De,$e);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case f:return De.key===zt?me(je,ge,De,$e):null;case w:return De.key===zt?ze(je,ge,De,$e):null;case B:return De=Ce(De),Ee(je,ge,De,$e)}if(le(De)||H(De))return zt!==null?null:Be(je,ge,De,$e,null);if(typeof De.then=="function")return Ee(je,ge,it(De),$e);if(De.$$typeof===L)return Ee(je,ge,e0(je,De),$e);xt(je,De)}return null}function Pe(je,ge,De,$e,zt){if(typeof $e=="string"&&$e!==""||typeof $e=="number"||typeof $e=="bigint")return je=je.get(De)||null,ee(ge,je,""+$e,zt);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case f:return je=je.get($e.key===null?De:$e.key)||null,me(ge,je,$e,zt);case w:return je=je.get($e.key===null?De:$e.key)||null,ze(ge,je,$e,zt);case B:return $e=Ce($e),Pe(je,ge,De,$e,zt)}if(le($e)||H($e))return je=je.get(De)||null,Be(ge,je,$e,zt,null);if(typeof $e.then=="function")return Pe(je,ge,De,it($e),zt);if($e.$$typeof===L)return Pe(je,ge,De,e0(ge,$e),zt);xt(ge,$e)}return null}function ht(je,ge,De,$e){for(var zt=null,Ps=null,vt=ge,os=ge=0,ws=null;vt!==null&&os<De.length;os++){vt.index>os?(ws=vt,vt=null):ws=vt.sibling;var Rs=Ee(je,vt,De[os],$e);if(Rs===null){vt===null&&(vt=ws);break}a&&vt&&Rs.alternate===null&&n(je,vt),ge=D(Rs,ge,os),Ps===null?zt=Rs:Ps.sibling=Rs,Ps=Rs,vt=ws}if(os===De.length)return c(je,vt),fs&&fl(je,os),zt;if(vt===null){for(;os<De.length;os++)vt=qe(je,De[os],$e),vt!==null&&(ge=D(vt,ge,os),Ps===null?zt=vt:Ps.sibling=vt,Ps=vt);return fs&&fl(je,os),zt}for(vt=m(vt);os<De.length;os++)ws=Pe(vt,je,os,De[os],$e),ws!==null&&(a&&ws.alternate!==null&&vt.delete(ws.key===null?os:ws.key),ge=D(ws,ge,os),Ps===null?zt=ws:Ps.sibling=ws,Ps=ws);return a&&vt.forEach(function(kc){return n(je,kc)}),fs&&fl(je,os),zt}function Ot(je,ge,De,$e){if(De==null)throw Error(l(151));for(var zt=null,Ps=null,vt=ge,os=ge=0,ws=null,Rs=De.next();vt!==null&&!Rs.done;os++,Rs=De.next()){vt.index>os?(ws=vt,vt=null):ws=vt.sibling;var kc=Ee(je,vt,Rs.value,$e);if(kc===null){vt===null&&(vt=ws);break}a&&vt&&kc.alternate===null&&n(je,vt),ge=D(kc,ge,os),Ps===null?zt=kc:Ps.sibling=kc,Ps=kc,vt=ws}if(Rs.done)return c(je,vt),fs&&fl(je,os),zt;if(vt===null){for(;!Rs.done;os++,Rs=De.next())Rs=qe(je,Rs.value,$e),Rs!==null&&(ge=D(Rs,ge,os),Ps===null?zt=Rs:Ps.sibling=Rs,Ps=Rs);return fs&&fl(je,os),zt}for(vt=m(vt);!Rs.done;os++,Rs=De.next())Rs=Pe(vt,je,os,Rs.value,$e),Rs!==null&&(a&&Rs.alternate!==null&&vt.delete(Rs.key===null?os:Rs.key),ge=D(Rs,ge,os),Ps===null?zt=Rs:Ps.sibling=Rs,Ps=Rs);return a&&vt.forEach(function(Y5){return n(je,Y5)}),fs&&fl(je,os),zt}function ra(je,ge,De,$e){if(typeof De=="object"&&De!==null&&De.type===S&&De.key===null&&(De=De.props.children),typeof De=="object"&&De!==null){switch(De.$$typeof){case f:e:{for(var zt=De.key;ge!==null;){if(ge.key===zt){if(zt=De.type,zt===S){if(ge.tag===7){c(je,ge.sibling),$e=k(ge,De.props.children),$e.return=je,je=$e;break e}}else if(ge.elementType===zt||typeof zt=="object"&&zt!==null&&zt.$$typeof===B&&Ce(zt)===ge.type){c(je,ge.sibling),$e=k(ge,De.props),Vt($e,De),$e.return=je,je=$e;break e}c(je,ge);break}else n(je,ge);ge=ge.sibling}De.type===S?($e=Ii(De.props.children,je.mode,$e,De.key),$e.return=je,je=$e):($e=sc(De.type,De.key,De.props,null,je.mode,$e),Vt($e,De),$e.return=je,je=$e)}return U(je);case w:e:{for(zt=De.key;ge!==null;){if(ge.key===zt)if(ge.tag===4&&ge.stateNode.containerInfo===De.containerInfo&&ge.stateNode.implementation===De.implementation){c(je,ge.sibling),$e=k(ge,De.children||[]),$e.return=je,je=$e;break e}else{c(je,ge);break}else n(je,ge);ge=ge.sibling}$e=ac(De,je.mode,$e),$e.return=je,je=$e}return U(je);case B:return De=Ce(De),ra(je,ge,De,$e)}if(le(De))return ht(je,ge,De,$e);if(H(De)){if(zt=H(De),typeof zt!="function")throw Error(l(150));return De=zt.call(De),Ot(je,ge,De,$e)}if(typeof De.then=="function")return ra(je,ge,it(De),$e);if(De.$$typeof===L)return ra(je,ge,e0(je,De),$e);xt(je,De)}return typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint"?(De=""+De,ge!==null&&ge.tag===6?(c(je,ge.sibling),$e=k(ge,De),$e.return=je,je=$e):(c(je,ge),$e=nd(De,je.mode,$e),$e.return=je,je=$e),U(je)):c(je,ge)}return function(je,ge,De,$e){try{mt=0;var zt=ra(je,ge,De,$e);return He=null,zt}catch(vt){if(vt===fe||vt===ie)throw vt;var Ps=kr(29,vt,null,je.mode);return Ps.lanes=$e,Ps.return=je,Ps}}}var na=hs(!0),Zt=hs(!1),ot=!1;function tt(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fa(a,n){a=a.updateQueue,n.updateQueue===a&&(n.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Pt(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function ns(a,n,c){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(Us&2)!==0){var k=m.pending;return k===null?n.next=n:(n.next=k.next,k.next=n),m.pending=n,n=Nr(a),rd(a,null,c),n}return ad(a,m,n,c),Nr(a)}function Bs(a,n,c){if(n=n.updateQueue,n!==null&&(n=n.shared,(c&4194048)!==0)){var m=n.lanes;m&=a.pendingLanes,c|=m,n.lanes=c,nl(a,c)}}function Xa(a,n){var c=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,c===m)){var k=null,D=null;if(c=c.firstBaseUpdate,c!==null){do{var U={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};D===null?k=D=U:D=D.next=U,c=c.next}while(c!==null);D===null?k=D=n:D=D.next=n}else k=D=n;c={baseState:m.baseState,firstBaseUpdate:k,lastBaseUpdate:D,shared:m.shared,callbacks:m.callbacks},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=n:a.next=n,c.lastBaseUpdate=n}var br=!1;function ta(){if(br){var a=C;if(a!==null)throw a}}function Fa(a,n,c,m){br=!1;var k=a.updateQueue;ot=!1;var D=k.firstBaseUpdate,U=k.lastBaseUpdate,ee=k.shared.pending;if(ee!==null){k.shared.pending=null;var me=ee,ze=me.next;me.next=null,U===null?D=ze:U.next=ze,U=me;var Be=a.alternate;Be!==null&&(Be=Be.updateQueue,ee=Be.lastBaseUpdate,ee!==U&&(ee===null?Be.firstBaseUpdate=ze:ee.next=ze,Be.lastBaseUpdate=me))}if(D!==null){var qe=k.baseState;U=0,Be=ze=me=null,ee=D;do{var Ee=ee.lane&-536870913,Pe=Ee!==ee.lane;if(Pe?(js&Ee)===Ee:(m&Ee)===Ee){Ee!==0&&Ee===b&&(br=!0),Be!==null&&(Be=Be.next={lane:0,tag:ee.tag,payload:ee.payload,callback:null,next:null});e:{var ht=a,Ot=ee;Ee=n;var ra=c;switch(Ot.tag){case 1:if(ht=Ot.payload,typeof ht=="function"){qe=ht.call(ra,qe,Ee);break e}qe=ht;break e;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=Ot.payload,Ee=typeof ht=="function"?ht.call(ra,qe,Ee):ht,Ee==null)break e;qe=g({},qe,Ee);break e;case 2:ot=!0}}Ee=ee.callback,Ee!==null&&(a.flags|=64,Pe&&(a.flags|=8192),Pe=k.callbacks,Pe===null?k.callbacks=[Ee]:Pe.push(Ee))}else Pe={lane:Ee,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null},Be===null?(ze=Be=Pe,me=qe):Be=Be.next=Pe,U|=Ee;if(ee=ee.next,ee===null){if(ee=k.shared.pending,ee===null)break;Pe=ee,ee=Pe.next,Pe.next=null,k.lastBaseUpdate=Pe,k.shared.pending=null}}while(!0);Be===null&&(me=qe),k.baseState=me,k.firstBaseUpdate=ze,k.lastBaseUpdate=Be,D===null&&(k.shared.lanes=0),mc|=U,a.lanes=U,a.memoizedState=qe}}function Sr(a,n){if(typeof a!="function")throw Error(l(191,a));a.call(n)}function Ba(a,n){var c=a.callbacks;if(c!==null)for(a.callbacks=null,a=0;a<c.length;a++)Sr(c[a],n)}var ds=X(null),Ds=X(0);function ga(a,n){a=Lo,Z(Ds,a),Z(ds,n),Lo=a|n.baseLanes}function _s(){Z(Ds,Lo),Z(ds,ds.current)}function Ka(){Lo=Ds.current,q(ds),q(Ds)}var ba=X(null),Ls=null;function Ta(a){var n=a.alternate;Z(As,As.current&1),Z(ba,a),Ls===null&&(n===null||ds.current!==null||n.memoizedState!==null)&&(Ls=a)}function Is(a){Z(As,As.current),Z(ba,a),Ls===null&&(Ls=a)}function Ia(a){a.tag===22?(Z(As,As.current),Z(ba,a),Ls===null&&(Ls=a)):Ua()}function Ua(){Z(As,As.current),Z(ba,ba.current)}function Gs(a){q(ba),Ls===a&&(Ls=null),q(As)}var As=X(0);function Cr(a){for(var n=a;n!==null;){if(n.tag===13){var c=n.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||np(c)||ip(c)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===a)break;for(;n.sibling===null;){if(n.return===null||n.return===a)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var wa=0,Mt=null,Lt=null,zs=null,Yr=!1,Rl=!1,Fr=!1,$a=0,Vi=0,Yi=null,s0=0;function sa(){throw Error(l(321))}function rx(a,n){if(n===null)return!1;for(var c=0;c<n.length&&c<a.length;c++)if(!hr(a[c],n[c]))return!1;return!0}function lx(a,n,c,m,k,D){return wa=D,Mt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Q.H=a===null||a.memoizedState===null?Xg:gm,Fr=!1,D=c(m,k),Fr=!1,Rl&&(D=yi(n,c,m,k)),a0(a),D}function a0(a){Q.H=hx;var n=Lt!==null&&Lt.next!==null;if(wa=0,zs=Lt=Mt=null,Yr=!1,Vi=0,Yi=null,n)throw Error(l(300));a===null||or||(a=a.dependencies,a!==null&&Qd(a)&&(or=!0))}function yi(a,n,c,m){Mt=a;var k=0;do{if(Rl&&(Yi=null),Vi=0,Rl=!1,25<=k)throw Error(l(301));if(k+=1,zs=Lt=null,a.updateQueue!=null){var D=a.updateQueue;D.lastEffect=null,D.events=null,D.stores=null,D.memoCache!=null&&(D.memoCache.index=0)}Q.H=Kg,D=n(c,m)}while(Rl);return D}function dm(){var a=Q.H,n=a.useState()[0];return n=typeof n.then=="function"?Xi(n):n,a=a.useState()[0],(Lt!==null?Lt.memoizedState:null)!==a&&(Mt.flags|=1024),n}function nx(){var a=$a!==0;return $a=0,a}function ix(a,n,c){n.updateQueue=a.updateQueue,n.flags&=-2053,a.lanes&=~c}function r0(a){if(Yr){for(a=a.memoizedState;a!==null;){var n=a.queue;n!==null&&(n.pending=null),a=a.next}Yr=!1}wa=0,zs=Lt=Mt=null,Rl=!1,Vi=$a=0,Yi=null}function ir(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zs===null?Mt.memoizedState=zs=a:zs=zs.next=a,zs}function Na(){if(Lt===null){var a=Mt.alternate;a=a!==null?a.memoizedState:null}else a=Lt.next;var n=zs===null?Mt.memoizedState:zs.next;if(n!==null)zs=n,Lt=a;else{if(a===null)throw Mt.alternate===null?Error(l(467)):Error(l(310));Lt=a,a={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},zs===null?Mt.memoizedState=zs=a:zs=zs.next=a}return zs}function dd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xi(a){var n=Vi;return Vi+=1,Yi===null&&(Yi=[]),a=Oe(Yi,a,n),n=Mt,(zs===null?n.memoizedState:zs.next)===null&&(n=n.alternate,Q.H=n===null||n.memoizedState===null?Xg:gm),a}function oc(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Xi(a);if(a.$$typeof===L)return gr(a)}throw Error(l(438,String(a)))}function jo(a){var n=null,c=Mt.updateQueue;if(c!==null&&(n=c.memoCache),n==null){var m=Mt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(n={data:m.data.map(function(k){return k.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),c===null&&(c=dd(),Mt.updateQueue=c),c.memoCache=n,c=n.data[n.index],c===void 0)for(c=n.data[n.index]=Array(a),m=0;m<a;m++)c[m]=R;return n.index++,c}function In(a,n){return typeof n=="function"?n(a):n}function l0(a){var n=Na();return cc(n,Lt,a)}function cc(a,n,c){var m=a.queue;if(m===null)throw Error(l(311));m.lastRenderedReducer=c;var k=a.baseQueue,D=m.pending;if(D!==null){if(k!==null){var U=k.next;k.next=D.next,D.next=U}n.baseQueue=k=D,m.pending=null}if(D=a.baseState,k===null)a.memoizedState=D;else{n=k.next;var ee=U=null,me=null,ze=n,Be=!1;do{var qe=ze.lane&-536870913;if(qe!==ze.lane?(js&qe)===qe:(wa&qe)===qe){var Ee=ze.revertLane;if(Ee===0)me!==null&&(me=me.next={lane:0,revertLane:0,gesture:null,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null}),qe===b&&(Be=!0);else if((wa&Ee)===Ee){ze=ze.next,Ee===b&&(Be=!0);continue}else qe={lane:0,revertLane:ze.revertLane,gesture:null,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null},me===null?(ee=me=qe,U=D):me=me.next=qe,Mt.lanes|=Ee,mc|=Ee;qe=ze.action,Fr&&c(D,qe),D=ze.hasEagerState?ze.eagerState:c(D,qe)}else Ee={lane:qe,revertLane:ze.revertLane,gesture:ze.gesture,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null},me===null?(ee=me=Ee,U=D):me=me.next=Ee,Mt.lanes|=qe,mc|=qe;ze=ze.next}while(ze!==null&&ze!==n);if(me===null?U=D:me.next=ee,!hr(D,a.memoizedState)&&(or=!0,Be&&(c=C,c!==null)))throw c;a.memoizedState=D,a.baseState=U,a.baseQueue=me,m.lastRenderedState=D}return k===null&&(m.lanes=0),[a.memoizedState,m.dispatch]}function n0(a){var n=Na(),c=n.queue;if(c===null)throw Error(l(311));c.lastRenderedReducer=a;var m=c.dispatch,k=c.pending,D=n.memoizedState;if(k!==null){c.pending=null;var U=k=k.next;do D=a(D,U.action),U=U.next;while(U!==k);hr(D,n.memoizedState)||(or=!0),n.memoizedState=D,n.baseQueue===null&&(n.baseState=D),c.lastRenderedState=D}return[D,m]}function i0(a,n,c){var m=Mt,k=Na(),D=fs;if(D){if(c===void 0)throw Error(l(407));c=c()}else c=n();var U=!hr((Lt||k).memoizedState,c);if(U&&(k.memoizedState=c,or=!0),k=k.queue,xm(cx.bind(null,m,k,a),[a]),k.getSnapshot!==n||U||zs!==null&&zs.memoizedState.tag&1){if(m.flags|=2048,No(9,{destroy:void 0},ox.bind(null,m,k,c,n),null),ia===null)throw Error(l(349));D||(wa&127)!==0||ji(m,n,c)}return c}function ji(a,n,c){a.flags|=16384,a={getSnapshot:n,value:c},n=Mt.updateQueue,n===null?(n=dd(),Mt.updateQueue=n,n.stores=[a]):(c=n.stores,c===null?n.stores=[a]:c.push(a))}function ox(a,n,c,m){n.value=c,n.getSnapshot=m,gu(n)&&dx(a)}function cx(a,n,c){return c(function(){gu(n)&&dx(a)})}function gu(a){var n=a.getSnapshot;a=a.value;try{var c=n();return!hr(a,c)}catch{return!0}}function dx(a){var n=bi(a,2);n!==null&&Ul(n,a,2)}function Ki(a){var n=ir();if(typeof a=="function"){var c=a;if(a=c(),Fr){Ut(!0);try{c()}finally{Ut(!1)}}}return n.memoizedState=n.baseState=a,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:In,lastRenderedState:a},n}function bu(a,n,c,m){return a.baseState=c,cc(a,Lt,typeof m=="function"?m:In)}function vu(a,n,c,m,k){if(Nu(a))throw Error(l(485));if(a=n.action,a!==null){var D={payload:k,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(U){D.listeners.push(U)}};Q.T!==null?c(!0):D.isTransition=!1,m(D),c=n.pending,c===null?(D.next=n.pending=D,yu(n,D)):(D.next=c.next,n.pending=c.next=D)}}function yu(a,n){var c=n.action,m=n.payload,k=a.state;if(n.isTransition){var D=Q.T,U={};Q.T=U;try{var ee=c(k,m),me=Q.S;me!==null&&me(U,ee),xx(a,n,ee)}catch(ze){wo(a,n,ze)}finally{D!==null&&U.types!==null&&(D.types=U.types),Q.T=D}}else try{D=c(k,m),xx(a,n,D)}catch(ze){wo(a,n,ze)}}function xx(a,n,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(m){ju(a,n,m)},function(m){return wo(a,n,m)}):ju(a,n,c)}function ju(a,n,c){n.status="fulfilled",n.value=c,o0(n),a.state=c,n=a.pending,n!==null&&(c=n.next,c===n?a.pending=null:(c=c.next,n.next=c,yu(a,c)))}function wo(a,n,c){var m=a.pending;if(a.pending=null,m!==null){m=m.next;do n.status="rejected",n.reason=c,o0(n),n=n.next;while(n!==m)}a.action=null}function o0(a){a=a.listeners;for(var n=0;n<a.length;n++)(0,a[n])()}function xd(a,n){return n}function Un(a,n){if(fs){var c=ia.formState;if(c!==null){e:{var m=Mt;if(fs){if(la){t:{for(var k=la,D=ja;k.nodeType!==8;){if(!D){k=null;break t}if(k=$n(k.nextSibling),k===null){k=null;break t}}D=k.data,k=D==="F!"||D==="F"?k:null}if(k){la=$n(k.nextSibling),m=k.data==="F!";break e}}$i(m)}m=!1}m&&(n=c[0])}}return c=ir(),c.memoizedState=c.baseState=n,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xd,lastRenderedState:n},c.queue=m,c=Gg.bind(null,Mt,m),m.dispatch=c,m=Ki(!1),D=fm.bind(null,Mt,!1,m.queue),m=ir(),k={state:n,dispatch:null,action:a,pending:null},m.queue=k,c=vu.bind(null,Mt,k,D,c),k.dispatch=c,m.memoizedState=a,[n,c,!1]}function wi(a){var n=Na();return Ni(n,Lt,a)}function Ni(a,n,c){if(n=cc(a,n,xd)[0],a=l0(In)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var m=Xi(n)}catch(U){throw U===fe?ie:U}else m=n;n=Na();var k=n.queue,D=k.dispatch;return c!==n.memoizedState&&(Mt.flags|=2048,No(9,{destroy:void 0},c0.bind(null,k,c),null)),[m,D,a]}function c0(a,n){a.action=n}function d0(a){var n=Na(),c=Lt;if(c!==null)return Ni(n,c,a);Na(),n=n.memoizedState,c=Na();var m=c.queue.dispatch;return c.memoizedState=a,[n,m,!1]}function No(a,n,c,m){return a={tag:a,create:c,deps:m,inst:n,next:null},n=Mt.updateQueue,n===null&&(n=dd(),Mt.updateQueue=n),c=n.lastEffect,c===null?n.lastEffect=a.next=a:(m=c.next,c.next=a,a.next=m,n.lastEffect=a),a}function wu(){return Na().memoizedState}function dc(a,n,c,m){var k=ir();Mt.flags|=a,k.memoizedState=No(1|n,{destroy:void 0},c,m===void 0?null:m)}function xc(a,n,c,m){var k=Na();m=m===void 0?null:m;var D=k.memoizedState.inst;Lt!==null&&m!==null&&rx(m,Lt.memoizedState.deps)?k.memoizedState=No(n,D,c,m):(Mt.flags|=a,k.memoizedState=No(1|n,D,c,m))}function Eg(a,n){dc(8390656,8,a,n)}function xm(a,n){xc(2048,8,a,n)}function $N(a){Mt.flags|=4;var n=Mt.updateQueue;if(n===null)n=dd(),Mt.updateQueue=n,n.events=[a];else{var c=n.events;c===null?n.events=[a]:c.push(a)}}function Tg(a){var n=Na().memoizedState;return $N({ref:n,nextImpl:a}),function(){if((Us&2)!==0)throw Error(l(440));return n.impl.apply(void 0,arguments)}}function _g(a,n){return xc(4,2,a,n)}function Pg(a,n){return xc(4,4,a,n)}function Rg(a,n){if(typeof n=="function"){a=a();var c=n(a);return function(){typeof c=="function"?c():n(null)}}if(n!=null)return a=a(),n.current=a,function(){n.current=null}}function Og(a,n,c){c=c!=null?c.concat([a]):null,xc(4,4,Rg.bind(null,n,a),c)}function um(){}function Fg(a,n){var c=Na();n=n===void 0?null:n;var m=c.memoizedState;return n!==null&&rx(n,m[1])?m[0]:(c.memoizedState=[a,n],a)}function Bg(a,n){var c=Na();n=n===void 0?null:n;var m=c.memoizedState;if(n!==null&&rx(n,m[1]))return m[0];if(m=a(),Fr){Ut(!0);try{a()}finally{Ut(!1)}}return c.memoizedState=[m,n],m}function hm(a,n,c){return c===void 0||(wa&1073741824)!==0&&(js&261930)===0?a.memoizedState=n:(a.memoizedState=c,a=Ib(),Mt.lanes|=a,mc|=a,c)}function Ig(a,n,c,m){return hr(c,n)?c:ds.current!==null?(a=hm(a,c,m),hr(a,n)||(or=!0),a):(wa&42)===0||(wa&1073741824)!==0&&(js&261930)===0?(or=!0,a.memoizedState=c):(a=Ib(),Mt.lanes|=a,mc|=a,n)}function Ug(a,n,c,m,k){var D=ne.p;ne.p=D!==0&&8>D?D:8;var U=Q.T,ee={};Q.T=ee,fm(a,!1,n,c);try{var me=k(),ze=Q.S;if(ze!==null&&ze(ee,me),me!==null&&typeof me=="object"&&typeof me.then=="function"){var Be=Y(me,m);ux(a,n,Be,hn(a))}else ux(a,n,m,hn(a))}catch(qe){ux(a,n,{then:function(){},status:"rejected",reason:qe},hn())}finally{ne.p=D,U!==null&&ee.types!==null&&(U.types=ee.types),Q.T=U}}function qN(){}function mm(a,n,c,m){if(a.tag!==5)throw Error(l(476));var k=$g(a).queue;Ug(a,k,n,F,c===null?qN:function(){return qg(a),c(m)})}function $g(a){var n=a.memoizedState;if(n!==null)return n;n={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:In,lastRenderedState:F},next:null};var c={};return n.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:In,lastRenderedState:c},next:null},a.memoizedState=n,a=a.alternate,a!==null&&(a.memoizedState=n),n}function qg(a){var n=$g(a);n.next===null&&(n=a.alternate.memoizedState),ux(a,n.next.queue,{},hn())}function pm(){return gr(Dx)}function Hg(){return Na().memoizedState}function Wg(){return Na().memoizedState}function HN(a){for(var n=a.return;n!==null;){switch(n.tag){case 24:case 3:var c=hn();a=Pt(c);var m=ns(n,a,c);m!==null&&(Ul(m,n,c),Bs(m,n,c)),n={cache:ic()},a.payload=n;return}n=n.return}}function WN(a,n,c){var m=hn();c={lane:m,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Nu(a)?Vg(n,c):(c=Wd(a,n,c,m),c!==null&&(Ul(c,a,m),Yg(c,n,m)))}function Gg(a,n,c){var m=hn();ux(a,n,c,m)}function ux(a,n,c,m){var k={lane:m,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Nu(a))Vg(n,k);else{var D=a.alternate;if(a.lanes===0&&(D===null||D.lanes===0)&&(D=n.lastRenderedReducer,D!==null))try{var U=n.lastRenderedState,ee=D(U,c);if(k.hasEagerState=!0,k.eagerState=ee,hr(ee,U))return ad(a,n,k,0),ia===null&&sd(),!1}catch{}if(c=Wd(a,n,k,m),c!==null)return Ul(c,a,m),Yg(c,n,m),!0}return!1}function fm(a,n,c,m){if(m={lane:2,revertLane:Ym(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Nu(a)){if(n)throw Error(l(479))}else n=Wd(a,c,m,2),n!==null&&Ul(n,a,2)}function Nu(a){var n=a.alternate;return a===Mt||n!==null&&n===Mt}function Vg(a,n){Rl=Yr=!0;var c=a.pending;c===null?n.next=n:(n.next=c.next,c.next=n),a.pending=n}function Yg(a,n,c){if((c&4194048)!==0){var m=n.lanes;m&=a.pendingLanes,c|=m,n.lanes=c,nl(a,c)}}var hx={readContext:gr,use:oc,useCallback:sa,useContext:sa,useEffect:sa,useImperativeHandle:sa,useLayoutEffect:sa,useInsertionEffect:sa,useMemo:sa,useReducer:sa,useRef:sa,useState:sa,useDebugValue:sa,useDeferredValue:sa,useTransition:sa,useSyncExternalStore:sa,useId:sa,useHostTransitionStatus:sa,useFormState:sa,useActionState:sa,useOptimistic:sa,useMemoCache:sa,useCacheRefresh:sa};hx.useEffectEvent=sa;var Xg={readContext:gr,use:oc,useCallback:function(a,n){return ir().memoizedState=[a,n===void 0?null:n],a},useContext:gr,useEffect:Eg,useImperativeHandle:function(a,n,c){c=c!=null?c.concat([a]):null,dc(4194308,4,Rg.bind(null,n,a),c)},useLayoutEffect:function(a,n){return dc(4194308,4,a,n)},useInsertionEffect:function(a,n){dc(4,2,a,n)},useMemo:function(a,n){var c=ir();n=n===void 0?null:n;var m=a();if(Fr){Ut(!0);try{a()}finally{Ut(!1)}}return c.memoizedState=[m,n],m},useReducer:function(a,n,c){var m=ir();if(c!==void 0){var k=c(n);if(Fr){Ut(!0);try{c(n)}finally{Ut(!1)}}}else k=n;return m.memoizedState=m.baseState=k,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:k},m.queue=a,a=a.dispatch=WN.bind(null,Mt,a),[m.memoizedState,a]},useRef:function(a){var n=ir();return a={current:a},n.memoizedState=a},useState:function(a){a=Ki(a);var n=a.queue,c=Gg.bind(null,Mt,n);return n.dispatch=c,[a.memoizedState,c]},useDebugValue:um,useDeferredValue:function(a,n){var c=ir();return hm(c,a,n)},useTransition:function(){var a=Ki(!1);return a=Ug.bind(null,Mt,a.queue,!0,!1),ir().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,n,c){var m=Mt,k=ir();if(fs){if(c===void 0)throw Error(l(407));c=c()}else{if(c=n(),ia===null)throw Error(l(349));(js&127)!==0||ji(m,n,c)}k.memoizedState=c;var D={value:c,getSnapshot:n};return k.queue=D,Eg(cx.bind(null,m,D,a),[a]),m.flags|=2048,No(9,{destroy:void 0},ox.bind(null,m,D,c,n),null),c},useId:function(){var a=ir(),n=ia.identifierPrefix;if(fs){var c=_l,m=Tl;c=(m&~(1<<32-us(m)-1)).toString(32)+c,n="_"+n+"R_"+c,c=$a++,0<c&&(n+="H"+c.toString(32)),n+="_"}else c=s0++,n="_"+n+"r_"+c.toString(32)+"_";return a.memoizedState=n},useHostTransitionStatus:pm,useFormState:Un,useActionState:Un,useOptimistic:function(a){var n=ir();n.memoizedState=n.baseState=a;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=c,n=fm.bind(null,Mt,!0,c),c.dispatch=n,[a,n]},useMemoCache:jo,useCacheRefresh:function(){return ir().memoizedState=HN.bind(null,Mt)},useEffectEvent:function(a){var n=ir(),c={impl:a};return n.memoizedState=c,function(){if((Us&2)!==0)throw Error(l(440));return c.impl.apply(void 0,arguments)}}},gm={readContext:gr,use:oc,useCallback:Fg,useContext:gr,useEffect:xm,useImperativeHandle:Og,useInsertionEffect:_g,useLayoutEffect:Pg,useMemo:Bg,useReducer:l0,useRef:wu,useState:function(){return l0(In)},useDebugValue:um,useDeferredValue:function(a,n){var c=Na();return Ig(c,Lt.memoizedState,a,n)},useTransition:function(){var a=l0(In)[0],n=Na().memoizedState;return[typeof a=="boolean"?a:Xi(a),n]},useSyncExternalStore:i0,useId:Hg,useHostTransitionStatus:pm,useFormState:wi,useActionState:wi,useOptimistic:function(a,n){var c=Na();return bu(c,Lt,a,n)},useMemoCache:jo,useCacheRefresh:Wg};gm.useEffectEvent=Tg;var Kg={readContext:gr,use:oc,useCallback:Fg,useContext:gr,useEffect:xm,useImperativeHandle:Og,useInsertionEffect:_g,useLayoutEffect:Pg,useMemo:Bg,useReducer:n0,useRef:wu,useState:function(){return n0(In)},useDebugValue:um,useDeferredValue:function(a,n){var c=Na();return Lt===null?hm(c,a,n):Ig(c,Lt.memoizedState,a,n)},useTransition:function(){var a=n0(In)[0],n=Na().memoizedState;return[typeof a=="boolean"?a:Xi(a),n]},useSyncExternalStore:i0,useId:Hg,useHostTransitionStatus:pm,useFormState:d0,useActionState:d0,useOptimistic:function(a,n){var c=Na();return Lt!==null?bu(c,Lt,a,n):(c.baseState=a,[a,c.queue.dispatch])},useMemoCache:jo,useCacheRefresh:Wg};Kg.useEffectEvent=Tg;function bm(a,n,c,m){n=a.memoizedState,c=c(m,n),c=c==null?n:g({},n,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var vm={enqueueSetState:function(a,n,c){a=a._reactInternals;var m=hn(),k=Pt(m);k.payload=n,c!=null&&(k.callback=c),n=ns(a,k,m),n!==null&&(Ul(n,a,m),Bs(n,a,m))},enqueueReplaceState:function(a,n,c){a=a._reactInternals;var m=hn(),k=Pt(m);k.tag=1,k.payload=n,c!=null&&(k.callback=c),n=ns(a,k,m),n!==null&&(Ul(n,a,m),Bs(n,a,m))},enqueueForceUpdate:function(a,n){a=a._reactInternals;var c=hn(),m=Pt(c);m.tag=2,n!=null&&(m.callback=n),n=ns(a,m,c),n!==null&&(Ul(n,a,c),Bs(n,a,c))}};function Jg(a,n,c,m,k,D,U){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,D,U):n.prototype&&n.prototype.isPureReactComponent?!mi(c,m)||!mi(k,D):!0}function Zg(a,n,c,m){a=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(c,m),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(c,m),n.state!==a&&vm.enqueueReplaceState(n,n.state,null)}function ud(a,n){var c=n;if("ref"in n){c={};for(var m in n)m!=="ref"&&(c[m]=n[m])}if(a=a.defaultProps){c===n&&(c=g({},c));for(var k in a)c[k]===void 0&&(c[k]=a[k])}return c}function Qg(a){td(a)}function eb(a){console.error(a)}function tb(a){td(a)}function ku(a,n){try{var c=a.onUncaughtError;c(n.value,{componentStack:n.stack})}catch(m){setTimeout(function(){throw m})}}function sb(a,n,c){try{var m=a.onCaughtError;m(c.value,{componentStack:c.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(k){setTimeout(function(){throw k})}}function ym(a,n,c){return c=Pt(c),c.tag=3,c.payload={element:null},c.callback=function(){ku(a,n)},c}function ab(a){return a=Pt(a),a.tag=3,a}function rb(a,n,c,m){var k=c.type.getDerivedStateFromError;if(typeof k=="function"){var D=m.value;a.payload=function(){return k(D)},a.callback=function(){sb(n,c,m)}}var U=c.stateNode;U!==null&&typeof U.componentDidCatch=="function"&&(a.callback=function(){sb(n,c,m),typeof k!="function"&&(pc===null?pc=new Set([this]):pc.add(this));var ee=m.stack;this.componentDidCatch(m.value,{componentStack:ee!==null?ee:""})})}function GN(a,n,c,m,k){if(c.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(n=c.alternate,n!==null&&Wi(n,c,k,!0),c=ba.current,c!==null){switch(c.tag){case 31:case 13:return Ls===null?Ru():c.alternate===null&&qa===0&&(qa=3),c.flags&=-257,c.flags|=65536,c.lanes=k,m===ve?c.flags|=16384:(n=c.updateQueue,n===null?c.updateQueue=new Set([m]):n.add(m),Wm(a,m,k)),!1;case 22:return c.flags|=65536,m===ve?c.flags|=16384:(n=c.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([m])},c.updateQueue=n):(c=n.retryQueue,c===null?n.retryQueue=new Set([m]):c.add(m)),Wm(a,m,k)),!1}throw Error(l(435,c.tag))}return Wm(a,m,k),Ru(),!1}if(fs)return n=ba.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=k,m!==dn&&(a=Error(l(422),{cause:m}),lc(Ll(a,c)))):(m!==dn&&(n=Error(l(423),{cause:m}),lc(Ll(n,c))),a=a.current.alternate,a.flags|=65536,k&=-k,a.lanes|=k,m=Ll(m,c),k=ym(a.stateNode,m,k),Xa(a,k),qa!==4&&(qa=2)),!1;var D=Error(l(520),{cause:m});if(D=Ll(D,c),jx===null?jx=[D]:jx.push(D),qa!==4&&(qa=2),n===null)return!0;m=Ll(m,c),c=n;do{switch(c.tag){case 3:return c.flags|=65536,a=k&-k,c.lanes|=a,a=ym(c.stateNode,m,a),Xa(c,a),!1;case 1:if(n=c.type,D=c.stateNode,(c.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(pc===null||!pc.has(D))))return c.flags|=65536,k&=-k,c.lanes|=k,k=ab(k),rb(k,a,c,m),Xa(c,k),!1}c=c.return}while(c!==null);return!1}var jm=Error(l(461)),or=!1;function Br(a,n,c,m){n.child=a===null?Zt(n,null,c,m):na(n,a.child,c,m)}function lb(a,n,c,m,k){c=c.render;var D=n.ref;if("ref"in m){var U={};for(var ee in m)ee!=="ref"&&(U[ee]=m[ee])}else U=m;return Gi(n),m=lx(a,n,c,U,D,k),ee=nx(),a!==null&&!or?(ix(a,n,k),ko(a,n,k)):(fs&&ee&&tx(n),n.flags|=1,Br(a,n,m,k),n.child)}function nb(a,n,c,m,k){if(a===null){var D=c.type;return typeof D=="function"&&!Vd(D)&&D.defaultProps===void 0&&c.compare===null?(n.tag=15,n.type=D,ib(a,n,D,m,k)):(a=sc(c.type,null,m,n,n.mode,k),a.ref=n.ref,a.return=n,n.child=a)}if(D=a.child,!Dm(a,k)){var U=D.memoizedProps;if(c=c.compare,c=c!==null?c:mi,c(U,m)&&a.ref===n.ref)return ko(a,n,k)}return n.flags|=1,a=Dl(D,m),a.ref=n.ref,a.return=n,n.child=a}function ib(a,n,c,m,k){if(a!==null){var D=a.memoizedProps;if(mi(D,m)&&a.ref===n.ref)if(or=!1,n.pendingProps=m=D,Dm(a,k))(a.flags&131072)!==0&&(or=!0);else return n.lanes=a.lanes,ko(a,n,k)}return wm(a,n,c,m,k)}function ob(a,n,c,m){var k=m.children,D=a!==null?a.memoizedState:null;if(a===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((n.flags&128)!==0){if(D=D!==null?D.baseLanes|c:c,a!==null){for(m=n.child=a.child,k=0;m!==null;)k=k|m.lanes|m.childLanes,m=m.sibling;m=k&~D}else m=0,n.child=null;return cb(a,n,D,c,m)}if((c&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},a!==null&&re(n,D!==null?D.cachePool:null),D!==null?ga(n,D):_s(),Ia(n);else return m=n.lanes=536870912,cb(a,n,D!==null?D.baseLanes|c:c,c,m)}else D!==null?(re(n,D.cachePool),ga(n,D),Ua(),n.memoizedState=null):(a!==null&&re(n,null),_s(),Ua());return Br(a,n,k,c),n.child}function mx(a,n){return a!==null&&a.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function cb(a,n,c,m,k){var D=te();return D=D===null?null:{parent:Ea._currentValue,pool:D},n.memoizedState={baseLanes:c,cachePool:D},a!==null&&re(n,null),_s(),Ia(n),a!==null&&Wi(a,n,m,!0),n.childLanes=k,null}function Su(a,n){return n=Au({mode:n.mode,children:n.children},a.mode),n.ref=a.ref,a.child=n,n.return=a,n}function db(a,n,c){return na(n,a.child,null,c),a=Su(n,n.pendingProps),a.flags|=2,Gs(n),n.memoizedState=null,a}function VN(a,n,c){var m=n.pendingProps,k=(n.flags&128)!==0;if(n.flags&=-129,a===null){if(fs){if(m.mode==="hidden")return a=Su(n,m),n.lanes=536870912,mx(null,a);if(Is(n),(a=la)?(a=wv(a,ja),a=a!==null&&a.data==="&"?a:null,a!==null&&(n.memoizedState={dehydrated:a,treeContext:Ui!==null?{id:Tl,overflow:_l}:null,retryLane:536870912,hydrationErrors:null},c=Yd(a),c.return=n,n.child=c,pr=n,la=null)):a=null,a===null)throw $i(n);return n.lanes=536870912,null}return Su(n,m)}var D=a.memoizedState;if(D!==null){var U=D.dehydrated;if(Is(n),k)if(n.flags&256)n.flags&=-257,n=db(a,n,c);else if(n.memoizedState!==null)n.child=a.child,n.flags|=128,n=null;else throw Error(l(558));else if(or||Wi(a,n,c,!1),k=(c&a.childLanes)!==0,or||k){if(m=ia,m!==null&&(U=il(m,c),U!==0&&U!==D.retryLane))throw D.retryLane=U,bi(a,U),Ul(m,a,U),jm;Ru(),n=db(a,n,c)}else a=D.treeContext,la=$n(U.nextSibling),pr=n,fs=!0,Or=null,ja=!1,a!==null&&pu(n,a),n=Su(n,m),n.flags|=4096;return n}return a=Dl(a.child,{mode:m.mode,children:m.children}),a.ref=n.ref,n.child=a,a.return=n,a}function Cu(a,n){var c=n.ref;if(c===null)a!==null&&a.ref!==null&&(n.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(l(284));(a===null||a.ref!==c)&&(n.flags|=4194816)}}function wm(a,n,c,m,k){return Gi(n),c=lx(a,n,c,m,void 0,k),m=nx(),a!==null&&!or?(ix(a,n,k),ko(a,n,k)):(fs&&m&&tx(n),n.flags|=1,Br(a,n,c,k),n.child)}function xb(a,n,c,m,k,D){return Gi(n),n.updateQueue=null,c=yi(n,m,c,k),a0(a),m=nx(),a!==null&&!or?(ix(a,n,D),ko(a,n,D)):(fs&&m&&tx(n),n.flags|=1,Br(a,n,c,D),n.child)}function ub(a,n,c,m,k){if(Gi(n),n.stateNode===null){var D=mr,U=c.contextType;typeof U=="object"&&U!==null&&(D=gr(U)),D=new c(m,D),n.memoizedState=D.state!==null&&D.state!==void 0?D.state:null,D.updater=vm,n.stateNode=D,D._reactInternals=n,D=n.stateNode,D.props=m,D.state=n.memoizedState,D.refs={},tt(n),U=c.contextType,D.context=typeof U=="object"&&U!==null?gr(U):mr,D.state=n.memoizedState,U=c.getDerivedStateFromProps,typeof U=="function"&&(bm(n,c,U,m),D.state=n.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof D.getSnapshotBeforeUpdate=="function"||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(U=D.state,typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount(),U!==D.state&&vm.enqueueReplaceState(D,D.state,null),Fa(n,m,D,k),ta(),D.state=n.memoizedState),typeof D.componentDidMount=="function"&&(n.flags|=4194308),m=!0}else if(a===null){D=n.stateNode;var ee=n.memoizedProps,me=ud(c,ee);D.props=me;var ze=D.context,Be=c.contextType;U=mr,typeof Be=="object"&&Be!==null&&(U=gr(Be));var qe=c.getDerivedStateFromProps;Be=typeof qe=="function"||typeof D.getSnapshotBeforeUpdate=="function",ee=n.pendingProps!==ee,Be||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(ee||ze!==U)&&Zg(n,D,m,U),ot=!1;var Ee=n.memoizedState;D.state=Ee,Fa(n,m,D,k),ta(),ze=n.memoizedState,ee||Ee!==ze||ot?(typeof qe=="function"&&(bm(n,c,qe,m),ze=n.memoizedState),(me=ot||Jg(n,c,me,m,Ee,ze,U))?(Be||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(n.flags|=4194308)):(typeof D.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=m,n.memoizedState=ze),D.props=m,D.state=ze,D.context=U,m=me):(typeof D.componentDidMount=="function"&&(n.flags|=4194308),m=!1)}else{D=n.stateNode,fa(a,n),U=n.memoizedProps,Be=ud(c,U),D.props=Be,qe=n.pendingProps,Ee=D.context,ze=c.contextType,me=mr,typeof ze=="object"&&ze!==null&&(me=gr(ze)),ee=c.getDerivedStateFromProps,(ze=typeof ee=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(U!==qe||Ee!==me)&&Zg(n,D,m,me),ot=!1,Ee=n.memoizedState,D.state=Ee,Fa(n,m,D,k),ta();var Pe=n.memoizedState;U!==qe||Ee!==Pe||ot||a!==null&&a.dependencies!==null&&Qd(a.dependencies)?(typeof ee=="function"&&(bm(n,c,ee,m),Pe=n.memoizedState),(Be=ot||Jg(n,c,Be,m,Ee,Pe,me)||a!==null&&a.dependencies!==null&&Qd(a.dependencies))?(ze||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(m,Pe,me),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(m,Pe,me)),typeof D.componentDidUpdate=="function"&&(n.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof D.componentDidUpdate!="function"||U===a.memoizedProps&&Ee===a.memoizedState||(n.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||U===a.memoizedProps&&Ee===a.memoizedState||(n.flags|=1024),n.memoizedProps=m,n.memoizedState=Pe),D.props=m,D.state=Pe,D.context=me,m=Be):(typeof D.componentDidUpdate!="function"||U===a.memoizedProps&&Ee===a.memoizedState||(n.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||U===a.memoizedProps&&Ee===a.memoizedState||(n.flags|=1024),m=!1)}return D=m,Cu(a,n),m=(n.flags&128)!==0,D||m?(D=n.stateNode,c=m&&typeof c.getDerivedStateFromError!="function"?null:D.render(),n.flags|=1,a!==null&&m?(n.child=na(n,a.child,null,k),n.child=na(n,null,c,k)):Br(a,n,c,k),n.memoizedState=D.state,a=n.child):a=ko(a,n,k),a}function hb(a,n,c,m){return vo(),n.flags|=256,Br(a,n,c,m),n.child}var Nm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function km(a){return{baseLanes:a,cachePool:oe()}}function Sm(a,n,c){return a=a!==null?a.childLanes&~c:0,n&&(a|=un),a}function mb(a,n,c){var m=n.pendingProps,k=!1,D=(n.flags&128)!==0,U;if((U=D)||(U=a!==null&&a.memoizedState===null?!1:(As.current&2)!==0),U&&(k=!0,n.flags&=-129),U=(n.flags&32)!==0,n.flags&=-33,a===null){if(fs){if(k?Ta(n):Ua(),(a=la)?(a=wv(a,ja),a=a!==null&&a.data!=="&"?a:null,a!==null&&(n.memoizedState={dehydrated:a,treeContext:Ui!==null?{id:Tl,overflow:_l}:null,retryLane:536870912,hydrationErrors:null},c=Yd(a),c.return=n,n.child=c,pr=n,la=null)):a=null,a===null)throw $i(n);return ip(a)?n.lanes=32:n.lanes=536870912,null}var ee=m.children;return m=m.fallback,k?(Ua(),k=n.mode,ee=Au({mode:"hidden",children:ee},k),m=Ii(m,k,c,null),ee.return=n,m.return=n,ee.sibling=m,n.child=ee,m=n.child,m.memoizedState=km(c),m.childLanes=Sm(a,U,c),n.memoizedState=Nm,mx(null,m)):(Ta(n),Cm(n,ee))}var me=a.memoizedState;if(me!==null&&(ee=me.dehydrated,ee!==null)){if(D)n.flags&256?(Ta(n),n.flags&=-257,n=Am(a,n,c)):n.memoizedState!==null?(Ua(),n.child=a.child,n.flags|=128,n=null):(Ua(),ee=m.fallback,k=n.mode,m=Au({mode:"visible",children:m.children},k),ee=Ii(ee,k,c,null),ee.flags|=2,m.return=n,ee.return=n,m.sibling=ee,n.child=m,na(n,a.child,null,c),m=n.child,m.memoizedState=km(c),m.childLanes=Sm(a,U,c),n.memoizedState=Nm,n=mx(null,m));else if(Ta(n),ip(ee)){if(U=ee.nextSibling&&ee.nextSibling.dataset,U)var ze=U.dgst;U=ze,m=Error(l(419)),m.stack="",m.digest=U,lc({value:m,source:null,stack:null}),n=Am(a,n,c)}else if(or||Wi(a,n,c,!1),U=(c&a.childLanes)!==0,or||U){if(U=ia,U!==null&&(m=il(U,c),m!==0&&m!==me.retryLane))throw me.retryLane=m,bi(a,m),Ul(U,a,m),jm;np(ee)||Ru(),n=Am(a,n,c)}else np(ee)?(n.flags|=192,n.child=a.child,n=null):(a=me.treeContext,la=$n(ee.nextSibling),pr=n,fs=!0,Or=null,ja=!1,a!==null&&pu(n,a),n=Cm(n,m.children),n.flags|=4096);return n}return k?(Ua(),ee=m.fallback,k=n.mode,me=a.child,ze=me.sibling,m=Dl(me,{mode:"hidden",children:m.children}),m.subtreeFlags=me.subtreeFlags&65011712,ze!==null?ee=Dl(ze,ee):(ee=Ii(ee,k,c,null),ee.flags|=2),ee.return=n,m.return=n,m.sibling=ee,n.child=m,mx(null,m),m=n.child,ee=a.child.memoizedState,ee===null?ee=km(c):(k=ee.cachePool,k!==null?(me=Ea._currentValue,k=k.parent!==me?{parent:me,pool:me}:k):k=oe(),ee={baseLanes:ee.baseLanes|c,cachePool:k}),m.memoizedState=ee,m.childLanes=Sm(a,U,c),n.memoizedState=Nm,mx(a.child,m)):(Ta(n),c=a.child,a=c.sibling,c=Dl(c,{mode:"visible",children:m.children}),c.return=n,c.sibling=null,a!==null&&(U=n.deletions,U===null?(n.deletions=[a],n.flags|=16):U.push(a)),n.child=c,n.memoizedState=null,c)}function Cm(a,n){return n=Au({mode:"visible",children:n},a.mode),n.return=a,a.child=n}function Au(a,n){return a=kr(22,a,null,n),a.lanes=0,a}function Am(a,n,c){return na(n,a.child,null,c),a=Cm(n,n.pendingProps.children),a.flags|=2,n.memoizedState=null,a}function pb(a,n,c){a.lanes|=n;var m=a.alternate;m!==null&&(m.lanes|=n),nc(a.return,n,c)}function Mm(a,n,c,m,k,D){var U=a.memoizedState;U===null?a.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:m,tail:c,tailMode:k,treeForkCount:D}:(U.isBackwards=n,U.rendering=null,U.renderingStartTime=0,U.last=m,U.tail=c,U.tailMode=k,U.treeForkCount=D)}function fb(a,n,c){var m=n.pendingProps,k=m.revealOrder,D=m.tail;m=m.children;var U=As.current,ee=(U&2)!==0;if(ee?(U=U&1|2,n.flags|=128):U&=1,Z(As,U),Br(a,n,m,c),m=fs?id:0,!ee&&a!==null&&(a.flags&128)!==0)e:for(a=n.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&pb(a,c,n);else if(a.tag===19)pb(a,c,n);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break e;for(;a.sibling===null;){if(a.return===null||a.return===n)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(k){case"forwards":for(c=n.child,k=null;c!==null;)a=c.alternate,a!==null&&Cr(a)===null&&(k=c),c=c.sibling;c=k,c===null?(k=n.child,n.child=null):(k=c.sibling,c.sibling=null),Mm(n,!1,k,c,D,m);break;case"backwards":case"unstable_legacy-backwards":for(c=null,k=n.child,n.child=null;k!==null;){if(a=k.alternate,a!==null&&Cr(a)===null){n.child=k;break}a=k.sibling,k.sibling=c,c=k,k=a}Mm(n,!0,c,null,D,m);break;case"together":Mm(n,!1,null,null,void 0,m);break;default:n.memoizedState=null}return n.child}function ko(a,n,c){if(a!==null&&(n.dependencies=a.dependencies),mc|=n.lanes,(c&n.childLanes)===0)if(a!==null){if(Wi(a,n,c,!1),(c&n.childLanes)===0)return null}else return null;if(a!==null&&n.child!==a.child)throw Error(l(153));if(n.child!==null){for(a=n.child,c=Dl(a,a.pendingProps),n.child=c,c.return=n;a.sibling!==null;)a=a.sibling,c=c.sibling=Dl(a,a.pendingProps),c.return=n;c.sibling=null}return n.child}function Dm(a,n){return(a.lanes&n)!==0?!0:(a=a.dependencies,!!(a!==null&&Qd(a)))}function YN(a,n,c){switch(n.tag){case 3:Me(n,n.stateNode.containerInfo),Hi(n,Ea,a.memoizedState.cache),vo();break;case 27:case 5:Fe(n);break;case 4:Me(n,n.stateNode.containerInfo);break;case 10:Hi(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Is(n),null;break;case 13:var m=n.memoizedState;if(m!==null)return m.dehydrated!==null?(Ta(n),n.flags|=128,null):(c&n.child.childLanes)!==0?mb(a,n,c):(Ta(n),a=ko(a,n,c),a!==null?a.sibling:null);Ta(n);break;case 19:var k=(a.flags&128)!==0;if(m=(c&n.childLanes)!==0,m||(Wi(a,n,c,!1),m=(c&n.childLanes)!==0),k){if(m)return fb(a,n,c);n.flags|=128}if(k=n.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),Z(As,As.current),m)break;return null;case 22:return n.lanes=0,ob(a,n,c,n.pendingProps);case 24:Hi(n,Ea,a.memoizedState.cache)}return ko(a,n,c)}function gb(a,n,c){if(a!==null)if(a.memoizedProps!==n.pendingProps)or=!0;else{if(!Dm(a,c)&&(n.flags&128)===0)return or=!1,YN(a,n,c);or=(a.flags&131072)!==0}else or=!1,fs&&(n.flags&1048576)!==0&&mu(n,id,n.index);switch(n.lanes=0,n.tag){case 16:e:{var m=n.pendingProps;if(a=Ce(n.elementType),n.type=a,typeof a=="function")Vd(a)?(m=ud(a,m),n.tag=1,n=ub(null,n,a,m,c)):(n.tag=0,n=wm(null,n,a,m,c));else{if(a!=null){var k=a.$$typeof;if(k===M){n.tag=11,n=lb(null,n,a,m,c);break e}else if(k===I){n.tag=14,n=nb(null,n,a,m,c);break e}}throw n=G(a)||a,Error(l(306,n,""))}}return n;case 0:return wm(a,n,n.type,n.pendingProps,c);case 1:return m=n.type,k=ud(m,n.pendingProps),ub(a,n,m,k,c);case 3:e:{if(Me(n,n.stateNode.containerInfo),a===null)throw Error(l(387));m=n.pendingProps;var D=n.memoizedState;k=D.element,fa(a,n),Fa(n,m,null,c);var U=n.memoizedState;if(m=U.cache,Hi(n,Ea,m),m!==D.cache&&yo(n,[Ea],c,!0),ta(),m=U.element,D.isDehydrated)if(D={element:m,isDehydrated:!1,cache:U.cache},n.updateQueue.baseState=D,n.memoizedState=D,n.flags&256){n=hb(a,n,m,c);break e}else if(m!==k){k=Ll(Error(l(424)),n),lc(k),n=hb(a,n,m,c);break e}else for(a=n.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,la=$n(a.firstChild),pr=n,fs=!0,Or=null,ja=!0,c=Zt(n,null,m,c),n.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(vo(),m===k){n=ko(a,n,c);break e}Br(a,n,m,c)}n=n.child}return n;case 26:return Cu(a,n),a===null?(c=Mv(n.type,null,n.pendingProps,null))?n.memoizedState=c:fs||(c=n.type,a=n.pendingProps,m=qu(he.current).createElement(c),m[Ws]=n,m[ma]=a,Ir(m,c,a),Ma(m),n.stateNode=m):n.memoizedState=Mv(n.type,a.memoizedProps,n.pendingProps,a.memoizedState),null;case 27:return Fe(n),a===null&&fs&&(m=n.stateNode=Sv(n.type,n.pendingProps,he.current),pr=n,ja=!0,k=la,vc(n.type)?(op=k,la=$n(m.firstChild)):la=k),Br(a,n,n.pendingProps.children,c),Cu(a,n),a===null&&(n.flags|=4194304),n.child;case 5:return a===null&&fs&&((k=m=la)&&(m=k5(m,n.type,n.pendingProps,ja),m!==null?(n.stateNode=m,pr=n,la=$n(m.firstChild),ja=!1,k=!0):k=!1),k||$i(n)),Fe(n),k=n.type,D=n.pendingProps,U=a!==null?a.memoizedProps:null,m=D.children,ap(k,D)?m=null:U!==null&&ap(k,U)&&(n.flags|=32),n.memoizedState!==null&&(k=lx(a,n,dm,null,null,c),Dx._currentValue=k),Cu(a,n),Br(a,n,m,c),n.child;case 6:return a===null&&fs&&((a=c=la)&&(c=S5(c,n.pendingProps,ja),c!==null?(n.stateNode=c,pr=n,la=null,a=!0):a=!1),a||$i(n)),null;case 13:return mb(a,n,c);case 4:return Me(n,n.stateNode.containerInfo),m=n.pendingProps,a===null?n.child=na(n,null,m,c):Br(a,n,m,c),n.child;case 11:return lb(a,n,n.type,n.pendingProps,c);case 7:return Br(a,n,n.pendingProps,c),n.child;case 8:return Br(a,n,n.pendingProps.children,c),n.child;case 12:return Br(a,n,n.pendingProps.children,c),n.child;case 10:return m=n.pendingProps,Hi(n,n.type,m.value),Br(a,n,m.children,c),n.child;case 9:return k=n.type._context,m=n.pendingProps.children,Gi(n),k=gr(k),m=m(k),n.flags|=1,Br(a,n,m,c),n.child;case 14:return nb(a,n,n.type,n.pendingProps,c);case 15:return ib(a,n,n.type,n.pendingProps,c);case 19:return fb(a,n,c);case 31:return VN(a,n,c);case 22:return ob(a,n,c,n.pendingProps);case 24:return Gi(n),m=gr(Ea),a===null?(k=te(),k===null&&(k=ia,D=ic(),k.pooledCache=D,D.refCount++,D!==null&&(k.pooledCacheLanes|=c),k=D),n.memoizedState={parent:m,cache:k},tt(n),Hi(n,Ea,k)):((a.lanes&c)!==0&&(fa(a,n),Fa(n,null,null,c),ta()),k=a.memoizedState,D=n.memoizedState,k.parent!==m?(k={parent:m,cache:m},n.memoizedState=k,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=k),Hi(n,Ea,m)):(m=D.cache,Hi(n,Ea,m),m!==k.cache&&yo(n,[Ea],c,!0))),Br(a,n,n.pendingProps.children,c),n.child;case 29:throw n.pendingProps}throw Error(l(156,n.tag))}function So(a){a.flags|=4}function Lm(a,n,c,m,k){if((n=(a.mode&32)!==0)&&(n=!1),n){if(a.flags|=16777216,(k&335544128)===k)if(a.stateNode.complete)a.flags|=8192;else if(Hb())a.flags|=8192;else throw Re=ve,Ae}else a.flags&=-16777217}function bb(a,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!Tv(n))if(Hb())a.flags|=8192;else throw Re=ve,Ae}function Mu(a,n){n!==null&&(a.flags|=4),a.flags&16384&&(n=a.tag!==22?Sn():536870912,a.lanes|=n,m0|=n)}function px(a,n){if(!fs)switch(a.tailMode){case"hidden":n=a.tail;for(var c=null;n!==null;)n.alternate!==null&&(c=n),n=n.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?n||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function va(a){var n=a.alternate!==null&&a.alternate.child===a.child,c=0,m=0;if(n)for(var k=a.child;k!==null;)c|=k.lanes|k.childLanes,m|=k.subtreeFlags&65011712,m|=k.flags&65011712,k.return=a,k=k.sibling;else for(k=a.child;k!==null;)c|=k.lanes|k.childLanes,m|=k.subtreeFlags,m|=k.flags,k.return=a,k=k.sibling;return a.subtreeFlags|=m,a.childLanes=c,n}function XN(a,n,c){var m=n.pendingProps;switch(Jd(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return va(n),null;case 1:return va(n),null;case 3:return c=n.stateNode,m=null,a!==null&&(m=a.memoizedState.cache),n.memoizedState.cache!==m&&(n.flags|=2048),Pl(Ea),Ne(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(fr(n)?So(n):a===null||a.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ax())),va(n),null;case 26:var k=n.type,D=n.memoizedState;return a===null?(So(n),D!==null?(va(n),bb(n,D)):(va(n),Lm(n,k,null,m,c))):D?D!==a.memoizedState?(So(n),va(n),bb(n,D)):(va(n),n.flags&=-16777217):(a=a.memoizedProps,a!==m&&So(n),va(n),Lm(n,k,a,m,c)),null;case 27:if(Xe(n),c=he.current,k=n.type,a!==null&&n.stateNode!=null)a.memoizedProps!==m&&So(n);else{if(!m){if(n.stateNode===null)throw Error(l(166));return va(n),null}a=ae.current,fr(n)?sx(n):(a=Sv(k,m,c),n.stateNode=a,So(n))}return va(n),null;case 5:if(Xe(n),k=n.type,a!==null&&n.stateNode!=null)a.memoizedProps!==m&&So(n);else{if(!m){if(n.stateNode===null)throw Error(l(166));return va(n),null}if(D=ae.current,fr(n))sx(n);else{var U=qu(he.current);switch(D){case 1:D=U.createElementNS("http://www.w3.org/2000/svg",k);break;case 2:D=U.createElementNS("http://www.w3.org/1998/Math/MathML",k);break;default:switch(k){case"svg":D=U.createElementNS("http://www.w3.org/2000/svg",k);break;case"math":D=U.createElementNS("http://www.w3.org/1998/Math/MathML",k);break;case"script":D=U.createElement("div"),D.innerHTML="<script><\/script>",D=D.removeChild(D.firstChild);break;case"select":D=typeof m.is=="string"?U.createElement("select",{is:m.is}):U.createElement("select"),m.multiple?D.multiple=!0:m.size&&(D.size=m.size);break;default:D=typeof m.is=="string"?U.createElement(k,{is:m.is}):U.createElement(k)}}D[Ws]=n,D[ma]=m;e:for(U=n.child;U!==null;){if(U.tag===5||U.tag===6)D.appendChild(U.stateNode);else if(U.tag!==4&&U.tag!==27&&U.child!==null){U.child.return=U,U=U.child;continue}if(U===n)break e;for(;U.sibling===null;){if(U.return===null||U.return===n)break e;U=U.return}U.sibling.return=U.return,U=U.sibling}n.stateNode=D;e:switch(Ir(D,k,m),k){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&So(n)}}return va(n),Lm(n,n.type,a===null?null:a.memoizedProps,n.pendingProps,c),null;case 6:if(a&&n.stateNode!=null)a.memoizedProps!==m&&So(n);else{if(typeof m!="string"&&n.stateNode===null)throw Error(l(166));if(a=he.current,fr(n)){if(a=n.stateNode,c=n.memoizedProps,m=null,k=pr,k!==null)switch(k.tag){case 27:case 5:m=k.memoizedProps}a[Ws]=n,a=!!(a.nodeValue===c||m!==null&&m.suppressHydrationWarning===!0||mv(a.nodeValue,c)),a||$i(n,!0)}else a=qu(a).createTextNode(m),a[Ws]=n,n.stateNode=a}return va(n),null;case 31:if(c=n.memoizedState,a===null||a.memoizedState!==null){if(m=fr(n),c!==null){if(a===null){if(!m)throw Error(l(318));if(a=n.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(l(557));a[Ws]=n}else vo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;va(n),a=!1}else c=ax(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=c),a=!0;if(!a)return n.flags&256?(Gs(n),n):(Gs(n),null);if((n.flags&128)!==0)throw Error(l(558))}return va(n),null;case 13:if(m=n.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(k=fr(n),m!==null&&m.dehydrated!==null){if(a===null){if(!k)throw Error(l(318));if(k=n.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(l(317));k[Ws]=n}else vo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;va(n),k=!1}else k=ax(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=k),k=!0;if(!k)return n.flags&256?(Gs(n),n):(Gs(n),null)}return Gs(n),(n.flags&128)!==0?(n.lanes=c,n):(c=m!==null,a=a!==null&&a.memoizedState!==null,c&&(m=n.child,k=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(k=m.alternate.memoizedState.cachePool.pool),D=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(D=m.memoizedState.cachePool.pool),D!==k&&(m.flags|=2048)),c!==a&&c&&(n.child.flags|=8192),Mu(n,n.updateQueue),va(n),null);case 4:return Ne(),a===null&&Zm(n.stateNode.containerInfo),va(n),null;case 10:return Pl(n.type),va(n),null;case 19:if(q(As),m=n.memoizedState,m===null)return va(n),null;if(k=(n.flags&128)!==0,D=m.rendering,D===null)if(k)px(m,!1);else{if(qa!==0||a!==null&&(a.flags&128)!==0)for(a=n.child;a!==null;){if(D=Cr(a),D!==null){for(n.flags|=128,px(m,!1),a=D.updateQueue,n.updateQueue=a,Mu(n,a),n.subtreeFlags=0,a=c,c=n.child;c!==null;)ld(c,a),c=c.sibling;return Z(As,As.current&1|2),fs&&fl(n,m.treeForkCount),n.child}a=a.sibling}m.tail!==null&&Ge()>Tu&&(n.flags|=128,k=!0,px(m,!1),n.lanes=4194304)}else{if(!k)if(a=Cr(D),a!==null){if(n.flags|=128,k=!0,a=a.updateQueue,n.updateQueue=a,Mu(n,a),px(m,!0),m.tail===null&&m.tailMode==="hidden"&&!D.alternate&&!fs)return va(n),null}else 2*Ge()-m.renderingStartTime>Tu&&c!==536870912&&(n.flags|=128,k=!0,px(m,!1),n.lanes=4194304);m.isBackwards?(D.sibling=n.child,n.child=D):(a=m.last,a!==null?a.sibling=D:n.child=D,m.last=D)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=Ge(),a.sibling=null,c=As.current,Z(As,k?c&1|2:c&1),fs&&fl(n,m.treeForkCount),a):(va(n),null);case 22:case 23:return Gs(n),Ka(),m=n.memoizedState!==null,a!==null?a.memoizedState!==null!==m&&(n.flags|=8192):m&&(n.flags|=8192),m?(c&536870912)!==0&&(n.flags&128)===0&&(va(n),n.subtreeFlags&6&&(n.flags|=8192)):va(n),c=n.updateQueue,c!==null&&Mu(n,c.retryQueue),c=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),m=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(m=n.memoizedState.cachePool.pool),m!==c&&(n.flags|=2048),a!==null&&q(J),null;case 24:return c=null,a!==null&&(c=a.memoizedState.cache),n.memoizedState.cache!==c&&(n.flags|=2048),Pl(Ea),va(n),null;case 25:return null;case 30:return null}throw Error(l(156,n.tag))}function KN(a,n){switch(Jd(n),n.tag){case 1:return a=n.flags,a&65536?(n.flags=a&-65537|128,n):null;case 3:return Pl(Ea),Ne(),a=n.flags,(a&65536)!==0&&(a&128)===0?(n.flags=a&-65537|128,n):null;case 26:case 27:case 5:return Xe(n),null;case 31:if(n.memoizedState!==null){if(Gs(n),n.alternate===null)throw Error(l(340));vo()}return a=n.flags,a&65536?(n.flags=a&-65537|128,n):null;case 13:if(Gs(n),a=n.memoizedState,a!==null&&a.dehydrated!==null){if(n.alternate===null)throw Error(l(340));vo()}return a=n.flags,a&65536?(n.flags=a&-65537|128,n):null;case 19:return q(As),null;case 4:return Ne(),null;case 10:return Pl(n.type),null;case 22:case 23:return Gs(n),Ka(),a!==null&&q(J),a=n.flags,a&65536?(n.flags=a&-65537|128,n):null;case 24:return Pl(Ea),null;case 25:return null;default:return null}}function vb(a,n){switch(Jd(n),n.tag){case 3:Pl(Ea),Ne();break;case 26:case 27:case 5:Xe(n);break;case 4:Ne();break;case 31:n.memoizedState!==null&&Gs(n);break;case 13:Gs(n);break;case 19:q(As);break;case 10:Pl(n.type);break;case 22:case 23:Gs(n),Ka(),a!==null&&q(J);break;case 24:Pl(Ea)}}function fx(a,n){try{var c=n.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var k=m.next;c=k;do{if((c.tag&a)===a){m=void 0;var D=c.create,U=c.inst;m=D(),U.destroy=m}c=c.next}while(c!==k)}}catch(ee){Ys(n,n.return,ee)}}function uc(a,n,c){try{var m=n.updateQueue,k=m!==null?m.lastEffect:null;if(k!==null){var D=k.next;m=D;do{if((m.tag&a)===a){var U=m.inst,ee=U.destroy;if(ee!==void 0){U.destroy=void 0,k=n;var me=c,ze=ee;try{ze()}catch(Be){Ys(k,me,Be)}}}m=m.next}while(m!==D)}}catch(Be){Ys(n,n.return,Be)}}function yb(a){var n=a.updateQueue;if(n!==null){var c=a.stateNode;try{Ba(n,c)}catch(m){Ys(a,a.return,m)}}}function jb(a,n,c){c.props=ud(a.type,a.memoizedProps),c.state=a.memoizedState;try{c.componentWillUnmount()}catch(m){Ys(a,n,m)}}function gx(a,n){try{var c=a.ref;if(c!==null){switch(a.tag){case 26:case 27:case 5:var m=a.stateNode;break;case 30:m=a.stateNode;break;default:m=a.stateNode}typeof c=="function"?a.refCleanup=c(m):c.current=m}}catch(k){Ys(a,n,k)}}function Ji(a,n){var c=a.ref,m=a.refCleanup;if(c!==null)if(typeof m=="function")try{m()}catch(k){Ys(a,n,k)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(k){Ys(a,n,k)}else c.current=null}function wb(a){var n=a.type,c=a.memoizedProps,m=a.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":c.autoFocus&&m.focus();break e;case"img":c.src?m.src=c.src:c.srcSet&&(m.srcset=c.srcSet)}}catch(k){Ys(a,a.return,k)}}function zm(a,n,c){try{var m=a.stateNode;b5(m,a.type,c,n),m[ma]=n}catch(k){Ys(a,a.return,k)}}function Nb(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&vc(a.type)||a.tag===4}function Em(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Nb(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&vc(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Tm(a,n,c){var m=a.tag;if(m===5||m===6)a=a.stateNode,n?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(a,n):(n=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,n.appendChild(a),c=c._reactRootContainer,c!=null||n.onclick!==null||(n.onclick=an));else if(m!==4&&(m===27&&vc(a.type)&&(c=a.stateNode,n=null),a=a.child,a!==null))for(Tm(a,n,c),a=a.sibling;a!==null;)Tm(a,n,c),a=a.sibling}function Du(a,n,c){var m=a.tag;if(m===5||m===6)a=a.stateNode,n?c.insertBefore(a,n):c.appendChild(a);else if(m!==4&&(m===27&&vc(a.type)&&(c=a.stateNode),a=a.child,a!==null))for(Du(a,n,c),a=a.sibling;a!==null;)Du(a,n,c),a=a.sibling}function kb(a){var n=a.stateNode,c=a.memoizedProps;try{for(var m=a.type,k=n.attributes;k.length;)n.removeAttributeNode(k[0]);Ir(n,m,c),n[Ws]=a,n[ma]=c}catch(D){Ys(a,a.return,D)}}var Co=!1,cr=!1,_m=!1,Sb=typeof WeakSet=="function"?WeakSet:Set,Ar=null;function JN(a,n){if(a=a.containerInfo,tp=Ku,a=fi(a),On(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var m=c.getSelection&&c.getSelection();if(m&&m.rangeCount!==0){c=m.anchorNode;var k=m.anchorOffset,D=m.focusNode;m=m.focusOffset;try{c.nodeType,D.nodeType}catch{c=null;break e}var U=0,ee=-1,me=-1,ze=0,Be=0,qe=a,Ee=null;t:for(;;){for(var Pe;qe!==c||k!==0&&qe.nodeType!==3||(ee=U+k),qe!==D||m!==0&&qe.nodeType!==3||(me=U+m),qe.nodeType===3&&(U+=qe.nodeValue.length),(Pe=qe.firstChild)!==null;)Ee=qe,qe=Pe;for(;;){if(qe===a)break t;if(Ee===c&&++ze===k&&(ee=U),Ee===D&&++Be===m&&(me=U),(Pe=qe.nextSibling)!==null)break;qe=Ee,Ee=qe.parentNode}qe=Pe}c=ee===-1||me===-1?null:{start:ee,end:me}}else c=null}c=c||{start:0,end:0}}else c=null;for(sp={focusedElem:a,selectionRange:c},Ku=!1,Ar=n;Ar!==null;)if(n=Ar,a=n.child,(n.subtreeFlags&1028)!==0&&a!==null)a.return=n,Ar=a;else for(;Ar!==null;){switch(n=Ar,D=n.alternate,a=n.flags,n.tag){case 0:if((a&4)!==0&&(a=n.updateQueue,a=a!==null?a.events:null,a!==null))for(c=0;c<a.length;c++)k=a[c],k.ref.impl=k.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&D!==null){a=void 0,c=n,k=D.memoizedProps,D=D.memoizedState,m=c.stateNode;try{var ht=ud(c.type,k);a=m.getSnapshotBeforeUpdate(ht,D),m.__reactInternalSnapshotBeforeUpdate=a}catch(Ot){Ys(c,c.return,Ot)}}break;case 3:if((a&1024)!==0){if(a=n.stateNode.containerInfo,c=a.nodeType,c===9)lp(a);else if(c===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":lp(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(l(163))}if(a=n.sibling,a!==null){a.return=n.return,Ar=a;break}Ar=n.return}}function Cb(a,n,c){var m=c.flags;switch(c.tag){case 0:case 11:case 15:Mo(a,c),m&4&&fx(5,c);break;case 1:if(Mo(a,c),m&4)if(a=c.stateNode,n===null)try{a.componentDidMount()}catch(U){Ys(c,c.return,U)}else{var k=ud(c.type,n.memoizedProps);n=n.memoizedState;try{a.componentDidUpdate(k,n,a.__reactInternalSnapshotBeforeUpdate)}catch(U){Ys(c,c.return,U)}}m&64&&yb(c),m&512&&gx(c,c.return);break;case 3:if(Mo(a,c),m&64&&(a=c.updateQueue,a!==null)){if(n=null,c.child!==null)switch(c.child.tag){case 27:case 5:n=c.child.stateNode;break;case 1:n=c.child.stateNode}try{Ba(a,n)}catch(U){Ys(c,c.return,U)}}break;case 27:n===null&&m&4&&kb(c);case 26:case 5:Mo(a,c),n===null&&m&4&&wb(c),m&512&&gx(c,c.return);break;case 12:Mo(a,c);break;case 31:Mo(a,c),m&4&&Db(a,c);break;case 13:Mo(a,c),m&4&&Lb(a,c),m&64&&(a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(c=n5.bind(null,c),C5(a,c))));break;case 22:if(m=c.memoizedState!==null||Co,!m){n=n!==null&&n.memoizedState!==null||cr,k=Co;var D=cr;Co=m,(cr=n)&&!D?Do(a,c,(c.subtreeFlags&8772)!==0):Mo(a,c),Co=k,cr=D}break;case 30:break;default:Mo(a,c)}}function Ab(a){var n=a.alternate;n!==null&&(a.alternate=null,Ab(n)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(n=a.stateNode,n!==null&&_i(n)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var ka=null,Ol=!1;function Ao(a,n,c){for(c=c.child;c!==null;)Mb(a,n,c),c=c.sibling}function Mb(a,n,c){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(xs,c)}catch{}switch(c.tag){case 26:cr||Ji(c,n),Ao(a,n,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:cr||Ji(c,n);var m=ka,k=Ol;vc(c.type)&&(ka=c.stateNode,Ol=!1),Ao(a,n,c),Cx(c.stateNode),ka=m,Ol=k;break;case 5:cr||Ji(c,n);case 6:if(m=ka,k=Ol,ka=null,Ao(a,n,c),ka=m,Ol=k,ka!==null)if(Ol)try{(ka.nodeType===9?ka.body:ka.nodeName==="HTML"?ka.ownerDocument.body:ka).removeChild(c.stateNode)}catch(D){Ys(c,n,D)}else try{ka.removeChild(c.stateNode)}catch(D){Ys(c,n,D)}break;case 18:ka!==null&&(Ol?(a=ka,yv(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,c.stateNode),w0(a)):yv(ka,c.stateNode));break;case 4:m=ka,k=Ol,ka=c.stateNode.containerInfo,Ol=!0,Ao(a,n,c),ka=m,Ol=k;break;case 0:case 11:case 14:case 15:uc(2,c,n),cr||uc(4,c,n),Ao(a,n,c);break;case 1:cr||(Ji(c,n),m=c.stateNode,typeof m.componentWillUnmount=="function"&&jb(c,n,m)),Ao(a,n,c);break;case 21:Ao(a,n,c);break;case 22:cr=(m=cr)||c.memoizedState!==null,Ao(a,n,c),cr=m;break;default:Ao(a,n,c)}}function Db(a,n){if(n.memoizedState===null&&(a=n.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{w0(a)}catch(c){Ys(n,n.return,c)}}}function Lb(a,n){if(n.memoizedState===null&&(a=n.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{w0(a)}catch(c){Ys(n,n.return,c)}}function ZN(a){switch(a.tag){case 31:case 13:case 19:var n=a.stateNode;return n===null&&(n=a.stateNode=new Sb),n;case 22:return a=a.stateNode,n=a._retryCache,n===null&&(n=a._retryCache=new Sb),n;default:throw Error(l(435,a.tag))}}function Lu(a,n){var c=ZN(a);n.forEach(function(m){if(!c.has(m)){c.add(m);var k=i5.bind(null,a,m);m.then(k,k)}})}function Fl(a,n){var c=n.deletions;if(c!==null)for(var m=0;m<c.length;m++){var k=c[m],D=a,U=n,ee=U;e:for(;ee!==null;){switch(ee.tag){case 27:if(vc(ee.type)){ka=ee.stateNode,Ol=!1;break e}break;case 5:ka=ee.stateNode,Ol=!1;break e;case 3:case 4:ka=ee.stateNode.containerInfo,Ol=!0;break e}ee=ee.return}if(ka===null)throw Error(l(160));Mb(D,U,k),ka=null,Ol=!1,D=k.alternate,D!==null&&(D.return=null),k.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)zb(n,a),n=n.sibling}var ki=null;function zb(a,n){var c=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Fl(n,a),Bl(a),m&4&&(uc(3,a,a.return),fx(3,a),uc(5,a,a.return));break;case 1:Fl(n,a),Bl(a),m&512&&(cr||c===null||Ji(c,c.return)),m&64&&Co&&(a=a.updateQueue,a!==null&&(m=a.callbacks,m!==null&&(c=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=c===null?m:c.concat(m))));break;case 26:var k=ki;if(Fl(n,a),Bl(a),m&512&&(cr||c===null||Ji(c,c.return)),m&4){var D=c!==null?c.memoizedState:null;if(m=a.memoizedState,c===null)if(m===null)if(a.stateNode===null){e:{m=a.type,c=a.memoizedProps,k=k.ownerDocument||k;t:switch(m){case"title":D=k.getElementsByTagName("title")[0],(!D||D[Jl]||D[Ws]||D.namespaceURI==="http://www.w3.org/2000/svg"||D.hasAttribute("itemprop"))&&(D=k.createElement(m),k.head.insertBefore(D,k.querySelector("head > title"))),Ir(D,m,c),D[Ws]=a,Ma(D),m=D;break e;case"link":var U=zv("link","href",k).get(m+(c.href||""));if(U){for(var ee=0;ee<U.length;ee++)if(D=U[ee],D.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&D.getAttribute("rel")===(c.rel==null?null:c.rel)&&D.getAttribute("title")===(c.title==null?null:c.title)&&D.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){U.splice(ee,1);break t}}D=k.createElement(m),Ir(D,m,c),k.head.appendChild(D);break;case"meta":if(U=zv("meta","content",k).get(m+(c.content||""))){for(ee=0;ee<U.length;ee++)if(D=U[ee],D.getAttribute("content")===(c.content==null?null:""+c.content)&&D.getAttribute("name")===(c.name==null?null:c.name)&&D.getAttribute("property")===(c.property==null?null:c.property)&&D.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&D.getAttribute("charset")===(c.charSet==null?null:c.charSet)){U.splice(ee,1);break t}}D=k.createElement(m),Ir(D,m,c),k.head.appendChild(D);break;default:throw Error(l(468,m))}D[Ws]=a,Ma(D),m=D}a.stateNode=m}else Ev(k,a.type,a.stateNode);else a.stateNode=Lv(k,m,a.memoizedProps);else D!==m?(D===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):D.count--,m===null?Ev(k,a.type,a.stateNode):Lv(k,m,a.memoizedProps)):m===null&&a.stateNode!==null&&zm(a,a.memoizedProps,c.memoizedProps)}break;case 27:Fl(n,a),Bl(a),m&512&&(cr||c===null||Ji(c,c.return)),c!==null&&m&4&&zm(a,a.memoizedProps,c.memoizedProps);break;case 5:if(Fl(n,a),Bl(a),m&512&&(cr||c===null||Ji(c,c.return)),a.flags&32){k=a.stateNode;try{sn(k,"")}catch(ht){Ys(a,a.return,ht)}}m&4&&a.stateNode!=null&&(k=a.memoizedProps,zm(a,k,c!==null?c.memoizedProps:k)),m&1024&&(_m=!0);break;case 6:if(Fl(n,a),Bl(a),m&4){if(a.stateNode===null)throw Error(l(162));m=a.memoizedProps,c=a.stateNode;try{c.nodeValue=m}catch(ht){Ys(a,a.return,ht)}}break;case 3:if(Gu=null,k=ki,ki=Hu(n.containerInfo),Fl(n,a),ki=k,Bl(a),m&4&&c!==null&&c.memoizedState.isDehydrated)try{w0(n.containerInfo)}catch(ht){Ys(a,a.return,ht)}_m&&(_m=!1,Eb(a));break;case 4:m=ki,ki=Hu(a.stateNode.containerInfo),Fl(n,a),Bl(a),ki=m;break;case 12:Fl(n,a),Bl(a);break;case 31:Fl(n,a),Bl(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Lu(a,m)));break;case 13:Fl(n,a),Bl(a),a.child.flags&8192&&a.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Eu=Ge()),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Lu(a,m)));break;case 22:k=a.memoizedState!==null;var me=c!==null&&c.memoizedState!==null,ze=Co,Be=cr;if(Co=ze||k,cr=Be||me,Fl(n,a),cr=Be,Co=ze,Bl(a),m&8192)e:for(n=a.stateNode,n._visibility=k?n._visibility&-2:n._visibility|1,k&&(c===null||me||Co||cr||hd(a)),c=null,n=a;;){if(n.tag===5||n.tag===26){if(c===null){me=c=n;try{if(D=me.stateNode,k)U=D.style,typeof U.setProperty=="function"?U.setProperty("display","none","important"):U.display="none";else{ee=me.stateNode;var qe=me.memoizedProps.style,Ee=qe!=null&&qe.hasOwnProperty("display")?qe.display:null;ee.style.display=Ee==null||typeof Ee=="boolean"?"":(""+Ee).trim()}}catch(ht){Ys(me,me.return,ht)}}}else if(n.tag===6){if(c===null){me=n;try{me.stateNode.nodeValue=k?"":me.memoizedProps}catch(ht){Ys(me,me.return,ht)}}}else if(n.tag===18){if(c===null){me=n;try{var Pe=me.stateNode;k?jv(Pe,!0):jv(me.stateNode,!1)}catch(ht){Ys(me,me.return,ht)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===a)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===a)break e;for(;n.sibling===null;){if(n.return===null||n.return===a)break e;c===n&&(c=null),n=n.return}c===n&&(c=null),n.sibling.return=n.return,n=n.sibling}m&4&&(m=a.updateQueue,m!==null&&(c=m.retryQueue,c!==null&&(m.retryQueue=null,Lu(a,c))));break;case 19:Fl(n,a),Bl(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Lu(a,m)));break;case 30:break;case 21:break;default:Fl(n,a),Bl(a)}}function Bl(a){var n=a.flags;if(n&2){try{for(var c,m=a.return;m!==null;){if(Nb(m)){c=m;break}m=m.return}if(c==null)throw Error(l(160));switch(c.tag){case 27:var k=c.stateNode,D=Em(a);Du(a,D,k);break;case 5:var U=c.stateNode;c.flags&32&&(sn(U,""),c.flags&=-33);var ee=Em(a);Du(a,ee,U);break;case 3:case 4:var me=c.stateNode.containerInfo,ze=Em(a);Tm(a,ze,me);break;default:throw Error(l(161))}}catch(Be){Ys(a,a.return,Be)}a.flags&=-3}n&4096&&(a.flags&=-4097)}function Eb(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var n=a;Eb(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),a=a.sibling}}function Mo(a,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Cb(a,n.alternate,n),n=n.sibling}function hd(a){for(a=a.child;a!==null;){var n=a;switch(n.tag){case 0:case 11:case 14:case 15:uc(4,n,n.return),hd(n);break;case 1:Ji(n,n.return);var c=n.stateNode;typeof c.componentWillUnmount=="function"&&jb(n,n.return,c),hd(n);break;case 27:Cx(n.stateNode);case 26:case 5:Ji(n,n.return),hd(n);break;case 22:n.memoizedState===null&&hd(n);break;case 30:hd(n);break;default:hd(n)}a=a.sibling}}function Do(a,n,c){for(c=c&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var m=n.alternate,k=a,D=n,U=D.flags;switch(D.tag){case 0:case 11:case 15:Do(k,D,c),fx(4,D);break;case 1:if(Do(k,D,c),m=D,k=m.stateNode,typeof k.componentDidMount=="function")try{k.componentDidMount()}catch(ze){Ys(m,m.return,ze)}if(m=D,k=m.updateQueue,k!==null){var ee=m.stateNode;try{var me=k.shared.hiddenCallbacks;if(me!==null)for(k.shared.hiddenCallbacks=null,k=0;k<me.length;k++)Sr(me[k],ee)}catch(ze){Ys(m,m.return,ze)}}c&&U&64&&yb(D),gx(D,D.return);break;case 27:kb(D);case 26:case 5:Do(k,D,c),c&&m===null&&U&4&&wb(D),gx(D,D.return);break;case 12:Do(k,D,c);break;case 31:Do(k,D,c),c&&U&4&&Db(k,D);break;case 13:Do(k,D,c),c&&U&4&&Lb(k,D);break;case 22:D.memoizedState===null&&Do(k,D,c),gx(D,D.return);break;case 30:break;default:Do(k,D,c)}n=n.sibling}}function Pm(a,n){var c=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),a=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),a!==c&&(a!=null&&a.refCount++,c!=null&&od(c))}function Rm(a,n){a=null,n.alternate!==null&&(a=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==a&&(n.refCount++,a!=null&&od(a))}function Si(a,n,c,m){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Tb(a,n,c,m),n=n.sibling}function Tb(a,n,c,m){var k=n.flags;switch(n.tag){case 0:case 11:case 15:Si(a,n,c,m),k&2048&&fx(9,n);break;case 1:Si(a,n,c,m);break;case 3:Si(a,n,c,m),k&2048&&(a=null,n.alternate!==null&&(a=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==a&&(n.refCount++,a!=null&&od(a)));break;case 12:if(k&2048){Si(a,n,c,m),a=n.stateNode;try{var D=n.memoizedProps,U=D.id,ee=D.onPostCommit;typeof ee=="function"&&ee(U,n.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(me){Ys(n,n.return,me)}}else Si(a,n,c,m);break;case 31:Si(a,n,c,m);break;case 13:Si(a,n,c,m);break;case 23:break;case 22:D=n.stateNode,U=n.alternate,n.memoizedState!==null?D._visibility&2?Si(a,n,c,m):bx(a,n):D._visibility&2?Si(a,n,c,m):(D._visibility|=2,x0(a,n,c,m,(n.subtreeFlags&10256)!==0||!1)),k&2048&&Pm(U,n);break;case 24:Si(a,n,c,m),k&2048&&Rm(n.alternate,n);break;default:Si(a,n,c,m)}}function x0(a,n,c,m,k){for(k=k&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var D=a,U=n,ee=c,me=m,ze=U.flags;switch(U.tag){case 0:case 11:case 15:x0(D,U,ee,me,k),fx(8,U);break;case 23:break;case 22:var Be=U.stateNode;U.memoizedState!==null?Be._visibility&2?x0(D,U,ee,me,k):bx(D,U):(Be._visibility|=2,x0(D,U,ee,me,k)),k&&ze&2048&&Pm(U.alternate,U);break;case 24:x0(D,U,ee,me,k),k&&ze&2048&&Rm(U.alternate,U);break;default:x0(D,U,ee,me,k)}n=n.sibling}}function bx(a,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var c=a,m=n,k=m.flags;switch(m.tag){case 22:bx(c,m),k&2048&&Pm(m.alternate,m);break;case 24:bx(c,m),k&2048&&Rm(m.alternate,m);break;default:bx(c,m)}n=n.sibling}}var vx=8192;function u0(a,n,c){if(a.subtreeFlags&vx)for(a=a.child;a!==null;)_b(a,n,c),a=a.sibling}function _b(a,n,c){switch(a.tag){case 26:u0(a,n,c),a.flags&vx&&a.memoizedState!==null&&F5(c,ki,a.memoizedState,a.memoizedProps);break;case 5:u0(a,n,c);break;case 3:case 4:var m=ki;ki=Hu(a.stateNode.containerInfo),u0(a,n,c),ki=m;break;case 22:a.memoizedState===null&&(m=a.alternate,m!==null&&m.memoizedState!==null?(m=vx,vx=16777216,u0(a,n,c),vx=m):u0(a,n,c));break;default:u0(a,n,c)}}function Pb(a){var n=a.alternate;if(n!==null&&(a=n.child,a!==null)){n.child=null;do n=a.sibling,a.sibling=null,a=n;while(a!==null)}}function yx(a){var n=a.deletions;if((a.flags&16)!==0){if(n!==null)for(var c=0;c<n.length;c++){var m=n[c];Ar=m,Ob(m,a)}Pb(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Rb(a),a=a.sibling}function Rb(a){switch(a.tag){case 0:case 11:case 15:yx(a),a.flags&2048&&uc(9,a,a.return);break;case 3:yx(a);break;case 12:yx(a);break;case 22:var n=a.stateNode;a.memoizedState!==null&&n._visibility&2&&(a.return===null||a.return.tag!==13)?(n._visibility&=-3,zu(a)):yx(a);break;default:yx(a)}}function zu(a){var n=a.deletions;if((a.flags&16)!==0){if(n!==null)for(var c=0;c<n.length;c++){var m=n[c];Ar=m,Ob(m,a)}Pb(a)}for(a=a.child;a!==null;){switch(n=a,n.tag){case 0:case 11:case 15:uc(8,n,n.return),zu(n);break;case 22:c=n.stateNode,c._visibility&2&&(c._visibility&=-3,zu(n));break;default:zu(n)}a=a.sibling}}function Ob(a,n){for(;Ar!==null;){var c=Ar;switch(c.tag){case 0:case 11:case 15:uc(8,c,n);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var m=c.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:od(c.memoizedState.cache)}if(m=c.child,m!==null)m.return=c,Ar=m;else e:for(c=a;Ar!==null;){m=Ar;var k=m.sibling,D=m.return;if(Ab(m),m===c){Ar=null;break e}if(k!==null){k.return=D,Ar=k;break e}Ar=D}}}var QN={getCacheForType:function(a){var n=gr(Ea),c=n.data.get(a);return c===void 0&&(c=a(),n.data.set(a,c)),c},cacheSignal:function(){return gr(Ea).controller.signal}},e5=typeof WeakMap=="function"?WeakMap:Map,Us=0,ia=null,gs=null,js=0,Vs=0,xn=null,hc=!1,h0=!1,Om=!1,Lo=0,qa=0,mc=0,md=0,Fm=0,un=0,m0=0,jx=null,Il=null,Bm=!1,Eu=0,Fb=0,Tu=1/0,_u=null,pc=null,vr=0,fc=null,p0=null,zo=0,Im=0,Um=null,Bb=null,wx=0,$m=null;function hn(){return(Us&2)!==0&&js!==0?js&-js:Q.T!==null?Ym():rr()}function Ib(){if(un===0)if((js&536870912)===0||fs){var a=Hs;Hs<<=1,(Hs&3932160)===0&&(Hs=262144),un=a}else un=536870912;return a=ba.current,a!==null&&(a.flags|=32),un}function Ul(a,n,c){(a===ia&&(Vs===2||Vs===9)||a.cancelPendingCommit!==null)&&(f0(a,0),gc(a,js,un,!1)),At(a,c),((Us&2)===0||a!==ia)&&(a===ia&&((Us&2)===0&&(md|=c),qa===4&&gc(a,js,un,!1)),Zi(a))}function Ub(a,n,c){if((Us&6)!==0)throw Error(l(327));var m=!c&&(n&127)===0&&(n&a.expiredLanes)===0||Xl(a,n),k=m?a5(a,n):Hm(a,n,!0),D=m;do{if(k===0){h0&&!m&&gc(a,n,0,!1);break}else{if(c=a.current.alternate,D&&!t5(c)){k=Hm(a,n,!1),D=!1;continue}if(k===2){if(D=n,a.errorRecoveryDisabledLanes&D)var U=0;else U=a.pendingLanes&-536870913,U=U!==0?U:U&536870912?536870912:0;if(U!==0){n=U;e:{var ee=a;k=jx;var me=ee.current.memoizedState.isDehydrated;if(me&&(f0(ee,U).flags|=256),U=Hm(ee,U,!1),U!==2){if(Om&&!me){ee.errorRecoveryDisabledLanes|=D,md|=D,k=4;break e}D=Il,Il=k,D!==null&&(Il===null?Il=D:Il.push.apply(Il,D))}k=U}if(D=!1,k!==2)continue}}if(k===1){f0(a,0),gc(a,n,0,!0);break}e:{switch(m=a,D=k,D){case 0:case 1:throw Error(l(345));case 4:if((n&4194048)!==n)break;case 6:gc(m,n,un,!hc);break e;case 2:Il=null;break;case 3:case 5:break;default:throw Error(l(329))}if((n&62914560)===n&&(k=Eu+300-Ge(),10<k)){if(gc(m,n,un,!hc),ks(m,0,!0)!==0)break e;zo=n,m.timeoutHandle=bv($b.bind(null,m,c,Il,_u,Bm,n,un,md,m0,hc,D,"Throttled",-0,0),k);break e}$b(m,c,Il,_u,Bm,n,un,md,m0,hc,D,null,-0,0)}}break}while(!0);Zi(a)}function $b(a,n,c,m,k,D,U,ee,me,ze,Be,qe,Ee,Pe){if(a.timeoutHandle=-1,qe=n.subtreeFlags,qe&8192||(qe&16785408)===16785408){qe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:an},_b(n,D,qe);var ht=(D&62914560)===D?Eu-Ge():(D&4194048)===D?Fb-Ge():0;if(ht=B5(qe,ht),ht!==null){zo=D,a.cancelPendingCommit=ht(Kb.bind(null,a,n,D,c,m,k,U,ee,me,Be,qe,null,Ee,Pe)),gc(a,D,U,!ze);return}}Kb(a,n,D,c,m,k,U,ee,me)}function t5(a){for(var n=a;;){var c=n.tag;if((c===0||c===11||c===15)&&n.flags&16384&&(c=n.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var m=0;m<c.length;m++){var k=c[m],D=k.getSnapshot;k=k.value;try{if(!hr(D(),k))return!1}catch{return!1}}if(c=n.child,n.subtreeFlags&16384&&c!==null)c.return=n,n=c;else{if(n===a)break;for(;n.sibling===null;){if(n.return===null||n.return===a)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function gc(a,n,c,m){n&=~Fm,n&=~md,a.suspendedLanes|=n,a.pingedLanes&=~n,m&&(a.warmLanes|=n),m=a.expirationTimes;for(var k=n;0<k;){var D=31-us(k),U=1<<D;m[D]=-1,k&=~U}c!==0&&Cn(a,c,n)}function Pu(){return(Us&6)===0?(Nx(0),!1):!0}function qm(){if(gs!==null){if(Vs===0)var a=gs.return;else a=gs,Bn=qi=null,r0(a),He=null,mt=0,a=gs;for(;a!==null;)vb(a.alternate,a),a=a.return;gs=null}}function f0(a,n){var c=a.timeoutHandle;c!==-1&&(a.timeoutHandle=-1,j5(c)),c=a.cancelPendingCommit,c!==null&&(a.cancelPendingCommit=null,c()),zo=0,qm(),ia=a,gs=c=Dl(a.current,null),js=n,Vs=0,xn=null,hc=!1,h0=Xl(a,n),Om=!1,m0=un=Fm=md=mc=qa=0,Il=jx=null,Bm=!1,(n&8)!==0&&(n|=n&32);var m=a.entangledLanes;if(m!==0)for(a=a.entanglements,m&=n;0<m;){var k=31-us(m),D=1<<k;n|=a[k],m&=~D}return Lo=n,sd(),c}function qb(a,n){Mt=null,Q.H=hx,n===fe||n===ie?(n=Ue(),Vs=3):n===Ae?(n=Ue(),Vs=4):Vs=n===jm?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,xn=n,gs===null&&(qa=1,ku(a,Ll(n,a.current)))}function Hb(){var a=ba.current;return a===null?!0:(js&4194048)===js?Ls===null:(js&62914560)===js||(js&536870912)!==0?a===Ls:!1}function Wb(){var a=Q.H;return Q.H=hx,a===null?hx:a}function Gb(){var a=Q.A;return Q.A=QN,a}function Ru(){qa=4,hc||(js&4194048)!==js&&ba.current!==null||(h0=!0),(mc&134217727)===0&&(md&134217727)===0||ia===null||gc(ia,js,un,!1)}function Hm(a,n,c){var m=Us;Us|=2;var k=Wb(),D=Gb();(ia!==a||js!==n)&&(_u=null,f0(a,n)),n=!1;var U=qa;e:do try{if(Vs!==0&&gs!==null){var ee=gs,me=xn;switch(Vs){case 8:qm(),U=6;break e;case 3:case 2:case 9:case 6:ba.current===null&&(n=!0);var ze=Vs;if(Vs=0,xn=null,g0(a,ee,me,ze),c&&h0){U=0;break e}break;default:ze=Vs,Vs=0,xn=null,g0(a,ee,me,ze)}}s5(),U=qa;break}catch(Be){qb(a,Be)}while(!0);return n&&a.shellSuspendCounter++,Bn=qi=null,Us=m,Q.H=k,Q.A=D,gs===null&&(ia=null,js=0,sd()),U}function s5(){for(;gs!==null;)Vb(gs)}function a5(a,n){var c=Us;Us|=2;var m=Wb(),k=Gb();ia!==a||js!==n?(_u=null,Tu=Ge()+500,f0(a,n)):h0=Xl(a,n);e:do try{if(Vs!==0&&gs!==null){n=gs;var D=xn;t:switch(Vs){case 1:Vs=0,xn=null,g0(a,n,D,1);break;case 2:case 9:if(Se(D)){Vs=0,xn=null,Yb(n);break}n=function(){Vs!==2&&Vs!==9||ia!==a||(Vs=7),Zi(a)},D.then(n,n);break e;case 3:Vs=7;break e;case 4:Vs=5;break e;case 7:Se(D)?(Vs=0,xn=null,Yb(n)):(Vs=0,xn=null,g0(a,n,D,7));break;case 5:var U=null;switch(gs.tag){case 26:U=gs.memoizedState;case 5:case 27:var ee=gs;if(U?Tv(U):ee.stateNode.complete){Vs=0,xn=null;var me=ee.sibling;if(me!==null)gs=me;else{var ze=ee.return;ze!==null?(gs=ze,Ou(ze)):gs=null}break t}}Vs=0,xn=null,g0(a,n,D,5);break;case 6:Vs=0,xn=null,g0(a,n,D,6);break;case 8:qm(),qa=6;break e;default:throw Error(l(462))}}r5();break}catch(Be){qb(a,Be)}while(!0);return Bn=qi=null,Q.H=m,Q.A=k,Us=c,gs!==null?0:(ia=null,js=0,sd(),qa)}function r5(){for(;gs!==null&&!kt();)Vb(gs)}function Vb(a){var n=gb(a.alternate,a,Lo);a.memoizedProps=a.pendingProps,n===null?Ou(a):gs=n}function Yb(a){var n=a,c=n.alternate;switch(n.tag){case 15:case 0:n=xb(c,n,n.pendingProps,n.type,void 0,js);break;case 11:n=xb(c,n,n.pendingProps,n.type.render,n.ref,js);break;case 5:r0(n);default:vb(c,n),n=gs=ld(n,Lo),n=gb(c,n,Lo)}a.memoizedProps=a.pendingProps,n===null?Ou(a):gs=n}function g0(a,n,c,m){Bn=qi=null,r0(n),He=null,mt=0;var k=n.return;try{if(GN(a,k,n,c,js)){qa=1,ku(a,Ll(c,a.current)),gs=null;return}}catch(D){if(k!==null)throw gs=k,D;qa=1,ku(a,Ll(c,a.current)),gs=null;return}n.flags&32768?(fs||m===1?a=!0:h0||(js&536870912)!==0?a=!1:(hc=a=!0,(m===2||m===9||m===3||m===6)&&(m=ba.current,m!==null&&m.tag===13&&(m.flags|=16384))),Xb(n,a)):Ou(n)}function Ou(a){var n=a;do{if((n.flags&32768)!==0){Xb(n,hc);return}a=n.return;var c=XN(n.alternate,n,Lo);if(c!==null){gs=c;return}if(n=n.sibling,n!==null){gs=n;return}gs=n=a}while(n!==null);qa===0&&(qa=5)}function Xb(a,n){do{var c=KN(a.alternate,a);if(c!==null){c.flags&=32767,gs=c;return}if(c=a.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!n&&(a=a.sibling,a!==null)){gs=a;return}gs=a=c}while(a!==null);qa=6,gs=null}function Kb(a,n,c,m,k,D,U,ee,me){a.cancelPendingCommit=null;do Fu();while(vr!==0);if((Us&6)!==0)throw Error(l(327));if(n!==null){if(n===a.current)throw Error(l(177));if(D=n.lanes|n.childLanes,D|=Hd,Zn(a,c,D,U,ee,me),a===ia&&(gs=ia=null,js=0),p0=n,fc=a,zo=c,Im=D,Um=k,Bb=m,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,o5(rs,function(){return tv(),null})):(a.callbackNode=null,a.callbackPriority=0),m=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||m){m=Q.T,Q.T=null,k=ne.p,ne.p=2,U=Us,Us|=4;try{JN(a,n,c)}finally{Us=U,ne.p=k,Q.T=m}}vr=1,Jb(),Zb(),Qb()}}function Jb(){if(vr===1){vr=0;var a=fc,n=p0,c=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||c){c=Q.T,Q.T=null;var m=ne.p;ne.p=2;var k=Us;Us|=4;try{zb(n,a);var D=sp,U=fi(a.containerInfo),ee=D.focusedElem,me=D.selectionRange;if(U!==ee&&ee&&ee.ownerDocument&&pi(ee.ownerDocument.documentElement,ee)){if(me!==null&&On(ee)){var ze=me.start,Be=me.end;if(Be===void 0&&(Be=ze),"selectionStart"in ee)ee.selectionStart=ze,ee.selectionEnd=Math.min(Be,ee.value.length);else{var qe=ee.ownerDocument||document,Ee=qe&&qe.defaultView||window;if(Ee.getSelection){var Pe=Ee.getSelection(),ht=ee.textContent.length,Ot=Math.min(me.start,ht),ra=me.end===void 0?Ot:Math.min(me.end,ht);!Pe.extend&&Ot>ra&&(U=ra,ra=Ot,Ot=U);var je=tc(ee,Ot),ge=tc(ee,ra);if(je&&ge&&(Pe.rangeCount!==1||Pe.anchorNode!==je.node||Pe.anchorOffset!==je.offset||Pe.focusNode!==ge.node||Pe.focusOffset!==ge.offset)){var De=qe.createRange();De.setStart(je.node,je.offset),Pe.removeAllRanges(),Ot>ra?(Pe.addRange(De),Pe.extend(ge.node,ge.offset)):(De.setEnd(ge.node,ge.offset),Pe.addRange(De))}}}}for(qe=[],Pe=ee;Pe=Pe.parentNode;)Pe.nodeType===1&&qe.push({element:Pe,left:Pe.scrollLeft,top:Pe.scrollTop});for(typeof ee.focus=="function"&&ee.focus(),ee=0;ee<qe.length;ee++){var $e=qe[ee];$e.element.scrollLeft=$e.left,$e.element.scrollTop=$e.top}}Ku=!!tp,sp=tp=null}finally{Us=k,ne.p=m,Q.T=c}}a.current=n,vr=2}}function Zb(){if(vr===2){vr=0;var a=fc,n=p0,c=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||c){c=Q.T,Q.T=null;var m=ne.p;ne.p=2;var k=Us;Us|=4;try{Cb(a,n.alternate,n)}finally{Us=k,ne.p=m,Q.T=c}}vr=3}}function Qb(){if(vr===4||vr===3){vr=0,ft();var a=fc,n=p0,c=zo,m=Bb;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?vr=5:(vr=0,p0=fc=null,ev(a,a.pendingLanes));var k=a.pendingLanes;if(k===0&&(pc=null),Pa(c),n=n.stateNode,Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(xs,n,void 0,(n.current.flags&128)===128)}catch{}if(m!==null){n=Q.T,k=ne.p,ne.p=2,Q.T=null;try{for(var D=a.onRecoverableError,U=0;U<m.length;U++){var ee=m[U];D(ee.value,{componentStack:ee.stack})}}finally{Q.T=n,ne.p=k}}(zo&3)!==0&&Fu(),Zi(a),k=a.pendingLanes,(c&261930)!==0&&(k&42)!==0?a===$m?wx++:(wx=0,$m=a):wx=0,Nx(0)}}function ev(a,n){(a.pooledCacheLanes&=n)===0&&(n=a.pooledCache,n!=null&&(a.pooledCache=null,od(n)))}function Fu(){return Jb(),Zb(),Qb(),tv()}function tv(){if(vr!==5)return!1;var a=fc,n=Im;Im=0;var c=Pa(zo),m=Q.T,k=ne.p;try{ne.p=32>c?32:c,Q.T=null,c=Um,Um=null;var D=fc,U=zo;if(vr=0,p0=fc=null,zo=0,(Us&6)!==0)throw Error(l(331));var ee=Us;if(Us|=4,Rb(D.current),Tb(D,D.current,U,c),Us=ee,Nx(0,!1),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(xs,D)}catch{}return!0}finally{ne.p=k,Q.T=m,ev(a,n)}}function sv(a,n,c){n=Ll(c,n),n=ym(a.stateNode,n,2),a=ns(a,n,2),a!==null&&(At(a,2),Zi(a))}function Ys(a,n,c){if(a.tag===3)sv(a,a,c);else for(;n!==null;){if(n.tag===3){sv(n,a,c);break}else if(n.tag===1){var m=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(pc===null||!pc.has(m))){a=Ll(c,a),c=ab(2),m=ns(n,c,2),m!==null&&(rb(c,m,n,a),At(m,2),Zi(m));break}}n=n.return}}function Wm(a,n,c){var m=a.pingCache;if(m===null){m=a.pingCache=new e5;var k=new Set;m.set(n,k)}else k=m.get(n),k===void 0&&(k=new Set,m.set(n,k));k.has(c)||(Om=!0,k.add(c),a=l5.bind(null,a,n,c),n.then(a,a))}function l5(a,n,c){var m=a.pingCache;m!==null&&m.delete(n),a.pingedLanes|=a.suspendedLanes&c,a.warmLanes&=~c,ia===a&&(js&c)===c&&(qa===4||qa===3&&(js&62914560)===js&&300>Ge()-Eu?(Us&2)===0&&f0(a,0):Fm|=c,m0===js&&(m0=0)),Zi(a)}function av(a,n){n===0&&(n=Sn()),a=bi(a,n),a!==null&&(At(a,n),Zi(a))}function n5(a){var n=a.memoizedState,c=0;n!==null&&(c=n.retryLane),av(a,c)}function i5(a,n){var c=0;switch(a.tag){case 31:case 13:var m=a.stateNode,k=a.memoizedState;k!==null&&(c=k.retryLane);break;case 19:m=a.stateNode;break;case 22:m=a.stateNode._retryCache;break;default:throw Error(l(314))}m!==null&&m.delete(n),av(a,c)}function o5(a,n){return wt(a,n)}var Bu=null,b0=null,Gm=!1,Iu=!1,Vm=!1,bc=0;function Zi(a){a!==b0&&a.next===null&&(b0===null?Bu=b0=a:b0=b0.next=a),Iu=!0,Gm||(Gm=!0,d5())}function Nx(a,n){if(!Vm&&Iu){Vm=!0;do for(var c=!1,m=Bu;m!==null;){if(a!==0){var k=m.pendingLanes;if(k===0)var D=0;else{var U=m.suspendedLanes,ee=m.pingedLanes;D=(1<<31-us(42|a)+1)-1,D&=k&~(U&~ee),D=D&201326741?D&201326741|1:D?D|2:0}D!==0&&(c=!0,iv(m,D))}else D=js,D=ks(m,m===ia?D:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(D&3)===0||Xl(m,D)||(c=!0,iv(m,D));m=m.next}while(c);Vm=!1}}function c5(){rv()}function rv(){Iu=Gm=!1;var a=0;bc!==0&&y5()&&(a=bc);for(var n=Ge(),c=null,m=Bu;m!==null;){var k=m.next,D=lv(m,n);D===0?(m.next=null,c===null?Bu=k:c.next=k,k===null&&(b0=c)):(c=m,(a!==0||(D&3)!==0)&&(Iu=!0)),m=k}vr!==0&&vr!==5||Nx(a),bc!==0&&(bc=0)}function lv(a,n){for(var c=a.suspendedLanes,m=a.pingedLanes,k=a.expirationTimes,D=a.pendingLanes&-62914561;0<D;){var U=31-us(D),ee=1<<U,me=k[U];me===-1?((ee&c)===0||(ee&m)!==0)&&(k[U]=yr(ee,n)):me<=n&&(a.expiredLanes|=ee),D&=~ee}if(n=ia,c=js,c=ks(a,a===n?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m=a.callbackNode,c===0||a===n&&(Vs===2||Vs===9)||a.cancelPendingCommit!==null)return m!==null&&m!==null&&nt(m),a.callbackNode=null,a.callbackPriority=0;if((c&3)===0||Xl(a,c)){if(n=c&-c,n===a.callbackPriority)return n;switch(m!==null&&nt(m),Pa(c)){case 2:case 8:c=cs;break;case 32:c=rs;break;case 268435456:c=Kt;break;default:c=rs}return m=nv.bind(null,a),c=wt(c,m),a.callbackPriority=n,a.callbackNode=c,n}return m!==null&&m!==null&&nt(m),a.callbackPriority=2,a.callbackNode=null,2}function nv(a,n){if(vr!==0&&vr!==5)return a.callbackNode=null,a.callbackPriority=0,null;var c=a.callbackNode;if(Fu()&&a.callbackNode!==c)return null;var m=js;return m=ks(a,a===ia?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m===0?null:(Ub(a,m,n),lv(a,Ge()),a.callbackNode!=null&&a.callbackNode===c?nv.bind(null,a):null)}function iv(a,n){if(Fu())return null;Ub(a,n,!0)}function d5(){w5(function(){(Us&6)!==0?wt(gt,c5):rv()})}function Ym(){if(bc===0){var a=b;a===0&&(a=$t,$t<<=1,($t&261888)===0&&($t=256)),bc=a}return bc}function ov(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Gr(""+a)}function cv(a,n){var c=n.ownerDocument.createElement("input");return c.name=n.name,c.value=n.value,a.id&&c.setAttribute("form",a.id),n.parentNode.insertBefore(c,n),a=new FormData(a),c.parentNode.removeChild(c),a}function x5(a,n,c,m,k){if(n==="submit"&&c&&c.stateNode===k){var D=ov((k[ma]||null).action),U=m.submitter;U&&(n=(n=U[ma]||null)?ov(n.formAction):U.getAttribute("formAction"),n!==null&&(D=n,U=null));var ee=new Cl("action","action",null,m,k);a.push({event:ee,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(bc!==0){var me=U?cv(k,U):new FormData(k);mm(c,{pending:!0,data:me,method:k.method,action:D},null,me)}}else typeof D=="function"&&(ee.preventDefault(),me=U?cv(k,U):new FormData(k),mm(c,{pending:!0,data:me,method:k.method,action:D},D,me))},currentTarget:k}]})}}for(var Xm=0;Xm<fo.length;Xm++){var Km=fo[Xm],u5=Km.toLowerCase(),h5=Km[0].toUpperCase()+Km.slice(1);Ml(u5,"on"+h5)}Ml(po,"onAnimationEnd"),Ml(ed,"onAnimationIteration"),Ml(Z0,"onAnimationStart"),Ml("dblclick","onDoubleClick"),Ml("focusin","onFocus"),Ml("focusout","onBlur"),Ml(xu,"onTransitionRun"),Ml(uu,"onTransitionStart"),Ml(hu,"onTransitionCancel"),Ml(Q0,"onTransitionEnd"),Qn("onMouseEnter",["mouseout","mouseover"]),Qn("onMouseLeave",["mouseout","mouseover"]),Qn("onPointerEnter",["pointerout","pointerover"]),Qn("onPointerLeave",["pointerout","pointerover"]),en("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),en("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),en("onBeforeInput",["compositionend","keypress","textInput","paste"]),en("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),en("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),en("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kx="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),m5=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kx));function dv(a,n){n=(n&4)!==0;for(var c=0;c<a.length;c++){var m=a[c],k=m.event;m=m.listeners;e:{var D=void 0;if(n)for(var U=m.length-1;0<=U;U--){var ee=m[U],me=ee.instance,ze=ee.currentTarget;if(ee=ee.listener,me!==D&&k.isPropagationStopped())break e;D=ee,k.currentTarget=ze;try{D(k)}catch(Be){td(Be)}k.currentTarget=null,D=me}else for(U=0;U<m.length;U++){if(ee=m[U],me=ee.instance,ze=ee.currentTarget,ee=ee.listener,me!==D&&k.isPropagationStopped())break e;D=ee,k.currentTarget=ze;try{D(k)}catch(Be){td(Be)}k.currentTarget=null,D=me}}}}function bs(a,n){var c=n[ol];c===void 0&&(c=n[ol]=new Set);var m=a+"__bubble";c.has(m)||(xv(n,a,2,!1),c.add(m))}function Jm(a,n,c){var m=0;n&&(m|=4),xv(c,a,m,n)}var Uu="_reactListening"+Math.random().toString(36).slice(2);function Zm(a){if(!a[Uu]){a[Uu]=!0,Oc.forEach(function(c){c!=="selectionchange"&&(m5.has(c)||Jm(c,!1,a),Jm(c,!0,a))});var n=a.nodeType===9?a:a.ownerDocument;n===null||n[Uu]||(n[Uu]=!0,Jm("selectionchange",!1,n))}}function xv(a,n,c,m){switch(Iv(n)){case 2:var k=$5;break;case 8:k=q5;break;default:k=hp}c=k.bind(null,n,c,a),k=void 0,!Xc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(k=!0),m?k!==void 0?a.addEventListener(n,c,{capture:!0,passive:k}):a.addEventListener(n,c,!0):k!==void 0?a.addEventListener(n,c,{passive:k}):a.addEventListener(n,c,!1)}function Qm(a,n,c,m,k){var D=m;if((n&1)===0&&(n&2)===0&&m!==null)e:for(;;){if(m===null)return;var U=m.tag;if(U===3||U===4){var ee=m.stateNode.containerInfo;if(ee===k)break;if(U===4)for(U=m.return;U!==null;){var me=U.tag;if((me===3||me===4)&&U.stateNode.containerInfo===k)return;U=U.return}for(;ee!==null;){if(U=Zl(ee),U===null)return;if(me=U.tag,me===5||me===6||me===26||me===27){m=D=U;continue e}ee=ee.parentNode}}m=m.return}Bd(function(){var ze=D,Be=io(c),qe=[];e:{var Ee=ex.get(a);if(Ee!==void 0){var Pe=Cl,ht=a;switch(a){case"keypress":if(Sl(c)===0)break e;case"keydown":case"keyup":Pe=Ss;break;case"focusin":ht="focus",Pe=ii;break;case"focusout":ht="blur",Pe=ii;break;case"beforeblur":case"afterblur":Pe=ii;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pe=Kc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pe=ni;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pe=Ya;break;case po:case ed:case Z0:Pe=z;break;case Q0:Pe=ur;break;case"scroll":case"scrollend":Pe=Yo;break;case"wheel":Pe=rn;break;case"copy":case"cut":case"paste":Pe=ce;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pe=Da;break;case"toggle":case"beforetoggle":Pe=Jc}var Ot=(n&4)!==0,ra=!Ot&&(a==="scroll"||a==="scrollend"),je=Ot?Ee!==null?Ee+"Capture":null:Ee;Ot=[];for(var ge=ze,De;ge!==null;){var $e=ge;if(De=$e.stateNode,$e=$e.tag,$e!==5&&$e!==26&&$e!==27||De===null||je===null||($e=xl(ge,je),$e!=null&&Ot.push(Sx(ge,$e,De))),ra)break;ge=ge.return}0<Ot.length&&(Ee=new Pe(Ee,ht,null,c,Be),qe.push({event:Ee,listeners:Ot}))}}if((n&7)===0){e:{if(Ee=a==="mouseover"||a==="pointerover",Pe=a==="mouseout"||a==="pointerout",Ee&&c!==ti&&(ht=c.relatedTarget||c.fromElement)&&(Zl(ht)||ht[jr]))break e;if((Pe||Ee)&&(Ee=Be.window===Be?Be:(Ee=Be.ownerDocument)?Ee.defaultView||Ee.parentWindow:window,Pe?(ht=c.relatedTarget||c.toElement,Pe=ze,ht=ht?Zl(ht):null,ht!==null&&(ra=o(ht),Ot=ht.tag,ht!==ra||Ot!==5&&Ot!==27&&Ot!==6)&&(ht=null)):(Pe=null,ht=ze),Pe!==ht)){if(Ot=Kc,$e="onMouseLeave",je="onMouseEnter",ge="mouse",(a==="pointerout"||a==="pointerover")&&(Ot=Da,$e="onPointerLeave",je="onPointerEnter",ge="pointer"),ra=Pe==null?Ee:lo(Pe),De=ht==null?Ee:lo(ht),Ee=new Ot($e,ge+"leave",Pe,c,Be),Ee.target=ra,Ee.relatedTarget=De,$e=null,Zl(Be)===ze&&(Ot=new Ot(je,ge+"enter",ht,c,Be),Ot.target=De,Ot.relatedTarget=ra,$e=Ot),ra=$e,Pe&&ht)t:{for(Ot=p5,je=Pe,ge=ht,De=0,$e=je;$e;$e=Ot($e))De++;$e=0;for(var zt=ge;zt;zt=Ot(zt))$e++;for(;0<De-$e;)je=Ot(je),De--;for(;0<$e-De;)ge=Ot(ge),$e--;for(;De--;){if(je===ge||ge!==null&&je===ge.alternate){Ot=je;break t}je=Ot(je),ge=Ot(ge)}Ot=null}else Ot=null;Pe!==null&&uv(qe,Ee,Pe,Ot,!1),ht!==null&&ra!==null&&uv(qe,ra,ht,Ot,!0)}}e:{if(Ee=ze?lo(ze):window,Pe=Ee.nodeName&&Ee.nodeName.toLowerCase(),Pe==="select"||Pe==="input"&&Ee.type==="file")var Ps=Bi;else if(Zc(Ee))if(Vr)Ps=Pn;else{Ps=La;var vt=Qo}else Pe=Ee.nodeName,!Pe||Pe.toLowerCase()!=="input"||Ee.type!=="checkbox"&&Ee.type!=="radio"?ze&&Gc(ze.elementType)&&(Ps=Bi):Ps=qd;if(Ps&&(Ps=Ps(a,ze))){hl(qe,Ps,c,Be);break e}vt&&vt(a,Ee,ze),a==="focusout"&&ze&&Ee.type==="number"&&ze.memoizedProps.value!=null&&qc(Ee,"number",Ee.value)}switch(vt=ze?lo(ze):window,a){case"focusin":(Zc(vt)||vt.contentEditable==="true")&&(ml=vt,gi=ze,wr=null);break;case"focusout":wr=gi=ml=null;break;case"mousedown":Al=!0;break;case"contextmenu":case"mouseup":case"dragend":Al=!1,Ts(qe,c,Be);break;case"selectionchange":if(mo)break;case"keydown":case"keyup":Ts(qe,c,Be)}var os;if(zn)e:{switch(a){case"compositionstart":var ws="onCompositionStart";break e;case"compositionend":ws="onCompositionEnd";break e;case"compositionupdate":ws="onCompositionUpdate";break e}ws=void 0}else En?Fi(a,c)&&(ws="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(ws="onCompositionStart");ws&&(di&&c.locale!=="ko"&&(En||ws!=="onCompositionStart"?ws==="onCompositionEnd"&&En&&(os=Id()):(ul=Be,co="value"in ul?ul.value:ul.textContent,En=!0)),vt=$u(ze,ws),0<vt.length&&(ws=new ye(ws,a,null,c,Be),qe.push({event:ws,listeners:vt}),os?ws.data=os:(os=Ko(c),os!==null&&(ws.data=os)))),(os=ho?Pr(a,c):xi(a,c))&&(ws=$u(ze,"onBeforeInput"),0<ws.length&&(vt=new ye("onBeforeInput","beforeinput",null,c,Be),qe.push({event:vt,listeners:ws}),vt.data=os)),x5(qe,a,ze,c,Be)}dv(qe,n)})}function Sx(a,n,c){return{instance:a,listener:n,currentTarget:c}}function $u(a,n){for(var c=n+"Capture",m=[];a!==null;){var k=a,D=k.stateNode;if(k=k.tag,k!==5&&k!==26&&k!==27||D===null||(k=xl(a,c),k!=null&&m.unshift(Sx(a,k,D)),k=xl(a,n),k!=null&&m.push(Sx(a,k,D))),a.tag===3)return m;a=a.return}return[]}function p5(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function uv(a,n,c,m,k){for(var D=n._reactName,U=[];c!==null&&c!==m;){var ee=c,me=ee.alternate,ze=ee.stateNode;if(ee=ee.tag,me!==null&&me===m)break;ee!==5&&ee!==26&&ee!==27||ze===null||(me=ze,k?(ze=xl(c,D),ze!=null&&U.unshift(Sx(c,ze,me))):k||(ze=xl(c,D),ze!=null&&U.push(Sx(c,ze,me)))),c=c.return}U.length!==0&&a.push({event:n,listeners:U})}var f5=/\r\n?/g,g5=/\u0000|\uFFFD/g;function hv(a){return(typeof a=="string"?a:""+a).replace(f5,`
`).replace(g5,"")}function mv(a,n){return n=hv(n),hv(a)===n}function aa(a,n,c,m,k,D){switch(c){case"children":typeof m=="string"?n==="body"||n==="textarea"&&m===""||sn(a,m):(typeof m=="number"||typeof m=="bigint")&&n!=="body"&&sn(a,""+m);break;case"className":ei(a,"class",m);break;case"tabIndex":ei(a,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":ei(a,c,m);break;case"style":Rd(a,m,D);break;case"data":if(n!=="object"){ei(a,"data",m);break}case"src":case"href":if(m===""&&(n!=="a"||c!=="href")){a.removeAttribute(c);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(c);break}m=Gr(""+m),a.setAttribute(c,m);break;case"action":case"formAction":if(typeof m=="function"){a.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof D=="function"&&(c==="formAction"?(n!=="input"&&aa(a,n,"name",k.name,k,null),aa(a,n,"formEncType",k.formEncType,k,null),aa(a,n,"formMethod",k.formMethod,k,null),aa(a,n,"formTarget",k.formTarget,k,null)):(aa(a,n,"encType",k.encType,k,null),aa(a,n,"method",k.method,k,null),aa(a,n,"target",k.target,k,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(c);break}m=Gr(""+m),a.setAttribute(c,m);break;case"onClick":m!=null&&(a.onclick=an);break;case"onScroll":m!=null&&bs("scroll",a);break;case"onScrollEnd":m!=null&&bs("scrollend",a);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(l(61));if(c=m.__html,c!=null){if(k.children!=null)throw Error(l(60));a.innerHTML=c}}break;case"multiple":a.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":a.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){a.removeAttribute("xlink:href");break}c=Gr(""+m),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(c,""+m):a.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(c,""):a.removeAttribute(c);break;case"capture":case"download":m===!0?a.setAttribute(c,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(c,m):a.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?a.setAttribute(c,m):a.removeAttribute(c);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?a.removeAttribute(c):a.setAttribute(c,m);break;case"popover":bs("beforetoggle",a),bs("toggle",a),dl(a,"popover",m);break;case"xlinkActuate":tn(a,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":tn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":tn(a,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":tn(a,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":tn(a,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":tn(a,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":tn(a,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":tn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":tn(a,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":dl(a,"is",m);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Vc.get(c)||c,dl(a,c,m))}}function ep(a,n,c,m,k,D){switch(c){case"style":Rd(a,m,D);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(l(61));if(c=m.__html,c!=null){if(k.children!=null)throw Error(l(60));a.innerHTML=c}}break;case"children":typeof m=="string"?sn(a,m):(typeof m=="number"||typeof m=="bigint")&&sn(a,""+m);break;case"onScroll":m!=null&&bs("scroll",a);break;case"onScrollEnd":m!=null&&bs("scrollend",a);break;case"onClick":m!=null&&(a.onclick=an);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!cl.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(k=c.endsWith("Capture"),n=c.slice(2,k?c.length-7:void 0),D=a[ma]||null,D=D!=null?D[c]:null,typeof D=="function"&&a.removeEventListener(n,D,k),typeof m=="function")){typeof D!="function"&&D!==null&&(c in a?a[c]=null:a.hasAttribute(c)&&a.removeAttribute(c)),a.addEventListener(n,m,k);break e}c in a?a[c]=m:m===!0?a.setAttribute(c,""):dl(a,c,m)}}}function Ir(a,n,c){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":bs("error",a),bs("load",a);var m=!1,k=!1,D;for(D in c)if(c.hasOwnProperty(D)){var U=c[D];if(U!=null)switch(D){case"src":m=!0;break;case"srcSet":k=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:aa(a,n,D,U,c,null)}}k&&aa(a,n,"srcSet",c.srcSet,c,null),m&&aa(a,n,"src",c.src,c,null);return;case"input":bs("invalid",a);var ee=D=U=k=null,me=null,ze=null;for(m in c)if(c.hasOwnProperty(m)){var Be=c[m];if(Be!=null)switch(m){case"name":k=Be;break;case"type":U=Be;break;case"checked":me=Be;break;case"defaultChecked":ze=Be;break;case"value":D=Be;break;case"defaultValue":ee=Be;break;case"children":case"dangerouslySetInnerHTML":if(Be!=null)throw Error(l(137,n));break;default:aa(a,n,m,Be,c,null)}}_d(a,D,ee,me,ze,U,k,!1);return;case"select":bs("invalid",a),m=U=D=null;for(k in c)if(c.hasOwnProperty(k)&&(ee=c[k],ee!=null))switch(k){case"value":D=ee;break;case"defaultValue":U=ee;break;case"multiple":m=ee;default:aa(a,n,k,ee,c,null)}n=D,c=U,a.multiple=!!m,n!=null?_r(a,!!m,n,!1):c!=null&&_r(a,!!m,c,!0);return;case"textarea":bs("invalid",a),D=k=m=null;for(U in c)if(c.hasOwnProperty(U)&&(ee=c[U],ee!=null))switch(U){case"value":m=ee;break;case"defaultValue":k=ee;break;case"children":D=ee;break;case"dangerouslySetInnerHTML":if(ee!=null)throw Error(l(91));break;default:aa(a,n,U,ee,c,null)}Wc(a,m,k,D);return;case"option":for(me in c)c.hasOwnProperty(me)&&(m=c[me],m!=null)&&(me==="selected"?a.selected=m&&typeof m!="function"&&typeof m!="symbol":aa(a,n,me,m,c,null));return;case"dialog":bs("beforetoggle",a),bs("toggle",a),bs("cancel",a),bs("close",a);break;case"iframe":case"object":bs("load",a);break;case"video":case"audio":for(m=0;m<kx.length;m++)bs(kx[m],a);break;case"image":bs("error",a),bs("load",a);break;case"details":bs("toggle",a);break;case"embed":case"source":case"link":bs("error",a),bs("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ze in c)if(c.hasOwnProperty(ze)&&(m=c[ze],m!=null))switch(ze){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:aa(a,n,ze,m,c,null)}return;default:if(Gc(n)){for(Be in c)c.hasOwnProperty(Be)&&(m=c[Be],m!==void 0&&ep(a,n,Be,m,c,void 0));return}}for(ee in c)c.hasOwnProperty(ee)&&(m=c[ee],m!=null&&aa(a,n,ee,m,c,null))}function b5(a,n,c,m){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var k=null,D=null,U=null,ee=null,me=null,ze=null,Be=null;for(Pe in c){var qe=c[Pe];if(c.hasOwnProperty(Pe)&&qe!=null)switch(Pe){case"checked":break;case"value":break;case"defaultValue":me=qe;default:m.hasOwnProperty(Pe)||aa(a,n,Pe,null,m,qe)}}for(var Ee in m){var Pe=m[Ee];if(qe=c[Ee],m.hasOwnProperty(Ee)&&(Pe!=null||qe!=null))switch(Ee){case"type":D=Pe;break;case"name":k=Pe;break;case"checked":ze=Pe;break;case"defaultChecked":Be=Pe;break;case"value":U=Pe;break;case"defaultValue":ee=Pe;break;case"children":case"dangerouslySetInnerHTML":if(Pe!=null)throw Error(l(137,n));break;default:Pe!==qe&&aa(a,n,Ee,Pe,m,qe)}}Wo(a,U,ee,me,ze,Be,D,k);return;case"select":Pe=U=ee=Ee=null;for(D in c)if(me=c[D],c.hasOwnProperty(D)&&me!=null)switch(D){case"value":break;case"multiple":Pe=me;default:m.hasOwnProperty(D)||aa(a,n,D,null,m,me)}for(k in m)if(D=m[k],me=c[k],m.hasOwnProperty(k)&&(D!=null||me!=null))switch(k){case"value":Ee=D;break;case"defaultValue":ee=D;break;case"multiple":U=D;default:D!==me&&aa(a,n,k,D,m,me)}n=ee,c=U,m=Pe,Ee!=null?_r(a,!!c,Ee,!1):!!m!=!!c&&(n!=null?_r(a,!!c,n,!0):_r(a,!!c,c?[]:"",!1));return;case"textarea":Pe=Ee=null;for(ee in c)if(k=c[ee],c.hasOwnProperty(ee)&&k!=null&&!m.hasOwnProperty(ee))switch(ee){case"value":break;case"children":break;default:aa(a,n,ee,null,m,k)}for(U in m)if(k=m[U],D=c[U],m.hasOwnProperty(U)&&(k!=null||D!=null))switch(U){case"value":Ee=k;break;case"defaultValue":Pe=k;break;case"children":break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(l(91));break;default:k!==D&&aa(a,n,U,k,m,D)}Hc(a,Ee,Pe);return;case"option":for(var ht in c)Ee=c[ht],c.hasOwnProperty(ht)&&Ee!=null&&!m.hasOwnProperty(ht)&&(ht==="selected"?a.selected=!1:aa(a,n,ht,null,m,Ee));for(me in m)Ee=m[me],Pe=c[me],m.hasOwnProperty(me)&&Ee!==Pe&&(Ee!=null||Pe!=null)&&(me==="selected"?a.selected=Ee&&typeof Ee!="function"&&typeof Ee!="symbol":aa(a,n,me,Ee,m,Pe));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ot in c)Ee=c[Ot],c.hasOwnProperty(Ot)&&Ee!=null&&!m.hasOwnProperty(Ot)&&aa(a,n,Ot,null,m,Ee);for(ze in m)if(Ee=m[ze],Pe=c[ze],m.hasOwnProperty(ze)&&Ee!==Pe&&(Ee!=null||Pe!=null))switch(ze){case"children":case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(l(137,n));break;default:aa(a,n,ze,Ee,m,Pe)}return;default:if(Gc(n)){for(var ra in c)Ee=c[ra],c.hasOwnProperty(ra)&&Ee!==void 0&&!m.hasOwnProperty(ra)&&ep(a,n,ra,void 0,m,Ee);for(Be in m)Ee=m[Be],Pe=c[Be],!m.hasOwnProperty(Be)||Ee===Pe||Ee===void 0&&Pe===void 0||ep(a,n,Be,Ee,m,Pe);return}}for(var je in c)Ee=c[je],c.hasOwnProperty(je)&&Ee!=null&&!m.hasOwnProperty(je)&&aa(a,n,je,null,m,Ee);for(qe in m)Ee=m[qe],Pe=c[qe],!m.hasOwnProperty(qe)||Ee===Pe||Ee==null&&Pe==null||aa(a,n,qe,Ee,m,Pe)}function pv(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function v5(){if(typeof performance.getEntriesByType=="function"){for(var a=0,n=0,c=performance.getEntriesByType("resource"),m=0;m<c.length;m++){var k=c[m],D=k.transferSize,U=k.initiatorType,ee=k.duration;if(D&&ee&&pv(U)){for(U=0,ee=k.responseEnd,m+=1;m<c.length;m++){var me=c[m],ze=me.startTime;if(ze>ee)break;var Be=me.transferSize,qe=me.initiatorType;Be&&pv(qe)&&(me=me.responseEnd,U+=Be*(me<ee?1:(ee-ze)/(me-ze)))}if(--m,n+=8*(D+U)/(k.duration/1e3),a++,10<a)break}}if(0<a)return n/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var tp=null,sp=null;function qu(a){return a.nodeType===9?a:a.ownerDocument}function fv(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gv(a,n){if(a===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&n==="foreignObject"?0:a}function ap(a,n){return a==="textarea"||a==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var rp=null;function y5(){var a=window.event;return a&&a.type==="popstate"?a===rp?!1:(rp=a,!0):(rp=null,!1)}var bv=typeof setTimeout=="function"?setTimeout:void 0,j5=typeof clearTimeout=="function"?clearTimeout:void 0,vv=typeof Promise=="function"?Promise:void 0,w5=typeof queueMicrotask=="function"?queueMicrotask:typeof vv<"u"?function(a){return vv.resolve(null).then(a).catch(N5)}:bv;function N5(a){setTimeout(function(){throw a})}function vc(a){return a==="head"}function yv(a,n){var c=n,m=0;do{var k=c.nextSibling;if(a.removeChild(c),k&&k.nodeType===8)if(c=k.data,c==="/$"||c==="/&"){if(m===0){a.removeChild(k),w0(n);return}m--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")m++;else if(c==="html")Cx(a.ownerDocument.documentElement);else if(c==="head"){c=a.ownerDocument.head,Cx(c);for(var D=c.firstChild;D;){var U=D.nextSibling,ee=D.nodeName;D[Jl]||ee==="SCRIPT"||ee==="STYLE"||ee==="LINK"&&D.rel.toLowerCase()==="stylesheet"||c.removeChild(D),D=U}}else c==="body"&&Cx(a.ownerDocument.body);c=k}while(c);w0(n)}function jv(a,n){var c=a;a=0;do{var m=c.nextSibling;if(c.nodeType===1?n?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(n?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),m&&m.nodeType===8)if(c=m.data,c==="/$"){if(a===0)break;a--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||a++;c=m}while(c)}function lp(a){var n=a.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var c=n;switch(n=n.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":lp(c),_i(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}a.removeChild(c)}}function k5(a,n,c,m){for(;a.nodeType===1;){var k=c;if(a.nodeName.toLowerCase()!==n.toLowerCase()){if(!m&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(m){if(!a[Jl])switch(n){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(D=a.getAttribute("rel"),D==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(D!==k.rel||a.getAttribute("href")!==(k.href==null||k.href===""?null:k.href)||a.getAttribute("crossorigin")!==(k.crossOrigin==null?null:k.crossOrigin)||a.getAttribute("title")!==(k.title==null?null:k.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(D=a.getAttribute("src"),(D!==(k.src==null?null:k.src)||a.getAttribute("type")!==(k.type==null?null:k.type)||a.getAttribute("crossorigin")!==(k.crossOrigin==null?null:k.crossOrigin))&&D&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(n==="input"&&a.type==="hidden"){var D=k.name==null?null:""+k.name;if(k.type==="hidden"&&a.getAttribute("name")===D)return a}else return a;if(a=$n(a.nextSibling),a===null)break}return null}function S5(a,n,c){if(n==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=$n(a.nextSibling),a===null))return null;return a}function wv(a,n){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!n||(a=$n(a.nextSibling),a===null))return null;return a}function np(a){return a.data==="$?"||a.data==="$~"}function ip(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function C5(a,n){var c=a.ownerDocument;if(a.data==="$~")a._reactRetry=n;else if(a.data!=="$?"||c.readyState!=="loading")n();else{var m=function(){n(),c.removeEventListener("DOMContentLoaded",m)};c.addEventListener("DOMContentLoaded",m),a._reactRetry=m}}function $n(a){for(;a!=null;a=a.nextSibling){var n=a.nodeType;if(n===1||n===3)break;if(n===8){if(n=a.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return a}var op=null;function Nv(a){a=a.nextSibling;for(var n=0;a;){if(a.nodeType===8){var c=a.data;if(c==="/$"||c==="/&"){if(n===0)return $n(a.nextSibling);n--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||n++}a=a.nextSibling}return null}function kv(a){a=a.previousSibling;for(var n=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(n===0)return a;n--}else c!=="/$"&&c!=="/&"||n++}a=a.previousSibling}return null}function Sv(a,n,c){switch(n=qu(c),a){case"html":if(a=n.documentElement,!a)throw Error(l(452));return a;case"head":if(a=n.head,!a)throw Error(l(453));return a;case"body":if(a=n.body,!a)throw Error(l(454));return a;default:throw Error(l(451))}}function Cx(a){for(var n=a.attributes;n.length;)a.removeAttributeNode(n[0]);_i(a)}var qn=new Map,Cv=new Set;function Hu(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Eo=ne.d;ne.d={f:A5,r:M5,D:D5,C:L5,L:z5,m:E5,X:_5,S:T5,M:P5};function A5(){var a=Eo.f(),n=Pu();return a||n}function M5(a){var n=Ql(a);n!==null&&n.tag===5&&n.type==="form"?qg(n):Eo.r(a)}var v0=typeof document>"u"?null:document;function Av(a,n,c){var m=v0;if(m&&typeof n=="string"&&n){var k=Ra(n);k='link[rel="'+a+'"][href="'+k+'"]',typeof c=="string"&&(k+='[crossorigin="'+c+'"]'),Cv.has(k)||(Cv.add(k),a={rel:a,crossOrigin:c,href:n},m.querySelector(k)===null&&(n=m.createElement("link"),Ir(n,"link",a),Ma(n),m.head.appendChild(n)))}}function D5(a){Eo.D(a),Av("dns-prefetch",a,null)}function L5(a,n){Eo.C(a,n),Av("preconnect",a,n)}function z5(a,n,c){Eo.L(a,n,c);var m=v0;if(m&&a&&n){var k='link[rel="preload"][as="'+Ra(n)+'"]';n==="image"&&c&&c.imageSrcSet?(k+='[imagesrcset="'+Ra(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(k+='[imagesizes="'+Ra(c.imageSizes)+'"]')):k+='[href="'+Ra(a)+'"]';var D=k;switch(n){case"style":D=y0(a);break;case"script":D=j0(a)}qn.has(D)||(a=g({rel:"preload",href:n==="image"&&c&&c.imageSrcSet?void 0:a,as:n},c),qn.set(D,a),m.querySelector(k)!==null||n==="style"&&m.querySelector(Ax(D))||n==="script"&&m.querySelector(Mx(D))||(n=m.createElement("link"),Ir(n,"link",a),Ma(n),m.head.appendChild(n)))}}function E5(a,n){Eo.m(a,n);var c=v0;if(c&&a){var m=n&&typeof n.as=="string"?n.as:"script",k='link[rel="modulepreload"][as="'+Ra(m)+'"][href="'+Ra(a)+'"]',D=k;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":D=j0(a)}if(!qn.has(D)&&(a=g({rel:"modulepreload",href:a},n),qn.set(D,a),c.querySelector(k)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Mx(D)))return}m=c.createElement("link"),Ir(m,"link",a),Ma(m),c.head.appendChild(m)}}}function T5(a,n,c){Eo.S(a,n,c);var m=v0;if(m&&a){var k=An(m).hoistableStyles,D=y0(a);n=n||"default";var U=k.get(D);if(!U){var ee={loading:0,preload:null};if(U=m.querySelector(Ax(D)))ee.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":n},c),(c=qn.get(D))&&cp(a,c);var me=U=m.createElement("link");Ma(me),Ir(me,"link",a),me._p=new Promise(function(ze,Be){me.onload=ze,me.onerror=Be}),me.addEventListener("load",function(){ee.loading|=1}),me.addEventListener("error",function(){ee.loading|=2}),ee.loading|=4,Wu(U,n,m)}U={type:"stylesheet",instance:U,count:1,state:ee},k.set(D,U)}}}function _5(a,n){Eo.X(a,n);var c=v0;if(c&&a){var m=An(c).hoistableScripts,k=j0(a),D=m.get(k);D||(D=c.querySelector(Mx(k)),D||(a=g({src:a,async:!0},n),(n=qn.get(k))&&dp(a,n),D=c.createElement("script"),Ma(D),Ir(D,"link",a),c.head.appendChild(D)),D={type:"script",instance:D,count:1,state:null},m.set(k,D))}}function P5(a,n){Eo.M(a,n);var c=v0;if(c&&a){var m=An(c).hoistableScripts,k=j0(a),D=m.get(k);D||(D=c.querySelector(Mx(k)),D||(a=g({src:a,async:!0,type:"module"},n),(n=qn.get(k))&&dp(a,n),D=c.createElement("script"),Ma(D),Ir(D,"link",a),c.head.appendChild(D)),D={type:"script",instance:D,count:1,state:null},m.set(k,D))}}function Mv(a,n,c,m){var k=(k=he.current)?Hu(k):null;if(!k)throw Error(l(446));switch(a){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(n=y0(c.href),c=An(k).hoistableStyles,m=c.get(n),m||(m={type:"style",instance:null,count:0,state:null},c.set(n,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){a=y0(c.href);var D=An(k).hoistableStyles,U=D.get(a);if(U||(k=k.ownerDocument||k,U={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},D.set(a,U),(D=k.querySelector(Ax(a)))&&!D._p&&(U.instance=D,U.state.loading=5),qn.has(a)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},qn.set(a,c),D||R5(k,a,c,U.state))),n&&m===null)throw Error(l(528,""));return U}if(n&&m!==null)throw Error(l(529,""));return null;case"script":return n=c.async,c=c.src,typeof c=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=j0(c),c=An(k).hoistableScripts,m=c.get(n),m||(m={type:"script",instance:null,count:0,state:null},c.set(n,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,a))}}function y0(a){return'href="'+Ra(a)+'"'}function Ax(a){return'link[rel="stylesheet"]['+a+"]"}function Dv(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function R5(a,n,c,m){a.querySelector('link[rel="preload"][as="style"]['+n+"]")?m.loading=1:(n=a.createElement("link"),m.preload=n,n.addEventListener("load",function(){return m.loading|=1}),n.addEventListener("error",function(){return m.loading|=2}),Ir(n,"link",c),Ma(n),a.head.appendChild(n))}function j0(a){return'[src="'+Ra(a)+'"]'}function Mx(a){return"script[async]"+a}function Lv(a,n,c){if(n.count++,n.instance===null)switch(n.type){case"style":var m=a.querySelector('style[data-href~="'+Ra(c.href)+'"]');if(m)return n.instance=m,Ma(m),m;var k=g({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return m=(a.ownerDocument||a).createElement("style"),Ma(m),Ir(m,"style",k),Wu(m,c.precedence,a),n.instance=m;case"stylesheet":k=y0(c.href);var D=a.querySelector(Ax(k));if(D)return n.state.loading|=4,n.instance=D,Ma(D),D;m=Dv(c),(k=qn.get(k))&&cp(m,k),D=(a.ownerDocument||a).createElement("link"),Ma(D);var U=D;return U._p=new Promise(function(ee,me){U.onload=ee,U.onerror=me}),Ir(D,"link",m),n.state.loading|=4,Wu(D,c.precedence,a),n.instance=D;case"script":return D=j0(c.src),(k=a.querySelector(Mx(D)))?(n.instance=k,Ma(k),k):(m=c,(k=qn.get(D))&&(m=g({},c),dp(m,k)),a=a.ownerDocument||a,k=a.createElement("script"),Ma(k),Ir(k,"link",m),a.head.appendChild(k),n.instance=k);case"void":return null;default:throw Error(l(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(m=n.instance,n.state.loading|=4,Wu(m,c.precedence,a));return n.instance}function Wu(a,n,c){for(var m=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),k=m.length?m[m.length-1]:null,D=k,U=0;U<m.length;U++){var ee=m[U];if(ee.dataset.precedence===n)D=ee;else if(D!==k)break}D?D.parentNode.insertBefore(a,D.nextSibling):(n=c.nodeType===9?c.head:c,n.insertBefore(a,n.firstChild))}function cp(a,n){a.crossOrigin==null&&(a.crossOrigin=n.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=n.referrerPolicy),a.title==null&&(a.title=n.title)}function dp(a,n){a.crossOrigin==null&&(a.crossOrigin=n.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=n.referrerPolicy),a.integrity==null&&(a.integrity=n.integrity)}var Gu=null;function zv(a,n,c){if(Gu===null){var m=new Map,k=Gu=new Map;k.set(c,m)}else k=Gu,m=k.get(c),m||(m=new Map,k.set(c,m));if(m.has(a))return m;for(m.set(a,null),c=c.getElementsByTagName(a),k=0;k<c.length;k++){var D=c[k];if(!(D[Jl]||D[Ws]||a==="link"&&D.getAttribute("rel")==="stylesheet")&&D.namespaceURI!=="http://www.w3.org/2000/svg"){var U=D.getAttribute(n)||"";U=a+U;var ee=m.get(U);ee?ee.push(D):m.set(U,[D])}}return m}function Ev(a,n,c){a=a.ownerDocument||a,a.head.insertBefore(c,n==="title"?a.querySelector("head > title"):null)}function O5(a,n,c){if(c===1||n.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(a=n.disabled,typeof n.precedence=="string"&&a==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Tv(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function F5(a,n,c,m){if(c.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var k=y0(m.href),D=n.querySelector(Ax(k));if(D){n=D._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(a.count++,a=Vu.bind(a),n.then(a,a)),c.state.loading|=4,c.instance=D,Ma(D);return}D=n.ownerDocument||n,m=Dv(m),(k=qn.get(k))&&cp(m,k),D=D.createElement("link"),Ma(D);var U=D;U._p=new Promise(function(ee,me){U.onload=ee,U.onerror=me}),Ir(D,"link",m),c.instance=D}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(c,n),(n=c.state.preload)&&(c.state.loading&3)===0&&(a.count++,c=Vu.bind(a),n.addEventListener("load",c),n.addEventListener("error",c))}}var xp=0;function B5(a,n){return a.stylesheets&&a.count===0&&Xu(a,a.stylesheets),0<a.count||0<a.imgCount?function(c){var m=setTimeout(function(){if(a.stylesheets&&Xu(a,a.stylesheets),a.unsuspend){var D=a.unsuspend;a.unsuspend=null,D()}},6e4+n);0<a.imgBytes&&xp===0&&(xp=62500*v5());var k=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Xu(a,a.stylesheets),a.unsuspend)){var D=a.unsuspend;a.unsuspend=null,D()}},(a.imgBytes>xp?50:800)+n);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(m),clearTimeout(k)}}:null}function Vu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xu(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Yu=null;function Xu(a,n){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Yu=new Map,n.forEach(I5,a),Yu=null,Vu.call(a))}function I5(a,n){if(!(n.state.loading&4)){var c=Yu.get(a);if(c)var m=c.get(null);else{c=new Map,Yu.set(a,c);for(var k=a.querySelectorAll("link[data-precedence],style[data-precedence]"),D=0;D<k.length;D++){var U=k[D];(U.nodeName==="LINK"||U.getAttribute("media")!=="not all")&&(c.set(U.dataset.precedence,U),m=U)}m&&c.set(null,m)}k=n.instance,U=k.getAttribute("data-precedence"),D=c.get(U)||m,D===m&&c.set(null,k),c.set(U,k),this.count++,m=Vu.bind(this),k.addEventListener("load",m),k.addEventListener("error",m),D?D.parentNode.insertBefore(k,D.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(k,a.firstChild)),n.state.loading|=4}}var Dx={$$typeof:L,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function U5(a,n,c,m,k,D,U,ee,me){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Nl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nl(0),this.hiddenUpdates=Nl(null),this.identifierPrefix=m,this.onUncaughtError=k,this.onCaughtError=D,this.onRecoverableError=U,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=me,this.incompleteTransitions=new Map}function _v(a,n,c,m,k,D,U,ee,me,ze,Be,qe){return a=new U5(a,n,c,U,me,ze,Be,qe,ee),n=1,D===!0&&(n|=24),D=kr(3,null,null,n),a.current=D,D.stateNode=a,n=ic(),n.refCount++,a.pooledCache=n,n.refCount++,D.memoizedState={element:m,isDehydrated:c,cache:n},tt(D),a}function Pv(a){return a?(a=mr,a):mr}function Rv(a,n,c,m,k,D){k=Pv(k),m.context===null?m.context=k:m.pendingContext=k,m=Pt(n),m.payload={element:c},D=D===void 0?null:D,D!==null&&(m.callback=D),c=ns(a,m,n),c!==null&&(Ul(c,a,n),Bs(c,a,n))}function Ov(a,n){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<n?c:n}}function up(a,n){Ov(a,n),(a=a.alternate)&&Ov(a,n)}function Fv(a){if(a.tag===13||a.tag===31){var n=bi(a,67108864);n!==null&&Ul(n,a,67108864),up(a,67108864)}}function Bv(a){if(a.tag===13||a.tag===31){var n=hn();n=ua(n);var c=bi(a,n);c!==null&&Ul(c,a,n),up(a,n)}}var Ku=!0;function $5(a,n,c,m){var k=Q.T;Q.T=null;var D=ne.p;try{ne.p=2,hp(a,n,c,m)}finally{ne.p=D,Q.T=k}}function q5(a,n,c,m){var k=Q.T;Q.T=null;var D=ne.p;try{ne.p=8,hp(a,n,c,m)}finally{ne.p=D,Q.T=k}}function hp(a,n,c,m){if(Ku){var k=mp(m);if(k===null)Qm(a,n,m,Ju,c),Uv(a,m);else if(W5(k,a,n,c,m))m.stopPropagation();else if(Uv(a,m),n&4&&-1<H5.indexOf(a)){for(;k!==null;){var D=Ql(k);if(D!==null)switch(D.tag){case 3:if(D=D.stateNode,D.current.memoizedState.isDehydrated){var U=Nt(D.pendingLanes);if(U!==0){var ee=D;for(ee.pendingLanes|=2,ee.entangledLanes|=2;U;){var me=1<<31-us(U);ee.entanglements[1]|=me,U&=~me}Zi(D),(Us&6)===0&&(Tu=Ge()+500,Nx(0))}}break;case 31:case 13:ee=bi(D,2),ee!==null&&Ul(ee,D,2),Pu(),up(D,2)}if(D=mp(m),D===null&&Qm(a,n,m,Ju,c),D===k)break;k=D}k!==null&&m.stopPropagation()}else Qm(a,n,m,null,c)}}function mp(a){return a=io(a),pp(a)}var Ju=null;function pp(a){if(Ju=null,a=Zl(a),a!==null){var n=o(a);if(n===null)a=null;else{var c=n.tag;if(c===13){if(a=d(n),a!==null)return a;a=null}else if(c===31){if(a=x(n),a!==null)return a;a=null}else if(c===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;a=null}else n!==a&&(a=null)}}return Ju=a,null}function Iv(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xt()){case gt:return 2;case cs:return 8;case rs:case dt:return 32;case Kt:return 268435456;default:return 32}default:return 32}}var fp=!1,yc=null,jc=null,wc=null,Lx=new Map,zx=new Map,Nc=[],H5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Uv(a,n){switch(a){case"focusin":case"focusout":yc=null;break;case"dragenter":case"dragleave":jc=null;break;case"mouseover":case"mouseout":wc=null;break;case"pointerover":case"pointerout":Lx.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":zx.delete(n.pointerId)}}function Ex(a,n,c,m,k,D){return a===null||a.nativeEvent!==D?(a={blockedOn:n,domEventName:c,eventSystemFlags:m,nativeEvent:D,targetContainers:[k]},n!==null&&(n=Ql(n),n!==null&&Fv(n)),a):(a.eventSystemFlags|=m,n=a.targetContainers,k!==null&&n.indexOf(k)===-1&&n.push(k),a)}function W5(a,n,c,m,k){switch(n){case"focusin":return yc=Ex(yc,a,n,c,m,k),!0;case"dragenter":return jc=Ex(jc,a,n,c,m,k),!0;case"mouseover":return wc=Ex(wc,a,n,c,m,k),!0;case"pointerover":var D=k.pointerId;return Lx.set(D,Ex(Lx.get(D)||null,a,n,c,m,k)),!0;case"gotpointercapture":return D=k.pointerId,zx.set(D,Ex(zx.get(D)||null,a,n,c,m,k)),!0}return!1}function $v(a){var n=Zl(a.target);if(n!==null){var c=o(n);if(c!==null){if(n=c.tag,n===13){if(n=d(c),n!==null){a.blockedOn=n,Ti(a.priority,function(){Bv(c)});return}}else if(n===31){if(n=x(c),n!==null){a.blockedOn=n,Ti(a.priority,function(){Bv(c)});return}}else if(n===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Zu(a){if(a.blockedOn!==null)return!1;for(var n=a.targetContainers;0<n.length;){var c=mp(a.nativeEvent);if(c===null){c=a.nativeEvent;var m=new c.constructor(c.type,c);ti=m,c.target.dispatchEvent(m),ti=null}else return n=Ql(c),n!==null&&Fv(n),a.blockedOn=c,!1;n.shift()}return!0}function qv(a,n,c){Zu(a)&&c.delete(n)}function G5(){fp=!1,yc!==null&&Zu(yc)&&(yc=null),jc!==null&&Zu(jc)&&(jc=null),wc!==null&&Zu(wc)&&(wc=null),Lx.forEach(qv),zx.forEach(qv)}function Qu(a,n){a.blockedOn===n&&(a.blockedOn=null,fp||(fp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,G5)))}var eh=null;function Hv(a){eh!==a&&(eh=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){eh===a&&(eh=null);for(var n=0;n<a.length;n+=3){var c=a[n],m=a[n+1],k=a[n+2];if(typeof m!="function"){if(pp(m||c)===null)continue;break}var D=Ql(c);D!==null&&(a.splice(n,3),n-=3,mm(D,{pending:!0,data:k,method:c.method,action:m},m,k))}}))}function w0(a){function n(me){return Qu(me,a)}yc!==null&&Qu(yc,a),jc!==null&&Qu(jc,a),wc!==null&&Qu(wc,a),Lx.forEach(n),zx.forEach(n);for(var c=0;c<Nc.length;c++){var m=Nc[c];m.blockedOn===a&&(m.blockedOn=null)}for(;0<Nc.length&&(c=Nc[0],c.blockedOn===null);)$v(c),c.blockedOn===null&&Nc.shift();if(c=(a.ownerDocument||a).$$reactFormReplay,c!=null)for(m=0;m<c.length;m+=3){var k=c[m],D=c[m+1],U=k[ma]||null;if(typeof D=="function")U||Hv(c);else if(U){var ee=null;if(D&&D.hasAttribute("formAction")){if(k=D,U=D[ma]||null)ee=U.formAction;else if(pp(k)!==null)continue}else ee=U.action;typeof ee=="function"?c[m+1]=ee:(c.splice(m,3),m-=3),Hv(c)}}}function Wv(){function a(D){D.canIntercept&&D.info==="react-transition"&&D.intercept({handler:function(){return new Promise(function(U){return k=U})},focusReset:"manual",scroll:"manual"})}function n(){k!==null&&(k(),k=null),m||setTimeout(c,20)}function c(){if(!m&&!navigation.transition){var D=navigation.currentEntry;D&&D.url!=null&&navigation.navigate(D.url,{state:D.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,k=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(c,100),function(){m=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),k!==null&&(k(),k=null)}}}function gp(a){this._internalRoot=a}th.prototype.render=gp.prototype.render=function(a){var n=this._internalRoot;if(n===null)throw Error(l(409));var c=n.current,m=hn();Rv(c,m,a,n,null,null)},th.prototype.unmount=gp.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var n=a.containerInfo;Rv(a.current,2,null,a,null,null),Pu(),n[jr]=null}};function th(a){this._internalRoot=a}th.prototype.unstable_scheduleHydration=function(a){if(a){var n=rr();a={blockedOn:null,target:a,priority:n};for(var c=0;c<Nc.length&&n!==0&&n<Nc[c].priority;c++);Nc.splice(c,0,a),c===0&&$v(a)}};var Gv=s.version;if(Gv!=="19.2.4")throw Error(l(527,Gv,"19.2.4"));ne.findDOMNode=function(a){var n=a._reactInternals;if(n===void 0)throw typeof a.render=="function"?Error(l(188)):(a=Object.keys(a).join(","),Error(l(268,a)));return a=h(n),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var V5={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sh.isDisabled&&sh.supportsFiber)try{xs=sh.inject(V5),Tt=sh}catch{}}return _x.createRoot=function(a,n){if(!i(a))throw Error(l(299));var c=!1,m="",k=Qg,D=eb,U=tb;return n!=null&&(n.unstable_strictMode===!0&&(c=!0),n.identifierPrefix!==void 0&&(m=n.identifierPrefix),n.onUncaughtError!==void 0&&(k=n.onUncaughtError),n.onCaughtError!==void 0&&(D=n.onCaughtError),n.onRecoverableError!==void 0&&(U=n.onRecoverableError)),n=_v(a,1,!1,null,null,c,m,null,k,D,U,Wv),a[jr]=n.current,Zm(a),new gp(n)},_x.hydrateRoot=function(a,n,c){if(!i(a))throw Error(l(299));var m=!1,k="",D=Qg,U=eb,ee=tb,me=null;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(k=c.identifierPrefix),c.onUncaughtError!==void 0&&(D=c.onUncaughtError),c.onCaughtError!==void 0&&(U=c.onCaughtError),c.onRecoverableError!==void 0&&(ee=c.onRecoverableError),c.formState!==void 0&&(me=c.formState)),n=_v(a,1,!0,n,c??null,m,k,me,D,U,ee,Wv),n.context=Pv(null),c=n.current,m=hn(),m=ua(m),k=Pt(m),k.callback=null,ns(c,k,m),c=m,n.current.lanes=c,At(n,c),Zi(n),a[jr]=n.current,Zm(a),new th(n)},_x.version="19.2.4",_x}var s1;function s4(){if(s1)return yp.exports;s1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(s){console.error(s)}}return t(),yp.exports=t4(),yp.exports}var a4=s4();const r4=Vf(a4);var a1="popstate";function l4(t={}){function s(l,i){let{pathname:o,search:d,hash:x}=l.location;return ff("",{pathname:o,search:d,hash:x},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(l,i){return typeof i=="string"?i:Vx(i)}return i4(s,r,null,t)}function Ca(t,s){if(t===!1||t===null||typeof t>"u")throw new Error(s)}function Mi(t,s){if(!t){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function n4(){return Math.random().toString(36).substring(2,10)}function r1(t,s){return{usr:t.state,key:t.key,idx:s}}function ff(t,s,r=null,l){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof s=="string"?H0(s):s,state:r,key:s&&s.key||l||n4()}}function Vx({pathname:t="/",search:s="",hash:r=""}){return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function H0(t){let s={};if(t){let r=t.indexOf("#");r>=0&&(s.hash=t.substring(r),t=t.substring(0,r));let l=t.indexOf("?");l>=0&&(s.search=t.substring(l),t=t.substring(0,l)),t&&(s.pathname=t)}return s}function i4(t,s,r,l={}){let{window:i=document.defaultView,v5Compat:o=!1}=l,d=i.history,x="POP",u=null,h=p();h==null&&(h=0,d.replaceState({...d.state,idx:h},""));function p(){return(d.state||{idx:null}).idx}function g(){x="POP";let v=p(),N=v==null?null:v-h;h=v,u&&u({action:x,location:S.location,delta:N})}function y(v,N){x="PUSH";let A=ff(S.location,v,N);h=p()+1;let L=r1(A,h),M=S.createHref(A);try{d.pushState(L,"",M)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(M)}o&&u&&u({action:x,location:S.location,delta:1})}function f(v,N){x="REPLACE";let A=ff(S.location,v,N);h=p();let L=r1(A,h),M=S.createHref(A);d.replaceState(L,"",M),o&&u&&u({action:x,location:S.location,delta:0})}function w(v){return o4(v)}let S={get action(){return x},get location(){return t(i,d)},listen(v){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(a1,g),u=v,()=>{i.removeEventListener(a1,g),u=null}},createHref(v){return s(i,v)},createURL:w,encodeLocation(v){let N=w(v);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:y,replace:f,go(v){return d.go(v)}};return S}function o4(t,s=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Ca(r,"No window.location.(origin|href) available to create URL");let l=typeof t=="string"?t:Vx(t);return l=l.replace(/ $/,"%20"),!s&&l.startsWith("//")&&(l=r+l),new URL(l,r)}function R2(t,s,r="/"){return c4(t,s,r,!1)}function c4(t,s,r,l){let i=typeof s=="string"?H0(s):s,o=Io(i.pathname||"/",r);if(o==null)return null;let d=O2(t);d4(d);let x=null;for(let u=0;x==null&&u<d.length;++u){let h=j4(o);x=v4(d[u],h,l)}return x}function O2(t,s=[],r=[],l="",i=!1){let o=(d,x,u=i,h)=>{let p={relativePath:h===void 0?d.path||"":h,caseSensitive:d.caseSensitive===!0,childrenIndex:x,route:d};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(l)&&u)return;Ca(p.relativePath.startsWith(l),`Absolute route path "${p.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(l.length)}let g=Fo([l,p.relativePath]),y=r.concat(p);d.children&&d.children.length>0&&(Ca(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),O2(d.children,s,y,g,u)),!(d.path==null&&!d.index)&&s.push({path:g,score:g4(g,d.index),routesMeta:y})};return t.forEach((d,x)=>{if(d.path===""||!d.path?.includes("?"))o(d,x);else for(let u of F2(d.path))o(d,x,!0,u)}),s}function F2(t){let s=t.split("/");if(s.length===0)return[];let[r,...l]=s,i=r.endsWith("?"),o=r.replace(/\?$/,"");if(l.length===0)return i?[o,""]:[o];let d=F2(l.join("/")),x=[];return x.push(...d.map(u=>u===""?o:[o,u].join("/"))),i&&x.push(...d),x.map(u=>t.startsWith("/")&&u===""?"/":u)}function d4(t){t.sort((s,r)=>s.score!==r.score?r.score-s.score:b4(s.routesMeta.map(l=>l.childrenIndex),r.routesMeta.map(l=>l.childrenIndex)))}var x4=/^:[\w-]+$/,u4=3,h4=2,m4=1,p4=10,f4=-2,l1=t=>t==="*";function g4(t,s){let r=t.split("/"),l=r.length;return r.some(l1)&&(l+=f4),s&&(l+=h4),r.filter(i=>!l1(i)).reduce((i,o)=>i+(x4.test(o)?u4:o===""?m4:p4),l)}function b4(t,s){return t.length===s.length&&t.slice(0,-1).every((l,i)=>l===s[i])?t[t.length-1]-s[s.length-1]:0}function v4(t,s,r=!1){let{routesMeta:l}=t,i={},o="/",d=[];for(let x=0;x<l.length;++x){let u=l[x],h=x===l.length-1,p=o==="/"?s:s.slice(o.length)||"/",g=Th({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},p),y=u.route;if(!g&&h&&r&&!l[l.length-1].route.index&&(g=Th({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},p)),!g)return null;Object.assign(i,g.params),d.push({params:i,pathname:Fo([o,g.pathname]),pathnameBase:S4(Fo([o,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(o=Fo([o,g.pathnameBase]))}return d}function Th(t,s){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,l]=y4(t.path,t.caseSensitive,t.end),i=s.match(r);if(!i)return null;let o=i[0],d=o.replace(/(.)\/+$/,"$1"),x=i.slice(1);return{params:l.reduce((h,{paramName:p,isOptional:g},y)=>{if(p==="*"){let w=x[y]||"";d=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const f=x[y];return g&&!f?h[p]=void 0:h[p]=(f||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:d,pattern:t}}function y4(t,s=!1,r=!0){Mi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let l=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,x,u)=>(l.push({paramName:x,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(l.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,s?void 0:"i"),l]}function j4(t){try{return t.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return Mi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${s}).`),t}}function Io(t,s){if(s==="/")return t;if(!t.toLowerCase().startsWith(s.toLowerCase()))return null;let r=s.endsWith("/")?s.length-1:s.length,l=t.charAt(r);return l&&l!=="/"?null:t.slice(r)||"/"}var w4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function N4(t,s="/"){let{pathname:r,search:l="",hash:i=""}=typeof t=="string"?H0(t):t,o;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?o=n1(r.substring(1),"/"):o=n1(r,s)):o=s,{pathname:o,search:C4(l),hash:A4(i)}}function n1(t,s){let r=s.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function kp(t,s,r,l){return`Cannot include a '${t}' character in a manually specified \`to.${s}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function k4(t){return t.filter((s,r)=>r===0||s.route.path&&s.route.path.length>0)}function Xf(t){let s=k4(t);return s.map((r,l)=>l===s.length-1?r.pathname:r.pathnameBase)}function Kf(t,s,r,l=!1){let i;typeof t=="string"?i=H0(t):(i={...t},Ca(!i.pathname||!i.pathname.includes("?"),kp("?","pathname","search",i)),Ca(!i.pathname||!i.pathname.includes("#"),kp("#","pathname","hash",i)),Ca(!i.search||!i.search.includes("#"),kp("#","search","hash",i)));let o=t===""||i.pathname==="",d=o?"/":i.pathname,x;if(d==null)x=r;else{let g=s.length-1;if(!l&&d.startsWith("..")){let y=d.split("/");for(;y[0]==="..";)y.shift(),g-=1;i.pathname=y.join("/")}x=g>=0?s[g]:"/"}let u=N4(i,x),h=d&&d!=="/"&&d.endsWith("/"),p=(o||d===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(h||p)&&(u.pathname+="/"),u}var Fo=t=>t.join("/").replace(/\/\/+/g,"/"),S4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),C4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,A4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,M4=class{constructor(t,s,r,l=!1){this.status=t,this.statusText=s||"",this.internal=l,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function D4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function L4(t){return t.map(s=>s.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var B2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function I2(t,s){let r=t;if(typeof r!="string"||!w4.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let l=r,i=!1;if(B2)try{let o=new URL(window.location.href),d=r.startsWith("//")?new URL(o.protocol+r):new URL(r),x=Io(d.pathname,s);d.origin===o.origin&&x!=null?r=x+d.search+d.hash:i=!0}catch{Mi(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:l,isExternal:i,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var U2=["POST","PUT","PATCH","DELETE"];new Set(U2);var z4=["GET",...U2];new Set(z4);var W0=j.createContext(null);W0.displayName="DataRouter";var Yh=j.createContext(null);Yh.displayName="DataRouterState";var E4=j.createContext(!1),$2=j.createContext({isTransitioning:!1});$2.displayName="ViewTransition";var T4=j.createContext(new Map);T4.displayName="Fetchers";var _4=j.createContext(null);_4.displayName="Await";var Nn=j.createContext(null);Nn.displayName="Navigation";var Qx=j.createContext(null);Qx.displayName="Location";var Jn=j.createContext({outlet:null,matches:[],isDataRoute:!1});Jn.displayName="Route";var Jf=j.createContext(null);Jf.displayName="RouteError";var q2="REACT_ROUTER_ERROR",P4="REDIRECT",R4="ROUTE_ERROR_RESPONSE";function O4(t){if(t.startsWith(`${q2}:${P4}:{`))try{let s=JSON.parse(t.slice(28));if(typeof s=="object"&&s&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.location=="string"&&typeof s.reloadDocument=="boolean"&&typeof s.replace=="boolean")return s}catch{}}function F4(t){if(t.startsWith(`${q2}:${R4}:{`))try{let s=JSON.parse(t.slice(40));if(typeof s=="object"&&s&&typeof s.status=="number"&&typeof s.statusText=="string")return new M4(s.status,s.statusText,s.data)}catch{}}function B4(t,{relative:s}={}){Ca(G0(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:l}=j.useContext(Nn),{hash:i,pathname:o,search:d}=eu(t,{relative:s}),x=o;return r!=="/"&&(x=o==="/"?r:Fo([r,o])),l.createHref({pathname:x,search:d,hash:i})}function G0(){return j.useContext(Qx)!=null}function zr(){return Ca(G0(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Qx).location}var H2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function W2(t){j.useContext(Nn).static||j.useLayoutEffect(t)}function Gt(){let{isDataRoute:t}=j.useContext(Jn);return t?Q4():I4()}function I4(){Ca(G0(),"useNavigate() may be used only in the context of a <Router> component.");let t=j.useContext(W0),{basename:s,navigator:r}=j.useContext(Nn),{matches:l}=j.useContext(Jn),{pathname:i}=zr(),o=JSON.stringify(Xf(l)),d=j.useRef(!1);return W2(()=>{d.current=!0}),j.useCallback((u,h={})=>{if(Mi(d.current,H2),!d.current)return;if(typeof u=="number"){r.go(u);return}let p=Kf(u,JSON.parse(o),i,h.relative==="path");t==null&&s!=="/"&&(p.pathname=p.pathname==="/"?s:Fo([s,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[s,r,o,i,t])}var G2=j.createContext(null);function Zf(){return j.useContext(G2)}function U4(t){let s=j.useContext(Jn).outlet;return j.useMemo(()=>s&&j.createElement(G2.Provider,{value:t},s),[s,t])}function Dd(){let{matches:t}=j.useContext(Jn),s=t[t.length-1];return s?s.params:{}}function eu(t,{relative:s}={}){let{matches:r}=j.useContext(Jn),{pathname:l}=zr(),i=JSON.stringify(Xf(r));return j.useMemo(()=>Kf(t,JSON.parse(i),l,s==="path"),[t,i,l,s])}function $4(t,s){return V2(t,s)}function V2(t,s,r,l,i){Ca(G0(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=j.useContext(Nn),{matches:d}=j.useContext(Jn),x=d[d.length-1],u=x?x.params:{},h=x?x.pathname:"/",p=x?x.pathnameBase:"/",g=x&&x.route;{let A=g&&g.path||"";X2(h,!g||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let y=zr(),f;if(s){let A=typeof s=="string"?H0(s):s;Ca(p==="/"||A.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${A.pathname}" was given in the \`location\` prop.`),f=A}else f=y;let w=f.pathname||"/",S=w;if(p!=="/"){let A=p.replace(/^\//,"").split("/");S="/"+w.replace(/^\//,"").split("/").slice(A.length).join("/")}let v=R2(t,{pathname:S});Mi(g||v!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),Mi(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=V4(v&&v.map(A=>Object.assign({},A,{params:Object.assign({},u,A.params),pathname:Fo([p,o.encodeLocation?o.encodeLocation(A.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?p:Fo([p,o.encodeLocation?o.encodeLocation(A.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathnameBase])})),d,r,l,i);return s&&N?j.createElement(Qx.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},N):N}function q4(){let t=Z4(),s=D4(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,l="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:l},o={padding:"2px 4px",backgroundColor:l},d=null;return console.error("Error handled by React Router default ErrorBoundary:",t),d=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:o},"ErrorBoundary")," or"," ",j.createElement("code",{style:o},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},s),r?j.createElement("pre",{style:i},r):null,d)}var H4=j.createElement(q4,null),Y2=class extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){this.props.onError?this.props.onError(t,s):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const r=F4(t.digest);r&&(t=r)}let s=t!==void 0?j.createElement(Jn.Provider,{value:this.props.routeContext},j.createElement(Jf.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?j.createElement(W4,{error:t},s):s}};Y2.contextType=E4;var Sp=new WeakMap;function W4({children:t,error:s}){let{basename:r}=j.useContext(Nn);if(typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){let l=O4(s.digest);if(l){let i=Sp.get(s);if(i)throw i;let o=I2(l.location,r);if(B2&&!Sp.get(s))if(o.isExternal||l.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:l.replace}));throw Sp.set(s,d),d}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return t}function G4({routeContext:t,match:s,children:r}){let l=j.useContext(W0);return l&&l.static&&l.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=s.route.id),j.createElement(Jn.Provider,{value:t},r)}function V4(t,s=[],r=null,l=null,i=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(s.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,d=r?.errors;if(d!=null){let p=o.findIndex(g=>g.route.id&&d?.[g.route.id]!==void 0);Ca(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let x=!1,u=-1;if(r)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(u=p),g.route.id){let{loaderData:y,errors:f}=r,w=g.route.loader&&!y.hasOwnProperty(g.route.id)&&(!f||f[g.route.id]===void 0);if(g.route.lazy||w){x=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}let h=r&&l?(p,g)=>{l(p,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:L4(r.matches),errorInfo:g})}:void 0;return o.reduceRight((p,g,y)=>{let f,w=!1,S=null,v=null;r&&(f=d&&g.route.id?d[g.route.id]:void 0,S=g.route.errorElement||H4,x&&(u<0&&y===0?(X2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,v=null):u===y&&(w=!0,v=g.route.hydrateFallbackElement||null)));let N=s.concat(o.slice(0,y+1)),A=()=>{let L;return f?L=S:w?L=v:g.route.Component?L=j.createElement(g.route.Component,null):g.route.element?L=g.route.element:L=p,j.createElement(G4,{match:g,routeContext:{outlet:p,matches:N,isDataRoute:r!=null},children:L})};return r&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?j.createElement(Y2,{location:r.location,revalidation:r.revalidation,component:S,error:f,children:A(),routeContext:{outlet:null,matches:N,isDataRoute:!0},onError:h}):A()},null)}function Qf(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Y4(t){let s=j.useContext(W0);return Ca(s,Qf(t)),s}function X4(t){let s=j.useContext(Yh);return Ca(s,Qf(t)),s}function K4(t){let s=j.useContext(Jn);return Ca(s,Qf(t)),s}function eg(t){let s=K4(t),r=s.matches[s.matches.length-1];return Ca(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function J4(){return eg("useRouteId")}function Z4(){let t=j.useContext(Jf),s=X4("useRouteError"),r=eg("useRouteError");return t!==void 0?t:s.errors?.[r]}function Q4(){let{router:t}=Y4("useNavigate"),s=eg("useNavigate"),r=j.useRef(!1);return W2(()=>{r.current=!0}),j.useCallback(async(i,o={})=>{Mi(r.current,H2),r.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:s,...o}))},[t,s])}var i1={};function X2(t,s,r){!s&&!i1[t]&&(i1[t]=!0,Mi(!1,r))}j.memo(e6);function e6({routes:t,future:s,state:r,onError:l}){return V2(t,void 0,r,l,s)}function Kr({to:t,replace:s,state:r,relative:l}){Ca(G0(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=j.useContext(Nn);Mi(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=j.useContext(Jn),{pathname:d}=zr(),x=Gt(),u=Kf(t,Xf(o),d,l==="path"),h=JSON.stringify(u);return j.useEffect(()=>{x(JSON.parse(h),{replace:s,state:r,relative:l})},[x,h,l,s,r]),null}function Xh(t){return U4(t.context)}function Le(t){Ca(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function t6({basename:t="/",children:s=null,location:r,navigationType:l="POP",navigator:i,static:o=!1,unstable_useTransitions:d}){Ca(!G0(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let x=t.replace(/^\/*/,"/"),u=j.useMemo(()=>({basename:x,navigator:i,static:o,unstable_useTransitions:d,future:{}}),[x,i,o,d]);typeof r=="string"&&(r=H0(r));let{pathname:h="/",search:p="",hash:g="",state:y=null,key:f="default"}=r,w=j.useMemo(()=>{let S=Io(h,x);return S==null?null:{location:{pathname:S,search:p,hash:g,state:y,key:f},navigationType:l}},[x,h,p,g,y,f,l]);return Mi(w!=null,`<Router basename="${x}"> is not able to match the URL "${h}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:j.createElement(Nn.Provider,{value:u},j.createElement(Qx.Provider,{children:s,value:w}))}function s6({children:t,location:s}){return $4(gf(t),s)}function gf(t,s=[]){let r=[];return j.Children.forEach(t,(l,i)=>{if(!j.isValidElement(l))return;let o=[...s,i];if(l.type===j.Fragment){r.push.apply(r,gf(l.props.children,o));return}Ca(l.type===Le,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ca(!l.props.index||!l.props.children,"An index route cannot have child routes.");let d={id:l.props.id||o.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,middleware:l.props.middleware,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(d.children=gf(l.props.children,o)),r.push(d)}),r}var vh="get",yh="application/x-www-form-urlencoded";function Kh(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function a6(t){return Kh(t)&&t.tagName.toLowerCase()==="button"}function r6(t){return Kh(t)&&t.tagName.toLowerCase()==="form"}function l6(t){return Kh(t)&&t.tagName.toLowerCase()==="input"}function n6(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function i6(t,s){return t.button===0&&(!s||s==="_self")&&!n6(t)}var ah=null;function o6(){if(ah===null)try{new FormData(document.createElement("form"),0),ah=!1}catch{ah=!0}return ah}var c6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Cp(t){return t!=null&&!c6.has(t)?(Mi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yh}"`),null):t}function d6(t,s){let r,l,i,o,d;if(r6(t)){let x=t.getAttribute("action");l=x?Io(x,s):null,r=t.getAttribute("method")||vh,i=Cp(t.getAttribute("enctype"))||yh,o=new FormData(t)}else if(a6(t)||l6(t)&&(t.type==="submit"||t.type==="image")){let x=t.form;if(x==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||x.getAttribute("action");if(l=u?Io(u,s):null,r=t.getAttribute("formmethod")||x.getAttribute("method")||vh,i=Cp(t.getAttribute("formenctype"))||Cp(x.getAttribute("enctype"))||yh,o=new FormData(x,t),!o6()){let{name:h,type:p,value:g}=t;if(p==="image"){let y=h?`${h}.`:"";o.append(`${y}x`,"0"),o.append(`${y}y`,"0")}else h&&o.append(h,g)}}else{if(Kh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=vh,l=null,i=yh,d=t}return o&&i==="text/plain"&&(d=o,o=void 0),{action:l,method:r.toLowerCase(),encType:i,formData:o,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function tg(t,s){if(t===!1||t===null||typeof t>"u")throw new Error(s)}function x6(t,s,r,l){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${l}`:i.pathname=`${i.pathname}.${l}`:i.pathname==="/"?i.pathname=`_root.${l}`:s&&Io(i.pathname,s)==="/"?i.pathname=`${s.replace(/\/$/,"")}/_root.${l}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${l}`,i}async function u6(t,s){if(t.id in s)return s[t.id];try{let r=await import(t.module);return s[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function h6(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function m6(t,s,r){let l=await Promise.all(t.map(async i=>{let o=s.routes[i.route.id];if(o){let d=await u6(o,r);return d.links?d.links():[]}return[]}));return b6(l.flat(1).filter(h6).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function o1(t,s,r,l,i,o){let d=(u,h)=>r[h]?u.route.id!==r[h].route.id:!0,x=(u,h)=>r[h].pathname!==u.pathname||r[h].route.path?.endsWith("*")&&r[h].params["*"]!==u.params["*"];return o==="assets"?s.filter((u,h)=>d(u,h)||x(u,h)):o==="data"?s.filter((u,h)=>{let p=l.routes[u.route.id];if(!p||!p.hasLoader)return!1;if(d(u,h)||x(u,h))return!0;if(u.route.shouldRevalidate){let g=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function p6(t,s,{includeHydrateFallback:r}={}){return f6(t.map(l=>{let i=s.routes[l.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function f6(t){return[...new Set(t)]}function g6(t){let s={},r=Object.keys(t).sort();for(let l of r)s[l]=t[l];return s}function b6(t,s){let r=new Set;return new Set(s),t.reduce((l,i)=>{let o=JSON.stringify(g6(i));return r.has(o)||(r.add(o),l.push({key:o,link:i})),l},[])}function K2(){let t=j.useContext(W0);return tg(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function v6(){let t=j.useContext(Yh);return tg(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var sg=j.createContext(void 0);sg.displayName="FrameworkContext";function J2(){let t=j.useContext(sg);return tg(t,"You must render this element inside a <HydratedRouter> element"),t}function y6(t,s){let r=j.useContext(sg),[l,i]=j.useState(!1),[o,d]=j.useState(!1),{onFocus:x,onBlur:u,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=s,y=j.useRef(null);j.useEffect(()=>{if(t==="render"&&d(!0),t==="viewport"){let S=N=>{N.forEach(A=>{d(A.isIntersecting)})},v=new IntersectionObserver(S,{threshold:.5});return y.current&&v.observe(y.current),()=>{v.disconnect()}}},[t]),j.useEffect(()=>{if(l){let S=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(S)}}},[l]);let f=()=>{i(!0)},w=()=>{i(!1),d(!1)};return r?t!=="intent"?[o,y,{}]:[o,y,{onFocus:Px(x,f),onBlur:Px(u,w),onMouseEnter:Px(h,f),onMouseLeave:Px(p,w),onTouchStart:Px(g,f)}]:[!1,y,{}]}function Px(t,s){return r=>{t&&t(r),r.defaultPrevented||s(r)}}function j6({page:t,...s}){let{router:r}=K2(),l=j.useMemo(()=>R2(r.routes,t,r.basename),[r.routes,t,r.basename]);return l?j.createElement(N6,{page:t,matches:l,...s}):null}function w6(t){let{manifest:s,routeModules:r}=J2(),[l,i]=j.useState([]);return j.useEffect(()=>{let o=!1;return m6(t,s,r).then(d=>{o||i(d)}),()=>{o=!0}},[t,s,r]),l}function N6({page:t,matches:s,...r}){let l=zr(),{future:i,manifest:o,routeModules:d}=J2(),{basename:x}=K2(),{loaderData:u,matches:h}=v6(),p=j.useMemo(()=>o1(t,s,h,o,l,"data"),[t,s,h,o,l]),g=j.useMemo(()=>o1(t,s,h,o,l,"assets"),[t,s,h,o,l]),y=j.useMemo(()=>{if(t===l.pathname+l.search+l.hash)return[];let S=new Set,v=!1;if(s.forEach(A=>{let L=o.routes[A.route.id];!L||!L.hasLoader||(!p.some(M=>M.route.id===A.route.id)&&A.route.id in u&&d[A.route.id]?.shouldRevalidate||L.hasClientLoader?v=!0:S.add(A.route.id))}),S.size===0)return[];let N=x6(t,x,i.unstable_trailingSlashAwareDataRequests,"data");return v&&S.size>0&&N.searchParams.set("_routes",s.filter(A=>S.has(A.route.id)).map(A=>A.route.id).join(",")),[N.pathname+N.search]},[x,i.unstable_trailingSlashAwareDataRequests,u,l,o,p,s,t,d]),f=j.useMemo(()=>p6(g,o),[g,o]),w=w6(g);return j.createElement(j.Fragment,null,y.map(S=>j.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...r})),f.map(S=>j.createElement("link",{key:S,rel:"modulepreload",href:S,...r})),w.map(({key:S,link:v})=>j.createElement("link",{key:S,nonce:r.nonce,...v,crossOrigin:v.crossOrigin??r.crossOrigin})))}function k6(...t){return s=>{t.forEach(r=>{typeof r=="function"?r(s):r!=null&&(r.current=s)})}}var S6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{S6&&(window.__reactRouterVersion="7.13.0")}catch{}function C6({basename:t,children:s,unstable_useTransitions:r,window:l}){let i=j.useRef();i.current==null&&(i.current=l4({window:l,v5Compat:!0}));let o=i.current,[d,x]=j.useState({action:o.action,location:o.location}),u=j.useCallback(h=>{r===!1?x(h):j.startTransition(()=>x(h))},[r]);return j.useLayoutEffect(()=>o.listen(u),[o,u]),j.createElement(t6,{basename:t,children:s,location:d.location,navigationType:d.action,navigator:o,unstable_useTransitions:r})}var Z2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Q2=j.forwardRef(function({onClick:s,discover:r="render",prefetch:l="none",relative:i,reloadDocument:o,replace:d,state:x,target:u,to:h,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:y,...f},w){let{basename:S,unstable_useTransitions:v}=j.useContext(Nn),N=typeof h=="string"&&Z2.test(h),A=I2(h,S);h=A.to;let L=B4(h,{relative:i}),[M,T,_]=y6(l,f),I=D6(h,{replace:d,state:x,target:u,preventScrollReset:p,relative:i,viewTransition:g,unstable_defaultShouldRevalidate:y,unstable_useTransitions:v});function B(R){s&&s(R),R.defaultPrevented||I(R)}let P=j.createElement("a",{...f,..._,href:A.absoluteURL||L,onClick:A.isExternal||o?s:B,ref:k6(w,T),target:u,"data-discover":!N&&r==="render"?"true":void 0});return M&&!N?j.createElement(j.Fragment,null,P,j.createElement(j6,{page:L})):P});Q2.displayName="Link";var _h=j.forwardRef(function({"aria-current":s="page",caseSensitive:r=!1,className:l="",end:i=!1,style:o,to:d,viewTransition:x,children:u,...h},p){let g=eu(d,{relative:h.relative}),y=zr(),f=j.useContext(Yh),{navigator:w,basename:S}=j.useContext(Nn),v=f!=null&&_6(g)&&x===!0,N=w.encodeLocation?w.encodeLocation(g).pathname:g.pathname,A=y.pathname,L=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;r||(A=A.toLowerCase(),L=L?L.toLowerCase():null,N=N.toLowerCase()),L&&S&&(L=Io(L,S)||L);const M=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let T=A===N||!i&&A.startsWith(N)&&A.charAt(M)==="/",_=L!=null&&(L===N||!i&&L.startsWith(N)&&L.charAt(N.length)==="/"),I={isActive:T,isPending:_,isTransitioning:v},B=T?s:void 0,P;typeof l=="function"?P=l(I):P=[l,T?"active":null,_?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let R=typeof o=="function"?o(I):o;return j.createElement(Q2,{...h,"aria-current":B,className:P,ref:p,style:R,to:d,viewTransition:x},typeof u=="function"?u(I):u)});_h.displayName="NavLink";var A6=j.forwardRef(({discover:t="render",fetcherKey:s,navigate:r,reloadDocument:l,replace:i,state:o,method:d=vh,action:x,onSubmit:u,relative:h,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:y,...f},w)=>{let{unstable_useTransitions:S}=j.useContext(Nn),v=E6(),N=T6(x,{relative:h}),A=d.toLowerCase()==="get"?"get":"post",L=typeof x=="string"&&Z2.test(x),M=T=>{if(u&&u(T),T.defaultPrevented)return;T.preventDefault();let _=T.nativeEvent.submitter,I=_?.getAttribute("formmethod")||d,B=()=>v(_||T.currentTarget,{fetcherKey:s,method:I,navigate:r,replace:i,state:o,relative:h,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:y});S&&r!==!1?j.startTransition(()=>B()):B()};return j.createElement("form",{ref:w,method:A,action:N,onSubmit:l?u:M,...f,"data-discover":!L&&t==="render"?"true":void 0})});A6.displayName="Form";function M6(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ej(t){let s=j.useContext(W0);return Ca(s,M6(t)),s}function D6(t,{target:s,replace:r,state:l,preventScrollReset:i,relative:o,viewTransition:d,unstable_defaultShouldRevalidate:x,unstable_useTransitions:u}={}){let h=Gt(),p=zr(),g=eu(t,{relative:o});return j.useCallback(y=>{if(i6(y,s)){y.preventDefault();let f=r!==void 0?r:Vx(p)===Vx(g),w=()=>h(t,{replace:f,state:l,preventScrollReset:i,relative:o,viewTransition:d,unstable_defaultShouldRevalidate:x});u?j.startTransition(()=>w()):w()}},[p,h,g,r,l,s,t,i,o,d,x,u])}var L6=0,z6=()=>`__${String(++L6)}__`;function E6(){let{router:t}=ej("useSubmit"),{basename:s}=j.useContext(Nn),r=J4(),l=t.fetch,i=t.navigate;return j.useCallback(async(o,d={})=>{let{action:x,method:u,encType:h,formData:p,body:g}=d6(o,s);if(d.navigate===!1){let y=d.fetcherKey||z6();await l(y,r,d.action||x,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:p,body:g,formMethod:d.method||u,formEncType:d.encType||h,flushSync:d.flushSync})}else await i(d.action||x,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:p,body:g,formMethod:d.method||u,formEncType:d.encType||h,replace:d.replace,state:d.state,fromRouteId:r,flushSync:d.flushSync,viewTransition:d.viewTransition})},[l,i,s,r])}function T6(t,{relative:s}={}){let{basename:r}=j.useContext(Nn),l=j.useContext(Jn);Ca(l,"useFormAction must be used inside a RouteContext");let[i]=l.matches.slice(-1),o={...eu(t||".",{relative:s})},d=zr();if(t==null){o.search=d.search;let x=new URLSearchParams(o.search),u=x.getAll("index");if(u.some(p=>p==="")){x.delete("index"),u.filter(g=>g).forEach(g=>x.append("index",g));let p=x.toString();o.search=p?`?${p}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(o.pathname=o.pathname==="/"?r:Fo([r,o.pathname])),Vx(o)}function _6(t,{relative:s}={}){let r=j.useContext($2);Ca(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=ej("useViewTransitionState"),i=eu(t,{relative:s});if(!r.isTransitioning)return!1;let o=Io(r.currentLocation.pathname,l)||r.currentLocation.pathname,d=Io(r.nextLocation.pathname,l)||r.nextLocation.pathname;return Th(i.pathname,d)!=null||Th(i.pathname,o)!=null}var P6=P2();const tj=Vf(P6);function sj(t,s){return function(){return t.apply(s,arguments)}}const{toString:R6}=Object.prototype,{getPrototypeOf:ag}=Object,{iterator:Jh,toStringTag:aj}=Symbol,Zh=(t=>s=>{const r=R6.call(s);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Li=t=>(t=t.toLowerCase(),s=>Zh(s)===t),Qh=t=>s=>typeof s===t,{isArray:V0}=Array,U0=Qh("undefined");function tu(t){return t!==null&&!U0(t)&&t.constructor!==null&&!U0(t.constructor)&&ql(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const rj=Li("ArrayBuffer");function O6(t){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(t):s=t&&t.buffer&&rj(t.buffer),s}const F6=Qh("string"),ql=Qh("function"),lj=Qh("number"),su=t=>t!==null&&typeof t=="object",B6=t=>t===!0||t===!1,jh=t=>{if(Zh(t)!=="object")return!1;const s=ag(t);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(aj in t)&&!(Jh in t)},I6=t=>{if(!su(t)||tu(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},U6=Li("Date"),$6=Li("File"),q6=Li("Blob"),H6=Li("FileList"),W6=t=>su(t)&&ql(t.pipe),G6=t=>{let s;return t&&(typeof FormData=="function"&&t instanceof FormData||ql(t.append)&&((s=Zh(t))==="formdata"||s==="object"&&ql(t.toString)&&t.toString()==="[object FormData]"))},V6=Li("URLSearchParams"),[Y6,X6,K6,J6]=["ReadableStream","Request","Response","Headers"].map(Li),Z6=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function au(t,s,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let l,i;if(typeof t!="object"&&(t=[t]),V0(t))for(l=0,i=t.length;l<i;l++)s.call(null,t[l],l,t);else{if(tu(t))return;const o=r?Object.getOwnPropertyNames(t):Object.keys(t),d=o.length;let x;for(l=0;l<d;l++)x=o[l],s.call(null,t[x],x,t)}}function nj(t,s){if(tu(t))return null;s=s.toLowerCase();const r=Object.keys(t);let l=r.length,i;for(;l-- >0;)if(i=r[l],s===i.toLowerCase())return i;return null}const vd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ij=t=>!U0(t)&&t!==vd;function bf(){const{caseless:t,skipUndefined:s}=ij(this)&&this||{},r={},l=(i,o)=>{if(o==="__proto__"||o==="constructor"||o==="prototype")return;const d=t&&nj(r,o)||o;jh(r[d])&&jh(i)?r[d]=bf(r[d],i):jh(i)?r[d]=bf({},i):V0(i)?r[d]=i.slice():(!s||!U0(i))&&(r[d]=i)};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&au(arguments[i],l);return r}const Q6=(t,s,r,{allOwnKeys:l}={})=>(au(s,(i,o)=>{r&&ql(i)?Object.defineProperty(t,o,{value:sj(i,r),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(t,o,{value:i,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:l}),t),e3=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),t3=(t,s,r,l)=>{t.prototype=Object.create(s.prototype,l),Object.defineProperty(t.prototype,"constructor",{value:t,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(t,"super",{value:s.prototype}),r&&Object.assign(t.prototype,r)},s3=(t,s,r,l)=>{let i,o,d;const x={};if(s=s||{},t==null)return s;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)d=i[o],(!l||l(d,t,s))&&!x[d]&&(s[d]=t[d],x[d]=!0);t=r!==!1&&ag(t)}while(t&&(!r||r(t,s))&&t!==Object.prototype);return s},a3=(t,s,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=s.length;const l=t.indexOf(s,r);return l!==-1&&l===r},r3=t=>{if(!t)return null;if(V0(t))return t;let s=t.length;if(!lj(s))return null;const r=new Array(s);for(;s-- >0;)r[s]=t[s];return r},l3=(t=>s=>t&&s instanceof t)(typeof Uint8Array<"u"&&ag(Uint8Array)),n3=(t,s)=>{const l=(t&&t[Jh]).call(t);let i;for(;(i=l.next())&&!i.done;){const o=i.value;s.call(t,o[0],o[1])}},i3=(t,s)=>{let r;const l=[];for(;(r=t.exec(s))!==null;)l.push(r);return l},o3=Li("HTMLFormElement"),c3=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,l,i){return l.toUpperCase()+i}),c1=(({hasOwnProperty:t})=>(s,r)=>t.call(s,r))(Object.prototype),d3=Li("RegExp"),oj=(t,s)=>{const r=Object.getOwnPropertyDescriptors(t),l={};au(r,(i,o)=>{let d;(d=s(i,o,t))!==!1&&(l[o]=d||i)}),Object.defineProperties(t,l)},x3=t=>{oj(t,(s,r)=>{if(ql(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const l=t[r];if(ql(l)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},u3=(t,s)=>{const r={},l=i=>{i.forEach(o=>{r[o]=!0})};return V0(t)?l(t):l(String(t).split(s)),r},h3=()=>{},m3=(t,s)=>t!=null&&Number.isFinite(t=+t)?t:s;function p3(t){return!!(t&&ql(t.append)&&t[aj]==="FormData"&&t[Jh])}const f3=t=>{const s=new Array(10),r=(l,i)=>{if(su(l)){if(s.indexOf(l)>=0)return;if(tu(l))return l;if(!("toJSON"in l)){s[i]=l;const o=V0(l)?[]:{};return au(l,(d,x)=>{const u=r(d,i+1);!U0(u)&&(o[x]=u)}),s[i]=void 0,o}}return l};return r(t,0)},g3=Li("AsyncFunction"),b3=t=>t&&(su(t)||ql(t))&&ql(t.then)&&ql(t.catch),cj=((t,s)=>t?setImmediate:s?((r,l)=>(vd.addEventListener("message",({source:i,data:o})=>{i===vd&&o===r&&l.length&&l.shift()()},!1),i=>{l.push(i),vd.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",ql(vd.postMessage)),v3=typeof queueMicrotask<"u"?queueMicrotask.bind(vd):typeof process<"u"&&process.nextTick||cj,y3=t=>t!=null&&ql(t[Jh]),_e={isArray:V0,isArrayBuffer:rj,isBuffer:tu,isFormData:G6,isArrayBufferView:O6,isString:F6,isNumber:lj,isBoolean:B6,isObject:su,isPlainObject:jh,isEmptyObject:I6,isReadableStream:Y6,isRequest:X6,isResponse:K6,isHeaders:J6,isUndefined:U0,isDate:U6,isFile:$6,isBlob:q6,isRegExp:d3,isFunction:ql,isStream:W6,isURLSearchParams:V6,isTypedArray:l3,isFileList:H6,forEach:au,merge:bf,extend:Q6,trim:Z6,stripBOM:e3,inherits:t3,toFlatObject:s3,kindOf:Zh,kindOfTest:Li,endsWith:a3,toArray:r3,forEachEntry:n3,matchAll:i3,isHTMLForm:o3,hasOwnProperty:c1,hasOwnProp:c1,reduceDescriptors:oj,freezeMethods:x3,toObjectSet:u3,toCamelCase:c3,noop:h3,toFiniteNumber:m3,findKey:nj,global:vd,isContextDefined:ij,isSpecCompliantForm:p3,toJSONObject:f3,isAsyncFn:g3,isThenable:b3,setImmediate:cj,asap:v3,isIterable:y3};let qt=class dj extends Error{static from(s,r,l,i,o,d){const x=new dj(s.message,r||s.code,l,i,o);return x.cause=s,x.name=s.name,d&&Object.assign(x,d),x}constructor(s,r,l,i,o){super(s),this.name="AxiosError",this.isAxiosError=!0,r&&(this.code=r),l&&(this.config=l),i&&(this.request=i),o&&(this.response=o,this.status=o.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:_e.toJSONObject(this.config),code:this.code,status:this.status}}};qt.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";qt.ERR_BAD_OPTION="ERR_BAD_OPTION";qt.ECONNABORTED="ECONNABORTED";qt.ETIMEDOUT="ETIMEDOUT";qt.ERR_NETWORK="ERR_NETWORK";qt.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";qt.ERR_DEPRECATED="ERR_DEPRECATED";qt.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";qt.ERR_BAD_REQUEST="ERR_BAD_REQUEST";qt.ERR_CANCELED="ERR_CANCELED";qt.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";qt.ERR_INVALID_URL="ERR_INVALID_URL";const j3=null;function vf(t){return _e.isPlainObject(t)||_e.isArray(t)}function xj(t){return _e.endsWith(t,"[]")?t.slice(0,-2):t}function d1(t,s,r){return t?t.concat(s).map(function(i,o){return i=xj(i),!r&&o?"["+i+"]":i}).join(r?".":""):s}function w3(t){return _e.isArray(t)&&!t.some(vf)}const N3=_e.toFlatObject(_e,{},null,function(s){return/^is[A-Z]/.test(s)});function em(t,s,r){if(!_e.isObject(t))throw new TypeError("target must be an object");s=s||new FormData,r=_e.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,v){return!_e.isUndefined(v[S])});const l=r.metaTokens,i=r.visitor||p,o=r.dots,d=r.indexes,u=(r.Blob||typeof Blob<"u"&&Blob)&&_e.isSpecCompliantForm(s);if(!_e.isFunction(i))throw new TypeError("visitor must be a function");function h(w){if(w===null)return"";if(_e.isDate(w))return w.toISOString();if(_e.isBoolean(w))return w.toString();if(!u&&_e.isBlob(w))throw new qt("Blob is not supported. Use a Buffer instead.");return _e.isArrayBuffer(w)||_e.isTypedArray(w)?u&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function p(w,S,v){let N=w;if(w&&!v&&typeof w=="object"){if(_e.endsWith(S,"{}"))S=l?S:S.slice(0,-2),w=JSON.stringify(w);else if(_e.isArray(w)&&w3(w)||(_e.isFileList(w)||_e.endsWith(S,"[]"))&&(N=_e.toArray(w)))return S=xj(S),N.forEach(function(L,M){!(_e.isUndefined(L)||L===null)&&s.append(d===!0?d1([S],M,o):d===null?S:S+"[]",h(L))}),!1}return vf(w)?!0:(s.append(d1(v,S,o),h(w)),!1)}const g=[],y=Object.assign(N3,{defaultVisitor:p,convertValue:h,isVisitable:vf});function f(w,S){if(!_e.isUndefined(w)){if(g.indexOf(w)!==-1)throw Error("Circular reference detected in "+S.join("."));g.push(w),_e.forEach(w,function(N,A){(!(_e.isUndefined(N)||N===null)&&i.call(s,N,_e.isString(A)?A.trim():A,S,y))===!0&&f(N,S?S.concat(A):[A])}),g.pop()}}if(!_e.isObject(t))throw new TypeError("data must be an object");return f(t),s}function x1(t){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(l){return s[l]})}function rg(t,s){this._pairs=[],t&&em(t,this,s)}const uj=rg.prototype;uj.append=function(s,r){this._pairs.push([s,r])};uj.toString=function(s){const r=s?function(l){return s.call(this,l,x1)}:x1;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function k3(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function hj(t,s,r){if(!s)return t;const l=r&&r.encode||k3,i=_e.isFunction(r)?{serialize:r}:r,o=i&&i.serialize;let d;if(o?d=o(s,i):d=_e.isURLSearchParams(s)?s.toString():new rg(s,i).toString(l),d){const x=t.indexOf("#");x!==-1&&(t=t.slice(0,x)),t+=(t.indexOf("?")===-1?"?":"&")+d}return t}class u1{constructor(){this.handlers=[]}use(s,r,l){return this.handlers.push({fulfilled:s,rejected:r,synchronous:l?l.synchronous:!1,runWhen:l?l.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){_e.forEach(this.handlers,function(l){l!==null&&s(l)})}}const lg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1,legacyInterceptorReqResOrdering:!0},S3=typeof URLSearchParams<"u"?URLSearchParams:rg,C3=typeof FormData<"u"?FormData:null,A3=typeof Blob<"u"?Blob:null,M3={isBrowser:!0,classes:{URLSearchParams:S3,FormData:C3,Blob:A3},protocols:["http","https","file","blob","url","data"]},ng=typeof window<"u"&&typeof document<"u",yf=typeof navigator=="object"&&navigator||void 0,D3=ng&&(!yf||["ReactNative","NativeScript","NS"].indexOf(yf.product)<0),L3=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",z3=ng&&window.location.href||"http://localhost",E3=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ng,hasStandardBrowserEnv:D3,hasStandardBrowserWebWorkerEnv:L3,navigator:yf,origin:z3},Symbol.toStringTag,{value:"Module"})),tl={...E3,...M3};function T3(t,s){return em(t,new tl.classes.URLSearchParams,{visitor:function(r,l,i,o){return tl.isNode&&_e.isBuffer(r)?(this.append(l,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...s})}function _3(t){return _e.matchAll(/\w+|\[(\w*)]/g,t).map(s=>s[0]==="[]"?"":s[1]||s[0])}function P3(t){const s={},r=Object.keys(t);let l;const i=r.length;let o;for(l=0;l<i;l++)o=r[l],s[o]=t[o];return s}function mj(t){function s(r,l,i,o){let d=r[o++];if(d==="__proto__")return!0;const x=Number.isFinite(+d),u=o>=r.length;return d=!d&&_e.isArray(i)?i.length:d,u?(_e.hasOwnProp(i,d)?i[d]=[i[d],l]:i[d]=l,!x):((!i[d]||!_e.isObject(i[d]))&&(i[d]=[]),s(r,l,i[d],o)&&_e.isArray(i[d])&&(i[d]=P3(i[d])),!x)}if(_e.isFormData(t)&&_e.isFunction(t.entries)){const r={};return _e.forEachEntry(t,(l,i)=>{s(_3(l),i,r,0)}),r}return null}function R3(t,s,r){if(_e.isString(t))try{return(s||JSON.parse)(t),_e.trim(t)}catch(l){if(l.name!=="SyntaxError")throw l}return(r||JSON.stringify)(t)}const ru={transitional:lg,adapter:["xhr","http","fetch"],transformRequest:[function(s,r){const l=r.getContentType()||"",i=l.indexOf("application/json")>-1,o=_e.isObject(s);if(o&&_e.isHTMLForm(s)&&(s=new FormData(s)),_e.isFormData(s))return i?JSON.stringify(mj(s)):s;if(_e.isArrayBuffer(s)||_e.isBuffer(s)||_e.isStream(s)||_e.isFile(s)||_e.isBlob(s)||_e.isReadableStream(s))return s;if(_e.isArrayBufferView(s))return s.buffer;if(_e.isURLSearchParams(s))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let x;if(o){if(l.indexOf("application/x-www-form-urlencoded")>-1)return T3(s,this.formSerializer).toString();if((x=_e.isFileList(s))||l.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return em(x?{"files[]":s}:s,u&&new u,this.formSerializer)}}return o||i?(r.setContentType("application/json",!1),R3(s)):s}],transformResponse:[function(s){const r=this.transitional||ru.transitional,l=r&&r.forcedJSONParsing,i=this.responseType==="json";if(_e.isResponse(s)||_e.isReadableStream(s))return s;if(s&&_e.isString(s)&&(l&&!this.responseType||i)){const d=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(s,this.parseReviver)}catch(x){if(d)throw x.name==="SyntaxError"?qt.from(x,qt.ERR_BAD_RESPONSE,this,null,this.response):x}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:tl.classes.FormData,Blob:tl.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};_e.forEach(["delete","get","head","post","put","patch"],t=>{ru.headers[t]={}});const O3=_e.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),F3=t=>{const s={};let r,l,i;return t&&t.split(`
`).forEach(function(d){i=d.indexOf(":"),r=d.substring(0,i).trim().toLowerCase(),l=d.substring(i+1).trim(),!(!r||s[r]&&O3[r])&&(r==="set-cookie"?s[r]?s[r].push(l):s[r]=[l]:s[r]=s[r]?s[r]+", "+l:l)}),s},h1=Symbol("internals");function Rx(t){return t&&String(t).trim().toLowerCase()}function wh(t){return t===!1||t==null?t:_e.isArray(t)?t.map(wh):String(t)}function B3(t){const s=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let l;for(;l=r.exec(t);)s[l[1]]=l[2];return s}const I3=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Ap(t,s,r,l,i){if(_e.isFunction(l))return l.call(this,s,r);if(i&&(s=r),!!_e.isString(s)){if(_e.isString(l))return s.indexOf(l)!==-1;if(_e.isRegExp(l))return l.test(s)}}function U3(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,r,l)=>r.toUpperCase()+l)}function $3(t,s){const r=_e.toCamelCase(" "+s);["get","set","has"].forEach(l=>{Object.defineProperty(t,l+r,{value:function(i,o,d){return this[l].call(this,s,i,o,d)},configurable:!0})})}let Hl=class{constructor(s){s&&this.set(s)}set(s,r,l){const i=this;function o(x,u,h){const p=Rx(u);if(!p)throw new Error("header name must be a non-empty string");const g=_e.findKey(i,p);(!g||i[g]===void 0||h===!0||h===void 0&&i[g]!==!1)&&(i[g||u]=wh(x))}const d=(x,u)=>_e.forEach(x,(h,p)=>o(h,p,u));if(_e.isPlainObject(s)||s instanceof this.constructor)d(s,r);else if(_e.isString(s)&&(s=s.trim())&&!I3(s))d(F3(s),r);else if(_e.isObject(s)&&_e.isIterable(s)){let x={},u,h;for(const p of s){if(!_e.isArray(p))throw TypeError("Object iterator must return a key-value pair");x[h=p[0]]=(u=x[h])?_e.isArray(u)?[...u,p[1]]:[u,p[1]]:p[1]}d(x,r)}else s!=null&&o(r,s,l);return this}get(s,r){if(s=Rx(s),s){const l=_e.findKey(this,s);if(l){const i=this[l];if(!r)return i;if(r===!0)return B3(i);if(_e.isFunction(r))return r.call(this,i,l);if(_e.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,r){if(s=Rx(s),s){const l=_e.findKey(this,s);return!!(l&&this[l]!==void 0&&(!r||Ap(this,this[l],l,r)))}return!1}delete(s,r){const l=this;let i=!1;function o(d){if(d=Rx(d),d){const x=_e.findKey(l,d);x&&(!r||Ap(l,l[x],x,r))&&(delete l[x],i=!0)}}return _e.isArray(s)?s.forEach(o):o(s),i}clear(s){const r=Object.keys(this);let l=r.length,i=!1;for(;l--;){const o=r[l];(!s||Ap(this,this[o],o,s,!0))&&(delete this[o],i=!0)}return i}normalize(s){const r=this,l={};return _e.forEach(this,(i,o)=>{const d=_e.findKey(l,o);if(d){r[d]=wh(i),delete r[o];return}const x=s?U3(o):String(o).trim();x!==o&&delete r[o],r[x]=wh(i),l[x]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const r=Object.create(null);return _e.forEach(this,(l,i)=>{l!=null&&l!==!1&&(r[i]=s&&_e.isArray(l)?l.join(", "):l)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,r])=>s+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...r){const l=new this(s);return r.forEach(i=>l.set(i)),l}static accessor(s){const l=(this[h1]=this[h1]={accessors:{}}).accessors,i=this.prototype;function o(d){const x=Rx(d);l[x]||($3(i,d),l[x]=!0)}return _e.isArray(s)?s.forEach(o):o(s),this}};Hl.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);_e.reduceDescriptors(Hl.prototype,({value:t},s)=>{let r=s[0].toUpperCase()+s.slice(1);return{get:()=>t,set(l){this[r]=l}}});_e.freezeMethods(Hl);function Mp(t,s){const r=this||ru,l=s||r,i=Hl.from(l.headers);let o=l.data;return _e.forEach(t,function(x){o=x.call(r,o,i.normalize(),s?s.status:void 0)}),i.normalize(),o}function pj(t){return!!(t&&t.__CANCEL__)}let lu=class extends qt{constructor(s,r,l){super(s??"canceled",qt.ERR_CANCELED,r,l),this.name="CanceledError",this.__CANCEL__=!0}};function fj(t,s,r){const l=r.config.validateStatus;!r.status||!l||l(r.status)?t(r):s(new qt("Request failed with status code "+r.status,[qt.ERR_BAD_REQUEST,qt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function q3(t){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return s&&s[1]||""}function H3(t,s){t=t||10;const r=new Array(t),l=new Array(t);let i=0,o=0,d;return s=s!==void 0?s:1e3,function(u){const h=Date.now(),p=l[o];d||(d=h),r[i]=u,l[i]=h;let g=o,y=0;for(;g!==i;)y+=r[g++],g=g%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),h-d<s)return;const f=p&&h-p;return f?Math.round(y*1e3/f):void 0}}function W3(t,s){let r=0,l=1e3/s,i,o;const d=(h,p=Date.now())=>{r=p,i=null,o&&(clearTimeout(o),o=null),t(...h)};return[(...h)=>{const p=Date.now(),g=p-r;g>=l?d(h,p):(i=h,o||(o=setTimeout(()=>{o=null,d(i)},l-g)))},()=>i&&d(i)]}const Ph=(t,s,r=3)=>{let l=0;const i=H3(50,250);return W3(o=>{const d=o.loaded,x=o.lengthComputable?o.total:void 0,u=d-l,h=i(u),p=d<=x;l=d;const g={loaded:d,total:x,progress:x?d/x:void 0,bytes:u,rate:h||void 0,estimated:h&&x&&p?(x-d)/h:void 0,event:o,lengthComputable:x!=null,[s?"download":"upload"]:!0};t(g)},r)},m1=(t,s)=>{const r=t!=null;return[l=>s[0]({lengthComputable:r,total:t,loaded:l}),s[1]]},p1=t=>(...s)=>_e.asap(()=>t(...s)),G3=tl.hasStandardBrowserEnv?((t,s)=>r=>(r=new URL(r,tl.origin),t.protocol===r.protocol&&t.host===r.host&&(s||t.port===r.port)))(new URL(tl.origin),tl.navigator&&/(msie|trident)/i.test(tl.navigator.userAgent)):()=>!0,V3=tl.hasStandardBrowserEnv?{write(t,s,r,l,i,o,d){if(typeof document>"u")return;const x=[`${t}=${encodeURIComponent(s)}`];_e.isNumber(r)&&x.push(`expires=${new Date(r).toUTCString()}`),_e.isString(l)&&x.push(`path=${l}`),_e.isString(i)&&x.push(`domain=${i}`),o===!0&&x.push("secure"),_e.isString(d)&&x.push(`SameSite=${d}`),document.cookie=x.join("; ")},read(t){if(typeof document>"u")return null;const s=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return s?decodeURIComponent(s[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Y3(t){return typeof t!="string"?!1:/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function X3(t,s){return s?t.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):t}function gj(t,s,r){let l=!Y3(s);return t&&(l||r==!1)?X3(t,s):s}const f1=t=>t instanceof Hl?{...t}:t;function wd(t,s){s=s||{};const r={};function l(h,p,g,y){return _e.isPlainObject(h)&&_e.isPlainObject(p)?_e.merge.call({caseless:y},h,p):_e.isPlainObject(p)?_e.merge({},p):_e.isArray(p)?p.slice():p}function i(h,p,g,y){if(_e.isUndefined(p)){if(!_e.isUndefined(h))return l(void 0,h,g,y)}else return l(h,p,g,y)}function o(h,p){if(!_e.isUndefined(p))return l(void 0,p)}function d(h,p){if(_e.isUndefined(p)){if(!_e.isUndefined(h))return l(void 0,h)}else return l(void 0,p)}function x(h,p,g){if(g in s)return l(h,p);if(g in t)return l(void 0,h)}const u={url:o,method:o,data:o,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:x,headers:(h,p,g)=>i(f1(h),f1(p),g,!0)};return _e.forEach(Object.keys({...t,...s}),function(p){if(p==="__proto__"||p==="constructor"||p==="prototype")return;const g=_e.hasOwnProp(u,p)?u[p]:i,y=g(t[p],s[p],p);_e.isUndefined(y)&&g!==x||(r[p]=y)}),r}const bj=t=>{const s=wd({},t);let{data:r,withXSRFToken:l,xsrfHeaderName:i,xsrfCookieName:o,headers:d,auth:x}=s;if(s.headers=d=Hl.from(d),s.url=hj(gj(s.baseURL,s.url,s.allowAbsoluteUrls),t.params,t.paramsSerializer),x&&d.set("Authorization","Basic "+btoa((x.username||"")+":"+(x.password?unescape(encodeURIComponent(x.password)):""))),_e.isFormData(r)){if(tl.hasStandardBrowserEnv||tl.hasStandardBrowserWebWorkerEnv)d.setContentType(void 0);else if(_e.isFunction(r.getHeaders)){const u=r.getHeaders(),h=["content-type","content-length"];Object.entries(u).forEach(([p,g])=>{h.includes(p.toLowerCase())&&d.set(p,g)})}}if(tl.hasStandardBrowserEnv&&(l&&_e.isFunction(l)&&(l=l(s)),l||l!==!1&&G3(s.url))){const u=i&&o&&V3.read(o);u&&d.set(i,u)}return s},K3=typeof XMLHttpRequest<"u",J3=K3&&function(t){return new Promise(function(r,l){const i=bj(t);let o=i.data;const d=Hl.from(i.headers).normalize();let{responseType:x,onUploadProgress:u,onDownloadProgress:h}=i,p,g,y,f,w;function S(){f&&f(),w&&w(),i.cancelToken&&i.cancelToken.unsubscribe(p),i.signal&&i.signal.removeEventListener("abort",p)}let v=new XMLHttpRequest;v.open(i.method.toUpperCase(),i.url,!0),v.timeout=i.timeout;function N(){if(!v)return;const L=Hl.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),T={data:!x||x==="text"||x==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:L,config:t,request:v};fj(function(I){r(I),S()},function(I){l(I),S()},T),v=null}"onloadend"in v?v.onloadend=N:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(N)},v.onabort=function(){v&&(l(new qt("Request aborted",qt.ECONNABORTED,t,v)),v=null)},v.onerror=function(M){const T=M&&M.message?M.message:"Network Error",_=new qt(T,qt.ERR_NETWORK,t,v);_.event=M||null,l(_),v=null},v.ontimeout=function(){let M=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const T=i.transitional||lg;i.timeoutErrorMessage&&(M=i.timeoutErrorMessage),l(new qt(M,T.clarifyTimeoutError?qt.ETIMEDOUT:qt.ECONNABORTED,t,v)),v=null},o===void 0&&d.setContentType(null),"setRequestHeader"in v&&_e.forEach(d.toJSON(),function(M,T){v.setRequestHeader(T,M)}),_e.isUndefined(i.withCredentials)||(v.withCredentials=!!i.withCredentials),x&&x!=="json"&&(v.responseType=i.responseType),h&&([y,w]=Ph(h,!0),v.addEventListener("progress",y)),u&&v.upload&&([g,f]=Ph(u),v.upload.addEventListener("progress",g),v.upload.addEventListener("loadend",f)),(i.cancelToken||i.signal)&&(p=L=>{v&&(l(!L||L.type?new lu(null,t,v):L),v.abort(),v=null)},i.cancelToken&&i.cancelToken.subscribe(p),i.signal&&(i.signal.aborted?p():i.signal.addEventListener("abort",p)));const A=q3(i.url);if(A&&tl.protocols.indexOf(A)===-1){l(new qt("Unsupported protocol "+A+":",qt.ERR_BAD_REQUEST,t));return}v.send(o||null)})},Z3=(t,s)=>{const{length:r}=t=t?t.filter(Boolean):[];if(s||r){let l=new AbortController,i;const o=function(h){if(!i){i=!0,x();const p=h instanceof Error?h:this.reason;l.abort(p instanceof qt?p:new lu(p instanceof Error?p.message:p))}};let d=s&&setTimeout(()=>{d=null,o(new qt(`timeout of ${s}ms exceeded`,qt.ETIMEDOUT))},s);const x=()=>{t&&(d&&clearTimeout(d),d=null,t.forEach(h=>{h.unsubscribe?h.unsubscribe(o):h.removeEventListener("abort",o)}),t=null)};t.forEach(h=>h.addEventListener("abort",o));const{signal:u}=l;return u.unsubscribe=()=>_e.asap(x),u}},Q3=function*(t,s){let r=t.byteLength;if(r<s){yield t;return}let l=0,i;for(;l<r;)i=l+s,yield t.slice(l,i),l=i},ek=async function*(t,s){for await(const r of tk(t))yield*Q3(r,s)},tk=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const s=t.getReader();try{for(;;){const{done:r,value:l}=await s.read();if(r)break;yield l}}finally{await s.cancel()}},g1=(t,s,r,l)=>{const i=ek(t,s);let o=0,d,x=u=>{d||(d=!0,l&&l(u))};return new ReadableStream({async pull(u){try{const{done:h,value:p}=await i.next();if(h){x(),u.close();return}let g=p.byteLength;if(r){let y=o+=g;r(y)}u.enqueue(new Uint8Array(p))}catch(h){throw x(h),h}},cancel(u){return x(u),i.return()}},{highWaterMark:2})},b1=64*1024,{isFunction:rh}=_e,sk=(({Request:t,Response:s})=>({Request:t,Response:s}))(_e.global),{ReadableStream:v1,TextEncoder:y1}=_e.global,j1=(t,...s)=>{try{return!!t(...s)}catch{return!1}},ak=t=>{t=_e.merge.call({skipUndefined:!0},sk,t);const{fetch:s,Request:r,Response:l}=t,i=s?rh(s):typeof fetch=="function",o=rh(r),d=rh(l);if(!i)return!1;const x=i&&rh(v1),u=i&&(typeof y1=="function"?(w=>S=>w.encode(S))(new y1):async w=>new Uint8Array(await new r(w).arrayBuffer())),h=o&&x&&j1(()=>{let w=!1;const S=new r(tl.origin,{body:new v1,method:"POST",get duplex(){return w=!0,"half"}}).headers.has("Content-Type");return w&&!S}),p=d&&x&&j1(()=>_e.isReadableStream(new l("").body)),g={stream:p&&(w=>w.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(w=>{!g[w]&&(g[w]=(S,v)=>{let N=S&&S[w];if(N)return N.call(S);throw new qt(`Response type '${w}' is not supported`,qt.ERR_NOT_SUPPORT,v)})});const y=async w=>{if(w==null)return 0;if(_e.isBlob(w))return w.size;if(_e.isSpecCompliantForm(w))return(await new r(tl.origin,{method:"POST",body:w}).arrayBuffer()).byteLength;if(_e.isArrayBufferView(w)||_e.isArrayBuffer(w))return w.byteLength;if(_e.isURLSearchParams(w)&&(w=w+""),_e.isString(w))return(await u(w)).byteLength},f=async(w,S)=>{const v=_e.toFiniteNumber(w.getContentLength());return v??y(S)};return async w=>{let{url:S,method:v,data:N,signal:A,cancelToken:L,timeout:M,onDownloadProgress:T,onUploadProgress:_,responseType:I,headers:B,withCredentials:P="same-origin",fetchOptions:R}=bj(w),W=s||fetch;I=I?(I+"").toLowerCase():"text";let H=Z3([A,L&&L.toAbortSignal()],M),$=null;const G=H&&H.unsubscribe&&(()=>{H.unsubscribe()});let le;try{if(_&&h&&v!=="get"&&v!=="head"&&(le=await f(B,N))!==0){let X=new r(S,{method:"POST",body:N,duplex:"half"}),q;if(_e.isFormData(N)&&(q=X.headers.get("content-type"))&&B.setContentType(q),X.body){const[Z,ae]=m1(le,Ph(p1(_)));N=g1(X.body,b1,Z,ae)}}_e.isString(P)||(P=P?"include":"omit");const Q=o&&"credentials"in r.prototype,ne={...R,signal:H,method:v.toUpperCase(),headers:B.normalize().toJSON(),body:N,duplex:"half",credentials:Q?P:void 0};$=o&&new r(S,ne);let F=await(o?W($,R):W(S,ne));const de=p&&(I==="stream"||I==="response");if(p&&(T||de&&G)){const X={};["status","statusText","headers"].forEach(ue=>{X[ue]=F[ue]});const q=_e.toFiniteNumber(F.headers.get("content-length")),[Z,ae]=T&&m1(q,Ph(p1(T),!0))||[];F=new l(g1(F.body,b1,Z,()=>{ae&&ae(),G&&G()}),X)}I=I||"text";let ke=await g[_e.findKey(g,I)||"text"](F,w);return!de&&G&&G(),await new Promise((X,q)=>{fj(X,q,{data:ke,headers:Hl.from(F.headers),status:F.status,statusText:F.statusText,config:w,request:$})})}catch(Q){throw G&&G(),Q&&Q.name==="TypeError"&&/Load failed|fetch/i.test(Q.message)?Object.assign(new qt("Network Error",qt.ERR_NETWORK,w,$,Q&&Q.response),{cause:Q.cause||Q}):qt.from(Q,Q&&Q.code,w,$,Q&&Q.response)}}},rk=new Map,vj=t=>{let s=t&&t.env||{};const{fetch:r,Request:l,Response:i}=s,o=[l,i,r];let d=o.length,x=d,u,h,p=rk;for(;x--;)u=o[x],h=p.get(u),h===void 0&&p.set(u,h=x?new Map:ak(s)),p=h;return h};vj();const ig={http:j3,xhr:J3,fetch:{get:vj}};_e.forEach(ig,(t,s)=>{if(t){try{Object.defineProperty(t,"name",{value:s})}catch{}Object.defineProperty(t,"adapterName",{value:s})}});const w1=t=>`- ${t}`,lk=t=>_e.isFunction(t)||t===null||t===!1;function nk(t,s){t=_e.isArray(t)?t:[t];const{length:r}=t;let l,i;const o={};for(let d=0;d<r;d++){l=t[d];let x;if(i=l,!lk(l)&&(i=ig[(x=String(l)).toLowerCase()],i===void 0))throw new qt(`Unknown adapter '${x}'`);if(i&&(_e.isFunction(i)||(i=i.get(s))))break;o[x||"#"+d]=i}if(!i){const d=Object.entries(o).map(([u,h])=>`adapter ${u} `+(h===!1?"is not supported by the environment":"is not available in the build"));let x=r?d.length>1?`since :
`+d.map(w1).join(`
`):" "+w1(d[0]):"as no adapter specified";throw new qt("There is no suitable adapter to dispatch the request "+x,"ERR_NOT_SUPPORT")}return i}const yj={getAdapter:nk,adapters:ig};function Dp(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new lu(null,t)}function N1(t){return Dp(t),t.headers=Hl.from(t.headers),t.data=Mp.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),yj.getAdapter(t.adapter||ru.adapter,t)(t).then(function(l){return Dp(t),l.data=Mp.call(t,t.transformResponse,l),l.headers=Hl.from(l.headers),l},function(l){return pj(l)||(Dp(t),l&&l.response&&(l.response.data=Mp.call(t,t.transformResponse,l.response),l.response.headers=Hl.from(l.response.headers))),Promise.reject(l)})}const jj="1.13.5",tm={};["object","boolean","number","function","string","symbol"].forEach((t,s)=>{tm[t]=function(l){return typeof l===t||"a"+(s<1?"n ":" ")+t}});const k1={};tm.transitional=function(s,r,l){function i(o,d){return"[Axios v"+jj+"] Transitional option '"+o+"'"+d+(l?". "+l:"")}return(o,d,x)=>{if(s===!1)throw new qt(i(d," has been removed"+(r?" in "+r:"")),qt.ERR_DEPRECATED);return r&&!k1[d]&&(k1[d]=!0,console.warn(i(d," has been deprecated since v"+r+" and will be removed in the near future"))),s?s(o,d,x):!0}};tm.spelling=function(s){return(r,l)=>(console.warn(`${l} is likely a misspelling of ${s}`),!0)};function ik(t,s,r){if(typeof t!="object")throw new qt("options must be an object",qt.ERR_BAD_OPTION_VALUE);const l=Object.keys(t);let i=l.length;for(;i-- >0;){const o=l[i],d=s[o];if(d){const x=t[o],u=x===void 0||d(x,o,t);if(u!==!0)throw new qt("option "+o+" must be "+u,qt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new qt("Unknown option "+o,qt.ERR_BAD_OPTION)}}const Nh={assertOptions:ik,validators:tm},Hn=Nh.validators;let yd=class{constructor(s){this.defaults=s||{},this.interceptors={request:new u1,response:new u1}}async request(s,r){try{return await this._request(s,r)}catch(l){if(l instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{l.stack?o&&!String(l.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(l.stack+=`
`+o):l.stack=o}catch{}}throw l}}_request(s,r){typeof s=="string"?(r=r||{},r.url=s):r=s||{},r=wd(this.defaults,r);const{transitional:l,paramsSerializer:i,headers:o}=r;l!==void 0&&Nh.assertOptions(l,{silentJSONParsing:Hn.transitional(Hn.boolean),forcedJSONParsing:Hn.transitional(Hn.boolean),clarifyTimeoutError:Hn.transitional(Hn.boolean),legacyInterceptorReqResOrdering:Hn.transitional(Hn.boolean)},!1),i!=null&&(_e.isFunction(i)?r.paramsSerializer={serialize:i}:Nh.assertOptions(i,{encode:Hn.function,serialize:Hn.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Nh.assertOptions(r,{baseUrl:Hn.spelling("baseURL"),withXsrfToken:Hn.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let d=o&&_e.merge(o.common,o[r.method]);o&&_e.forEach(["delete","get","head","post","put","patch","common"],w=>{delete o[w]}),r.headers=Hl.concat(d,o);const x=[];let u=!0;this.interceptors.request.forEach(function(S){if(typeof S.runWhen=="function"&&S.runWhen(r)===!1)return;u=u&&S.synchronous;const v=r.transitional||lg;v&&v.legacyInterceptorReqResOrdering?x.unshift(S.fulfilled,S.rejected):x.push(S.fulfilled,S.rejected)});const h=[];this.interceptors.response.forEach(function(S){h.push(S.fulfilled,S.rejected)});let p,g=0,y;if(!u){const w=[N1.bind(this),void 0];for(w.unshift(...x),w.push(...h),y=w.length,p=Promise.resolve(r);g<y;)p=p.then(w[g++],w[g++]);return p}y=x.length;let f=r;for(;g<y;){const w=x[g++],S=x[g++];try{f=w(f)}catch(v){S.call(this,v);break}}try{p=N1.call(this,f)}catch(w){return Promise.reject(w)}for(g=0,y=h.length;g<y;)p=p.then(h[g++],h[g++]);return p}getUri(s){s=wd(this.defaults,s);const r=gj(s.baseURL,s.url,s.allowAbsoluteUrls);return hj(r,s.params,s.paramsSerializer)}};_e.forEach(["delete","get","head","options"],function(s){yd.prototype[s]=function(r,l){return this.request(wd(l||{},{method:s,url:r,data:(l||{}).data}))}});_e.forEach(["post","put","patch"],function(s){function r(l){return function(o,d,x){return this.request(wd(x||{},{method:s,headers:l?{"Content-Type":"multipart/form-data"}:{},url:o,data:d}))}}yd.prototype[s]=r(),yd.prototype[s+"Form"]=r(!0)});let ok=class wj{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});const l=this;this.promise.then(i=>{if(!l._listeners)return;let o=l._listeners.length;for(;o-- >0;)l._listeners[o](i);l._listeners=null}),this.promise.then=i=>{let o;const d=new Promise(x=>{l.subscribe(x),o=x}).then(i);return d.cancel=function(){l.unsubscribe(o)},d},s(function(o,d,x){l.reason||(l.reason=new lu(o,d,x),r(l.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const r=this._listeners.indexOf(s);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const s=new AbortController,r=l=>{s.abort(l)};return this.subscribe(r),s.signal.unsubscribe=()=>this.unsubscribe(r),s.signal}static source(){let s;return{token:new wj(function(i){s=i}),cancel:s}}};function ck(t){return function(r){return t.apply(null,r)}}function dk(t){return _e.isObject(t)&&t.isAxiosError===!0}const jf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(jf).forEach(([t,s])=>{jf[s]=t});function Nj(t){const s=new yd(t),r=sj(yd.prototype.request,s);return _e.extend(r,yd.prototype,s,{allOwnKeys:!0}),_e.extend(r,s,null,{allOwnKeys:!0}),r.create=function(i){return Nj(wd(t,i))},r}const _a=Nj(ru);_a.Axios=yd;_a.CanceledError=lu;_a.CancelToken=ok;_a.isCancel=pj;_a.VERSION=jj;_a.toFormData=em;_a.AxiosError=qt;_a.Cancel=_a.CanceledError;_a.all=function(s){return Promise.all(s)};_a.spread=ck;_a.isAxiosError=dk;_a.mergeConfig=wd;_a.AxiosHeaders=Hl;_a.formToJSON=t=>mj(_e.isHTMLForm(t)?new FormData(t):t);_a.getAdapter=yj.getAdapter;_a.HttpStatusCode=jf;_a.default=_a;const{Axios:F_,AxiosError:B_,CanceledError:I_,isCancel:U_,CancelToken:$_,VERSION:q_,all:H_,Cancel:W_,isAxiosError:G_,spread:V_,toFormData:Y_,AxiosHeaders:X_,HttpStatusCode:K_,formToJSON:J_,getAdapter:Z_,mergeConfig:Q_}=_a,og="https://gym-saif-production.up.railway.app/api/v1",we=_a.create({baseURL:og,withCredentials:!0});we.interceptors.response.use(t=>t,t=>(t.response?.status===401&&(console.warn("Unauthorized access detected. Redirecting to login..."),localStorage.removeItem("userRole"),localStorage.removeItem("userData"),window.location.pathname!=="/login"&&(window.location.href="/login")),Promise.reject(t)));const kj=we,xk=async(t,s,r)=>{try{return(await kj.post("/auth/login",{email:t,password:s,role:r})).data}catch(l){throw l.response?.data?.message||"Login failed"}},uk=async()=>{try{return(await kj.post("/auth/logout")).data}catch(t){console.error("Logout failed:",t)}},Sj=j.createContext(),hk=({children:t})=>{const[s,r]=j.useState(()=>{const h=localStorage.getItem("userData");return h?JSON.parse(h):null}),[l,i]=j.useState(()=>localStorage.getItem("userRole")),[o,d]=j.useState(!1),x=h=>{r(h),i(h.role),localStorage.setItem("userRole",h.role),localStorage.setItem("userData",JSON.stringify(h))},u=async()=>{d(!0);try{await uk()}catch(h){console.error("Logout API failed:",h)}finally{r(null),i(null),localStorage.removeItem("userRole"),localStorage.removeItem("userData"),d(!1),window.location.href="/login"}};return e.jsx(Sj.Provider,{value:{user:s,role:l,loading:o,login:x,logout:u},children:t})},Ho=()=>{const t=j.useContext(Sj);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t};const Cj=(...t)=>t.filter((s,r,l)=>!!s&&s.trim()!==""&&l.indexOf(s)===r).join(" ").trim();const mk=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const pk=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(s,r,l)=>l?l.toUpperCase():r.toLowerCase());const S1=t=>{const s=pk(t);return s.charAt(0).toUpperCase()+s.slice(1)};var fk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const gk=t=>{for(const s in t)if(s.startsWith("aria-")||s==="role"||s==="title")return!0;return!1};const bk=j.forwardRef(({color:t="currentColor",size:s=24,strokeWidth:r=2,absoluteStrokeWidth:l,className:i="",children:o,iconNode:d,...x},u)=>j.createElement("svg",{ref:u,...fk,width:s,height:s,stroke:t,strokeWidth:l?Number(r)*24/Number(s):r,className:Cj("lucide",i),...!o&&!gk(x)&&{"aria-hidden":"true"},...x},[...d.map(([h,p])=>j.createElement(h,p)),...Array.isArray(o)?o:[o]]));const Te=(t,s)=>{const r=j.forwardRef(({className:l,...i},o)=>j.createElement(bk,{ref:o,iconNode:s,className:Cj(`lucide-${mk(S1(t))}`,`lucide-${t}`,l),...i}));return r.displayName=S1(t),r};const vk=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Wt=Te("activity",vk);const yk=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Aj=Te("archive",yk);const jk=[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]],_0=Te("arrow-down-left",jk);const wk=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],Mj=Te("arrow-down-right",wk);const Nk=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],kn=Te("arrow-left",Nk);const kk=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],bl=Te("arrow-right",kk);const Sk=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],rl=Te("arrow-up-right",Sk);const Ck=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],cg=Te("award",Ck);const Ak=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Dj=Te("ban",Ak);const Mk=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],ca=Te("banknote",Mk);const Dk=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]],Lk=Te("bell-ring",Dk);const zk=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],vl=Te("bell",zk);const Ek=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],Y0=Te("box",Ek);const Tk=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],$0=Te("briefcase",Tk);const _k=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],Tc=Te("building-2",_k);const Pk=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],Dr=Te("building",Pk);const Rk=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Ok=Te("calculator",Rk);const Fk=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],Lj=Te("calendar-days",Fk);const Bk=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ye=Te("calendar",Bk);const Ik=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Uo=Te("camera",Ik);const Uk=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Yx=Te("chart-column",Uk);const $k=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],dg=Te("chart-pie",$k);const qk=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],zj=Te("check-check",qk);const Hk=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],$r=Te("check",Hk);const Wk=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Wl=Te("chevron-down",Wk);const Gk=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Wr=Te("chevron-left",Gk);const Vk=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],vs=Te("chevron-right",Vk);const Yk=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Ej=Te("chevron-up",Yk);const Xk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ps=Te("circle-alert",Xk);const Kk=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ss=Te("circle-check-big",Kk);const Jk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],as=Te("circle-check",Jk);const Zk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]],Rh=Te("circle-pause",Zk);const Qk=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],eS=Te("circle-play",Qk);const tS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],vn=Te("circle-x",tS);const sS=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],gl=Te("clipboard-list",sS);const aS=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Je=Te("clock",aS);const rS=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],lS=Te("coffee",rS);const nS=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],wf=Te("copy",nS);const iS=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Os=Te("credit-card",iS);const oS=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],cS=Te("crown",oS);const dS=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Vn=Te("dollar-sign",dS);const xS=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Js=Te("download",xS);const uS=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],Tj=Te("droplets",uS);const hS=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],qr=Te("dumbbell",hS);const mS=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],_c=Te("ellipsis-vertical",mS);const pS=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],fS=Te("ellipsis",pS);const gS=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],_j=Te("external-link",gS);const bS=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],vS=Te("eye-off",bS);const yS=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],da=Te("eye",yS);const jS=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],wS=Te("file-plus",jS);const NS=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],er=Te("file-text",NS);const kS=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],xg=Te("flame",kS);const SS=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Ns=Te("funnel",SS);const CS=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],Nd=Te("gift",CS);const AS=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],Ix=Te("git-branch",AS);const MS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Oh=Te("globe",MS);const DS=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Fh=Te("hash",DS);const LS=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],sl=Te("history",LS);const zS=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],ES=Te("hourglass",zS);const TS=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Pj=Te("house",TS);const _S=[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]],PS=Te("image-plus",_S);const RS=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],OS=Te("image",RS);const FS=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],yn=Te("indian-rupee",FS);const BS=[["path",{d:"M6 16c5 0 7-8 12-8a4 4 0 0 1 0 8c-5 0-7-8-12-8a4 4 0 1 0 0 8",key:"18ogeb"}]],nu=Te("infinity",BS);const IS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Yn=Te("info",IS);const US=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Rj=Te("key",US);const $S=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],gd=Te("layout-dashboard",$S);const qS=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],Oj=Te("layout-grid",qS);const HS=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],WS=Te("link-2",HS);const GS=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],VS=Te("list",GS);const YS=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],wn=Te("loader-circle",YS);const XS=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],X0=Te("loader",XS);const KS=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],JS=Te("lock-open",KS);const ZS=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Fs=Te("lock",ZS);const QS=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],pn=Te("log-out",QS);const e8=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Hr=Te("mail",e8);const t8=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],$s=Te("map-pin",t8);const s8=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],gn=Te("megaphone",s8);const a8=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],r8=Te("menu",a8);const l8=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Bh=Te("message-circle",l8);const n8=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],sr=Te("message-square",n8);const i8=[["path",{d:"M5 12h14",key:"1ays0h"}]],o8=Te("minus",i8);const c8=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Fj=Te("monitor",c8);const d8=[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]],C1=Te("mouse-pointer-2",d8);const x8=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],u8=Te("music",x8);const h8=[["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"M2.586 16.726A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2h6.624a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586z",key:"2d38gg"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Nf=Te("octagon-x",h8);const m8=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],ll=Te("package",m8);const p8=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],Bj=Te("paperclip",p8);const f8=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],kf=Te("panels-top-left",f8);const g8=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],b8=Te("pause",g8);const v8=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],ar=Te("pen",v8);const y8=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],kd=Te("percent",y8);const j8=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],qs=Te("phone",j8);const w8=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Ij=Te("play",w8);const N8=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],St=Te("plus",N8);const k8=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],A1=Te("power",k8);const S8=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],C8=Te("printer",S8);const A8=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],Uj=Te("qr-code",A8);const M8=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],Wa=Te("receipt",M8);const D8=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],$j=Te("refresh-ccw",D8);const L8=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],jl=Te("refresh-cw",L8);const z8=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],E8=Te("rotate-ccw",z8);const T8=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],xa=Te("save",T8);const _8=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],qj=Te("scale",_8);const P8=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]],R8=Te("scan-line",P8);const O8=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Qe=Te("search",O8);const F8=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Ld=Te("send",F8);const B8=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],Sf=Te("server",B8);const I8=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],Hj=Te("settings-2",I8);const U8=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ih=Te("settings",U8);const $8=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],q8=Te("share-2",$8);const H8=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],Ux=Te("shield-alert",H8);const W8=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Xn=Te("shield-check",W8);const G8=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],tr=Te("shield",G8);const V8=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],zc=Te("shopping-bag",V8);const Y8=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Ec=Te("shopping-cart",Y8);const X8=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],Vl=Te("smartphone",X8);const K8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],J8=Te("smile",K8);const Z8=[["path",{d:"m10 20-1.25-2.5L6 18",key:"18frcb"}],["path",{d:"M10 4 8.75 6.5 6 6",key:"7mghy3"}],["path",{d:"m14 20 1.25-2.5L18 18",key:"1chtki"}],["path",{d:"m14 4 1.25 2.5L18 6",key:"1b4wsy"}],["path",{d:"m17 21-3-6h-4",key:"15hhxa"}],["path",{d:"m17 3-3 6 1.5 3",key:"11697g"}],["path",{d:"M2 12h6.5L10 9",key:"kv9z4n"}],["path",{d:"m20 10-1.5 2 1.5 2",key:"1swlpi"}],["path",{d:"M22 12h-6.5L14 15",key:"1mxi28"}],["path",{d:"m4 10 1.5 2L4 14",key:"k9enpj"}],["path",{d:"m7 21 3-6-1.5-3",key:"j8hb9u"}],["path",{d:"m7 3 3 6h4",key:"1otusx"}]],M1=Te("snowflake",Z8);const Q8=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],al=Te("sparkles",Q8);const eC=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Sd=Te("square-pen",eC);const tC=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],$l=Te("star",tC);const sC=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],aC=Te("store",sC);const rC=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Bo=Te("tag",rC);const lC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],jn=Te("target",lC);const nC=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],Xx=Te("terminal",nC);const iC=[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]],Wj=Te("thermometer",iC);const oC=[["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}],["path",{d:"M7 10v12",key:"1qc93n"}]],Cf=Te("thumbs-up",oC);const cC=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],dC=Te("ticket",cC);const xC=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],uC=Te("timer",xC);const hC=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ms=Te("trash-2",hC);const mC=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],$x=Te("trending-down",mC);const pC=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Ks=Te("trending-up",pC);const fC=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Lr=Te("triangle-alert",fC);const gC=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],ug=Te("trophy",gC);const bC=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Af=Te("upload",bC);const vC=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],yl=Te("user-check",vC);const yC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Mf=Te("user-minus",yC);const jC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],fn=Te("user-plus",jC);const wC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],D1=Te("user-x",wC);const NC=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],rt=Te("user",NC);const kC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Et=Te("users",kC);const SC=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],Dc=Te("utensils",SC);const CC=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],AC=Te("video",CC);const MC=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],kh=Te("wallet",MC);const DC=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],LC=Te("wifi-off",DC);const zC=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],Gj=Te("wifi",zC);const EC=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],Gl=Te("wrench",EC);const TC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],wl=Te("x",TC);const _C=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ha=Te("zap",_C),ct={SUPER_ADMIN:"SUPER_ADMIN",BRANCH_ADMIN:"BRANCH_ADMIN",MANAGER:"MANAGER",STAFF:"STAFF",TRAINER:"TRAINER",MEMBER:"MEMBER"},ms=({options:t,value:s,onChange:r,icon:l,placeholder:i,className:o})=>{const[d,x]=j.useState(!1),[u,h]=j.useState({top:0,left:0,width:0}),p=j.useRef(null),g=j.useRef(null);j.useEffect(()=>{if(d&&p.current){const N=p.current.getBoundingClientRect();h({top:N.bottom+window.scrollY+8,left:N.left+window.scrollX,width:N.width})}},[d]),j.useEffect(()=>{const N=A=>{p.current&&!p.current.contains(A.target)&&g.current&&!g.current.contains(A.target)&&x(!1)};return document.addEventListener("mousedown",N),()=>document.removeEventListener("mousedown",N)},[]),j.useEffect(()=>{if(!d)return;const N=()=>{if(p.current){const A=p.current.getBoundingClientRect();h({top:A.bottom+window.scrollY+8,left:A.left+window.scrollX,width:A.width})}};return window.addEventListener("scroll",N,!0),window.addEventListener("resize",N),()=>{window.removeEventListener("scroll",N,!0),window.removeEventListener("resize",N)}},[d]);const y=N=>typeof N=="string"?N:typeof N=="object"&&N!==null?N.label||N.value||"":String(N||""),f=N=>typeof N=="string"?N:typeof N=="object"&&N!==null?N.value!==void 0?N.value:N.label:String(N||""),w=t.find(N=>f(N)===s),S=w?y(w):s||i||"Select",v=()=>e.jsx("div",{ref:g,style:{position:"absolute",top:`${u.top}px`,left:`${u.left}px`,width:`${u.width}px`,background:"#ffffff",border:"1px solid #e5e7eb",borderRadius:"12px",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.15)",zIndex:7e4,maxHeight:"280px",overflowY:"auto",padding:"6px",animation:"dropdownSlideIn 0.2s ease-out"},children:t&&t.length>0?t.map((N,A)=>{const L=f(N),M=y(N),T=s===L;return e.jsxs("button",{type:"button",onClick:_=>{_.stopPropagation(),r(L),x(!1)},style:{width:"100%",padding:"12px 14px",textAlign:"left",fontSize:"14px",display:"flex",alignItems:"center",justifyContent:"space-between",borderRadius:"8px",border:"none",cursor:"pointer",transition:"all 0.15s",background:T?"#f3f4f6":"transparent",color:T?"#667eea":"#4b5563",fontWeight:T?"600":"500",marginBottom:A<t.length-1?"2px":0},onMouseEnter:_=>{_.currentTarget.style.background=T?"#e5e7eb":"#f9fafb"},onMouseLeave:_=>{_.currentTarget.style.background=T?"#f3f4f6":"transparent"},children:[e.jsx("span",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:M}),T&&e.jsx($r,{size:16,style:{flexShrink:0,color:"#667eea"}})]},A)}):e.jsx("div",{style:{padding:"12px 14px",fontSize:"14px",color:"#9ca3af",fontStyle:"italic"},children:"No options available"})});return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`relative min-w-[140px] ${o}`,children:e.jsxs("button",{ref:p,type:"button",onClick:()=>x(!d),style:{width:"100%",padding:"14px 16px",fontSize:"15px",border:d?"2px solid #667eea":"2px solid #e5e7eb",borderRadius:"12px",background:d?"#ffffff":"#f9fafb",display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer",transition:"all 0.2s",boxShadow:d?"0 0 0 3px rgba(102, 126, 234, 0.1)":"none"},onMouseEnter:N=>{d||(N.currentTarget.style.borderColor="#d1d5db")},onMouseLeave:N=>{d||(N.currentTarget.style.borderColor="#e5e7eb")},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",color:"#1f2937",fontWeight:"500"},children:[l&&e.jsx(l,{size:18,style:{color:"#9ca3af"}}),e.jsx("span",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:S})]}),e.jsx(Wl,{size:18,style:{color:d?"#667eea":"#9ca3af",transform:d?"rotate(180deg)":"rotate(0deg)",transition:"all 0.3s",flexShrink:0}})]})}),d&&tj.createPortal(e.jsx(v,{}),document.body),e.jsx("style",{children:`
                @keyframes dropdownSlideIn {
                    from {
                        opacity: 0;
                        transform: translateY(-8px);
                    }
                    to {
                        opacity: 1;
                        transform: translateY(0);
                    }
                }
            `})]})},PC=()=>{const t=Gt(),{login:s}=Ho(),[r,l]=j.useState(ct.BRANCH_ADMIN),[i,o]=j.useState(""),[d,x]=j.useState(""),[u,h]=j.useState(!1),[p,g]=j.useState(""),y=_=>"/dashboard",f=async _=>{_.preventDefault(),h(!0),g("");try{const I=await xk(i,d,r);s(I),t(y(I.role))}catch(I){g(typeof I=="string"?I:"Login failed. Please check your credentials.")}finally{h(!1)}},w=_=>{_.preventDefault(),alert("Signup is disabled in this demo.")},S=()=>{l(ct.SUPER_ADMIN),o("admin@newgym.com"),x("admin123")},v=()=>{l(ct.BRANCH_ADMIN),o("testbranch@gym.com"),x("123456")},N=()=>{l(ct.MANAGER),o("manager@gym.com"),x("manager123")},A=()=>{l(ct.STAFF),o("staff@gym.com"),x("staff123")},L=()=>{l(ct.TRAINER),o("trainer@gym.com"),x("trainer123")},M=()=>{l(ct.MEMBER),o("member@gym.com"),x("member123")},T=Object.values(ct).map(_=>({value:_,label:_}));return e.jsxs("div",{style:es.container,children:[e.jsxs("div",{style:es.backgroundOverlay,children:[e.jsx("div",{style:es.circle1}),e.jsx("div",{style:es.circle2}),e.jsx("div",{style:es.circle3})]}),e.jsxs("div",{style:es.card,children:[e.jsxs("div",{style:es.header,children:[e.jsx("div",{style:es.logoContainer,children:e.jsx(qr,{size:32,color:"#fff",strokeWidth:2.5})}),e.jsx("h1",{style:es.title,children:"Welcome Back!"}),e.jsx("p",{style:es.subtitle,children:"Sign in to continue to New Gym"}),e.jsxs("div",{style:es.quickAccess,children:[e.jsx("button",{type:"button",onClick:S,style:es.quickButton,children:"Admin"}),e.jsx("button",{type:"button",onClick:v,style:es.quickButton,children:"Branch"}),e.jsx("button",{type:"button",onClick:N,style:es.quickButton,children:"Manager"})]}),e.jsxs("div",{style:{...es.quickAccess,marginTop:"8px"},children:[e.jsx("button",{type:"button",onClick:A,style:es.quickButton,children:"Staff"}),e.jsx("button",{type:"button",onClick:L,style:es.quickButton,children:"Trainer"}),e.jsx("button",{type:"button",onClick:M,style:es.quickButton,children:"Member"})]})]}),e.jsxs("form",{onSubmit:f,style:es.form,children:[e.jsxs("div",{style:es.inputGroup,children:[e.jsx("label",{style:es.label,children:"Select Role (Demo)"}),e.jsx("div",{style:es.dropdownWrapper,children:e.jsx(ms,{options:T,value:r,onChange:l})})]}),e.jsxs("div",{style:es.inputGroup,children:[e.jsx("label",{style:es.label,children:"Email Address"}),e.jsxs("div",{style:es.inputWrapper,children:[e.jsx(Hr,{size:20,style:es.inputIcon}),e.jsx("input",{type:"email",placeholder:"Enter your email",value:i,onChange:_=>o(_.target.value),style:es.input,autoFocus:!0})]})]}),e.jsxs("div",{style:es.inputGroup,children:[e.jsxs("div",{style:es.labelRow,children:[e.jsx("label",{style:es.label,children:"Password"}),e.jsx("a",{href:"#",style:es.forgotLink,children:"Forgot Password?"})]}),e.jsxs("div",{style:es.inputWrapper,children:[e.jsx(Fs,{size:20,style:es.inputIcon}),e.jsx("input",{type:"password",placeholder:"Enter your password",value:d,onChange:_=>x(_.target.value),style:es.input})]})]}),e.jsx("div",{style:es.rememberRow,children:e.jsxs("label",{style:es.checkboxLabel,children:[e.jsx("input",{type:"checkbox",style:es.checkbox}),e.jsx("span",{style:es.checkboxText,children:"Remember me"})]})}),e.jsx("button",{type:"submit",style:es.submitButton,children:"Sign In"})]}),e.jsxs("div",{style:es.footer,children:[e.jsx("span",{style:es.footerText,children:"Don't have an account? "}),e.jsx("a",{href:"#",onClick:w,style:es.signupLink,children:"Create Account"})]})]}),e.jsx("style",{children:`
                @keyframes float {
                    0%, 100% { transform: translate(0, 0) scale(1); }
                    33% { transform: translate(30px, -30px) scale(1.1); }
                    66% { transform: translate(-20px, 20px) scale(0.9); }
                }

                @keyframes fadeIn {
                    from { opacity: 0; transform: translateY(20px); }
                    to { opacity: 1; transform: translateY(0); }
                }

                input:focus {
                    outline: none;
                    border-color: #667eea !important;
                    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1) !important;
                }

                button:hover {
                    transform: translateY(-2px);
                    box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4);
                }

                button:active {
                    transform: translateY(0);
                }

                a:hover {
                    text-decoration: underline;
                }
            `})]})},es={container:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"40px 20px",position:"relative",overflowY:"auto"},backgroundOverlay:{position:"absolute",inset:0,overflow:"hidden",pointerEvents:"none"},circle1:{position:"absolute",top:"-10%",left:"-5%",width:"400px",height:"400px",background:"rgba(255, 255, 255, 0.1)",borderRadius:"50%",filter:"blur(60px)",animation:"float 8s ease-in-out infinite"},circle2:{position:"absolute",bottom:"-15%",right:"-10%",width:"500px",height:"500px",background:"rgba(255, 255, 255, 0.08)",borderRadius:"50%",filter:"blur(80px)",animation:"float 10s ease-in-out infinite",animationDelay:"2s"},circle3:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"300px",height:"300px",background:"rgba(255, 255, 255, 0.05)",borderRadius:"50%",filter:"blur(40px)",animation:"float 6s ease-in-out infinite",animationDelay:"4s"},card:{width:"100%",maxWidth:"460px",background:"#ffffff",borderRadius:"24px",padding:"48px 40px",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",position:"relative",zIndex:10,animation:"fadeIn 0.6s ease-out"},header:{textAlign:"center",marginBottom:"40px"},logoContainer:{width:"80px",height:"80px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:"20px",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 24px",boxShadow:"0 10px 30px rgba(102, 126, 234, 0.3)"},title:{fontSize:"32px",fontWeight:"700",color:"#1a1a1a",margin:"0 0 8px 0",letterSpacing:"-0.5px"},subtitle:{fontSize:"15px",color:"#6b7280",margin:0},quickAccess:{marginTop:"20px",display:"flex",justifyContent:"center",gap:"10px"},quickButton:{padding:"8px 16px",fontSize:"12px",fontWeight:"600",color:"#667eea",background:"rgba(102, 126, 234, 0.1)",border:"1px solid rgba(102, 126, 234, 0.2)",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s"},form:{display:"flex",flexDirection:"column",gap:"24px"},inputGroup:{display:"flex",flexDirection:"column",gap:"8px"},label:{fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"4px"},labelRow:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"4px"},forgotLink:{fontSize:"13px",color:"#667eea",fontWeight:"600",textDecoration:"none",transition:"color 0.2s"},inputWrapper:{position:"relative",display:"flex",alignItems:"center"},dropdownWrapper:{width:"100%"},inputIcon:{position:"absolute",left:"16px",color:"#9ca3af",pointerEvents:"none",zIndex:1},input:{width:"100%",padding:"14px 16px 14px 48px",fontSize:"15px",border:"2px solid #e5e7eb",borderRadius:"12px",background:"#f9fafb",color:"#1f2937",transition:"all 0.2s",fontFamily:"inherit"},rememberRow:{display:"flex",alignItems:"center",marginTop:"-8px"},checkboxLabel:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",userSelect:"none"},checkbox:{width:"18px",height:"18px",cursor:"pointer",accentColor:"#667eea"},checkboxText:{fontSize:"14px",color:"#6b7280"},submitButton:{width:"100%",padding:"16px",fontSize:"16px",fontWeight:"600",color:"#ffffff",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",border:"none",borderRadius:"12px",cursor:"pointer",transition:"all 0.3s",boxShadow:"0 4px 15px rgba(102, 126, 234, 0.3)",marginTop:"8px"},footer:{textAlign:"center",marginTop:"32px",fontSize:"14px"},footerText:{color:"#6b7280"},signupLink:{color:"#667eea",fontWeight:"600",textDecoration:"none",transition:"color 0.2s"}};window.innerWidth<=640&&(es.card.padding="32px 24px",es.title.fontSize="28px");const RC={[ct.SUPER_ADMIN]:[{label:"Dashboard",path:"/dashboard",icon:gd},{label:"Gym Management",path:"/superadmin/gyms/all",icon:Dr},{label:"SaaS Plans",path:"/superadmin/plans/list",icon:er},{label:"Subscriptions",path:"/superadmin/subscriptions/active",icon:Os},{label:"Webhook Logs",path:"/superadmin/audit-logs/webhooks",icon:Xx},{label:"WhatsApp Chat",path:"/operations/whatsapp",icon:sr},{label:"Device Dashboard",path:"/operations/devices",icon:Vl},{label:"General Settings",path:"/superadmin/general-settings/general",icon:Dr},{label:"Hardware Settings",path:"/superadmin/general-settings/hardware",icon:Fs},{label:"Profile",icon:rt,children:[{label:"My Profile",path:"/superadmin/profile/me",icon:rt},{label:"Logout",path:"/login",icon:pn}]}],[ct.BRANCH_ADMIN]:[{label:"Dashboard",path:"/dashboard",icon:gd},{label:"Admin & HR",icon:tr,children:[{label:"Branch Management",path:"/branchadmin/branch-management/branches",icon:Dr},{label:"Staff Management",path:"/hr/staff/management",icon:Et},{label:"Add Staff",path:"/hr/staff/create",icon:fn},{label:"Trainer Requests",path:"/branchadmin/trainer-requests",icon:yl},{label:"Payroll & Salaries",path:"/hr/payroll",icon:ca}]},{label:"Sales & CRM",icon:Qe,children:[{label:"Walk-in Inquiry",path:"/crm/inquiry",icon:fn},{label:"Leads Pipeline",path:"/crm/pipeline",icon:Ix},{label:"Today Follow-ups",path:"/crm/followups",icon:Je}]},{label:"E-Commerce",icon:Ec,children:[{label:"POS Store",path:"/finance/pos",icon:Ec},{label:"Inventory",path:"/branchadmin/store/inventory",icon:Y0}]},{label:"Memberships",icon:Os,children:[{label:"Plans & Benefits",path:"/memberships",icon:Os},{label:"Renewal Alerts",path:"/members/renewal-alerts",icon:ps}]},{label:"Classes",path:"/classes",icon:Ye},{label:"Operations",icon:Wt,children:[{label:"Member List",path:"/branchadmin/members/list",icon:Et},{label:"Bookings",path:"/branchadmin/bookings/calendar",icon:Ye},{label:"Tasks",path:"/branchadmin/tasks/list",icon:gl},{label:"WhatsApp Chat",path:"/operations/whatsapp",icon:sr}]},{label:"Facility Management",icon:Gl,children:[{label:"Equipment List",path:"/facility/equipment",icon:ll},{label:"Maintenance Requests",path:"/facility/maintenance",icon:gl},{label:"Service History",path:"/facility/history",icon:sl}]},{label:"Finance",icon:ca,children:[{label:"Invoices",path:"/finance/invoices",icon:er},{label:"Expenses",path:"/finance/expenses",icon:Wa},{label:"Cashier Mode",path:"/finance/cashier",icon:Wa},{label:"Branch Transactions",path:"/finance/transactions",icon:sl},{label:"Petty Cash",path:"/finance/petty-cash",icon:ca},{label:"Benefit Wallets",path:"/superadmin/wallet",icon:kh}]},{label:"Reports",icon:Yx,children:[{label:"Revenue Report",path:"/branchadmin/reports/revenue",icon:Vn},{label:"Membership Report",path:"/branchadmin/reports/membership",icon:Et},{label:"Lead Conversion Report",path:"/branchadmin/reports/lead-conversion",icon:Ks},{label:"Expense Report",path:"/branchadmin/reports/expenses",icon:Wa},{label:"Branch-wise Performance Report",path:"/branchadmin/reports/performance",icon:Wt},{label:"Daily Attendance Report",path:"/branchadmin/reports/daily-attendance",icon:gl},{label:"Booking Report",path:"/branchadmin/reports/booking",icon:Ye}]},{label:"Settings",icon:Ih,children:[{label:"General Settings",path:"/branchadmin/settings/general",icon:Dr},{label:"Hardware Settings",path:"/branchadmin/settings/hardware",icon:Fs},{label:"Communication",path:"/branchadmin/settings/communication",icon:gn},{label:"Payments",path:"/branchadmin/settings/payments",icon:Os},{label:"Tax & Invoices",path:"/branchadmin/settings/invoice",icon:er},{label:"Webhooks",path:"/settings/webhooks",icon:Xx},{label:"API Keys",path:"/settings/api-keys",icon:Rj},{label:"Templates",path:"/settings/templates",icon:kf}]},{label:"Profile",icon:rt,children:[{label:"My Profile",path:"/branchadmin/profile/me",icon:rt},{label:"Logout",path:"/login",icon:pn}]}],[ct.MANAGER]:[{label:"Dashboard",path:"/dashboard",icon:gd},{label:"Memberships",icon:Os,children:[{label:"Plans & Benefits",path:"/memberships",icon:Os},{label:"Renewal Alerts",path:"/members/renewal-alerts",icon:ps}]},{label:"Classes",path:"/classes",icon:Ye},{label:"CRM & Sales",icon:Qe,children:[{label:"Walk-in Inquiry",path:"/crm/inquiry",icon:fn},{label:"Leads Pipeline",path:"/crm/pipeline",icon:Ix},{label:"Today Follow-ups",path:"/crm/followups",icon:Je}]},{label:"Attendance",icon:Je,children:[{label:"Live Monitor",path:"/manager/attendance/live-checkin",icon:Wt},{label:"Member Log",path:"/manager/attendance/today/member",icon:Et},{label:"Staff Log",path:"/manager/attendance/today/staff",icon:Et}]},{label:"Operations",icon:Wt,children:[{label:"Staff Schedule",path:"/operations",icon:Et},{label:"WhatsApp Chat",path:"/operations/whatsapp",icon:sr},{label:"Equipment",path:"/operations/equipment",icon:Gl},{label:"Lockers",path:"/operations/lockers",icon:Fs},{label:"Inventory",path:"/operations/inventory",icon:ll},{label:"Announcements",path:"/operations/announcements",icon:gn},{label:"Rewards Program",path:"/operations/rewards",icon:Wt},{label:"Feedback",path:"/operations/feedback",icon:vl},{label:"Member List",path:"/manager/members/list",icon:Et},{label:"Device Dashboard",path:"/operations/devices",icon:Vl}]},{label:"Facility Management",icon:Gl,children:[{label:"Equipment List",path:"/facility/equipment",icon:ll},{label:"Maintenance Requests",path:"/facility/maintenance",icon:gl},{label:"Service History",path:"/facility/history",icon:sl}]},{label:"Financials",icon:ca,children:[{label:"Benefit Wallets",path:"/manager/wallet",icon:kh},{label:"Cashier Mode",path:"/finance/cashier",icon:Wa},{label:"Branch Transactions",path:"/finance/transactions",icon:sl},{label:"Petty Cash / Expenses",path:"/finance/petty-cash",icon:ca}]},{label:"HR & Staff",icon:Et,children:[{label:"Staff List",path:"/hr/staff/management",icon:Et},{label:"Add Staff",path:"/hr/staff/create",icon:fn},{label:"Leave Requests",path:"/hr/leave-requests",icon:Ye},{label:"Trainer Requests",path:"/manager/requests",icon:yl},{label:"Trainer Change Requests",path:"/manager/change-requests",icon:Wt},{label:"Payroll Creation",path:"/manager/payroll/create",icon:ca},{label:"Payroll",path:"/hr/payroll",icon:ca}]},{label:"Settings",icon:Ih,children:[{label:"Organization",path:"/settings",icon:Dr},{label:"Security",path:"/settings/security",icon:Fs}]},{label:"Reports",icon:Yx,children:[{label:"Attendance Report",path:"/manager/reports/daily-attendance",icon:gl},{label:"Booking Report",path:"/manager/reports/booking",icon:Ye}]},{label:"Profile",icon:rt,children:[{label:"My Profile",path:"/manager/profile/me",icon:rt},{label:"Logout",path:"/login",icon:pn}]}],[ct.STAFF]:[{label:"Dashboard",path:"/dashboard",icon:gd},{label:"CRM & Sales",icon:Qe,children:[{label:"Walk-in Inquiry",path:"/crm/inquiry",icon:fn},{label:"Leads Pipeline",path:"/crm/pipeline",icon:Ix},{label:"Today Follow-ups",path:"/crm/followups",icon:Je}]},{label:"Memberships",icon:Os,children:[{label:"Plans & Benefits",path:"/memberships",icon:Os},{label:"Renewal Alerts",path:"/members/renewal-alerts",icon:ps}]},{label:"Check-In",icon:Je,children:[{label:"Member Check-In",path:"/staff/attendance/check-in",icon:Je},{label:"Check-Out",path:"/staff/attendance/check-out",icon:Je},{label:"Today Check-Ins",path:"/staff/attendance/today",icon:Et},{label:"Member List",path:"/staff/members/list",icon:Et}]},{label:"Locker Assign",icon:Fs,children:[{label:"Assign Locker",path:"/staff/lockers/assign",icon:Fs},{label:"Release Locker",path:"/staff/lockers/release",icon:Fs}]},{label:"Tasks",icon:gl,children:[{label:"My Tasks",path:"/staff/tasks/my-tasks",icon:gl},{label:"Task Status",path:"/staff/tasks/status",icon:Je}]},{label:"Payments",icon:Os,children:[{label:"New Receipt",path:"/finance/cashier",icon:Wa},{label:"My Transactions",path:"/finance/transactions",icon:sl},{label:"Log Expense",path:"/finance/petty-cash",icon:ca}]},{label:"Profile",icon:rt,children:[{label:"My Profile",path:"/staff/profile/me",icon:rt},{label:"Logout",path:"/login",icon:pn}]}],[ct.TRAINER]:[{label:"Dashboard",path:"/dashboard",icon:gd},{label:"My Leads",path:"/crm/my-leads",icon:Qe},{label:"Sessions",icon:Ye,children:[{label:"Session Calendar",path:"/trainer/sessions/calendar",icon:Ye},{label:"Upcoming Sessions",path:"/trainer/sessions/upcoming",icon:Je}]},{label:"My Attendance",path:"/trainer/attendance",icon:Je},{label:"Availability",path:"/trainer/availability",icon:Ye},{label:"Classes",path:"/classes",icon:Ye},{label:"My Members",path:"/trainer/members/assigned",icon:Et},{label:"Diet Plans",path:"/diet-plans",icon:Dc},{label:"Workout Plans",path:"/workout-plans",icon:qr},{label:"My Earnings",path:"/trainer/earnings",icon:yn},{label:"Announcements",path:"/trainer/announcements",icon:gn},{label:"Progress",path:"/progress",icon:Ks},{label:"Profile",icon:rt,children:[{label:"My Profile",path:"/trainer/profile/me",icon:rt},{label:"Logout",path:"/login",icon:pn}]}],[ct.MEMBER]:[{label:"Home",path:"/dashboard",icon:Pj},{label:"My Membership",path:"/member/membership",icon:er},{label:"Bookings",path:"/member/bookings",icon:Ye},{label:"Workout Plans",path:"/workout-plans",icon:qr},{label:"Diet Plans",path:"/diet-plans",icon:Dc},{label:"Progress",path:"/progress",icon:Ks},{label:"My Wallet",path:"/member/wallet",icon:kh},{label:"My Invoices",path:"/member/payments",icon:Wa},{label:"Feedback",path:"/member/feedback",icon:gn},{label:"Store",path:"/member/store",icon:Ec},{label:"Profile",path:"/member/profile/me",icon:rt},{label:"Logout",path:"/login",icon:pn}]},OC=({role:t,collapsed:s,setCollapsed:r})=>{const l=zr(),{logout:i}=Ho(),[o,d]=j.useState({}),x=f=>{d(w=>({...w,[f]:!w[f]}))},u=RC[t]||[],h=f=>{f.preventDefault(),window.confirm("Are you sure you want to logout?")&&i()},p=f=>f.path?l.pathname===f.path||l.pathname.startsWith(f.path+"/"):f.children?f.children.some(w=>l.pathname===w.path||l.pathname.startsWith(w.path+"/")):!1,g=f=>o[f.label]!==void 0?o[f.label]:p(f),y=()=>{window.innerWidth<1024&&r&&r(!0)};return e.jsxs("aside",{className:`sidebar ${s?"collapsed":""} `,children:[e.jsxs("div",{style:{height:"var(--topbar-height)",display:"flex",alignItems:"center",padding:"0 1.5rem",borderBottom:"1px solid var(--border-color)",marginBottom:"1rem"},children:[e.jsx("div",{style:{width:"32px",height:"32px",background:"var(--primary)",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontWeight:"bold",flexShrink:0,marginRight:s?0:"12px"},children:"G"}),!s&&e.jsx("span",{className:"text-title",style:{fontSize:"1.125rem",whiteSpace:"nowrap"},children:"Gym CRM"})]}),e.jsx("nav",{style:{flex:1,overflowY:"auto"},children:e.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:u.map(f=>e.jsx("li",{children:f.children?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>x(f.label),className:`sidebar-item ${p(f)?"active":""} `,title:s?f.label:"",style:{width:"100%",border:"none",background:"none",cursor:"pointer",textAlign:"left",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[e.jsx(f.icon,{size:20}),!s&&e.jsx("span",{children:f.label})]}),!s&&(g(f)?e.jsx(Wl,{size:16}):e.jsx(vs,{size:16}))]}),!s&&g(f)&&e.jsx("ul",{style:{listStyle:"none",padding:"4px 0 4px 20px",margin:0,background:"rgba(0,0,0,0.02)",borderLeft:"2px solid var(--border-color)",marginLeft:"24px"},children:f.children.map(w=>e.jsx("li",{children:e.jsxs(_h,{to:w.path,end:w.path==="/settings"||w.path==="/operations",className:({isActive:S})=>`sidebar-item ${S?"active":""} `,style:({isActive:S})=>({display:"flex",alignItems:"center",gap:"10px",padding:"8px 12px",fontSize:"0.85rem",textDecoration:"none",color:S?"var(--primary)":"var(--text)",fontWeight:S?600:400,borderRadius:"6px",transition:"all 0.2s"}),onClick:w.label==="Logout"?h:y,children:[e.jsx(w.icon,{size:16}),e.jsx("span",{children:w.label})]})},w.path))})]}):e.jsxs(_h,{to:f.path,className:({isActive:w})=>`sidebar-item ${w?"active":""} `,title:s?f.label:"",onClick:y,children:[e.jsx(f.icon,{size:20}),!s&&e.jsx("span",{children:f.label})]})},f.label))})}),!s&&e.jsxs("div",{style:{padding:"1rem",borderTop:"1px solid var(--border-color)"},children:[e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--muted)",marginBottom:"4px"},children:"Current Role:"}),e.jsx("div",{style:{fontSize:"0.875rem",fontWeight:600,color:"var(--primary)"},children:t})]})]})},FC=({collapsed:t,setCollapsed:s,title:r="Dashboard",role:l})=>{const[i,o]=j.useState(!1),d=j.useRef(null),x=Gt();j.useEffect(()=>{const y=f=>{d.current&&!d.current.contains(f.target)&&o(!1)};return document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[]);const u=()=>{x("/login"),o(!1)},h=()=>{let y="/profile/me";switch(l){case ct.SUPER_ADMIN:y="/superadmin/profile/me";break;case ct.BRANCH_ADMIN:y="/branchadmin/profile/me";break;case ct.MANAGER:y="/manager/profile/me";break;case ct.STAFF:y="/staff/profile/me";break;case ct.TRAINER:y="/trainer/profile/me";break;case ct.MEMBER:y="/member/profile/me";break;default:console.warn("Unknown role for profile navigation:",l)}x(y),o(!1)},p=()=>{const y=t;s(!t),y&&i&&o(!1)},g=()=>{const y=!i;o(!i),y&&window.innerWidth<1024&&s(!0)};return e.jsxs("header",{className:"topbar",children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-4)"},children:[e.jsx("button",{onClick:p,style:{background:"none",border:"none",cursor:"pointer",color:"var(--muted)",display:"flex",alignItems:"center"},children:e.jsx(r8,{size:22})}),e.jsx("h1",{className:"text-title",style:{fontSize:"1.25rem"},children:r})]}),e.jsx("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-4)"},children:e.jsxs("div",{style:{position:"relative"},ref:d,children:[e.jsx("button",{onClick:g,style:{display:"flex",alignItems:"center",gap:"10px",background:"none",border:"none",cursor:"pointer",padding:"4px"},children:e.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"50%",background:"var(--border-color)",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},children:e.jsx(rt,{size:20,color:"var(--muted)"})})}),i&&e.jsxs("div",{style:{position:"absolute",top:"120%",right:0,width:"180px",backgroundColor:"var(--card-bg)",borderRadius:"8px",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)",padding:"var(--space-1)",zIndex:1e3,border:"1px solid var(--border-color)"},children:[e.jsxs("button",{onClick:h,className:"sidebar-item",style:{width:"100%",margin:0,border:"none",background:"none",textAlign:"left",cursor:"pointer"},children:[e.jsx(rt,{size:16})," Profile"]}),e.jsxs("button",{onClick:u,className:"sidebar-item",style:{width:"100%",margin:"4px 0 0 0",border:"none",background:"none",textAlign:"left",cursor:"pointer",color:"#EF4444"},children:[e.jsx(pn,{size:16})," Logout"]})]})]})})]})},BC={"/dashboard":"Dashboard","/memberships":"Membership Management","/classes":"Class Scheduling","/diet-plans":"Diet Plans","/workout-plans":"Workout Plans","/progress":"Progress Tracking","/settings":"Settings","/operations":"Operations","/profile/me":"My Profile"},IC=({role:t})=>{const[s,r]=j.useState(window.innerWidth<1024),l=zr();j.useEffect(()=>{const o=()=>{window.innerWidth<1024&&r(!0)};return window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[]);const i=BC[l.pathname]||"Dashboard";return e.jsxs("div",{className:"app-shell",children:[e.jsx(OC,{role:t,collapsed:s,setCollapsed:r}),e.jsxs("div",{className:"main-container",children:[e.jsx(FC,{collapsed:s,setCollapsed:r,title:i,role:t}),e.jsx("main",{className:"content-area",children:e.jsx("div",{className:"content-max-width",children:e.jsx(Xh,{})})})]})]})},is=({children:t,title:s,subtitle:r,className:l="",...i})=>e.jsxs("div",{className:`saas-card ${l}`,...i,children:[(s||r)&&e.jsxs("div",{style:{marginBottom:"var(--space-4)"},children:[s&&e.jsx("h3",{className:"text-title",children:s}),r&&e.jsx("p",{className:"text-muted",children:r})]}),t]}),Gn=({title:t,value:s,icon:r,trend:l,color:i="primary"})=>{const o={primary:{bg:"bg-blue-50",text:"text-blue-600",iconBg:"group-hover:bg-blue-600 group-hover:text-white"},success:{bg:"bg-emerald-50",text:"text-emerald-600",iconBg:"group-hover:bg-emerald-600 group-hover:text-white"},warning:{bg:"bg-amber-50",text:"text-amber-600",iconBg:"group-hover:bg-amber-600 group-hover:text-white"},danger:{bg:"bg-red-50",text:"text-red-600",iconBg:"group-hover:bg-red-600 group-hover:text-white"}},d=o[i]||o.primary;return e.jsxs(is,{className:"group relative overflow-hidden transition-all duration-300 hover:-translate-y-1 hover:shadow-xl hover:shadow-indigo-500/10 border border-transparent hover:border-indigo-100 cursor-pointer p-4 sm:p-5",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2 relative z-10",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-500 font-medium text-xs sm:text-sm mb-1",children:t}),e.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-gray-800 tracking-tight",children:s})]}),e.jsx("div",{className:`w-10 h-10 sm:w-12 sm:h-12 rounded-lg sm:rounded-xl flex items-center justify-center transition-all duration-300 transform group-hover:scale-110 shadow-sm ${d.bg} ${d.text} ${d.iconBg}`,children:r&&e.jsx(r,{size:20,className:"sm:w-[22px] sm:h-[22px] transition-colors duration-300"})})]}),l&&e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 mt-2",children:[e.jsx("span",{className:`text-[10px] sm:text-xs font-semibold px-1.5 sm:px-2 py-0.5 rounded-full ${d.bg} ${d.text}`,children:l}),e.jsx("span",{className:"text-[10px] sm:text-xs text-gray-400",children:"vs last period"})]}),e.jsx("div",{className:`absolute -bottom-4 -right-4 w-20 h-20 sm:w-24 sm:h-24 rounded-full opacity-0 group-hover:opacity-10 transition-opacity duration-500 ${d.bg.replace("bg-","bg-")}`})]})},iu=({children:t})=>e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:t}),Ht=({children:t,variant:s="primary",className:r="",icon:l,...i})=>{const o={primary:"bg-violet-600 hover:bg-violet-700 text-white shadow-lg shadow-violet-200",success:"bg-emerald-500 hover:bg-emerald-600 text-white shadow-lg shadow-emerald-200",outline:"bg-white border-2 border-slate-200 text-slate-600 hover:border-violet-500 hover:text-violet-600"},d=o[s]||o.primary;return e.jsxs("button",{className:`inline-flex items-center justify-center gap-2 px-6 py-3 rounded-2xl font-black text-xs uppercase tracking-widest transition-all duration-300 active:scale-95 disabled:opacity-50 disabled:pointer-events-none ${d} ${r}`,...i,children:[l&&e.jsx(l,{size:16}),t]})},ys=we,UC=async()=>{try{return(await ys.get("/superadmin/dashboard-cards")).data}catch(t){throw t.response?.data?.message||"Failed to fetch dashboard stats"}},$C=UC,qC=async()=>{try{const t=await ys.get("/superadmin/gyms");return(t.data.gyms||t.data).slice(0,5)}catch(t){throw t.response?.data?.message||"Failed to fetch recent gyms"}},HC=async()=>{try{const t=await ys.get("/superadmin/gyms"),r=(t.data.gyms||t.data).filter(i=>i.status==="Pending").length,l=[];return r>0&&l.push({id:"pending-gyms",title:"Pending Approvals",message:`${r} New Gyms waiting for review`,type:"warning",time:"Recently"}),l}catch{return[]}},hg=async(t={})=>{try{return(await ys.get("/superadmin/gyms",{params:t})).data}catch(s){throw s.response?.data?.message||"Failed to fetch gyms"}},Vj=async t=>{try{return(await ys.post("/superadmin/gyms",t)).data}catch(s){throw s.response?.data?.message||"Failed to add gym"}},WC=async t=>{try{return(await ys.delete(`/superadmin/gyms/${t}`)).data}catch(s){throw s.response?.data?.message||"Failed to delete gym"}},Yj=async t=>{try{return(await ys.patch(`/superadmin/gyms/${t}/toggle-status`)).data}catch(s){throw s.response?.data?.message||"Failed to toggle gym status"}},Xj=async t=>{try{let s="/superadmin/gyms";t.toLowerCase().includes("plan")&&(s="/superadmin/plans"),t.toLowerCase().includes("subscription")&&(s="/superadmin/subscriptions"),t.toLowerCase().includes("payment")&&(s="/superadmin/payments"),t.toLowerCase().includes("log")&&(t.toLowerCase().includes("activity")?s="/superadmin/logs/activity":t.toLowerCase().includes("error")?s="/superadmin/logs/error":s="/superadmin/audit-logs");const r=await ys.get(s),l=r.data.gyms||r.data;if(!Array.isArray(l)||l.length===0){console.warn("No data available for export");return}const i=Object.keys(l[0]),o=[i.join(","),...l.map(h=>i.map(p=>{const g=h[p];return typeof g=="string"?`"${g.replace(/"/g,'""')}"`:g}).join(","))].join(`
`),d=new Blob([o],{type:"text/csv;charset=utf-8;"}),x=document.createElement("a"),u=URL.createObjectURL(d);x.setAttribute("href",u),x.setAttribute("download",`${t}_Export_${new Date().toISOString().split("T")[0]}.csv`),x.style.visibility="hidden",document.body.appendChild(x),x.click(),document.body.removeChild(x)}catch(s){console.error("Export failed:",s)}},ou=async()=>{try{return(await ys.get("/superadmin/plans")).data}catch(t){throw t.response?.data?.message||"Failed to fetch plans"}},Kj=async t=>{try{return(await ys.post("/superadmin/plans",t)).data}catch(s){throw s.response?.data?.message||"Failed to add plan"}},Jj=async(t,s)=>{try{return(await ys.patch(`/superadmin/plans/${t}`,s)).data}catch(r){throw r.response?.data?.message||"Failed to update plan"}},GC=async t=>{try{return(await ys.delete(`/superadmin/plans/${t}`)).data}catch(s){throw s.response?.data?.message||"Failed to delete plan"}},VC=async(t,s)=>{try{return(await ys.patch(`/superadmin/plans/${t}`,{features:s})).data}catch(r){throw r.response?.data?.message||"Failed to update plan features"}},Zj=async()=>{try{return(await ys.get("/superadmin/subscriptions")).data}catch(t){throw t.response?.data?.message||"Failed to fetch subscriptions"}},Qj=async t=>{try{return(await ys.patch(`/superadmin/subscriptions/${t}/toggle-status`)).data}catch(s){throw s.response?.data?.message||"Failed to toggle subscription status"}},YC=async()=>{try{return(await ys.get("/superadmin/webhook-logs")).data}catch(t){throw t.response?.data?.message||"Failed to fetch webhook logs"}},XC=async()=>{try{return(await ys.get("/superadmin/logs/activity")).data}catch(t){throw t.response?.data?.message||"Failed to fetch activity logs"}},KC=async()=>{try{return(await ys.get("/superadmin/settings/global")).data}catch(t){throw t.response?.data?.message||"Failed to fetch global settings"}},JC=async t=>{try{return(await ys.patch("/superadmin/settings/global",t)).data}catch(s){throw s.response?.data?.message||"Failed to update global settings"}},ZC=async()=>{try{return(await ys.get("/superadmin/settings/invoice")).data}catch(t){throw t.response?.data?.message||"Failed to fetch invoice settings"}},QC=async t=>{try{return(await ys.patch("/superadmin/settings/invoice",t)).data}catch(s){throw s.response?.data?.message||"Failed to update invoice settings"}},eA=async()=>{try{return(await ys.get("/superadmin/settings/booking")).data}catch(t){throw t.response?.data?.message||"Failed to fetch booking settings"}},tA=async t=>{try{return(await ys.patch("/superadmin/settings/booking",t)).data}catch(s){throw s.response?.data?.message||"Failed to update booking settings"}},sA=async()=>{try{return(await ys.get("/superadmin/staff")).data}catch(t){throw t.response?.data?.message||"Failed to fetch staff members"}},aA=async t=>{try{return(await ys.post("/superadmin/staff",t)).data}catch(s){throw s.response?.data?.message||"Failed to add staff"}},ew=async t=>{try{return(await ys.delete(`/superadmin/staff/${t}`)).data}catch(s){throw s.response?.data?.message||"Failed to delete staff member"}},rA=async(t,s)=>{try{return(await ys.patch(`/superadmin/staff/${t}`,s)).data}catch(r){throw r.response?.data?.message||"Failed to update staff member"}},lA=async()=>{try{return(await ys.get("/superadmin/wallet/members")).data}catch(t){throw t.response?.data?.message||"Failed to fetch member wallets"}},nA=async()=>{try{return(await ys.get("/superadmin/requests/trainers")).data}catch(t){throw t.response?.data?.message||"Failed to fetch trainer requests"}},iA=async()=>{try{return(await ys.get("/superadmin/requests/trainer-changes")).data}catch(t){throw t.response?.data?.message||"Failed to fetch trainer change requests"}},L1=async(t,s)=>{try{return(await ys.patch(`/superadmin/requests/trainers/${t}`,{status:s})).data}catch(r){throw r.response?.data?.message||"Failed to update trainer request"}},oA=async()=>{try{return(await ys.get("/superadmin/profile")).data}catch(t){throw t.response?.data?.message||"Failed to fetch admin profile"}},cA=async t=>{try{return(await ys.patch("/superadmin/profile",t)).data}catch(s){throw s.response?.data?.message||"Failed to update admin profile"}},tw=async()=>{try{return(await ys.get("/superadmin/devices")).data}catch(t){throw t.response?.data?.message||"Failed to fetch devices"}},dA=async t=>{try{return(await ys.post("/superadmin/devices",t)).data}catch(s){throw s.response?.data?.message||"Failed to add device"}},xA=async(t,s)=>{try{return(await ys.patch(`/superadmin/devices/${t}`,s)).data}catch(r){throw r.response?.data?.message||"Failed to update device"}},uA=async t=>{try{return(await ys.delete(`/superadmin/devices/${t}`)).data}catch(s){throw s.response?.data?.message||"Failed to delete device"}},hA=()=>{const[t,s]=j.useState([]),[r,l]=j.useState([]),[i,o]=j.useState([]),[d,x]=j.useState(!0),[u,h]=j.useState(null),p={"Total Gyms":Dr,"Total Members":Et,"Active Plans":Wt,"Monthly Revenue":yn},g=async()=>{try{x(!0);const[y,f,w]=await Promise.all([$C(),qC(),HC()]),S=y.map(v=>({...v,icon:p[v.title]||Wt}));s(S),l(f),o(w)}catch(y){console.error("Error fetching dashboard data:",y),h("Failed to load dashboard data. Please try again later.")}finally{x(!1)}};return j.useEffect(()=>{g()},[]),d?e.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-6rem)]",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-violet-600 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"text-slate-500 font-medium animate-pulse uppercase tracking-[0.2em] text-[10px]",children:"Authorizing System Access..."})]})}):u?e.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-6rem)]",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-8 text-center max-w-md",children:[e.jsx(Lr,{size:48,className:"text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-bold text-red-900 mb-2",children:"Oops!"}),e.jsx("p",{className:"text-red-700 mb-6",children:u}),e.jsx(Ht,{onClick:g,className:"bg-red-600 hover:bg-red-700 text-white border-none",children:"Retry Loading"})]})}):e.jsxs("div",{className:"h-[calc(100vh-6rem)] overflow-y-auto pr-2 pb-8 space-y-8 fade-in scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-transparent",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 pb-6 border-b-2 border-gray-100",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"System Overview"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Monitor platform performance and recent activity"})]}),e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-emerald-50 border border-emerald-200 rounded-lg",children:[e.jsx(as,{size:16,className:"text-emerald-600"}),e.jsx("span",{className:"text-sm font-semibold text-emerald-700",children:"All Systems Operational"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ks,{size:20,className:"text-indigo-600"}),e.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Key Metrics"})]}),e.jsxs("span",{className:"text-xs text-gray-500 flex items-center gap-1",children:[e.jsx(Je,{size:12}),"Updated just now"]})]}),e.jsx(iu,{children:t.map(y=>e.jsx(Gn,{...y},y.id))})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-4 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Recent Gym Registrations"}),e.jsxs(Ht,{variant:"outline",size:"small",className:"group hover:bg-indigo-600 hover:text-white hover:border-indigo-600 text-indigo-600 border-indigo-200 font-semibold transition-all duration-300",children:["View All",e.jsx(bl,{size:14,className:"ml-1 group-hover:translate-x-1 transition-transform"})]})]}),e.jsx(is,{className:"overflow-hidden border border-gray-200 shadow-lg hover:shadow-xl transition-shadow duration-300",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm text-left",children:[e.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100/50 border-b-2 border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-xs font-bold uppercase tracking-wider text-gray-700",children:"Gym Name"}),e.jsx("th",{className:"px-4 py-3 text-xs font-bold uppercase tracking-wider text-gray-700 hidden sm:table-cell",children:"Location"}),e.jsx("th",{className:"px-4 py-3 text-xs font-bold uppercase tracking-wider text-gray-700 hidden md:table-cell",children:"Date"}),e.jsx("th",{className:"px-4 py-3 text-xs font-bold uppercase tracking-wider text-gray-700",children:"Status"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:r.length>0?r.map(y=>e.jsxs("tr",{className:"group hover:bg-gradient-to-r hover:from-indigo-50/50 hover:to-transparent transition-all duration-200 cursor-pointer",children:[e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[e.jsx("div",{className:"w-9 h-9 flex-shrink-0 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold text-sm shadow-md group-hover:shadow-lg group-hover:scale-110 transition-all duration-300",children:y.gymName?.charAt(0)||"G"}),e.jsx("span",{className:"font-semibold text-gray-900 group-hover:text-indigo-600 transition-colors truncate",children:y.gymName})]})}),e.jsx("td",{className:"px-4 py-3 text-gray-600 hidden sm:table-cell",children:e.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[e.jsx("div",{className:"w-7 h-7 flex-shrink-0 bg-gray-100 rounded-lg flex items-center justify-center group-hover:bg-indigo-100 transition-colors",children:e.jsx($s,{size:13,className:"text-indigo-500"})}),e.jsx("span",{className:"font-medium truncate",children:y.location||"N/A"})]})}),e.jsx("td",{className:"px-4 py-3 text-gray-600 font-medium whitespace-nowrap hidden md:table-cell",children:y.createdAt?new Date(y.createdAt).toISOString().split("T")[0]:"N/A"}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-bold shadow-sm transition-all duration-300 group-hover:scale-105 whitespace-nowrap ${y.status==="Active"?"bg-gradient-to-r from-emerald-50 to-emerald-100 text-emerald-700 border border-emerald-200":"bg-gradient-to-r from-amber-50 to-amber-100 text-amber-700 border border-amber-200"}`,children:y.status})})]},y.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"px-4 py-8 text-center text-gray-500 font-medium",children:"No recent registrations found"})})})]})})})]}),e.jsxs("div",{className:"lg:col-span-1 space-y-4 min-w-0",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"System Alerts"}),e.jsx("div",{className:"space-y-4 max-h-[600px] overflow-y-auto pr-2 scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100",children:i.length>0?i.map(y=>e.jsx("div",{className:`bg-white rounded-xl border-l-4 ${y.type==="danger"?"border-red-500 bg-gradient-to-r from-red-50/80 to-white":"border-amber-500 bg-gradient-to-r from-amber-50/80 to-white"} shadow-md hover:shadow-lg hover:-translate-y-1 transition-all duration-300 cursor-pointer group`,children:e.jsxs("div",{className:"flex items-start gap-3 p-4",children:[e.jsx("div",{className:`w-10 h-10 flex-shrink-0 bg-gradient-to-br ${y.type==="danger"?"from-red-500 to-red-600":"from-amber-500 to-amber-600"} rounded-xl flex items-center justify-center shadow-lg group-hover:scale-110 group-hover:rotate-6 transition-all duration-300`,children:y.type==="danger"?e.jsx(Sf,{size:20,className:"text-white",strokeWidth:2.5}):e.jsx(Lr,{size:20,className:"text-white",strokeWidth:2.5})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[e.jsx("h3",{className:`font-bold ${y.type==="danger"?"text-red-900":"text-amber-900"} text-sm`,children:y.title}),y.type==="danger"?e.jsx("span",{className:"w-2 h-2 flex-shrink-0 rounded-full bg-red-500 animate-pulse shadow-lg shadow-red-500/50 mt-1"}):e.jsx("span",{className:"px-1.5 py-0.5 flex-shrink-0 bg-gradient-to-r from-amber-500 to-amber-600 text-white rounded-lg text-xs font-bold shadow-md",children:"Action"})]}),e.jsx("p",{className:`text-xs ${y.type==="danger"?"text-red-700":"text-amber-700"} font-medium mb-2`,children:y.message}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:`px-2 py-0.5 ${y.type==="danger"?"bg-red-100 text-red-700":"bg-amber-100 text-amber-700"} rounded-lg text-xs font-bold`,children:y.type==="danger"?"Critical":"Pending"}),e.jsx("span",{className:"text-xs text-gray-500 font-medium",children:y.time})]})]})]})},y.id)):e.jsxs("div",{className:"bg-emerald-50 border border-emerald-100 rounded-xl p-6 text-center shadow-inner",children:[e.jsx(as,{size:32,className:"text-emerald-500 mx-auto mb-2"}),e.jsx("h3",{className:"text-emerald-900 font-bold text-sm",children:"All Systems Clear"}),e.jsx("p",{className:"text-emerald-700 text-xs",children:"No active alerts at this time"})]})})]})]})]})},Kx={createLead:async t=>{try{return(await we.post("/crm/leads",t)).data}catch(s){throw s.response?.data||s.message}},getLeads:async(t={})=>{try{return(await we.get("/crm/leads",{params:t})).data}catch(s){throw s.response?.data||s.message}},updateLeadStatus:async(t,s)=>{try{return(await we.patch(`/crm/leads/${t}/status`,{status:s})).data}catch(r){throw r.response?.data||r.message}},getTodayFollowUps:async()=>{try{return(await we.get("/crm/followups/today")).data}catch(t){throw t.response?.data||t.message}},addFollowUp:async(t,s)=>{try{return(await we.post(`/crm/leads/${t}/followups`,s)).data}catch(r){throw r.response?.data||r.message}}},mg=({isWidget:t=!1})=>{const[s,r]=j.useState([]),[l,i]=j.useState(null),[o,d]=j.useState(!0),{user:x}=Ho(),u=async()=>{try{d(!0);const y=await Kx.getTodayFollowUps();r(y)}catch(y){console.error("Error fetching follow-ups:",y)}finally{d(!1)}};j.useEffect(()=>{u()},[]);const h=new Date().toISOString().split("T")[0],p=s,g=async y=>{try{await Kx.updateLeadStatus(y,"Contacted"),i(y),setTimeout(()=>{r(s.filter(f=>f.id!==y)),i(null)},1e3)}catch(f){console.error("Failed to update status:",f)}};return e.jsxs("div",{className:`saas-card !p-0 overflow-hidden ${t?"":"max-w-4xl mx-auto"}`,children:[e.jsxs("div",{className:"p-4 md:p-6 border-b border-slate-100 flex items-center justify-between bg-gradient-to-r from-slate-50/50 to-white",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-violet-100 text-violet-600 flex items-center justify-center",children:e.jsx(Je,{size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-black text-slate-800 tracking-tight uppercase tracking-widest text-xs",children:"Today's Follow-ups"}),e.jsxs("p",{className:"text-[10px] font-bold text-slate-400",children:["Scheduled for ",h]})]})]}),e.jsxs("span",{className:"px-3 py-1 rounded-lg bg-violet-600 text-white text-[10px] font-black",children:[p.length," PENDING"]})]}),e.jsx("div",{className:"divide-y divide-slate-50",children:p.length>0?p.map(y=>e.jsxs("div",{className:"p-4 md:p-5 flex flex-col sm:flex-row sm:items-center justify-between gap-4 hover:bg-slate-50/50 transition-colors group",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"w-12 h-12 rounded-full border-2 border-violet-100 bg-white flex items-center justify-center text-violet-600 font-black relative overflow-hidden group-hover:scale-110 transition-transform duration-500",children:[y.name.charAt(0),e.jsx("div",{className:"absolute inset-0 bg-violet-600 opacity-0 group-hover:opacity-10 transition-opacity"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-slate-800 tracking-tight group-hover:text-violet-700 transition-colors uppercase text-sm",children:y.name}),e.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-slate-400 text-[11px] font-medium",children:[e.jsx(qs,{size:10,className:"text-violet-400"}),y.phone]}),e.jsxs("div",{className:"flex items-center gap-1.5 text-slate-400 text-[11px] font-medium",children:[e.jsx(Je,{size:10,className:"text-violet-400"}),y.followUpTime||"Not set"]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 w-full sm:w-auto",children:[e.jsx("a",{href:`tel:${y.phone}`,className:"flex-1 sm:flex-none p-3 rounded-xl bg-slate-50 text-slate-400 hover:bg-violet-50 hover:text-violet-600 transition-all flex items-center justify-center",title:"Call Now",children:e.jsx(qs,{size:18})}),e.jsx("button",{onClick:()=>g(y.id),className:`flex-[2] sm:flex-none px-6 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all shadow-sm flex items-center justify-center gap-2 ${l===y.id?"bg-emerald-500 text-white shadow-emerald-200":"bg-white border border-slate-200 text-slate-600 hover:border-violet-300 hover:text-violet-700"}`,children:l===y.id?e.jsxs(e.Fragment,{children:[e.jsx($r,{size:14,strokeWidth:3}),"Done"]}):e.jsxs(e.Fragment,{children:[e.jsx(ss,{size:14}),"Mark Contacted"]})})]})]},y.id)):e.jsxs("div",{className:"p-12 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-4 text-slate-200",children:e.jsx(Je,{size:32})}),e.jsx("p",{className:"text-slate-400 font-bold text-sm tracking-tight uppercase",children:"No follow-ups scheduled for today"})]})}),!t&&p.length>0&&e.jsx("div",{className:"p-6 bg-slate-50/50 border-t border-slate-100 flex justify-center",children:e.jsxs("button",{className:"text-violet-600 font-black uppercase tracking-widest text-[10px] hover:underline flex items-center gap-2",children:["View All History",e.jsx(_j,{size:14})]})})]})},K0=we,mA=async()=>{try{return(await K0.get("/branch-admin/dashboard/stats")).data}catch(t){throw t.response?.data?.message||"Failed to fetch dashboard stats"}},pA=async()=>{try{return(await K0.get("/branch-admin/dashboard/activities")).data}catch(t){throw t.response?.data?.message||"Failed to fetch recent activities"}},fA=async()=>{try{return(await K0.get("/branch-admin/dashboard/trainers")).data}catch(t){throw t.response?.data?.message||"Failed to fetch trainer availability"}},gA=async()=>{try{return(await K0.get("/branch-admin/dashboard/financials")).data}catch(t){throw t.response?.data?.message||"Failed to fetch financial stats"}},bA=async()=>{try{return(await K0.get("/branch-admin/dashboard/live-access")).data}catch(t){throw t.response?.data?.message||"Failed to fetch live access data"}},vA=async()=>{try{return(await K0.get("/branch-admin/dashboard/renewal-alerts")).data}catch(t){throw t.response?.data?.message||"Failed to fetch renewal alerts"}},sw=({alertsData:t})=>{const s=Gt(),[r,l]=j.useState({expiringSoon:[],recentlyExpired:[]}),[i,o]=j.useState(!t),d=new Date,x=p=>{const y=new Date(p)-d;return Math.ceil(y/(1e3*60*60*24))};j.useEffect(()=>{if(t){l({expiringSoon:t.expiringSoon||[],recentlyExpired:t.recentlyExpired||[]}),o(!1);return}(async()=>{try{o(!0);const g=await vA();l({expiringSoon:g.expiringSoon||[],recentlyExpired:g.recentlyExpired||[]})}catch(g){console.error("Failed to load renewal alerts",g)}finally{o(!1)}})()},[t]);const{expiringSoon:u,recentlyExpired:h}=r;return e.jsxs("div",{className:"bg-white rounded-[32px] shadow-xl border border-slate-100 overflow-hidden hover:shadow-2xl transition-all duration-500",children:[e.jsxs("div",{className:"p-4 md:p-6 border-b border-slate-100 bg-gradient-to-r from-amber-50/50 to-rose-50/50 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-2xl bg-white shadow-sm flex items-center justify-center text-amber-500",children:e.jsx(ps,{size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tight",children:"Renewal Alerts"}),e.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Retention Opportunity"})]})]}),e.jsxs("button",{onClick:()=>s("/members/renewal-alerts"),className:"flex items-center gap-1 px-4 py-2 rounded-xl bg-white border border-slate-200 text-[10px] font-black uppercase tracking-widest text-slate-600 hover:border-amber-500 hover:text-amber-600 transition-all shadow-sm",children:["View All ",e.jsx(vs,{size:14})]})]}),e.jsxs("div",{className:"p-4 md:p-6 space-y-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between px-2",children:[e.jsxs("h4",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-amber-500 animate-pulse"}),"Expiring in 7 Days"]}),e.jsxs("span",{className:"text-[10px] font-bold text-amber-600 bg-amber-50 px-2 py-0.5 rounded-md",children:[u.length," Members"]})]}),e.jsx("div",{className:"space-y-3",children:u.length>0?u.map(p=>e.jsxs("div",{className:"group relative p-4 rounded-2xl bg-slate-50 border border-slate-100 hover:border-amber-200 hover:bg-white hover:shadow-lg transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-white flex items-center justify-center font-black text-slate-400 group-hover:bg-amber-500 group-hover:text-white transition-all",children:p.memberName.charAt(0)}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-black text-slate-800",children:p.memberName}),e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:p.planName})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-[10px] font-black text-amber-600 uppercase",children:"Ends In"}),e.jsxs("p",{className:"text-sm font-black text-slate-700",children:[x(p.endDate)," Days"]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"flex-1 py-2 rounded-lg bg-white border border-slate-200 flex items-center justify-center text-slate-500 hover:text-green-600 hover:border-green-200 transition-all",children:e.jsx(qs,{size:14})}),e.jsx("button",{className:"flex-1 py-2 rounded-lg bg-white border border-slate-200 flex items-center justify-center text-slate-500 hover:text-blue-500 hover:border-blue-200 transition-all",children:e.jsx(Bh,{size:14})}),e.jsx("button",{className:"flex-[2] py-2 rounded-lg bg-amber-500 text-white text-[10px] font-black uppercase tracking-widest shadow-lg shadow-amber-100 hover:bg-amber-600 transition-all",children:"Renew"})]})]},p.id)):e.jsx("div",{className:"py-8 text-center bg-slate-50/50 rounded-2xl border border-dashed border-slate-200",children:e.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"No immediate renewals"})})})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-100",children:[e.jsxs("div",{className:"flex items-center justify-between px-2",children:[e.jsxs("h4",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-rose-500"}),"Recently Expired"]}),e.jsxs("span",{className:"text-[10px] font-bold text-rose-600 bg-rose-50 px-2 py-0.5 rounded-md",children:[h.length," Members"]})]}),e.jsx("div",{className:"space-y-3",children:h.length>0?h.map(p=>e.jsx("div",{className:"group p-4 rounded-2xl bg-slate-50/50 border border-slate-100 hover:bg-white hover:border-rose-200 hover:shadow-lg transition-all duration-300",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-9 h-9 rounded-lg bg-white flex items-center justify-center font-black text-slate-300 group-hover:bg-rose-500 group-hover:text-white transition-all text-xs",children:p.memberName.charAt(0)}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-slate-800",children:p.memberName}),e.jsxs("p",{className:"text-[9px] font-bold text-slate-400 uppercase italic",children:["Expired ",Math.abs(x(p.endDate))," days ago"]})]})]}),e.jsx("button",{className:"p-2 rounded-lg bg-white border border-slate-200 text-slate-400 hover:text-rose-600 hover:border-rose-200 transition-all",children:e.jsx(qs,{size:14})})]})},p.id)):e.jsx("p",{className:"text-center py-4 text-xs font-bold text-slate-300 uppercase tracking-widest",children:"No recent expirations"})})]})]})]})},aw=({userRole:t="STAFF"})=>{const s=Gt(),[r,l]=j.useState(new Date().toLocaleTimeString()),[i,o]=j.useState([]),[d,x]=j.useState(!0),[u,h]=j.useState(null),[p,g]=j.useState(!1),[y,f]=j.useState(""),w=async()=>{try{x(!0);const L=await bA();o(L||[])}catch(L){console.error("LiveAccessControl fetch error:",L)}finally{x(!1)}};j.useEffect(()=>{w();const L=setInterval(w,6e4);return()=>clearInterval(L)},[]),j.useEffect(()=>{const L=setInterval(()=>{l(new Date().toLocaleTimeString())},1e4);return()=>clearInterval(L)},[]);const S=L=>{const M=new Date,T=new Date(L.expiry),_=L.balance||0;if(T<M)return{type:"RED",label:"EXPIRED - STOP",icon:Nf,color:"text-rose-600",bg:"bg-rose-50",border:"border-rose-100 shadow-rose-100"};if(_>0)return{type:"RED",label:"PAYMENT DUE - STOP",icon:Lr,iconColor:"text-rose-600",bg:"bg-rose-50",border:"border-rose-100 shadow-rose-100"};const I=T-M;return Math.ceil(I/(1e3*60*60*24))<=3?{type:"YELLOW",label:"EXPIRING SOON",icon:Je,color:"text-amber-600",bg:"bg-amber-50",border:"border-amber-100 shadow-amber-100"}:{type:"GREEN",label:"ACTIVE - ALLOWED",icon:as,color:"text-emerald-600",bg:"bg-emerald-50",border:"border-emerald-100 shadow-emerald-100"}},v=t==="MANAGER"||t==="BRANCH_ADMIN",N=L=>{const M=S(L);M.type==="RED"?(h(L),g(!0)):M.type==="YELLOW"?alert(`Reminder sent to ${L.member}`):s("/memberships/"+L.id)},A=()=>{if(!y.trim())return alert("Please enter an override reason.");alert(`Entry overridden for ${u.member} by ${t}. Reason: ${y}`),g(!1),h(null),f("")};return e.jsxs("div",{className:"bg-white rounded-[40px] shadow-2xl border border-slate-100 overflow-hidden mb-8",children:[e.jsxs("div",{className:"p-8 border-b border-slate-100 bg-gradient-to-r from-slate-900 to-slate-800 flex flex-col md:flex-row md:items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"w-14 h-14 rounded-2xl bg-white/10 backdrop-blur-md flex items-center justify-center text-white relative",children:[e.jsx(Fs,{size:28}),e.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-emerald-500 rounded-full border-2 border-slate-900 animate-pulse"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-black text-white tracking-tight",children:"Live Access Control"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:"text-[10px] font-black text-emerald-400 uppercase tracking-widest bg-emerald-500/10 px-2 py-0.5 rounded-lg border border-emerald-500/20",children:"Monitor Operational"}),e.jsxs("span",{className:"text-[10px] font-bold text-slate-400 italic",children:["Last Refresh: ",r]})]})]})]}),e.jsx("div",{className:"flex gap-3",children:e.jsxs("button",{className:"flex items-center gap-2 px-6 py-3 bg-white/10 hover:bg-white/20 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all",children:[e.jsx(sl,{size:16})," Security Logs"]})})]}),e.jsx("div",{className:"hidden md:block overflow-x-auto",children:e.jsxs("table",{className:"w-full min-w-[1000px]",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50/80 border-b border-slate-100",children:[e.jsx("th",{className:"px-8 py-6 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Member Info"}),e.jsx("th",{className:"px-8 py-6 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Membership Plan"}),e.jsx("th",{className:"px-8 py-6 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Dues / Expiry"}),e.jsx("th",{className:"px-8 py-6 text-center text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Security Status"}),e.jsx("th",{className:"px-8 py-6 text-right text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Action"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:i.map(L=>{const M=S(L);return e.jsxs("tr",{className:`group transition-colors ${M.type==="RED"?"bg-rose-50/30":"hover:bg-slate-50/80"}`,children:[e.jsx("td",{className:"px-8 py-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:L.photo,className:"w-12 h-12 rounded-2xl object-cover border-2 border-white shadow-md group-hover:scale-110 transition-transform",alt:""}),e.jsx("div",{className:`absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 border-white ${M.type==="RED"?"bg-rose-500":"bg-emerald-500"}`})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-black text-slate-900 block group-hover:text-slate-700 transition-colors uppercase tracking-tight",children:L.member}),e.jsxs("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:["Logged: ",L.time]})]})]})}),e.jsx("td",{className:"px-8 py-6",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-black text-slate-700 tracking-tight",children:L.plan}),e.jsx("span",{className:"text-[10px] font-medium text-slate-400 uppercase",children:"Premium Member"})]})}),e.jsx("td",{className:"px-8 py-6",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("span",{className:`text-sm font-black tabular-nums ${L.balance>0?"text-rose-600":"text-slate-700"}`,children:["",L.balance?.toLocaleString()||0," Dues"]}),e.jsxs("span",{className:"text-[10px] font-bold text-slate-400 uppercase italic",children:["Exp: ",L.expiry]})]})}),e.jsx("td",{className:"px-8 py-6",children:e.jsxs("div",{className:`mx-auto flex items-center justify-center gap-2 px-4 py-2 rounded-2xl border ${M.bg} ${M.color} ${M.border} shadow-sm max-w-[180px]`,children:[e.jsx(M.icon,{size:16,strokeWidth:3}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-wider",children:M.label})]})}),e.jsx("td",{className:"px-8 py-6 text-right",children:e.jsx("button",{onClick:()=>N(L),className:`h-11 px-6 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${M.type==="RED"?"bg-rose-600 text-white shadow-lg shadow-rose-200 hover:scale-105 active:scale-95":"bg-white border-2 border-slate-100 text-slate-600 hover:border-slate-200"}`,children:M.type==="RED"?"Authorize":"View Profile"})})]},L.id)})})]})}),e.jsx("div",{className:"md:hidden p-4 space-y-4",children:i.map(L=>{const M=S(L);return e.jsxs("div",{className:`p-4 rounded-3xl border ${M.type==="RED"?"bg-rose-50/30 border-rose-100":"bg-white border-slate-100"} shadow-sm`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:L.photo,className:"w-12 h-12 rounded-2xl object-cover border-2 border-white shadow-md",alt:""}),e.jsx("div",{className:`absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 border-white ${M.type==="RED"?"bg-rose-500":"bg-emerald-500"}`})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-black text-slate-900 block uppercase tracking-tight",children:L.member}),e.jsxs("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:["Logged: ",L.time]})]})]}),e.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full ${M.bg} ${M.color}`,children:e.jsx(M.icon,{size:16,strokeWidth:3})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Plan"}),e.jsx("p",{className:"text-sm font-bold text-slate-700",children:L.plan})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Dues"}),e.jsxs("p",{className:`text-sm font-black tabular-nums ${L.balance>0?"text-rose-600":"text-slate-700"}`,children:["",L.balance?.toLocaleString()||0]})]})]}),e.jsx("button",{onClick:()=>N(L),className:`w-full py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${M.type==="RED"?"bg-rose-600 text-white shadow-lg shadow-rose-200":"bg-white border-2 border-slate-100 text-slate-600"}`,children:M.type==="RED"?"Authorize Entry":"View Profile"})]},L.id)})}),p&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-md animate-in fade-in duration-300",children:e.jsx("div",{className:"bg-white w-full max-w-lg rounded-[40px] shadow-2xl border border-slate-100 overflow-hidden transform animate-in slide-in-from-bottom-8 duration-500",children:e.jsxs("div",{className:"p-10 text-center",children:[e.jsx("div",{className:"w-24 h-24 rounded-[32px] bg-rose-50 text-rose-600 flex items-center justify-center mx-auto mb-8 animate-bounce transition-all",children:e.jsx(Nf,{size:48})}),e.jsx("h2",{className:"text-3xl font-black text-slate-900 tracking-tight mb-3 uppercase italic",children:"Access Blocked"}),e.jsxs("p",{className:"text-slate-500 font-medium mb-8 leading-relaxed",children:[e.jsx("span",{className:"font-black text-rose-600",children:u?.member})," has outstanding dues of ",e.jsxs("span",{className:"font-black",children:["",u?.balance]})," or an expired membership. Gym entry is restricted."]}),e.jsxs("div",{className:"space-y-4 mb-8",children:[e.jsxs("button",{onClick:()=>s("/finance/cashier"),className:"w-full py-5 bg-emerald-600 text-white rounded-3xl font-black uppercase tracking-[0.2em] text-xs shadow-xl shadow-emerald-200 hover:scale-[1.02] active:scale-95 transition-all flex items-center justify-center gap-3",children:[e.jsx(yn,{size:18})," Receive Payment"]}),v?e.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-100",children:[e.jsxs("div",{className:"text-left",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1 mb-2 block",children:"Override Reason (Manager Only)"}),e.jsx("textarea",{value:y,onChange:L=>f(L.target.value),placeholder:"e.g. Authorized by director / Technical issues",className:"w-full p-6 h-32 rounded-3xl border-2 border-slate-100 focus:border-rose-500 focus:ring-4 focus:ring-rose-500/10 font-bold text-sm outline-none transition-all bg-slate-50/50"})]}),e.jsxs("button",{onClick:A,className:"w-full py-5 bg-slate-900 text-white rounded-3xl font-black uppercase tracking-[0.2em] text-xs shadow-xl hover:scale-[1.02] active:scale-95 transition-all flex items-center justify-center gap-3",children:[e.jsx(JS,{size:18})," Forced Override entry"]})]}):e.jsxs("div",{className:"p-4 rounded-2xl bg-slate-50 border border-slate-100 flex items-center gap-3 opacity-60",children:[e.jsx(Fs,{size:16,className:"text-slate-400"}),e.jsx("span",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest italic",children:"Manager Authorization Required for Override"})]})]}),e.jsx("button",{onClick:()=>{g(!1),h(null)},className:"text-[10px] font-black text-slate-400 uppercase tracking-widest hover:text-slate-600 transition-colors",children:"Dismiss Check-in"})]})})})]})},rw=({equipment:t=[],equipmentStats:s})=>{const r=Gt(),l=s?s.totalAssets:t.length,i=s?s.operational:t.filter(u=>u.status==="Operational").length,o=s?s.outOfOrder:t.filter(u=>u.status==="Under Maintenance").length,d=s?s.outOfOrder:t.filter(u=>u.status==="Out of Order").length,x=[{label:"Total Assets",count:l,icon:ll,color:"slate",border:"border-slate-200"},{label:"Operational",count:i,icon:as,color:"emerald",border:"border-emerald-200"},{label:"In Maintenance",count:o,icon:Gl,color:"amber",border:"border-amber-200"},{label:"Out of Order",count:d,icon:Lr,color:"red",border:"border-red-200"}];return e.jsxs("div",{className:"bg-white rounded-3xl p-4 md:p-6 shadow-sm border border-slate-200 h-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 md:mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-black text-slate-800 tracking-tight",children:"Facility Status"}),e.jsx("p",{className:"text-slate-400 text-xs font-medium",children:"Equipment health overview"})]}),e.jsx("button",{onClick:()=>r("/facility/equipment"),className:"p-2 bg-slate-50 text-slate-400 hover:text-slate-900 rounded-xl transition-all",children:e.jsx(rl,{size:20})})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:x.map((u,h)=>e.jsxs("div",{className:`p-4 rounded-2xl border-2 ${u.border} bg-white hover:scale-[1.02] transition-all cursor-default group`,children:[e.jsx("div",{className:`w-8 h-8 rounded-lg bg-${u.color}-50 text-${u.color}-600 flex items-center justify-center mb-3 group-hover:rotate-12 transition-transform`,children:e.jsx(u.icon,{size:18})}),e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:u.label}),e.jsx("p",{className:"text-xl font-black text-slate-800 mt-1",children:u.count})]},h))})]})},yA=["Cardio","Strength","Free Weights","Other"],Sh=[{label:"Operational",color:"emerald",value:"Operational"},{label:"Under Maintenance",color:"amber",value:"Under Maintenance"},{label:"Out of Order",color:"red",value:"Out of Order"},{label:"Scheduled Service",color:"blue",value:"Scheduled Service"}],jA=()=>{const[t,s]=j.useState([]),[r,l]=j.useState([]),[i,o]=j.useState([]),[d,x]=j.useState({collection:{cash:0,upi:0,card:0},expenses:{today:0}}),[u,h]=j.useState([]),[p,g]=j.useState({defaulters:0,expiringSoon:0,manualOverrides:0}),[y,f]=j.useState(!0),w=Gt();return j.useEffect(()=>{(async()=>{try{const[v,N,A,L]=await Promise.all([mA(),pA(),fA(),gA()]),M=v.stats.map(T=>({...T,icon:T.icon==="Users"?Et:T.icon==="CheckCircle"?ss:T.icon==="DollarSign"?yn:Et}));s(M),l(N),o(A),x(L),v.equipment&&h(v.equipment),v.risks&&g(v.risks)}catch(v){console.error("Failed to load dashboard data:",v)}finally{f(!1)}})()},[]),y?e.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-6rem)]",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-violet-600 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"text-slate-500 font-medium animate-pulse uppercase tracking-[0.2em] text-[10px]",children:"Synchronizing Branch Data..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 md:p-6",children:[e.jsxs("div",{className:"mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(Wt,{size:28})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Branch Overview"}),e.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Real-time branch performance and activity monitoring"})]})]})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:t.map((S,v)=>{const N=S.icon,A=["from-violet-500 to-purple-600","from-emerald-500 to-emerald-600","from-blue-500 to-blue-600","from-fuchsia-500 to-fuchsia-600"];return e.jsxs("div",{className:"group relative bg-white rounded-2xl shadow-lg border border-slate-100 p-4 md:p-6 hover:shadow-2xl transition-all duration-300 hover:-translate-y-1 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50/50 to-purple-50/50 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-semibold text-slate-600 mb-2",children:S.title}),e.jsx("h3",{className:"text-3xl font-black text-slate-900 mb-2",children:S.value}),e.jsxs("p",{className:"text-xs font-semibold text-slate-500 flex items-center gap-1",children:[e.jsx(Ks,{size:14,className:"text-emerald-500"}),S.trend]})]}),e.jsx("div",{className:`w-14 h-14 rounded-xl bg-gradient-to-br ${A[v%4]} flex items-center justify-center text-white shadow-lg transition-all duration-300 group-hover:scale-110 group-hover:rotate-6`,children:e.jsx(N,{size:24})})]})]},S.id)})}),e.jsxs("div",{className:"mb-10",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-rose-500 text-white flex items-center justify-center shadow-lg shadow-rose-200",children:e.jsx(Ux,{size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-black text-slate-800 tracking-tight",children:"Security & Payment Risk"}),e.jsx("p",{className:"text-xs font-semibold text-slate-500",children:"Real-time revenue leak prevention"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-[32px] p-6 border-b-4 border-rose-500 shadow-xl flex items-center gap-5 group hover:scale-[1.02] transition-all",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-rose-50 text-rose-600 flex items-center justify-center group-hover:rotate-12 transition-transform",children:e.jsx(Nf,{size:28})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Defaulter Check-ins"}),e.jsxs("h4",{className:"text-2xl font-black text-slate-800",children:[p.defaulters," ",e.jsx("span",{className:"text-xs text-rose-500 font-bold ml-1",children:"STOPPED"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-[32px] p-6 border-b-4 border-amber-500 shadow-xl flex items-center gap-5 group hover:scale-[1.02] transition-all",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-amber-50 text-amber-600 flex items-center justify-center group-hover:rotate-12 transition-transform",children:e.jsx(ha,{size:28})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Expiring Soon"}),e.jsxs("h4",{className:"text-2xl font-black text-slate-800",children:[p.expiringSoon," ",e.jsx("span",{className:"text-xs text-amber-500 font-bold ml-1",children:"NOTIFIED"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-[32px] p-6 border-b-4 border-slate-900 shadow-xl flex items-center gap-5 group hover:scale-[1.02] transition-all",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-slate-100 text-slate-900 flex items-center justify-center group-hover:rotate-12 transition-transform",children:e.jsx(sl,{size:28})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Manual Overrides"}),e.jsxs("h4",{className:"text-2xl font-black text-slate-800",children:[p.manualOverrides," ",e.jsx("span",{className:"text-xs text-slate-500 font-bold ml-1",children:"AUDITED"})]})]})]})]}),e.jsx(aw,{userRole:"MANAGER"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 pb-12",children:[e.jsx(rw,{equipment:u}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 p-4 md:p-6 hover:shadow-2xl transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6 pb-4 border-b border-slate-100",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-emerald-100 to-emerald-200 flex items-center justify-center text-emerald-600 shadow-md",children:e.jsx(Et,{size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Trainer Status"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Current availability and sessions"})]})]}),e.jsx("div",{className:"space-y-4",children:i.map(S=>e.jsxs("div",{className:"group flex items-center justify-between p-4 rounded-xl bg-slate-50/50 hover:bg-gradient-to-r hover:from-emerald-50/50 hover:to-emerald-100/50 border border-slate-100 hover:border-emerald-200 transition-all duration-300 hover:shadow-md",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-11 h-11 rounded-xl flex items-center justify-center text-white shadow-md transition-all duration-300 group-hover:scale-110 group-hover:rotate-6 ${S.status==="Available"?"bg-gradient-to-br from-emerald-500 to-emerald-600":"bg-gradient-to-br from-orange-500 to-orange-600"}`,children:e.jsx(rt,{size:20})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-slate-900 text-sm",children:S.name}),e.jsx("div",{className:"text-xs text-slate-500 font-medium",children:S.specialty})]})]}),e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-bold border shadow-sm transition-all duration-300 hover:scale-105 ${S.status==="Available"?"bg-gradient-to-r from-emerald-50 to-emerald-100 text-emerald-700 border-emerald-200":"bg-gradient-to-r from-orange-50 to-orange-100 text-orange-700 border-orange-200"}`,children:[e.jsx("span",{className:`inline-block w-2 h-2 rounded-full animate-pulse ${S.status==="Available"?"bg-emerald-500":"bg-orange-500"}`}),S.status]})]},S.id))})]})]}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-black text-slate-800 tracking-tight",children:"Daily Collection Summary"}),e.jsx("p",{className:"text-xs font-semibold text-slate-500 italic",children:"Real-time revenue tracking for today"})]}),e.jsxs("button",{onClick:()=>w("/finance/cashier"),className:"px-6 py-2.5 bg-emerald-500 text-white rounded-xl text-xs font-black uppercase tracking-widest hover:bg-emerald-600 transition-all shadow-lg shadow-emerald-200 flex items-center gap-2",children:[e.jsx(yn,{size:16}),"Receive Payment"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-[24px] md:rounded-[32px] p-4 md:p-6 border border-slate-100 shadow-xl flex items-center gap-4 md:gap-5 group hover:border-emerald-200 transition-all",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-emerald-50 text-emerald-500 flex items-center justify-center group-hover:scale-110 transition-transform",children:e.jsx(ca,{size:28})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Cash Collection"}),e.jsxs("h4",{className:"text-2xl font-black text-slate-800",children:["",d.collection.cash.toLocaleString()]})]})]}),e.jsxs("div",{className:"bg-white rounded-[24px] md:rounded-[32px] p-4 md:p-6 border border-slate-100 shadow-xl flex items-center gap-4 md:gap-5 group hover:border-violet-200 transition-all",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-violet-50 text-violet-500 flex items-center justify-center group-hover:scale-110 transition-transform",children:e.jsx(Vl,{size:28})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"UPI / QR Sales"}),e.jsxs("h4",{className:"text-2xl font-black text-slate-800",children:["",d.collection.upi.toLocaleString()]})]})]}),e.jsxs("div",{className:"bg-white rounded-[24px] md:rounded-[32px] p-4 md:p-6 border border-slate-100 shadow-xl flex items-center gap-4 md:gap-5 group hover:border-blue-200 transition-all",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-blue-50 text-blue-500 flex items-center justify-center group-hover:scale-110 transition-transform",children:e.jsx(Os,{size:28})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Card Payments"}),e.jsxs("h4",{className:"text-2xl font-black text-slate-800",children:["",d.collection.card.toLocaleString()]})]})]}),e.jsxs("div",{className:"bg-slate-900 rounded-[24px] md:rounded-[32px] p-4 md:p-6 shadow-xl flex items-center gap-4 md:gap-5 group hover:scale-[1.02] transition-all text-white border-2 border-slate-800",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-white/20 backdrop-blur-md flex items-center justify-center group-hover:rotate-12 transition-transform",children:e.jsx(yn,{size:28})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest",children:"Net Revenue Today"}),e.jsxs("h4",{className:"text-2xl font-black italic",children:["",(d.collection.cash+d.collection.upi+d.collection.card-d.expenses.today).toLocaleString()]})]})]})]})]}),e.jsx("div",{className:"mt-8",children:e.jsx(sw,{})}),e.jsxs("div",{className:"mt-8 bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-100 bg-emerald-50/20",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-emerald-100 to-emerald-200 flex items-center justify-center text-emerald-600 shadow-md",children:e.jsx(Je,{size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Branch Follow-ups Today"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Track all pending follow-ups for the branch"})]})]}),e.jsxs("button",{onClick:()=>w("/crm/followups"),className:"flex items-center gap-2 px-4 py-2 bg-white border border-slate-200 text-slate-600 rounded-xl text-sm font-bold hover:border-emerald-500 hover:text-emerald-600 transition-all shadow-sm",children:["View Full Pipeline ",e.jsx(vs,{size:16})]})]}),e.jsx("div",{className:"p-6",children:e.jsx(mg,{isWidget:!0})})]})]})},lw=[{id:"TXN-1001",member:"John Doe",type:"Membership",amount:15e3,date:"2025-02-13",status:"Completed",method:"UPI",branchId:"B001",receivedBy:"S-001",referenceNumber:"UPI882299"},{id:"TXN-1002",member:"Jane Smith",type:"POS - Whey Protein",amount:4500,date:"2025-02-13",status:"Completed",method:"Card",branchId:"B001",receivedBy:"S-001",referenceNumber:"CRD771100"},{id:"TXN-1003",member:"Mike Johnson",type:"Membership",amount:5e3,date:"2025-02-12",status:"Failed",method:"UPI",branchId:"B001",receivedBy:"S-002",referenceNumber:"UPI554433"},{id:"TXN-1004",member:"Sarah Williams",type:"Personal Training",amount:12e3,date:"2025-02-11",status:"Completed",method:"Cash",branchId:"B001",receivedBy:"S-001"},{id:"TXN-1005",member:"David Brown",type:"POS - Energy Drink",amount:150,date:"2025-02-10",status:"Completed",method:"UPI",branchId:"B001",receivedBy:"S-001",referenceNumber:"UPI112233"}],pd={revenue:{monthly:45e4,ytd:28e5,growth:"+12.5%"},expenses:{total:12e4,pending:15e3},dues:{total:45e3,count:8}},wA=[{id:"EXP-101",title:"Office Stationery",category:"Supplies",amount:450,date:"2025-02-13",paymentMethod:"Cash",vendor:"City Stationers",branchId:"B001",createdBy:"S-001",role:"Staff",createdAt:"2025-02-13T09:00:00Z",notes:"Pens and notebooks for desk"},{id:"EXP-102",title:"Water Cans (5 Nos)",category:"Utilities",amount:350,date:"2025-02-13",paymentMethod:"Cash",vendor:"ClearBlue Water",branchId:"B001",createdBy:"S-001",role:"Staff",createdAt:"2025-02-13T10:30:00Z"},{id:"EXP-103",title:"AC Filter Cleaning",category:"Maintenance",amount:2200,date:"2025-02-12",paymentMethod:"Card",vendor:"CoolAir Services",invoiceNumber:"INV-AC-992",branchId:"B001",createdBy:"M-001",role:"Manager",createdAt:"2025-02-12T14:20:00Z"},{id:"EXP-104",title:"Cleaning Supplies (Monthly)",category:"Cleaning",amount:4500,date:"2025-02-10",paymentMethod:"Bank Transfer",vendor:"EcoShop Ltd",invoiceNumber:"ECO-4411",branchId:"B001",createdBy:"A-001",role:"Branch Admin",createdAt:"2025-02-10T11:00:00Z",notes:"Stock for Feb month"},{id:"EXP-105",title:"Gym Rent - Feb",category:"Rent",amount:8e4,date:"2025-02-01",paymentMethod:"Bank Transfer",vendor:"Nexus Realty",branchId:"B001",createdBy:"A-001",role:"Branch Admin",createdAt:"2025-02-01T10:00:00Z",notes:"Monthly rent"}],NA=[{id:"INV-2024-001",invoiceNumber:"INV-2024-001",memberName:"Mike Johnson",serviceType:"Membership",totalAmount:15e3,paidAmount:15e3,balanceDue:0,status:"Paid",dueDate:"2025-02-10",issueDate:"2025-01-10",services:[{name:"Gold Membership - 3 Months",quantity:1,rate:15e3,amount:15e3}],paymentHistory:[{date:"2025-01-15",amount:15e3,method:"UPI",transactionId:"TXN-1001"}]},{id:"INV-2024-002",invoiceNumber:"INV-2024-002",memberName:"Emily Davis",serviceType:"PT",totalAmount:12e3,paidAmount:5e3,balanceDue:7e3,status:"Partial",dueDate:"2025-02-15",issueDate:"2025-01-15",services:[{name:"Personal Training Package - 10 Sessions",quantity:1,rate:12e3,amount:12e3}],paymentHistory:[{date:"2025-01-20",amount:5e3,method:"Card",transactionId:"TXN-1002"}]},{id:"INV-2024-003",invoiceNumber:"INV-2024-003",memberName:"Alex Wilson",serviceType:"Product",totalAmount:4500,paidAmount:0,balanceDue:4500,status:"Overdue",dueDate:"2025-01-25",issueDate:"2025-01-10",services:[{name:"Whey Protein (Gold Standard)",quantity:1,rate:4500,amount:4500}],paymentHistory:[]},{id:"INV-2024-004",invoiceNumber:"INV-2024-004",memberName:"Sarah Williams",serviceType:"Membership",totalAmount:8e3,paidAmount:8e3,balanceDue:0,status:"Paid",dueDate:"2025-02-20",issueDate:"2025-01-20",services:[{name:"Silver Membership - 1 Month",quantity:1,rate:8e3,amount:8e3}],paymentHistory:[{date:"2025-01-22",amount:8e3,method:"Cash",transactionId:"TXN-1003"}]},{id:"INV-2024-005",invoiceNumber:"INV-2024-005",memberName:"David Brown",serviceType:"PT",totalAmount:18e3,paidAmount:1e4,balanceDue:8e3,status:"Partial",dueDate:"2025-02-25",issueDate:"2025-01-25",services:[{name:"Personal Training Package - 15 Sessions",quantity:1,rate:18e3,amount:18e3}],paymentHistory:[{date:"2025-01-28",amount:1e4,method:"UPI",transactionId:"TXN-1004"}]},{id:"INV-2024-006",invoiceNumber:"INV-2024-006",memberName:"Lisa Anderson",serviceType:"Product",totalAmount:2500,paidAmount:0,balanceDue:2500,status:"Overdue",dueDate:"2025-01-30",issueDate:"2025-01-15",services:[{name:"BCAA Energy",quantity:1,rate:2200,amount:2200},{name:"Shaker Bottle",quantity:1,rate:300,amount:300}],paymentHistory:[]},{id:"INV-2024-007",invoiceNumber:"INV-2024-007",memberName:"Robert Taylor",serviceType:"Membership",totalAmount:25e3,paidAmount:25e3,balanceDue:0,status:"Paid",dueDate:"2025-03-01",issueDate:"2025-02-01",services:[{name:"Platinum Membership - 6 Months",quantity:1,rate:25e3,amount:25e3}],paymentHistory:[{date:"2025-02-02",amount:25e3,method:"NetBanking",transactionId:"TXN-1005"}]}],kA={stats:[{id:1,title:"Active Members",value:"0",icon:Et,trend:"...",color:"primary"},{id:2,title:"Classes Today",value:"0",icon:Ye,trend:"...",color:"success"},{id:3,title:"Payments Due",value:"0",icon:ps,trend:"...",color:"warning"}],attendance:[],financials:{collectionToday:0,pendingDuesAmount:0,localExpenses:0},equipmentStats:{totalAssets:0,operational:0,outOfOrder:0},tasksAndNotices:[]},SA=()=>{const t=Gt(),[s,r]=j.useState(kA),[l,i]=j.useState(!0);return j.useEffect(()=>{(async()=>{try{const x=(await we.get("/dashboard/manager")).data;r(u=>({...u,stats:[{...u.stats[0],value:x.activeMembers?.toString()||"0"},{...u.stats[1],value:x.classesToday?.toString()||"0"},{...u.stats[2],value:x.paymentsDue?.toString()||"0"}],attendance:x.attendance||u.attendance,financials:{collectionToday:x.collectionToday||0,pendingDuesAmount:x.pendingDuesAmount||0,localExpenses:x.localExpenses||0},equipmentStats:x.equipmentStats||{totalAssets:0,operational:0,outOfOrder:0},tasksAndNotices:x.tasksAndNotices||[]}))}catch(d){console.error("Failed to fetch manager dashboard:",d)}finally{i(!1)}})()},[]),l?e.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-6rem)]",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-violet-600 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"text-slate-500 font-medium animate-pulse uppercase tracking-[0.2em] text-[10px]",children:"Accessing Manager Intelligence..."})]})}):e.jsxs("div",{className:"fade-in",children:[e.jsx("h2",{className:"text-title",style:{marginBottom:"var(--space-4)"},children:"Manager Dashboard"}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-emerald-50 text-emerald-600 rounded-lg",children:e.jsx(yn,{size:18,strokeWidth:2.5})}),e.jsx("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-wider",children:"Revenue Protection Today"})]}),e.jsxs("button",{onClick:()=>t("/finance/transactions"),className:"text-[10px] font-black text-violet-600 hover:text-violet-700 flex items-center gap-1 uppercase tracking-widest bg-violet-50 px-3 py-1.5 rounded-lg transition-all",children:["View Audit Log ",e.jsx(bl,{size:10})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-2xl p-5 border border-slate-100 shadow-sm hover:shadow-md transition-all group overflow-hidden relative",children:[e.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-emerald-50/50 rounded-bl-full -mr-10 -mt-10 group-hover:bg-emerald-100/50 transition-colors"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 mb-1 uppercase tracking-widest",children:"Today's Collection"}),e.jsxs("h4",{className:"text-2xl font-black text-slate-800 flex items-center gap-1",children:[e.jsx("span",{className:"text-emerald-500 font-bold",children:""}),s.financials?.collectionToday.toLocaleString()]}),e.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[e.jsxs("span",{className:"px-2 py-0.5 bg-emerald-50 text-emerald-600 text-[9px] font-black rounded-md flex items-center gap-1",children:[e.jsx(Ks,{size:10})," Healthy"]}),e.jsx("span",{className:"text-[9px] font-bold text-slate-400 italic",children:"Cash + Digital"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-5 border border-slate-100 shadow-sm hover:shadow-md transition-all group overflow-hidden relative",children:[e.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-amber-50/50 rounded-bl-full -mr-10 -mt-10 group-hover:bg-amber-100/50 transition-colors"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 mb-1 uppercase tracking-widest",children:"Pending Dues"}),e.jsxs("h4",{className:"text-2xl font-black text-slate-800 flex items-center gap-1",children:[e.jsx("span",{className:"text-amber-500 font-bold",children:""}),s.financials?.pendingDuesAmount.toLocaleString()]}),e.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[e.jsxs("span",{className:"px-2 py-0.5 bg-amber-50 text-amber-600 text-[9px] font-black rounded-md",children:[s.stats.find(o=>o.title==="Payments Due")?.value," Invoices"]}),e.jsx("button",{onClick:()=>t("/finance/invoices"),className:"text-[9px] font-black text-violet-600 underline",children:"Send Reminders"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-5 border border-slate-100 shadow-sm hover:shadow-md transition-all group overflow-hidden relative",children:[e.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-blue-50/50 rounded-bl-full -mr-10 -mt-10 group-hover:bg-blue-100/50 transition-colors"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 mb-1 uppercase tracking-widest",children:"Local Expenses"}),e.jsxs("h4",{className:"text-2xl font-black text-slate-800 flex items-center gap-1",children:[e.jsx("span",{className:"text-blue-500 font-bold",children:""}),s.financials?.localExpenses.toLocaleString()]}),e.jsx("div",{className:"mt-2 flex items-center gap-2",children:e.jsx("button",{onClick:()=>t("/finance/petty-cash"),className:"px-3 py-1 bg-slate-900 text-white text-[9px] font-black rounded-lg hover:bg-black transition-all",children:"Log Expense"})})]})]})]})]}),e.jsx(iu,{children:s.stats.map(o=>e.jsx(Gn,{...o},o.id))}),e.jsx("div",{className:"mt-8",children:e.jsx(rw,{equipmentStats:s.equipmentStats})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mt-6 sm:mt-8",children:[e.jsxs("div",{className:"relative bg-white rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6 hover:shadow-2xl transition-all duration-300 overflow-hidden group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50/30 via-purple-50/20 to-blue-50/30 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6 pb-4 border-b border-slate-100",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-lg sm:rounded-xl bg-gradient-to-br from-violet-500 via-purple-500 to-fuchsia-500 flex items-center justify-center text-white shadow-lg transition-all duration-300 group-hover:scale-110 group-hover:rotate-6",children:e.jsx(qr,{size:20,className:"sm:w-[22px] sm:h-[22px]",strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-x-2 gap-y-1",children:[e.jsx("h3",{className:"text-base sm:text-lg font-black text-slate-900",children:"Today's Classes"}),e.jsx("span",{className:"px-1.5 sm:px-2 py-0.5 bg-gradient-to-r from-violet-500 to-purple-600 text-white text-[9px] sm:text-[10px] font-black rounded sm:rounded-md shadow-sm animate-pulse whitespace-nowrap",children:"PREMIUM "})]}),e.jsx("p",{className:"text-[10px] sm:text-xs text-slate-500 font-semibold",children:"Scheduled classes and capacity"})]})]}),e.jsxs("button",{onClick:()=>t("/classes"),className:"px-3 sm:px-4 py-1.5 sm:py-2 bg-gradient-to-r from-violet-500 to-purple-600 text-white rounded-lg sm:rounded-xl text-[10px] sm:text-xs font-bold shadow-lg shadow-violet-500/50 hover:shadow-xl hover:shadow-violet-500/60 hover:scale-105 transition-all flex items-center gap-1.5 sm:gap-2 flex-shrink-0",children:["View Schedule ",e.jsx(bl,{size:12,className:"sm:w-[14px] sm:h-[14px]"})]})]}),e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[s.attendance.map((o,d)=>{const x=o.attendees/o.capacity*100,h=[{gradient:"from-violet-500 via-purple-500 to-fuchsia-500",bgColor:"from-violet-50 to-purple-50"},{gradient:"from-orange-500 via-red-500 to-pink-500",bgColor:"from-orange-50 to-red-50"}][d%2];return e.jsxs("div",{className:"group/class relative p-4 sm:p-5 rounded-xl sm:rounded-2xl bg-gradient-to-r from-slate-50/80 to-white border-2 border-slate-100 hover:border-violet-300 transition-all duration-300 hover:shadow-xl overflow-hidden",children:[e.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${h.bgColor} opacity-0 group-hover/class:opacity-100 transition-opacity duration-300`}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3 sm:mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 sm:w-12 sm:h-12 rounded-lg sm:rounded-xl bg-gradient-to-br ${h.gradient} flex items-center justify-center text-white shadow-lg transition-all duration-300 group-hover/class:scale-110 group-hover/class:rotate-12`,children:e.jsx(qr,{size:20,className:"sm:w-[22px] sm:h-[22px]",strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-black text-slate-900 text-sm sm:text-base",children:o.name}),e.jsxs("div",{className:"text-[10px] sm:text-xs text-slate-500 font-bold flex items-center gap-1 sm:gap-1.5 mt-0.5 sm:mt-1",children:[e.jsx(Je,{size:12,className:"text-violet-500 sm:w-[13px] sm:h-[13px]"}),o.time]})]})]}),e.jsxs("div",{className:`px-3 sm:px-4 py-1.5 sm:py-2 rounded-lg sm:rounded-xl bg-gradient-to-r ${h.gradient} text-white text-[10px] sm:text-xs font-black shadow-lg`,children:[o.attendees," / ",o.capacity]})]}),e.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[e.jsx("div",{className:"w-full bg-slate-200 h-2.5 sm:h-3 rounded-full overflow-hidden shadow-inner",children:e.jsx("div",{className:`bg-gradient-to-r ${h.gradient} h-full rounded-full transition-all duration-700 shadow-lg relative overflow-hidden`,style:{width:`${x}%`},children:e.jsx("div",{className:"absolute inset-0 bg-white/20 animate-pulse"})})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("p",{className:"text-[10px] sm:text-xs text-slate-600 font-bold",children:[x.toFixed(0),"% Capacity"]}),e.jsx("span",{className:`text-[10px] sm:text-xs font-black ${x>=90?"text-red-600":x>=70?"text-orange-600":"text-emerald-600"}`,children:x>=90?"Almost Full":x>=70?"Filling Fast":"Available"})]})]})]})]},o.id)}),s.attendance.length===0&&e.jsx("div",{className:"p-4 text-center text-slate-500 font-semibold text-sm",children:"No classes scheduled today."})]})]})]}),e.jsxs("div",{className:"relative bg-white rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6 hover:shadow-2xl transition-all duration-300 overflow-hidden group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-50/30 via-orange-50/20 to-red-50/30 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6 pb-4 border-b border-slate-100",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-lg sm:rounded-xl bg-gradient-to-br from-violet-500 via-purple-500 to-fuchsia-500 flex items-center justify-center text-white shadow-lg transition-all duration-300 group-hover:scale-110 group-hover:rotate-6",children:e.jsx(vl,{size:20,className:"sm:w-[22px] sm:h-[22px] animate-pulse",strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-x-2 gap-y-1",children:[e.jsx("h3",{className:"text-base sm:text-lg font-black text-slate-900",children:"Tasks & Notices"}),e.jsx("span",{className:"px-1.5 sm:px-2 py-0.5 bg-gradient-to-r from-violet-500 to-purple-600 text-white text-[9px] sm:text-[10px] font-black rounded sm:rounded-md shadow-sm animate-pulse whitespace-nowrap",children:"PREMIUM "})]}),e.jsx("p",{className:"text-[10px] sm:text-xs text-slate-500 font-semibold",children:"Important updates and reminders"})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("span",{className:"inline-flex items-center gap-1 sm:gap-1.5 px-2.5 sm:px-3 py-1 sm:py-1.5 rounded-lg sm:rounded-xl bg-gradient-to-r from-red-500 to-red-600 text-white text-[10px] sm:text-xs font-black shadow-lg shadow-red-500/50",children:[s.tasksAndNotices.length," Pending"]})})]}),e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[s.tasksAndNotices.map(o=>{const d=o.type==="urgent",x=d?{bg:"red",icon:Lr,txt:"red",border:"red-500"}:{bg:"blue",icon:Et,txt:"blue",border:"blue-500"},u=x.icon;return e.jsxs("div",{className:`group/task relative p-4 sm:p-5 rounded-xl sm:rounded-2xl bg-gradient-to-r from-${x.bg}-50 via-${x.bg}-50/50 to-white border-l-4 border-${x.border} hover:shadow-2xl transition-all duration-300 overflow-hidden`,children:[e.jsx("div",{className:`absolute inset-0 bg-gradient-to-r from-${x.bg}-100/50 to-transparent opacity-0 group-hover/task:opacity-100 transition-opacity duration-300`}),e.jsxs("div",{className:"relative z-10 flex items-start gap-3 sm:gap-4",children:[e.jsx("div",{className:`w-10 h-10 sm:w-12 sm:h-12 rounded-lg sm:rounded-xl bg-gradient-to-br from-${x.bg}-500 via-${x.bg}-600 to-${x.bg}-700 flex items-center justify-center text-white shadow-xl transition-all duration-300 group-hover/task:scale-110 group-hover/task:rotate-12`,children:e.jsx(u,{size:20,className:"sm:w-[22px] sm:h-[22px]",strokeWidth:2.5})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between mb-1.5 sm:mb-2",children:[e.jsx("h4",{className:`font-black text-${x.txt}-900 text-sm sm:text-base`,children:o.title}),e.jsx("span",{className:`px-2 sm:px-3 py-0.5 sm:py-1 bg-gradient-to-r from-${x.bg}-500 to-${x.bg}-600 text-white rounded-lg sm:rounded-xl text-[10px] sm:text-xs font-black shadow-lg uppercase`,children:d?"Urgent":"Notice"})]}),e.jsx("p",{className:`text-xs sm:text-sm text-${x.txt}-800 font-semibold mb-2 sm:mb-3`,children:o.description}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("div",{className:`flex items-center gap-1 sm:gap-1.5 px-2 sm:px-3 py-1 sm:py-1.5 bg-white/80 backdrop-blur-sm rounded-md sm:rounded-lg border border-${x.bg}-200`,children:[e.jsx(Je,{size:12,className:`text-${x.txt}-500 sm:w-[13px] sm:h-[13px]`}),e.jsx("span",{className:`text-[10px] sm:text-xs text-${x.txt}-700 font-bold`,children:o.dueDate})]})})]})]})]},o.id)}),s.tasksAndNotices.length===0&&e.jsx("div",{className:"p-4 text-center text-slate-500 font-semibold text-sm",children:"No pending tasks or notices."})]}),e.jsx("div",{className:"mt-4 sm:mt-6 pt-3 sm:pt-4 border-t border-slate-100",children:e.jsxs("button",{onClick:()=>t("/facility/maintenance"),className:"w-full py-2.5 sm:py-3 bg-gradient-to-r from-violet-500 to-purple-600 text-white rounded-lg sm:rounded-xl text-[10px] sm:text-xs font-black uppercase tracking-widest shadow-xl shadow-violet-500/50 hover:shadow-2xl hover:shadow-violet-500/60 hover:scale-105 transition-all flex items-center justify-center gap-1.5 sm:gap-2",children:["View All Tasks ",e.jsx(bl,{size:12,className:"sm:w-[14px] sm:h-[14px]"})]})})]})]})]})]})},CA=({tickets:t=[]})=>{const s=Gt(),r=t.filter(o=>o.status!=="Completed"&&o.status!=="Closed").length,l=t.filter(o=>o.severity==="Critical"&&o.status!=="Completed"&&o.status!=="Closed"),i=l.length;return e.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-sm border border-slate-200 h-full flex flex-col",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-red-50 text-red-600 flex items-center justify-center",children:e.jsx(Lr,{size:24})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-black text-slate-800 tracking-tight",children:"Equipment Alerts"}),e.jsx("p",{className:"text-slate-400 text-xs font-medium",children:"Active maintenance tickets"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-2xl bg-slate-50 border border-slate-100 mb-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-none",children:"Total Open"}),e.jsx("p",{className:"text-2xl font-black text-slate-800 mt-2",children:r})]}),e.jsx("div",{className:"h-10 w-1 bg-slate-200 rounded-full"}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-[10px] font-black text-red-400 uppercase tracking-widest leading-none",children:"Critical"}),e.jsx("p",{className:"text-2xl font-black text-red-600 mt-2",children:i})]})]}),e.jsxs("div",{className:"flex-1 space-y-3 mb-6",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Critical Issues"}),l.length>0?l.slice(0,3).map(o=>e.jsxs("div",{className:"p-3 rounded-xl bg-red-50/50 border border-red-100/50 flex items-center justify-between group cursor-pointer hover:bg-red-50 transition-all",onClick:()=>s("/facility/maintenance"),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-red-100 text-red-600 flex items-center justify-center font-bold text-[10px]",children:o.id.split("-")[1]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-slate-800 leading-none",children:o.equipment}),e.jsx("p",{className:"text-[10px] text-red-500 font-medium mt-1",children:o.issueType})]})]}),e.jsx(bl,{size:14,className:"text-red-300 group-hover:translate-x-1 transition-all"})]},o.id)):e.jsx("div",{className:"p-4 rounded-xl border-2 border-dashed border-slate-100 text-center",children:e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"No critical issues"})})]}),e.jsxs("button",{onClick:()=>s("/facility/maintenance"),className:"w-full bg-slate-900 text-white py-4 rounded-2xl font-black text-xs uppercase tracking-widest flex items-center justify-center gap-2 hover:bg-slate-800 transition-all shadow-xl shadow-slate-200",children:["View Maintenance Board",e.jsx(bl,{size:16})]})]})},AA=["Not Working","Electrical Issue","Noise/Vibration","Physical Damage","Safety Risk","Other"],nw=[{label:"Low",value:"Low",color:"blue"},{label:"Medium",value:"Medium",color:"amber"},{label:"High",value:"High",color:"orange"},{label:"Critical",value:"Critical",color:"red"}],lh=[{label:"Open",value:"Open",color:"red"},{label:"In Progress",value:"In Progress",color:"amber"},{label:"Waiting for Parts",value:"Waiting for Parts",color:"blue"},{label:"Completed",value:"Completed",color:"emerald"},{label:"Closed",value:"Closed",color:"slate"}],MA={stats:[{id:1,title:"Check-ins Today",value:"0",icon:ss,color:"primary"},{id:2,title:"Pending Payments",value:"0",icon:yn,color:"warning"},{id:3,title:"New Enquiries",value:"0",icon:Et,color:"success"}],checkins:[],activeUpdates:0,todayShift:"...",assignedTasks:0,highPriorityTasks:0,upcomingClasses:0,collectionToday:0,pendingActions:[]},DA=()=>{const t=Gt(),[s,r]=j.useState(MA),[l,i]=j.useState(!0);if(j.useEffect(()=>{(async()=>{try{const u=(await we.get("/dashboard/staff")).data;r(h=>({...h,stats:[{...h.stats[0],value:u.checkinsToday?.toString()||"0"},{...h.stats[1],value:u.pendingPayments?.toString()||"0"},{...h.stats[2],value:u.newEnquiries?.toString()||"0"}],activeUpdates:u.activeUpdates,todayShift:u.todayShift,assignedTasks:u.assignedTasks,highPriorityTasks:u.highPriorityTasks,upcomingClasses:u.upcomingClasses,collectionToday:u.collectionToday,equipmentAlerts:u.equipmentAlerts,pendingActions:u.pendingActions,renewalAlerts:u.renewalAlerts,checkins:u.checkins||h.checkins}))}catch(x){console.error("Failed to fetch staff dashboard:",x)}finally{i(!1)}})()},[]),l)return e.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-6rem)]",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-violet-600 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"text-slate-500 font-medium animate-pulse uppercase tracking-[0.2em] text-[10px]",children:"Veriving Operational Protocols..."})]})});const o=[{id:1,label:"Active Updates",value:s.activeUpdates!==void 0?s.activeUpdates.toString():"24",trend:"+12%",trendUp:!0,icon:Wt,color:"violet",gradient:"from-violet-500 to-purple-600"},{id:2,label:"Today's Shift",value:s.todayShift||"09:00 - 17:00",subtext:"Next: Tomorrow 09:00",icon:Je,color:"emerald",gradient:"from-emerald-400 to-emerald-600"},{id:3,label:"Assigned Tasks",value:s.assignedTasks!==void 0?s.assignedTasks.toString():"5",subtext:`${s.highPriorityTasks!==void 0?s.highPriorityTasks:"2"} High Priority`,icon:ss,color:"amber",gradient:"from-amber-400 to-orange-500"},{id:4,label:"Upcoming Classes",value:s.upcomingClasses!==void 0?s.upcomingClasses.toString():"3",subtext:"Next in 45m",icon:Ye,color:"blue",gradient:"from-blue-400 to-indigo-600"}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6 animate-fadeIn",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6 flex-shrink-0",children:e.jsx(gd,{size:24,className:"sm:w-7 sm:h-7",strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Staff Dashboard"}),e.jsx("span",{className:"px-2 py-0.5 bg-gradient-to-r from-violet-500 to-purple-600 text-white text-[10px] font-black rounded-md shadow-sm animate-pulse whitespace-nowrap",children:"PREMIUM "})]}),e.jsx("p",{className:"text-slate-600 text-xs sm:text-sm mt-1",children:"Overview of your daily tasks and gym activity"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("button",{onClick:()=>t("/staff/attendance/check-in"),className:"flex items-center justify-center gap-2 px-5 py-3 bg-white border-2 border-slate-200 text-slate-700 rounded-xl text-sm font-bold shadow-sm hover:border-violet-500 hover:text-violet-600 hover:shadow-md transition-all duration-300",children:[e.jsx(Je,{size:18,strokeWidth:2.5})," Clock In"]}),e.jsxs("button",{onClick:()=>t("/staff/attendance/check-in"),className:"flex items-center justify-center gap-2 px-5 py-3 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-xl text-sm font-bold shadow-xl shadow-violet-500/50 hover:shadow-2xl hover:shadow-violet-500/60 hover:scale-105 transition-all",children:[e.jsx(yl,{size:18,strokeWidth:2.5})," Member Check-in"]})]})]})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-8",children:o.map(d=>e.jsxs("div",{className:"group relative bg-white rounded-2xl p-6 shadow-lg border border-slate-100 hover:shadow-xl hover:border-violet-100 transition-all duration-300 hover:-translate-y-1 overflow-hidden",children:[e.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${d.gradient} opacity-0 group-hover:opacity-5 transition-opacity duration-300`}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("div",{className:`p-3 rounded-xl bg-${d.color}-50 text-${d.color}-600 group-hover:scale-110 transition-transform duration-300`,children:e.jsx(d.icon,{size:24,strokeWidth:2.5})}),d.trend&&e.jsx("span",{className:`flex items-center text-xs font-bold ${d.trendUp?"text-emerald-500":"text-red-500"} bg-${d.trendUp?"emerald":"red"}-50 px-2 py-1 rounded-lg`,children:d.trend})]}),e.jsx("h3",{className:"text-slate-500 text-xs font-black uppercase tracking-widest mb-1",children:d.label}),e.jsx("div",{className:"text-2xl font-black text-slate-800 mb-1",children:d.value}),d.subtext&&e.jsx("div",{className:"text-xs font-medium text-slate-400",children:d.subtext})]})]},d.id))}),e.jsx(aw,{userRole:"STAFF",checkinsData:s.checkins}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6 sm:gap-8 auto-rows-min",children:[e.jsxs("div",{className:"bg-white rounded-3xl shadow-xl border border-slate-100 overflow-hidden h-fit",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 bg-emerald-50/30 flex justify-between items-center",children:[e.jsxs("h3",{className:"text-lg font-black text-slate-800 flex items-center gap-2",children:[e.jsx(Je,{size:20,className:"text-emerald-500"})," CRM Follow-ups"]}),e.jsx("button",{onClick:()=>t("/crm/followups"),className:"text-xs font-bold text-emerald-600 hover:text-emerald-700",children:"View All"})]}),e.jsx("div",{className:"p-4",children:e.jsx(mg,{isWidget:!0})})]}),e.jsx(CA,{tickets:s.equipmentAlerts||[]}),e.jsxs("div",{className:"bg-gradient-to-br from-emerald-600 to-teal-700 rounded-3xl shadow-xl p-8 text-white relative overflow-hidden group h-fit",children:[e.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10 translate-x-1/4 -translate-y-1/4 group-hover:scale-125 transition-transform duration-700",children:e.jsx(ca,{size:150})}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-white/20 backdrop-blur-md flex items-center justify-center",children:e.jsx(yn,{size:24})}),e.jsx("h3",{className:"text-lg font-black uppercase tracking-widest",children:"My Collection Today"})]}),e.jsxs("div",{className:"mb-4 sm:mb-8",children:[e.jsx("p",{className:"text-xs font-bold uppercase tracking-[0.2em] opacity-60 mb-2",children:"Total Received Today"}),e.jsxs("h4",{className:"text-4xl sm:text-5xl font-black italic tracking-tighter",children:["",s.collectionToday!==void 0?s.collectionToday.toLocaleString():"8,450"]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("button",{onClick:()=>t("/finance/cashier"),className:"flex-1 py-4 bg-white text-emerald-700 rounded-2xl text-xs font-black uppercase tracking-widest shadow-xl hover:shadow-white/20 active:scale-95 transition-all flex items-center justify-center gap-2",children:[e.jsx(Wa,{size:18}),"New Receipt"]}),e.jsxs("button",{onClick:()=>t("/finance/petty-cash"),className:"flex-1 py-4 bg-emerald-500 text-white border border-emerald-400 rounded-2xl text-xs font-black uppercase tracking-widest shadow-xl hover:bg-emerald-400 active:scale-95 transition-all flex items-center justify-center gap-2",children:[e.jsx(ca,{size:18}),"Log Expense"]})]})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsx(sw,{alertsData:s.renewalAlerts}),e.jsxs("div",{className:"bg-white rounded-3xl shadow-xl border border-slate-100 overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-slate-100 bg-slate-50/30",children:e.jsxs("h3",{className:"text-lg font-black text-slate-800 flex items-center gap-2",children:[e.jsx(Lr,{size:20,className:"text-amber-500"})," Pending Actions"]})}),e.jsxs("div",{className:"p-6 space-y-4",children:[s.pendingActions&&s.pendingActions.map((d,x)=>e.jsxs("div",{className:`group flex items-center justify-between p-4 rounded-2xl bg-white border border-slate-200 shadow-sm transition-all duration-300 cursor-pointer ${d.type==="Payment"?"hover:border-amber-300 hover:shadow-md":"hover:border-blue-300 hover:shadow-md"}`,children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`p-3 rounded-xl ${d.type==="Payment"?"bg-red-50 text-red-500":"bg-blue-50 text-blue-500"}`,children:d.type==="Payment"?e.jsx(Je,{size:20,strokeWidth:2.5}):e.jsx(yl,{size:20,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-slate-800 text-sm",children:d.title}),e.jsx("div",{className:"text-xs font-medium text-slate-500",children:d.subtitle})]})]}),e.jsx(vs,{size:18,className:"text-slate-300 group-hover:translate-x-1 transition-all"})]},x)),(!s.pendingActions||s.pendingActions.length===0)&&e.jsx("div",{className:"text-center py-4 text-slate-400 text-sm italic font-medium",children:"No pending actions for now!"}),e.jsx("button",{onClick:()=>t("/staff/tasks/my-tasks"),className:"w-full mt-2 py-4 bg-slate-50 text-slate-600 rounded-2xl text-xs font-black uppercase tracking-widest border border-slate-200 hover:bg-violet-50 hover:text-violet-600 hover:border-violet-200 transition-all",children:"View All Tasks"})]})]})]})]})]})},at=({isOpen:t,onClose:s,title:r,subtitle:l,children:i,footer:o,maxWidth:d="max-w-xl"})=>{const[x,u]=j.useState(!1);return j.useEffect(()=>{if(t)document.body.style.overflow="hidden",u(!0);else{const h=setTimeout(()=>{u(!1),document.body.style.overflow="unset"},300);return()=>clearTimeout(h)}},[t]),!t&&!x?null:e.jsxs("div",{className:`fixed inset-0 z-[60000] overflow-hidden transition-opacity duration-300 ${t?"opacity-100":"opacity-0 pointer-events-none"}`,children:[e.jsx("div",{className:"absolute inset-0 bg-slate-900/40 backdrop-blur-sm transition-opacity",onClick:s}),e.jsx("div",{className:"fixed inset-y-0 right-0 flex max-w-full h-screen",children:e.jsxs("div",{className:`relative w-screen ${d} h-full transform transition-transform duration-300 ease-in-out shadow-2xl flex flex-col bg-white border-l border-slate-100 ${t?"translate-x-0":"translate-x-full"}`,children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-100 bg-slate-50/50 shrink-0",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-violet-600 to-purple-600 bg-clip-text text-transparent",children:r}),l&&e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider mt-0.5",children:l})]}),e.jsx("button",{onClick:s,className:"p-2 rounded-full text-slate-400 hover:text-slate-600 hover:bg-slate-100 transition-all duration-200",children:e.jsx(wl,{size:20})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-thin",children:i}),o&&e.jsx("div",{className:"px-6 py-4 border-t border-slate-100 bg-white sticky bottom-0",children:o})]})})]})},LA={stats:[{id:1,title:"Total Members",value:"0",icon:Et,color:"primary"},{id:2,title:"Sessions Today",value:"0",icon:Ye,color:"success"},{id:3,title:"Pending Plans",value:"0",icon:Wt,color:"warning"}],todaySessions:{summary:{total:0,upcoming:0,completed:0},list:[]},myClients:[],pendingTasks:[],earnings:{totalEarnings:0,commission:0,salary:0,target:0,pendingPayouts:0},myAttendance:{presentDays:0,lateDays:0,absentDays:0,attendanceRate:0}},zA=()=>{const t=Gt(),[s,r]=j.useState(LA),[l,i]=j.useState(!0),[o,d]=j.useState(null),[x,u]=j.useState(!1),[h,p]=j.useState(!1),[g,y]=j.useState(!1),[f,w]=j.useState(null),[S,v]=j.useState(!1);j.useEffect(()=>{(async()=>{try{const R=(await we.get("/dashboard/trainer")).data;r(W=>({...W,stats:[{...W.stats[0],value:R.totalMembers.toString()},{...W.stats[1],value:R.sessionsToday.toString()},{...W.stats[2],value:R.pendingPlans.toString()}],todaySessions:R.todaySessions,myClients:R.myClients,pendingTasks:R.pendingTasks||[],myAttendance:{...W.myAttendance,...R.myAttendance},earnings:R.earnings||W.earnings}))}catch(P){console.error("Failed to fetch trainer dashboard:",P)}finally{i(!1)}})()},[]);const N=s.myClients?.filter(B=>B.daysSinceLastVisit>=10)||[];if(l)return e.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-6rem)]",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-violet-600 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"text-slate-500 font-medium animate-pulse uppercase tracking-[0.2em] text-[10px]",children:"Loading Trainer Session Environment..."})]})});const A=B=>{d(B),u(!0)},L=B=>{w(B),v(!0)},M=()=>o?e.jsx(at,{isOpen:x,onClose:()=>u(!1),title:"Session Details",subtitle:`${o.type} - ${o.time}`,footer:e.jsx("div",{className:"flex gap-3",children:e.jsxs("button",{className:"flex-1 py-2.5 bg-indigo-600 text-white rounded-lg text-sm font-bold shadow-md hover:bg-indigo-700 transition-all flex items-center justify-center gap-2",children:[e.jsx(ss,{size:18}),"Mark Complete"]})}),children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-4 bg-indigo-50/50 rounded-2xl border border-indigo-100 flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white rounded-xl shadow-sm flex items-center justify-center text-indigo-600 font-bold text-xl",children:o.name.charAt(0)}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:o.name}),e.jsxs("p",{className:"text-xs text-indigo-600 font-bold uppercase tracking-wider",children:[o.type," Session"]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gray-50 flex items-center justify-center text-gray-400",children:e.jsx(Je,{size:16})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-tight",children:"Time"}),e.jsx("p",{className:"text-sm font-bold text-gray-800",children:o.time})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gray-50 flex items-center justify-center text-gray-400",children:e.jsx($s,{size:16})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-tight",children:"Location"}),e.jsx("p",{className:"text-sm font-bold text-gray-800",children:o.location||"Not Specified"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gray-50 flex items-center justify-center text-gray-400",children:e.jsx(ps,{size:16})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-tight",children:"Status"}),e.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-bold border inline-block ${o.status==="Completed"?"bg-emerald-50 text-emerald-700 border-emerald-100":o.status==="Upcoming"?"bg-amber-50 text-amber-700 border-amber-100":"bg-red-50 text-red-700 border-red-100"}`,children:o.status})]})]})]}),e.jsx("hr",{className:"border-gray-100"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h4",{className:"font-bold text-gray-800 text-sm flex items-center gap-2",children:[e.jsx(sr,{size:16,className:"text-indigo-600"}),"Session Notes"]}),e.jsx("textarea",{className:"w-full p-4 bg-gray-50 border border-gray-200 rounded-xl text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none transition-all placeholder:text-gray-400 min-h-[120px]",placeholder:"Add notes about the session or client feedback..."}),e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-indigo-50 text-indigo-700 rounded-lg text-xs font-bold hover:bg-indigo-100 transition-all ml-auto",children:[e.jsx(xa,{size:14}),"Save Notes"]})]})]})}):null,T=()=>s.earnings?e.jsx(at,{isOpen:h,onClose:()=>p(!1),title:"Earnings Details",subtitle:"This Month Performance",footer:e.jsx("div",{className:"flex gap-3",children:e.jsx("button",{className:"flex-1 py-2.5 bg-gray-50 border border-gray-200 text-gray-700 rounded-lg text-sm font-bold hover:bg-gray-100 transition-all flex items-center justify-center gap-2",children:"Download Statement"})}),children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-5 bg-indigo-600 rounded-2xl text-white shadow-lg relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:e.jsx(Vn,{size:80})}),e.jsx("p",{className:"text-[10px] font-bold opacity-80 uppercase tracking-widest mb-1",children:"Total Fixed + Commission"}),e.jsxs("h3",{className:"text-3xl font-black",children:["",s.earnings.totalEarnings.toLocaleString()]}),e.jsxs("p",{className:"text-[10px] mt-2 opacity-70 font-medium italic",children:["Calculated for ",new Date().toLocaleString("default",{month:"long"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 px-1",children:[e.jsx($0,{size:16,className:"text-indigo-600"}),e.jsx("h4",{className:"text-sm font-bold text-gray-800",children:"Earnings Breakdown"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-50 rounded-xl border border-gray-100",children:[e.jsx("span",{className:"text-xs font-bold text-gray-600",children:"Base Salary"}),e.jsxs("span",{className:"text-sm font-black text-gray-900",children:["",s.earnings.salary.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-50 rounded-xl border border-gray-100",children:[e.jsx("span",{className:"text-xs font-bold text-gray-600",children:"Commission"}),e.jsxs("span",{className:"text-sm font-black text-indigo-600",children:["",s.earnings.commission.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between items-center p-4 bg-indigo-50 border border-indigo-100 rounded-xl",children:[e.jsx("span",{className:"text-xs font-bold text-indigo-700",children:"Total Calculation"}),e.jsxs("span",{className:"text-sm font-black text-indigo-700",children:["",s.earnings.totalEarnings.toLocaleString()]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-end px-1",children:[e.jsx("h4",{className:"text-xs font-bold text-gray-800",children:"Target Progress"}),e.jsxs("span",{className:"text-[10px] font-extrabold text-indigo-600 bg-indigo-50 px-2 py-0.5 rounded-full",children:[Math.round(s.earnings.totalEarnings/s.earnings.target*100),"%"]})]}),e.jsx("div",{className:"h-2 w-full bg-gray-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-indigo-600 rounded-full transition-all duration-1000",style:{width:`${s.earnings.totalEarnings/s.earnings.target*100}%`}})}),e.jsxs("div",{className:"flex justify-between text-[10px] text-gray-400 font-bold uppercase tracking-tight",children:[e.jsxs("span",{children:["Progress: ",s.earnings.totalEarnings.toLocaleString()]}),e.jsxs("span",{children:["Target: ",s.earnings.target.toLocaleString()]})]})]}),e.jsxs("div",{className:"p-4 bg-emerald-50 rounded-xl border border-emerald-100",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-6 h-6 rounded bg-emerald-100 flex items-center justify-center text-emerald-600",children:e.jsx(ss,{size:14})}),e.jsx("span",{className:"text-xs font-bold text-emerald-800 uppercase tracking-tighter",children:"Verified Payout"})]}),e.jsx("p",{className:"text-[10px] text-emerald-700 font-medium mb-1",children:"Approved commission for this month:"}),e.jsxs("p",{className:"text-lg font-black text-emerald-800",children:["",s.earnings.pendingPayouts.toLocaleString()]})]})]})}):null,_=()=>s.myAttendance?e.jsx(at,{isOpen:g,onClose:()=>y(!1),title:"Attendance History",subtitle:"Full Month Overview",footer:e.jsx("button",{className:"w-full py-2.5 bg-gray-50 border border-gray-200 text-gray-700 rounded-lg text-sm font-bold hover:bg-gray-100 transition-all",children:"Correction Request"}),children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between px-1",children:[e.jsx("h4",{className:"font-extrabold text-gray-900 text-sm",children:"February 2026"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{className:"p-1 hover:bg-gray-100 rounded text-gray-400",children:e.jsx(vs,{size:16,className:"rotate-180"})}),e.jsx("button",{className:"p-1 hover:bg-gray-100 rounded text-gray-400",children:e.jsx(vs,{size:16})})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{className:"p-3 bg-emerald-50 border border-emerald-100 rounded-xl text-center",children:[e.jsx("p",{className:"text-[10px] font-bold text-emerald-600 uppercase mb-1",children:"Present"}),e.jsx("p",{className:"text-xl font-black text-emerald-700",children:s.myAttendance.presentDays})]}),e.jsxs("div",{className:"p-3 bg-amber-50 border border-amber-100 rounded-xl text-center",children:[e.jsx("p",{className:"text-[10px] font-bold text-amber-600 uppercase mb-1",children:"Late"}),e.jsx("p",{className:"text-xl font-black text-amber-700",children:s.myAttendance.lateDays})]}),e.jsxs("div",{className:"p-3 bg-red-50 border border-red-100 rounded-xl text-center",children:[e.jsx("p",{className:"text-[10px] font-bold text-red-600 uppercase mb-1",children:"Absent"}),e.jsx("p",{className:"text-xl font-black text-red-700",children:s.myAttendance.absentDays})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"text-xs font-bold text-gray-800 px-1 uppercase tracking-widest",children:"Recent Records"}),e.jsx("div",{className:"divide-y divide-gray-100 border-y border-gray-100",children:[1,2,3,4,5].map(B=>e.jsxs("div",{className:"py-3 flex items-center justify-between px-1",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"w-8 h-8 rounded-lg bg-gray-50 flex flex-col items-center justify-center",children:[e.jsx("span",{className:"text-[8px] font-bold text-gray-400 leading-tight",children:"FEB"}),e.jsx("span",{className:"text-xs font-black text-gray-700 leading-tight",children:14-B})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-gray-800",children:"Punch In: 08:55 AM"}),e.jsx("p",{className:"text-[10px] text-gray-500 font-medium",children:"Punch Out: 05:05 PM"})]})]}),e.jsx("span",{className:"text-[10px] font-bold px-2 py-0.5 rounded-full bg-emerald-50 text-emerald-600 border border-emerald-100",children:"Present"})]},B))})]})]})}):null,I=()=>f?e.jsx(at,{isOpen:S,onClose:()=>v(!1),title:"Client Follow-up",subtitle:"At-Risk Member Details",footer:e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{className:"flex-1 py-2.5 bg-indigo-600 text-white rounded-lg text-sm font-bold shadow-md hover:bg-indigo-700 transition-all flex items-center justify-center gap-2",children:[e.jsx(qs,{size:16}),"Call Member"]}),e.jsxs("button",{className:"flex-1 py-2.5 bg-white border border-gray-200 text-gray-700 rounded-lg text-sm font-bold hover:bg-gray-50 transition-all flex items-center justify-center gap-2",children:[e.jsx(sr,{size:16}),"Message"]})]}),children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-4 bg-red-50 rounded-2xl border border-red-100 flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white rounded-xl shadow-sm flex items-center justify-center text-red-600 font-bold text-xl",children:f.name.charAt(0)}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:f.name}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"px-2 py-0.5 bg-red-100 text-red-700 rounded-full text-[10px] font-black uppercase tracking-wider",children:"At Risk"}),e.jsxs("p",{className:"text-xs text-red-600 font-bold",children:[f.daysSinceLastVisit," Days Inactive"]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-3 bg-gray-50 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-tight mb-1",children:"Membership"}),e.jsx("p",{className:"text-sm font-bold text-gray-800",children:f.membership})]}),e.jsxs("div",{className:"p-3 bg-gray-50 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-tight mb-1",children:"Progress"}),e.jsxs("p",{className:"text-sm font-bold text-gray-800",children:[f.progress,"%"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl border border-gray-100",children:[e.jsx(qs,{size:16,className:"text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-tight",children:"Phone"}),e.jsx("p",{className:"text-sm font-bold text-gray-800",children:f.phone})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl border border-gray-100",children:[e.jsx(Ye,{size:16,className:"text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-tight",children:"Last Visit"}),e.jsx("p",{className:"text-sm font-bold text-gray-800",children:f.lastVisit})]})]})]}),e.jsx("hr",{className:"border-gray-100"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h4",{className:"font-bold text-gray-800 text-sm flex items-center gap-2",children:[e.jsx(St,{size:16,className:"text-indigo-600"}),"Add Follow-up Note"]}),e.jsx("textarea",{className:"w-full p-4 bg-gray-50 border border-gray-200 rounded-xl text-sm focus:ring-2 focus:ring-indigo-500 outline-none min-h-[100px]",placeholder:"Record the outcome of your follow-up call..."}),e.jsx("button",{className:"w-full py-2 bg-indigo-50 text-indigo-700 rounded-lg text-xs font-bold hover:bg-indigo-100 transition-all",children:"Save Note"})]})]})}):null;return e.jsxs("div",{className:"h-[calc(100vh-6rem)] overflow-y-auto pr-2 pb-8 space-y-8 fade-in scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-transparent",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 pb-6 border-b-2 border-gray-100",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-1",children:"Trainer Dashboard"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Manage your daily sessions and client performance"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>t("/trainer/sessions/calendar"),className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-200 text-gray-700 rounded-lg text-sm font-semibold hover:bg-gray-50 transition-all shadow-sm",children:[e.jsx(Ye,{size:16}),"My Schedule"]}),e.jsxs("button",{onClick:()=>t("/trainer/sessions/upcoming"),className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg text-sm font-semibold hover:bg-indigo-700 transition-all shadow-md",children:[e.jsx(qr,{size:16}),"Start Session"]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ks,{size:18,className:"text-indigo-600"}),e.jsx("h2",{className:"text-md font-bold text-gray-800",children:"Key Metrics"})]}),e.jsx(iu,{children:s.stats.map(B=>e.jsx(Gn,{...B},B.id))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between px-1",children:[e.jsxs("h2",{className:"text-sm font-bold text-gray-800 flex items-center gap-2",children:[e.jsx(Je,{size:16,className:"text-emerald-500"}),"My Attendance"]}),e.jsx("button",{onClick:()=>y(!0),className:"text-[10px] font-black text-indigo-600 hover:underline",children:"Details"})]}),e.jsxs(is,{className:"p-4 border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"grid grid-cols-3 divide-x divide-gray-100 text-center mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-black",children:s.myAttendance.presentDays}),e.jsx("p",{className:"text-[9px] text-gray-400 uppercase font-bold",children:"Present"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-black text-amber-600",children:s.myAttendance.lateDays}),e.jsx("p",{className:"text-[9px] text-gray-400 uppercase font-bold",children:"Late"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-black text-red-500",children:s.myAttendance.absentDays}),e.jsx("p",{className:"text-[9px] text-gray-400 uppercase font-bold",children:"Absent"})]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs("div",{className:"flex justify-between text-[10px] font-bold",children:[e.jsx("span",{className:"text-gray-500 uppercase",children:"Rate"}),e.jsxs("span",{className:"text-emerald-600",children:[s.myAttendance.attendanceRate,"%"]})]}),e.jsx("div",{className:"h-1 bg-gray-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-emerald-500",style:{width:`${s.myAttendance.attendanceRate}%`}})})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h2",{className:"text-sm font-bold text-gray-800 flex items-center gap-2 px-1",children:[e.jsx(ps,{size:16,className:"text-red-500"}),"Client Alerts"]}),e.jsx(is,{className:"p-0 border border-red-50 shadow-sm overflow-hidden",children:e.jsx("div",{className:"divide-y divide-gray-100",children:N.slice(0,4).map(B=>e.jsxs("div",{onClick:()=>L(B),className:"p-4 hover:bg-red-50/30 cursor-pointer transition-all flex justify-between items-center",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("h4",{className:"font-bold text-gray-800 text-xs truncate",children:B.name}),e.jsxs("p",{className:"text-[10px] text-red-500 font-bold",children:[B.daysSinceLastVisit," Days Inactive"]})]}),e.jsx(vs,{size:12,className:"text-red-300"})]},B.id))})})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h2",{className:"text-md font-bold text-gray-900 flex items-center gap-3 px-1",children:[e.jsx(Ye,{size:20,className:"text-indigo-600"}),"Today's Schedule"]}),e.jsxs(is,{className:"border-2 border-indigo-100 shadow-xl p-0 overflow-hidden bg-white",children:[e.jsxs("div",{className:"grid grid-cols-3 divide-x divide-indigo-50 bg-indigo-50/50 border-b border-indigo-100",children:[e.jsxs("div",{className:"p-4 text-center",children:[e.jsx("p",{className:"text-[10px] font-bold text-indigo-400 uppercase tracking-widest",children:"Total"}),e.jsx("p",{className:"text-2xl font-black text-gray-900",children:s.todaySessions.summary.total})]}),e.jsxs("div",{className:"p-4 text-center",children:[e.jsx("p",{className:"text-[10px] font-bold text-amber-400 uppercase tracking-widest",children:"Next"}),e.jsx("p",{className:"text-2xl font-black text-amber-600",children:s.todaySessions.summary.upcoming})]}),e.jsxs("div",{className:"p-4 text-center",children:[e.jsx("p",{className:"text-[10px] font-bold text-emerald-400 uppercase tracking-widest",children:"Done"}),e.jsx("p",{className:"text-2xl font-black text-emerald-600",children:s.todaySessions.summary.completed})]})]}),e.jsx("div",{className:"divide-y divide-gray-100 max-h-[350px] overflow-y-auto",children:s.todaySessions.list.length===0?e.jsx("div",{className:"p-10 text-center text-gray-400 font-bold text-sm",children:"No sessions scheduled"}):s.todaySessions.list.map(B=>e.jsxs("div",{onClick:()=>A(B),className:"p-5 hover:bg-indigo-50/50 cursor-pointer transition-all flex items-center justify-between border-l-4 border-transparent hover:border-indigo-500",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-sm font-black text-gray-900",children:B.time}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h4",{className:"font-bold text-gray-800 text-sm truncate",children:B.name}),e.jsx("span",{className:"text-[10px] px-1.5 py-0.5 bg-gray-100 rounded text-gray-500 font-bold uppercase",children:B.type})]})]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-[10px] font-black uppercase ${B.status==="Completed"?"bg-emerald-100 text-emerald-700":B.status==="Upcoming"?"bg-amber-100 text-amber-700 active-pulse":"bg-red-100 text-red-700"}`,children:B.status})]},B.id))})]})]}),s.isCommissionBased&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h2",{className:"text-md font-bold text-gray-900 flex items-center gap-3 px-1",children:[e.jsx(Ks,{size:20,className:"text-emerald-500"}),"Current Earnings"]}),e.jsxs(is,{className:"p-8 border-2 border-emerald-100 shadow-2xl relative overflow-hidden flex flex-col items-center text-center bg-gradient-to-br from-white via-emerald-50/20 to-indigo-50/20",children:[e.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:e.jsx($0,{size:80})}),e.jsxs("div",{className:"relative mb-6",children:[e.jsx("p",{className:"text-[11px] font-bold text-gray-400 uppercase tracking-widest mb-2",children:"Projected Payout"}),e.jsxs("h3",{className:"text-5xl font-black text-gray-900 tracking-tighter",children:["",s.earnings.totalEarnings.toLocaleString()]})]}),e.jsxs("div",{className:"w-full grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"p-4 bg-white/80 backdrop-blur-sm rounded-2xl border border-emerald-100 shadow-sm",children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase mb-1",children:"Commission"}),e.jsxs("p",{className:"text-lg font-bold text-emerald-600",children:["",s.earnings.commission.toLocaleString()]})]}),e.jsxs("div",{className:"p-4 bg-white/80 backdrop-blur-sm rounded-2xl border border-indigo-100 shadow-sm",children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase mb-1",children:"Base Salary"}),e.jsxs("p",{className:"text-lg font-bold text-indigo-600",children:["",s.earnings.salary.toLocaleString()]})]})]}),e.jsxs("button",{onClick:()=>p(!0),className:"w-full py-4 bg-indigo-600 text-white rounded-2xl font-bold text-sm shadow-xl shadow-indigo-100 hover:bg-indigo-700 transition-all flex items-center justify-center gap-3 hover:-translate-y-1",children:["Detailed Breakdown ",e.jsx(bl,{size:16})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h2",{className:"text-sm font-bold text-gray-800 flex items-center gap-3 px-1",children:[e.jsx(ps,{size:18,className:"text-amber-500"}),"Pending Actions"]}),e.jsx(is,{className:"border border-gray-100 shadow-lg p-0 overflow-hidden",children:e.jsx("div",{className:"divide-y divide-gray-50",children:s.pendingTasks.map(B=>e.jsxs("div",{onClick:()=>t(B.route),className:"p-5 hover:bg-slate-50 cursor-pointer flex justify-between items-center group transition-all",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-400"}),e.jsx("span",{className:"text-sm font-bold text-gray-700 group-hover:text-gray-900",children:B.title})]}),e.jsx("span",{className:"bg-amber-100 text-amber-700 px-3 py-1 rounded-full text-xs font-black",children:B.count})]},B.id))})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between px-1",children:[e.jsxs("h2",{className:"text-sm font-bold text-gray-800 flex items-center gap-2",children:[e.jsx(Et,{size:16,className:"text-blue-600"}),"My Clients"]}),e.jsx("button",{onClick:()=>t("/trainer/members/assigned"),className:"text-[10px] font-black text-indigo-600 hover:underline",children:"View All"})]}),e.jsx(is,{className:"p-5 border border-gray-100 shadow-sm",children:e.jsx("div",{className:"space-y-5",children:s.myClients.slice(0,5).map(B=>e.jsxs("div",{className:"group",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-xs font-bold text-gray-700 group-hover:text-indigo-600 transition-colors",children:B.name}),e.jsxs("span",{className:"text-[10px] font-black text-gray-400",children:[B.progress,"%"]})]}),e.jsx("div",{className:"h-1.5 w-full bg-gray-50 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-500 transition-all duration-1000 group-hover:bg-indigo-500",style:{width:`${B.progress}%`}})})]},B.id))})})]}),e.jsxs("div",{className:"space-y-4 pt-4",children:[e.jsxs("h2",{className:"text-sm font-bold text-gray-800 flex items-center gap-2 px-1",children:[e.jsx(gn,{size:16,className:"text-indigo-500"}),"Announcements"]}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"p-4 bg-indigo-50/50 border border-indigo-100 rounded-2xl hover:bg-indigo-50 transition-all cursor-pointer",children:[e.jsx("h4",{className:"text-xs font-bold text-indigo-900 mb-1",children:"New Policy: Client Cancellations"}),e.jsx("p",{className:"text-[10px] text-indigo-600 font-medium",children:"Please review the updated 4-hour rule in settings..."})]})})]})]})]}),e.jsx(M,{}),e.jsx(T,{}),e.jsx(_,{}),e.jsx(I,{})]})},EA=({isOpen:t,onClose:s,benefit:r})=>{if(!r)return null;const l=r.total==="Unlimited",i=l?"Unlimited":r.total-r.used,o=l?100:r.used/r.total*100;return e.jsx(at,{isOpen:t,onClose:s,title:r.name,subtitle:"Benefit utilization & history",children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"p-6 md:p-8 space-y-8 overflow-y-auto flex-1 custom-scrollbar",children:[e.jsxs("div",{className:"p-6 bg-slate-50 rounded-3xl border border-slate-100",children:[e.jsxs("div",{className:"flex justify-between items-end mb-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-400 mb-1",children:"Current Usage"}),e.jsxs("div",{className:"text-3xl font-black text-slate-900",children:[r.used," ",e.jsxs("span",{className:"text-sm text-slate-400 uppercase tracking-widest",children:["/ ",r.total]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("h4",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-400 mb-1",children:"Remaining"}),e.jsx("div",{className:"text-xl font-black text-violet-600",children:i})]})]}),!l&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-3 bg-white rounded-full overflow-hidden border border-slate-100",children:e.jsx("div",{className:"h-full bg-violet-600 rounded-full shadow-sm shadow-violet-100 transition-all duration-1000",style:{width:`${o}%`}})}),e.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-slate-400 uppercase tracking-widest px-1",children:[e.jsx("span",{children:"Used"}),e.jsxs("span",{children:[Math.round(o),"% Complete"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-white border border-slate-100 rounded-2xl flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-emerald-50 text-emerald-600 rounded-xl flex items-center justify-center shrink-0",children:e.jsx(Ye,{size:20})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-[9px] font-black uppercase tracking-widest text-slate-400",children:"Valid Until"}),e.jsx("div",{className:"text-sm font-bold text-slate-900",children:r.expiry||"N/A"})]})]}),e.jsxs("div",{className:"p-4 bg-white border border-slate-100 rounded-2xl flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-50 text-blue-600 rounded-xl flex items-center justify-center shrink-0",children:e.jsx(as,{size:20})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-[9px] font-black uppercase tracking-widest text-slate-400",children:"Status"}),e.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Active"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 px-1",children:[e.jsx(Je,{size:16,className:"text-slate-400"}),e.jsx("h3",{className:"text-xs font-black uppercase tracking-[0.15em] text-slate-900",children:"Utilization History"})]}),e.jsx("div",{className:"space-y-3",children:r.history&&r.history.length>0?r.history.map((d,x)=>e.jsxs("div",{className:"p-4 bg-white border border-slate-100 rounded-2xl flex items-center justify-between hover:border-violet-100 transition-colors group",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-violet-600 opacity-20 group-hover:opacity-100 transition-opacity"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-bold text-slate-900",children:d.trainer||d.class||d.service||d.guest||"Activity Logged"}),e.jsx("div",{className:"text-[10px] font-medium text-slate-400 uppercase tracking-widest",children:d.date})]})]}),e.jsx("span",{className:"text-[10px] font-black text-emerald-600 uppercase tracking-widest bg-emerald-50 px-2 py-1 rounded-md",children:d.status})]},x)):e.jsxs("div",{className:"py-10 text-center space-y-2",children:[e.jsx(Yn,{size:32,className:"mx-auto text-slate-200"}),e.jsx("p",{className:"text-sm font-bold text-slate-400",children:"No history available yet."})]})})]}),e.jsxs("div",{className:"p-5 bg-amber-50 rounded-2xl border border-amber-100",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ps,{size:14,className:"text-amber-600"}),e.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest text-amber-700",children:"Protocol Terms"})]}),e.jsxs("ul",{className:"space-y-1.5 list-disc list-inside",children:[e.jsx("li",{className:"text-[11px] font-medium text-amber-900/70 leading-relaxed italic",children:"Benefits are non-transferable and valid during membership tenure."}),e.jsx("li",{className:"text-[11px] font-medium text-amber-900/70 leading-relaxed italic",children:"Unused benefits do not carry over to the next billing cycle."}),e.jsx("li",{className:"text-[11px] font-medium text-amber-900/70 leading-relaxed italic",children:"Prior booking required for PT sessions and Spa access."})]})]})]}),e.jsx("div",{className:"p-6 md:p-8 bg-white border-t border-slate-100 mt-auto",children:e.jsx("button",{onClick:s,className:"w-full h-12 bg-slate-900 text-white rounded-xl text-xs font-black uppercase tracking-[0.2em] shadow-lg shadow-slate-100 hover:bg-violet-600 transition-all flex items-center justify-center gap-2",children:"CLOSE DETAILS"})})]})})},TA=({walletData:t})=>{const[s,r]=j.useState(null),[l,i]=j.useState(!1);if(!t||!t.benefits||t.benefits.length===0)return e.jsxs(is,{className:"p-5 border-l-4 border-l-slate-200 shadow-sm",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-slate-900 text-xs font-black uppercase tracking-widest",children:"Benefit Wallet"}),e.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-tighter",children:"Your membership benefits"})]})}),e.jsx("div",{className:"py-2 text-center text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"No benefits included."})]});const{planName:o,benefits:d}=t,x=u=>{r(u),i(!0)};return e.jsxs(e.Fragment,{children:[e.jsxs(is,{className:"bg-gradient-to-br from-slate-50/50 to-white p-5 border border-slate-100 rounded-2xl shadow-xl hover:shadow-2xl hover:-translate-y-1 transition-all duration-300 h-[220px] flex flex-col group overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 shrink-0",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-slate-900 text-[11px] font-black uppercase tracking-[0.2em] leading-none text-violet-600",children:"My Benefits"}),e.jsx("p",{className:"text-[9px] text-slate-400 font-bold uppercase tracking-widest mt-1",children:o})]}),e.jsx("div",{className:"w-8 h-8 rounded-lg bg-violet-50 flex items-center justify-center text-violet-600 shadow-sm group-hover:scale-110 transition-transform",children:e.jsx(vs,{size:16,strokeWidth:3})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto pr-1 space-y-2 custom-scrollbar",children:e.jsx("div",{className:"space-y-2",children:d.map(u=>{const h=u.total==="Unlimited",p=h?100:u.used/u.total*100,g=h?"":u.total-u.used;return e.jsxs("div",{className:"py-1 group/item cursor-pointer",onClick:()=>x(u),children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("span",{className:"text-[10px] font-black text-slate-700 uppercase tracking-tight",children:u.name}),e.jsxs("span",{className:"text-[9px] font-black tracking-tighter text-slate-400 uppercase",children:[e.jsxs("span",{className:"text-slate-900",children:[g," / ",u.total]})," ",e.jsx("span",{className:"text-slate-400 ml-1",children:u.label})]})]}),e.jsx("div",{className:"h-[2px] bg-slate-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-violet-500 to-purple-600 rounded-full transition-all duration-700",style:{width:`${p}%`}})})]},u.id)})})}),e.jsx("div",{className:"pt-3 mt-auto border-t border-slate-50 shrink-0",children:e.jsxs("button",{onClick:()=>x(d[0]),className:"text-[9px] font-black text-violet-600 uppercase tracking-[0.2em] hover:text-violet-700 transition-colors flex items-center gap-1",children:["VIEW ALL BENEFITS ",e.jsx(vs,{size:10,strokeWidth:4})]})})]}),e.jsx(EA,{isOpen:l,onClose:()=>i(!1),benefit:s})]})},_A=({progress:t,size:s=60,strokeWidth:r=6})=>{const l=(s-r)/2,i=l*2*Math.PI,o=i-t/100*i;return e.jsxs("div",{className:"relative inline-flex items-center justify-center p-1 bg-white rounded-full shadow-inner",style:{width:s+8,height:s+8},children:[e.jsxs("svg",{className:"transform -rotate-90",width:s,height:s,children:[e.jsx("circle",{className:"text-slate-100",strokeWidth:r,stroke:"currentColor",fill:"transparent",r:l,cx:s/2,cy:s/2}),e.jsx("circle",{className:"text-violet-600 transition-all duration-1000 ease-out",strokeWidth:r,strokeDasharray:i,strokeDashoffset:o,strokeLinecap:"round",stroke:"currentColor",fill:"transparent",r:l,cx:s/2,cy:s/2,style:{filter:"drop-shadow(0 0 4px rgba(124, 58, 237, 0.3))"}})]}),e.jsxs("span",{className:"absolute text-[10px] font-black text-slate-900 tracking-tighter",children:[Math.round(t),"%"]})]})},PA={stats:[{id:1,title:"My Plan",value:"...",icon:ss,color:"primary"},{id:2,title:"Next Class",value:"...",icon:Ye,color:"success"},{id:3,title:"Attendance",value:"0%",icon:Ks,color:"success"}],planSummary:{workoutsCompleted:0,totalWorkouts:0,nextGoal:"...",membershipStatus:"...",expiryDate:"...",daysRemaining:0},announcements:[],benefitWallet:{benefits:[]}},RA=()=>{const[t,s]=j.useState(PA),[r,l]=j.useState(!0);if(j.useEffect(()=>{(async()=>{try{const x=(await we.get("/dashboard/member")).data;s(u=>({...u,stats:[{...u.stats[0],value:x.planName},{...u.stats[1],value:x.nextClass},{...u.stats[2],value:x.attendanceRate}],planSummary:x.planSummary,announcements:x.announcements,benefitWallet:x.benefitWallet}))}catch(d){console.error("Failed to fetch member dashboard:",d)}finally{l(!1)}})()},[]),r)return e.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-6rem)]",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-violet-600 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"text-slate-500 font-medium animate-pulse uppercase tracking-[0.2em] text-[10px]",children:"Retrieving Your Performance Data..."})]})});const i=new Date().toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"});return e.jsxs("div",{className:"fade-in space-y-6 max-w-7xl mx-auto pb-12 px-4 md:px-6",children:[e.jsxs("div",{className:"relative mb-8",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-3xl blur-3xl opacity-5 animate-pulse"}),e.jsxs("div",{className:"relative bg-white/80 backdrop-blur-md rounded-2xl shadow-xl border border-slate-100 p-6 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-600 to-purple-700 flex items-center justify-center text-white shadow-lg shadow-violet-200 transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(ha,{size:28,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-black text-slate-900 tracking-tight italic uppercase",children:["System Access / ",e.jsx("span",{className:"text-violet-600",children:"Member"})]}),e.jsxs("p",{className:"text-slate-500 text-xs font-bold uppercase tracking-widest flex items-center gap-2",children:[e.jsx(Wt,{size:12,className:"text-violet-500"}),"Operational Intelligence Overview"]})]})]}),e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-slate-50 border border-slate-100 rounded-xl shadow-sm",children:[e.jsx(Ye,{size:16,className:"text-violet-600"}),e.jsx("span",{className:"text-xs font-black text-slate-700 uppercase tracking-tight",children:i})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx(TA,{walletData:t.benefitWallet}),e.jsxs(is,{className:"p-6 border border-slate-100 rounded-2xl shadow-xl hover:shadow-2xl hover:-translate-y-1 transition-all duration-300 bg-gradient-to-br from-slate-50/50 to-white h-[220px] flex flex-col justify-between overflow-hidden group",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-slate-900 text-[11px] font-black uppercase tracking-[0.2em] leading-none mb-1 text-emerald-600",children:"Progress Snapshot"}),e.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:"Active Week"})]}),e.jsx(_A,{progress:t.planSummary.workoutsCompleted/t.planSummary.totalWorkouts*100,size:50})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5",children:"Weekly Goal"}),e.jsxs("div",{className:"text-2xl font-black text-slate-900 leading-none flex items-baseline gap-1",children:[e.jsx("span",{className:"text-emerald-600",children:t.planSummary.workoutsCompleted}),e.jsxs("span",{className:"text-slate-300 text-sm font-bold",children:["/ ",t.planSummary.totalWorkouts]}),e.jsx("span",{className:"text-[10px] text-slate-400 uppercase ml-2 tracking-widest",children:"Sessions"})]})]}),e.jsxs("button",{className:"text-[10px] font-black text-emerald-600 uppercase tracking-widest hover:translate-x-2 transition-transform inline-flex items-center gap-1.5 mt-auto",children:["GO TO PERFORMANCE LAB ",e.jsx(vs,{size:14,strokeWidth:3})]})]}),e.jsxs(is,{className:"p-6 border border-slate-100 rounded-2xl shadow-xl hover:shadow-2xl hover:-translate-y-1 transition-all duration-300 bg-gradient-to-br from-slate-50/50 to-white h-[220px] flex flex-col justify-between overflow-hidden group",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 pb-3 border-b border-slate-50",children:[e.jsx("h3",{className:"text-slate-900 text-[11px] font-black uppercase tracking-[0.2em] text-fuchsia-600",children:"Membership Status"}),e.jsx("span",{className:`px-2.5 py-1 rounded-lg text-[9px] font-black uppercase shadow-sm ${t.planSummary.membershipStatus==="Active"?"bg-gradient-to-r from-emerald-50 to-emerald-100 text-emerald-700":"bg-gradient-to-r from-rose-50 to-rose-100 text-rose-700"}`,children:t.planSummary.membershipStatus})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest leading-none mb-1.5",children:"Active Tier"}),e.jsx("p",{className:"text-sm font-black text-slate-900 leading-none uppercase italic",children:t.stats[0].value})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest leading-none mb-1.5",children:"System Status"}),e.jsxs("p",{className:"text-sm font-black text-fuchsia-600 leading-none",children:[t.planSummary.daysRemaining," Days Remaining"]})]})]})]}),e.jsx("div",{className:"pt-2 border-t border-slate-50",children:e.jsxs("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-tight truncate italic",children:["Subscription Expires: ",t.planSummary.expiryDate]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs(is,{className:"p-5 border border-slate-100 rounded-2xl shadow-xl hover:shadow-2xl hover:-translate-y-1 transition-all duration-300 bg-gradient-to-br from-violet-50/50 to-white flex items-center gap-4 group",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-transform group-hover:scale-110 group-hover:rotate-6",children:e.jsx(ug,{size:20,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 mb-1",children:"Weekly Target"}),e.jsxs("div",{className:"text-base font-black text-slate-900 leading-none",children:[t.planSummary.workoutsCompleted," / ",t.planSummary.totalWorkouts," sessions"]})]})]}),e.jsxs(is,{className:"p-5 border border-slate-100 rounded-2xl shadow-xl hover:shadow-2xl hover:-translate-y-1 transition-all duration-300 bg-gradient-to-br from-fuchsia-50/50 to-white flex items-center gap-4 group",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-fuchsia-500 to-pink-600 flex items-center justify-center text-white shadow-lg transition-transform group-hover:scale-110 group-hover:rotate-6",children:e.jsx(zc,{size:20,strokeWidth:2.5})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 mb-1",children:"Supply Node"}),e.jsxs("div",{className:"flex items-center justify-between gap-2 overflow-hidden",children:[e.jsxs("span",{className:"text-base font-black text-slate-900 truncate shrink uppercase italic",children:[t.announcements[0]?.title.split(" ")[0]," ..."]}),e.jsx("span",{className:"px-2 py-1 rounded-lg bg-gradient-to-r from-emerald-50 to-emerald-100 text-[9px] font-black text-emerald-700 uppercase shadow-sm whitespace-nowrap",children:"SHIPPED"})]})]})]}),e.jsxs(is,{className:"p-5 border border-slate-100 rounded-2xl shadow-xl hover:shadow-2xl hover:-translate-y-1 transition-all duration-300 bg-gradient-to-br from-amber-50/50 to-white flex items-center gap-4 group",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-amber-500 to-orange-600 flex items-center justify-center text-white shadow-lg transition-transform group-hover:scale-110 group-hover:rotate-6",children:e.jsx(jn,{size:20,strokeWidth:2.5})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 mb-1",children:"Primary Focus"}),e.jsx("div",{className:"text-base font-black text-slate-900 truncate uppercase italic",children:t.planSummary.nextGoal})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-between px-2",children:e.jsxs("h2",{className:"text-[11px] font-black text-slate-500 uppercase tracking-[0.3em] flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-[2px] bg-amber-500"}),"Operational Broadcasts"]})}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:t.announcements.map((o,d)=>e.jsxs(is,{className:"p-5 border border-slate-100 rounded-2xl shadow-xl hover:shadow-2xl hover:-translate-y-1 transition-all duration-300 bg-gradient-to-br from-white to-slate-50/50 flex items-center justify-between gap-4 group",children:[e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-amber-50 to-amber-100 rounded-xl text-amber-600 shadow-sm transition-transform group-hover:scale-110 group-hover:rotate-3",children:e.jsx(al,{size:20,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-amber-600 leading-none mb-1.5",children:o.date}),e.jsx("p",{className:"text-base font-black text-slate-900 leading-tight uppercase italic",children:o.title})]})]}),e.jsx("button",{className:"p-3 text-slate-300 hover:text-violet-600 hover:bg-violet-50 rounded-xl transition-all",children:e.jsx(vs,{size:22,strokeWidth:4})})]},d))})]})]})},N0={SUPER_ADMIN:"SUPER_ADMIN",BRANCH_ADMIN:"BRANCH_ADMIN",MANAGER:"MANAGER",STAFF:"STAFF",TRAINER:"TRAINER",MEMBER:"MEMBER"},OA=({role:t})=>{switch(t){case N0.SUPER_ADMIN:return e.jsx(hA,{});case N0.BRANCH_ADMIN:return e.jsx(jA,{});case N0.MANAGER:return e.jsx(SA,{});case N0.STAFF:return e.jsx(DA,{});case N0.TRAINER:return e.jsx(zA,{});case N0.MEMBER:return e.jsx(RA,{});default:return e.jsxs("div",{className:"text-center p-8",children:[e.jsx("h2",{className:"text-title",children:"Welcome to Gym CRM"}),e.jsx("p",{className:"text-muted",children:"Please select a role from the sidebar debugger to view specific dashboards."})]})}},Ur={getMembers:async(t={})=>{try{return(await we.get("/admin/members",{params:t})).data}catch(s){throw s}},getMemberById:async t=>{try{return(await we.get(`/admin/members/${t}`)).data}catch(s){throw s}},createMember:async t=>{try{return(await we.post("/admin/members",t)).data}catch(s){throw s}},updateMember:async(t,s)=>{try{return(await we.patch(`/admin/members/${t}`,s)).data}catch(r){throw r}},toggleStatus:async t=>{try{return(await we.patch(`/admin/members/${t}/toggle-status`)).data}catch(s){throw s}},freezeMember:async(t,s)=>{try{return(await we.patch(`/admin/members/${t}/freeze`,s)).data}catch(r){throw r}},unfreezeMember:async t=>{try{return(await we.patch(`/admin/members/${t}/unfreeze`)).data}catch(s){throw s}},giftDays:async(t,s)=>{try{return(await we.patch(`/admin/members/${t}/gift`,s)).data}catch(r){throw r}},getPlans:async()=>{try{return(await we.get("/admin/plans")).data}catch(t){throw t}},createPlan:async t=>{try{return(await we.post("/admin/plans",t)).data}catch(s){throw s}},updatePlan:async(t,s)=>{try{return(await we.patch(`/admin/plans/${t}`,s)).data}catch(r){throw r}},deletePlan:async t=>{try{return(await we.delete(`/admin/plans/${t}`)).data}catch(s){throw s}}};let FA={data:""},BA=t=>{if(typeof window=="object"){let s=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return s.nonce=window.__nonce__,s.parentNode||(t||document.head).appendChild(s),s.firstChild}return t||FA},IA=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,UA=/\/\*[^]*?\*\/|  +/g,z1=/\n+/g,Mc=(t,s)=>{let r="",l="",i="";for(let o in t){let d=t[o];o[0]=="@"?o[1]=="i"?r=o+" "+d+";":l+=o[1]=="f"?Mc(d,o):o+"{"+Mc(d,o[1]=="k"?"":s)+"}":typeof d=="object"?l+=Mc(d,s?s.replace(/([^,])+/g,x=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,x):x?x+" "+u:u)):o):d!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Mc.p?Mc.p(o,d):o+":"+d+";")}return r+(s&&i?s+"{"+i+"}":i)+l},To={},iw=t=>{if(typeof t=="object"){let s="";for(let r in t)s+=r+iw(t[r]);return s}return t},$A=(t,s,r,l,i)=>{let o=iw(t),d=To[o]||(To[o]=(u=>{let h=0,p=11;for(;h<u.length;)p=101*p+u.charCodeAt(h++)>>>0;return"go"+p})(o));if(!To[d]){let u=o!==t?t:(h=>{let p,g,y=[{}];for(;p=IA.exec(h.replace(UA,""));)p[4]?y.shift():p[3]?(g=p[3].replace(z1," ").trim(),y.unshift(y[0][g]=y[0][g]||{})):y[0][p[1]]=p[2].replace(z1," ").trim();return y[0]})(t);To[d]=Mc(i?{["@keyframes "+d]:u}:u,r?"":"."+d)}let x=r&&To.g?To.g:null;return r&&(To.g=To[d]),((u,h,p,g)=>{g?h.data=h.data.replace(g,u):h.data.indexOf(u)===-1&&(h.data=p?u+h.data:h.data+u)})(To[d],s,l,x),d},qA=(t,s,r)=>t.reduce((l,i,o)=>{let d=s[o];if(d&&d.call){let x=d(r),u=x&&x.props&&x.props.className||/^go/.test(x)&&x;d=u?"."+u:x&&typeof x=="object"?x.props?"":Mc(x,""):x===!1?"":x}return l+i+(d??"")},"");function sm(t){let s=this||{},r=t.call?t(s.p):t;return $A(r.unshift?r.raw?qA(r,[].slice.call(arguments,1),s.p):r.reduce((l,i)=>Object.assign(l,i&&i.call?i(s.p):i),{}):r,BA(s.target),s.g,s.o,s.k)}let ow,Df,Lf;sm.bind({g:1});let $o=sm.bind({k:1});function HA(t,s,r,l){Mc.p=s,ow=t,Df=r,Lf=l}function Rc(t,s){let r=this||{};return function(){let l=arguments;function i(o,d){let x=Object.assign({},o),u=x.className||i.className;r.p=Object.assign({theme:Df&&Df()},x),r.o=/ *go\d+/.test(u),x.className=sm.apply(r,l)+(u?" "+u:"");let h=t;return t[0]&&(h=x.as||t,delete x.as),Lf&&h[0]&&Lf(x),ow(h,x)}return i}}var WA=t=>typeof t=="function",zf=(t,s)=>WA(t)?t(s):t,GA=(()=>{let t=0;return()=>(++t).toString()})(),VA=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let s=matchMedia("(prefers-reduced-motion: reduce)");t=!s||s.matches}return t}})(),YA=20,cw="default",dw=(t,s)=>{let{toastLimit:r}=t.settings;switch(s.type){case 0:return{...t,toasts:[s.toast,...t.toasts].slice(0,r)};case 1:return{...t,toasts:t.toasts.map(d=>d.id===s.toast.id?{...d,...s.toast}:d)};case 2:let{toast:l}=s;return dw(t,{type:t.toasts.find(d=>d.id===l.id)?1:0,toast:l});case 3:let{toastId:i}=s;return{...t,toasts:t.toasts.map(d=>d.id===i||i===void 0?{...d,dismissed:!0,visible:!1}:d)};case 4:return s.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(d=>d.id!==s.toastId)};case 5:return{...t,pausedAt:s.time};case 6:let o=s.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(d=>({...d,pauseDuration:d.pauseDuration+o}))}}},XA=[],KA={toasts:[],pausedAt:void 0,settings:{toastLimit:YA}},P0={},xw=(t,s=cw)=>{P0[s]=dw(P0[s]||KA,t),XA.forEach(([r,l])=>{r===s&&l(P0[s])})},uw=t=>Object.keys(P0).forEach(s=>xw(t,s)),JA=t=>Object.keys(P0).find(s=>P0[s].toasts.some(r=>r.id===t)),pg=(t=cw)=>s=>{xw(s,t)},ZA=(t,s="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:s,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:r?.id||GA()}),cu=t=>(s,r)=>{let l=ZA(s,t,r);return pg(l.toasterId||JA(l.id))({type:2,toast:l}),l.id},It=(t,s)=>cu("blank")(t,s);It.error=cu("error");It.success=cu("success");It.loading=cu("loading");It.custom=cu("custom");It.dismiss=(t,s)=>{let r={type:3,toastId:t};s?pg(s)(r):uw(r)};It.dismissAll=t=>It.dismiss(void 0,t);It.remove=(t,s)=>{let r={type:4,toastId:t};s?pg(s)(r):uw(r)};It.removeAll=t=>It.remove(void 0,t);It.promise=(t,s,r)=>{let l=It.loading(s.loading,{...r,...r?.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let o=s.success?zf(s.success,i):void 0;return o?It.success(o,{id:l,...r,...r?.success}):It.dismiss(l),i}).catch(i=>{let o=s.error?zf(s.error,i):void 0;o?It.error(o,{id:l,...r,...r?.error}):It.dismiss(l)}),t};var QA=$o`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,e7=$o`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,t7=$o`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,s7=Rc("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${QA} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${e7} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${t7} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,a7=$o`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,r7=Rc("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${a7} 1s linear infinite;
`,l7=$o`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,n7=$o`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,i7=Rc("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${l7} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${n7} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,o7=Rc("div")`
  position: absolute;
`,c7=Rc("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,d7=$o`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,x7=Rc("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${d7} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,u7=({toast:t})=>{let{icon:s,type:r,iconTheme:l}=t;return s!==void 0?typeof s=="string"?j.createElement(x7,null,s):s:r==="blank"?null:j.createElement(c7,null,j.createElement(r7,{...l}),r!=="loading"&&j.createElement(o7,null,r==="error"?j.createElement(s7,{...l}):j.createElement(i7,{...l})))},h7=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,m7=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,p7="0%{opacity:0;} 100%{opacity:1;}",f7="0%{opacity:1;} 100%{opacity:0;}",g7=Rc("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,b7=Rc("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,v7=(t,s)=>{let r=t.includes("top")?1:-1,[l,i]=VA()?[p7,f7]:[h7(r),m7(r)];return{animation:s?`${$o(l)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${$o(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};j.memo(({toast:t,position:s,style:r,children:l})=>{let i=t.height?v7(t.position||s||"top-center",t.visible):{opacity:0},o=j.createElement(u7,{toast:t}),d=j.createElement(b7,{...t.ariaProps},zf(t.message,t));return j.createElement(g7,{className:t.className,style:{...i,...r,...t.style}},typeof l=="function"?l({icon:o,message:d}):j.createElement(j.Fragment,null,o,d))});HA(j.createElement);sm`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;var lt=It;const hw=({status:t})=>{let s,r;switch((t||"").toLowerCase()){case"active":s="#D1FAE5",r="#10B981";break;case"expired":s="#F3F4F6",r="#6B7280";break;case"frozen":s="#FEF3C7",r="#F59E0B";break;default:s="#E5E7EB",r="#374151"}const i={backgroundColor:s,color:r,padding:"4px 12px",borderRadius:"9999px",fontSize:"0.75rem",fontWeight:600,textTransform:"capitalize",display:"inline-block"};return e.jsx("span",{style:i,children:t})},y7=({membership:t})=>{const s=Gt(),r=l=>l?l.split(" ").map(i=>i[0]).join("").toUpperCase().slice(0,2):"?";return e.jsxs("div",{className:"group relative bg-white rounded-2xl shadow-xl border border-gray-100 p-6 hover:shadow-2xl transition-all duration-300 overflow-hidden h-full flex flex-col",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-50/0 via-purple-50/0 to-pink-50/0 group-hover:from-indigo-50/50 group-hover:via-purple-50/30 group-hover:to-pink-50/50 transition-all duration-500 rounded-2xl"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white font-bold text-sm shadow-lg group-hover:scale-110 group-hover:rotate-6 transition-all duration-300",children:r(t.memberName)}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 group-hover:text-indigo-600 transition-colors duration-300",children:t.memberName}),e.jsxs("div",{className:"flex items-center gap-1 text-gray-500 text-sm",children:[e.jsx(rt,{size:14}),e.jsx("span",{children:t.memberId})]})]})]}),e.jsx(hw,{status:t.status})]}),e.jsxs("div",{className:"py-4 px-4 mb-4 bg-gradient-to-br from-gray-50 to-indigo-50/30 rounded-xl border-2 border-gray-100 group-hover:border-indigo-200 transition-all duration-300",children:[e.jsx("div",{className:"font-bold text-base bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent mb-2",children:t.planName}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 text-sm",children:[e.jsx(Ye,{size:14,className:"text-indigo-500"}),e.jsxs("span",{children:[t.startDate,"  ",t.endDate]})]})]}),e.jsxs("button",{onClick:()=>s(`/memberships/${t.id}`),className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl font-semibold shadow-md hover:shadow-lg hover:shadow-indigo-500/50 hover:scale-105 transition-all duration-300 group/btn",children:[e.jsx("span",{children:"View Details"}),e.jsx(bl,{size:16,className:"transition-transform duration-300 group-hover/btn:translate-x-1"})]})]})]})},j7=()=>{const t=Gt(),[s,r]=j.useState(""),[l,i]=j.useState("All"),[o,d]=j.useState([]),[x,u]=j.useState(!0),h=async()=>{try{u(!0);const p={};s&&(p.search=s),l!=="All"&&(p.status=l);const g=await Ur.getMembers(p);d(g)}catch(p){console.error("Failed to fetch members:",p),lt.error("Failed to load memberships")}finally{u(!1)}};return j.useEffect(()=>{const p=setTimeout(()=>{h()},300);return()=>clearTimeout(p)},[s,l]),e.jsxs("div",{className:"bg-gradient-to-br from-gray-50 via-white to-indigo-50/30 p-6 pb-12",children:[e.jsxs("div",{className:"mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-gray-100 p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 bg-clip-text text-transparent mb-2 flex items-center gap-2",children:[e.jsx(al,{className:"text-indigo-600",size:28}),"Memberships"]}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Manage member subscriptions and plans"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full sm:w-auto",children:[e.jsxs("button",{onClick:()=>t("/memberships/plans"),className:"w-full sm:w-auto px-5 py-3 bg-white text-indigo-600 border border-indigo-100 rounded-xl font-bold hover:bg-indigo-50 hover:shadow-lg hover:-translate-y-1 transition-all duration-300 flex items-center justify-center gap-2",children:[e.jsx(al,{size:18}),"Manage Plans"]}),e.jsxs("button",{onClick:()=>t("/memberships/new"),className:"w-full sm:w-auto group relative px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl font-semibold shadow-lg hover:shadow-xl hover:shadow-indigo-500/50 hover:scale-105 hover:-translate-y-1 transition-all duration-300 flex items-center justify-center gap-2",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/20 to-white/0 opacity-0 group-hover:opacity-100 rounded-xl transition-opacity duration-500"}),e.jsx(St,{size:18,className:"relative z-10 transition-transform duration-300 group-hover:rotate-90"}),e.jsx("span",{className:"relative z-10",children:"Add Membership"})]})]})]})})]}),e.jsx("div",{className:"mb-6 bg-white/60 backdrop-blur-md rounded-xl shadow-lg border border-white/50 p-5 hover:shadow-xl transition-all duration-300 relative z-[100]",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1 group",children:[e.jsx(Qe,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 transition-all duration-300 group-focus-within:text-indigo-500 group-focus-within:scale-110"}),e.jsx("input",{type:"text",placeholder:"Search by Member Name or ID...",value:s,onChange:p=>r(p.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border-2 border-gray-200 rounded-xl text-gray-900 text-sm placeholder-gray-400 focus:outline-none focus:ring-4 focus:ring-indigo-500/20 focus:border-indigo-500 hover:border-indigo-300 transition-all duration-300 shadow-sm hover:shadow-md"})]}),e.jsx("div",{className:"w-full sm:w-48 relative z-50",children:e.jsx(ms,{options:[{value:"All",label:"All Statuses"},{value:"Active",label:"Active"},{value:"Expired",label:"Expired"},{value:"Frozen",label:"Frozen"}],value:l,onChange:i,icon:Ns,className:"hover:scale-105 transition-transform duration-300"})})]})}),x?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):o.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 auto-rows-fr",children:o.map(p=>e.jsx(y7,{membership:p},p.id))}):e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-12 text-center",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-4 bg-gradient-to-br from-gray-100 to-gray-200 rounded-full flex items-center justify-center",children:e.jsx(Qe,{size:32,className:"text-gray-400"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"No Memberships Found"}),e.jsx("p",{className:"text-gray-500 mb-6",children:"No memberships match your current filters."}),e.jsx("button",{onClick:()=>{r(""),i("All")},className:"px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl font-semibold shadow-lg hover:shadow-xl hover:scale-105 transition-all duration-300",children:"Clear Filters"})]})]})},q0=[{id:"gym_access",name:"Gym Access",icon:"Dumbbell",description:"Unlimited access to gym floor and equipment.",type:"recurring",limit:"Unlimited"},{id:"personal_trainer",name:"Personal Trainer",icon:"User",description:"One-on-one sessions with a certified trainer.",type:"recurring",limit:4},{id:"group_classes",name:"Group Classes",icon:"Users",description:"Access to yoga, zumba, and spin classes.",type:"recurring",limit:8},{id:"diet_plan",name:"Diet Consultation",icon:"Utensils",description:"Monthly diet plan review with nutritionist.",type:"recurring",limit:1},{id:"locker",name:"Private Locker",icon:"Lock",description:"Dedicated locker for personal belongings.",type:"global",limit:1},{id:"sauna",name:"Sauna Access",icon:"Thermometer",description:"Post-workout relaxation in sauna.",type:"recurring",limit:2}],fg=[{id:"MEM001",memberId:"M-101",memberName:"John Doe (Expiring Soon)",email:"john.doe@example.com",phone:"+1 234 567 8900",gender:"Male",joinDate:"2024-01-15",planName:"Gold Annual",status:"Active",startDate:"2025-02-15",endDate:"2026-02-16",durationMonths:12,branchId:"B001",benefits:["gym_access","personal_trainer","diet_plan"]},{id:"MEM002",memberId:"M-102",memberName:"Jane Smith (Recently Expired)",email:"jane.smith@example.com",phone:"+1 987 654 3210",gender:"Female",joinDate:"2024-03-10",planName:"Silver Monthly",status:"Expired",startDate:"2026-01-01",endDate:"2026-02-10",durationMonths:1,branchId:"B001",benefits:["gym_access","group_classes"]},{id:"MEM003",memberId:"M-103",memberName:"Mike Johnson (Expiring in 2 Days)",email:"mike.j@example.com",phone:"+1 555 123 4567",gender:"Male",joinDate:"2023-11-20",planName:"Bronze Quarterly",status:"Active",startDate:"2025-11-15",endDate:"2026-02-15",durationMonths:3,branchId:"B001",benefits:["gym_access"]},{id:"MEM004",memberId:"M-104",memberName:"Sarah Williams (Expired 5 Days Ago)",email:"sarah.w@example.com",phone:"+1 444 987 6543",gender:"Female",joinDate:"2024-06-05",planName:"Platinum Annual",status:"Expired",startDate:"2025-02-08",endDate:"2026-02-08",durationMonths:12,branchId:"B001",benefits:["gym_access","personal_trainer","group_classes","diet_plan","sauna"]},{id:"MEM005",memberId:"M-105",memberName:"David Brown (Active)",email:"david.b@example.com",phone:"+1 222 333 4444",gender:"Male",joinDate:"2025-01-20",planName:"Silver Monthly",status:"Active",startDate:"2026-01-20",endDate:"2026-03-19",durationMonths:1,branchId:"B001",benefits:["gym_access","group_classes"]}],nh=[{id:"PLAN_001",name:"Gold Annual",price:19999,duration:12,durationType:"Months",description:"All access pass with personal training included.",creditsPerBooking:1,maxBookingsPerDay:2,maxBookingsPerWeek:10,cancellationWindow:4,benefits:[{id:"gym_access",limit:"Unlimited"},{id:"personal_trainer",limit:4},{id:"sauna",limit:"Unlimited"}]},{id:"PLAN_002",name:"Silver Monthly",price:2499,duration:1,durationType:"Months",description:"Standard gym access and group classes.",creditsPerBooking:1,maxBookingsPerDay:1,maxBookingsPerWeek:5,cancellationWindow:2,benefits:[{id:"gym_access",limit:"Unlimited"},{id:"group_classes",limit:8}]},{id:"PLAN_003",name:"Bronze Quarterly",price:5999,duration:3,durationType:"Months",description:"Basic gym access.",creditsPerBooking:1,maxBookingsPerDay:1,maxBookingsPerWeek:3,cancellationWindow:2,benefits:[{id:"gym_access",limit:"Unlimited"}]},{id:"PLAN_004",name:"Platinum Annual",price:29999,duration:12,durationType:"Months",description:"Ultimate VIP experience.",creditsPerBooking:1,maxBookingsPerDay:3,maxBookingsPerWeek:20,cancellationWindow:8,benefits:[{id:"gym_access",limit:"Unlimited"},{id:"personal_trainer",limit:12},{id:"diet_plan",limit:1},{id:"sauna",limit:"Unlimited"},{id:"locker",limit:1}]}],E1={Dumbbell:qr,User:rt,Users:Et,Utensils:Dc,Lock:Fs,Thermometer:Wj},mw=({benefitIds:t=[],layout:s="list"})=>{const r=Array.isArray(t)?t:[],l=q0.filter(i=>r.includes(i.id));return l.length===0?e.jsx("div",{className:"text-muted",children:"No benefits included."}):s==="grid"?e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"var(--space-3)"},children:l.map(i=>{const o=E1[i.icon]||$r;return e.jsxs("div",{style:{border:"1px solid var(--border-color)",borderRadius:"8px",padding:"var(--space-3)",display:"flex",alignItems:"center",gap:"var(--space-3)"},children:[e.jsx("div",{style:{width:"32px",height:"32px",background:"#EFF6FF",color:"var(--primary)",borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(o,{size:18})}),e.jsx("div",{children:e.jsx("div",{style:{fontWeight:500,fontSize:"0.875rem"},children:i.name})})]},i.id)})}):e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"var(--space-2)"},children:l.map(i=>{const o=E1[i.icon]||$r;return e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",background:"#F9FAFB",padding:"4px 8px",borderRadius:"6px",border:"1px solid var(--border-color)",fontSize:"0.875rem"},children:[e.jsx(o,{size:14,className:"text-muted"}),e.jsx("span",{children:i.name})]},i.id)})})},w7=({isOpen:t,onClose:s,onFreeze:r,memberName:l})=>{const[i,o]=j.useState(1),[d,x]=j.useState(""),[u,h]=j.useState(!0);if(!t)return null;const p=g=>{g.preventDefault(),r({duration:i,reason:d,isChargeable:u}),s()};return e.jsx(at,{isOpen:t,onClose:s,title:"Freeze Membership",subtitle:l,maxWidth:"max-w-md",footer:e.jsxs("div",{className:"flex gap-3 w-full",children:[e.jsx(Ht,{type:"button",variant:"outline",onClick:s,className:"flex-1 py-3 rounded-xl border-gray-200 hover:bg-gray-50 text-gray-600 font-bold",children:"Cancel"}),e.jsx(Ht,{type:"submit",form:"freeze-form",variant:"primary",className:"flex-1 py-3 rounded-xl bg-orange-500 hover:bg-orange-600 shadow-lg shadow-orange-200 border-transparent font-bold text-white",children:"Confirm Freeze"})]}),children:e.jsx("form",{id:"freeze-form",onSubmit:p,className:"flex flex-col h-full",children:e.jsxs("div",{className:"flex-1 overflow-y-auto pr-2 space-y-6",children:[e.jsxs("div",{className:"bg-orange-50 p-4 rounded-xl border border-orange-100 flex gap-3 text-orange-800 text-sm font-bold",children:[e.jsx(Lr,{className:"shrink-0",size:20}),e.jsxs("p",{children:["Freezing membership for ",l," will pause their access and extend their expiry date."]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-gray-400 mb-2",children:"Duration (Months)"}),e.jsx("select",{className:"w-full h-12 px-4 rounded-xl bg-gray-50 border-transparent focus:bg-white ring-2 ring-transparent focus:ring-orange-100 outline-none font-bold text-sm",value:i,onChange:g=>o(Number(g.target.value)),children:[1,2,3,4,5,6].map(g=>e.jsxs("option",{value:g,children:[g," Month",g>1?"s":""]},g))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-gray-400 mb-2",children:"Reason"}),e.jsx("textarea",{className:"w-full p-4 rounded-xl bg-gray-50 border-transparent focus:bg-white ring-2 ring-transparent focus:ring-orange-100 outline-none font-medium text-sm transition-all resize-none h-24",placeholder:"Why is the member requesting a freeze?",value:d,onChange:g=>x(g.target.value),required:!0})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",id:"chargeable",className:"w-5 h-5 rounded-md text-orange-500 focus:ring-orange-200 border-gray-300",checked:u,onChange:g=>h(g.target.checked)}),e.jsx("label",{htmlFor:"chargeable",className:"text-sm font-bold text-gray-700",children:"Apply Freeze Fee (500/month)"})]})]})})})},Wn=({label:t,icon:s,className:r="",...l})=>e.jsxs("div",{className:"w-full",children:[t&&e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-gray-400 mb-2",children:t}),e.jsxs("div",{className:"relative",children:[s&&e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:e.jsx(s,{size:18})}),e.jsx("input",{className:`
                        w-full 
                        p-4 
                        ${s?"pl-12":""} 
                        bg-gray-50 
                        rounded-xl 
                        font-bold 
                        text-gray-900 
                        outline-none 
                        focus:ring-2 
                        focus:ring-indigo-500 
                        focus:bg-white 
                        transition-all
                        border border-transparent
                        placeholder:text-gray-400
                        ${r}
                    `,...l})]})]}),N7=({isOpen:t,onClose:s,onGift:r,memberName:l})=>{const[i,o]=j.useState(7),[d,x]=j.useState("");if(!t)return null;const u=h=>{h.preventDefault(),r({days:i,note:d}),s()};return e.jsx(at,{isOpen:t,onClose:s,title:"Gift Free Days",subtitle:l,maxWidth:"max-w-md",footer:e.jsxs("div",{className:"flex gap-3 w-full",children:[e.jsx(Ht,{type:"button",variant:"outline",onClick:s,className:"flex-1 py-3 rounded-xl border-gray-200 hover:bg-gray-50 text-gray-600 font-bold",children:"Cancel"}),e.jsx(Ht,{type:"submit",form:"gift-days-form",variant:"primary",className:"flex-1 py-3 rounded-xl bg-pink-500 hover:bg-pink-600 shadow-lg shadow-pink-200 border-transparent font-bold text-white",children:"Add Gift Days"})]}),children:e.jsx("form",{id:"gift-days-form",onSubmit:u,className:"flex flex-col h-full",children:e.jsxs("div",{className:"flex-1 overflow-y-auto pr-2 space-y-6",children:[e.jsxs("div",{className:"bg-pink-50 p-4 rounded-xl border border-pink-100 flex gap-3 text-pink-800 text-sm font-bold",children:[e.jsx(Ye,{className:"shrink-0",size:20}),e.jsxs("p",{children:["Adding complimentary days to ",l,"'s plan. This will extend their expiry date."]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-gray-400 mb-2",children:"Number of Days"}),e.jsx(Wn,{type:"number",className:"w-full bg-gray-50 border-transparent focus:bg-white transition-all font-bold",placeholder:"e.g. 7",value:i,onChange:h=>o(Number(h.target.value)),min:"1",max:"365",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-gray-400 mb-2",children:"Internal Note"}),e.jsx("textarea",{className:"w-full p-4 rounded-xl bg-gray-50 border-transparent focus:bg-white ring-2 ring-transparent focus:ring-pink-100 outline-none font-medium text-sm transition-all resize-none h-24",placeholder:"Reason for gift (e.g. Referral Bonus, Birthday)",value:d,onChange:h=>x(h.target.value),required:!0})]})]})})})},k7=()=>{const{id:t}=Dd(),s=Gt(),[r,l]=j.useState(null),[i,o]=j.useState(!0);j.useEffect(()=>{t&&(async()=>{try{o(!0);const A=await Ur.getMemberById(t),L={...A,memberName:A.name,planName:A.plan||"Standard Plan",startDate:A.joinDate?new Date(A.joinDate).toLocaleDateString():"N/A",endDate:A.expiryDate?new Date(A.expiryDate).toLocaleDateString():"N/A",durationMonths:12,benefits:A.benefits||[],hasFaceId:!!A.avatar};l(L)}catch(A){console.error("Error fetching member details:",A),lt.error("Failed to load member details"),s("/memberships")}finally{o(!1)}})()},[t,s]);const[d,x]=j.useState(!1),[u,h]=j.useState(!1),p=j.useRef(null);if(i)return e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})});if(!r)return e.jsx("div",{className:"p-6 text-center text-muted",children:"Membership not found."});const g=r.status==="Frozen",y=async({duration:N,reason:A,isChargeable:L})=>{try{await Ur.freezeMember(t,{duration:N,reason:A,isChargeable:L}),lt.success("Membership frozen successfully");const M=await Ur.getMemberById(t);l(T=>({...T,...M,status:"Frozen",endDate:M.expiryDate?new Date(M.expiryDate).toLocaleDateString():T.endDate}))}catch{lt.error("Failed to freeze membership")}},f=async()=>{try{await Ur.unfreezeMember(t),lt.success("Membership resumed successfully"),l(N=>({...N,status:"Active"}))}catch{lt.error("Failed to resume membership")}},w=async({days:N,note:A})=>{try{await Ur.giftDays(t,{days:N,note:A}),lt.success(`Successfully added ${N} complimentary days`);const L=await Ur.getMemberById(t);l(M=>({...M,...L,endDate:L.expiryDate?new Date(L.expiryDate).toLocaleDateString():M.endDate,medicalHistory:L.medicalHistory}))}catch{lt.error("Failed to add gift days")}},S=()=>{p.current?.click()},v=N=>{const A=N.target.files?.[0];A&&(console.log("Selected file:",A.name),alert(`Selected file for Face ID: ${A.name}
In a real app, this would be uploaded to the server.`))};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col gap-4 sm:gap-6",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("button",{onClick:()=>s("/memberships"),className:"w-10 h-10 sm:w-12 sm:h-12 rounded-lg sm:rounded-xl bg-gradient-to-br from-slate-100 to-slate-200 hover:from-violet-100 hover:to-purple-100 flex items-center justify-center text-slate-600 hover:text-violet-600 shadow-md hover:shadow-lg transition-all duration-300 hover:scale-110 flex-shrink-0",children:e.jsx(kn,{size:18,className:"sm:w-5 sm:h-5",strokeWidth:2.5})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent truncate",children:"Membership Details"}),e.jsxs("p",{className:"text-slate-600 text-xs sm:text-sm mt-1",children:["ID: ",r.id]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:flex-wrap items-stretch sm:items-center gap-2 sm:gap-3",children:[e.jsxs("button",{onClick:()=>h(!0),className:"group flex items-center justify-center gap-2 px-4 sm:px-5 py-2.5 sm:py-3 bg-gradient-to-r from-pink-500 to-rose-500 text-white rounded-lg sm:rounded-xl text-xs sm:text-sm font-bold shadow-lg shadow-pink-500/50 hover:shadow-xl hover:shadow-pink-500/60 hover:scale-105 transition-all w-full sm:w-auto",children:[e.jsx(Nd,{size:16,strokeWidth:2.5,className:"sm:w-[18px] sm:h-[18px] transition-all duration-300 group-hover:scale-110 group-hover:rotate-12"}),"Gift Days"]}),e.jsxs("button",{onClick:g?f:()=>x(!0),className:"group flex items-center justify-center gap-2 px-4 sm:px-5 py-2.5 sm:py-3 bg-white border-2 border-slate-200 text-slate-700 hover:border-violet-300 hover:text-violet-600 rounded-lg sm:rounded-xl text-xs sm:text-sm font-bold shadow-sm hover:shadow-md hover:scale-105 transition-all w-full sm:w-auto",children:[g?e.jsx(eS,{size:16,strokeWidth:2.5,className:"sm:w-[18px] sm:h-[18px] transition-all duration-300 group-hover:scale-110"}):e.jsx(Rh,{size:16,strokeWidth:2.5,className:"sm:w-[18px] sm:h-[18px] transition-all duration-300 group-hover:scale-110"}),g?"Resume":"Freeze"]}),e.jsxs("button",{onClick:()=>s(`/memberships/${r.id}/edit`),className:"group flex items-center justify-center gap-2 px-4 sm:px-5 py-2.5 sm:py-3 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-lg sm:rounded-xl text-xs sm:text-sm font-bold shadow-xl shadow-violet-500/50 hover:shadow-2xl hover:shadow-violet-500/60 hover:scale-105 transition-all w-full sm:w-auto",children:[e.jsx(ar,{size:16,strokeWidth:2.5,className:"sm:w-[18px] sm:h-[18px] transition-all duration-300 group-hover:scale-110 group-hover:rotate-12"}),"Edit Membership"]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mb-4 sm:mb-6",children:[e.jsxs("div",{className:"group relative bg-white rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6 hover:shadow-2xl transition-all duration-300 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50/50 to-purple-50/50 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-4 sm:mb-6 pb-3 sm:pb-4 border-b border-slate-100",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg sm:rounded-xl bg-gradient-to-br from-violet-100 to-purple-100 flex items-center justify-center text-violet-600 shadow-md flex-shrink-0",children:e.jsx(rt,{size:16,className:"sm:w-5 sm:h-5",strokeWidth:2.5})}),e.jsx("h3",{className:"text-base sm:text-lg font-black text-slate-900",children:"Member Information"})]}),e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 p-3 sm:p-4 rounded-lg sm:rounded-xl bg-gradient-to-r from-slate-50 to-white border border-slate-100",children:[e.jsxs("div",{className:"relative flex-shrink-0",children:[e.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 rounded-xl sm:rounded-2xl bg-gradient-to-br from-violet-500 via-purple-500 to-fuchsia-500 flex items-center justify-center text-white shadow-lg",children:e.jsx(rt,{size:24,className:"sm:w-8 sm:h-8",strokeWidth:2.5})}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 sm:w-6 sm:h-6 bg-gradient-to-br from-emerald-400 to-emerald-600 rounded-full border-2 border-white flex items-center justify-center",children:e.jsx(al,{size:10,className:"sm:w-3 sm:h-3 text-white"})})]}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"font-black text-slate-900 text-base sm:text-lg truncate",children:r.memberName}),e.jsxs("div",{className:"text-xs sm:text-sm text-slate-500 font-semibold truncate",children:["Member ID: ",r.memberId]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(k0,{icon:Hr,label:"Email",value:r.email}),e.jsx(k0,{icon:qs,label:"Phone",value:r.phone}),e.jsx(k0,{icon:rt,label:"Gender",value:r.gender}),e.jsx(k0,{icon:Ye,label:"Join Date",value:r.joinDate})]})]})]})]}),e.jsxs("div",{className:"group relative bg-white rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6 hover:shadow-2xl transition-all duration-300 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50/50 to-violet-50/50 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-4 sm:mb-6 pb-3 sm:pb-4 border-b border-slate-100",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg sm:rounded-xl bg-gradient-to-br from-blue-100 to-violet-100 flex items-center justify-center text-blue-600 shadow-md flex-shrink-0",children:e.jsx(Os,{size:16,className:"sm:w-5 sm:h-5",strokeWidth:2.5})}),e.jsx("h3",{className:"text-base sm:text-lg font-black text-slate-900",children:"Plan Details"})]}),e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-start gap-2",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"text-xs sm:text-sm text-slate-500 font-semibold mb-1",children:"Current Plan"}),e.jsx("div",{className:"text-lg sm:text-xl lg:text-2xl font-black bg-gradient-to-r from-violet-600 to-purple-600 bg-clip-text text-transparent truncate",children:r.planName})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx(hw,{status:r.status})})]}),e.jsxs("div",{className:"p-3 sm:p-5 rounded-xl sm:rounded-2xl bg-gradient-to-br from-slate-50 to-white border-2 border-slate-100 space-y-2 sm:space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center gap-2",children:[e.jsx("span",{className:"text-xs sm:text-sm text-slate-600 font-bold",children:"Start Date"}),e.jsx("span",{className:"px-2 sm:px-3 py-1 sm:py-1.5 bg-gradient-to-r from-emerald-50 to-emerald-100 text-emerald-700 rounded-lg text-xs sm:text-sm font-black border border-emerald-200 whitespace-nowrap",children:r.startDate})]}),e.jsxs("div",{className:"flex justify-between items-center gap-2",children:[e.jsx("span",{className:"text-xs sm:text-sm text-slate-600 font-bold",children:"End Date"}),e.jsx("span",{className:"px-2 sm:px-3 py-1 sm:py-1.5 bg-gradient-to-r from-red-50 to-red-100 text-red-700 rounded-lg text-xs sm:text-sm font-black border border-red-200 whitespace-nowrap",children:r.endDate})]})]}),e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"inline-flex items-center gap-1.5 sm:gap-2 px-3 sm:px-4 py-1.5 sm:py-2 bg-gradient-to-r from-violet-500 to-purple-600 text-white rounded-lg sm:rounded-xl text-xs sm:text-sm font-black shadow-lg",children:[e.jsx(Ye,{size:14,className:"sm:w-4 sm:h-4"}),"Duration: ",r.durationMonths," Months"]})})]})]})]})]}),e.jsxs("div",{className:"group relative bg-white rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6 hover:shadow-2xl transition-all duration-300 overflow-hidden mb-4 sm:mb-6",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-50/50 to-purple-50/50 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-4 sm:mb-6 pb-3 sm:pb-4 border-b border-slate-100",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg sm:rounded-xl bg-gradient-to-br from-indigo-100 to-purple-100 flex items-center justify-center text-indigo-600 shadow-md flex-shrink-0",children:e.jsx(rt,{size:16,className:"sm:w-5 sm:h-5",strokeWidth:2.5})}),e.jsx("h3",{className:"text-base sm:text-lg font-black text-slate-900",children:"Biometric Access"})]}),e.jsxs("div",{onClick:S,className:"flex flex-col sm:flex-row items-center justify-between gap-4 p-4 sm:p-6 rounded-xl sm:rounded-2xl bg-gradient-to-r from-slate-50 to-white border-2 border-dashed border-slate-200 hover:border-violet-300 transition-all duration-300 cursor-pointer group/biometric",children:[e.jsx("input",{type:"file",ref:p,onChange:v,className:"hidden",accept:"image/*"}),e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 w-full sm:w-auto",children:[e.jsxs("div",{className:"relative flex-shrink-0",children:[e.jsx("div",{className:"w-14 h-14 sm:w-16 sm:h-16 rounded-xl sm:rounded-2xl bg-gradient-to-br from-indigo-500 via-purple-500 to-violet-500 flex items-center justify-center text-white shadow-xl group-hover/biometric:scale-110 transition-transform duration-300",children:e.jsx(rt,{size:28,className:"sm:w-8 sm:h-8",strokeWidth:2.5})}),r.hasFaceId&&e.jsx("div",{className:"absolute -top-1 -right-1",children:e.jsxs("span",{className:"relative flex h-3.5 w-3.5 sm:h-4 sm:w-4",children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"}),e.jsx("span",{className:"relative inline-flex rounded-full h-3.5 w-3.5 sm:h-4 sm:w-4 bg-emerald-500 border-2 border-white"})]})})]}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"font-black text-slate-900 text-sm sm:text-base group-hover/biometric:text-violet-600 transition-colors",children:"Face ID Avatar"}),e.jsx("div",{className:`text-xs sm:text-sm font-semibold ${r.hasFaceId?"text-emerald-600":"text-slate-500"}`,children:r.hasFaceId?"Registered & Active":"Not setup yet"})]})]}),e.jsx("button",{className:"group/btn px-4 sm:px-5 py-2.5 sm:py-3 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-lg sm:rounded-xl text-xs sm:text-sm font-bold shadow-lg shadow-indigo-500/50 hover:shadow-xl hover:shadow-indigo-500/60 hover:scale-105 transition-all w-full sm:w-auto",children:e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[r.hasFaceId?"Update Photo":"Upload Photo",e.jsx(al,{size:14,className:"sm:w-4 sm:h-4 transition-all duration-300 group-hover/btn:rotate-12"})]})})]})]})]}),e.jsxs("div",{className:"group relative bg-white rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6 hover:shadow-2xl transition-all duration-300 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-50/50 to-orange-50/50 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-4 sm:mb-6 pb-3 sm:pb-4 border-b border-slate-100",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg sm:rounded-xl bg-gradient-to-br from-amber-100 to-orange-100 flex items-center justify-center text-amber-600 shadow-md flex-shrink-0",children:e.jsx(al,{size:16,className:"sm:w-5 sm:h-5",strokeWidth:2.5})}),e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 min-w-0",children:[e.jsx("h3",{className:"text-base sm:text-lg font-black text-slate-900 truncate",children:"Included Benefits"}),e.jsx("span",{className:"px-1.5 sm:px-2 py-0.5 bg-gradient-to-r from-violet-500 to-purple-600 text-white text-[9px] sm:text-[10px] font-black rounded-md shadow-sm animate-pulse whitespace-nowrap flex-shrink-0",children:"PREMIUM "})]})]}),e.jsx(mw,{benefitIds:r.benefits,layout:"grid"})]})]}),e.jsxs("div",{className:`group relative bg-white rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6 hover:shadow-2xl transition-all duration-300 overflow-hidden mt-6 ${r.medicalHistory||r.fitnessGoal?"opacity-100":"opacity-80"}`,children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-50/50 to-pink-50/50 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-4 sm:mb-6 pb-3 sm:pb-4 border-b border-slate-100",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg sm:rounded-xl bg-gradient-to-br from-purple-100 to-pink-100 flex items-center justify-center text-purple-600 shadow-md flex-shrink-0",children:e.jsx(al,{size:16,className:"sm:w-5 sm:h-5",strokeWidth:2.5})}),e.jsx("h3",{className:"text-base sm:text-lg font-black text-slate-900",children:"Medical & Onboarding"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs sm:text-sm font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Medical History"}),e.jsx("div",{className:"p-4 rounded-xl bg-slate-50 border border-slate-100 text-slate-700 text-sm min-h-[100px]",children:r.medicalHistory||"No medical history reported."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs sm:text-sm font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Fitness Goal"}),e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-violet-50 to-purple-50 text-violet-700 rounded-lg border border-violet-100 font-bold text-sm",children:[e.jsx(al,{size:14}),r.fitnessGoal||"Not specified"]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-xs sm:text-sm font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Emergency Contact"}),e.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-slate-50 to-white border border-slate-100 space-y-3",children:[e.jsx(k0,{icon:rt,label:"Name",value:r.emergencyName||"N/A"}),e.jsx(k0,{icon:qs,label:"Phone",value:r.emergencyPhone||"N/A"})]})]})]})]})]}),e.jsx(w7,{isOpen:d,onClose:()=>x(!1),onFreeze:y,memberName:r.memberName}),e.jsx(N7,{isOpen:u,onClose:()=>h(!1),memberName:r.memberName,onGift:w})]})},k0=({icon:t,label:s,value:r})=>e.jsxs("div",{className:"group/row flex items-center justify-between p-3 rounded-lg hover:bg-slate-50 transition-all duration-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-violet-100 to-purple-100 flex items-center justify-center text-violet-600 transition-all duration-300 group-hover/row:scale-110",children:e.jsx(t,{size:16,strokeWidth:2.5})}),e.jsx("span",{className:"text-sm text-slate-600 font-semibold",children:s})]}),e.jsx("div",{className:"font-bold text-sm text-slate-900",children:r})]}),T1=()=>{const t=Gt(),{id:s}=Dd(),r=!!s,[l,i]=j.useState(!1),[o,d]=j.useState([]),[x,u]=j.useState({name:"",email:"",phone:"",gender:"Male",planId:"",startDate:new Date().toISOString().split("T")[0],amount:"",memberId:"",status:"Active",benefits:[],medicalHistory:"",fitnessGoal:"",emergencyName:"",emergencyPhone:""}),h=j.useRef(null);j.useEffect(()=>{(async()=>{try{i(!0);const v=await Ur.getPlans();if(d(v),r){const N=await Ur.getMemberById(s);u({name:N.name||"",email:N.email||"",phone:N.phone||"",gender:N.gender||"Male",planId:N.planId||"",startDate:N.joinDate?new Date(N.joinDate).toISOString().split("T")[0]:"",amount:"",memberId:N.memberId||"",status:N.status||"Active",benefits:N.benefits||[],medicalHistory:N.medicalHistory||"",fitnessGoal:N.fitnessGoal||"",emergencyName:N.emergencyName||"",emergencyPhone:N.emergencyPhone||""})}}catch(v){console.error("Initial load error:",v),lt.error("Failed to load required data"),r&&t("/memberships")}finally{i(!1)}})()},[r,s,t]);const p=S=>{const{name:v,value:N}=S.target;if(u(A=>({...A,[v]:N})),v==="planId"){const A=o.find(L=>L.id===parseInt(N));A&&u(L=>({...L,amount:A.price}))}},g=S=>{u(v=>{const N=v.benefits.includes(S)?v.benefits.filter(A=>A!==S):[...v.benefits,S];return{...v,benefits:N}})},y=()=>{h.current?.click()},f=S=>{const v=S.target.files?.[0];if(v){if(v.size>5*1024*1024){lt.error("File size too large (max 5MB)");return}const N=new FileReader;N.onloadend=()=>{u(A=>({...A,avatar:N.result})),lt.success("Image selected successfully")},N.onerror=()=>{lt.error("Failed to read file")},N.readAsDataURL(v)}},w=async S=>{S.preventDefault(),i(!0);try{r?(await Ur.updateMember(s,x),lt.success("Member updated successfully!")):(await Ur.createMember(x),lt.success("Member created successfully!")),t("/memberships")}catch(v){console.error("Submit error:",v),lt.error(v.response?.data?.message||"Operation failed")}finally{i(!1)}};return e.jsxs("div",{className:"bg-gradient-to-br from-gray-50 via-white to-indigo-50/30 p-6 pb-12",children:[e.jsxs("div",{className:"max-w-4xl mx-auto mb-8",children:[e.jsxs("button",{onClick:()=>t("/memberships"),className:"flex items-center gap-2 text-gray-600 hover:text-indigo-600 mb-4 transition-colors duration-300 group",children:[e.jsx(kn,{size:20,className:"transition-transform duration-300 group-hover:-translate-x-1"}),e.jsx("span",{className:"font-medium",children:"Back to Memberships"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsxs("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-gray-100 p-6",children:[e.jsxs("h1",{className:"text-3xl font-bold bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 bg-clip-text text-transparent flex items-center gap-3",children:[e.jsx(al,{className:"text-indigo-600",size:28}),r?"Edit Membership":"New Membership"]}),e.jsx("p",{className:"text-gray-600 text-sm mt-2",children:r?"Update membership details and benefits":"Create a new membership for your member"})]})]})]}),e.jsxs("form",{onSubmit:w,className:"max-w-4xl mx-auto space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden hover:shadow-2xl transition-all duration-500",children:[e.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 p-6",children:e.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[e.jsx(rt,{size:20}),"Membership Details"]})}),e.jsxs("div",{className:"p-8 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3 group col-span-2 md:col-span-1",children:[e.jsxs("label",{className:"block text-sm font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:["Full Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"name",value:x.name,onChange:p,className:"w-full px-5 py-4 bg-gradient-to-br from-white to-indigo-50/30 border-2 border-gray-200 rounded-2xl text-gray-900 text-sm focus:outline-none focus:ring-4 focus:ring-indigo-500/20 focus:border-indigo-500 hover:border-indigo-300 transition-all duration-300 shadow-md",placeholder:"John Doe",required:!0})]}),e.jsxs("div",{className:"space-y-3 group col-span-2 md:col-span-1",children:[e.jsxs("label",{className:"block text-sm font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:["Email Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"email",name:"email",value:x.email,onChange:p,className:"w-full px-5 py-4 bg-gradient-to-br from-white to-indigo-50/30 border-2 border-gray-200 rounded-2xl text-gray-900 text-sm focus:outline-none focus:ring-4 focus:ring-indigo-500/20 focus:border-indigo-500 hover:border-indigo-300 transition-all duration-300 shadow-md",placeholder:"john@example.com",required:!0})]}),e.jsxs("div",{className:"space-y-3 group col-span-2 md:col-span-1",children:[e.jsxs("label",{className:"block text-sm font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:["Phone Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"tel",name:"phone",value:x.phone,onChange:p,className:"w-full px-5 py-4 bg-gradient-to-br from-white to-indigo-50/30 border-2 border-gray-200 rounded-2xl text-gray-900 text-sm focus:outline-none focus:ring-4 focus:ring-indigo-500/20 focus:border-indigo-500 hover:border-indigo-300 transition-all duration-300 shadow-md",placeholder:"+1 234 567 890",required:!0})]}),e.jsxs("div",{className:"space-y-3 group col-span-2 md:col-span-1",children:[e.jsx("label",{className:"block text-sm font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:"Gender"}),e.jsxs("select",{name:"gender",value:x.gender,onChange:p,className:"w-full px-5 py-4 bg-gradient-to-br from-white to-indigo-50/30 border-2 border-gray-200 rounded-2xl text-gray-900 text-sm focus:outline-none focus:ring-4 focus:ring-indigo-500/20 focus:border-indigo-500 hover:border-indigo-300 transition-all duration-300 shadow-md",children:[e.jsx("option",{value:"Male",children:"Male"}),e.jsx("option",{value:"Female",children:"Female"}),e.jsx("option",{value:"Other",children:"Other"})]})]})]}),e.jsxs("div",{className:"space-y-3 group mt-6",children:[e.jsxs("label",{className:"block text-sm font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:["Select Plan ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:o.length===0?e.jsxs("div",{className:"col-span-3 py-10 text-center bg-gray-50 rounded-2xl border-2 border-dashed border-gray-200",children:[e.jsx(ps,{className:"mx-auto text-gray-400 mb-2",size:32}),e.jsx("p",{className:"text-gray-500 font-medium",children:"No plans found. Please create membership plans first."}),e.jsx("button",{type:"button",onClick:()=>t("/memberships/plans"),className:"mt-3 text-sm font-bold text-indigo-600 hover:text-indigo-800 underline",children:"Go to Plans Management"})]}):o.map(S=>e.jsxs("div",{onClick:()=>p({target:{name:"planId",value:S.id}}),className:`cursor-pointer relative p-4 rounded-xl border-2 transition-all duration-300 ${parseInt(x.planId)===S.id?"border-indigo-500 bg-indigo-50/50 shadow-lg shadow-indigo-500/10":"border-slate-100 hover:border-indigo-200 hover:shadow-md"}`,children:[parseInt(x.planId)===S.id&&e.jsx("div",{className:"absolute top-3 right-3 text-indigo-600",children:e.jsx($r,{size:18,strokeWidth:3})}),e.jsx("h3",{className:"font-bold text-slate-800",children:S.name}),e.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:[S.duration," ",S.durationType||"Month",S.duration>1?"s":""]}),e.jsxs("div",{className:"mt-3 text-lg font-black text-indigo-600",children:["",S.price]})]},S.id))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[e.jsxs("div",{className:"space-y-3 group",children:[e.jsxs("label",{className:"block text-sm font-bold bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent",children:["Start Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Ye,{size:18,className:"absolute left-5 top-1/2 -translate-y-1/2 text-gray-400 transition-all duration-300 group-focus-within:text-blue-500"}),e.jsx("input",{type:"date",name:"startDate",value:x.startDate,onChange:p,className:"w-full pl-14 pr-5 py-4 bg-gradient-to-br from-white to-blue-50/30 border-2 border-gray-200 rounded-2xl text-gray-900 text-sm focus:outline-none focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 hover:border-blue-300 hover:shadow-lg transition-all duration-300 shadow-md",required:!0})]})]}),e.jsxs("div",{className:"space-y-3 group",children:[e.jsxs("label",{className:"block text-sm font-bold bg-gradient-to-r from-emerald-600 to-teal-600 bg-clip-text text-transparent",children:["Status ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{name:"status",value:x.status,onChange:p,className:"w-full px-5 py-4 bg-gradient-to-br from-white to-emerald-50/30 border-2 border-gray-200 rounded-2xl text-gray-900 text-sm focus:outline-none focus:ring-4 focus:ring-emerald-500/20 focus:border-emerald-500 hover:border-emerald-300 hover:shadow-lg transition-all duration-300 shadow-md",children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Frozen",children:"Frozen"}),e.jsx("option",{value:"Expired",children:"Expired"})]})]})]}),e.jsxs("div",{className:"space-y-5 pt-6 border-t-2 border-gray-100 mt-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center shadow-lg",children:e.jsx(as,{className:"w-6 h-6 text-white"})}),e.jsx("h3",{className:"text-xl font-black bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:"Included Benefits"})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:q0.map(S=>e.jsxs("div",{className:`relative flex items-start p-4 rounded-xl border-2 transition-all duration-300 cursor-pointer hover:scale-105 hover:shadow-lg group ${x.benefits.includes(S.id)?"bg-gradient-to-br from-indigo-50 to-purple-50 border-indigo-300 shadow-md":"bg-white border-gray-200 hover:border-indigo-200 hover:bg-indigo-50/30"}`,children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:S.id,type:"checkbox",className:"h-5 w-5 rounded-lg border-2 border-gray-300 text-indigo-600 focus:ring-4 focus:ring-indigo-500/20 transition-all duration-300 cursor-pointer hover:scale-125 checked:scale-125 hover:shadow-lg",checked:x.benefits.includes(S.id),onChange:()=>g(S.id)})}),e.jsx("div",{className:"ml-3 text-sm flex-1",children:e.jsx("label",{htmlFor:S.id,className:`font-semibold cursor-pointer select-none transition-all duration-300 ${x.benefits.includes(S.id)?"text-indigo-700":"text-gray-700 group-hover:text-indigo-600"}`,children:S.name})}),x.benefits.includes(S.id)&&e.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-gradient-to-r from-emerald-500 to-teal-500 rounded-full flex items-center justify-center shadow-lg animate-bounce",children:e.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]},S.id))})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden hover:shadow-2xl transition-all duration-500",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 p-6",children:e.jsx("h2",{className:"text-xl font-bold text-white",children:"Medical & Onboarding"})}),e.jsxs("div",{className:"p-8 space-y-6",children:[e.jsxs("div",{className:"space-y-3 group",children:[e.jsx("label",{className:"block text-sm font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Medical History / Conditions"}),e.jsx("textarea",{name:"medicalHistory",className:"w-full px-5 py-4 bg-gradient-to-br from-white to-purple-50/30 border-2 border-gray-200 rounded-2xl text-gray-900 text-sm placeholder-gray-400 focus:outline-none focus:ring-4 focus:ring-purple-500/20 focus:border-purple-500 hover:border-purple-300 hover:shadow-lg transition-all duration-300 shadow-md resize-none",rows:"4",placeholder:"Any injuries, surgeries, or conditions we should be aware of?",value:x.medicalHistory||"",onChange:p})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3 group",children:[e.jsx("label",{className:"block text-sm font-bold bg-gradient-to-r from-pink-600 to-rose-600 bg-clip-text text-transparent",children:"Fitness Goal"}),e.jsxs("select",{name:"fitnessGoal",className:"w-full px-5 py-4 bg-gradient-to-br from-white to-pink-50/30 border-2 border-gray-200 rounded-2xl text-gray-900 text-sm focus:outline-none focus:ring-4 focus:ring-pink-500/20 focus:border-pink-500 hover:border-pink-300 hover:shadow-lg transition-all duration-300 shadow-md",value:x.fitnessGoal||"",onChange:p,children:[e.jsx("option",{value:"",children:"Select Goal"}),e.jsx("option",{value:"Weight Loss",children:"Weight Loss"}),e.jsx("option",{value:"Muscle Gain",children:"Muscle Gain"}),e.jsx("option",{value:"Endurance",children:"General Endurance"}),e.jsx("option",{value:"Flexibility",children:"Flexibility & Mobility"}),e.jsx("option",{value:"Rehabilitation",children:"Rehabilitation"})]})]}),e.jsxs("div",{className:"space-y-3 group",children:[e.jsx("label",{className:"block text-sm font-bold bg-gradient-to-r from-rose-600 to-orange-600 bg-clip-text text-transparent",children:"Emergency Contact Name"}),e.jsx("input",{type:"text",name:"emergencyName",className:"w-full px-5 py-4 bg-gradient-to-br from-white to-rose-50/30 border-2 border-gray-200 rounded-2xl text-gray-900 text-sm placeholder-gray-400 focus:outline-none focus:ring-4 focus:ring-rose-500/20 focus:border-rose-500 hover:border-rose-300 hover:shadow-lg transition-all duration-300 shadow-md",placeholder:"Name",value:x.emergencyName||"",onChange:p})]})]}),e.jsxs("div",{className:"space-y-3 group",children:[e.jsx("label",{className:"block text-sm font-bold bg-gradient-to-r from-orange-600 to-amber-600 bg-clip-text text-transparent",children:"Emergency Contact Phone"}),e.jsx("input",{type:"tel",name:"emergencyPhone",className:"w-full px-5 py-4 bg-gradient-to-br from-white to-orange-50/30 border-2 border-gray-200 rounded-2xl text-gray-900 text-sm placeholder-gray-400 focus:outline-none focus:ring-4 focus:ring-orange-500/20 focus:border-orange-500 hover:border-orange-300 hover:shadow-lg transition-all duration-300 shadow-md",placeholder:"+91...",value:x.emergencyPhone||"",onChange:p})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden hover:shadow-2xl transition-all duration-500",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-cyan-600 p-6",children:e.jsx("h2",{className:"text-xl font-bold text-white",children:"Biometric Data"})}),e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{onClick:y,className:"border-2 border-dashed border-indigo-200 rounded-2xl p-12 flex flex-col items-center justify-center text-center cursor-pointer hover:bg-gradient-to-br hover:from-indigo-50 hover:to-purple-50 hover:border-indigo-400 transition-all duration-300 group relative overflow-hidden",children:[e.jsx("input",{type:"file",ref:h,onChange:f,className:"hidden",accept:"image/*"}),x.avatar?e.jsxs("div",{className:"absolute inset-0 w-full h-full",children:[e.jsx("img",{src:x.avatar,alt:"Face ID",className:"w-full h-full object-cover opacity-50 group-hover:opacity-30 transition-opacity"}),e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[e.jsx("div",{className:"w-16 h-16 bg-white/80 backdrop-blur-sm rounded-full flex items-center justify-center mb-2 shadow-lg",children:e.jsx(Af,{size:24,className:"text-indigo-600"})}),e.jsx("span",{className:"font-bold text-gray-900 bg-white/50 px-3 py-1 rounded-full",children:"Change Photo"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300 shadow-lg",children:e.jsx(Af,{size:32,className:"text-white"})}),e.jsx("span",{className:"text-base font-bold text-gray-900 mb-1",children:"Upload Face ID Avatar"}),e.jsx("span",{className:"text-sm text-gray-500",children:"For Turnstile Access"})]})]}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs("ul",{className:"space-y-3 text-gray-600",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-full"}),"Ensure good lighting"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-purple-500 to-pink-600 rounded-full"}),"Neutral expression"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-pink-500 to-rose-600 rounded-full"}),"No accessories (glasses/hats)"]})]})})]})})]}),e.jsxs("div",{className:"flex flex-col-reverse sm:flex-row items-center justify-end gap-4 pt-4",children:[e.jsxs("button",{type:"button",onClick:()=>t("/memberships"),className:"w-full sm:w-auto px-8 py-4 bg-white border-2 border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 hover:border-gray-400 hover:shadow-lg transition-all duration-300 flex items-center justify-center gap-2",children:[e.jsx(wl,{size:18}),"Cancel"]}),e.jsxs("button",{type:"submit",disabled:l,className:"group w-full sm:w-auto px-8 py-4 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl font-semibold shadow-lg hover:shadow-xl hover:shadow-indigo-500/50 hover:scale-105 hover:-translate-y-1 transition-all duration-300 flex items-center justify-center gap-2",children:[l?e.jsx(wn,{size:18,className:"animate-spin"}):e.jsx(xa,{size:18,className:"transition-transform duration-300 group-hover:rotate-12"}),r?"Update Membership":"Save Membership"]})]})]})]})},S7=()=>{const t=q0.map(s=>s.id);return e.jsxs("div",{className:"fade-in",children:[e.jsx("h2",{className:"text-title",style:{marginBottom:"var(--space-4)"},children:"Membership Benefits"}),e.jsx("div",{style:{marginBottom:"var(--space-4)",color:"var(--muted)",maxWidth:"600px"},children:"These are the standardized benefits available across various membership plans. Configure them when creating new plans or assigning memberships."}),e.jsx(is,{children:e.jsx(mw,{benefitIds:t,layout:"grid"})})]})},Lp={Dumbbell:qr,User:rt,Users:Et,Utensils:Dc,Lock:Fs,Thermometer:Wj,Zap:ha,Droplets:Tj,Activity:Wt,Clock:Je,Calendar:Ye},C7=()=>{const[t,s]=j.useState(q0),[r,l]=j.useState(!1),[i,o]=j.useState(null),[d,x]=j.useState({name:"",type:"recurring",limit:"",icon:"Dumbbell",description:""}),u=y=>{o(y),x(y),l(!0)},h=y=>{window.confirm("Are you sure you want to delete this benefit?")&&s(f=>f.filter(w=>w.id!==y))},p=y=>{if(y.preventDefault(),i)s(f=>f.map(w=>w.id===i.id?{...d,id:w.id}:w));else{const f={...d,id:d.name.toLowerCase().replace(/\s+/g,"_")+"_"+Date.now()};s(w=>[...w,f])}l(!1),o(null),x({name:"",type:"recurring",limit:"",icon:"Dumbbell",description:""})},g=()=>{o(null),x({name:"",type:"recurring",limit:"",icon:"Dumbbell",description:""}),l(!0)};return e.jsxs("div",{className:"space-y-6 fade-in p-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-black text-gray-900 tracking-tight",children:"Benefits Configuration"}),e.jsx("p",{className:"text-gray-500 font-bold mt-1",children:"Define standard benefits for membership tiers."})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"hidden lg:flex flex-col items-end mr-6",children:[e.jsxs("span",{className:"text-[10px] font-black text-indigo-600 uppercase tracking-widest flex items-center gap-1",children:[e.jsx(nu,{size:12})," SaaS Sync Active"]}),e.jsx("span",{className:"text-[8px] font-bold text-slate-400 uppercase",children:"Controlled by Plan Limits"})]}),e.jsxs(Ht,{variant:"primary",onClick:g,className:"px-6 py-3 rounded-xl shadow-lg shadow-indigo-200",children:[e.jsx(St,{size:20,className:"mr-2"}),"Create New Benefit"]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(y=>{const f=Lp[y.icon]||qr;return e.jsxs("div",{className:"bg-white p-6 rounded-[24px] shadow-xl shadow-gray-100/50 border border-gray-50 hover:border-indigo-100 transition-all group relative overflow-hidden",children:[e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-indigo-50 text-indigo-600 rounded-2xl flex items-center justify-center group-hover:scale-110 transition-transform",children:e.jsx(f,{size:24,strokeWidth:2.5})}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity flex gap-2",children:[e.jsx("button",{onClick:()=>u(y),className:"p-2 hover:bg-gray-100 rounded-lg text-gray-500 hover:text-indigo-600",children:e.jsx(ar,{size:16})}),e.jsx("button",{onClick:()=>h(y.id),className:"p-2 hover:bg-red-50 rounded-lg text-gray-500 hover:text-red-500",children:e.jsx(Ms,{size:16})})]})})]}),e.jsx("h3",{className:"text-xl font-black text-gray-900 mb-1",children:y.name}),e.jsxs("div",{className:"flex items-center gap-1.5 mb-3",children:[e.jsx("div",{className:"w-1 h-3 bg-indigo-500 rounded-full"}),e.jsx("span",{className:"text-[10px] font-black text-indigo-500 uppercase tracking-widest",children:"SaaS Sync Logic"})]}),e.jsxs("p",{className:"text-gray-500 text-sm font-medium mb-4 min-h-[40px] italic line-clamp-2",children:['"',y.description,'"']}),e.jsxs("div",{className:"flex items-center gap-3 pt-4 border-t border-gray-50",children:[e.jsx("div",{className:`px-3 py-1 rounded-lg text-xs font-black uppercase tracking-wider ${y.type==="recurring"?"bg-emerald-50 text-emerald-600":"bg-orange-50 text-orange-600"}`,children:y.type==="recurring"?"Monthly":"Global"}),e.jsxs("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-tighter",children:["Default Limit: ",e.jsx("span",{className:"text-gray-900 ml-1 font-black",children:y.limit})]})]})]}),e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gray-50/50 rounded-full -mr-16 -mt-16 group-hover:bg-indigo-50/50 transition-colors pointer-events-none"})]},y.id)})}),r&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:e.jsxs("div",{className:"bg-white rounded-[32px] w-full max-w-lg shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-100 bg-gray-50/50 overflow-hidden relative",children:e.jsxs("div",{className:"relative z-10 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-black text-gray-900",children:i?"Refine Benefit":"Establish Benefit"}),e.jsxs("p",{className:"text-[10px] font-bold text-indigo-600 uppercase tracking-widest flex items-center gap-1 mt-1",children:[e.jsx(al,{size:12})," Managed by SaaS Subscription"]})]}),e.jsx("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-gray-600 bg-white p-2 rounded-xl shadow-sm border border-gray-100",children:e.jsx(wl,{size:20})})]})}),e.jsxs("form",{onSubmit:p,className:"p-6 space-y-5",children:[e.jsxs("div",{className:"p-4 bg-indigo-50 rounded-2xl border border-indigo-100 mb-2",children:[e.jsxs("h4",{className:"text-[10px] font-black text-indigo-700 uppercase tracking-widest mb-1 flex items-center gap-2",children:[e.jsx(Yn,{size:14})," Usage Logic Reminder"]}),e.jsx("p",{className:"text-[11px] font-bold text-indigo-600/70 leading-relaxed",children:"Individual member usage for this benefit will be capped based on their plan's quota set in Plan Management."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-gray-400 mb-2 ml-1",children:"Benefit Designation"}),e.jsx(Wn,{className:"w-full h-14 bg-gray-50 border-transparent focus:bg-white transition-all font-black text-lg placeholder:text-gray-300",placeholder:"e.g. Steam Room Access",value:d.name,onChange:y=>x({...d,name:y.target.value}),required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-gray-400 mb-2 ml-1",children:"Sync Strategy"}),e.jsxs("select",{className:"w-full h-12 px-4 rounded-xl bg-gray-50 border-transparent focus:bg-white ring-2 ring-transparent focus:ring-indigo-100 outline-none font-bold text-sm appearance-none",value:d.type,onChange:y=>x({...d,type:y.target.value}),children:[e.jsx("option",{value:"recurring",children:"Monthly Reset"}),e.jsx("option",{value:"global",children:"Lifetime Quota"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-gray-400 mb-2 ml-1",children:"Base Usage Cap"}),e.jsx(Wn,{className:"w-full h-12 bg-gray-50 border-transparent focus:bg-white transition-all font-bold",placeholder:"e.g. 10 or Unlimited",value:d.limit,onChange:y=>x({...d,limit:y.target.value}),required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-gray-400 mb-2 ml-1",children:"Visual Identity (Icon)"}),e.jsx("div",{className:"grid grid-cols-6 gap-2",children:Object.keys(Lp).map(y=>{const f=Lp[y];return e.jsx("button",{type:"button",onClick:()=>x({...d,icon:y}),className:`p-3 rounded-xl flex items-center justify-center transition-all ${d.icon===y?"bg-indigo-600 text-white shadow-lg shadow-indigo-200 scale-110":"bg-gray-50 text-gray-400 hover:bg-gray-100"}`,children:e.jsx(f,{size:18})},y)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-gray-400 mb-2 ml-1",children:"Detailed Description"}),e.jsx("textarea",{className:"w-full p-4 rounded-xl bg-gray-50 border-transparent focus:bg-white ring-2 ring-transparent focus:ring-indigo-100 outline-none font-medium text-sm transition-all resize-none h-24",placeholder:"Brief description of the benefit...",value:d.description,onChange:y=>x({...d,description:y.target.value})})]}),e.jsxs("div",{className:"pt-4 flex gap-3",children:[e.jsx(Ht,{type:"button",variant:"outline",onClick:()=>l(!1),className:"flex-1 py-4 rounded-xl font-black uppercase tracking-widest text-xs",children:"Discard"}),e.jsx(Ht,{type:"submit",variant:"primary",className:"flex-1 py-4 rounded-xl shadow-lg shadow-indigo-200 font-black uppercase tracking-widest text-xs",children:"Commit Benefit"})]})]})]})})]})},A7=[{id:1,memberName:"Sarah Williams",memberId:"M-104",plan:"Platinum Annual",duration:"1 Month",reason:"Traveling for business",requestedOn:"2025-02-04"},{id:2,memberName:"Mike Johnson",memberId:"M-103",plan:"Bronze Quarterly",duration:"2 Months",reason:"Medical injury (sprained ankle)",requestedOn:"2025-02-05"},{id:3,memberName:"Emily Davis",memberId:"M-108",plan:"Gold Annual",duration:"3 Months",reason:"Personal reasons",requestedOn:"2025-02-01"}],M7=()=>{const[t,s]=j.useState(A7),r=(l,i)=>{window.confirm(`Are you sure you want to ${i} this request?`)&&(s(o=>o.filter(d=>d.id!==l)),alert(`Request ${i==="approve"?"Approved":"Rejected"} successfully.`))};return e.jsxs("div",{className:"fade-in space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-black text-gray-900 tracking-tight",children:"Freeze Requests"}),e.jsx("p",{className:"text-gray-500 font-bold mt-1",children:"Manage member membership freeze approvals."})]}),e.jsxs("div",{className:"bg-orange-50 text-orange-600 px-4 py-2 rounded-xl text-sm font-bold flex items-center gap-2",children:[e.jsx(Je,{size:18}),"Pending: ",t.length]})]}),e.jsx("div",{className:"grid gap-4",children:t.length===0?e.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-2xl border-2 border-dashed border-gray-200",children:[e.jsx(Rh,{className:"mx-auto h-12 w-12 text-gray-300 mb-3"}),e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"No Pending Requests"}),e.jsx("p",{className:"text-gray-500",children:"All freeze requests have been processed."})]}):t.map(l=>e.jsx(is,{className:"hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4 items-start md:items-center",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center text-gray-500",children:e.jsx(rt,{size:24})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"font-bold text-lg text-gray-900",children:l.memberName}),e.jsx("span",{className:"text-xs font-mono bg-gray-100 px-2 py-0.5 rounded text-gray-600",children:l.memberId})]}),e.jsxs("div",{className:"flex gap-4 text-sm text-gray-500 font-medium",children:[e.jsx("span",{children:l.plan}),e.jsx("span",{children:""}),e.jsxs("span",{className:"text-orange-600 bg-orange-50 px-2 rounded-md",children:["Requesting: ",l.duration]})]}),e.jsxs("div",{className:"mt-2 text-sm bg-gray-50 p-2 rounded-lg border border-gray-100 max-w-xl text-gray-700",children:[e.jsx("span",{className:"font-bold text-gray-400 text-xs uppercase tracking-wide mr-2",children:"Reason:"}),l.reason]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 w-full md:w-auto mt-2 md:mt-0",children:[e.jsxs("div",{className:"text-right mr-4 hidden md:block",children:[e.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase",children:"Requested On"}),e.jsx("div",{className:"text-sm font-bold text-gray-900",children:l.requestedOn})]}),e.jsxs(Ht,{onClick:()=>r(l.id,"reject"),className:"flex-1 md:flex-none border-red-200 text-red-600 hover:bg-red-50 hover:border-red-300",variant:"outline",children:[e.jsx(wl,{size:18,className:"mr-2"})," Reject"]}),e.jsxs(Ht,{onClick:()=>r(l.id,"approve"),className:"flex-1 md:flex-none bg-emerald-500 hover:bg-emerald-600 shadow-emerald-200 shadow-lg border-transparent",variant:"primary",children:[e.jsx($r,{size:18,className:"mr-2"})," Approve"]})]})]})},l.id))})]})},D7=({isOpen:t,onClose:s,onSave:r,initialData:l})=>{const[i,o]=j.useState({name:"",price:"",duration:"",durationType:"Months",description:"",benefits:[]});j.useEffect(()=>{t&&o(l||{name:"",price:"",duration:"",durationType:"Months",description:"",creditsPerBooking:1,maxBookingsPerDay:1,maxBookingsPerWeek:7,cancellationWindow:4,benefits:[]})},[t,l]);const d=h=>{o(p=>{if(p.benefits.find(y=>y.id===h))return{...p,benefits:p.benefits.filter(y=>y.id!==h)};{const y=q0.find(f=>f.id===h);return{...p,benefits:[...p.benefits,{id:h,limit:y?.limit||"Unlimited"}]}}})},x=(h,p)=>{o(g=>({...g,benefits:g.benefits.map(y=>y.id===h?{...y,limit:p}:y)}))},u=h=>{h.preventDefault(),r(i),s()};return e.jsx(at,{isOpen:t,onClose:s,title:l?"Edit Membership Plan":"Create Membership Plan",subtitle:"Configure plan details and benefits",maxWidth:"max-w-2xl",footer:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(Ht,{type:"button",variant:"outline",onClick:s,className:"flex-1 py-3 rounded-xl",children:"Cancel"}),e.jsxs(Ht,{type:"submit",form:"membership-plan-form",variant:"primary",className:"flex-1 py-3 rounded-xl shadow-lg shadow-indigo-200",children:[e.jsx(xa,{size:18,className:"mr-2"}),"Save Plan"]})]}),children:e.jsxs("form",{id:"membership-plan-form",onSubmit:u,className:"p-6 space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide border-b border-gray-100 pb-2",children:"Plan Details"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2",children:"Plan Name"}),e.jsx(Wn,{value:i.name,onChange:h=>o({...i,name:h.target.value}),placeholder:"e.g. Gold Annual",className:"font-bold",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2",children:"Price ()"}),e.jsx(Wn,{type:"number",value:i.price,onChange:h=>o({...i,price:h.target.value}),placeholder:"e.g. 19999",className:"font-bold",required:!0})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2",children:"Duration"}),e.jsx(Wn,{type:"number",value:i.duration,onChange:h=>o({...i,duration:h.target.value}),placeholder:"e.g. 12",className:"font-bold",required:!0})]}),e.jsxs("div",{className:"w-1/3",children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2",children:"Unit"}),e.jsxs("select",{className:"w-full h-12 bg-gray-50 border-transparent rounded-xl text-sm font-bold focus:bg-white focus:ring-2 focus:ring-indigo-100 outline-none",value:i.durationType,onChange:h=>o({...i,durationType:h.target.value}),children:[e.jsx("option",{children:"Months"}),e.jsx("option",{children:"Days"}),e.jsx("option",{children:"Years"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2",children:"Description"}),e.jsx("textarea",{className:"w-full p-4 bg-gray-50 border-transparent rounded-xl text-sm font-medium focus:bg-white focus:ring-2 focus:ring-indigo-100 outline-none resize-none h-24 transition-all",placeholder:"What does this plan include?",value:i.description,onChange:h=>o({...i,description:h.target.value})})]})]}),e.jsxs("div",{className:"space-y-4 pt-4",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide border-b border-gray-100 pb-2",children:"Booking & Consumption"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2",children:"Credits / Booking"}),e.jsx(Wn,{type:"number",value:i.creditsPerBooking,onChange:h=>o({...i,creditsPerBooking:h.target.value}),className:"font-bold"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2",children:"Cancellation Window (Hrs)"}),e.jsx(Wn,{type:"number",value:i.cancellationWindow,onChange:h=>o({...i,cancellationWindow:h.target.value}),className:"font-bold"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2",children:"Max Bookings / Day"}),e.jsx(Wn,{type:"number",value:i.maxBookingsPerDay,onChange:h=>o({...i,maxBookingsPerDay:h.target.value}),className:"font-bold"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2",children:"Max Bookings / Week"}),e.jsx(Wn,{type:"number",value:i.maxBookingsPerWeek,onChange:h=>o({...i,maxBookingsPerWeek:h.target.value}),className:"font-bold"})]})]})]}),e.jsxs("div",{className:"space-y-4 pt-4",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-gray-100 pb-2",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide",children:"Included Benefits"}),e.jsxs("span",{className:"text-xs font-bold text-indigo-600 bg-indigo-50 px-2 py-1 rounded-md",children:[i.benefits?.length||0," Selected"]})]}),e.jsx("div",{className:"space-y-3",children:q0.map(h=>{const p=i.benefits?.find(g=>g.id===h.id);return e.jsx("div",{className:`p-4 rounded-xl border-2 transition-all ${p?"border-indigo-500 bg-indigo-50/10":"border-gray-100 bg-white hover:border-indigo-200"}`,children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{onClick:()=>d(h.id),className:`mt-1 w-5 h-5 rounded-md border-2 flex items-center justify-center cursor-pointer transition-colors ${p?"bg-indigo-500 border-indigo-500":"border-gray-300"}`,children:p&&e.jsx($r,{size:14,className:"text-white",strokeWidth:3})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex justify-between items-start",children:e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900",children:h.name}),e.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:h.description})]})}),p&&e.jsx("div",{className:"mt-3 flex items-center gap-3 animate-in fade-in slide-in-from-top-1",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wider block mb-1",children:["Usage Limit (",h.type==="recurring"?"Per Month":"Total",")"]}),e.jsx("input",{type:"text",className:"w-full h-9 px-3 bg-white border border-indigo-200 rounded-lg text-sm font-bold text-indigo-700 outline-none focus:ring-2 focus:ring-indigo-100",value:p.limit,onChange:g=>x(h.id,g.target.value),placeholder:"e.g. 5 or Unlimited"})]})})]})]})},h.id)})})]})]})})},L7=()=>{const[t,s]=j.useState([]),[r,l]=j.useState(!1),[i,o]=j.useState(!1),[d,x]=j.useState(null),[u,h]=j.useState(""),[p,g]=j.useState("grid"),y=async()=>{try{l(!0);const A=await Ur.getPlans();s(A)}catch{lt.error("Failed to fetch plans")}finally{l(!1)}};so.useEffect(()=>{y()},[]);const f=async A=>{try{d?(await Ur.updatePlan(d.id,A),lt.success("Plan updated successfully")):(await Ur.createPlan(A),lt.success("Plan created successfully")),y()}catch(L){lt.error(L.response?.data?.message||"Operation failed")}},w=A=>{x(A),o(!0)},S=async A=>{if(window.confirm("Are you sure you want to delete this plan?"))try{await Ur.deletePlan(A),lt.success("Plan deleted successfully"),y()}catch{lt.error("Failed to delete plan")}},v=()=>{x(null),o(!0)},N=t.filter(A=>A.name.toLowerCase().includes(u.toLowerCase()));return e.jsxs("div",{className:"p-6 pb-20 animate-in fade-in space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-black text-gray-900 tracking-tight flex items-center gap-2",children:[e.jsx(cS,{className:"text-yellow-500 fill-yellow-500"}),"Membership Plans"]}),e.jsx("p",{className:"text-gray-500 font-medium mt-1",children:"Configure plan tiers, pricing, and benefits."})]}),e.jsxs("button",{onClick:v,className:"w-full md:w-auto px-6 py-3 bg-indigo-600 text-white rounded-xl font-bold shadow-lg shadow-indigo-200 hover:bg-indigo-700 hover:scale-105 transition-all flex items-center justify-center gap-2",children:[e.jsx(St,{size:20,strokeWidth:3}),"Create New Plan"]})]}),e.jsxs("div",{className:"flex items-center gap-4 bg-white p-4 rounded-2xl shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(Qe,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{type:"text",placeholder:"Search plans...",className:"w-full pl-11 pr-4 py-3 bg-gray-50 border-transparent rounded-xl font-medium focus:bg-white focus:ring-2 focus:ring-indigo-100 outline-none transition-all",value:u,onChange:A=>h(A.target.value)})]}),e.jsxs("div",{className:"flex items-center gap-1 bg-gray-50 p-1 rounded-xl",children:[e.jsx("button",{onClick:()=>g("grid"),className:`p-2 rounded-lg transition-all ${p==="grid"?"bg-white shadow text-indigo-600":"text-gray-400 hover:text-gray-600"}`,children:e.jsx(Oj,{size:20})}),e.jsx("button",{onClick:()=>g("list"),className:`p-2 rounded-lg transition-all ${p==="list"?"bg-white shadow text-indigo-600":"text-gray-400 hover:text-gray-600"}`,children:e.jsx(VS,{size:20})})]})]}),e.jsx("div",{className:`grid ${p==="grid"?"grid-cols-1 md:grid-cols-2 xl:grid-cols-3":"grid-cols-1"} gap-6`,children:N.map(A=>e.jsxs("div",{className:"group relative bg-white rounded-[32px] p-8 shadow-xl shadow-gray-100/50 border border-gray-100 min-h-[500px] flex flex-col hover:border-indigo-100 transition-all hover:-translate-y-1",children:[e.jsxs("div",{className:"absolute top-6 right-6 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:()=>w(A),className:"p-2 hover:bg-indigo-50 text-gray-400 hover:text-indigo-600 rounded-lg transition-colors",children:e.jsx(ar,{size:16})}),e.jsx("button",{onClick:()=>S(A.id),className:"p-2 hover:bg-red-50 text-gray-400 hover:text-red-600 rounded-lg transition-colors",children:e.jsx(Ms,{size:16})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-2xl font-black text-gray-900 mb-2",children:A.name}),e.jsxs("div",{className:"flex items-baseline gap-1",children:[e.jsxs("span",{className:"text-4xl font-black text-indigo-600 tracking-tight",children:["",A.price]}),e.jsxs("span",{className:"text-sm font-bold text-gray-400",children:["/ ",A.duration," ",A.durationType]})]}),e.jsx("p",{className:"text-gray-500 font-medium mt-3 text-sm leading-relaxed",children:A.description})]}),e.jsxs("div",{className:"space-y-3 pt-6 border-t border-gray-100",children:[e.jsxs("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider flex items-center gap-2",children:[e.jsx(al,{size:12,className:"text-yellow-500"}),"Booking Rules"]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("span",{className:"px-3 py-1.5 bg-violet-50 text-violet-700 rounded-lg text-xs font-bold border border-violet-100 italic",children:[A.creditsPerBooking," Credit / Booking"]}),e.jsxs("span",{className:"px-3 py-1.5 bg-blue-50 text-blue-700 rounded-lg text-xs font-bold border border-blue-100",children:["Max ",A.maxBookingsPerDay,"/day  ",A.maxBookingsPerWeek,"/week"]}),e.jsxs("span",{className:"px-3 py-1.5 bg-rose-50 text-rose-700 rounded-lg text-xs font-bold border border-rose-100",children:[A.cancellationWindow,"h Cancellation"]})]})]}),e.jsxs("div",{className:"space-y-3 pt-6 border-t border-gray-100",children:[e.jsxs("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider flex items-center gap-2",children:[e.jsx(al,{size:12,className:"text-yellow-500"}),A.benefits?.length," Included Benefits"]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[A.benefits?.slice(0,3).map((L,M)=>e.jsxs("span",{className:"px-3 py-1.5 bg-indigo-50 text-indigo-700 rounded-lg text-xs font-bold border border-indigo-100",children:[L.limit==="Unlimited"?"":L.limit," ",(L.id||"benefit").replace(/_/g," ")]},M)),A.benefits?.length>3&&e.jsxs("span",{className:"px-3 py-1.5 bg-gray-50 text-gray-500 rounded-lg text-xs font-bold border border-gray-100",children:["+",A.benefits.length-3," more"]},3)]})]}),e.jsx("div",{className:"mt-auto pt-8",children:e.jsx("button",{onClick:()=>w(A),className:"w-full py-3 bg-gray-900 text-white rounded-xl font-bold hover:bg-gray-800 transition-all shadow-lg active:scale-95",children:"Edit Plan Details"})})]},A.id))}),e.jsx(D7,{isOpen:i,onClose:()=>o(!1),onSave:f,initialData:d})]})},z7=({isOpen:t,onClose:s,member:r})=>{const[l,i]=j.useState(""),[o,d]=j.useState(1),[x,u]=j.useState(""),[h,p]=j.useState(!1),[g,y]=j.useState(!1);j.useEffect(()=>{if(r){const A=nh.find(L=>L.name===r.planName);i(A?.id||nh[0].id),f(1)}},[r]);const f=A=>{const L=new Date,M=new Date(L.setMonth(L.getMonth()+parseInt(A)));u(M.toISOString().split("T")[0])},w=A=>{const L=A.target.value;d(L),f(L)},S=()=>{p(!0),setTimeout(()=>{p(!1),y(!0),setTimeout(()=>{y(!1),s()},2e3)},1500)},v=nh.find(A=>A.id===l),N=e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:s,className:"flex-1 py-4 bg-slate-50 text-slate-400 rounded-2xl font-black uppercase tracking-widest hover:bg-slate-100 hover:text-slate-600 transition-all border border-slate-100",children:"Cancel"}),e.jsx("button",{onClick:S,disabled:h,className:"flex-[2] py-4 bg-gradient-to-r from-amber-500 to-rose-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl shadow-amber-200 hover:shadow-amber-300 hover:scale-[1.02] active:scale-95 transition-all flex items-center justify-center gap-2",children:h?e.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):e.jsxs(e.Fragment,{children:["Confirm Renewal ",e.jsx(vs,{size:18})]})})]});return g?e.jsx(at,{isOpen:t,onClose:s,title:"Success",children:e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[e.jsx("div",{className:"w-24 h-24 bg-green-50 rounded-full flex items-center justify-center text-green-500 mb-6 animate-bounce",children:e.jsx(as,{size:48})}),e.jsx("h3",{className:"text-2xl font-black text-slate-800 mb-2",children:"Membership Renewed!"}),e.jsx("p",{className:"text-slate-500 font-medium",children:"Member has been updated and moved to active status."})]})}):e.jsx(at,{isOpen:t,onClose:s,title:"Renew Membership",subtitle:"Subscription Extension",footer:N,children:e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"p-6 rounded-3xl bg-slate-50 border border-slate-100 flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-white shadow-sm flex items-center justify-center text-violet-500",children:e.jsx(rt,{size:28})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-1",children:"Renewing For"}),e.jsx("h4",{className:"text-xl font-black text-slate-800 leading-none",children:r?.memberName})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-1",children:"Select New Plan"}),e.jsx("div",{className:"grid grid-cols-1 gap-3",children:nh.map(A=>e.jsxs("button",{onClick:()=>i(A.id),className:`p-4 rounded-2xl border-2 transition-all flex items-center justify-between group ${l===A.id?"border-violet-500 bg-violet-50/50 shadow-lg shadow-violet-100":"border-slate-100 bg-white hover:border-violet-200"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg transition-colors ${l===A.id?"bg-violet-500 text-white":"bg-slate-50 text-slate-400 group-hover:bg-violet-100 group-hover:text-violet-500"}`,children:e.jsx(Xn,{size:18})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:`text-sm font-black ${l===A.id?"text-violet-700":"text-slate-700"}`,children:A.name}),e.jsxs("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:["Base Rate: $",A.price]})]})]}),e.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center transition-all ${l===A.id?"border-violet-500 bg-violet-500":"border-slate-200"}`,children:l===A.id&&e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-white animate-scale-in"})})]},A.id))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-1",children:"Duration (Months)"}),e.jsxs("div",{className:"relative",children:[e.jsx(Je,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("select",{className:"w-full pl-11 pr-4 h-14 rounded-2xl border-2 border-slate-100 focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 font-bold text-slate-700 bg-slate-50/50 transition-all appearance-none",value:o,onChange:w,children:[1,3,6,12].map(A=>e.jsxs("option",{value:A,children:[A," ",A===1?"Month":"Months"]},A))})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-1",children:"New Expiry Date"}),e.jsxs("div",{className:"h-14 flex items-center gap-3 px-4 rounded-2xl bg-amber-50 border-2 border-amber-100 text-amber-700 font-black text-sm",children:[e.jsx(Ye,{size:18}),x]})]})]}),v&&e.jsxs("div",{className:"p-6 rounded-3xl bg-violet-900 text-white shadow-xl shadow-violet-200 relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10 group-hover:scale-125 transition-transform duration-700",children:e.jsx(ha,{size:120,strokeWidth:1})}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("h5",{className:"text-[10px] font-black uppercase tracking-[0.2em] mb-4 opacity-60",children:"Revenue Summary"}),e.jsxs("div",{className:"flex justify-between items-end",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-3xl font-black italic tracking-tighter",children:["$",v.price*o]}),e.jsx("p",{className:"text-[10px] font-bold opacity-70 uppercase tracking-widest mt-1",children:"Total Renewal Payable"})]}),e.jsxs("div",{className:"flex items-center gap-2 bg-white/20 px-3 py-1.5 rounded-xl backdrop-blur-md",children:[e.jsx(Os,{size:14}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Prepaid"})]})]})]})]})]})})},E7=()=>{const t=Gt(),[s,r]=j.useState("expiring"),[l,i]=j.useState(""),[o,d]=j.useState(null),[x,u]=j.useState(!1),h={branchId:"B001"},p=new Date,g=v=>{const A=new Date(v)-p;return Math.ceil(A/(1e3*60*60*24))},y=fg.filter(v=>{if(v.branchId&&v.branchId!==h.branchId)return!1;const N=g(v.endDate),A=v.memberName.toLowerCase().includes(l.toLowerCase()),L=v.phone.includes(l);return s==="expiring"?N>=0&&N<=7&&v.status!=="Expired"&&(A||L):N<0&&N>=-15&&(A||L)}),f=v=>{d(v),u(!0)},w=v=>{alert(`Initiating call to ${v.memberName} at ${v.phone}...`),window.location.href=`tel:${v.phone}`},S=v=>{alert(`Opening WhatsApp for ${v.memberName}...`);const N=v.phone.replace(/\D/g,"");window.open(`https://wa.me/${N}`,"_blank")};return e.jsxs("div",{className:"min-h-screen bg-slate-50/50 p-4 md:p-8",children:[e.jsxs("div",{className:"max-w-7xl mx-auto mb-8",children:[e.jsxs("button",{onClick:()=>t(-1),className:"flex items-center gap-2 text-slate-400 hover:text-slate-600 transition-colors mb-6 group",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-white shadow-sm flex items-center justify-center group-hover:-translate-x-1 transition-transform",children:e.jsx(Wr,{size:18})}),e.jsx("span",{className:"text-sm font-black uppercase tracking-widest",children:"Back"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6",children:[e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx("div",{className:"w-16 h-16 rounded-3xl bg-gradient-to-br from-amber-500 to-rose-600 flex items-center justify-center text-white shadow-xl shadow-amber-500/20",children:e.jsx(jl,{size:32,className:"animate-spin-slow"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-black text-slate-900 tracking-tight leading-none mb-2",children:"Renewal Alerts"}),e.jsx("p",{className:"text-slate-500 font-medium italic",children:"Monitor and retain members before they leave."})]})]}),e.jsxs("div",{className:"flex bg-white p-1 rounded-2xl shadow-sm border border-slate-100",children:[e.jsx("button",{onClick:()=>r("expiring"),className:`px-6 py-3 rounded-xl text-xs font-black uppercase tracking-widest transition-all ${s==="expiring"?"bg-amber-500 text-white shadow-lg shadow-amber-500/30":"text-slate-400 hover:text-slate-600"}`,children:"Expiring Soon"}),e.jsx("button",{onClick:()=>r("expired"),className:`px-6 py-3 rounded-xl text-xs font-black uppercase tracking-widest transition-all ${s==="expired"?"bg-rose-600 text-white shadow-lg shadow-rose-600/30":"text-slate-400 hover:text-slate-600"}`,children:"Recently Expired"})]})]})]}),e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"bg-white rounded-[32px] shadow-xl border border-slate-100 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 flex flex-col md:flex-row gap-4 items-center justify-between bg-slate-50/30",children:[e.jsxs("div",{className:"relative w-full md:w-96 group",children:[e.jsx(Qe,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-amber-500 transition-colors",size:18}),e.jsx("input",{type:"text",className:"pl-11 h-12 w-full rounded-2xl border-2 border-slate-200 focus:ring-4 focus:ring-amber-500/10 focus:border-amber-500 transition-all text-sm font-medium bg-white",placeholder:"Search by name or phone...",value:l,onChange:v=>i(v.target.value)})]}),e.jsx("div",{className:"flex items-center gap-3 w-full md:w-auto",children:e.jsxs("div",{className:"px-5 h-12 flex items-center gap-3 bg-white border-2 border-slate-100 rounded-2xl text-xs font-bold text-slate-500 uppercase tracking-widest",children:[e.jsx(ps,{size:16,className:s==="expiring"?"text-amber-500":"text-rose-500"}),y.length," Members Found"]})})]}),e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"w-full hidden lg:table",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50/50",children:[e.jsx("th",{className:"px-8 py-5 text-left text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Member Info"}),e.jsx("th",{className:"px-8 py-5 text-left text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Plan Details"}),e.jsx("th",{className:"px-8 py-5 text-left text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Expiry Window"}),e.jsx("th",{className:"px-8 py-5 text-right text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Quick Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:y.length>0?y.map(v=>e.jsxs("tr",{className:"group hover:bg-slate-50/50 transition-colors",children:[e.jsx("td",{className:"px-8 py-5",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-slate-100 flex items-center justify-center font-black text-slate-400 text-lg group-hover:bg-violet-500 group-hover:text-white transition-all duration-500",children:v.memberName.charAt(0)}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-black text-slate-800 tracking-tight",children:v.memberName}),e.jsx("p",{className:"text-xs font-bold text-slate-400",children:v.phone})]})]})}),e.jsxs("td",{className:"px-8 py-5",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-xl bg-violet-50 text-violet-700 border border-violet-100",children:[e.jsx(Je,{size:12}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:v.planName})]}),e.jsxs("p",{className:"text-[10px] font-bold text-slate-400 mt-1.5 ml-1",children:["Joined: ",v.joinDate]})]}),e.jsx("td",{className:"px-8 py-5",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${s==="expiring"?"bg-amber-500 animate-pulse":"bg-rose-500"}`}),e.jsx("p",{className:`text-sm font-black ${s==="expiring"?"text-amber-600":"text-rose-600"}`,children:s==="expiring"?`${g(v.endDate)} Days Left`:`Expired ${Math.abs(g(v.endDate))} Days Ago`})]}),e.jsxs("p",{className:"text-[10px] font-bold text-slate-400 uppercase ml-4",children:["Ends: ",v.endDate]})]})}),e.jsx("td",{className:"px-8 py-5",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>S(v),className:"p-3 rounded-xl bg-slate-50 text-slate-400 hover:bg-emerald-50 hover:text-emerald-600 transition-all border border-transparent hover:border-emerald-200",title:"WhatsApp Member",children:e.jsx(Bh,{size:18})}),e.jsx("button",{onClick:()=>w(v),className:"p-3 rounded-xl bg-slate-50 text-slate-400 hover:bg-blue-50 hover:text-blue-600 transition-all border border-transparent hover:border-blue-200",title:"Call Member",children:e.jsx(qs,{size:18})}),e.jsx("button",{onClick:()=>f(v),className:`px-5 py-2.5 rounded-xl font-black uppercase tracking-widest text-[10px] shadow-lg transition-all hover:scale-105 active:scale-95 ${s==="expiring"?"bg-amber-500 text-white shadow-amber-100 hover:shadow-amber-200":"bg-rose-600 text-white shadow-rose-100 hover:shadow-rose-200"}`,children:"Renew Membership"})]})})]},v.id)):e.jsx("tr",{children:e.jsxs("td",{colSpan:"4",className:"py-20 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-4 text-slate-200",children:e.jsx(jl,{size:40})}),e.jsx("h3",{className:"text-xl font-black text-slate-300 uppercase tracking-widest",children:"No members in this category"})]})})})]}),e.jsx("div",{className:"lg:hidden divide-y divide-slate-100",children:y.length>0?y.map(v=>e.jsxs("div",{className:"p-6 space-y-5",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center text-white font-black text-lg ${s==="expiring"?"bg-amber-500":"bg-rose-600"}`,children:v.memberName.charAt(0)}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-black text-slate-800 tracking-tight",children:v.memberName}),e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:v.planName})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:`text-sm font-black ${s==="expiring"?"text-amber-600":"text-rose-600"}`,children:s==="expiring"?`${g(v.endDate)}d`:`${Math.abs(g(v.endDate))}d`}),e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase leading-none",children:s==="expiring"?"Left":"Ago"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>w(v),className:"flex-1 h-12 rounded-xl bg-slate-50 border border-slate-100 flex items-center justify-center text-slate-500 active:bg-slate-100 transition-colors",children:e.jsx(qs,{size:18})}),e.jsx("button",{onClick:()=>S(v),className:"flex-1 h-12 rounded-xl bg-slate-50 border border-slate-100 flex items-center justify-center text-slate-500 active:bg-slate-100 transition-colors",children:e.jsx(Bh,{size:18})}),e.jsx("button",{onClick:()=>f(v),className:`flex-[3] h-12 rounded-xl font-black uppercase tracking-widest text-[10px] text-white shadow-xl transition-all active:scale-95 ${s==="expiring"?"bg-amber-500 shadow-amber-100":"bg-rose-600 shadow-rose-100"}`,children:"Renew"})]})]},v.id)):e.jsx("div",{className:"p-10 text-center",children:e.jsx("p",{className:"text-sm font-black text-slate-300 uppercase tracking-widest",children:"No records found"})})})]})]})}),e.jsx(z7,{isOpen:x,onClose:()=>u(!1),member:o})]})},T7=async()=>(await we.get("/admin/classes")).data,am=async t=>(await we.get(`/admin/classes/${t}`)).data,_7=async t=>(await we.post("/admin/classes",t)).data,pw=async(t,s)=>(await we.patch(`/admin/classes/${t}`,s)).data,fw=(t,s,r)=>{const l=(s-1)*r,i=l+r;return{total:t.length,data:t.slice(l,i),totalPages:Math.ceil(t.length/r),currentPage:s}},gw=(t,s)=>!s||Object.keys(s).length===0?t:t.filter(r=>Object.keys(s).every(l=>{const i=s[l];if(i==null||i===""||i==="All")return!0;const o=r[l],d=i.toString().toLowerCase();if(l==="search")return Object.values(r).some(x=>x&&x.toString().toLowerCase().includes(d));if(l==="timeRange"){if(!r.date)return!1;const x=r.date;return i==="Current Month"?x.startsWith("2026-02"):i==="Last Month"?x.startsWith("2026-01"):!0}return o==null?!1:o.toString().toLowerCase()===d})),P7=async()=>{try{return(await we.get("/trainer/profile")).data}catch(t){throw t.response?.data?.message||"Failed to fetch trainer profile"}},R7=async()=>{try{return(await we.get("/trainer/earnings")).data}catch(t){throw t.response?.data?.message||"Failed to fetch trainer earnings"}},O7=async()=>{try{return(await we.get("/trainer/attendance")).data}catch(t){throw t.response?.data?.message||"Failed to fetch trainer attendance"}},F7=async(t={})=>{try{return(await we.post("/trainer/attendance/check-in",t)).data}catch(s){throw s.response?.data?.message||"Failed to check in/out"}},B7=async t=>{try{return(await we.post("/trainer/attendance/leave",t)).data}catch(s){throw s.response?.data?.message||"Failed to request leave"}},I7=async()=>{try{return(await we.get("/trainer/availability")).data}catch(t){throw t.response?.data?.message||"Failed to fetch availability settings"}},zp=async t=>{try{return(await we.patch("/trainer/availability",t)).data}catch(s){throw s.response?.data?.message||"Failed to update availability settings"}},U7=async t=>{try{return(await we.delete(`/trainer/availability/time-off/${t}`)).data}catch(s){throw s.response?.data?.message||"Failed to delete time off"}},$7=async t=>{try{return(await we.patch("/trainer/profile",t)).data}catch(s){throw s.response?.data?.message||"Failed to update trainer profile"}},q7=async t=>{try{return(await we.post("/trainer/change-password",t)).data}catch(s){throw s.response?.data?.message||"Failed to change password"}},H7=async()=>(await we.get("/trainer/classes")).data,W7=async t=>(await we.get(`/trainer/classes/${t}`)).data,G7=async()=>(await we.get("/trainer/diet-plans")).data,V7=async t=>(await we.post("/trainer/diet-plans",t)).data,Y7=async(t,s)=>(await we.patch(`/trainer/diet-plans/${t}`,s)).data,X7=async t=>(await we.patch(`/trainer/diet-plans/${t}/status`)).data,K7=async()=>(await we.get("/trainer/workout-plans")).data,J7=async t=>(await we.post("/trainer/workout-plans",t)).data,Z7=async(t,s)=>(await we.patch(`/trainer/workout-plans/${t}`,s)).data,Q7=async t=>(await we.patch(`/trainer/workout-plans/${t}/status`)).data,gg=async({filters:t={},page:s=1,limit:r=5}={})=>{try{const l=await we.get("/trainer/members");let i=gw(l.data,t);return fw(i,s,r)}catch(l){throw l.response?.data?.message||"Failed to fetch assigned members"}},e9=async t=>{try{return(await we.get(`/trainer/members/${t}`)).data}catch(s){throw s.response?.data?.message||"Failed to fetch member details"}},t9=async(t,s)=>{try{return(await we.patch(`/trainer/members/${t}/flag`,{reason:s})).data}catch(r){throw r.response?.data?.message||"Failed to flag member"}},s9=async({filters:t={},page:s=1,limit:r=10}={})=>{try{const l=await we.get("/trainer/sessions");let i=gw(l.data,t);return fw(i,s,r)}catch(l){throw l.response?.data?.message||"Failed to fetch sessions"}},a9=async t=>{try{return(await we.post("/trainer/sessions",t)).data}catch(s){throw s.response?.data?.message||"Failed to create session"}},r9=async(t,s)=>{try{return(await we.get("/trainer/sessions")).data.filter(l=>{const i=new Date(l.date);return i>=new Date(t)&&i<=new Date(s)})}catch(r){throw r.response?.data?.message||"Failed to fetch sessions by date"}},l9=async(t,s)=>{try{return(await we.patch(`/trainer/sessions/${t}/status`,{status:s})).data}catch(r){throw r.response?.data?.message||"Failed to update session status"}},n9=async t=>{try{return(await we.get(`/trainer/members/${t}/payments`)).data}catch(s){throw s.response?.data?.message||"Failed to fetch member payments"}},i9=()=>{const{role:t}=Ho(),s=Gt(),[r,l]=j.useState([]),[i,o]=j.useState(!0),[d,x]=j.useState(""),[u,h]=j.useState("All");j.useEffect(()=>{p()},[]);const p=async()=>{try{o(!0);const y=t==="TRAINER"?await H7():await T7();l(y||[])}catch(y){console.error("Error loading classes:",y)}finally{o(!1)}},g=(r||[]).filter(y=>{const f=y.name?.toLowerCase().includes(d.toLowerCase())||y.trainerName?.toLowerCase().includes(d.toLowerCase()),w=u==="All"||y.status===u;return f&&w});return e.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-white to-violet-50/30 min-h-screen",children:[e.jsxs("div",{className:"mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent mb-2 flex items-center gap-2",children:[e.jsx(qr,{className:"text-violet-600",size:28}),"Classes Schedule"]}),e.jsx("p",{className:"text-slate-600 text-sm",children:"Manage and organize your fitness classes"})]}),t!=="TRAINER"&&e.jsxs("button",{className:"group relative px-6 py-3 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-xl font-semibold shadow-lg hover:shadow-xl hover:shadow-violet-500/50 hover:scale-105 hover:-translate-y-1 transition-all duration-300 flex items-center gap-2",onClick:()=>s("/classes/new"),children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 to-fuchsia-600 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx(St,{size:20,className:"relative transition-transform duration-300 group-hover:rotate-90"}),e.jsx("span",{className:"relative",children:"Create Class"})]})]})})]}),e.jsx("div",{className:"mb-6 bg-white/60 backdrop-blur-md rounded-xl shadow-lg border border-white/50 p-5 hover:shadow-xl transition-all duration-300",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1 group",children:[e.jsx(Qe,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 group-focus-within:scale-110 transition-all duration-300"}),e.jsx("input",{type:"text",placeholder:"Search by Class Name or Trainer...",className:"w-full pl-12 pr-4 py-3 bg-white/80 border-2 border-slate-200 rounded-xl text-sm focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 focus:bg-white transition-all duration-300 hover:border-slate-300",value:d,onChange:y=>x(y.target.value)})]}),e.jsxs("div",{className:"w-full sm:w-48 relative group",children:[e.jsx(Ns,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 transition-all duration-300 pointer-events-none"}),e.jsxs("select",{value:u,onChange:y=>h(y.target.value),className:"w-full pl-12 pr-4 py-3 bg-white/80 border-2 border-slate-200 rounded-xl text-sm focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 focus:bg-white transition-all duration-300 hover:border-slate-300 cursor-pointer appearance-none",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%23cbd5e1'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 0.75rem center",backgroundSize:"1.25rem"},children:[e.jsx("option",{value:"All",children:"All Statuses"}),e.jsx("option",{value:"Scheduled",children:"Scheduled"}),e.jsx("option",{value:"Full",children:"Full"}),e.jsx("option",{value:"Completed",children:"Completed"})]})]})]})}),i?e.jsx("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 p-16 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-4 text-violet-600",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-violet-600 border-t-transparent rounded-full animate-spin"}),e.jsx("span",{className:"text-lg font-bold uppercase tracking-widest",children:"Loading Classes..."})]})}):g.length>0?e.jsx("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gradient-to-r from-slate-50 to-slate-100/50 border-b-2 border-slate-200",children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"Class Name"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"Trainer"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"Schedule"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"Capacity"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold uppercase tracking-wider text-slate-700",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:g.map(y=>e.jsxs("tr",{className:"group hover:bg-gradient-to-r hover:from-violet-50/50 hover:via-purple-50/30 hover:to-transparent transition-all duration-300 cursor-pointer",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white font-bold shadow-md group-hover:shadow-lg group-hover:scale-110 group-hover:rotate-6 transition-all duration-300",children:y.name.charAt(0)}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-slate-900 group-hover:text-violet-600 transition-colors duration-300",children:y.name}),e.jsxs("div",{className:"text-xs text-slate-500 flex items-center gap-1 mt-1",children:[e.jsx($s,{size:12})," ",y.location]})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-slate-100 to-slate-200 flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:e.jsx(rt,{size:16,className:"text-slate-600"})}),e.jsx("span",{className:"font-medium text-slate-700",children:y.trainerName})]})}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-700",children:[e.jsx(Ye,{size:16,className:"text-slate-400"}),e.jsx("span",{className:"font-medium",children:y.schedule})]}),e.jsx("div",{className:"text-xs text-slate-500 mt-1 ml-6",children:y.duration})]}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Et,{size:16,className:"text-slate-400"}),e.jsxs("span",{className:"font-semibold text-slate-700",children:[y.enrolled," / ",y.capacity]})]}),e.jsx("div",{className:"w-24 h-2 bg-slate-100 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${y.enrolled>=y.capacity?"bg-gradient-to-r from-red-500 to-red-600":"bg-gradient-to-r from-violet-500 to-purple-600"}`,style:{width:`${y.enrolled/y.capacity*100}%`}})})]}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`inline-flex items-center px-3 py-1.5 rounded-full text-xs font-bold shadow-sm group-hover:scale-110 group-hover:shadow-md transition-all duration-300 ${y.status==="Scheduled"?"bg-gradient-to-r from-blue-50 to-blue-100 text-blue-700 border border-blue-200 group-hover:shadow-blue-500/50":y.status==="Full"?"bg-gradient-to-r from-amber-50 to-amber-100 text-amber-700 border border-amber-200 group-hover:shadow-amber-500/50":y.status==="Completed"?"bg-gradient-to-r from-slate-50 to-slate-100 text-slate-700 border border-slate-200 group-hover:shadow-slate-500/50":"bg-gradient-to-r from-red-50 to-red-100 text-red-700 border border-red-200 group-hover:shadow-red-500/50"}`,children:y.status})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"flex items-center justify-end",children:e.jsx("button",{className:"px-4 py-2 bg-gradient-to-r from-violet-50 to-purple-50 text-violet-600 rounded-lg text-sm font-semibold hover:from-violet-600 hover:to-purple-600 hover:text-white hover:scale-110 hover:shadow-lg hover:-translate-y-1 transition-all duration-300",onClick:()=>s(`/classes/${y.id}`),children:"View Details"})})})]},y.id))})]})})}):e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 p-16 text-center",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-violet-100 to-purple-100 rounded-full flex items-center justify-center",children:e.jsx(Qe,{size:40,className:"text-violet-600"})}),e.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-2",children:"No Classes Found"}),e.jsx("p",{className:"text-slate-600 mb-6",children:d||u!=="All"?"Try adjusting your search or filter criteria":"No classes have been found."}),!d&&u==="All"&&t!=="TRAINER"&&e.jsxs("button",{className:"group relative px-6 py-3 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-xl font-semibold shadow-lg hover:shadow-xl hover:shadow-violet-500/50 hover:scale-105 hover:-translate-y-1 transition-all duration-300 inline-flex items-center gap-2",onClick:()=>s("/classes/new"),children:[e.jsx(St,{size:20,className:"transition-transform duration-300 group-hover:rotate-90"}),"Create Class"]})]})]})},o9=()=>{const{role:t}=Ho(),{id:s}=Dd(),r=Gt(),[l,i]=j.useState(null),[o,d]=j.useState(!0);j.useEffect(()=>{x()},[s]);const x=async()=>{try{d(!0);const h=t==="TRAINER"?await W7(s):await am(s);i(h)}catch(h){console.error("Error loading class details:",h),It.error("Failed to load class details"),r("/classes")}finally{d(!1)}};if(o)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(wn,{className:"w-10 h-10 text-indigo-600 animate-spin"})});if(!l)return e.jsx("div",{className:"p-6 text-center text-muted",children:"Class not found."});const u=l.enrolledMembers||[];return e.jsxs("div",{className:"fade-in px-4 sm:px-6 lg:px-8 py-6 bg-gradient-to-br from-gray-50 to-white min-h-screen",children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"var(--space-6)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-4)"},children:[e.jsx("button",{onClick:()=>r("/classes"),className:"p-2 rounded-full hover:bg-gray-100 transition-colors duration-200 text-gray-500 hover:text-indigo-600",children:e.jsx(kn,{size:24})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-1",children:l.name}),e.jsxs("div",{className:"text-gray-500 font-medium",style:{fontSize:"0.875rem"},children:["Class ID: #",l.id]})]})]}),e.jsx("div",{style:{display:"flex",gap:"var(--space-3)"},children:t!=="TRAINER"&&e.jsxs(e.Fragment,{children:[e.jsxs(Ht,{variant:"outline",onClick:()=>r(`/classes/${s}/assign-trainer`),children:[e.jsx(rt,{size:18,style:{marginRight:"6px"}}),"Assign Trainer"]}),e.jsxs(Ht,{variant:"outline",onClick:()=>r(`/classes/${s}/enroll`),children:[e.jsx(fn,{size:18,style:{marginRight:"6px"}}),"Enroll Members"]}),e.jsxs(Ht,{variant:"primary",onClick:()=>r(`/classes/${s}/edit`),children:[e.jsx(ar,{size:18,style:{marginRight:"6px"}}),"Edit Class"]})]})})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(400px, 1fr))",gap:"var(--space-6)"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--space-4)"},children:[e.jsxs(is,{title:"Class Overview",children:[e.jsx("p",{style:{color:"var(--text)",lineHeight:"1.6",marginBottom:"24px",fontSize:"1rem"},className:"text-gray-700",children:l.description||"No description provided for this class."}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px"},children:[e.jsx(ih,{icon:Ye,label:"Schedule",value:l.schedule}),e.jsx(ih,{icon:c9,label:"Duration",value:l.duration}),e.jsx(ih,{icon:$s,label:"Location",value:l.location}),e.jsx(ih,{icon:Et,label:"Capacity",value:`${l.enrolled} / ${l.capacity}`})]})]}),e.jsx(is,{title:"Trainer Information",children:e.jsxs("div",{className:"flex items-center gap-4 p-2",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-indigo-50 flex items-center justify-center text-indigo-600 shadow-sm",children:e.jsx(rt,{size:28})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-bold text-gray-900 leading-tight",children:l.trainerName}),e.jsx("div",{className:"text-indigo-600 font-semibold text-xs uppercase tracking-wider mt-1",children:"Assigned Trainer"})]})]})})]}),e.jsx("div",{children:e.jsxs(is,{title:`Enrolled Members (${u.length})`,children:[u.length>0?e.jsx("div",{className:"max-h-[500px] overflow-y-auto custom-scrollbar pr-2",children:e.jsx("ul",{style:{listStyle:"none",padding:0},children:u.map(h=>e.jsx("li",{className:"py-4 border-b border-gray-100 flex items-center justify-between hover:bg-gray-50 transition-colors duration-200 px-2 rounded-xl",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-indigo-50 to-purple-50 flex items-center justify-center shadow-sm",children:e.jsx(rt,{size:18,className:"text-indigo-500"})}),e.jsxs("div",{children:[e.jsx("span",{className:"font-bold text-gray-800 block text-sm",children:h.name}),e.jsx("span",{className:"text-gray-500 text-xs",children:h.email})]})]})},h.id))})}):e.jsxs("div",{className:"text-gray-400 py-12 text-center flex flex-col items-center gap-3 bg-gray-50/50 rounded-2xl border-2 border-dashed border-gray-100 italic font-medium",children:[e.jsx(Et,{size:32,className:"opacity-20"}),"No members enrolled yet."]}),t!=="TRAINER"&&e.jsx("div",{className:"mt-6 text-center border-t border-gray-100 pt-4",children:e.jsx(Ht,{variant:"outline",size:"small",onClick:()=>r(`/classes/${s}/enroll`),className:"w-full",children:"Manage Enrollments"})})]})})]})]})},ih=({icon:t,label:s,value:r})=>e.jsxs("div",{className:"flex flex-col gap-1.5 p-3 rounded-2xl bg-gray-50/50 border border-gray-100 hover:border-indigo-100 transition-all duration-300 group",children:[e.jsxs("span",{className:"text-gray-500 font-bold uppercase tracking-widest flex items-center gap-2",style:{fontSize:"0.65rem"},children:[t&&e.jsx(t,{size:14,className:"group-hover:text-indigo-600 transition-colors duration-300"})," ",s]}),e.jsx("span",{className:"text-gray-900 font-bold",style:{fontSize:"0.95rem"},children:r||"Not set"})]}),c9=({size:t})=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("polyline",{points:"12 6 12 12 16 14"})]}),d9=async()=>(await we.get("/admin/profile")).data,x9=async t=>(await we.patch("/admin/profile",t)).data,bg=async({filters:t={},page:s=1,limit:r=5}={})=>{const l={page:s,limit:r,search:t.search,status:t.status},i=await we.get("/admin/members",{params:l});return{data:i.data,total:i.data.length}},u9=async t=>(await we.post("/admin/members",t)).data,h9=async(t,s)=>(await we.patch(`/admin/members/${t}`,s)).data,m9=async t=>(await we.delete(`/admin/members/${t}`)).data,p9=async t=>(await we.patch(`/admin/members/${t}/toggle-status`)).data,f9=async(t,s)=>{const r={start:t,end:s};return(await we.get("/admin/bookings/range",{params:r})).data},bw=async t=>(await we.post("/admin/bookings",t)).data,vg=async({filters:t={},page:s=1,limit:r=5}={})=>{const l={page:s,limit:r,...t};return(await we.get("/admin/attendance",{params:l})).data},g9=async()=>(await we.get("/admin/attendance/stats")).data,b9=async({filters:t={},page:s=1,limit:r=5}={})=>{const l={page:s,limit:r,...t};return(await we.get("/admin/tasks",{params:l})).data},v9=async(t,s)=>(await we.patch(`/admin/tasks/${t}/status`,{status:s})).data,y9=async(t,s)=>(await we.patch(`/admin/tasks/${t}`,s)).data,j9=async t=>(await we.delete(`/admin/tasks/${t}`)).data,vw=async()=>(await we.get("/admin/staff")).data,w9=async()=>(await we.get("/admin/classes")).data,N9=async()=>(await we.get("/admin/communication/announcements")).data,k9=async t=>(await we.post("/admin/communication/announcements",t)).data,S9=async()=>(await we.get("/admin/communication/chats")).data,C9=async t=>(await we.get(`/admin/communication/chats/${t}/messages`)).data,A9=async(t,s)=>(await we.post(`/admin/communication/chats/${t}/send`,{text:s})).data,_1=()=>{const{id:t}=Dd(),s=Gt(),r=!!t,[l,i]=j.useState({name:"",description:"",trainerId:"",schedule:"",duration:"60 mins",capacity:20,status:"Scheduled",location:"Studio A",requiredBenefit:""}),[o,d]=j.useState([]),[x,u]=j.useState(!1),[h,p]=j.useState(r),[g,y]=j.useState({});j.useEffect(()=>{f(),r&&w()},[r,t]);const f=async()=>{try{const M=(await vw()).filter(T=>T.role==="TRAINER"||T.role==="STAFF");d(M)}catch(L){console.error("Error loading trainers:",L),It.error("Failed to load trainers")}},w=async()=>{try{p(!0);const L=await am(t);L&&i({name:L.name,description:L.description||"",trainerId:L.trainerId||"",schedule:L.schedule||"",duration:L.duration||"60 mins",capacity:L.capacity||L.maxCapacity||20,status:L.status||"Scheduled",location:L.location||"",requiredBenefit:L.requiredBenefit||""})}catch(L){console.error("Error loading class:",L),It.error("Failed to load class details"),s("/classes")}finally{p(!1)}},S=L=>{const{name:M,value:T}=L.target;i(_=>({..._,[M]:T})),g[M]&&y(_=>({..._,[M]:""}))},v=()=>{const L={};return l.name.trim()||(L.name="Class name is required"),l.trainerId||(L.trainerId="Trainer is required"),l.schedule||(L.schedule="Schedule is required"),y(L),Object.keys(L).length===0},N=async L=>{if(L.preventDefault(),!!v())try{u(!0);const M={...l,maxCapacity:parseInt(l.capacity)};r?(await pw(t,M),It.success("Class updated successfully!")):(await _7(M),It.success("Class created successfully!")),s("/classes")}catch(M){console.error("Error saving class:",M),It.error(M.response?.data?.message||"Failed to save class")}finally{u(!1)}},A=()=>{s("/classes")};return h?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(wn,{className:"w-10 h-10 text-indigo-600 animate-spin"})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-indigo-50/30 flex flex-col items-center py-8 px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"w-full max-w-4xl mb-6",children:e.jsxs("button",{onClick:A,className:"group flex items-center text-gray-500 hover:text-indigo-600 transition-all duration-300 hover:scale-105",children:[e.jsx("div",{className:"p-1 rounded-full group-hover:bg-indigo-50 transition-all duration-300 mr-2 group-hover:scale-110 group-hover:-translate-x-1",children:e.jsx(kn,{className:"w-5 h-5"})}),e.jsx("span",{className:"font-medium",children:"Back to Classes"})]})}),e.jsxs("div",{className:"w-full max-w-4xl bg-white rounded-3xl shadow-xl shadow-gray-200/50 border border-gray-100 overflow-hidden hover:shadow-2xl hover:shadow-gray-300/50 transition-all duration-500 max-h-[calc(100vh-120px)] flex flex-col",children:[e.jsxs("div",{className:"px-6 py-6 sm:px-10 border-b border-gray-100 bg-gradient-to-r from-indigo-50/30 to-purple-50/30 flex-shrink-0",children:[e.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:r?"Edit Class":"Create New Class"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Define the details and schedule for this class."})]}),e.jsxs("form",{onSubmit:N,className:"px-6 py-8 sm:px-10 space-y-8 overflow-y-auto flex-1 custom-scrollbar",children:[e.jsxs("div",{className:"space-y-3 group",children:[e.jsxs("label",{className:"block text-sm font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:["Class Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"relative",children:e.jsx("input",{type:"text",name:"name",className:`block w-full px-5 py-4 bg-gradient-to-br from-white to-indigo-50/30 border-2 border-gray-200 rounded-2xl text-gray-900 text-sm placeholder-gray-400 focus:outline-none focus:ring-4 focus:ring-indigo-500/20 focus:border-indigo-500 hover:border-indigo-300 hover:shadow-lg transition-all duration-300 shadow-md focus:scale-[1.02] group-hover:border-indigo-200 ${g.name?"border-red-500 bg-red-50/30 focus:ring-red-500/20":""}`,placeholder:"e.g., Morning Yoga",value:l.name,onChange:S})}),g.name&&e.jsx("p",{className:"text-xs text-red-600 mt-1 font-medium animate-pulse",children:g.name})]}),e.jsxs("div",{className:"space-y-3 group",children:[e.jsx("label",{className:"block text-sm font-bold bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent",children:"Description"}),e.jsx("textarea",{name:"description",className:"block w-full px-5 py-4 bg-gradient-to-br from-white to-blue-50/30 border-2 border-gray-200 rounded-2xl text-gray-900 text-sm placeholder-gray-400 focus:outline-none focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 hover:border-blue-300 hover:shadow-lg transition-all duration-300 shadow-md resize-none focus:scale-[1.01] group-hover:border-blue-200",placeholder:"Describe the class activities and benefits...",value:l.description,onChange:S,rows:"3"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3 group",children:[e.jsxs("label",{className:"block text-sm font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:["Schedule ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"schedule",className:`block w-full px-5 py-4 bg-gradient-to-br from-white to-indigo-50/30 border-2 border-gray-200 rounded-2xl text-gray-900 text-sm placeholder-gray-400 focus:outline-none focus:ring-4 focus:ring-indigo-500/20 focus:border-indigo-500 hover:border-indigo-300 hover:shadow-lg transition-all duration-300 shadow-md focus:scale-[1.02] group-hover:border-indigo-200 ${g.schedule?"border-red-500 bg-red-50/30 focus:ring-red-500/20":""}`,placeholder:"e.g., Mon 7AM",value:l.schedule,onChange:S}),g.schedule&&e.jsx("p",{className:"text-xs text-red-600 mt-1 font-medium",children:g.schedule})]}),e.jsxs("div",{className:"space-y-3 group",children:[e.jsx("label",{className:"block text-sm font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Duration"}),e.jsx("div",{className:"relative z-20",children:e.jsx(ms,{options:[{value:"30 mins",label:"30 mins"},{value:"45 mins",label:"45 mins"},{value:"60 mins",label:"60 mins"},{value:"90 mins",label:"90 mins"}],value:l.duration,onChange:L=>S({target:{name:"duration",value:L}}),className:"w-full"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3 group",children:[e.jsxs("label",{className:"block text-sm font-bold bg-gradient-to-r from-emerald-600 to-teal-600 bg-clip-text text-transparent",children:["Assigned Trainer ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative z-10",children:[e.jsx(ms,{options:[{value:"",label:"-- Select Trainer --"},...o.map(L=>({value:L.id,label:L.name}))],value:l.trainerId,onChange:L=>S({target:{name:"trainerId",value:L}}),className:`w-full ${g.trainerId?"border-red-500":""}`}),g.trainerId&&e.jsx("p",{className:"text-xs text-red-600 mt-1 font-medium",children:g.trainerId})]})]}),e.jsxs("div",{className:"space-y-3 group",children:[e.jsx("label",{className:"block text-sm font-bold bg-gradient-to-r from-cyan-600 to-blue-600 bg-clip-text text-transparent",children:"Location / Studio"}),e.jsx("input",{type:"text",name:"location",className:"block w-full px-5 py-4 bg-gradient-to-br from-white to-cyan-50/30 border-2 border-gray-200 rounded-2xl text-gray-900 text-sm placeholder-gray-400 focus:outline-none focus:ring-4 focus:ring-cyan-500/20 focus:border-cyan-500 hover:border-cyan-300 hover:shadow-lg transition-all duration-300 shadow-md focus:scale-[1.02] group-hover:border-cyan-200",placeholder:"e.g., Studio A",value:l.location,onChange:S})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-3 group",children:[e.jsx("label",{className:"block text-sm font-bold bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent",children:"Max Capacity"}),e.jsx("input",{type:"number",name:"capacity",className:"block w-full px-5 py-4 bg-gradient-to-br from-white to-orange-50/30 border-2 border-gray-200 rounded-2xl text-gray-900 text-sm placeholder-gray-400 focus:outline-none focus:ring-4 focus:ring-orange-500/20 focus:border-orange-500 hover:border-orange-300 hover:shadow-lg transition-all duration-300 shadow-md focus:scale-[1.02] group-hover:border-orange-200",placeholder:"20",value:l.capacity,onChange:S,min:"1"})]}),e.jsxs("div",{className:"space-y-3 group",children:[e.jsx("label",{className:"block text-sm font-bold bg-gradient-to-r from-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Status"}),e.jsx("div",{className:"relative z-10",children:e.jsx(ms,{options:[{value:"Scheduled",label:"Scheduled"},{value:"Full",label:"Full"},{value:"Completed",label:"Completed"},{value:"Cancelled",label:"Cancelled"}],value:l.status,onChange:L=>S({target:{name:"status",value:L}}),className:"w-full"})})]}),e.jsxs("div",{className:"space-y-3 group",children:[e.jsx("label",{className:"block text-sm font-bold bg-gradient-to-r from-pink-600 to-rose-600 bg-clip-text text-transparent",children:"Required Benefit"}),e.jsx("div",{className:"relative z-10",children:e.jsx(ms,{options:[{value:"",label:"-- Open to All --"},{value:"group_classes",label:"Group Classes Access"},{value:"yoga_access",label:"Yoga Studio Access"},{value:"gym_access",label:"General Gym Access"}],value:l.requiredBenefit,onChange:L=>S({target:{name:"requiredBenefit",value:L}}),className:"w-full"})})]})]}),e.jsx("div",{className:"p-4 bg-gradient-to-br from-indigo-50/50 to-purple-50/50 rounded-2xl border-2 border-indigo-100",children:e.jsxs("p",{className:"text-xs text-gray-600",children:[e.jsx("span",{className:"font-semibold text-indigo-700",children:"Booking Rule:"})," If a required benefit is selected, only members with that benefit in their plan can book this class."]})}),e.jsxs("div",{className:"pt-6 flex flex-col-reverse md:flex-row items-center justify-end gap-4 border-t border-gray-100 mt-2 sticky bottom-0 bg-white pb-4 -mb-8 -mx-6 px-6 sm:-mx-10 sm:px-10",children:[e.jsx("button",{type:"button",onClick:A,disabled:x,className:"w-full md:w-auto px-8 py-3 bg-white border-2 border-gray-300 rounded-xl text-sm font-semibold text-gray-700 hover:bg-gray-50 hover:text-gray-900 hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-all duration-300 shadow-sm hover:shadow-md hover:scale-105 hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),e.jsxs("button",{type:"submit",disabled:x,className:"w-full md:w-auto flex items-center justify-center px-8 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 border border-transparent rounded-xl text-sm font-semibold text-white hover:from-indigo-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 shadow-lg shadow-indigo-500/30 transition-all duration-300 transform hover:-translate-y-1 hover:shadow-xl hover:shadow-indigo-500/50 hover:scale-105 group disabled:opacity-50 disabled:cursor-not-allowed",children:[x?e.jsx(wn,{className:"w-5 h-5 mr-2 animate-spin"}):e.jsx(xa,{size:18,className:"mr-2 transition-transform duration-300 group-hover:rotate-12 group-hover:scale-110"}),x?"Saving...":"Save Class"]})]})]})]})]})},M9=()=>{const{id:t}=Dd(),s=Gt(),[r,l]=j.useState(null),[i,o]=j.useState([]),[d,x]=j.useState(""),[u,h]=j.useState(!0),[p,g]=j.useState(!1);j.useEffect(()=>{y()},[t]);const y=async()=>{try{h(!0);const[w,S]=await Promise.all([am(t),vw()]);l(w),o(S.filter(v=>v.role==="TRAINER"||v.role==="STAFF")),x(w.trainerId||"")}catch(w){console.error("Error loading data:",w),It.error("Failed to load assignment data"),s(`/classes/${t}`)}finally{h(!1)}},f=async()=>{try{g(!0),await pw(t,{trainerId:d}),It.success("Trainer assigned successfully!"),s(`/classes/${t}`)}catch(w){console.error("Error assigning trainer:",w),It.error("Failed to assign trainer")}finally{g(!1)}};return u?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(wn,{className:"w-10 h-10 text-indigo-600 animate-spin"})}):r?e.jsxs("div",{className:"fade-in px-4 sm:px-6 lg:px-8 py-6",style:{maxWidth:"800px",margin:"0 auto"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"var(--space-6)"},children:[e.jsx("button",{onClick:()=>s(`/classes/${t}`),className:"p-2 rounded-full hover:bg-gray-100 transition-colors duration-200 text-gray-400 hover:text-indigo-600",children:e.jsx(kn,{size:24})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Assign Trainer"})]}),e.jsx(is,{className:"mb-8 border-indigo-100 bg-indigo-50/30",children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--primary)",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px"},children:"Class"}),e.jsx("div",{style:{fontWeight:800,fontSize:"1.25rem",color:"var(--text-dark)"},children:r.name})]}),e.jsxs("div",{style:{textAlign:"right"},children:[e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--muted)",fontWeight:600,marginBottom:"4px"},children:"Schedule"}),e.jsx("div",{style:{fontWeight:600,color:"var(--text-dark)"},children:r.schedule})]})]})}),e.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-6 flex items-center gap-2",children:[e.jsx(rt,{size:20,className:"text-indigo-600"}),"Select Available Trainer"]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(240px, 1fr))",gap:"var(--space-4)"},children:i.map(w=>{const S=d===w.id;return e.jsxs("div",{onClick:()=>x(w.id),className:`group relative p-6 rounded-2xl cursor-pointer transition-all duration-300 border-2 shadow-sm hover:shadow-md ${S?"bg-indigo-50 border-indigo-500 shadow-indigo-100":"bg-white border-gray-100 hover:border-indigo-200"}`,children:[S&&e.jsx("div",{className:"absolute top-4 right-4 text-indigo-600 animate-in zoom-in duration-300",children:e.jsx(ss,{size:24})}),e.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center mb-4 transition-colors duration-300 ${S?"bg-indigo-600 text-white":"bg-gray-100 text-gray-500 group-hover:bg-indigo-100 group-hover:text-indigo-600"}`,children:e.jsx(rt,{size:24})}),e.jsx("div",{className:"font-bold text-gray-900 group-hover:text-indigo-600 transition-colors duration-300",children:w.name}),e.jsx("div",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mt-1",children:w.role})]},w.id)})}),e.jsxs("div",{style:{marginTop:"48px",display:"flex",justifyContent:"flex-end",gap:"16px"},children:[e.jsx(Ht,{variant:"outline",onClick:()=>s(`/classes/${t}`),disabled:p,children:"Cancel"}),e.jsx(Ht,{variant:"primary",onClick:f,loading:p,children:"Confirm Assignment"})]})]}):e.jsx("div",{children:"Class not found"})},D9=()=>{const{id:t}=Dd(),s=Gt(),[r,l]=j.useState(null),[i,o]=j.useState([]),[d,x]=j.useState([]),[u,h]=j.useState(""),[p,g]=j.useState(!0),[y,f]=j.useState(!1);j.useEffect(()=>{w()},[t]);const w=async()=>{try{g(!0);const N=await am(t);l(N),o(N.enrolledMembers||[]);const A=await bg({limit:100}),L=(N.enrolledMembers||[]).map(M=>M.id);x(A.data.filter(M=>!L.includes(M.id)))}catch(N){console.error("Error loading enrollment data:",N),It.error("Failed to load members"),s(`/classes/${t}`)}finally{g(!1)}},S=async N=>{if(i.length>=(r.maxCapacity||r.capacity)){It.error("Class is full!");return}try{f(!0),await bw({memberId:parseInt(N),classId:parseInt(t),date:new Date().toISOString(),status:"Confirmed"}),It.success("Member enrolled!"),await w()}catch(A){console.error("Error enrolling member:",A),It.error("Failed to enroll member")}finally{f(!1)}},v=d.filter(N=>N.name.toLowerCase().includes(u.toLowerCase())||N.email?.toLowerCase().includes(u.toLowerCase()));return p?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(wn,{className:"w-10 h-10 text-indigo-600 animate-spin"})}):r?e.jsxs("div",{className:"fade-in px-4 sm:px-6 lg:px-8 py-6",style:{maxWidth:"1000px",margin:"0 auto"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"var(--space-6)"},children:[e.jsx("button",{onClick:()=>s(`/classes/${t}`),className:"p-2 rounded-full hover:bg-gray-100 transition-colors duration-200 text-gray-400 hover:text-indigo-600",children:e.jsx(kn,{size:24})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Manage Enrollments"})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"var(--space-6)"},children:[e.jsxs(is,{title:"Available Members",children:[e.jsxs("div",{className:"relative mb-6",children:[e.jsx(Qe,{size:18,className:"text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),e.jsx("input",{type:"text",placeholder:"Search members to enroll...",value:u,onChange:N=>h(N.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-50 border-2 border-gray-100 rounded-xl focus:border-indigo-500 focus:outline-none transition-all duration-200 shadow-sm"})]}),e.jsxs("div",{style:{maxHeight:"450px",overflowY:"auto"},className:"custom-scrollbar pr-2",children:[v.map(N=>e.jsxs("div",{className:"group flex justify-between items-center p-4 border-b border-gray-100 hover:bg-indigo-50/50 rounded-xl transition-all duration-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center text-gray-500 group-hover:bg-indigo-100 group-hover:text-indigo-600",children:e.jsx(rt,{size:18})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-gray-800",children:N.name}),e.jsx("div",{className:"text-xs text-gray-400 font-medium",children:N.email})]})]}),e.jsxs(Ht,{variant:"outline",size:"small",onClick:()=>S(N.id),disabled:y,className:"group-hover:bg-indigo-600 group-hover:text-white group-hover:border-indigo-600",children:[e.jsx(St,{size:16,className:"mr-1"})," Enroll"]})]},N.id)),v.length===0&&e.jsx("div",{className:"text-center py-12 text-gray-400 font-medium italic",children:"No available members found."})]})]}),e.jsx(is,{title:`Currently Enrolled (${i.length} / ${r.capacity})`,children:e.jsx("div",{style:{maxHeight:"520px",overflowY:"auto"},className:"custom-scrollbar pr-2 pt-2",children:i.length>0?i.map(N=>e.jsx("div",{className:"flex justify-between items-center p-4 bg-gray-50/80 border border-gray-100 rounded-2xl mb-4 group hover:border-indigo-100 transition-all duration-300",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-50 flex items-center justify-center text-indigo-600",children:e.jsx(rt,{size:18})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-gray-900",children:N.name}),e.jsxs("div",{className:"text-xs text-gray-400 font-medium",children:["#",N.id]})]})]})},N.id)):e.jsx("div",{className:"text-center py-12 text-gray-400 border-2 border-dashed border-gray-100 rounded-2xl italic font-medium",children:"No members enrolled yet."})})})]})]}):e.jsx("div",{children:"Class not found"})},L9=()=>e.jsxs("div",{className:"fade-in",children:[e.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-4 mb-6 border-b border-gray-100",children:[e.jsx(Sc,{to:"/operations",end:!0,children:"Schedule"}),e.jsx(Sc,{to:"/operations/equipment",children:"Equipment"}),e.jsx(Sc,{to:"/operations/lockers",children:"Lockers"}),e.jsx(Sc,{to:"/operations/inventory",children:"Inventory"}),e.jsx(Sc,{to:"/operations/announcements",children:"Announcements"}),e.jsx(Sc,{to:"/operations/rewards",children:"Rewards"}),e.jsx(Sc,{to:"/operations/feedback",children:"Feedback"}),e.jsx(Sc,{to:"/operations/devices",children:"Devices"})]}),e.jsx(Xh,{})]}),Sc=({to:t,children:s,end:r=!1})=>e.jsx(_h,{to:t,end:r,className:({isActive:l})=>`px-5 py-2.5 rounded-xl text-sm font-bold transition-colors whitespace-nowrap ${l?"bg-indigo-600 text-white shadow-lg shadow-indigo-200":"text-gray-500 hover:bg-gray-50 hover:text-gray-900"}`,children:s}),Ga=({title:t,subtitle:s,badge:r,badgeColor:l="violet",fields:i=[],actions:o=[],className:d=""})=>{const x=u=>{const h={violet:"from-violet-500 to-purple-600 shadow-violet-500/50",emerald:"from-emerald-500 to-emerald-600 shadow-emerald-500/50",red:"from-red-500 to-red-600 shadow-red-500/50",amber:"from-amber-500 to-orange-600 shadow-amber-500/50",blue:"from-blue-500 to-indigo-600 shadow-blue-500/50",slate:"from-slate-500 to-slate-600 shadow-slate-500/50",purple:"from-purple-500 to-fuchsia-600 shadow-purple-500/50"};return h[u]||h.violet};return e.jsxs("div",{className:`group relative bg-white/60 backdrop-blur-md rounded-xl shadow-lg border border-white/50 p-4 hover:shadow-2xl hover:scale-[1.02] transition-all duration-300 overflow-hidden ${d}`,children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50/30 to-purple-50/30 opacity-0 group-hover:opacity-100 transition-opacity duration-500 rounded-xl"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg shadow-violet-500/50 group-hover:scale-110 group-hover:rotate-6 transition-all duration-300 flex-shrink-0",children:e.jsx("div",{className:"w-5 h-5 rounded-full bg-white/20"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-base font-bold text-slate-900 group-hover:text-violet-700 transition-colors duration-300 truncate",children:t}),s&&e.jsx("p",{className:"text-xs font-semibold text-slate-600 mt-0.5 truncate",children:s})]})]}),r&&e.jsx("span",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-xl bg-gradient-to-r ${x(typeof r=="object"?r.color:l)} text-white text-xs font-black shadow-lg hover:scale-110 transition-all duration-300 cursor-pointer flex-shrink-0 ml-2`,children:typeof r=="object"?r.label:r})]}),i.length>0&&e.jsx("div",{className:"space-y-2.5 mb-4",children:i.map((u,h)=>{const p=u.icon;return e.jsxs("div",{className:"flex justify-between items-center p-2.5 rounded-lg bg-slate-50/50 hover:bg-violet-50/50 transition-colors duration-200",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[p&&e.jsx(p,{size:14,className:"text-slate-400 group-hover:text-violet-500 transition-colors",strokeWidth:2.5}),e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-slate-500",children:u.label})]}),e.jsx("span",{className:"text-sm font-black text-slate-900",children:u.value})]},h)})}),o.length>0&&e.jsx("div",{className:"flex flex-col gap-2 pt-4 border-t-2 border-slate-100",children:o.map((u,h)=>{const p=u.icon;return e.jsxs("button",{onClick:u.onClick,className:`
                                        group/btn flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl text-xs font-bold transition-all duration-300 shadow-md hover:shadow-xl hover:scale-105
                                        ${u.variant==="primary"?"bg-gradient-to-r from-violet-600 to-purple-600 text-white shadow-violet-500/50 hover:shadow-violet-500/60":u.variant==="danger"?"bg-gradient-to-r from-red-500 to-red-600 text-white shadow-red-500/50 hover:shadow-red-500/60":"bg-white border-2 border-slate-200 text-slate-700 hover:border-violet-300 hover:text-violet-700"}
                                    `,children:[p&&e.jsx(p,{size:16,strokeWidth:2.5,className:"transition-transform duration-300 group-hover/btn:scale-110"}),e.jsx("span",{children:u.label})]},h)})})]})]})},z9=()=>{const[t,s]=j.useState(""),[r,l]=j.useState(""),[i,o]=j.useState(""),[d,x]=j.useState([]),[u,h]=j.useState(!0);j.useEffect(()=>{p()},[]);const p=async()=>{try{h(!0);const S=(await sA()).map(v=>({id:v.id,name:v.name,role:v.role.charAt(0)+v.role.slice(1).toLowerCase(),shift:"Full Day (9AM - 6PM)",status:v.status==="Active"?"On Duty":"Off Duty"}));x(S)}catch{lt.error("Failed to load staff list")}finally{h(!1)}},g=d.filter(w=>{const S=w.name.toLowerCase().includes(t.toLowerCase())||w.role.toLowerCase().includes(t.toLowerCase()),v=r===""||w.role===r||w.role.toUpperCase()===r.toUpperCase(),N=i===""||w.status===i;return S&&v&&N}),y=w=>{const S={"On Duty":"bg-gradient-to-r from-emerald-50 to-emerald-100 text-emerald-700 border border-emerald-200","On Leave":"bg-gradient-to-r from-red-50 to-red-100 text-red-700 border border-red-200","Off Duty":"bg-gradient-to-r from-slate-50 to-slate-100 text-slate-700 border border-slate-200"};return e.jsx("span",{className:`inline-flex items-center px-3 py-1.5 rounded-full text-xs font-bold shadow-sm transition-all duration-300 hover:scale-110 hover:shadow-md ${S[w]||S["Off Duty"]}`,children:w})},f=w=>({"On Duty":"emerald","On Leave":"red","Off Duty":"slate"})[w]||"slate";return e.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6 pb-12 min-h-screen",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6",children:e.jsx("div",{className:"flex flex-col gap-4",children:e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx(Et,{className:"text-violet-600 flex-shrink-0",size:24}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Staff Schedule"}),e.jsx("span",{className:"px-2 py-0.5 bg-gradient-to-r from-violet-500 to-purple-600 text-white text-[10px] font-black rounded-md shadow-sm animate-pulse flex-shrink-0",children:"PREMIUM "})]}),e.jsx("p",{className:"text-slate-600 text-xs sm:text-sm mt-1",children:"Manage staff shifts and availability"})]})]})})})]}),e.jsx("div",{className:"mb-4 sm:mb-6 bg-white/60 backdrop-blur-md rounded-xl shadow-lg border border-white/50 p-4 sm:p-5 hover:shadow-xl transition-all duration-300",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"relative group",children:[e.jsx(Qe,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 group-focus-within:scale-110 transition-all duration-300"}),e.jsx("input",{type:"text",value:t,onChange:w=>s(w.target.value),placeholder:"Search by name or role...",className:"w-full pl-12 pr-4 py-2.5 sm:py-3 bg-white/80 border-2 border-slate-200 rounded-lg sm:rounded-xl text-sm focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 focus:bg-white transition-all duration-300 hover:border-slate-300"})]}),e.jsxs("div",{className:"relative group",children:[e.jsx(Ns,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 group-focus-within:scale-110 transition-all duration-300 pointer-events-none z-10"}),e.jsxs("select",{value:r,onChange:w=>l(w.target.value),className:"w-full pl-12 pr-4 py-2.5 sm:py-3 bg-white/80 border-2 border-slate-200 rounded-lg sm:rounded-xl text-sm focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 focus:bg-white transition-all duration-300 hover:border-slate-300 appearance-none cursor-pointer",children:[e.jsx("option",{value:"",children:"All Roles"}),e.jsx("option",{value:"Trainer",children:"Trainer"}),e.jsx("option",{value:"Receptionist",children:"Receptionist"}),e.jsx("option",{value:"Cleaner",children:"Cleaner"})]})]}),e.jsxs("div",{className:"relative group",children:[e.jsx(tr,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 group-focus-within:scale-110 transition-all duration-300 pointer-events-none z-10"}),e.jsxs("select",{value:i,onChange:w=>o(w.target.value),className:"w-full pl-12 pr-4 py-2.5 sm:py-3 bg-white/80 border-2 border-slate-200 rounded-lg sm:rounded-xl text-sm focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 focus:bg-white transition-all duration-300 hover:border-slate-300 appearance-none cursor-pointer",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"On Duty",children:"On Duty"}),e.jsx("option",{value:"On Leave",children:"On Leave"}),e.jsx("option",{value:"Off Duty",children:"Off Duty"})]})]})]})}),e.jsx("div",{className:"md:hidden space-y-3 sm:space-y-4 mb-6",children:g.map(w=>e.jsx(Ga,{title:w.name,subtitle:w.role,badge:w.status,badgeColor:f(w.status),fields:[{label:"Shift",value:w.shift,icon:Je}]},w.id))}),e.jsxs("div",{className:"hidden md:block bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gradient-to-r from-slate-50 to-slate-100/50 border-b-2 border-slate-200",children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"Staff Member"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"Role"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"Shift"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"Status"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:g.map(w=>e.jsxs("tr",{className:"group hover:bg-gradient-to-r hover:from-violet-50/50 hover:via-purple-50/30 hover:to-transparent transition-all duration-300 cursor-pointer",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white font-bold shadow-md group-hover:shadow-lg group-hover:scale-110 group-hover:rotate-6 transition-all duration-300",children:(w.name||"?").charAt(0)}),e.jsx("div",{children:e.jsx("div",{className:"text-sm font-semibold text-slate-900 group-hover:text-violet-600 transition-colors duration-300",children:w.name})})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full text-xs font-bold bg-gradient-to-r from-slate-50 to-slate-100 text-slate-700 border border-slate-200 shadow-sm group-hover:scale-110 group-hover:shadow-md group-hover:from-violet-50 group-hover:to-purple-50 group-hover:text-violet-700 group-hover:border-violet-200 transition-all duration-300",children:w.role})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[e.jsx(Je,{className:"w-4 h-4 text-slate-400 transition-transform duration-300 group-hover:scale-125"}),w.shift]})}),e.jsx("td",{className:"px-6 py-4",children:y(w.status)})]},w.id))})]})}),g.length===0&&e.jsxs("div",{className:"p-12 sm:p-16 text-center",children:[e.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 mx-auto mb-4 sm:mb-6 bg-gradient-to-br from-violet-100 to-purple-100 rounded-full flex items-center justify-center",children:e.jsx(Et,{size:32,className:"sm:w-10 sm:h-10 text-violet-600"})}),e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-slate-900 mb-2",children:"No Staff Found"}),e.jsx("p",{className:"text-slate-600 text-sm",children:"Try adjusting your search or filter criteria"})]})]}),g.length===0&&e.jsxs("div",{className:"md:hidden bg-white rounded-xl shadow-xl border border-slate-100 p-12 text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gradient-to-br from-violet-100 to-purple-100 rounded-full flex items-center justify-center",children:e.jsx(Et,{size:32,className:"text-violet-600"})}),e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"No Staff Found"}),e.jsx("p",{className:"text-slate-600 text-sm",children:"Try adjusting your search or filter criteria"})]})]})},Ai={getAllEquipment:async(t={})=>(await we.get("/equipment",{params:t})).data,addEquipment:async t=>(await we.post("/equipment",t)).data,updateEquipment:async(t,s)=>(await we.patch(`/equipment/${t}`,s)).data,deleteEquipment:async t=>(await we.delete(`/equipment/${t}`)).data,reportIssue:async t=>(await we.post("/equipment/report-issue",t)).data,getMaintenanceRequests:async(t={})=>(await we.get("/equipment/requests",{params:t})).data,updateMaintenanceStatus:async(t,s)=>(await we.patch(`/equipment/requests/${t}`,{status:s})).data},E9=({isOpen:t,onClose:s,onAdd:r})=>{const[l,i]=j.useState({name:"",status:"Working",lastMaintenance:"",nextMaintenance:""}),o=()=>{l.name&&(r(l),i({name:"",status:"Working",lastMaintenance:"",nextMaintenance:""}),s())};return t?e.jsxs("div",{className:"h-full flex flex-col bg-white",children:[e.jsx("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between bg-slate-50/50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg",children:e.jsx(Gl,{size:20,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-black text-slate-900",children:"Add New Equipment"}),e.jsx("p",{className:"text-slate-500 text-xs font-medium",children:"Register machinery for maintenance tracking"})]})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2",children:"Equipment Name"}),e.jsx("input",{type:"text",value:l.name,onChange:d=>i({...l,name:d.target.value}),className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl font-semibold text-slate-900 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 transition-all duration-300",placeholder:"e.g. Treadmill X500"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2",children:"Last Service Date"}),e.jsx("div",{className:"relative",children:e.jsx("input",{type:"date",value:l.lastMaintenance,onChange:d=>i({...l,lastMaintenance:d.target.value}),className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl font-semibold text-slate-900 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 transition-all duration-300"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2",children:"Next Service Due"}),e.jsx("input",{type:"date",value:l.nextMaintenance,onChange:d=>i({...l,nextMaintenance:d.target.value}),className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl font-semibold text-slate-900 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 transition-all duration-300"})]})]}),e.jsxs("div",{className:"bg-slate-50 border border-slate-100 rounded-xl p-4",children:[e.jsx("h4",{className:"text-slate-700 font-bold text-sm mb-1",children:"Status"}),e.jsxs("p",{className:"text-slate-500 text-xs",children:["New equipment is set to ",e.jsx("span",{className:"text-emerald-600 font-bold",children:"Working"})," by default."]})]})]}),e.jsx("div",{className:"p-6 border-t border-slate-100 bg-slate-50/50",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:s,className:"flex-1 py-3 rounded-xl font-bold text-slate-600 hover:bg-white border-2 border-slate-200 hover:border-slate-300 transition-all duration-300",children:"Cancel"}),e.jsx("button",{onClick:o,disabled:!l.name,className:"flex-1 py-3 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-xl font-bold hover:shadow-xl hover:shadow-violet-500/50 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:"Add Item"})]})})]}):null},T9=()=>{const[t,s]=j.useState([]),[r,l]=j.useState(!1),[i,o]=j.useState(!0);j.useEffect(()=>{d()},[]);const d=async()=>{try{o(!0);const y=(await Ai.getAllEquipment()).map(f=>({id:f.id,name:f.name,status:f.status==="Operational"?"Working":f.status==="Under Maintenance"?"Under Maintenance":f.status==="Out of Order"?"Out of Order":"Working",lastMaintenance:f.purchaseDate?new Date(f.purchaseDate).toLocaleDateString():"N/A",nextMaintenance:f.warrantyExpiry?new Date(f.warrantyExpiry).toLocaleDateString():"N/A"}));s(y)}catch(g){console.error(g),lt.error("Failed to load equipment")}finally{o(!1)}},x=async g=>{try{await Ai.addEquipment({name:g.name,status:g.status==="Working"?"Operational":g.status,purchaseDate:g.lastMaintenance,warrantyExpiry:g.nextMaintenance}),lt.success("Equipment added successfully"),d(),l(!1)}catch{lt.error("Failed to add equipment")}},u=async(g,y)=>{try{const f=y==="Working"?"Operational":y;await Ai.updateEquipment(g,{status:f}),lt.success(`Status updated to ${y}`),d()}catch{lt.error("Failed to update status")}},h=g=>{const y={Working:{gradient:"from-emerald-500 to-emerald-600",icon:ss,shadow:"shadow-emerald-500/50"},"Under Maintenance":{gradient:"from-amber-500 to-orange-600",icon:Gl,shadow:"shadow-amber-500/50"},"Out of Order":{gradient:"from-red-500 to-red-600",icon:Lr,shadow:"shadow-red-500/50"}},{gradient:f,icon:w,shadow:S}=y[g]||y.Working;return e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-xl bg-gradient-to-r ${f} text-white text-xs font-black shadow-lg ${S} hover:scale-110 transition-all duration-300 cursor-pointer`,children:[e.jsx(w,{size:14,strokeWidth:2.5}),g]})},p=g=>({Working:"emerald","Under Maintenance":"amber","Out of Order":"red"})[g]||"emerald";return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 rounded-xl sm:rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6 flex-shrink-0",children:e.jsx(Gl,{size:24,className:"sm:w-7 sm:h-7",strokeWidth:2.5})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Equipment Maintenance"}),e.jsx("span",{className:"px-2 py-0.5 bg-gradient-to-r from-violet-500 to-purple-600 text-white text-[10px] font-black rounded-md shadow-sm animate-pulse flex-shrink-0",children:"PREMIUM "})]}),e.jsx("p",{className:"text-slate-600 text-xs sm:text-sm mt-1",children:"Track and manage gym equipment status"})]})]}),e.jsxs("button",{onClick:()=>l(!0),className:"group flex items-center justify-center gap-2 px-4 sm:px-5 py-2.5 sm:py-3 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-lg sm:rounded-xl text-xs sm:text-sm font-bold shadow-xl shadow-violet-500/50 hover:shadow-2xl hover:shadow-violet-500/60 hover:scale-105 transition-all w-full sm:w-auto",children:[e.jsx(St,{size:16,strokeWidth:2.5,className:"sm:w-[18px] sm:h-[18px] transition-all duration-300 group-hover:scale-110 group-hover:rotate-90"}),"Add Equipment"]})]})})]}),e.jsx("div",{className:"md:hidden space-y-3 sm:space-y-4 mb-6",children:t.map(g=>e.jsx(Ga,{title:g.name,badge:g.status,badgeColor:p(g.status),fields:[{label:"Last Maintenance",value:g.lastMaintenance,icon:Ye},{label:"Next Maintenance",value:g.nextMaintenance,icon:Ye}],actions:[{label:"Mark as Working",onClick:()=>u(g.id,"Working"),show:g.status!=="Working"},{label:"Mark as Maintenance",onClick:()=>u(g.id,"Under Maintenance"),show:g.status!=="Under Maintenance"},{label:"Mark as Broken",onClick:()=>u(g.id,"Out of Order"),show:g.status!=="Out of Order"}].filter(y=>y.show!==!1)},g.id))}),e.jsxs("div",{className:"hidden md:block group relative bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden hover:shadow-2xl hover:border-violet-200 transition-all duration-500 transform hover:-translate-y-1",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50/30 to-purple-50/30 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e.jsx("div",{className:"relative z-10 overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left text-sm",children:[e.jsx("thead",{className:"bg-slate-50/50 border-b border-slate-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Equipment"}),e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Status"}),e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Last Maintenance"}),e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Next Maintenance"}),e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs text-right hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:t.map(g=>e.jsxs("tr",{className:"group/row hover:bg-gradient-to-r hover:from-violet-50/50 hover:to-purple-50/50 transition-all duration-300 cursor-pointer hover:shadow-md",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-violet-100 to-purple-100 text-violet-600 flex items-center justify-center shadow-md transition-all duration-500 group-hover/row:scale-125 group-hover/row:bg-gradient-to-br group-hover/row:from-violet-500 group-hover/row:to-purple-600 group-hover/row:text-white group-hover/row:shadow-xl group-hover/row:rotate-6",children:e.jsx(Gl,{size:18,strokeWidth:2.5})}),e.jsx("span",{className:"font-bold text-slate-800 group-hover/row:text-violet-700 group-hover/row:translate-x-1 transition-all duration-300",children:g.name})]})}),e.jsx("td",{className:"px-6 py-4",children:h(g.status)}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2 text-slate-600 font-semibold",children:[e.jsx(Ye,{size:14,className:"text-slate-400"}),g.lastMaintenance]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-bold",children:[e.jsx(Ye,{size:14,className:"text-violet-400"}),g.nextMaintenance]})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsxs("select",{value:g.status,onChange:y=>u(g.id,y.target.value),className:"px-3 py-2 text-xs font-bold border-2 border-slate-200 rounded-lg bg-white hover:border-violet-300 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 transition-all duration-300 cursor-pointer",children:[e.jsx("option",{value:"Working",children:"Working"}),e.jsx("option",{value:"Under Maintenance",children:"Maintenance"}),e.jsx("option",{value:"Out of Order",children:"Broken"})]})})]},g.id))})]})})]}),e.jsx(at,{isOpen:r,onClose:()=>l(!1),title:"Create Equipment",children:e.jsx(E9,{isOpen:r,onClose:()=>l(!1),onAdd:x})})]})},S0={getAllInventory:async()=>(await we.get("/inventory")).data,addInventoryItem:async t=>(await we.post("/inventory",t)).data,updateInventoryItem:async(t,s)=>(await we.patch(`/inventory/${t}`,s)).data,recordUsage:async t=>(await we.post("/inventory/usage",t)).data,receiveStock:async t=>(await we.post("/inventory/restock",t)).data,deleteInventoryItem:async t=>(await we.delete(`/inventory/${t}`)).data},_9=()=>{const[t,s]=j.useState(""),[r,l]=j.useState("All"),[i,o]=j.useState([]),[d,x]=j.useState(!0);j.useEffect(()=>{u()},[]);const u=async()=>{try{x(!0);const w=await S0.getAllInventory();o(w)}catch(w){console.error(w),lt.error("Failed to load inventory")}finally{x(!1)}},h=w=>{const S=w==="Low Stock",v=w==="Out of Stock";let N,A,L;v?(N="from-red-500 to-red-600",A=Lr,L="shadow-red-500/50"):S?(N="from-amber-500 to-orange-600",A=Lr,L="shadow-amber-500/50"):(N="from-emerald-500 to-emerald-600",A=ss,L="shadow-emerald-500/50");const M=A;return e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-xl bg-gradient-to-r ${N} text-white text-xs font-black shadow-lg ${L} hover:scale-110 transition-all duration-300 cursor-pointer`,children:[e.jsx(M,{size:14,strokeWidth:2.5}),w]})},p=w=>w==="Out of Stock"?"red":w==="Low Stock"?"amber":"emerald",g=i.filter(w=>w.status==="Low Stock"||w.status==="Out of Stock").length,y=i.filter(w=>(r==="All"||w.category===r)&&w.itemName.toLowerCase().includes(t.toLowerCase())),f=["All",...new Set(i.map(w=>w.category))];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 rounded-xl sm:rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6 flex-shrink-0",children:e.jsx(ll,{size:24,className:"sm:w-7 sm:h-7",strokeWidth:2.5})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Inventory Management"}),e.jsx("span",{className:"px-2 py-0.5 bg-gradient-to-r from-violet-500 to-purple-600 text-white text-[10px] font-black rounded-md shadow-sm animate-pulse flex-shrink-0",children:"PREMIUM "})]}),e.jsx("p",{className:"text-slate-600 text-xs sm:text-sm mt-1",children:"Track gym supplies and equipment stock"})]})]}),e.jsxs("button",{onClick:async()=>{const w=prompt("Item Name:");if(!w)return;const S=prompt("Category:","Supplies"),v=prompt("Quantity:","10");try{await S0.addInventoryItem({itemName:w,category:S,quantity:v,unit:"pcs",minThreshold:5}),lt.success("Item added"),u()}catch{lt.error("Failed to add item")}},className:"group flex items-center justify-center gap-2 px-4 sm:px-5 py-2.5 sm:py-3 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-lg sm:rounded-xl text-xs sm:text-sm font-bold shadow-xl shadow-violet-500/50 hover:shadow-2xl hover:shadow-violet-500/60 hover:scale-105 transition-all w-full sm:w-auto",children:[e.jsx(St,{size:16,strokeWidth:2.5,className:"sm:w-[18px] sm:h-[18px] transition-all duration-300 group-hover:scale-110 group-hover:rotate-90"}),"Add Item"]})]})})]}),g>0&&e.jsxs("div",{className:"mb-6 sm:mb-8 group relative bg-white rounded-xl sm:rounded-2xl shadow-lg border border-red-100 p-1 overflow-hidden animate-fade-in",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-50 to-orange-50 opacity-50"}),e.jsxs("div",{className:"relative p-3 sm:p-4 flex flex-col sm:flex-row items-start sm:items-center gap-3 sm:gap-4",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg sm:rounded-xl bg-gradient-to-br from-red-500 to-orange-600 flex items-center justify-center text-white shadow-lg shadow-red-500/30 animate-pulse flex-shrink-0",children:e.jsx(Lr,{size:18,className:"sm:w-5 sm:h-5",strokeWidth:2.5})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-red-800 font-black text-xs sm:text-sm uppercase tracking-wider",children:"Attention Needed"}),e.jsxs("p",{className:"text-red-600 font-bold text-xs sm:text-sm",children:[g," items are running low or out of stock. Please restock soon."]})]}),e.jsx("button",{className:"px-3 sm:px-4 py-1.5 sm:py-2 bg-white text-red-600 text-[10px] sm:text-xs font-black uppercase tracking-wider rounded-lg border border-red-100 shadow-sm hover:shadow-md hover:scale-105 transition-all w-full sm:w-auto",children:"View Items"})]})]}),e.jsxs("div",{className:"mb-4 sm:mb-6 flex flex-col gap-3 sm:gap-4",children:[e.jsxs("div",{className:"relative flex-1 group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Qe,{size:16,className:"sm:w-[18px] sm:h-[18px] text-slate-400 group-focus-within:text-violet-500 transition-colors"})}),e.jsx("input",{type:"text",placeholder:"Search inventory...",value:t,onChange:w=>s(w.target.value),className:"block w-full pl-10 pr-3 py-2.5 sm:py-3 border-2 border-slate-200 rounded-lg sm:rounded-xl leading-5 bg-white placeholder-slate-400 focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 transition-all duration-300 font-semibold text-slate-700 text-sm"})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Ns,{size:16,className:"sm:w-[18px] sm:h-[18px] text-slate-400 group-focus-within:text-violet-500 transition-colors"})}),e.jsx("select",{value:r,onChange:w=>l(w.target.value),className:"block w-full pl-10 pr-10 py-2.5 sm:py-3 border-2 border-slate-200 rounded-lg sm:rounded-xl leading-5 bg-white focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 transition-all duration-300 font-semibold text-slate-700 appearance-none cursor-pointer text-sm",children:f.map(w=>e.jsx("option",{value:w,children:w},w))}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none",children:e.jsx(Mj,{size:14,className:"sm:w-4 sm:h-4 text-slate-400"})})]})]}),e.jsx("div",{className:"md:hidden space-y-3 sm:space-y-4 mb-6",children:y.map(w=>e.jsx(Ga,{title:w.itemName,subtitle:w.category,badge:w.status,badgeColor:p(w.status),fields:[{label:"Quantity",value:w.quantity},{label:"Min Stock",value:w.minThreshold}],actions:[{label:"Restock",onClick:async()=>{const S=prompt("Amount received:");if(S)try{await S0.receiveStock({itemId:w.id,quantity:S}),lt.success("Restocked"),u()}catch{}}},{label:"Use",onClick:async()=>{const S=prompt("Amount used:");if(S)try{await S0.recordUsage({itemId:w.id,quantity:S}),lt.success("Recorded"),u()}catch{}}}]},w.id))}),e.jsxs("div",{className:"hidden md:block group relative bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden hover:shadow-2xl hover:border-violet-200 transition-all duration-500 transform hover:-translate-y-1",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50/30 to-purple-50/30 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e.jsx("div",{className:"relative z-10 overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left text-sm",children:[e.jsx("thead",{className:"bg-slate-50/50 border-b border-slate-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Item Name"}),e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Category"}),e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Quantity"}),e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Min Stock"}),e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Status"}),e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs text-right hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:y.map(w=>e.jsxs("tr",{className:"group/row hover:bg-gradient-to-r hover:from-violet-50/50 hover:to-purple-50/50 transition-all duration-300 cursor-pointer hover:shadow-md",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-violet-100 to-purple-100 text-violet-600 flex items-center justify-center shadow-md transition-all duration-500 group-hover/row:scale-125 group-hover/row:bg-gradient-to-br group-hover/row:from-violet-500 group-hover/row:to-purple-600 group-hover/row:text-white group-hover/row:shadow-xl group-hover/row:rotate-6",children:e.jsx(ll,{size:18,strokeWidth:2.5})}),e.jsx("span",{className:"font-bold text-slate-800 group-hover/row:text-violet-700 group-hover/row:translate-x-1 transition-all duration-300",children:w.itemName})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-lg text-xs font-bold bg-slate-100 text-slate-600 group-hover/row:bg-white group-hover/row:shadow-sm transition-all duration-300",children:w.category})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"font-black text-slate-700",children:[w.quantity," ",w.unit]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-slate-500 font-semibold",children:w.minThreshold})}),e.jsx("td",{className:"px-6 py-4",children:h(w.status)}),e.jsxs("td",{className:"px-6 py-4 text-right",children:[e.jsx("button",{onClick:async()=>{const S=prompt("Add to stock:","10");S&&(await S0.receiveStock({itemId:w.id,quantity:S}),lt.success("Added"),u())},className:"text-emerald-500 hover:text-emerald-700 font-bold text-xs transition-colors mr-3",children:"+ Stock"}),e.jsx("button",{onClick:async()=>{confirm("Delete this item?")&&(await S0.deleteInventoryItem(w.id),lt.success("Deleted"),u())},className:"text-red-400 hover:text-red-600 font-bold text-xs transition-colors",children:"Del"})]})]},w.id))})]})})]})]})},yg={getAllAnnouncements:async()=>(await we.get("/announcements")).data,addAnnouncement:async t=>(await we.post("/announcements",t)).data},P9=({audience:t})=>{const s={"All Members":1240,"Active Members":850,"Expired Members":390,"Staff Only":45,"Trainers Only":12};return e.jsxs("div",{className:"mt-4 p-4 bg-indigo-50/50 rounded-2xl border border-indigo-100 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-white flex items-center justify-center text-indigo-600 shadow-sm",children:e.jsx(Et,{size:16})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-indigo-600 uppercase tracking-widest",children:"Estimated Reach"}),e.jsxs("p",{className:"text-sm font-bold text-slate-700",children:[s[t]||0," People"]})]})]}),e.jsxs("div",{className:"flex -space-x-2",children:[[1,2,3].map(r=>e.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-white bg-slate-200"},r)),e.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-white bg-indigo-100 flex items-center justify-center text-[8px] font-black text-indigo-600",children:"+"})]})]})},R9=({isOpen:t,onClose:s,onSuccess:r})=>{const[l,i]=j.useState({title:"",message:"",targetAudience:"All Members",scheduledTime:"",priority:"Normal",broadcastType:"Now"}),[o,d]=j.useState(!1),x=["All Members","Active Members","Expired Members","Staff Only","Trainers Only"],u=["Normal","High","Urgent"],h=async p=>{p.preventDefault(),d(!0);try{await yg.addAnnouncement({title:l.title,message:l.message,priority:l.priority.toLowerCase(),targetAudience:l.targetAudience.toLowerCase()}),lt.success("Announcement broadcasted successfully!"),r(),s()}catch(g){console.error(g),lt.error(g.response?.data?.message||"Failed to broadcast announcement")}finally{d(!1)}};return e.jsxs("form",{onSubmit:h,className:"flex flex-col h-full bg-gray-50/50",children:[e.jsxs("div",{className:"flex-1 overflow-y-auto p-8 space-y-10 custom-scrollbar pb-12",children:[e.jsxs("div",{className:"bg-slate-900 rounded-[32px] p-8 text-white relative overflow-hidden group shadow-2xl",children:[e.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-indigo-500 rounded-full blur-[80px] opacity-20 group-hover:opacity-40 transition-opacity duration-700"}),e.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-white/10 backdrop-blur-md rounded-full flex items-center justify-center mb-4 border border-white/20 shadow-inner",children:e.jsx(gn,{size:40,className:"text-indigo-400 animate-pulse"})}),e.jsx("h3",{className:"text-2xl font-black tracking-tight",children:"Broadcast Message"}),e.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-[0.2em] mt-2",children:"Send updates to your gym community"})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-4",children:"Announcement Title"}),e.jsxs("div",{className:"relative",children:[e.jsx(al,{className:"absolute left-6 top-1/2 -translate-y-1/2 text-indigo-400",size:20}),e.jsx("input",{required:!0,type:"text",placeholder:"Summer Bootcamp 2024 is here!",className:"w-full pl-14 pr-6 py-5 bg-white border-2 border-slate-100 rounded-[28px] text-sm font-bold text-slate-700 focus:outline-none focus:border-indigo-500 transition-all shadow-sm group-hover:shadow-md",value:l.title,onChange:p=>i({...l,title:p.target.value})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-4",children:"Detailed Message"}),e.jsx("textarea",{required:!0,rows:"5",placeholder:"Type your message here... You can use emojis too! ",className:"w-full p-8 bg-white border-2 border-slate-100 rounded-[32px] text-sm font-medium text-slate-700 focus:outline-none focus:border-indigo-500 transition-all shadow-sm resize-none",value:l.message,onChange:p=>i({...l,message:p.target.value})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-4",children:"Target Audience"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:x.map(p=>e.jsx("button",{type:"button",onClick:()=>i({...l,targetAudience:p}),className:`px-4 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all border-2 ${l.targetAudience===p?"bg-indigo-600 border-indigo-600 text-white shadow-lg shadow-indigo-200":"bg-white border-slate-100 text-slate-400 hover:border-indigo-100 hover:text-indigo-600"}`,children:p},p))}),e.jsx(P9,{audience:l.targetAudience})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-4",children:"Broadcasting Schedule"}),e.jsx("div",{className:"flex p-1 bg-white border-2 border-slate-100 rounded-2xl",children:["Now","Scheduled"].map(p=>e.jsx("button",{type:"button",onClick:()=>i({...l,broadcastType:p}),className:`flex-1 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${l.broadcastType===p?"bg-slate-900 text-white shadow-lg":"text-slate-400"}`,children:p},p))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-4",children:"Urgency Level"}),e.jsx("div",{className:"flex gap-2",children:u.map(p=>e.jsx("button",{type:"button",onClick:()=>i({...l,priority:p}),className:`flex-1 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all border-2 ${l.priority===p?p==="Urgent"?"bg-rose-600 border-rose-600 text-white shadow-rose-200":"bg-slate-900 border-slate-900 text-white shadow-slate-200":"bg-white border-slate-100 text-slate-400"}`,children:p},p))})]})]}),l.broadcastType==="Scheduled"&&e.jsxs("div",{className:"space-y-4 animate-in slide-in-from-top-4 duration-300",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-4",children:"Publish Date & Time"}),e.jsxs("div",{className:"relative",children:[e.jsx(Je,{className:"absolute left-6 top-1/2 -translate-y-1/2 text-slate-300",size:18}),e.jsx("input",{type:"datetime-local",className:"w-full pl-14 pr-6 py-5 bg-white border-2 border-slate-100 rounded-[28px] text-sm font-bold text-slate-700 focus:outline-none focus:border-indigo-500 transition-all shadow-sm",value:l.scheduledTime,onChange:p=>i({...l,scheduledTime:p.target.value})})]})]})]})]}),e.jsxs("div",{className:"shrink-0 p-8 bg-white border-t border-slate-50 flex gap-4 shadow-[0_-10px_40px_rgba(0,0,0,0.03)]",children:[e.jsx("button",{type:"button",onClick:s,className:"flex-1 py-5 bg-slate-50 text-slate-400 rounded-[24px] font-black uppercase tracking-widest hover:bg-slate-100 hover:text-slate-600 transition-all",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:o,className:"flex-[2] py-5 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-[24px] font-black uppercase tracking-widest shadow-2xl shadow-indigo-500/30 hover:shadow-indigo-500/50 transition-all transform hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50 flex items-center justify-center gap-3",children:o?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white/20 border-t-white rounded-full animate-spin"}),e.jsx("span",{children:"Processing..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Ld,{size:20}),e.jsx("span",{children:l.broadcastType==="Now"?"Broadcast Now":"Schedule Broadcast"})]})})]})]})},O9=()=>{const[t,s]=j.useState([]),[r,l]=j.useState(!1),[i,o]=j.useState(!0);j.useEffect(()=>{u()},[]);const d=h=>{const p={high:{gradient:"from-rose-500 to-red-600",bg:"bg-rose-50",text:"text-rose-700",border:"border-rose-100",icon:ps,shadow:"shadow-rose-500/20"},medium:{gradient:"from-amber-500 to-orange-600",bg:"bg-amber-50",text:"text-amber-700",border:"border-amber-100",icon:Yn,shadow:"shadow-amber-500/20"},low:{gradient:"from-indigo-500 to-blue-600",bg:"bg-indigo-50",text:"text-indigo-700",border:"border-indigo-100",icon:Yn,shadow:"shadow-indigo-500/20"}};return p[h]||p.medium},x=()=>{u()},u=async()=>{try{o(!0);const h=await yg.getAllAnnouncements();s(h)}catch(h){console.error(h),lt.error("Failed to load announcements")}finally{o(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-indigo-50/20 p-6 md:p-10 font-sans",children:[e.jsx("div",{className:"max-w-7xl mx-auto mb-12",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-8",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute -top-10 -left-10 w-40 h-40 bg-indigo-200 rounded-full blur-3xl opacity-20 pointer-events-none"}),e.jsxs("h1",{className:"relative text-3xl md:text-5xl font-black text-slate-800 flex items-center gap-4",children:[e.jsx(gn,{className:"text-indigo-600",size:40}),"Broadcast Center"]}),e.jsx("p",{className:"text-slate-500 mt-3 text-lg font-medium max-w-xl",children:"Keep your community engaged with updates, events, and important notices."})]}),e.jsxs("button",{onClick:()=>l(!0),className:"px-8 py-5 bg-slate-900 text-white rounded-[24px] font-black uppercase tracking-widest flex items-center justify-center gap-3 hover:bg-indigo-600 transition-all shadow-2xl shadow-slate-200 hover:shadow-indigo-500/40 hover:-translate-y-1",children:[e.jsx(St,{size:22,className:"transition-transform group-hover:rotate-90"}),"New Announcement"]})]})}),e.jsx("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.length===0?e.jsxs("div",{className:"col-span-full py-24 flex flex-col items-center justify-center text-center animate-in fade-in slide-in-from-bottom-4 duration-700",children:[e.jsx("div",{className:"w-24 h-24 bg-white/60 backdrop-blur-md rounded-[40px] shadow-sm flex items-center justify-center text-slate-200 mb-6 border border-white/50",children:e.jsx(gn,{size:48,className:"opacity-20"})}),e.jsx("h3",{className:"text-xl font-black text-slate-800 tracking-tight",children:"No Broadcasts Yet"}),e.jsx("p",{className:"text-slate-500 text-sm font-medium max-w-sm mx-auto mt-2",children:"Your announcement history is empty. Start by sharing an update or event with your members."}),e.jsx("button",{onClick:()=>l(!0),className:"mt-8 px-8 py-3 bg-indigo-50 text-indigo-600 rounded-[24px] text-[10px] font-black uppercase tracking-widest hover:bg-indigo-600 hover:text-white transition-all shadow-sm",children:"Launch First Broadcast"})]}):t.map(h=>{const p=d(h.priority),g=p.icon;return e.jsxs("div",{className:"group relative bg-white/60 backdrop-blur-md rounded-[40px] border border-white/50 p-8 shadow-sm hover:shadow-2xl transition-all duration-500 hover:-translate-y-2 overflow-hidden",children:[e.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 bg-gradient-to-br ${p.gradient} opacity-[0.03] rounded-full -translate-y-1/2 translate-x-1/2 group-hover:scale-150 transition-transform duration-700`}),e.jsxs("div",{className:"flex justify-between items-start mb-8",children:[e.jsx("div",{className:`w-14 h-14 rounded-2xl bg-gradient-to-br ${p.gradient} flex items-center justify-center text-white shadow-xl ${p.shadow} group-hover:rotate-12 transition-transform`,children:e.jsx(g,{size:28})}),e.jsx("span",{className:`px-4 py-1.5 rounded-full ${p.bg} ${p.text} text-[10px] font-black uppercase tracking-widest border ${p.border}`,children:h.priority})]}),e.jsx("h3",{className:"text-xl font-black text-slate-800 mb-3 group-hover:text-indigo-600 transition-colors leading-tight",children:h.title}),e.jsx("p",{className:"text-slate-500 text-sm font-medium leading-relaxed mb-8 line-clamp-3",children:h.message}),e.jsxs("div",{className:"pt-6 border-t border-slate-50 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-slate-50 flex items-center justify-center text-slate-400",children:e.jsx(Et,{size:16})}),e.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:h.targetAudience})]}),e.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-bold text-slate-400 whitespace-nowrap",children:[e.jsx(Ye,{size:14,className:"text-slate-300"}),h.date]})]})]},h.id)})}),e.jsx(at,{isOpen:r,onClose:()=>l(!1),title:"Create Announcement",children:e.jsx(R9,{isOpen:r,onClose:()=>l(!1),onSuccess:x})})]})},P1={getAllRewards:async()=>(await we.get("/rewards")).data,addReward:async t=>(await we.post("/rewards",t)).data},F9=({isOpen:t,onClose:s,onAdd:r})=>{const[l,i]=j.useState({name:"",points:"",description:""}),o=()=>{!l.name||!l.points||(r(l),i({name:"",points:"",description:""}),s())};return t?e.jsxs("div",{className:"h-full flex flex-col bg-white",children:[e.jsx("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between bg-slate-50/50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg",children:e.jsx(Nd,{size:20,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-black text-slate-900",children:"Add New Reward"}),e.jsx("p",{className:"text-slate-500 text-xs font-medium",children:"Create a new redeemable item"})]})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2",children:"Reward Name"}),e.jsx("input",{type:"text",value:l.name,onChange:d=>i({...l,name:d.target.value}),className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl font-bold text-slate-900 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 transition-all duration-300",placeholder:"e.g. Gym Bag"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2",children:"Points Cost"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",value:l.points,onChange:d=>i({...l,points:d.target.value}),className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl font-bold text-slate-900 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 transition-all duration-300 pl-10",placeholder:"1000"}),e.jsx($l,{size:16,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-amber-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2",children:"Description"}),e.jsx("textarea",{value:l.description,onChange:d=>i({...l,description:d.target.value}),className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl font-medium text-slate-900 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 transition-all duration-300 min-h-[120px] resize-none",placeholder:"Brief details..."})]})]}),e.jsx("div",{className:"p-6 border-t border-slate-100 bg-slate-50/50",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:s,className:"flex-1 py-3 rounded-xl font-bold text-slate-600 hover:bg-white border-2 border-slate-200 hover:border-slate-300 transition-all duration-300",children:"Cancel"}),e.jsx("button",{onClick:o,disabled:!l.name||!l.points,className:"flex-1 py-3 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-xl font-bold hover:shadow-xl hover:shadow-violet-500/50 transition-all duration-300 disabled:opacity-50",children:"Create Reward"})]})})]}):null},B9=()=>{const[t,s]=j.useState([]),[r,l]=j.useState(!0);j.useEffect(()=>{i()},[]);const i=async()=>{try{l(!0);const y=(await P1.getAllRewards()).map(f=>({id:f.id,name:f.member,points:f.points,description:f.description,category:"Custom"}));s(y)}catch(g){console.error(g),lt.error("Failed to load rewards")}finally{l(!1)}},[o,d]=j.useState({checkIn:10,referral:500,review:100,classBooking:20}),[x,u]=j.useState(!1),h=async g=>{try{await P1.addReward({points:parseInt(g.points),description:g.name||g.description}),lt.success("Reward added successfully"),i(),u(!1)}catch{lt.error("Failed to add reward")}},p=g=>{s(t.filter(y=>y.id!==g))};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-6",children:[e.jsxs("div",{className:"mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(Nd,{size:28,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Rewards Program"}),e.jsx("span",{className:"px-2 py-0.5 bg-gradient-to-r from-violet-500 to-purple-600 text-white text-[10px] font-black rounded-md shadow-sm animate-pulse",children:"PREMIUM "})]}),e.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Configure loyalty points and redeemable rewards"})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"group relative bg-white rounded-2xl shadow-lg border border-slate-100 p-6 lg:col-span-1 overflow-hidden h-fit",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50/50 to-purple-50/50 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("h3",{className:"text-lg font-black text-slate-900 mb-6 flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-indigo-500 to-blue-600 flex items-center justify-center text-white shadow-md",children:e.jsx(Ih,{size:16,strokeWidth:2.5})}),"Earning Rules"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-slate-50/80 p-4 rounded-xl border border-slate-200 hover:border-violet-300 transition-colors duration-300",children:e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-bold text-sm",children:[e.jsx("div",{className:"p-1.5 bg-green-100 text-green-600 rounded-lg",children:e.jsx(ha,{size:14})}),"Per Check-in"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("input",{type:"number",value:o.checkIn,onChange:g=>d({...o,checkIn:parseInt(g.target.value)}),className:"w-16 p-1.5 bg-white border-2 border-slate-200 rounded-lg text-right font-black text-slate-900 focus:border-violet-500 focus:outline-none transition-all text-sm"}),e.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase",children:"PTS"})]})]})}),e.jsx("div",{className:"bg-slate-50/80 p-4 rounded-xl border border-slate-200 hover:border-violet-300 transition-colors duration-300",children:e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-bold text-sm",children:[e.jsx("div",{className:"p-1.5 bg-purple-100 text-purple-600 rounded-lg",children:e.jsx(Et,{size:14})}),"Per Referral"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("input",{type:"number",value:o.referral,onChange:g=>d({...o,referral:parseInt(g.target.value)}),className:"w-16 p-1.5 bg-white border-2 border-slate-200 rounded-lg text-right font-black text-slate-900 focus:border-violet-500 focus:outline-none transition-all text-sm"}),e.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase",children:"PTS"})]})]})}),e.jsx("div",{className:"bg-slate-50/80 p-4 rounded-xl border border-slate-200 hover:border-violet-300 transition-colors duration-300",children:e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-bold text-sm",children:[e.jsx("div",{className:"p-1.5 bg-amber-100 text-amber-600 rounded-lg",children:e.jsx($l,{size:14})}),"Google Review"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("input",{type:"number",value:o.review,onChange:g=>d({...o,review:parseInt(g.target.value)}),className:"w-16 p-1.5 bg-white border-2 border-slate-200 rounded-lg text-right font-black text-slate-900 focus:border-violet-500 focus:outline-none transition-all text-sm"}),e.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase",children:"PTS"})]})]})}),e.jsx("div",{className:"bg-slate-50/80 p-4 rounded-xl border border-slate-200 hover:border-violet-300 transition-colors duration-300",children:e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-bold text-sm",children:[e.jsx("div",{className:"p-1.5 bg-blue-100 text-blue-600 rounded-lg",children:e.jsx(Ye,{size:14})}),"Class Booking"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("input",{type:"number",value:o.classBooking,onChange:g=>d({...o,classBooking:parseInt(g.target.value)}),className:"w-16 p-1.5 bg-white border-2 border-slate-200 rounded-lg text-right font-black text-slate-900 focus:border-violet-500 focus:outline-none transition-all text-sm"}),e.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase",children:"PTS"})]})]})})]}),e.jsx("button",{className:"w-full mt-6 py-3 bg-gradient-to-r from-indigo-500 to-violet-600 text-white rounded-xl font-bold shadow-lg shadow-indigo-500/30 hover:shadow-xl hover:shadow-indigo-500/40 hover:scale-105 transition-all duration-300",children:"Save Configuration"})]})]}),e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-xl font-black text-slate-900",children:"Active Rewards"}),e.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 px-4 py-2 bg-white border-2 border-slate-200 text-slate-700 rounded-xl text-sm font-bold hover:border-violet-500 hover:text-violet-600 transition-all duration-300",children:[e.jsx(St,{size:16,strokeWidth:2.5})," Add Reward"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.map(g=>e.jsxs("div",{className:"group relative bg-white p-6 rounded-2xl border border-slate-100 shadow-sm hover:shadow-xl hover:border-violet-200 transition-all duration-300 hover:-translate-y-1 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50/30 to-purple-50/30 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-10",children:e.jsx("button",{onClick:()=>p(g.id),className:"p-2 bg-white rounded-lg text-slate-400 hover:text-red-500 hover:bg-red-50 transition-colors shadow-sm",children:e.jsx(Ms,{size:16})})}),e.jsxs("div",{className:"relative z-10 flex items-start gap-4",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-amber-400 to-orange-500 text-white rounded-2xl flex items-center justify-center shrink-0 shadow-lg shadow-amber-500/30 group-hover:scale-110 group-hover:rotate-6 transition-transform duration-300",children:e.jsx(cg,{size:28,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-slate-900 text-lg group-hover:text-violet-700 transition-colors",children:g.name}),e.jsxs("div",{className:"inline-flex items-center gap-1 text-amber-600 font-black text-sm mb-2 bg-amber-50 px-2 py-0.5 rounded-md border border-amber-100",children:[e.jsx($l,{size:12,fill:"currentColor"})," ",g.points," Points"]}),e.jsx("p",{className:"text-sm text-slate-600 font-medium leading-relaxed",children:g.description})]})]})]},g.id))})]})]}),e.jsx(at,{isOpen:x,onClose:()=>u(!1),title:"Create Reward",children:e.jsx(F9,{isOpen:x,onClose:()=>u(!1),onAdd:h})})]})},Ep={getAllFeedback:async()=>(await we.get("/feedback")).data,addFeedback:async t=>(await we.post("/feedback",t)).data,updateFeedbackStatus:async(t,s)=>(await we.patch(`/feedback/${t}/status`,{status:s})).data},R1=({role:t="ADMIN"})=>{const s=t==="MEMBER",[r,l]=j.useState(!1),[i,o]=j.useState(!1),[d,x]=j.useState("Suggestion"),[u,h]=j.useState(0),[p,g]=j.useState(""),[y,f]=j.useState(!1),[w,S]=j.useState(!1),[v,N]=j.useState(null),[A,L]=j.useState(""),[M,T]=j.useState([]);j.useEffect(()=>{s||_()},[s]);const _=async()=>{try{const W=(await Ep.getAllFeedback()).map(H=>({id:H.id,user:H.member,rating:H.rating,date:H.date,text:H.comment,source:"App",status:H.status}));T(W)}catch{lt.error("Failed to load feedback")}},I=async R=>{try{await Ep.updateFeedbackStatus(R,"Resolved"),lt.success("Feedback marked as resolved"),_(),N(null),L("")}catch{lt.error("Failed to resolve feedback")}},B=()=>{o(!0),setTimeout(()=>{l(!0),o(!1),alert("Successfully connected to 'Kiaan Gyms' Google Business Profile!")},1500)},P=async R=>{R.preventDefault(),f(!0);try{await Ep.addFeedback({memberId:1,rating:u,comment:`[${d}] ${p}`}),S(!0)}catch{lt.error("Failed to submit feedback")}finally{f(!1)}};return s?e.jsxs("div",{className:"fade-in space-y-8 p-4 md:p-8",children:[e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 pb-6 border-b-2 border-slate-100 mb-8",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-black text-slate-900 mb-2 tracking-tight",children:"Feedback Hub"}),e.jsx("p",{className:"text-slate-500 font-medium",children:"Help us evolve by sharing your experience."})]})}),e.jsx("div",{className:"max-w-4xl mx-auto",children:w?e.jsxs("div",{className:"bg-white rounded-[4rem] shadow-2xl p-20 text-center space-y-10 animate-in fade-in zoom-in duration-700 border border-slate-100",children:[e.jsxs("div",{className:"relative mx-auto w-24 h-24",children:[e.jsx("div",{className:"absolute inset-0 bg-emerald-500 rounded-full animate-ping opacity-20"}),e.jsx("div",{className:"relative w-full h-full bg-emerald-100 text-emerald-600 rounded-full flex items-center justify-center border-4 border-white shadow-xl",children:e.jsx(Cf,{size:36})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-4xl font-black text-slate-900 tracking-tight",children:"Submission Received!"}),e.jsx("p",{className:"text-slate-500 text-lg font-medium leading-relaxed max-w-sm mx-auto",children:"We've received your feedback. Our team will review it shortly."})]}),e.jsx("button",{onClick:()=>S(!1),className:"px-10 py-4 bg-slate-900 text-white rounded-2xl font-black uppercase tracking-widest text-[10px] hover:bg-slate-800 transition-all shadow-lg",children:"Send Another"})]}):e.jsx(is,{className:"overflow-hidden border-none shadow-xl shadow-slate-200/50 rounded-[32px]",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 h-full",children:[e.jsxs("div",{className:"md:col-span-2 bg-gradient-to-br from-violet-600 via-purple-700 to-fuchsia-800 p-10 text-white flex flex-col justify-between relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full blur-2xl -mr-16 -mt-16"}),e.jsxs("div",{className:"relative z-10 space-y-6",children:[e.jsx("div",{className:"w-14 h-14 bg-white/10 backdrop-blur-md rounded-2xl flex items-center justify-center border border-white/20 shadow-xl",children:e.jsx(sr,{size:28,className:"text-violet-200"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("h2",{className:"text-3xl font-black leading-tight",children:["Your Voice ",e.jsx("br",{}),"Matters."]}),e.jsx("p",{className:"text-violet-100 text-sm font-medium leading-relaxed opacity-80",children:"Every piece of feedback helps us build a more premium experience for you."})]})]}),e.jsx("div",{className:"relative z-10 pt-10",children:e.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-violet-200 uppercase tracking-widest",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-400 animate-pulse"}),"Active System"]})})]}),e.jsx("div",{className:"md:col-span-3 p-8 lg:p-12 bg-white",children:e.jsxs("form",{onSubmit:P,className:"space-y-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] px-1",children:"How would you rate us?"}),e.jsx("div",{className:"flex gap-3",children:[1,2,3,4,5].map(R=>e.jsx("button",{type:"button",onClick:()=>h(R),className:`w-12 h-12 rounded-xl flex items-center justify-center transition-all duration-300 ${u>=R?"bg-amber-100 text-amber-500 scale-105 shadow-md shadow-amber-200":"bg-slate-50 text-slate-300 hover:bg-slate-100"}`,children:e.jsx($l,{size:20,fill:u>=R?"currentColor":"none",strokeWidth:u>=R?0:2})},R))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] px-1",children:"What's this about?"}),e.jsxs("select",{value:d,onChange:R=>x(R.target.value),className:"w-full px-6 py-4 bg-slate-50 border-2 border-slate-100 rounded-2xl text-sm font-bold focus:outline-none focus:border-violet-500 transition-all cursor-pointer text-slate-700",children:[e.jsx("option",{children:"Suggestion"}),e.jsx("option",{children:"Complaint"}),e.jsx("option",{children:"Praise"}),e.jsx("option",{children:"Equipment Request"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] px-1",children:"Your Message"}),e.jsx("textarea",{rows:"4",value:p,onChange:R=>g(R.target.value),placeholder:"Tell us what's on your mind...",className:"w-full px-6 py-5 bg-slate-50 border-2 border-slate-100 rounded-2xl text-sm font-bold focus:outline-none focus:border-violet-500 transition-all resize-none placeholder:text-slate-300 text-slate-700"})]}),e.jsx(Ht,{type:"submit",disabled:y||u===0,className:"w-full py-5 rounded-2xl font-black uppercase tracking-widest text-sm shadow-xl shadow-violet-200",children:y?e.jsxs("div",{className:"flex items-center justify-center gap-3",children:[e.jsx(jl,{className:"animate-spin",size:18}),"Transmitting..."]}):"Submit Feedback"})]})})]})})})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-6",children:[e.jsxs("div",{className:"mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(Bh,{size:28,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Member Feedback"}),e.jsx("span",{className:"px-2 py-0.5 bg-gradient-to-r from-violet-500 to-purple-600 text-white text-[10px] font-black rounded-md shadow-sm animate-pulse",children:"PREMIUM "})]}),e.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Monitor reviews and ratings from all sources"})]})]}),r?e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-emerald-50 text-emerald-700 rounded-xl font-bold text-sm border border-emerald-100 shadow-sm animate-fade-in",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),"Connected to Google Business"]}):e.jsxs("button",{onClick:B,disabled:i,className:"group flex items-center gap-2 px-5 py-3 bg-white border-2 border-slate-200 text-slate-600 rounded-xl text-sm font-bold shadow-sm hover:border-violet-500 hover:text-violet-600 hover:shadow-md transition-all duration-300",children:[i?e.jsx(jl,{className:"animate-spin",size:18}):e.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg",alt:"G",className:"w-5 h-5 grayscale group-hover:grayscale-0 transition-all"}),i?"Connecting...":"Connect Google Reviews"]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"lg:col-span-1 group relative bg-white rounded-2xl shadow-lg border border-slate-100 p-8 hover:shadow-xl hover:border-amber-200 transition-all duration-300 overflow-hidden h-fit",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-50/50 to-orange-50/50 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-slate-400 font-black uppercase tracking-widest text-xs mb-2",children:"Overall Rating"}),e.jsx("div",{className:"text-6xl font-black bg-gradient-to-br from-amber-400 to-orange-500 bg-clip-text text-transparent mb-2",children:"4.8"}),e.jsx("div",{className:"flex justify-center gap-1 mb-2 text-amber-400",children:[1,2,3,4,5].map(R=>e.jsx($l,{size:24,fill:"currentColor",strokeWidth:0},R))}),e.jsx("div",{className:"text-sm font-bold text-slate-400",children:"Based on 128 Reviews"})]}),e.jsx("div",{className:"space-y-3 pt-6 border-t-2 border-slate-50",children:[5,4,3,2,1].map(R=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xs font-black text-slate-400 w-3",children:R}),e.jsx($l,{size:12,className:"text-slate-300",fill:"currentColor",strokeWidth:0}),e.jsx("div",{className:"flex-1 h-2.5 bg-slate-100 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ${R>=4?"bg-gradient-to-r from-emerald-400 to-emerald-500":R===3?"bg-gradient-to-r from-amber-400 to-amber-500":"bg-gradient-to-r from-red-400 to-red-500"}`,style:{width:R===5?"70%":R===4?"20%":"5%"}})}),e.jsx("span",{className:"text-[10px] font-bold text-slate-400 w-6 text-right",children:R===5?"70%":R===4?"20%":"5%"})]},R))})]})]}),e.jsx("div",{className:"lg:col-span-3 space-y-4",children:M.map(R=>e.jsxs("div",{className:"group relative bg-white p-6 rounded-2xl border border-slate-100 shadow-sm hover:shadow-xl hover:translate-x-1 transition-all duration-300 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-slate-50/50 to-white opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row gap-6",children:[e.jsxs("div",{className:"shrink-0 flex md:flex-col items-center gap-3 md:w-32 text-center md:border-r md:border-slate-100 md:pr-6",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-violet-100 to-purple-100 text-violet-600 rounded-full flex items-center justify-center font-black text-xl shadow-inner",children:R.user.charAt(0)}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-sm text-slate-900",children:R.user}),e.jsx("div",{className:"text-xs font-semibold text-slate-400 mt-0.5",children:R.date})]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{className:"flex gap-1 text-amber-400",children:[[...Array(R.rating)].map((W,H)=>e.jsx($l,{size:18,fill:"currentColor",strokeWidth:0},H)),[...Array(5-R.rating)].map((W,H)=>e.jsx($l,{size:18,className:"text-slate-200",fill:"currentColor",strokeWidth:0},H))]}),e.jsxs("div",{className:"flex gap-2",children:[R.status==="Resolved"&&e.jsx("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-lg text-xs font-bold border bg-emerald-50 text-emerald-600 border-emerald-100",children:"Resolved"}),e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-lg text-xs font-bold border ${R.source==="Google"?"bg-blue-50 text-blue-600 border-blue-100":"bg-indigo-50 text-indigo-600 border-indigo-100"}`,children:[R.source==="Google"&&e.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg",alt:"G",className:"w-3 h-3"}),R.source]})]})]}),e.jsxs("p",{className:"text-slate-600 font-medium leading-relaxed mb-4 italic",children:['"',R.text,'"']}),v===R.id?e.jsxs("div",{className:"mt-4 space-y-3 animate-in fade-in slide-in-from-top-2 duration-300",children:[e.jsx("textarea",{rows:"3",value:A,onChange:W=>L(W.target.value),placeholder:"Type your reply here to resolve this feedback...",className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:outline-none focus:border-violet-500 transition-all resize-none",autoFocus:!0}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>I(R.id),className:"px-4 py-2 bg-violet-600 text-white text-xs font-bold rounded-lg hover:bg-violet-700 transition-all shadow-sm flex items-center gap-2",children:[e.jsx(sr,{size:14})," Send & Resolve"]}),e.jsx("button",{onClick:()=>{N(null),L("")},className:"px-4 py-2 bg-slate-100 text-slate-600 text-xs font-bold rounded-lg hover:bg-slate-200 transition-all",children:"Cancel"})]})]}):e.jsxs("div",{className:"flex gap-4 pt-4 border-t border-slate-50",children:[R.status!=="Resolved"&&e.jsxs("button",{onClick:()=>N(R.id),className:"flex items-center gap-2 text-xs font-bold text-slate-400 hover:text-violet-600 transition-colors group/btn",children:[e.jsx(sr,{size:14,className:"group-hover/btn:scale-110 transition-transform"}),"Reply & Resolve"]}),e.jsxs("button",{className:"flex items-center gap-2 text-xs font-bold text-slate-400 hover:text-emerald-600 transition-colors group/btn",children:[e.jsx(Cf,{size:14,className:"group-hover/btn:scale-110 transition-transform"}),"Helpful"]})]})]})]})]},R.id))})]})]})},I9=()=>{const[t,s]=j.useState(null),[r,l]=j.useState(""),[i,o]=j.useState(""),[d,x]=j.useState({}),[u,h]=j.useState(!0),p=j.useRef(null),g=()=>{p.current?.scrollIntoView({behavior:"smooth"})};j.useEffect(()=>{g()},[d,t]),j.useEffect(()=>{const v=()=>{window.innerWidth>=768&&h(!0)};return window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[]);const y=fg.filter(v=>v.memberName.toLowerCase().includes(r.toLowerCase())),f=v=>{if(v&&v.preventDefault(),!i.trim()||!t)return;const N=new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),A={id:Date.now(),text:i,time:N,sentBy:"staff"};x(L=>({...L,[t.id]:[...L[t.id]||[],A]})),o("")},w=v=>{if(!t)return;let N="";v==="payment"?N=`Hi ${t.memberName}, this is a friendly reminder that your gym membership payment for ${t.planName} is due. Please settle it via the app or at the front desk. - Gym Team`:v==="booking"&&(N=`Hi ${t.memberName}, your booking is confirmed. We look forward to seeing you at the gym! - Gym Team`),o(N)},S=t?d[t.id]||[{id:"welcome",text:`Hi ${t.memberName}! How can we help you today?`,time:"09:00 AM",sentBy:"member"}]:[];return e.jsxs("div",{className:"flex h-[calc(100vh-140px)] bg-white rounded-2xl shadow-2xl border border-slate-100 overflow-hidden relative",children:[e.jsxs("div",{className:`
                ${u?"w-full md:w-80 border-r border-slate-100 flex flex-col bg-slate-50":"hidden md:flex md:w-80 border-r border-slate-100 flex flex-col bg-slate-50"}
                absolute md:relative z-20 h-full transition-all duration-300
            `,children:[e.jsxs("div",{className:"p-4 bg-white border-b border-slate-100",children:[e.jsxs("h2",{className:"text-xl font-black text-slate-800 mb-4 flex items-center gap-2",children:[e.jsx(sr,{className:"text-violet-600",size:24}),"WhatsApp Chat"]}),e.jsxs("div",{className:"relative group",children:[e.jsx(Qe,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-600 transition-colors"}),e.jsx("input",{type:"text",placeholder:"Search members...",value:r,onChange:v=>l(v.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-100 border-none rounded-xl text-sm focus:ring-2 focus:ring-violet-500/20 transition-all outline-none font-medium"})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:y.map(v=>e.jsxs("button",{onClick:()=>{s(v),window.innerWidth<768&&h(!1)},className:`w-full p-4 flex items-center gap-3 hover:bg-white transition-all border-b border-slate-50/50 ${t?.id===v.id?"bg-white border-l-4 border-l-violet-600 shadow-sm":""}`,children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white font-bold text-lg shadow-sm",children:v.memberName.charAt(0)}),e.jsxs("div",{className:"flex-1 text-left min-w-0",children:[e.jsxs("div",{className:"flex justify-between items-start mb-0.5",children:[e.jsx("span",{className:"font-bold text-slate-800 truncate",children:v.memberName}),e.jsx("span",{className:"text-[10px] text-slate-400 font-bold whitespace-nowrap",children:"09:41 AM"})]}),e.jsx("div",{className:"text-xs text-slate-500 truncate font-medium",children:v.planName})]})]},v.id))})]}),e.jsx("div",{className:`flex-1 flex flex-col bg-[#f0f2f5] relative ${t?"":"items-center justify-center"}`,children:t?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-4 bg-white border-b border-slate-100 flex items-center justify-between shadow-sm z-10",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>h(!0),className:"md:hidden p-2 -ml-2 text-slate-500 hover:text-violet-600 transition-colors",children:e.jsx(Wr,{size:24})}),e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white font-bold shadow-md",children:t.memberName.charAt(0)}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-slate-800 leading-tight tracking-tight",children:t.memberName}),e.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"}),e.jsx("span",{className:"text-[10px] text-emerald-600 font-black uppercase tracking-wider",children:"Online"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"p-2 text-slate-400 hover:text-violet-600 hover:bg-violet-50 rounded-xl transition-all",children:e.jsx(qs,{size:20})}),e.jsx("button",{className:"p-2 text-slate-400 hover:text-violet-600 hover:bg-violet-50 rounded-xl transition-all",children:e.jsx(_c,{size:20})})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-6 space-y-4 custom-scrollbar",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("span",{className:"bg-white/80 backdrop-blur px-3 py-1 rounded-lg text-[10px] font-black text-slate-500 uppercase tracking-widest border border-slate-200 shadow-sm",children:"Today"})}),S.map((v,N)=>e.jsx("div",{className:`flex ${v.sentBy==="staff"?"justify-end":"justify-start"} animate-in fade-in slide-in-from-bottom-2 duration-300`,style:{animationDelay:`${N*50}ms`},children:e.jsxs("div",{className:`
                                        max-w-[85%] md:max-w-[70%] p-3 rounded-2xl shadow-sm relative
                                        ${v.sentBy==="staff"?"bg-violet-600 text-white rounded-tr-none":"bg-white text-slate-800 rounded-tl-none border border-slate-100"}
                                    `,children:[e.jsx("p",{className:"text-sm font-medium leading-relaxed",children:v.text}),e.jsxs("div",{className:`flex items-center justify-end gap-1 mt-1 ${v.sentBy==="staff"?"text-violet-200":"text-slate-400"}`,children:[e.jsx("span",{className:"text-[9px] font-bold uppercase",children:v.time}),v.sentBy==="staff"&&e.jsx(zj,{size:12})]})]})},v.id)),e.jsx("div",{ref:p})]}),e.jsxs("div",{className:"p-4 bg-white border-t border-slate-100 flex flex-col gap-3",children:[e.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-1 no-scrollbar",children:[e.jsxs("button",{onClick:()=>w("payment"),className:"whitespace-nowrap flex items-center gap-1.5 px-3 py-1.5 bg-violet-50 text-violet-600 rounded-lg text-[11px] font-bold border border-violet-100 hover:bg-violet-100 transition-colors shadow-sm",children:[e.jsx(er,{size:14}),"Payment Reminder"]}),e.jsxs("button",{onClick:()=>w("booking"),className:"whitespace-nowrap flex items-center gap-1.5 px-3 py-1.5 bg-indigo-50 text-indigo-600 rounded-lg text-[11px] font-bold border border-indigo-100 hover:bg-indigo-100 transition-colors shadow-sm",children:[e.jsx(Ye,{size:14}),"Booking Confirmation"]})]}),e.jsxs("form",{onSubmit:f,className:"flex items-center gap-3",children:[e.jsx("button",{type:"button",className:"p-2 text-slate-400 hover:text-violet-600 transition-colors",children:e.jsx(Bj,{size:22})}),e.jsx("div",{className:"flex-1 relative",children:e.jsx("input",{type:"text",value:i,onChange:v=>o(v.target.value),placeholder:"Type a message...",className:"w-full px-4 py-3 bg-slate-100 border-none rounded-xl text-sm outline-none focus:ring-2 focus:ring-violet-500/20 transition-all font-medium"})}),e.jsx("button",{type:"submit",disabled:!i.trim(),className:`p-3 rounded-xl transition-all shadow-lg active:scale-95 ${i.trim()?"bg-violet-600 text-white shadow-violet-200 hover:bg-violet-700 hover:scale-105":"bg-slate-200 text-slate-400 cursor-not-allowed"}`,children:e.jsx(Ld,{size:20})})]})]})]}):e.jsxs("div",{className:"text-center p-8",children:[e.jsx("div",{className:"w-20 h-20 bg-white rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-xl border border-slate-50 rotate-3 animate-bounce shadow-violet-100/50",children:e.jsx(sr,{size:40,className:"text-violet-600"})}),e.jsx("h2",{className:"text-2xl font-black text-slate-800 mb-2",children:"My WhatsApp Chat"}),e.jsx("p",{className:"text-slate-500 font-medium max-w-xs mx-auto text-sm leading-relaxed",children:"Select a member from the sidebar to start a conversation or send important updates."})]})}),e.jsx("style",{children:`
                .no-scrollbar::-webkit-scrollbar { display: none; }
                .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
                .custom-scrollbar::-webkit-scrollbar { width: 4px; }
                .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
                .custom-scrollbar::-webkit-scrollbar-thumb { background: #e2e8f0; border-radius: 10px; }
            `})]})},U9=()=>{const t=Gt(),[s,r]=j.useState([]),[l,i]=j.useState(!0),[o,d]=j.useState("");j.useEffect(()=>{x()},[]);const x=async()=>{i(!0);try{const S=(await tw()).map(v=>({id:v.id,name:v.name,type:v.type||"Turnstile",status:v.status==="connected"||v.status==="Online"||v.status==="active"?"Online":"Offline",entriesToday:v.entriesToday||0,lastSync:v.lastSeen?new Date(v.lastSeen).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"Never"}));r(S)}catch(w){console.error("Failed to load devices",w)}finally{i(!1)}},u=()=>{x()},h=w=>{t("/operations/live-monitor")},p=w=>{const S=w==="Online";return e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest border-2 transition-all duration-300 ${S?"bg-emerald-50 text-emerald-600 border-emerald-200":"bg-red-50 text-red-600 border-red-200 animate-pulse"}`,children:[S?e.jsx(Gj,{size:12,strokeWidth:3}):e.jsx(LC,{size:12,strokeWidth:3}),w]})},g=s.filter(w=>w.name.toLowerCase().includes(o.toLowerCase())||w.type.toLowerCase().includes(o.toLowerCase())),y=s.filter(w=>w.status==="Online").length,f=s.reduce((w,S)=>w+(S.entriesToday||0),0);return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6",children:[e.jsxs("div",{className:"mb-8 relative max-w-7xl mx-auto",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsxs("div",{className:"relative bg-white/80 backdrop-blur-md rounded-2xl shadow-xl border border-slate-100 p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-600 to-indigo-700 flex items-center justify-center text-white shadow-lg shadow-violet-200 transition-all duration-500 hover:scale-110 hover:rotate-3",children:e.jsx(Vl,{size:28,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl sm:text-3xl font-black text-slate-900 tracking-tight flex items-center gap-2",children:["Device Dashboard",e.jsx("span",{className:"px-2 py-0.5 bg-violet-100 text-violet-600 text-[10px] font-black rounded-lg uppercase tracking-tighter",children:"Live Monitor"})]}),e.jsx("p",{className:"text-slate-500 font-medium text-sm mt-1",children:"Monitor entry hardware and sync status"})]})]}),e.jsxs("button",{onClick:u,disabled:l,className:`group flex items-center gap-2 px-6 py-3 bg-white border-2 border-slate-200 rounded-2xl text-sm font-black text-slate-700 hover:bg-slate-50 hover:border-violet-300 hover:text-violet-600 transition-all duration-300 shadow-sm ${l?"opacity-50 cursor-not-allowed":""}`,children:[e.jsx(jl,{size:18,strokeWidth:2.5,className:`${l?"animate-spin":"group-hover:rotate-180 transition-transform duration-500"}`}),l?"Refreshing Hardware...":"Manual Refresh"]})]}),e.jsx("div",{className:"mt-6 flex flex-col md:flex-row gap-4 items-center w-full max-w-lg",children:e.jsxs("div",{className:"relative flex-1 group w-full",children:[e.jsx(Qe,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 transition-all",size:18}),e.jsx("input",{type:"text",placeholder:"Search devices by name or type...",className:"w-full pl-12 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-2xl text-xs font-medium text-slate-700 focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all",value:o,onChange:w=>d(w.target.value)})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8 max-w-7xl mx-auto",children:[e.jsx(Tp,{icon:e.jsx(Vl,{size:24}),label:"Total Devices",value:s.length,color:"violet"}),e.jsx(Tp,{icon:e.jsx(Wt,{size:24}),label:"Online Devices",value:y,color:"emerald",trend:`${y}/${s.length} Active`}),e.jsx(Tp,{icon:e.jsx(Et,{size:24}),label:"Total Entries Today",value:f.toLocaleString(),color:"blue",trend:"Live Traffic"})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 max-w-[1600px] mx-auto auto-rows-fr",children:g.map(w=>e.jsxs("div",{className:"group relative bg-white rounded-[2rem] shadow-lg border border-slate-100 overflow-hidden hover:shadow-2xl hover:border-violet-200 transition-all duration-500 hover:-translate-y-2 flex flex-col h-full",children:[e.jsx("div",{className:"absolute -top-24 -right-24 w-48 h-48 bg-gradient-to-br from-violet-500/5 to-fuchsia-500/5 rounded-full blur-3xl group-hover:scale-150 transition-transform duration-700"}),e.jsx("div",{className:`absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r ${w.status==="Online"?"from-emerald-400 to-teal-500":"from-red-400 to-rose-500 animate-pulse"}`}),e.jsxs("div",{className:"p-6 sm:p-7 relative z-10",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center shadow-lg transition-all duration-500 group-hover:scale-110 group-hover:rotate-6 ${w.type==="Face ID"?"bg-gradient-to-br from-violet-50 to-indigo-50 text-violet-600 border border-violet-100":"bg-gradient-to-br from-blue-50 to-cyan-50 text-blue-600 border border-blue-100"}`,children:w.type==="Face ID"?e.jsx(Xn,{size:28}):e.jsx(Wt,{size:28})}),p(w.status)]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-black text-slate-900 group-hover:text-violet-600 transition-colors tracking-tight truncate w-full",title:w.name,children:w.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-1 truncate",children:[e.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] truncate",children:w.type}),e.jsx("div",{className:"w-1 h-1 rounded-full bg-slate-200 shrink-0"}),e.jsxs("span",{className:"text-[10px] font-bold text-slate-400 italic shrink-0",children:["#",w.id,"00-X"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-slate-50/50 rounded-2xl border border-slate-100 group-hover:bg-white group-hover:border-violet-100 transition-all duration-500",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1.5",children:"Entries"}),e.jsxs("div",{className:"flex items-baseline gap-1",children:[e.jsx("p",{className:"text-2xl font-black text-slate-900 leading-none",children:w.entriesToday}),e.jsx("span",{className:"text-[10px] font-bold text-emerald-500",children:"+12%"})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1.5",children:"Last Sync"}),e.jsxs("div",{className:"flex items-center gap-1.5 text-slate-600",children:[e.jsx(jl,{size:12,className:"text-violet-500"}),e.jsx("p",{className:"text-xs font-black tracking-tight",children:w.lastSync})]})]})]})]}),e.jsx("div",{className:"flex-grow"}),e.jsxs("div",{className:"flex items-center justify-between pt-2 mt-4",children:[e.jsx("button",{onClick:()=>h(),className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-slate-900 text-white text-xs font-black hover:bg-violet-600 transition-all duration-300 shadow-lg shadow-slate-200 hover:shadow-violet-200 active:scale-95 shrink-0",children:"Monitor Activity"}),e.jsx("div",{className:"p-2 rounded-xl bg-slate-50 text-slate-400 hover:text-red-500 transition-colors cursor-pointer shrink-0",children:e.jsx(ps,{size:18})})]})]})]},w.id))}),e.jsx("div",{className:"mt-12 max-w-7xl mx-auto",children:e.jsxs("div",{className:"bg-indigo-50/50 rounded-2xl border border-indigo-100 p-6 flex flex-col sm:flex-row items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4 text-center sm:text-left",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-white flex items-center justify-center text-indigo-600 shadow-sm flex-shrink-0",children:e.jsx(ss,{size:20})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-black text-indigo-900 tracking-tight",children:"Automatic Hardware Synchronization"}),e.jsx("p",{className:"text-xs text-slate-500 font-medium",children:"Device access syncs with Member Status and Attendance automatically."})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("span",{className:"px-3 py-1 bg-white border border-indigo-200 text-indigo-600 text-[10px] font-black rounded-lg uppercase tracking-widest",children:"Active"}),e.jsx("span",{className:"px-3 py-1 bg-indigo-600 text-white text-[10px] font-black rounded-lg uppercase tracking-widest",children:"Verified"})]})]})})]})},Tp=({icon:t,label:s,value:r,color:l,trend:i})=>{const o={violet:"from-violet-500 to-purple-600 shadow-violet-200 text-violet-600",emerald:"from-emerald-500 to-teal-600 shadow-emerald-200 text-emerald-600",blue:"from-blue-500 to-indigo-600 shadow-blue-200 text-blue-600"};return e.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-xl border border-slate-100 flex items-center gap-5 hover:scale-[1.02] transition-all duration-300",children:[e.jsx("div",{className:`w-14 h-14 rounded-2xl bg-gradient-to-br ${o[l].split(" shadow")[0]} flex items-center justify-center text-white shadow-lg ${o[l].split(" ")[2]}`,children:t}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-1",children:s}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("p",{className:"text-3xl font-black text-slate-900 tracking-tight",children:r}),i&&e.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase",children:i})]})]})]})},dr=({label:t,value:s,isUnlimited:r,onChange:l,onToggleUnlimited:i,type:o="number",placeholder:d="0",unit:x="",options:u=null,unitValue:h="",onUnitChange:p=null})=>e.jsxs("div",{className:`space-y-2 p-4 rounded-2xl border-2 transition-all duration-300 ${r?"bg-slate-50 border-slate-100 opacity-80":"bg-white border-slate-100 hover:border-indigo-100"}`,children:[e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsx("label",{className:"text-xs font-black uppercase tracking-wider text-slate-500",children:t}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Unlimited"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:r,onChange:g=>i(g.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-9 h-5 bg-slate-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-indigo-600"})]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"relative flex-1",children:r?e.jsxs("div",{className:"w-full px-4 py-3 bg-slate-100 border-2 border-transparent rounded-xl text-sm font-black text-slate-400 flex items-center gap-2 italic",children:[e.jsx(nu,{size:18})," Unlimited"]}):e.jsxs(e.Fragment,{children:[e.jsx("input",{type:o,value:s,onChange:g=>l(g.target.value),disabled:r,min:"1",placeholder:d,className:"w-full px-4 py-3 bg-white border-2 border-slate-200 rounded-xl text-sm font-bold text-slate-700 focus:outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all placeholder:text-slate-300"}),x&&e.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-xs font-black text-slate-400 uppercase tracking-tighter",children:x})]})}),u&&!r&&e.jsx("div",{className:"w-32",children:e.jsx("select",{value:h,onChange:g=>p(g.target.value),className:"w-full h-full px-3 bg-slate-50 border-2 border-slate-100 rounded-xl text-[10px] font-black uppercase tracking-tighter text-slate-600 focus:outline-none focus:border-indigo-500",children:u.map(g=>e.jsx("option",{value:g.value,children:g.label},g.value))})})]})]}),$9=({isOpen:t,onClose:s,editId:r,onSuccess:l})=>{const[i,o]=j.useState({planName:"",price:"",billingCycle:"Monthly",description:"",status:!0,features:[],limits:{branches:{value:1,isUnlimited:!1},managers:{value:2,isUnlimited:!1},staff:{value:5,isUnlimited:!1},trainers:{value:3,isUnlimited:!1},members:{value:100,isUnlimited:!1}},opsLimits:{workouts:{value:10,isUnlimited:!1},diets:{value:10,isUnlimited:!1},classes:{value:5,isUnlimited:!1},checkins:{value:30,isUnlimited:!1},leads:{value:50,isUnlimited:!1}},benefits:[]}),[d,x]=j.useState({basic:!0,limits:!0,ops:!0,benefits:!0}),[u,h]=j.useState({}),[p,g]=j.useState(!1);j.useEffect(()=>{t&&(r?y(parseInt(r)):o({planName:"",price:"",billingCycle:"Monthly",description:"",status:!0,features:[],limits:{branches:{value:1,isUnlimited:!1},managers:{value:2,isUnlimited:!1},staff:{value:5,isUnlimited:!1},trainers:{value:3,isUnlimited:!1},members:{value:100,isUnlimited:!1}},opsLimits:{workouts:{value:10,isUnlimited:!1},diets:{value:10,isUnlimited:!1},classes:{value:5,isUnlimited:!1},checkins:{value:30,isUnlimited:!1},leads:{value:50,isUnlimited:!1}},benefits:[]}),h({}))},[t,r]);const y=async _=>{const B=(await ou()).find(P=>P.id===_);B&&o({planName:B.name,price:B.price,billingCycle:B.period,description:B.description||"",status:B.status==="Active",features:B.features||[],limits:B.limits||i.limits,opsLimits:B.opsLimits||i.opsLimits,benefits:B.benefits||[]})},f=_=>{x(I=>({...I,[_]:!I[_]}))},w=_=>{const{name:I,value:B}=_.target;o(P=>({...P,[I]:B})),u[I]&&h(P=>({...P,[I]:""}))},S=(_,I,B,P)=>{o(R=>({...R,[_]:{...R[_],[I]:{...R[_][I],[B]:P}}}))},v=()=>{o(_=>({..._,benefits:[..._.benefits,{id:Date.now(),name:"",limit:"5",isUnlimited:!1,unit:"Per Month",gender:"All",room:""}]}))},N=_=>{o(I=>({...I,benefits:I.benefits.filter(B=>B.id!==_)}))},A=(_,I,B)=>{o(P=>({...P,benefits:P.benefits.map(R=>R.id===_?{...R,[I]:B}:R)}))},L=()=>{const _={};return i.planName.trim()||(_.planName="Plan name is required"),i.price||(_.price="Price is required"),i.description.trim()||(_.description="Description is required"),h(_),Object.keys(_).length===0},M=async _=>{if(_.preventDefault(),!L()){x(I=>({...I,basic:!0})),alert("Please fill in all required fields (Name, Price, Description).");return}g(!0);try{const I={name:i.planName,price:i.price,period:i.billingCycle,features:i.features,limits:i.limits,opsLimits:i.opsLimits,benefits:i.benefits,status:i.status?"Active":"Inactive",description:i.description};r?await Jj(parseInt(r),I):await Kj(I),l(),s()}catch(I){console.error("Error saving plan:",I),alert("Failed to save plan")}finally{g(!1)}},T=({icon:_,title:I,subtitle:B,section:P,active:R,color:W})=>e.jsxs("div",{onClick:()=>f(P),className:`flex items-center justify-between p-4 cursor-pointer rounded-2xl transition-all ${R?"bg-slate-50":"hover:bg-slate-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-xl bg-white shadow-sm border border-slate-100 ${W}`,children:e.jsx(_,{size:20})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-black text-slate-800 text-sm tracking-tight",children:I}),B&&e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:B})]})]}),R?e.jsx(Wl,{size:20,className:"text-slate-400"}):e.jsx(vs,{size:20,className:"text-slate-400"})]});return e.jsxs("form",{onSubmit:M,className:"space-y-6 pb-24",children:[e.jsxs("div",{className:"bg-white rounded-[32px] border border-slate-100 shadow-sm overflow-hidden",children:[e.jsx(T,{icon:Gl,title:"Basic Plan Information",subtitle:"Plan core details and pricing",section:"basic",active:d.basic,color:"text-indigo-600"}),d.basic&&e.jsxs("div",{className:"p-6 pt-2 space-y-6 animate-in slide-in-from-top-2 duration-300",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-xs font-black text-slate-500 uppercase tracking-widest",children:"Plan Name *"}),e.jsx("input",{type:"text",name:"planName",className:`w-full px-4 py-3 bg-slate-50 border-2 border-transparent rounded-xl text-sm font-bold text-slate-700 focus:outline-none focus:bg-white focus:border-indigo-500 transition-all ${u.planName?"border-red-500 bg-white":""}`,placeholder:"e.g., Enterprise Premium",value:i.planName,onChange:w}),u.planName&&e.jsx("p",{className:"text-xs text-red-500 font-bold",children:u.planName})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-xs font-black text-slate-500 uppercase tracking-widest",children:"Price () *"}),e.jsx("input",{type:"number",name:"price",className:`w-full px-4 py-3 bg-slate-50 border-2 border-transparent rounded-xl text-sm font-bold text-slate-700 focus:outline-none focus:bg-white focus:border-indigo-500 transition-all ${u.price?"border-red-500 bg-white":""}`,placeholder:"4999",value:i.price,onChange:w})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-xs font-black text-slate-500 uppercase tracking-widest",children:"Billing Cycle"}),e.jsxs("select",{className:"w-full px-4 py-3 bg-slate-50 border-2 border-transparent rounded-xl text-sm font-bold text-slate-700 focus:outline-none focus:bg-white focus:border-indigo-500 transition-all",value:i.billingCycle,onChange:_=>o(I=>({...I,billingCycle:_.target.value})),children:[e.jsx("option",{value:"Monthly",children:"Monthly"}),e.jsx("option",{value:"Quarterly",children:"Quarterly"}),e.jsx("option",{value:"Yearly",children:"Yearly"}),e.jsx("option",{value:"Lifetime",children:"Lifetime / One-time"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-xs font-black text-slate-500 uppercase tracking-widest",children:"Description *"}),e.jsx("textarea",{name:"description",className:"w-full px-4 py-3 bg-slate-50 border-2 border-transparent rounded-xl text-sm font-bold text-slate-700 focus:outline-none focus:bg-white focus:border-indigo-500 transition-all min-h-[80px]",placeholder:"Describe who this plan is for...",value:i.description,onChange:w})]})]})]}),e.jsxs("div",{className:"bg-white rounded-[32px] border border-slate-100 shadow-sm overflow-hidden",children:[e.jsx(T,{icon:Tc,title:"Organization Limits",subtitle:"Control branches and accounts",section:"limits",active:d.limits,color:"text-emerald-600"}),d.limits&&e.jsxs("div",{className:"p-6 pt-2 grid grid-cols-1 md:grid-cols-2 gap-4 animate-in slide-in-from-top-2 duration-300",children:[e.jsx(dr,{label:"Max Branches",value:i.limits.branches.value,isUnlimited:i.limits.branches.isUnlimited,onChange:_=>S("limits","branches","value",_),onToggleUnlimited:_=>S("limits","branches","isUnlimited",_)}),e.jsx(dr,{label:"Max Managers",value:i.limits.managers.value,isUnlimited:i.limits.managers.isUnlimited,onChange:_=>S("limits","managers","value",_),onToggleUnlimited:_=>S("limits","managers","isUnlimited",_)}),e.jsx(dr,{label:"Max Staff Accounts",value:i.limits.staff.value,isUnlimited:i.limits.staff.isUnlimited,onChange:_=>S("limits","staff","value",_),onToggleUnlimited:_=>S("limits","staff","isUnlimited",_)}),e.jsx(dr,{label:"Max Trainers",value:i.limits.trainers.value,isUnlimited:i.limits.trainers.isUnlimited,onChange:_=>S("limits","trainers","value",_),onToggleUnlimited:_=>S("limits","trainers","isUnlimited",_)}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(dr,{label:"Max Members per Branch",value:i.limits.members.value,isUnlimited:i.limits.members.isUnlimited,onChange:_=>S("limits","members","value",_),onToggleUnlimited:_=>S("limits","members","isUnlimited",_)})})]})]}),e.jsxs("div",{className:"bg-white rounded-[32px] border border-slate-100 shadow-sm overflow-hidden",children:[e.jsx(T,{icon:Wt,title:"Operational Limits",subtitle:"Workout, Diet & Lead controls",section:"ops",active:d.ops,color:"text-amber-600"}),d.ops&&e.jsxs("div",{className:"p-6 pt-2 grid grid-cols-1 md:grid-cols-2 gap-4 animate-in slide-in-from-top-2 duration-300",children:[e.jsx(dr,{label:"Active Workout Plans",value:i.opsLimits.workouts.value,isUnlimited:i.opsLimits.workouts.isUnlimited,onChange:_=>S("opsLimits","workouts","value",_),onToggleUnlimited:_=>S("opsLimits","workouts","isUnlimited",_)}),e.jsx(dr,{label:"Diet Plans",value:i.opsLimits.diets.value,isUnlimited:i.opsLimits.diets.isUnlimited,onChange:_=>S("opsLimits","diets","value",_),onToggleUnlimited:_=>S("opsLimits","diets","isUnlimited",_)}),e.jsx(dr,{label:"Classes / Schedule",value:i.opsLimits.classes.value,isUnlimited:i.opsLimits.classes.isUnlimited,onChange:_=>S("opsLimits","classes","value",_),onToggleUnlimited:_=>S("opsLimits","classes","isUnlimited",_)}),e.jsx(dr,{label:"Leads per Month",value:i.opsLimits.leads.value,isUnlimited:i.opsLimits.leads.isUnlimited,onChange:_=>S("opsLimits","leads","value",_),onToggleUnlimited:_=>S("opsLimits","leads","isUnlimited",_)})]})]}),e.jsxs("div",{className:"bg-white rounded-[32px] border border-slate-100 shadow-sm overflow-hidden",children:[e.jsx(T,{icon:Nd,title:"Member Benefit Usage Limits",subtitle:"Directly syncs with Benefit Tracking",section:"benefits",active:d.benefits,color:"text-rose-600"}),d.benefits&&e.jsxs("div",{className:"p-6 pt-2 space-y-4 animate-in slide-in-from-top-2 duration-300",children:[e.jsxs("div",{className:"flex justify-between items-center bg-rose-50/50 p-4 rounded-2xl border border-rose-100",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"text-[10px] font-black text-rose-600 uppercase tracking-widest mb-1",children:"Benefit Sync Active"}),e.jsx("p",{className:"text-xs font-bold text-slate-500",children:"Configure sessions/access per member tier."})]}),e.jsxs("button",{type:"button",onClick:v,className:"px-4 py-2 bg-rose-600 text-white rounded-xl text-xs font-black shadow-lg shadow-rose-200 flex items-center gap-2 hover:scale-105 active:scale-95 transition-all",children:[e.jsx(St,{size:16})," Add Benefit"]})]}),i.benefits.map((_,I)=>e.jsxs("div",{className:"relative group animate-in zoom-in-95 duration-200",children:[e.jsx("button",{type:"button",onClick:()=>N(_.id),className:"absolute -right-2 -top-2 w-8 h-8 bg-white shadow-lg border border-slate-100 rounded-full flex items-center justify-center text-slate-400 hover:text-red-600 transition-all z-10",children:e.jsx(Ms,{size:16})}),e.jsxs("div",{className:"p-6 bg-slate-50 rounded-[24px] border border-slate-100 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Select Benefit Name"}),e.jsx("input",{type:"text",value:_.name,onChange:B=>A(_.id,"name",B.target.value),placeholder:"e.g., Sauna Sessions",className:"w-full px-4 py-2 bg-white rounded-xl text-sm font-bold border-2 border-transparent focus:border-rose-500 outline-none transition-all"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Assigned Room / Facility"}),e.jsx("input",{type:"text",value:_.room||"",onChange:B=>A(_.id,"room",B.target.value),placeholder:"e.g., Room A, Sauna 1",className:"w-full px-4 py-2 bg-white rounded-xl text-sm font-bold border-2 border-transparent focus:border-rose-500 outline-none transition-all"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Gender Separation"}),e.jsxs("select",{value:_.gender||"All",onChange:B=>A(_.id,"gender",B.target.value),className:"w-full px-4 py-2 bg-white rounded-xl text-sm font-bold border-2 border-transparent focus:border-rose-500 outline-none transition-all cursor-pointer",children:[e.jsx("option",{value:"All",children:"All Genders"}),e.jsx("option",{value:"Male",children:"Male Only"}),e.jsx("option",{value:"Female",children:"Female Only"})]})]})}),e.jsx(dr,{label:"Quota Limit",value:_.limit,isUnlimited:_.isUnlimited,onChange:B=>A(_.id,"limit",B),onToggleUnlimited:B=>A(_.id,"isUnlimited",B),unitValue:_.unit,onUnitChange:B=>A(_.id,"unit",B),options:[{value:"Per Month",label:"Per Month"},{value:"Per Year",label:"Per Year"},{value:"Lifetime",label:"Entire Duration"}]})]})]},_.id)),i.benefits.length===0&&e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-slate-100 rounded-[32px]",children:[e.jsx(nu,{size:40,className:"mx-auto text-slate-200 mb-2"}),e.jsx("p",{className:"text-sm font-bold text-slate-400",children:"No member benefits configured for this plan."})]})]})]}),e.jsxs("div",{className:"fixed bottom-0 right-0 left-0 p-4 bg-white/80 backdrop-blur-md border-t border-slate-100 z-50 flex gap-4",children:[e.jsx("button",{type:"button",onClick:s,className:"flex-1 py-4 bg-slate-100 text-slate-600 rounded-2xl text-xs font-black uppercase tracking-widest hover:bg-slate-200 transition-all",children:"Cancel"}),e.jsxs("button",{type:"submit",disabled:p,className:"flex-[2] py-4 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-2xl text-xs font-black uppercase tracking-widest shadow-xl shadow-indigo-200 flex items-center justify-center gap-2 hover:shadow-indigo-300 transition-all active:scale-95",children:[e.jsx(xa,{size:18}),p?"Saving Configuration...":r?"Update & Sync Plan":"Establish SaaS Plan"]})]})]})},q9=()=>{const[t,s]=j.useState(""),[r,l]=j.useState("all"),[i,o]=j.useState([]),[d,x]=j.useState(!0),[u,h]=j.useState(!1),[p,g]=j.useState(null);j.useEffect(()=>{y()},[]);const y=async()=>{x(!0);try{const T=(await ou()).map(_=>({id:_.id,planName:_.name,price:parseFloat(_.price),billingCycle:_.period,activeUsers:Math.floor(Math.random()*100),status:(_.status||"inactive").toLowerCase(),limits:_.limits||{branches:{value:1,isUnlimited:!1},members:{value:100,isUnlimited:!1}},benefitsCount:(_.benefits||[]).length}));o(T)}catch(M){console.error(M)}finally{x(!1)}},f=i.filter(M=>{const T=M.planName.toLowerCase().includes(t.toLowerCase()),_=r==="all"||M.status===r;return T&&_}),w=()=>{g(null),h(!0)},S=M=>{g(M),h(!0)},v=async M=>{window.confirm("Are you sure you want to delete this plan?")&&(await GC(M),y())},N=()=>{y(),h(!1)},A=M=>`${M.toLocaleString("en-IN")}`,L=({limit:M,icon:T})=>e.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1 bg-slate-50 border border-slate-100 rounded-lg text-slate-600",children:[e.jsx(T,{size:12,className:"text-slate-400"}),e.jsx("span",{className:"text-[10px] font-black uppercase",children:M?.isUnlimited?e.jsx(nu,{size:14,className:"text-indigo-600"}):M?.value||"0"})]});return d?e.jsx("div",{className:"p-6 text-center text-gray-600",children:"Loading plans..."}):e.jsxs("div",{className:"bg-gradient-to-br from-gray-50 via-white to-indigo-50/30 h-full w-full",children:[e.jsxs("div",{className:"mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-gray-100 p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 bg-clip-text text-transparent mb-2 flex items-center gap-2",children:[e.jsx(al,{className:"text-indigo-600",size:28}),"SaaS Membership Plans"]}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Configure resource quotas and subscription tiers"})]}),e.jsxs("button",{className:"group relative px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl font-semibold shadow-lg hover:shadow-xl hover:shadow-indigo-500/50 hover:scale-105 hover:-translate-y-1 transition-all duration-300 flex items-center gap-2",onClick:w,children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 to-pink-600 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx(St,{size:20,className:"relative transition-transform duration-300 group-hover:rotate-90"}),e.jsx("span",{className:"relative",children:"Create New Plan"})]})]})})]}),e.jsx("div",{className:"mb-6 bg-white/60 backdrop-blur-md rounded-xl shadow-lg border border-white/50 p-5 relative overflow-visible",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 overflow-visible",children:[e.jsxs("div",{className:"relative flex-1 group",children:[e.jsx(Qe,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-indigo-500 transition-all duration-300"}),e.jsx("input",{type:"text",placeholder:"Search plans...",className:"w-full pl-12 pr-4 py-3 bg-white/80 border-2 border-gray-200 rounded-xl text-sm focus:outline-none focus:border-indigo-500 transition-all duration-300",value:t,onChange:M=>s(M.target.value)})]}),e.jsx("div",{className:"w-full sm:w-48 relative overflow-visible",children:e.jsx(ms,{options:[{value:"all",label:"All Status"},{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}],value:r,onChange:l})})]})}),f.length>0?e.jsx("div",{className:"hidden md:block bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:e.jsxs("table",{className:"w-full border-separate border-spacing-0",children:[e.jsx("thead",{className:"bg-slate-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black uppercase text-slate-500 tracking-widest",children:"Plan Name"}),e.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black uppercase text-slate-500 tracking-widest",children:"Pricing"}),e.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black uppercase text-slate-500 tracking-widest",children:"Resource limits"}),e.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black uppercase text-slate-500 tracking-widest",children:"Benefits"}),e.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black uppercase text-slate-500 tracking-widest",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black uppercase text-slate-500 tracking-widest",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:f.map(M=>e.jsxs("tr",{className:"group hover:bg-slate-50/50 transition-all duration-200",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-indigo-50 text-indigo-600 flex items-center justify-center font-black text-lg shadow-inner",children:M.planName.charAt(0)}),e.jsx("span",{className:"font-bold text-slate-800 tracking-tight",children:M.planName})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-black text-slate-900 text-lg",children:A(M.price)}),e.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:M.billingCycle})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(L,{limit:M.limits?.branches,icon:Tc}),e.jsx(L,{limit:M.limits?.members,icon:Et})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"font-black text-rose-600",children:M.benefitsCount}),e.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Active"})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-4 py-1.5 rounded-full text-[10px] font-black uppercase tracking-widest shadow-sm ${M.status==="active"?"bg-emerald-50 text-emerald-600 border border-emerald-100":"bg-red-50 text-red-600 border border-red-100"}`,children:M.status})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-end gap-2 opacity-0 group-hover:opacity-100 transition-all",children:[e.jsx("button",{onClick:()=>S(M.id),className:"p-2.5 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 hover:scale-110 rounded-xl transition-all shadow-sm bg-white border border-slate-100",children:e.jsx(Sd,{size:16})}),e.jsx("button",{onClick:()=>v(M.id),className:"p-2.5 text-slate-400 hover:text-red-600 hover:bg-red-50 hover:scale-110 rounded-xl transition-all shadow-sm bg-white border border-slate-100",children:e.jsx(Ms,{size:16})})]})})]},M.id))})]})}):e.jsx("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-16 text-center",children:e.jsx("p",{className:"text-gray-500",children:"No plans found matching your criteria."})}),e.jsx("div",{className:"md:hidden space-y-4",children:f.map(M=>e.jsx(Ga,{title:M.planName,subtitle:`${A(M.price)} / ${M.billingCycle}`,badge:{label:M.status.toUpperCase(),color:M.status==="active"?"green":"red"},actions:[{label:"Edit",icon:Sd,onClick:()=>S(M.id)},{label:"Delete",icon:Ms,onClick:()=>v(M.id),variant:"danger"}]},M.id))}),e.jsx(at,{isOpen:u,onClose:()=>h(!1),title:p?"Refine Subscription Tier":"Establish New SaaS Tier",children:e.jsx($9,{isOpen:u,onClose:()=>h(!1),editId:p,onSuccess:N})})]})},H9=()=>{const t=Gt(),s=zr(),l=new URLSearchParams(s.search).get("edit"),[i,o]=j.useState({planName:"",price:"",billingCycle:"Monthly",description:"",status:!0,features:[],limits:{branches:{value:1,isUnlimited:!1},managers:{value:2,isUnlimited:!1},staff:{value:5,isUnlimited:!1},trainers:{value:3,isUnlimited:!1},members:{value:100,isUnlimited:!1}},opsLimits:{workouts:{value:10,isUnlimited:!1},diets:{value:10,isUnlimited:!1},classes:{value:5,isUnlimited:!1},checkins:{value:30,isUnlimited:!1},leads:{value:50,isUnlimited:!1}},benefits:[]}),[d,x]=j.useState({basic:!0,limits:!0,ops:!0,benefits:!0}),[u,h]=j.useState({}),[p,g]=j.useState(!1);j.useEffect(()=>{l&&y(parseInt(l))},[l]);const y=async _=>{const B=(await ou()).find(P=>P.id===_);B&&o({planName:B.name,price:B.price,billingCycle:B.period,description:B.description||"",status:B.status==="Active",features:B.features||[],limits:B.limits||i.limits,opsLimits:B.opsLimits||i.opsLimits,benefits:B.benefits||[]})},f=_=>{x(I=>({...I,[_]:!I[_]}))},w=_=>{const{name:I,value:B}=_.target;o(P=>({...P,[I]:B})),u[I]&&h(P=>({...P,[I]:""}))},S=(_,I,B,P)=>{o(R=>({...R,[_]:{...R[_],[I]:{...R[_][I],[B]:P}}}))},v=()=>{o(_=>({..._,benefits:[..._.benefits,{id:Date.now(),name:"",limit:"5",isUnlimited:!1,unit:"Per Month"}]}))},N=_=>{o(I=>({...I,benefits:I.benefits.filter(B=>B.id!==_)}))},A=(_,I,B)=>{o(P=>({...P,benefits:P.benefits.map(R=>R.id===_?{...R,[I]:B}:R)}))},L=()=>{const _={};return i.planName.trim()||(_.planName="Plan name is required"),i.price||(_.price="Price is required"),i.description.trim()||(_.description="Description is required"),h(_),Object.keys(_).length===0},M=async _=>{if(_.preventDefault(),!L()){x(I=>({...I,basic:!0})),alert("Please fill in all required fields (Name, Price, Description).");return}g(!0);try{const I={name:i.planName,price:i.price,period:i.billingCycle,features:i.features,limits:i.limits,opsLimits:i.opsLimits,benefits:i.benefits,status:i.status?"Active":"Inactive",description:i.description};l?await Jj(parseInt(l),I):await Kj(I),t("/superadmin/plans/list")}catch(I){console.error("Error saving plan:",I),alert("Failed to save plan")}finally{g(!1)}},T=({icon:_,title:I,subtitle:B,section:P,active:R,color:W})=>e.jsxs("div",{onClick:()=>f(P),className:`flex items-center justify-between p-5 cursor-pointer rounded-[24px] transition-all ${R?"bg-slate-50":"hover:bg-slate-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`p-3 rounded-2xl bg-white shadow-sm border border-slate-100 ${W}`,children:e.jsx(_,{size:24})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-black text-slate-800 tracking-tight",children:I}),B&&e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-[0.1em]",children:B})]})]}),R?e.jsx(Wl,{size:24,className:"text-slate-400"}):e.jsx(vs,{size:24,className:"text-slate-400"})]});return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-indigo-50/30 py-8 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("button",{onClick:()=>t("/superadmin/plans/list"),className:"group flex items-center text-slate-500 hover:text-indigo-600 transition-all mb-8",children:[e.jsx(kn,{className:"w-5 h-5 mr-2 group-hover:-translate-x-1 transition-transform"}),e.jsx("span",{className:"font-bold text-sm tracking-tight",children:"Back to SaaS Plans"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-black text-slate-900 tracking-tighter",children:l?"Refine SaaS Tier":"Establish New Tier"}),e.jsx("p",{className:"text-slate-500 font-bold mt-1",children:"Configure global resource quotas and member benefits."})]}),e.jsxs("div",{className:"flex items-center gap-3 p-2 bg-indigo-50 rounded-2xl border border-indigo-100",children:[e.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${i.status?"text-indigo-600":"text-slate-400"}`,children:i.status?"Tier Publicly Active":"Tier Hidden / Draft"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:i.status,onChange:()=>o(_=>({..._,status:!_.status})),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-slate-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-gradient-to-r peer-checked:from-indigo-600 peer-checked:to-purple-600"})]})]})]}),e.jsxs("form",{onSubmit:M,className:"space-y-6 pb-24",children:[e.jsxs("div",{className:"bg-white rounded-[32px] border-2 border-slate-100 shadow-xl shadow-slate-100/50 overflow-hidden",children:[e.jsx(T,{icon:Gl,title:"Basic Configuration",subtitle:"Core identity and billing",section:"basic",active:d.basic,color:"text-indigo-600"}),d.basic&&e.jsxs("div",{className:"p-8 pt-2 space-y-6 animate-in slide-in-from-top-2 duration-300",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-xs font-black text-slate-500 uppercase tracking-[0.2em]",children:"Plan Designation *"}),e.jsx("input",{type:"text",name:"planName",className:`w-full px-6 py-4 bg-slate-50 border-2 border-transparent rounded-2xl text-lg font-black text-slate-800 placeholder:text-slate-300 focus:outline-none focus:bg-white focus:border-indigo-500 transition-all ${u.planName?"border-red-500 bg-white":""}`,placeholder:"e.g., Global Enterprise Plus",value:i.planName,onChange:w}),u.planName&&e.jsx("p",{className:"text-xs text-red-500 font-black italic",children:u.planName})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-xs font-black text-slate-500 uppercase tracking-[0.2em]",children:"Subscription Price () *"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-6 top-1/2 -translate-y-1/2 text-2xl font-black text-slate-300",children:""}),e.jsx("input",{type:"number",name:"price",className:`w-full pl-12 pr-6 py-4 bg-slate-50 border-2 border-transparent rounded-2xl text-2xl font-black text-slate-800 focus:outline-none focus:bg-white focus:border-indigo-500 transition-all ${u.price?"border-red-500 bg-white":""}`,placeholder:"9999",value:i.price,onChange:w})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-xs font-black text-slate-500 uppercase tracking-[0.2em]",children:"Billing Interval"}),e.jsxs("select",{className:"w-full px-6 py-5 bg-slate-50 border-2 border-transparent rounded-2xl text-sm font-black text-slate-600 uppercase tracking-widest focus:outline-none focus:bg-white focus:border-indigo-500 transition-all",value:i.billingCycle,onChange:_=>o(I=>({...I,billingCycle:_.target.value})),children:[e.jsx("option",{value:"Monthly",children:"Monthly Cycle"}),e.jsx("option",{value:"Quarterly",children:"Quarterly Cycle"}),e.jsx("option",{value:"Yearly",children:"Yearly Cycle"}),e.jsx("option",{value:"Lifetime",children:"One-time / Lifetime"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-xs font-black text-slate-500 uppercase tracking-[0.2em]",children:"Marketing Description *"}),e.jsx("textarea",{name:"description",className:"w-full px-6 py-4 bg-slate-50 border-2 border-transparent rounded-2xl text-sm font-bold text-slate-600 focus:outline-none focus:bg-white focus:border-indigo-500 transition-all min-h-[120px] resize-none",placeholder:"Highlight why this plan is perfect for scaling gyms...",value:i.description,onChange:w})]})]})]}),e.jsxs("div",{className:"bg-white rounded-[32px] border-2 border-slate-100 shadow-xl shadow-slate-100/50 overflow-hidden",children:[e.jsx(T,{icon:Tc,title:"Organization Resource Quotas",subtitle:"Define infrastructure limits",section:"limits",active:d.limits,color:"text-emerald-600"}),d.limits&&e.jsxs("div",{className:"p-8 pt-2 grid grid-cols-1 md:grid-cols-2 gap-6 animate-in slide-in-from-top-2 duration-300",children:[e.jsx(dr,{label:"Maximum Branches",value:i.limits.branches.value,isUnlimited:i.limits.branches.isUnlimited,onChange:_=>S("limits","branches","value",_),onToggleUnlimited:_=>S("limits","branches","isUnlimited",_),unit:"Branches"}),e.jsx(dr,{label:"Administrative Managers",value:i.limits.managers.value,isUnlimited:i.limits.managers.isUnlimited,onChange:_=>S("limits","managers","value",_),onToggleUnlimited:_=>S("limits","managers","isUnlimited",_),unit:"Total"}),e.jsx(dr,{label:"Staff / Employee Accounts",value:i.limits.staff.value,isUnlimited:i.limits.staff.isUnlimited,onChange:_=>S("limits","staff","value",_),onToggleUnlimited:_=>S("limits","staff","isUnlimited",_),unit:"Accounts"}),e.jsx(dr,{label:"Professional Trainers",value:i.limits.trainers.value,isUnlimited:i.limits.trainers.isUnlimited,onChange:_=>S("limits","trainers","value",_),onToggleUnlimited:_=>S("limits","trainers","isUnlimited",_),unit:"Trainers"}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(dr,{label:"Active Member Quota (per Branch)",value:i.limits.members.value,isUnlimited:i.limits.members.isUnlimited,onChange:_=>S("limits","members","value",_),onToggleUnlimited:_=>S("limits","members","isUnlimited",_),unit:"Active Members"})})]})]}),e.jsxs("div",{className:"bg-white rounded-[32px] border-2 border-slate-100 shadow-xl shadow-slate-100/50 overflow-hidden",children:[e.jsx(T,{icon:Wt,title:"Operational Execution Limits",subtitle:"Software feature controls",section:"ops",active:d.ops,color:"text-amber-600"}),d.ops&&e.jsxs("div",{className:"p-8 pt-2 grid grid-cols-1 md:grid-cols-2 gap-6 animate-in slide-in-from-top-2 duration-300",children:[e.jsx(dr,{label:"Active Workout Blueprints",value:i.opsLimits.workouts.value,isUnlimited:i.opsLimits.workouts.isUnlimited,onChange:_=>S("opsLimits","workouts","value",_),onToggleUnlimited:_=>S("opsLimits","workouts","isUnlimited",_)}),e.jsx(dr,{label:"Active Diet Plan Database",value:i.opsLimits.diets.value,isUnlimited:i.opsLimits.diets.isUnlimited,onChange:_=>S("opsLimits","diets","value",_),onToggleUnlimited:_=>S("opsLimits","diets","isUnlimited",_)}),e.jsx(dr,{label:"Class Types / Schedules",value:i.opsLimits.classes.value,isUnlimited:i.opsLimits.classes.isUnlimited,onChange:_=>S("opsLimits","classes","value",_),onToggleUnlimited:_=>S("opsLimits","classes","isUnlimited",_)}),e.jsx(dr,{label:"Inquiry Leads / Month",value:i.opsLimits.leads.value,isUnlimited:i.opsLimits.leads.isUnlimited,onChange:_=>S("opsLimits","leads","value",_),onToggleUnlimited:_=>S("opsLimits","leads","isUnlimited",_)})]})]}),e.jsxs("div",{className:"bg-white rounded-[32px] border-2 border-slate-100 shadow-xl shadow-slate-100/50 overflow-hidden",children:[e.jsx(T,{icon:Nd,title:"Tier-specific Member Benefits",subtitle:"Quota sync for end-users",section:"benefits",active:d.benefits,color:"text-rose-600"}),d.benefits&&e.jsxs("div",{className:"p-8 pt-2 space-y-6 animate-in slide-in-from-top-2 duration-300",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center bg-rose-50/50 p-6 rounded-[24px] border border-rose-100 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-rose-600 text-white rounded-2xl flex items-center justify-center shadow-lg shadow-rose-200",children:e.jsx(nu,{size:28})}),e.jsxs("div",{children:[e.jsxs("h5",{className:"text-sm font-black text-rose-700 tracking-tight flex items-center gap-2",children:["Benefit Quota Logic ",e.jsx("span",{className:"px-2 py-0.5 bg-rose-200 text-rose-700 rounded-md text-[8px] uppercase",children:"Active"})]}),e.jsx("p",{className:"text-[10px] font-bold text-rose-500 uppercase tracking-widest mt-0.5",children:"Automated synchronization with member dashboard"})]})]}),e.jsxs("button",{type:"button",onClick:v,className:"w-full sm:w-auto px-6 py-4 bg-rose-600 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest shadow-xl shadow-rose-200 flex items-center justify-center gap-2 hover:bg-rose-700 hover:-translate-y-1 active:translate-y-0 transition-all",children:[e.jsx(Plus,{size:18})," Configure New Benefit"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:i.benefits.map((_,I)=>e.jsxs("div",{className:"relative group animate-in zoom-in-95 duration-200",children:[e.jsx("button",{type:"button",onClick:()=>N(_.id),className:"absolute -right-3 -top-3 w-10 h-10 bg-white shadow-xl border border-slate-100 rounded-2xl flex items-center justify-center text-slate-400 hover:text-red-600 hover:rotate-90 transition-all z-10",children:e.jsx(Trash2,{size:20})}),e.jsxs("div",{className:"p-6 bg-slate-50 rounded-[32px] border border-slate-100 space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Benefit Designation"}),e.jsx("input",{type:"text",value:_.name,onChange:B=>A(_.id,"name",B.target.value),placeholder:"e.g., Ice Bath Sessions",className:"w-full px-5 py-3 bg-white rounded-2xl text-sm font-black border-2 border-transparent focus:border-rose-500 outline-none transition-all shadow-sm"})]}),e.jsx(dr,{label:"Usage Allocation",value:_.limit,isUnlimited:_.isUnlimited,onChange:B=>A(_.id,"limit",B),onToggleUnlimited:B=>A(_.id,"isUnlimited",B),unitValue:_.unit,onUnitChange:B=>A(_.id,"unit",B),options:[{value:"Per Month",label:"Per Month"},{value:"Per Year",label:"Per Year"},{value:"Lifetime",label:"Lifetime Auth"}]})]})]},_.id))}),i.benefits.length===0&&e.jsxs("div",{className:"text-center py-20 border-4 border-dashed border-slate-50 rounded-[40px] bg-slate-50/30",children:[e.jsx(Nd,{size:60,className:"mx-auto text-slate-200 mb-4 stroke-1"}),e.jsx("h6",{className:"text-lg font-black text-slate-300 tracking-tight",children:"No Tier Benefits defined."}),e.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mt-2",children:"Members will only have access to core gym features."})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-8",children:[e.jsx("button",{type:"button",onClick:()=>t("/superadmin/plans/list"),className:"flex-1 py-5 bg-white border-2 border-slate-200 text-slate-600 rounded-3xl text-sm font-black uppercase tracking-widest hover:bg-slate-50 transition-all border-b-4 active:translate-y-1 active:border-b-0",children:"Discard Changes"}),e.jsxs("button",{type:"submit",disabled:p,className:"flex-[2] py-5 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-3xl text-sm font-black uppercase tracking-widest shadow-2xl shadow-indigo-200 flex items-center justify-center gap-3 hover:shadow-indigo-400 hover:-translate-y-1 active:translate-y-0 transition-all",children:[e.jsx(xa,{size:24}),p?"Syncing with SaaS Engine...":l?"Commit & Synchronize Plan":"Establish Global SaaS Tier"]})]})]})]})})},W9=()=>{const t=Gt(),[s,r]=j.useState(""),[l,i]=j.useState(!1),[o,d]=j.useState([]),[x,u]=j.useState([]);j.useEffect(()=>{h()},[]);const h=async()=>{const v=await ou();u(v),d(v.map(N=>({id:N.id,name:N.name})))},[p,g]=j.useState([{id:"gym_management",name:"Gym Management",description:"Manage gym branches, locations, and settings",enabled:!1},{id:"trainer_management",name:"Trainer Management",description:"Assign and manage trainers, track sessions",enabled:!1},{id:"member_management",name:"Member Management",description:"Complete member lifecycle management",enabled:!1},{id:"payment_reports",name:"Payment Reports",description:"Financial reports, invoices, and GST reports",enabled:!1},{id:"analytics_dashboard",name:"Analytics Dashboard",description:"Advanced analytics and business insights",enabled:!1},{id:"access_control",name:"Access Control",description:"Entry/exit logs and access management",enabled:!1},{id:"locker_management",name:"Locker Management",description:"Assign and manage lockers for members",enabled:!1},{id:"booking_system",name:"Booking System",description:"Sauna, ice bath, and facility bookings",enabled:!1},{id:"wallet_management",name:"Wallet Management",description:"Member benefit wallet and credit system",enabled:!1},{id:"task_management",name:"Task Management",description:"Assign and track staff tasks",enabled:!1}]),y=v=>{const N=v;if(r(N),N){const L=x.find(M=>M.id===parseInt(N))?.features||[];g(M=>M.map(T=>({...T,enabled:L.includes(T.id)})))}else g(A=>A.map(L=>({...L,enabled:!1})))},f=v=>{g(N=>N.map(A=>A.id===v?{...A,enabled:!A.enabled}:A))},w=async()=>{if(!s){alert("Please select a plan first");return}i(!0);try{const v=parseInt(s),N=p.filter(A=>A.enabled).map(A=>A.id);await VC(v,N),i(!1),alert("Features updated successfully!"),t("/superadmin/plans/list")}catch(v){console.error("Error saving features:",v),alert("Failed to save features"),i(!1)}},S=()=>{r(""),g(v=>v.map(N=>({...N,enabled:!1})))};return e.jsxs("div",{className:"min-h-screen bg-gray-50/50 flex flex-col items-center py-8 px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"w-full max-w-5xl mb-6",children:e.jsxs("button",{onClick:()=>t("/superadmin/plans/list"),className:"group flex items-center text-gray-500 hover:text-indigo-600 transition-colors duration-200",children:[e.jsx("div",{className:"p-1 rounded-full group-hover:bg-indigo-50 transition-colors duration-200 mr-2",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-arrow-left",children:[e.jsx("path",{d:"m12 19-7-7 7-7"}),e.jsx("path",{d:"M19 12H5"})]})}),e.jsx("span",{className:"font-medium",children:"Back to Plans"})]})}),e.jsx("div",{className:"flex flex-col md:flex-row gap-6 w-full max-w-5xl items-start mb-2",children:e.jsx("h1",{className:"text-2xl font-bold text-gray-800 md:hidden mb-4",children:"Feature Toggles"})}),e.jsxs("div",{className:"w-full max-w-5xl bg-white rounded-3xl shadow-xl shadow-gray-200/50 border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"px-6 py-8 sm:px-10 border-b border-gray-100 bg-white",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 tracking-tight",children:"Feature Toggles"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Manage availability of features for specific subscription plans."})]}),e.jsxs("div",{className:"px-6 py-8 sm:px-10 space-y-8",children:[e.jsxs("div",{className:"max-w-md",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Select Plan"}),e.jsxs("div",{className:"relative",children:[e.jsx(ms,{options:o.map(v=>({value:v.id,label:v.name})),value:s,onChange:y,placeholder:"Choose a plan to manage features...",className:"w-full"}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-4 text-gray-500",children:e.jsx("svg",{className:"h-4 w-4 fill-current",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"})})})]})]}),s?e.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-300",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:p.map(v=>e.jsxs("div",{className:`p-4 rounded-2xl border transition-all duration-200 flex items-start justify-between gap-4 ${v.enabled?"bg-indigo-50/30 border-indigo-200":"bg-gray-50/50 border-gray-100 hover:border-gray-200"}`,children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:`text-sm font-bold ${v.enabled?"text-indigo-900":"text-gray-700"}`,children:v.name}),e.jsx("p",{className:"text-xs text-gray-500 mt-1 leading-relaxed",children:v.description})]}),e.jsx("div",{className:"flex items-center pt-0.5",children:e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:v.enabled,onChange:()=>f(v.id),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})})]},v.id))}),e.jsxs("div",{className:"pt-8 flex flex-col-reverse md:flex-row items-center justify-end gap-4 border-t border-gray-100 mt-8",children:[e.jsx("button",{onClick:S,disabled:l,className:"w-full md:w-auto px-6 py-2.5 bg-white border border-gray-300 rounded-xl text-sm font-semibold text-gray-700 hover:bg-gray-50 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-all duration-200 shadow-sm",children:"Cancel"}),e.jsxs("button",{onClick:w,disabled:l,className:"w-full md:w-auto flex items-center justify-center px-8 py-2.5 bg-gradient-to-r from-indigo-600 to-indigo-700 border border-transparent rounded-xl text-sm font-semibold text-white hover:from-indigo-700 hover:to-indigo-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 shadow-lg shadow-indigo-500/30 transition-all duration-200 transform hover:-translate-y-0.5 hover:shadow-indigo-500/40 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(xa,{size:18,className:"mr-2"}),l?"Saving...":"Save Changes"]})]})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4 text-center border-2 border-dashed border-gray-200 rounded-2xl bg-gray-50/50",children:[e.jsx("div",{className:"p-4 bg-white rounded-full shadow-sm mb-4",children:e.jsx(G9,{className:"w-8 h-8 text-indigo-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No Plan Selected"}),e.jsx("p",{className:"text-sm text-gray-500 max-w-sm mt-1",children:"Select a subscription plan from the dropdown above to view and manage its enabled features."})]})]})]})]})},G9=({className:t})=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[e.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.09a2 2 0 0 1-1-1.74v-.47a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),V9=({isOpen:t,onClose:s,onSuccess:r})=>{const[l,i]=j.useState(!1),[o,d]=j.useState([]),[x,u]=j.useState({gymName:"",branchName:"",ownerName:"",email:"",phone:"",address:"",status:"Active",planId:""}),h=["Active","Suspended"];j.useEffect(()=>{t&&(async()=>{try{const S=await ou();d(S.map(v=>({value:v.id,label:`${v.name} (${v.period} - ${v.price})`})))}catch(S){console.error("Error fetching plans:",S)}})()},[t]);const p=w=>{const{name:S,value:v}=w.target;u(N=>({...N,[S]:v}))},g=w=>{u(S=>({...S,status:w}))},y=w=>{u(S=>({...S,planId:w}))},f=async w=>{if(w.preventDefault(),!x.planId){alert("Please select a SaaS Plan");return}i(!0);try{await Vj({...x,owner:x.ownerName,location:x.address}),r(),s(),u({gymName:"",branchName:"",ownerName:"",email:"",phone:"",address:"",status:"Active",planId:""})}catch(S){console.error("Error adding gym:",S),alert(typeof S=="string"?S:"Failed to add gym")}finally{i(!1)}};return e.jsx(at,{isOpen:t,onClose:s,title:"Add New Gym",subtitle:"Register a new gym branch in the system",maxWidth:"max-w-2xl",footer:e.jsxs("div",{className:"flex flex-col-reverse sm:flex-row items-stretch sm:items-center justify-end gap-3 sm:gap-4 w-full",children:[e.jsx("button",{type:"button",onClick:s,className:"group px-6 sm:px-8 py-2.5 sm:py-3 bg-white border-2 border-slate-200 text-slate-700 hover:border-violet-300 hover:text-violet-600 rounded-lg sm:rounded-xl text-sm font-bold shadow-sm hover:shadow-md transition-all duration-300 hover:scale-105",children:"Cancel"}),e.jsxs("button",{type:"submit",form:"add-gym-form",disabled:l,className:"group relative px-6 sm:px-8 py-2.5 sm:py-3 bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 text-white rounded-lg sm:rounded-xl text-sm font-bold shadow-xl shadow-violet-500/50 hover:shadow-2xl hover:shadow-violet-500/60 transition-all duration-300 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-fuchsia-600 via-purple-600 to-violet-600 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx("span",{className:"relative flex items-center justify-center gap-2",children:l?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(al,{size:16,className:"group-hover:rotate-12 transition-transform duration-300"}),"Create Gym"]})})]})]}),children:e.jsxs("form",{id:"add-gym-form",onSubmit:f,className:"space-y-6 sm:space-y-8 px-6 py-6 font-inter",children:[e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 pb-3 sm:pb-4 border-b border-slate-100",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg sm:rounded-xl bg-gradient-to-br from-violet-100 to-purple-100 flex items-center justify-center flex-shrink-0",children:e.jsx(Tc,{size:16,className:"sm:w-5 sm:h-5 text-violet-600",strokeWidth:2.5})}),e.jsx("h2",{className:"text-base sm:text-lg font-black bg-gradient-to-r from-violet-600 to-purple-600 bg-clip-text text-transparent",children:"Gym Information"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-xs sm:text-sm font-bold bg-gradient-to-r from-violet-600 to-purple-600 bg-clip-text text-transparent",children:[e.jsx(Tc,{size:14,className:"sm:w-4 sm:h-4 text-violet-500"}),"Gym Name"]}),e.jsx("input",{type:"text",name:"gymName",value:x.gymName,onChange:p,placeholder:"e.g. FitPulse Elite",className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 bg-gradient-to-br from-slate-50 to-white border-2 border-slate-200 rounded-lg sm:rounded-xl text-slate-900 text-sm placeholder-slate-400 focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 hover:border-violet-300 transition-all duration-300 shadow-sm",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-xs sm:text-sm font-bold bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent",children:[e.jsx($s,{size:14,className:"sm:w-4 sm:h-4 text-blue-500"}),"Branch Name"]}),e.jsx("input",{type:"text",name:"branchName",value:x.branchName,onChange:p,placeholder:"e.g. Downtown Hub",className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 bg-gradient-to-br from-slate-50 to-white border-2 border-slate-200 rounded-lg sm:rounded-xl text-slate-900 text-sm placeholder-slate-400 focus:outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 hover:border-blue-300 transition-all duration-300 shadow-sm",required:!0})]})]})]}),e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 pb-3 sm:pb-4 border-b border-slate-100",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg sm:rounded-xl bg-gradient-to-br from-emerald-100 to-teal-100 flex items-center justify-center flex-shrink-0",children:e.jsx(rt,{size:16,className:"sm:w-5 sm:h-5 text-emerald-600",strokeWidth:2.5})}),e.jsx("h2",{className:"text-base sm:text-lg font-black bg-gradient-to-r from-emerald-600 to-teal-600 bg-clip-text text-transparent",children:"Owner & Contact Details"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-xs sm:text-sm font-bold bg-gradient-to-r from-emerald-600 to-teal-600 bg-clip-text text-transparent",children:[e.jsx(rt,{size:14,className:"sm:w-4 sm:h-4 text-emerald-500"}),"Owner Name"]}),e.jsx("input",{type:"text",name:"ownerName",value:x.ownerName,onChange:p,placeholder:"Full Name",className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 bg-gradient-to-br from-slate-50 to-white border-2 border-slate-200 rounded-lg sm:rounded-xl text-slate-900 text-sm placeholder-slate-400 focus:outline-none focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/10 hover:border-emerald-300 transition-all duration-300 shadow-sm",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-xs sm:text-sm font-bold bg-gradient-to-r from-orange-600 to-amber-600 bg-clip-text text-transparent",children:[e.jsx(qs,{size:14,className:"sm:w-4 sm:h-4 text-orange-500"}),"Contact Phone"]}),e.jsx("input",{type:"tel",name:"phone",value:x.phone,onChange:p,placeholder:"+1 (555) 000-0000",className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 bg-gradient-to-br from-slate-50 to-white border-2 border-slate-200 rounded-lg sm:rounded-xl text-slate-900 text-sm placeholder-slate-400 focus:outline-none focus:border-orange-500 focus:ring-4 focus:ring-orange-500/10 hover:border-orange-300 transition-all duration-300 shadow-sm",required:!0})]}),e.jsxs("div",{className:"md:col-span-2 space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-xs sm:text-sm font-bold bg-gradient-to-r from-pink-600 to-rose-600 bg-clip-text text-transparent",children:[e.jsx(Hr,{size:14,className:"sm:w-4 sm:h-4 text-pink-500"}),"Email Address"]}),e.jsx("input",{type:"email",name:"email",value:x.email,onChange:p,placeholder:"admin@gym.com",className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 bg-gradient-to-br from-slate-50 to-white border-2 border-slate-200 rounded-lg sm:rounded-xl text-slate-900 text-sm placeholder-slate-400 focus:outline-none focus:border-pink-500 focus:ring-4 focus:ring-pink-500/10 hover:border-pink-300 transition-all duration-300 shadow-sm",required:!0})]})]})]}),e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 pb-3 sm:pb-4 border-b border-slate-100",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg sm:rounded-xl bg-gradient-to-br from-indigo-100 to-blue-100 flex items-center justify-center flex-shrink-0",children:e.jsx(Pj,{size:16,className:"sm:w-5 sm:h-5 text-indigo-600",strokeWidth:2.5})}),e.jsx("h2",{className:"text-base sm:text-lg font-black bg-gradient-to-r from-indigo-600 to-blue-600 bg-clip-text text-transparent",children:"Location & Status"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[e.jsxs("div",{className:"md:col-span-2 space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-xs sm:text-sm font-bold bg-gradient-to-r from-indigo-600 to-blue-600 bg-clip-text text-transparent",children:[e.jsx($s,{size:14,className:"sm:w-4 sm:h-4 text-indigo-500"}),"Physical Address"]}),e.jsx("textarea",{name:"address",rows:"3",value:x.address,onChange:p,placeholder:"Full street address, City, State, ZIP",className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 bg-gradient-to-br from-slate-50 to-white border-2 border-slate-200 rounded-lg sm:rounded-xl text-slate-900 text-sm placeholder-slate-400 focus:outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 hover:border-indigo-300 transition-all duration-300 shadow-sm resize-none",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-xs sm:text-sm font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:[e.jsx(as,{size:14,className:"sm:w-4 sm:h-4 text-green-500"}),"Gym Status"]}),e.jsx(ms,{options:h,value:x.status,onChange:g,placeholder:"Select Status",className:"w-full"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-xs sm:text-sm font-bold bg-gradient-to-r from-violet-600 to-indigo-600 bg-clip-text text-transparent",children:[e.jsx(Os,{size:14,className:"sm:w-4 sm:h-4 text-violet-500"}),"SaaS Plan"]}),e.jsx(ms,{options:o,value:x.planId,onChange:y,placeholder:"Select SaaS Plan",className:"w-full"})]})]})]})]})})},Y9=()=>{Gt();const[t,s]=j.useState(""),[r,l]=j.useState("All"),[i,o]=j.useState([]),[d,x]=j.useState(!0),[u,h]=j.useState(null),[p,g]=j.useState(!1),[y,f]=j.useState(!1),[w,S]=j.useState(1),[v,N]=j.useState(1),[A,L]=j.useState(0);j.useEffect(()=>{const R=setTimeout(()=>{M()},500);return()=>clearTimeout(R)},[t,r,w]);const M=async()=>{x(!0);try{const R=await hg({search:t,status:r,page:w,limit:10});o(R.gyms||[]),N(R.totalPages||1),L(R.total||0)}catch(R){console.error("Error loading gyms:",R),o([])}finally{x(!1)}},T=async R=>{if(window.confirm("Are you sure you want to delete this gym?"))try{await WC(R),M()}catch{alert("Failed to delete gym")}},_=async R=>{try{await Yj(R),M()}catch{alert("Failed to update status")}},I=()=>{Xj("Gyms")},B=R=>{h(R),g(!0)},P=R=>{R>=1&&R<=v&&S(R)};return d&&i.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center p-20 animate-pulse",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-indigo-600 border-t-transparent rounded-full animate-spin mb-4"}),e.jsx("p",{className:"text-gray-500 font-medium",children:"Loading Gym Data..."})]}):e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8 animate-slide-up",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"Gym Management"}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Manage all gym branches and their statuses (",A," total)."]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:I,className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-200 rounded-xl text-sm font-bold text-gray-700 hover:bg-gray-50 hover:shadow-md hover:scale-105 hover:-translate-y-0.5 transition-all duration-300 shadow-sm",children:[e.jsx(Js,{className:"w-4 h-4 transition-transform duration-300 group-hover:rotate-12"}),"Export"]}),e.jsxs("button",{onClick:()=>f(!0),className:"flex items-center gap-2 px-4 py-2 bg-indigo-50 border border-indigo-100 rounded-xl text-sm font-bold text-indigo-600 hover:bg-indigo-600 hover:text-white hover:shadow-lg hover:scale-105 hover:-translate-y-0.5 transition-all duration-300 shadow-sm group",children:[e.jsx(St,{className:"w-4 h-4 transition-transform duration-300 group-hover:rotate-90"}),"Add New Gym"]})]})]}),e.jsx("div",{className:"saas-card mb-6 animate-slide-up",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-center",children:[e.jsxs("div",{className:"relative w-full md:w-96 group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Qe,{className:"h-5 w-5 text-gray-400 group-focus-within:text-indigo-500 transition-colors"})}),e.jsx("input",{type:"text",className:"saas-input pl-10 transition-all duration-300 focus:scale-[1.02] focus:shadow-lg",placeholder:"Search gyms, branches...",value:t,onChange:R=>{s(R.target.value),S(1)}})]}),e.jsx("div",{className:"flex items-center gap-2 w-full md:w-auto overflow-x-auto pb-2 md:pb-0",children:["All","Active","Suspended"].map(R=>e.jsx("button",{onClick:()=>{l(R),S(1)},className:`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-300 whitespace-nowrap hover:scale-105 hover:-translate-y-0.5 ${r===R?"bg-indigo-50 text-indigo-700 border border-indigo-100 shadow-md":"text-gray-600 hover:bg-gray-50 hover:shadow-sm border border-transparent"}`,children:R},R))})]})}),e.jsxs("div",{className:"saas-card p-0 overflow-hidden animate-slide-up delay-200",children:[e.jsxs("div",{className:"saas-table-wrapper relative",children:[d&&e.jsx("div",{className:"absolute inset-0 bg-white/50 backdrop-blur-[1px] flex items-center justify-center z-10 transition-opacity",children:e.jsx("div",{className:"w-8 h-8 border-3 border-indigo-600 border-t-transparent rounded-full animate-spin"})}),e.jsxs("table",{className:"saas-table saas-table-responsive",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Gym Detail"}),e.jsx("th",{children:"Contact Info"}),e.jsx("th",{children:"Location"}),e.jsx("th",{children:"Status"}),e.jsx("th",{className:"text-right",children:"Actions"})]})}),e.jsx("tbody",{children:i.length>0?i.map(R=>e.jsxs("tr",{className:"hover:bg-indigo-50/30 hover:shadow-md hover:scale-[1.01] transition-all duration-300 cursor-pointer group",children:[e.jsx("td",{"data-label":"Gym Detail",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-10 w-10 flex-shrink-0 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600 font-bold text-lg transition-all duration-300 group-hover:scale-110 group-hover:rotate-6 group-hover:shadow-lg",children:(R.gymName||"?").charAt(0)}),e.jsxs("div",{className:"ml-4 text-left",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-900 transition-colors duration-300 group-hover:text-indigo-600",children:R.gymName}),e.jsx("div",{className:"text-sm text-gray-500",children:R.branchName})]})]})}),e.jsx("td",{"data-label":"Contact Info",children:e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"text-sm text-gray-900 font-medium",children:R.owner}),e.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-1",children:[e.jsx(qs,{size:12,className:"text-gray-400"}),R.phone]})]})}),e.jsx("td",{"data-label":"Location",children:e.jsxs("div",{className:"flex items-center text-sm text-gray-500 max-w-xs justify-end md:justify-start",children:[e.jsx($s,{className:"flex-shrink-0 mr-1.5 h-4 w-4 text-gray-400 transition-transform duration-300 group-hover:scale-125"}),e.jsx("span",{className:"truncate",children:R.location})]})}),e.jsx("td",{"data-label":"Status",children:e.jsxs("span",{className:`saas-badge transition-all duration-300 group-hover:scale-105 ${R.status==="Active"?"badge-green":"badge-red"}`,children:[e.jsx("span",{className:`badge-dot ${R.status==="Active"?"animate-pulse bg-green-600":"bg-red-600"}`}),R.status]})}),e.jsx("td",{"data-label":"Actions",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>B(R),className:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-lg transition-all duration-300 hover:scale-125 hover:shadow-md hover:-translate-y-0.5 group/btn",title:"View Details",children:e.jsx(da,{className:"w-4 h-4 transition-transform duration-300 group-hover/btn:scale-110"})}),e.jsx("button",{onClick:()=>_(R.id),className:`p-2 rounded-lg transition-all duration-300 hover:scale-125 hover:shadow-md hover:-translate-y-0.5 hover:rotate-12 group/btn ${R.status==="Active"?"text-orange-600 hover:bg-orange-50":"text-green-600 hover:bg-green-50"}`,title:R.status==="Active"?"Suspend":"Activate",children:e.jsx(Dj,{className:"w-4 h-4 transition-transform duration-300 group-hover/btn:rotate-180"})}),e.jsx("button",{onClick:()=>T(R.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-all duration-300 hover:scale-125 hover:shadow-md hover:-translate-y-0.5 group/btn",title:"Delete",children:e.jsx(Ms,{className:"w-4 h-4 transition-transform duration-300 group-hover/btn:scale-110 group-hover/btn:rotate-12"})})]})})]},R.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-12 text-center text-gray-500 font-medium",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(Qe,{className:"h-10 w-10 text-gray-200 mb-4"}),e.jsx("p",{children:"No gyms found matching your criteria."})]})})})})]})]}),i.length>0&&e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 p-4 border-t border-gray-100 bg-gray-50/50",children:[e.jsxs("div",{className:"text-sm text-gray-500 font-medium",children:["Showing ",e.jsx("span",{className:"text-gray-900",children:(w-1)*10+1})," to ",e.jsx("span",{className:"text-gray-900",children:Math.min(w*10,A)})," of ",e.jsx("span",{className:"text-gray-900",children:A})," gyms"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>P(w-1),disabled:w===1,className:"px-4 py-2 bg-white border border-gray-200 rounded-lg text-sm font-bold text-gray-700 hover:bg-gray-50 hover:shadow-sm disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 active:scale-95",children:"Previous"}),e.jsx("div",{className:"flex items-center gap-1",children:[...Array(v)].map((R,W)=>e.jsx("button",{onClick:()=>P(W+1),className:`w-9 h-9 flex items-center justify-center rounded-lg text-sm font-bold transition-all duration-300 hover:scale-110 ${w===W+1?"bg-indigo-600 text-white shadow-lg shadow-indigo-200":"bg-white border border-gray-200 text-gray-700 hover:border-indigo-300 hover:text-indigo-600 hover:shadow-sm"}`,children:W+1},W+1))}),e.jsx("button",{onClick:()=>P(w+1),disabled:w===v,className:"px-4 py-2 bg-white border border-gray-200 rounded-lg text-sm font-bold text-gray-700 hover:bg-gray-50 hover:shadow-sm disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 active:scale-95",children:"Next"})]})]})]}),e.jsx(at,{isOpen:p,onClose:()=>g(!1),title:"Gym Details",subtitle:u?.gymName,maxWidth:"max-w-md",children:u&&e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex-1 overflow-y-auto pr-2",children:[e.jsxs("div",{className:"flex flex-col items-center mb-8",children:[e.jsx("div",{className:"h-20 w-20 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600 font-bold text-3xl mb-4 shadow-lg shadow-indigo-100",children:(u.gymName||"?").charAt(0)}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 text-center",children:u.gymName}),e.jsx("p",{className:"text-sm font-medium text-gray-500 mt-1",children:u.branchName}),e.jsx("span",{className:`mt-3 px-3 py-1 rounded-full text-xs font-bold ${u.status==="Active"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:u.status})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-2xl border border-gray-100 hover:border-indigo-100 transition-colors",children:[e.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider block mb-2",children:"Owner Details"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-white flex items-center justify-center text-gray-400 font-bold border border-gray-100",children:(u.owner||"?").charAt(0)}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-gray-900",children:u.owner}),e.jsxs("div",{className:"flex items-center text-xs font-medium text-gray-500 mt-0.5",children:[e.jsx(qs,{className:"w-3 h-3 mr-1"}),u.phone]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-2xl border border-gray-100 hover:border-indigo-100 transition-colors",children:[e.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider block mb-2",children:"Location"}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-white flex items-center justify-center text-gray-400 shrink-0 border border-gray-100",children:e.jsx($s,{className:"w-5 h-5"})}),e.jsx("p",{className:"text-sm font-medium text-gray-700 pt-2 leading-relaxed",children:u.location})]})]})]})]}),e.jsx("div",{className:"mt-auto border-t border-gray-100 pt-6",children:e.jsx("button",{onClick:()=>g(!1),className:"w-full py-4 bg-gray-900 text-white rounded-xl font-bold hover:bg-gray-800 transition-all shadow-lg hover:shadow-xl active:scale-95",children:"Close Details"})})]})}),e.jsx(V9,{isOpen:y,onClose:()=>f(!1),onSuccess:M})]})},X9=()=>{const[t,s]=j.useState(""),[r,l]=j.useState([]),[i,o]=j.useState(!0);j.useEffect(()=>{const u=setTimeout(()=>{d()},500);return()=>clearTimeout(u)},[t]);const d=async()=>{o(!0);try{const u=await hg({search:t,status:"Suspended",limit:100});l(u.gyms||[])}catch(u){console.error("Error loading suspended gyms:",u),l([])}finally{o(!1)}},x=async u=>{if(window.confirm("Are you sure you want to reactivate this gym?"))try{await Yj(u),d()}catch{alert("Failed to reactivate gym")}};return i&&r.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center p-20 animate-pulse",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-red-600 border-t-transparent rounded-full animate-spin mb-4"}),e.jsx("p",{className:"text-red-500 font-medium font-bold uppercase tracking-widest",children:"Loading Suspended Records..."})]}):e.jsxs("div",{className:"w-full",children:[e.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8 animate-slide-up",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"Suspended Gyms"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Review and manage suspended gym accounts."})]})}),e.jsx("div",{className:"bg-amber-50 border-l-4 border-amber-500 p-4 rounded-r-lg mb-6 animate-slide-up hover:bg-amber-100 hover:shadow-md hover:scale-[1.01] transition-all duration-300 group",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(ps,{className:"h-5 w-5 text-amber-600 transition-transform duration-300 group-hover:scale-125 group-hover:rotate-12","aria-hidden":"true"})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-amber-700 transition-colors duration-300 group-hover:text-amber-800 font-medium",children:"Suspended gyms cannot access the platform. Reactivating them will grant immediate access to their dashboards."})})]})}),e.jsx("div",{className:"saas-card mb-6 animate-slide-up",children:e.jsxs("div",{className:"relative w-full md:w-96 group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Qe,{className:"h-5 w-5 text-gray-400 group-focus-within:text-red-500 transition-colors"})}),e.jsx("input",{type:"text",className:"saas-input pl-10 transition-all duration-300 focus:scale-[1.02] focus:shadow-lg focus:border-red-500 focus:ring-red-500/10",placeholder:"Search suspended gyms...",value:t,onChange:u=>s(u.target.value)})]})}),e.jsx("div",{className:"saas-card p-0 overflow-hidden animate-slide-up delay-200",children:e.jsxs("div",{className:"saas-table-wrapper relative",children:[i&&e.jsx("div",{className:"absolute inset-0 bg-white/50 backdrop-blur-[1px] flex items-center justify-center z-10 transition-opacity",children:e.jsx("div",{className:"w-8 h-8 border-3 border-red-600 border-t-transparent rounded-full animate-spin"})}),e.jsxs("table",{className:"saas-table saas-table-responsive",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Gym Detail"}),e.jsx("th",{children:"Contact Info"}),e.jsx("th",{children:"Owner"}),e.jsx("th",{children:"Status"}),e.jsx("th",{className:"text-right",children:"Actions"})]})}),e.jsx("tbody",{children:r.length>0?r.map(u=>e.jsxs("tr",{className:"hover:bg-red-50/30 hover:shadow-md hover:scale-[1.01] transition-all duration-300 cursor-pointer group",children:[e.jsx("td",{"data-label":"Gym Detail",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-10 w-10 flex-shrink-0 rounded-full bg-red-100 flex items-center justify-center text-red-600 font-bold text-lg transition-all duration-300 group-hover:scale-110 group-hover:rotate-6 group-hover:shadow-lg group-hover:bg-red-200",children:(u.gymName||"?").charAt(0)}),e.jsxs("div",{className:"ml-4 text-left",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-900 transition-colors duration-300 group-hover:text-red-600",children:u.gymName}),e.jsx("div",{className:"text-sm text-gray-500",children:u.branchName})]})]})}),e.jsx("td",{"data-label":"Contact Info",className:"text-left text-sm text-gray-900 font-medium",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Phone,{size:12,className:"text-gray-400"}),u.phone]})}),e.jsx("td",{"data-label":"Owner",className:"text-left text-sm text-gray-700 font-semibold",children:u.owner}),e.jsx("td",{"data-label":"Status",children:e.jsxs("span",{className:"saas-badge badge-red transition-all duration-300 group-hover:scale-105 border border-red-100",children:[e.jsx("span",{className:"badge-dot bg-red-600"}),"Suspended"]})}),e.jsx("td",{"data-label":"Actions",children:e.jsx("div",{className:"flex justify-end gap-2",children:e.jsxs("button",{onClick:()=>x(u.id),className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-emerald-600 to-teal-600 text-white rounded-lg text-xs font-black shadow-lg shadow-emerald-200 hover:shadow-emerald-300 hover:scale-110 hover:-translate-y-0.5 transition-all duration-300 group/btn active:scale-95",children:[e.jsx(E8,{className:"w-3.5 h-3.5 transition-transform duration-500 group-hover/btn:rotate-180"}),"REACTIVATE"]})})})]},u.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-16 text-center text-gray-500 bg-gray-50/30",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(Dj,{className:"h-12 w-12 text-gray-200 mb-4"}),e.jsx("p",{className:"font-bold text-lg text-gray-400",children:"No suspended gyms found."}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"All gym accounts are currently active."})]})})})})]})]})})]})},K9=()=>{const[t,s]=j.useState(""),[r,l]=j.useState("all"),[i,o]=j.useState(1),[d,x]=j.useState([]),[u,h]=j.useState(!0),[p,g]=j.useState(null),[y,f]=j.useState(!1),w=5;j.useEffect(()=>{S()},[]),j.useEffect(()=>{o(1)},[t,r]);const S=async()=>{h(!0);const R=await Zj(),W=Array.isArray(R)?R.filter(H=>H.status?.toLowerCase()==="active").map(H=>({id:H.id||"",planName:H.plan||"N/A",subscriberName:H.subscriber||"N/A",gymName:H.gym||"N/A",startDate:H.startDate,endDate:H.endDate,status:H.status?.toLowerCase()||"",paymentStatus:H.paymentStatus?.toLowerCase()||""})):[];x(W),h(!1)},v=d.filter(R=>{const W=(R.planName?.toLowerCase()||"").includes(t.toLowerCase())||(R.subscriberName?.toLowerCase()||"").includes(t.toLowerCase())||(R.gymName?.toLowerCase()||"").includes(t.toLowerCase())||(R.id?.toLowerCase()||"").includes(t.toLowerCase()),H=r==="all"||(r==="unpaid"?R.paymentStatus!=="paid"&&R.paymentStatus!=="pending":R.paymentStatus===r);return W&&H}),N=Math.ceil(v.length/w),A=(i-1)*w,L=v.slice(A,A+w),M=()=>{i>1&&o(i-1)},T=()=>{i<N&&o(i+1)},_=R=>{o(R)},I=R=>{g(R),f(!0)},B=async R=>{window.confirm("Are you sure you want to renew this subscription?")&&(console.log("Renew subscription:",R),alert("Renewal initiated for "+R))},P=async R=>{window.confirm("Are you sure you want to cancel this subscription?")&&(await Qj(R),S())};return u?e.jsx("div",{className:"p-6 text-center",children:"Loading subscriptions..."}):e.jsxs("div",{className:"activesub-container",children:[e.jsx("div",{className:"activesub-page-header",children:e.jsx("h1",{className:"activesub-page-title",children:"Active Subscriptions"})}),e.jsxs("div",{className:"activesub-filter-bar",children:[e.jsxs("div",{style:{position:"relative",flex:1,minWidth:"250px"},children:[e.jsx(Qe,{size:18,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--text-secondary)",transition:"all 0.3s"},className:"group-focus-within:scale-110 group-focus-within:text-indigo-500"}),e.jsx("input",{type:"text",placeholder:"Search by plan, subscriber, gym, or subscription ID...",className:"activesub-search-input transition-all duration-300 focus:scale-[1.02] focus:shadow-lg hover:border-indigo-300",style:{paddingLeft:"2.5rem"},value:t,onChange:R=>s(R.target.value)})]}),e.jsx("div",{className:"group",children:e.jsx(ms,{options:[{value:"all",label:"All Payment Status"},{value:"paid",label:"Paid"},{value:"pending",label:"Pending"},{value:"unpaid",label:"Unpaid / Overdue"}],value:r,onChange:l,className:"w-[200px] transition-all duration-300 hover:scale-105"})})]}),v.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"saas-table-wrapper",children:e.jsxs("table",{className:"saas-table saas-table-responsive",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Subscription ID"}),e.jsx("th",{children:"Plan Name"}),e.jsx("th",{children:"Subscriber"}),e.jsx("th",{children:"Gym / Branch"}),e.jsx("th",{children:"Start Date"}),e.jsx("th",{children:"End Date"}),e.jsx("th",{children:"Payment Status"}),e.jsx("th",{className:"text-right",children:"Actions"})]})}),e.jsx("tbody",{children:L.map(R=>e.jsxs("tr",{className:"hover:bg-indigo-50/30 hover:shadow-md hover:scale-[1.005] transition-all duration-300 cursor-pointer group",children:[e.jsx("td",{"data-label":"Subscription ID",style:{fontWeight:500,color:"#8e68e5"},className:"transition-all duration-300 group-hover:scale-105 group-hover:text-indigo-700",children:R.id}),e.jsx("td",{"data-label":"Plan Name",style:{fontWeight:500},className:"transition-colors duration-300 group-hover:text-indigo-600",children:R.planName}),e.jsx("td",{"data-label":"Subscriber",children:R.subscriberName}),e.jsx("td",{"data-label":"Gym / Branch",children:R.gymName}),e.jsx("td",{"data-label":"Start Date",children:new Date(R.startDate).toLocaleDateString("en-IN")}),e.jsx("td",{"data-label":"End Date",children:new Date(R.endDate).toLocaleDateString("en-IN")}),e.jsx("td",{"data-label":"Payment Status",children:e.jsxs("span",{className:`activesub-status-badge activesub-status-${R.paymentStatus} transition-all duration-300 group-hover:scale-110`,children:[e.jsx("span",{className:"inline-block w-1.5 h-1.5 rounded-full mr-1.5 animate-pulse",style:{backgroundColor:R.paymentStatus==="paid"?"#10b981":R.paymentStatus==="pending"?"#f59e0b":"#ef4444"}}),R.paymentStatus.charAt(0).toUpperCase()+R.paymentStatus.slice(1)]})}),e.jsx("td",{"data-label":"Actions",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{className:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-lg transition-all duration-300 hover:scale-125 hover:shadow-md hover:-translate-y-0.5 group/btn",onClick:()=>I(R),title:"View Details",children:e.jsx(da,{size:16,className:"transition-transform duration-300 group-hover/btn:scale-110"})}),e.jsx("button",{className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-all duration-300 hover:scale-125 hover:shadow-md hover:-translate-y-0.5 group/btn",onClick:()=>B(R.id),title:"Renew",children:e.jsx(jl,{size:16,className:"transition-transform duration-300 group-hover/btn:rotate-180"})}),e.jsx("button",{className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-all duration-300 hover:scale-125 hover:shadow-md hover:-translate-y-0.5 group/btn",onClick:()=>P(R.id),title:"Cancel",children:e.jsx(vn,{size:16,className:"transition-transform duration-300 group-hover/btn:rotate-90 group-hover/btn:scale-110"})})]})})]},R.id))})]})}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 mt-6 pb-4",children:[e.jsxs("div",{className:"text-sm text-gray-500 order-2 md:order-1",children:["Showing ",e.jsx("span",{className:"font-medium text-gray-900",children:A+1})," to ",e.jsx("span",{className:"font-medium text-gray-900",children:Math.min(A+w,v.length)})," of ",e.jsx("span",{className:"font-medium text-gray-900",children:v.length})," subscriptions"]}),e.jsxs("div",{className:"flex items-center gap-2 order-1 md:order-2 overflow-x-auto max-w-full pb-1",children:[e.jsx("button",{className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 hover:scale-105 hover:shadow-md hover:-translate-y-0.5 disabled:hover:scale-100 disabled:hover:translate-y-0",onClick:M,disabled:i===1,children:"Previous"}),e.jsx("div",{className:"flex gap-1",children:[...Array(N)].map((R,W)=>e.jsx("button",{className:`w-8 h-8 flex items-center justify-center rounded-lg text-sm font-medium transition-all duration-300 hover:scale-110 ${i===W+1?"bg-indigo-600 text-white shadow-md hover:shadow-lg":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 hover:shadow-sm"}`,onClick:()=>_(W+1),children:W+1},W+1))}),e.jsx("button",{className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 hover:scale-105 hover:shadow-md hover:-translate-y-0.5 disabled:hover:scale-100 disabled:hover:translate-y-0",onClick:T,disabled:i===N,children:"Next"})]})]})]}):e.jsxs("div",{className:"activesub-empty-state",children:[e.jsx("div",{className:"activesub-empty-icon",children:e.jsx(Qe,{size:64})}),e.jsx("h3",{className:"activesub-empty-title",children:"No Active Subscriptions Found"}),e.jsx("p",{className:"activesub-empty-description",children:t||r!=="all"?"Try adjusting your search or filter criteria":"There are currently no active subscriptions"})]}),e.jsx(at,{isOpen:y,onClose:()=>f(!1),title:"Subscription Details",subtitle:`Details for ${p?.id||""}`,width:"500px",children:p&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col items-center py-6 bg-indigo-50/50 rounded-2xl border border-indigo-100",children:[e.jsx("div",{className:"h-20 w-20 rounded-full bg-white text-indigo-600 flex items-center justify-center shadow-md mb-3",children:e.jsx(da,{size:32})}),e.jsx("h4",{className:"text-xl font-bold text-gray-900",children:p.subscriberName}),e.jsx("span",{className:"text-sm text-gray-500 font-medium",children:p.planName})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-white rounded-xl border border-slate-100 shadow-sm",children:[e.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest block mb-1",children:"Gym / Branch"}),e.jsx("p",{className:"text-sm font-bold text-gray-900",children:p.gymName})]}),e.jsxs("div",{className:"p-4 bg-white rounded-xl border border-slate-100 shadow-sm",children:[e.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest block mb-1",children:"Payment Status"}),e.jsx("span",{className:`activesub-status-badge activesub-status-${p.paymentStatus}`,children:p.paymentStatus.toUpperCase()})]}),e.jsxs("div",{className:"p-4 bg-white rounded-xl border border-slate-100 shadow-sm",children:[e.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest block mb-1",children:"Start Date"}),e.jsx("p",{className:"text-sm font-bold text-gray-900",children:new Date(p.startDate).toLocaleDateString("en-IN")})]}),e.jsxs("div",{className:"p-4 bg-white rounded-xl border border-slate-100 shadow-sm",children:[e.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest block mb-1",children:"End Date"}),e.jsx("p",{className:"text-sm font-bold text-gray-900",children:new Date(p.endDate).toLocaleDateString("en-IN")})]})]}),e.jsxs("div",{className:"p-4 bg-white rounded-xl border border-slate-100 shadow-sm",children:[e.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest block mb-1",children:"Subscription ID"}),e.jsx("p",{className:"text-sm font-mono text-gray-600",children:p.id})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{onClick:()=>f(!1),className:"flex-1 py-3 bg-white border border-gray-200 text-gray-700 rounded-xl text-sm font-bold hover:bg-gray-50 transition-all shadow-sm",children:"Close"}),e.jsx("button",{onClick:()=>{B(p.id),f(!1)},className:"flex-1 py-3 bg-indigo-600 text-white rounded-xl text-sm font-bold hover:bg-indigo-700 transition-all shadow-md hover:shadow-lg",children:"Renew Now"})]})]})})]})},J9=()=>{const[t,s]=j.useState(""),[r,l]=j.useState("all"),[i,o]=j.useState(1),[d,x]=j.useState([]),[u,h]=j.useState(!0),[p,g]=j.useState(null),[y,f]=j.useState(!1),w=5;j.useEffect(()=>{S()},[]),j.useEffect(()=>{o(1)},[t,r]);const S=async()=>{h(!0);const W=(await Zj()).filter(H=>H.status.toLowerCase()!=="active").map(H=>({id:H.id,planName:H.plan,subscriberName:H.subscriber,gymName:H.gym,startDate:H.startDate,endDate:H.endDate,status:H.status.toLowerCase(),paymentStatus:H.paymentStatus.toLowerCase()}));x(W),h(!1)},v=d.filter(R=>{const W=R.planName.toLowerCase().includes(t.toLowerCase())||R.subscriberName.toLowerCase().includes(t.toLowerCase())||R.gymName.toLowerCase().includes(t.toLowerCase())||R.id.toLowerCase().includes(t.toLowerCase()),H=r==="all"||R.status===r;return W&&H}),N=Math.ceil(v.length/w),A=(i-1)*w,L=v.slice(A,A+w),M=()=>{i>1&&o(i-1)},T=()=>{i<N&&o(i+1)},_=R=>{o(R)},I=R=>{g(R),f(!0)},B=async R=>{window.confirm("Are you sure you want to renew this subscription?")&&(await Qj(R),S())},P=async R=>{window.confirm("Are you sure you want to delete this subscription record?")&&(console.log("Delete subscription:",R),alert("Record "+R+" deleted (mock)"))};return u?e.jsx("div",{className:"p-6 text-center",children:"Loading subscriptions..."}):e.jsxs("div",{className:"expiredsub-container",children:[e.jsx("div",{className:"expiredsub-page-header",children:e.jsx("h1",{className:"expiredsub-page-title",children:"Expired / Due Subscriptions"})}),e.jsxs("div",{className:"expiredsub-filter-bar",children:[e.jsxs("div",{style:{position:"relative",flex:1,minWidth:"250px"},children:[e.jsx(Qe,{size:18,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--text-secondary)",transition:"all 0.3s"},className:"group-focus-within:scale-110 group-focus-within:text-red-500"}),e.jsx("input",{type:"text",placeholder:"Search by plan, subscriber, gym, or subscription ID...",className:"expiredsub-search-input transition-all duration-300 focus:scale-[1.02] focus:shadow-lg hover:border-red-300",style:{paddingLeft:"2.5rem"},value:t,onChange:R=>s(R.target.value)})]}),e.jsx("div",{className:"group",children:e.jsx(ms,{options:[{value:"all",label:"All Status"},{value:"expired",label:"Expired"},{value:"due",label:"Due for Renewal"}],value:r,onChange:l,className:"w-[180px] transition-all duration-300 hover:scale-105"})})]}),v.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"saas-table-wrapper",children:e.jsxs("table",{className:"saas-table saas-table-responsive",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Subscription ID"}),e.jsx("th",{children:"Plan Name"}),e.jsx("th",{children:"Subscriber"}),e.jsx("th",{children:"Gym / Branch"}),e.jsx("th",{children:"Start Date"}),e.jsx("th",{children:"End Date"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Payment"}),e.jsx("th",{className:"text-right",children:"Actions"})]})}),e.jsx("tbody",{children:L.map(R=>e.jsxs("tr",{className:"hover:bg-red-50/30 hover:shadow-md hover:scale-[1.005] transition-all duration-300 cursor-pointer group",children:[e.jsx("td",{"data-label":"Subscription ID",style:{fontWeight:500,color:"#ea5455"},className:"transition-all duration-300 group-hover:scale-105 group-hover:text-red-700",children:R.id}),e.jsx("td",{"data-label":"Plan Name",style:{fontWeight:500},className:"transition-colors duration-300 group-hover:text-red-600",children:R.planName}),e.jsx("td",{"data-label":"Subscriber",children:R.subscriberName}),e.jsx("td",{"data-label":"Gym / Branch",children:R.gymName}),e.jsx("td",{"data-label":"Start Date",children:new Date(R.startDate).toLocaleDateString("en-IN")}),e.jsx("td",{"data-label":"End Date",children:new Date(R.endDate).toLocaleDateString("en-IN")}),e.jsx("td",{"data-label":"Status",children:e.jsxs("span",{className:`expiredsub-status-badge expiredsub-status-${R.status} transition-all duration-300 group-hover:scale-110`,children:[e.jsx("span",{className:"inline-block w-1.5 h-1.5 rounded-full mr-1.5 animate-pulse",style:{backgroundColor:R.status==="expired"?"#ef4444":"#f59e0b"}}),R.status.charAt(0).toUpperCase()+R.status.slice(1)]})}),e.jsx("td",{"data-label":"Payment",children:e.jsxs("span",{className:`expiredsub-status-badge expiredsub-status-${R.paymentStatus} transition-all duration-300 group-hover:scale-110`,children:[e.jsx("span",{className:"inline-block w-1.5 h-1.5 rounded-full mr-1.5 animate-pulse",style:{backgroundColor:R.paymentStatus==="paid"?"#10b981":R.paymentStatus==="pending"?"#f59e0b":"#ef4444"}}),R.paymentStatus.charAt(0).toUpperCase()+R.paymentStatus.slice(1)]})}),e.jsx("td",{"data-label":"Actions",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-all duration-300 hover:scale-125 hover:shadow-md hover:-translate-y-0.5 group/btn",onClick:()=>B(R.id),title:"Renew",children:e.jsx(jl,{size:16,className:"transition-transform duration-300 group-hover/btn:rotate-180"})}),e.jsx("button",{className:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-lg transition-all duration-300 hover:scale-125 hover:shadow-md hover:-translate-y-0.5 group/btn",onClick:()=>I(R),title:"View Details",children:e.jsx(da,{size:16,className:"transition-transform duration-300 group-hover/btn:scale-110"})}),e.jsx("button",{className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-all duration-300 hover:scale-125 hover:shadow-md hover:-translate-y-0.5 group/btn",onClick:()=>P(R.id),title:"Delete",children:e.jsx(Ms,{size:16,className:"transition-transform duration-300 group-hover/btn:rotate-12 group-hover/btn:scale-110"})})]})})]},R.id))})]})}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 mt-6 pb-4",children:[e.jsxs("div",{className:"text-sm text-gray-500 order-2 md:order-1",children:["Showing ",e.jsx("span",{className:"font-medium text-gray-900",children:A+1})," to ",e.jsx("span",{className:"font-medium text-gray-900",children:Math.min(A+w,v.length)})," of ",e.jsx("span",{className:"font-medium text-gray-900",children:v.length})," subscriptions"]}),e.jsxs("div",{className:"flex items-center gap-2 order-1 md:order-2 overflow-x-auto max-w-full pb-1",children:[e.jsx("button",{className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 hover:scale-105 hover:shadow-md hover:-translate-y-0.5 disabled:hover:scale-100 disabled:hover:translate-y-0",onClick:M,disabled:i===1,children:"Previous"}),e.jsx("div",{className:"flex gap-1",children:[...Array(N)].map((R,W)=>e.jsx("button",{className:`w-8 h-8 flex items-center justify-center rounded-lg text-sm font-medium transition-all duration-300 hover:scale-110 ${i===W+1?"bg-indigo-600 text-white shadow-md hover:shadow-lg":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 hover:shadow-sm"}`,onClick:()=>_(W+1),children:W+1},W+1))}),e.jsx("button",{className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 hover:scale-105 hover:shadow-md hover:-translate-y-0.5 disabled:hover:scale-100 disabled:hover:translate-y-0",onClick:T,disabled:i===N,children:"Next"})]})]})]}):e.jsxs("div",{className:"expiredsub-empty-state",children:[e.jsx("div",{className:"expiredsub-empty-icon",children:e.jsx(Qe,{size:64})}),e.jsx("h3",{className:"expiredsub-empty-title",children:"No Expired or Due Subscriptions Found"}),e.jsx("p",{className:"expiredsub-empty-description",children:t||r!=="all"?"Try adjusting your search or filter criteria":"Great! All subscriptions are currently active"})]}),y&&p&&e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:e.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen",children:""}),e.jsxs("div",{className:"inline-block align-bottom bg-white rounded-2xl text-left overflow-hidden shadow-xl transform transition-all duration-500 hover:scale-[1.02] sm:my-8 sm:align-middle sm:max-w-lg sm:w-full animate-slide-up",children:[e.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:e.jsxs("div",{className:"sm:flex sm:items-start text-indigo-600",children:[e.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-indigo-100 sm:mx-0 sm:h-10 sm:w-10 transition-all duration-300 hover:scale-125 hover:rotate-12 hover:shadow-lg",children:e.jsx(da,{size:20})}),e.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[e.jsx("h3",{className:"text-xl leading-6 font-bold text-gray-900",children:"Subscription Details"}),e.jsx("div",{className:"mt-6 space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-3 rounded-lg hover:bg-red-50/50 transition-all duration-300",children:[e.jsx("label",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Subscription ID"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:p.id})]}),e.jsxs("div",{className:"p-3 rounded-lg hover:bg-red-50/50 transition-all duration-300",children:[e.jsx("label",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Plan Name"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:p.planName})]}),e.jsxs("div",{className:"p-3 rounded-lg hover:bg-red-50/50 transition-all duration-300",children:[e.jsx("label",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Subscriber"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:p.subscriberName})]}),e.jsxs("div",{className:"p-3 rounded-lg hover:bg-red-50/50 transition-all duration-300",children:[e.jsx("label",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Gym / Branch"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:p.gymName})]}),e.jsxs("div",{className:"p-3 rounded-lg hover:bg-red-50/50 transition-all duration-300",children:[e.jsx("label",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Start Date"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:new Date(p.startDate).toLocaleDateString("en-IN")})]}),e.jsxs("div",{className:"p-3 rounded-lg hover:bg-red-50/50 transition-all duration-300",children:[e.jsx("label",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"End Date"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:new Date(p.endDate).toLocaleDateString("en-IN")})]}),e.jsxs("div",{className:"p-3 rounded-lg hover:bg-red-50/50 transition-all duration-300",children:[e.jsx("label",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Status"}),e.jsx("div",{children:e.jsx("span",{className:`expiredsub-status-badge expiredsub-status-${p.status} transition-all duration-300 hover:scale-110`,children:p.status.toUpperCase()})})]}),e.jsxs("div",{className:"p-3 rounded-lg hover:bg-red-50/50 transition-all duration-300",children:[e.jsx("label",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Payment"}),e.jsx("div",{children:e.jsx("span",{className:`expiredsub-status-badge expiredsub-status-${p.paymentStatus} transition-all duration-300 hover:scale-110`,children:p.paymentStatus.toUpperCase()})})]})]})})]})]})}),e.jsx("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse rounded-b-2xl",children:e.jsx("button",{type:"button",onClick:()=>f(!1),className:"w-full inline-flex justify-center rounded-lg border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:ml-3 sm:w-auto sm:text-sm transition-all duration-300 hover:scale-105 hover:shadow-md hover:-translate-y-0.5",children:"Close"})})]})]})})]})},Z9=()=>{const[t,s]=j.useState([]),[r,l]=j.useState(!0),[i,o]=j.useState({search:"",module:"",date:""}),[d,x]=j.useState(!1),[u,h]=j.useState(0),[p,g]=j.useState({key:"date",direction:"desc"}),y=10;j.useEffect(()=>{f()},[]),j.useEffect(()=>{h(0)},[i]);const f=async()=>{l(!0);const R=await XC();s(R),l(!1)},w=R=>{const{name:W,value:H}=R.target;o($=>({...$,[W]:H}))},S=()=>{Xj("Activity Logs")},v=R=>{let W="asc";p.key===R&&p.direction==="asc"&&(W="desc"),g({key:R,direction:W})},A=[...t].sort((R,W)=>{if(!p.key)return 0;const H=R[p.key],$=W[p.key];return H<$?p.direction==="asc"?-1:1:H>$?p.direction==="asc"?1:-1:0}).filter(R=>{const W=R.user.toLowerCase().includes(i.search.toLowerCase())||R.action.toLowerCase().includes(i.search.toLowerCase())||R.affectedMember.toLowerCase().includes(i.search.toLowerCase()),H=i.module===""||R.module.toLowerCase()===i.module.toLowerCase(),$=i.date===""||R.date.includes(i.date);return W&&H&&$}),L=Math.ceil(A.length/y),M=Math.floor(u/y)+1,T=A.slice(u,u+y),_=()=>{u>=y&&h(u-y)},I=()=>{u+y<A.length&&h(u+y)},B=R=>{h((R-1)*y)},P=[{value:"",label:"All Modules"},{value:"General Settings",label:"General Settings"},{value:"Member Management",label:"Member Management"},{value:"Payments",label:"Payments"},{value:"Auth",label:"Authentication"},{value:"Plans",label:"Plans"},{value:"Reports",label:"Reports"}];return r?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsx("div",{className:"relative",children:e.jsx("div",{className:"h-16 w-16 rounded-full border-4 border-slate-100 border-t-violet-600 animate-spin"})})}):e.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-white to-violet-50/30 min-h-screen p-4 sm:p-6",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx(tr,{className:"text-violet-600 flex-shrink-0",size:24}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"System Activity Logs"}),e.jsx("p",{className:"text-slate-600 text-xs sm:text-sm mt-1",children:"Track user actions and system changes in real-time"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-3",children:[e.jsxs("button",{onClick:S,className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-white border border-slate-200 rounded-lg sm:rounded-xl text-xs sm:text-sm font-semibold text-slate-700 hover:bg-slate-50 hover:shadow-md hover:scale-105 hover:-translate-y-0.5 transition-all duration-300 shadow-sm group w-full sm:w-auto",children:[e.jsx(Js,{className:"w-4 h-4 transition-transform duration-300 group-hover:translate-y-0.5"}),"Export"]}),e.jsxs("button",{onClick:()=>x(!d),className:`group relative px-4 sm:px-6 py-2.5 rounded-lg sm:rounded-xl font-semibold shadow-lg hover:shadow-xl hover:scale-105 hover:-translate-y-1 transition-all duration-300 flex items-center justify-center gap-2 w-full sm:w-auto text-xs sm:text-sm ${d?"bg-white border border-slate-200 text-slate-700":"bg-gradient-to-r from-violet-600 to-purple-600 text-white hover:shadow-violet-500/50"}`,children:[!d&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 to-fuchsia-600 rounded-lg sm:rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx(Ns,{className:`w-4 h-4 relative transition-transform duration-300 ${d?"":"group-hover:rotate-12"}`}),e.jsx("span",{className:"relative",children:d?"Hide Filters":"Show Filters"})]})]})]})})]}),d&&e.jsx("div",{className:"mb-6 bg-white/60 backdrop-blur-md rounded-xl shadow-lg border border-white/50 p-5 hover:shadow-xl transition-all duration-300 animate-slide-down",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"relative group",children:[e.jsx(Qe,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 group-focus-within:scale-110 transition-all duration-300"}),e.jsx("input",{type:"text",name:"search",value:i.search,onChange:w,placeholder:"Search by user or action...",className:"w-full pl-12 pr-4 py-3 bg-white/80 border-2 border-slate-200 rounded-xl text-sm focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 focus:bg-white transition-all duration-300 hover:border-slate-300"})]}),e.jsxs("div",{className:"relative group",children:[e.jsx(Ns,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 group-focus-within:scale-110 transition-all duration-300 pointer-events-none z-10"}),e.jsx("select",{name:"module",value:i.module,onChange:w,className:"w-full pl-12 pr-4 py-3 bg-white/80 border-2 border-slate-200 rounded-xl text-sm focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 focus:bg-white transition-all duration-300 hover:border-slate-300 appearance-none cursor-pointer",children:P.map(R=>e.jsx("option",{value:R.value,children:R.label},R.value))})]}),e.jsxs("div",{className:"relative group",children:[e.jsx(Ye,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 group-focus-within:scale-110 transition-all duration-300 pointer-events-none z-10"}),e.jsx("input",{type:"date",name:"date",value:i.date,onChange:w,className:"w-full pl-12 pr-4 py-3 bg-white/80 border-2 border-slate-200 rounded-xl text-sm focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 focus:bg-white transition-all duration-300 hover:border-slate-300"})]})]})}),T.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"md:hidden space-y-4 mb-6",children:T.map(R=>e.jsx(Ga,{title:R.action,subtitle:R.user,badge:R.module,badgeColor:"bg-violet-100 text-violet-700 border-violet-200",fields:[{label:"Affected",value:R.affectedMember,icon:rt},{label:"Date",value:R.date.split(" ")[0],icon:Ye},{label:"Time",value:R.date.split(" ").slice(1).join(" "),icon:Je},{label:"Details",value:R.details,icon:Wt}]},R.id))}),e.jsx("div",{className:"hidden md:block bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gradient-to-r from-slate-100 to-slate-200/50 border-b-2 border-slate-300",children:[e.jsx("th",{onClick:()=>v("date"),className:"px-6 py-5 text-left text-xs font-black uppercase tracking-widest text-slate-700 cursor-pointer hover:text-violet-600 transition-colors",children:e.jsxs("div",{className:"flex items-center gap-2",children:["Date",p.key==="date"&&(p.direction==="asc"?"":"")]})}),e.jsx("th",{onClick:()=>v("user"),className:"px-6 py-5 text-left text-xs font-black uppercase tracking-widest text-slate-700 cursor-pointer hover:text-violet-600 transition-colors",children:e.jsxs("div",{className:"flex items-center gap-2",children:["Staff Name",p.key==="user"&&(p.direction==="asc"?"":"")]})}),e.jsx("th",{className:"px-6 py-5 text-left text-xs font-black uppercase tracking-widest text-slate-700",children:"Action"}),e.jsx("th",{className:"px-6 py-5 text-left text-xs font-black uppercase tracking-widest text-slate-700",children:"Affected Member"}),e.jsx("th",{className:"px-6 py-5 text-left text-xs font-black uppercase tracking-widest text-slate-700",children:"Details"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:T.map(R=>e.jsxs("tr",{className:"group hover:bg-slate-50/80 transition-all duration-300 border-b border-slate-100",children:[e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold text-slate-600",children:[e.jsx(Je,{size:14,className:"text-slate-400 group-hover:text-violet-500 transition-colors"}),R.date]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-violet-100 flex items-center justify-center text-violet-700 font-black text-xs shadow-sm border border-violet-200",children:(R.user||"?").charAt(0)}),e.jsx("span",{className:"text-sm font-bold text-slate-900",children:R.user})]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-black text-slate-800 tracking-tight",children:R.action}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400",children:R.module})]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-violet-400"}),e.jsx("span",{className:"text-sm font-bold text-slate-700",children:R.affectedMember})]})}),e.jsx("td",{className:"px-6 py-5 max-w-xs",children:e.jsx("p",{className:"text-sm font-medium text-slate-500 leading-relaxed italic",children:R.details})})]},R.id))})]})})}),e.jsxs("div",{className:"px-6 py-4 border-t border-slate-100 bg-slate-50/50 flex flex-col sm:flex-row justify-between items-center gap-4",children:[e.jsxs("span",{className:"text-sm text-slate-600",children:["Showing ",u+1," to ",Math.min(u+y,A.length)," of ",A.length," logs"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-4 py-2 bg-white border-2 border-slate-200 rounded-lg text-sm font-semibold text-slate-700 hover:bg-slate-50 hover:border-slate-300 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 hover:scale-105 hover:shadow-md disabled:hover:scale-100",onClick:_,disabled:M===1,children:"Previous"}),e.jsx("div",{className:"flex gap-2",children:[...Array(Math.min(L,5))].map((R,W)=>{const H=W+1;return e.jsx("button",{className:`px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 hover:scale-110 ${M===H?"bg-gradient-to-r from-violet-600 to-purple-600 text-white shadow-lg shadow-violet-500/30":"bg-white border-2 border-slate-200 text-slate-700 hover:bg-slate-50 hover:border-slate-300"}`,onClick:()=>B(H),children:H},H)})}),e.jsx("button",{className:"px-4 py-2 bg-white border-2 border-slate-200 rounded-lg text-sm font-semibold text-slate-700 hover:bg-slate-50 hover:border-slate-300 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 hover:scale-105 hover:shadow-md disabled:hover:scale-100",onClick:I,disabled:M>=L,children:"Next"})]})]})]}):e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 p-16 text-center",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-violet-100 to-purple-100 rounded-full flex items-center justify-center",children:e.jsx(Wt,{size:40,className:"text-violet-600"})}),e.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-2",children:"No Activity Logs Found"}),e.jsx("p",{className:"text-slate-600",children:i.search||i.module||i.date?"Try adjusting your search or filter criteria":"Activity logs will appear here as users interact with the system"})]})]})},Q9=({isOpen:t,onClose:s,selectedLog:r})=>{const[l,i]=so.useState(!1),o=()=>{navigator.clipboard.writeText(JSON.stringify(r?.payload||{},null,2)),i(!0),setTimeout(()=>i(!1),2e3)};return r?e.jsxs("div",{className:"flex flex-col h-full bg-white text-slate-600 font-mono selection:bg-violet-500/30",children:[e.jsxs("div",{className:"p-8 border-b border-slate-100 bg-slate-50/50 backdrop-blur-md",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-violet-600 flex items-center justify-center text-white shadow-lg shadow-violet-500/20",children:e.jsx(ha,{size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 tracking-tight",children:r.event||"Log Details"}),e.jsxs("p",{className:"text-[10px] text-slate-400 uppercase tracking-[0.2em] font-black mt-1",children:["Request ID: ",r.id]})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-2xl p-4 border border-slate-100 shadow-sm",children:[e.jsx("p",{className:"text-[10px] text-slate-400 uppercase font-black mb-1",children:"Status Code"}),e.jsxs("span",{className:`text-sm font-bold ${r.status==="success"?"text-emerald-500":"text-rose-500"}`,children:[r.statusCode||200," OK"]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-4 border border-slate-100 shadow-sm",children:[e.jsx("p",{className:"text-[10px] text-slate-400 uppercase font-black mb-1",children:"Response Time"}),e.jsx("span",{className:"text-sm font-bold text-gray-900",children:"124ms"})]})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar relative",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 text-violet-600",children:[e.jsx(Xx,{size:16}),e.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Raw JSON Payload"})]}),e.jsx("button",{onClick:o,className:"flex items-center gap-2 px-3 py-1.5 bg-slate-100 hover:bg-slate-200 rounded-lg text-[10px] font-bold uppercase tracking-widest text-slate-600 transition-all border border-slate-200",children:l?e.jsxs(e.Fragment,{children:[e.jsx($r,{size:12,className:"text-emerald-500"})," Copied"]}):e.jsxs(e.Fragment,{children:[e.jsx(wf,{size:12})," Copy JSON"]})})]}),e.jsx("div",{className:"bg-slate-900 border border-slate-800 rounded-3xl p-6 text-sm leading-relaxed overflow-x-auto shadow-inner",children:e.jsx("pre",{className:"text-indigo-300 font-mono",children:JSON.stringify(r.payload||{event:"membership.created",timestamp:"2024-03-20T10:30:15Z",data:{id:"MEM_29381",name:"Rahul Sharma",plan:"Elite Monthly",payment:{status:"captured",method:"upi",amount:2500}},metadata:{source:"ios_app",version:"4.2.0"}},null,4)})})]}),e.jsxs("div",{className:"p-8 border-t border-slate-100 bg-slate-50/50 flex gap-4",children:[e.jsx("button",{onClick:s,className:"flex-1 py-4 bg-white hover:bg-slate-50 text-slate-600 rounded-2xl text-xs font-bold uppercase tracking-widest transition-all border border-slate-200 shadow-sm",children:"Close Inspector"}),e.jsxs("button",{className:"flex-1 py-4 bg-violet-600 hover:bg-violet-700 text-white rounded-2xl text-xs font-bold uppercase tracking-widest shadow-xl shadow-violet-500/20 transition-all flex items-center justify-center gap-2",children:[e.jsx(_j,{size:14})," Open in Logs"]})]})]}):null},eM=()=>{const[t,s]=j.useState(null),[r,l]=j.useState([]),[i,o]=j.useState(!0),[d,x]=j.useState(""),[u,h]=j.useState("All"),[p,g]=j.useState("All"),[y,f]=j.useState(!1),[w,S]=j.useState({totalEvents:"0",successRate:"0%",failedLast24h:"0",activeWebhooks:"0"});j.useEffect(()=>{v()},[]);const v=async()=>{o(!0);try{const M=await YC();M&&M.logs?(l(M.logs),S(M.stats)):l(M||[])}catch(M){console.error("Failed to load webhook logs:",M)}finally{o(!1)}},N=()=>{alert("Exporting Webhook Logs to CSV...")},A=r.filter(M=>{const T=M.event.toLowerCase().includes(d.toLowerCase())||M.id.toLowerCase().includes(d.toLowerCase())||M.statusCode.toString().includes(d),_=u==="All"||M.status===u.toLowerCase(),I=p==="All"||M.method===p;return T&&_&&I}),L=M=>{s(M),f(!0)};return e.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-white to-violet-50/30 min-h-screen p-6 md:p-10 font-sans pb-20",children:[e.jsx("div",{className:"max-w-7xl mx-auto mb-10",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 text-violet-600 mb-2",children:[e.jsx(Xx,{size:18}),e.jsx("span",{className:"text-xs font-black uppercase tracking-[0.3em]",children:"System Monitor"})]}),e.jsxs("h1",{className:"text-3xl md:text-4xl font-black text-gray-900 tracking-tighter flex items-center gap-3",children:["Webhook ",e.jsx("span",{className:"text-violet-600",children:"Events"})]}),e.jsx("p",{className:"text-slate-500 mt-2 text-sm font-medium",children:"Real-time API activity and event broadcasting logs."})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:N,className:"px-5 py-3 bg-white border border-slate-200 rounded-xl text-xs font-bold text-slate-600 uppercase tracking-widest hover:bg-slate-50 transition-all flex items-center gap-2 shadow-sm",children:[e.jsx(Js,{size:14})," Export"]}),e.jsx("button",{onClick:v,className:"p-3 bg-violet-600 text-white rounded-xl shadow-lg shadow-violet-500/20 hover:scale-110 active:scale-95 transition-all",children:e.jsx(jl,{size:20,className:i?"animate-spin":""})})]})]})}),e.jsx("div",{className:"max-w-7xl mx-auto grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[{label:"Total Events",val:w.totalEvents,icon:ha,color:"violet",bg:"bg-violet-50",text:"text-violet-600"},{label:"Avg Success",val:w.successRate,icon:Xn,color:"emerald",bg:"bg-emerald-50",text:"text-emerald-600"},{label:"Failed (24h)",val:w.failedLast24h,icon:ps,color:"rose",bg:"bg-rose-50",text:"text-rose-600"},{label:"Active Webhooks",val:w.activeWebhooks,icon:jl,color:"amber",bg:"bg-amber-50",text:"text-amber-600"}].map((M,T)=>e.jsxs("div",{className:"bg-white border border-slate-100 p-6 rounded-3xl shadow-sm hover:shadow-md transition-all",children:[e.jsx("div",{className:`p-2 w-fit rounded-lg ${M.bg} ${M.text} mb-4 group-hover:scale-110 transition-transform`,children:e.jsx(M.icon,{size:18})}),e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:M.label}),e.jsx("p",{className:"text-2xl font-black text-gray-900 tracking-tight",children:M.val})]},T))}),e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"bg-white border border-slate-100 rounded-[32px] overflow-hidden shadow-xl shadow-slate-200/50",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1 group",children:[e.jsx(Qe,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 transition-all",size:18}),e.jsx("input",{type:"text",placeholder:"Search by event, ID, or status code...",className:"w-full pl-12 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-2xl text-xs font-medium text-slate-700 focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all",value:d,onChange:M=>x(M.target.value)})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("select",{className:"px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-[10px] font-bold text-slate-600 uppercase tracking-widest hover:bg-white transition-all outline-none appearance-none cursor-pointer",value:u,onChange:M=>h(M.target.value),children:[e.jsx("option",{value:"All",children:"Status: All"}),e.jsx("option",{value:"Success",children:"Success"}),e.jsx("option",{value:"Failed",children:"Failed"})]}),e.jsxs("select",{className:"px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-[10px] font-bold text-slate-600 uppercase tracking-widest hover:bg-white transition-all outline-none appearance-none cursor-pointer",value:p,onChange:M=>g(M.target.value),children:[e.jsx("option",{value:"All",children:"Method: All"}),e.jsx("option",{value:"POST",children:"POST"}),e.jsx("option",{value:"GET",children:"GET"}),e.jsx("option",{value:"PUT",children:"PUT"})]})]})]}),e.jsx("div",{className:"hidden lg:block overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-slate-50/50",children:e.jsxs("tr",{className:"text-[10px] text-slate-500 font-black uppercase tracking-widest border-b border-slate-100",children:[e.jsx("th",{className:"px-8 py-4",children:"Event ID"}),e.jsx("th",{className:"px-8 py-4",children:"Event Type"}),e.jsx("th",{className:"px-8 py-4",children:"Status"}),e.jsx("th",{className:"px-8 py-4",children:"Endpoint"}),e.jsx("th",{className:"px-8 py-4 text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:i?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-8 py-20 text-center text-slate-400 text-sm",children:"Loading logs..."})}):A.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-8 py-20 text-center opacity-40 uppercase text-[10px] font-black tracking-widest text-slate-400",children:"No terminal events found"})}):A.map(M=>e.jsxs("tr",{className:"group hover:bg-violet-50/50 transition-colors cursor-pointer",onClick:()=>L(M),children:[e.jsx("td",{className:"px-8 py-5",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-violet-400"}),e.jsx("span",{className:"text-violet-600 font-medium text-xs",children:M.id})]})}),e.jsx("td",{className:"px-8 py-5",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-gray-900 font-bold text-sm",children:M.event}),e.jsxs("span",{className:"text-[9px] text-slate-400 uppercase tracking-widest mt-1 flex items-center gap-1.5",children:[e.jsx(Je,{size:10})," ",M.time]})]})}),e.jsx("td",{className:"px-8 py-5",children:e.jsxs("div",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-[0.1em] border ${M.status==="success"?"bg-emerald-50 text-emerald-600 border-emerald-100":"bg-rose-50 text-rose-600 border-rose-100"}`,children:[M.statusCode," ",M.status]})}),e.jsx("td",{className:"px-8 py-5",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"px-1.5 py-0.5 bg-slate-100 rounded text-[9px] font-black text-slate-500 border border-slate-200",children:M.method}),e.jsx("span",{className:"text-xs text-slate-500 tracking-tight font-medium",children:M.endpoint})]})}),e.jsx("td",{className:"px-8 py-5 text-right",children:e.jsx("button",{className:"p-2 text-slate-400 group-hover:text-violet-600 transition-colors",children:e.jsx(da,{size:18})})})]},M.id))})]})}),e.jsx("div",{className:"lg:hidden divide-y divide-slate-100",children:i?e.jsx("div",{className:"p-12 text-center text-slate-400 text-sm",children:"Loading logs..."}):A.length===0?e.jsx("div",{className:"p-12 text-center opacity-40 uppercase text-[10px] font-black tracking-widest text-slate-400",children:"No terminal events found"}):A.map(M=>e.jsxs("div",{className:"p-6 space-y-4 active:bg-slate-50 transition-colors",onClick:()=>L(M),children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-violet-400"}),e.jsx("span",{className:"text-[10px] font-black text-violet-600 tracking-[0.1em]",children:M.id})]}),e.jsx("h3",{className:"text-sm font-bold text-gray-900 tracking-tight",children:M.event})]}),e.jsx("div",{className:`px-2.5 py-1 rounded-lg text-[9px] font-black uppercase tracking-widest border ${M.status==="success"?"bg-emerald-50 text-emerald-600 border-emerald-100":"bg-rose-50 text-rose-600 border-rose-100"}`,children:M.statusCode})]}),e.jsxs("div",{className:"flex items-center justify-between text-[9px] font-black text-slate-400 uppercase tracking-widest",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"px-1.5 py-0.5 bg-slate-100 rounded text-slate-500 border border-slate-200",children:M.method}),e.jsx("span",{children:M.endpoint})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Je,{size:10})," ",M.time]})]})]},M.id))})]}),e.jsxs("div",{className:"mt-8 flex flex-col md:flex-row md:items-center justify-between gap-6",children:[e.jsxs("p",{className:"text-xs text-slate-500 font-medium",children:["System uptime ",e.jsx("span",{className:"text-emerald-500 font-bold",children:"99.99%"}),"  Latency ",e.jsx("span",{className:"text-violet-600 font-bold",children:"142ms"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"flex-1 md:flex-none px-6 py-3 bg-white border border-slate-200 rounded-2xl text-[10px] font-black uppercase tracking-widest text-slate-500 hover:text-slate-900 hover:bg-slate-50 transition-all",children:"Previous"}),e.jsx("button",{className:"flex-1 md:flex-none px-6 py-3 bg-white border border-slate-200 rounded-2xl text-[10px] font-black uppercase tracking-widest text-slate-500 hover:text-slate-900 hover:bg-slate-50 transition-all shadow-sm",children:"Next Page"})]})]})]}),e.jsx(at,{isOpen:y,onClose:()=>f(!1),title:"Log Inspector",width:"600px",children:e.jsx(Q9,{selectedLog:t,onClose:()=>f(!1)})})]})},O1=()=>{const t=Gt(),[s,r]=j.useState({orgName:"",address:"",email:"",phone:""}),[l,i]=j.useState(!0),[o,d]=j.useState(!1);j.useEffect(()=>{x()},[]);const x=async()=>{i(!0);try{const p=await KC();r({orgName:p.siteName,address:p.contactAddress,email:p.supportEmail,phone:p.contactPhone})}catch(p){console.error("Error loading settings:",p)}finally{i(!1)}},u=p=>{const{name:g,value:y}=p.target;r(f=>({...f,[g]:y}))},h=async()=>{d(!0);try{await JC({siteName:s.orgName,contactAddress:s.address,supportEmail:s.email,contactPhone:s.phone}),alert("Settings updated successfully!"),t("/dashboard")}catch(p){console.error("Error saving settings:",p),alert("Failed to save settings")}finally{d(!1)}};return l?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 flex items-center justify-center",children:e.jsxs("div",{className:"animate-pulse flex flex-col items-center",children:[e.jsx("div",{className:"h-16 w-16 bg-gradient-to-br from-violet-200 to-purple-200 rounded-full mb-4 animate-spin"}),e.jsx("div",{className:"h-4 w-48 bg-slate-200 rounded"})]})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 flex flex-col items-center py-8 px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"w-full max-w-4xl mb-6",children:e.jsxs("button",{onClick:()=>t("/dashboard"),className:"group flex items-center text-slate-500 hover:text-violet-600 transition-all duration-300 hover:scale-105",children:[e.jsx("div",{className:"p-1 rounded-full group-hover:bg-violet-50 transition-all duration-300 mr-2 group-hover:scale-110",children:e.jsx(kn,{size:20,className:"transition-transform duration-300 group-hover:-translate-x-1"})}),e.jsx("span",{className:"font-semibold",children:"Back to Dashboard"})]})}),e.jsxs("div",{className:"w-full max-w-4xl mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(Tc,{size:28})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"General Settings"}),e.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Manage your organization's core profile information"})]})]})})]}),e.jsx("div",{className:"w-full max-w-4xl bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden transition-all duration-300 hover:shadow-2xl",children:e.jsxs("div",{className:"p-8 sm:p-10 space-y-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-3",htmlFor:"orgName",children:"Organization Name"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-slate-400 group-focus-within:text-violet-600 group-focus-within:scale-110 transition-all duration-300",children:e.jsx(Tc,{size:20})}),e.jsx("input",{type:"text",id:"orgName",name:"orgName",className:"block w-full pl-12 pr-4 py-3.5 bg-white border-2 border-slate-200 rounded-xl text-slate-900 text-sm focus:outline-none focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 hover:border-slate-300 transition-all duration-300 shadow-sm focus:shadow-lg",value:s.orgName,onChange:u,placeholder:"Enter organization name"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-3",htmlFor:"address",children:"Address"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute top-3.5 left-4 flex items-start pointer-events-none text-slate-400 group-focus-within:text-violet-600 group-focus-within:scale-110 transition-all duration-300",children:e.jsx($s,{size:20})}),e.jsx("textarea",{id:"address",name:"address",rows:"3",className:"block w-full pl-12 pr-4 py-3.5 bg-white border-2 border-slate-200 rounded-xl text-slate-900 text-sm focus:outline-none focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 hover:border-slate-300 transition-all duration-300 shadow-sm resize-none focus:shadow-lg",value:s.address,onChange:u,placeholder:"Enter full address"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-3",htmlFor:"email",children:"Contact Email"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-slate-400 group-focus-within:text-violet-600 group-focus-within:scale-110 transition-all duration-300",children:e.jsx(Hr,{size:20})}),e.jsx("input",{type:"email",id:"email",name:"email",className:"block w-full pl-12 pr-4 py-3.5 bg-white border-2 border-slate-200 rounded-xl text-slate-900 text-sm focus:outline-none focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 hover:border-slate-300 transition-all duration-300 shadow-sm focus:shadow-lg",value:s.email,onChange:u,placeholder:"support@example.com"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-3",htmlFor:"phone",children:"Contact Phone"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-slate-400 group-focus-within:text-violet-600 group-focus-within:scale-110 transition-all duration-300",children:e.jsx(qs,{size:20})}),e.jsx("input",{type:"tel",id:"phone",name:"phone",className:"block w-full pl-12 pr-4 py-3.5 bg-white border-2 border-slate-200 rounded-xl text-slate-900 text-sm focus:outline-none focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 hover:border-slate-300 transition-all duration-300 shadow-sm focus:shadow-lg",value:s.phone,onChange:u,placeholder:"+91 00000 00000"})]})]})]}),e.jsx("div",{className:"flex justify-end pt-6 border-t border-slate-100",children:e.jsxs("button",{onClick:h,disabled:o,className:"group relative flex items-center justify-center px-8 py-3.5 rounded-xl font-bold text-white shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:translate-y-0 w-full sm:w-auto bg-gradient-to-r from-violet-600 to-purple-600 hover:shadow-violet-500/50",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 to-fuchsia-600 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx(xa,{size:20,className:"mr-2 relative transition-transform duration-300 group-hover:rotate-12 group-hover:scale-110"}),e.jsx("span",{className:"relative",children:o?"Saving...":"Save Changes"})]})})]})})]})},jg=({value:t,onChange:s,branches:r=[]})=>e.jsx("div",{className:"bg-violet-50 p-4 rounded-xl border border-violet-100 mb-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-white rounded-lg shadow-sm text-violet-600",children:e.jsx(Ix,{size:20})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-bold text-slate-800",children:"Apply Settings To:"}),e.jsx("p",{className:"text-xs text-slate-500 font-medium",children:"Choose if this configuration is global or branch-specific."})]})]}),e.jsx("div",{className:"w-full sm:w-auto",children:e.jsxs("select",{value:t||"all",onChange:l=>s(l.target.value==="all"?null:l.target.value),className:"w-full sm:w-64 pl-4 pr-10 py-2.5 bg-white border-2 border-slate-200 rounded-xl text-sm font-bold text-slate-700 focus:outline-none focus:border-violet-500 transition-all appearance-none cursor-pointer shadow-sm hover:border-slate-300",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%2364748b'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 1rem center",backgroundSize:"1.25rem"},children:[e.jsx("option",{value:"all",children:" All Branches (Global)"}),r.map(l=>e.jsxs("option",{value:l.id,children:[" ",l.name]},l.id))]})})]})}),tM={name:"Kiaan Fitness Premium",email:"contact@kiaanfitness.com",phone:"+1 (555) 123-4567",address:"123 Fitness Blvd, Silicon Valley, CA",timezone:"PST (UTC-8)",currency:"USD ($)",logoUrl:"https://via.placeholder.com/150"},wg=[{id:1,name:"Downtown HQ",location:"San Francisco, CA",manager:"Sarah Connor",status:"Active",members:1250},{id:2,name:"Westside Studio",location:"Los Angeles, CA",manager:"Mike Ross",status:"Active",members:850},{id:3,name:"North Hills",location:"Seattle, WA",manager:"Nancy Drew",status:"Inactive",members:0}],sM=[{role:"Super Admin",permissions:{members:!0,finance:!0,settings:!0,reports:!0}},{role:"Branch Manager",permissions:{members:!0,finance:!1,settings:!1,reports:!0}},{role:"Trainer",permissions:{members:!0,finance:!1,settings:!1,reports:!1}}],C0={plan:"Enterprise Tier",price:"$299/mo",nextBilling:"Nov 1, 2023",paymentMethod:"Visa ending in 4242",invoices:[{id:"INV-001",date:"Oct 1, 2023",amount:"$299.00",status:"Paid"},{id:"INV-002",date:"Sep 1, 2023",amount:"$299.00",status:"Paid"},{id:"INV-003",date:"Aug 1, 2023",amount:"$299.00",status:"Paid"}]},aM=[{id:1,name:"Stripe",description:"Payment Gateway",status:"Connected",icon:"CreditCard"},{id:2,name:"Mailchimp",description:"Email Marketing",status:"Disconnected",icon:"Mail"},{id:3,name:"Google Calendar",description:"Schedule Sync",status:"Connected",icon:"Calendar"},{id:4,name:"WhatsApp Business",description:"Member Chat",status:"Disconnected",icon:"MessageCircle"}],rM=[{id:1,user:"Admin User",action:"Updated Organization Settings",ip:"192.168.1.1",date:"2023-10-25 14:30"},{id:2,user:"Sarah Connor",action:"Created New Member (M-105)",ip:"192.168.1.4",date:"2023-10-25 10:15"},{id:3,user:"System",action:"Automatic Backup",ip:"localhost",date:"2023-10-25 00:00"},{id:4,user:"Admin User",action:"Changed Password",ip:"192.168.1.1",date:"2023-10-24 16:45"}],F1=()=>{const t=Gt(),l=Zf()?.role===ct.MANAGER,[i,o]=j.useState(null),[d,x]=j.useState({prefix:"INV-",startNumber:"1001",gstPercent:"18"}),[u,h]=j.useState(!0),[p,g]=j.useState(!1);j.useEffect(()=>{y()},[]);const y=async()=>{h(!0);try{const S=await ZC();x(S)}catch(S){console.error("Error fetching invoice settings:",S)}finally{h(!1)}},f=S=>{const{name:v,value:N}=S.target;x(A=>({...A,[v]:N}))},w=async()=>{g(!0);try{await QC(d),alert("Invoice settings updated successfully!")}catch(S){console.error("Error saving invoice settings:",S),alert("Failed to save invoice settings.")}finally{g(!1)}};return u?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 flex items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(wn,{className:"animate-spin text-violet-600 mb-4",size:48}),e.jsx("span",{className:"text-lg font-semibold text-slate-600",children:"Loading settings..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6 flex flex-col items-center",children:[e.jsx("div",{className:"w-full max-w-6xl mb-6",children:e.jsxs("button",{onClick:()=>t("/superadmin/general-settings/general"),className:"group flex items-center text-slate-500 hover:text-violet-600 transition-all duration-300 hover:scale-105",children:[e.jsx("div",{className:"p-1 rounded-full group-hover:bg-violet-50 transition-all duration-300 mr-2 group-hover:scale-110",children:e.jsx(kn,{size:20,className:"transition-transform duration-300 group-hover:-translate-x-1"})}),e.jsx("span",{className:"font-semibold",children:"Back to Settings"})]})}),e.jsxs("div",{className:"max-w-6xl mx-auto mb-6 sm:mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 rounded-xl sm:rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(Wa,{size:24,className:"sm:w-7 sm:h-7"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Invoice Settings"}),e.jsx("p",{className:"text-slate-600 text-xs sm:text-sm mt-0.5 sm:mt-1",children:"Configure invoice numbering and tax details"})]})]})})]}),e.jsx("div",{className:"max-w-6xl mx-auto w-full px-4 mb-6",children:e.jsx(jg,{value:i,onChange:o,branches:wg})}),e.jsxs("div",{className:"max-w-6xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-6 sm:gap-8",children:[e.jsxs("div",{className:"bg-white rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-6 sm:p-8 hover:shadow-2xl transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 mb-6 sm:mb-8 pb-4 sm:pb-6 border-b border-slate-100",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-lg sm:rounded-xl bg-gradient-to-br from-violet-100 to-purple-100 flex items-center justify-center text-violet-600 shadow-md transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(er,{size:20,className:"sm:w-6 sm:h-6"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-900",children:"Configuration"}),l&&e.jsx("span",{className:"px-2 py-0.5 bg-slate-100 text-slate-500 text-xs font-bold rounded border border-slate-200 uppercase tracking-wide",children:"Read-Only "})]}),e.jsx("p",{className:"text-xs sm:text-sm text-slate-500",children:l?"View invoice numbering and tax details.":"Set up invoice numbering and tax details"})]})]}),e.jsxs("div",{className:"space-y-5 sm:space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-bold text-slate-700 mb-2 sm:mb-3",htmlFor:"prefix",children:"Invoice Prefix"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 sm:pl-4 flex items-center pointer-events-none text-slate-400 group-focus-within:text-violet-600 group-focus-within:scale-110 transition-all duration-300",children:e.jsx(Fh,{size:18,className:"sm:w-5 sm:h-5"})}),e.jsx("input",{type:"text",id:"prefix",name:"prefix",className:`block w-full pl-10 sm:pl-12 pr-3 sm:pr-4 py-3 sm:py-3.5 bg-white border-2 border-slate-200 rounded-lg sm:rounded-xl text-slate-900 text-sm focus:outline-none focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 hover:border-slate-300 transition-all duration-300 shadow-sm focus:shadow-lg ${l?"cursor-not-allowed bg-slate-50 text-slate-500":""}`,value:d.prefix,onChange:f,placeholder:"e.g. INV-",disabled:l})]}),e.jsxs("p",{className:"text-[10px] sm:text-xs text-slate-500 mt-1.5 sm:mt-2 flex items-center gap-1.5",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-violet-400 inline-block"}),"Prefix for all generated invoice numbers"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-bold text-slate-700 mb-2 sm:mb-3",htmlFor:"startNumber",children:"Starting Number"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 sm:pl-4 flex items-center pointer-events-none text-slate-400 group-focus-within:text-violet-600 group-focus-within:scale-110 transition-all duration-300",children:e.jsx(Fh,{size:18,className:"sm:w-5 sm:h-5"})}),e.jsx("input",{type:"number",id:"startNumber",name:"startNumber",className:`block w-full pl-10 sm:pl-12 pr-3 sm:pr-4 py-3 sm:py-3.5 bg-white border-2 border-slate-200 rounded-lg sm:rounded-xl text-slate-900 text-sm focus:outline-none focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 hover:border-slate-300 transition-all duration-300 shadow-sm focus:shadow-lg ${l?"cursor-not-allowed bg-slate-50 text-slate-500":""}`,value:d.startNumber,onChange:f,placeholder:"e.g. 1001",disabled:l})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-bold text-slate-700 mb-2 sm:mb-3",htmlFor:"gstPercent",children:"Tax Settings (GST %)"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 sm:pl-4 flex items-center pointer-events-none text-slate-400 group-focus-within:text-violet-600 group-focus-within:scale-110 transition-all duration-300 z-10",children:e.jsx(kd,{size:18,className:"sm:w-5 sm:h-5"})}),e.jsx(ms,{options:[{value:"0",label:"0% (Tax Exempt)"},{value:"5",label:"5%"},{value:"12",label:"12%"},{value:"18",label:"18% (Standard)"},{value:"28",label:"28%"}],value:d.gstPercent,onChange:S=>f({target:{name:"gstPercent",value:S}}),className:`w-full pl-10 sm:pl-12 ${l?"cursor-not-allowed bg-slate-50 text-slate-500":""}`,disabled:l})]})]})]}),e.jsx("div",{className:"flex justify-end mt-6 sm:mt-8 pt-4 sm:pt-6 border-t border-slate-100",children:e.jsxs("button",{onClick:w,disabled:p||l,className:"group relative flex items-center justify-center px-6 sm:px-8 py-3 sm:py-3.5 rounded-lg sm:rounded-xl font-bold text-sm sm:text-base text-white shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:translate-y-0 w-full md:w-auto bg-gradient-to-r from-violet-600 to-purple-600 hover:shadow-violet-500/50",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 to-fuchsia-600 rounded-lg sm:rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),p?e.jsx(wn,{className:"w-4 h-4 sm:w-5 sm:h-5 animate-spin relative mr-2"}):e.jsx(xa,{className:"w-4 h-4 sm:w-5 sm:h-5 relative mr-2 transition-transform duration-300 group-hover:rotate-12 group-hover:scale-110"}),e.jsx("span",{className:"relative",children:p?"Saving...":"Save Configuration"})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-6 sm:p-8 hover:shadow-2xl transition-all duration-300",children:[e.jsx("div",{className:"flex items-center justify-between mb-6 sm:mb-8",children:e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg sm:rounded-xl bg-gradient-to-br from-emerald-100 to-emerald-200 flex items-center justify-center text-emerald-600 shadow-md transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(da,{size:16,className:"sm:w-5 sm:h-5"})}),e.jsx("div",{children:e.jsxs("h2",{className:"text-base sm:text-lg lg:text-xl font-bold text-slate-900 flex items-center gap-2",children:["Live Preview",e.jsx("span",{className:"text-[9px] sm:text-xs font-semibold px-2 sm:px-2.5 py-0.5 sm:py-1 bg-emerald-100 text-emerald-700 rounded-full border border-emerald-200",children:"Updated"})]})})]})}),e.jsx("div",{className:"bg-gradient-to-br from-slate-50 to-slate-100/50 rounded-lg sm:rounded-xl p-4 sm:p-6 border-2 border-slate-200 shadow-inner",children:e.jsxs("div",{className:"bg-white rounded-lg p-4 sm:p-6 shadow-md",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-4 sm:gap-0 mb-4 sm:mb-6",children:[e.jsxs("div",{className:"text-left",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2 sm:mb-3",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-violet-600 to-purple-600 rounded-lg sm:rounded-xl flex items-center justify-center shadow-md",children:e.jsx("span",{className:"text-white font-bold text-xs sm:text-sm",children:"G"})}),e.jsx("span",{className:"font-bold text-slate-800 text-base sm:text-lg",children:"GymName"})]}),e.jsx("div",{className:"h-1.5 sm:h-2 w-24 sm:w-32 bg-slate-200 rounded mb-1 sm:mb-1.5"}),e.jsx("div",{className:"h-1.5 sm:h-2 w-20 sm:w-24 bg-slate-200 rounded"})]}),e.jsxs("div",{className:"text-left sm:text-right w-full sm:w-auto",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-black text-slate-300 tracking-wider",children:"INVOICE"}),e.jsxs("p",{className:"font-mono text-xs sm:text-sm text-violet-600 font-bold mt-1.5 sm:mt-2 bg-violet-50 px-2.5 sm:px-3 py-1 sm:py-1.5 rounded-lg border border-violet-200 inline-block",children:["#",d.prefix,d.startNumber]})]})]}),e.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[e.jsxs("div",{className:"flex justify-between border-b border-slate-100 pb-2 sm:pb-3 hover:bg-slate-50 px-2 sm:px-3 -mx-2 sm:-mx-3 rounded transition-colors",children:[e.jsx("span",{className:"text-xs sm:text-sm text-slate-500 font-semibold",children:"Date Issued"}),e.jsx("span",{className:"text-xs sm:text-sm font-bold text-slate-700",children:new Date().toLocaleDateString()})]}),e.jsxs("div",{className:"flex justify-between border-b border-slate-100 pb-2 sm:pb-3 hover:bg-slate-50 px-2 sm:px-3 -mx-2 sm:-mx-3 rounded transition-colors",children:[e.jsx("span",{className:"text-xs sm:text-sm text-slate-500 font-semibold",children:"Total Amount"}),e.jsx("span",{className:"text-xs sm:text-sm font-black text-slate-900",children:"0.00"})]}),e.jsxs("div",{className:"flex justify-between pt-1 sm:pt-2 hover:bg-slate-50 px-2 sm:px-3 -mx-2 sm:-mx-3 rounded transition-colors",children:[e.jsxs("span",{className:"text-xs sm:text-sm text-slate-500 font-semibold",children:["Tax (",d.gstPercent,"%)"]}),e.jsx("span",{className:"text-xs sm:text-sm font-bold text-emerald-600",children:"Included"})]})]}),e.jsx("div",{className:"mt-4 sm:mt-6 p-3 sm:p-4 bg-gradient-to-r from-violet-50 to-purple-50 rounded-lg border border-violet-100 text-center",children:e.jsx("p",{className:"text-[10px] sm:text-xs text-slate-600 font-semibold",children:"This is how your invoice header will look to customers."})})]})})]})]})]})},B1=()=>{const t=Gt(),[s,r]=j.useState([]),[l,i]=j.useState(!1),[o,d]=j.useState("add"),[x,u]=j.useState(null),[h,p]=j.useState({name:"",type:"Access Controller",ip:"",status:"active"});j.useEffect(()=>{g()},[]);const g=async()=>{try{const L=(await tw()).map(M=>({id:M.id,name:M.name,type:M.type||"Turnstile",ip:M.ipAddress||"",status:M.status==="connected"||M.status==="active"||M.status==="Online"?"active":"offline"}));r(L)}catch(A){console.error("Failed to load devices",A)}},y=()=>{d("add"),p({name:"",type:"Access Controller",ip:"",status:"active"}),i(!0)},f=A=>{d("edit"),u(A),p({name:A.name,type:A.type,ip:A.ip,status:A.status}),i(!0)},w=async A=>{if(A.preventDefault(),!h.name||!h.ip){alert("Please fill in all required fields.");return}if(!/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(h.ip)){alert("Please enter a valid IP address.");return}try{o==="edit"?(await xA(x.id,h),alert("Device updated successfully!")):(await dA(h),alert("Device added successfully!")),g(),i(!1)}catch(M){console.error("Failed to save device",M),alert("Failed to save device: "+M)}},S=A=>{const{name:L,value:M}=A.target;p(T=>({...T,[L]:M}))},v=async A=>{if(confirm("Are you sure you want to remove this device?"))try{await uA(A),g()}catch(L){console.error("Failed to delete device",L),alert("Failed to delete device: "+L)}},N=A=>e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-bold shadow-sm transition-all duration-300 hover:scale-110 ${A==="active"?"bg-gradient-to-r from-emerald-50 to-emerald-100 text-emerald-700 border border-emerald-200":"bg-gradient-to-r from-red-50 to-red-100 text-red-700 border border-red-200"}`,children:[e.jsx("span",{className:`inline-block w-2 h-2 rounded-full animate-pulse ${A==="active"?"bg-emerald-500":"bg-red-500"}`}),A.charAt(0).toUpperCase()+A.slice(1)]});return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-6 flex flex-col items-center",children:[e.jsx("div",{className:"w-full max-w-7xl mb-6",children:e.jsxs("button",{onClick:()=>t("/superadmin/general-settings/general"),className:"group flex items-center text-slate-500 hover:text-violet-600 transition-all duration-300 hover:scale-105",children:[e.jsx("div",{className:"p-1 rounded-full group-hover:bg-violet-50 transition-all duration-300 mr-2 group-hover:scale-110",children:e.jsx(kn,{size:20,className:"transition-transform duration-300 group-hover:-translate-x-1"})}),e.jsx("span",{className:"font-semibold",children:"Back to Settings"})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(Fj,{size:28})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Hardware Settings"}),e.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Manage connected devices and access points"})]})]}),e.jsxs("button",{onClick:y,className:"group relative px-6 py-3 rounded-xl font-bold text-white shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1 flex items-center gap-2 bg-gradient-to-r from-violet-600 to-purple-600 hover:shadow-violet-500/50",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 to-fuchsia-600 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx(St,{className:"w-5 h-5 relative transition-transform duration-300 group-hover:rotate-90 group-hover:scale-110"}),e.jsx("span",{className:"relative",children:"Add New Device"})]})]})})]}),e.jsx("div",{className:"max-w-7xl mx-auto bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gradient-to-r from-slate-50 to-slate-100/50 border-b-2 border-slate-200",children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"Device Name"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"Type"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"IP Address"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold uppercase tracking-wider text-slate-700",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:s.length>0?s.map(A=>e.jsxs("tr",{className:"group hover:bg-gradient-to-r hover:from-violet-50/50 hover:via-purple-50/30 hover:to-transparent transition-all duration-300",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-11 h-11 rounded-xl flex items-center justify-center shadow-md transition-all duration-300 group-hover:scale-110 group-hover:rotate-6 ${A.status==="active"?"bg-gradient-to-br from-emerald-500 to-emerald-600 text-white":"bg-gradient-to-br from-red-500 to-red-600 text-white"}`,children:e.jsx(Sf,{size:20})}),e.jsxs("div",{children:[e.jsx("span",{className:"font-bold text-slate-900 block text-sm group-hover:text-violet-600 transition-colors",children:A.name}),e.jsxs("span",{className:"text-xs text-slate-500",children:["ID: ",A.id]})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"text-sm font-semibold text-slate-700",children:A.type})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"inline-flex items-center gap-2 font-mono text-xs bg-slate-50 px-3 py-1.5 rounded-lg border border-slate-200 transition-all duration-300 group-hover:bg-violet-50 group-hover:border-violet-200 group-hover:text-violet-700",children:[e.jsx(Gj,{size:14}),A.ip]})}),e.jsx("td",{className:"px-6 py-4",children:N(A.status)}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>f(A),className:"group/btn p-2.5 text-violet-600 hover:bg-violet-50 rounded-xl transition-all duration-300 border border-transparent hover:border-violet-200 hover:scale-110 hover:shadow-md",title:"Edit",children:e.jsx(ar,{size:16,className:"transition-transform duration-300 group-hover/btn:rotate-12 group-hover/btn:scale-110"})}),e.jsx("button",{onClick:()=>v(A.id),className:"group/btn p-2.5 text-red-600 hover:bg-red-50 rounded-xl transition-all duration-300 border border-transparent hover:border-red-200 hover:scale-110 hover:shadow-md",title:"Remove",children:e.jsx(Ms,{size:16,className:"transition-transform duration-300 group-hover/btn:rotate-12 group-hover/btn:scale-110"})})]})})]},A.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-16 text-center",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-violet-100 to-purple-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(Sf,{size:32,className:"text-violet-600"})}),e.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"No Devices Found"}),e.jsx("p",{className:"text-slate-600 text-sm",children:"Add your first hardware device to get started"})]})})})})]})})}),e.jsx(at,{isOpen:l,onClose:()=>i(!1),title:o==="add"?"Add New Device":"Edit Device Configuration",subtitle:o==="add"?"Configure a new hardware node":`Updating ${x?.name}`,maxWidth:"max-w-lg",footer:e.jsxs("div",{className:"flex flex-row-reverse gap-3 w-full",children:[e.jsx("button",{type:"submit",form:"device-form",className:"px-6 py-2.5 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-xl font-bold shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:o==="add"?"Add Device":"Save Changes"}),e.jsx("button",{type:"button",onClick:()=>i(!1),className:"px-6 py-2.5 bg-white border-2 border-slate-200 text-slate-700 rounded-xl font-bold shadow-sm hover:shadow-md transition-all duration-300 hover:scale-105",children:"Cancel"})]}),children:e.jsxs("form",{id:"device-form",onSubmit:w,className:"flex flex-col gap-6 p-6",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Device Name *"}),e.jsx("input",{type:"text",name:"name",className:"block w-full px-4 py-3 bg-white border-2 border-slate-200 rounded-xl text-slate-900 text-sm focus:outline-none focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 hover:border-slate-300 transition-all duration-300 shadow-sm",value:h.name,onChange:S,placeholder:"e.g. Reception Turnstile",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Device Type"}),e.jsx(ms,{options:["Access Controller","Biometric","RFID Reader","Turnstile","Camera"],value:h.type,onChange:A=>S({target:{name:"type",value:A}}),className:"w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"IP Address *"}),e.jsx("input",{type:"text",name:"ip",className:"block w-full px-4 py-3 bg-white border-2 border-slate-200 rounded-xl text-slate-900 text-sm font-mono focus:outline-none focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 hover:border-slate-300 transition-all duration-300 shadow-sm",value:h.ip,onChange:S,placeholder:"192.168.1.1",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-3",children:"Initial Status"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"status",value:"active",checked:h.status==="active",onChange:S,className:"w-4 h-4 text-violet-600 focus:ring-violet-500"}),e.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"status",value:"offline",checked:h.status==="offline",onChange:S,className:"w-4 h-4 text-violet-600 focus:ring-violet-500"}),e.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Offline"})]})]})]})]})})]})},lM=()=>{const t=Gt(),[s,r]=j.useState(!1),[l,i]=j.useState(!0),[o,d]=j.useState({globalBookingEnabled:!0,creditsPerBooking:1,maxBookingsPerDay:2,maxBookingsPerWeek:10,classCancellationWindow:4,classAdvanceBookingDays:7,benefitCancellationWindow:24,benefitAdvanceBookingDays:14,penaltyEnabled:!0,penaltyCredits:1});j.useEffect(()=>{(async()=>{try{const p=await eA();d(g=>({...g,...p}))}catch(p){console.error("Failed to load booking settings:",p)}finally{i(!1)}})()},[]);const x=h=>{const{name:p,value:g,type:y,checked:f}=h.target;d(w=>({...w,[p]:y==="checkbox"?f:g}))},u=async()=>{r(!0);try{await tA(o),alert("Booking rules updated successfully!")}catch(h){console.error("Failed to save booking settings:",h),alert("Failed to save: "+h.message)}finally{r(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 flex flex-col items-center py-8 px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"w-full max-w-4xl mb-6",children:e.jsxs("button",{onClick:()=>t("/superadmin/general-settings/general"),className:"group flex items-center text-slate-500 hover:text-violet-600 transition-all duration-300 hover:scale-105",children:[e.jsx("div",{className:"p-1 rounded-full group-hover:bg-violet-50 transition-all duration-300 mr-2 group-hover:scale-110",children:e.jsx(kn,{size:20,className:"transition-transform duration-300 group-hover:-translate-x-1"})}),e.jsx("span",{className:"font-semibold",children:"Back to Dashboard"})]})}),e.jsxs("div",{className:"w-full max-w-4xl mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(Ye,{size:28})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Booking Rules"}),e.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Configure specific windows for classes and premium benefits"})]})]})})]}),e.jsx("div",{className:"w-full max-w-4xl bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden transition-all duration-300 hover:shadow-2xl",children:e.jsxs("div",{className:"p-8 sm:p-10 space-y-10",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-indigo-50 rounded-lg text-indigo-600",children:e.jsx(qr,{size:20})}),e.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Group Class Rules"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-3",children:"Cancellation Window (Classes)"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-slate-400",children:e.jsx(Je,{size:18})}),e.jsx("input",{type:"number",name:"classCancellationWindow",value:o.classCancellationWindow,onChange:x,className:"block w-full pl-12 pr-4 py-3.5 bg-white border-2 border-slate-200 rounded-xl text-slate-900 text-sm focus:outline-none focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 hover:border-slate-300 transition-all font-semibold"}),e.jsx("span",{className:"absolute inset-y-0 right-4 flex items-center text-xs font-bold text-slate-400",children:"Hours Before"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-3",children:"Advance Booking Window (Classes)"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-slate-400",children:e.jsx(Ye,{size:18})}),e.jsx("input",{type:"number",name:"classAdvanceBookingDays",value:o.classAdvanceBookingDays,onChange:x,className:"block w-full pl-12 pr-4 py-3.5 bg-white border-2 border-slate-200 rounded-xl text-slate-900 text-sm focus:outline-none focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 hover:border-slate-300 transition-all font-semibold"}),e.jsx("span",{className:"absolute inset-y-0 right-4 flex items-center text-xs font-bold text-slate-400",children:"Days Out"})]})]})]})]}),e.jsx("div",{className:"border-t border-slate-100 my-8"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-rose-50 rounded-lg text-rose-600",children:e.jsx(Nd,{size:20})}),e.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Premium Benefit Rules (Sauna, PT, etc.)"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-3",children:"Cancellation Window (Benefits)"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-rose-400",children:e.jsx(Je,{size:18})}),e.jsx("input",{type:"number",name:"benefitCancellationWindow",value:o.benefitCancellationWindow,onChange:x,className:"block w-full pl-12 pr-4 py-3.5 bg-white border-2 border-rose-100 rounded-xl text-slate-900 text-sm focus:outline-none focus:ring-4 focus:ring-rose-500/20 focus:border-rose-500 hover:border-rose-200 transition-all font-semibold"}),e.jsx("span",{className:"absolute inset-y-0 right-4 flex items-center text-xs font-bold text-rose-400",children:"Hours Before"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-3",children:"Advance Booking Window (Benefits)"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-rose-400",children:e.jsx(Ye,{size:18})}),e.jsx("input",{type:"number",name:"benefitAdvanceBookingDays",value:o.benefitAdvanceBookingDays,onChange:x,className:"block w-full pl-12 pr-4 py-3.5 bg-white border-2 border-rose-100 rounded-xl text-slate-900 text-sm focus:outline-none focus:ring-4 focus:ring-rose-500/20 focus:border-rose-500 hover:border-rose-200 transition-all font-semibold"}),e.jsx("span",{className:"absolute inset-y-0 right-4 flex items-center text-xs font-bold text-rose-400",children:"Days Out"})]})]})]})]}),e.jsx("div",{className:"border-t border-slate-100 my-8"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-slate-50 rounded-lg text-slate-600",children:e.jsx(tr,{size:20})}),e.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Consumption & Penalties"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:e.jsxs("div",{className:"bg-slate-50 p-6 rounded-2xl border border-slate-200 flex flex-col justify-between",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Late Cancellation Penalty"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"penaltyEnabled",checked:o.penaltyEnabled,onChange:x,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-violet-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-violet-600"})]})]}),o.penaltyEnabled&&e.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2",children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-widest mb-2",children:"Penalty Credits"}),e.jsx("input",{type:"number",name:"penaltyCredits",value:o.penaltyCredits,onChange:x,className:"block w-full px-4 py-2 bg-white border border-slate-300 rounded-lg text-slate-900 text-sm focus:border-violet-500 focus:ring-2 focus:ring-violet-200 transition-all"})]})]})})]}),e.jsx("div",{className:"flex justify-end pt-6 border-t border-slate-100",children:e.jsxs("button",{onClick:u,disabled:s,className:"group relative flex items-center justify-center px-8 py-4 rounded-xl font-bold text-white shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:translate-y-0 w-full sm:w-auto bg-gradient-to-r from-violet-600 to-purple-600 hover:shadow-violet-500/50",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 to-fuchsia-600 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx(xa,{size:20,className:"mr-2 relative transition-transform duration-300 group-hover:rotate-12 group-hover:scale-110"}),e.jsx("span",{className:"relative",children:s?"Saving...":"Save Configuration"})]})})]})})]})},nM=()=>{const[t,s]=j.useState(null),[r,l]=j.useState(!0),[i,o]=j.useState("personal"),[d,x]=j.useState(!1),[u,h]=j.useState({type:"",text:""}),[p,g]=j.useState({name:"",email:"",phone:"",address:""});j.useEffect(()=>{y()},[]);const y=async()=>{try{l(!0);const v=await oA();s(v),g({name:v.name,email:v.email,phone:v.phone,address:v.address||""})}catch(v){console.error("Error loading profile:",v),h({type:"error",text:"Failed to load profile data."})}finally{l(!1)}},f=v=>{const{name:N,value:A}=v.target;g(L=>({...L,[N]:A}))},w=async v=>{v.preventDefault(),x(!0),h({type:"",text:""});try{const N=await cA(p);s(N),h({type:"success",text:"Profile updated successfully!"})}catch{h({type:"error",text:"Failed to update profile."})}finally{x(!1)}};if(r)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 flex items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"h-16 w-16 bg-gradient-to-br from-violet-200 to-purple-200 rounded-full mb-4 animate-spin"}),e.jsx("p",{className:"text-lg font-semibold text-slate-600",children:"Loading profile..."})]})});if(!t)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 flex items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-4 text-center max-w-sm",children:[e.jsx("div",{className:"w-16 h-16 bg-red-50 rounded-full flex items-center justify-center",children:e.jsx(tr,{size:32,className:"text-red-400"})}),e.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Could Not Load Profile"}),e.jsx("p",{className:"text-slate-500 text-sm",children:u.text||"There was an error fetching your profile. Please try refreshing the page."}),e.jsx("button",{onClick:y,className:"px-6 py-2.5 bg-violet-600 text-white rounded-xl text-sm font-bold hover:bg-violet-700 transition-all",children:"Retry"})]})});const S=[{id:"personal",label:"Personal Info",icon:rt},{id:"security",label:"Security",icon:tr},{id:"notifications",label:"Notifications",icon:vl}];return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-6 md:p-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[e.jsxs("div",{className:"relative bg-white rounded-2xl border border-slate-100 shadow-xl overflow-hidden",children:[e.jsx("div",{className:"h-40 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 relative",children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-transparent to-black/10"})}),e.jsx("div",{className:"px-8 pb-8",children:e.jsxs("div",{className:"relative flex flex-col md:flex-row md:items-end gap-6 -mt-16",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"w-36 h-36 rounded-2xl bg-white p-2 shadow-2xl ring-4 ring-white",children:e.jsx("div",{className:"w-full h-full rounded-xl bg-gradient-to-br from-violet-600 to-purple-600 flex items-center justify-center text-white text-5xl font-black shadow-lg",children:t.avatar})}),e.jsx("button",{className:"absolute bottom-2 right-2 p-3 bg-white rounded-xl shadow-lg border border-slate-200 text-violet-600 hover:scale-110 hover:bg-violet-50 active:scale-95 transition-all duration-300 group-hover:shadow-xl",children:e.jsx(Uo,{size:18})})]}),e.jsxs("div",{className:"flex-1 pb-2",children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent mb-2",children:t.name}),e.jsxs("div",{className:"flex flex-wrap gap-3 mt-3",children:[e.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-gradient-to-r from-violet-50 to-purple-50 text-violet-700 text-xs font-bold border border-violet-200 shadow-sm",children:t.role.replace("_"," ")}),e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full bg-emerald-50 text-emerald-700 text-xs font-bold border border-emerald-200 shadow-sm",children:[e.jsx(Wt,{size:14,className:"text-emerald-500"}),t.status]}),e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full bg-slate-50 text-slate-700 text-xs font-bold border border-slate-200 shadow-sm",children:[e.jsx(Ye,{size:14,className:"text-slate-500"}),"Joined ",t.joinedDate]})]})]}),e.jsxs("button",{className:"md:mb-2 px-6 py-3 bg-gradient-to-r from-emerald-600 to-emerald-700 text-white rounded-xl text-sm font-bold shadow-lg hover:shadow-xl hover:scale-105 active:scale-95 transition-all duration-300 flex items-center gap-2",children:[e.jsx(as,{size:18}),"Verified Account"]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"lg:col-span-1 space-y-2",children:S.map(v=>e.jsxs("button",{onClick:()=>o(v.id),className:`w-full flex items-center gap-3 px-5 py-4 rounded-xl text-sm font-bold transition-all duration-300 ${i===v.id?"bg-gradient-to-r from-violet-600 to-purple-600 text-white shadow-lg hover:shadow-xl hover:scale-105":"text-slate-600 hover:bg-white border border-transparent hover:border-slate-200 hover:text-slate-900 hover:shadow-md"}`,children:[e.jsx(v.icon,{size:20,className:i===v.id?"":"text-slate-400"}),v.label]},v.id))}),e.jsx("div",{className:"lg:col-span-3",children:e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-xl p-8",children:[u.text&&e.jsxs("div",{className:`mb-6 p-4 rounded-xl flex items-center gap-3 text-sm font-semibold border ${u.type==="success"?"bg-emerald-50 text-emerald-700 border-emerald-200":"bg-red-50 text-red-700 border-red-200"}`,children:[e.jsx(as,{size:18}),u.text]}),i==="personal"&&e.jsxs("form",{onSubmit:w,className:"space-y-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"Personal Information"}),e.jsx("p",{className:"text-sm text-slate-600",children:"Update your personal details and contact information"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Full Name"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-slate-400 group-focus-within:text-violet-600 group-focus-within:scale-110 transition-all duration-300",children:e.jsx(rt,{size:20})}),e.jsx("input",{type:"text",name:"name",value:p.name,onChange:f,className:"block w-full pl-12 pr-4 py-3.5 bg-white border-2 border-slate-200 rounded-xl text-slate-900 text-sm focus:outline-none focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 hover:border-slate-300 transition-all duration-300 shadow-sm focus:shadow-lg",placeholder:"Enter your name"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Email Address"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-slate-400 group-focus-within:text-violet-600 group-focus-within:scale-110 transition-all duration-300",children:e.jsx(Hr,{size:20})}),e.jsx("input",{type:"email",name:"email",value:p.email,onChange:f,className:"block w-full pl-12 pr-4 py-3.5 bg-white border-2 border-slate-200 rounded-xl text-slate-900 text-sm focus:outline-none focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 hover:border-slate-300 transition-all duration-300 shadow-sm focus:shadow-lg",placeholder:"Enter your email"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Phone Number"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-slate-400 group-focus-within:text-violet-600 group-focus-within:scale-110 transition-all duration-300",children:e.jsx(qs,{size:20})}),e.jsx("input",{type:"text",name:"phone",value:p.phone,onChange:f,className:"block w-full pl-12 pr-4 py-3.5 bg-white border-2 border-slate-200 rounded-xl text-slate-900 text-sm focus:outline-none focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 hover:border-slate-300 transition-all duration-300 shadow-sm focus:shadow-lg",placeholder:"Enter phone number"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Location"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-slate-400 group-focus-within:text-violet-600 group-focus-within:scale-110 transition-all duration-300",children:e.jsx($s,{size:20})}),e.jsx("input",{type:"text",name:"address",value:p.address,onChange:f,className:"block w-full pl-12 pr-4 py-3.5 bg-white border-2 border-slate-200 rounded-xl text-slate-900 text-sm focus:outline-none focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 hover:border-slate-300 transition-all duration-300 shadow-sm focus:shadow-lg",placeholder:"Enter city, country"})]})]})]}),e.jsx("div",{className:"pt-6 border-t border-slate-100",children:e.jsxs("button",{type:"submit",disabled:d,className:"group relative flex items-center justify-center px-8 py-3.5 rounded-xl font-bold text-white shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:translate-y-0 bg-gradient-to-r from-violet-600 to-purple-600 hover:shadow-violet-500/50",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 to-fuchsia-600 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),d?e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin relative mr-2"}):e.jsx(xa,{size:20,className:"mr-2 relative transition-transform duration-300 group-hover:rotate-12 group-hover:scale-110"}),e.jsx("span",{className:"relative",children:d?"Saving...":"Save Profile Changes"})]})})]}),i==="security"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"Security Settings"}),e.jsx("p",{className:"text-sm text-slate-600",children:"Manage your password and account security"})]}),e.jsxs("div",{className:"p-6 rounded-xl bg-gradient-to-br from-red-50 to-red-100/50 border-2 border-red-200",children:[e.jsxs("h4",{className:"text-red-700 font-bold flex items-center gap-2 mb-2",children:[e.jsx(Fs,{size:20}),"Password Management"]}),e.jsx("p",{className:"text-red-600 text-sm font-medium",children:"It's recommended to update your password every 90 days for maximum security."}),e.jsx("button",{className:"mt-4 px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-xl text-sm font-bold hover:shadow-lg hover:scale-105 active:scale-95 transition-all duration-300",children:"Change Password"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-sm font-bold text-slate-900 uppercase tracking-wider",children:"Account Security"}),e.jsx("div",{className:"p-6 rounded-xl border-2 border-slate-200 bg-slate-50/50 hover:bg-slate-50 transition-all duration-300",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-slate-900",children:"Two-Factor Authentication"}),e.jsx("p",{className:"text-xs text-slate-600 mt-1",children:"Add an extra layer of security to your account."})]}),e.jsx("div",{className:"relative w-14 h-7 bg-gradient-to-r from-emerald-500 to-emerald-600 rounded-full shadow-md cursor-pointer hover:scale-105 transition-transform duration-300",children:e.jsx("div",{className:"absolute right-1 top-1 w-5 h-5 bg-white rounded-full shadow-sm"})})]})})]})]}),i==="notifications"&&e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[e.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-violet-100 to-purple-100 rounded-full flex items-center justify-center text-violet-600 mb-6 shadow-lg",children:e.jsx(vl,{size:48})}),e.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Notification Preferences"}),e.jsx("p",{className:"text-slate-600 max-w-md font-medium",children:"Customize how you receive alerts and system updates."})]})]})})]})]})})},iM=({isOpen:t,onClose:s,memberData:r,walletData:l,setWalletData:i})=>{const o=r&&l?l[r.id]:{balance:0,transactions:[]},[d,x]=j.useState(null),[u,h]=j.useState(""),[p,g]=j.useState("");j.useEffect(()=>{r&&x(null)},[r]);const y=f=>{if(f.preventDefault(),!u||!p||isNaN(u)||!r)return;const w=parseFloat(u),S=d==="credit"?"Credit":"Debit",v=new Date().toISOString().split("T")[0],N={id:Date.now(),date:v,type:S,amount:w,description:p},A=S==="Credit"?o.balance+w:o.balance-w,L=[N,...o.transactions];i(M=>({...M,[r.id]:{balance:A,transactions:L,lastTransaction:v}})),x(null),h(""),g("")};return t?e.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm transition-opacity duration-300 animate-in fade-in",onClick:s}),e.jsxs("div",{className:`absolute inset-y-0 right-0 w-full max-w-[400px] bg-white shadow-2xl flex flex-col transform transition-transform duration-300 ease-in-out ${t?"translate-x-0":"translate-x-full"} animate-in slide-in-from-right`,children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex flex-col gap-4 bg-white sticky top-0 z-10 font-sans",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:r?.name}),e.jsx("p",{className:"text-xs font-semibold text-gray-400 uppercase tracking-widest",children:r?.id})]}),e.jsx("button",{onClick:s,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition-all",children:e.jsx(wl,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>x("credit"),className:`flex-1 py-2 px-4 rounded-xl text-xs font-bold transition-all duration-300 shadow-sm ${d==="credit"?"bg-green-600 text-white shadow-green-100":"bg-green-50 text-green-700 hover:bg-green-600 hover:text-white"}`,children:"Add Credit"}),e.jsx("button",{onClick:()=>x("debit"),className:`flex-1 py-2 px-4 rounded-xl text-xs font-bold transition-all duration-300 shadow-sm ${d==="debit"?"bg-red-600 text-white shadow-red-100":"bg-red-50 text-red-700 hover:bg-red-600 hover:text-white"}`,children:"Deduct"})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[e.jsxs("div",{className:"bg-indigo-600 rounded-2xl p-6 text-white shadow-lg shadow-indigo-100",children:[e.jsx("p",{className:"text-indigo-100 text-sm font-medium",children:"Current Balance"}),e.jsx("h3",{className:"text-3xl font-bold mt-1",children:o.balance<0?`-$${Math.abs(o.balance).toFixed(2)}`:`$${o.balance.toFixed(2)}`}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-6",children:[e.jsxs("div",{className:"bg-white/10 p-3 rounded-xl backdrop-blur-sm",children:[e.jsx("p",{className:"text-indigo-100 text-[10px] font-bold uppercase tracking-wider",children:"Total Credit"}),e.jsx("p",{className:"text-base font-bold text-white",children:"$450.00"})]}),e.jsxs("div",{className:"bg-white/10 p-3 rounded-xl backdrop-blur-sm",children:[e.jsx("p",{className:"text-indigo-100 text-[10px] font-bold uppercase tracking-wider",children:"Total Debit"}),e.jsx("p",{className:"text-base font-bold text-white",children:"$125.00"})]})]})]}),d&&e.jsx("div",{className:"animate-slide-up",children:e.jsxs("div",{className:`saas-card border-2 ${d==="credit"?"border-green-100":"border-red-100"}`,children:[e.jsx("h4",{className:`text-sm font-bold mb-4 ${d==="credit"?"text-green-700":"text-red-700"}`,children:d==="credit"?"Add Credit Amount":"Deduct Amount"}),e.jsxs("form",{onSubmit:y,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest block mb-1",children:"Amount"}),e.jsx("input",{type:"number",required:!0,className:"saas-input",placeholder:"Enter amount...",value:u,onChange:f=>h(f.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest block mb-1",children:"Description"}),e.jsx("input",{type:"text",required:!0,className:"saas-input",placeholder:"Reason for transaction...",value:p,onChange:f=>g(f.target.value)})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsx("button",{type:"button",onClick:()=>x(null),className:"flex-1 py-2 text-sm font-bold text-gray-500 hover:bg-gray-100 rounded-xl transition-all",children:"Cancel"}),e.jsx("button",{type:"submit",className:`flex-1 py-2 text-sm font-bold text-white rounded-xl transition-all shadow-md ${d==="credit"?"bg-green-600 hover:bg-green-700 shadow-green-100":"bg-red-600 hover:bg-red-700 shadow-red-100"}`,children:"Confirm"})]})]})]})}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-bold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-4 bg-indigo-600 rounded-full"}),"Recent Transactions"]}),e.jsx("div",{className:"saas-card p-0 overflow-hidden border border-gray-100 shadow-none",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-50/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-500",children:"Date/Type"}),e.jsx("th",{className:"px-4 py-3 text-right font-semibold text-gray-500",children:"Amount"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-50",children:o.transactions.map(f=>e.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors group",children:[e.jsxs("td",{className:"px-4 py-3",children:[e.jsx("div",{className:"text-gray-900 font-medium",children:f.date}),e.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[e.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${f.type==="Credit"?"bg-green-500":"bg-red-500"}`}),e.jsx("span",{className:`text-[10px] font-bold uppercase ${f.type==="Credit"?"text-green-600":"text-red-600"}`,children:f.type}),e.jsxs("span",{className:"text-gray-400 font-medium text-[10px] truncate max-w-[150px] inline-block",children:[" ",f.description]})]})]}),e.jsxs("td",{className:"px-4 py-3 text-right font-bold text-gray-900",children:[f.type==="Credit"?"+":"-","$",f.amount.toFixed(2)]})]},f.id))})]})})})]})]}),e.jsx("div",{className:"p-6 border-t border-gray-100 bg-gray-50/30",children:e.jsx("button",{onClick:s,className:"w-full py-3 bg-gray-900 text-white rounded-xl font-bold hover:bg-gray-800 transition-all shadow-lg hover:shadow-xl active:scale-[0.98]",children:"Done"})})]})]}):null},I1=({role:t=ct.SUPER_ADMIN})=>{const[s,r]=j.useState(""),[l,i]=j.useState(null),[o,d]=j.useState(!1),[x,u]=j.useState(!0),h="Downtown Center",[p,g]=j.useState([]),[y,f]=j.useState({});j.useEffect(()=>{(async()=>{try{u(!0);const B=await lA();g(B);const P=B.reduce((R,W)=>(R[W.id]={balance:W.balance,transactions:[],lastTransaction:W.lastTransaction},R),{});f(P)}catch(B){console.error("Failed to fetch wallets:",B)}finally{u(!1)}})()},[]);const[w,S]=j.useState(1),v=5;j.useEffect(()=>{S(1)},[s]);const N=I=>{i(I),d(!0)},A=p.filter(I=>{const B=I.name.toLowerCase().includes(s.toLowerCase())||I.id.toString().toLowerCase().includes(s.toLowerCase())||I.branch.toLowerCase().includes(s.toLowerCase()),P=t===ct.SUPER_ADMIN||I.branch===h;return B&&P}),L=w*v,M=L-v,T=A.slice(M,L),_=Math.ceil(A.length/v);return e.jsxs("div",{className:"p-6 w-full animate-slide-up relative overflow-hidden",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"Benefit Wallet Management"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Manage member wallet balances and transactions"})]}),e.jsx("div",{className:"saas-card mb-6",children:e.jsxs("div",{className:"relative w-full md:w-96 group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Qe,{className:"h-5 w-5 text-gray-400 group-focus-within:text-indigo-500 transition-colors"})}),e.jsx("input",{type:"text",className:"saas-input pl-10 transition-all duration-300 focus:scale-[1.02] focus:shadow-lg",placeholder:"Search members, IDs or branches...",value:s,onChange:I=>r(I.target.value)})]})}),e.jsx("div",{className:"hidden md:block saas-card p-0 overflow-hidden shadow-soft rounded-xl mb-6",children:e.jsx("div",{className:"saas-table-wrapper overflow-x-auto",children:e.jsxs("table",{className:"saas-table saas-table-responsive w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Member Name"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Member ID"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Branch"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Current Balance"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Last Transaction"}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Action"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:T.length>0?T.map(I=>{const B=y[I.id]||{balance:0,lastTransaction:"N/A"};return e.jsxs("tr",{className:"hover:bg-indigo-50/30 transition-all duration-300 group",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap","data-label":"Member Name",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:I.name})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap","data-label":"Member ID",children:e.jsx("div",{className:"text-sm text-gray-500",children:I.id})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap","data-label":"Branch",children:e.jsx("div",{className:"text-sm text-gray-500",children:I.branch})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap","data-label":"Current Balance",children:e.jsx("span",{className:`text-sm font-bold ${B.balance>0?"text-green-600":B.balance<0?"text-red-100":"text-gray-900"}`,children:B.balance<0?`-$${Math.abs(B.balance).toFixed(2)}`:`$${B.balance.toFixed(2)}`})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap","data-label":"Last Transaction",children:e.jsx("div",{className:"text-sm text-gray-500",children:B.lastTransaction})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right","data-label":"Action",children:e.jsxs("button",{onClick:()=>N(I),className:"inline-flex items-center gap-2 px-3 py-1.5 text-sm font-medium text-indigo-600 bg-indigo-50 rounded-lg hover:bg-indigo-100 transition-all duration-300",children:[e.jsx(da,{className:"w-4 h-4"}),"View Wallet"]})})]},I.id)}):e.jsx("tr",{children:e.jsxs("td",{colSpan:"6",className:"px-6 py-10 text-center text-gray-500 font-medium",children:['No members found matching "',s,'"']})})})]})})}),e.jsx("div",{className:"grid grid-cols-1 gap-4 md:hidden mb-6",children:T.length>0?T.map(I=>{const B=y[I.id]||{balance:0,lastTransaction:"N/A"};return e.jsx(Ga,{title:I.name,subtitle:I.id,badge:{label:B.balance<0?`-$${Math.abs(B.balance).toFixed(2)}`:`$${B.balance.toFixed(2)}`,color:B.balance>0?"emerald":B.balance<0?"red":"slate"},fields:[{label:"Branch",value:I.branch,icon:$s},{label:"Last Trans.",value:B.lastTransaction,icon:sl}],actions:[{label:"View Wallet",icon:da,variant:"primary",onClick:()=>N(I)}]},I.id)}):e.jsxs("div",{className:"bg-white p-10 text-center text-gray-500 rounded-xl shadow-sm border border-gray-100",children:['No members found matching "',s,'"']})}),A.length>v&&e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white border border-gray-100 rounded-xl shadow-sm",children:[e.jsxs("div",{className:"flex flex-1 justify-between sm:hidden",children:[e.jsx("button",{onClick:()=>S(I=>Math.max(I-1,1)),disabled:w===1,className:`relative inline-flex items-center rounded-md px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 ${w===1?"opacity-50 cursor-not-allowed":""}`,children:"Previous"}),e.jsx("button",{onClick:()=>S(I=>Math.min(I+1,_)),disabled:w===_,className:`relative ml-3 inline-flex items-center rounded-md px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 ${w===_?"opacity-50 cursor-not-allowed":""}`,children:"Next"})]}),e.jsxs("div",{className:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",e.jsx("span",{className:"font-semibold",children:M+1})," to ",e.jsx("span",{className:"font-semibold",children:Math.min(L,A.length)})," of"," ",e.jsx("span",{className:"font-semibold",children:A.length})," results"]})}),e.jsx("div",{children:e.jsxs("nav",{className:"isolate inline-flex -space-x-px rounded-md shadow-xs","aria-label":"Pagination",children:[e.jsxs("button",{onClick:()=>S(I=>Math.max(I-1,1)),disabled:w===1,className:`relative inline-flex items-center rounded-l-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 ${w===1?"opacity-50 cursor-not-allowed":""}`,children:[e.jsx("span",{className:"sr-only",children:"Previous"}),e.jsx(Wr,{className:"h-5 w-5","aria-hidden":"true"})]}),[...Array(_)].map((I,B)=>e.jsx("button",{onClick:()=>S(B+1),className:`relative inline-flex items-center px-4 py-2 text-sm font-semibold focus:z-20 transition-all ${w===B+1?"z-10 bg-indigo-600 text-white focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600":"text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:outline-offset-0"}`,children:B+1},B+1)),e.jsxs("button",{onClick:()=>S(I=>Math.min(I+1,_)),disabled:w===_,className:`relative inline-flex items-center rounded-r-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 ${w===_?"opacity-50 cursor-not-allowed":""}`,children:[e.jsx("span",{className:"sr-only",children:"Next"}),e.jsx(vs,{className:"h-5 w-5","aria-hidden":"true"})]})]})})]})]}),e.jsx(iM,{isOpen:o,onClose:()=>d(!1),memberData:l,walletData:y,setWalletData:f})]})},yw=async t=>(await we.post("/admin/staff",t)).data,jw=async()=>(await we.get("/admin/staff")).data,oM=async t=>(await we.get(`/admin/staff/${t}`)).data,cM=async t=>(await we.post("/admin/payroll",t)).data,dM=async()=>(await we.get("/admin/payroll/staff")).data,ww=async()=>(await we.get("/admin/payroll/history")).data,xM=async(t,s)=>(await we.patch(`/admin/payroll/${t}/status`,s)).data,uM=async()=>(await we.get("/admin/leave-requests")).data,hM=async(t,s)=>(await we.patch(`/admin/leave-requests/${t}/status`,{status:s})).data,Ng=async()=>(await we.get("/admin/settings/tenant")).data,kg=async t=>(await we.patch("/admin/settings/tenant",t)).data,mM=async()=>(await we.get("/admin/requests/trainers")).data,U1=async(t,s)=>(await we.patch(`/admin/requests/trainers/${t}`,{status:s})).data,Nw=async(t,s)=>(await we.patch(`/admin/staff/${t}`,s)).data,pM=async t=>(await we.delete(`/admin/staff/${t}`)).data,_p=({role:t})=>{const[s,r]=j.useState([]),[l,i]=j.useState(!0),[o,d]=j.useState(""),[x,u]=j.useState("All"),[h,p]=j.useState(!1),[g,y]=j.useState(null),[f,w]=j.useState(!1),[S,v]=j.useState({name:"",email:"",phone:"",branch:"",role:"",baseSalary:"",commission:"",status:"Pending",documents:null}),[N,A]=j.useState(!1),L=async()=>{try{i(!0);const F=t==="SUPER_ADMIN"?await nA():await mM();r(F)}catch(F){console.error("Failed to load trainer requests:",F)}finally{i(!1)}};j.useEffect(()=>{L()},[]);const M=s.find(F=>F.id===g),T=async F=>{try{t==="SUPER_ADMIN"?await L1(F,"Approved"):await U1(F,"Approved"),L()}catch(de){console.error("Failed to approve trainer:",de)}},_=async F=>{try{t==="SUPER_ADMIN"?await L1(F,"Rejected"):await U1(F,"Rejected"),L()}catch(de){console.error("Failed to reject trainer:",de)}},I=async F=>{if(F.preventDefault(),!(!S.name||!S.email||!S.phone||!S.branch))try{const de={...S,role:"TRAINER",trainerConfig:{specialization:S.role,commissionType:"percentage",commissionValue:S.commission}};g?(t==="SUPER_ADMIN"?await rA(g,de):await Nw(g,de),L()):(t==="SUPER_ADMIN"?await aA(de):await yw(de),L()),$()}catch(de){console.error("Failed to save trainer:",de),alert("Failed to save trainer: "+(de.response?.data?.message||de.message))}},B=async F=>{const de=F.target.files[0];if(de){A(!0);try{const ke=new FormData;ke.append("file",de),ke.append("upload_preset","gym_preset"),ke.append("cloud_name","dw48hcxi5");const q=await(await fetch("https://api.cloudinary.com/v1_1/dw48hcxi5/image/upload",{method:"POST",body:ke})).json();q.secure_url?v(Z=>({...Z,documents:q.secure_url})):alert("Upload failed: "+q.error?.message)}catch(ke){console.error("Upload error:",ke),alert("Error uploading file.")}finally{A(!1)}}},P=async F=>{if(window.confirm("Are you sure you want to delete this trainer application?"))try{t==="SUPER_ADMIN"?await ew(F):await pM(F),L()}catch(de){console.error("Failed to delete trainer:",de),alert("Failed to delete: "+(de.response?.data?.message||de.message))}},R=F=>{y(F.id),p(!0)},W=()=>{p(!1),setTimeout(()=>y(null),300)},H=(F=null)=>{F?(y(F.id),v({name:F.name,email:F.email,phone:F.phone,branch:F.branch,role:F.role||"",baseSalary:F.baseSalary||"",commission:F.commission||"",status:F.status})):(y(null),v({name:"",email:"",phone:"",branch:"",role:"",baseSalary:"",commission:"",status:"Pending"})),w(!0)},$=()=>{w(!1),setTimeout(()=>{y(null),v({name:"",email:"",phone:"",branch:"",role:"",baseSalary:"",commission:"",status:"Pending"})},300)},G=JSON.parse(localStorage.getItem("user"))||{},le=G.tenantName||G.branchName||"Downtown Center",Q=s.filter(F=>{const de=F.name.toLowerCase().includes(o.toLowerCase()),ke=x==="All"||F.status===x,q=t==="SUPER_ADMIN"||t==="BRANCH_ADMIN"||F.branch===le;return de&&ke&&q}),ne=F=>{switch(F){case"Approved":return"bg-green-50 text-green-700 ring-1 ring-inset ring-green-600/20";case"Rejected":return"bg-red-50 text-red-700 ring-1 ring-inset ring-red-600/20";default:return"bg-yellow-50 text-yellow-700 ring-1 ring-inset ring-yellow-600/20"}};return e.jsxs("div",{className:"p-6 w-full animate-slide-up relative overflow-hidden",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"Trainer Requests"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Review and manage new trainer applications across all branches"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 flex-1 max-w-2xl",children:[e.jsxs("div",{className:"relative flex-1 group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Qe,{className:"h-5 w-5 text-gray-400 group-focus-within:text-indigo-500 transition-colors"})}),e.jsx("input",{type:"text",placeholder:"Search by trainer name...",className:"saas-input pl-10 transition-all duration-300 focus:scale-[1.01] focus:shadow-md h-11",value:o,onChange:F=>d(F.target.value)})]}),e.jsxs("div",{className:"relative w-full sm:w-48 group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Ns,{className:"h-4 w-4 text-gray-400 group-focus-within:text-indigo-500"})}),e.jsxs("select",{className:"saas-input pl-10 bg-white cursor-pointer h-11",value:x,onChange:F=>u(F.target.value),children:[e.jsx("option",{value:"All",children:"All Statuses"}),e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"Approved",children:"Approved"}),e.jsx("option",{value:"Rejected",children:"Rejected"})]})]})]}),e.jsxs("button",{onClick:H,className:"flex items-center justify-center gap-2 px-5 py-2.5 bg-indigo-600 text-white rounded-lg font-semibold hover:bg-indigo-700 transition-all duration-300 shadow-lg shadow-indigo-200 active:scale-95 h-11",children:[e.jsx(St,{className:"w-5 h-5"}),e.jsx("span",{children:"Add Trainer"})]})]}),e.jsx("div",{className:"hidden md:block saas-card p-0 overflow-hidden shadow-soft rounded-xl mb-6",children:e.jsx("div",{className:"saas-table-wrapper overflow-x-auto",children:e.jsxs("table",{className:"saas-table saas-table-responsive w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Trainer Name"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Contact Info"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Requested Branch"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Action"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:Q.length>0?Q.map(F=>e.jsxs("tr",{className:"hover:bg-indigo-50/20 transition-all duration-300 group",children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap","data-label":"Trainer Name",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-900",children:F.name}),e.jsxs("div",{className:"text-xs text-gray-400",children:["ID: TRN-",F.id.toString().padStart(3,"0")]})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap","data-label":"Contact Info",children:[e.jsx("div",{className:"text-sm text-gray-600",children:F.email}),e.jsx("div",{className:"text-xs text-gray-400",children:F.phone})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap","data-label":"Requested Branch",children:e.jsx("div",{className:"text-sm text-gray-600",children:F.branch})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap","data-label":"Status",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${ne(F.status)}`,children:F.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center","data-label":"Action",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:()=>T(F.id),disabled:F.status!=="Pending",title:F.status==="Pending"?"Approve":`Already ${F.status}`,className:`p-1.5 text-green-600 bg-green-50 rounded-lg transition-colors ${F.status!=="Pending"?"opacity-40 cursor-not-allowed":"hover:bg-green-100"}`,children:e.jsx(ss,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>_(F.id),disabled:F.status!=="Pending",title:F.status==="Pending"?"Reject":`Already ${F.status}`,className:`p-1.5 text-red-600 bg-red-50 rounded-lg transition-colors ${F.status!=="Pending"?"opacity-40 cursor-not-allowed":"hover:bg-red-100"}`,children:e.jsx(vn,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>R(F),title:"View Details",className:"p-1.5 text-indigo-600 bg-indigo-50 rounded-lg hover:bg-indigo-100 transition-colors",children:e.jsx(da,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>H(F),title:"Edit Trainer",className:"p-1.5 text-amber-600 bg-amber-50 rounded-lg hover:bg-amber-100 transition-colors",children:e.jsx(ar,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>P(F.id),title:"Delete",className:"p-1.5 text-rose-600 bg-rose-50 rounded-lg hover:bg-rose-100 transition-colors",children:e.jsx(Ms,{className:"w-4 h-4"})})]})})]},F.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-12 text-center text-gray-500",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("div",{className:"p-3 bg-gray-50 rounded-full",children:e.jsx(Qe,{className:"w-6 h-6 text-gray-400"})}),e.jsxs("p",{className:"font-medium",children:['No results found matching "',o,'"']}),e.jsx("p",{className:"text-sm text-gray-400",children:"Try adjusting your search or filters to find what you're looking for."})]})})})})]})})}),e.jsx("div",{className:"grid grid-cols-1 gap-4 md:hidden mb-6",children:Q.length>0?Q.map(F=>e.jsx(Ga,{title:F.name,subtitle:`ID: TRN-${F.id.toString().padStart(3,"0")}`,badge:{label:F.status,color:F.status==="Approved"?"emerald":F.status==="Rejected"?"red":"amber"},fields:[{label:"Branch",value:F.branch,icon:Dr},{label:"Email",value:F.email,icon:Hr},{label:"Phone",value:F.phone,icon:qs}],actions:[{label:"View Details",icon:da,variant:"secondary",onClick:()=>R(F)},{label:"Edit",icon:ar,variant:"secondary",onClick:()=>H(F)},{label:"Delete",icon:Ms,variant:"danger",onClick:()=>P(F.id)},...F.status==="Pending"?[{label:"Approve",icon:ss,variant:"primary",onClick:()=>T(F.id)},{label:"Reject",icon:vn,variant:"danger",onClick:()=>_(F.id)}]:[]]},F.id)):e.jsxs("div",{className:"bg-white p-10 text-center text-gray-500 rounded-xl shadow-sm border border-gray-100",children:['No results found matching "',o,'"']})}),e.jsx("div",{className:"flex items-center justify-between px-4 py-3 bg-white border border-gray-100 rounded-xl shadow-sm",children:e.jsxs("div",{className:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",e.jsx("span",{className:"font-semibold",children:"1"})," to ",e.jsx("span",{className:"font-semibold",children:Q.length})," of"," ",e.jsx("span",{className:"font-semibold",children:Q.length})," results"]})}),e.jsx("div",{children:e.jsxs("nav",{className:"isolate inline-flex -space-x-px rounded-md shadow-xs",children:[e.jsx("button",{className:"relative inline-flex items-center rounded-l-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 opacity-50 cursor-not-allowed",children:e.jsx(Wr,{className:"h-5 w-5"})}),e.jsx("button",{className:"relative z-10 inline-flex items-center bg-indigo-600 px-4 py-2 text-sm font-semibold text-white",children:"1"}),e.jsx("button",{className:"relative inline-flex items-center rounded-r-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 opacity-50 cursor-not-allowed",children:e.jsx(vs,{className:"h-5 w-5"})})]})})]})}),e.jsx(at,{isOpen:h,onClose:W,title:"Trainer Profile",subtitle:M?`ID: TRN-${M.id.toString().padStart(3,"0")}`:"",children:M&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-extrabold text-gray-900 leading-tight",children:M.name}),e.jsx("div",{className:"mt-4",children:e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold shadow-sm ${ne(M.status)}`,children:M.status})})]}),e.jsx("hr",{className:"border-gray-100"}),e.jsxs("div",{className:"grid grid-cols-1 gap-y-6",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-2.5 bg-gray-50 rounded-xl",children:e.jsx(Ns,{className:"w-5 h-5 text-gray-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-1",children:"Contract Status"}),e.jsx("p",{className:"text-gray-900 font-medium",children:"New Application"})]})]}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-2.5 bg-gray-50 rounded-xl",children:e.jsx(Hr,{className:"w-5 h-5 text-gray-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-1",children:"Contact Email"}),e.jsx("p",{className:"text-gray-900 font-medium",children:M.email})]})]}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-2.5 bg-gray-50 rounded-xl",children:e.jsx(qs,{className:"w-5 h-5 text-gray-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-1",children:"Phone Number"}),e.jsx("p",{className:"text-gray-900 font-medium",children:M.phone})]})]}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-2.5 bg-gray-50 rounded-xl",children:e.jsx(Dr,{className:"w-5 h-5 text-gray-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-1",children:"Requested Branch"}),e.jsx("p",{className:"text-gray-900 font-medium",children:M.branch})]})]})]}),e.jsxs("div",{className:"pt-10 space-y-3",children:[e.jsxs("button",{onClick:()=>T(M.id),disabled:M.status!=="Pending",className:`w-full flex items-center justify-center gap-2 py-4 rounded-xl font-bold transition-all duration-300 shadow-lg ${M.status==="Pending"?"bg-green-600 text-white hover:bg-green-700 shadow-green-100 hover:scale-[1.02] active:scale-95":"bg-gray-100 text-gray-400 cursor-not-allowed shadow-none"}`,children:[e.jsx(ss,{className:"w-5 h-5"}),e.jsx("span",{children:"Approve Request"})]}),e.jsxs("button",{onClick:()=>_(M.id),disabled:M.status!=="Pending",className:`w-full flex items-center justify-center gap-2 py-4 rounded-xl font-bold transition-all duration-300 shadow-lg ${M.status==="Pending"?"bg-red-50 text-red-600 border border-red-100 hover:bg-red-100 shadow-red-50 hover:scale-[1.02] active:scale-95":"bg-gray-50 text-gray-300 cursor-not-allowed border-none shadow-none"}`,children:[e.jsx(vn,{className:"w-5 h-5"}),e.jsx("span",{children:"Reject Request"})]})]})]})}),e.jsx(at,{isOpen:f,onClose:$,title:g?"Edit Trainer":"Add New Trainer",children:e.jsxs("form",{onSubmit:I,className:"flex flex-col gap-6 p-6 pt-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-black text-indigo-600 uppercase tracking-widest mb-1",children:g?"Edit Configuration":"New Registration"}),e.jsx("p",{className:"text-xs text-gray-400 font-medium",children:"Please provide accurate trainer information"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"Trainer Name *"}),e.jsx("input",{required:!0,type:"text",className:"saas-input w-full",placeholder:"Enter full name",value:S.name||"",onChange:F=>v({...S,name:F.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"Specialization / Role *"}),e.jsx("input",{required:!0,type:"text",className:"saas-input w-full",placeholder:"e.g. Senior PT, Yoga Expert",value:S.role||"",onChange:F=>v({...S,role:F.target.value})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"Email Address *"}),e.jsx("input",{required:!0,type:"email",className:"saas-input w-full",placeholder:"example@gym.com",value:S.email||"",onChange:F=>v({...S,email:F.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"Phone Number *"}),e.jsx("input",{required:!0,type:"tel",className:"saas-input w-full",placeholder:"+1 234-567-8900",value:S.phone||"",onChange:F=>v({...S,phone:F.target.value})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"Base Salary *"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 font-bold text-gray-400",children:""}),e.jsx("input",{required:!0,type:"number",className:"saas-input w-full pl-8",placeholder:"25000",value:S.baseSalary||"",onChange:F=>v({...S,baseSalary:F.target.value})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"Commission % (PT Sharing) *"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute right-10 top-1/2 -translate-y-1/2 font-bold text-gray-400",children:"%"}),e.jsx("input",{required:!0,type:"number",className:"saas-input w-full pr-12",placeholder:"20",value:S.commission||"",onChange:F=>v({...S,commission:F.target.value})})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"Requested Branch *"}),e.jsxs("select",{required:!0,className:"saas-input w-full bg-white cursor-pointer",value:S.branch||"",onChange:F=>v({...S,branch:F.target.value}),children:[e.jsx("option",{value:"",children:"Select Branch"}),e.jsx("option",{value:"Downtown Center",children:"Downtown Center"}),e.jsx("option",{value:"Westside Gym",children:"Westside Gym"}),e.jsx("option",{value:"Eastside Fitness",children:"Eastside Fitness"}),e.jsx("option",{value:"North Point",children:"North Point"}),e.jsx("option",{value:"South Bay",children:"South Bay"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"Upload Government ID / Documents *"}),e.jsx("div",{className:"flex items-center justify-center w-full",children:e.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-xl cursor-pointer bg-gray-50 hover:bg-gray-100 transition-all",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[e.jsx(St,{className:"w-8 h-8 mb-3 text-gray-400"}),N?e.jsx("p",{className:"mb-2 text-sm text-gray-500 font-semibold",children:"Uploading..."}):S.documents?e.jsx("p",{className:"mb-2 text-sm text-green-600 font-semibold",children:"Document Uploaded Successfully"}):e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[e.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),e.jsx("p",{className:"text-xs text-gray-400",children:"PDF, PNG, JPG (MAX. 5MB)"})]})]}),e.jsx("input",{type:"file",className:"hidden",onChange:B,accept:"image/*,.pdf",disabled:N})]})})]}),g&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"Registration Status *"}),e.jsxs("select",{required:!0,className:"saas-input w-full bg-white cursor-pointer",value:S.status,onChange:F=>v({...S,status:F.target.value}),children:[e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"Approved",children:"Approved"}),e.jsx("option",{value:"Rejected",children:"Rejected"})]})]}),e.jsxs("div",{className:"pt-8 space-y-3",children:[e.jsxs("button",{type:"submit",className:"w-full flex items-center justify-center gap-2 py-4 bg-indigo-600 text-white rounded-xl font-bold transition-all duration-300 shadow-lg shadow-indigo-100 hover:bg-indigo-700 hover:scale-[1.02] active:scale-95",children:[g?e.jsx(ar,{className:"w-5 h-5"}):e.jsx(St,{className:"w-5 h-5"}),e.jsx("span",{children:g?"Save Changes":"Add Trainer"})]}),e.jsx("button",{type:"button",onClick:$,className:"w-full py-4 bg-gray-50 text-gray-600 rounded-xl font-bold transition-all duration-300 hover:bg-gray-100",children:"Cancel"})]})]})})]})},$1=({role:t})=>{const s="Downtown Center",[r,l]=j.useState([]),[i,o]=j.useState(!0),[d,x]=j.useState(""),[u,h]=j.useState("All"),[p,g]=j.useState(1),[y,f]=j.useState(null),[w,S]=j.useState(!1),v=5;j.useEffect(()=>{(async()=>{try{const B=await iA();l(B)}catch(B){console.error("Failed to fetch trainer change requests",B)}finally{o(!1)}})()},[]);const N=r.filter(I=>{const B=I.memberName.toLowerCase().includes(d.toLowerCase())||I.memberId.toLowerCase().includes(d.toLowerCase()),P=u==="All"||I.status===u,W=t==="SUPER_ADMIN"||t==="BRANCH_ADMIN"||I.branch===s;return B&&P&&W}),A=Math.ceil(N.length/v),L=N.slice((p-1)*v,p*v),M=(I,B)=>{l(P=>P.map(R=>R.id===I?{...R,status:B}:R)),console.log(`Request ${I} status updated to ${B}`)},T=I=>{f(I),S(!0)},_=I=>{switch(I){case"Approved":return"bg-green-50 text-green-600 border-green-100";case"Rejected":return"bg-rose-50 text-rose-600 border-rose-100";default:return"bg-amber-50 text-amber-600 border-amber-100"}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-6 md:p-8",children:[e.jsx("div",{className:"mb-8 flex flex-col md:flex-row md:items-center justify-between gap-4",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Trainer Change Requests"}),e.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Review and manage member requests for trainer reassignment"})]})}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 mb-6",children:[e.jsxs("div",{className:"p-4 sm:p-6 border-b border-slate-100 flex flex-col md:flex-row gap-4 items-center justify-between",children:[e.jsxs("div",{className:"relative w-full md:w-96 group",children:[e.jsx(Qe,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 transition-colors group-hover:text-violet-500",size:18}),e.jsx("input",{type:"text",className:"pl-11 h-11 w-full rounded-xl border-2 border-slate-200 focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 transition-all text-sm",placeholder:"Search by member name or ID...",value:d,onChange:I=>x(I.target.value)})]}),e.jsx("div",{className:"w-full md:w-48",children:e.jsx(ms,{options:["All","Pending","Approved","Rejected"],value:u,onChange:h,placeholder:"All Status",icon:Ns})})]}),e.jsx("div",{className:"saas-table-wrapper hidden md:block",children:e.jsxs("table",{className:"saas-table w-full",children:[e.jsx("thead",{className:"bg-slate-50/50 border-b border-slate-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Member"}),e.jsx("th",{className:"px-6 py-4 text-left text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Requested Change"}),e.jsx("th",{className:"px-6 py-4 text-left text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-6 py-4 text-left text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-right text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-slate-100 text-sm",children:L.length>0?L.map(I=>e.jsxs("tr",{className:"group hover:bg-slate-50/50 transition-all",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-violet-100 text-violet-600 flex items-center justify-center font-bold text-xs uppercase shadow-sm",children:I.memberName.charAt(0)}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-slate-900 group-hover:text-violet-600 transition-colors",children:I.memberName}),e.jsx("div",{className:"text-[10px] font-mono text-slate-400 tracking-tight",children:I.memberId})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsx("span",{className:"text-slate-400",children:"From:"}),e.jsx("span",{className:"font-medium text-slate-700",children:I.currentTrainer})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsx("span",{className:"text-slate-400",children:"To:"}),e.jsx("span",{className:"font-bold text-violet-600",children:I.newTrainer})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2 text-slate-500",children:[e.jsx(Ye,{size:14,className:"text-slate-300"}),e.jsx("span",{className:"text-xs font-medium",children:I.date})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-[10px] font-extrabold uppercase tracking-widest border border-dashed ${_(I.status)} shadow-sm`,children:I.status})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[I.status==="Pending"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>M(I.id,"Approved"),className:"w-8 h-8 flex items-center justify-center text-green-500 hover:bg-green-50 rounded-lg transition-all",title:"Approve",children:e.jsx(ss,{size:18})}),e.jsx("button",{onClick:()=>M(I.id,"Rejected"),className:"w-8 h-8 flex items-center justify-center text-rose-500 hover:bg-rose-50 rounded-lg transition-all",title:"Reject",children:e.jsx(vn,{size:18})})]}),e.jsx("button",{onClick:()=>T(I),className:"w-8 h-8 flex items-center justify-center text-slate-400 hover:text-violet-600 hover:bg-violet-50 rounded-lg transition-all",children:e.jsx(da,{size:18})})]})})]},I.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-12 text-center text-slate-400",children:"No requests found matching your filters."})})})]})}),e.jsx("div",{className:"md:hidden space-y-4 p-4",children:L.length>0?L.map(I=>e.jsx(Ga,{title:I.memberName,subtitle:I.memberId,status:I.status,statusColor:I.status==="Approved"?"emerald":I.status==="Rejected"?"rose":"amber",icon:rt,iconColor:"bg-violet-100 text-violet-600",fields:[{label:"Current Trainer",value:I.currentTrainer},{label:"Requested Trainer",value:I.newTrainer,highlight:!0},{label:"Date",value:I.date},{label:"Reason",value:I.reason}],actions:[{label:"View",icon:da,onClick:()=>T(I),variant:"secondary"},...I.status==="Pending"?[{label:"Approve",icon:ss,onClick:()=>M(I.id,"Approved"),variant:"primary",className:"bg-green-600 hover:bg-green-700 text-white"},{label:"Reject",icon:vn,onClick:()=>M(I.id,"Rejected"),variant:"danger",className:"bg-rose-100 text-rose-600 hover:bg-rose-200"}]:[]]},I.id)):e.jsx("div",{className:"text-center py-12 text-slate-400",children:e.jsx("p",{children:"No requests found."})})}),A>1&&e.jsxs("div",{className:"px-6 py-4 border-t border-slate-100 flex items-center justify-between bg-slate-50/20",children:[e.jsxs("p",{className:"text-xs text-slate-500",children:["Showing ",e.jsx("span",{className:"font-bold text-slate-900",children:(p-1)*v+1})," to ",e.jsx("span",{className:"font-bold text-slate-900",children:Math.min(p*v,N.length)})," of ",e.jsx("span",{className:"font-bold text-slate-900",children:N.length})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{disabled:p===1,onClick:()=>g(I=>I-1),className:"p-2 border border-slate-200 rounded-lg hover:bg-white disabled:opacity-40 transition-all text-slate-500 shadow-sm",children:e.jsx(Wr,{size:16})}),e.jsx("button",{disabled:p===A,onClick:()=>g(I=>I+1),className:"p-2 border border-slate-200 rounded-lg hover:bg-white disabled:opacity-40 transition-all text-slate-500 shadow-sm",children:e.jsx(vs,{size:16})})]})]})]}),e.jsx(at,{isOpen:w,onClose:()=>S(!1),title:"Request Details",subtitle:y?.memberId,children:y&&e.jsxs("div",{className:"space-y-8 fade-in",children:[e.jsxs("div",{className:`p-4 rounded-2xl border-2 border-dashed flex items-center justify-between ${_(y.status)}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-2 h-2 rounded-full animate-pulse ${y.status==="Approved"?"bg-green-500":y.status==="Rejected"?"bg-rose-500":"bg-amber-500"}`}),e.jsx("span",{className:"text-xs font-black uppercase tracking-[0.2em]",children:y.status})]}),e.jsx("span",{className:"text-[10px] font-bold opacity-60 uppercase",children:y.date})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"Current Trainer"}),e.jsx("p",{className:"font-bold text-slate-700",children:y.currentTrainer})]}),e.jsxs("div",{className:"p-4 bg-violet-50 rounded-2xl border border-violet-100",children:[e.jsx("p",{className:"text-[10px] font-black text-violet-400 uppercase tracking-widest mb-2",children:"Requested Trainer"}),e.jsx("p",{className:"font-black text-violet-600",children:y.newTrainer})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4 text-slate-400",children:[e.jsx(sr,{size:16}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Member Reason"})]}),e.jsxs("p",{className:"text-sm font-medium text-slate-600 leading-relaxed italic",children:['"',y.reason,'"']})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-xl",children:[e.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Branch"}),e.jsx("span",{className:"text-xs font-bold text-slate-700",children:y.branch})]}),y.status==="Pending"&&e.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4",children:[e.jsx("button",{onClick:()=>{M(y.id,"Rejected"),S(!1)},className:"py-4 bg-white border-2 border-slate-100 text-slate-500 rounded-2xl font-black uppercase tracking-widest text-[10px] hover:bg-slate-50 hover:text-rose-500 transition-all",children:"Reject"}),e.jsx("button",{onClick:()=>{M(y.id,"Approved"),S(!1)},className:"py-4 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-2xl font-black uppercase tracking-widest text-[10px] shadow-xl shadow-violet-200 hover:scale-105 transition-all",children:"Approve"})]})]})})]})},q1=({role:t=ct.SUPER_ADMIN})=>{const s=Gt(),[r,l]=j.useState([]),[i,o]=j.useState(!0),[d,x]=j.useState(""),[u,h]=j.useState("January"),p=new Date().getFullYear(),[g,y]=j.useState(p.toString()),[f,w]=j.useState(0),[S,v]=j.useState(0),[N,A]=j.useState("Pending");j.useEffect(()=>{(async()=>{try{const R=await dM();l(R),console.log("Loaded Staff List:",R)}catch(R){console.error("Error loading staff for payroll:",R)}finally{o(!1)}})()},[]);const L=r.find(P=>P.id===parseInt(d)),T=(()=>{if(!L)return 0;const P=L.baseSalary;return P?Number(P):0})(),_=Number(T)+Number(f)-Number(S),I=async P=>{if(P.preventDefault(),!d){alert("Please select a staff member");return}const R={staffId:d,month:u,year:g,amount:_,status:N};try{await cM(R),alert("Payroll created successfully!"),s("/superadmin/payroll/history")}catch(W){console.error("Error creating payroll:",W),alert("Failed to create payroll: "+(W.response?.data?.message||W.message))}},B=()=>{s(-1)};return e.jsx("div",{className:"bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6 pb-12 min-h-screen",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-8 p-6 bg-white rounded-2xl shadow-xl border border-slate-100 flex justify-between items-center overflow-hidden relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500/5 to-fuchsia-500/5"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-black bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent mb-1",children:"Create Payroll"}),e.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Assign salary, incentives, deductions, and mark as paid"})]}),e.jsx("div",{className:"hidden sm:flex w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 items-center justify-center text-white shadow-lg shadow-violet-200",children:e.jsx(wS,{size:28})})]}),e.jsx("div",{className:"bg-white rounded-3xl shadow-2xl border border-slate-100 overflow-hidden relative",children:e.jsxs("form",{onSubmit:I,className:"p-8 space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black uppercase tracking-wider text-slate-400 ml-1",children:"Select Staff"}),e.jsxs("div",{className:"relative group",children:[e.jsx(Et,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-violet-500 z-10"}),e.jsxs("select",{required:!0,disabled:i,value:d,onChange:P=>x(P.target.value),className:"w-full pl-12 pr-4 py-3.5 bg-slate-50 border-2 border-slate-100 rounded-2xl text-sm font-bold text-slate-700 focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all duration-300 appearance-none cursor-pointer",children:[e.jsx("option",{value:"",children:i?"Loading...":"Choose Employee"}),r.map(P=>e.jsxs("option",{value:P.id,children:[P.name," (",P.role,")"]},P.id))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black uppercase tracking-wider text-slate-400 ml-1",children:"Month"}),e.jsxs("div",{className:"relative group",children:[e.jsx(Ye,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-violet-500 z-10"}),e.jsx("select",{value:u,onChange:P=>h(P.target.value),className:"w-full pl-12 pr-4 py-3.5 bg-slate-50 border-2 border-slate-100 rounded-2xl text-sm font-bold text-slate-700 focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all duration-300 appearance-none cursor-pointer",children:["January","February","March","April","May","June","July","August","September","October","November","December"].map(P=>e.jsx("option",{value:P,children:P},P))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black uppercase tracking-wider text-slate-400 ml-1",children:"Year"}),e.jsxs("div",{className:"relative group",children:[e.jsx(Ye,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-violet-500 z-10"}),e.jsx("select",{value:g,onChange:P=>y(P.target.value),className:"w-full pl-12 pr-4 py-3.5 bg-slate-50 border-2 border-slate-100 rounded-2xl text-sm font-bold text-slate-700 focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all duration-300 appearance-none cursor-pointer",children:[2024,2025,2026,2027].map(P=>e.jsx("option",{value:P.toString(),children:P},P))})]})]})]}),e.jsxs("div",{className:"bg-slate-50 rounded-3xl p-8 border border-slate-100",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(ca,{className:"text-violet-600",size:20}),e.jsx("h2",{className:"text-sm font-black text-slate-800 tracking-tight uppercase",children:"Salary Calculation"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 ml-1",children:"Base Salary"}),e.jsxs("div",{className:"p-4 bg-white border-2 border-slate-100 rounded-2xl text-lg font-black text-slate-900 shadow-inner",children:["",Number(T).toLocaleString()]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 ml-1",children:"Incentives"}),e.jsxs("div",{className:"relative group",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-emerald-600 font-black",children:"+"}),e.jsx("input",{type:"number",value:f,onChange:P=>w(P.target.value),className:"w-full pl-12 pr-4 py-4 bg-white border-2 border-slate-100 rounded-2xl text-lg font-black text-emerald-600 focus:outline-none focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/10 transition-all duration-300 shadow-sm"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 ml-1",children:"Deductions"}),e.jsxs("div",{className:"relative group",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-red-600 font-black",children:"-"}),e.jsx("input",{type:"number",value:S,onChange:P=>v(P.target.value),className:"w-full pl-12 pr-4 py-4 bg-white border-2 border-slate-100 rounded-2xl text-lg font-black text-red-600 focus:outline-none focus:border-red-500 focus:ring-4 focus:ring-red-500/10 transition-all duration-300 shadow-sm"})]})]})]}),e.jsxs("div",{className:"mt-8 pt-8 border-t border-slate-200 flex flex-col sm:flex-row justify-between items-center gap-6",children:[e.jsxs("div",{className:"flex flex-col items-center sm:items-start",children:[e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 mb-1",children:"Final Net Salary"}),e.jsxs("span",{className:"text-4xl font-black text-violet-600 tracking-tighter shadow-violet-100",children:["",_.toLocaleString()]})]}),e.jsxs("div",{className:"flex items-center gap-4 bg-white p-2 border-2 border-slate-100 rounded-2xl shadow-sm",children:[e.jsxs("button",{type:"button",onClick:()=>A("Paid"),className:`px-6 py-3 rounded-xl text-xs font-black transition-all duration-300 flex items-center gap-2 ${N==="Paid"?"bg-emerald-500 text-white shadow-lg shadow-emerald-200":"text-slate-500 hover:bg-slate-50"}`,children:[e.jsx(ss,{size:16})," PAID"]}),e.jsxs("button",{type:"button",onClick:()=>A("Pending"),className:`px-6 py-3 rounded-xl text-xs font-black transition-all duration-300 flex items-center gap-2 ${N==="Pending"?"bg-amber-400 text-amber-950 shadow-lg shadow-amber-100":"text-slate-500 hover:bg-slate-50"}`,children:[e.jsx(Je,{size:16})," PENDING"]})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-4",children:[e.jsxs("button",{type:"submit",className:"flex-1 py-4 bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 text-white rounded-2xl font-black text-lg shadow-xl shadow-violet-200 hover:scale-[1.02] active:scale-95 transition-all duration-300 flex items-center justify-center gap-3",children:[e.jsx(ss,{size:24})," Confirm & Create Payroll"]}),e.jsxs("button",{type:"button",onClick:B,className:"px-10 py-4 bg-white text-slate-500 border-2 border-slate-100 rounded-2xl font-black text-lg hover:bg-slate-50 transition-all duration-300 flex items-center justify-center gap-3",children:[e.jsx(vn,{size:24})," Cancel"]})]})]})})]})})},H1=()=>{const[t,s]=j.useState(""),[r,l]=j.useState(""),[i,o]=j.useState(null),[d,x]=j.useState(!1),[u,h]=j.useState([]),[p,g]=j.useState(!0);j.useEffect(()=>{(async()=>{try{const N=await ww();h(N)}catch(N){console.error("Error loading payroll history:",N)}finally{g(!1)}})()},[]);const y=u.filter(v=>{const N=v.staffName?.toLowerCase().includes(t.toLowerCase()),A=r===""||v.status===r;return N&&A}),f=v=>{o(v),x(!0)},w=()=>{x(!1),setTimeout(()=>o(null),300)},S=["","January","February","March","April","May","June","July","August","September","October","November","December"];return e.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6 pb-12 min-h-screen font-sans",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 relative max-w-7xl mx-auto",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6",children:e.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent mb-1 flex items-center gap-2",children:[e.jsx(er,{className:"text-violet-600",size:24}),"Payroll History"]}),e.jsx("p",{className:"text-slate-600 text-xs sm:text-sm",children:"View and manage employee payment history"})]})})})]}),e.jsx("div",{className:"mb-6 bg-white/60 backdrop-blur-md rounded-2xl shadow-lg border border-white/50 p-4 sm:p-5 max-w-7xl mx-auto",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"md:col-span-2 relative group",children:[e.jsx(Qe,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 transition-all duration-300"}),e.jsx("input",{type:"text",placeholder:"Search by name...",value:t,onChange:v=>s(v.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border-2 border-slate-100 rounded-xl text-sm font-bold text-slate-700 focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all duration-300 hover:border-slate-200 shadow-sm"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Ns,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 z-10"}),e.jsxs("select",{value:r,onChange:v=>l(v.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border-2 border-slate-100 rounded-xl text-sm font-bold text-slate-700 focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all duration-300 appearance-none cursor-pointer hover:border-slate-200 shadow-sm",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"Paid",children:"Paid"}),e.jsx("option",{value:"Pending",children:"Pending"})]})]}),e.jsxs("button",{className:"flex items-center justify-center gap-2 py-3 bg-slate-900 text-white rounded-xl text-sm font-black hover:bg-slate-800 transition-all duration-300 shadow-lg shadow-slate-200",children:[e.jsx(Js,{size:18})," Export Data"]})]})}),e.jsx("div",{className:"grid grid-cols-1 gap-4 md:hidden mb-6 max-w-7xl mx-auto",children:p?e.jsx("div",{className:"text-center py-10 font-bold text-slate-400 tracking-widest uppercase",children:"Loading History..."}):y.length===0?e.jsx("div",{className:"text-center py-10 font-bold text-slate-400 tracking-widest uppercase",children:"No records found"}):y.map(v=>e.jsx(Ga,{title:v.staffName,subtitle:`${S[v.month]} ${v.year}`,badge:{label:v.status,color:v.status==="Paid"?"emerald":"amber"},fields:[{label:"Net Pay",value:`${Number(v.amount).toLocaleString()}`,icon:yn},{label:"Paid On",value:v.status==="Paid"?"Processed":"-",icon:Ye}],actions:[{label:"View Details",icon:vs,variant:"secondary",onClick:()=>f(v)}]},v.id))}),e.jsx("div",{className:"hidden md:block bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden max-w-7xl mx-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50 border-b border-slate-100",children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-black uppercase tracking-widest text-slate-400",children:"Employee"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-black uppercase tracking-widest text-slate-400",children:"Month"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-black uppercase tracking-widest text-slate-400",children:"Net Pay"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-black uppercase tracking-widest text-slate-400",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-black uppercase tracking-widest text-slate-400",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:p?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-10 text-center font-bold text-slate-400 tracking-widest uppercase",children:"Loading History..."})}):y.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-10 text-center font-bold text-slate-400 tracking-widest uppercase",children:"No records found"})}):y.map(v=>e.jsxs("tr",{className:"group hover:bg-slate-50/50 transition-colors cursor-pointer",onClick:()=>f(v),children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-violet-100 flex items-center justify-center text-violet-600 font-bold border border-violet-200",children:v.staffName?.charAt(0)}),e.jsx("span",{className:"text-sm font-black text-slate-900",children:v.staffName})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:"text-sm font-bold text-slate-500",children:[S[v.month]," ",v.year]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:"text-sm font-black text-slate-900",children:["",Number(v.amount).toLocaleString()]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1.5 rounded-lg text-xs font-black uppercase tracking-widest ${v.status==="Paid"?"bg-emerald-50 text-emerald-600":"bg-amber-50 text-amber-600"}`,children:[v.status==="Paid"?e.jsx(ss,{size:12}):e.jsx(Je,{size:12}),v.status]})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsx("button",{onClick:N=>{N.stopPropagation(),f(v)},className:"p-2 bg-slate-50 text-slate-400 hover:text-violet-600 hover:bg-violet-50 rounded-xl transition-all duration-300",children:e.jsx(vs,{size:18})})})]},v.id))})]})}),e.jsx(at,{isOpen:d,onClose:w,title:"Payroll Details",subtitle:i?`${i.staffName} - ${S[i.month]} ${i.year}`:"",children:i&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-gradient-to-br from-violet-600 via-purple-600 to-fuchsia-600 p-6 rounded-2xl text-white shadow-xl",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-white/20 flex items-center justify-center text-3xl font-black border border-white/30",children:i.staffName?.charAt(0)}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-black tracking-tight",children:i.staffName}),e.jsxs("div",{className:"text-violet-100 text-sm font-medium",children:[S[i.month]," ",i.year," History"]})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:`px-4 py-1.5 rounded-xl text-xs font-black shadow-lg ${i.status==="Paid"?"bg-emerald-400 text-emerald-950":"bg-amber-400 text-amber-950"}`,children:i.status.toUpperCase()})})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex justify-between items-center pt-6",children:[e.jsx("span",{className:"text-lg font-black text-slate-900 uppercase tracking-widest",children:"Net Payout"}),e.jsxs("span",{className:"text-3xl font-black text-violet-600",children:["",Number(i.amount).toLocaleString()]})]})}),e.jsx("div",{className:"pt-6",children:e.jsx("button",{onClick:w,className:"w-full py-4 px-6 bg-slate-900 text-white rounded-2xl font-black text-lg shadow-xl shadow-slate-200 hover:scale-[1.02] active:scale-95 transition-all",children:"Close Details"})})]})})]})},fM=()=>{const t=[{label:"Total Products",value:"3",icon:Y0,color:"violet",trend:"+12%"},{label:"Total Orders",value:"10",icon:Ec,color:"emerald",trend:"+5%"},{label:"Stock Value",value:"1,25,000",icon:Os,color:"blue",trend:"+25k"},{label:"Total Sold",value:"50",icon:ll,color:"orange",trend:"+15"}];return e.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6 pb-12 min-h-screen",children:[e.jsxs("div",{className:"mb-8 relative p-6 bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500/5 to-fuchsia-500/5"}),e.jsx("div",{className:"relative z-10 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl sm:text-3xl font-black bg-gradient-to-r from-slate-900 to-slate-600 bg-clip-text text-transparent flex items-center gap-2",children:[e.jsx(gd,{className:"text-slate-800",size:28}),"Store Dashboard"]}),e.jsx("p",{className:"text-slate-500 text-sm font-medium mt-1",children:"Overview of products, orders, and inventory"})]})})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-8",children:t.map((s,r)=>e.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-xl border border-slate-100 hover:scale-105 hover:-translate-y-1 transition-all duration-300 relative overflow-hidden group",children:[e.jsx("div",{className:`absolute top-0 right-0 p-4 opacity-10 group-hover:scale-110 transition-transform duration-500 text-${s.color}-600`,children:e.jsx(s.icon,{size:64})}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-2xl bg-${s.color}-100 flex items-center justify-center text-${s.color}-600 border border-${s.color}-200`,children:e.jsx(s.icon,{size:24})}),e.jsx("span",{className:"text-[10px] font-black text-emerald-500 bg-emerald-50 px-2 py-1 rounded-lg",children:s.trend})]}),e.jsx("div",{className:"text-slate-400 text-xs font-black uppercase tracking-widest mb-1",children:s.label}),e.jsx("div",{className:"text-3xl font-black text-slate-900",children:s.value})]})]},r))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2 px-1",children:[e.jsxs("div",{className:"flex items-center gap-2 text-lg font-black text-slate-800 uppercase tracking-tight",children:[e.jsx(Ks,{className:"text-violet-600",size:20}),"Recent Sales Activity"]}),e.jsx("button",{className:"text-xs font-black text-violet-600 hover:underline",children:"View All Orders"})]}),[1,2,3].map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/60 backdrop-blur-sm border border-white rounded-2xl shadow-md hover:shadow-lg transition-all",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center text-slate-400",children:e.jsx(Ec,{size:18})}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm font-black text-slate-900",children:["Order #102",s]}),e.jsx("div",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-widest leading-none",children:"2 items  4,500"})]})]}),e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsx("span",{className:"text-[10px] font-black text-emerald-600 mb-0.5 uppercase tracking-widest",children:"Completed"}),e.jsx("span",{className:"text-[8px] text-slate-400 font-medium",children:"10 mins ago"})]})]},s))]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2 text-lg font-black text-slate-800 uppercase tracking-tight px-1 mb-2",children:[e.jsx(Aj,{className:"text-orange-500",size:20}),"Low Stock Alert"]}),e.jsxs("div",{className:"bg-white/40 backdrop-blur-sm rounded-3xl border border-white p-6 shadow-xl space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-2xl border border-red-100",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-white flex items-center justify-center text-red-600 font-black text-xs",children:"DB"}),e.jsx("span",{className:"text-xs font-black text-red-950 uppercase tracking-tight",children:"Dumbbells..."})]}),e.jsx("span",{className:"text-[10px] font-black text-red-600 px-2 py-1 bg-white rounded-lg",children:"10 left"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-orange-50 rounded-2xl border border-orange-100",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-white flex items-center justify-center text-orange-600 font-black text-xs",children:"YM"}),e.jsx("span",{className:"text-xs font-black text-orange-950 uppercase tracking-tight",children:"Yoga Mat..."})]}),e.jsx("span",{className:"text-[10px] font-black text-orange-600 px-2 py-1 bg-white rounded-lg",children:"30 left"})]})]})]})]})]})},kw=({isOpen:t,onClose:s,product:r,mode:l="add",onSubmit:i})=>{const[o,d]=j.useState({name:"",sku:"",category:"Supplements",price:"",stock:"",status:"Active",image:""});j.useEffect(()=>{d(r&&l==="edit"?{...r,sku:r.sku||`PRD-00${r.id}`}:{name:"",sku:"",category:"Supplements",price:"",stock:"",status:"Active",image:""})},[r,l,t]);const x=async h=>{h.preventDefault(),i&&await i(o),s()},u=h=>{const p=h.target.files[0];if(p){const g=new FileReader;g.onloadend=()=>{d({...o,image:g.result})},g.readAsDataURL(p)}};return t?e.jsx("div",{className:"fixed inset-0 z-50 overflow-hidden",role:"dialog","aria-modal":"true",children:e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-slate-900/40 backdrop-blur-[2px] transition-opacity duration-300 opacity-100",onClick:s}),e.jsx("div",{className:"fixed inset-y-0 right-0 flex max-w-full pl-0 sm:pl-10",children:e.jsx("div",{className:"relative w-screen sm:max-w-[400px] transform transition-transform duration-300 ease-in-out shadow-2xl translate-x-0",children:e.jsxs("div",{className:"flex h-full flex-col bg-white overflow-y-auto shadow-2xl",children:[e.jsxs("div",{className:"px-6 py-8 bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white relative",children:[e.jsx("button",{onClick:s,className:"absolute top-4 right-4 p-2 rounded-xl bg-white/10 text-white hover:bg-white/20 transition-all",children:e.jsx(wl,{className:"h-6 w-6"})}),e.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-violet-500/20 flex items-center justify-center border border-violet-500/30 text-violet-400",children:e.jsx(Y0,{size:24})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-black tracking-tight",children:l==="edit"?"Edit Product":"Add New Product"}),e.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-widest mt-1",children:l==="edit"?"Update Details":"Store Inventory"})]})]})]}),e.jsxs("form",{onSubmit:x,className:"flex-1 p-6 space-y-6",children:[e.jsx("div",{className:"space-y-1.5 flex flex-col items-center",children:e.jsxs("label",{className:"w-24 h-24 rounded-2xl bg-slate-50 border-2 border-dashed border-slate-200 flex flex-col items-center justify-center cursor-pointer hover:border-violet-500 hover:bg-violet-50 transition-all duration-300 relative overflow-hidden group",children:[o.image?e.jsx("img",{src:o.image,alt:"Product",className:"w-full h-full object-cover"}):e.jsxs(e.Fragment,{children:[e.jsx(PS,{className:"text-slate-400 group-hover:text-violet-500 transition-colors mb-1",size:24}),e.jsx("span",{className:"text-[10px] font-bold text-slate-500 group-hover:text-violet-600 transition-colors",children:"Add Photo"})]}),e.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx("span",{className:"text-[10px] text-white font-bold uppercase tracking-wider",children:"Change"})}),e.jsx("input",{type:"file",accept:"image/*",onChange:u,className:"hidden"})]})}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 ml-1",children:"Product Name"}),e.jsx("input",{required:!0,type:"text",value:o.name,onChange:h=>d({...o,name:h.target.value}),placeholder:"e.g. Protein Powder",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-100 rounded-xl text-sm font-bold text-slate-700 focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all duration-300"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 ml-1",children:"SKU Code"}),e.jsx("input",{required:!0,type:"text",value:o.sku,onChange:h=>d({...o,sku:h.target.value}),placeholder:"SKU001",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-100 rounded-xl text-sm font-bold text-slate-700 focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all duration-300 uppercase"})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 ml-1",children:"Category"}),e.jsxs("select",{value:o.category,onChange:h=>d({...o,category:h.target.value}),className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-100 rounded-xl text-sm font-bold text-slate-700 focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all duration-300 cursor-pointer",children:[e.jsx("option",{value:"Supplements",children:"Supplements"}),e.jsx("option",{value:"Accessories",children:"Accessories"}),e.jsx("option",{value:"Equipment",children:"Equipment"}),e.jsx("option",{value:"Apparel",children:"Apparel"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 ml-1",children:"Price ()"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 font-bold",children:""}),e.jsx("input",{required:!0,type:"number",value:o.price,onChange:h=>d({...o,price:h.target.value}),className:"w-full pl-8 pr-4 py-3 bg-slate-50 border-2 border-slate-100 rounded-xl text-sm font-bold text-slate-700 focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all duration-300"})]})]}),e.jsxs("div",{className:"space-y-1.5 group",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 ml-1",children:"Stock Qty"}),e.jsx("input",{required:!0,type:"number",value:o.stock,onChange:h=>d({...o,stock:h.target.value}),className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-100 rounded-xl text-sm font-bold text-slate-700 focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all duration-300"}),e.jsx("p",{className:"text-[9px] text-slate-400 font-bold italic ml-1 select-none",children:"* Alert shown when stock is below 10 units."})]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 ml-1",children:"Status"}),e.jsxs("div",{className:"flex gap-4 p-1.5 bg-slate-100 rounded-2xl border border-slate-200",children:[e.jsxs("button",{type:"button",onClick:()=>d({...o,status:"Active"}),className:`flex-1 flex items-center justify-center gap-2 py-2.5 rounded-xl text-xs font-black transition-all ${o.status==="Active"?"bg-white text-emerald-600 shadow-md ring-1 ring-slate-200":"text-slate-500 hover:text-slate-700"}`,children:[e.jsx(ss,{size:14})," ACTIVE"]}),e.jsxs("button",{type:"button",onClick:()=>d({...o,status:"Inactive"}),className:`flex-1 flex items-center justify-center gap-2 py-2.5 rounded-xl text-xs font-black transition-all ${o.status==="Inactive"?"bg-white text-red-600 shadow-md ring-1 ring-slate-200":"text-slate-500 hover:text-slate-700"}`,children:[e.jsx(vn,{size:14})," INACTIVE"]})]})]}),e.jsxs("div",{className:"pt-6 flex flex-col gap-3",children:[e.jsx("button",{type:"submit",className:"w-full py-4 bg-slate-900 text-white rounded-2xl font-black text-sm shadow-xl shadow-slate-200 hover:bg-slate-800 transition-all",children:l==="edit"?"Update Product":"Add Product"}),e.jsx("button",{type:"button",onClick:s,className:"w-full py-4 bg-white text-slate-500 border-2 border-slate-100 rounded-2xl font-black text-sm hover:bg-slate-50 transition-all",children:"Cancel"})]})]})]})})})]})}):null},gM=[{id:1,name:"Protein Powder",sku:"PR001",category:"Supplements",price:2500,stock:50,status:"Active"},{id:2,name:"Yoga Mat",sku:"YM002",category:"Accessories",price:1200,stock:30,status:"Active"},{id:3,name:"Dumbbells Set",sku:"DB003",category:"Equipment",price:5e3,stock:10,status:"Inactive"}],bM=()=>{const[t,s]=j.useState(""),[r,l]=j.useState(""),[i,o]=j.useState(!1),[d,x]=j.useState("add"),[u,h]=j.useState(null),p=gM.filter(w=>{const S=w.name.toLowerCase().includes(t.toLowerCase())||w.sku.toLowerCase().includes(t.toLowerCase()),v=r===""||w.category===r;return S&&v}),g=w=>{h(w),x("edit"),o(!0)},y=()=>{h(null),x("add"),o(!0)},f=w=>{console.log("Delete Product",w)};return e.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6 pb-12 min-h-screen",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl sm:text-3xl font-black bg-gradient-to-r from-slate-900 to-slate-600 bg-clip-text text-transparent flex items-center gap-3",children:[e.jsx(Y0,{className:"text-slate-800",size:28}),"Product Inventory"]}),e.jsx("p",{className:"text-slate-500 text-xs sm:text-sm font-medium mt-1",children:"Manage your store products and stock levels"})]}),e.jsxs("button",{onClick:y,className:"w-full sm:w-auto flex items-center justify-center gap-2 px-6 py-3 bg-slate-900 text-white rounded-xl text-sm font-black shadow-xl shadow-slate-200 hover:scale-105 active:scale-95 transition-all",children:[e.jsx(St,{size:18})," Add New Product"]})]}),e.jsx("div",{className:"mb-6 bg-white/60 backdrop-blur-md rounded-2xl shadow-lg border border-slate-100 p-4 sm:p-5",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"md:col-span-2 relative group",children:[e.jsx(Qe,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-slate-900 transition-all"}),e.jsx("input",{type:"text",placeholder:"Search by name or SKU...",value:t,onChange:w=>s(w.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border-2 border-slate-100 rounded-xl text-sm font-bold text-slate-700 focus:outline-none focus:border-slate-900 focus:ring-4 focus:ring-slate-900/5 transition-all"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Ns,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"}),e.jsxs("select",{value:r,onChange:w=>l(w.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border-2 border-slate-100 rounded-xl text-sm font-bold text-slate-700 focus:outline-none focus:border-slate-900 focus:ring-4 focus:ring-slate-900/5 transition-all appearance-none cursor-pointer",children:[e.jsx("option",{value:"",children:"All Categories"}),e.jsx("option",{value:"Supplements",children:"Supplements"}),e.jsx("option",{value:"Accessories",children:"Accessories"}),e.jsx("option",{value:"Equipment",children:"Equipment"})]})]})]})}),e.jsx("div",{className:"hidden md:block bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50 border-b border-slate-100 text-slate-400",children:[e.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black uppercase tracking-widest",children:"Product"}),e.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black uppercase tracking-widest",children:"SKU"}),e.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black uppercase tracking-widest",children:"Category"}),e.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black uppercase tracking-widest",children:"Price"}),e.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black uppercase tracking-widest",children:"Stock"}),e.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black uppercase tracking-widest",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black uppercase tracking-widest",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:p.length>0?p.map(w=>e.jsxs("tr",{className:"group hover:bg-slate-50/50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-100 flex items-center justify-center text-slate-600 border border-slate-200",children:w.name.charAt(0)}),e.jsx("span",{className:"text-sm font-black text-slate-900",children:w.name})]})}),e.jsx("td",{className:"px-6 py-4 text-sm font-bold text-slate-500 uppercase",children:w.sku}),e.jsx("td",{className:"px-6 py-4 text-sm font-bold text-slate-500",children:w.category}),e.jsxs("td",{className:"px-6 py-4 text-sm font-black text-slate-900",children:["",w.price.toLocaleString()]}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("span",{className:`text-sm font-black ${w.stock<=10?"text-orange-600":"text-slate-900"}`,children:[w.stock," Units"]}),e.jsx("span",{className:`text-[8px] font-black uppercase tracking-wider px-2 py-0.5 rounded-full w-fit ${w.stock<=10?"bg-orange-50 text-orange-600 border border-orange-100":"bg-emerald-50 text-emerald-600 border border-emerald-100"}`,children:w.stock<=10?"Low Stock":"In Stock"})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`inline-flex px-3 py-1 rounded-lg text-[10px] font-black uppercase tracking-widest ${w.status==="Active"?"bg-emerald-50 text-emerald-600":"bg-red-50 text-red-600"}`,children:w.status})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>g(w),className:"p-2 bg-slate-50 text-slate-400 hover:text-violet-600 hover:bg-violet-50 rounded-xl transition-all",children:e.jsx(ar,{size:16})}),e.jsx("button",{onClick:()=>f(w.id),className:"p-2 bg-slate-50 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-xl transition-all",children:e.jsx(Ms,{size:16})})]})})]},w.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"px-6 py-12 text-center text-slate-400 font-bold italic",children:"No products found"})})})]})}),e.jsx("div",{className:"md:hidden space-y-4",children:p.map(w=>e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-slate-100 p-5 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-100 flex items-center justify-center text-slate-600",children:w.name.charAt(0)}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-black text-slate-900",children:w.name}),e.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:w.sku})]})]}),e.jsx("span",{className:`px-3 py-1 rounded-lg text-[10px] font-black uppercase tracking-widest ${w.status==="Active"?"bg-emerald-50 text-emerald-600":"bg-red-50 text-red-600"}`,children:w.status})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-widest mb-1 text-[8px]",children:"Price"}),e.jsxs("p",{className:"font-black text-slate-900",children:["",w.price.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-widest mb-1 text-[8px]",children:"Stock"}),e.jsxs("p",{className:`font-black ${w.stock<=10?"text-orange-500":"text-slate-900"}`,children:[w.stock," Units"]})]})]}),e.jsxs("div",{className:"pt-4 border-t border-slate-50 flex gap-2",children:[e.jsxs("button",{onClick:()=>g(w),className:"flex-1 flex items-center justify-center gap-2 py-3 bg-violet-50 text-violet-600 rounded-xl text-xs font-black",children:[e.jsx(ar,{size:14})," Edit"]}),e.jsx("button",{onClick:()=>f(w.id),className:"p-3 bg-red-50 text-red-600 rounded-xl",children:e.jsx(Ms,{size:14})})]})]},w.id))}),e.jsx(kw,{isOpen:i,onClose:()=>o(!1),product:u,mode:d})]})},vM=[{id:"ORD-1021",customer:"John Doe",date:"11 Feb 2025",total:4500,status:"Completed",items:2},{id:"ORD-1022",customer:"Jane Smith",date:"10 Feb 2025",total:1200,status:"Processing",items:1},{id:"ORD-1023",customer:"Robert Brown",date:"09 Feb 2025",total:5e3,status:"Pending",items:3},{id:"ORD-1024",customer:"Emily White",date:"08 Feb 2025",total:2500,status:"Cancelled",items:1}],yM=()=>{const[t,s]=j.useState(""),[r,l]=j.useState(""),[i,o]=j.useState(!1),[d,x]=j.useState("Guest"),[u,h]=j.useState(""),[p,g]=j.useState(null),y=vM.filter(f=>{const w=f.customer.toLowerCase().includes(t.toLowerCase())||f.id.includes(t),S=r===""||f.status===r;return w&&S});return e.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6 pb-12 min-h-screen",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl sm:text-3xl font-black bg-gradient-to-r from-slate-900 to-slate-600 bg-clip-text text-transparent flex items-center gap-3",children:[e.jsx(Ec,{className:"text-slate-800",size:28}),"Store Orders"]}),e.jsx("p",{className:"text-slate-500 text-xs sm:text-sm font-medium mt-1",children:"Track and manage customer orders and sales"})]}),e.jsxs("button",{onClick:()=>o(!0),className:"w-full sm:w-auto flex items-center justify-center gap-2 px-6 py-3 bg-slate-900 text-white rounded-xl text-sm font-black shadow-xl shadow-slate-200 hover:scale-105 active:scale-95 transition-all",children:[e.jsx(St,{size:18})," Add New Order"]})]}),e.jsx("div",{className:"mb-6 bg-white/60 backdrop-blur-md rounded-2xl shadow-lg border border-slate-100 p-4 sm:p-5",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"md:col-span-2 relative group",children:[e.jsx(Qe,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),e.jsx("input",{type:"text",placeholder:"Search by Order ID or Customer...",value:t,onChange:f=>s(f.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border-2 border-slate-100 rounded-xl text-sm font-bold text-slate-700 focus:outline-none focus:border-slate-900 focus:ring-4 focus:ring-slate-900/5 transition-all"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Ns,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"}),e.jsxs("select",{value:r,onChange:f=>l(f.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border-2 border-slate-100 rounded-xl text-sm font-bold text-slate-700 focus:outline-none focus:border-slate-900 appearance-none cursor-pointer",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"Completed",children:"Completed"}),e.jsx("option",{value:"Processing",children:"Processing"}),e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]}),e.jsxs("button",{className:"flex items-center justify-center gap-2 py-3 bg-slate-900 text-white rounded-xl text-sm font-black hover:bg-slate-800 transition-all shadow-lg shadow-slate-200",children:[e.jsx(Js,{size:18})," Export Orders"]})]})}),e.jsx("div",{className:"hidden md:block bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50 border-b border-slate-100 text-slate-400",children:[e.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black uppercase tracking-widest",children:"Order ID"}),e.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black uppercase tracking-widest",children:"Customer"}),e.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black uppercase tracking-widest",children:"Date"}),e.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black uppercase tracking-widest",children:"Items"}),e.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black uppercase tracking-widest",children:"Total"}),e.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black uppercase tracking-widest",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black uppercase tracking-widest",children:"Action"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:y.length>0?y.map(f=>e.jsxs("tr",{className:"group hover:bg-slate-50/50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 text-sm font-black text-slate-900",children:f.id}),e.jsx("td",{className:"px-6 py-4 text-sm font-bold text-slate-700",children:f.customer}),e.jsx("td",{className:"px-6 py-4 text-sm font-medium text-slate-500",children:f.date}),e.jsx("td",{className:"px-6 py-4 text-sm font-bold text-slate-500",children:f.items}),e.jsxs("td",{className:"px-6 py-4 text-sm font-black text-slate-900",children:["",f.total.toLocaleString()]}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`inline-flex px-3 py-1 rounded-lg text-[10px] font-black uppercase tracking-widest ${f.status==="Completed"?"bg-emerald-50 text-emerald-600":f.status==="Processing"?"bg-blue-50 text-blue-600":f.status==="Pending"?"bg-amber-50 text-amber-600":"bg-red-50 text-red-600"}`,children:f.status})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsx("button",{className:"p-2 bg-slate-50 text-slate-400 hover:text-violet-600 hover:bg-violet-50 rounded-xl transition-all",children:e.jsx(da,{size:16})})})]},f.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"px-6 py-12 text-center text-slate-400 font-bold italic",children:"No orders found"})})})]})}),e.jsx("div",{className:"md:hidden space-y-4",children:y.map(f=>e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-slate-100 p-5 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-black text-slate-900",children:f.id}),e.jsx("p",{className:"text-xs text-slate-500 font-bold mt-1",children:f.customer})]}),e.jsx("span",{className:`px-3 py-1 rounded-lg text-[10px] font-black uppercase tracking-widest ${f.status==="Completed"?"bg-emerald-50 text-emerald-600":"bg-amber-50 text-amber-600"}`,children:f.status})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] text-slate-400 font-black uppercase tracking-widest",children:"Date"}),e.jsx("p",{className:"text-xs font-bold text-slate-700",children:f.date})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-[10px] text-slate-400 font-black uppercase tracking-widest",children:"Total"}),e.jsxs("p",{className:"text-sm font-black text-slate-900",children:["",f.total.toLocaleString()]})]})]}),e.jsxs("button",{className:"w-full py-3 bg-slate-50 text-slate-600 rounded-xl font-black text-xs flex items-center justify-center gap-2",children:[e.jsx(da,{size:14})," View Order Details"]})]},f.id))}),e.jsx(at,{isOpen:i,onClose:()=>o(!1),title:"Create New Order",subtitle:"Checkout Process",footer:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-4 bg-amber-50 rounded-xl border border-amber-100",children:e.jsxs("p",{className:"text-xs font-bold text-amber-700 flex items-center gap-2",children:[e.jsx(ss,{size:14}),"Invoice will be generated upon confirmation."]})}),e.jsx("button",{onClick:()=>{console.log("Confirming Order for",d==="Member"?p?.name:"Guest"),o(!1)},className:"w-full py-4 bg-slate-900 text-white rounded-2xl font-black uppercase tracking-widest hover:bg-slate-800 transition-all shadow-xl shadow-slate-200",children:"Confirm Order"})]}),children:e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 ml-1",children:"Order Type"}),e.jsxs("div",{className:"flex gap-4 p-1.5 bg-slate-100 rounded-2xl border border-slate-200",children:[e.jsxs("button",{onClick:()=>x("Guest"),className:`flex-1 flex items-center justify-center gap-2 py-3 rounded-xl text-xs font-black transition-all ${d==="Guest"?"bg-white text-slate-900 shadow-md ring-1 ring-slate-200":"text-slate-500 hover:text-slate-700"}`,children:[e.jsx(rt,{size:14})," GUEST"]}),e.jsxs("button",{onClick:()=>x("Member"),className:`flex-1 flex items-center justify-center gap-2 py-3 rounded-xl text-xs font-black transition-all ${d==="Member"?"bg-white text-violet-600 shadow-md ring-1 ring-slate-200":"text-slate-500 hover:text-slate-700"}`,children:[e.jsx(Et,{size:14})," MEMBER"]})]})]}),d==="Member"&&e.jsxs("div",{className:"space-y-3 animate-in fade-in slide-in-from-top-4",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 ml-1",children:"Search Member"}),e.jsxs("div",{className:"relative group",children:[e.jsx(Qe,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-600 transition-all",size:18}),e.jsx("input",{type:"text",placeholder:"Enter member name or ID...",value:u,onChange:f=>h(f.target.value),className:"w-full pl-12 pr-4 py-3 bg-slate-50 border-2 border-slate-100 rounded-xl text-sm font-bold text-slate-700 focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all shadow-sm"})]}),u.length>2&&e.jsx("div",{className:"p-4 bg-violet-50/50 rounded-2xl border border-violet-100 text-xs font-bold text-violet-600 italic",children:"Member: Dipanshu Patidar (#M-9021)"})]}),d==="Guest"&&e.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-top-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 ml-1",children:"Guest Name"}),e.jsx("input",{type:"text",placeholder:"Enter full name",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-100 rounded-xl text-sm font-bold transition-all focus:outline-none focus:border-slate-900"})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 ml-1",children:"Contact Number"}),e.jsx("input",{type:"tel",placeholder:"+91 00000 00000",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-100 rounded-xl text-sm font-bold transition-all focus:outline-none focus:border-slate-900"})]})]})]})})]})},Sg=async(t={})=>{try{return(await we.get("/store/products",{params:t})).data}catch(s){throw s.response?.data?.message||"Failed to load products"}},jM=async t=>{try{return(await we.post("/store/products",t)).data}catch(s){throw s.response?.data?.message||"Failed to add product"}},wM=async(t,s)=>{try{return(await we.patch(`/store/products/${t}/stock`,{stock:s})).data}catch(r){throw r.response?.data?.message||"Failed to update stock"}},NM=async(t,s)=>{try{return(await we.put(`/store/products/${t}`,s)).data}catch(r){throw r.response?.data?.message||"Failed to update product"}},kM=async t=>{try{return(await we.delete(`/store/products/${t}`)).data}catch(s){throw s.response?.data?.message||"Failed to delete product"}},SM=async()=>{try{return(await we.get("/store/orders")).data}catch(t){throw t.response?.data?.message||"Failed to load orders"}},Sw=async t=>{try{return(await we.post("/store/checkout",t)).data}catch(s){throw s.response?.data?.message||"Failed to checkout"}},W1=()=>{const[t,s]=j.useState(""),[r,l]=j.useState([]),[i,o]=j.useState(!0),[d,x]=j.useState(!1),[u,h]=j.useState("add"),[p,g]=j.useState(null),y=async()=>{try{o(!0);const L=await Sg({allStatus:"true"});l(L)}catch(L){lt.error(L)}finally{o(!1)}};j.useEffect(()=>{y()},[]);const f=async(L,M)=>{const T=prompt("Enter new stock count:",M);if(T!==null){const _=parseInt(T,10);if(!isNaN(_)&&_>=0)try{await wM(L,_),lt.success("Stock updated successfully"),y()}catch(I){lt.error(I)}else lt.error("Invalid stock count")}},w=async L=>{try{u==="add"?(await jM(L),lt.success("Product added successfully!")):(await NM(p.id,L),lt.success("Product updated successfully!")),y(),x(!1)}catch(M){lt.error(M)}},S=L=>{g(L),h("edit"),x(!0)},v=async L=>{if(window.confirm("Are you sure you want to delete this product?"))try{await kM(L),lt.success("Product deleted successfully"),y()}catch(M){lt.error(M)}},N=r.filter(L=>{const M=L.sku||`PRD-00${L.id}`;return L.name.toLowerCase().includes(t.toLowerCase())||M.toLowerCase().includes(t.toLowerCase())}),A=r.filter(L=>L.stock<=10).length;return e.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6 pb-12 min-h-screen",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl sm:text-3xl font-black bg-gradient-to-r from-slate-900 to-slate-600 bg-clip-text text-transparent flex items-center gap-3",children:[e.jsx(Aj,{className:"text-slate-800",size:28}),"Store Inventory"]}),e.jsx("p",{className:"text-slate-500 text-xs sm:text-sm font-medium mt-1",children:"Monitor stock levels and warehouse locations"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full sm:w-auto",children:[e.jsxs("button",{onClick:()=>{g(null),h("add"),x(!0)},className:"w-full sm:w-auto flex items-center justify-center gap-2 px-6 py-3 bg-slate-900 text-white rounded-xl text-sm font-black shadow-xl shadow-slate-200 hover:scale-105 transition-all",children:[e.jsx(St,{size:18})," Add New Product"]}),e.jsxs("button",{onClick:y,className:"w-full sm:w-auto flex items-center justify-center gap-2 px-6 py-3 bg-violet-600 text-white rounded-xl text-sm font-black shadow-xl shadow-violet-200 hover:scale-105 transition-all",children:[e.jsx($j,{size:18,className:i?"animate-spin":""})," Sync Inventory"]})]})]}),A>0&&e.jsxs("div",{className:"mb-6 p-4 bg-orange-50 border border-orange-100 rounded-2xl flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-orange-100 flex items-center justify-center text-orange-600",children:e.jsx(Lr,{size:24})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-black text-orange-950 uppercase tracking-tight",children:"Low Stock Alert"}),e.jsxs("p",{className:"text-xs text-orange-700 font-medium",children:["You have ",A," products with critical stock levels. We recommend restocking soon."]})]})]}),e.jsxs("div",{className:"mb-6 relative",children:[e.jsx(Qe,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),e.jsx("input",{type:"text",placeholder:"Search by Product Name or SKU...",value:t,onChange:L=>s(L.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border-2 border-slate-100 rounded-xl text-sm font-bold text-slate-700 focus:outline-none focus:border-slate-900 transition-all shadow-lg shadow-slate-200/50"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:N.map(L=>e.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-xl border border-slate-100 hover:shadow-2xl transition-all group",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-slate-50 flex items-center justify-center border border-slate-100 text-slate-400 group-hover:bg-violet-50 group-hover:text-violet-500 transition-colors overflow-hidden",children:L.image?e.jsx("img",{src:L.image,alt:L.name,className:"w-full h-full object-cover"}):e.jsx(Y0,{size:28})}),e.jsx("span",{className:`px-3 py-1.5 rounded-xl text-[10px] font-black uppercase tracking-widest ${L.status==="In Stock"?"bg-emerald-50 text-emerald-600":L.status==="Low Stock"?"bg-orange-50 text-orange-600":"bg-red-50 text-red-600"}`,children:L.status})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-black text-slate-900 mb-1",children:L.name}),e.jsxs("p",{className:"text-[10px] text-slate-400 font-black uppercase tracking-widest leading-none",children:["SKU: ",L.sku||`PRD-00${L.id}`]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-slate-50",children:[e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400",children:"Current Stock"}),e.jsxs("span",{className:`text-sm font-black ${L.stock<=10?"text-orange-600":"text-slate-900"}`,children:[L.stock," Units"]})]}),e.jsxs("div",{className:"flex justify-between items-center py-3",children:[e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400",children:"Category"}),e.jsx("span",{className:"text-sm font-bold text-slate-700",children:L.category})]})]}),e.jsxs("div",{className:"mt-6 flex gap-2",children:[e.jsx("button",{onClick:()=>f(L.id,L.stock),className:"flex-1 py-3 bg-slate-900 text-white rounded-xl font-black text-xs hover:bg-slate-800 transition-all",children:"Update Stock"}),e.jsx("button",{onClick:()=>S(L),className:"p-3 bg-violet-50 text-violet-600 rounded-xl hover:bg-violet-100 transition-all",title:"Edit",children:e.jsx(ar,{size:16})}),e.jsx("button",{onClick:()=>v(L.id),className:"p-3 bg-red-50 text-red-600 rounded-xl hover:bg-red-100 transition-all",title:"Delete",children:e.jsx(Ms,{size:16})})]})]},L.id))}),e.jsx(kw,{isOpen:d,onClose:()=>x(!1),mode:u,product:p,onSubmit:w})]})},Pp=({label:t,value:s,onChange:r,color:l,icon:i})=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-[10px] font-black uppercase tracking-widest text-gray-400 flex items-center gap-1.5",children:[i&&e.jsx(i,{size:12}),t]}),e.jsxs("div",{className:"relative group",children:[e.jsx("input",{type:"number",className:"w-full h-11 bg-gray-50 border border-gray-100 rounded-xl text-center font-bold text-gray-900 focus:bg-white focus:ring-2 focus:ring-indigo-100 focus:border-indigo-500 outline-none transition-all",value:s,onChange:o=>r(parseInt(o.target.value)||0)}),e.jsx("div",{className:`absolute inset-y-0 right-3 flex items-center pointer-events-none text-[10px] font-bold ${l}`,children:"g"})]})]}),CM=({protein:t,carbs:s,fats:r})=>{const l=parseInt(t)||0,i=parseInt(s)||0,o=parseInt(r)||0,d=l*4,x=i*4,u=o*9,h=d+x+u,p=h>0?Math.round(d/h*100):0,g=h>0?Math.round(x/h*100):0,y=h>0?Math.round(u/h*100):100-p-g;return e.jsxs("div",{className:"bg-gray-50 p-4 rounded-2xl space-y-3 border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-gray-400",children:"Macro Split"}),e.jsxs("span",{className:"text-sm font-black text-indigo-600",children:[h," ",e.jsx("span",{className:"text-[10px] text-gray-400",children:"KCAL"})]})]}),e.jsxs("div",{className:"h-2 w-full bg-gray-200 rounded-full overflow-hidden flex",children:[e.jsx("div",{className:"h-full bg-indigo-500 transition-all duration-500",style:{width:`${p}%`}}),e.jsx("div",{className:"h-full bg-emerald-500 transition-all duration-500",style:{width:`${g}%`}}),e.jsx("div",{className:"h-full bg-rose-500 transition-all duration-500",style:{width:`${y}%`}})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 text-[9px] font-black uppercase tracking-tighter",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-indigo-500"})," P: ",p,"%"]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500"})," C: ",g,"%"]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-rose-500"})," F: ",y,"%"]})]})]})},AM=({isOpen:t,onClose:s,onSave:r,editData:l=null})=>{const i={name:"",clientId:"",target:"Weight Loss",duration:"4",calories:0,macros:{protein:0,carbs:0,fats:0},meals:[{id:1,name:"Breakfast",time:"08:00 AM",cals:0,protein:0,carbs:0,fats:0,notes:"",isExpanded:!0}],notes:"",status:"Active"},[o,d]=j.useState(l||i),[x,u]=j.useState([]);j.useEffect(()=>{d(l||i)},[l,t]),j.useEffect(()=>{t&&gg({limit:100}).then(w=>u(w?.data||[])).catch(console.error)},[t]),j.useEffect(()=>{const w=parseInt(o.macros.protein)||0,S=parseInt(o.macros.carbs)||0,v=parseInt(o.macros.fats)||0,N=w*4+S*4+v*9;d(A=>({...A,calories:N}))},[o.macros]);const h=()=>{const w=o.meals.length>0?Math.max(...o.meals.map(S=>S.id))+1:1;d(S=>({...S,meals:[...S.meals,{id:w,name:`Meal ${o.meals.length+1}`,time:"12:00 PM",cals:0,protein:0,carbs:0,fats:0,notes:"",isExpanded:!0}]}))},p=w=>{d(S=>({...S,meals:S.meals.filter(v=>v.id!==w)}))},g=(w,S,v)=>{d(N=>({...N,meals:N.meals.map(A=>A.id===w?{...A,[S]:v}:A)}))},y=w=>{d(S=>({...S,meals:S.meals.map(v=>v.id===w?{...v,isExpanded:!v.isExpanded}:v)}))},f=w=>{if(w&&w.preventDefault(),!o.name||!o.clientId){alert("Please fill in Plan Name and Assign a Client.");return}r({...o,id:l?.id||`DP-${Math.floor(Math.random()*1e4)}`})};return t?e.jsx(at,{isOpen:t,onClose:s,title:l?"Edit Diet Plan":"Create Diet Plan",subtitle:"Configure structured nutritional protocols",children:e.jsxs("div",{className:"flex flex-col h-full bg-white",children:[e.jsxs("div",{className:"flex-1 overflow-y-auto px-4 md:px-5 pb-8 space-y-8 custom-scrollbar",children:[e.jsxs("div",{className:"space-y-4 pt-2",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-indigo-600"}),e.jsx("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900",children:"Basic Information"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-gray-400 ml-1",children:"Plan Name"}),e.jsx("input",{type:"text",className:"w-full h-11 bg-gray-50 border border-gray-100 px-4 rounded-xl text-sm font-bold focus:bg-white focus:ring-2 focus:ring-indigo-100 focus:border-indigo-500 outline-none transition-all",placeholder:"e.g. 12-Week Lean Bulk",value:o.name,onChange:w=>d({...o,name:w.target.value})})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-gray-400 ml-1",children:"Assign To Client"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{className:"w-full h-11 bg-gray-50 border border-gray-100 px-4 rounded-xl text-sm font-bold focus:bg-white focus:ring-2 focus:ring-indigo-100 focus:border-indigo-500 outline-none transition-all appearance-none",value:o.clientId,onChange:w=>d({...o,clientId:w.target.value}),children:[e.jsx("option",{value:"",children:"Select Client"}),x.map(w=>e.jsx("option",{value:w.id,children:w.name},w.id))]}),e.jsx(Wl,{size:16,className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-gray-400 ml-1",children:"Goal Type"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{className:"w-full h-11 bg-gray-50 border border-gray-100 px-4 rounded-xl text-sm font-bold focus:bg-white focus:ring-2 focus:ring-indigo-100 focus:border-indigo-500 outline-none transition-all appearance-none",value:o.target,onChange:w=>d({...o,target:w.target.value}),children:[e.jsx("option",{children:"Weight Loss"}),e.jsx("option",{children:"Muscle Gain"}),e.jsx("option",{children:"Maintenance"})]}),e.jsx(Wl,{size:16,className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"})]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-gray-400 ml-1",children:"Duration (Weeks)"}),e.jsx("input",{type:"number",className:"w-full h-11 bg-gray-50 border border-gray-100 px-4 rounded-xl text-sm font-bold focus:bg-white focus:ring-2 focus:ring-indigo-100 focus:border-indigo-500 outline-none transition-all",placeholder:"4",value:o.duration,onChange:w=>d({...o,duration:w.target.value})})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-indigo-600"}),e.jsx("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900",children:"Macro Configuration"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsx(Pp,{label:"Protein",icon:ha,color:"text-indigo-500",value:o.macros.protein,onChange:w=>d({...o,macros:{...o.macros,protein:w}})}),e.jsx(Pp,{label:"Carbs",icon:xg,color:"text-emerald-500",value:o.macros.carbs,onChange:w=>d({...o,macros:{...o.macros,carbs:w}})}),e.jsx(Pp,{label:"Fats",icon:Tj,color:"text-rose-500",value:o.macros.fats,onChange:w=>d({...o,macros:{...o.macros,fats:w}})})]}),e.jsx(CM,{protein:o.macros.protein,carbs:o.macros.carbs,fats:o.macros.fats})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-indigo-600"}),e.jsx("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900",children:"Meal Distribution"})]}),e.jsxs("button",{onClick:h,className:"flex items-center gap-1.5 text-[10px] font-black uppercase tracking-widest text-indigo-600 hover:text-indigo-700 transition-colors",children:[e.jsx(St,{size:14,strokeWidth:3})," Add Meal"]})]}),e.jsx("div",{className:"space-y-3",children:o.meals.map((w,S)=>e.jsxs("div",{className:"bg-white border border-gray-100 rounded-2xl overflow-hidden shadow-sm",children:[e.jsxs("div",{className:"p-4 flex items-center justify-between cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>y(w.id),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-indigo-50 flex items-center justify-center text-indigo-600 font-bold text-xs",children:S+1}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-bold text-gray-900",children:w.name||`Meal ${S+1}`}),e.jsxs("div",{className:"flex items-center gap-3 text-[10px] font-black uppercase tracking-tighter text-gray-400",children:[e.jsx("span",{children:w.time}),e.jsx("span",{children:""}),e.jsxs("span",{className:"text-indigo-600",children:[w.cals," KCAL"]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:v=>{v.stopPropagation(),p(w.id)},className:"p-1.5 text-gray-300 hover:text-red-500 transition-colors",children:e.jsx(Ms,{size:16})}),w.isExpanded?e.jsx(Ej,{size:18,className:"text-gray-400"}):e.jsx(Wl,{size:18,className:"text-gray-400"})]})]}),w.isExpanded&&e.jsxs("div",{className:"p-4 pt-0 border-t border-gray-50 space-y-4 animate-in fade-in slide-in-from-top-2 duration-300",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[9px] font-black uppercase tracking-widest text-gray-400",children:"Meal Name"}),e.jsx("input",{type:"text",className:"w-full h-9 bg-gray-50 border border-gray-100 px-3 rounded-lg text-xs font-bold focus:bg-white outline-none",value:w.name,onChange:v=>g(w.id,"name",v.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[9px] font-black uppercase tracking-widest text-gray-400",children:"Time"}),e.jsx("input",{type:"text",className:"w-full h-9 bg-gray-50 border border-gray-100 px-3 rounded-lg text-xs font-bold focus:bg-white outline-none",value:w.time,onChange:v=>g(w.id,"time",v.target.value)})]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[9px] font-black uppercase tracking-widest text-gray-400",children:"Cals"}),e.jsx("input",{type:"number",className:"w-full h-9 bg-gray-50 border border-gray-100 px-2 rounded-lg text-xs font-bold text-center focus:bg-white outline-none",value:w.cals,onChange:v=>g(w.id,"cals",parseInt(v.target.value)||0)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[9px] font-black uppercase tracking-widest text-gray-400",children:"P (g)"}),e.jsx("input",{type:"number",className:"w-full h-9 bg-gray-50 border border-gray-100 px-2 rounded-lg text-xs font-bold text-center focus:bg-white outline-none",value:w.protein,onChange:v=>g(w.id,"protein",parseInt(v.target.value)||0)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[9px] font-black uppercase tracking-widest text-gray-400",children:"C (g)"}),e.jsx("input",{type:"number",className:"w-full h-9 bg-gray-50 border border-gray-100 px-2 rounded-lg text-xs font-bold text-center focus:bg-white outline-none",value:w.carbs,onChange:v=>g(w.id,"carbs",parseInt(v.target.value)||0)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[9px] font-black uppercase tracking-widest text-gray-400",children:"F (g)"}),e.jsx("input",{type:"number",className:"w-full h-9 bg-gray-50 border border-gray-100 px-2 rounded-lg text-xs font-bold text-center focus:bg-white outline-none",value:w.fats,onChange:v=>g(w.id,"fats",parseInt(v.target.value)||0)})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[9px] font-black uppercase tracking-widest text-gray-400",children:"Food Notes / Ingredients"}),e.jsx("textarea",{className:"w-full h-20 bg-gray-50 border border-gray-100 p-3 rounded-lg text-xs font-medium focus:bg-white outline-none resize-none",placeholder:"2 slices whole grain bread, 3 egg whites...",value:w.notes,onChange:v=>g(w.id,"notes",v.target.value)})]})]})]},w.id))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-indigo-600"}),e.jsx("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900",children:"General Instructions"})]}),e.jsx("textarea",{className:"w-full h-32 bg-gray-50 border border-gray-100 p-4 rounded-2xl text-sm font-medium focus:bg-white focus:ring-2 focus:ring-indigo-100 focus:border-indigo-500 outline-none transition-all resize-none",placeholder:"e.g. Drink 3L water daily, Avoid sugary drinks...",value:o.notes,onChange:w=>d({...o,notes:w.target.value})})]})]}),e.jsx("div",{className:"p-4 md:p-6 bg-white border-t border-gray-100 mt-auto",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:s,className:"flex-1 h-12 rounded-xl text-sm font-bold text-gray-500 hover:bg-gray-50 transition-all uppercase tracking-widest",children:"Cancel"}),e.jsxs("button",{onClick:f,className:"flex-[2] h-12 bg-indigo-600 text-white rounded-xl text-sm font-black shadow-lg shadow-indigo-100 hover:bg-indigo-700 hover:-translate-y-0.5 active:translate-y-0 transition-all flex items-center justify-center gap-2 uppercase tracking-[0.2em]",children:[e.jsx(xa,{size:18})," Save Plan"]})]})})]})}):null},MM=({isOpen:t,onClose:s,onAssign:r,planName:l})=>{const[i,o]=j.useState(""),[d,x]=j.useState([]),[u,h]=j.useState(""),[p,g]=j.useState(""),[y,f]=j.useState(""),S=[{id:"M-101",name:"John Doe",currentPlan:"Fat Loss Shred"},{id:"M-102",name:"Jane Smith",currentPlan:null},{id:"M-103",name:"Mike Monitor",currentPlan:"Lean Bulk"},{id:"M-104",name:"Alice Cooper",currentPlan:null},{id:"M-105",name:"Bob Builder",currentPlan:"Maintenance"}].filter(N=>N.name.toLowerCase().includes(i.toLowerCase())||N.id.toLowerCase().includes(i.toLowerCase())),v=N=>{x(A=>A.includes(N)?A.filter(L=>L!==N):[...A,N])};return t?e.jsx(at,{isOpen:t,onClose:s,title:"Assign Diet Plan",subtitle:l,maxWidth:"max-w-lg",footer:e.jsxs("div",{className:"flex gap-3 w-full",children:[e.jsx("button",{onClick:s,className:"flex-1 py-3.5 bg-white text-gray-600 rounded-xl font-bold border border-gray-200 hover:bg-gray-50 transition-all text-sm",children:"Cancel"}),e.jsxs("button",{onClick:()=>{r({members:d,startDate:u,endDate:p,notes:y}),s()},disabled:d.length===0||!u||!p,className:"flex-[2] py-3.5 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-indigo-200 active:scale-95 text-sm flex items-center justify-center gap-2",children:["Assign to ",d.length," Members"]})]}),children:e.jsx("div",{className:"flex flex-col h-full",children:e.jsxs("div",{className:"flex-1 overflow-y-auto pr-2 space-y-6",children:[e.jsxs("div",{className:"bg-slate-50 p-5 rounded-[24px] border border-slate-100 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 pl-1",children:"Start Date"}),e.jsx("input",{type:"date",className:"w-full h-11 bg-white border border-slate-200 rounded-xl px-4 text-sm font-bold focus:border-indigo-500 outline-none",value:u,onChange:N=>h(N.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 pl-1",children:"End Date"}),e.jsx("input",{type:"date",className:"w-full h-11 bg-white border border-slate-200 rounded-xl px-4 text-sm font-bold focus:border-indigo-500 outline-none",value:p,onChange:N=>g(N.target.value)})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 pl-1",children:"Assignment Notes (Optional)"}),e.jsx("textarea",{className:"w-full h-20 bg-white border border-slate-200 rounded-xl px-4 py-2 text-sm font-medium focus:border-indigo-500 outline-none resize-none",placeholder:"Add specific instructions for the member...",value:y,onChange:N=>f(N.target.value)})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Qe,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{type:"text",placeholder:"Search members...",className:"w-full pl-11 pr-4 py-3 bg-gray-50 border-none rounded-2xl font-bold text-sm focus:ring-2 focus:ring-indigo-500 outline-none transition-all",value:i,onChange:N=>o(N.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[S.map(N=>{const A=d.includes(N.id);return e.jsxs("div",{onClick:()=>v(N.id),className:`p-4 rounded-2xl border transition-all cursor-pointer flex items-center justify-between group ${A?"bg-indigo-50 border-indigo-200 shadow-inner":"bg-white border-gray-100 hover:border-gray-200 hover:bg-gray-50/50"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center text-sm font-bold transition-colors ${A?"bg-indigo-600 text-white":"bg-gray-100 text-gray-500"}`,children:N.name.charAt(0)}),e.jsxs("div",{children:[e.jsx("p",{className:`font-bold text-sm ${A?"text-indigo-900":"text-gray-900"}`,children:N.name}),e.jsx("p",{className:"text-xs font-semibold text-gray-400",children:N.currentPlan?`Current: ${N.currentPlan}`:"No active plan"})]})]}),e.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all ${A?"border-indigo-600 bg-indigo-600 text-white":"border-gray-200 text-transparent group-hover:border-gray-300"}`,children:e.jsx(as,{size:14,strokeWidth:4})})]},N.id)}),S.length===0&&e.jsxs("div",{className:"text-center py-8 text-gray-400",children:[e.jsx(rt,{size:32,className:"mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm font-bold",children:"No members found"})]})]})]})})}):null},Cw=async()=>{try{return(await we.get("/auth/me")).data}catch(t){throw t.response?.data?.message||"Failed to fetch profile"}},DM=async t=>{try{return(await we.patch("/auth/profile",t)).data}catch(s){throw s.response?.data?.message||"Failed to update profile"}},LM=async t=>{try{return(await we.post("/member/plan/upgrade",{newPlan:t})).data}catch(s){throw s.response?.data?.message||"Failed to upgrade plan"}},zM=async()=>{try{return(await we.post("/member/plan/cancel")).data}catch(t){throw t.response?.data?.message||"Failed to cancel membership"}},EM=async()=>{try{return(await we.get("/member/wallet/transactions")).data}catch(t){throw t.response?.data?.message||"Failed to fetch wallet transactions"}},TM=async t=>{try{return(await we.post("/member/wallet/add",{amount:t})).data}catch(s){throw s.response?.data?.message||"Failed to add credit"}},_M=async()=>{try{return(await we.get("/member/bookings")).data}catch(t){throw t.response?.data?.message||"Failed to fetch bookings"}},PM=async t=>{try{const s=await we.delete(`/member/bookings/${t}`);return{success:!0,id:t}}catch(s){throw s.response?.data?.message||"Failed to cancel booking"}},G1=async t=>{try{return{success:!0,data:(await we.post("/member/bookings",t)).data}}catch(s){throw s.response?.data?.message||"Failed to create booking"}},RM=async()=>{try{return(await we.post("/member/membership/freeze")).data}catch(t){throw t.response?.data?.message||"Failed to freeze membership"}},OM=async()=>{try{return(await we.post("/member/membership/unfreeze")).data}catch(t){throw t.response?.data?.message||"Failed to unfreeze membership"}},FM=async()=>{try{return(await we.get("/member/invoices")).data}catch(t){throw t.response?.data?.message||"Failed to fetch invoices"}},BM=async t=>{try{return(await we.post(`/member/invoices/${t}/pay`)).data}catch(s){throw s.response?.data?.message||"Failed to pay invoice"}},IM=async()=>{try{return(await we.get("/member/wallet/balance")).data}catch(t){throw t.response?.data?.message||"Failed to fetch wallet balance"}},Aw=async()=>{try{return(await we.get("/member/cards")).data}catch(t){throw t.response?.data?.message||"Failed to fetch saved cards"}},Mw=async t=>{try{return(await we.post("/member/cards",t)).data}catch(s){throw s.response?.data?.message||"Failed to add card"}},Dw=async t=>{try{return(await we.delete(`/member/cards/${t}`)).data}catch(s){throw s.response?.data?.message||"Failed to delete card"}},UM=async()=>{try{return(await we.get("/member/membership-details")).data}catch(t){throw t.response?.data?.message||"Failed to fetch membership details"}},$M=async()=>{try{return(await we.get("/member/service-requests")).data}catch(t){throw t.response?.data?.message||"Failed to fetch service requests"}},V1=async t=>{try{return(await we.post("/member/service-requests",t)).data}catch(s){throw s.response?.data?.message||"Failed to create service request"}},qM=async()=>{try{return(await we.get("/member/classes")).data}catch(t){throw t.response?.data?.message||"Failed to fetch classes"}},HM=async()=>{try{return(await we.get("/member/profile")).data}catch(t){throw t.response?.data?.message||"Failed to fetch member exact profile"}},WM=async()=>{try{return(await we.get("/member/workout-plans")).data}catch(t){throw t.response?.data?.message||"Failed to fetch workout plans"}},GM=async()=>{try{return(await we.get("/member/diet-plans")).data}catch(t){throw t.response?.data?.message||"Failed to fetch diet plans"}},VM=async()=>{try{return(await we.get("/member/rewards/catalog")).data}catch(t){throw t.response?.data?.message||"Failed to fetch reward catalog"}},YM=async t=>{try{return(await we.post("/member/rewards/redeem",{catalogId:t})).data}catch(s){throw s.response?.data?.message||"Failed to redeem reward"}},Rp=({role:t})=>{Gt(),zr();const s=t==="TRAINER"||t==="SUPER_ADMIN"||t==="MANAGER"||t==="BRANCH_ADMIN",[r,l]=j.useState([]),[i,o]=j.useState(""),[d,x]=j.useState(null),[u,h]=j.useState(0),[p,g]=j.useState(!0),[y,f]=j.useState(!1),[w,S]=j.useState(null),[v,N]=j.useState(!1),[A,L]=j.useState(null);so.useEffect(()=>{M()},[s]);const M=async()=>{try{g(!0);const H=s?await G7():await GM();l(H),H.length>0&&x(H[0])}catch(H){console.error("Failed to load plans:",H),It.error("Failed to load diet plans")}finally{g(!1)}},T=async H=>{try{A&&A.id?(await Y7(A.id,H),It.success("Plan updated successfully")):(await V7(H),It.success("Plan created successfully")),await M(),N(!1),L(null)}catch($){console.error("Error saving plan",$),It.error("Failed to save plan")}},_=async(H,$)=>{$.stopPropagation();try{await X7(H),It.success("Status toggled successfully"),await M()}catch(G){console.error("Error toggling status",G),It.error("Failed to change status")}},I=H=>r.find(G=>G.clientId===H)?.client?.name||"Unassigned",B=r.filter(H=>H.name.toLowerCase().includes(i.toLowerCase())||I(H.clientId).toLowerCase().includes(i.toLowerCase())),P=()=>e.jsx("div",{className:"hidden md:block bg-white rounded-3xl shadow-sm border border-gray-100 overflow-hidden fade-in",children:e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50/50 border-b border-gray-100",children:[e.jsx("th",{className:"px-6 py-4 text-[10px] font-black uppercase tracking-widest text-gray-400",children:"Plan Name"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black uppercase tracking-widest text-gray-400",children:"Client"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black uppercase tracking-widest text-gray-400",children:"Goal"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black uppercase tracking-widest text-gray-400 text-center",children:"Calories"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black uppercase tracking-widest text-gray-400 text-center",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black uppercase tracking-widest text-gray-400 text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-50",children:B.map(H=>e.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors group",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-indigo-50 flex items-center justify-center text-indigo-600",children:e.jsx(Dc,{size:16})}),e.jsx("span",{className:"text-sm font-bold text-gray-900 line-clamp-1",children:H.name})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"text-xs font-bold text-gray-600",children:I(H.clientId)})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest px-2.5 py-1 rounded-full ${H.target==="Weight Loss"?"bg-rose-50 text-rose-600":H.target==="Muscle Gain"?"bg-emerald-50 text-emerald-600":"bg-blue-50 text-blue-600"}`,children:H.target})}),e.jsx("td",{className:"px-6 py-4 text-center",children:e.jsxs("span",{className:"text-xs font-black text-gray-900",children:[H.calories," ",e.jsx("span",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-tighter",children:"kcal"})]})}),e.jsx("td",{className:"px-6 py-4 text-center",children:e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-widest ${H.status==="Active"?"bg-emerald-50 text-emerald-600":"bg-gray-100 text-gray-400"}`,children:[e.jsx("div",{className:`w-1 h-1 rounded-full ${H.status==="Active"?"bg-emerald-500":"bg-gray-400"}`}),H.status]})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>{x(H),N(!1)},className:"p-2 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-all",title:"View Details",children:e.jsx(da,{size:16})}),e.jsx("button",{onClick:()=>{L(H),N(!0)},className:"p-2 text-gray-400 hover:text-amber-600 hover:bg-amber-50 rounded-lg transition-all",title:"Edit Plan",children:e.jsx(ar,{size:16})}),e.jsx("button",{onClick:$=>_(H.id,$),className:`p-2 rounded-lg transition-all ${H.status==="Active"?"text-gray-400 hover:text-red-500 hover:bg-red-50":"text-gray-400 hover:text-emerald-500 hover:bg-emerald-50"}`,title:H.status==="Active"?"Deactivate":"Activate",children:e.jsx(A1,{size:16})})]})})]},H.id))})]}),B.length===0&&e.jsxs("div",{className:"py-20 flex flex-col items-center justify-center text-gray-400",children:[e.jsx(Qe,{size:48,strokeWidth:1,className:"mb-4 opacity-20"}),e.jsx("p",{className:"text-sm font-bold",children:"No diet plans found matching your search."})]})]})}),R=()=>e.jsxs("div",{className:"md:hidden space-y-4 fade-in",children:[B.map(H=>e.jsxs("div",{className:"bg-white p-5 rounded-3xl shadow-sm border border-gray-100 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-indigo-50 flex items-center justify-center text-indigo-600",children:e.jsx(Dc,{size:20})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-black text-gray-900 leading-tight",children:H.name}),e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mt-0.5",children:I(H.clientId)})]})]}),e.jsx("span",{className:`text-[9px] font-black uppercase tracking-widest px-2 py-1 rounded-full ${H.target==="Weight Loss"?"bg-rose-50 text-rose-600":H.target==="Muscle Gain"?"bg-emerald-50 text-emerald-600":"bg-blue-50 text-blue-600"}`,children:H.target})]}),e.jsxs("div",{className:"flex items-center justify-between py-3 border-y border-gray-50",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Daily Calories"}),e.jsxs("p",{className:"text-sm font-black text-gray-900",children:[H.calories," ",e.jsx("span",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-tighter",children:"kcal"})]})]}),e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[9px] font-black uppercase tracking-widest ${H.status==="Active"?"bg-emerald-50 text-emerald-600":"bg-gray-100 text-gray-400"}`,children:[e.jsx("div",{className:`w-1 h-1 rounded-full ${H.status==="Active"?"bg-emerald-500":"bg-gray-400"}`}),H.status]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-1",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{x(H),N(!1)},className:"px-4 py-2 bg-indigo-50 text-indigo-600 rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-indigo-100 transition-all",children:"View"}),e.jsx("button",{onClick:()=>{L(H),N(!0)},className:"px-4 py-2 bg-amber-50 text-amber-600 rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-amber-100 transition-all",children:"Edit"})]}),e.jsx("button",{onClick:$=>_(H.id,$),className:`p-2.5 rounded-xl border transition-all ${H.status==="Active"?"text-rose-500 bg-rose-50 border-rose-100":"text-emerald-500 bg-emerald-50 border-emerald-100"}`,children:e.jsx(A1,{size:18})})]})]},H.id)),B.length===0&&e.jsxs("div",{className:"py-20 flex flex-col items-center justify-center text-gray-400",children:[e.jsx(Qe,{size:48,strokeWidth:1,className:"mb-4 opacity-20"}),e.jsx("p",{className:"text-sm font-bold text-center",children:"No diet plans found matching your search."})]})]}),W=()=>d?e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 md:gap-10 fade-in",children:[e.jsx("div",{className:"lg:col-span-4 space-y-6",children:e.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-[32px] shadow-sm border border-gray-100 flex flex-col justify-between overflow-hidden relative",children:[e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx("div",{className:"w-12 h-12 bg-indigo-600 rounded-2xl flex items-center justify-center text-white shadow-lg shadow-indigo-100",children:e.jsx(Wt,{size:24})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-gray-400",children:d.target}),e.jsx("h2",{className:"text-lg font-black text-gray-900 leading-tight",children:d.name})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-5 bg-gray-50 rounded-2xl border border-transparent",children:[e.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-gray-400 mb-1",children:"Calories / Day"}),e.jsxs("div",{className:"text-2xl font-black text-indigo-600",children:[d.calories," ",e.jsx("span",{className:"text-xs text-gray-400 uppercase tracking-widest",children:"kcal"})]})]}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:["protein","carbs","fats"].map(H=>e.jsxs("div",{className:"p-3 bg-white border border-gray-100 rounded-xl text-center",children:[e.jsx("div",{className:"text-[9px] font-black uppercase tracking-tighter text-gray-400 capitalize",children:H.slice(0,1)}),e.jsxs("div",{className:"text-sm font-bold text-gray-900",children:[d.macros[H],"g"]})]},H))}),e.jsxs("div",{className:"pt-4 space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-[10px] font-black uppercase tracking-widest px-1",children:[e.jsx("span",{className:"text-gray-400",children:"Consistency Focus"}),e.jsxs("span",{className:"text-indigo-600",children:[d?Math.min(100,Math.ceil((new Date-new Date(d.createdAt))/(1e3*60*60*24*7*4)*100)):0,"%"]})]}),e.jsx("div",{className:"h-2.5 bg-gray-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-indigo-600 rounded-full transition-all duration-1000",style:{width:`${d?Math.min(100,Math.ceil((new Date-new Date(d.createdAt))/(1e3*60*60*24*7*4)*100)):0}%`}})})]})]})]}),e.jsxs("div",{className:"relative z-10 pt-8 mt-8 border-t border-gray-50 space-y-4",children:[e.jsx("div",{className:"p-4 bg-indigo-50 rounded-2xl",children:e.jsxs("p",{className:"text-[11px] font-bold text-indigo-900 leading-relaxed italic",children:['"',d.notes||"No specific instructions provided.",'"']})}),!s&&e.jsxs("button",{className:"w-full py-4 bg-black text-white rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] hover:bg-indigo-600 transition-all flex items-center justify-center gap-2 shadow-lg shadow-gray-100",children:["MARK COMPLETE ",e.jsx(as,{size:16})]}),s&&e.jsx("button",{onClick:()=>x(null),className:"w-full py-4 bg-gray-100 text-gray-600 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] hover:bg-gray-200 transition-all",children:"BACK TO LIST"})]})]})}),e.jsxs("div",{className:"lg:col-span-8 space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2 px-1",children:[e.jsx(Dc,{size:18,className:"text-indigo-500"}),e.jsx("h3",{className:"text-sm font-black uppercase tracking-[0.2em] text-gray-900",children:"Meal Sequence"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Array.isArray(d.meals)?d.meals.map((H,$)=>e.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-gray-100 shadow-sm hover:border-indigo-100 transition-all group overflow-hidden relative",children:[e.jsxs("div",{className:"relative z-10 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-center gap-2 bg-indigo-50 text-indigo-600 px-2.5 py-1 rounded-lg text-[10px] font-black uppercase tracking-widest",children:[e.jsx(Je,{size:12,strokeWidth:3})," ",H.time]}),e.jsxs("div",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:[H.cals," KCAL"]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-black text-gray-900 mb-1 group-hover:text-indigo-600 transition-colors uppercase tracking-tight",children:H.name}),e.jsx("p",{className:"text-[11px] text-gray-500 font-bold leading-relaxed",children:H.notes})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 pt-2",children:[e.jsxs("div",{className:"bg-gray-50 p-2 rounded-lg text-center",children:[e.jsx("div",{className:"text-[8px] font-black text-gray-400 uppercase",children:"P"}),e.jsxs("div",{className:"text-xs font-black text-gray-700",children:[H.protein,"g"]})]}),e.jsxs("div",{className:"bg-gray-50 p-2 rounded-lg text-center",children:[e.jsx("div",{className:"text-[8px] font-black text-gray-400 uppercase",children:"C"}),e.jsxs("div",{className:"text-xs font-black text-gray-700",children:[H.carbs,"g"]})]}),e.jsxs("div",{className:"bg-gray-50 p-2 rounded-lg text-center",children:[e.jsx("div",{className:"text-[8px] font-black text-gray-400 uppercase",children:"F"}),e.jsxs("div",{className:"text-xs font-black text-gray-700",children:[H.fats,"g"]})]})]})]}),e.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity",children:e.jsx("span",{className:"text-4xl font-black italic",children:$+1})})]},H.id)):e.jsxs("div",{className:"col-span-full py-20 bg-white rounded-3xl border border-dashed border-gray-200 flex flex-col items-center justify-center text-gray-400",children:[e.jsx(Dc,{size:40,className:"mb-4 opacity-20"}),e.jsx("p",{className:"text-sm font-bold",children:"No meal sequence defined for this plan."})]})})]})]}):null;return e.jsxs("div",{className:"p-4 md:p-8 bg-[#FBFBFE] min-h-screen font-sans",children:[e.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-black text-gray-900 tracking-tight uppercase mb-1",children:s?"Diet Plans":"My Protocol"}),e.jsx("p",{className:"text-gray-400 font-bold text-xs uppercase tracking-widest",children:s?"Precise nutritional scheduling & macro management":`Active Protocol: ${d?.name||"No Active Plan"}`})]}),s&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative group flex-1 md:flex-none",children:[e.jsx(Qe,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-indigo-600 transition-colors",size:16}),e.jsx("input",{type:"text",placeholder:"Search plans or clients...",className:"w-full md:w-64 h-11 pl-10 pr-4 bg-white rounded-xl font-bold border border-gray-100 focus:border-indigo-500 outline-none transition-all text-xs",value:i,onChange:H=>o(H.target.value)})]}),e.jsxs("button",{onClick:()=>{L(null),N(!0)},className:"h-11 px-6 bg-indigo-600 text-white rounded-xl text-xs font-black uppercase tracking-[0.15em] shadow-lg shadow-indigo-100 hover:bg-indigo-700 hover:-translate-y-0.5 transition-all flex items-center gap-3",children:[e.jsx(St,{size:16,strokeWidth:3}),"Create Plan"]})]})]}),s&&!d&&e.jsxs(e.Fragment,{children:[e.jsx(P,{}),e.jsx(R,{})]}),(d||!s)&&e.jsx(W,{})]}),e.jsx(AM,{isOpen:v,onClose:()=>{N(!1),L(null)},onSave:T,editData:A}),e.jsx(MM,{isOpen:y,onClose:()=>f(!1),onAssign:H=>console.log("Assigned to:",H),planName:r.find(H=>H.id===w)?.name})]})},Ox=({label:t,value:s,onChange:r,placeholder:l,icon:i})=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-xs font-bold text-gray-500 flex items-center gap-1.5",children:[i&&e.jsx(i,{size:12}),t]}),e.jsx("div",{className:"relative group",children:e.jsx("input",{type:"text",className:"w-full h-12 bg-gray-50 border border-gray-100 rounded-xl px-4 font-bold text-gray-900 focus:bg-white focus:ring-2 focus:ring-indigo-100 focus:border-indigo-500 outline-none transition-all placeholder:font-normal placeholder:text-gray-400",value:s,placeholder:l,onChange:o=>r(o.target.value)})})]}),XM=({isOpen:t,onClose:s,onSave:r,initialData:l=null})=>{const[i,o]=j.useState(1),[d,x]=j.useState(l||{name:"",clientId:"",description:"",target:"Muscle Gain",durationWeeks:12,durationDays:4,difficulty:"Intermediate",intensity:"High",days:{monday:[],tuesday:[],wednesday:[],thursday:[],friday:[],saturday:[],sunday:[]}}),[u,h]=j.useState([]);so.useEffect(()=>{t&&gg({limit:100}).then(v=>h(v?.data||[])).catch(console.error)},[t]);const[p,g]=j.useState("monday"),[y,f]=j.useState({name:"",sets:3,reps:"10-12",rpe:8,rest:"90s",notes:""});if(!t)return null;const w=()=>{y.name&&(x(v=>({...v,days:{...v.days,[p]:[...v.days[p],{...y,id:Date.now().toString()}]}})),f({name:"",sets:3,reps:"10-12",rpe:8,rest:"90s",notes:""}))},S=(v,N)=>{x(A=>({...A,days:{...A.days,[v]:A.days[v].filter(L=>L.id!==N)}}))};return e.jsx(at,{isOpen:t,onClose:s,title:l?"Edit Protocol":"Protocol Architect",subtitle:`Step ${i} of 2: ${i===1?"Definitions":"Orchestration"}`,maxWidth:"max-w-5xl",footer:e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("button",{onClick:s,className:"px-6 py-3 text-sm font-bold text-gray-500 hover:text-gray-900 transition-colors",children:"Cancel"}),e.jsxs("div",{className:"flex items-center gap-4",children:[i===2&&e.jsxs("button",{onClick:()=>o(1),className:"px-6 py-3 bg-gray-100 text-gray-600 rounded-xl text-sm font-bold hover:bg-gray-200 transition-all flex items-center gap-2",children:[e.jsx(Wr,{size:18})," Back"]}),e.jsxs("button",{onClick:()=>{if(i===1)o(2);else{if(!d.name||!d.clientId){alert("Please fill in Plan Name and Assign a Client.");return}r({...d,id:d.id||"wp-"+Date.now(),exercisesCount:Object.values(d.days).flat().length,avgDuration:d.avgDuration||"60 min"})}},className:"px-8 py-3 bg-indigo-600 text-white rounded-xl text-sm font-bold hover:bg-indigo-700 shadow-lg shadow-indigo-200 transition-all flex items-center gap-2",children:[i===1?"Next Step":"Save Protocol",i===1?e.jsx(vs,{size:18}):e.jsx(xa,{size:18})]})]})]}),children:e.jsx("div",{className:"flex flex-col h-full",children:e.jsx("div",{className:"flex-1 overflow-y-auto pr-2 custom-scrollbar",children:i===1?e.jsxs("div",{className:"max-w-3xl mx-auto space-y-8",children:[e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-bold text-gray-700",children:"Protocol Identity"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("input",{type:"text",placeholder:"e.g. Hypertrophy Mastery 2.0",className:"flex-1 h-14 px-4 bg-white border border-gray-200 rounded-xl text-lg font-bold focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 outline-none transition-all placeholder:font-normal placeholder:text-gray-400",value:d.name,onChange:v=>x({...d,name:v.target.value})}),e.jsxs("select",{className:"flex-1 h-14 bg-white border border-gray-200 px-4 rounded-xl text-sm font-bold focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 outline-none transition-all appearance-none",value:d.clientId,onChange:v=>x({...d,clientId:v.target.value}),children:[e.jsx("option",{value:"",children:"Select Client"}),u.map(v=>e.jsx("option",{value:v.id,children:v.name},v.id))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-bold text-gray-700",children:"Description"}),e.jsx("textarea",{placeholder:"Scientific objectives & background...",className:"w-full h-32 px-4 py-3 bg-white border border-gray-200 rounded-xl text-sm font-medium focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 outline-none transition-all resize-none placeholder:font-normal placeholder:text-gray-400",value:d.description,onChange:v=>x({...d,description:v.target.value})})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Target Strategy"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:["Muscle Gain","Fat Loss","Strength","Endurance"].map(v=>e.jsx("button",{onClick:()=>x({...d,target:v}),className:`h-12 rounded-xl text-xs font-bold transition-all border ${d.target===v?"bg-indigo-600 border-indigo-600 text-white shadow-lg shadow-indigo-200":"bg-white border-gray-200 text-gray-600 hover:border-indigo-300 hover:bg-gray-50"}`,children:v},v))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Intensity Level"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:["Low","Moderate","High"].map(v=>e.jsx("button",{onClick:()=>x({...d,intensity:v}),className:`h-12 rounded-xl text-xs font-bold transition-all border ${d.intensity===v?"bg-indigo-600 border-indigo-600 text-white shadow-lg shadow-indigo-200":"bg-white border-gray-200 text-gray-600 hover:border-indigo-300 hover:bg-gray-50"}`,children:v},v))})]})]}),e.jsxs("div",{className:"bg-gray-50 p-6 rounded-2xl border border-gray-100 grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider flex items-center gap-2",children:[e.jsx(Je,{size:14})," Duration Schedule"]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsx("input",{type:"number",className:"w-full h-12 bg-white border border-gray-200 rounded-xl px-4 font-bold focus:border-indigo-500 outline-none",value:d.durationWeeks,onChange:v=>x({...d,durationWeeks:v.target.value})}),e.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Weeks"})]}),e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsx("input",{type:"number",className:"w-full h-12 bg-white border border-gray-200 rounded-xl px-4 font-bold focus:border-indigo-500 outline-none",value:d.durationDays,onChange:v=>x({...d,durationDays:v.target.value})}),e.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Days / Week"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider flex items-center gap-2",children:[e.jsx(Wt,{size:14})," Difficulty Tier"]}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{className:"w-full h-12 bg-white border border-gray-200 rounded-xl text-sm px-4 font-bold focus:ring-4 focus:ring-indigo-500/10 focus:border-indigo-500 outline-none transition-all appearance-none",value:d.difficulty,onChange:v=>x({...d,difficulty:v.target.value}),children:[e.jsx("option",{children:"Beginner"}),e.jsx("option",{children:"Intermediate"}),e.jsx("option",{children:"Advanced"}),e.jsx("option",{children:"Pro-Athlete"})]}),e.jsx(vs,{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 rotate-90",size:16})]})]})]})]}):e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[e.jsx("div",{className:"lg:col-span-3 space-y-4",children:["monday","tuesday","wednesday","thursday","friday","saturday","sunday"].map(v=>e.jsxs("button",{onClick:()=>g(v),className:`w-full p-4 rounded-2xl flex items-center justify-between transition-all font-bold text-sm uppercase tracking-wider ${p===v?"bg-indigo-600 text-white shadow-lg shadow-indigo-200":"bg-white text-gray-500 hover:text-indigo-600 hover:text-indigo-600 hover:bg-gray-50"}`,children:[e.jsx("span",{children:v.slice(0,3)}),e.jsx("div",{className:`w-6 h-6 rounded-lg flex items-center justify-center text-[10px] font-bold ${p===v?"bg-white/20":"bg-gray-100"}`,children:d.days[v].length})]},v))}),e.jsxs("div",{className:"lg:col-span-9 space-y-8",children:[e.jsxs("div",{className:"bg-white p-6 rounded-[32px] border border-gray-100 shadow-sm space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-8 h-8 bg-indigo-50 text-indigo-600 rounded-lg flex items-center justify-center",children:e.jsx(qr,{size:16})}),e.jsxs("h3",{className:"text-lg font-bold text-gray-900",children:["Add Movement to ",e.jsx("span",{className:"capitalize",children:p})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsx(Ox,{label:"Movement Name",icon:qr,value:y.name,onChange:v=>f({...y,name:v}),placeholder:"e.g. Barbell Squat"})}),e.jsx(Ox,{label:"Sets",icon:jn,value:y.sets,onChange:v=>f({...y,sets:v})}),e.jsx(Ox,{label:"Reps/Tempo",icon:Wt,value:y.reps,onChange:v=>f({...y,reps:v}),placeholder:"e.g. 8-10 or 3010"}),e.jsx(Ox,{label:"Target RPE",icon:ha,value:y.rpe,onChange:v=>f({...y,rpe:v})}),e.jsx(Ox,{label:"Rest Period",icon:Je,value:y.rest,onChange:v=>f({...y,rest:v}),placeholder:"e.g. 90s"}),e.jsxs("div",{className:"md:col-span-2 space-y-2",children:[e.jsxs("label",{className:"text-xs font-bold text-gray-500 flex items-center gap-1.5",children:[e.jsx(Yn,{size:12})," Notes"]}),e.jsx("textarea",{placeholder:"Technical notes, queueing...",className:"w-full h-20 px-4 py-3 bg-gray-50 rounded-xl border border-gray-100 text-sm font-medium focus:ring-4 focus:ring-indigo-500/10 focus:border-indigo-500 outline-none resize-none transition-all",value:y.notes,onChange:v=>f({...y,notes:v.target.value})})]})]}),e.jsxs("button",{onClick:w,className:"w-full h-12 bg-gray-900 text-white rounded-xl font-bold text-sm hover:bg-indigo-600 transition-all shadow-lg hover:shadow-indigo-200 flex items-center justify-center gap-2",children:[e.jsx(St,{size:18})," Add Movement"]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between px-2",children:[e.jsxs("h4",{className:"text-sm font-bold text-gray-900 uppercase tracking-wider",children:[p," Schedule"]}),e.jsxs("span",{className:"text-xs font-bold text-gray-400",children:[d.days[p].length," Exercises"]})]}),d.days[p].length===0?e.jsx("div",{className:"py-12 text-center bg-gray-50/50 rounded-[24px] border border-dashed border-gray-200 text-gray-400",children:e.jsx("p",{className:"font-semibold text-sm",children:"No exercises added yet"})}):e.jsx("div",{className:"space-y-3",children:d.days[p].map((v,N)=>e.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white rounded-2xl border border-gray-100 shadow-sm hover:border-indigo-100 transition-all group",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center font-bold text-xs text-gray-500 group-hover:bg-indigo-600 group-hover:text-white transition-all",children:N+1}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h5",{className:"font-bold text-gray-900 text-sm",children:v.name}),e.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[e.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider bg-gray-50 px-2 py-0.5 rounded-md",children:[v.sets," Sets"]}),e.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider bg-gray-50 px-2 py-0.5 rounded-md",children:[v.reps," Reps"]}),v.rpe&&e.jsxs("span",{className:"text-[10px] font-bold text-orange-400 uppercase tracking-wider bg-orange-50 px-2 py-0.5 rounded-md",children:["RPE ",v.rpe]})]})]}),e.jsx("button",{onClick:()=>S(p,v.id),className:"p-2 rounded-lg hover:bg-red-50 text-gray-300 hover:text-red-500 transition-all",children:e.jsx(Ms,{size:16})})]},v.id))})]})]})]})})})})},KM=({isOpen:t,onClose:s,onAssign:r,planName:l})=>{const[i,o]=j.useState(""),[d,x]=j.useState([]),[u,h]=j.useState(""),[p,g]=j.useState(""),[y,f]=j.useState(""),S=[{id:"M-101",name:"John Doe",currentPlan:"Hypertrophy Mastery 2.0"},{id:"M-102",name:"Jane Smith",currentPlan:null},{id:"M-103",name:"Mike Monitor",currentPlan:"Strength 5x5"},{id:"M-104",name:"Alice Cooper",currentPlan:null},{id:"M-105",name:"Bob Builder",currentPlan:"Endurance Basics"}].filter(N=>N.name.toLowerCase().includes(i.toLowerCase())||N.id.toLowerCase().includes(i.toLowerCase())),v=N=>{x(A=>A.includes(N)?A.filter(L=>L!==N):[...A,N])};return t?e.jsx(at,{isOpen:t,onClose:s,title:"Assign Protocol",subtitle:l,maxWidth:"max-w-lg",footer:e.jsxs("div",{className:"flex gap-3 w-full",children:[e.jsx("button",{onClick:s,className:"flex-1 py-3.5 bg-white text-gray-600 rounded-xl font-bold border border-gray-200 hover:bg-gray-50 transition-all text-sm",children:"Cancel"}),e.jsx("button",{onClick:()=>{r({members:d,startDate:u,endDate:p,notes:y}),s()},disabled:d.length===0||!u,className:"flex-[2] py-3.5 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-indigo-200 active:scale-95 text-sm flex items-center justify-center gap-2",children:"Assign Protocol"})]}),children:e.jsx("div",{className:"flex flex-col h-full",children:e.jsxs("div",{className:"flex-1 overflow-y-auto pr-2 space-y-6",children:[e.jsxs("div",{className:"bg-slate-50 p-5 rounded-[24px] border border-slate-100 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 pl-1",children:"Start Date"}),e.jsx("input",{type:"date",className:"w-full h-11 bg-white border border-slate-200 rounded-xl px-4 text-sm font-bold focus:border-indigo-500 outline-none",value:u,onChange:N=>h(N.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 pl-1",children:"End Date (Estimated)"}),e.jsx("input",{type:"date",className:"w-full h-11 bg-white border border-slate-200 rounded-xl px-4 text-sm font-bold focus:border-indigo-500 outline-none",value:p,onChange:N=>g(N.target.value)})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 pl-1",children:"Coach Notes (Optional)"}),e.jsx("textarea",{className:"w-full h-20 bg-white border border-slate-200 rounded-xl px-4 py-2 text-sm font-medium focus:border-indigo-500 outline-none resize-none",placeholder:"Specific focus areas for this member...",value:y,onChange:N=>f(N.target.value)})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Qe,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{type:"text",placeholder:"Search athletes...",className:"w-full pl-11 pr-4 py-3 bg-gray-50 border-none rounded-2xl font-bold text-sm focus:ring-2 focus:ring-indigo-500 outline-none transition-all",value:i,onChange:N=>o(N.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[S.map(N=>{const A=d.includes(N.id);return e.jsxs("div",{onClick:()=>v(N.id),className:`p-4 rounded-2xl border transition-all cursor-pointer flex items-center justify-between group ${A?"bg-indigo-50 border-indigo-200 shadow-inner":"bg-white border-gray-100 hover:border-gray-200 hover:bg-gray-50/50"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center text-sm font-bold transition-colors ${A?"bg-indigo-600 text-white":"bg-gray-100 text-gray-500"}`,children:N.name.charAt(0)}),e.jsxs("div",{children:[e.jsx("p",{className:`font-bold text-sm ${A?"text-indigo-900":"text-gray-900"}`,children:N.name}),e.jsx("p",{className:"text-xs font-semibold text-gray-400",children:N.currentPlan?`Current: ${N.currentPlan}`:"No active protocol"})]})]}),e.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all ${A?"border-indigo-600 bg-indigo-600 text-white":"border-gray-200 text-transparent group-hover:border-gray-300"}`,children:e.jsx(as,{size:14,strokeWidth:4})})]},N.id)}),S.length===0&&e.jsxs("div",{className:"text-center py-8 text-gray-400",children:[e.jsx(rt,{size:32,className:"mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm font-bold",children:"No athletes found"})]})]})]})})}):null},JM=({role:t})=>{const s=Gt();zr();const r=t==="TRAINER"||t==="SUPER_ADMIN"||t==="MANAGER"||t==="BRANCH_ADMIN",[l,i]=j.useState([]),[o,d]=j.useState(""),[x,u]=j.useState(null),[h,p]=j.useState("monday"),[g,y]=j.useState(!0),[f,w]=j.useState(!1),[S,v]=j.useState(null),[N,A]=j.useState(!1),[L,M]=j.useState(null);so.useEffect(()=>{T()},[r]);const T=async()=>{try{y(!0);const $=r?await K7():await WM();i($),$.length>0&&u($[0])}catch($){console.error("Failed to load plans:",$),It.error("Failed to load workout plans")}finally{y(!1)}},_=async $=>{try{S&&S.id?(await Z7(S.id,$),It.success("Protocol updated successfully")):(await J7($),It.success("Protocol created successfully")),await T(),w(!1),v(null)}catch(G){console.error("Error saving plan",G),It.error("Failed to save protocol")}},I=async $=>{if(window.confirm("Are you sure you want to deactivate this workout protocol?"))try{await Q7($),It.success("Protocol deactivated successfully"),await T()}catch(G){console.error("Error deleting plan",G),It.error("Failed to deactivate protocol")}},B=$=>{M($),A(!0)},P=$=>{console.log(`Assigned Plan ${L} to members:`,$),A(!1)},R=$=>{v($),w(!0)},W=()=>{v(null),w(!0)},H=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"];return e.jsxs("div",{className:"p-6 md:p-8 min-h-screen font-sans bg-gradient-to-br from-slate-50 via-white to-violet-50/30",children:[e.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-black bg-gradient-to-r from-slate-900 to-slate-700 bg-clip-text text-transparent tracking-tight mb-2",children:r?"Training Architecture":"Force & Hypertrophy"}),e.jsx("p",{className:"text-slate-500 font-medium text-sm md:text-lg max-w-2xl leading-relaxed",children:r?"Design and manage evidence-based training protocols.":`Executing the ${x?.name} protocol. Focus on form and tempo.`})]}),r&&e.jsxs("button",{onClick:W,className:"group px-6 py-3 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-xl text-sm font-bold shadow-lg shadow-violet-200 hover:shadow-violet-500/30 hover:-translate-y-0.5 transition-all flex items-center justify-center gap-2 w-full md:w-auto",children:[e.jsx(St,{size:18,strokeWidth:2.5}),"Create Protocol"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 md:gap-8",children:[r?e.jsx("div",{className:"lg:col-span-4 space-y-6",children:e.jsxs("div",{className:"bg-white p-4 md:p-6 rounded-[32px] shadow-xl shadow-slate-200/50 border border-slate-100 space-y-6",children:[e.jsxs("div",{className:"relative group",children:[e.jsx(Qe,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-600 transition-colors",size:18}),e.jsx("input",{type:"text",placeholder:"Search Protocols...",className:"w-full h-12 pl-12 pr-4 bg-slate-50 rounded-xl font-semibold border-transparent focus:bg-white focus:ring-2 focus:ring-violet-100 outline-none transition-all placeholder:font-bold placeholder:text-slate-400 text-sm",value:o,onChange:$=>d($.target.value)})]}),e.jsx("div",{className:"space-y-3 max-h-[400px] md:max-h-[600px] overflow-y-auto pr-2 custom-scrollbar",children:l.filter($=>$.name.toLowerCase().includes(o.toLowerCase())).map($=>e.jsx("div",{onClick:()=>u($),className:`w-full p-4 md:p-5 rounded-2xl text-left transition-all relative group cursor-pointer border ${x?.id===$.id?"bg-gradient-to-r from-violet-600 to-purple-600 border-transparent shadow-lg shadow-violet-200":"bg-white border-slate-100 hover:border-violet-100 hover:shadow-md hover:shadow-violet-500/5"}`,children:e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("div",{className:`p-2 rounded-xl ${x?.id===$.id?"bg-white/20 text-white":"bg-violet-50 text-violet-600"}`,children:e.jsx(qr,{size:18,strokeWidth:2.5})}),e.jsxs("div",{className:"flex gap-1",onClick:G=>G.stopPropagation(),children:[e.jsx("button",{onClick:()=>B($.id),className:`p-1.5 rounded-lg transition-colors ${x?.id===$.id?"text-white/80 hover:bg-white/20 hover:text-white":"text-slate-400 hover:bg-violet-50 hover:text-violet-600"}`,title:"Assign",children:e.jsx(rt,{size:16})}),e.jsx("button",{onClick:()=>R($),className:`p-1.5 rounded-lg transition-colors ${x?.id===$.id?"text-white/80 hover:bg-white/20 hover:text-white":"text-slate-400 hover:bg-violet-50 hover:text-violet-600"}`,title:"Edit",children:e.jsx(ar,{size:16})}),e.jsx("button",{onClick:()=>I($.id),className:`p-1.5 rounded-lg transition-colors ${x?.id===$.id?"text-white/80 hover:bg-white/20 hover:text-red-200":"text-slate-400 hover:bg-red-50 hover:text-red-500"}`,title:"Delete",children:e.jsx(Ms,{size:16})})]})]}),e.jsx("h3",{className:`text-base font-bold mb-1 ${x?.id===$.id?"text-white":"text-slate-900"}`,children:$.name}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`text-xs font-bold ${x?.id===$.id?"text-violet-100":"text-slate-500"}`,children:$.level||$.difficulty||"Advanced"}),e.jsx("div",{className:`w-1 h-1 rounded-full ${x?.id===$.id?"bg-violet-300":"bg-slate-300"}`}),e.jsx("span",{className:`text-xs font-bold ${x?.id===$.id?"text-violet-100":"text-slate-500"}`,children:$.duration||"12 Weeks"})]})]})},$.id))})]})}):e.jsx("div",{className:"lg:col-span-4 space-y-6 md:space-y-8",children:e.jsxs("div",{className:"bg-white rounded-[32px] md:rounded-[40px] p-6 md:p-8 relative overflow-hidden h-full flex flex-col justify-between min-h-[400px] border border-slate-100 shadow-xl shadow-slate-200/50 group",children:[e.jsx("div",{className:"absolute top-0 right-0 w-[300px] h-[300px] bg-violet-100/50 rounded-full blur-[80px] opacity-60 group-hover:opacity-80 transition-opacity duration-700"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-[250px] h-[250px] bg-fuchsia-100/50 rounded-full blur-[80px] opacity-60"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6 md:mb-8",children:[e.jsx("div",{className:"w-12 h-12 md:w-14 md:h-14 bg-gradient-to-br from-violet-500 to-purple-600 rounded-2xl flex items-center justify-center shadow-lg shadow-violet-200 text-white",children:e.jsx(Ks,{size:24,className:"md:w-7 md:h-7",strokeWidth:2.5})}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-400 mb-1",children:"Current Week"}),e.jsxs("div",{className:"text-xl md:text-2xl font-black text-slate-900",children:["Week ",x&&Math.ceil((new Date-new Date(x.createdAt))/(1e3*60*60*24*7))||1]})]})]}),e.jsxs("div",{className:"space-y-6 md:space-y-8",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-xs font-bold uppercase tracking-wider mb-3",children:[e.jsx("span",{className:"text-slate-600",children:"Protocol Progress"}),e.jsxs("span",{className:"text-violet-600",children:[x?Math.min(100,Math.ceil((new Date-new Date(x.createdAt))/(1e3*60*60*24*7*12)*100)):0,"%"]})]}),e.jsx("div",{className:"h-3 bg-slate-100 rounded-full overflow-hidden p-[2px] border border-slate-200",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-violet-500 to-purple-500 rounded-full relative overflow-hidden shadow-sm transition-all duration-1000",style:{width:`${x?Math.min(100,Math.ceil((new Date-new Date(x.createdAt))/(1e3*60*60*24*7*12)*100)):0}%`},children:e.jsx("div",{className:"absolute inset-0 bg-white/30 animate-[shimmer_2s_infinite]"})})})]}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:e.jsxs("div",{className:"bg-slate-50/80 p-5 md:p-6 rounded-2xl flex items-center justify-between border border-slate-100",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-400 mb-1",children:"Status"}),e.jsx("div",{className:"text-base md:text-lg font-black text-emerald-600 uppercase tracking-tight",children:"Active Plan"})]}),e.jsx("div",{className:"w-10 h-10 bg-white rounded-full flex items-center justify-center shadow-sm text-emerald-500",children:e.jsx(Wt,{size:20,className:"animate-pulse"})})]})})]})]}),e.jsxs("button",{onClick:()=>s("/progress"),className:"relative z-10 w-full py-4 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-2xl font-bold text-xs uppercase tracking-widest hover:shadow-lg hover:shadow-violet-500/30 hover:-translate-y-1 transition-all mt-6 md:mt-8 flex items-center justify-center gap-3 overflow-hidden group/btn",children:[e.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:["Open Progress Lab ",e.jsx(vs,{size:16})]}),e.jsx("div",{className:"absolute inset-0 bg-white/20 translate-y-full group-hover/btn:translate-y-0 transition-transform duration-300"})]})]})}),e.jsxs("div",{className:"lg:col-span-8 space-y-6 md:space-y-8",children:[e.jsx("div",{className:"flex overflow-x-auto gap-3 pb-2 no-scrollbar",children:H.map($=>{const G=x?.days?.[$];return e.jsx("button",{onClick:()=>p($),className:`flex-shrink-0 px-6 py-3.5 rounded-xl text-sm font-bold transition-all border ${h===$?"bg-gradient-to-r from-violet-600 to-purple-600 text-white shadow-lg shadow-violet-200 border-transparent scale-105":G?"bg-white border-slate-200 text-slate-700 hover:border-violet-200 hover:bg-violet-50 hover:text-violet-700":"bg-slate-50 border-transparent text-slate-300 cursor-not-allowed"}`,children:$.toUpperCase()},$)})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6",children:[{label:"Total Volume",value:x?.volume||"N/A",icon:Wt,color:"text-violet-600",bg:"bg-violet-50",border:"border-violet-100"},{label:"Est. Duration",value:x?.timePerSession||x?.avgDuration||"60 min",icon:Je,color:"text-orange-600",bg:"bg-orange-50",border:"border-orange-100"},{label:"Intensity",value:x?.intensity||"High",icon:ha,color:"text-amber-600",bg:"bg-amber-50",border:"border-amber-100"}].map(($,G)=>e.jsxs("div",{className:`bg-white p-6 rounded-[24px] shadow-sm border ${$.border} flex items-center gap-5 hover:shadow-lg transition-all hover:-translate-y-1`,children:[e.jsx("div",{className:`w-12 h-12 ${$.bg} ${$.color} rounded-2xl flex items-center justify-center`,children:e.jsx($.icon,{size:22,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-[10px] font-bold uppercase tracking-wider text-slate-400 mb-0.5",children:$.label}),e.jsx("div",{className:"text-xl font-black text-slate-900",children:$.value})]})]},G))}),e.jsxs("div",{className:"bg-white rounded-[32px] shadow-xl shadow-slate-200/50 border border-slate-100 overflow-hidden",children:[e.jsxs("div",{className:"p-4 md:p-6 border-b border-slate-100 bg-slate-50/50 flex flex-col md:flex-row md:items-center justify-between gap-4 md:gap-0",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white rounded-2xl flex items-center justify-center text-violet-600 shadow-sm border border-slate-100",children:e.jsx(Ye,{size:24,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-black text-slate-900 tracking-tight",children:x?`Day ${H.indexOf(h)+1}: ${x.name}`:"Today's Protocol"}),e.jsxs("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest mt-0.5",children:["Focus: ",x?.goal||"Strength & Power"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between md:justify-end gap-3 w-full md:w-auto",children:[e.jsxs("button",{className:"flex items-center justify-center gap-2 px-4 py-2 bg-white text-slate-600 rounded-xl text-xs font-bold border border-slate-200 hover:border-violet-500 hover:text-violet-600 transition-all shadow-sm flex-1 md:flex-none",children:[e.jsx(u8,{size:14})," Playlist"]}),e.jsxs("button",{className:"flex items-center justify-center gap-2 px-5 py-2.5 bg-slate-900 text-white rounded-xl text-xs font-bold hover:bg-slate-800 transition-all shadow-lg shadow-slate-200 hover:-translate-y-0.5 flex-1 md:flex-none",children:[e.jsx(uC,{size:14})," Start Session"]})]})]}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"space-y-4",children:x?.days?.[h]?x.days[h].map(($,G)=>e.jsxs("div",{className:"group flex flex-col md:flex-row items-stretch md:items-center p-5 rounded-2xl bg-white border border-slate-100 hover:border-violet-200 hover:shadow-lg hover:shadow-violet-500/5 transition-all gap-6 relative overflow-hidden",children:[e.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-violet-500 opacity-0 group-hover:opacity-100 transition-opacity"}),e.jsxs("div",{className:"flex items-center gap-5 md:w-1/3",children:[e.jsx("div",{className:"w-12 h-12 bg-slate-50 rounded-2xl flex items-center justify-center shadow-inner text-slate-400 font-black text-lg group-hover:bg-violet-600 group-hover:text-white transition-all duration-300",children:G+1}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-base font-bold text-slate-900 mb-1 group-hover:text-violet-700 transition-colors",children:$.name}),e.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-400 bg-slate-50 px-2 py-1 rounded-md border border-slate-100",children:$.notes?$.notes.length>20?$.notes.substring(0,20)+"...":$.notes:"Standard Movement"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 flex-1",children:[e.jsxs("div",{className:"text-center md:text-left",children:[e.jsx("div",{className:"text-[9px] font-black uppercase tracking-widest text-slate-400 mb-1",children:"Sets"}),e.jsx("div",{className:"text-sm font-bold text-slate-900 bg-slate-50 inline-block px-3 py-1 rounded-lg border border-slate-100",children:$.sets})]}),e.jsxs("div",{className:"text-center md:text-left",children:[e.jsx("div",{className:"text-[9px] font-black uppercase tracking-widest text-slate-400 mb-1",children:"Reps"}),e.jsx("div",{className:"text-sm font-bold text-slate-900 bg-slate-50 inline-block px-3 py-1 rounded-lg border border-slate-100",children:$.reps})]}),e.jsxs("div",{className:"text-center md:text-left",children:[e.jsx("div",{className:"text-[9px] font-black uppercase tracking-widest text-slate-400 mb-1",children:"RPE"}),e.jsxs("div",{className:"text-sm font-bold text-orange-600 flex items-center gap-1",children:[e.jsx(xg,{size:12,fill:"currentColor"})," ",$.rpe,"/10"]})]}),e.jsxs("div",{className:"text-center md:text-left",children:[e.jsx("div",{className:"text-[9px] font-black uppercase tracking-widest text-slate-400 mb-1",children:"Rest"}),e.jsx("div",{className:"text-sm font-bold text-violet-600",children:$.rest})]})]}),e.jsx("button",{className:"hidden md:flex w-10 h-10 bg-slate-50 rounded-xl items-center justify-center text-slate-400 hover:text-violet-600 hover:bg-violet-50 transition-all border border-transparent hover:border-violet-100",children:e.jsx(Yn,{size:18})})]},$.id)):e.jsxs("div",{className:"text-center py-20 bg-slate-50/50 rounded-[32px] border-2 border-dashed border-slate-200",children:[e.jsx("div",{className:"w-20 h-20 bg-white rounded-3xl flex items-center justify-center text-slate-300 mx-auto mb-6 shadow-sm",children:e.jsx(ha,{size:40})}),e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"Rest & Recovery Day"}),e.jsx("p",{className:"text-slate-500 font-medium max-w-xs mx-auto text-sm leading-relaxed",children:"No specific protocol scheduled. Focus on active recovery and hydration."})]})})})]})]})]})]}),e.jsx(XM,{isOpen:f,onClose:()=>w(!1),onSave:_,initialData:S}),e.jsx(KM,{isOpen:N,onClose:()=>A(!1),onAssign:P,planName:l.find($=>$.id===L)?.name})]})},Lw=async(t=null)=>{const s=t?`/trainer/members/${t}/progress`:"/member/progress";return(await we.get(s)).data},ZM=async t=>(await we.post("/member/progress",t)).data,A0=({label:t,value:s,onChange:r,unit:l,icon:i})=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] px-1",children:t}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-600 transition-colors duration-300",children:e.jsx(i,{size:18})}),e.jsx("input",{type:"number",step:"0.1",className:"w-full h-14 pl-12 pr-12 bg-white border-2 border-slate-200 rounded-2xl text-lg font-black text-slate-900 focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 transition-all shadow-sm group-hover:border-violet-200",value:s,onChange:o=>r(o.target.value)}),e.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 font-bold text-sm",children:l})]})]}),QM=({isOpen:t,onClose:s,onSave:r})=>{const[l,i]=j.useState({weight:"",bodyFat:"",chest:"",waist:"",arms:"",legs:""});if(!t)return null;const o=()=>{r(l)};return e.jsx(at,{isOpen:t,onClose:s,title:"Log Transformation",subtitle:`Entry Date: ${new Date().toLocaleDateString()}`,maxWidth:"max-w-2xl",footer:e.jsxs("div",{className:"flex items-center justify-end gap-6 w-full",children:[e.jsx("button",{onClick:s,className:"px-8 py-4 text-slate-500 text-xs font-black uppercase tracking-widest hover:text-red-500 transition-colors",children:"Discard"}),e.jsxs("button",{onClick:o,className:"group relative px-10 py-4 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-2xl text-sm font-black shadow-xl shadow-violet-200 hover:shadow-2xl hover:shadow-violet-500/30 hover:-translate-y-0.5 active:translate-y-0 transition-all flex items-center gap-3 overflow-hidden",children:[e.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:["INTEGRATE DATA ",e.jsx(xa,{size:18})]}),e.jsx("div",{className:"absolute inset-0 bg-white/20 translate-y-full group-hover:translate-y-0 transition-transform duration-300"})]})]}),children:e.jsx("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar",children:e.jsxs("div",{className:"space-y-10",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsx(A0,{label:"Current Weight",value:l.weight,onChange:d=>i({...l,weight:d}),unit:"kg",icon:qj}),e.jsx(A0,{label:"Body Fat %",value:l.bodyFat,onChange:d=>i({...l,bodyFat:d}),unit:"%",icon:kd})]}),e.jsxs("div",{className:"space-y-6 pt-2 border-t border-slate-100/50",children:[e.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-[0.3em] flex items-center gap-4",children:["Circumference Audit",e.jsx("div",{className:"flex-1 h-px bg-slate-200"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[e.jsx(A0,{label:"Chest",value:l.chest,onChange:d=>i({...l,chest:d}),unit:"cm",icon:Wt}),e.jsx(A0,{label:"Waist",value:l.waist,onChange:d=>i({...l,waist:d}),unit:"cm",icon:Wt}),e.jsx(A0,{label:"Upper Arms",value:l.arms,onChange:d=>i({...l,arms:d}),unit:"cm",icon:Wt}),e.jsx(A0,{label:"Thighs",value:l.legs,onChange:d=>i({...l,legs:d}),unit:"cm",icon:Wt})]})]}),e.jsxs("div",{className:"bg-violet-50 p-6 rounded-[32px] border border-violet-100 flex items-start gap-4 shadow-sm",children:[e.jsx("div",{className:"p-2 bg-white rounded-full text-violet-600 shadow-sm shrink-0",children:e.jsx(jn,{size:18})}),e.jsx("p",{className:"text-sm font-medium text-violet-900 leading-relaxed",children:"Accurate metrics fuel anatomical precision. Ensure you are using consistent measuring protocols (same time, same location) for data integrity."})]})]})})})},Y1=({current:t,start:s,target:r,color:l})=>{const i=Math.abs(s-r)||1,o=Math.abs(s-t),d=Math.min(Math.round(o/i*100),100);return e.jsxs("div",{className:"space-y-3 mt-6",children:[e.jsxs("div",{className:"flex justify-between items-end",children:[e.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Progress to Target"}),e.jsxs("span",{className:"text-sm font-bold",style:{color:l},children:[d,"%"]})]}),e.jsx("div",{className:"h-2.5 bg-slate-100 rounded-full overflow-hidden border border-slate-200/50",children:e.jsx("div",{className:"h-full rounded-full transition-all duration-1000 shadow-[0_0_10px_rgba(0,0,0,0.1)] relative",style:{width:`${d}%`,backgroundColor:l},children:e.jsx("div",{className:"absolute inset-0 bg-white/20 animate-pulse"})})}),e.jsxs("div",{className:"flex justify-between text-[9px] font-bold text-slate-400 uppercase tracking-tighter",children:[e.jsxs("span",{children:["Start: ",s]}),e.jsxs("span",{children:["Target: ",r]})]})]})},eD=()=>{const t=Gt(),{role:s}=Ho(),r=zr(),i=new URLSearchParams(r.search).get("memberId"),o=r.pathname.includes("/log"),[d,x]=j.useState("overview"),[u,h]=j.useState(!0),[p,g]=j.useState([]),[y,f]=j.useState({chest:{current:0,change:0,unit:"cm"},waist:{current:0,change:0,unit:"cm"},arms:{current:0,change:0,unit:"cm"},legs:{current:0,change:0,unit:"cm"}}),[w,S]=j.useState([]),[v,N]=j.useState({weight:78,bodyFat:15,goal:""});j.useEffect(()=>{A()},[]);const A=async()=>{try{h(!0);const G=await Lw(i);if(G&&G.targets&&N({weight:parseFloat(G.targets.weight)||78,bodyFat:parseFloat(G.targets.bodyFat)||15,goal:G.targets.goal||""}),G&&G.logs&&G.logs.length>0){const le=G.logs.map(F=>({...F,dateLabel:new Date(F.date).toLocaleDateString(),weight:parseFloat(F.weight),bodyFat:parseFloat(F.bodyFat)}));g(le);const Q=le[le.length-1],ne=le.length>1?le[le.length-2]:null;if(Q.measurements){const F=Q.measurements,de=ne?.measurements||{};f({chest:{current:F.chest||0,change:(parseFloat(F.chest)||0)-(parseFloat(de.chest)||0),unit:"cm"},waist:{current:F.waist||0,change:(parseFloat(F.waist)||0)-(parseFloat(de.waist)||0),unit:"cm"},arms:{current:F.arms||0,change:(parseFloat(F.arms)||0)-(parseFloat(de.arms)||0),unit:"cm"},legs:{current:F.legs||0,change:(parseFloat(F.legs)||0)-(parseFloat(de.legs)||0),unit:"cm"}})}Q.photos&&S(Q.photos||[])}}catch(G){console.error("Failed to load progress:",G)}finally{h(!1)}},L=async G=>{try{const le={weight:G.weight,bodyFat:G.bodyFat,measurements:{chest:G.chest,waist:G.waist,arms:G.arms,legs:G.legs},memberId:i,date:new Date};await ZM(le);const Q=i?`/progress?memberId=${i}`:"/progress";t(Q),A()}catch(le){console.error("Failed to save progress:",le)}};if(s!=="MEMBER"&&!i)return e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-white p-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-amber-50 text-amber-500 rounded-full flex items-center justify-center mb-4",children:e.jsx(ps,{size:32})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"No Member Selected"}),e.jsx("p",{className:"text-gray-500 mt-2 max-w-xs",children:"Please select a member from your list to view or log their progress."}),e.jsx("button",{onClick:()=>{t(s==="TRAINER"?"/trainer/members/assigned":"/dashboard")},className:"mt-6 px-6 py-2.5 bg-violet-600 text-white rounded-xl font-bold hover:bg-violet-700 transition-all shadow-lg shadow-violet-200",children:"Go Back"})]});if(u)return e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-white",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-violet-600 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"mt-4 text-slate-500 font-bold uppercase tracking-widest text-xs",children:"Calibrating Metrics..."})]});const M=p.length>0,T=M?p[p.length-1].weight:80,_=M?p[0].weight:80,I=v.weight,B=M?p[p.length-1].bodyFat:20,P=M?p[0].bodyFat:20,R=v.bodyFat,W=(T-_).toFixed(1),H=M&&p.length>1?T<p[p.length-2].weight?"down":"up":"neutral",$=[{id:"m1",label:`Weight Goal (${I}kg)`,target:I,current:T,completed:T<=I},{id:"m2",label:`Body Fat Goal (${R}%)`,target:R,current:B,completed:B<=R},{id:"m3",label:"100% Consistency",target:100,current:M?85:0,completed:!1}];return e.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-6 pb-12 min-h-screen font-sans selection:bg-violet-100 selection:text-violet-900",children:[e.jsxs("div",{className:"fixed inset-0 pointer-events-none",children:[e.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-violet-100/40 rounded-full blur-[120px] mix-blend-multiply opacity-50"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-[500px] h-[500px] bg-purple-100/40 rounded-full blur-[120px] mix-blend-multiply opacity-50"})]}),e.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto space-y-8",children:[e.jsxs("div",{className:"mb-8 relative animate-in slide-in-from-top-5 duration-700",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-6 md:p-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent mb-2 flex items-center gap-3",children:[e.jsx(Wt,{className:"text-violet-600",size:32}),"Transformation Lab"]}),e.jsxs("p",{className:"text-slate-600 text-sm md:text-base font-medium max-w-2xl",children:["Track, analyze, and optimize your fitness journey with ",e.jsx("span",{className:"text-violet-600 font-bold",children:"precision metrics"}),"."]})]}),e.jsxs("button",{onClick:()=>t(i?`/progress/log?memberId=${i}`:"/progress/log"),className:"group relative px-6 py-3 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-xl text-sm font-bold shadow-lg shadow-violet-500/30 overflow-hidden transition-all hover:-translate-y-1 hover:shadow-violet-500/50 hover:shadow-xl",children:[e.jsx("div",{className:"absolute inset-0 bg-white/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("span",{className:"relative flex items-center gap-2",children:[e.jsx(St,{size:18,strokeWidth:3}),"LOG NEW DATA"]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 p-6 hover:shadow-2xl hover:scale-[1.02] hover:-translate-y-1 transition-all duration-300 group",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("div",{className:"p-3 bg-violet-50 text-violet-600 rounded-xl group-hover:scale-110 group-hover:rotate-3 transition-all duration-300 shadow-sm group-hover:bg-violet-600 group-hover:text-white",children:e.jsx(qj,{size:20,strokeWidth:2.5})}),e.jsxs("div",{className:`px-2.5 py-1 rounded-full text-[11px] font-bold flex items-center gap-1 ${H==="down"?"bg-emerald-50 text-emerald-600 border border-emerald-100":"bg-rose-50 text-rose-600 border border-rose-100"}`,children:[H==="down"?e.jsx($x,{size:12}):e.jsx(Ks,{size:12}),Math.abs(W)," kg"]})]}),e.jsx("div",{className:"text-[11px] font-bold uppercase tracking-widest text-slate-400 mb-1",children:"Body Mass"}),e.jsxs("div",{className:"text-3xl font-black text-slate-900 mb-2 tracking-tight",children:[T," ",e.jsx("span",{className:"text-lg font-bold text-slate-400",children:"kg"})]}),e.jsx(Y1,{current:T,start:_,target:I,color:"#7C3AED"})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 p-6 hover:shadow-2xl hover:scale-[1.02] hover:-translate-y-1 transition-all duration-300 group",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("div",{className:"p-3 bg-fuchsia-50 text-fuchsia-600 rounded-xl group-hover:scale-110 group-hover:rotate-3 transition-all duration-300 shadow-sm group-hover:bg-fuchsia-600 group-hover:text-white",children:e.jsx(kd,{size:20,strokeWidth:2.5})}),e.jsxs("div",{className:"px-2.5 py-1 rounded-full bg-emerald-50 text-emerald-600 border border-emerald-100 text-[11px] font-bold flex items-center gap-1",children:[e.jsx($x,{size:12}),"-3.6 %"]})]}),e.jsx("div",{className:"text-[11px] font-bold uppercase tracking-widest text-slate-400 mb-1",children:"Composition"}),e.jsxs("div",{className:"text-3xl font-black text-slate-900 mb-2 tracking-tight",children:[B," ",e.jsx("span",{className:"text-lg font-bold text-slate-400",children:"%"})]}),e.jsx(Y1,{current:B,start:P,target:R,color:"#C026D3"})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 p-6 hover:shadow-2xl hover:scale-[1.02] hover:-translate-y-1 transition-all duration-300 group",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("div",{className:"p-3 bg-blue-50 text-blue-600 rounded-xl group-hover:scale-110 group-hover:rotate-3 transition-all duration-300 shadow-sm group-hover:bg-blue-600 group-hover:text-white",children:e.jsx(ha,{size:20,strokeWidth:2.5})}),e.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-blue-600 bg-blue-50 px-2.5 py-1 rounded-full border border-blue-100",children:"Optimal"})]}),e.jsx("div",{className:"text-[11px] font-bold uppercase tracking-widest text-slate-400 mb-1",children:"BMI Score"}),e.jsx("div",{className:"text-3xl font-black text-slate-900 mb-2 tracking-tight",children:"24.2"}),e.jsxs("div",{className:"flex items-center gap-2 mt-auto pt-6 text-xs font-semibold text-slate-400 group-hover:text-blue-600 transition-colors",children:[e.jsx(rl,{size:14,className:"text-blue-500"}),e.jsx("span",{className:"text-slate-900 font-bold",children:"+0.4"})," since update"]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 p-6 hover:shadow-2xl hover:scale-[1.02] hover:-translate-y-1 transition-all duration-300 group flex flex-col justify-between relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-violet-500/5 rounded-full blur-xl -mr-10 -mt-10 group-hover:bg-violet-500/10 transition-all duration-500"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("div",{className:"p-3 bg-violet-50 text-violet-600 rounded-xl group-hover:scale-110 group-hover:-rotate-3 transition-all duration-300 shadow-sm group-hover:bg-violet-600 group-hover:text-white",children:e.jsx(jn,{size:20,strokeWidth:2.5})}),e.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-violet-600 bg-violet-50 px-2.5 py-1 rounded-full border border-violet-100",children:"Next Peak"})]}),e.jsx("div",{className:"text-lg font-bold text-slate-900 mb-4 line-clamp-2 leading-tight group-hover:text-violet-700 transition-colors",children:$.find(G=>!G.completed)?.label||"All Goals Completed!"})]}),e.jsxs("div",{className:"space-y-3 relative z-10",children:[e.jsxs("div",{className:"flex justify-between text-[11px] font-bold uppercase tracking-widest",children:[e.jsx("span",{className:"text-slate-400 group-hover:text-slate-500 transition-colors",children:"Progress"}),e.jsxs("span",{className:"text-violet-600",children:[Math.round($[0].current/$[0].target*100),"%"]})]}),e.jsx("div",{className:"h-2 bg-slate-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-violet-600 relative overflow-hidden",style:{width:`${Math.min(Math.round($[0].current/$[0].target*100),100)}%`},children:e.jsx("div",{className:"absolute inset-0 bg-white/30 animate-[shimmer_2s_infinite]"})})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[e.jsx("div",{className:"lg:col-span-12 xl:col-span-8 space-y-8",children:e.jsxs("div",{className:"bg-white rounded-[24px] shadow-xl border border-slate-100 p-8 h-full flex flex-col",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-6 mb-8",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-violet-500 to-purple-600 text-white shadow-lg shadow-violet-200 rounded-2xl flex items-center justify-center",children:e.jsx(Wt,{size:24,strokeWidth:2.5})}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900 tracking-tight",children:"Anatomical Metrics"})]}),e.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-xl self-start sm:self-auto",children:[e.jsx("button",{onClick:()=>x("overview"),className:`px-5 py-2 rounded-lg text-xs font-bold uppercase tracking-wider transition-all duration-300 ${d==="overview"?"bg-white text-violet-600 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:"Grid View"}),e.jsx("button",{onClick:()=>x("history"),className:`px-5 py-2 rounded-lg text-xs font-bold uppercase tracking-wider transition-all duration-300 ${d==="history"?"bg-white text-violet-600 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:"Timeline"})]})]}),d==="overview"?e.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-2",children:Object.entries(y).map(([G,le])=>e.jsxs("div",{className:"group cursor-pointer p-5 bg-slate-50 rounded-2xl hover:bg-white hover:shadow-lg hover:shadow-violet-500/10 transition-all duration-300 border border-slate-100 hover:border-violet-100 hover:-translate-y-1",children:[e.jsx("div",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-400 mb-2 group-hover:text-violet-500 transition-colors",children:G}),e.jsxs("div",{className:"text-xl font-black text-slate-900 mb-2 group-hover:text-violet-600 transition-colors",children:[le.current," ",e.jsx("span",{className:"text-xs text-slate-400 font-bold",children:le.unit})]}),e.jsxs("div",{className:`text-[10px] font-bold uppercase tracking-wider flex items-center gap-1.5 ${le.change>=0?"text-violet-600":"text-emerald-600"}`,children:[le.change>=0?e.jsx(Ks,{size:12,strokeWidth:2.5}):e.jsx($x,{size:12,strokeWidth:2.5}),Math.abs(le.change).toFixed(1)," ",le.unit]})]},G))}),e.jsxs("div",{className:"flex-1 min-h-[250px] bg-slate-50 rounded-2xl border border-slate-100 p-6 relative overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6 shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-white rounded-lg shadow-sm text-slate-500",children:e.jsx(Yx,{size:18})}),e.jsx("h3",{className:"text-sm font-bold text-slate-900 uppercase tracking-widest",children:"Weekly Load"})]}),e.jsx("div",{className:"text-xs font-bold text-slate-400",children:"Past 7 Days"})]}),e.jsx("div",{className:"flex items-end justify-between h-40 gap-4 mt-auto",children:[40,65,30,85,55,90,45].map((G,le)=>e.jsxs("div",{className:"flex-1 flex flex-col justify-end items-center gap-2 group h-full",children:[e.jsx("div",{className:"w-full bg-slate-200 rounded-t-lg relative overflow-hidden transition-all duration-500 group-hover:bg-violet-200",style:{height:`${G}%`},children:e.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-violet-500 h-0 transition-all duration-700 delay-100 group-hover:h-full opacity-0 group-hover:opacity-100"})}),e.jsx("span",{className:"text-[10px] font-bold text-slate-400 group-hover:text-violet-600 uppercase",children:["M","T","W","T","F","S","S"][le]})]},le))})]})]}):e.jsx("div",{className:"flex-1 animate-in fade-in duration-500",children:e.jsx("div",{className:"bg-slate-50 rounded-[32px] border border-slate-100 overflow-hidden",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-slate-200 bg-slate-100/50",children:[e.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Entry Date"}),e.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Body Weight"}),e.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Body Fat %"}),e.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Trend"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:p.slice().reverse().map((G,le,Q)=>{const ne=Q[le+1],F=ne?(G.weight-ne.weight).toFixed(1):0;return e.jsxs("tr",{className:"hover:bg-white transition-colors group",children:[e.jsx("td",{className:"px-8 py-5",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-white rounded-lg shadow-sm text-slate-400",children:e.jsx(Ye,{size:14})}),e.jsx("span",{className:"font-bold text-slate-900",children:G.dateLabel})]})}),e.jsx("td",{className:"px-8 py-5",children:e.jsxs("span",{className:"text-sm font-black text-slate-900",children:[G.weight," kg"]})}),e.jsx("td",{className:"px-8 py-5",children:e.jsxs("span",{className:"text-sm font-bold text-slate-500",children:[G.bodyFat,"%"]})}),e.jsx("td",{className:"px-8 py-5 text-right",children:le<Q.length-1?e.jsxs("span",{className:`text-[10px] font-black px-2 py-1 rounded-lg ${F<=0?"bg-emerald-50 text-emerald-600":"bg-rose-50 text-rose-600"}`,children:[F>0?"+":"",F," kg"]}):e.jsx("span",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest",children:"Baseline"})})]},le)})})]})})}),e.jsxs("div",{className:"p-8 bg-gradient-to-br from-violet-50 via-white to-purple-50 rounded-2xl border border-violet-100/50 relative overflow-hidden group hover:shadow-lg hover:shadow-violet-500/5 transition-all duration-500 mt-auto",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/40 blur-3xl -mr-20 -mt-20 group-hover:bg-white/60 transition-all duration-700"}),e.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row items-center justify-between gap-8",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("div",{className:"w-14 h-14 bg-white rounded-2xl flex items-center justify-center text-violet-600 shadow-md shadow-violet-100 group-hover:scale-110 group-hover:rotate-6 transition-all duration-500",children:e.jsx(Ks,{size:28,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-black text-slate-900 mb-1",children:"Consistent Evolution"}),e.jsxs("p",{className:"text-slate-500 text-sm font-medium",children:["You've reached ",e.jsx("span",{className:"text-violet-600 font-bold bg-violet-50 px-2 py-0.5 rounded-lg border border-violet-100",children:"92%"})," of your quarterly metabolic targets."]})]})]}),e.jsxs("button",{className:"group/btn px-6 py-3 bg-white text-violet-600 rounded-xl text-xs font-black uppercase tracking-widest hover:bg-violet-600 hover:text-white transition-all shadow-md shadow-violet-100 hover:shadow-violet-500/20 border border-violet-50",children:[e.jsx("span",{className:"group-hover/btn:hidden",children:"View Audit"}),e.jsxs("span",{className:"hidden group-hover/btn:flex items-center gap-2",children:["Explore Report ",e.jsx(rl,{size:14})]})]})]})]})]})}),e.jsxs("div",{className:"lg:col-span-12 xl:col-span-4 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-[24px] shadow-xl border border-slate-100 p-6 flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-slate-900 text-white shadow-lg shadow-slate-200 rounded-xl flex items-center justify-center",children:e.jsx(Uo,{size:20,strokeWidth:2.5})}),e.jsx("h2",{className:"text-xl font-bold text-slate-900 tracking-tight uppercase",children:"Visual History"})]}),e.jsx("button",{className:"text-xs font-bold text-violet-600 hover:text-violet-700 hover:underline",children:"View All"})]}),e.jsx("div",{className:"space-y-4",children:M&&w.length>0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative aspect-[3/4] w-full rounded-2xl overflow-hidden group shadow-md hover:shadow-2xl transition-all duration-500 cursor-pointer border border-slate-100",children:[e.jsx("div",{className:"absolute top-4 left-4 z-10 bg-black/60 backdrop-blur-md px-3 py-1 rounded-full border border-white/20",children:e.jsx("span",{className:"text-[10px] font-bold text-white uppercase tracking-wider",children:"Latest Scan"})}),e.jsx("img",{src:w[w.length-1].url,alt:"Current Progress",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-700"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900/80 via-transparent to-transparent opacity-80"}),e.jsxs("div",{className:"absolute bottom-5 left-5 right-5",children:[e.jsx("div",{className:"text-[10px] font-bold text-white/70 mb-1 uppercase tracking-wider",children:w[w.length-1].date}),e.jsx("div",{className:"text-xl font-black text-white",children:"Current Physique"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[w.slice(0,-1).map(G=>e.jsx("div",{className:"relative aspect-square rounded-xl overflow-hidden group border border-slate-100 cursor-pointer",children:e.jsx("img",{src:G.url,alt:G.label,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"})},G.id)),e.jsxs("button",{className:"aspect-square rounded-xl border-2 border-dashed border-slate-200 flex flex-col items-center justify-center gap-2 text-slate-400 hover:border-violet-400 hover:text-violet-600 hover:bg-violet-50/10 transition-all duration-300 group",children:[e.jsx(St,{size:20,strokeWidth:2.5}),e.jsx("span",{className:"text-[10px] font-bold uppercase",children:"Add Photo"})]})]})]}):e.jsxs("button",{className:"w-full aspect-square rounded-2xl border-2 border-dashed border-slate-200 flex flex-col items-center justify-center gap-3 text-slate-400 hover:border-violet-400 hover:text-violet-600 hover:bg-violet-50/10 transition-all duration-300 group",children:[e.jsx(Uo,{size:32,strokeWidth:2}),e.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:"No Photos Yet"})]})})]}),e.jsxs("div",{className:"bg-gradient-to-br from-slate-900 to-slate-800 rounded-[24px] shadow-xl shadow-slate-200 p-6 text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-violet-500/20 rounded-full blur-3xl -mr-10 -mt-10"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-2 bg-white/10 rounded-lg backdrop-blur-sm",children:e.jsx(Ye,{size:18})}),e.jsx("span",{className:"text-sm font-bold uppercase tracking-widest text-white/80",children:"Up Next"})]}),e.jsx("h3",{className:"text-2xl font-black mb-2",children:"Upper Body Power"}),e.jsxs("div",{className:"flex items-center gap-4 text-sm font-medium text-slate-300 mb-6",children:[e.jsx("span",{children:"Today, 5:00 PM"}),e.jsx("span",{className:"w-1 h-1 bg-slate-500 rounded-full"}),e.jsx("span",{children:"60 min"})]}),e.jsx("button",{className:"w-full py-3 bg-white text-slate-900 rounded-xl font-bold text-sm hover:bg-violet-50 transition-colors shadow-lg",children:"Start Workout"})]})]})]})]}),e.jsxs("div",{className:"relative overflow-hidden bg-white rounded-[32px] p-8 md:p-12 shadow-xl border border-slate-100 group",children:[e.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-violet-100/50 rounded-full blur-[120px] mix-blend-multiply opacity-50 group-hover:opacity-70 transition-opacity duration-700"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-[400px] h-[400px] bg-purple-100/50 rounded-full blur-[100px] mix-blend-multiply opacity-30"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-16",children:[e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx("div",{className:"p-4 bg-violet-50 text-violet-600 rounded-2xl border border-violet-100 shadow-sm",children:e.jsx(jn,{size:28,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-black text-slate-900 tracking-tight uppercase mb-1",children:"Strategic Roadmaps"}),e.jsx("p",{className:"text-slate-500 font-medium tracking-wide text-sm",children:"Your journey to peak performance"})]})]}),e.jsx("button",{className:"px-6 py-3 rounded-xl bg-slate-50 border border-slate-100 text-slate-600 text-xs font-bold uppercase tracking-widest hover:bg-slate-100 hover:text-slate-900 transition-all",children:"View Full Plan"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-16 relative",children:[e.jsx("div",{className:"hidden md:block absolute top-[50px] left-[15%] right-[15%] h-[4px] bg-slate-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full w-1/2 bg-gradient-to-r from-emerald-500 via-violet-500 to-slate-100 relative",children:e.jsx("div",{className:"absolute inset-0 bg-white/30 animate-[shimmer_2s_infinite]"})})}),$.map((G,le)=>{const Q=G.completed,ne=!G.completed&&(le===0||$[le-1].completed);return e.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[e.jsxs("div",{className:`w-24 h-24 rounded-[32px] flex items-center justify-center mb-8 shadow-xl transition-all duration-500 border-[6px] relative group/node cursor-pointer ${Q?"bg-white border-emerald-50 text-emerald-500 shadow-emerald-500/10":ne?"bg-white border-violet-50 text-violet-600 shadow-violet-500/20 scale-110":"bg-white border-slate-50 text-slate-300"}`,children:[(ne||Q)&&e.jsx("div",{className:`absolute inset-0 rounded-[24px] blur-xl opacity-20 ${Q?"bg-emerald-500":"bg-violet-500"}`}),e.jsx("div",{className:"relative z-10 text-2xl font-black",children:Q?e.jsx(jn,{size:32,strokeWidth:3}):le+1}),ne&&e.jsx("div",{className:"absolute -inset-[8px] rounded-[36px] border-2 border-violet-100 animate-ping opacity-40"})]}),e.jsxs("div",{className:`text-center transition-all duration-300 ${ne?"scale-105":"opacity-70 hover:opacity-100"}`,children:[e.jsx("h4",{className:`text-lg font-black mb-3 ${Q?"text-emerald-600":ne?"text-slate-900":"text-slate-400"}`,children:G.label}),e.jsx("div",{className:`inline-flex items-center gap-2 px-4 py-1.5 rounded-full text-[10px] font-black uppercase tracking-widest border mb-6 ${Q?"bg-emerald-50 border-emerald-100 text-emerald-600":ne?"bg-violet-50 border-violet-100 text-violet-600 shadow-sm":"bg-slate-50 border-slate-100 text-slate-400"}`,children:Q?"Completed":ne?"In Progress":"Locked"}),e.jsx("div",{className:"w-full bg-slate-100 h-3 rounded-full overflow-hidden p-[2px] shadow-inner border border-slate-200/50",children:e.jsx("div",{className:`h-full rounded-full transition-all duration-1000 relative overflow-hidden ${Q?"bg-emerald-500":ne?"bg-violet-500":"bg-slate-300"}`,style:{width:`${Math.min(Math.round(G.current/G.target*100),100)}%`},children:ne&&e.jsx("div",{className:"absolute inset-0 bg-white/30 animate-[shimmer_1.5s_infinite]"})})}),e.jsxs("div",{className:"flex justify-between mt-2 text-[10px] font-bold uppercase tracking-wider text-slate-400",children:[e.jsx("span",{children:"0%"}),e.jsxs("span",{className:ne?"text-violet-600":"",children:[Math.round(Math.min(G.current/G.target*100,100)),"%"]})]})]})]},G.id)})]})]})]})]}),o&&e.jsx(QM,{isOpen:!0,onClose:()=>t(i?`/progress?memberId=${i}`:"/progress"),onSave:L})]})},Cg=(t,s)=>{if(!t||t.length===0){alert("No data to export");return}const r=Object.keys(t[0]).join(","),l=t.map(u=>Object.values(u).map(h=>typeof h=="string"?`"${h.replace(/"/g,'""')}"`:h).join(",")).join(`
`),i=`${r}
${l}`,o=new Blob([i],{type:"text/csv;charset=utf-8;"}),d=URL.createObjectURL(o),x=document.createElement("a");x.setAttribute("href",d),x.setAttribute("download",`${s}_${new Date().toISOString().split("T")[0]}.csv`),x.style.visibility="hidden",document.body.appendChild(x),x.click(),document.body.removeChild(x)},tD=(t,s)=>{console.log(`Simulating PDF Export for ${s}:`,t),alert(`PDF Export for ${s} triggered. Check console for data dump.`)},sD=["Alex Johnson (Pro)","Samantha Reed (Master)","Michael Chen (Elite)","Emily Davis","Robert Wilson","Jessica Taylor"],aD=({isOpen:t,onClose:s,member:r,onSubmit:l})=>{const[i,o]=j.useState(""),[d,x]=j.useState(""),[u,h]=j.useState(!1);j.useEffect(()=>{t||(o(""),x(""))},[t]);const p=g=>{g.preventDefault(),h(!0),setTimeout(()=>{const y={id:Date.now(),memberName:r?.name,memberId:r?.memberId,currentTrainer:r?.trainer||"Not Assigned",newTrainer:i,reason:d,status:"Pending",requestDate:new Date().toISOString().split("T")[0]};console.log("Trainer Change Request Submitted:",y),l(y),h(!1),s()},800)};return e.jsx(at,{isOpen:t,onClose:s,title:"Change Trainer",subtitle:`Request for ${r?.name}`,maxWidth:"max-w-md",footer:e.jsxs("div",{className:"flex gap-3 w-full",children:[e.jsx("button",{type:"button",onClick:s,className:"flex-1 h-11 border border-slate-200 text-slate-600 rounded-xl text-sm font-bold hover:bg-slate-50 transition-all",children:"Cancel"}),e.jsx("button",{type:"submit",form:"trainer-change-form",disabled:!i||!d||u,className:`flex-1 h-11 rounded-xl text-sm font-bold text-white shadow-lg transition-all flex items-center justify-center gap-2
                            ${!i||!d||u?"bg-slate-300 cursor-not-allowed shadow-none":"bg-gradient-to-r from-violet-600 to-purple-600 hover:shadow-violet-200 hover:scale-[1.02] active:scale-[0.98]"}`,children:u?e.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(yl,{size:18}),"Submit Request"]})})]}),children:e.jsxs("form",{id:"trainer-change-form",onSubmit:p,className:"space-y-6 py-2",children:[e.jsx("div",{className:"bg-slate-50 rounded-2xl p-4 border border-slate-100 space-y-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-white flex items-center justify-center text-slate-400 shadow-sm border border-slate-100",children:e.jsx(rt,{size:20})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Current Trainer"}),e.jsx("p",{className:"text-sm font-bold text-slate-700",children:r?.trainer||"Not Assigned"})]})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-xs font-bold text-slate-500 uppercase tracking-wider ml-1",children:[e.jsx(yl,{size:14,className:"text-violet-500"}),"Select New Trainer ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsx(ms,{options:sD,value:i,onChange:o,placeholder:"Choose a trainer"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-xs font-bold text-slate-500 uppercase tracking-wider ml-1",children:[e.jsx(sr,{size:14,className:"text-violet-500"}),"Reason for Change ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsx("textarea",{required:!0,className:"w-full min-h-[120px] p-4 rounded-xl border-2 border-slate-100 focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all text-sm bg-slate-50/50 hover:bg-white placeholder:text-slate-300 outline-none resize-none",placeholder:"Please explain why you want to change your trainer...",value:d,onChange:g=>x(g.target.value)})]}),e.jsxs("div",{className:"flex gap-3 p-4 bg-amber-50 rounded-xl border border-amber-100",children:[e.jsx(ps,{size:18,className:"text-amber-500 shrink-0 mt-0.5"}),e.jsx("p",{className:"text-xs text-amber-700 leading-relaxed font-medium",children:"Change requests are reviewed by the branch manager. You will receive an update within 24-48 hours."})]})]})})},rD=({isOpen:t,onClose:s,onConfirm:r,title:l,message:i})=>t?e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 sm:p-0",children:[e.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",onClick:s}),e.jsxs("div",{className:"relative bg-white rounded-[40px] shadow-2xl w-full max-w-sm p-8 text-center animate-in zoom-in-95 duration-200 border border-slate-100",children:[e.jsx("div",{className:"w-20 h-20 bg-rose-50 rounded-full flex items-center justify-center mx-auto mb-6 text-rose-500 shadow-inner",children:e.jsx(Ms,{size:32})}),e.jsx("h3",{className:"text-2xl font-black text-slate-800 tracking-tight mb-2",children:l}),e.jsx("p",{className:"text-slate-500 text-sm font-medium leading-relaxed mb-8",children:i}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:s,className:"flex-1 py-4 bg-slate-50 text-slate-400 rounded-2xl font-black uppercase tracking-widest hover:bg-slate-100 hover:text-slate-600 transition-all",children:"Cancel"}),e.jsx("button",{onClick:r,className:"flex-[2] py-4 bg-rose-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl shadow-rose-200 hover:bg-rose-700 transition-all",children:"Confirm Delete"})]})]})]}):null,Op=()=>{const[t,s]=j.useState([]),[r,l]=j.useState(!0),[i,o]=j.useState(""),[d,x]=j.useState("All"),[u,h]=j.useState(1),[p,g]=j.useState(5),[y,f]=j.useState(0),[w,S]=j.useState(!1),[v,N]=j.useState(!1),[A,L]=j.useState(!1),[M,T]=j.useState(!1),[_,I]=j.useState({isOpen:!1,id:null}),[B,P]=j.useState(null),[R,W]=j.useState([]),[H,$]=j.useState(!1),[G,le]=j.useState({name:"",phone:"",planId:"",status:"Active"}),[Q,ne]=j.useState({name:"",phone:"",planId:"",status:""}),F=zr();j.useEffect(()=>{new URLSearchParams(F.search).get("add")==="true"&&S(!0)},[F.search]),j.useEffect(()=>{de()},[]),j.useEffect(()=>{ke()},[i,d,u,p]);const de=async()=>{$(!0);try{const xe=await Ur.getPlans();W(Array.isArray(xe)?xe:[])}catch(xe){console.error("Error loading plans:",xe),W([])}finally{$(!1)}},ke=async()=>{l(!0);try{const se=await bg({filters:{search:i,status:d==="All"?"":d},page:u,limit:p});s(se?.data||[]),f(se?.total||0)}catch(xe){console.error("Error loading members:",xe)}finally{l(!1)}},X=xe=>{o(xe.target.value),h(1)},q=xe=>{x(xe),h(1)},Z=async xe=>{await p9(xe),ke()},ae=xe=>{I({isOpen:!0,id:xe})},ue=async()=>{_.id&&(await m9(_.id),I({isOpen:!1,id:null}),ke())},he=()=>{Cg(t,"MemberList")},be=()=>{tD(t,"MemberList")},Me=xe=>{P(xe),N(!0)},Ne=xe=>{P(xe),ne({name:xe.name,phone:xe.phone,planId:xe.planId,status:xe.status}),L(!0)},Fe=async xe=>{xe.preventDefault(),await h9(B.id,Q),L(!1),ke()},Xe=xe=>{console.log("Member List received Trainer Change Request:",xe),T(!1)},st=async xe=>{xe.preventDefault();const se=`MEM-2024-${Math.floor(100+Math.random()*900)}`,Ze=new Date().toISOString().split("T")[0];await u9({...G,memberId:se,joinDate:Ze}),S(!1),le({name:"",phone:"",planId:"",status:"Active"}),ke()},et=xe=>{switch(xe){case"Active":return e.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-bold bg-green-50 text-green-600 border border-green-100 shadow-sm hover:scale-110 hover:shadow-lg hover:bg-green-100 transition-all duration-300 cursor-pointer",children:"Active"});case"Inactive":return e.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-bold bg-gray-100 text-gray-500 border border-gray-200 hover:scale-110 hover:shadow-lg hover:bg-gray-200 transition-all duration-300 cursor-pointer",children:"Inactive"});case"Expired":return e.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-bold bg-red-50 text-red-600 border border-red-100 shadow-sm hover:scale-110 hover:shadow-lg hover:bg-red-100 transition-all duration-300 cursor-pointer",children:"Expired"});default:return e.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-bold bg-gray-100 text-gray-800 hover:scale-110 hover:shadow-lg transition-all duration-300 cursor-pointer",children:"Unknown"})}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-6 md:p-8",children:[e.jsxs("div",{className:"mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(rt,{size:28})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Member List"}),e.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Manage and view all registered members"})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs("button",{onClick:he,className:"flex items-center gap-2 px-4 py-2.5 bg-white border-2 border-slate-200 rounded-xl text-sm font-bold text-slate-700 hover:border-violet-300 hover:bg-violet-50 transition-all duration-300 hover:scale-105 shadow-sm hover:shadow-md group",children:[e.jsx(Js,{size:16,className:"text-slate-500 group-hover:text-violet-600 group-hover:scale-110 group-hover:-translate-y-0.5 transition-all duration-300"}),e.jsx("span",{className:"hidden sm:inline",children:"Export CSV"}),e.jsx("span",{className:"sm:hidden",children:"CSV"})]}),e.jsxs("button",{onClick:be,className:"flex items-center gap-2 px-4 py-2.5 bg-white border-2 border-slate-200 rounded-xl text-sm font-bold text-slate-700 hover:border-violet-300 hover:bg-violet-50 transition-all duration-300 hover:scale-105 shadow-sm hover:shadow-md group",children:[e.jsx(er,{size:16,className:"text-slate-500 group-hover:text-violet-600 group-hover:scale-110 group-hover:-translate-y-0.5 transition-all duration-300"}),e.jsx("span",{className:"hidden sm:inline",children:"Export PDF"}),e.jsx("span",{className:"sm:hidden",children:"PDF"})]}),e.jsxs("button",{onClick:()=>S(!0),className:"group relative flex items-center gap-2 px-5 py-2.5 rounded-xl font-bold text-white shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1 bg-gradient-to-r from-violet-600 to-purple-600 hover:shadow-violet-500/50",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 to-fuchsia-600 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx("span",{className:"relative sm:hidden",children:"+ Add"}),e.jsx("span",{className:"relative hidden sm:inline",children:"+ Add New Member"})]})]})]})})]}),e.jsx("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 overflow-visible hover:shadow-2xl hover:border-violet-200 transition-all duration-300",children:e.jsxs("div",{className:"p-4 sm:p-6 border-b border-slate-100 flex flex-col md:flex-row gap-4 items-center justify-between overflow-visible hover:bg-violet-50/20 transition-colors duration-300",children:[e.jsxs("div",{className:"relative w-full md:w-96 group",children:[e.jsx(Qe,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 transition-colors group-hover:text-violet-500 group-hover:scale-110 duration-300",size:18}),e.jsx("input",{type:"text",className:"pl-11 h-11 w-full rounded-xl border-2 border-slate-200 focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 transition-all text-sm bg-white hover:border-slate-300 shadow-sm focus:shadow-lg",placeholder:"Search by name, ID, or phone...",value:i,onChange:X})]}),e.jsx("div",{className:"w-full md:w-48 relative z-20 hover:scale-105 transition-transform duration-300",children:e.jsx(ms,{options:["All","Active","Inactive","Expired"],value:d,onChange:q,placeholder:"All Status",icon:Ns})})]})}),e.jsx("div",{className:"md:hidden grid grid-cols-1 gap-4 mt-6",children:r?e.jsx("div",{className:"py-12 text-center bg-white rounded-2xl border border-slate-100 shadow-xl",children:e.jsxs("div",{className:"flex flex-col items-center gap-3 text-violet-600",children:[e.jsx("div",{className:"w-8 h-8 border-4 border-violet-600 border-t-transparent rounded-full animate-spin"}),e.jsx("span",{className:"text-sm font-black uppercase tracking-widest",children:"Loading..."})]})}):t.length>0?t.map(xe=>e.jsx(Ga,{title:xe.name,subtitle:xe.memberId,badge:xe.status,badgeColor:xe.status==="Active"?"emerald":xe.status==="Expired"?"rose":"slate",fields:[{label:"Phone",value:xe.phone},{label:"Plan",value:xe.plan},{label:"Expiry",value:xe.expiryDate}],actions:[{label:"View",icon:da,variant:"primary",onClick:()=>Me(xe)},{label:"Edit",icon:Sd,variant:"secondary",onClick:()=>Ne(xe)}]},xe.id)):e.jsx("div",{className:"py-12 text-center bg-white rounded-2xl border border-slate-100 shadow-xl",children:e.jsx("p",{className:"text-slate-500 font-bold",children:"No members found"})})}),e.jsxs("div",{className:"hidden md:block bg-white rounded-2xl shadow-xl border border-slate-100 overflow-visible hover:shadow-2xl hover:border-violet-200 transition-all duration-300 mt-8",children:[e.jsx("div",{className:"p-4 sm:p-6 border-b border-slate-100 flex flex-col md:flex-row gap-4 items-center justify-between overflow-visible hover:bg-violet-50/20 transition-colors duration-300",children:e.jsxs("table",{className:"saas-table saas-table-responsive",children:[e.jsx("thead",{className:"bg-gradient-to-r from-violet-50 via-purple-50 to-fuchsia-50 border-b-2 border-violet-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 sm:px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider hover:text-purple-700 transition-colors duration-300 cursor-pointer",children:"Member Name"}),e.jsx("th",{className:"px-4 sm:px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider hover:text-purple-700 transition-colors duration-300 cursor-pointer",children:"Member ID"}),e.jsx("th",{className:"px-4 sm:px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider hover:text-purple-700 transition-colors duration-300 cursor-pointer",children:"Phone Number"}),e.jsx("th",{className:"px-4 sm:px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider hover:text-purple-700 transition-colors duration-300 cursor-pointer",children:"Plan"}),e.jsx("th",{className:"px-4 sm:px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider hover:text-purple-700 transition-colors duration-300 cursor-pointer",children:"Join Date"}),e.jsx("th",{className:"px-4 sm:px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider hover:text-purple-700 transition-colors duration-300 cursor-pointer",children:"Expiry Date"}),e.jsx("th",{className:"px-4 sm:px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider hover:text-purple-700 transition-colors duration-300 cursor-pointer",children:"Status"}),e.jsx("th",{className:"px-4 sm:px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider text-right hover:text-purple-700 transition-colors duration-300 cursor-pointer",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:r?e.jsx("tr",{children:e.jsx("td",{colSpan:"8",className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-2 text-violet-600",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-violet-600 border-t-transparent rounded-full animate-spin"}),e.jsx("span",{className:"text-sm font-medium",children:"Loading members..."})]})})}):t.length>0?t.map(xe=>e.jsxs("tr",{className:"group hover:bg-gradient-to-r hover:from-violet-50/50 hover:to-purple-50/30 transition-all duration-300 cursor-pointer hover:shadow-md hover:scale-[1.002] transform",children:[e.jsx("td",{className:"px-4 sm:px-6 py-4","data-label":"Member Name",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-9 w-9 rounded-full bg-gradient-to-br from-violet-100 to-purple-100 text-violet-700 flex items-center justify-center font-bold text-sm mr-3 group-hover:scale-125 group-hover:shadow-lg group-hover:rotate-6 transition-all duration-500 border-2 border-violet-200",children:(xe.name||"?").charAt(0)}),e.jsx("div",{className:"text-sm font-bold text-gray-900 group-hover:text-violet-700 group-hover:translate-x-1 transition-all duration-300",children:xe.name})]})}),e.jsx("td",{className:"px-4 sm:px-6 py-4","data-label":"Member ID",children:e.jsx("span",{className:"text-xs font-mono text-gray-500 bg-gray-50 px-2 py-1 rounded-md group-hover:bg-violet-100 group-hover:text-violet-700 group-hover:scale-110 transition-all duration-300 inline-block",children:xe.memberId})}),e.jsx("td",{className:"px-4 sm:px-6 py-4","data-label":"Phone Number",children:e.jsx("span",{className:"text-sm text-gray-600 group-hover:text-violet-600 transition-colors duration-300",children:xe.phone})}),e.jsx("td",{className:"px-4 sm:px-6 py-4","data-label":"Plan",children:e.jsx("span",{className:"text-sm text-gray-900 font-semibold group-hover:text-violet-700 group-hover:scale-105 inline-block transition-all duration-300",children:xe.plan})}),e.jsx("td",{className:"px-4 sm:px-6 py-4","data-label":"Join Date",children:e.jsx("span",{className:"text-sm text-gray-500 group-hover:text-violet-600 transition-colors duration-300",children:xe.joinDate})}),e.jsx("td",{className:"px-4 sm:px-6 py-4","data-label":"Expiry Date",children:e.jsx("span",{className:"text-sm text-gray-500 group-hover:text-violet-600 transition-colors duration-300",children:xe.expiryDate})}),e.jsx("td",{className:"px-4 sm:px-6 py-4","data-label":"Status",children:e.jsx("button",{onClick:()=>Z(xe.id),className:"hover:scale-110 active:scale-95 transition-transform duration-300",children:et(xe.status)})}),e.jsx("td",{className:"px-4 sm:px-6 py-4 text-right","data-label":"Actions",children:e.jsxs("div",{className:"flex items-center justify-end gap-2 sm:opacity-0 sm:group-hover:opacity-100 transition-all duration-200 transform sm:translate-x-2 sm:group-hover:translate-x-0",children:[e.jsx("button",{onClick:()=>Me(xe),className:"w-10 h-10 flex items-center justify-center text-gray-400 hover:text-violet-600 hover:bg-violet-50 rounded-xl transition-all hover:scale-110 hover:rotate-6 duration-300",title:"View Details",children:e.jsx(da,{size:20})}),e.jsx("button",{onClick:()=>Ne(xe),className:"w-10 h-10 flex items-center justify-center text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-xl transition-all hover:scale-110 hover:-rotate-6 duration-300",title:"Edit Member",children:e.jsx(Sd,{size:20})}),e.jsx("button",{onClick:()=>ae(xe.id),className:"w-10 h-10 flex items-center justify-center text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-xl transition-all hover:scale-110 duration-300",title:"Delete Member",children:e.jsx(Ms,{size:20})})]})})]},xe.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"8",className:"px-6 py-24 text-center text-gray-400",children:e.jsxs("div",{className:"flex flex-col items-center gap-4 animate-in fade-in zoom-in duration-700",children:[e.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-[32px] flex items-center justify-center text-slate-200 border border-slate-100 shadow-inner",children:e.jsx(Qe,{size:32})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-black text-slate-800 tracking-tight",children:"No Members Found"}),e.jsx("p",{className:"text-slate-500 text-sm font-medium mt-1",children:"We couldn't find any results for your current query."})]}),e.jsx("button",{onClick:()=>{o(""),x("All")},className:"mt-4 px-8 py-3 bg-violet-50 text-violet-600 rounded-2xl text-[10px] font-black uppercase tracking-widest hover:bg-violet-600 hover:text-white transition-all shadow-sm",children:"Clear All Filters"})]})})})})]})}),e.jsx(rD,{isOpen:_.isOpen,onClose:()=>I({isOpen:!1,id:null}),onConfirm:ue,title:"Remove Member?",message:"This will permanently delete the member record from the system. This action cannot be undone."}),!r&&y>0&&e.jsxs("div",{className:"px-4 sm:px-6 py-4 bg-gray-50/50 border-t border-gray-100 flex flex-col sm:flex-row justify-between items-center gap-4 hover:bg-violet-50/20 transition-colors duration-300",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-3 w-full sm:w-auto",children:[e.jsxs("span",{className:"text-xs font-medium text-gray-500 text-center sm:text-left whitespace-nowrap",children:["Showing ",e.jsx("span",{className:"font-bold text-gray-900",children:(u-1)*p+1})," - ",e.jsx("span",{className:"font-bold text-gray-900",children:Math.min(u*p,y)})," of ",e.jsx("span",{className:"font-bold text-gray-900",children:y})," members"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:"Per page:"}),e.jsx("div",{className:"w-20",children:e.jsx(ms,{options:[5,10,20],value:p,onChange:xe=>{g(parseInt(xe)),h(1)}})})]})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("button",{onClick:()=>h(xe=>Math.max(xe-1,1)),disabled:u===1,className:"w-8 h-8 flex items-center justify-center border border-gray-200 rounded-lg bg-white hover:bg-gray-50 text-gray-600 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm transition-all hover:scale-110 hover:border-violet-300 disabled:hover:scale-100 group",children:e.jsx(Wr,{size:16,className:"group-hover:-translate-x-0.5 transition-transform duration-300"})}),e.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.ceil(y/p)},(xe,se)=>se+1).map(xe=>e.jsx("button",{onClick:()=>h(xe),className:`w-8 h-8 rounded-lg text-xs font-bold transition-all hover:scale-110 ${u===xe?"bg-gradient-to-r from-violet-600 to-purple-600 text-white shadow-md shadow-violet-200":"text-gray-600 hover:bg-violet-50 hover:text-violet-600 hover:shadow-sm"}`,children:xe},xe))}),e.jsx("button",{onClick:()=>h(xe=>Math.min(xe+1,Math.ceil(y/p))),disabled:u===Math.ceil(y/p),className:"w-8 h-8 flex items-center justify-center border border-gray-200 rounded-lg bg-white hover:bg-gray-50 text-gray-600 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm transition-all hover:scale-110 hover:border-violet-300 disabled:hover:scale-100 group",children:e.jsx(vs,{size:16,className:"group-hover:translate-x-0.5 transition-transform duration-300"})})]})]})]}),e.jsx(at,{isOpen:w,onClose:()=>S(!1),title:"Add New Member",subtitle:"Register a new member to the branch",maxWidth:"max-w-md",footer:e.jsxs("div",{className:"flex gap-3 w-full",children:[e.jsx("button",{type:"button",onClick:()=>S(!1),className:"flex-1 h-11 border border-gray-200 text-gray-700 rounded-xl text-sm font-bold hover:bg-gray-50 transition-all",children:"Cancel"}),e.jsx("button",{type:"submit",form:"add-member-form",className:"flex-1 h-11 bg-indigo-600 text-white rounded-xl text-sm font-bold hover:bg-indigo-700 shadow-lg shadow-indigo-100 transition-all hover:scale-[1.02] active:scale-[0.98]",children:"Register Member"})]}),children:e.jsxs("form",{id:"add-member-form",onSubmit:st,className:"flex flex-col gap-8 px-6 py-4 mt-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-1.5",children:"Full Name"}),e.jsx("input",{required:!0,type:"text",className:"saas-input w-full h-11 px-4 rounded-xl border-gray-200 focus:ring-2 focus:ring-indigo-500 text-sm bg-gray-50/50 focus:bg-white transition-all",placeholder:"Enter member name",value:G.name,onChange:xe=>le({...G,name:xe.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-1.5",children:"Phone Number"}),e.jsx("input",{required:!0,type:"tel",className:"saas-input w-full h-11 px-4 rounded-xl border-gray-200 focus:ring-2 focus:ring-indigo-500 text-sm bg-gray-50/50 focus:bg-white transition-all",placeholder:"+91 00000 00000",value:G.phone,onChange:xe=>le({...G,phone:xe.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-1.5",children:"Membership Plan"}),e.jsx(ms,{options:R.map(xe=>({value:xe.id,label:xe.name})),value:G.planId,onChange:xe=>le({...G,planId:xe}),placeholder:H?"Loading plans...":"Select a plan",className:"w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-1.5",children:"Initial Status"}),e.jsx(ms,{options:["Active","Inactive"],value:G.status,onChange:xe=>le({...G,status:xe}),className:"w-full"})]})]})]})}),e.jsx(at,{isOpen:v,onClose:()=>N(!1),title:"Member Details",subtitle:B?.name,maxWidth:"max-w-md",footer:e.jsx("button",{onClick:()=>N(!1),className:"w-full h-11 bg-gray-100 text-gray-700 rounded-xl text-sm font-bold hover:bg-gray-200 transition-all",children:"Close"}),children:B&&e.jsxs("div",{className:"space-y-6 py-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"h-16 w-16 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center text-2xl font-black shadow-inner",children:(B?.name||"?").charAt(0)}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:B.name}),e.jsx("p",{className:"text-sm font-mono text-indigo-600 font-medium",children:B.memberId})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-1",children:"Phone"}),e.jsx("p",{className:"text-sm font-semibold text-gray-800",children:B.phone})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-1",children:"Plan"}),e.jsx("p",{className:"text-sm font-semibold text-gray-800",children:B.plan})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-1",children:"Join Date"}),e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:B.joinDate})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-1",children:"Expiry Date"}),e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:B.expiryDate})]})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-50 flex flex-col gap-2",children:[e.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Subscription Status"}),et(B.status)]}),e.jsxs("button",{onClick:()=>T(!0),className:"w-full flex items-center justify-center gap-2 py-3.5 bg-violet-50 text-violet-600 rounded-xl font-bold hover:bg-violet-600 hover:text-white transition-all duration-300 border border-violet-100 group shadow-sm hover:shadow-violet-200",children:[e.jsx(yl,{size:18,className:"group-hover:scale-110 transition-transform"}),"Request Trainer Change"]})]})]})}),e.jsx(aD,{isOpen:M,onClose:()=>T(!1),member:B,onSubmit:Xe}),e.jsx(at,{isOpen:A,onClose:()=>L(!1),title:"Edit Member",subtitle:`Updating info for ${B?.name}`,maxWidth:"max-w-md",footer:e.jsxs("div",{className:"flex gap-3 w-full",children:[e.jsx("button",{type:"button",onClick:()=>L(!1),className:"flex-1 h-11 border border-gray-200 text-gray-700 rounded-xl text-sm font-bold hover:bg-gray-50 transition-all",children:"Cancel"}),e.jsx("button",{type:"submit",form:"edit-member-form",className:"flex-1 h-11 bg-blue-600 text-white rounded-xl text-sm font-bold hover:bg-blue-700 shadow-lg shadow-blue-200 transition-all hover:scale-[1.02] active:scale-[0.98]",children:"Save Changes"})]}),children:e.jsxs("form",{id:"edit-member-form",onSubmit:Fe,className:"flex flex-col gap-8 px-6 py-4 mt-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-1.5",children:"Full Name"}),e.jsx("input",{required:!0,type:"text",className:"saas-input w-full h-11 px-4 rounded-xl border-gray-200 focus:ring-2 focus:ring-indigo-500 text-sm bg-gray-50/50 focus:bg-white transition-all",placeholder:"Enter member name",value:Q.name,onChange:xe=>ne({...Q,name:xe.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-1.5",children:"Phone Number"}),e.jsx("input",{required:!0,type:"tel",className:"saas-input w-full h-11 px-4 rounded-xl border-gray-200 focus:ring-2 focus:ring-indigo-500 text-sm bg-gray-50/50 focus:bg-white transition-all",placeholder:"+91 00000 00000",value:Q.phone,onChange:xe=>ne({...Q,phone:xe.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-1.5",children:"Plan"}),e.jsx(ms,{options:R.map(xe=>({value:xe.id,label:xe.name})),value:Q.planId,onChange:xe=>ne({...Q,planId:xe}),placeholder:H?"Loading plans...":"Select a plan",className:"w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-1.5",children:"Status"}),e.jsx(ms,{options:["Active","Inactive","Expired"],value:Q.status,onChange:xe=>ne({...Q,status:xe}),className:"w-full"})]})]}),e.jsx("div",{className:"mt-6 pt-6 border-t border-slate-50 flex items-center justify-center",children:e.jsxs("button",{type:"button",onClick:()=>{L(!1),setTimeout(()=>T(!0),300)},className:"flex items-center gap-2 text-violet-600 font-bold text-xs hover:text-violet-700 transition-colors",children:[e.jsx(yl,{size:14}),"Requested Trainer Change for this member?"]})})]})})]})},lD=({isOpen:t,onClose:s})=>{const[r,l]=j.useState({creditsPerBooking:1,maxBookingsPerDay:2,maxBookingsPerWeek:10,cancellationWindow:2,allowWaitlist:!0,notifyOnCancellation:!0}),[i,o]=j.useState(!1),d=u=>{const{name:h,value:p,type:g,checked:y}=u.target;l(f=>({...f,[h]:g==="checkbox"?y:p}))},x=u=>{u.preventDefault(),o(!0),setTimeout(()=>{o(!1),alert("Booking settings updated successfully!"),s()},800)};return e.jsxs("form",{onSubmit:x,className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8 custom-scrollbar",children:[e.jsxs("div",{className:"bg-indigo-50 border border-indigo-100 rounded-2xl p-4 flex gap-3",children:[e.jsx(Yn,{className:"text-indigo-600 shrink-0",size:20}),e.jsx("p",{className:"text-xs text-indigo-700 leading-relaxed",children:"Configure how members interact with the booking system. These limits apply globally unless overridden by specific membership plans."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(dC,{size:18,className:"text-purple-600"}),e.jsx("h3",{className:"text-sm font-bold text-slate-800 uppercase tracking-wider",children:"Consumption Rules"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700",children:"Credits per Session"}),e.jsx("p",{className:"text-[10px] text-slate-400 font-medium",children:"How many credits are deducted from a member's wallet for a successfully attended booking."})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("input",{type:"number",name:"creditsPerBooking",className:"w-full px-4 py-3 bg-white border-2 border-slate-200 rounded-xl text-sm focus:outline-none focus:border-indigo-500 transition-all font-bold",value:r.creditsPerBooking,onChange:d,min:"0"}),e.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-xs font-black text-slate-400 group-focus-within:text-indigo-500 uppercase tracking-tighter",children:"Credits"})]})]})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-100",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Lj,{size:18,className:"text-blue-600"}),e.jsx("h3",{className:"text-sm font-bold text-slate-800 uppercase tracking-wider",children:"Booking Limits"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-widest",children:"Max Bookings Per Day"}),e.jsx("p",{className:"text-[9px] text-slate-400 font-medium",children:"Limit the number of active sessions a member can book in a single 24-hour cycle."})]}),e.jsx("input",{type:"number",name:"maxBookingsPerDay",className:"w-full px-4 py-3 bg-white border-2 border-slate-200 rounded-xl text-sm focus:outline-none focus:border-indigo-500 transition-all font-bold",value:r.maxBookingsPerDay,onChange:d})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-widest",children:"Max Bookings Per Week"}),e.jsx("p",{className:"text-[9px] text-slate-400 font-medium",children:"Weekly cap on bookings to ensure fair access for all members."})]}),e.jsx("input",{type:"number",name:"maxBookingsPerWeek",className:"w-full px-4 py-3 bg-white border-2 border-slate-200 rounded-xl text-sm focus:outline-none focus:border-indigo-500 transition-all font-bold",value:r.maxBookingsPerWeek,onChange:d})]})]})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-100",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Je,{size:18,className:"text-rose-600"}),e.jsx("h3",{className:"text-sm font-bold text-slate-800 uppercase tracking-wider",children:"Cancellation Window"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700",children:"Hours before start"}),e.jsx("p",{className:"text-[10px] text-slate-400 font-medium leading-relaxed",children:'The minimum time required to cancel a booking without losing the credit. After this window, cancellations are considered "No-Shows".'})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("input",{type:"number",name:"cancellationWindow",className:"w-full px-4 py-3 bg-white border-2 border-slate-200 rounded-xl text-sm focus:outline-none focus:border-rose-500 transition-all font-bold",value:r.cancellationWindow,onChange:d,min:"0"}),e.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-xs font-black text-slate-400 group-focus-within:text-rose-500 uppercase tracking-tighter transition-colors",children:"Hours"})]})]})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-100 pb-10",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Hj,{size:18,className:"text-emerald-600"}),e.jsx("h3",{className:"text-sm font-bold text-slate-800 uppercase tracking-wider",children:"Advanced Settings"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl cursor-pointer hover:bg-slate-100 transition-all",children:[e.jsxs("div",{className:"flex flex-col gap-0.5",children:[e.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Allow Waitlist"}),e.jsx("span",{className:"text-[10px] text-slate-500",children:"Enable queue if session is full"})]}),e.jsx("input",{type:"checkbox",name:"allowWaitlist",checked:r.allowWaitlist,onChange:d,className:"w-5 h-5 rounded-lg border-2 border-slate-300 text-indigo-600 focus:ring-0 transition-all"})]}),e.jsxs("label",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl cursor-pointer hover:bg-slate-100 transition-all",children:[e.jsxs("div",{className:"flex flex-col gap-0.5",children:[e.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Notify Admin"}),e.jsx("span",{className:"text-[10px] text-slate-500",children:"Alert staff on every cancellation"})]}),e.jsx("input",{type:"checkbox",name:"notifyOnCancellation",checked:r.notifyOnCancellation,onChange:d,className:"w-5 h-5 rounded-lg border-2 border-slate-300 text-indigo-600 focus:ring-0 transition-all"})]})]})]})]}),e.jsxs("div",{className:"shrink-0 p-4 bg-white border-t border-slate-100 flex gap-3 shadow-[0_-4px_20px_rgba(0,0,0,0.05)]",children:[e.jsx("button",{type:"button",onClick:s,className:"flex-1 px-4 py-3 bg-white border-2 border-slate-200 text-slate-700 rounded-xl text-sm font-bold hover:bg-slate-50 transition-all",children:"Discard"}),e.jsxs("button",{type:"submit",disabled:i,className:"flex-[2] px-4 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl text-sm font-bold hover:shadow-lg hover:shadow-indigo-500/30 transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:[e.jsx(xa,{size:18}),i?"Saving...":"Save Settings"]})]})]})},nD=({isOpen:t,onClose:s,onCreate:r,members:l,classes:i})=>{const[o,d]=j.useState({memberId:"",classId:"",date:new Date().toISOString().split("T")[0],status:"Upcoming"}),x=u=>{u.preventDefault(),r(o),s()};return t?e.jsxs("div",{className:"h-full flex flex-col bg-white",children:[e.jsx("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between bg-slate-50/50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-indigo-500 to-indigo-600 flex items-center justify-center text-white shadow-lg",children:e.jsx(Ye,{size:20,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-black text-slate-900",children:"Create New Booking"}),e.jsx("p",{className:"text-slate-500 text-xs font-medium",children:"Schedule a class or session"})]})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2",children:"Select Member"}),e.jsx(ms,{options:l.map(u=>({value:u.id,label:`${u.name} (${u.memberId})`})),value:o.memberId,onChange:u=>d({...o,memberId:u}),placeholder:"Select Member",className:"w-full"})]}),e.jsx("div",{className:"grid grid-cols-1 gap-6",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2",children:"Select Class"}),e.jsx(ms,{options:i.map(u=>({value:u.id,label:`${u.name} (${u.trainerName})`})),value:o.classId,onChange:u=>d({...o,classId:u}),placeholder:"Select Class",className:"w-full"})]})}),e.jsx("div",{className:"grid grid-cols-1 gap-6",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2",children:"Date"}),e.jsx("input",{required:!0,type:"date",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl font-semibold text-slate-900 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 transition-all duration-300",value:o.date,onChange:u=>d({...o,date:u.target.value})})]})})]}),e.jsx("div",{className:"p-6 border-t border-slate-100 bg-slate-50/50",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:s,className:"flex-1 py-3 rounded-xl font-bold text-slate-600 hover:bg-white border-2 border-slate-200 hover:border-slate-300 transition-all duration-300",children:"Cancel"}),e.jsx("button",{onClick:x,className:"flex-1 py-3 bg-gradient-to-r from-indigo-600 to-indigo-700 text-white rounded-xl font-bold hover:shadow-xl hover:shadow-indigo-500/50 transition-all duration-300",children:"Create Booking"})]})})]}):null},X1=()=>{const[t,s]=j.useState(new Date(2024,2,1)),[r,l]=j.useState("All"),[i,o]=j.useState({}),[d,x]=j.useState(!0),[u,h]=j.useState("Month"),[p,g]=j.useState(!1),[y,f]=j.useState(!1),[w,S]=j.useState([]),[v,N]=j.useState([]);j.useEffect(()=>{A()},[t,r,u]);const A=async()=>{try{await Promise.all([L(),M(),T()])}catch(G){console.error("Error loading calendar data:",G)}},L=async()=>{x(!0);let G,le;if(u==="Month"){const F=t.getFullYear(),de=t.getMonth();G=new Date(F,de,1).toISOString(),le=new Date(F,de+1,0,23,59,59).toISOString()}else if(u==="Week"){const F=new Date(t);F.setDate(t.getDate()-t.getDay()),F.setHours(0,0,0,0);const de=new Date(F);de.setDate(F.getDate()+6),de.setHours(23,59,59,999),G=F.toISOString(),le=de.toISOString()}else{const F=new Date(t);F.setHours(0,0,0,0);const de=new Date(t);de.setHours(23,59,59,999),G=F.toISOString(),le=de.toISOString()}const ne=(await f9(G,le)||[]).reduce((F,de)=>{const ke=new Date(de.date).getDate();return F[ke]||(F[ke]=[]),F[ke].push({...de,member:de.member?.name||"Unknown Member",type:de.class?"Group Class":"Personal Training",slot:"10:00 AM",color:de.class?"blue":"green"}),F},{});o(ne),x(!1)},M=async()=>{const G=await bg({limit:100});S(G?.data||[])},T=async()=>{const G=await w9();N(G||[])},_=async G=>{await bw(G),g(!1),L()},I=()=>{s(u==="Month"?new Date(t.getFullYear(),t.getMonth()-1,1):u==="Week"?new Date(t.getTime()-10080*60*1e3):new Date(t.getTime()-1440*60*1e3))},B=()=>{s(u==="Month"?new Date(t.getFullYear(),t.getMonth()+1,1):u==="Week"?new Date(t.getTime()+10080*60*1e3):new Date(t.getTime()+1440*60*1e3))},P=()=>{s(new Date)},W=(()=>{if(u==="Month"){const G=new Date(t.getFullYear(),t.getMonth()+1,0).getDate(),le=new Date(t.getFullYear(),t.getMonth(),1).getDay(),Q=Array.from({length:G},(F,de)=>{const ke=new Date(t.getFullYear(),t.getMonth(),de+1);return{day:de+1,date:ke}});return[...Array.from({length:le},()=>null),...Q]}else if(u==="Week"){const G=new Date(t);return G.setDate(t.getDate()-t.getDay()),Array.from({length:7},(le,Q)=>{const ne=new Date(G);return ne.setDate(G.getDate()+Q),{day:ne.getDate(),date:ne}})}else return[{day:t.getDate(),date:new Date(t)}]})(),H=()=>{if(u==="Month")return t.toLocaleString("default",{month:"long",year:"numeric"});if(u==="Week"){const G=new Date(t);G.setDate(t.getDate()-t.getDay());const le=new Date(G);return le.setDate(G.getDate()+6),G.getMonth()===le.getMonth()?`${G.toLocaleString("default",{month:"long"})} ${G.getDate()} - ${le.getDate()}, ${G.getFullYear()}`:`${G.toLocaleString("default",{month:"short"})} ${G.getDate()} - ${le.toLocaleString("default",{month:"short"})} ${le.getDate()}, ${G.getFullYear()}`}else return t.toLocaleString("default",{day:"numeric",month:"long",year:"numeric"})},$=G=>{if(!G)return null;G.day;const le=G.date.toISOString().split("T")[0],Q=[];return Object.values(i).forEach(ne=>{ne.forEach(F=>{F.date.split("T")[0]===le&&Q.push(F)})}),e.jsx("div",{className:"flex flex-col gap-1.5 mt-2 overflow-y-auto max-h-[105px] no-scrollbar pr-0.5",children:Q.filter(ne=>r==="All"||ne.type===r).map(ne=>e.jsxs("div",{className:`flex flex-col p-2 rounded-lg border shadow-sm transition-all duration-200 hover:shadow-md cursor-pointer group/booking ${ne.color==="blue"?"bg-blue-50/60 text-blue-700 border-blue-100/50 hover:bg-blue-100/80 hover:border-blue-200":"bg-green-50/60 text-green-700 border-green-100/50 hover:bg-green-100/80 hover:border-green-200"}`,title:`${ne.slot} - ${ne.type} (${ne.member})`,children:[e.jsxs("div",{className:"flex items-center gap-1.5 mb-1 pointer-events-none",children:[e.jsx("span",{className:`w-1.5 h-1.5 rounded-full flex-shrink-0 ${ne.color==="blue"?"bg-blue-500":"bg-green-500"}`}),e.jsx("span",{className:"font-bold tracking-tight uppercase text-[8px] opacity-70 truncate",children:ne.slot})]}),e.jsxs("div",{className:"font-bold text-[10px] leading-tight truncate px-0.5 pointer-events-none text-gray-800",children:[ne.member,e.jsx("span",{className:"block font-normal text-[9px] text-gray-500",children:ne.type})]})]},ne.id))})};return e.jsxs("div",{className:"p-6 md:p-8 bg-gray-50 min-h-screen font-sans managerdashboard-bookingcalendar",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900 tracking-tight",children:"Booking Calendar"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Manage class schedules and personal training appointments."})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx(ms,{options:["All","Group Class","Personal Training"],value:r,onChange:l,placeholder:"All Types",icon:Ns,className:"w-48"}),e.jsx("button",{onClick:()=>f(!0),className:"p-2.5 bg-white border border-gray-200 text-gray-600 rounded-lg hover:bg-gray-50 hover:text-indigo-600 transition-all shadow-sm",title:"Booking Settings",children:e.jsx(Hj,{size:20})}),e.jsxs("button",{onClick:()=>{g(!0)},className:"saas-btn saas-btn-primary shadow-sm bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center",children:[e.jsx(St,{size:18,className:"mr-1"})," New Booking"]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-md border border-gray-100/80 overflow-hidden transition-all duration-200 hover:shadow-lg hover:shadow-gray-200/50 px-0",children:[e.jsxs("div",{className:"p-6 border-b border-gray-100/60 flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 tracking-tight",children:H()}),e.jsxs("div",{className:"flex items-center bg-gray-50 p-1 rounded-lg border border-gray-100",children:[e.jsx("button",{onClick:I,className:"p-2 hover:bg-white hover:shadow-sm rounded-md transition-all duration-200 text-gray-600 hover:text-indigo-600 group active:scale-95",children:e.jsx(Wr,{size:18})}),e.jsx("div",{className:"w-[1px] h-4 bg-gray-200 mx-1"}),e.jsx("button",{onClick:B,className:"p-2 hover:bg-white hover:shadow-sm rounded-md transition-all duration-200 text-gray-600 hover:text-indigo-600 group active:scale-95",children:e.jsx(vs,{size:18})})]}),e.jsx("button",{onClick:P,className:"hidden sm:block px-4 py-2 text-sm font-bold text-indigo-600 hover:bg-indigo-50 rounded-xl transition-colors",children:"Today"})]}),e.jsxs("div",{className:"flex items-center gap-1 bg-gray-50 p-1 rounded-xl border border-gray-100 self-start sm:self-center",children:[e.jsx("button",{onClick:()=>h("Month"),className:`px-5 py-2 text-sm font-semibold rounded-lg transition-all ${u==="Month"?"bg-white shadow-sm text-indigo-700 border border-gray-100 ring-1 ring-gray-950/5":"text-gray-500 hover:text-gray-700"}`,children:"Month"}),e.jsx("button",{onClick:()=>h("Week"),className:`px-5 py-2 text-sm font-medium rounded-lg transition-all ${u==="Week"?"bg-white shadow-sm text-indigo-700 border border-gray-100 ring-1 ring-gray-950/5":"text-gray-500 hover:text-gray-700"}`,children:"Week"}),e.jsx("button",{onClick:()=>h("Day"),className:`px-5 py-2 text-sm font-medium rounded-lg transition-all ${u==="Day"?"bg-white shadow-sm text-indigo-700 border border-gray-100 ring-1 ring-950/5":"text-gray-500 hover:text-gray-700"}`,children:"Day"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("div",{className:`min-w-[760px] p-6 grid ${u==="Day"?"grid-cols-1":"grid-cols-7"} gap-px bg-gray-100/50`,children:[u!=="Day"&&["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(G=>e.jsx("div",{className:"bg-slate-50/80 p-3 text-center text-xs font-bold text-gray-400 uppercase tracking-widest border-b border-gray-100",children:G},G)),W.map((G,le)=>e.jsxs("div",{className:`bg-white min-h-[140px] p-4 transition-all duration-200 hover:bg-indigo-50/30 flex flex-col group/cell relative ${G&&G.date.toDateString()===new Date().toDateString()?"bg-indigo-50/20":""}`,children:[G&&G.date.toDateString()===new Date().toDateString()&&e.jsx("div",{className:"absolute inset-x-0 top-0 h-[2px] bg-indigo-500 animate-pulse"}),e.jsx("span",{className:`text-sm font-bold flex items-center justify-center w-8 h-8 rounded-full mb-1 transition-all duration-300 ${G&&G.date.toDateString()===new Date().toDateString()?"bg-indigo-600 text-white shadow-md shadow-indigo-200 scale-110":"text-gray-700 group-hover/cell:text-indigo-600 group-hover/cell:scale-110"} ${G?"":"invisible"}`,children:G&&G.day}),d?e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsx("div",{className:"w-4 h-4 border-2 border-indigo-200 border-t-indigo-500 rounded-full animate-spin"})}):$(G)]},le))]})})]}),e.jsxs("div",{className:"mt-6 flex gap-6 items-center px-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),e.jsx("span",{className:"text-xs text-gray-600 font-medium",children:"Group Class"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),e.jsx("span",{className:"text-xs text-gray-600 font-medium",children:"Personal Training"})]})]}),e.jsx(at,{isOpen:p,onClose:()=>g(!1),title:"Create New Booking",children:e.jsx(nD,{isOpen:p,onClose:()=>g(!1),onCreate:_,members:w,classes:v})}),e.jsx(at,{isOpen:y,onClose:()=>f(!1),title:"Global Booking Settings",children:e.jsx(lD,{isOpen:y,onClose:()=>f(!1)})})]})},K1=()=>{const[t,s]=j.useState(""),[r,l]=j.useState("All"),[i,o]=j.useState("All"),[d,x]=j.useState([]),[u,h]=j.useState(!0),[p,g]=j.useState(1),[y,f]=j.useState(5),[w,S]=j.useState(0),[v,N]=j.useState(!1),[A,L]=j.useState(null),[M,T]=j.useState({title:"",assignedTo:"",priority:"",dueDate:"",status:""});j.useEffect(()=>{_()},[t,r,i,p]);const _=async()=>{h(!0);const G=await b9({filters:{search:t,priority:r==="All"?"":r,status:i==="All"?"":i},page:p,limit:y});x(G.data),S(G.total),h(!1)},I=async($,G)=>{await v9($,G==="Completed"?"Pending":"Completed"),_()},B=async $=>{window.confirm("Are you sure you want to delete this task?")&&(await j9($),_())},P=$=>{L($),T({title:$.title,assignedTo:$.assignedTo,priority:$.priority,dueDate:$.dueDate,status:$.status}),N(!0)},R=async $=>{$.preventDefault(),await y9(A.id,M),N(!1),_()},W=$=>{switch($){case"Low":return e.jsx("span",{className:"px-2.5 py-1 rounded-full text-xs font-bold bg-green-50 text-green-600 border border-green-100 shadow-sm",children:"Low"});case"Medium":return e.jsx("span",{className:"px-2.5 py-1 rounded-full text-xs font-bold bg-orange-50 text-orange-600 border border-orange-100 shadow-sm",children:"Medium"});case"High":return e.jsx("span",{className:"px-2.5 py-1 rounded-full text-xs font-bold bg-red-50 text-red-600 border border-red-100 shadow-sm",children:"High"});default:return null}},H=$=>{switch($){case"Pending":return e.jsxs("span",{className:"flex items-center gap-1.5 text-xs font-bold text-gray-500 bg-gray-100 px-2.5 py-1 rounded-full",children:[e.jsx(Je,{size:14})," Pending"]});case"In Progress":return e.jsxs("span",{className:"flex items-center gap-1.5 text-xs font-bold text-blue-600 bg-blue-50 px-2.5 py-1 rounded-full border border-blue-100",children:[e.jsx(ps,{size:14})," In Progress"]});case"Completed":return e.jsxs("span",{className:"flex items-center gap-1.5 text-xs font-bold text-green-600 bg-green-50 px-2.5 py-1 rounded-full border border-green-100",children:[e.jsx(as,{size:14})," Completed"]});default:return null}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-6 md:p-8",children:[e.jsxs("div",{className:"mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(as,{size:28})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Task List"}),e.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Manage and track staff tasks and responsibilities"})]})]})})]}),e.jsx("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden hover:shadow-2xl hover:border-violet-200 transition-all duration-300",children:e.jsxs("div",{className:"p-6 border-b border-slate-100 flex flex-col md:flex-row gap-4 items-center justify-between bg-white hover:bg-violet-50/20 transition-colors duration-300",children:[e.jsxs("div",{className:"relative w-full md:w-96 group",children:[e.jsx(Qe,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 transition-colors group-hover:text-violet-500 group-hover:scale-110 duration-300",size:18}),e.jsx("input",{type:"text",placeholder:"Search tasks...",className:"pl-11 h-11 w-full rounded-xl border-2 border-slate-200 focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 transition-all text-sm bg-white hover:border-slate-300 shadow-sm focus:shadow-lg",value:t,onChange:$=>{s($.target.value),g(1)}})]}),e.jsxs("div",{className:"flex flex-wrap gap-3 w-full md:w-auto",children:[e.jsx(ms,{options:["All","Low","Medium","High"],value:r,onChange:$=>{l($),g(1)},placeholder:"All Priorities",icon:Ns}),e.jsx(ms,{options:["All","Pending","In Progress","Completed"],value:i,onChange:$=>{o($),g(1)},placeholder:"All Status",icon:Je})]})]})}),e.jsx("div",{className:"grid grid-cols-1 gap-4 md:hidden mt-6",children:u?e.jsx("div",{className:"py-12 text-center bg-white rounded-2xl border border-slate-100 shadow-xl",children:e.jsxs("div",{className:"flex flex-col items-center gap-3 text-violet-600",children:[e.jsx("div",{className:"w-8 h-8 border-4 border-violet-600 border-t-transparent rounded-full animate-spin"}),e.jsx("span",{className:"text-sm font-black uppercase tracking-widest",children:"Loading..."})]})}):d.length>0?d.map($=>e.jsx(Ga,{title:$.title,subtitle:$.assignedTo,badge:$.priority,badgeColor:$.priority==="High"?"rose":$.priority==="Medium"?"amber":"emerald",fields:[{label:"Due Date",value:$.dueDate,icon:Je},{label:"Status",value:$.status}],actions:[{label:"Edit",icon:Sd,variant:"primary",onClick:()=>P($)},{label:"Toggle Status",icon:as,variant:"secondary",onClick:()=>I($.id,$.status)}]},$.id)):e.jsx("div",{className:"py-12 text-center bg-white rounded-2xl border border-slate-100 shadow-xl",children:e.jsx("p",{className:"text-slate-500 font-bold",children:"No tasks found"})})}),e.jsxs("div",{className:"hidden md:block bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden hover:shadow-2xl hover:border-violet-200 transition-all duration-300 mt-8",children:[e.jsx("div",{className:"saas-table-wrapper",children:e.jsxs("table",{className:"saas-table saas-table-responsive",children:[e.jsx("thead",{className:"bg-gradient-to-r from-violet-50 via-purple-50 to-fuchsia-50 border-b-2 border-violet-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider hover:text-purple-700 transition-colors duration-300 cursor-pointer",children:"Task Title"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider hover:text-purple-700 transition-colors duration-300 cursor-pointer",children:"Assigned To"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider hover:text-purple-700 transition-colors duration-300 cursor-pointer",children:"Priority"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider hover:text-purple-700 transition-colors duration-300 cursor-pointer",children:"Due Date"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider hover:text-purple-700 transition-colors duration-300 cursor-pointer",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider text-right hover:text-purple-700 transition-colors duration-300 cursor-pointer",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:u?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-3 text-violet-600",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-current border-t-transparent rounded-full animate-spin"}),e.jsx("span",{className:"text-sm font-medium",children:"Loading tasks..."})]})})}):d.length>0?d.map($=>e.jsxs("tr",{className:"group hover:bg-gradient-to-r hover:from-violet-50/50 hover:to-purple-50/30 transition-all duration-300",children:[e.jsx("td",{className:"px-6 py-4","data-label":"Task Title",children:e.jsx("p",{className:"text-sm font-bold text-gray-800 tracking-tight group-hover:text-violet-700 transition-colors duration-300",children:$.title})}),e.jsx("td",{className:"px-6 py-4","data-label":"Assigned To",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-100 flex items-center justify-center text-[10px] font-bold text-gray-500",children:($.assignedTo||"?").charAt(0)}),e.jsx("p",{className:"text-sm font-medium text-gray-600",children:$.assignedTo})]})}),e.jsx("td",{className:"px-6 py-4","data-label":"Priority",children:W($.priority)}),e.jsx("td",{className:"px-6 py-4","data-label":"Due Date",children:e.jsx("p",{className:"text-xs font-medium text-gray-500 bg-gray-50 px-2 py-1 rounded-md inline-block",children:$.dueDate})}),e.jsx("td",{className:"px-6 py-4","data-label":"Status",children:e.jsx("button",{onClick:()=>I($.id,$.status),className:"hover:scale-105 active:scale-95 transition-transform",children:H($.status)})}),e.jsx("td",{className:"px-6 py-4 text-right","data-label":"Actions",children:e.jsxs("div",{className:"flex items-center justify-end gap-1 opacity-0 group-hover:opacity-100 transition-all duration-200 transform translate-x-2 group-hover:translate-x-0",children:[e.jsx("button",{onClick:()=>P($),className:"p-2 text-gray-400 hover:text-violet-600 hover:bg-violet-50 rounded-lg transition-all hover:scale-110 duration-300",children:e.jsx(Sd,{size:16})}),e.jsx("button",{onClick:()=>B($.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",children:e.jsx(Ms,{size:16})})]})})]},$.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-12 text-center text-gray-400 text-sm",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("div",{className:"p-3 bg-gray-50 rounded-full",children:e.jsx(Ns,{size:20,className:"text-gray-300"})}),e.jsx("p",{children:"No tasks found matching your filters."})]})})})})]})}),!u&&w>0&&e.jsxs("div",{className:"px-6 py-4 bg-gray-50/50 border-t border-gray-100 flex justify-between items-center",children:[e.jsxs("span",{className:"text-xs font-medium text-gray-500",children:["Showing ",e.jsx("span",{className:"text-gray-900",children:(p-1)*y+1})," - ",e.jsx("span",{className:"text-gray-900",children:Math.min(p*y,w)})," of ",e.jsx("span",{className:"text-gray-900",children:w})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>g($=>Math.max($-1,1)),disabled:p===1,className:"w-9 h-9 flex items-center justify-center border border-gray-200 rounded-xl bg-white hover:bg-gray-50 text-gray-600 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm transition-all hover:-translate-y-0.5",children:e.jsx(Wr,{size:18})}),e.jsx("button",{onClick:()=>g($=>Math.min($+1,Math.ceil(w/y))),disabled:p===Math.ceil(w/y),className:"w-9 h-9 flex items-center justify-center border border-gray-200 rounded-xl bg-white hover:bg-gray-50 text-gray-600 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm transition-all hover:-translate-y-0.5",children:e.jsx(vs,{size:18})})]})]})]}),e.jsx(at,{isOpen:v,onClose:()=>N(!1),title:"Edit Task",subtitle:`Updating info for ${A?.title}`,maxWidth:"max-w-md",footer:e.jsxs("div",{className:"flex gap-3 w-full",children:[e.jsx("button",{type:"button",onClick:()=>N(!1),className:"flex-1 h-11 border border-gray-200 text-gray-700 rounded-xl text-sm font-bold hover:bg-gray-50 transition-all",children:"Cancel"}),e.jsx("button",{type:"submit",form:"edit-task-form",className:"flex-1 h-11 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-xl text-sm font-bold hover:shadow-xl hover:shadow-violet-500/50 transition-all hover:scale-[1.02] active:scale-[0.98]",children:"Save Changes"})]}),children:e.jsxs("form",{id:"edit-task-form",onSubmit:R,className:"space-y-5 py-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Task Title"}),e.jsx("input",{required:!0,type:"text",className:"saas-input w-full h-11 px-4 rounded-xl border-gray-200 focus:ring-2 focus:ring-indigo-500 text-sm bg-gray-50/50 focus:bg-white transition-all",value:M.title,onChange:$=>T({...M,title:$.target.value})})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Assigned To"}),e.jsxs("div",{className:"relative",children:[e.jsx(rt,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),e.jsx("input",{required:!0,type:"text",className:"saas-input w-full pl-10 h-11 rounded-xl border-gray-200 focus:ring-2 focus:ring-indigo-500 text-sm bg-gray-50/50 focus:bg-white transition-all",value:M.assignedTo,onChange:$=>T({...M,assignedTo:$.target.value})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Priority"}),e.jsx(ms,{options:["Low","Medium","High"],value:M.priority,onChange:$=>T({...M,priority:$}),className:"w-full"})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Due Date"}),e.jsx("input",{required:!0,type:"date",className:"saas-input w-full h-11 px-4 rounded-xl border-gray-200 focus:ring-2 focus:ring-indigo-500 text-sm bg-gray-50/50 focus:bg-white transition-all",value:M.dueDate,onChange:$=>T({...M,dueDate:$.target.value})})]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx(ms,{options:["Pending","In Progress","Completed"],value:M.status,onChange:$=>T({...M,status:$}),className:"w-full"})]})]})})]})},iD=({options:t,value:s,onChange:r,icon:l,placeholder:i})=>{const[o,d]=j.useState(!1),x=j.useRef(null);return j.useEffect(()=>{const u=h=>{x.current&&!x.current.contains(h.target)&&d(!1)};return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[]),e.jsxs("div",{className:"relative min-w-[160px]",ref:x,children:[e.jsxs("button",{onClick:()=>d(!o),className:`w-full h-11 px-4 rounded-xl border flex items-center justify-between transition-all duration-300 ${o?"border-violet-500 ring-2 ring-violet-100 bg-white":"border-gray-200 bg-white hover:border-gray-300"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[l&&e.jsx(l,{size:16,className:"text-gray-400"}),e.jsx("span",{className:"font-medium truncate",children:s==="All"?i:s})]}),e.jsx(Wl,{size:16,className:`text-gray-400 transition-transform duration-300 ${o?"rotate-180 text-violet-500":""}`})]}),e.jsx("div",{className:`absolute top-full left-0 right-0 mt-2 bg-white border border-gray-100 rounded-xl shadow-xl z-50 overflow-hidden transition-all duration-200 origin-top ${o?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-95 -translate-y-2 pointer-events-none"}`,children:e.jsx("div",{className:"py-1",children:t.map(u=>e.jsxs("button",{onClick:()=>{r(u),d(!1)},className:`w-full px-4 py-2.5 text-left text-sm flex items-center justify-between transition-colors ${s===u?"bg-violet-50 text-violet-600 font-medium":"text-gray-600 hover:bg-gray-50"}`,children:[u==="All"?i:u,s===u&&e.jsx($r,{size:14})]},u))})})]})},J1=()=>{const t=()=>{const $=new Date,G=$.getFullYear(),le=String($.getMonth()+1).padStart(2,"0"),Q=String($.getDate()).padStart(2,"0");return`${G}-${le}-${Q}`},[s,r]=j.useState(t()),[l,i]=j.useState("All"),[o,d]=j.useState(""),[x,u]=j.useState([]),[h,p]=j.useState({totalToday:0,membersToday:0,staffToday:0}),[g,y]=j.useState(!0),[f,w]=j.useState(1),[S,v]=j.useState(0),[N,A]=j.useState(!0),[L,M]=j.useState(null),[T,_]=j.useState(!1),I=5;j.useEffect(()=>{B()},[s,l,o,f]);const B=async()=>{try{y(!0);const $={search:o,type:l,date:s,page:f,limit:I},G=await we.get("/branch-admin/reports/attendance",{params:$});u(G.data.data||[]),v(G.data.total||0),G.data.stats&&p(G.data.stats)}catch($){console.error("Attendance Load Error:",$)}finally{y(!1)}},P=()=>{if(x.length===0){alert("No data to export");return}const G=[["Name","Type","Check-In","Check-Out","Status"].join(","),...x.map(F=>[`"${F.name}"`,`"${F.type}"`,`"${F.checkIn}"`,`"${F.checkOut}"`,`"${F.status}"`].join(","))].join(`
`),le=new Blob([G],{type:"text/csv"}),Q=URL.createObjectURL(le),ne=document.createElement("a");ne.href=Q,ne.download=`attendance_report_${s}.csv`,ne.click()},R=async $=>{if(window.confirm("Are you sure you want to remove this attendance record?"))try{await we.delete(`/admin/attendance/${$}`),B()}catch(G){console.error("Delete Error:",G)}},W=$=>{M($),_(!0)},H=[{label:"Total Attendance",value:h.totalToday,icon:Et,bg:"bg-indigo-50",color:"text-indigo-600",border:"border-indigo-100"},{label:"Member Attendance",value:h.membersToday,icon:yl,bg:"bg-green-50",color:"text-green-600",border:"border-green-100"},{label:"Staff Attendance",value:h.staffToday,icon:yl,bg:"bg-blue-50",color:"text-blue-600",border:"border-blue-100"}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-6 md:p-8",children:[e.jsxs("div",{className:"mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(Ye,{size:28})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Daily Attendance Report"}),e.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Detailed breakdown of today's attendance for members and staff"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>A(!N),className:`p-2.5 border rounded-xl hover:bg-gray-50 transition-all ${N?"bg-violet-50 border-violet-200 ring-2 ring-violet-100 text-violet-600":"bg-white border-gray-200 text-gray-500"}`,children:e.jsx(Ns,{size:18})}),e.jsxs("button",{onClick:P,className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-violet-600 to-purple-600 hover:shadow-xl hover:shadow-violet-500/50 text-white rounded-xl text-sm font-bold transition-all hover:scale-[1.02] active:scale-[0.98]",children:[e.jsx(Js,{size:18}),"Export Report"]})]})]})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:H.map(($,G)=>e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-xl border border-slate-100 flex items-center gap-4 hover:shadow-2xl hover:border-violet-200 transition-all duration-300 transform hover:-translate-y-1 hover:scale-105 group cursor-pointer",children:[e.jsx("div",{className:`p-4 rounded-xl ${$.bg} ${$.color} group-hover:scale-125 group-hover:rotate-6 transition-all duration-500 shadow-md`,children:e.jsx($.icon,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1",children:$.label}),e.jsx("p",{className:"text-3xl font-black text-gray-900 leading-none",children:$.value})]})]},G))}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 hover:shadow-2xl hover:border-violet-200 transition-all duration-300",style:{overflow:"visible",zIndex:10,position:"relative"},children:[N&&e.jsx("div",{className:"p-6 border-b border-slate-100 hover:bg-violet-50/20 transition-colors duration-300",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-center",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 w-full md:w-auto",children:[e.jsxs("div",{className:"relative group",children:[e.jsx(Ye,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-hover:text-violet-500 group-hover:scale-110 transition-all duration-300",size:18}),e.jsx("input",{type:"date",className:"pl-11 h-11 px-4 rounded-xl border-2 border-slate-200 text-sm focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 transition-all bg-white hover:border-slate-300 hover:shadow-sm",value:s,onChange:$=>{r($.target.value),w(1)}})]}),e.jsx("div",{className:"w-full md:w-48",children:e.jsx(iD,{options:["All","Member","Staff","Trainer"],value:l,onChange:$=>{i($),w(1)},placeholder:"All Types",icon:Et})})]}),e.jsxs("div",{className:"relative w-full md:w-72 group",children:[e.jsx(Qe,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-hover:text-violet-500 group-hover:scale-110 transition-all duration-300",size:18}),e.jsx("input",{type:"text",placeholder:"Search by name...",className:"pl-11 h-11 w-full rounded-xl border-2 border-slate-200 focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 text-sm bg-white hover:border-slate-300 hover:shadow-sm transition-all",value:o,onChange:$=>{d($.target.value),w(1)}})]})]})}),e.jsx("div",{className:"saas-table-wrapper",children:e.jsxs("table",{className:"saas-table saas-table-responsive",children:[e.jsx("thead",{className:"bg-gradient-to-r from-violet-50 via-purple-50 to-fuchsia-50 border-b-2 border-violet-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider hover:text-purple-700 transition-colors duration-300 cursor-pointer",children:"Name"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider hover:text-purple-700 transition-colors duration-300 cursor-pointer",children:"Type"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider hover:text-purple-700 transition-colors duration-300 cursor-pointer",children:"Check-In"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider hover:text-purple-700 transition-colors duration-300 cursor-pointer",children:"Check-Out"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider hover:text-purple-700 transition-colors duration-300 cursor-pointer",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider text-right hover:text-purple-700 transition-colors duration-300 cursor-pointer",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:g?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-2 text-violet-600",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-violet-600 border-t-transparent rounded-full animate-spin"}),e.jsx("span",{className:"text-sm font-medium",children:"Loading report..."})]})})}):x.length>0?x.map($=>e.jsxs("tr",{className:"hover:bg-gradient-to-r hover:from-violet-50/50 hover:to-purple-50/30 transition-colors duration-200 group",children:[e.jsx("td",{className:"px-6 py-4","data-label":"Name",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`h-9 w-9 rounded-full flex items-center justify-center font-bold text-xs shadow-sm ${$.type==="Member"?"bg-green-100 text-green-700":$.type==="Staff"?"bg-blue-100 text-blue-700":"bg-purple-100 text-purple-700"}`,children:($.name||"?").charAt(0)}),e.jsx("span",{className:"text-sm font-bold text-gray-800",children:$.name})]})}),e.jsx("td",{className:"px-6 py-4","data-label":"Type",children:e.jsx("span",{className:`text-xs font-bold px-2.5 py-1 rounded-full border ${$.type==="Member"?"bg-green-50 text-green-600 border-green-100":$.type==="Staff"?"bg-blue-50 text-blue-600 border-blue-100":"bg-purple-50 text-purple-600 border-purple-100"}`,children:$.type})}),e.jsx("td",{className:"px-6 py-4","data-label":"Check-In",children:e.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-gray-600",children:[e.jsx(Je,{size:14,className:"text-gray-400"}),$.time||$.checkIn]})}),e.jsx("td",{className:"px-6 py-4","data-label":"Check-Out",children:e.jsx("span",{className:"text-sm text-gray-600",children:$.checkOut||"-"})}),e.jsx("td",{className:"px-6 py-4","data-label":"Status",children:e.jsxs("span",{className:"inline-flex items-center gap-1.5 text-xs font-bold text-green-600 bg-green-50 px-2.5 py-1 rounded-full border border-green-100",children:[e.jsxs("span",{className:"relative flex h-2 w-2",children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),e.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-green-500"})]}),$.status==="checked-in"||$.status==="checked-out"?"Present":$.status]})}),e.jsx("td",{className:"px-6 py-4 text-right","data-label":"Actions",children:e.jsxs("div",{className:"flex items-center justify-end gap-1 opacity-0 group-hover:opacity-100 transition-all duration-200 transform translate-x-2 group-hover:translate-x-0",children:[e.jsx("button",{onClick:()=>W($),className:"p-2 text-gray-400 hover:text-violet-600 hover:bg-violet-50 rounded-lg transition-all hover:scale-110 duration-300",title:"View Details",children:e.jsx(da,{size:16})}),e.jsx("button",{onClick:()=>R($.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",title:"Delete Record",children:e.jsx(Ms,{size:16})})]})})]},$.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-12 text-center text-gray-400 text-sm",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("div",{className:"p-3 bg-gray-50 rounded-full",children:e.jsx(Qe,{size:20,className:"text-gray-300"})}),e.jsx("p",{children:"No attendance records found for this date."})]})})})})]})}),!g&&S>0&&e.jsxs("div",{className:"px-6 py-4 bg-gray-50/50 border-t border-gray-100 flex justify-between items-center",children:[e.jsxs("span",{className:"text-xs font-medium text-gray-500",children:["Showing ",e.jsx("span",{className:"font-bold text-gray-900",children:(f-1)*I+1})," - ",e.jsx("span",{className:"font-bold text-gray-900",children:Math.min(f*I,S)})," of ",e.jsx("span",{className:"font-bold text-gray-900",children:S})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>w($=>Math.max($-1,1)),disabled:f===1,className:"w-9 h-9 flex items-center justify-center border border-gray-200 rounded-xl bg-white hover:bg-gray-50 text-gray-600 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm transition-all hover:-translate-y-0.5","aria-label":"Previous Page",children:e.jsx(Wr,{size:18})}),e.jsx("button",{onClick:()=>w($=>Math.min($+1,Math.ceil(S/I))),disabled:f===Math.ceil(S/I),className:"w-9 h-9 flex items-center justify-center border border-gray-200 rounded-xl bg-white hover:bg-gray-50 text-gray-600 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm transition-all hover:-translate-y-0.5","aria-label":"Next Page",children:e.jsx(vs,{size:18})})]})]})]}),e.jsx(at,{isOpen:T,onClose:()=>_(!1),title:"Attendance Details",subtitle:"Detailed entry log",width:"500px",children:L&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col items-center py-6 bg-slate-50 rounded-2xl border border-slate-100",children:[e.jsx("div",{className:`h-20 w-20 rounded-full flex items-center justify-center font-black text-2xl mb-3 shadow-lg ring-4 ring-offset-4 ${L.type==="Member"?"bg-green-100 text-green-600 ring-green-50":L.type==="Staff"?"bg-blue-100 text-blue-600 ring-blue-50":"bg-purple-100 text-purple-600 ring-purple-50"}`,children:(L.name||"?").charAt(0)}),e.jsx("h4",{className:"text-xl font-bold text-gray-900",children:L.name}),e.jsx("span",{className:`text-[10px] font-black px-3 py-1 rounded-full mt-2 uppercase tracking-widest border ${L.type==="Member"?"bg-green-50 text-green-600 border-green-100":L.type==="Staff"?"bg-blue-50 text-blue-600 border-blue-100":"bg-purple-50 text-purple-600 border-purple-100"}`,children:L.type})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-white rounded-xl border border-slate-100 shadow-sm",children:[e.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1 flex items-center gap-1.5",children:[e.jsx(Je,{size:12})," Check-In"]}),e.jsx("p",{className:"text-lg font-black text-slate-800",children:L.time||L.checkIn||"-"})]}),e.jsxs("div",{className:"p-4 bg-white rounded-xl border border-slate-100 shadow-sm",children:[e.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1 flex items-center gap-1.5",children:[e.jsx(Je,{size:12})," Check-Out"]}),e.jsx("p",{className:"text-lg font-black text-slate-800",children:L.checkOut||"-"})]})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-100",children:[e.jsx("div",{className:"flex justify-between items-center p-3 hover:bg-slate-50 rounded-lg transition-colors",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-slate-100 text-slate-500 rounded-lg",children:e.jsx(Vl,{size:16})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-slate-900",children:"Entrance Kiosk A"}),e.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-wide",children:"Device Info"})]})]})}),e.jsx("div",{className:"flex justify-between items-center p-3 hover:bg-slate-50 rounded-lg transition-colors",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-slate-100 text-slate-500 rounded-lg",children:e.jsx($s,{size:16})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-slate-900",children:"Main Location"}),e.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-wide",children:"Branch"})]})]})})]}),e.jsx("button",{onClick:()=>_(!1),className:"w-full py-3 bg-slate-900 text-white rounded-xl text-xs font-black uppercase tracking-widest hover:bg-slate-800 transition-all mt-6 shadow-lg shadow-slate-200",children:"Close Details"})]})})]})},Z1=({options:t,value:s,onChange:r,icon:l,placeholder:i})=>{const[o,d]=j.useState(!1),x=j.useRef(null);return j.useEffect(()=>{const u=h=>{x.current&&!x.current.contains(h.target)&&d(!1)};return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[]),e.jsxs("div",{className:"relative min-w-[160px]",ref:x,children:[e.jsxs("button",{onClick:()=>d(!o),className:`w-full h-11 px-4 rounded-xl border flex items-center justify-between transition-all duration-300 ${o?"border-violet-500 ring-2 ring-violet-100 bg-white":"border-gray-200 bg-white hover:border-gray-300"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[l&&e.jsx(l,{size:16,className:"text-gray-400"}),e.jsx("span",{className:"font-medium truncate",children:s==="All"?i:s})]}),e.jsx(Wl,{size:16,className:`text-gray-400 transition-transform duration-300 ${o?"rotate-180 text-violet-500":""}`})]}),e.jsx("div",{className:`absolute top-full left-0 right-0 mt-2 bg-white border border-gray-100 rounded-xl shadow-xl z-50 overflow-hidden transition-all duration-200 origin-top ${o?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-95 -translate-y-2 pointer-events-none"}`,children:e.jsx("div",{className:"py-1",children:t.map(u=>e.jsxs("button",{onClick:()=>{r(u),d(!1)},className:`w-full px-4 py-2.5 text-left text-sm flex items-center justify-between transition-colors ${s===u?"bg-violet-50 text-violet-600 font-medium":"text-gray-600 hover:bg-gray-50"}`,children:[u==="All"?i:u,s===u&&e.jsx($r,{size:14})]},u))})})]})},Q1=()=>{const[t,s]=j.useState("All"),[r,l]=j.useState("All"),[i,o]=j.useState(""),[d,x]=j.useState([]),[u,h]=j.useState({total:0,completed:0,cancelled:0}),[p,g]=j.useState(!0),[y,f]=j.useState(1),[w,S]=j.useState(0),[v,N]=j.useState(!0),[A,L]=j.useState(null),[M,T]=j.useState(!1),_=5;j.useEffect(()=>{I()},[t,r,i,y]);const I=async()=>{try{g(!0);const G={search:i,status:r,dateRange:t,page:y,limit:_},le=await we.get("/branch-admin/reports/bookings",{params:G});x(le.data.data||[]),S(le.data.total||0),le.data.stats&&h(le.data.stats)}catch(G){console.error("Booking Load Error:",G)}finally{g(!1)}},B=()=>{if(d.length===0){alert("No data to export");return}const le=[["Booking ID","Member","Class/Type","Trainer","Date","Time","Status"].join(","),...d.map(de=>[`"${de.id}"`,`"${de.memberName}"`,`"${de.classType}"`,`"${de.trainerName}"`,`"${de.date}"`,`"${de.time}"`,`"${de.status}"`].join(","))].join(`
`),Q=new Blob([le],{type:"text/csv;charset=utf-8;"}),ne=URL.createObjectURL(Q),F=document.createElement("a");F.setAttribute("href",ne),F.setAttribute("download",`booking_report_${new Date().toISOString().split("T")[0]}.csv`),F.style.visibility="hidden",document.body.appendChild(F),F.click(),document.body.removeChild(F)},P=()=>{if(d.length===0){alert("No data to export");return}const G=d.map(ne=>`<tr><td>${ne.id}</td><td>${ne.memberName}</td><td>${ne.classType}</td><td>${ne.trainerName}</td><td>${ne.date} ${ne.time}</td><td>${ne.status}</td></tr>`).join(""),le=`<html><head><title>Booking Report</title><style>body{font-family:sans-serif;padding:20px}table{width:100%;border-collapse:collapse}th,td{border:1px solid #ddd;padding:8px;text-align:left}th{background:#6d28d9;color:white}tr:nth-child(even){background:#f9f5ff}</style></head><body><h2>Booking Report</h2><p>Generated: ${new Date().toLocaleString()}</p><table><thead><tr><th>ID</th><th>Member</th><th>Class</th><th>Trainer</th><th>Date/Time</th><th>Status</th></tr></thead><tbody>${G}</tbody></table></body></html>`,Q=window.open("","_blank");Q.document.write(le),Q.document.close(),Q.print()},R=async G=>{if(window.confirm("Are you sure you want to cancel and remove this booking?"))try{await we.delete(`/admin/bookings/${G}`),I()}catch(le){console.error("Delete Error:",le),alert("Failed to delete booking. Please try again.")}},W=G=>{L(G),T(!0)},H=G=>G==="Completed"?"bg-green-50 text-green-700 border-green-100":G==="Cancelled"?"bg-red-50 text-red-700 border-red-100":"bg-yellow-50 text-yellow-700 border-yellow-100",$=[{label:"Total Bookings",value:u.total,icon:gl,bg:"bg-indigo-50",color:"text-indigo-600",border:"border-indigo-100"},{label:"Completed",value:u.completed,icon:gl,bg:"bg-green-50",color:"text-green-600",border:"border-green-100"},{label:"Cancelled",value:u.cancelled,icon:gl,bg:"bg-red-50",color:"text-red-600",border:"border-red-100"}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-6 md:p-8",children:[e.jsxs("div",{className:"mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(gl,{size:28})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Booking Report"}),e.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Analyze class and personal training booking performance"})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs("button",{onClick:B,className:"bg-white border border-gray-200 hover:bg-gray-50 text-gray-700 flex items-center gap-2 shadow-sm hover:shadow-md transition-all rounded-xl px-4 py-2.5 text-sm font-semibold",children:[e.jsx(Js,{size:16,className:"text-gray-500"})," Export CSV"]}),e.jsxs("button",{onClick:P,className:"bg-white border border-gray-200 hover:bg-gray-50 text-gray-700 flex items-center gap-2 shadow-sm hover:shadow-md transition-all rounded-xl px-4 py-2.5 text-sm font-semibold",children:[e.jsx(er,{size:16,className:"text-gray-500"})," Export PDF"]}),e.jsx("button",{onClick:()=>N(!v),className:`p-2.5 border rounded-xl hover:bg-gray-50 transition-all ${v?"bg-violet-50 border-violet-200 ring-2 ring-violet-100 text-violet-600":"bg-white border-gray-200 text-gray-500"}`,children:e.jsx(Ns,{size:18})})]})]})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:$.map((G,le)=>e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-xl border border-slate-100 flex items-center gap-4 hover:shadow-2xl hover:border-violet-200 transition-all duration-300 transform hover:-translate-y-1 hover:scale-105 group cursor-pointer",children:[e.jsx("div",{className:`p-4 rounded-xl ${G.bg} ${G.color} group-hover:scale-125 group-hover:rotate-6 transition-all duration-500 shadow-md`,children:e.jsx(G.icon,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1",children:G.label}),e.jsx("p",{className:"text-3xl font-black text-gray-900 leading-none",children:p?e.jsx("span",{className:"text-lg text-gray-300",children:"..."}):G.value})]})]},le))}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 hover:shadow-2xl hover:border-violet-200 transition-all duration-300",style:{overflow:"visible",zIndex:10,position:"relative"},children:[v&&e.jsx("div",{className:"p-6 border-b border-slate-100 hover:bg-violet-50/20 transition-colors duration-300",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between",children:[e.jsxs("div",{className:"flex flex-wrap gap-4 w-full md:w-auto",children:[e.jsx("div",{className:"w-full md:w-48",children:e.jsx(Z1,{options:["All","Today","This Week","This Month"],value:t,onChange:G=>{s(G),f(1)},placeholder:"All Time",icon:Ye})}),e.jsx("div",{className:"w-full md:w-48",children:e.jsx(Z1,{options:["All","Upcoming","Completed","Cancelled"],value:r,onChange:G=>{l(G),f(1)},placeholder:"All Status",icon:Bo})})]}),e.jsxs("div",{className:"relative w-full md:w-72 group",children:[e.jsx(Qe,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-hover:text-violet-500 group-hover:scale-110 transition-all duration-300",size:18}),e.jsx("input",{type:"text",placeholder:"Search by member or class...",className:"pl-11 h-11 w-full rounded-xl border-2 border-slate-200 focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 text-sm bg-white hover:border-slate-300 hover:shadow-sm transition-all",value:i,onChange:G=>{o(G.target.value),f(1)}})]})]})}),e.jsx("div",{className:"saas-table-wrapper",children:e.jsxs("table",{className:"saas-table saas-table-responsive",children:[e.jsx("thead",{className:"bg-gradient-to-r from-violet-50 via-purple-50 to-fuchsia-50 border-b-2 border-violet-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider",children:"Booking ID"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider",children:"Member"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider",children:"Booking Type"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider",children:"Trainer"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider",children:"Date / Time"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-violet-600 uppercase tracking-wider text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:p?e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-2 text-violet-600",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-violet-600 border-t-transparent rounded-full animate-spin"}),e.jsx("span",{className:"text-sm font-medium",children:"Generating report..."})]})})}):d.length>0?d.map(G=>e.jsxs("tr",{className:"hover:bg-gradient-to-r hover:from-violet-50/50 hover:to-purple-50/30 transition-colors duration-200 group",children:[e.jsx("td",{className:"px-6 py-4","data-label":"Booking ID",children:e.jsxs("span",{className:"text-xs font-mono text-indigo-600 font-bold bg-indigo-50 px-2 py-1 rounded-md",children:["#",G.id]})}),e.jsx("td",{className:"px-6 py-4","data-label":"Member",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center font-bold text-xs",children:(G.memberName||"U").charAt(0).toUpperCase()}),e.jsx("p",{className:"text-sm font-bold text-gray-800",children:G.memberName||"Unknown"})]})}),e.jsx("td",{className:"px-6 py-4","data-label":"Booking Type",children:e.jsx("span",{className:"text-sm font-medium text-gray-700",children:G.classType||"N/A"})}),e.jsx("td",{className:"px-6 py-4","data-label":"Trainer",children:e.jsx("span",{className:"text-sm text-gray-600 font-medium",children:G.trainerName||"Unassigned"})}),e.jsx("td",{className:"px-6 py-4","data-label":"Date / Time",children:e.jsxs("div",{className:"text-sm text-gray-700",children:[e.jsx("div",{className:"font-semibold",children:G.date||"-"}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-400 mt-0.5",children:[e.jsx(Je,{size:11}),G.time||"-"]})]})}),e.jsx("td",{className:"px-6 py-4","data-label":"Status",children:e.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-bold border transform transition-transform hover:scale-105 inline-block ${H(G.status)}`,children:G.status||"Pending"})}),e.jsx("td",{className:"px-6 py-4 text-right","data-label":"Actions",children:e.jsxs("div",{className:"flex items-center justify-end gap-1 opacity-0 group-hover:opacity-100 transition-all duration-200 transform translate-x-2 group-hover:translate-x-0",children:[e.jsx("button",{onClick:()=>W(G),className:"p-2 text-gray-400 hover:text-violet-600 hover:bg-violet-50 rounded-lg transition-all hover:scale-110 duration-300",title:"View Details",children:e.jsx(da,{size:16})}),e.jsx("button",{onClick:()=>R(G.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",title:"Cancel Booking",children:e.jsx(Ms,{size:16})})]})})]},G.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"px-6 py-12 text-center text-gray-400 text-sm",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("div",{className:"p-3 bg-gray-50 rounded-full",children:e.jsx(Ns,{size:20,className:"text-gray-300"})}),e.jsx("p",{children:"No bookings found for the selected filters."})]})})})})]})}),!p&&w>0&&e.jsxs("div",{className:"px-6 py-4 bg-gray-50/50 border-t border-gray-100 flex justify-between items-center",children:[e.jsxs("span",{className:"text-xs font-medium text-gray-500",children:["Showing ",e.jsx("span",{className:"font-bold text-gray-900",children:(y-1)*_+1})," - ",e.jsx("span",{className:"font-bold text-gray-900",children:Math.min(y*_,w)})," of ",e.jsx("span",{className:"font-bold text-gray-900",children:w})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>f(G=>Math.max(G-1,1)),disabled:y===1,className:"w-9 h-9 flex items-center justify-center border border-gray-200 rounded-xl bg-white hover:bg-gray-50 text-gray-600 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm transition-all hover:-translate-y-0.5","aria-label":"Previous Page",children:e.jsx(Wr,{size:18})}),e.jsx("button",{onClick:()=>f(G=>Math.min(G+1,Math.ceil(w/_))),disabled:y===Math.ceil(w/_),className:"w-9 h-9 flex items-center justify-center border border-gray-200 rounded-xl bg-white hover:bg-gray-50 text-gray-600 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm transition-all hover:-translate-y-0.5","aria-label":"Next Page",children:e.jsx(vs,{size:18})})]})]})]}),e.jsx(at,{isOpen:M,onClose:()=>T(!1),title:"Booking Details",subtitle:"Class and session information",width:"500px",children:A&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col items-center py-6 bg-slate-50 rounded-2xl border border-slate-100",children:[e.jsx("div",{className:"h-20 w-20 rounded-full bg-indigo-100 text-indigo-700 flex items-center justify-center font-black text-2xl mb-3 shadow-lg ring-4 ring-indigo-50 ring-offset-4",children:(A.memberName||"U").charAt(0).toUpperCase()}),e.jsx("h4",{className:"text-xl font-bold text-gray-900",children:A.memberName||"Unknown Member"}),e.jsx("span",{className:"text-[10px] font-black px-3 py-1 rounded-full mt-2 uppercase tracking-widest bg-indigo-50 text-indigo-600 border border-indigo-100",children:A.classType||"Booking"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-white rounded-xl border border-slate-100 shadow-sm",children:[e.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1 flex items-center gap-1.5",children:[e.jsx(rt,{size:12})," Trainer"]}),e.jsx("p",{className:"text-sm font-bold text-gray-900 truncate",children:A.trainerName||"Unassigned"})]}),e.jsxs("div",{className:"p-4 bg-white rounded-xl border border-slate-100 shadow-sm",children:[e.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1 flex items-center gap-1.5",children:[e.jsx(Je,{size:12})," Time Slot"]}),e.jsx("p",{className:"text-lg font-black text-slate-800",children:A.time||"-"})]}),e.jsxs("div",{className:"p-4 bg-white rounded-xl border border-slate-100 shadow-sm",children:[e.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1 flex items-center gap-1.5",children:[e.jsx(Wt,{size:12})," Status"]}),e.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded-full border ${H(A.status)}`,children:A.status||"Pending"})]}),e.jsxs("div",{className:"p-4 bg-white rounded-xl border border-slate-100 shadow-sm",children:[e.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1 flex items-center gap-1.5",children:[e.jsx($s,{size:12})," Booking ID"]}),e.jsxs("p",{className:"text-sm font-bold text-indigo-600",children:["#",A.id]})]})]}),e.jsxs("div",{className:"mt-6 p-4 bg-indigo-50/50 rounded-xl border border-indigo-100 flex gap-3 text-sm text-indigo-900",children:[e.jsx("div",{className:"p-1 bg-white rounded-lg h-fit border border-indigo-200",children:e.jsx(Ye,{size:14,className:"text-indigo-600"})}),e.jsxs("p",{children:["Scheduled for ",e.jsx("span",{className:"font-bold",children:A.date||"N/A"})," at ",e.jsx("span",{className:"font-bold",children:A.time||"N/A"}),"."]})]}),e.jsx("button",{onClick:()=>T(!1),className:"w-full py-3 bg-slate-900 text-white rounded-xl text-xs font-black uppercase tracking-widest hover:bg-slate-800 transition-all mt-6 shadow-lg shadow-slate-200",children:"Close Details"})]})})]})},ey=()=>{const[t,s]=j.useState(null),[r,l]=j.useState(!0),[i,o]=j.useState("personal"),[d,x]=j.useState(!1),[u,h]=j.useState({type:"",text:""}),[p,g]=j.useState({name:"",email:"",phone:"",address:""});j.useEffect(()=>{y()},[]);const y=async()=>{try{l(!0);const v=await d9();s(v),g({name:v.name,email:v.email,phone:v.phone,address:v.address||""})}catch(v){console.error("Error loading profile:",v),h({type:"error",text:"Failed to load profile data."})}finally{l(!1)}},f=v=>{const{name:N,value:A}=v.target;g(L=>({...L,[N]:A}))},w=async v=>{v.preventDefault(),x(!0),h({type:"",text:""});try{const N=await x9(p);s(N),h({type:"success",text:"Profile updated successfully!"})}catch{h({type:"error",text:"Failed to update profile."})}finally{x(!1)}};if(r)return e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh]",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-violet-600 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"mt-4 text-gray-500 font-medium",children:"Loading profile..."})]});if(!t)return e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] gap-4",children:[e.jsx("div",{className:"w-16 h-16 bg-red-50 rounded-full flex items-center justify-center",children:e.jsx(tr,{size:32,className:"text-red-400"})}),e.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Could Not Load Profile"}),e.jsx("p",{className:"text-slate-500 text-sm max-w-xs text-center",children:u.text||"There was an error fetching your profile. Please try refreshing the page."}),e.jsx("button",{onClick:y,className:"px-6 py-2.5 bg-violet-600 text-white rounded-xl text-sm font-bold hover:bg-violet-700 transition-all",children:"Retry"})]});const S=[{id:"personal",label:"Personal Info",icon:rt},{id:"security",label:"Security",icon:tr},{id:"notifications",label:"Notifications",icon:vl}];return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-6 md:p-8",children:e.jsxs("div",{className:"max-w-5xl mx-auto space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-xl overflow-hidden hover:shadow-2xl hover:border-violet-200 transition-all duration-300",children:[e.jsx("div",{className:"h-32 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 relative",children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 opacity-50 blur-2xl"})}),e.jsx("div",{className:"px-8 pb-8",children:e.jsxs("div",{className:"relative flex flex-col md:flex-row md:items-end gap-6 -mt-12",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"w-32 h-32 rounded-3xl bg-white p-2 shadow-xl ring-4 ring-violet-100",children:e.jsx("div",{className:"w-full h-full rounded-2xl bg-gradient-to-br from-violet-600 to-purple-600 flex items-center justify-center text-white text-5xl font-black",children:t.avatar})}),e.jsx("button",{className:"absolute bottom-2 right-2 p-2.5 bg-white rounded-xl shadow-lg border border-violet-100 text-violet-600 hover:scale-110 hover:rotate-6 active:scale-95 transition-all duration-300",children:e.jsx(Uo,{size:18})})]}),e.jsxs("div",{className:"flex-1 pb-2",children:[e.jsx("h1",{className:"text-3xl font-black text-gray-900 tracking-tight",children:t.name}),e.jsxs("div",{className:"flex flex-wrap gap-4 mt-2",children:[e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full bg-gradient-to-r from-violet-50 to-purple-50 text-violet-700 text-xs font-bold border border-violet-200",children:t.role.replace("_"," ")}),e.jsxs("span",{className:"inline-flex items-center gap-1.5 text-xs text-gray-500 font-bold uppercase",children:[e.jsx(Wt,{size:14,className:"text-green-500"})," ",t.status]}),e.jsxs("span",{className:"inline-flex items-center gap-1.5 text-xs text-gray-500 font-bold uppercase",children:[e.jsx(Ye,{size:14,className:"text-blue-400"})," Joined ",t.joinedDate]})]})]}),e.jsxs("button",{className:"md:mb-2 px-6 py-3 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-2xl text-sm font-black shadow-xl shadow-violet-500/50 hover:shadow-2xl hover:shadow-violet-500/60 hover:scale-[1.02] active:scale-95 transition-all flex items-center gap-2",children:[e.jsx(as,{size:18})," Manager Account"]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsx("div",{className:"lg:col-span-1 space-y-2",children:S.map(v=>e.jsxs("button",{onClick:()=>o(v.id),className:`w-full flex items-center gap-3 px-6 py-4 rounded-2xl text-sm font-bold transition-all duration-300 ${i===v.id?"bg-gradient-to-r from-violet-600 to-purple-600 text-white shadow-xl shadow-violet-500/50":"text-gray-500 hover:bg-white border border-transparent hover:border-violet-100 hover:text-violet-600 hover:shadow-md"}`,children:[e.jsx(v.icon,{size:18}),v.label]},v.id))}),e.jsx("div",{className:"lg:col-span-3",children:e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-xl p-8 hover:shadow-2xl hover:border-violet-200 transition-all duration-300",children:[u.text&&e.jsxs("div",{className:`mb-8 p-4 rounded-2xl flex items-center gap-3 text-sm font-bold ${u.type==="success"?"bg-green-50 text-green-700 border border-green-100":"bg-red-50 text-red-700 border border-red-100"}`,children:[e.jsx(Wt,{size:18})," ",u.text]}),i==="personal"&&e.jsxs("form",{onSubmit:w,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"Full Name"}),e.jsxs("div",{className:"relative",children:[e.jsx(rt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{type:"text",name:"name",value:p.name,onChange:f,className:"w-full pl-12 h-12 bg-white border-2 border-slate-200 rounded-xl focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 transition-all hover:border-slate-300",placeholder:"Enter your name"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(Hr,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{type:"email",name:"email",value:p.email,onChange:f,className:"w-full pl-12 h-12 bg-white border-2 border-slate-200 rounded-xl focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 transition-all hover:border-slate-300",placeholder:"Enter your email"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"Phone Number"}),e.jsxs("div",{className:"relative",children:[e.jsx(qs,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{type:"text",name:"phone",value:p.phone,onChange:f,className:"w-full pl-12 h-12 bg-white border-2 border-slate-200 rounded-xl focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 transition-all hover:border-slate-300",placeholder:"Enter phone number"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"Location"}),e.jsxs("div",{className:"relative",children:[e.jsx($s,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{type:"text",name:"address",value:p.address,onChange:f,className:"w-full pl-12 h-12 bg-white border-2 border-slate-200 rounded-xl focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 transition-all hover:border-slate-300",placeholder:"Enter city, country"})]})]})]}),e.jsx("div",{className:"pt-6 border-t border-gray-50",children:e.jsxs("button",{type:"submit",disabled:d,className:"px-8 py-3.5 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-2xl text-sm font-black shadow-xl shadow-violet-500/50 hover:shadow-2xl hover:shadow-violet-500/60 hover:scale-[1.02] active:scale-95 transition-all flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[d?e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):e.jsx(as,{size:18}),"Save Profile Changes"]})})]}),i==="security"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"p-6 rounded-[28px] bg-red-50/30 border border-red-100/50",children:[e.jsxs("h4",{className:"text-red-700 font-bold flex items-center gap-2",children:[e.jsx(Fs,{size:18})," Password Management"]}),e.jsx("p",{className:"text-red-600/70 text-sm mt-1 font-medium",children:"It's recommended to update your password every 90 days for maximum security."}),e.jsx("button",{className:"mt-6 px-6 py-2.5 bg-red-600 text-white rounded-xl text-xs font-bold hover:bg-red-700 active:scale-95 transition-all",children:"Change Password"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-sm font-black text-gray-900 uppercase tracking-widest px-1",children:"Account Security"}),e.jsx("div",{className:"p-6 rounded-[28px] border border-gray-100 bg-gray-50/30 space-y-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-gray-800",children:"Two-Factor Authentication"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Add an extra layer of security to your account."})]}),e.jsx("div",{className:"w-12 h-6 bg-green-500 rounded-full relative",children:e.jsx("div",{className:"absolute right-1 top-1 w-4 h-4 bg-white rounded-full"})})]})})]})]}),i==="notifications"&&e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-50 rounded-full flex items-center justify-center text-gray-300 mb-4",children:e.jsx(vl,{size:40})}),e.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Notification Preferences"}),e.jsx("p",{className:"text-gray-500 max-w-xs mt-2 font-medium",children:"Customize how you receive alerts and system updates."})]})]})})]})]})})},ty=()=>{const[t,s]=j.useState([]),[r,l]=j.useState({currentlyIn:0}),[i,o]=j.useState(!0);j.useEffect(()=>{d();const u=setInterval(d,3e4);return()=>clearInterval(u)},[]);const d=async()=>{const[u,h]=await Promise.all([vg({limit:10}),g9()]);s(u.data),l(h),o(!1)},x=u=>u==="checked-in"?e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-xl bg-gradient-to-r from-emerald-500 to-emerald-600 text-white text-xs font-black shadow-lg shadow-emerald-500/50 hover:shadow-xl hover:scale-110 transition-all duration-300 cursor-pointer",children:[e.jsxs("span",{className:"relative flex h-2 w-2",children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-white opacity-75"}),e.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-white"})]}),"Checked In"]}):e.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-xl bg-gradient-to-r from-slate-400 to-slate-500 text-white text-xs font-black shadow-lg hover:scale-110 transition-all duration-300 cursor-pointer",children:"Checked Out"});return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6 flex-shrink-0",children:e.jsx(Wt,{size:24,className:"sm:w-7 sm:h-7",strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Live Monitor"}),e.jsx("span",{className:"px-2 py-0.5 bg-gradient-to-r from-violet-500 to-purple-600 text-white text-[10px] font-black rounded-md shadow-sm animate-pulse whitespace-nowrap",children:"PREMIUM "})]}),e.jsx("p",{className:"text-slate-600 text-xs sm:text-sm mt-1",children:"Real-time gym entry and exit logs"})]})]}),e.jsxs("div",{className:"group relative bg-gradient-to-br from-emerald-500 to-emerald-600 px-5 sm:px-6 py-4 rounded-2xl shadow-xl shadow-emerald-500/50 hover:shadow-2xl hover:shadow-emerald-500/60 hover:scale-105 transition-all duration-300 cursor-pointer overflow-hidden w-full lg:w-auto",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative z-10 flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center text-white transition-all duration-300 group-hover:scale-110 group-hover:rotate-12",children:e.jsx(Et,{size:20,className:"sm:w-6 sm:h-6",strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsx("span",{className:"block text-[10px] sm:text-xs text-white/80 font-bold uppercase tracking-wider",children:"Currently In"}),e.jsx("span",{className:"block text-2xl sm:text-3xl font-black text-white",children:r.currentlyIn})]})]})]})]})})]}),e.jsxs("div",{className:"group relative bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden hover:shadow-2xl hover:border-violet-200 transition-all duration-500 transform hover:-translate-y-1",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50/30 to-purple-50/30 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"p-4 sm:p-6 border-b border-slate-100 bg-slate-50/50 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-violet-100 to-purple-100 flex items-center justify-center text-violet-600 shadow-md transition-all duration-300 group-hover:scale-110 group-hover:rotate-6",children:e.jsx(Je,{size:20,strokeWidth:2.5})}),e.jsx("h2",{className:"text-base sm:text-lg font-black text-slate-900 uppercase tracking-wider",children:"Latest Activity"})]}),e.jsxs("span",{className:"flex items-center gap-2 text-[10px] sm:text-xs font-black uppercase tracking-widest bg-gradient-to-r from-emerald-500 to-emerald-600 text-white px-3 sm:px-4 py-1.5 sm:py-2 rounded-xl shadow-lg shadow-emerald-500/50 hover:shadow-xl hover:scale-105 transition-all duration-300 cursor-pointer w-full sm:w-auto justify-center",children:[e.jsxs("span",{className:"relative flex h-2 w-2",children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-white opacity-75"}),e.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-white"})]}),"Live Feed"]})]}),e.jsx("div",{className:"hidden md:block overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left text-sm",children:[e.jsx("thead",{className:"bg-white border-b border-slate-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Name"}),e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Type"}),e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Time"}),e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Status"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:i?e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"px-6 py-12 text-center text-sm text-slate-400",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-violet-600"}),e.jsx("span",{className:"font-semibold",children:"Monitoring live feed..."})]})})}):t.length>0?t.map(u=>e.jsxs("tr",{className:"group/row hover:bg-gradient-to-r hover:from-violet-50/50 hover:to-purple-50/50 transition-all duration-300 cursor-pointer hover:shadow-md",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-11 h-11 rounded-xl bg-gradient-to-br from-slate-100 to-slate-200 text-slate-600 flex items-center justify-center font-bold text-sm shadow-md transition-all duration-500 group-hover/row:scale-125 group-hover/row:bg-gradient-to-br group-hover/row:from-violet-500 group-hover/row:to-purple-600 group-hover/row:text-white group-hover/row:shadow-xl group-hover/row:rotate-6",children:u.avatar||(u.name||"?").charAt(0)}),e.jsx("span",{className:"font-bold text-slate-700 group-hover/row:text-violet-700 group-hover/row:translate-x-1 transition-all duration-300",children:u.name})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`text-xs font-black uppercase tracking-widest px-3 py-1.5 rounded-xl border shadow-sm transition-all duration-300 inline-block group-hover/row:scale-110 group-hover/row:shadow-lg ${u.type==="Member"?"bg-gradient-to-r from-blue-500 to-blue-600 text-white border-blue-300 shadow-blue-500/50":u.type==="Staff"?"bg-gradient-to-r from-purple-500 to-purple-600 text-white border-purple-300 shadow-purple-500/50":"bg-gradient-to-r from-orange-500 to-orange-600 text-white border-orange-300 shadow-orange-500/50"}`,children:u.type})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2 text-slate-500 font-semibold font-mono text-xs group-hover/row:text-violet-600 transition-colors duration-300",children:[e.jsx(Je,{size:14,className:"text-slate-300 group-hover/row:text-violet-400 group-hover/row:rotate-12 transition-all duration-300"}),e.jsx("span",{className:"group-hover/row:scale-105 inline-block transition-transform duration-300",children:u.time})]})}),e.jsx("td",{className:"px-6 py-4",children:x(u.status)})]},u.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"px-6 py-12 text-center text-sm text-slate-400",children:"No activity recorded today."})})})]})}),e.jsx("div",{className:"md:hidden p-4 space-y-4",children:i?e.jsx("div",{className:"py-12 text-center text-sm text-slate-400",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-violet-600"}),e.jsx("span",{className:"font-semibold text-violet-600",children:"Monitoring live feed..."})]})}):t.length>0?t.map(u=>e.jsx(Ga,{title:u.name,subtitle:u.type,badge:u.status==="checked-in"?"Checked In":"Checked Out",badgeColor:u.status==="checked-in"?"emerald":"slate",fields:[{label:"Time",value:u.time,icon:Je}]},u.id)):e.jsx("div",{className:"py-8 text-center text-sm text-slate-500 bg-white rounded-xl border border-slate-100",children:"No activity recorded today."})})]})]})]})},oD=()=>{const[t,s]=j.useState(""),[r,l]=j.useState(""),[i,o]=j.useState("2024-03-15"),[d,x]=j.useState([]),[u,h]=j.useState(!0),[p,g]=j.useState(1),[y,f]=j.useState(0),[w,S]=j.useState(!1),v=5;j.useEffect(()=>{N()},[t,r,i,p]);const N=async()=>{h(!0);const T=await vg({filters:{search:t,status:r==="All"?"":r==="Checked Out"?"checked-out":r==="On Time"?"checked-in":r,date:i,type:"Member"},page:p,limit:v});x(T?.data||[]),f(T?.total||0),h(!1)},A=()=>{Cg(d,"MemberAttendanceLog")},L=M=>{switch(M){case"On Time":case"checked-in":case"Present":return e.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-xl bg-gradient-to-r from-emerald-500 to-emerald-600 text-white text-xs font-black shadow-lg shadow-emerald-500/50 hover:scale-110 hover:shadow-xl transition-all duration-300 cursor-pointer",children:"On Time"});case"Late":return e.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-xl bg-gradient-to-r from-amber-500 to-orange-600 text-white text-xs font-black shadow-lg shadow-amber-500/50 hover:scale-110 hover:shadow-xl transition-all duration-300 cursor-pointer",children:"Late"});case"Absent":return e.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-xl bg-gradient-to-r from-red-500 to-red-600 text-white text-xs font-black shadow-lg shadow-red-500/50 hover:scale-110 hover:shadow-xl transition-all duration-300 cursor-pointer",children:"Absent"});case"checked-out":case"Checked Out":return e.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-xl bg-gradient-to-r from-blue-500 to-indigo-600 text-white text-xs font-black shadow-lg shadow-blue-500/50 hover:scale-110 hover:shadow-xl transition-all duration-300 cursor-pointer",children:"Checked Out"});default:return e.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-xl bg-gradient-to-r from-slate-400 to-slate-500 text-white text-xs font-black shadow-lg hover:scale-110 transition-all duration-300 cursor-pointer",children:M})}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6 flex-shrink-0",children:e.jsx(Wt,{size:24,className:"sm:w-7 sm:h-7",strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Member Attendance"}),e.jsx("span",{className:"px-2 py-0.5 bg-gradient-to-r from-violet-500 to-purple-600 text-white text-[10px] font-black rounded-md shadow-sm animate-pulse whitespace-nowrap",children:"PREMIUM "})]}),e.jsx("p",{className:"text-slate-600 text-xs sm:text-sm mt-1",children:"Monitor member visits and class attendance"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3",children:[e.jsxs("button",{onClick:A,className:"group flex items-center justify-center gap-2 px-5 py-3 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-xl text-sm font-bold shadow-xl shadow-violet-500/50 hover:shadow-2xl hover:shadow-violet-500/60 hover:scale-105 transition-all",children:[e.jsx(Js,{size:18,strokeWidth:2.5,className:"transition-all duration-300 group-hover:scale-110 group-hover:-translate-y-0.5"}),"Export Report"]}),e.jsxs("button",{onClick:()=>S(!w),className:`group flex items-center justify-center gap-2 px-5 py-3 rounded-xl text-sm font-bold shadow-lg hover:shadow-xl hover:scale-105 transition-all ${w?"bg-gradient-to-r from-violet-500 to-purple-600 text-white shadow-violet-500/50":"bg-white border-2 border-slate-200 text-slate-700 hover:border-violet-300"}`,children:[e.jsx(Ns,{size:18,strokeWidth:2.5,className:`transition-all duration-300 ${w?"rotate-180":""}`}),"Filter"]})]})]})})]}),w&&e.jsxs("div",{className:"group relative bg-white rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6 mb-6 overflow-visible hover:shadow-2xl transition-all duration-300",style:{zIndex:50},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50/30 to-purple-50/30 opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-2xl"}),e.jsxs("div",{className:"relative z-10 grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6",children:[e.jsxs("div",{className:"relative group/input",children:[e.jsx(Qe,{size:18,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 group-hover/input:text-violet-600 transition-colors duration-300",strokeWidth:2.5}),e.jsx("input",{type:"text",placeholder:"Search member name...",className:"w-full pl-11 pr-4 py-3 border-2 border-slate-200 rounded-xl focus:border-violet-500 focus:ring-2 focus:ring-violet-200 hover:border-violet-300 transition-all duration-300 font-semibold text-sm",value:t,onChange:M=>{s(M.target.value),g(1)}})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:col-span-2",children:[e.jsx("div",{className:"w-full sm:w-auto hover:scale-105 transition-transform duration-300",children:e.jsx(ms,{options:["All","On Time","Checked Out","Absent","Late"],value:r,onChange:M=>{l(M),g(1)},placeholder:"All Status",icon:Ns,className:"w-full sm:w-40"})}),e.jsxs("div",{className:"relative group/input w-full sm:w-auto",children:[e.jsx("input",{type:"date",className:"w-full px-4 py-3 border-2 border-slate-200 rounded-xl focus:border-violet-500 focus:ring-2 focus:ring-violet-200 hover:border-violet-300 transition-all duration-300 font-semibold text-sm",value:i,onChange:M=>{o(M.target.value),g(1)}}),e.jsx(Ye,{size:16,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 pointer-events-none group-hover/input:text-violet-600 transition-colors duration-300",strokeWidth:2.5})]})]})]})]}),e.jsxs("div",{className:"group relative bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden hover:shadow-2xl hover:border-violet-200 transition-all duration-500 transform hover:-translate-y-1",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50/30 to-purple-50/30 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"hidden md:block overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left text-sm",children:[e.jsx("thead",{className:"bg-slate-50/50 border-b border-slate-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Member Name"}),e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Membership ID"}),e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Plan"}),e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Check-In"}),e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Check-Out"}),e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Status"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:u?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-12 text-center text-sm text-slate-400",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-violet-600"}),e.jsx("span",{className:"font-semibold",children:"Loading member attendance..."})]})})}):d.length>0?d.map(M=>e.jsxs("tr",{className:"group/row hover:bg-gradient-to-r hover:from-violet-50/50 hover:to-purple-50/50 transition-all duration-300 cursor-pointer hover:shadow-md",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-violet-100 to-purple-100 text-violet-600 flex items-center justify-center shadow-md transition-all duration-500 group-hover/row:scale-125 group-hover/row:bg-gradient-to-br group-hover/row:from-violet-500 group-hover/row:to-purple-600 group-hover/row:text-white group-hover/row:shadow-xl group-hover/row:rotate-6",children:e.jsx(rt,{size:18,strokeWidth:2.5})}),e.jsx("span",{className:"font-bold text-slate-800 group-hover/row:text-violet-700 group-hover/row:translate-x-1 transition-all duration-300",children:M.name})]})}),e.jsx("td",{className:"px-6 py-4 text-slate-600 text-sm font-mono font-semibold group-hover/row:text-violet-600 transition-colors duration-300",children:M.membershipId||String(M.id||"").substring(0,8).toUpperCase()}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-lg text-xs font-bold bg-slate-100 text-slate-700 group-hover/row:bg-gradient-to-r group-hover/row:from-violet-100 group-hover/row:to-purple-100 group-hover/row:text-violet-700 group-hover/row:scale-110 transition-all duration-300",children:M.plan||"Standard"})}),e.jsx("td",{className:"px-6 py-4 text-slate-700 text-sm font-semibold group-hover/row:text-violet-600 transition-colors duration-300",children:M.time||M.checkIn}),e.jsx("td",{className:"px-6 py-4 text-slate-700 text-sm font-semibold group-hover/row:text-violet-600 transition-colors duration-300",children:M.checkOut||"-"}),e.jsx("td",{className:"px-6 py-4",children:L(M.status)})]},M.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-12 text-center text-sm text-slate-400",children:"No member attendance logs found for this date."})})})]})}),e.jsx("div",{className:"md:hidden p-4 space-y-4",children:u?e.jsx("div",{className:"py-12 text-center text-sm text-slate-400",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-violet-600"}),e.jsx("span",{className:"font-semibold text-violet-600",children:"Loading data..."})]})}):d.length>0?d.map(M=>e.jsx(Ga,{title:M.name,subtitle:M.membershipId||String(M.id||"").substring(0,8).toUpperCase(),badge:M.status,badgeColor:M.status==="On Time"||M.status==="checked-in"?"emerald":M.status==="Late"?"amber":M.status==="Absent"?"rose":"blue",fields:[{label:"Plan",value:M.plan||"Standard"},{label:"Check-In",value:M.time||M.checkIn,icon:Je},{label:"Check-Out",value:M.checkOut||"-",icon:Je}]},M.id)):e.jsx("div",{className:"py-8 text-center text-sm text-slate-500 bg-white rounded-xl border border-slate-100",children:"No records found."})})]}),!u&&y>0&&e.jsxs("div",{className:"px-4 sm:px-6 py-4 bg-slate-50/50 border-t border-slate-100 flex flex-col sm:flex-row justify-between items-center gap-4",children:[e.jsxs("span",{className:"text-xs sm:text-sm text-slate-600 font-semibold text-center sm:text-left",children:["Showing ",e.jsx("span",{className:"font-black text-slate-900",children:(p-1)*v+1})," to ",e.jsx("span",{className:"font-black text-slate-900",children:Math.min(p*v,y)})," of ",e.jsx("span",{className:"font-black text-slate-900",children:y})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>g(M=>Math.max(M-1,1)),disabled:p===1,className:"group p-3 border-2 border-slate-200 rounded-xl hover:bg-gradient-to-r hover:from-violet-500 hover:to-purple-600 hover:text-white hover:border-transparent hover:scale-110 disabled:opacity-50 disabled:hover:scale-100 disabled:hover:bg-transparent disabled:hover:text-slate-400 transition-all duration-300 shadow-sm hover:shadow-lg",children:e.jsx(Wr,{size:18,strokeWidth:2.5,className:"group-hover:-translate-x-0.5 transition-transform duration-300"})}),e.jsx("button",{onClick:()=>g(M=>Math.min(M+1,Math.ceil(y/v))),disabled:p===Math.ceil(y/v),className:"group p-3 border-2 border-slate-200 rounded-xl hover:bg-gradient-to-r hover:from-violet-500 hover:to-purple-600 hover:text-white hover:border-transparent hover:scale-110 disabled:opacity-50 disabled:hover:scale-100 disabled:hover:bg-transparent disabled:hover:text-slate-400 transition-all duration-300 shadow-sm hover:shadow-lg",children:e.jsx(vs,{size:18,strokeWidth:2.5,className:"group-hover:translate-x-0.5 transition-transform duration-300"})})]})]})]})]})},cD=({isOpen:t,onClose:s,onSuccess:r})=>{const[l,i]=j.useState({title:"",message:"",audience:"All Members",scheduledTime:"",isScheduled:!1}),[o,d]=j.useState(!1),x=async u=>{u.preventDefault(),d(!0);try{await k9({title:l.title,message:l.message,audience:l.audience,status:l.isScheduled?"Scheduled":"Posted",date:l.isScheduled?new Date(l.scheduledTime).toLocaleString():new Date().toLocaleString()}),r(),s(),i({title:"",message:"",audience:"All Members",scheduledTime:"",isScheduled:!1})}catch(h){console.error(h)}finally{d(!1)}};return e.jsx(at,{isOpen:t,onClose:s,title:"New Announcement",subtitle:"Broadcast updates to your community",maxWidth:"max-w-md",children:e.jsxs("form",{onSubmit:x,className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8 custom-scrollbar",children:[e.jsxs("div",{className:"bg-gradient-to-br from-indigo-500 to-violet-600 rounded-[24px] p-6 text-white shadow-lg relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white opacity-10 rounded-full -translate-y-1/2 translate-x-1/2 blur-2xl pointer-events-none"}),e.jsx(gn,{size:32,className:"mb-4 text-indigo-100"}),e.jsx("h3",{className:"text-lg font-black tracking-tight",children:"Broadcast Center"}),e.jsx("p",{className:"text-indigo-100 text-xs font-medium mt-1 opacity-80",children:"Send important updates, offers, or news to your members and staff instantly."})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-xs font-black text-slate-500 uppercase tracking-widest flex items-center gap-2",children:[e.jsx(Lk,{size:14,className:"text-indigo-500"}),"Subject Line *"]}),e.jsx("input",{type:"text",placeholder:"e.g. Gym Maintenance this Sunday",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl font-bold text-slate-800 focus:bg-white focus:border-indigo-500 transition-all placeholder:font-medium",value:l.title,onChange:u=>i({...l,title:u.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-xs font-black text-slate-500 uppercase tracking-widest flex items-center gap-2",children:[e.jsx(Et,{size:14,className:"text-indigo-500"}),"Target Audience *"]}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:["All Members","Active Members","Trainers","Staff"].map(u=>e.jsx("button",{type:"button",onClick:()=>i({...l,audience:u}),className:`py-3 px-2 rounded-xl text-[10px] font-black uppercase tracking-wider border-2 transition-all ${l.audience===u?"border-indigo-600 bg-indigo-50 text-indigo-700":"border-slate-100 bg-white text-slate-400 hover:border-slate-200"}`,children:u},u))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-xs font-black text-slate-500 uppercase tracking-widest flex items-center gap-2",children:[e.jsx(Je,{size:14,className:"text-indigo-500"}),"Message Content *"]}),e.jsx("textarea",{rows:"6",placeholder:"Type your announcement here...",className:"w-full p-4 bg-slate-50 border-2 border-slate-200 rounded-xl font-medium text-slate-700 focus:bg-white focus:border-indigo-500 transition-all resize-none",value:l.message,onChange:u=>i({...l,message:u.target.value}),required:!0})]}),e.jsxs("div",{className:"bg-slate-50 p-4 rounded-2xl border border-slate-200 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${l.isScheduled?"bg-indigo-100 text-indigo-600":"bg-slate-200 text-slate-400"}`,children:e.jsx(Ye,{size:20})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-slate-800 text-sm",children:"Schedule for Later"}),e.jsx("p",{className:"text-[10px] text-slate-500 font-medium",children:"Send automatically at a specific time"})]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:l.isScheduled,onChange:u=>i({...l,isScheduled:u.target.checked}),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-slate-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),l.isScheduled&&e.jsx("div",{className:"animate-in fade-in slide-in-from-top-2 pt-2",children:e.jsx("input",{type:"datetime-local",className:"w-full px-4 py-3 bg-white border-2 border-indigo-100 rounded-xl font-bold text-slate-700 focus:border-indigo-500 transition-all",value:l.scheduledTime,onChange:u=>i({...l,scheduledTime:u.target.value})})})]})]}),e.jsxs("div",{className:"shrink-0 p-4 bg-white border-t border-slate-100 flex gap-3 shadow-[0_-4px_20px_rgba(0,0,0,0.05)]",children:[e.jsx("button",{type:"button",onClick:s,className:"flex-1 px-4 py-3 bg-white border-2 border-slate-200 text-slate-700 rounded-xl text-sm font-bold hover:bg-slate-50 transition-all",children:"Cancel"}),e.jsxs("button",{type:"submit",disabled:o,className:"flex-[2] px-4 py-3 bg-indigo-600 text-white rounded-xl text-sm font-bold hover:bg-indigo-700 hover:shadow-lg hover:shadow-indigo-500/30 transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:[l.isScheduled?e.jsx(Ye,{size:18}):e.jsx(Ld,{size:18}),o?"Processing...":l.isScheduled?"Schedule":"Send Now"]})]})]})})},dD=()=>{const[t,s]=j.useState([]),[r,l]=j.useState(!1),[i,o]=j.useState(""),d=async()=>{try{const h=await N9();s(h)}catch(h){console.error("Failed to fetch announcements:",h)}};j.useEffect(()=>{d()},[]);const x=t.filter(h=>h.title.toLowerCase().includes(i.toLowerCase())||h.message.toLowerCase().includes(i.toLowerCase())),u=()=>{d()};return e.jsxs("div",{className:"flex flex-col h-full bg-slate-50/50 rounded-[40px] overflow-hidden",children:[e.jsxs("div",{className:"p-8 pb-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-8",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-black text-slate-800 flex items-center gap-3",children:[e.jsx(gn,{className:"text-orange-500"}),"Announcements"]}),e.jsx("p",{className:"text-slate-500 mt-1 font-medium text-sm",children:"Manage alerts and notifications for your gym"})]}),e.jsxs("button",{onClick:()=>l(!0),className:"px-6 py-4 bg-slate-900 text-white rounded-2xl font-bold flex items-center justify-center gap-2 hover:bg-orange-500 transition-all shadow-xl shadow-slate-200",children:[e.jsx(St,{size:18})," New Announcement"]})]}),e.jsxs("div",{className:"relative group max-w-2xl",children:[e.jsx(Qe,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-orange-500 transition-all",size:20}),e.jsx("input",{type:"text",placeholder:"Search announcements...",className:"w-full pl-12 pr-4 py-4 bg-white border-2 border-slate-100 rounded-2xl text-sm font-bold text-slate-700 focus:outline-none focus:border-orange-500 transition-all shadow-sm",value:i,onChange:h=>o(h.target.value)})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto px-8 pb-8 custom-scrollbar space-y-4",children:[x.map(h=>e.jsxs("div",{className:"bg-white p-6 rounded-[32px] border border-slate-100 shadow-sm hover:shadow-lg transition-all group relative overflow-hidden",children:[e.jsx("div",{className:`absolute top-0 left-0 w-1.5 h-full ${h.status==="Posted"?"bg-emerald-500":"bg-amber-500"}`}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("span",{className:`px-2.5 py-1 rounded-lg text-[10px] font-black uppercase tracking-widest ${h.status==="Posted"?"bg-emerald-50 text-emerald-600":"bg-amber-50 text-amber-600"}`,children:h.status}),e.jsxs("span",{className:"flex items-center gap-1 text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:[e.jsx(Et,{size:12})," ",h.audience]}),e.jsxs("span",{className:"flex items-center gap-1 text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:[e.jsx(Ye,{size:12})," ",h.date]})]}),e.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-2",children:h.title}),e.jsx("p",{className:"text-slate-500 text-sm font-medium leading-relaxed",children:h.message})]}),e.jsxs("div",{className:"flex items-center gap-2 md:self-center opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{className:"p-3 text-slate-400 hover:bg-slate-50 hover:text-indigo-600 rounded-xl transition-all",children:e.jsx(ar,{size:18})}),e.jsx("button",{className:"p-3 text-slate-400 hover:bg-rose-50 hover:text-rose-600 rounded-xl transition-all",children:e.jsx(Ms,{size:18})})]})]})]},h.id)),x.length===0&&e.jsxs("div",{className:"py-20 flex flex-col items-center justify-center opacity-40",children:[e.jsx(gn,{size:48,className:"text-slate-300"}),e.jsx("p",{className:"text-xs font-black uppercase tracking-widest text-slate-400 mt-4",children:"No announcements found"})]})]}),e.jsx(cD,{isOpen:r,onClose:()=>l(!1),onSuccess:u})]})},xD=()=>{const[t,s]=j.useState("chats"),[r,l]=j.useState([]),[i,o]=j.useState([]),[d,x]=j.useState(null),[u,h]=j.useState(""),[p,g]=j.useState(""),[y,f]=j.useState("All"),[w,S]=j.useState("list");j.useEffect(()=>{(async()=>{try{const L=await S9();l(L)}catch(L){console.error("Failed to load chats:",L)}})()},[]),j.useEffect(()=>{(async()=>{if(d)try{const L=await C9(d.id);o(L)}catch(L){console.error("Failed to load messages:",L)}})()},[d]);const v=async()=>{if(!(!u.trim()||!d))try{await A9(d.id,u),o([...i,{id:Date.now(),text:u,time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),sender:"me",status:"sent"}]),h("")}catch(A){console.error("Failed to send msg:",A)}},N=r.filter(A=>{const L=A.name.toLowerCase().includes(p.toLowerCase()),M=y==="All"||y==="Unread"&&A.unread>0;return L&&M});return e.jsxs("div",{className:"p-4 md:p-8 h-screen bg-slate-50 flex flex-col",children:[e.jsx("div",{className:"flex justify-center mb-6 shrink-0",children:e.jsxs("div",{className:"bg-white p-1.5 rounded-2xl shadow-sm border border-slate-200 flex gap-2",children:[e.jsx("button",{onClick:()=>s("chats"),className:`px-8 py-3 rounded-xl text-sm font-black uppercase tracking-widest transition-all ${t==="chats"?"bg-slate-900 text-white shadow-lg":"text-slate-400 hover:text-slate-600 hover:bg-slate-50"}`,children:"Live Chats"}),e.jsx("button",{onClick:()=>s("announcements"),className:`px-8 py-3 rounded-xl text-sm font-black uppercase tracking-widest transition-all ${t==="announcements"?"bg-orange-500 text-white shadow-lg":"text-slate-400 hover:text-slate-600 hover:bg-slate-50"}`,children:"Announcements"})]})}),e.jsx("div",{className:"flex-1 bg-white rounded-[40px] shadow-2xl border border-slate-100 overflow-hidden relative",children:t==="announcements"?e.jsx(dD,{}):e.jsxs("div",{className:"flex h-full",children:[e.jsxs("div",{className:`${w==="chat"?"hidden":"flex"} md:flex flex-col w-full md:w-[400px] border-r border-slate-50 bg-slate-50/30`,children:[e.jsxs("div",{className:"p-8 pb-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h1",{className:"text-2xl font-black text-slate-800 flex items-center gap-3",children:[e.jsx(sr,{className:"text-indigo-600"}),"Chats"]}),e.jsx("div",{className:"p-2.5 bg-indigo-50 text-indigo-600 rounded-xl hover:bg-indigo-600 hover:text-white transition-all cursor-pointer shadow-sm",children:e.jsx(St,{size:20})})]}),e.jsxs("div",{className:"relative group mb-6",children:[e.jsx(Qe,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-indigo-600 transition-all",size:18}),e.jsx("input",{type:"text",placeholder:"Search members...",className:"w-full pl-12 pr-4 py-4 bg-white border-2 border-slate-100 rounded-2xl text-sm font-bold text-slate-700 focus:outline-none focus:border-indigo-500 transition-all shadow-sm",value:p,onChange:A=>g(A.target.value)})]}),e.jsx("div",{className:"flex gap-4 border-b border-slate-100 mb-4",children:["All","Unread","Archived"].map(A=>e.jsxs("button",{onClick:()=>f(A),className:`pb-4 text-xs font-black uppercase tracking-widest relative transition-all ${y===A?"text-indigo-600":"text-slate-400 hover:text-slate-600"}`,children:[A,y===A&&e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-indigo-600 rounded-t-full"})]},A))})]}),e.jsx("div",{className:"flex-1 overflow-y-auto px-4 space-y-2 custom-scrollbar pb-8",children:N.length===0?e.jsxs("div",{className:"py-20 flex flex-col items-center justify-center opacity-40",children:[e.jsx(Qe,{size:40,className:"text-slate-300"}),e.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 mt-4",children:"No conversations found"})]}):N.map(A=>e.jsxs("div",{onClick:()=>{x(A),S("chat")},className:`p-4 rounded-[24px] cursor-pointer transition-all flex items-center gap-4 group ${d?.id===A.id?"bg-white shadow-xl shadow-indigo-500/10 border border-slate-100 scale-[1.02]":"hover:bg-white/60"}`,children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white font-black shadow-lg",children:A.avatar}),A.status==="online"?e.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-emerald-500 rounded-full border-4 border-white"}):e.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-slate-200 rounded-full border-4 border-white"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("h3",{className:"font-bold text-slate-800 text-sm truncate",children:A.name}),e.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:A.time})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"text-xs text-slate-500 truncate font-medium",children:A.lastMsg}),A.unread>0&&e.jsx("span",{className:"min-w-[20px] h-5 px-1.5 bg-indigo-600 text-white rounded-full flex items-center justify-center text-[10px] font-black shadow-lg animate-pulse",children:A.unread})]})]})]},A.id))})]}),e.jsx("div",{className:`${w==="list"?"hidden":"flex"} md:flex flex-col flex-1 bg-white relative`,children:d?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-6 md:p-8 flex items-center justify-between border-b border-slate-50 bg-white/80 backdrop-blur-md sticky top-0 z-20",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>S("list"),className:"md:hidden p-2 text-slate-400 hover:text-slate-600",children:e.jsx(uD,{})}),e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-indigo-500 to-purple-400 flex items-center justify-center text-white font-black shadow-lg",children:d.avatar}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-black text-slate-800 tracking-tight",children:d.name}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${d.status==="online"?"bg-emerald-500":"bg-slate-300"}`}),e.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${d.status==="online"?"text-emerald-600":"text-slate-400"}`,children:d.status==="online"?"Active Now":"Recently Active"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"p-3 text-slate-400 hover:bg-slate-50 hover:text-indigo-600 rounded-xl transition-all",title:"Audio Call",children:e.jsx(qs,{size:20})}),e.jsx("button",{className:"p-3 text-slate-400 hover:bg-slate-50 hover:text-indigo-600 rounded-xl transition-all",title:"Video Call",children:e.jsx(AC,{size:20})}),e.jsx("button",{className:"p-3 text-slate-400 hover:bg-slate-50 hover:text-indigo-600 rounded-xl transition-all",title:"Member Info",children:e.jsx(Yn,{size:20})}),e.jsx("button",{className:"p-3 text-slate-400 hover:bg-slate-50 hover:text-indigo-600 rounded-xl transition-all",title:"More Options",children:e.jsx(_c,{size:20})})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-8 space-y-8 bg-slate-50/20 custom-scrollbar",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("span",{className:"px-4 py-1.5 bg-white text-[10px] font-black text-slate-400 uppercase tracking-widest rounded-full border border-slate-100 shadow-sm",children:"Today"})}),i.map(A=>e.jsx("div",{className:`flex ${A.sender==="me"?"justify-end":"justify-start"} animate-in fade-in slide-in-from-bottom-2 duration-500`,children:e.jsxs("div",{className:`max-w-[75%] md:max-w-md ${A.sender==="me"?"bg-slate-900 text-white rounded-t-[28px] rounded-bl-[28px] shadow-2xl shadow-slate-900/10":"bg-white text-slate-800 rounded-t-[28px] rounded-br-[28px] shadow-xl shadow-slate-200/50 border border-slate-100"} p-5 relative group`,children:[e.jsx("p",{className:"text-sm font-medium leading-relaxed",children:A.text}),e.jsxs("div",{className:`flex items-center gap-2 mt-3 ${A.sender==="me"?"justify-end":"justify-start"}`,children:[e.jsx("span",{className:`text-[9px] font-black uppercase tracking-widest ${A.sender==="me"?"text-slate-400":"text-slate-300"}`,children:A.time}),A.sender==="me"&&e.jsx(zj,{size:14,className:A.status==="read"?"text-indigo-400":"text-slate-600"})]})]})},A.id))]}),e.jsx("div",{className:"p-6 md:p-8 border-t border-slate-50 bg-white shadow-[0_-10px_40px_rgba(0,0,0,0.02)]",children:e.jsxs("div",{className:"flex items-center gap-4 bg-slate-50 p-2 rounded-[28px] border-2 border-slate-50 focus-within:border-indigo-100 focus-within:bg-white transition-all shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-1 pl-2",children:[e.jsx("button",{className:"p-2.5 text-slate-400 hover:text-indigo-600 transition-colors",children:e.jsx(J8,{size:22})}),e.jsx("button",{className:"p-2.5 text-slate-400 hover:text-indigo-600 transition-colors",children:e.jsx(Bj,{size:22})}),e.jsx("button",{className:"p-2.5 text-slate-400 hover:text-indigo-600 transition-colors hidden md:block",children:e.jsx(OS,{size:22})})]}),e.jsx("input",{type:"text",placeholder:"Type a message...",className:"flex-1 bg-transparent border-none focus:ring-0 text-sm font-bold text-slate-700 py-3",value:u,onChange:A=>h(A.target.value),onKeyPress:A=>A.key==="Enter"&&v()}),e.jsx("button",{onClick:v,className:"w-12 h-12 bg-indigo-600 text-white rounded-2xl flex items-center justify-center shadow-lg shadow-indigo-100 hover:bg-indigo-700 hover:scale-110 active:scale-95 transition-all",children:e.jsx(Ld,{size:20})})]})})]}):e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-12 text-center bg-slate-50/10",children:[e.jsx("div",{className:"w-24 h-24 bg-white rounded-[32px] shadow-2xl flex items-center justify-center text-indigo-100 mb-8 animate-bounce delay-700 duration-[3000ms]",children:e.jsx(sr,{size:48})}),e.jsx("h2",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Select a Conversation"}),e.jsx("p",{className:"text-slate-500 mt-4 max-w-sm font-medium leading-relaxed",children:"Connect with your members instantly. Select a chat from the sidebar to start messaging."})]})})]})})]})},uD=()=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"m15 18-6-6 6-6"})}),hD=()=>{const[t,s]=j.useState(""),[r,l]=j.useState(""),[i,o]=j.useState(""),[d,x]=j.useState("2024-03-15"),[u,h]=j.useState([]),[p,g]=j.useState(!0),[y,f]=j.useState(1),[w,S]=j.useState(0),[v,N]=j.useState(!1),A=5;j.useEffect(()=>{L()},[t,r,i,d,y]);const L=async()=>{g(!0);const B=await vg({filters:{search:t,role:r==="All"?"":r,status:i==="All"?"":i==="Checked Out"?"checked-out":i==="On Time"?"checked-in":i,date:d,type:"Staff"},page:y,limit:A});h(B?.data||[]),S(B?.total||0),g(!1)},M=()=>{Cg(u,"StaffAttendanceLog")},T=I=>{switch(I){case"On Time":case"checked-in":return e.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-xl bg-gradient-to-r from-emerald-500 to-emerald-600 text-white text-xs font-black shadow-lg shadow-emerald-500/50 hover:scale-110 hover:shadow-xl transition-all duration-300 cursor-pointer",children:"On Time"});case"Late":return e.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-xl bg-gradient-to-r from-amber-500 to-orange-600 text-white text-xs font-black shadow-lg shadow-amber-500/50 hover:scale-110 hover:shadow-xl transition-all duration-300 cursor-pointer",children:"Late"});case"Absent":return e.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-xl bg-gradient-to-r from-red-500 to-red-600 text-white text-xs font-black shadow-lg shadow-red-500/50 hover:scale-110 hover:shadow-xl transition-all duration-300 cursor-pointer",children:"Absent"});case"checked-out":case"Checked Out":return e.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-xl bg-gradient-to-r from-blue-500 to-indigo-600 text-white text-xs font-black shadow-lg shadow-blue-500/50 hover:scale-110 hover:shadow-xl transition-all duration-300 cursor-pointer",children:"Checked Out"});default:return e.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-xl bg-gradient-to-r from-slate-400 to-slate-500 text-white text-xs font-black shadow-lg hover:scale-110 transition-all duration-300 cursor-pointer",children:I})}},_=I=>{const P={Trainer:"from-purple-500 to-purple-600 shadow-purple-500/50",Receptionist:"from-blue-500 to-blue-600 shadow-blue-500/50",Cleaning:"from-teal-500 to-teal-600 shadow-teal-500/50",Manager:"from-violet-500 to-violet-600 shadow-violet-500/50"}[I]||"from-slate-500 to-slate-600 shadow-slate-500/50";return e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-lg text-xs font-bold bg-gradient-to-r ${P} text-white shadow-md hover:scale-110 transition-all duration-300`,children:I})};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6 flex-shrink-0",children:e.jsx($0,{size:24,className:"sm:w-7 sm:h-7",strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Staff Attendance"}),e.jsx("span",{className:"px-2 py-0.5 bg-gradient-to-r from-violet-500 to-purple-600 text-white text-[10px] font-black rounded-md shadow-sm animate-pulse whitespace-nowrap",children:"PREMIUM "})]}),e.jsx("p",{className:"text-slate-600 text-xs sm:text-sm mt-1",children:"Track staff shifts and punctuality"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3",children:[e.jsxs("button",{onClick:M,className:"group flex items-center justify-center gap-2 px-5 py-3 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-xl text-sm font-bold shadow-xl shadow-violet-500/50 hover:shadow-2xl hover:shadow-violet-500/60 hover:scale-105 transition-all",children:[e.jsx(Js,{size:18,strokeWidth:2.5,className:"transition-all duration-300 group-hover:scale-110 group-hover:-translate-y-0.5"}),"Export Report"]}),e.jsxs("button",{onClick:()=>N(!v),className:`group flex items-center justify-center gap-2 px-5 py-3 rounded-xl text-sm font-bold shadow-lg hover:shadow-xl hover:scale-105 transition-all ${v?"bg-gradient-to-r from-violet-500 to-purple-600 text-white shadow-violet-500/50":"bg-white border-2 border-slate-200 text-slate-700 hover:border-violet-300"}`,children:[e.jsx(Ns,{size:18,strokeWidth:2.5,className:`transition-all duration-300 ${v?"rotate-180":""}`}),"Filter"]})]})]})})]}),v&&e.jsxs("div",{className:"group relative bg-white rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6 mb-6 overflow-visible hover:shadow-2xl transition-all duration-300",style:{zIndex:50},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50/30 to-purple-50/30 opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-2xl"}),e.jsxs("div",{className:"relative z-10 grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6",children:[e.jsxs("div",{className:"relative group/input",children:[e.jsx(Qe,{size:18,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 group-hover/input:text-violet-600 transition-colors duration-300",strokeWidth:2.5}),e.jsx("input",{type:"text",placeholder:"Search staff name...",className:"w-full pl-11 pr-4 py-3 border-2 border-slate-200 rounded-xl focus:border-violet-500 focus:ring-2 focus:ring-violet-200 hover:border-violet-300 transition-all duration-300 font-semibold text-sm",value:t,onChange:I=>{s(I.target.value),f(1)}})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:col-span-2",children:[e.jsx("div",{className:"w-full sm:w-auto hover:scale-105 transition-transform duration-300",children:e.jsx(ms,{options:["All","On Time","Checked Out","Absent","Late"],value:i,onChange:I=>{o(I),f(1)},placeholder:"All Status",icon:Ns,className:"w-full sm:w-40"})}),e.jsx("div",{className:"w-full sm:w-auto hover:scale-105 transition-transform duration-300",children:e.jsx(ms,{options:["All","Trainer","Receptionist","Cleaning","Manager"],value:r,onChange:I=>{l(I),f(1)},placeholder:"All Roles",icon:rt,className:"w-full sm:w-40"})})]})]})]}),e.jsxs("div",{className:"group relative bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden hover:shadow-2xl hover:border-violet-200 transition-all duration-500 transform hover:-translate-y-1",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50/30 to-purple-50/30 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"hidden md:block overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left text-sm",children:[e.jsx("thead",{className:"bg-slate-50/50 border-b border-slate-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Staff Name"}),e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Role"}),e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Shift Time"}),e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Check-In"}),e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Check-Out"}),e.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase tracking-wider text-xs hover:text-violet-600 transition-colors duration-300 cursor-pointer",children:"Status"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:p?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-12 text-center text-sm text-slate-400",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-violet-600"}),e.jsx("span",{className:"font-semibold",children:"Loading staff attendance..."})]})})}):u.length>0?u.map(I=>e.jsxs("tr",{className:"group/row hover:bg-gradient-to-r hover:from-violet-50/50 hover:to-purple-50/50 transition-all duration-300 cursor-pointer hover:shadow-md",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-purple-100 to-violet-100 text-purple-600 flex items-center justify-center shadow-md transition-all duration-500 group-hover/row:scale-125 group-hover/row:bg-gradient-to-br group-hover/row:from-purple-500 group-hover/row:to-violet-600 group-hover/row:text-white group-hover/row:shadow-xl group-hover/row:rotate-6",children:e.jsx($0,{size:18,strokeWidth:2.5})}),e.jsx("span",{className:"font-bold text-slate-800 group-hover/row:text-violet-700 group-hover/row:translate-x-1 transition-all duration-300",children:I.name})]})}),e.jsx("td",{className:"px-6 py-4",children:_(I.role)}),e.jsx("td",{className:"px-6 py-4 text-slate-600 text-sm font-semibold group-hover/row:text-violet-600 transition-colors duration-300",children:I.shift||"-"}),e.jsx("td",{className:"px-6 py-4 text-slate-700 text-sm font-semibold group-hover/row:text-violet-600 transition-colors duration-300",children:I.time||I.checkIn}),e.jsx("td",{className:"px-6 py-4 text-slate-700 text-sm font-semibold group-hover/row:text-violet-600 transition-colors duration-300",children:I.checkOut||"-"}),e.jsx("td",{className:"px-6 py-4",children:T(I.status)})]},I.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-12 text-center text-sm text-slate-400",children:"No staff attendance logs found for this date."})})})]})}),e.jsx("div",{className:"md:hidden p-4 space-y-4",children:p?e.jsx("div",{className:"py-12 text-center text-sm text-slate-400",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-violet-600"}),e.jsx("span",{className:"font-semibold text-violet-600",children:"Loading data..."})]})}):u.length>0?u.map(I=>e.jsx(Ga,{title:I.name,subtitle:I.role,badge:I.status,badgeColor:I.status==="On Time"||I.status==="checked-in"?"emerald":I.status==="Late"?"amber":I.status==="Absent"?"rose":"blue",fields:[{label:"Shift",value:I.shift||"-"},{label:"Check-In",value:I.time||I.checkIn,icon:Je},{label:"Check-Out",value:I.checkOut||"-",icon:Je}]},I.id)):e.jsx("div",{className:"py-8 text-center text-sm text-slate-500 bg-white rounded-xl border border-slate-100",children:"No records found."})})]}),!p&&w>0&&e.jsxs("div",{className:"px-4 sm:px-6 py-4 bg-slate-50/50 border-t border-slate-100 flex flex-col sm:flex-row justify-between items-center gap-4",children:[e.jsxs("span",{className:"text-xs sm:text-sm text-slate-600 font-semibold text-center sm:text-left",children:["Showing ",e.jsx("span",{className:"font-black text-slate-900",children:(y-1)*A+1})," to ",e.jsx("span",{className:"font-black text-slate-900",children:Math.min(y*A,w)})," of ",e.jsx("span",{className:"font-black text-slate-900",children:w})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>f(I=>Math.max(I-1,1)),disabled:y===1,className:"group p-3 border-2 border-slate-200 rounded-xl hover:bg-gradient-to-r hover:from-violet-500 hover:to-purple-600 hover:text-white hover:border-transparent hover:scale-110 disabled:opacity-50 disabled:hover:scale-100 disabled:hover:bg-transparent disabled:hover:text-slate-400 transition-all duration-300 shadow-sm hover:shadow-lg",children:e.jsx(Wr,{size:18,strokeWidth:2.5,className:"group-hover:-translate-x-0.5 transition-transform duration-300"})}),e.jsx("button",{onClick:()=>f(I=>Math.min(I+1,Math.ceil(w/A))),disabled:y===Math.ceil(w/A),className:"group p-3 border-2 border-slate-200 rounded-xl hover:bg-gradient-to-r hover:from-violet-500 hover:to-purple-600 hover:text-white hover:border-transparent hover:scale-110 disabled:opacity-50 disabled:hover:scale-100 disabled:hover:bg-transparent disabled:hover:text-slate-400 transition-all duration-300 shadow-sm hover:shadow-lg",children:e.jsx(vs,{size:18,strokeWidth:2.5,className:"group-hover:translate-x-0.5 transition-transform duration-300"})})]})]})]})]})},zw=async()=>{try{return(await we.get("/staff/attendance/today")).data}catch(t){throw t.response?.data?.message||"Failed to fetch check-ins"}},mD=async t=>{try{return t&&(await we.get("/staff/members/search",{params:{search:t}})).data.find(l=>l.name.toLowerCase().includes(t.toLowerCase())||l.memberId.toLowerCase().includes(t.toLowerCase())||l.phone&&l.phone.includes(t))||null}catch(s){throw s.response?.data?.message||"Failed to search member"}},pD=async t=>{try{return!t||t.length<2?[]:(await we.get("/staff/members/search",{params:{search:t}})).data.slice(0,5)}catch(s){throw s.response?.data?.message||"Failed to fetch suggestions"}},fD=async t=>{try{return{success:!0,message:"Check-in successful",data:(await we.post("/staff/attendance/check-in",{memberId:t})).data}}catch(s){return{success:!1,message:s.response?.data?.message||"Check-in failed"}}},gD=async t=>{try{return{success:!0,message:"Check-out successful",data:(await we.post("/staff/attendance/check-out",{memberId:t})).data}}catch(s){return{success:!1,message:s.response?.data?.message||"Check-out failed"}}},bD=()=>{const[t,s]=j.useState(""),[r,l]=j.useState(null),[i,o]=j.useState(!1),[d,x]=j.useState([]),[u,h]=j.useState(!1),p=j.useRef(null);j.useEffect(()=>{const w=S=>{p.current&&!p.current.contains(S.target)&&h(!1)};return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[]),j.useEffect(()=>{const S=setTimeout(async()=>{if(t.length>=2){const v=await pD(t);x(v),h(!0)}else x([]),h(!1)},300);return()=>clearTimeout(S)},[t]);const g=async w=>{l(w),o(w.status==="Expired"),s(w.name),x([]),h(!1)},y=async w=>{w&&w.preventDefault();const S=await mD(t);S?(l(S),o(S.status==="Expired"),x([]),h(!1)):(l(null),alert("No member found"))},f=async()=>{if(r){const w=await fD(r.id);w.success&&(alert(w.message),l(null),s(""))}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-6 animate-fadeIn",children:[e.jsxs("div",{className:"mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-6",children:e.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(Uj,{size:28,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Member Check-In"}),e.jsx("span",{className:"px-2 py-0.5 bg-gradient-to-r from-violet-500 to-purple-600 text-white text-[10px] font-black rounded-md shadow-sm animate-pulse",children:"LIVE"})]}),e.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Search or scan member to grant access"})]})]})})})]}),e.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[e.jsxs("div",{className:"group relative bg-white rounded-3xl shadow-xl border border-slate-100 overflow-hidden hover:shadow-2xl hover:border-violet-100 transition-all duration-300",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50/20 to-purple-50/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative z-10 p-8",children:[e.jsxs("div",{className:"relative",ref:p,children:[e.jsxs("form",{onSubmit:y,className:"flex gap-4",children:[e.jsxs("div",{className:"relative flex-1 group/input",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx(Qe,{size:20,className:"text-slate-400 group-focus-within/input:text-violet-500 transition-colors"})}),e.jsx("input",{type:"text",placeholder:"Search by Name, ID, or Phone...",className:"w-full pl-11 pr-4 py-4 bg-slate-50 border-2 border-slate-200 rounded-xl font-bold text-slate-800 focus:bg-white focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all duration-300",value:t,onChange:w=>s(w.target.value),onFocus:()=>t.length>=2&&h(!0)}),t&&e.jsx("button",{type:"button",onClick:()=>{s(""),l(null)},className:"absolute inset-y-0 right-0 pr-4 flex items-center text-slate-400 hover:text-slate-600",children:e.jsx(wl,{size:18})})]}),e.jsx("button",{type:"submit",className:"px-8 py-4 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-xl font-bold shadow-lg shadow-violet-500/30 hover:shadow-xl hover:shadow-violet-500/40 hover:scale-105 transition-all duration-300",children:"Search"})]}),u&&d.length>0&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-slate-100 rounded-xl shadow-2xl z-50 overflow-hidden animate-in slide-in-from-top-2 duration-200 ring-1 ring-black/5",children:d.map(w=>e.jsxs("button",{onClick:()=>g(w),className:"w-full px-4 py-3 text-left hover:bg-violet-50 transition-colors flex items-center justify-between group border-b border-slate-50 last:border-0",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-violet-100 text-violet-600 flex items-center justify-center font-bold text-sm shadow-inner group-hover:scale-110 transition-transform",children:w.name.charAt(0)}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-slate-800",children:w.name}),e.jsxs("p",{className:"text-[10px] text-slate-500 font-black uppercase tracking-wider",children:[w.id,"  ",w.phone]})]})]}),e.jsx("span",{className:`px-2.5 py-1 rounded-lg text-[10px] font-black uppercase tracking-wide ${w.status==="Active"?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-700"}`,children:w.status})]},w.id))})]}),e.jsxs("div",{className:"mt-8 flex items-center justify-center",children:[e.jsx("span",{className:"text-xs font-black text-slate-400 px-4 bg-white relative z-10 uppercase tracking-widest",children:"OR"}),e.jsx("div",{className:"absolute w-full h-px bg-slate-100 left-0"})]}),e.jsxs("button",{className:"w-full mt-8 py-4 border-2 border-dashed border-slate-300 rounded-xl flex items-center justify-center gap-3 text-slate-500 hover:bg-violet-50 hover:border-violet-300 hover:text-violet-600 transition-all duration-300 group/scan",children:[e.jsx("div",{className:"p-2 bg-slate-100 rounded-lg group-hover/scan:bg-white group-hover/scan:text-violet-600 transition-colors",children:e.jsx(R8,{size:24})}),e.jsx("span",{className:"font-bold",children:"Scan QR / Barcode"})]})]})]}),r&&e.jsxs("div",{className:`relative p-8 rounded-3xl shadow-2xl border-2 overflow-hidden transition-all duration-500 animate-in zoom-in-95 ${i?"bg-white border-red-200 shadow-red-100":"bg-white border-emerald-200 shadow-emerald-100"}`,children:[e.jsx("div",{className:`absolute top-0 right-0 w-64 h-64 opacity-5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 ${i?"bg-red-500":"bg-emerald-500"}`}),e.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row gap-8 items-center md:items-start text-center md:text-left",children:[e.jsx("div",{className:`w-28 h-28 rounded-3xl flex items-center justify-center text-4xl font-black shadow-xl transform hover:scale-105 transition-transform duration-300 ${i?"bg-gradient-to-br from-red-100 to-red-200 text-red-600 shadow-red-200":"bg-gradient-to-br from-emerald-100 to-emerald-200 text-emerald-600 shadow-emerald-200"}`,children:(r?.name||"?").charAt(0)}),e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-black text-slate-900 leading-tight mb-2",children:r.name}),e.jsxs("div",{className:"flex flex-wrap items-center justify-center md:justify-start gap-3",children:[e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-lg bg-slate-100 text-slate-600 text-xs font-bold border border-slate-200",children:[e.jsx(rt,{size:14}),r.id]}),e.jsx("span",{className:`px-3 py-1 rounded-lg text-xs font-black uppercase tracking-wide border ${i?"bg-red-50 text-red-600 border-red-100":"bg-emerald-50 text-emerald-600 border-emerald-100"}`,children:r.status})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[e.jsxs("div",{className:"p-3 bg-slate-50 rounded-xl border border-slate-100",children:[e.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Expiration"}),e.jsxs("div",{className:"text-sm font-bold text-slate-800 flex items-center gap-1.5",children:[e.jsx(Ye,{size:14,className:"text-violet-500"}),r.expiry]})]}),e.jsxs("div",{className:"p-3 bg-slate-50 rounded-xl border border-slate-100",children:[e.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Plan"}),e.jsx("div",{className:"text-sm font-bold text-slate-800",children:"Premium Annual"})]})]})]})]}),i?e.jsxs("div",{className:"mt-8 p-4 bg-red-50 rounded-xl border border-red-100 flex items-start gap-4",children:[e.jsx("div",{className:"p-2 bg-red-100 rounded-lg text-red-600 shrink-0",children:e.jsx(ps,{size:24,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-red-800 text-sm mb-1",children:"Membership Expired"}),e.jsxs("p",{className:"text-xs text-red-600 font-medium leading-relaxed",children:["This member's plan expired on ",r.expiry,". Please request renewal before granting entry."]})]})]}):e.jsx("div",{className:"mt-8 pt-6 border-t border-slate-100",children:e.jsxs("button",{onClick:f,className:"w-full h-16 bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-400 hover:to-green-500 text-white rounded-2xl shadow-xl shadow-emerald-500/30 text-lg font-black tracking-wide uppercase flex items-center justify-center gap-3 active:scale-95 hover:-translate-y-1 transition-all duration-300",children:[e.jsx(ss,{size:28,strokeWidth:3}),"Check In Now"]})})]})]})]})},vD=()=>{const[t,s]=j.useState(""),[r,l]=j.useState([]),[i,o]=j.useState(!0);j.useEffect(()=>{d()},[]);const d=async()=>{o(!0);try{const p=(await zw()).history.filter(g=>g.status==="Inside").map(g=>({id:g.id,name:g.name,time:g.in,duration:"Active",memId:g.memId,memberId:g.memberId}));l(p)}catch(u){console.error("Failed to load active check-ins",u)}finally{o(!1)}},x=async(u,h)=>{const p=await gD(h);p.success,alert(p.success?p.message:"Check-out processed (Mock)."),l(g=>g.filter(y=>y.id!==u))};return e.jsxs("div",{className:"p-6 md:p-8 bg-gray-50 min-h-screen font-sans staffdashboard-membercheckout",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8 animate-fade-in-down",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900 tracking-tight",children:"Member Check-Out"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Manage members currently on the gym floor."})]}),e.jsxs("div",{className:"relative w-full md:w-72 group",children:[e.jsx(Qe,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-hover:text-indigo-500 transition-colors",size:18}),e.jsx("input",{type:"text",placeholder:"Search name or ID...",className:"saas-input pl-11 h-11 w-full rounded-xl border-gray-200 text-sm focus:ring-2 focus:ring-indigo-500 bg-white shadow-sm hover:border-gray-300 transition-all",value:t,onChange:u=>s(u.target.value)})]})]}),e.jsx("div",{className:"bg-white rounded-3xl shadow-sm border border-gray-100 overflow-hidden animate-fade-in-up",children:e.jsx("div",{className:"saas-table-wrapper",children:e.jsxs("table",{className:"saas-table saas-table-responsive",children:[e.jsx("thead",{className:"bg-gray-50/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-gray-400 uppercase tracking-wider",children:"Member"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-gray-400 uppercase tracking-wider",children:"Check-In Time"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-gray-400 uppercase tracking-wider",children:"Top-Up Duration"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-gray-400 uppercase tracking-wider text-right",children:"Actions"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-100",children:[r.filter(u=>u.name.toLowerCase().includes(t.toLowerCase())||u.memId.toLowerCase().includes(t.toLowerCase())).map(u=>e.jsxs("tr",{className:"hover:bg-gray-50/80 transition-all duration-200 group",children:[e.jsx("td",{className:"px-6 py-4","data-label":"Member",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center font-bold text-sm shadow-sm",children:(u.name||"?").charAt(0)}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-gray-900 group-hover:text-indigo-600 transition-colors",children:u.name}),e.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-wider",children:u.memId})]})]})}),e.jsx("td",{className:"px-6 py-4","data-label":"Check-In Time",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-600 bg-gray-50 px-3 py-1.5 rounded-lg w-fit",children:[e.jsx(Je,{size:14,className:"text-gray-400 group-hover:text-indigo-500 transition-colors"}),u.time]})}),e.jsx("td",{className:"px-6 py-4","data-label":"Duration",children:e.jsxs("span",{className:"text-xs font-bold px-2.5 py-1 rounded-md bg-orange-50 text-orange-600 border border-orange-100 inline-block",children:[u.duration," active"]})}),e.jsx("td",{className:"px-6 py-4 text-right","data-label":"Actions",children:e.jsxs("button",{onClick:()=>x(u.id,u.memberId),className:"bg-indigo-600 hover:bg-indigo-700 text-white px-5 py-2.5 rounded-xl text-xs font-bold transition-all flex items-center gap-2 ml-auto shadow-md shadow-indigo-200 hover:shadow-lg hover:-translate-y-0.5 active:scale-95 group/btn",children:[e.jsx(pn,{size:14}),"Check-Out",e.jsx(vs,{size:12,className:"opacity-50 group-hover/btn:opacity-100 group-hover/btn:translate-x-0.5 transition-all"})]})})]},u.id)),r.filter(u=>u.name.toLowerCase().includes(t.toLowerCase())||u.memId.toLowerCase().includes(t.toLowerCase())).length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"px-6 py-12 text-center text-gray-400",children:"No members found matching your search."})})]})]})})})]})},yD=({options:t,value:s,onChange:r,icon:l,placeholder:i})=>{const[o,d]=j.useState(!1),x=j.useRef(null);return j.useEffect(()=>{const u=h=>{x.current&&!x.current.contains(h.target)&&d(!1)};return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[]),e.jsxs("div",{className:"relative min-w-[150px]",ref:x,children:[e.jsxs("button",{onClick:()=>d(!o),className:`w-full h-11 px-4 rounded-xl border flex items-center justify-between transition-all duration-300 ${o?"border-indigo-500 ring-2 ring-indigo-100 bg-white":"border-gray-200 bg-white hover:border-gray-300"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[l&&e.jsx(l,{size:16,className:"text-gray-400"}),e.jsx("span",{className:"font-medium truncate",children:s==="All"?i:s})]}),e.jsx(Wl,{size:16,className:`text-gray-400 transition-transform duration-300 ${o?"rotate-180 text-indigo-500":""}`})]}),e.jsx("div",{className:`absolute top-full left-0 right-0 mt-2 bg-white border border-gray-100 rounded-xl shadow-xl z-50 overflow-hidden transition-all duration-200 origin-top ${o?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-95 -translate-y-2 pointer-events-none"}`,children:e.jsx("div",{className:"py-1",children:t.map(u=>e.jsxs("button",{onClick:()=>{r(u),d(!1)},className:`w-full px-4 py-2.5 text-left text-sm flex items-center justify-between transition-colors ${s===u?"bg-indigo-50 text-indigo-600 font-medium":"text-gray-600 hover:bg-gray-50"}`,children:[u==="All"?i:u,s===u&&e.jsx($r,{size:14})]},u))})})]})},jD=()=>{const t=Gt(),[s,r]=j.useState("All"),[l,i]=j.useState(""),[o,d]=j.useState([]),[x,u]=j.useState({total:0,inside:0,checkedOut:0}),[h,p]=j.useState(!0);j.useEffect(()=>{g()},[]);const g=async()=>{p(!0);try{const f=await zw();d(f.history),u(f.stats)}catch(f){console.error("Failed to load check-ins",f)}finally{p(!1)}},y=[{label:"Total Check-Ins",value:x.total,icon:Et,bg:"bg-indigo-50",color:"text-indigo-600",border:"border-indigo-100"},{label:"Currently Inside",value:x.inside,icon:Wt,bg:"bg-green-50",color:"text-green-600",border:"border-green-100"},{label:"Total Check-Outs",value:x.checkedOut,icon:Mf,bg:"bg-gray-50",color:"text-gray-600",border:"border-gray-200"}];return e.jsxs("div",{className:"p-6 md:p-8 bg-gray-50 min-h-screen font-sans staffdashboard-todayscheckins",children:[e.jsxs("div",{className:"mb-8 animate-fade-in-down",children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900 tracking-tight",children:"Today Check-Ins"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Real-time overview of attendance activity for today."})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8 animate-fade-in-up",children:y.map((f,w)=>e.jsxs("div",{className:`bg-white p-6 rounded-3xl shadow-sm border ${f.border} flex items-center gap-4 hover:shadow-lg hover:-translate-y-1 transition-all duration-300 group`,children:[e.jsx("div",{className:`p-4 rounded-2xl ${f.bg} ${f.color} group-hover:scale-110 transition-transform`,children:e.jsx(f.icon,{size:26})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[11px] font-bold text-gray-400 uppercase tracking-wider mb-1",children:f.label}),e.jsx("p",{className:"text-3xl font-black text-gray-900 leading-none",children:f.value})]})]},w))}),e.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-gray-100 animate-fade-in-up",style:{animationDelay:"0.1s",overflow:"visible",zIndex:10,position:"relative"},children:[e.jsxs("div",{className:"p-6 border-b border-gray-50 flex flex-col md:flex-row gap-4 items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-2 w-full md:w-auto",children:e.jsx(yD,{options:["All","Inside","Checked-Out"],value:s,onChange:r,placeholder:"All Status",icon:Ns})}),e.jsxs("div",{className:"relative w-full md:w-72 group",children:[e.jsx(Qe,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-hover:text-indigo-500 transition-colors",size:18}),e.jsx("input",{type:"text",placeholder:"Find member...",className:"saas-input pl-11 h-11 w-full rounded-xl border-gray-200 text-sm focus:ring-2 focus:ring-indigo-500 bg-white shadow-sm hover:border-gray-300 transition-all",value:l,onChange:f=>i(f.target.value)})]})]}),e.jsx("div",{className:"hidden md:block saas-table-wrapper",children:e.jsxs("table",{className:"saas-table saas-table-responsive",children:[e.jsx("thead",{className:"bg-gray-50/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-gray-400 uppercase tracking-wider",children:"Member Name"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-gray-400 uppercase tracking-wider",children:"Check-In"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-gray-400 uppercase tracking-wider",children:"Check-Out"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-gray-400 uppercase tracking-wider text-right",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-gray-400 uppercase tracking-wider text-right",children:"Actions"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-100",children:[o.filter(f=>s==="All"||f.status===s).filter(f=>f.name.toLowerCase().includes(l.toLowerCase())).map(f=>e.jsxs("tr",{className:"hover:bg-gray-50 group transition-all duration-200",children:[e.jsx("td",{className:"px-6 py-4","data-label":"Member Name",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-xs font-bold text-gray-500 group-hover:bg-indigo-100 group-hover:text-indigo-600 transition-colors",children:(f.name||"?").charAt(0)}),e.jsx("span",{className:"text-sm font-bold text-gray-800 tracking-tight group-hover:text-indigo-700 transition-colors",children:f.name})]})}),e.jsx("td",{className:"px-6 py-4","data-label":"Check-In",children:e.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-gray-500 bg-gray-50 px-2.5 py-1 rounded-md w-fit",children:[e.jsx(Je,{size:12,className:"text-green-500"}),f.in]})}),e.jsx("td",{className:"px-6 py-4","data-label":"Check-Out",children:f.out!=="-"?e.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-gray-500 bg-gray-50 px-2.5 py-1 rounded-md w-fit",children:[e.jsx(Je,{size:12,className:"text-red-400"}),f.out]}):e.jsx("span",{className:"text-gray-300",children:"-"})}),e.jsx("td",{className:"px-6 py-4 text-right","data-label":"Status",children:e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-wider border ${f.status==="Inside"?"bg-green-50 text-green-700 border-green-100":"bg-gray-50 text-gray-600 border-gray-200"}`,children:[e.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${f.status==="Inside"?"bg-green-500 animate-pulse":"bg-gray-400"}`}),f.status]})}),e.jsx("td",{className:"px-6 py-4 text-right","data-label":"Actions",children:f.status==="Inside"&&e.jsxs("button",{onClick:()=>t("/staff/lockers/assign",{state:{memberName:f.name}}),className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1.5 rounded-lg text-[10px] font-bold transition-all flex items-center gap-2 ml-auto shadow-sm active:scale-95",children:[e.jsx(Fs,{size:12}),"Locker"]})})]},f.id)),o.filter(f=>s==="All"||f.status===s).filter(f=>f.name.toLowerCase().includes(l.toLowerCase())).length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"px-6 py-12 text-center text-gray-400",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx(Ns,{size:20,className:"text-gray-300"}),e.jsx("p",{children:"No records found."})]})})})]})]})}),e.jsxs("div",{className:"md:hidden p-4 space-y-4",children:[o.filter(f=>s==="All"||f.status===s).filter(f=>f.name.toLowerCase().includes(l.toLowerCase())).map(f=>e.jsx(Ga,{title:f.name,badge:f.status,badgeColor:f.status==="Inside"?"emerald":"slate",fields:[{label:"Check-In",value:f.in,icon:Je},{label:"Check-Out",value:f.out,icon:Je}],actions:f.status==="Inside"?[{label:"Locker",icon:Fs,onClick:()=>t("/staff/lockers/assign",{state:{memberName:f.name}}),variant:"primary"}]:[]},f.id)),o.filter(f=>s==="All"||f.status===s).filter(f=>f.name.toLowerCase().includes(l.toLowerCase())).length===0&&e.jsx("div",{className:"py-8 text-center text-sm text-gray-500 bg-white rounded-2xl border border-gray-100",children:"No records found."})]})]})]})},wD=({product:t,onAddToCart:s,onViewDetails:r})=>e.jsxs("div",{className:"group relative bg-white rounded-[2rem] overflow-hidden shadow-sm hover:shadow-2xl hover:shadow-violet-200/50 transition-all duration-700 hover:-translate-y-3 border border-slate-100/50",children:[e.jsxs("div",{className:"relative aspect-square overflow-hidden bg-slate-100",children:[e.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover transition-transform duration-[1.5s] ease-out group-hover:scale-110"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-violet-900/40 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-700"}),e.jsxs("div",{className:"absolute top-4 left-4 flex flex-col gap-2",children:[e.jsx("span",{className:"px-3 py-1 bg-white/90 backdrop-blur-md rounded-full text-[10px] font-black text-violet-600 uppercase tracking-widest shadow-sm",children:t.category}),t.price<t.originalPrice&&e.jsxs("span",{className:"px-3 py-1 bg-rose-500 text-white rounded-full text-[10px] font-black uppercase tracking-widest shadow-lg shadow-rose-500/30",children:["Save ",Math.round((t.originalPrice-t.price)/t.originalPrice*100),"%"]})]}),e.jsxs("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 flex gap-3 translate-y-12 opacity-0 group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-500 delay-100",children:[e.jsx("button",{onClick:()=>r(t),className:"w-12 h-12 bg-white rounded-2xl flex items-center justify-center text-slate-800 shadow-xl hover:bg-violet-600 hover:text-white transition-all transform hover:scale-110 active:scale-95",children:e.jsx(da,{size:20})}),e.jsx("button",{onClick:()=>s(t),className:"w-12 h-12 bg-violet-600 rounded-2xl flex items-center justify-center text-white shadow-xl hover:bg-slate-900 transition-all transform hover:scale-110 active:scale-95",children:e.jsx(zc,{size:20})})]})]}),e.jsxs("div",{className:"p-7",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-800 leading-tight group-hover:text-violet-600 transition-colors duration-300",children:t.name}),e.jsxs("div",{className:"flex items-center gap-1.5 bg-amber-50 px-2.5 py-1 rounded-lg",children:[e.jsx($l,{size:14,className:"text-amber-500",fill:"currentColor"}),e.jsx("span",{className:"text-xs font-black text-amber-700",children:t.rating})]})]}),e.jsx("p",{className:"text-xs text-slate-500 line-clamp-2 leading-relaxed mb-6 font-medium",children:t.description}),e.jsxs("div",{className:"flex items-end justify-between",children:[e.jsxs("div",{children:[e.jsxs("span",{className:"block text-[10px] text-slate-400 line-through mb-1 font-bold tracking-wider",children:["",t.originalPrice.toLocaleString()]}),e.jsxs("span",{className:"text-2xl font-black bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:["",t.price.toLocaleString()]})]}),e.jsxs("button",{onClick:()=>s(t),className:"relative overflow-hidden group/btn px-6 py-3 bg-slate-900 rounded-2xl text-[10px] font-black text-white uppercase tracking-[0.1em] transition-all hover:bg-violet-600 active:scale-95",children:[e.jsx("span",{className:"relative z-10",children:"Add To Cart"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-600 to-fuchsia-600 scale-x-0 group-hover/btn:scale-x-100 origin-left transition-transform duration-500"})]})]})]})]}),ND=()=>{const[t,s]=j.useState(""),[r,l]=j.useState("All"),[i,o]=j.useState([]),[d,x]=j.useState(null),[u,h]=j.useState(!1),[p,g]=j.useState(!1),[y,f]=j.useState("shop"),[w,S]=j.useState([]),[v,N]=j.useState([]),[A,L]=j.useState("cart");j.useEffect(()=>{M(),T()},[r,t]);const M=async()=>{try{const le=await Sg({category:r,search:t});S(le)}catch(le){console.error("Failed to fetch products:",le)}},T=async()=>{try{const le=await SM();N(le)}catch(le){console.error("Failed to fetch orders:",le)}},_=["All","Supplements","Apparel","Equipment","Accesories"],I=le=>{o(Q=>Q.find(F=>F.id===le.id)?Q.map(F=>F.id===le.id?{...F,quantity:F.quantity+1}:F):[...Q,{...le,quantity:1}])},B=le=>{o(Q=>Q.filter(ne=>ne.id!==le))},P=(le,Q)=>{o(ne=>ne.map(F=>{if(F.id===le){const de=Math.max(1,F.quantity+Q);return{...F,quantity:de}}return F}))},R=le=>{x(le),h(!0)},W=()=>{L("checkout")},H=async()=>{L("processing");try{await Sw({cartItems:i.map(le=>({id:le.id,quantity:le.quantity})),totalAmount:$}),L("success"),T(),o([])}catch(le){lt.error(le),L("checkout")}},$=i.reduce((le,Q)=>le+Q.price*Q.quantity,0),G=i.reduce((le,Q)=>le+Q.quantity,0);return e.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-white to-violet-50/50 min-h-screen p-6 md:p-8",children:[e.jsx("div",{className:"max-w-7xl mx-auto mb-10",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-8",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute -left-4 -top-4 w-24 h-24 bg-violet-600 rounded-full blur-[80px] opacity-20"}),e.jsxs("h1",{className:"relative text-5xl font-black text-slate-800 flex items-center gap-4 tracking-tight",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-violet-600 to-purple-600 rounded-2xl flex items-center justify-center text-white shadow-xl shadow-violet-500/20 rotate-3",children:e.jsx(zc,{size:30})}),"Gym Store"]}),e.jsx("p",{className:"text-slate-500 mt-3 font-semibold text-lg max-w-md",children:"Premium nutrition & elite performance gear delivered to your locker."})]}),e.jsxs("div",{className:"flex flex-col space-y-4 flex-1 max-w-2xl",children:[e.jsxs("div",{className:"relative group",children:[e.jsx(Qe,{className:"absolute left-6 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-600 transition-all duration-300",size:22}),e.jsx("input",{type:"text",placeholder:"Search premium essentials...",className:"w-full pl-16 pr-6 py-5 bg-white border-2 border-slate-100 rounded-3xl text-sm font-bold focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/5 transition-all shadow-xl shadow-slate-200/40 placeholder:text-slate-300",value:t,onChange:le=>s(le.target.value)})]}),e.jsxs("div",{className:"flex bg-white/80 backdrop-blur-md border border-slate-100 rounded-3xl p-1.5 shadow-lg gap-2 mb-6",children:[e.jsx("button",{onClick:()=>f("shop"),className:`flex-1 px-8 py-4 rounded-2xl text-xs font-black uppercase tracking-widest transition-all duration-300 ${y==="shop"?"bg-violet-600 text-white shadow-lg":"text-slate-500 hover:text-slate-900 hover:bg-slate-50"}`,children:"Shop Store"}),e.jsx("button",{onClick:()=>f("orders"),className:`flex-1 px-8 py-4 rounded-2xl text-xs font-black uppercase tracking-widest transition-all duration-300 ${y==="orders"?"bg-violet-600 text-white shadow-lg":"text-slate-500 hover:text-slate-900 hover:bg-slate-50"}`,children:"My Orders"})]}),y==="shop"&&e.jsx("div",{className:"flex bg-white/80 backdrop-blur-md border border-slate-100 rounded-2xl p-1.5 shadow-lg overflow-x-auto no-scrollbar gap-1",children:_.map(le=>e.jsx("button",{onClick:()=>l(le),className:`px-6 py-3 rounded-xl text-xs font-black uppercase tracking-widest transition-all duration-300 shrink-0 ${r===le?"bg-slate-900 text-white shadow-lg":"text-slate-500 hover:text-violet-600 hover:bg-violet-50"} `,children:le},le))})]})]})}),y==="shop"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"max-w-7xl mx-auto mb-16 rounded-[3rem] overflow-hidden relative min-h-[450px] shadow-2xl flex items-center",children:[e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("img",{src:"https://images.unsplash.com/photo-1534438327276-14e5300c3a48?q=80&w=2000&auto=format&fit=crop",alt:"Premium Banner",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-slate-900 via-slate-900/80 to-transparent"})]}),e.jsxs("div",{className:"relative z-10 p-12 md:p-20 max-w-2xl",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 bg-violet-500/20 backdrop-blur-xl border border-violet-400/30 px-5 py-2.5 rounded-full mb-8",children:[e.jsx(al,{size:18,className:"text-violet-300 animate-pulse"}),e.jsx("span",{className:"text-violet-100 text-[10px] font-black uppercase tracking-[0.2em]",children:"The Performance Collection"})]}),e.jsxs("h2",{className:"text-5xl md:text-7xl font-black text-white leading-[1.1] mb-8",children:["FUEL YOUR ",e.jsx("br",{}),e.jsx("span",{className:"bg-gradient-to-r from-violet-400 to-fuchsia-400 bg-clip-text text-transparent",children:"AMBITION."})]}),e.jsx("p",{className:"text-slate-300 text-lg font-medium leading-relaxed mb-10 max-w-lg",children:"Elite-standard supplements and engineered apparel. Built for those who never settle for average."}),e.jsxs("div",{className:"flex flex-wrap gap-5",children:[e.jsx("button",{className:"px-10 py-5 bg-violet-600 text-white rounded-2xl font-black text-sm uppercase tracking-widest hover:bg-violet-700 transition-all shadow-xl shadow-violet-600/30 hover:scale-105 active:scale-95",children:"Shop The Drop"}),e.jsx("button",{className:"px-10 py-5 bg-white/10 backdrop-blur-md border-2 border-white/20 text-white rounded-2xl font-black text-sm uppercase tracking-widest hover:bg-white hover:text-slate-900 transition-all hover:scale-105 active:scale-95",children:"Learn More"})]})]}),e.jsx("div",{className:"absolute right-0 bottom-0 p-20 hidden lg:block",children:e.jsx("div",{className:"w-64 h-64 border-2 border-white/10 rounded-full animate-[spin_20s_linear_infinite] flex items-center justify-center",children:e.jsx("div",{className:"w-48 h-48 border-2 border-violet-500/20 rounded-full flex items-center justify-center",children:e.jsx("div",{className:"w-32 h-32 bg-violet-500/10 rounded-full backdrop-blur-3xl"})})})})]}),e.jsx("div",{className:"max-w-7xl mx-auto grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-10",children:w.map(le=>e.jsx(wD,{product:le,onAddToCart:I,onViewDetails:R},le.id))}),w.length===0&&e.jsxs("div",{className:"text-center py-32 bg-white rounded-[3rem] border-2 border-dashed border-slate-100 mt-10",children:[e.jsx("div",{className:"w-24 h-24 bg-violet-50 rounded-full flex items-center justify-center mx-auto mb-8 text-violet-200",children:e.jsx(Qe,{size:48})}),e.jsx("h3",{className:"text-2xl font-black text-slate-800",children:"No matches found"}),e.jsx("p",{className:"text-slate-500 mt-3 font-medium",children:"Try broadening your search or select a different category."})]})]}):e.jsx("div",{className:"max-w-7xl mx-auto space-y-6",children:e.jsx("div",{className:"bg-white rounded-[3rem] border border-slate-100 shadow-xl overflow-hidden",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-slate-100 bg-slate-50/50",children:[e.jsx("th",{className:"px-10 py-6 text-xs font-black text-slate-400 uppercase tracking-widest",children:"Order ID"}),e.jsx("th",{className:"px-10 py-6 text-xs font-black text-slate-400 uppercase tracking-widest",children:"Date"}),e.jsx("th",{className:"px-10 py-6 text-xs font-black text-slate-400 uppercase tracking-widest",children:"Items"}),e.jsx("th",{className:"px-10 py-6 text-xs font-black text-slate-400 uppercase tracking-widest",children:"Total"}),e.jsx("th",{className:"px-10 py-6 text-xs font-black text-slate-400 uppercase tracking-widest",children:"Status"}),e.jsx("th",{className:"px-10 py-6 text-xs font-black text-slate-400 uppercase tracking-widest text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:v.map(le=>e.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[e.jsx("td",{className:"px-10 py-8",children:e.jsxs("span",{className:"font-black text-slate-900",children:["#",le.id]})}),e.jsx("td",{className:"px-10 py-8",children:e.jsx("span",{className:"font-bold text-slate-500",children:le.date})}),e.jsx("td",{className:"px-10 py-8",children:e.jsxs("span",{className:"font-bold text-slate-900",children:[le.items," Items"]})}),e.jsx("td",{className:"px-10 py-8",children:e.jsxs("span",{className:"font-black text-violet-600",children:["",le.total.toLocaleString()]})}),e.jsx("td",{className:"px-10 py-8",children:e.jsx("span",{className:`px-3 py-1 rounded-lg text-[10px] font-black uppercase tracking-wider ${le.status==="Delivered"?"bg-emerald-100 text-emerald-700":"bg-amber-100 text-amber-700"}`,children:le.status})}),e.jsx("td",{className:"px-10 py-8 text-right",children:e.jsx("button",{className:"text-xs font-black text-violet-600 hover:text-violet-800 uppercase tracking-widest",children:"View Details"})})]},le.id))})]})})}),i.length>0&&e.jsxs("button",{onClick:()=>{L("cart"),g(!0)},className:"fixed bottom-10 right-10 z-[100] group",children:[e.jsx("div",{className:"absolute inset-0 bg-violet-600 rounded-full blur-2xl opacity-40 group-hover:opacity-70 transition-all duration-500 group-hover:scale-125"}),e.jsxs("div",{className:"relative w-20 h-20 bg-violet-600 rounded-2xl flex items-center justify-center text-white shadow-2xl group-hover:scale-110 group-hover:rotate-6 transition-all duration-500 border-4 border-white",children:[e.jsx(zc,{size:32}),e.jsx("span",{className:"absolute -top-3 -right-3 min-w-[32px] h-32px p-2 bg-rose-500 rounded-xl border-4 border-white flex items-center justify-center text-[12px] font-black group-hover:scale-125 transition-all shadow-lg",children:G})]})]}),e.jsx(at,{isOpen:p,onClose:()=>{g(!1),setTimeout(()=>L("cart"),500)},title:A==="success"?"Order Confirmed!":"Your Shopping Bag",maxWidth:"max-w-md",children:e.jsxs("div",{className:"flex flex-col h-full bg-slate-50 relative overflow-hidden",children:[A==="cart"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-5 custom-scrollbar",children:i.length===0?e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-10",children:[e.jsx("div",{className:"w-20 h-20 bg-slate-100 rounded-full flex items-center justify-center mb-6 text-slate-300",children:e.jsx(zc,{size:40})}),e.jsx("h4",{className:"text-lg font-bold text-slate-700",children:"Your bag is empty"}),e.jsx("p",{className:"text-sm text-slate-400 mt-2",children:"Start adding some items to gear up!"})]}):i.map(le=>e.jsxs("div",{className:"bg-white p-5 rounded-[2rem] flex gap-5 shadow-sm border border-slate-100 group transition-all hover:shadow-xl hover:shadow-violet-500/5",children:[e.jsx("div",{className:"w-28 h-28 rounded-2xl overflow-hidden shrink-0 bg-slate-50 border border-slate-100",children:e.jsx("img",{src:le.image,alt:le.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1 flex flex-col pt-1",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h4",{className:"font-bold text-slate-800 text-sm leading-tight",children:le.name}),e.jsx("button",{onClick:()=>B(le.id),className:"text-slate-300 hover:text-rose-500 transition-colors p-1",children:e.jsx(Ms,{size:16})})]}),e.jsxs("span",{className:"text-violet-600 font-extrabold text-sm mt-2",children:["",le.price.toLocaleString()]}),e.jsx("div",{className:"flex items-center justify-between mt-auto",children:e.jsxs("div",{className:"flex items-center bg-slate-100 rounded-xl p-1 gap-4",children:[e.jsx("button",{onClick:()=>P(le.id,-1),className:"w-8 h-8 flex items-center justify-center text-slate-500 hover:bg-white hover:text-violet-600 rounded-lg transition-all font-black text-lg",children:"-"}),e.jsx("span",{className:"text-xs font-black text-slate-800",children:le.quantity}),e.jsx("button",{onClick:()=>P(le.id,1),className:"w-8 h-8 flex items-center justify-center text-slate-500 hover:bg-white hover:text-violet-600 rounded-lg transition-all font-black text-lg",children:"+"})]})})]})]},le.id))}),e.jsxs("div",{className:"shrink-0 p-8 bg-white border-t border-slate-100 space-y-6 shadow-[0_-20px_50px_rgba(0,0,0,0.05)]",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between text-slate-500 font-bold text-sm",children:[e.jsx("span",{children:"Subtotal"}),e.jsxs("span",{className:"text-slate-800",children:["",$.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between text-slate-500 font-bold text-sm",children:[e.jsx("span",{children:"Shipping"}),e.jsx("span",{className:"text-emerald-600 uppercase tracking-widest",children:"Free"})]}),e.jsxs("div",{className:"flex justify-between text-2xl font-black text-slate-800 pt-5 border-t border-slate-100",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{className:"bg-gradient-to-r from-violet-600 to-fuchsia-600 bg-clip-text text-transparent",children:["",$.toLocaleString()]})]})]}),e.jsx("button",{onClick:W,disabled:i.length===0,className:"w-full py-6 bg-violet-600 text-white rounded-[2rem] font-black uppercase tracking-[0.2em] shadow-2xl shadow-violet-500/40 hover:bg-violet-700 transition-all transform hover:scale-[1.02] active:scale-95 disabled:opacity-30 disabled:grayscale disabled:pointer-events-none",children:"Secure Checkout"})]})]}),A==="checkout"&&e.jsxs("div",{className:"flex-1 p-8 space-y-8",children:[e.jsxs("button",{onClick:()=>L("cart"),className:"flex items-center gap-2 text-slate-400 hover:text-violet-600 font-bold text-xs uppercase tracking-widest",children:[e.jsx(vs,{className:"rotate-180",size:16})," Back to Cart"]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-black text-slate-800 mb-6",children:"Order Review"}),e.jsxs("div",{className:"space-y-4 bg-white p-6 rounded-[2rem] border border-slate-100",children:[e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-slate-500 font-bold",children:"Locker Delivery"}),e.jsx("span",{className:"text-violet-600 font-black",children:"Locker #24"})]}),e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-slate-500 font-bold",children:"Payment Method"}),e.jsxs("span",{className:"text-slate-800 font-black text-right",children:["Gym Wallet",e.jsx("br",{}),e.jsx("span",{className:"text-[10px] text-slate-400 uppercase",children:"Available: 12,450"})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Summary"}),e.jsxs("div",{className:"bg-slate-900 rounded-[2rem] p-8 text-white space-y-4",children:[e.jsxs("div",{className:"flex justify-between text-slate-400 font-medium",children:[e.jsx("span",{children:"Total Items"}),e.jsx("span",{children:G})]}),e.jsxs("div",{className:"flex justify-between text-3xl font-black border-t border-white/10 pt-4",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{className:"text-violet-400",children:["",$.toLocaleString()]})]})]})]}),e.jsxs("button",{onClick:H,disabled:A==="processing",className:"w-full py-6 bg-violet-600 text-white rounded-[2rem] font-black uppercase tracking-[0.2em] shadow-2xl shadow-violet-500/40 hover:bg-violet-700 transition-all hover:scale-[1.02]",children:[A==="processing"?e.jsx(jl,{className:"animate-spin inline mr-2"}):"","Confirm & Pay"]})]}),A==="success"&&e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8 text-center bg-white",children:[e.jsxs("div",{className:"w-24 h-24 bg-emerald-100 text-emerald-600 rounded-full flex items-center justify-center mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-emerald-500 rounded-full animate-ping opacity-20"}),e.jsx(ss,{size:48,className:"relative z-10"})]}),e.jsx("h3",{className:"text-3xl font-black text-slate-800 mb-4 tracking-tight",children:"Purchase Confirmed!"}),e.jsxs("p",{className:"text-slate-500 font-medium leading-relaxed mb-4",children:["Your order has been placed successfully. ",e.jsx("br",{}),"Your items will be delivered to your locker soon."]}),e.jsxs("span",{className:"px-4 py-2 bg-slate-100 rounded-full text-xs font-black text-slate-400 uppercase tracking-widest",children:["Order ID: #GYM-",Math.floor(1e5+Math.random()*9e5)]})]})]})})]})},Uh=async()=>{try{return(await we.get("/staff/lockers")).data}catch(t){throw t.response?.data?.message||"Failed to fetch lockers"}},Ew=async(t,s,r,l=null)=>{try{return{success:!0,message:"Locker assigned successfully",data:(await we.post(`/staff/lockers/${t}/assign`,{memberId:s,memberName:r,isPaid:l})).data}}catch(i){return{success:!1,message:i.response?.data?.message||"Failed to assign locker"}}},Tw=async t=>{try{return{success:!0,message:"Locker released successfully",data:(await we.post(`/staff/lockers/${t}/release`)).data}}catch(s){return{success:!1,message:s.response?.data?.message||"Failed to release locker"}}},kD=async t=>{try{return{success:!0,message:"Locker created successfully",data:(await we.post("/staff/lockers",t)).data}}catch(s){return{success:!1,message:s.response?.data?.message||"Failed to create locker"}}},SD="modulepreload",CD=function(t){return"/"+t},sy={},Ch=function(s,r,l){let i=Promise.resolve();if(r&&r.length>0){let u=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),x=d?.nonce||d?.getAttribute("nonce");i=u(r.map(h=>{if(h=CD(h),h in sy)return;sy[h]=!0;const p=h.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":SD,p||(y.as="script"),y.crossOrigin="",y.href=h,x&&y.setAttribute("nonce",x),document.head.appendChild(y),p)return new Promise((f,w)=>{y.addEventListener("load",f),y.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${h}`)))})}))}function o(d){const x=new Event("vite:preloadError",{cancelable:!0});if(x.payload=d,window.dispatchEvent(x),!x.defaultPrevented)throw d}return i.then(d=>{for(const x of d||[])x.status==="rejected"&&o(x.reason);return s().catch(o)})},AD=({isOpen:t,onClose:s,selectedLocker:r,onSuccess:l})=>{const[i,o]=j.useState({memberName:"",lockerId:"",expiryDate:"",notes:"",isPaid:!1}),[d,x]=j.useState(!1),[u,h]=j.useState([]);j.useEffect(()=>{(async()=>{const{getMembers:y}=await Ch(async()=>{const{getMembers:w}=await import("./memberApi-DyONk0F1.js");return{getMembers:w}},[]),f=await y();h(f)})()},[]),j.useEffect(()=>{t&&r&&o(g=>({...g,lockerId:r.id,isPaid:r.isPaid||!1}))},[t,r]);const p=async g=>{g.preventDefault();const y=u.find(f=>f.name===i.memberName);if(!y){alert("Please select a valid member");return}x(!0);try{const f=await Ew(i.lockerId,y.id,y.name,i.isPaid);f.success?(alert(f.message),l(),s()):alert(f.message)}catch(f){console.error(f)}finally{x(!1)}};return e.jsx(at,{isOpen:t,onClose:s,title:"Locker Assignment",subtitle:r?`Locker #${r.number}`:"Assign Locker",maxWidth:"max-w-md",footer:e.jsxs("div",{className:"flex gap-3 w-full",children:[e.jsx("button",{type:"button",onClick:s,className:"flex-1 px-4 py-3 bg-white border-2 border-slate-200 text-slate-700 rounded-xl text-sm font-bold hover:bg-slate-50 transition-all",children:"Cancel"}),e.jsxs("button",{type:"submit",form:"locker-assign-form",disabled:d,className:"flex-[2] px-4 py-3 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-xl text-sm font-bold hover:shadow-lg hover:shadow-violet-500/30 transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:[e.jsx(ss,{size:18}),d?"Processing...":"Save Assignment"]})]}),children:e.jsx("form",{id:"locker-assign-form",onSubmit:p,className:"flex flex-col h-full",children:e.jsxs("div",{className:"flex-1 overflow-y-auto pr-2 space-y-8 custom-scrollbar",children:[e.jsxs("div",{className:"p-4 bg-emerald-50 rounded-2xl border border-emerald-100 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-emerald-600 flex items-center justify-center text-white shadow-lg",children:e.jsx(Fs,{size:24})}),e.jsxs("div",{children:[e.jsx("span",{className:"text-[10px] font-black text-emerald-400 uppercase tracking-widest",children:"Assigning Locker"}),e.jsxs("h3",{className:"text-xl font-bold text-slate-800",children:["Locker #",r?.number]})]})]}),e.jsx("span",{className:"px-3 py-1 bg-emerald-100 text-emerald-600 rounded-lg text-[10px] font-black uppercase tracking-widest",children:"Free"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-xs font-black text-slate-500 uppercase tracking-widest flex items-center gap-2",children:[e.jsx(rt,{size:14,className:"text-violet-500"}),"Member Selection *"]}),e.jsx(ms,{options:u.map(g=>g.name),value:i.memberName,onChange:g=>o({...i,memberName:g}),placeholder:"Choose a member"})]}),e.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border-2 border-slate-100 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx("label",{className:"text-xs font-black text-slate-700 uppercase tracking-widest",children:"Billing Mode"}),e.jsx("p",{className:"text-[10px] text-slate-500 font-medium italic",children:"Should this locker be billed?"})]}),e.jsx("button",{type:"button",onClick:()=>o({...i,isPaid:!i.isPaid}),className:`w-14 h-8 rounded-full p-1 transition-all duration-300 ${i.isPaid?"bg-violet-600":"bg-slate-300"}`,children:e.jsx("div",{className:`w-6 h-6 bg-white rounded-full shadow-md transform transition-transform duration-300 ${i.isPaid?"translate-x-6":"translate-x-0"}`})})]}),i.isPaid&&e.jsxs("div",{className:"pt-3 border-t border-slate-200 flex items-center justify-between animate-in fade-in duration-300",children:[e.jsx("span",{className:"text-[10px] font-black text-indigo-600 uppercase tracking-widest",children:"Monthly Rate"}),e.jsxs("span",{className:"text-sm font-black text-slate-800",children:["",r?.price||500]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-xs font-black text-slate-500 uppercase tracking-widest flex items-center gap-2",children:[e.jsx(Ye,{size:14,className:"text-violet-500"}),"Assignment Expiry *"]}),e.jsx("input",{type:"date",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl font-bold text-slate-700 focus:bg-white focus:border-violet-500 transition-all",value:i.expiryDate,onChange:g=>o({...i,expiryDate:g.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-xs font-black text-slate-500 uppercase tracking-widest flex items-center gap-2",children:[e.jsx(er,{size:14,className:"text-violet-500"}),"Internal Notes"]}),e.jsx("textarea",{rows:"3",placeholder:"Notes about locker usage, items stored, or special requests...",className:"w-full p-4 bg-slate-50 border-2 border-slate-200 rounded-xl font-medium text-slate-700 focus:bg-white focus:border-violet-500 transition-all resize-none",value:i.notes,onChange:g=>o({...i,notes:g.target.value})})]})]})})})},MD=({isOpen:t,onClose:s,selectedLocker:r,onSuccess:l})=>{const[i,o]=j.useState(!1),d=async()=>{if(r){o(!0);try{const x=await Tw(r.id);x.success?(alert(x.message),l(),s()):alert(x.message)}catch(x){console.error(x)}finally{o(!1)}}};return e.jsx(at,{isOpen:t,onClose:s,title:"Locker Status",subtitle:r?`Locker #${r.number}`:"Locker Details",maxWidth:"max-w-md",footer:e.jsxs("div",{className:"flex flex-col gap-4 w-full",children:[r&&e.jsxs("button",{onClick:d,disabled:i,className:"w-full py-5 bg-rose-600 text-white rounded-[24px] font-black shadow-xl shadow-rose-500/30 hover:bg-rose-700 transition-all transform hover:scale-[1.02] flex items-center justify-center gap-3",children:[e.jsx(pn,{size:22}),i?"Releasing...":"Confirm Release & Clear"]}),e.jsx("button",{onClick:s,className:"w-full py-4 text-slate-400 font-bold hover:text-slate-600 transition-all",children:"Dismiss View"})]}),children:r&&e.jsx("div",{className:"flex flex-col h-full bg-slate-50",children:e.jsxs("div",{className:"flex-1 overflow-y-auto pr-2 space-y-8 custom-scrollbar",children:[e.jsxs("div",{className:"bg-rose-50 border border-rose-100 rounded-3xl p-6 flex flex-col items-center text-center",children:[e.jsxs("div",{className:"w-20 h-20 bg-white rounded-full flex items-center justify-center text-rose-500 shadow-xl mb-4 relative",children:[e.jsx(Fs,{size:40}),e.jsx("div",{className:"absolute top-0 right-0 w-6 h-6 bg-rose-500 rounded-full border-4 border-white animate-pulse"})]}),e.jsx("h3",{className:"text-2xl font-black text-slate-800 tracking-tight",children:"Occupied Locker"}),e.jsxs("p",{className:"text-sm font-bold text-rose-600 uppercase tracking-widest mt-1",children:["Locker #",r.number]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Occupant Information"}),e.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-sm border border-slate-100 space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-violet-100 to-purple-100 text-violet-600 flex items-center justify-center font-black",children:r.assignee?.charAt(0)||"?"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-bold text-slate-800",children:r.assignee||"Anonymous Member"}),e.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Member ID: MEM-2931-X"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6 pt-6 border-t border-slate-50",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-400 mb-1",children:[e.jsx(Ye,{size:14}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-wider",children:"Assigned On"})]}),e.jsx("p",{className:"text-sm font-bold text-slate-700",children:"Oct 12, 2023"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-400 mb-1",children:[e.jsx(Je,{size:14}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-wider",children:"Expires On"})]}),e.jsx("p",{className:"text-sm font-bold text-rose-600",children:"Dec 31, 2023"})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Internal Notes"}),e.jsx("div",{className:"bg-white rounded-3xl p-6 shadow-sm border border-slate-100 italic text-sm text-slate-500 font-medium",children:'"Member requested locker near the showers. Storing gym bag and personal training equipment."'})]}),e.jsxs("div",{className:"bg-rose-50 border border-rose-100 rounded-2xl p-4 flex gap-3 text-rose-700",children:[e.jsx(rt,{className:"shrink-0",size:18}),e.jsx("p",{className:"text-[10px] font-bold leading-relaxed uppercase",children:"Releasing this locker will make it immediately available for other members. Current items should be cleared."})]})]})})})},DD=({isOpen:t,onClose:s,onSuccess:r})=>{const[l,i]=j.useState({number:"",area:"Men's Changing Room",size:"Medium",isPaid:!1,price:""}),[o,d]=j.useState(!1),x=async u=>{u.preventDefault(),d(!0);try{await kD({...l,price:l.isPaid?parseFloat(l.price):0}),r(),s(),i({number:"",area:"Men's Changing Room",size:"Medium",isPaid:!1,price:""})}catch(h){console.error(h)}finally{d(!1)}};return e.jsx(at,{isOpen:t,onClose:s,title:"Add New Locker",subtitle:"Register new storage unit",maxWidth:"max-w-md",footer:e.jsxs("div",{className:"flex gap-3 w-full",children:[e.jsx("button",{type:"button",onClick:s,className:"flex-1 px-4 py-3 bg-white border-2 border-slate-200 text-slate-700 rounded-xl text-sm font-bold hover:bg-slate-50 transition-all",children:"Cancel"}),e.jsxs("button",{type:"submit",form:"create-locker-form",disabled:o,className:"flex-[2] px-4 py-3 bg-slate-900 text-white rounded-xl text-sm font-bold hover:bg-violet-600 hover:shadow-lg hover:shadow-violet-500/30 transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:[e.jsx(ss,{size:18}),o?"Creating...":"Create Locker"]})]}),children:e.jsx("form",{id:"create-locker-form",onSubmit:x,className:"flex flex-col h-full",children:e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8 custom-scrollbar",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-xs font-black text-slate-500 uppercase tracking-widest flex items-center gap-2",children:[e.jsx(Fs,{size:14,className:"text-violet-500"}),"Locker Number *"]}),e.jsx("input",{type:"text",placeholder:"e.g. L-101",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl font-bold text-slate-800 focus:bg-white focus:border-violet-500 transition-all uppercase",value:l.number,onChange:u=>i({...l,number:u.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-xs font-black text-slate-500 uppercase tracking-widest flex items-center gap-2",children:[e.jsx($s,{size:14,className:"text-violet-500"}),"Location Area"]}),e.jsxs("select",{className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl font-bold text-slate-700 focus:bg-white focus:border-violet-500 transition-all appearance-none",value:l.area,onChange:u=>i({...l,area:u.target.value}),children:[e.jsx("option",{children:"Men's Changing Room"}),e.jsx("option",{children:"Women's Changing Room"}),e.jsx("option",{children:"General Hallway"}),e.jsx("option",{children:"VIP Lounge"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-xs font-black text-slate-500 uppercase tracking-widest flex items-center gap-2",children:[e.jsx(Y0,{size:14,className:"text-violet-500"}),"Size Configuration"]}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:["Small","Medium","Large"].map(u=>e.jsx("button",{type:"button",onClick:()=>i({...l,size:u}),className:`py-3 rounded-xl text-xs font-black uppercase tracking-wider border-2 transition-all ${l.size===u?"border-violet-600 bg-violet-50 text-violet-700":"border-slate-100 bg-white text-slate-400 hover:border-slate-200"}`,children:u},u))})]}),e.jsxs("div",{className:"space-y-6 pt-4 border-t border-slate-100",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-br from-slate-50 to-white border border-slate-200 rounded-2xl",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-slate-800 text-sm",children:"Paid Locker?"}),e.jsx("p",{className:"text-[10px] text-slate-500 font-medium mt-0.5",children:"Require subscription for usage"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:l.isPaid,onChange:u=>i({...l,isPaid:u.target.checked}),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-slate-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-violet-600"})]})]}),l.isPaid&&e.jsxs("div",{className:"space-y-3 animate-in fade-in slide-in-from-top-2",children:[e.jsxs("label",{className:"text-xs font-black text-slate-500 uppercase tracking-widest flex items-center gap-2",children:[e.jsx(Vn,{size:14,className:"text-violet-500"}),"Monthly Price () *"]}),e.jsx("input",{type:"number",placeholder:"e.g. 500",className:"w-full px-4 py-3 bg-white border-2 border-violet-100 rounded-xl font-bold text-violet-800 focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all",value:l.price,onChange:u=>i({...l,price:u.target.value}),required:l.isPaid})]})]})]})})})},ay=()=>{const[t,s]=j.useState([]),[r,l]=j.useState(!0),[i,o]=j.useState(""),[d,x]=j.useState("All"),[u,h]=j.useState(!1),[p,g]=j.useState(!1),[y,f]=j.useState(!1),[w,S]=j.useState(null);j.useEffect(()=>{v()},[]);const v=async()=>{l(!0);try{const M=await Uh();s(M)}catch(M){console.error(M)}finally{l(!1)}},N=M=>{S(M),M.status==="Available"?h(!0):g(!0)},A=t.filter(M=>{const T=M.number.toLowerCase().includes(i.toLowerCase())||M.assignee&&M.assignee.toLowerCase().includes(i.toLowerCase()),_=d==="All"||M.status===d;return T&&_}),L={total:t.length,available:t.filter(M=>M.status==="Available").length,occupied:t.filter(M=>M.status==="Occupied").length,maintenance:t.filter(M=>M.status==="Maintenance").length};return e.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-white to-violet-50/20 min-h-screen p-6 md:p-8 font-sans",children:[e.jsx("div",{className:"max-w-7xl mx-auto mb-10",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-8",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute -top-10 -left-10 w-40 h-40 bg-violet-200 rounded-full blur-3xl opacity-20 pointer-events-none"}),e.jsxs("h1",{className:"relative text-3xl md:text-4xl font-black text-slate-800 flex items-center gap-3",children:[e.jsx(Fs,{className:"text-violet-600",size:32}),"Locker Management"]}),e.jsx("p",{className:"text-slate-500 mt-2 font-medium",children:"Monitor and manage facility storage units"})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[e.jsx("div",{className:"flex overflow-x-auto no-scrollbar max-w-[calc(100vw-6rem)] md:max-w-none bg-white/60 backdrop-blur-sm border-2 border-slate-100 rounded-2xl p-1 shadow-sm",children:["All","Available","Occupied","Maintenance"].map(M=>e.jsx("button",{onClick:()=>x(M),className:`px-5 py-2.5 rounded-xl text-xs font-bold transition-all whitespace-nowrap ${d===M?"bg-violet-600 text-white shadow-lg shadow-violet-500/30":"text-slate-500 hover:text-slate-800"}`,children:M},M))}),e.jsx("button",{className:"p-4 bg-white border-2 border-slate-100 text-slate-400 rounded-2xl hover:text-violet-600 hover:border-violet-100 transition-all shadow-sm",children:e.jsx(jl,{size:20,className:r?"animate-spin":""})})]})]})}),e.jsx("div",{className:"max-w-7xl mx-auto grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-8 mb-10",children:[{label:"Total Units",value:L.total,color:"slate",icon:Fs},{label:"Available",value:L.available,color:"emerald",icon:Xn},{label:"Occupied",value:L.occupied,color:"amber",icon:Ux},{label:"Maintenance",value:L.maintenance,color:"rose",icon:Gl}].map((M,T)=>e.jsxs("div",{className:"bg-white/60 backdrop-blur-md border border-white/50 p-6 rounded-[32px] shadow-sm hover:shadow-xl transition-all group overflow-hidden relative",children:[e.jsx("div",{className:`absolute -right-4 -bottom-4 opacity-[0.03] group-hover:scale-150 transition-transform duration-700 text-${M.color}-900`,children:e.jsx(M.icon,{size:120})}),e.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2",children:M.label}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-black text-slate-800",children:M.value}),e.jsx("span",{className:`text-${M.color}-500 text-[10px] font-bold`,children:"Units"})]})]},T))}),e.jsxs("div",{className:"max-w-7xl mx-auto mb-8 flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1 group",children:[e.jsx(Qe,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-600 transition-all",size:20}),e.jsx("input",{type:"text",placeholder:"Search by locker number or member...",className:"w-full pl-12 pr-4 py-4 bg-white/60 backdrop-blur-sm border-2 border-slate-100 rounded-2xl text-sm focus:outline-none focus:border-violet-500 transition-all shadow-sm font-medium",value:i,onChange:M=>o(M.target.value)})]}),e.jsxs("button",{onClick:()=>f(!0),className:"px-8 py-4 bg-slate-900 text-white rounded-2xl font-bold flex items-center justify-center gap-2 hover:bg-violet-600 transition-all shadow-xl shadow-slate-200",children:[e.jsx(St,{size:20})," Add New Units"]})]}),e.jsx("div",{className:"max-w-7xl mx-auto",children:r?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 gap-4",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-violet-100 border-t-violet-600 rounded-full animate-spin"}),e.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Loading Lockers..."})]}):e.jsx("div",{className:"bg-white/60 backdrop-blur-md border border-white/50 rounded-[32px] shadow-xl overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-slate-100",children:[e.jsx("th",{className:"px-8 py-6 text-[10px] font-black text-slate-400 uppercase tracking-widest ",children:"Locker Number"}),e.jsx("th",{className:"px-8 py-6 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Assigned To"}),e.jsx("th",{className:"px-8 py-6 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Status"}),e.jsx("th",{className:"px-8 py-6 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Billing"}),e.jsx("th",{className:"px-8 py-6 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Actions"})]})}),e.jsx("tbody",{children:A.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"py-24 text-center",children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-[32px] flex items-center justify-center text-slate-200 mb-4",children:e.jsx(Fs,{size:32})}),e.jsx("h3",{className:"text-lg font-black text-slate-800",children:"No Lockers Found"}),e.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Try adjusting your filters."})]})})}):A.map(M=>e.jsxs("tr",{className:"group hover:bg-violet-50/30 transition-colors border-b border-slate-50 last:border-0",children:[e.jsx("td",{className:"px-8 py-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center shadow-sm ${M.status==="Available"?"bg-emerald-50 text-emerald-600":M.status==="Occupied"?"bg-rose-50 text-rose-600":"bg-slate-50 text-slate-400"}`,children:e.jsx(Fs,{size:18})}),e.jsx("span",{className:"font-black text-slate-800 tracking-tight text-lg",children:M.number})]})}),e.jsx("td",{className:"px-8 py-6",children:M.assignee?e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-violet-100 flex items-center justify-center text-[10px] font-black text-violet-600",children:M.assignee.charAt(0)}),e.jsx("span",{className:"font-bold text-slate-700 text-sm",children:M.assignee})]}):e.jsx("span",{className:"text-slate-300 font-medium",children:""})}),e.jsx("td",{className:"px-8 py-6",children:e.jsx("div",{className:"flex justify-center",children:e.jsx("span",{className:`px-4 py-1.5 rounded-full text-[10px] font-black uppercase tracking-widest border transition-all ${M.status==="Available"?"bg-emerald-50 text-emerald-600 border-emerald-100":M.status==="Occupied"?"bg-rose-50 text-rose-600 border-rose-100":"bg-slate-50 text-slate-400 border-slate-100"}`,children:M.status==="Available"?"Free":M.status})})}),e.jsx("td",{className:"px-8 py-6",children:e.jsx("div",{className:"flex justify-center",children:e.jsx("span",{className:`px-3 py-1 rounded-lg text-[8px] font-black uppercase tracking-widest border ${M.isPaid?"bg-indigo-50 text-indigo-600 border-indigo-100":"bg-slate-50 text-slate-400 border-slate-100"}`,children:M.isPaid?"Paid":"Free"})})}),e.jsx("td",{className:"px-8 py-6 text-right",children:e.jsx("button",{onClick:()=>N(M),className:`px-5 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${M.status==="Available"?"bg-slate-900 text-white hover:bg-violet-600 hover:shadow-lg hover:shadow-violet-200":"bg-rose-50 text-rose-600 hover:bg-rose-600 hover:text-white"}`,children:M.status==="Available"?"Assign":"Release"})})]},M.id))})]})})})}),e.jsx(AD,{isOpen:u,onClose:()=>h(!1),selectedLocker:w,onSuccess:v}),e.jsx(MD,{isOpen:p,onClose:()=>g(!1),selectedLocker:w,onSuccess:v}),e.jsx(DD,{isOpen:y,onClose:()=>f(!1),onSuccess:()=>{v(),alert("Locker created successfully!")}})]})},LD=()=>{const t=Gt(),{state:s}=zr(),[r,l]=j.useState({memberName:s?.memberName||"",lockerId:"",expiryDate:"",notes:""}),[i,o]=j.useState([]),d=["Rahul Sharma","Vikram Malhotra","Sneha Gupta","Amit Verma","Alice Johnson"];j.useEffect(()=>{(async()=>{const g=(await Uh()).filter(y=>y.status.toLowerCase()==="available");o(g)})()},[]);const x=h=>{const{name:p,value:g}=h.target;l(y=>({...y,[p]:g}))},u=async h=>{h.preventDefault();const p=await Ew(r.lockerId,"mock-mem-id",r.memberName);if(p.success){alert(p.message),l({memberName:"",lockerId:"",expiryDate:"",notes:""});const g=await Uh();o(g.filter(y=>y.status==="Available"))}else alert(p.message)};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-6 animate-fadeIn",children:[e.jsxs("div",{className:"mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(Fs,{size:28,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Assign Locker"}),e.jsx("span",{className:"px-2 py-0.5 bg-gradient-to-r from-violet-500 to-purple-600 text-white text-[10px] font-black rounded-md shadow-sm animate-pulse",children:"Action Mode"})]}),e.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Allocate a locker to a member for a specific duration"})]})]}),e.jsxs("button",{onClick:()=>t("/staff/lockers/release"),className:"group flex items-center gap-2 px-5 py-3 bg-white border border-slate-200 text-slate-600 rounded-xl text-sm font-bold shadow-sm hover:border-violet-500 hover:text-violet-600 hover:shadow-md transition-all duration-300",children:[e.jsx(pn,{size:18,className:"text-slate-400 group-hover:text-violet-500 rotate-180 transition-colors"}),"View Occupied Lockers"]})]})})]}),e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsxs("div",{className:"group relative bg-white rounded-3xl shadow-xl border border-slate-100 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50/10 to-purple-50/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"}),e.jsxs("form",{onSubmit:u,className:"relative z-10 p-8 space-y-8",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-sm font-black text-slate-700 flex items-center gap-2 uppercase tracking-wide",children:[e.jsx(rt,{size:16,className:"text-violet-500"}),"Member Name"]}),e.jsx(ms,{options:d,value:r.memberName,onChange:h=>x({target:{name:"memberName",value:h}}),placeholder:"Select Member",className:"w-full"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-sm font-black text-slate-700 flex items-center gap-2 uppercase tracking-wide",children:[e.jsx(Fh,{size:16,className:"text-violet-500"}),"Locker Number"]}),e.jsx(ms,{options:i.map(h=>({value:h.id,label:h.number})),value:r.lockerId,onChange:h=>x({target:{name:"lockerId",value:h}}),placeholder:"Select Locker",className:"w-full"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-sm font-black text-slate-700 flex items-center gap-2 uppercase tracking-wide",children:[e.jsx(Ye,{size:16,className:"text-violet-500"}),"Expiry Date"]}),e.jsx("div",{className:"relative group/input",children:e.jsx("input",{type:"date",name:"expiryDate",className:"w-full h-12 px-4 bg-slate-50 border-2 border-slate-200 rounded-xl font-bold text-slate-700 focus:bg-white focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all duration-300",value:r.expiryDate,onChange:x,required:!0})})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-sm font-black text-slate-700 flex items-center gap-2 uppercase tracking-wide",children:[e.jsx(er,{size:16,className:"text-violet-500"}),"Notes (Optional)"]}),e.jsx("textarea",{name:"notes",placeholder:"Add any specific instructions or items stored...",rows:"3",className:"w-full p-4 bg-slate-50 border-2 border-slate-200 rounded-xl font-medium text-slate-700 focus:bg-white focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all duration-300 resize-none",value:r.notes,onChange:x})]}),e.jsx("div",{className:"pt-4",children:e.jsxs("button",{type:"submit",className:"w-full h-14 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-xl shadow-xl shadow-violet-500/40 text-lg font-bold transition-all flex items-center justify-center gap-3 hover:shadow-2xl hover:shadow-violet-500/50 hover:scale-[1.02] active:scale-[0.98]",children:[e.jsx(ss,{size:22,strokeWidth:2.5}),"Confirm Assignment"]})})]})]})})]})},zD=()=>{const t=Gt(),[s,r]=j.useState([]);j.useEffect(()=>{l()},[]);const l=async()=>{const d=(await Uh()).filter(x=>x.status==="Occupied").map(x=>({id:x.id,name:x.assignee||"Unknown Member",locker:x.number,assigned:"2023-01-01",expiry:"2023-12-31"}));r(d)},i=async o=>{if(window.confirm("Are you sure you want to release this locker?")){const d=await Tw(o);d.success?(alert(d.message),l()):alert(d.message)}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6 animate-fadeIn",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6 flex-shrink-0",children:e.jsx(pn,{size:24,className:"sm:w-7 sm:h-7",strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Release Locker"}),e.jsx("span",{className:"px-2 py-0.5 bg-gradient-to-r from-violet-500 to-purple-600 text-white text-[10px] font-black rounded-md shadow-sm animate-pulse whitespace-nowrap",children:"Admin Mode"})]}),e.jsx("p",{className:"text-slate-600 text-xs sm:text-sm mt-1",children:"Manage and release occupied lockers for upcoming members"})]})]}),e.jsxs("button",{onClick:()=>t("/staff/lockers/assign"),className:"group flex items-center justify-center gap-2 px-5 py-3 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-xl text-sm font-bold shadow-xl shadow-violet-500/50 hover:shadow-2xl hover:shadow-violet-500/60 hover:scale-105 transition-all duration-300 w-full sm:w-auto",children:[e.jsx(St,{size:18,strokeWidth:2.5}),"Assign New Locker"]})]})})]}),e.jsxs("div",{className:"bg-white rounded-3xl shadow-xl border border-slate-100 overflow-hidden",children:[e.jsx("div",{className:"p-4 sm:p-6 border-b border-slate-100 bg-slate-50/50 flex flex-col md:flex-row justify-between items-center gap-4",children:e.jsxs("div",{className:"relative w-full md:w-96 group",children:[e.jsx(Qe,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 transition-colors",size:20}),e.jsx("input",{type:"text",placeholder:"Search locker or member name...",className:"w-full pl-12 pr-4 py-3 bg-white border-2 border-slate-200 rounded-xl font-bold text-slate-700 focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all duration-300"})]})}),e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"w-full hidden md:table",children:[e.jsx("thead",{className:"bg-slate-50/80 border-b border-slate-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-5 px-6 text-left text-xs font-black text-slate-400 uppercase tracking-widest",children:"Member"}),e.jsx("th",{className:"py-5 px-6 text-left text-xs font-black text-slate-400 uppercase tracking-widest",children:"Locker #"}),e.jsx("th",{className:"py-5 px-6 text-left text-xs font-black text-slate-400 uppercase tracking-widest",children:"Assigned"}),e.jsx("th",{className:"py-5 px-6 text-left text-xs font-black text-slate-400 uppercase tracking-widest",children:"Expiry"}),e.jsx("th",{className:"py-5 px-6 text-right text-xs font-black text-slate-400 uppercase tracking-widest",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:s.map(o=>e.jsxs("tr",{className:"group hover:bg-violet-50/30 transition-colors duration-200",children:[e.jsx("td",{className:"py-5 px-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"h-10 w-10 rounded-xl bg-gradient-to-br from-violet-100 to-purple-100 text-violet-600 flex items-center justify-center font-bold text-sm shadow-sm group-hover:scale-110 transition-transform duration-300",children:(o.name||"?").charAt(0)}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-slate-800 text-sm",children:o.name}),e.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-wider",children:"Premium Member"})]})]})}),e.jsx("td",{className:"py-5 px-6",children:e.jsxs("span",{className:"inline-flex items-center justify-center px-3 py-1.5 rounded-lg bg-violet-50 text-violet-700 text-xs font-black border border-violet-100",children:[e.jsx(Fs,{size:12,className:"mr-1.5"}),o.locker]})}),e.jsx("td",{className:"py-5 px-6",children:e.jsx("div",{className:"text-sm font-medium text-slate-500",children:o.assigned})}),e.jsx("td",{className:"py-5 px-6",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold text-slate-700",children:[e.jsx(Ye,{size:14,className:"text-slate-400"}),o.expiry]})}),e.jsx("td",{className:"py-5 px-6 text-right",children:e.jsxs("button",{onClick:()=>i(o.id),className:"inline-flex items-center gap-2 px-4 py-2 bg-white border-2 border-slate-200 text-slate-600 hover:border-red-200 hover:bg-red-50 hover:text-red-600 rounded-xl text-xs font-bold transition-all shadow-sm hover:shadow-md",children:[e.jsx(pn,{size:14}),"Release"]})})]},o.id))})]}),e.jsx("div",{className:"md:hidden p-4 space-y-4",children:s.map(o=>e.jsx(Ga,{title:o.name,subtitle:"Premium Member",badge:`#${o.locker}`,badgeColor:"violet",fields:[{label:"Assigned",value:o.assigned},{label:"Expiry",value:o.expiry,icon:Ye}],actions:[{label:"Release Locker",icon:pn,onClick:()=>i(o.id),variant:"danger"}]},o.id))})]})]})]})},ED=async(t={})=>{try{return(await we.get("/staff/tasks",{params:{...t,myTasks:!0}})).data}catch(s){throw s.response?.data?.message||"Failed to fetch my tasks"}},ry=async(t={})=>{try{return(await we.get("/staff/tasks",{params:t})).data}catch(s){throw s.response?.data?.message||"Failed to fetch all tasks"}},TD=async(t,s)=>{try{return(await we.patch(`/staff/tasks/${t}/status`,{status:s})).data}catch(r){throw r.response?.data?.message||"Failed to update task status"}},_D=()=>{const[t,s]=j.useState(""),[r,l]=j.useState("All"),[i,o]=j.useState([]),[d,x]=j.useState(!0),[u,h]=j.useState(1),p=5;j.useEffect(()=>{g(),h(1)},[r,t]);const g=async()=>{x(!0);try{const A=await ED({status:r,search:t});o(A)}catch(A){console.error("Failed to load tasks:",A)}finally{x(!1)}},y=async A=>{await TD(A,"Completed"),g()},f=A=>{switch(A){case"High":return e.jsx("span",{className:"px-2.5 py-1 rounded-full text-[10px] font-black bg-red-100 text-red-700 border border-red-200",children:"HIGH"});case"Medium":return e.jsx("span",{className:"px-2.5 py-1 rounded-full text-[10px] font-black bg-yellow-100 text-yellow-700 border border-yellow-200",children:"MEDIUM"});case"Low":return e.jsx("span",{className:"px-2.5 py-1 rounded-full text-[10px] font-black bg-green-100 text-green-700 border border-green-200",children:"LOW"});default:return null}},w=A=>{switch(A){case"Completed":return e.jsx("span",{className:"px-2.5 py-1 rounded-full text-[10px] font-black bg-blue-100 text-blue-700 uppercase",children:"Completed"});case"In Progress":return e.jsx("span",{className:"px-2.5 py-1 rounded-full text-[10px] font-black bg-indigo-100 text-indigo-700 uppercase",children:"In Progress"});case"Pending":return e.jsx("span",{className:"px-2.5 py-1 rounded-full text-[10px] font-black bg-gray-100 text-gray-600 uppercase",children:"Pending"});default:return null}},S=Math.ceil(i.length/p),v=(u-1)*p,N=i.slice(v,v+p);return e.jsxs("div",{className:"p-6 md:p-8 bg-gray-50 min-h-screen font-sans staffdashboard-mytasks",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900 tracking-tight",children:"My Tasks"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Manage and track your daily operational responsibilities."})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-gray-50 flex flex-col md:flex-row gap-4 justify-between items-center",children:[e.jsxs("div",{className:"relative w-full md:w-96",children:[e.jsx(Qe,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{type:"text",placeholder:"Find a task...",className:"saas-input pl-10 h-11 w-full rounded-xl border-gray-200 text-sm focus:ring-2 focus:ring-indigo-500",value:t,onChange:A=>s(A.target.value)})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ns,{size:18,className:"text-indigo-500"}),e.jsx(ms,{options:[{value:"All",label:"All Status"},{value:"Pending",label:"Pending"},{value:"In Progress",label:"In Progress"},{value:"Completed",label:"Completed"}],value:r,onChange:l,className:"w-[180px]"})]})]}),e.jsx("div",{className:"saas-table-wrapper",children:e.jsxs("table",{className:"saas-table saas-table-responsive",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Task Details"}),e.jsx("th",{children:"Assigned By"}),e.jsx("th",{className:"text-center",children:"Priority"}),e.jsx("th",{children:"Due Date"}),e.jsx("th",{className:"text-center",children:"Status"}),e.jsx("th",{className:"text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:d?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-10 text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-2 text-indigo-600",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-indigo-600 border-t-transparent rounded-full animate-spin"}),e.jsx("span",{className:"text-sm font-medium",children:"Loading tasks..."})]})})}):N.length>0?N.map(A=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-all duration-200 group",children:[e.jsx("td",{"data-label":"Task Details",children:e.jsx("p",{className:"text-sm font-bold text-gray-800 tracking-tight group-hover:text-indigo-600 transition-colors",children:A.title})}),e.jsx("td",{"data-label":"Assigned By",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(rt,{size:14,className:"text-gray-400"}),e.jsx("span",{className:"text-xs font-semibold text-gray-600",children:A.assignedBy})]})}),e.jsx("td",{"data-label":"Priority",className:"text-center",children:f(A.priority)}),e.jsx("td",{"data-label":"Due Date",children:e.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-gray-500",children:[e.jsx(Je,{size:14,className:"text-gray-400"}),A.due]})}),e.jsx("td",{"data-label":"Status",className:"text-center",children:w(A.status)}),e.jsx("td",{"data-label":"Actions",className:"text-right",children:A.status!=="Completed"&&e.jsx("button",{onClick:()=>y(A.id),className:"bg-green-500 hover:bg-green-600 text-white p-2 rounded-lg shadow-sm transition-all active:scale-95",title:"Mark Complete",children:e.jsx(as,{size:16})})})]},A.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-10 text-center text-gray-500 text-sm",children:"No tasks found matching your search."})})})]})})]}),e.jsxs("div",{className:"mt-8 flex items-center justify-between text-[10px] text-gray-400 font-bold uppercase tracking-widest px-2",children:[e.jsxs("p",{children:["Showing ",i.length>0?v+1:0," to ",Math.min(v+p,i.length)," of ",i.length," tasks"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>h(A=>Math.max(A-1,1)),disabled:u===1,className:"px-3 py-1 border border-gray-200 rounded hover:bg-white transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Prev"}),Array.from({length:S},(A,L)=>L+1).map(A=>e.jsx("button",{onClick:()=>h(A),className:`px-3 py-1 border rounded transition-colors ${u===A?"border-indigo-600 bg-indigo-600 text-white":"border-gray-200 hover:bg-white"}`,children:A},A)),e.jsx("button",{onClick:()=>h(A=>Math.min(A+1,S)),disabled:u===S||S===0,className:"px-3 py-1 border border-gray-200 rounded hover:bg-white transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})},PD=()=>{const[t,s]=j.useState(""),[r,l]=j.useState("All"),[i,o]=j.useState([]),[d,x]=j.useState(!0),[u,h]=j.useState([{label:"Total Tasks",value:"0",icon:gl,bg:"bg-indigo-50",color:"text-indigo-600"},{label:"Pending",value:"0",icon:Je,bg:"bg-yellow-50",color:"text-yellow-600"},{label:"In Progress",value:"0",icon:Wt,bg:"bg-blue-50",color:"text-blue-600"},{label:"Completed",value:"0",icon:ss,bg:"bg-green-50",color:"text-green-600"}]),[p,g]=j.useState(1),y=5;j.useEffect(()=>{f(),g(1)},[r,t]);const f=async()=>{x(!0);try{const L=await ry();w(L);const M=await ry({status:r,search:t});o(M)}catch(L){console.error("Failed to load tasks:",L)}finally{x(!1)}},w=L=>{h([{label:"Total Tasks",value:L.length.toString(),icon:gl,bg:"bg-indigo-50",color:"text-indigo-600"},{label:"Pending",value:L.filter(M=>M.status==="Pending").length.toString(),icon:Je,bg:"bg-yellow-50",color:"text-yellow-600"},{label:"In Progress",value:L.filter(M=>M.status==="In Progress").length.toString(),icon:Wt,bg:"bg-blue-50",color:"text-blue-600"},{label:"Completed",value:L.filter(M=>M.status==="Completed").length.toString(),icon:ss,bg:"bg-green-50",color:"text-green-600"}])},S=L=>{switch(L){case"Completed":return e.jsx("span",{className:"px-3 py-1 rounded-lg text-[10px] font-black bg-green-100 text-green-700 uppercase",children:"Completed"});case"In Progress":return e.jsx("span",{className:"px-3 py-1 rounded-lg text-[10px] font-black bg-blue-100 text-blue-700 uppercase",children:"In Progress"});case"Pending":return e.jsx("span",{className:"px-3 py-1 rounded-lg text-[10px] font-black bg-yellow-100 text-yellow-700 uppercase",children:"Pending"});default:return null}},v=Math.ceil(i.length/y),N=(p-1)*y,A=i.slice(N,N+y);return e.jsxs("div",{className:"p-6 md:p-8 bg-gray-50 min-h-screen font-sans staffdashboard-taskstatus",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900 tracking-tight",children:"Task Status Overview"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Track real-time progress of all operational duties."})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:u.map((L,M)=>e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-center gap-4 hover:shadow-xl hover:-translate-y-1 hover:scale-[1.02] transition-all duration-300 staffdashboard-taskstatus-card active:scale-[0.98] cursor-pointer group",children:[e.jsx("div",{className:`p-4 rounded-xl ${L.bg} ${L.color} group-hover:scale-110 group-hover:rotate-6 transition-all duration-300`,children:e.jsx(L.icon,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest group-hover:text-gray-600 transition-colors",children:L.label}),e.jsx("p",{className:"text-2xl font-black text-gray-900 leading-tight group-hover:scale-110 transition-transform",children:L.value})]})]},M))}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-gray-50 flex flex-col md:flex-row gap-4 justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ns,{size:18,className:"text-indigo-600"}),e.jsx(ms,{options:[{value:"All",label:"All Status"},{value:"Pending",label:"Pending"},{value:"In Progress",label:"In Progress"},{value:"Completed",label:"Completed"}],value:r,onChange:l,className:"w-[180px]"})]}),e.jsxs("div",{className:"relative w-full md:w-64",children:[e.jsx(Qe,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 transition-colors",size:16}),e.jsx("input",{type:"text",placeholder:"Search tasks...",className:"saas-input pl-10 h-10 w-full rounded-lg border-gray-200 text-sm focus:ring-2 focus:ring-indigo-500 focus:shadow-md transition-all duration-300",value:t,onChange:L=>s(L.target.value)})]})]}),e.jsx("div",{className:"saas-table-wrapper",children:e.jsxs("table",{className:"saas-table saas-table-responsive",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Task Title"}),e.jsx("th",{children:"Assigned By"}),e.jsx("th",{className:"text-center",children:"Status"}),e.jsx("th",{className:"text-right",children:"Last Updated"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:d?e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"px-6 py-10 text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-2 text-indigo-600",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-indigo-600 border-t-transparent rounded-full animate-spin"}),e.jsx("span",{className:"text-sm font-medium",children:"Crunching data..."})]})})}):A.length>0?A.map(L=>e.jsxs("tr",{className:"hover:bg-indigo-50/30 hover:-translate-y-0.5 transition-all duration-200 cursor-pointer group hover:shadow-md",children:[e.jsx("td",{"data-label":"Task Title",children:e.jsx("p",{className:"text-sm font-bold text-gray-800 tracking-tight group-hover:text-indigo-600 transition-colors",children:L.title})}),e.jsx("td",{"data-label":"Assigned By",children:e.jsx("p",{className:"text-xs font-semibold text-gray-500 group-hover:text-gray-700 transition-colors",children:L.assignedBy})}),e.jsx("td",{"data-label":"Status",className:"text-center",children:S(L.status)}),e.jsx("td",{"data-label":"Last Updated",className:"text-right",children:e.jsx("span",{className:"text-xs font-bold text-gray-400 italic font-mono uppercase group-hover:text-gray-600 transition-colors",children:L.updated})})]},L.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"px-6 py-10 text-center text-gray-500 text-sm",children:"No tasks found matching your search."})})})]})})]}),e.jsxs("div",{className:"mt-8 flex items-center justify-between text-[10px] text-gray-400 font-bold uppercase tracking-widest px-2",children:[e.jsxs("p",{children:["Showing ",i.length>0?N+1:0," to ",Math.min(N+y,i.length)," of ",i.length," tasks"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>g(L=>Math.max(L-1,1)),disabled:p===1,className:"px-3 py-1 border border-gray-200 rounded hover:bg-white transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Prev"}),Array.from({length:v},(L,M)=>M+1).map(L=>e.jsx("button",{onClick:()=>g(L),className:`px-3 py-1 border rounded transition-colors ${p===L?"border-indigo-600 bg-indigo-600 text-white":"border-gray-200 hover:bg-white"}`,children:L},L)),e.jsx("button",{onClick:()=>g(L=>Math.min(L+1,v)),disabled:p===v||v===0,className:"px-3 py-1 border border-gray-200 rounded hover:bg-white transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})},ly={Admin:["Full Access","Finance","HR","Settings","Branch Ops"],Manager:["Branch Ops","Finance","HR","Team Management"],Trainer:["Workouts","Sessions","Progress","Member Management"],Staff:["General Ops","Check-ins","Basic Member Support"]},RD=({isOpen:t,onClose:s,onConfirm:r,title:l,message:i})=>e.jsx(at,{isOpen:t,onClose:s,title:l,maxWidth:"max-w-sm",footer:e.jsxs("div",{className:"flex gap-4 w-full p-2",children:[e.jsx("button",{onClick:s,className:"flex-1 py-4 bg-slate-50 text-slate-400 rounded-2xl font-black uppercase tracking-widest hover:bg-slate-100 hover:text-slate-600 transition-all border border-slate-100",children:"Cancel"}),e.jsx("button",{onClick:r,className:"flex-[2] py-4 bg-rose-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl shadow-rose-200 hover:bg-rose-700 transition-all",children:"Confirm Delete"})]}),children:e.jsxs("div",{className:"py-12 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-rose-50 rounded-full flex items-center justify-center mx-auto mb-6 text-rose-500 shadow-inner",children:e.jsx(Ms,{size:32})}),e.jsx("p",{className:"text-slate-500 text-sm font-medium leading-relaxed px-4",children:i})]})}),OD=({role:t,branchId:s})=>{const r=Gt(),[l,i]=j.useState([]),[o,d]=j.useState(!0),[x,u]=j.useState(""),[h,p]=j.useState("All Roles"),[g,y]=j.useState("All"),[f,w]=j.useState(!1),[S,v]=j.useState({isOpen:!1,id:null});j.useEffect(()=>{N()},[]);const N=async()=>{d(!0);try{const P=await jw();i(Array.isArray(P)?P:[])}catch(P){console.error(P)}finally{d(!1)}},A=()=>{r("/hr/staff/create")},L=P=>{r(`/hr/staff/edit/${P}`)},M=P=>{v({isOpen:!0,id:P})},T=async()=>{S.id&&(await ew(S.id),v({isOpen:!1,id:null}),N())},_=["All Roles",...Object.keys(ly)],I=l.filter(P=>{const R=(P.name||"").toLowerCase().includes(x.toLowerCase())||(P.email||"").toLowerCase().includes(x.toLowerCase())||(P.role||"").toLowerCase().includes(x.toLowerCase()),W=(P.role||"").toUpperCase().replace(/_/g," "),H=h.toUpperCase(),$=h==="All Roles"||W===H,G=g==="All"||P.status===g;return R&&$&&G}),B=()=>e.jsxs("div",{className:"space-y-6 flex-1",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest pl-1",children:"Filter by Role"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:_.map(P=>e.jsx("button",{onClick:()=>p(P),className:`px-4 py-3 rounded-xl text-xs font-bold border-2 transition-all min-h-[44px] ${h===P?"bg-indigo-600 border-indigo-600 text-white shadow-lg shadow-indigo-200":"bg-white border-slate-100 text-slate-500 hover:border-indigo-100"}`,children:P},P))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest pl-1",children:"Account Status"}),e.jsx("div",{className:"flex gap-2",children:["All","Active","Inactive"].map(P=>e.jsx("button",{onClick:()=>y(P),className:`px-6 py-3 rounded-xl text-xs font-bold border-2 transition-all min-h-[44px] ${g===P?"bg-emerald-600 border-emerald-600 text-white shadow-lg shadow-emerald-200":"bg-white border-slate-100 text-slate-500 hover:border-emerald-100"}`,children:P},P))})]})]});return e.jsxs("div",{className:"bg-gradient-to-br from-gray-50 via-white to-indigo-50/20 min-h-screen p-6 md:p-8 font-sans pb-24",children:[e.jsx("div",{className:"max-w-7xl mx-auto mb-10",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-black text-slate-800 flex items-center gap-3",children:[e.jsx(Xn,{className:"text-indigo-600",size:32}),"Staff Management"]}),e.jsx("p",{className:"text-slate-500 mt-2 font-medium",children:"Manage branch employees, roles, and system access."})]}),e.jsxs("button",{onClick:A,className:"flex items-center gap-3 px-8 py-4 bg-slate-900 text-white rounded-[24px] font-black uppercase tracking-widest text-xs hover:bg-slate-800 hover:shadow-2xl hover:scale-105 active:scale-95 transition-all shadow-xl",children:[e.jsx(St,{size:20,strokeWidth:3}),"Add New Staff"]})]})}),e.jsx("div",{className:"max-w-7xl mx-auto mb-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1 group",children:[e.jsx(Qe,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-indigo-600 transition-all",size:20}),e.jsx("input",{type:"text",placeholder:"Search team members...",className:"w-full pl-14 pr-4 py-5 bg-white border-2 border-slate-100 rounded-[28px] text-sm focus:outline-none focus:border-indigo-500 transition-all shadow-sm font-medium h-14",value:x,onChange:P=>u(P.target.value)})]}),e.jsxs("button",{onClick:()=>w(!0),className:"lg:hidden flex items-center justify-center gap-2 px-6 py-4 bg-white border-2 border-slate-100 rounded-2xl text-slate-600 font-bold hover:border-indigo-100 transition-all shadow-sm h-14",children:[e.jsx(Ns,{size:20})," Filters ",(h!=="All Roles"||g!=="All")&&e.jsx("div",{className:"w-2 h-2 bg-indigo-600 rounded-full"})]}),e.jsx("div",{className:"hidden lg:flex items-center gap-4 bg-white/40 backdrop-blur-sm p-1 rounded-[28px] border-2 border-slate-100 overflow-x-auto custom-scrollbar h-14",children:_.map(P=>e.jsx("button",{onClick:()=>p(P),className:`whitespace-nowrap px-6 py-2.5 rounded-[22px] text-xs font-black uppercase tracking-widest transition-all ${h===P?"bg-slate-900 text-white shadow-xl":"text-slate-400 hover:text-slate-800"}`,children:P},P))}),e.jsx("button",{onClick:N,className:"hidden lg:flex p-4.5 items-center justify-center bg-white border-2 border-slate-100 text-slate-400 rounded-[28px] hover:text-indigo-600 hover:border-indigo-100 transition-all shadow-sm w-14 h-14",children:e.jsx(jl,{size:20,className:o?"animate-spin":""})})]})}),e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"bg-white/60 backdrop-blur-md rounded-[40px] shadow-sm border border-white/50 overflow-hidden",children:[e.jsx("div",{className:"hidden md:block overflow-x-auto overflow-y-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50/50",children:[e.jsx("th",{className:"px-8 py-7 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Staff Member"}),e.jsx("th",{className:"px-8 py-7 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Direct Access Roles"}),e.jsx("th",{className:"px-8 py-7 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Contact & Reach"}),e.jsx("th",{className:"px-8 py-7 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Status"}),e.jsx("th",{className:"px-8 py-7 text-right text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100/50",children:o&&l.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"py-24 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-indigo-100 border-t-indigo-600 rounded-full animate-spin"}),e.jsx("span",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Fetching Team..."})]})})}):I.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"py-24 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-24 h-24 bg-white rounded-[32px] shadow-2xl flex items-center justify-center text-slate-200 mb-4 opacity-50",children:e.jsx(D1,{size:48})}),e.jsx("h3",{className:"text-xl font-black text-slate-800 tracking-tight",children:"No Members Found"}),e.jsx("p",{className:"text-slate-500 text-sm font-medium max-w-sm mx-auto",children:"None of your team members match the current search or filter criteria. Try clearing them."}),e.jsx("button",{onClick:()=>{p("All Roles"),y("All"),u("")},className:"mt-4 px-6 py-2.5 bg-indigo-50 text-indigo-600 rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-indigo-600 hover:text-white transition-all",children:"Clear All Filters"})]})})}):I.map(P=>e.jsxs("tr",{className:"group hover:bg-white transition-all duration-300",children:[e.jsx("td",{className:"px-8 py-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-14 h-14 rounded-[22px] bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white font-black shadow-lg group-hover:scale-105 transition-transform overflow-hidden",children:P.name.charAt(0)}),P.role==="Branch Manager"&&e.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-amber-400 border-2 border-white rounded-lg flex items-center justify-center text-white shadow-sm",title:"Team Lead",children:e.jsx(Xn,{size:12})})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-bold text-slate-800 flex items-center gap-2",children:[P.name,P.role==="Manager"&&e.jsx("span",{className:"px-1.5 py-0.5 bg-amber-50 text-amber-600 text-[8px] font-black uppercase rounded tracking-widest",children:"Lead"})]}),e.jsxs("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:["Joined: ",P.joinedDate,"  Reports to: ",e.jsx("span",{className:"text-slate-600 font-extrabold",children:P.reportingManager||"Owner"})]})]})]})}),e.jsx("td",{className:"px-8 py-6",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("span",{className:"px-3 py-1 bg-indigo-50 text-indigo-600 rounded-lg text-[10px] font-black uppercase tracking-widest border border-indigo-100",children:P.role}),e.jsx("div",{className:"flex flex-wrap gap-1",children:ly[P.role]?.map(R=>e.jsx("span",{className:"text-[8px] font-bold text-slate-400 uppercase border border-slate-100 px-1.5 py-0.5 rounded-md",children:R},R))})]})}),e.jsx("td",{className:"px-8 py-6",children:e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-600",children:[e.jsx(Hr,{size:12,className:"text-slate-300"})," ",P.email]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-600",children:[e.jsx(qs,{size:12,className:"text-slate-300"})," ",P.phone]})]})}),e.jsx("td",{className:"px-8 py-6",children:e.jsxs("div",{className:`inline-flex items-center gap-2 px-4 py-1.5 rounded-full ${P.status==="Active"?"bg-emerald-50 text-emerald-600":"bg-rose-50 text-rose-600"}`,children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${P.status==="Active"?"bg-emerald-500 animate-pulse":"bg-rose-500"}`}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:P.status})]})}),e.jsxs("td",{className:"px-8 py-6 text-right",children:[e.jsxs("div",{className:"flex items-center justify-end gap-2 opacity-0 group-hover:opacity-100 transition-all scale-95 group-hover:scale-100",children:[e.jsx("button",{onClick:()=>L(P.id),className:"w-12 h-12 flex items-center justify-center bg-white border-2 border-slate-50 text-slate-400 hover:text-indigo-600 hover:border-indigo-100 rounded-xl transition-all shadow-sm",children:e.jsx(ar,{size:16})}),e.jsx("button",{onClick:()=>M(P.id),className:"w-12 h-12 flex items-center justify-center bg-white border-2 border-slate-50 text-slate-400 hover:text-rose-600 hover:border-rose-100 rounded-xl transition-all shadow-sm",children:e.jsx(Ms,{size:16})})]}),e.jsx("div",{className:"group-hover:hidden text-slate-200",children:e.jsx(fS,{size:20})})]})]},P.id))})]})}),e.jsx("div",{className:"md:hidden p-4 space-y-4",children:o&&l.length===0?e.jsx("div",{className:"py-24 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-indigo-100 border-t-indigo-600 rounded-full animate-spin"}),e.jsx("span",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Fetching Team..."})]})}):I.length===0?e.jsx("div",{className:"py-20 text-center bg-white rounded-3xl border border-slate-100",children:e.jsxs("div",{className:"flex flex-col items-center gap-4 p-8",children:[e.jsx(D1,{size:48,className:"text-slate-200"}),e.jsx("h3",{className:"text-xl font-black text-slate-800 tracking-tight",children:"No Members Found"}),e.jsx("button",{onClick:()=>{p("All Roles"),y("All"),u("")},className:"mt-4 px-6 py-2.5 bg-indigo-50 text-indigo-600 rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-indigo-600 hover:text-white transition-all",children:"Clear Filters"})]})}):I.map(P=>e.jsx(Ga,{title:P.name,subtitle:P.role,badge:P.status,badgeColor:P.status==="Active"?"emerald":"rose",fields:[{label:"Email",value:P.email,icon:Hr},{label:"Phone",value:P.phone,icon:qs}],actions:[{label:"Edit",icon:ar,onClick:()=>L(P.id),variant:"secondary"},{label:"Delete",icon:Ms,onClick:()=>M(P.id),variant:"danger"}]},P.id))})]})}),e.jsx(RD,{isOpen:S.isOpen,onClose:()=>v({isOpen:!1,id:null}),onConfirm:T,title:"Remove Team Member?",message:"This action will terminate their system access immediately. This cannot be undone."}),e.jsx(at,{isOpen:f,onClose:()=>w(!1),title:"Filter Staff",children:e.jsxs("div",{className:"h-full flex flex-col p-6",children:[e.jsx(B,{}),e.jsx("button",{onClick:()=>w(!1),className:"w-full py-5 mt-8 bg-indigo-600 text-white rounded-2xl font-black uppercase tracking-widest text-xs shadow-xl shadow-indigo-100 active:scale-95 transition-all h-14",children:"Apply Filters"})]})})]})},FD=async()=>{try{return(await we.get("/auth/me")).data}catch(t){throw t.response?.data?.message||"Failed to fetch staff profile"}},BD=async t=>{try{return(await we.patch("/auth/profile",t)).data}catch(s){throw s.response?.data?.message||"Failed to update staff profile"}},ID=()=>{const[t,s]=j.useState(null),[r,l]=j.useState(!0),[i,o]=j.useState("personal"),[d,x]=j.useState(!1),[u,h]=j.useState({type:"",text:""}),[p,g]=j.useState({name:"",email:"",phone:"",address:""});j.useEffect(()=>{y()},[]);const y=async()=>{try{l(!0);const v=await FD();s(v),g({name:v.name,email:v.email,phone:v.phone||"",address:v.address||""})}catch(v){console.error("Error loading staff profile:",v),h({type:"error",text:"Failed to load profile data."})}finally{l(!1)}},f=v=>{const{name:N,value:A}=v.target;g(L=>({...L,[N]:A}))},w=async v=>{v.preventDefault(),x(!0),h({type:"",text:""});try{const N=await BD(p);s(N),h({type:"success",text:"Profile updated successfully!"})}catch{h({type:"error",text:"Failed to update profile."})}finally{x(!1)}};if(r)return e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh]",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-violet-600 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"mt-4 text-violet-600 font-bold bg-violet-50 px-4 py-2 rounded-xl animate-pulse",children:"Loading profile..."})]});if(!t)return e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] gap-4",children:[e.jsx("div",{className:"w-16 h-16 bg-red-50 rounded-full flex items-center justify-center",children:e.jsx(tr,{size:32,className:"text-red-400"})}),e.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Could Not Load Profile"}),e.jsx("p",{className:"text-slate-500 text-sm text-center max-w-xs",children:u.text||"There was an error fetching your profile. Please try refreshing the page."}),e.jsx("button",{onClick:y,className:"px-6 py-2.5 bg-violet-600 text-white rounded-xl text-sm font-bold hover:bg-violet-700 transition-all",children:"Retry"})]});const S=[{id:"personal",label:"Personal Info",icon:rt},{id:"security",label:"Security",icon:tr},{id:"notifications",label:"Notifications",icon:vl}];return e.jsx("div",{className:"p-6 md:p-8 bg-gradient-to-br from-slate-50 via-white to-violet-50/30 min-h-screen font-sans animate-fadeIn",children:e.jsxs("div",{className:"max-w-5xl mx-auto space-y-8",children:[e.jsxs("div",{className:"group relative bg-white rounded-[40px] border border-slate-100 shadow-2xl overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-600 via-purple-600 to-fuchsia-600 opacity-95"}),e.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-10"}),e.jsx("div",{className:"relative px-8 pb-8 pt-32",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-end gap-8 -mt-20",children:[e.jsxs("div",{className:"relative group/avatar",children:[e.jsx("div",{className:"w-40 h-40 rounded-[32px] bg-white p-2 shadow-2xl transform group-hover/avatar:scale-105 transition-transform duration-300 rotate-3 group-hover/avatar:rotate-0",children:e.jsx("div",{className:"w-full h-full rounded-[24px] bg-gradient-to-br from-violet-100 to-purple-100 flex items-center justify-center text-violet-600 text-6xl font-black shadow-inner",children:t.avatar})}),e.jsx("button",{className:"absolute bottom-2 right-2 p-3 bg-white rounded-2xl shadow-lg border border-slate-100 text-violet-600 hover:bg-violet-50 hover:scale-110 active:scale-95 transition-all",children:e.jsx(Uo,{size:20,strokeWidth:2.5})})]}),e.jsxs("div",{className:"flex-1 pb-4 text-white",children:[e.jsx("h1",{className:"text-4xl font-black tracking-tight mb-3 drop-shadow-md",children:t.name}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx("span",{className:"inline-flex items-center px-4 py-1.5 rounded-full bg-white/20 backdrop-blur-md text-white text-xs font-bold border border-white/30 shadow-sm",children:t.role.replace("_"," ")}),e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-4 py-1.5 rounded-full bg-emerald-500/20 backdrop-blur-md text-emerald-100 text-xs font-bold border border-emerald-400/30 shadow-sm",children:[e.jsx(Wt,{size:14,className:"text-emerald-300"})," ",t.status]}),e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-4 py-1.5 rounded-full bg-white/10 backdrop-blur-md text-violet-100 text-xs font-bold border border-white/20 shadow-sm",children:[e.jsx(Ye,{size:14,className:"text-violet-200"})," Joined ",t.joinedDate]})]})]}),e.jsx("div",{className:"md:mb-4",children:e.jsxs("span",{className:"inline-flex items-center gap-2 px-6 py-3 bg-white/10 backdrop-blur-md rounded-2xl text-white font-bold text-sm border border-white/20 shadow-lg",children:[e.jsx(as,{size:18,className:"text-emerald-400"})," Staff Account"]})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsx("div",{className:"lg:col-span-1 space-y-3",children:S.map(v=>e.jsxs("button",{onClick:()=>o(v.id),className:`w-full flex items-center gap-4 px-6 py-4 rounded-2xl text-sm font-bold transition-all duration-300 ${i===v.id?"bg-gradient-to-r from-violet-600 to-purple-600 text-white shadow-xl shadow-violet-200 transform scale-105":"bg-white text-slate-500 hover:bg-violet-50 hover:text-violet-700 shadow-sm border border-slate-100"}`,children:[e.jsx(v.icon,{size:20,strokeWidth:2.5}),v.label]},v.id))}),e.jsx("div",{className:"lg:col-span-3",children:e.jsxs("div",{className:"bg-white rounded-[40px] border border-slate-100 shadow-xl p-8 md:p-10 animate-in slide-in-from-right duration-500 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-violet-50 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 opacity-50 pointer-events-none"}),u.text&&e.jsxs("div",{className:`mb-8 p-4 rounded-2xl flex items-center gap-3 text-sm font-bold animate-in slide-in-from-top duration-300 ${u.type==="success"?"bg-emerald-50 text-emerald-700 border border-emerald-100":"bg-red-50 text-red-700 border border-red-100"}`,children:[u.type==="success"?e.jsx(as,{size:20}):e.jsx(Lr,{size:20}),u.text]}),i==="personal"&&e.jsxs("form",{onSubmit:w,className:"space-y-8 relative z-10",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-3 group",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest px-1 group-focus-within:text-violet-500 transition-colors",children:"Full Name"}),e.jsxs("div",{className:"relative",children:[e.jsx(rt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 transition-colors",size:20}),e.jsx("input",{type:"text",name:"name",value:p.name,onChange:f,className:"w-full pl-12 pr-4 h-14 bg-slate-50 border-2 border-slate-100 rounded-2xl font-bold text-slate-700 focus:bg-white focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all duration-300",placeholder:"Enter your name"})]})]}),e.jsxs("div",{className:"space-y-3 group",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest px-1 group-focus-within:text-violet-500 transition-colors",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(Hr,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 transition-colors",size:20}),e.jsx("input",{type:"email",name:"email",value:p.email,onChange:f,className:"w-full pl-12 pr-4 h-14 bg-slate-50 border-2 border-slate-100 rounded-2xl font-bold text-slate-700 focus:bg-white focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all duration-300",placeholder:"Enter your email"})]})]}),e.jsxs("div",{className:"space-y-3 group",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest px-1 group-focus-within:text-violet-500 transition-colors",children:"Phone Number"}),e.jsxs("div",{className:"relative",children:[e.jsx(qs,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 transition-colors",size:20}),e.jsx("input",{type:"text",name:"phone",value:p.phone,onChange:f,className:"w-full pl-12 pr-4 h-14 bg-slate-50 border-2 border-slate-100 rounded-2xl font-bold text-slate-700 focus:bg-white focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all duration-300",placeholder:"Enter phone number"})]})]}),e.jsxs("div",{className:"space-y-3 group",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest px-1 group-focus-within:text-violet-500 transition-colors",children:"Location"}),e.jsxs("div",{className:"relative",children:[e.jsx($s,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 transition-colors",size:20}),e.jsx("input",{type:"text",name:"address",value:p.address,onChange:f,className:"w-full pl-12 pr-4 h-14 bg-slate-50 border-2 border-slate-100 rounded-2xl font-bold text-slate-700 focus:bg-white focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all duration-300",placeholder:"Enter city, country"})]})]})]}),e.jsx("div",{className:"pt-8 border-t border-slate-100",children:e.jsxs("button",{type:"submit",disabled:d,className:"px-8 py-4 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-2xl text-sm font-black shadow-xl shadow-violet-500/30 hover:shadow-2xl hover:shadow-violet-500/40 hover:scale-[1.02] active:scale-[0.98] transition-all flex items-center gap-3 disabled:opacity-50 disabled:cursor-not-allowed",children:[d?e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):e.jsx(xa,{size:20,strokeWidth:2.5}),"Save Profile Changes"]})})]}),i==="security"&&e.jsxs("div",{className:"space-y-8 relative z-10",children:[e.jsxs("div",{className:"p-8 rounded-[32px] bg-red-50 border border-red-100 flex flex-col md:flex-row items-center gap-6 text-center md:text-left",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-2xl flex items-center justify-center text-red-600 shrink-0",children:e.jsx(Fs,{size:32,strokeWidth:2.5})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-red-900 font-bold text-lg mb-1",children:"Password Management"}),e.jsx("p",{className:"text-red-700/80 text-sm font-medium leading-relaxed",children:"It's recommended to update your password every 90 days to ensure maximum security for your account."})]}),e.jsx("button",{className:"px-6 py-3 bg-red-600 text-white rounded-xl text-sm font-bold shadow-lg shadow-red-200 hover:bg-red-700 hover:shadow-red-300 hover:-translate-y-0.5 transition-all",children:"Change Password"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-xs font-black text-slate-400 uppercase tracking-widest px-1",children:"Account Security"}),e.jsx("div",{className:"p-6 rounded-[28px] border-2 border-slate-100 bg-white hover:border-violet-100 transition-colors space-y-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-emerald-50 text-emerald-600 rounded-xl",children:e.jsx(tr,{size:24,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-base font-bold text-slate-800",children:"Two-Factor Authentication"}),e.jsx("p",{className:"text-xs text-slate-400 font-bold mt-0.5",children:"Add an extra layer of security to your account."})]})]}),e.jsxs("div",{className:"relative group cursor-pointer",children:[e.jsx("div",{className:"w-14 h-8 bg-emerald-500 rounded-full transition-colors shadow-inner"}),e.jsx("div",{className:"absolute right-1 top-1 w-6 h-6 bg-white rounded-full shadow-md transform transition-transform group-hover:scale-110"})]})]})})]})]}),i==="notifications"&&e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center relative z-10",children:[e.jsx("div",{className:"w-24 h-24 bg-violet-50 rounded-full flex items-center justify-center text-violet-300 mb-6 animate-bounce-slow",children:e.jsx(vl,{size:48,strokeWidth:2.5})}),e.jsx("h3",{className:"text-2xl font-black text-slate-800 mb-2",children:"Notification Preferences"}),e.jsx("p",{className:"text-slate-500 max-w-sm font-medium leading-relaxed",children:"Customize how you receive alerts, system updates, and important announcements."}),e.jsx("button",{className:"mt-8 px-8 py-3 bg-slate-100 text-slate-600 rounded-2xl text-sm font-bold hover:bg-violet-50 hover:text-violet-600 transition-all",children:"Manage Settings"})]})]})})]})]})})},ny=({trigger:t,children:s,className:r})=>{const[l,i]=j.useState(!1),[o,d]=j.useState({top:0,left:0}),x=j.useRef(null),u=j.useRef(null),h=()=>{if(x.current&&l){const g=x.current.getBoundingClientRect(),y=window.scrollX||window.pageXOffset,f=window.scrollY||window.pageYOffset;d({top:g.bottom+f+8,left:g.right+y})}};j.useEffect(()=>{h()},[l]),j.useEffect(()=>{if(l)return window.addEventListener("scroll",h,!0),window.addEventListener("resize",h),()=>{window.removeEventListener("scroll",h,!0),window.removeEventListener("resize",h)}},[l]),j.useEffect(()=>{const g=y=>{x.current&&!x.current.contains(y.target)&&u.current&&!u.current.contains(y.target)&&i(!1)};return l&&document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[l]);const p=()=>l?tj.createPortal(e.jsx("div",{ref:u,style:{position:"absolute",top:`${o.top}px`,left:`${o.left}px`,transform:"translateX(-100%)",zIndex:9999,animation:"dropdownFadeIn 0.2s ease-out"},className:"bg-white rounded-2xl shadow-xl border border-gray-100 py-2 w-48",onClick:()=>i(!1),children:s}),document.body):null;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`relative ${r}`,ref:x,onClick:g=>{g.stopPropagation(),i(!l)},children:t}),e.jsx(p,{}),e.jsx("style",{children:`
                @keyframes dropdownFadeIn {
                    from { opacity: 0; transform: translateX(-100%) scale(0.95); }
                    to { opacity: 1; transform: translateX(-100%) scale(1); }
                }
            `})]})},UD=({memberId:t,onClose:s})=>{const r=Gt(),l=zr(),[i,o]=j.useState("overview"),[d,x]=j.useState(null),[u,h]=j.useState([]),[p,g]=j.useState(null),[y,f]=j.useState(!0),[w,S]=j.useState(!1),[v,N]=j.useState(""),A=t||l.state?.memberId||1;j.useEffect(()=>{L()},[A]);const L=async()=>{f(!0);try{const T=await e9(A),_=await n9(A),I=await Lw(A);x(T),h(_||[]),g(I)}catch(T){console.error("Failed to load member profile data:",T)}finally{f(!1)}},M=[{id:"overview",label:"Overview"},{id:"attendance",label:"Payments & Records"},{id:"workouts",label:"Workouts"},{id:"measurements",label:"Body Stats"}];return y?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"mt-4 text-gray-500 font-medium",children:"Loading profile..."})]}):d?e.jsxs("div",{className:`flex flex-col gap-6 animate-in fade-in slide-in-from-bottom-4 duration-500 ${s?"p-0":"p-4 md:p-6 lg:p-8 max-w-[1600px] mx-auto pb-12"}`,children:[e.jsxs("div",{className:"flex flex-col gap-6",children:[!s&&e.jsxs("button",{onClick:()=>r("/trainer/members/assigned"),className:"flex items-center gap-2 text-gray-500 hover:text-blue-600 transition-colors w-fit group",children:[e.jsx("div",{className:"p-1.5 bg-white border border-gray-200 rounded-lg group-hover:bg-blue-50 group-hover:border-blue-200 transition-all",children:e.jsx(Wr,{size:18})}),e.jsx("span",{className:"text-sm font-bold",children:"Back to Members"})]}),e.jsxs("div",{className:"bg-white p-4 md:p-8 rounded-3xl border border-gray-100 shadow-sm flex flex-col md:flex-row items-center md:items-start gap-6 md:gap-8 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-blue-50 rounded-bl-[100px] -mr-8 -mt-8 opacity-50"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"w-24 h-24 md:w-32 md:h-32 rounded-3xl bg-gradient-to-br from-blue-600 to-indigo-700 flex items-center justify-center text-white text-4xl font-bold shadow-xl shadow-blue-200 group-hover:scale-105 group-hover:rotate-2 transition-all duration-300",children:(d.name||"?").charAt(0)}),e.jsx("div",{className:"absolute -bottom-2 -right-2 bg-green-500 border-4 border-white w-8 h-8 rounded-full flex items-center justify-center shadow-sm",children:e.jsx(Xn,{size:14,className:"text-white"})})]}),e.jsxs("div",{className:"flex-1 text-center md:text-left",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-2 md:gap-4 mb-2",children:[e.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 tracking-tight",children:d.name}),e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full bg-green-50 text-green-700 text-xs font-bold border border-green-100 mx-auto md:mx-0",children:d.status})]}),e.jsxs("p",{className:"text-gray-500 font-medium mb-4",children:[d.id,"  ",d.plan]}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex flex-wrap justify-center md:justify-start gap-4 text-sm font-semibold",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(Hr,{size:16,className:"text-blue-500"}),d.email]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(qs,{size:16,className:"text-blue-500"}),d.phone]})]}),e.jsxs("button",{onClick:()=>S(!0),className:"px-8 py-3 bg-blue-600 text-white rounded-2xl font-black text-xs uppercase tracking-widest flex items-center justify-center gap-2 hover:bg-blue-700 active:scale-95 shadow-xl shadow-blue-200 transition-all",children:[e.jsx(sr,{size:16}),"Start Chat"]})]})]})]})]}),e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[{label:"Attendance",value:`${d.attendance}%`,icon:Wt,color:"blue"},{label:"Sessions",value:`${d.sessionsDone}/${d.totalSessions}`,icon:jn,color:"purple"},{label:"Next Renewal",value:"15 Oct",icon:Ye,color:"orange"},{label:"Avg Effort",value:"High",icon:Ks,color:"green"}].map((T,_)=>e.jsxs("div",{className:"bg-white p-5 rounded-3xl border border-gray-100 shadow-sm hover:shadow-xl hover:-translate-y-2 transition-all duration-300 cursor-pointer group",children:[e.jsx("div",{className:`w-10 h-10 rounded-2xl bg-${T.color}-50 flex items-center justify-center text-${T.color}-600 mb-3 group-hover:rotate-12 group-hover:scale-110 transition-all duration-300`,children:e.jsx(T.icon,{size:20})}),e.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest group-hover:text-gray-600 transition-colors",children:T.label}),e.jsx("p",{className:"text-xl font-black text-gray-900 mt-1 group-hover:scale-110 transition-transform",children:T.value})]},_))}),e.jsxs("div",{className:"bg-white rounded-[32px] border border-gray-100 shadow-sm overflow-hidden min-h-[400px]",children:[e.jsx("div",{className:"flex border-b border-gray-100 overflow-x-auto no-scrollbar scroll-smooth",children:M.map(T=>e.jsxs("button",{onClick:()=>o(T.id),className:`px-8 py-5 text-sm font-bold whitespace-nowrap transition-all duration-300 relative hover:scale-105 ${i===T.id?"text-blue-600":"text-gray-400 hover:text-gray-600"}`,children:[T.label,i===T.id&&e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-blue-600 rounded-t-full animate-in slide-in-from-left duration-300"})]},T.id))}),e.jsxs("div",{className:"p-4 md:p-8",children:[i==="overview"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 animate-in fade-in duration-300",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest mb-4",children:"Training Goal"}),e.jsxs("div",{className:"bg-blue-50/50 p-6 rounded-3xl border border-blue-100/50",children:[e.jsx("p",{className:"text-lg font-bold text-blue-900",children:d.goal}),e.jsx("p",{className:"text-blue-700/70 text-sm mt-1 leading-relaxed",children:"Focusing on compound movements with progressive overload. Current cycle aims for muscle density and neural adaptation."})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest mb-4",children:"Recent Sessions"}),e.jsx("div",{className:"space-y-3",children:d.recentWorkouts?.map(T=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-2xl border border-gray-100 group hover:border-blue-200 hover:bg-blue-50/30 hover:shadow-md hover:-translate-y-0.5 transition-all duration-200 cursor-pointer",children:[e.jsxs("div",{className:"flex items-center gap-4 overflow-hidden",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-white border border-gray-100 flex items-center justify-center text-gray-600 group-hover:scale-110 group-hover:rotate-6 transition-all duration-300 flex-shrink-0",children:e.jsx(qr,{size:18})}),e.jsxs("div",{className:"overflow-hidden",children:[e.jsx("p",{className:"font-bold text-gray-800 truncate",children:T.name}),e.jsxs("p",{className:"text-xs text-gray-500 font-medium truncate",children:[T.date,"  ",T.duration]})]})]}),e.jsx(as,{size:18,className:"text-green-500 flex-shrink-0 ml-2"})]},T.id))})]})]}),e.jsx("div",{className:"space-y-8",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest mb-4",children:"Membership Info"}),e.jsxs("div",{className:"bg-white rounded-3xl border border-gray-100 p-6 space-y-4 hover:shadow-lg hover:-translate-y-1 transition-all duration-300",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-bold text-gray-500 inline-flex items-center gap-2",children:[e.jsx(Ye,{size:14})," Plan Expiry"]}),e.jsx("span",{className:"text-sm font-bold text-gray-900",children:d.expiry})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-bold text-gray-500 inline-flex items-center gap-2",children:[e.jsx($s,{size:14})," Primary Hub"]}),e.jsx("span",{className:"text-sm font-bold text-gray-900",children:d.location})]}),e.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-50",children:[e.jsx("span",{className:"text-sm font-bold text-gray-500",children:"Auto-Renew"}),e.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 rounded-lg text-[10px] font-black uppercase",children:"Enabled"})]})]})]})})]}),i==="attendance"&&e.jsx("div",{className:"space-y-8 animate-in fade-in duration-300",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest mb-4",children:"Payment History (Read-only)"}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 overflow-hidden shadow-sm",children:[e.jsxs("table",{className:"w-full text-left hidden md:table",children:[e.jsx("thead",{className:"bg-gray-50/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 uppercase",children:"Date"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 uppercase",children:"Amount"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 uppercase",children:"Method"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 uppercase",children:"Status"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-50",children:u.map(T=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-700",children:T.date}),e.jsxs("td",{className:"px-6 py-4 text-sm font-bold text-gray-900",children:["",T.amount]}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:T.method}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"px-2 py-0.5 bg-green-50 text-green-600 rounded-lg text-[10px] font-black uppercase border border-green-100",children:T.status})})]},T.id))})]}),e.jsx("div",{className:"md:hidden divide-y divide-gray-50",children:u.map(T=>e.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-50 flex items-center justify-center text-blue-600",children:e.jsx(Os,{size:18})}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-bold text-gray-900",children:["",T.amount]}),e.jsx("p",{className:"text-xs text-gray-500 font-medium",children:T.date})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"px-2 py-0.5 bg-green-50 text-green-600 rounded-lg text-[10px] font-black uppercase border border-green-100 block w-fit ml-auto mb-1",children:T.status}),e.jsx("p",{className:"text-xs text-gray-400 font-medium",children:T.method})]})]},T.id))})]})]})}),i==="workouts"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 animate-in fade-in duration-300",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest",children:"Workout History"}),e.jsx("button",{className:"text-sm font-bold text-blue-600 hover:text-blue-700",children:"View All"})]}),e.jsx("div",{className:"space-y-4",children:[{name:"Upper Body Power",date:"Today, 09:30 AM",duration:"1h 15m",calories:450,load:"12,450 kg"},{name:"Leg Day Hypertrophy",date:"Yesterday, 06:00 PM",duration:"1h 30m",calories:520,load:"15,200 kg"},{name:"Active Recovery",date:"2 Days Ago",duration:"45m",calories:210,load:"-"},{name:"Push Pull Strength",date:"3 Days Ago",duration:"1h 10m",calories:480,load:"11,800 kg"}].map((T,_)=>e.jsxs("div",{className:"flex items-center justify-between p-5 bg-gray-50 rounded-2xl border border-gray-100 group hover:bg-white hover:border-blue-100 hover:shadow-lg transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-white border border-gray-200 flex items-center justify-center text-blue-600 group-hover:scale-110 group-hover:bg-blue-600 group-hover:text-white transition-all duration-300 shadow-sm",children:e.jsx(qr,{size:20})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900 text-lg",children:T.name}),e.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs font-semibold text-gray-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ye,{size:12})," ",T.date]}),e.jsx("span",{className:"w-1 h-1 rounded-full bg-gray-300"}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Je,{size:12})," ",T.duration]})]})]})]}),e.jsxs("div",{className:"text-right hidden sm:block",children:[e.jsx("p",{className:"text-xl font-black text-gray-900",children:T.calories}),e.jsx("p",{className:"text-[10px] uppercase font-bold text-gray-400 tracking-wider",children:"Calories"})]})]},_))})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest mb-4",children:"Weekly Stats"}),e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 rounded-3xl p-6 text-white shadow-xl",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-3 rounded-xl bg-white/10 backdrop-blur-sm",children:e.jsx(Wt,{size:24,className:"text-blue-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400 font-medium",children:"Total Volume"}),e.jsx("p",{className:"text-2xl font-bold",children:"45,250 kg"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center text-sm border-b border-white/10 pb-3",children:[e.jsx("span",{className:"text-gray-400",children:"Workouts"}),e.jsx("span",{className:"font-bold text-xl",children:"5"})]}),e.jsxs("div",{className:"flex justify-between items-center text-sm border-b border-white/10 pb-3",children:[e.jsx("span",{className:"text-gray-400",children:"Duration"}),e.jsx("span",{className:"font-bold text-xl",children:"6h 15m"})]}),e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Intensity"}),e.jsx("span",{className:"px-2 py-0.5 rounded-lg bg-green-500/20 text-green-400 font-bold uppercase text-xs",children:"High"})]})]})]})]})})]}),i==="measurements"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 animate-in fade-in duration-300",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest",children:"Core Metrics"}),e.jsxs("button",{onClick:()=>r(`/progress?memberId=${d.id}`),className:"px-4 py-2 bg-violet-600 text-white rounded-xl text-[10px] font-black uppercase tracking-widest flex items-center gap-2 hover:bg-violet-700 transition-all shadow-lg shadow-violet-200",children:[e.jsx(Plus,{size:14})," Manage Progress"]})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:(()=>{const T=p?.logs||[],_=p?.targets||{},I=T.length>0,B=I?T[T.length-1]:{},P=I&&T.length>1?T[T.length-2]:null,R=(H,$)=>{if($==null)return"0.0";const G=(parseFloat(H)||0)-(parseFloat($)||0);return(G>=0?"+":"")+G.toFixed(1)};return[{label:"Weight",value:parseFloat(B.weight||0).toFixed(1),unit:"kg",change:R(B.weight,P?.weight),isPositive:(parseFloat(B.weight)||0)<=(parseFloat(P?.weight)||0)},{label:"Body Fat",value:parseFloat(B.bodyFat||0).toFixed(1),unit:"%",change:R(B.bodyFat,P?.bodyFat),isPositive:(parseFloat(B.bodyFat)||0)<=(parseFloat(P?.bodyFat)||0)},{label:"Target Wt",value:parseFloat(_.weight||0).toFixed(1),unit:"kg",change:"Goal",isPositive:!0},{label:"Target BF",value:parseFloat(_.bodyFat||0).toFixed(1),unit:"%",change:"Goal",isPositive:!0}].map((H,$)=>e.jsxs("div",{className:"bg-gray-50 p-4 rounded-2xl border border-gray-100 hover:bg-blue-50/50 hover:border-blue-100 transition-all cursor-default",children:[e.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-1",children:H.label}),e.jsxs("div",{className:"flex items-baseline gap-1",children:[e.jsx("span",{className:"text-2xl font-black text-gray-900",children:H.value}),e.jsx("span",{className:"text-xs font-bold text-gray-500",children:H.unit})]}),e.jsx("div",{className:`text-xs font-bold mt-2 ${H.isPositive?"text-green-600":"text-red-600"}`,children:H.change})]},$))})()}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest mb-6 py-2",children:"Body Measurements"}),e.jsx("div",{className:"space-y-5",children:(()=>{const T=p?.logs||[],_=T.length>0,I=_?T[T.length-1]?.measurements||{}:{},B=_&&T.length>1?T[T.length-2]?.measurements||{}:{};return[{label:"Chest",key:"chest",goal:105},{label:"Waist",key:"waist",goal:80},{label:"Arms",key:"arms",goal:40},{label:"Legs",key:"legs",goal:65}].map((R,W)=>{const H=parseFloat(I[R.key]||0),$=parseFloat(B[R.key]||0),G=Math.min(H/(R.goal||1)*100,100);return e.jsxs("div",{className:"bg-white rounded-xl",children:[e.jsxs("div",{className:"flex justify-between items-end mb-2",children:[e.jsx("span",{className:"font-bold text-gray-700",children:R.label}),e.jsxs("div",{className:"flex gap-4 text-xs font-medium text-gray-500",children:[e.jsxs("span",{children:["Prev: ",$,"cm"]}),e.jsxs("span",{className:"text-blue-600 font-bold",children:["Goal: ",R.goal,"cm"]})]})]}),e.jsx("div",{className:"h-3 bg-gray-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-indigo-600 rounded-full transition-all duration-1000",style:{width:`${G}%`}})}),e.jsxs("div",{className:"mt-1 text-right text-xs font-bold text-gray-900",children:[H," cm"]})]},W)})})()})]})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-blue-600 rounded-[32px] p-6 text-white shadow-xl shadow-blue-200",children:[e.jsx("h3",{className:"font-bold text-xl mb-2",children:"BMI Calculator"}),e.jsx("p",{className:"text-blue-100 text-sm mb-6",children:"Based on latest measurements"}),e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-bold text-blue-200",children:"Current Score"}),e.jsx("span",{className:"text-3xl font-black",children:"22.4"})]}),e.jsxs("div",{className:"w-full h-4 bg-black/20 rounded-full overflow-hidden mb-2 relative",children:[e.jsx("div",{className:"absolute left-[40%] top-0 bottom-0 w-1 bg-white/50"}),e.jsx("div",{className:"h-full w-[45%] bg-white/90 rounded-full"})]}),e.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-blue-200 uppercase tracking-widest",children:[e.jsx("span",{children:"Underweight"}),e.jsx("span",{children:"Normal"}),e.jsx("span",{children:"Overweight"})]}),e.jsx("div",{className:"mt-6 pt-6 border-t border-white/20",children:e.jsxs("p",{className:"text-sm font-medium leading-relaxed",children:["Great job! Your BMI suggests you are in a ",e.jsx("span",{className:"font-black text-white",children:"Healthy Weight"})," range. Keep up the consistency."]})})]})})]})]})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 py-4 px-6 bg-gray-100/50 rounded-2xl border border-gray-200 w-fit mx-auto",children:[e.jsx(Xn,{size:16,className:"text-gray-400"}),e.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Trainee Profile  Read Only Mode"})]}),w&&d&&e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-gray-900/40 backdrop-blur-sm animate-in fade-in duration-300",onClick:()=>S(!1)}),e.jsxs("div",{className:"relative w-full max-w-md bg-white rounded-[32px] shadow-2xl overflow-hidden animate-in zoom-in-95 slide-in-from-bottom-8 duration-300",children:[e.jsxs("div",{className:"p-6 border-b border-gray-100 flex items-center justify-between bg-gray-50/50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-600 flex items-center justify-center text-white font-bold",children:d.name.charAt(0)}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-sm font-bold text-gray-900",children:d.name}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse"}),e.jsx("span",{className:"text-[10px] font-bold text-gray-400 tracking-widest uppercase",children:"Member Online"})]})]})]}),e.jsx("button",{onClick:()=>S(!1),className:"p-2 hover:bg-gray-200 rounded-xl text-gray-400 transition-colors",children:e.jsx(wl,{size:20})})]}),e.jsxs("div",{className:"p-6 h-[350px] overflow-y-auto bg-gray-50/30 flex flex-col gap-4",children:[e.jsxs("div",{className:"bg-white p-4 rounded-2xl rounded-tl-none border border-gray-100 shadow-sm max-w-[85%] self-start",children:[e.jsx("p",{className:"text-sm text-gray-700",children:"Hello! I noticed you missed your session yesterday. Is everything okay with your training?"}),e.jsx("span",{className:"text-[10px] font-bold text-gray-400 mt-2 block",children:"10:30 AM"})]}),e.jsxs("div",{className:"bg-blue-600 p-4 rounded-2xl rounded-tr-none text-white shadow-lg shadow-blue-200 max-w-[85%] self-end",children:[e.jsx("p",{className:"text-sm font-medium",children:"Just checking in to keep you on track!"}),e.jsx("span",{className:"text-[10px] font-bold text-blue-100 mt-2 block",children:"10:31 AM"})]}),e.jsx("div",{className:"mt-auto flex justify-center",children:e.jsx("div",{className:"px-3 py-1 bg-gray-200/50 rounded-full text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Today"})})]}),e.jsxs("div",{className:"p-4 bg-white border-t border-gray-100 flex gap-2",children:[e.jsx("input",{type:"text",placeholder:"Type a message...",className:"flex-1 px-4 py-2.5 bg-gray-50 border-none rounded-xl text-sm focus:ring-2 focus:ring-blue-500 outline-none transition-all",value:v,onChange:T=>N(T.target.value),onKeyPress:T=>T.key==="Enter"&&N("")}),e.jsx("button",{onClick:()=>N(""),className:"w-10 h-10 bg-blue-600 text-white rounded-xl flex items-center justify-center hover:bg-blue-700 active:scale-90 transition-all shadow-lg shadow-blue-200",children:e.jsx(Ld,{size:18})})]})]})]})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px] text-center p-6",children:[e.jsx("div",{className:"w-16 h-16 bg-red-50 text-red-500 rounded-full flex items-center justify-center mb-4",children:e.jsx(ps,{size:32})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Member Not Found"}),e.jsx("p",{className:"text-gray-500 mt-2 max-w-xs",children:"The profile you are looking for might have been removed or the ID is incorrect."}),e.jsx("div",{className:"flex gap-4 mt-6",children:s?e.jsx("button",{onClick:s,className:"px-6 py-2.5 bg-gray-900 text-white rounded-xl font-bold hover:bg-gray-800 transition-all",children:"Close"}):e.jsx("button",{onClick:()=>r("/trainer/members/assigned"),className:"px-6 py-2.5 bg-gray-900 text-white rounded-xl font-bold hover:bg-gray-800 transition-all",children:"Back to List"})})]})},$D=({isOpen:t,onClose:s,memberName:r,memberId:l})=>{const[i,o]=j.useState(""),[d,x]=j.useState(null),[u,h]=j.useState(""),[p,g]=j.useState(""),[y,f]=j.useState(""),S=[{id:"DP-101",name:"Lean Bulk High Protein",type:"Diet",duration:"4 Weeks",trainer_id:"T-101"},{id:"DP-102",name:"Keto Shred Protocol",type:"Diet",duration:"8 Weeks",trainer_id:"T-101"},{id:"WP-201",name:"Hypertrophy Mastery 2.0",type:"Workout",duration:"12 Weeks",trainer_id:"T-101"},{id:"WP-202",name:"Strength 5x5 Foundation",type:"Workout",duration:"6 Weeks",trainer_id:"T-101"}].filter(N=>N.name.toLowerCase().includes(i.toLowerCase())||N.type.toLowerCase().includes(i.toLowerCase())),v=()=>{console.log("Final Assignment Data:",{memberId:l,planId:d,startDate:u,endDate:p,notes:y}),alert(`Plan assigned to ${r} successfully!`),s()};return e.jsx(at,{isOpen:t,onClose:s,title:`Assign Plan to ${r}`,subtitle:"Configure plan duration and specific notes",maxWidth:"max-w-xl",children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex-1 overflow-y-auto pr-2 custom-scrollbar space-y-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 pl-1 flex items-center gap-2",children:[e.jsx(gl,{size:14})," Select Protocol"]}),e.jsx("span",{className:"text-[10px] font-black text-indigo-500 bg-indigo-50 px-2 py-0.5 rounded-md uppercase tracking-widest",children:"Trainer Plans only"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Qe,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-300",size:16}),e.jsx("input",{type:"text",placeholder:"Search your diet or workout plans...",className:"w-full pl-10 pr-4 py-3 bg-slate-50 border-none rounded-2xl text-sm font-bold focus:ring-2 focus:ring-indigo-500 outline-none transition-all",value:i,onChange:N=>o(N.target.value)})]}),e.jsx("div",{className:"grid grid-cols-1 gap-3 max-h-[300px] overflow-y-auto pr-1",children:S.map(N=>{const A=d===N.id;return e.jsxs("button",{onClick:()=>x(N.id),className:`p-4 rounded-2xl border transition-all text-left flex items-center justify-between group ${A?"bg-indigo-600 border-indigo-600 shadow-lg shadow-indigo-100":"bg-white border-slate-100 hover:border-indigo-200 hover:bg-slate-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center font-black text-[10px] uppercase ${A?"bg-white/20 text-white":"bg-slate-100 text-slate-500"}`,children:N.type.charAt(0)}),e.jsxs("div",{children:[e.jsx("p",{className:`font-black text-sm uppercase tracking-tight ${A?"text-white":"text-slate-800"}`,children:N.name}),e.jsx("div",{className:"flex items-center gap-2 mt-0.5",children:e.jsxs("span",{className:`text-[10px] font-bold uppercase tracking-widest opacity-60 ${A?"text-white":"text-slate-400"}`,children:[N.type,"  ",N.duration]})})]})]}),A&&e.jsx($r,{size:18,className:"text-white",strokeWidth:3})]},N.id)})})]}),e.jsxs("div",{className:"bg-slate-50 p-6 rounded-[32px] border border-slate-100 space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-white text-indigo-600 rounded-xl flex items-center justify-center shadow-sm",children:e.jsx(Ye,{size:16})}),e.jsx("h3",{className:"text-sm font-black text-slate-900 uppercase tracking-widest",children:"Protocol Timeline"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 pl-1",children:"Start Date"}),e.jsx("input",{type:"date",className:"w-full h-12 bg-white border border-slate-200 rounded-xl px-4 text-sm font-bold focus:border-indigo-500 outline-none transition-all",value:u,onChange:N=>h(N.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 pl-1",children:"End Date"}),e.jsx("input",{type:"date",className:"w-full h-12 bg-white border border-slate-200 rounded-xl px-4 text-sm font-bold focus:border-indigo-500 outline-none transition-all",value:p,onChange:N=>g(N.target.value)})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 pl-1",children:"Coach's Directive (Optional)"}),e.jsxs("div",{className:"relative",children:[e.jsx(Yn,{className:"absolute left-3 top-3 text-slate-300",size:16}),e.jsx("textarea",{placeholder:"Add specific instructions, focus points or motivational notes for the athlete...",className:"w-full h-24 pl-10 pr-4 py-3 bg-white border border-slate-200 rounded-2xl text-sm font-medium focus:border-indigo-500 outline-none resize-none transition-all",value:y,onChange:N=>f(N.target.value)})]})]})]})]}),e.jsxs("div",{className:"border-t border-slate-100 pt-6 mt-8 flex items-center justify-between bg-white relative",children:[e.jsx("button",{onClick:s,className:"px-6 py-3.5 text-xs font-black text-slate-400 hover:text-slate-600 transition-colors uppercase tracking-widest",children:"Decline"}),e.jsxs("button",{onClick:v,disabled:!d||!u||!p,className:"px-8 py-3.5 bg-indigo-600 text-white rounded-2xl text-xs font-black uppercase tracking-widest hover:bg-indigo-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-xl shadow-indigo-100 flex items-center gap-2",children:["Confirm Assignment ",e.jsx(bl,{size:16})]})]})]})})},qD=()=>{const t=Gt(),[s,r]=j.useState([]),[l,i]=j.useState(!0),[o,d]=j.useState(""),[x,u]=j.useState("All"),[h,p]=j.useState(1),[g,y]=j.useState(6),[f,w]=j.useState(0),[S,v]=j.useState(!1),[N,A]=j.useState(null),[L,M]=j.useState(""),[T,_]=j.useState(!1),[I,B]=j.useState(!1),[P,R]=j.useState(!1),[W,H]=j.useState(!1),[$,G]=j.useState("");j.useEffect(()=>{le()},[o,x,h,g]);const le=async()=>{i(!0);const de=await gg({filters:{search:o,status:x==="All"?"":x},page:h,limit:g});r(de?.data||[]),w(de?.total||0),i(!1)},Q=F=>{d(F.target.value),p(1)},ne=F=>{if(!F)return"bg-gray-50 text-gray-600 border-gray-100";switch(F.toLowerCase()){case"active":return"bg-green-50 text-green-600 border-green-100";case"inactive":return"bg-red-50 text-red-600 border-red-100";default:return"bg-gray-50 text-gray-600 border-gray-100"}};return e.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 max-w-[1600px] mx-auto flex flex-col gap-6 animate-in fade-in duration-500",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"Assigned Members"}),e.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["Manage and track progress of your ",s.length," active trainees"]})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{className:"bg-blue-50 px-4 py-2 rounded-xl flex items-center gap-2 border border-blue-100",children:[e.jsx(ug,{size:18,className:"text-blue-500"}),e.jsx("span",{className:"text-sm font-bold text-blue-700",children:"Top Performer: Emma"})]})})]}),e.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-gray-200 shadow-sm flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Qe,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:"text",placeholder:"Search by name, ID or plan...",className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border-none rounded-xl focus:ring-2 focus:ring-blue-500 transition-all outline-none",value:o,onChange:Q})]}),e.jsx("div",{className:"flex gap-2 w-full sm:w-auto",children:e.jsx(ms,{options:[{value:"All",label:"All Status"},{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}],value:x,onChange:F=>{u(F),p(1)},className:"w-full sm:w-48"})})]}),l?e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"text-gray-500 font-medium",children:"Loading your members..."})]})}):s.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"hidden lg:block bg-white rounded-[32px] border border-slate-100 shadow-xl overflow-hidden",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{className:"bg-slate-50/50 border-b border-slate-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Athlete"}),e.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Current Plan"}),e.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Attendance"}),e.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Status"}),e.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:s.map(F=>e.jsxs("tr",{className:"group hover:bg-slate-50/50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-indigo-600 text-white flex items-center justify-center font-black text-sm uppercase",children:(F.name||"?").charAt(0)}),e.jsxs("div",{children:[e.jsx("p",{className:"font-black text-slate-800 text-sm uppercase tracking-tight",children:F.name}),e.jsxs("p",{className:"text-[10px] text-slate-400 font-bold",children:["Ref: ",F.id]})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-1.5 bg-indigo-50 text-indigo-600 rounded-lg",children:e.jsx(gl,{size:14})}),e.jsx("span",{className:"text-sm font-black text-slate-700 uppercase tracking-tight truncate max-w-[150px]",children:F.plan||"No Active Plan"})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-black text-slate-800",children:F.attendance}),e.jsx("span",{className:"text-[10px] text-emerald-500 font-black bg-emerald-50 px-1.5 py-0.5 rounded-md",children:" 2%"})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest border ${ne(F.status)}`,children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${F.status?.toLowerCase()==="active"?"bg-emerald-500 animate-pulse":"bg-rose-500"}`}),F.status]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>{A(F),H(!0)},className:"px-4 py-2 bg-indigo-600 text-white rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-indigo-700 transition-all shadow-md shadow-indigo-100",children:"Assign Plan"}),e.jsxs(ny,{trigger:e.jsx("button",{className:"w-8 h-8 flex items-center justify-center rounded-lg text-slate-400 hover:bg-white hover:text-indigo-600 transition-all border border-transparent hover:border-slate-100",children:e.jsx(_c,{size:18})}),children:[e.jsxs("button",{onClick:()=>{A(F),R(!0)},className:"w-full px-4 py-2.5 text-left text-[10px] font-black text-slate-600 hover:bg-slate-50 flex items-center gap-2 uppercase tracking-widest",children:[e.jsx(da,{size:14})," Profile"]}),e.jsxs("button",{onClick:()=>t(`/progress?memberId=${F.id}`),className:"w-full px-4 py-2.5 text-left text-[10px] font-black text-slate-600 hover:bg-slate-50 flex items-center gap-2 uppercase tracking-widest",children:[e.jsx(Ks,{size:14})," Progress"]}),e.jsxs("button",{onClick:()=>{A(F),v(!0)},className:"w-full px-4 py-2.5 text-left text-[10px] font-black text-slate-600 hover:bg-slate-50 flex items-center gap-2 uppercase tracking-widest",children:[e.jsx(sr,{size:14})," Chat"]}),e.jsxs("button",{onClick:()=>{A(F),_(!0)},className:"w-full px-4 py-2.5 text-left text-[10px] font-black text-slate-600 hover:bg-slate-50 flex items-center gap-2 uppercase tracking-widest",children:[e.jsx(Ye,{size:14})," Attendance"]}),e.jsx("div",{className:"h-px bg-slate-100 my-1 mx-2"}),e.jsxs("button",{onClick:()=>{A(F),B(!0)},className:"w-full px-4 py-2.5 text-left text-[10px] font-black text-rose-600 hover:bg-rose-50 flex items-center gap-2 uppercase tracking-widest",children:[e.jsx(Ux,{size:14})," Flag"]})]})]})})]},F.id))})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:hidden gap-6",children:s.map(F=>e.jsxs("div",{className:"group bg-white rounded-3xl border border-gray-100 shadow-sm hover:shadow-xl hover:border-blue-100 transition-all duration-300 flex flex-col relative",children:[e.jsxs("div",{className:"p-6 flex-1 hover:bg-slate-50/50 transition-colors duration-300",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative group/avatar",children:[e.jsxs("div",{className:"w-16 h-16 rounded-[24px] bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white font-black text-2xl shadow-xl shadow-indigo-100 group-hover/avatar:scale-110 group-hover/avatar:rotate-3 transition-all duration-500 overflow-hidden",children:[(F.name||"?").charAt(0),e.jsx("div",{className:"absolute inset-0 bg-white/20 opacity-0 group-hover/avatar:opacity-100 transition-opacity"})]}),F.isFlagged&&e.jsx("div",{className:"absolute -top-2 -right-2 p-1.5 bg-rose-500 border-2 border-white rounded-xl text-white shadow-lg animate-bounce",title:`Flagged: ${F.flagReason}`,children:e.jsx(Ux,{size:14})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-black text-slate-800 text-lg group-hover:text-indigo-600 transition-colors uppercase tracking-tight truncate max-w-[140px]",children:F.name}),e.jsxs("div",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest border mt-2 ${ne(F.status)}`,children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${F.status?.toLowerCase()==="active"?"bg-emerald-500 animate-pulse":"bg-rose-500"}`}),F.status]})]})]}),e.jsxs(ny,{trigger:e.jsx("button",{className:"w-10 h-10 flex items-center justify-center rounded-xl text-slate-400 hover:bg-white hover:text-indigo-600 hover:shadow-md transition-all border border-transparent hover:border-slate-100",children:e.jsx(_c,{size:20})}),children:[e.jsxs("button",{onClick:de=>{de.stopPropagation(),t(`/progress?memberId=${F.id}`)},className:"w-full px-4 py-3 text-left text-xs font-black text-slate-600 hover:bg-slate-50 flex items-center gap-3 transition-colors uppercase tracking-widest",children:[e.jsx(Ks,{size:16,className:"text-violet-500"})," Member Progress"]}),e.jsxs("button",{onClick:de=>{de.stopPropagation(),A(F),_(!0)},className:"w-full px-4 py-3 text-left text-xs font-black text-slate-600 hover:bg-slate-50 flex items-center gap-3 transition-colors uppercase tracking-widest",children:[e.jsx(Ye,{size:16,className:"text-indigo-500"})," Attendance Log"]}),e.jsxs("button",{onClick:de=>{de.stopPropagation(),A(F),H(!0)},className:"w-full px-4 py-3 text-left text-xs font-black text-slate-600 hover:bg-slate-50 flex items-center gap-3 transition-colors uppercase tracking-widest",children:[e.jsx(rl,{size:16,className:"text-indigo-600"})," Assign Plan"]}),e.jsx("div",{className:"h-px bg-slate-100 my-1 mx-2"}),e.jsxs("button",{onClick:de=>{de.stopPropagation(),A(F),B(!0)},className:"w-full px-4 py-3 text-left text-xs font-black text-rose-600 hover:bg-rose-50 flex items-center gap-3 transition-colors uppercase tracking-widest",children:[e.jsx(Ux,{size:16,className:"text-rose-500"})," Flag Status"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-slate-50/80 p-4 rounded-2xl border border-slate-100/50 group-hover:bg-white transition-colors duration-500",children:[e.jsx("p",{className:"text-[10px] text-slate-400 font-black uppercase tracking-widest mb-2",children:"Attendance"}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("p",{className:"text-2xl font-black text-slate-800",children:F.attendance}),e.jsx("p",{className:"text-[10px] text-emerald-500 font-black bg-emerald-50 px-1.5 py-0.5 rounded-md",children:" 2%"})]})]}),e.jsxs("div",{className:"bg-slate-50/80 p-4 rounded-2xl border border-slate-100/50 group-hover:bg-white transition-colors duration-500",children:[e.jsx("p",{className:"text-[10px] text-slate-400 font-black uppercase tracking-widest mb-2",children:"Active Plan"}),e.jsx("p",{className:"text-sm font-black text-slate-700 truncate",children:F.plan})]})]}),e.jsxs("div",{className:"flex items-center gap-3 mt-6 text-[10px] text-slate-400 font-black uppercase tracking-widest",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Ye,{size:14,className:"text-slate-300"})," ",F.joined]}),e.jsx("span",{className:"w-1 h-1 bg-slate-200 rounded-full"}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Je,{size:14,className:"text-slate-300"})," ",F.lastSession]})]})]}),e.jsxs("div",{className:"p-4 bg-slate-50/50 border-t border-slate-100 flex flex-col gap-3 rounded-b-3xl",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:()=>{A(F),v(!0)},className:"flex-1 flex items-center justify-center gap-2 py-3.5 bg-white border-2 border-slate-100 rounded-2xl text-[10px] font-black uppercase tracking-widest text-slate-600 hover:bg-white hover:border-indigo-100 hover:text-indigo-600 hover:shadow-xl hover:shadow-indigo-50 transition-all active:scale-95",children:[e.jsx(sr,{size:16}),"Chat"]}),e.jsxs("button",{onClick:()=>{A(F),R(!0)},className:"flex-1 flex items-center justify-center gap-2 py-3.5 bg-white border border-slate-200 text-slate-700 rounded-2xl text-[10px] font-black uppercase tracking-widest hover:border-indigo-200 transition-all active:scale-95",children:[e.jsx(da,{size:16}),"Profile"]})]}),e.jsxs("button",{onClick:()=>{A(F),H(!0)},className:"w-full flex items-center justify-center gap-2 py-3.5 bg-indigo-600 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest hover:bg-indigo-700 transition-all active:scale-95 shadow-xl shadow-indigo-200",children:[e.jsx(rl,{size:16}),"Assign Plan"]})]})]},F.id))})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 bg-white rounded-[40px] border border-gray-100 shadow-sm border-dashed",children:[e.jsx(rt,{size:48,className:"text-gray-200 mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"No members found"}),e.jsx("p",{className:"text-gray-500 mt-2",children:"Try adjusting your filters or search term."})]}),!l&&f>0&&e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 bg-white p-4 rounded-[32px] border border-gray-100 shadow-sm",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("span",{className:"text-sm text-gray-500",children:["Showing ",e.jsx("span",{className:"font-bold text-gray-900",children:(h-1)*g+1})," to ",e.jsx("span",{className:"font-bold text-gray-900",children:Math.min(h*g,f)})," of ",e.jsx("span",{className:"font-bold text-gray-900",children:f})," members"]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>p(F=>Math.max(F-1,1)),disabled:h===1,className:"p-2 border border-gray-200 rounded-xl hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:e.jsx(Wr,{size:20})}),e.jsx("div",{className:"flex gap-1",children:Array.from({length:Math.ceil(f/g)},(F,de)=>de+1).map(F=>e.jsx("button",{onClick:()=>p(F),className:`w-10 h-10 rounded-xl text-sm font-bold transition-all ${h===F?"bg-blue-600 text-white shadow-lg shadow-blue-200":"text-gray-500 hover:bg-gray-50"}`,children:F},F))}),e.jsx("button",{onClick:()=>p(F=>Math.min(F+1,Math.ceil(f/g))),disabled:h===Math.ceil(f/g),className:"p-2 border border-gray-200 rounded-xl hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:e.jsx(vs,{size:20})})]})]}),e.jsx(at,{isOpen:S,onClose:()=>v(!1),title:N?.name,subtitle:"Member Online",maxWidth:"max-w-md",footer:e.jsxs("div",{className:"flex gap-2 w-full",children:[e.jsx("input",{type:"text",placeholder:"Type a message...",className:"flex-1 px-4 py-2.5 bg-gray-50 border-none rounded-xl text-sm focus:ring-2 focus:ring-blue-500 outline-none transition-all",value:L,onChange:F=>M(F.target.value),onKeyPress:F=>F.key==="Enter"&&M("")}),e.jsx("button",{onClick:()=>M(""),className:"w-10 h-10 bg-blue-600 text-white rounded-xl flex items-center justify-center hover:bg-blue-700 active:scale-90 transition-all shadow-lg shadow-blue-200",children:e.jsx(Ld,{size:18})})]}),children:N&&e.jsx("div",{className:"flex flex-col h-full",children:e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4 custom-scrollbar bg-gray-50/30",children:[e.jsxs("div",{className:"bg-white p-4 rounded-2xl rounded-tl-none border border-gray-100 shadow-sm max-w-[85%] self-start",children:[e.jsx("p",{className:"text-sm text-gray-700",children:"Hello! I noticed you missed your session yesterday. Is everything okay with your training?"}),e.jsx("span",{className:"text-[10px] font-bold text-gray-400 mt-2 block",children:"10:30 AM"})]}),e.jsxs("div",{className:"bg-blue-600 p-4 rounded-2xl rounded-tr-none text-white shadow-lg shadow-blue-200 max-w-[85%] self-endml-auto",children:[e.jsx("p",{className:"text-sm font-medium",children:"Just checking in to keep you on track!"}),e.jsx("span",{className:"text-[10px] font-bold text-blue-100 mt-2 block",children:"10:31 AM"})]}),e.jsx("div",{className:"mt-auto flex justify-center pt-4",children:e.jsx("div",{className:"px-3 py-1 bg-gray-200/50 rounded-full text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Today"})})]})})}),e.jsx(at,{isOpen:T,onClose:()=>_(!1),title:"Attendance Log",subtitle:N?.name,maxWidth:"max-w-lg",footer:e.jsx("button",{onClick:()=>_(!1),className:"w-full py-3 bg-gray-900 text-white rounded-xl font-bold shadow-lg shadow-gray-200 active:scale-95 transition-all",children:"Close Log"}),children:N&&e.jsx("div",{className:"flex flex-col h-full",children:e.jsx("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar",children:e.jsx("div",{className:"space-y-3",children:(N?.recentWorkouts||[]).length>0?N.recentWorkouts.map((F,de)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-2xl border border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`p-2 rounded-lg ${F.status==="Present"?"bg-green-100 text-green-600":"bg-orange-100 text-orange-600"}`,children:e.jsx(Ye,{size:18})}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-bold text-gray-900",children:[F.date,"  ",F.time]}),e.jsxs("p",{className:"text-xs text-gray-500 font-medium",children:[F.type," Session"]})]})]}),e.jsx("span",{className:`px-2 py-0.5 rounded-lg text-[10px] font-black uppercase ${F.status==="Present"?"bg-green-50 text-green-700":"bg-orange-50 text-orange-700"}`,children:F.status})]},de)):e.jsx("p",{className:"text-center text-gray-500 text-sm py-4",children:"No attendance logs available for this member."})})})})}),e.jsx(at,{isOpen:I,onClose:()=>B(!1),title:"Flag Member",subtitle:N?.name,maxWidth:"max-w-md",footer:e.jsxs("div",{className:"flex gap-3 w-full",children:[e.jsx("button",{onClick:()=>B(!1),className:"flex-1 py-3 bg-gray-100 text-gray-600 rounded-xl font-bold active:scale-95 transition-all",children:"Cancel"}),e.jsx("button",{onClick:async()=>{await t9(N.id,$),G(""),B(!1),le()},className:"flex-1 py-3 bg-red-600 text-white rounded-xl font-bold shadow-xl shadow-red-200 active:scale-95 transition-all",children:"Flag Member"})]}),children:N&&e.jsx("div",{className:"flex flex-col h-full",children:e.jsx("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-gray-500 leading-relaxed font-medium",children:"Flagging a member will notify the administration team for further review of their membership status or conduct."}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2 block",children:"Reason for Flagging"}),e.jsx("textarea",{className:"w-full p-4 bg-gray-50 border-none rounded-2xl text-sm focus:ring-2 focus:ring-red-500 outline-none transition-all h-32 resize-none font-medium text-gray-700",placeholder:"Enter detailed reason (e.g., poor conduct, payment delays, health concerns)...",value:$,onChange:F=>G(F.target.value)})]})]})})})}),e.jsx(at,{isOpen:P,onClose:()=>R(!1),title:"Member Profile",subtitle:N?.name,maxWidth:"max-w-7xl",children:N&&e.jsx(UD,{memberId:N.id,onClose:()=>R(!1)})}),e.jsx($D,{isOpen:W,onClose:()=>H(!1),memberName:N?.name,memberId:N?.id})]})},HD=()=>{const[t,s]=j.useState(null),[r,l]=j.useState(!0),[i,o]=j.useState("personal"),[d,x]=j.useState(!1),[u,h]=j.useState({type:"",text:""}),[p,g]=j.useState(!1),[y,f]=j.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[w,S]=j.useState({name:"",email:"",phone:"",address:"",avatar:""});j.useEffect(()=>{v()},[]);const v=async()=>{l(!0);try{const _=await P7();s(_),S({name:_.name,email:_.email,phone:_.phone,address:_.address||"",avatar:_.avatar||""})}catch(_){console.error("Load Profile Error:",_)}finally{l(!1)}},N=_=>{const{name:I,value:B}=_.target;S(P=>({...P,[I]:B}))},A=_=>{const I=_.target.files[0];if(I){const B=new FileReader;B.onloadend=()=>{S(P=>({...P,avatar:B.result}))},B.readAsDataURL(I)}},L=async _=>{_&&_.preventDefault(),x(!0),h({type:"",text:""});try{const I=await $7(w);s(I),h({type:"success",text:"Profile updated successfully!"})}catch(I){h({type:"error",text:typeof I=="string"?I:"Failed to update profile."})}finally{x(!1)}},M=async _=>{if(_.preventDefault(),y.newPassword!==y.confirmPassword){alert("Passwords don't match!");return}x(!0);try{await q7({currentPassword:y.currentPassword,newPassword:y.newPassword}),g(!1),f({currentPassword:"",newPassword:"",confirmPassword:""}),alert("Password updated successfully!")}catch(I){alert(I||"Failed to update password")}finally{x(!1)}};if(r||!t)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 flex items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"h-16 w-16 border-4 border-violet-600 border-t-transparent rounded-full mb-4 animate-spin"}),e.jsx("p",{className:"text-lg font-semibold text-slate-600 tracking-tight",children:!t&&!r?"Failed to load profile":"Accessing Secure Profile..."}),!t&&!r&&e.jsx("button",{onClick:()=>v(),className:"mt-4 px-6 py-2 bg-violet-600 text-white rounded-xl font-bold hover:bg-violet-700 transition-colors",children:"Retry Connection"})]})});const T=[{id:"personal",label:"Personal Info",icon:rt},{id:"security",label:"Security",icon:tr},{id:"notifications",label:"Notifications",icon:vl}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 md:p-8",children:[e.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[e.jsxs("div",{className:"relative bg-white rounded-3xl border border-slate-100 shadow-xl overflow-hidden animate-in fade-in duration-700",children:[e.jsxs("div",{className:"h-40 bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-10"}),e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full -mr-32 -mt-32 blur-3xl animate-pulse"})]}),e.jsx("div",{className:"px-8 pb-8",children:e.jsxs("div",{className:"relative flex flex-col md:flex-row md:items-end gap-6 -mt-16",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"w-40 h-40 rounded-[2.5rem] bg-white p-2 shadow-2xl ring-8 ring-white/50",children:e.jsx("div",{className:"w-full h-full rounded-[2rem] bg-gradient-to-br from-violet-600 to-indigo-700 flex items-center justify-center text-white text-5xl font-black shadow-inner overflow-hidden",children:w.avatar?e.jsx("img",{src:w.avatar,alt:"Profile",className:"w-full h-full object-cover"}):t.name?.charAt(0)})}),e.jsxs("label",{className:"absolute bottom-2 right-2 p-3 bg-white rounded-2xl shadow-xl border border-slate-200 text-violet-600 hover:scale-110 hover:bg-violet-50 active:scale-95 transition-all duration-300 cursor-pointer group-hover:shadow-violet-200",children:[e.jsx(Uo,{size:20}),e.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:A})]})]}),e.jsxs("div",{className:"flex-1 pb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h1",{className:"text-4xl font-black text-slate-900 tracking-tight",children:t.name}),e.jsx("div",{className:"mt-1 px-3 py-1 bg-violet-100 text-violet-700 rounded-lg text-[10px] font-black uppercase tracking-widest border border-violet-200",children:t.role.replace("_"," ")})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 mt-4",children:[e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-emerald-50 text-emerald-700 rounded-2xl text-xs font-black border border-emerald-100 shadow-sm",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),t.status]}),e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-slate-50 text-slate-700 rounded-2xl text-xs font-black border border-slate-100 shadow-sm",children:[e.jsx(Ye,{size:14,className:"text-slate-400"}),"Since ",t.joinedDate]})]})]}),e.jsx("div",{className:"md:mb-4",children:e.jsxs("button",{className:"px-8 py-4 bg-slate-900 text-white rounded-2xl text-sm font-black shadow-xl shadow-slate-200 hover:shadow-2xl hover:bg-slate-800 hover:-translate-y-1 active:scale-95 transition-all duration-300 flex items-center gap-3",children:[e.jsx(as,{size:20,className:"text-emerald-400"}),"Verified Professional"]})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[e.jsx("div",{className:"lg:col-span-3 space-y-3",children:T.map(_=>e.jsxs("button",{onClick:()=>{o(_.id),h({type:"",text:""})},className:`w-full flex items-center gap-4 px-6 py-5 rounded-2xl text-sm font-black tracking-wide transition-all duration-300 ${i===_.id?"bg-violet-600 text-white shadow-xl shadow-violet-200 -translate-x-2":"bg-white text-slate-500 hover:bg-violet-50 hover:text-violet-600 border border-slate-100"}`,children:[e.jsx(_.icon,{size:22}),_.label]},_.id))}),e.jsx("div",{className:"lg:col-span-9",children:e.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-2xl p-8 md:p-12 animate-in slide-in-from-bottom-8 duration-500 overflow-hidden relative",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-violet-50/50 rounded-full -mr-32 -mt-32 blur-3xl pointer-events-none"}),u.text&&e.jsxs("div",{className:`mb-10 p-5 rounded-2xl flex items-center gap-4 text-sm font-bold border-2 animate-in fade-in slide-in-from-top-4 ${u.type==="success"?"bg-emerald-50 text-emerald-700 border-emerald-100 shadow-lg shadow-emerald-50":"bg-red-50 text-red-700 border-red-100 shadow-lg shadow-red-50"}`,children:[e.jsx("div",{className:`p-2 rounded-xl ${u.type==="success"?"bg-emerald-200/50":"bg-red-200/50"}`,children:u.type==="success"?e.jsx(as,{size:20}):e.jsx(tr,{size:20})}),u.text]}),i==="personal"&&e.jsxs("form",{onSubmit:L,className:"space-y-10 relative",children:[e.jsx("div",{className:"flex justify-between items-start",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-3xl font-black text-slate-900 tracking-tight",children:"Professional Dossier"}),e.jsx("p",{className:"text-slate-500 font-bold mt-2",children:"Update your public identity and contact gateways"})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[{label:"Display Name",name:"name",type:"text",icon:rt,placeholder:"Test Trainer"},{label:"Secure Email",name:"email",type:"email",icon:Hr,placeholder:"trainer@gym.com"},{label:"Direct Line",name:"phone",type:"text",icon:qs,placeholder:"Enter phone"},{label:"Base Location",name:"address",type:"text",icon:$s,placeholder:"Enter city, country"}].map(_=>e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-1",children:_.label}),e.jsxs("div",{className:"relative group/field",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-5 flex items-center pointer-events-none text-slate-300 group-focus-within/field:text-violet-600 transition-colors duration-300",children:e.jsx(_.icon,{size:20})}),e.jsx("input",{type:_.type,name:_.name,value:w[_.name],onChange:N,className:"w-full pl-14 pr-6 py-4.5 bg-slate-50 border-2 border-slate-100 rounded-2xl text-slate-900 font-bold focus:bg-white focus:outline-none focus:ring-4 focus:ring-violet-500/10 focus:border-violet-500 transition-all duration-300",placeholder:_.placeholder})]})]},_.name))}),e.jsx("div",{className:"pt-10 flex border-t border-slate-50",children:e.jsxs("button",{type:"submit",disabled:d,className:"group relative flex items-center justify-center px-12 py-5 rounded-[1.5rem] font-black text-white shadow-2xl transition-all duration-300 transform hover:-translate-y-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:translate-y-0 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-600 to-indigo-700"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-700 to-fuchsia-700 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),d?e.jsx("div",{className:"w-6 h-6 border-3 border-white border-t-transparent rounded-full animate-spin relative mr-4"}):e.jsx(xa,{size:24,className:"mr-3 relative transition-transform duration-500 group-hover:rotate-[360deg]"}),e.jsx("span",{className:"relative text-lg tracking-tight",children:d?"Encrypting...":"Deploy Profile Updates"})]})})]}),i==="security"&&e.jsxs("div",{className:"space-y-12 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 bg-slate-50 p-8 rounded-3xl border border-slate-100",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"text-xl font-black text-slate-900 flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"p-2 bg-slate-900 text-white rounded-xl",children:e.jsx(Fs,{size:20})})," Access Control"]}),e.jsx("p",{className:"text-slate-500 font-bold",children:"Manage your cryptographic primary access key"})]}),e.jsx("button",{onClick:()=>g(!0),className:"px-8 py-4 bg-slate-900 text-white rounded-2xl text-sm font-black hover:bg-slate-800 hover:shadow-2xl hover:-translate-y-1 active:scale-95 transition-all duration-300 shadow-xl",children:"Modify Passkey"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"p-8 rounded-[2rem] border-2 border-dashed border-slate-200 bg-white hover:border-violet-300 hover:bg-violet-50/30 transition-all duration-300 group/secure",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("div",{className:"p-3 bg-emerald-100 text-emerald-600 rounded-2xl group-hover/secure:scale-110 transition-transform",children:e.jsx(tr,{size:24})}),e.jsx("div",{className:"relative w-14 h-8 bg-emerald-500 rounded-full shadow-inner p-1 cursor-pointer",children:e.jsx("div",{className:"absolute right-1 w-6 h-6 bg-white rounded-full shadow-sm"})})]}),e.jsx("h5",{className:"text-lg font-black text-slate-900 mb-2",children:"Biometric Bridge"}),e.jsx("p",{className:"text-slate-400 text-sm font-bold",children:"Enabled via local security subsystem (FaceID/Fingerprint)"})]}),e.jsxs("div",{className:"p-8 rounded-[2rem] border-2 border-dashed border-slate-200 bg-white hover:border-blue-300 hover:bg-blue-50/30 transition-all duration-300 group/secure",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("div",{className:"p-3 bg-blue-100 text-blue-600 rounded-2xl group-hover/secure:scale-110 transition-transform",children:e.jsx(vl,{size:24})}),e.jsx("div",{className:"relative w-14 h-8 bg-slate-200 rounded-full shadow-inner p-1 cursor-pointer",children:e.jsx("div",{className:"absolute left-1 w-6 h-6 bg-white rounded-full shadow-sm"})})]}),e.jsx("h5",{className:"text-lg font-black text-slate-900 mb-2",children:"Login Alerts"}),e.jsx("p",{className:"text-slate-400 text-sm font-bold",children:"Receive instant signals for new session initiations"})]})]})]}),i==="notifications"&&e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center animate-in zoom-in-95 duration-500",children:[e.jsxs("div",{className:"w-32 h-32 bg-violet-50 rounded-[2.5rem] flex items-center justify-center text-violet-600 mb-8 shadow-inner ring-4 ring-white relative overflow-hidden group",children:[e.jsx("div",{className:"absolute inset-0 bg-violet-600 opacity-0 group-hover:opacity-10 transition-opacity"}),e.jsx(vl,{size:64,className:"group-hover:rotate-12 transition-transform duration-500"})]}),e.jsx("h3",{className:"text-3xl font-black text-slate-900 mb-4 tracking-tight",children:"Signal Matrix"}),e.jsx("p",{className:"text-slate-400 max-w-sm font-bold text-lg leading-relaxed",children:"Customize your cognitive load by filtering system-wide notifications and alerts."}),e.jsx("button",{className:"mt-10 px-10 py-4 bg-slate-900 text-white rounded-2xl font-black hover:bg-slate-800 transition-all",children:"Establish Protocols"})]})]})})]})]}),p&&e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-md",onClick:()=>!d&&g(!1)}),e.jsxs("div",{className:"relative w-full max-w-lg bg-white rounded-[3rem] shadow-2xl p-8 md:p-12 animate-in zoom-in-95 duration-300 overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-violet-600 to-indigo-600"}),e.jsxs("div",{className:"flex justify-between items-center mb-10",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-black text-slate-900",children:"Modify Passkey"}),e.jsx("p",{className:"text-slate-500 font-bold text-sm mt-1",children:"Establish new cryptographically secure credentials"})]}),e.jsx("button",{onClick:()=>g(!1),className:"p-3 hover:bg-slate-100 rounded-2xl transition-all",children:e.jsx(wl,{size:24})})]}),e.jsxs("form",{onSubmit:M,className:"space-y-6",children:[[{label:"Current Key",name:"currentPassword",type:"password",icon:Fs},{label:"New Primary Key",name:"newPassword",type:"password",icon:tr},{label:"Validate New Key",name:"confirmPassword",type:"password",icon:as}].map(_=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:_.label}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-5 flex items-center pointer-events-none text-slate-300 group-focus-within:text-violet-600 transition-colors",children:e.jsx(_.icon,{size:20})}),e.jsx("input",{type:_.type,value:y[_.name],onChange:I=>f({...y,[_.name]:I.target.value}),className:"w-full pl-14 pr-6 py-4.5 bg-slate-50 border-2 border-slate-100 rounded-2xl font-bold focus:bg-white focus:outline-none focus:border-violet-500 transition-all",required:!0})]})]},_.name)),e.jsx("div",{className:"pt-6",children:e.jsx("button",{type:"submit",disabled:d,className:"w-full py-5 bg-slate-900 text-white rounded-2xl font-black text-lg hover:bg-slate-800 shadow-2xl shadow-slate-200 transition-all flex items-center justify-center gap-4",children:d?e.jsx("div",{className:"w-6 h-6 border-3 border-white border-t-transparent rounded-full animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(tr,{size:22,className:"text-violet-400"}),"Update Keys"]})})})]})]})]})]})},WD=()=>{const[t,s]=j.useState(null),[r,l]=j.useState(new Date().getFullYear().toString()),[i,o]=j.useState(null),[d,x]=j.useState(!0);if(j.useEffect(()=>{(async()=>{try{const y=await R7();o(y)}catch(y){console.error("Failed to load earnings:",y)}finally{x(!1)}})()},[]),d)return e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 min-h-screen bg-slate-50",children:[e.jsx("div",{className:"w-10 h-10 border-4 border-violet-600 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"mt-4 text-slate-500 font-medium tracking-tight",children:"Loading your earnings..."})]});if(!i)return e.jsx("div",{className:"p-8 text-center text-gray-500 min-h-screen bg-slate-50",children:"Access Denied or Failed to Load"});const u=g=>{s(t===g?null:g)},h=()=>{alert("Downloading your earnings report... Your statement will be ready shortly.")},p=g=>{switch(g){case"Paid":return"bg-emerald-100 text-emerald-700 border border-emerald-200";case"Pending":return"bg-amber-100 text-amber-700 border border-amber-200";case"Processing":return"bg-blue-100 text-blue-700 border border-blue-200";default:return"bg-gray-100 text-gray-700 border border-gray-200"}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6 animate-fadeIn font-sans",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 rounded-3xl blur-2xl opacity-15 animate-pulse"}),e.jsxs("div",{className:"relative bg-white/80 backdrop-blur-xl rounded-[32px] shadow-2xl border border-white/50 p-6 sm:p-8 overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-violet-50 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 opacity-50"}),e.jsxs("div",{className:"relative z-10 flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4 sm:gap-6",children:[e.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-xl shadow-violet-200 transform hover:scale-105 transition-transform duration-300 group flex-shrink-0",children:e.jsx(ca,{size:28,className:"sm:w-9 sm:h-9 group-hover:rotate-12 transition-transform duration-300",strokeWidth:2})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-1",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-black text-slate-900 tracking-tight",children:"My Earnings"}),e.jsx("span",{className:"px-3 py-1 bg-emerald-100 text-emerald-700 text-[10px] sm:text-xs font-black uppercase tracking-wider rounded-full border border-emerald-200",children:"Secure View"})]}),e.jsx("p",{className:"text-slate-500 font-medium text-sm sm:text-lg",children:"Track your salary, commissions, and bonuses."})]})]}),e.jsxs("button",{onClick:h,className:"flex items-center justify-center gap-2 px-6 py-3 bg-white border-2 border-slate-100 text-slate-600 rounded-xl font-bold hover:border-violet-200 hover:text-violet-600 hover:shadow-lg transition-all w-full sm:w-auto",children:[e.jsx(Js,{size:18}),"Download Report"]})]})]})]}),e.jsxs(iu,{children:[e.jsx(Gn,{title:"Monthly Base Pay",value:`${i.summary.currency}${i.summary.baseSalary.toLocaleString()}`,icon:ca,color:"primary"}),e.jsx(Gn,{title:"Commission Rate",value:`${i.summary.commissionRate}%`,icon:Ks,color:"success",trend:"+2%"}),e.jsx(Gn,{title:`Commission (${i.summary.currentMonthName})`,value:`${i.summary.currency}${i.summary.currentMonthCommission.toLocaleString()}`,icon:Et,color:"warning"}),e.jsx(Gn,{title:`Total Earnings (${i.summary.currentMonthName})`,value:`${i.summary.currency}${i.summary.currentMonthTotal.toLocaleString()}`,icon:Vn,color:"primary"})]}),e.jsxs("div",{className:"bg-white rounded-[32px] border border-slate-100 shadow-xl overflow-hidden p-4 sm:p-6 space-y-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-2",children:[e.jsxs("h3",{className:"text-xl font-black text-slate-900 flex items-center gap-2",children:[e.jsx(Ye,{size:24,className:"text-violet-600"})," Earnings History"]}),e.jsx("div",{className:"flex bg-slate-50 p-1 rounded-xl w-full sm:w-auto",children:[...new Set(i.history.map(g=>g.year))].sort((g,y)=>y-g).map(g=>e.jsx("button",{onClick:()=>l(g),className:`flex-1 sm:flex-none px-4 py-2 rounded-lg text-xs font-bold transition-all ${r===g?"bg-white text-violet-600 shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:g},g))})]}),e.jsx("div",{className:"hidden md:block overflow-x-auto rounded-2xl border border-slate-50",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50/50 border-b border-slate-100",children:[e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Month"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Base Salary"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Commission"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Bonus"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Total"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Status"}),e.jsx("th",{className:"px-6 py-4"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:i.history.filter(g=>g.year===r).map(g=>e.jsxs(so.Fragment,{children:[e.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[e.jsx("td",{className:"px-6 py-5 text-sm font-bold text-slate-900",children:g.month}),e.jsxs("td",{className:"px-6 py-5 text-sm font-medium text-slate-500",children:["",g.baseSalary.toLocaleString()]}),e.jsxs("td",{className:"px-6 py-5 text-sm font-bold text-emerald-600",children:["+",g.commission.toLocaleString()]}),e.jsx("td",{className:"px-6 py-5 text-sm font-medium text-slate-500",children:g.bonus>0?`+${g.bonus.toLocaleString()}`:"-"}),e.jsxs("td",{className:"px-6 py-5 text-sm font-black text-slate-900",children:["",g.total.toLocaleString()]}),e.jsx("td",{className:"px-6 py-5",children:e.jsx("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-wide ${p(g.status)}`,children:g.status})}),e.jsx("td",{className:"px-6 py-5 text-right",children:e.jsx("button",{onClick:()=>u(g.id),className:"p-2 rounded-xl text-slate-400 hover:text-violet-600 hover:bg-violet-50 transition-all",children:t===g.id?e.jsx(Ej,{size:18}):e.jsx(Wl,{size:18})})})]}),t===g.id&&e.jsx("tr",{className:"bg-slate-50/30 animate-in fade-in slide-in-from-top-2 duration-200",children:e.jsx("td",{colSpan:"7",className:"px-6 py-6",children:e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 p-6 shadow-sm",children:[e.jsxs("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-4",children:["Commission Breakdown  ",g.month]}),g.details.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:g.details.map(y=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-slate-50 border border-slate-100 hover:border-violet-200 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-violet-100 flex items-center justify-center text-violet-600 font-bold text-xs",children:y.member.charAt(0)}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-slate-900",children:y.member}),e.jsx("p",{className:"text-[10px] text-slate-500",children:y.type})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("span",{className:"text-xs font-black text-emerald-600",children:["+",y.amount.toLocaleString()]}),e.jsx("p",{className:"text-[9px] text-slate-400",children:y.date})]})]},y.id))}):e.jsx("p",{className:"text-sm text-slate-400 italic",children:"No detailed commission data available."})]})})})]},g.id))})]})}),e.jsx("div",{className:"md:hidden space-y-4",children:i.history.filter(g=>g.year===r).map(g=>e.jsxs("div",{children:[e.jsx(Ga,{title:g.month,subtitle:`Base: ${g.baseSalary.toLocaleString()}`,status:g.status,statusColor:g.status==="Paid"?"emerald":"amber",badge:`${g.total.toLocaleString()}`,badgeColor:"violet",icon:ca,actions:[{label:t===g.id?"Hide Details":"View Breakdown",onClick:()=>u(g.id),variant:"secondary"}]}),t===g.id&&e.jsxs("div",{className:"mt-2 ml-4 pl-4 border-l-2 border-slate-100 space-y-2 pb-4",children:[e.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"Commission Details"}),g.details.length>0?g.details.map(y=>e.jsxs("div",{className:"bg-white p-3 rounded-xl border border-slate-100 shadow-sm flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-slate-900",children:y.member}),e.jsx("p",{className:"text-[10px] text-slate-500",children:y.type})]}),e.jsxs("span",{className:"text-xs font-black text-emerald-600",children:["+",y.amount.toLocaleString()]})]},y.id)):e.jsx("p",{className:"text-xs text-slate-400 italic",children:"No details available."})]})]},g.id))})]})]})},GD=()=>{const[t,s]=j.useState("May 2024"),[r,l]=j.useState(!1),[i,o]=j.useState(!1),[d,x]=j.useState([{id:1,type:"Vacation",start:"Mar 10, 2026",end:"Mar 12, 2026",status:"Pending",reason:"Family vacation"},{id:2,type:"Sick Leave",start:"Feb 05, 2026",end:"Feb 05, 2026",status:"Approved",reason:"Fever"},{id:3,type:"Casual",start:"Jan 20, 2026",end:"Jan 20, 2026",status:"Rejected",reason:"Personal work"}]),[u,h]=j.useState(null),[p,g]=j.useState(!0),y=async()=>{g(!0);try{const v=await O7();h(v),x(v.leaveRequests||[]);const N=v.summary?.todayCheckIn!=="Not yet"&&v.summary?.todayCheckOut==="Not yet";o(N)}catch(v){console.error(v)}finally{g(!1)}};j.useEffect(()=>{y()},[]);const f=v=>{switch(v){case"Present":case"Approved":return"bg-emerald-100 text-emerald-700 border border-emerald-200";case"Absent":case"Rejected":return"bg-red-100 text-red-700 border border-red-200";case"Late":case"Pending":return"bg-amber-100 text-amber-700 border border-amber-200";default:return"bg-slate-100 text-slate-700 border border-slate-200"}},w=async()=>{try{const v=await F7({isCheckedIn:i});alert(v.message),o(!i),y()}catch{alert("Failed to check in/out.")}},S=()=>{const[v,N]=j.useState({type:"Sick Leave",start:"",end:"",reason:""}),A=async()=>{if(!v.start||!v.end||!v.reason)return alert("Please fill all fields.");try{await B7(v),alert("Leave request submitted successfully!"),l(!1),y()}catch{alert("Failed to request leave.")}};return e.jsx(at,{isOpen:r,onClose:()=>l(!1),title:"Request Leave",subtitle:"Submit your leave application",footer:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:A,className:"flex-1 py-2.5 bg-indigo-600 text-white rounded-lg text-sm font-bold shadow-md hover:bg-indigo-700 transition-all",children:"Submit Request"}),e.jsx("button",{onClick:()=>l(!1),className:"px-6 py-2.5 bg-gray-50 border border-gray-200 text-gray-600 rounded-lg text-sm font-bold",children:"Cancel"})]}),children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Leave Type"}),e.jsxs("select",{value:v.type,onChange:L=>N({...v,type:L.target.value}),className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl text-sm font-medium outline-none focus:ring-2 focus:ring-indigo-500",children:[e.jsx("option",{children:"Sick Leave"}),e.jsx("option",{children:"Casual Leave"}),e.jsx("option",{children:"Emergency"}),e.jsx("option",{children:"Vacation"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Start Date"}),e.jsx("input",{type:"date",value:v.start,onChange:L=>N({...v,start:L.target.value}),className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl text-sm font-medium outline-none focus:ring-2 focus:ring-indigo-500"})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-bold text-gray-700 uppercase tracking-wider",children:"End Date"}),e.jsx("input",{type:"date",value:v.end,onChange:L=>N({...v,end:L.target.value}),className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl text-sm font-medium outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-2xl border border-gray-100",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-gray-800",children:"Half Day Request?"}),e.jsx("p",{className:"text-[10px] text-gray-500 font-medium tracking-tight",children:"Select if applying for a partial day"})]}),e.jsx("div",{className:"w-10 h-6 bg-gray-200 rounded-full cursor-pointer relative transition-all duration-300",children:e.jsx("div",{className:"w-4 h-4 bg-white rounded-full absolute top-1 left-1 shadow-sm transition-all duration-300"})})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Reason"}),e.jsx("textarea",{rows:4,value:v.reason,onChange:L=>N({...v,reason:L.target.value}),placeholder:"Explain your reason for leave...",className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl text-sm font-medium outline-none focus:ring-2 focus:ring-indigo-500 resize-none"})]}),e.jsxs("div",{className:"p-4 bg-violet-50 rounded-2xl border border-violet-100 flex gap-3",children:[e.jsx(ps,{size:18,className:"text-violet-500 shrink-0 mt-0.5"}),e.jsx("p",{className:"text-[10px] text-violet-700 font-medium leading-relaxed",children:"Your request will be sent to the manager for approval. You'll be notified once updated."})]})]})})};return p?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 min-h-screen bg-slate-50",children:[e.jsx("div",{className:"w-10 h-10 border-4 border-violet-600 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"mt-4 text-slate-500 font-medium tracking-tight",children:"Loading attendance data..."})]}):u?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6 animate-fadeIn font-sans",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 rounded-3xl blur-2xl opacity-15 animate-pulse"}),e.jsxs("div",{className:"relative bg-white/80 backdrop-blur-xl rounded-[32px] shadow-2xl border border-white/50 p-6 sm:p-8 overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-violet-50 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 opacity-50"}),e.jsxs("div",{className:"relative z-10 flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4 sm:gap-6",children:[e.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-xl shadow-violet-200 transform hover:scale-105 transition-transform duration-300 group flex-shrink-0",children:e.jsx(Je,{size:28,className:"sm:w-9 sm:h-9 group-hover:rotate-12 transition-transform duration-300",strokeWidth:2})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-1",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-black text-slate-900 tracking-tight",children:"My Attendance"}),e.jsx("span",{className:"px-3 py-1 bg-violet-100 text-violet-700 text-[10px] sm:text-xs font-black uppercase tracking-wider rounded-full border border-violet-200",children:"Personal"})]}),e.jsx("p",{className:"text-slate-500 font-medium text-sm sm:text-lg",children:"Track your daily clock-in/out logs and working hours."})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("button",{onClick:()=>l(!0),className:"flex items-center justify-center gap-2 px-6 py-3 bg-indigo-50 text-indigo-700 border border-indigo-100 rounded-xl font-bold hover:bg-indigo-100 transition-all w-full sm:w-auto",children:[e.jsx(Ye,{size:18}),"Request Leave"]}),e.jsxs("button",{onClick:w,className:`flex items-center justify-center gap-2 px-6 py-3 rounded-xl font-bold shadow-xl transition-all w-full sm:w-auto hover:scale-105 active:scale-95 ${i?"bg-amber-500 text-white shadow-amber-500/30 hover:shadow-amber-500/40":"bg-gradient-to-r from-violet-600 to-purple-600 text-white shadow-violet-500/30 hover:shadow-violet-500/40"}`,children:[i?e.jsx(_0,{size:18}):e.jsx(rl,{size:18}),"Today's ",i?"Check-out":"Check-in"]})]})]})]})]}),e.jsxs(iu,{children:[e.jsx(Gn,{title:"Today Check-in",value:u.summary.todayCheckIn,icon:rl,color:"primary"}),e.jsx(Gn,{title:"Today Check-out",value:u.summary.todayCheckOut,icon:_0,color:"success"}),e.jsx(Gn,{title:"Total Hours Today",value:u.summary.totalHoursToday,icon:ES,color:"warning"}),e.jsx(Gn,{title:"Present This Month",value:`${u.summary.daysPresentMonth}/${u.summary.totalWorkDays} Days`,icon:yl,color:"primary"})]}),e.jsxs("div",{className:"bg-white rounded-[32px] border border-slate-100 shadow-xl overflow-hidden p-4 sm:p-6 space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("h2",{className:"text-xl font-black text-slate-800 flex items-center gap-2",children:[e.jsx(Ye,{className:"text-violet-500",size:24}),"Attendance Logs"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:t,onChange:v=>s(v.target.value),className:"appearance-none bg-slate-50 border border-slate-100 text-slate-600 py-2.5 pl-4 pr-10 rounded-xl text-sm font-bold focus:outline-none focus:border-violet-500 transition-all cursor-pointer",children:[e.jsx("option",{children:"May 2024"}),e.jsx("option",{children:"April 2024"}),e.jsx("option",{children:"March 2024"})]}),e.jsx(Wl,{size:16,className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"})]}),e.jsx("button",{className:"p-2.5 bg-slate-50 border border-slate-100 text-slate-400 rounded-xl hover:text-violet-600 hover:border-violet-100 transition-all",children:e.jsx(Ns,{size:18})})]})]}),e.jsx("div",{className:"hidden md:block overflow-hidden rounded-2xl border border-slate-50",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50/50 border-b border-slate-100",children:[e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Date"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Check-In"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Check-Out"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Total Hours"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Status"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:u.logs.map(v=>e.jsxs("tr",{className:"hover:bg-slate-50/50 transition-all duration-200 group",children:[e.jsx("td",{className:"px-6 py-5",children:e.jsx("span",{className:"text-sm font-bold text-slate-900 group-hover:text-violet-700 transition-colors",children:v.date})}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold text-slate-600",children:[e.jsx(rl,{size:14,className:"text-emerald-500"}),v.checkIn]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold text-slate-600",children:[e.jsx(_0,{size:14,className:"text-rose-500"}),v.checkOut]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsx("span",{className:"text-sm font-black text-slate-900",children:v.hours})}),e.jsx("td",{className:"px-6 py-5",children:e.jsx("div",{className:"flex justify-center",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-wider ${f(v.status)}`,children:v.status})})})]},v.id))})]})}),e.jsx("div",{className:"md:hidden space-y-4",children:u.logs.map(v=>e.jsx(Ga,{title:v.date,subtitle:`Check-in: ${v.checkIn}`,status:v.status,statusColor:v.status==="Present"?"emerald":v.status==="Late"?"amber":"red",badge:v.hours,badgeColor:"violet",icon:Je},v.id))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 px-1",children:[e.jsx(Ye,{size:18,className:"text-amber-500"}),e.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Leave History"})]}),e.jsxs(is,{className:"p-0 overflow-hidden border border-gray-100 shadow-xl rounded-[32px]",children:[e.jsx("div",{className:"hidden md:block overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50/50 border-b border-slate-100",children:[e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Date Range"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Type"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Reason"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Status"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:d.map(v=>e.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[e.jsx("td",{className:"px-6 py-5",children:e.jsx("span",{className:"text-sm font-bold text-slate-900",children:v.start===v.end?v.start:`${v.start}  ${v.end}`})}),e.jsx("td",{className:"px-6 py-5",children:e.jsx("span",{className:"text-xs font-bold text-slate-600",children:v.type})}),e.jsx("td",{className:"px-6 py-5",children:e.jsx("span",{className:"text-xs text-slate-500 font-medium truncate max-w-[200px] block",children:v.reason})}),e.jsx("td",{className:"px-6 py-5",children:e.jsx("div",{className:"flex justify-center",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-wider ${f(v.status)}`,children:v.status})})})]},v.id))})]})}),e.jsx("div",{className:"md:hidden p-4 space-y-4",children:d.map(v=>e.jsxs("div",{className:"p-4 bg-slate-50 border border-slate-100 rounded-2xl space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-slate-900",children:v.start===v.end?v.start:`${v.start}  ${v.end}`}),e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-tight",children:v.type})]}),e.jsx("span",{className:`px-2 py-0.5 rounded-full text-[9px] font-bold uppercase ${f(v.status)}`,children:v.status})]}),e.jsx("p",{className:"text-xs text-slate-500 font-medium",children:v.reason})]},v.id))})]})]}),e.jsx(S,{})]}):e.jsx("div",{className:"p-8 text-center text-gray-500 min-h-screen bg-slate-50",children:"Failed to load data"})},VD=()=>{const[t,s]=j.useState([]),[r,l]=j.useState(!0);j.useEffect(()=>{(async()=>{try{const x=(await yg.getAllAnnouncements()).filter(u=>u.targetRole==="trainer"||u.targetRole==="all"||!u.targetRole);s(x)}catch(d){console.error("Failed to fetch announcements:",d)}finally{l(!1)}})()},[]);const i=o=>{const d={high:{gradient:"from-rose-500 to-red-600",bg:"bg-rose-50",text:"text-rose-700",border:"border-rose-100",icon:ps,shadow:"shadow-rose-500/20"},medium:{gradient:"from-amber-500 to-orange-600",bg:"bg-amber-50",text:"text-amber-700",border:"border-amber-100",icon:Yn,shadow:"shadow-amber-500/20"},low:{gradient:"from-indigo-500 to-blue-600",bg:"bg-indigo-50",text:"text-indigo-700",border:"border-indigo-100",icon:Yn,shadow:"shadow-indigo-500/20"}};return d[o]||d.medium};return r?e.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:e.jsx("div",{className:"w-12 h-12 border-4 border-indigo-600 border-t-transparent rounded-full animate-spin"})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-indigo-50/20 p-6 md:p-10 font-sans",children:[e.jsx("div",{className:"max-w-7xl mx-auto mb-12",children:e.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-8",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute -top-10 -left-10 w-40 h-40 bg-indigo-200 rounded-full blur-3xl opacity-20 pointer-events-none"}),e.jsxs("h1",{className:"relative text-3xl md:text-5xl font-black text-slate-800 flex items-center gap-4",children:[e.jsx(gn,{className:"text-indigo-600",size:40}),"Announcements"]}),e.jsx("p",{className:"text-slate-500 mt-3 text-lg font-medium max-w-xl",children:"Stay updated with the latest gym news, events, and trainer-specific updates."})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.length===0?e.jsxs("div",{className:"col-span-full py-24 flex flex-col items-center justify-center text-center",children:[e.jsx("div",{className:"w-24 h-24 bg-white/60 backdrop-blur-md rounded-[40px] shadow-sm flex items-center justify-center text-slate-200 mb-6 border border-white/50",children:e.jsx(gn,{size:48,className:"opacity-20"})}),e.jsx("h3",{className:"text-xl font-black text-slate-800 tracking-tight",children:"No Announcements for You"}),e.jsx("p",{className:"text-slate-500 text-sm font-medium max-w-sm mx-auto mt-2",children:"There are currently no announcements relevant to trainers. Check back later!"})]}):t.map(o=>{const d=i(o.priority?.toLowerCase()),x=d.icon;return e.jsxs("div",{className:"group relative bg-white/60 backdrop-blur-md rounded-[40px] border border-white/50 p-8 shadow-sm hover:shadow-2xl transition-all duration-500 hover:-translate-y-2 overflow-hidden",children:[e.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 bg-gradient-to-br ${d.gradient} opacity-[0.03] rounded-full -translate-y-1/2 translate-x-1/2 group-hover:scale-150 transition-transform duration-700`}),e.jsxs("div",{className:"flex justify-between items-start mb-8",children:[e.jsx("div",{className:`w-14 h-14 rounded-2xl bg-gradient-to-br ${d.gradient} flex items-center justify-center text-white shadow-xl ${d.shadow} group-hover:rotate-12 transition-transform`,children:e.jsx(x,{size:28})}),e.jsx("span",{className:`px-4 py-1.5 rounded-full ${d.bg} ${d.text} text-[10px] font-black uppercase tracking-widest border ${d.border}`,children:o.priority})]}),e.jsx("h3",{className:"text-xl font-black text-slate-800 mb-3 group-hover:text-indigo-600 transition-colors leading-tight",children:o.title}),e.jsx("p",{className:"text-slate-500 text-sm font-medium leading-relaxed mb-8",children:o.message}),e.jsxs("div",{className:"pt-6 border-t border-slate-50 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-slate-50 flex items-center justify-center text-slate-400",children:e.jsx(Et,{size:16})}),e.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:o.targetRole||"all"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-bold text-slate-400 whitespace-nowrap",children:[e.jsx(Ye,{size:14,className:"text-slate-300"}),o.date]})]})]},o.id)})})]})},YD=()=>{const[t,s]=j.useState([]),[r,l]=j.useState([]),[i,o]=j.useState({}),[d,x]=j.useState(!0),[u,h]=j.useState(!1),[p,g]=j.useState(!1),[y,f]=j.useState(null),w=async()=>{x(!0);try{const M=await I7();s(M.weekly||[]),l(M.timeOff||[]),o(M.preferences||{instantBooking:!0,requireApproval:!1,autoAcceptReturning:!0})}catch(M){console.error("Failed to load availability:",M)}finally{x(!1)}};j.useEffect(()=>{w()},[]);const S=async M=>{const T={...i,[M]:!i[M]};o(T);try{await zp({preferences:T})}catch{alert("Failed to save preference"),o(i)}},v=async M=>{if(window.confirm("Are you sure you want to remove this time off?"))try{await U7(M),l(r.filter(T=>T.id!==M)),alert("Time off removed successfully!")}catch{alert("Failed to remove time off")}},N=M=>{f(t.find(T=>T.day===M)),h(!0)},A=()=>{const[M,T]=j.useState([]),[_,I]=j.useState(""),[B,P]=j.useState("");j.useEffect(()=>{y&&T(y.slots?[...y.slots]:[])},[y]);const R=async()=>{const $=t.map(G=>G.day===y.day?{...G,slots:M}:G);try{await zp({schedule:$}),s($),h(!1),alert("Schedule updated successfully!")}catch{alert("Failed to update schedule")}},W=()=>{if(!_||!B)return alert("Please specify start and end times");const $=G=>{const[le,Q]=G.split(":");let ne=parseInt(le);const F=ne>=12?"PM":"AM";return ne=ne%12||12,`${ne.toString().padStart(2,"0")}:${Q} ${F}`};T([...M,{start:$(_),end:$(B)}]),I(""),P("")},H=$=>{T(M.filter((G,le)=>le!==$))};return e.jsx(at,{isOpen:u,onClose:()=>h(!1),title:`Availability: ${y?.day}`,subtitle:"Manage your time slots",footer:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:R,className:"flex-1 py-2.5 bg-indigo-600 text-white rounded-lg text-sm font-bold shadow-md hover:bg-indigo-700 transition-all",children:"Save Changes"}),e.jsx("button",{onClick:()=>h(!1),className:"px-6 py-2.5 bg-gray-50 border border-gray-200 text-gray-600 rounded-lg text-sm font-bold",children:"Cancel"})]}),children:e.jsxs("div",{className:"space-y-6",children:[M.map(($,G)=>e.jsxs("div",{className:"p-4 bg-gray-50 border border-gray-100 rounded-2xl flex items-center justify-between group",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Je,{size:16,className:"text-indigo-500"}),e.jsxs("span",{className:"text-sm font-bold text-gray-800",children:[$.start,"  ",$.end]})]}),e.jsx("button",{onClick:()=>H(G),className:"p-2 text-gray-300 hover:text-red-500 transition-colors",children:e.jsx(Ms,{size:16})})]},G)),e.jsxs("div",{className:"p-4 border-2 border-dashed border-gray-200 rounded-2xl space-y-4",children:[e.jsx("p",{className:"text-sm font-bold text-gray-700 text-center",children:"Add New Slot"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:"Start Time"}),e.jsx("input",{type:"time",value:_,onChange:$=>I($.target.value),className:"w-full p-2 border border-gray-200 rounded-lg font-medium text-sm outline-none focus:ring-2 focus:ring-indigo-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:"End Time"}),e.jsx("input",{type:"time",value:B,onChange:$=>P($.target.value),className:"w-full p-2 border border-gray-200 rounded-lg font-medium text-sm outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),e.jsx("button",{onClick:W,className:"w-full py-2 bg-indigo-50 text-indigo-600 rounded-xl text-sm font-bold hover:bg-indigo-100 transition-colors",children:"+ Add to Schedule"})]}),e.jsxs("div",{className:"space-y-3 pt-4 border-t border-gray-100",children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Configuration"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs font-bold text-gray-700",children:"Slot Duration"}),e.jsxs("select",{className:"w-full p-3 bg-white border border-gray-200 rounded-xl text-sm focus:ring-2 focus:ring-indigo-500 outline-none",children:[e.jsx("option",{children:"30 Minutes"}),e.jsx("option",{children:"60 Minutes"}),e.jsx("option",{children:"90 Minutes"})]})]})]})]})})},L=()=>{const[M,T]=j.useState(""),[_,I]=j.useState(""),[B,P]=j.useState(""),R=async()=>{if(!_||!B||!M)return alert("Fill all fields");try{await zp({newTimeOff:{start:_,end:B,reason:M}}),alert("Dates blocked successfully!"),g(!1),w()}catch{alert("Error updating availability")}};return e.jsx(at,{isOpen:p,onClose:()=>g(!1),title:"Add Time Off",subtitle:"Block dates on your calendar",footer:e.jsx("button",{onClick:R,className:"w-full py-2.5 bg-indigo-600 text-white rounded-lg text-sm font-bold shadow-md hover:bg-indigo-700 transition-all",children:"Block Dates"}),children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-bold text-gray-700",children:"Reason"}),e.jsx("input",{value:M,onChange:W=>T(W.target.value),type:"text",placeholder:"e.g. Vacation, Sick Leave",className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl text-sm outline-none focus:ring-2 focus:ring-indigo-500"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-bold text-gray-700",children:"Start Date"}),e.jsx("input",{value:_,onChange:W=>I(W.target.value),type:"date",className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl text-sm outline-none focus:ring-2 focus:ring-indigo-500"})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-bold text-gray-700",children:"End Date"}),e.jsx("input",{value:B,onChange:W=>P(W.target.value),type:"date",className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl text-sm outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),e.jsxs("div",{className:"p-4 bg-amber-50 rounded-xl border border-amber-100 flex gap-3",children:[e.jsx(ps,{size:18,className:"text-amber-500 shrink-0 mt-0.5"}),e.jsx("p",{className:"text-[10px] text-amber-700 font-medium",children:"Any existing appointments during these dates will need to be rescheduled manually."})]})]})})};return d?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 min-h-screen bg-slate-50",children:[e.jsx("div",{className:"w-10 h-10 border-4 border-indigo-600 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"mt-4 text-slate-500 font-medium tracking-tight",children:"Loading settings..."})]}):e.jsxs("div",{className:"h-[calc(100vh-6rem)] overflow-y-auto pr-2 pb-8 space-y-8 fade-in scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-transparent",children:[e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 pb-6 border-b-2 border-gray-100",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 mb-1",children:"Availability Settings"}),e.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Manage your personal booking schedule and preferences"})]})}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"xl:col-span-2 space-y-8",children:[e.jsxs("section",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 px-1",children:[e.jsx(Je,{size:18,className:"text-indigo-600"}),e.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Weekly Availability"})]}),e.jsx(is,{className:"p-0 overflow-hidden border border-gray-200 shadow-md",children:e.jsx("div",{className:"divide-y divide-gray-50",children:t.map(M=>e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center p-4 sm:p-5 hover:bg-gray-50 transition-colors gap-4",children:[e.jsx("div",{className:"w-32",children:e.jsx("p",{className:"font-black text-gray-900 text-sm",children:M.day})}),e.jsx("div",{className:"flex-1",children:M.slots.length>0?e.jsx("div",{className:"flex flex-wrap gap-2",children:M.slots.map((T,_)=>e.jsxs("span",{className:"px-3 py-1 bg-indigo-50 text-indigo-700 rounded-full text-[11px] font-black border border-indigo-100",children:[T.start,"  ",T.end]},_))}):e.jsx("span",{className:"text-xs text-gray-400 font-bold italic",children:"Not Available"})}),e.jsx("button",{onClick:()=>N(M.day),className:"p-2 bg-white border border-gray-100 rounded-xl text-gray-400 hover:text-indigo-600 hover:shadow-sm transition-all shadow-sm",children:e.jsx(ar,{size:16})})]},M.day))})})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between px-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ye,{size:18,className:"text-amber-500"}),e.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Time Off / Blocked Dates"})]}),e.jsxs("button",{onClick:()=>g(!0),className:"px-3 py-1.5 bg-indigo-50 text-indigo-700 rounded-lg text-xs font-black hover:bg-indigo-100 transition-all flex items-center gap-1.5",children:[e.jsx(St,{size:14}),"Add Time Off"]})]}),e.jsx(is,{className:"p-5 border border-gray-200 shadow-md",children:r.length>0?e.jsx("div",{className:"space-y-3",children:r.map(M=>e.jsxs("div",{className:"p-4 bg-gray-50 border border-gray-100 rounded-2xl flex items-center justify-between group",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 bg-white rounded-xl flex items-center justify-center text-amber-500 shadow-sm",children:e.jsx(lS,{size:20})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-black text-gray-800",children:M.reason}),e.jsx("p",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-tight",children:M.start===M.end?M.start:`${M.start} to ${M.end}`})]})]}),e.jsx("button",{onClick:()=>v(M.id),className:"p-2 text-gray-300 hover:text-red-500 transition-colors",children:e.jsx(Ms,{size:16})})]},M.id))}):e.jsx("div",{className:"py-8 text-center bg-gray-50/50 rounded-2xl border border-dashed border-gray-200",children:e.jsx("p",{className:"text-gray-400 text-sm font-bold italic",children:"No upcoming time off set."})})})]})]}),e.jsx("div",{className:"space-y-8",children:e.jsxs("section",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 px-1",children:[e.jsx(Ih,{size:18,className:"text-slate-600"}),e.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Booking Rules"})]}),e.jsxs(is,{className:"p-5 border border-gray-200 shadow-md space-y-6",children:[e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"flex items-center justify-between group",children:[e.jsxs("div",{className:"max-w-[80%]",children:[e.jsx("p",{className:"text-sm font-black text-gray-800",children:"Instant Booking"}),e.jsx("p",{className:"text-[10px] text-gray-500 font-medium",children:"Clients can book available slots immediately."})]}),e.jsx("button",{onClick:()=>S("instantBooking"),className:`w-10 h-6 flex items-center rounded-full px-1 transition-all duration-300 ${i.instantBooking?"bg-indigo-600":"bg-gray-300"}`,children:e.jsx("div",{className:`w-4 h-4 rounded-full bg-white transition-all transform ${i.instantBooking?"translate-x-4":""}`})})]}),e.jsxs("div",{className:"flex items-center justify-between group",children:[e.jsxs("div",{className:"max-w-[80%]",children:[e.jsx("p",{className:"text-sm font-black text-gray-800",children:"Manual Approval"}),e.jsx("p",{className:"text-[10px] text-gray-500 font-medium",children:"Require approval for every new booking request."})]}),e.jsx("button",{onClick:()=>S("requireApproval"),className:`w-10 h-6 flex items-center rounded-full px-1 transition-all duration-300 ${i.requireApproval?"bg-indigo-600":"bg-gray-300"}`,children:e.jsx("div",{className:`w-4 h-4 rounded-full bg-white transition-all transform ${i.requireApproval?"translate-x-4":""}`})})]}),e.jsxs("div",{className:"flex items-center justify-between group",children:[e.jsxs("div",{className:"max-w-[80%]",children:[e.jsx("p",{className:"text-sm font-black text-gray-800",children:"Auto-Accept Returning"}),e.jsx("p",{className:"text-[10px] text-gray-500 font-medium",children:"Skip approval for existing active clients."})]}),e.jsx("button",{onClick:()=>S("autoAcceptReturning"),className:`w-10 h-6 flex items-center rounded-full px-1 transition-all duration-300 ${i.autoAcceptReturning?"bg-indigo-600":"bg-gray-300"}`,children:e.jsx("div",{className:`w-4 h-4 rounded-full bg-white transition-all transform ${i.autoAcceptReturning?"translate-x-4":""}`})})]})]}),e.jsx("div",{className:"pt-5 border-t border-gray-100",children:e.jsxs("div",{className:"bg-indigo-50 p-4 rounded-2xl border border-indigo-100 flex gap-3",children:[e.jsx(as,{size:18,className:"text-indigo-500 shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[11px] font-black text-indigo-700 uppercase",children:"Pro Tip"}),e.jsx("p",{className:"text-[10px] text-indigo-900 font-medium leading-relaxed",children:"Regularly updating your availability increases booking conversion by 40%."})]})]})})]})]})})]}),e.jsx(A,{}),e.jsx(L,{})]})},XD=()=>{const[t,s]=j.useState(new Date),[r,l]=j.useState("month"),[i,o]=j.useState([]),[d,x]=j.useState(!0),[u,h]=j.useState("");j.useEffect(()=>{p()},[t,r]);const p=async()=>{x(!0);let M,T;if(r==="month")M=new Date(t.getFullYear(),t.getMonth(),1),T=new Date(t.getFullYear(),t.getMonth()+1,0);else if(r==="week"){const I=new Date(t);I.setDate(t.getDate()-(t.getDay()===0?6:t.getDay()-1)),I.setHours(0,0,0,0),M=I,T=new Date(M),T.setDate(M.getDate()+6),T.setHours(23,59,59,999)}else M=new Date(t),M.setHours(0,0,0,0),T=new Date(t),T.setHours(23,59,59,999);const _=await r9(M,T);o(_),x(!1)},g=()=>{const M=new Date(t);r==="month"?M.setMonth(t.getMonth()-1):r==="week"?M.setDate(t.getDate()-7):M.setDate(t.getDate()-1),s(M)},y=()=>{const M=new Date(t);r==="month"?M.setMonth(t.getMonth()+1):r==="week"?M.setDate(t.getDate()+7):M.setDate(t.getDate()+1),s(M)},f=()=>{s(new Date)},w=()=>{if(r==="month")return t.toLocaleString("default",{month:"long",year:"numeric"});if(r==="week"){const M=new Date(t);M.setDate(t.getDate()-(t.getDay()===0?6:t.getDay()-1));const T=new Date(M);return T.setDate(M.getDate()+6),M.getMonth()===T.getMonth()?`${M.toLocaleString("default",{month:"long"})} ${M.getDate()} - ${T.getDate()}, ${M.getFullYear()}`:`${M.toLocaleString("default",{month:"short"})} ${M.getDate()} - ${T.toLocaleString("default",{month:"short"})} ${T.getDate()}, ${M.getFullYear()}`}else return t.toLocaleString("default",{day:"numeric",month:"long",year:"numeric"})},v=(()=>{if(r==="month"){const M=new Date(t.getFullYear(),t.getMonth(),1),T=new Date(t.getFullYear(),t.getMonth()+1,0),_=M.getDay()===0?6:M.getDay()-1,I=[];for(let P=_;P>0;P--){const R=new Date(M);R.setDate(M.getDate()-P),I.push({day:R.getDate(),date:R,isOtherMonth:!0})}for(let P=1;P<=T.getDate();P++)I.push({day:P,date:new Date(t.getFullYear(),t.getMonth(),P),isOtherMonth:!1});const B=42-I.length;for(let P=1;P<=B;P++){const R=new Date(t.getFullYear(),t.getMonth()+1,P);I.push({day:P,date:R,isOtherMonth:!0})}return I}else if(r==="week"){const M=new Date(t);return M.setDate(t.getDate()-(t.getDay()===0?6:t.getDay()-1)),Array.from({length:7},(T,_)=>{const I=new Date(M);return I.setDate(M.getDate()+_),{day:I.getDate(),date:I,isOtherMonth:!1}})}else return[{day:t.getDate(),date:new Date(t),isOtherMonth:!1}]})(),N=i.filter(M=>M.title.toLowerCase().includes(u.toLowerCase())),A=M=>{const T=M.toISOString().split("T")[0];return N.filter(_=>_.date?_.date.split("T")[0]===T:_.day===M.getDate()&&M.getMonth()===t.getMonth()&&M.getFullYear()===t.getFullYear())},L=M=>{switch(M){case"blue":return"bg-blue-50 text-blue-700 border-blue-100";case"purple":return"bg-purple-50 text-purple-700 border-purple-100";case"orange":return"bg-orange-50 text-orange-700 border-orange-100";case"red":return"bg-red-50 text-red-700 border-red-100";case"emerald":return"bg-emerald-50 text-emerald-700 border-emerald-100";default:return"bg-gray-50 text-gray-700 border-gray-100"}};return e.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 max-w-[1600px] mx-auto flex flex-col gap-6 animate-in fade-in duration-500",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white border border-gray-200 rounded-2xl flex items-center justify-center text-blue-600 shadow-sm",children:e.jsx(Ye,{size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"Session Calendar"}),e.jsx("p",{className:"text-gray-500 text-sm mt-0.5",children:w()})]})]}),e.jsxs("div",{className:"flex items-center gap-2 bg-white p-1.5 border border-gray-200 rounded-2xl shadow-sm",children:[e.jsx("button",{onClick:()=>l("month"),className:`px-4 py-2 rounded-xl text-sm font-bold transition-all ${r==="month"?"bg-blue-600 text-white shadow-lg shadow-blue-200":"text-gray-500 hover:bg-gray-50"}`,children:"Month"}),e.jsx("button",{onClick:()=>l("week"),className:`px-4 py-2 rounded-xl text-sm font-bold transition-all ${r==="week"?"bg-blue-600 text-white shadow-lg shadow-blue-200":"text-gray-500 hover:bg-gray-50"}`,children:"Week"}),e.jsx("button",{onClick:()=>l("day"),className:`px-4 py-2 rounded-xl text-sm font-bold transition-all ${r==="day"?"bg-blue-600 text-white shadow-lg shadow-blue-200":"text-gray-500 hover:bg-gray-50"}`,children:"Day"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center bg-white p-4 rounded-3xl border border-gray-100 shadow-sm gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:g,className:"p-2 hover:bg-gray-50 rounded-xl border border-gray-100 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(Wr,{size:20})}),e.jsx("button",{onClick:y,className:"p-2 hover:bg-gray-50 rounded-xl border border-gray-100 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(vs,{size:20})})]}),e.jsx("button",{onClick:f,className:"px-4 py-2 text-sm font-bold text-blue-600 hover:bg-blue-50 rounded-xl transition-colors",children:"Today"})]}),e.jsx("div",{className:"flex items-center gap-3 w-full sm:w-auto",children:e.jsxs("div",{className:"relative flex-1 sm:w-64",children:[e.jsx(Qe,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),e.jsx("input",{type:"text",placeholder:"Find session...",className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border-none rounded-xl text-sm focus:ring-2 focus:ring-blue-500 transition-all outline-none",value:u,onChange:M=>h(M.target.value)})]})})]}),e.jsxs("div",{className:"bg-white rounded-[32px] border border-gray-100 shadow-xl overflow-hidden",children:[r!=="day"&&e.jsx("div",{className:"grid grid-cols-7 border-b border-gray-100 bg-gray-50/50",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map(M=>e.jsx("div",{className:"py-4 text-center text-xs font-black text-gray-400 uppercase tracking-widest",children:M},M))}),e.jsx("div",{className:`grid ${r==="day"?"grid-cols-1":"grid-cols-7"} auto-rows-fr`,children:v.map((M,T)=>{const _=M.date.toDateString()===new Date().toDateString(),I=M.isOtherMonth,B=A(M.date);return e.jsxs("div",{className:`min-h-[120px] md:min-h-[160px] p-2 border-r border-b border-gray-100 transition-all hover:bg-gray-50/50 group relative ${I?"bg-gray-50/20":""}`,children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("span",{className:`text-sm font-black w-7 h-7 flex items-center justify-center rounded-lg transition-all ${_?"bg-blue-600 text-white shadow-lg shadow-blue-200":I?"text-gray-300":"text-gray-500"}`,children:M.day}),!I&&e.jsx("button",{className:"opacity-0 group-hover:opacity-100 p-1 hover:bg-white rounded-lg border border-gray-100 text-gray-400 transition-all",children:e.jsx(St,{size:14})})]}),e.jsxs("div",{className:"flex flex-col gap-1.5 overflow-hidden",children:[B.map(P=>e.jsxs("div",{className:`p-1.5 md:p-2 rounded-xl border text-[10px] md:text-xs font-bold transition-all hover:scale-[1.02] cursor-pointer shadow-sm ${L(P.color)}`,children:[e.jsxs("div",{className:"flex items-center gap-1 opacity-70 mb-0.5",children:[e.jsx(Je,{size:10}),P.time]}),e.jsx("div",{className:"truncate",children:P.title})]},P.id)),B.length>2&&e.jsxs("div",{className:"text-[10px] font-bold text-gray-400 px-1",children:["+ ",B.length-2," more"]})]})]},T)})})]}),e.jsxs("div",{className:"lg:hidden flex items-center justify-center gap-2 p-4 bg-blue-50 border border-blue-100 rounded-2xl",children:[e.jsx(Oj,{size:16,className:"text-blue-500"}),e.jsx("span",{className:"text-xs font-bold text-blue-700",children:"Tip: Tap a day to see full session details"})]})]})},KD=()=>{const[t,s]=j.useState([]),[r,l]=j.useState(!0),[i,o]=j.useState("All"),[d,x]=j.useState(""),[u,h]=j.useState(null),[p,g]=j.useState(!1),[y,f]=j.useState(null),[w,S]=j.useState(!1),[v,N]=j.useState(!1),[A,L]=j.useState({title:"",date:"",time:"",duration:"60 min",location:"Studio A",maxMembers:"20",type:"Group Class"});j.useEffect(()=>{M()},[i,d]);const M=async()=>{l(!0);const P=await s9({filters:{type:i==="All"?"":i,search:d},limit:100});s(P?.data||[]),l(!1)},T=async(B,P)=>{await l9(B,P==="Confirmed"?"Pending":"Confirmed"),M()},_=B=>{if(!B)return"bg-gray-50 text-gray-700 border-gray-100 hover:bg-gray-100 hover:shadow-lg cursor-pointer";switch(B.toLowerCase()){case"confirmed":return"bg-green-50 text-green-700 border-green-100 hover:bg-green-100 hover:shadow-lg cursor-pointer";case"pending":return"bg-amber-50 text-amber-700 border-amber-100 hover:bg-amber-100 hover:shadow-lg cursor-pointer";default:return"bg-gray-50 text-gray-700 border-gray-100 hover:bg-gray-100 hover:shadow-lg cursor-pointer"}},I=async B=>{B.preventDefault(),N(!0);try{await a9(A),S(!1),L({title:"",date:"",time:"",duration:"60 min",location:"Studio A",maxMembers:"20",type:"Group Class"}),M()}catch(P){console.error("Error creating slot:",P),alert(P)}finally{N(!1)}};return e.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 max-w-[1600px] mx-auto flex flex-col gap-6 animate-in fade-in duration-500 pb-12",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{className:"transform hover:translate-x-1 transition-transform duration-300",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 tracking-tight bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text hover:from-blue-600 hover:to-purple-600 transition-all duration-500",children:"Upcoming Sessions"}),e.jsx("p",{className:"text-gray-500 text-sm mt-1 hover:text-gray-700 transition-colors duration-300",children:"Review your schedule for the next 7 days"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{className:"relative p-2.5 bg-white border border-gray-200 rounded-xl text-gray-500 hover:text-blue-600 hover:bg-blue-50 transition-all shadow-sm hover:scale-110 hover:shadow-lg hover:border-blue-300 group",children:[e.jsx(vl,{size:20,className:"group-hover:rotate-12 group-hover:scale-110 transition-all duration-300"}),e.jsx("span",{className:"absolute top-2 right-2 w-2 h-2 bg-red-500 rounded-full border-2 border-white animate-pulse"})]}),e.jsxs("button",{onClick:()=>S(!0),className:"flex items-center gap-2 px-4 sm:px-6 py-2.5 bg-blue-600 text-white rounded-xl text-sm font-bold hover:bg-blue-500 transition-all shadow-lg shadow-blue-200 active:scale-95 hover:scale-105 hover:shadow-xl",children:[e.jsx("span",{className:"hidden sm:inline",children:"Create New Slot"}),e.jsx("span",{className:"sm:hidden",children:"+ New"})]})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-3xl border border-gray-100 shadow-sm flex flex-col md:flex-row gap-4 items-center hover:shadow-xl hover:border-blue-200 transition-all duration-500 transform hover:-translate-y-1",children:[e.jsxs("div",{className:"relative flex-1 w-full group",children:[e.jsx(Qe,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-hover:text-blue-500 group-hover:scale-110 transition-all duration-300",size:18}),e.jsx("input",{type:"text",placeholder:"Search by session title or member name...",className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border-none rounded-2xl text-sm focus:ring-2 focus:ring-blue-500 transition-all outline-none hover:bg-white hover:shadow-sm",value:d,onChange:B=>x(B.target.value)})]}),e.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto overflow-x-auto no-scrollbar py-1",children:[["All","Group Class","One-on-One"].map(B=>e.jsx("button",{onClick:()=>o(B),className:`px-4 py-2 rounded-xl text-xs font-bold whitespace-nowrap transition-all border hover:scale-105 hover:shadow-md ${i===B?"bg-gray-900 text-white border-gray-900 shadow-lg":"bg-white text-gray-500 border-gray-200 hover:border-gray-300"}`,children:B},B)),e.jsx("div",{className:"h-6 w-px bg-gray-200 mx-2"}),e.jsx("button",{className:"p-2 bg-gray-50 text-gray-500 rounded-xl hover:bg-gray-100 hover:scale-110 hover:shadow-md transition-all duration-300 group",children:e.jsx(Ns,{size:18,className:"group-hover:rotate-12 transition-transform duration-300"})})]})]}),r?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[e.jsx("div",{className:"w-10 h-10 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"mt-4 text-gray-500 font-medium",children:"Loading sessions..."})]}):t.length>0?e.jsx("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 text-left",children:t.map(B=>e.jsxs("div",{className:"group bg-white rounded-[32px] border border-gray-100 shadow-sm hover:shadow-2xl hover:border-blue-200 transition-all duration-500 overflow-hidden flex flex-col md:flex-row hover:scale-[1.02] transform",children:[e.jsxs("div",{className:"md:w-36 bg-slate-50 p-6 flex flex-col items-center justify-center text-center border-b md:border-b-0 md:border-r border-slate-100 group-hover:bg-indigo-50 transition-colors duration-500",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1 group-hover:text-indigo-600 transition-colors duration-300",children:new Date(B.date).toLocaleDateString("en-US",{weekday:"short"})}),e.jsx("p",{className:"text-3xl font-black text-slate-900 group-hover:text-indigo-600 group-hover:scale-110 transition-all duration-500",children:new Date(B.date).getDate()}),e.jsx("p",{className:"text-[10px] font-black text-slate-500 group-hover:text-indigo-600 transition-colors duration-300 uppercase tracking-tighter",children:new Date(B.date).toLocaleDateString("en-US",{month:"short"})})]}),e.jsxs("div",{className:"flex-1 p-4 sm:p-6 flex flex-col justify-between relative",children:[e.jsxs("div",{className:"absolute top-4 sm:top-6 right-4 sm:right-6 flex items-center gap-2",children:[e.jsx("button",{onClick:()=>T(B.id,B.status),className:`px-2.5 py-1 rounded-lg text-[10px] font-black uppercase border transition-all active:scale-95 hover:scale-110 hover:shadow-lg ${_(B.status)}`,children:B.status}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:P=>{P.stopPropagation(),f(y===B.id?null:B.id)},className:`p-1.5 rounded-lg transition-all hover:scale-110 ${y===B.id?"bg-blue-50 text-blue-600 rotate-90":"hover:bg-gray-50 text-gray-300"}`,children:e.jsx(_c,{size:18})}),y===B.id&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>f(null)}),e.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-2xl shadow-xl border border-gray-100 py-2 z-20 animate-in zoom-in-95 duration-200 origin-top-right",children:[e.jsxs("button",{className:"w-full px-4 py-2.5 text-left text-sm font-bold text-gray-700 hover:bg-gray-50 flex items-center gap-2 transition-colors group/item",children:[e.jsx(Sd,{size:16,className:"text-blue-500 group-hover/item:scale-125 group-hover/item:rotate-12 transition-all duration-300"})," Edit Slot"]}),e.jsxs("button",{className:"w-full px-4 py-2.5 text-left text-sm font-bold text-gray-700 hover:bg-gray-50 flex items-center gap-2 transition-colors group/item",children:[e.jsx(Js,{size:16,className:"text-purple-500 group-hover/item:scale-125 group-hover/item:-translate-y-0.5 transition-all duration-300"})," Export Roster"]}),e.jsx("div",{className:"h-px bg-gray-100 my-1 mx-2"}),e.jsxs("button",{className:"w-full px-4 py-2.5 text-left text-sm font-bold text-red-600 hover:bg-red-50 flex items-center gap-2 transition-colors group/item",children:[e.jsx(Ms,{size:16,className:"text-red-500 group-hover/item:scale-125 transition-all duration-300"})," Cancel Session"]})]})]})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center gap-2 mb-3",children:e.jsx("span",{className:`px-2.5 py-0.5 rounded-lg text-[9px] font-black uppercase tracking-widest group-hover:scale-110 transition-transform duration-300 inline-block border ${B.type==="One-on-One"?"bg-purple-50 text-purple-600 border-purple-100":"bg-indigo-50 text-indigo-600 border-indigo-100"}`,children:B.type})}),e.jsx("h3",{className:"text-xl font-black text-slate-800 group-hover:text-indigo-600 group-hover:translate-x-1 transition-all duration-300 mb-4 tracking-tight leading-tight",children:B.title}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-y-3 gap-x-6",children:[e.jsxs("div",{className:"flex items-center gap-3 text-slate-500 group-hover:text-indigo-600 transition-colors duration-300",children:[e.jsx("div",{className:"p-2 bg-slate-50 rounded-xl group-hover:bg-white group-hover:shadow-md group-hover:scale-110 transition-all duration-300",children:e.jsx(Je,{size:16,className:"text-indigo-500 group-hover:rotate-12 transition-transform duration-300"})}),e.jsx("span",{className:"text-[11px] font-black uppercase tracking-widest",children:B.time})]}),e.jsxs("div",{className:"flex items-center gap-3 text-slate-500 group-hover:text-amber-600 transition-colors duration-300",children:[e.jsx("div",{className:"p-2 bg-slate-50 rounded-xl group-hover:bg-white group-hover:shadow-md group-hover:scale-110 transition-all duration-300",children:e.jsx($s,{size:16,className:"text-amber-400 group-hover:scale-125 transition-transform duration-300"})}),e.jsx("span",{className:"text-[11px] font-black uppercase tracking-widest truncate",children:B.location})]}),e.jsxs("div",{className:"flex items-center gap-3 text-slate-500 group-hover:text-fuchsia-600 transition-colors duration-300",children:[e.jsx("div",{className:"p-2 bg-slate-50 rounded-xl group-hover:bg-white group-hover:shadow-md group-hover:scale-110 transition-all duration-300",children:e.jsx(Et,{size:16,className:"text-fuchsia-400 group-hover:scale-125 transition-transform duration-300"})}),e.jsxs("span",{className:"text-[11px] font-black uppercase tracking-widest",children:[B.members,"/",B.maxMembers," Members"]})]})]})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-100 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex -space-x-3",children:[[1,2,3].map(P=>e.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-white bg-indigo-50 flex items-center justify-center text-[10px] font-black text-indigo-600 group-hover:scale-110 group-hover:rotate-6 transition-all duration-500 hover:z-10 shadow-sm",children:String.fromCharCode(64+P)},P)),B.members>3&&e.jsxs("div",{className:"w-10 h-10 rounded-full border-2 border-white bg-slate-50 flex items-center justify-center text-[10px] font-black text-slate-500 group-hover:scale-110 transition-all duration-500 shadow-sm",children:["+",B.members-3]})]}),e.jsxs("button",{onClick:()=>{h(B),g(!0)},className:"flex items-center gap-2 py-2 px-4 bg-slate-50 rounded-xl text-[10px] font-black uppercase tracking-widest text-indigo-600 hover:bg-indigo-600 hover:text-white transition-all hover:scale-105 active:scale-95 group/btn shadow-sm hover:shadow-indigo-100",children:["View Details ",e.jsx(rl,{size:14,className:"group-hover/btn:rotate-45 group-hover/btn:scale-125 transition-all duration-300"})]})]})]})]},B.id))}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 bg-white rounded-[40px] border border-gray-100 shadow-sm border-dashed",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-50 rounded-full flex items-center justify-center text-gray-300 mb-6",children:e.jsx(Ye,{size:40})}),e.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"No sessions found"}),e.jsx("p",{className:"text-gray-500 mt-2 max-w-xs text-center",children:"Try adjusting your filters or search term."})]}),e.jsx(at,{isOpen:p,onClose:()=>g(!1),title:"Session Details",subtitle:`${u?.title}  ${u?.time}`,maxWidth:"max-w-2xl",footer:e.jsxs("div",{className:"flex gap-4 w-full",children:[e.jsxs("button",{className:"flex-1 py-4 bg-white border border-gray-200 rounded-2xl text-sm font-black text-gray-700 hover:bg-gray-100 hover:border-gray-300 shadow-sm active:scale-95 transition-all flex items-center justify-center gap-2",children:[e.jsx(Lj,{size:18})," Reschedule"]}),e.jsxs("button",{className:"flex-1 py-4 bg-blue-600 text-white rounded-2xl text-sm font-black hover:bg-blue-700 shadow-xl shadow-blue-200 active:scale-95 transition-all flex items-center justify-center gap-2",children:[e.jsx(Js,{size:18})," Download Roster"]})]}),children:u&&e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"p-8 border-b border-gray-100 bg-gray-50/30 flex items-start justify-between",children:e.jsxs("div",{className:"flex gap-6",children:[e.jsxs("div",{className:"w-20 h-20 bg-white rounded-3xl border border-gray-100 shadow-sm flex flex-col items-center justify-center text-center",children:[e.jsx("p",{className:"text-[10px] font-black text-blue-600 uppercase tracking-widest leading-none mb-1",children:new Date(u.date).toLocaleDateString("en-US",{month:"short"})}),e.jsx("p",{className:"text-2xl font-black text-gray-900 leading-none",children:new Date(u.date).getDate()})]}),e.jsxs("div",{className:"pt-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:`px-2.5 py-1 rounded-lg text-[10px] font-black uppercase border ${_(u.status)}`,children:u.status}),e.jsx("span",{className:"px-2.5 py-1 rounded-lg bg-gray-100 text-gray-500 text-[10px] font-black uppercase tracking-wider",children:u.location})]}),e.jsx("h2",{className:"text-2xl font-black text-gray-900 leading-tight",children:u.title}),e.jsx("p",{className:"text-gray-500 font-bold text-sm mt-1",children:"90 Min Duration"})]})]})}),e.jsxs("div",{className:"p-8 pb-10 grid grid-cols-1 md:grid-cols-3 gap-8 overflow-y-auto custom-scrollbar",children:[e.jsxs("div",{className:"md:col-span-1 space-y-4",children:[e.jsxs("div",{className:"p-5 bg-blue-50 rounded-3xl border border-blue-100/50",children:[e.jsx("p",{className:"text-[10px] font-black text-blue-400 uppercase tracking-widest mb-3",children:"Capacity"}),e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsx("p",{className:"text-3xl font-black text-blue-900",children:u.members}),e.jsxs("p",{className:"text-sm font-bold text-blue-400 pb-1",children:["/ ",u.maxMembers]})]}),e.jsx("div",{className:"mt-4 w-full h-2 bg-white rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-600 rounded-full transition-all duration-1000",style:{width:`${u.members/u.maxMembers*100}%`}})})]}),e.jsxs("button",{className:"w-full flex items-center justify-between p-4 bg-gray-50 rounded-2xl hover:bg-gray-100 transition-colors group",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(er,{size:18,className:"text-gray-400 group-hover:text-blue-600 transition-colors"}),e.jsx("span",{className:"text-sm font-bold text-gray-600",children:"Session Plan"})]}),e.jsx(rl,{size:16,className:"text-gray-300"})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("h3",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-4 flex items-center justify-between",children:["Enrolled Members",e.jsx("span",{className:"text-blue-600",children:"View All"})]}),e.jsxs("div",{className:"space-y-3",children:[[{name:"Alex Thompson",plan:"Gold Plus",time:"Enrolled 2d ago"},{name:"Emma Watson",plan:"Premium",time:"Enrolled 1d ago"},{name:"Mike Ross",plan:"Basic",time:"Enrolled 5h ago"}].map((B,P)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white border border-gray-100 rounded-2xl hover:border-blue-200 hover:shadow-md transition-all group cursor-pointer",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center text-gray-600 font-black text-sm group-hover:from-blue-600 group-hover:to-indigo-700 group-hover:text-white transition-all",children:B.name.charAt(0)}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-gray-900 text-sm",children:B.name}),e.jsx("p",{className:"text-[10px] text-gray-500 font-bold uppercase",children:B.plan})]})]}),e.jsx("p",{className:"text-[10px] font-bold text-gray-400",children:B.time})]},P)),u.members>3&&e.jsxs("div",{className:"p-3 text-center text-[10px] font-black text-gray-400 uppercase tracking-widest bg-gray-50 rounded-xl",children:["+ ",u.members-3," more members"]})]})]})]})]})}),e.jsx(at,{isOpen:w,onClose:()=>S(!1),title:"Create New Slot",subtitle:"Add a new class or session to your schedule",maxWidth:"max-w-md",footer:e.jsx("div",{className:"flex gap-4 w-full",children:e.jsxs("button",{onClick:I,disabled:v,className:`flex-1 py-4 bg-blue-600 text-white rounded-2xl text-sm font-black shadow-xl shadow-blue-200 transition-all flex items-center justify-center gap-2 ${v?"opacity-70":"hover:bg-blue-700 active:scale-95"}`,children:[v?e.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):e.jsx(xa,{size:18}),v?"Saving...":"Create Slot"]})}),children:e.jsx("div",{className:"p-6 space-y-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-1 block",children:"Title"}),e.jsx("input",{type:"text",className:"w-full bg-gray-50 border border-gray-100 rounded-xl px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g. Morning Yoga",value:A.title,onChange:B=>L({...A,title:B.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-1 block",children:"Date"}),e.jsx("input",{type:"date",className:"w-full bg-gray-50 border border-gray-100 rounded-xl px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",value:A.date,onChange:B=>L({...A,date:B.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-1 block",children:"Time"}),e.jsx("input",{type:"time",className:"w-full bg-gray-50 border border-gray-100 rounded-xl px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",value:A.time,onChange:B=>L({...A,time:B.target.value})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-1 block",children:"Duration"}),e.jsx("input",{type:"text",className:"w-full bg-gray-50 border border-gray-100 rounded-xl px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"60 min",value:A.duration,onChange:B=>L({...A,duration:B.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-1 block",children:"Capacity"}),e.jsx("input",{type:"number",className:"w-full bg-gray-50 border border-gray-100 rounded-xl px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"20",value:A.maxMembers,onChange:B=>L({...A,maxMembers:B.target.value})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-1 block",children:"Location"}),e.jsx("input",{type:"text",className:"w-full bg-gray-50 border border-gray-100 rounded-xl px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Studio A",value:A.location,onChange:B=>L({...A,location:B.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-1 block",children:"Type"}),e.jsxs("select",{className:"w-full bg-gray-50 border border-gray-100 rounded-xl px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",value:A.type,onChange:B=>L({...A,type:B.target.value}),children:[e.jsx("option",{value:"Group Class",children:"Group Class"}),e.jsx("option",{value:"One-on-One",children:"One-on-One"})]})]})]})})})]})},JD=()=>{const t=zr(),s=Gt(),r=[{label:"Walk-in Inquiry",path:"/crm/inquiry",icon:fn},{label:"Leads Pipeline",path:"/crm/pipeline",icon:Ix},{label:"Today Follow-ups",path:"/crm/followups",icon:Je}],l=t.pathname==="/crm/my-leads";return e.jsx("div",{className:"saas-container bg-gradient-to-br from-slate-50 via-white to-violet-50/30",children:e.jsxs("div",{className:"max-w-[1400px] mx-auto",children:[e.jsxs("header",{className:"mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-5 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-4 md:p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 md:gap-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(Qe,{size:28})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent tracking-tight",children:l?"My Leads":"CRM & Sales"}),e.jsx("p",{className:"text-slate-600 text-sm mt-1 font-medium",children:"Manage walk-ins, track leads, and drive conversions."})]})]}),!l&&e.jsx("nav",{className:"flex items-center gap-2 p-1.5 bg-slate-50/50 rounded-[20px] border border-slate-100 shadow-inner overflow-x-auto scrollbar-hide",children:r.map(i=>{const o=t.pathname===i.path;return e.jsxs("button",{onClick:()=>s(i.path),className:`
                                                    flex items-center gap-2 px-5 py-2.5 rounded-xl text-xs font-black uppercase tracking-widest transition-all whitespace-nowrap
                                                    ${o?"bg-gradient-to-r from-violet-600 to-purple-600 text-white shadow-lg shadow-violet-200":"text-slate-400 hover:text-violet-600 hover:bg-white"}
                                                `,children:[e.jsx(i.icon,{size:16}),e.jsx("span",{className:"hidden sm:inline",children:i.label})]},i.path)})})]})})]}),e.jsx("main",{className:"saas-section",children:e.jsx(Xh,{})})]})})},ZD=["Walk-in","Instagram","Facebook","Google","Referral","Other"],QD=["Weight Loss","Strength Training","Yoga","Zumba","CrossFit","Cardio","Bodybuilding"],eL=()=>{const t=Gt(),[s,r]=j.useState(!1),[l,i]=j.useState([]),{user:o}=Ho(),d=o||{role:"",id:""},[x,u]=j.useState({name:"",phone:"",email:"",gender:"",age:"",interests:[],source:"",budgetRange:"",preferredContact:"WhatsApp",assignedTo:d.role===ct.TRAINER?d.id:"",followUpDate:"",followUpTime:"",notes:""});j.useEffect(()=>{(async()=>{try{const y=await jw();i(Array.isArray(y)?y:[])}catch(y){console.error("Could not load staff list:",y)}})()},[]);const h=g=>{u(y=>({...y,interests:y.interests.includes(g)?y.interests.filter(f=>f!==g):[...y.interests,g]}))},p=async g=>{g.preventDefault(),r(!0);try{await Kx.createLead(x),lt.success("Lead Created Successfully!"),t("/crm/pipeline")}catch(y){console.error("Failed to create lead:",y),lt.error(y.message||"Failed to create lead")}finally{r(!1)}};return e.jsx("div",{className:"max-w-5xl mx-auto",children:e.jsxs("div",{className:"saas-card animate-in fade-in slide-in-from-bottom-4 duration-500",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6 md:mb-10 pb-4 md:pb-6 border-b border-slate-100",children:[e.jsx("div",{className:"w-12 h-12 md:w-14 md:h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg",children:e.jsx(fn,{size:24,className:"md:w-[28px] md:h-[28px]"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl md:text-2xl font-black text-slate-800 tracking-tight",children:"New Walk-in Inquiry"}),e.jsx("p",{className:"text-slate-500 text-[11px] md:text-sm font-medium italic",children:"Capture details for your next successful conversion."})]})]}),e.jsxs("form",{onSubmit:p,className:"space-y-6 md:space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-y-4 md:gap-y-6 gap-x-8",children:[e.jsxs("div",{className:"saas-form-group",children:[e.jsx("label",{className:"saas-label uppercase tracking-widest text-[10px] font-black text-slate-500 mb-2",children:"Full Name *"}),e.jsx("input",{required:!0,className:"saas-input rounded-xl bg-slate-50/50 border-slate-200 focus:bg-white h-12",placeholder:"e.g. Rahul Sharma",value:x.name,onChange:g=>u({...x,name:g.target.value})})]}),e.jsxs("div",{className:"saas-form-group",children:[e.jsx("label",{className:"saas-label uppercase tracking-widest text-[10px] font-black text-slate-500 mb-2",children:"Phone Number *"}),e.jsx("input",{required:!0,type:"tel",className:"saas-input rounded-xl bg-slate-50/50 border-slate-200 focus:bg-white h-12",placeholder:"e.g. 9876543210",value:x.phone,onChange:g=>u({...x,phone:g.target.value})})]}),e.jsxs("div",{className:"saas-form-group",children:[e.jsx("label",{className:"saas-label uppercase tracking-widest text-[10px] font-black text-slate-500 mb-2",children:"Email Address"}),e.jsx("input",{type:"email",className:"saas-input rounded-xl bg-slate-50/50 border-slate-200 focus:bg-white h-12",placeholder:"rahul@example.com",value:x.email,onChange:g=>u({...x,email:g.target.value})})]}),e.jsxs("div",{className:"saas-form-group",children:[e.jsx("label",{className:"saas-label uppercase tracking-widest text-[10px] font-black text-slate-500 mb-2",children:"Gender"}),e.jsxs("select",{className:"saas-input rounded-xl bg-slate-50/50 border-slate-200 focus:bg-white h-12 cursor-pointer",value:x.gender,onChange:g=>u({...x,gender:g.target.value}),children:[e.jsx("option",{value:"",children:"Select Gender"}),e.jsx("option",{value:"Male",children:"Male"}),e.jsx("option",{value:"Female",children:"Female"}),e.jsx("option",{value:"Other",children:"Other"})]})]}),e.jsxs("div",{className:"saas-form-group",children:[e.jsx("label",{className:"saas-label uppercase tracking-widest text-[10px] font-black text-slate-500 mb-2",children:"Age"}),e.jsx("input",{type:"number",className:"saas-input rounded-xl bg-slate-50/50 border-slate-200 focus:bg-white h-12",placeholder:"e.g. 25",value:x.age,onChange:g=>u({...x,age:g.target.value})})]}),e.jsxs("div",{className:"saas-form-group",children:[e.jsx("label",{className:"saas-label uppercase tracking-widest text-[10px] font-black text-slate-500 mb-2",children:"Interested In"}),e.jsx("div",{className:"flex flex-wrap gap-2 pt-1",children:QD.map(g=>e.jsx("button",{type:"button",onClick:()=>h(g),className:`px-3 py-1.5 rounded-lg text-[10px] font-black uppercase tracking-wider border transition-all ${x.interests.includes(g)?"bg-violet-600 border-violet-600 text-white shadow-md shadow-violet-100 scale-105":"bg-white border-slate-200 text-slate-500 hover:border-violet-300"}`,children:g},g))})]}),e.jsxs("div",{className:"saas-form-group",children:[e.jsx("label",{className:"saas-label uppercase tracking-widest text-[10px] font-black text-slate-500 mb-2",children:"Lead Source"}),e.jsxs("select",{className:"saas-input rounded-xl bg-slate-50/50 border-slate-200 focus:bg-white h-12 cursor-pointer",value:x.source,onChange:g=>u({...x,source:g.target.value}),children:[e.jsx("option",{value:"",children:"Select Source"}),ZD.map(g=>e.jsx("option",{value:g,children:g},g))]})]}),e.jsxs("div",{className:"saas-form-group",children:[e.jsx("label",{className:"saas-label uppercase tracking-widest text-[10px] font-black text-slate-500 mb-2",children:"Budget Range (Monthly)"}),e.jsx("input",{className:"saas-input rounded-xl bg-slate-50/50 border-slate-200 focus:bg-white h-12",placeholder:"e.g. 3000-5000",value:x.budgetRange,onChange:g=>u({...x,budgetRange:g.target.value})})]}),e.jsxs("div",{className:"saas-form-group",children:[e.jsx("label",{className:"saas-label uppercase tracking-widest text-[10px] font-black text-slate-500 mb-2",children:"Follow-up Date *"}),e.jsx("input",{required:!0,type:"date",className:"saas-input rounded-xl bg-slate-50/50 border-slate-200 focus:bg-white h-12",value:x.followUpDate,onChange:g=>u({...x,followUpDate:g.target.value})})]}),e.jsxs("div",{className:"saas-form-group",children:[e.jsx("label",{className:"saas-label uppercase tracking-widest text-[10px] font-black text-slate-500 mb-2",children:"Follow-up Time"}),e.jsx("input",{type:"time",className:"saas-input rounded-xl bg-slate-50/50 border-slate-200 focus:bg-white h-12",value:x.followUpTime,onChange:g=>u({...x,followUpTime:g.target.value})})]}),e.jsxs("div",{className:"saas-form-group",children:[e.jsx("label",{className:"saas-label uppercase tracking-widest text-[10px] font-black text-slate-500 mb-2",children:"Assign To"}),e.jsxs("select",{className:"saas-input rounded-xl bg-slate-50/50 border-slate-200 focus:bg-white h-12 cursor-pointer disabled:bg-slate-100",disabled:d.role===ct.TRAINER,value:x.assignedTo,onChange:g=>u({...x,assignedTo:g.target.value}),children:[e.jsx("option",{value:"",children:"Unassigned"}),d.id&&e.jsxs("option",{value:d.id,children:["Self (",d.name||"Me",")"]}),l.filter(g=>g.id!==d.id).map(g=>e.jsxs("option",{value:g.id,children:[g.role==="TRAINER"?" ":" ",g.name," (",g.role.charAt(0)+g.role.slice(1).toLowerCase(),")"]},g.id))]})]}),e.jsxs("div",{className:"saas-form-group",children:[e.jsx("label",{className:"saas-label uppercase tracking-widest text-[10px] font-black text-slate-500 mb-2",children:"Preferred Contact"}),e.jsxs("select",{className:"saas-input rounded-xl bg-slate-50/50 border-slate-200 focus:bg-white h-12 cursor-pointer",value:x.preferredContact,onChange:g=>u({...x,preferredContact:g.target.value}),children:[e.jsx("option",{value:"WhatsApp",children:"WhatsApp"}),e.jsx("option",{value:"Call",children:"Phone Call"}),e.jsx("option",{value:"Email",children:"Email"})]})]}),e.jsxs("div",{className:"saas-form-group lg:col-span-2",children:[e.jsx("label",{className:"saas-label uppercase tracking-widest text-[10px] font-black text-slate-500 mb-2",children:"Internal Notes"}),e.jsx("textarea",{rows:4,className:"saas-input min-h-[120px] rounded-xl bg-slate-50/50 border-slate-200 focus:bg-white pt-3",placeholder:"Add anything helpful for conversion...",value:x.notes,onChange:g=>u({...x,notes:g.target.value})})]})]}),e.jsxs("div",{className:"pt-8 md:pt-10 border-t border-slate-100 flex flex-col sm:flex-row items-center justify-end gap-3 md:gap-4",children:[e.jsx("button",{type:"button",onClick:()=>t("/crm/pipeline"),className:"w-full sm:w-auto px-8 py-3.5 rounded-xl text-slate-400 font-bold uppercase tracking-widest text-[10px] hover:bg-slate-50 transition-all border border-transparent hover:border-slate-100",children:"Discard"}),e.jsxs("button",{disabled:s,className:`
                                w-full sm:w-auto px-10 py-4 rounded-xl bg-gradient-to-r from-violet-600 to-indigo-600 text-white font-black uppercase tracking-widest text-[10px] shadow-lg shadow-violet-200/50 
                                hover:shadow-xl hover:shadow-violet-300/50 hover:-translate-y-0.5 active:translate-y-0 transition-all flex items-center justify-center gap-3
                                ${s?"opacity-70 cursor-not-allowed":""}
                            `,children:[s?e.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):e.jsx(fn,{size:16}),"Save New Lead"]})]})]})]})})},tL=[{id:"New",label:"New Inquiries",color:"blue"},{id:"Contacted",label:"Contacted",color:"amber"},{id:"Qualified",label:"Qualified",color:"purple"},{id:"Converted",label:"Converted",color:"emerald"},{id:"Lost",label:"Lost",color:"rose"}],iy=()=>{const[t,s]=j.useState([]),[r,l]=j.useState(!0),[i,o]=j.useState(""),[d,x]=j.useState({show:!1,message:"",type:"success"}),{user:u}=Ho(),h=async()=>{try{l(!0);const f=await Kx.getLeads();s(f)}catch(f){console.error("Error fetching leads:",f),x({show:!0,message:"Failed to load leads",type:"error"})}finally{l(!1)}};j.useEffect(()=>{h()},[]);const p=async(f,w)=>{let S="",v="";if(w==="contact"?(S="Contacted",v="Lead marked as contacted."):w==="convert"?(S="Converted",v="Lead converted to member successfully!"):w==="lost"&&(S="Lost",v="Lead marked as not interested."),S)try{await Kx.updateLeadStatus(f,S),s(t.map(N=>N.id===f?{...N,status:S}:N)),x({show:!0,message:v,type:"success"}),setTimeout(()=>x({show:!1,message:"",type:"success"}),3e3)}catch(N){console.error("Update failed:",N),x({show:!0,message:"Failed to update status",type:"error"})}},g={blue:"bg-blue-500",amber:"bg-amber-500",purple:"bg-purple-500",emerald:"bg-emerald-500",rose:"bg-rose-500"},y=t.filter(f=>f.name.toLowerCase().includes(i.toLowerCase())||f.phone.includes(i));return e.jsxs("div",{className:"space-y-6 md:space-y-8",children:[e.jsx("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 overflow-visible hover:shadow-2xl transition-all duration-300",children:e.jsxs("div",{className:"p-4 md:p-6 border-b border-slate-100 flex flex-col md:flex-row gap-4 items-center justify-between",children:[e.jsxs("div",{className:"relative w-full md:w-96 group",children:[e.jsx(Qe,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 transition-colors",size:18}),e.jsx("input",{type:"text",className:"pl-11 h-11 w-full rounded-xl border-2 border-slate-200 focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 transition-all text-sm bg-white",placeholder:"Search leads by name or phone...",value:i,onChange:f=>o(f.target.value)})]}),e.jsx("div",{className:"flex items-center gap-3 w-full md:w-auto",children:e.jsxs("button",{className:"flex-1 md:flex-none flex items-center justify-center gap-2 px-4 py-2.5 bg-slate-50 border-2 border-slate-100 rounded-xl text-xs font-black uppercase tracking-widest text-slate-500 hover:bg-white hover:border-violet-200 hover:text-violet-600 transition-all",children:[e.jsx(Ns,{size:16}),"Filter"]})})]})}),e.jsx("div",{className:"flex flex-col lg:flex-row gap-6 lg:overflow-x-auto lg:pb-8 scrollbar-hide min-h-[600px]",children:tL.map(f=>e.jsxs("div",{className:"flex-shrink-0 w-full lg:w-[350px] flex flex-col gap-3 md:gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between px-1 md:px-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${g[f.color]||"bg-slate-400"}`}),e.jsx("h3",{className:"text-xs md:text-sm font-black text-slate-700 uppercase tracking-widest",children:f.label}),e.jsx("span",{className:"px-2 py-0.5 rounded-md bg-slate-100 text-[9px] md:text-[10px] font-bold text-slate-500",children:y.filter(w=>w.status===f.id).length})]}),e.jsx(_c,{size:16,className:"text-slate-400 cursor-pointer"})]}),e.jsx("div",{className:"flex flex-col gap-3 md:gap-4 p-1 md:p-2 rounded-2xl bg-slate-50/50 border border-slate-100/50 min-h-[150px]",children:y.filter(w=>w.status===f.id).map(w=>e.jsxs("div",{className:"saas-card !mb-0 group cursor-grab active:cursor-grabbing border-slate-100 hover:border-violet-200 hover:shadow-violet-500/10 transition-all duration-300",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-slate-100 to-slate-200 flex items-center justify-center text-slate-600 font-black text-sm group-hover:from-violet-500 group-hover:to-purple-600 group-hover:text-white transition-all duration-500",children:w.name.charAt(0)}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-slate-800 text-sm group-hover:text-violet-700 transition-colors uppercase tracking-tight",children:w.name}),e.jsx("p",{className:"text-[10px] font-bold text-slate-400 mt-0.5 tracking-wider",children:w.interest?.[0]||"Inquiry"})]})]}),e.jsx("button",{className:"p-1 text-slate-300 hover:text-slate-600",children:e.jsx(_c,{size:14})})]}),e.jsxs("div",{className:"space-y-3 mb-5",children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-500",children:[e.jsx(qs,{size:12,className:"text-violet-400"}),e.jsx("span",{className:"text-[11px] font-medium tracking-tight",children:w.phone})]}),e.jsxs("div",{className:"flex items-center gap-2 text-slate-500",children:[e.jsx(Ye,{size:12,className:"text-violet-400"}),e.jsxs("span",{className:"text-[11px] font-medium tracking-tight",children:["Follow-up: ",w.followUpDate]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-slate-50",children:[e.jsx("div",{className:"flex -space-x-2",children:e.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-white bg-violet-100 flex items-center justify-center text-[10px] font-bold text-violet-600",children:"AV"})}),e.jsxs("div",{className:"flex gap-2",children:[w.status!=="not-interested"&&e.jsx("button",{onClick:()=>p(w.id,"lost"),className:"p-2 rounded-lg bg-slate-50 text-slate-400 hover:bg-rose-50 hover:text-rose-600 transition-all",title:"Mark Lost",children:e.jsx(vn,{size:14})}),w.status!=="contacted"&&w.status!=="converted"&&w.status!=="not-interested"&&e.jsx("button",{onClick:()=>p(w.id,"contact"),className:"p-2 rounded-lg bg-slate-50 text-slate-400 hover:bg-violet-50 hover:text-violet-600 transition-all",title:"Mark Contacted",children:e.jsx($r,{size:14})}),w.status!=="converted"&&w.status!=="not-interested"&&e.jsxs("button",{onClick:()=>p(w.id,"convert"),className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-violet-600 text-white text-[10px] font-black uppercase tracking-widest hover:bg-violet-700 shadow-sm shadow-violet-100 hover:shadow-violet-200 hover:-translate-y-0.5 transition-all",children:[e.jsx(bl,{size:12}),"Convert"]})]})]})]},w.id))})]},f.id))}),d.show&&e.jsx("div",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 z-[100] animate-in slide-in-from-bottom-5 duration-300",children:e.jsxs("div",{className:`px-6 py-3 rounded-2xl shadow-2xl flex items-center gap-3 border ${d.type==="success"?"bg-emerald-600 border-emerald-500 text-white":"bg-slate-800 text-white border-slate-700"}`,children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-white/20 flex items-center justify-center uppercase",children:e.jsx($r,{size:14,className:"text-white"})}),e.jsx("p",{className:"text-sm font-black uppercase tracking-widest",children:d.message})]})})]})},sL=()=>{const[t,s]=j.useState([]),[r,l]=j.useState("Upcoming"),[i,o]=j.useState(!0),[d,x]=j.useState(!1),[u,h]=j.useState(!1),[p,g]=j.useState(null),[y,f]=j.useState(null),[w,S]=j.useState("Today"),[v,N]=j.useState(""),[A,L]=j.useState(!1),[M,T]=j.useState(1),[_,I]=j.useState({type:"",name:"",date:"Today",time:"",location:"",trainer:""}),[B,P]=j.useState(!1),[R,W]=j.useState(null),[H,$]=j.useState(!1),[G,le]=j.useState(null),[Q,ne]=j.useState(!1),[F,de]=j.useState({show:!1,message:"",type:"success"}),[ke,X]=j.useState(null),[q,Z]=j.useState(""),[ae,ue]=j.useState([]);j.useEffect(()=>{be(),Me(),he()},[]);const he=async()=>{try{const Ge=await qM();ue(Ge)}catch(Ge){console.error("Failed to load classes:",Ge)}},be=async()=>{o(!0);try{const Xt=(await _M()).map(gt=>({id:gt.id,name:gt.class?.name||"Session",type:gt.class?.requiredBenefit?"Facility":"Group Class",date:new Date(gt.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),time:gt.class?.schedule?.time||"TBA",location:gt.class?.location||"Main Floor",trainer:gt.class?.trainer?.name||"Staff",status:gt.status}));s(Xt)}catch(Ge){console.error("Failed to load bookings:",Ge)}o(!1)},Me=async()=>{const Ge=await Cw();X(Ge)},Ne=(Ge,Xt="success")=>{de({show:!0,message:Ge,type:Xt}),setTimeout(()=>de(gt=>({...gt,show:!1})),3e3)},Fe=()=>{T(1),I({type:"",name:"",date:"Today",time:"",location:"",trainer:""}),L(!0)},Xe=Ge=>{le(Ge),$(!0)},st=async()=>{await PM(G),s(t.map(Ge=>Ge.id===G?{...Ge,status:"Cancelled"}:Ge)),$(!1),Ne("Booking cancelled successfully.","info")},et=Ge=>{g(Ge),S(Ge.date),N(Ge.time.split(" - ")[0]),x(!0)},xe=async()=>{if(!v){Ne("Please select a time slot.","error");return}s(t.map(Ge=>Ge.id===p.id?{...Ge,date:w,time:`${v} - ${Ve(v)}`}:Ge)),x(!1),Ne("Session rescheduled successfully!")},se=Ge=>{if(Ge.sessions==="Full"){Ne("This class is full. You've been added to the waitlist.","info");return}f(Ge),h(!0)},Ze=async()=>{if(!v){Ne("Please select a time slot.","error");return}if(ke?.benefitWallet&&ke.benefitWallet.classCredits<=0){Z("Insufficient credits."),Ne("Insufficient credits.","error");return}try{(await G1({classId:y.id,date:new Date})).success&&(be(),he(),Me(),h(!1),Z(""),Ne("Class booked successfully!"))}catch(Ge){Ne(Ge||"Failed to book class","error")}},Ft=()=>{Z(""),T(2),I({type:"Facility",name:"",date:"Next Session",time:"",location:"Wellness Wing",trainer:"Staff"}),L(!0)},Ct=async()=>{if(!_.time){Ne("Please select a time slot.","error");return}if(_.type==="Facility"&&ke?.benefitWallet){const Ge=_.name.toLowerCase();if(Ge.includes("sauna")){if(ke.benefitWallet.saunaSessions<=0){Z("No sauna credits available. Please upgrade or renew."),Ne("No sauna credits available. Please upgrade or renew.","error");return}}else if(Ge.includes("ice bath")&&ke.benefitWallet.iceBathCredits<=0){Z("No ice bath credits available. Please upgrade or renew."),Ne("No ice bath credits available. Please upgrade or renew.","error");return}}try{const Ge=ae.find(gt=>gt.name===_.name);if(!Ge){Ne("Selected class not available.","error");return}(await G1({classId:Ge.id,date:new Date})).success&&(be(),he(),Me(),L(!1),Z(""),Ne("Booking created successfully!"))}catch(Ge){Ne(Ge||"Failed to create booking","error")}},Ve=Ge=>{const[Xt,gt]=Ge.split(" "),[cs,rs]=Xt.split(":");let dt=parseInt(cs);return dt===12?dt=1:dt+=1,`${dt.toString().padStart(2,"0")}:${rs} ${gt}`},wt=t.filter(Ge=>["Upcoming","Confirmed","Pending"].includes(Ge.status)),nt=t.filter(Ge=>Ge.status==="Completed"),kt=t.filter(Ge=>Ge.status==="Cancelled");let ft=[];return r==="Upcoming"&&(ft=wt),r==="Completed"&&(ft=nt),r==="Cancelled"&&(ft=kt),e.jsxs("div",{className:"p-6 md:p-8 bg-gray-50 min-h-screen font-sans",children:[e.jsxs("div",{className:"max-w-6xl mx-auto space-y-10",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-black text-gray-900 tracking-tight",children:"Manage Bookings"}),e.jsxs("p",{className:"text-gray-500 font-medium mt-1.5 flex items-center gap-2 text-sm italic",children:[e.jsx(ha,{size:14,className:"text-violet-500 fill-violet-500"}),"Book and manage your personalized gym experience."]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-6",children:[ke?.benefitWallet&&e.jsxs("div",{className:"px-6 py-3 bg-white rounded-2xl border border-gray-100 shadow-sm flex items-center gap-4",children:[e.jsx("div",{className:"p-2 bg-violet-50 rounded-xl text-violet-600",children:e.jsx(ha,{size:20,className:"fill-violet-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.15em]",children:"Class Credits"}),e.jsx("p",{className:"text-xl font-black text-gray-900",children:ke.benefitWallet.classCredits})]})]}),e.jsxs("button",{onClick:Fe,className:"px-8 py-4 bg-violet-600 text-white rounded-2xl font-black shadow-xl shadow-violet-100 hover:bg-violet-700 hover:-translate-y-0.5 transition-all flex items-center gap-3 active:scale-95",children:[e.jsx(St,{size:20,strokeWidth:3})," Create Booking"]})]})]}),e.jsxs("div",{className:"flex gap-3 overflow-x-auto pb-4 no-scrollbar",children:[e.jsx(Fp,{label:"Upcoming",count:wt.length,active:r==="Upcoming",onClick:()=>l("Upcoming")}),e.jsx(Fp,{label:"Completed",count:nt.length,active:r==="Completed",onClick:()=>l("Completed")}),e.jsx(Fp,{label:"Cancelled",count:kt.length,active:r==="Cancelled",onClick:()=>l("Cancelled")})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-10",children:[e.jsx("div",{className:"xl:col-span-2 space-y-6",children:i?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 bg-white rounded-[40px] border border-gray-100 shadow-sm",children:[e.jsx(X0,{className:"animate-spin text-violet-600 mb-4",size:32}),e.jsx("p",{className:"text-gray-400 font-bold text-sm",children:"Loading your schedule..."})]}):ft.length>0?ft.map(Ge=>e.jsx(iL,{...Ge,onCancel:()=>Xe(Ge.id),onReschedule:()=>et(Ge)},Ge.id)):e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 bg-white rounded-[40px] border border-gray-100 shadow-sm text-center px-6",children:[e.jsx("div",{className:"p-4 bg-gray-50 rounded-full mb-4",children:e.jsx(Ye,{size:32,className:"text-gray-300"})}),e.jsxs("h3",{className:"text-lg font-black text-gray-900",children:["No ",r.toLowerCase()," bookings"]}),e.jsx("p",{className:"text-gray-400 text-sm font-medium mt-1",children:"Looks like your schedule is clear. Ready to sweat?"})]})}),e.jsxs("div",{className:"xl:col-span-1 space-y-10",children:[e.jsxs("div",{className:"bg-white p-8 rounded-[40px] border border-gray-100 shadow-sm relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-violet-50 rounded-full -mr-16 -mt-16 blur-3xl"}),e.jsx("h3",{className:"text-xl font-black text-gray-900 mb-6 relative z-10",children:"Explore Classes"}),e.jsx("div",{className:"space-y-4 relative z-10",children:ae.filter(Ge=>!Ge.requiredBenefit).map(Ge=>e.jsx(oL,{name:Ge.name,sessions:`${Ge.maxCapacity-(Ge._count?.bookings||0)} spots left`,icon:Ge.name[0],onClick:()=>se(Ge)},Ge.id))}),e.jsx("button",{onClick:()=>ne(!0),className:"w-full mt-8 py-4 border-2 border-dashed border-gray-100 text-gray-400 rounded-2xl text-sm font-bold hover:border-violet-200 hover:text-violet-600 hover:bg-violet-50/30 transition-all",children:"View Full Class Schedule"})]}),e.jsxs("div",{className:"bg-slate-900 p-10 rounded-[40px] text-white shadow-2xl relative overflow-hidden group",children:[e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"p-3 bg-white/10 rounded-2xl w-fit mb-6",children:e.jsx(ha,{className:"text-indigo-400",size:24})}),e.jsx("h3",{className:"text-2xl font-black mb-3",children:"Recovery Zone"}),e.jsx("p",{className:"text-slate-400 text-sm font-medium mb-6 leading-relaxed",children:"Boost your recovery with a professional Sauna or Ice Bath session."}),ke?.benefitWallet&&e.jsxs("div",{className:"mb-6 p-4 bg-white/5 rounded-xl border border-white/10",children:[e.jsx("p",{className:"text-xs font-bold text-slate-300 uppercase tracking-wider mb-3",children:"Available Credits"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-1.5 bg-orange-500/20 rounded-lg",children:e.jsx("svg",{className:"w-4 h-4 text-orange-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M10 2a6 6 0 00-6 6c0 4.314 6 10 6 10s6-5.686 6-10a6 6 0 00-6-6z"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"Sauna"}),e.jsx("p",{className:"text-lg font-black text-white",children:ke.benefitWallet.saunaSessions})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-1.5 bg-cyan-500/20 rounded-lg",children:e.jsx("svg",{className:"w-4 h-4 text-cyan-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M10 2L8 6H4l4 4-2 6 4-3 4 3-2-6 4-4h-4l-2-4z"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"Ice Bath"}),e.jsx("p",{className:"text-lg font-black text-white",children:ke.benefitWallet.iceBathCredits})]})]})]})]}),e.jsx("button",{onClick:Ft,className:"w-full py-4 bg-white text-slate-900 rounded-2xl font-black shadow-lg hover:bg-indigo-50 hover:-translate-y-1 transition-all active:translate-y-0",children:"Book Session Now"})]}),e.jsx("div",{className:"absolute -bottom-10 -right-10 w-48 h-48 bg-indigo-500/10 rounded-full blur-3xl group-hover:bg-indigo-500/20 transition-all duration-700"})]})]})]})]}),e.jsx(at,{isOpen:B,onClose:()=>P(!1),title:"Booking Details",maxWidth:"max-w-md",children:e.jsx(rL,{booking:R,onReschedule:()=>{P(!1),et(R)},onCancel:()=>{P(!1),Xe(R.id)}})}),e.jsx(at,{isOpen:A,onClose:()=>L(!1),title:"New Reservation",maxWidth:"max-w-xl",children:e.jsx(aL,{step:M,setStep:T,data:_,setData:I,onClose:()=>L(!1),onConfirm:Ct,availableClasses:ae})}),e.jsx(at,{isOpen:d,onClose:()=>x(!1),title:"Reschedule Session",maxWidth:"max-w-md",children:e.jsx(oy,{title:"Reschedule Session",subtitle:`Adjust your ${p?.name} slot`,onClose:()=>x(!1),onConfirm:xe,confirmLabel:"Confirm Reschedule",selectedDate:w,setSelectedDate:S,selectedTime:v,setSelectedTime:N,memberProfile:ke})}),e.jsx(at,{isOpen:u,onClose:()=>h(!1),title:"Book Class",maxWidth:"max-w-md",children:e.jsx(oy,{title:"Book Class",subtitle:`Confirm your spot for ${y?.name}`,onClose:()=>h(!1),onConfirm:Ze,confirmLabel:"Confirm Booking",selectedDate:w,setSelectedDate:S,selectedTime:v,setSelectedTime:N,memberProfile:ke})}),e.jsx(at,{isOpen:H,onClose:()=>$(!1),title:"Cancel Reservation?",maxWidth:"max-w-md",children:e.jsx(lL,{onClose:()=>$(!1),onConfirm:st})}),e.jsx(at,{isOpen:Q,onClose:()=>ne(!1),title:"Full Schedule",maxWidth:"max-w-4xl",children:e.jsx(nL,{onClose:()=>ne(!1),onBook:Ge=>{ne(!1),se(Ge)},classes:ae})}),F.show&&e.jsxs("div",{className:`fixed bottom-8 right-8 z-[100] p-4 rounded-2xl shadow-2xl flex items-center gap-3 animate-in fade-in slide-in-from-bottom-5 duration-300 ${F.type==="error"?"bg-red-500 text-white":"bg-slate-900 text-white"}`,children:[e.jsx("div",{className:`p-1.5 rounded-lg ${F.type==="error"?"bg-white/20":"bg-violet-500/20"}`,children:F.type==="error"?e.jsx(wl,{size:16}):e.jsx(ha,{size:16,className:"text-violet-400 fill-violet-400"})}),e.jsx("span",{className:"text-sm font-black tracking-tight",children:F.message})]})]})},aL=({step:t,setStep:s,data:r,setData:l,onClose:i,onConfirm:o,availableClasses:d})=>{const x=[{id:"Group Class",label:"Group Class",icon:rt,color:"text-violet-600",bg:"bg-violet-50"},{id:"Personal Training",label:"Personal Training",icon:ha,color:"text-amber-600",bg:"bg-amber-50"},{id:"Facility",label:"Gym Facility",icon:$s,color:"text-indigo-600",bg:"bg-indigo-50"}],u={"Group Class":d.filter(g=>!g.requiredBenefit).map(g=>g.name),"Personal Training":["Strength & Conditioning","Fat Loss Blast","Muscle Building","Posture Correction"],Facility:d.filter(g=>g.requiredBenefit).map(g=>g.name)},h=["Today, May 15","Tomorrow, May 16","Fri, May 17","Sat, May 18","Sun, May 19"],p=["08:00 AM","09:00 AM","10:00 AM","05:00 PM","06:00 PM","07:00 PM"];return e.jsxs("div",{className:"p-8 space-y-8",children:[e.jsx("div",{className:"flex items-center gap-2 mb-2",children:[1,2,3].map(g=>e.jsx("div",{className:`h-1.5 w-8 rounded-full transition-all ${t>=g?"bg-violet-600":"bg-gray-200"}`},g))}),t===1&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 animate-in slide-in-from-right-4 duration-300",children:x.map(g=>e.jsxs("button",{onClick:()=>{l({...r,type:g.id}),s(2)},className:`p-6 rounded-[32px] border-2 flex flex-col items-center text-center gap-4 transition-all hover:scale-105 ${r.type===g.id?"border-violet-600 bg-violet-50/30":"border-gray-50 bg-gray-50/50 hover:bg-white hover:border-violet-100"}`,children:[e.jsx("div",{className:`p-4 rounded-2xl ${g.bg} ${g.color}`,children:e.jsx(g.icon,{size:32,strokeWidth:2.5})}),e.jsx("span",{className:"font-black text-gray-900 text-sm",children:g.label})]},g.id))}),t===2&&e.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right-4 duration-300",children:[e.jsxs("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:["Available ",r.type,"s"]}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:u[r.type].map(g=>e.jsx("button",{onClick:()=>{l({...r,name:g}),s(3)},className:`p-4 rounded-2xl text-left font-bold text-sm transition-all border-2 ${r.name===g?"bg-violet-600 border-violet-600 text-white":"bg-gray-50 border-transparent text-gray-700 hover:bg-white hover:border-violet-100"}`,children:g},g))})]}),t===3&&e.jsxs("div",{className:"space-y-8 animate-in slide-in-from-right-4 duration-300",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Select Date"}),e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 no-scrollbar",children:h.map(g=>e.jsx("button",{onClick:()=>l({...r,date:g}),className:`px-5 py-3 rounded-2xl text-xs font-black whitespace-nowrap transition-all border-2 ${r.date===g?"bg-violet-600 border-violet-600 text-white shadow-lg":"bg-white border-gray-100 text-gray-500 hover:border-violet-100"}`,children:g},g))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Available Slots"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:p.map(g=>e.jsxs("button",{onClick:()=>l({...r,time:g}),className:`p-4 rounded-3xl text-xs font-black transition-all border-2 flex flex-col items-center gap-1 ${r.time===g?"bg-violet-600 border-violet-600 text-white shadow-lg":"bg-gray-50 border-transparent text-gray-500 hover:bg-white hover:border-violet-100"}`,children:[e.jsx(Je,{size:14,className:r.time===g?"text-white":"text-violet-500"}),g]},g))})]})]}),e.jsxs("div",{className:"pt-8 flex gap-4",children:[t>1&&e.jsx("button",{onClick:()=>s(t-1),className:"flex-1 px-6 py-4 bg-gray-50 text-gray-500 rounded-2xl font-black text-sm hover:bg-gray-100 transition-all uppercase tracking-widest",children:"Back"}),e.jsx("button",{onClick:t===3?o:()=>{},disabled:t<3&&!(t===1&&r.type||t===2&&r.name),className:`flex-[2] py-4 rounded-2xl font-black text-sm transition-all uppercase tracking-widest ${t===3?"bg-violet-600 text-white shadow-xl shadow-violet-100 hover:bg-violet-700 hover:-translate-y-0.5":"bg-gray-100 text-gray-400 cursor-default"}`,children:t===3?"Confirm Booking":"Next Step"})]})]})},oy=({title:t,subtitle:s,onClose:r,onConfirm:l,confirmLabel:i,selectedDate:o,setSelectedDate:d,selectedTime:x,setSelectedTime:u,memberProfile:h})=>{const p=["Today, May 15","Tomorrow, May 16","Fri, May 17","Sat, May 18","Sun, May 19"],g=["08:00 AM","09:00 AM","10:00 AM","05:00 PM","06:00 PM","07:00 PM"];return e.jsxs("div",{className:"p-8 space-y-8",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h3",{className:"text-xl font-black text-gray-900 tracking-tight",children:t}),e.jsx("p",{className:"text-gray-500 font-medium text-sm",children:s})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Select Date"}),e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 no-scrollbar",children:p.map(y=>e.jsx("button",{onClick:()=>d(y),className:`px-5 py-3 rounded-2xl text-xs font-black whitespace-nowrap transition-all border-2 ${o===y?"bg-violet-600 border-violet-600 text-white shadow-lg":"bg-white border-gray-100 text-gray-500 hover:border-violet-100"}`,children:y},y))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Available Slots"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:g.map(y=>e.jsxs("button",{onClick:()=>u(y),className:`p-4 rounded-3xl text-xs font-black transition-all border-2 flex flex-col items-center gap-1 ${x===y?"bg-violet-600 border-violet-600 text-white shadow-lg":"bg-gray-50 border-transparent text-gray-500 hover:bg-white hover:border-violet-100"}`,children:[e.jsx(Je,{size:14,className:x===y?"text-white":"text-violet-500"}),y]},y))})]})]}),e.jsxs("div",{className:"pt-4 flex flex-col gap-4",children:[h?.benefitWallet&&h.benefitWallet.classCredits<=0&&e.jsxs("div",{className:"flex items-center gap-2 p-4 bg-red-50 text-red-600 rounded-2xl border border-red-100",children:[e.jsx(ps,{size:16}),e.jsx("span",{className:"text-xs font-black uppercase tracking-wider",children:"Insufficient credits."})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:r,className:"flex-1 py-5 bg-gray-50 text-gray-500 rounded-2xl font-black text-sm hover:bg-gray-100 transition-all uppercase tracking-widest",children:"Cancel"}),e.jsx("button",{onClick:l,disabled:h?.benefitWallet&&h.benefitWallet.classCredits<=0,className:`flex-[2] py-5 rounded-2xl font-black text-sm shadow-xl transition-all uppercase tracking-widest ${h?.benefitWallet&&h.benefitWallet.classCredits<=0?"bg-gray-100 text-gray-400 shadow-none":"bg-violet-600 text-white shadow-violet-100 hover:bg-violet-700"}`,children:i})]})]})]})},rL=({booking:t,onReschedule:s,onCancel:r})=>t?e.jsxs("div",{className:"p-8 space-y-8",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("div",{className:"w-20 h-20 rounded-[32px] bg-violet-100 flex items-center justify-center text-violet-600 shadow-lg shadow-violet-100/50",children:e.jsx(Ye,{size:36})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-black text-gray-900 tracking-tight leading-7",children:t.name}),e.jsx("p",{className:"text-gray-400 font-bold text-sm uppercase tracking-widest mt-1",children:t.type})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-5 rounded-[24px] bg-gray-50 border-2 border-gray-100",children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Date"}),e.jsx("p",{className:"text-sm font-black text-gray-900",children:t.date})]}),e.jsxs("div",{className:"p-5 rounded-[24px] bg-gray-50 border-2 border-gray-100",children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Time"}),e.jsx("p",{className:"text-sm font-black text-gray-900",children:t.time})]})]}),e.jsxs("div",{className:"p-6 rounded-[24px] bg-violet-50 border-2 border-violet-100 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-violet-600 flex items-center justify-center text-white font-black text-xs",children:t.instructor?.[0]||t.trainer?.[0]||"S"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-violet-400 uppercase tracking-widest mb-0.5",children:"Instructor/Staff"}),e.jsx("p",{className:"text-sm font-black text-gray-900",children:t.instructor||t.trainer||"Staff"})]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-violet-100",children:[e.jsx("span",{className:"text-[10px] font-black text-violet-400 uppercase tracking-widest",children:"Status"}),e.jsx("span",{className:"px-3 py-1 bg-green-500 rounded-full text-[10px] font-black text-white uppercase tracking-widest",children:t.status})]})]}),t.status!=="Cancelled"&&t.status!=="Completed"&&e.jsxs("div",{className:"flex flex-col gap-4 pt-4",children:[e.jsx("button",{onClick:s,className:"w-full py-5 bg-violet-600 text-white rounded-[24px] font-black shadow-xl shadow-violet-200 hover:bg-violet-700 transition-all uppercase tracking-widest",children:"Reschedule"}),e.jsx("button",{onClick:r,className:"w-full py-4 text-red-500 font-black text-xs hover:bg-red-50 rounded-[20px] transition-all uppercase tracking-[0.2em]",children:"Cancel Booking"})]})]}):null,lL=({onClose:t,onConfirm:s})=>e.jsxs("div",{className:"p-8 space-y-8 text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 rounded-[40px] bg-red-100 text-red-600 shadow-lg shadow-red-100/50 mb-2",children:e.jsx(ps,{size:48})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-3xl font-black text-gray-900 tracking-tight",children:"Wait, really?"}),e.jsx("p",{className:"text-gray-500 font-medium text-sm leading-relaxed px-6",children:"Are you sure you want to cancel this booking? You might lose your spot in this popular session."})]}),e.jsxs("div",{className:"flex flex-col gap-4 pt-4",children:[e.jsx("button",{onClick:s,className:"w-full py-5 bg-red-600 text-white rounded-[24px] font-black shadow-xl shadow-red-200 hover:bg-red-700 transition-all uppercase tracking-widest",children:"Yes, Cancel Booking"}),e.jsx("button",{onClick:t,className:"w-full py-4 text-gray-400 font-black text-xs hover:text-gray-900 transition-colors uppercase tracking-[0.2em]",children:"Nevermind, keep it"})]})]}),nL=({onClose:t,onBook:s,classes:r})=>{const l=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],[i,o]=j.useState("Mon"),x=(r||[]).filter(u=>!u.requiredBenefit).map(u=>({id:u.id,name:u.name,time:u.schedule?.time||"TBA",trainer:u.trainer?.name||"TBA",spots:`${u.maxCapacity-(u._count?.bookings||0)} spots left`,days:u.schedule?.days||[]})).filter(u=>u.days.includes(i));return e.jsxs("div",{className:"p-8 space-y-6",children:[e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 no-scrollbar",children:l.map(u=>e.jsx("button",{onClick:()=>o(u),className:`px-5 py-3 rounded-2xl text-xs font-black whitespace-nowrap transition-all border-2 ${i===u?"bg-violet-600 border-violet-600 text-white shadow-lg":"bg-white border-gray-100 text-gray-500 hover:border-violet-100"}`,children:u},u))}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:x.map((u,h)=>e.jsxs("div",{className:"p-6 bg-gray-50 rounded-[32px] border-2 border-transparent hover:border-violet-100 hover:bg-white transition-all flex justify-between items-center group",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"flex gap-2"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("p",{className:"font-black text-gray-900 text-lg leading-tight",children:u.name}),e.jsx("span",{className:`text-[10px] font-black px-2 py-0.5 rounded-lg ${u.spots.startsWith("0")||u.spots==="Full"?"bg-red-50 text-red-500":"bg-emerald-50 text-emerald-600"}`,children:u.spots.startsWith("0")?"FULL":u.spots.toUpperCase()})]}),e.jsxs("p",{className:"text-xs text-gray-400 font-bold mt-1.5 flex items-center gap-2",children:[e.jsx(Je,{size:12,strokeWidth:3})," ",u.time,"  ",u.trainer]})]})]}),e.jsx("button",{onClick:()=>s(u),className:"p-3 bg-white rounded-2xl shadow-sm text-violet-600 group-hover:bg-violet-600 group-hover:text-white transition-all",children:e.jsx(St,{size:20,strokeWidth:3})})]},h))})]})},Fp=({label:t,count:s,active:r,onClick:l})=>e.jsxs("button",{onClick:l,className:`px-8 py-3.5 rounded-2xl text-sm font-black whitespace-nowrap transition-all flex items-center gap-3 border-2 ${r?"bg-violet-600 border-violet-600 text-white shadow-xl shadow-violet-100":"bg-white border-transparent text-gray-400 hover:text-gray-900 hover:border-gray-100"}`,children:[t,s!==void 0&&e.jsx("span",{className:`px-2 py-0.5 rounded-lg text-[10px] font-black ${r?"bg-white/20 text-white":"bg-gray-100 text-gray-500"}`,children:s})]}),iL=({id:t,type:s,name:r,date:l,time:i,location:o,trainer:d,status:x,onCancel:u,onReschedule:h,onClick:p})=>{const g=x==="Pending",y=x==="Cancelled",f=x==="Completed",w=()=>g?"text-amber-600 bg-amber-50/50 border-amber-100":f?"text-indigo-600 bg-indigo-50/50 border-indigo-100":y?"text-red-500 bg-red-50/50 border-red-100":"text-emerald-600 bg-emerald-50/50 border-emerald-100",S=()=>g?"bg-amber-400":y?"bg-red-400":f?"bg-indigo-400":"bg-emerald-500";return e.jsxs("div",{onClick:p,className:"group relative bg-white rounded-[32px] border border-gray-100 shadow-sm hover:shadow-2xl hover:shadow-violet-100/50 transition-all duration-300 overflow-hidden cursor-pointer hover:-translate-y-1",children:[e.jsx("div",{className:`absolute top-0 left-0 w-1.5 h-full ${S()} transition-all duration-300`}),e.jsxs("div",{className:"p-6 md:p-8 space-y-6 relative z-10",children:[e.jsx("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4 pl-3",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("span",{className:"px-3 py-1 rounded-full bg-violet-50 text-[10px] font-black uppercase tracking-wider text-violet-600 border border-violet-100",children:s}),e.jsx("div",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest border ${w()} transition-colors`,children:x})]}),e.jsx("h4",{className:"text-2xl font-black text-gray-900 tracking-tight leading-tight group-hover:text-violet-900 transition-colors",children:r})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-y-4 gap-x-8 pl-3",children:[e.jsx(oh,{icon:Ye,label:l}),e.jsx(oh,{icon:Je,label:i}),e.jsx(oh,{icon:$s,label:o}),d&&e.jsx(oh,{icon:rt,label:d})]}),!y&&!f&&e.jsxs("div",{className:"pt-6 border-t border-gray-50 flex flex-col sm:flex-row gap-3 pl-3",onClick:v=>v.stopPropagation(),children:[e.jsx("button",{onClick:u,className:"flex-1 py-3.5 px-6 rounded-2xl text-xs font-black text-gray-400 hover:text-red-500 hover:bg-red-50 transition-all uppercase tracking-widest border-2 border-transparent",children:"Cancel"}),e.jsx("button",{onClick:h,className:"flex-1 py-3.5 px-6 rounded-2xl text-xs font-black text-violet-600 bg-violet-50 border-2 border-violet-100 hover:bg-violet-600 hover:text-white hover:border-violet-600 hover:shadow-lg hover:shadow-violet-200 transition-all uppercase tracking-widest",children:"Reschedule"})]})]}),e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-violet-50/50 to-transparent rounded-bl-[100px] -z-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e.jsx("div",{className:"absolute top-6 right-6 text-gray-200 group-hover:text-violet-200 group-hover:translate-x-1 transition-all duration-300",children:e.jsx(vs,{size:24})})]})},oh=({icon:t,label:s})=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-violet-50 rounded-xl",children:e.jsx(t,{size:16,className:"text-violet-500"})}),e.jsx("span",{className:"text-sm font-bold text-gray-600",children:s})]}),oL=({name:t,sessions:s,icon:r,onClick:l})=>e.jsxs("div",{onClick:l,className:"flex items-center justify-between p-5 bg-gray-50 rounded-[28px] border-2 border-transparent hover:border-violet-100 hover:bg-white transition-all cursor-pointer group/item",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-violet-100 text-violet-600 flex items-center justify-center font-black text-lg group-hover/item:rotate-12 transition-transform",children:r}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-black text-gray-900",children:t}),e.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-wider",children:s})]})]}),e.jsx("div",{className:"p-2 bg-white rounded-xl shadow-sm text-gray-300 group-hover/item:text-violet-500 group-hover/item:scale-110 transition-all",children:e.jsx(St,{size:16,strokeWidth:3})})]}),cL=()=>{const[t,s]=j.useState(null),[r,l]=j.useState(!0),i=async()=>{l(!0);try{const o=await HM();s(o)}catch(o){console.error("Failed to load profile for QR code:",o)}finally{l(!1)}};return j.useEffect(()=>{i()},[]),r||!t?e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:e.jsx(X0,{className:"animate-spin text-violet-600",size:40})}):e.jsx("div",{className:"p-6 md:p-8 bg-gray-50 min-h-screen font-sans",children:e.jsxs("div",{className:"max-w-2xl mx-auto space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-3xl font-black text-gray-900 tracking-tight",children:"Quick Check-In"}),e.jsx("p",{className:"text-gray-500 font-medium mt-1",children:"Scan this code at the gym entrance to log your visit."})]}),e.jsxs("div",{className:"bg-white p-10 rounded-[40px] border border-gray-100 shadow-xl shadow-gray-200/50 flex flex-col items-center",children:[e.jsxs("div",{className:"w-64 h-64 bg-gray-50 rounded-[32px] p-8 border-2 border-dashed border-gray-200 flex items-center justify-center relative group",children:[e.jsx(Uj,{size:160,className:"text-gray-800",strokeWidth:1.5}),e.jsx("div",{className:"absolute inset-0 bg-white/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center rounded-[32px]",children:e.jsx("button",{onClick:i,className:"bg-violet-600 text-white px-6 py-3 rounded-2xl font-black shadow-lg",children:"Refresh Code"})})]}),e.jsxs("div",{className:"mt-8 text-center space-y-2",children:[e.jsx("p",{className:"text-lg font-black text-gray-900",children:t.id}),e.jsx("p",{className:"text-sm text-gray-400 font-bold uppercase tracking-widest",children:t.name})]}),e.jsxs("div",{className:"mt-10 grid grid-cols-2 gap-4 w-full",children:[e.jsxs("div",{className:"p-4 bg-green-50 rounded-2xl border border-green-100 flex items-center gap-3",children:[e.jsx(Xn,{className:"text-green-600",size:24}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-green-700 uppercase",children:"Status"}),e.jsx("p",{className:"text-sm font-black text-green-900",children:t.status||"Active"})]})]}),e.jsxs("div",{className:"p-4 bg-blue-50 rounded-2xl border border-blue-100 flex items-center gap-3",children:[e.jsx(Je,{className:"text-blue-600",size:24}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-blue-700 uppercase",children:"Late Entry"}),e.jsx("p",{className:"text-sm font-black text-blue-900",children:"Allowed"})]})]})]})]}),e.jsxs("div",{className:"bg-violet-50 p-6 rounded-[28px] flex items-start gap-4 border border-violet-100",children:[e.jsx("div",{className:"p-2 bg-white rounded-xl text-violet-600 shadow-sm",children:e.jsx(ha,{size:20,fill:"currentColor"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-violet-900",children:"Pro Tip"}),e.jsxs("p",{className:"text-xs text-violet-700 mt-1 leading-relaxed",children:["Checking in consistently helps you maintain your ",e.jsx("strong",{children:"Consistency Badge"})," and earn extra reward points!"]})]})]})]})})},dL=({isOpen:t,onClose:s,onSubmit:r,memberData:l})=>{const[i,o]=j.useState("Freeze Membership"),[d,x]=j.useState(""),[u,h]=j.useState(!1),p=async g=>{g.preventDefault(),h(!0);try{await r({type:i,reason:d}),x(""),s()}catch(y){console.error("Error submitting request:",y)}finally{h(!1)}};return e.jsx(at,{isOpen:t,onClose:s,title:"Service Request",maxWidth:"max-w-md",footer:e.jsxs("div",{className:"flex gap-3 w-full",children:[e.jsx(Ht,{variant:"outline",onClick:s,className:"flex-1 py-3 rounded-xl border-slate-200 text-slate-600 font-bold",children:"Cancel"}),e.jsx(Ht,{form:"request-form",type:"submit",disabled:u||!d,className:"flex-1 py-3 rounded-xl bg-violet-600 hover:bg-violet-700 shadow-lg shadow-violet-200 border-transparent font-bold text-white flex items-center justify-center gap-2",children:u?"Sending...":e.jsxs(e.Fragment,{children:[e.jsx(Ld,{size:16})," Submit Request"]})})]}),children:e.jsxs("form",{id:"request-form",onSubmit:p,className:"p-8 space-y-8",children:[e.jsxs("div",{className:"bg-violet-50 p-6 rounded-[24px] border border-violet-100 flex gap-4 text-violet-800 text-sm font-medium leading-relaxed",children:[e.jsx(ps,{className:"shrink-0 text-violet-600",size:24}),e.jsx("p",{children:"Your request will be prioritized. Track status updates in your member activity feed."})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-[10px] font-black uppercase tracking-[0.2em] text-slate-400 px-1",children:"Request Category"}),e.jsxs("select",{className:"w-full h-14 px-6 rounded-2xl bg-slate-50 border-2 border-slate-100 focus:border-violet-500 outline-none font-bold text-sm transition-all text-slate-700",value:i,onChange:g=>o(g.target.value),children:[e.jsx("option",{value:"Freeze Membership",children:"Freeze Membership"}),e.jsx("option",{value:"Unfreeze Membership",children:"Unfreeze Membership"}),e.jsx("option",{value:"Request Trainer Change",children:"Trainer Change Request"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-[10px] font-black uppercase tracking-[0.2em] text-slate-400 px-1",children:"Reason for Request"}),e.jsx("textarea",{className:"w-full p-6 rounded-2xl bg-slate-50 border-2 border-slate-100 focus:border-violet-500 outline-none font-medium text-sm transition-all resize-none h-48 placeholder:text-slate-300 text-slate-700",placeholder:"Please elaborate on your request...",value:d,onChange:g=>x(g.target.value),required:!0})]}),i==="Freeze Membership"&&e.jsxs("div",{className:"p-5 rounded-2xl bg-amber-50/50 border border-amber-100 flex gap-3",children:[e.jsx("div",{className:"text-amber-500 shrink-0",children:e.jsx(ps,{size:18})}),e.jsx("p",{className:"text-[11px] text-amber-800 font-bold leading-normal uppercase tracking-wide",children:"Note: Fee terms and expiry extensions apply based on your specific plan."})]})]})})},xL=({isOpen:t,onClose:s,onSubmit:r,memberName:l})=>{const[i,o]=j.useState({startDate:"",endDate:"",reason:"Travel",notes:""}),[d,x]=j.useState(!1),u=["Medical","Travel","Personal","Other"],h=async p=>{p.preventDefault(),x(!0);try{await r(i),o({startDate:"",endDate:"",reason:"Travel",notes:""}),s()}catch(g){console.error("Error submitting freeze request:",g)}finally{x(!1)}};return e.jsx(at,{isOpen:t,onClose:s,title:"Request Membership Freeze",subtitle:"Initiate a pause on your account benefits",maxWidth:"max-w-md",footer:e.jsxs("div",{className:"flex gap-3 w-full",children:[e.jsx(Ht,{variant:"outline",onClick:s,className:"flex-1 py-4 rounded-2xl border-slate-200 text-slate-600 font-black uppercase tracking-widest text-[10px]",children:"Cancel"}),e.jsx(Ht,{form:"freeze-request-form",type:"submit",disabled:d||!i.startDate||!i.endDate,className:"flex-1 py-4 rounded-2xl bg-orange-500 hover:bg-orange-600 shadow-xl shadow-orange-100 border-transparent font-black text-white text-[10px] uppercase tracking-widest flex items-center justify-center gap-2",children:d?"Processing...":"Submit Request"})]}),children:e.jsxs("form",{id:"freeze-request-form",onSubmit:h,className:"p-8 space-y-8",children:[e.jsxs("div",{className:"bg-orange-50 p-6 rounded-[28px] border border-orange-100 flex gap-4 text-orange-800 text-xs font-bold leading-relaxed shadow-sm",children:[e.jsx("div",{className:"p-2 bg-white rounded-xl text-orange-500 shadow-sm shrink-0",children:e.jsx(ps,{size:20})}),e.jsxs("p",{children:["Freezing your membership will pause access to all facilities and extend your billing cycle by the total duration of the freeze. ",e.jsx("span",{className:"text-orange-900 underline underline-offset-2",children:"Terms apply"}),"."]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-[10px] font-black uppercase tracking-[0.2em] text-slate-400 px-1",children:"Start Date"}),e.jsxs("div",{className:"relative group",children:[e.jsx("input",{type:"date",className:"w-full h-14 pl-12 pr-6 rounded-2xl bg-slate-50 border-2 border-slate-100 focus:border-orange-400 focus:bg-white outline-none font-bold text-sm transition-all text-slate-700",value:i.startDate,onChange:p=>o({...i,startDate:p.target.value}),required:!0}),e.jsx(Ye,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-orange-500 transition-colors",size:18})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-[10px] font-black uppercase tracking-[0.2em] text-slate-400 px-1",children:"End Date"}),e.jsxs("div",{className:"relative group",children:[e.jsx("input",{type:"date",className:"w-full h-14 pl-12 pr-6 rounded-2xl bg-slate-50 border-2 border-slate-100 focus:border-orange-400 focus:bg-white outline-none font-bold text-sm transition-all text-slate-700",value:i.endDate,onChange:p=>o({...i,endDate:p.target.value}),required:!0}),e.jsx(Ye,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-orange-500 transition-colors",size:18})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-[10px] font-black uppercase tracking-[0.2em] text-slate-400 px-1",children:"Primary Reason"}),e.jsx("select",{className:"w-full h-14 px-6 rounded-2xl bg-slate-50 border-2 border-slate-100 focus:border-orange-400 focus:bg-white outline-none font-bold text-sm transition-all text-slate-700 appearance-none",value:i.reason,onChange:p=>o({...i,reason:p.target.value}),children:u.map(p=>e.jsx("option",{value:p,children:p},p))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-[10px] font-black uppercase tracking-[0.2em] text-slate-400 px-1",children:"Additional Notes (Optional)"}),e.jsx("textarea",{className:"w-full p-6 rounded-2xl bg-slate-50 border-2 border-slate-100 focus:border-orange-400 focus:bg-white outline-none font-medium text-sm transition-all resize-none h-32 placeholder:text-slate-300 text-slate-700",placeholder:"Provide any additional details for our team...",value:i.notes,onChange:p=>o({...i,notes:p.target.value})})]}),e.jsxs("div",{className:"space-y-3 pt-2",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest pl-1",children:"Compliance Check"}),["Free of pending dues","Minimum 7 days duration","Standard freeze fee may apply"].map((p,g)=>e.jsxs("div",{className:"flex items-center gap-3 py-1",children:[e.jsx("div",{className:"w-5 h-5 rounded-full bg-emerald-50 flex items-center justify-center",children:e.jsx(as,{size:12,className:"text-emerald-500"})}),e.jsx("span",{className:"text-xs font-bold text-slate-600",children:p})]},g))]})]})})},uL=()=>{const[t,s]=j.useState(!1),[r,l]=j.useState(!1),[i,o]=j.useState(!1),[d,x]=j.useState(!1),[u,h]=j.useState(""),[p,g]=j.useState([]),[y,f]=j.useState({startDate:"",expiryDate:"",status:"",daysRemaining:0,freezeStatus:"No"});j.useEffect(()=>{(async()=>{try{const[M,T]=await Promise.all([UM(),$M()]);h(M.currentPlan||""),f(M),g(T||[])}catch(M){console.error("Failed to fetch membership info:",M)}})()},[]);const w=()=>{l(!0)},S=async()=>{s(!0);try{await LM("Gold Plan"),h("Gold Plan"),l(!1)}catch(L){console.error("Error upgrading plan:",L),alert("Failed to upgrade plan.")}finally{s(!1)}},v=async L=>{if(p.some(_=>_.rawType==="Freeze"&&(_.status==="Pending"||_.status==="Pending Approval")))return;const T=_=>new Date(_).toLocaleDateString("en-US",{month:"short",day:"numeric"});try{const _={type:"Freeze Request",details:`${T(L.startDate)}  ${T(L.endDate)}`,status:"Pending Approval",date:new Date().toISOString().split("T")[0],rawType:"Freeze"},I=await V1(_);g([I.request,...p])}catch(_){console.error("Failed to submit freeze request",_)}},N=async()=>{if(window.confirm("Are you sure you want to cancel your membership? This action cannot be undone.")){s(!0);try{await zM(),h("Cancelled"),alert("Membership cancelled successfully.")}catch(L){console.error("Error cancelling membership:",L),alert("Failed to cancel membership.")}finally{s(!1)}}},A=p.some(L=>L.rawType==="Freeze"&&(L.status==="Pending"||L.status==="Pending Approval"));return e.jsxs("div",{className:"p-3 md:p-8 bg-gray-50 min-h-screen font-sans",children:[e.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-black text-gray-900 tracking-tight",children:"My Membership"}),e.jsx("p",{className:"text-gray-500 font-medium mt-1",children:"Manage your plan, billing, and membership benefits."})]}),e.jsxs("div",{className:"bg-gradient-to-br from-violet-600 to-indigo-700 rounded-[32px] shadow-2xl shadow-violet-200 overflow-hidden relative",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full -mr-16 -mt-16 blur-3xl"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-black/10 rounded-full -ml-10 -mb-10 blur-2xl"}),e.jsxs("div",{className:"p-5 md:p-10 relative z-10 text-white",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"inline-flex items-center px-4 py-1.5 rounded-full bg-white/20 backdrop-blur-md text-white text-[10px] font-black uppercase tracking-wider border border-white/10",children:"Active Plan"}),e.jsx("h2",{className:"text-4xl md:text-5xl font-black text-white tracking-tight",children:u}),e.jsx("p",{className:"text-violet-100 font-medium max-w-sm text-lg leading-relaxed",children:u==="Gold Plan"?"Full access to all facilities, premium classes, and exclusive recovery lounge.":"Access to all gym facilities, group classes, and locker rooms during standard hours."})]}),e.jsxs("div",{className:"text-right space-y-1",children:[e.jsx("p",{className:"text-[10px] font-bold text-violet-200 uppercase tracking-widest",children:"Next Billing"}),e.jsx("p",{className:"text-2xl font-black text-white",children:y.expiryDate||"N/A"}),e.jsxs("p",{className:"text-white/80 font-bold text-sm",children:["",y.price?.toLocaleString()," / month"]})]})]}),e.jsxs("div",{className:"mt-12 grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(Ip,{icon:as,label:"24/7 Gym Access",dark:!0}),e.jsx(Ip,{icon:as,label:"Locker Facility",dark:!0}),e.jsx(Ip,{icon:as,label:u.includes("Gold")?"Unlimited Classes":"Standard Classes",dark:!0})]}),e.jsxs("div",{className:"mt-12 flex flex-wrap gap-4",children:[u!=="Gold Plan"&&e.jsxs("button",{onClick:w,disabled:t,className:"px-8 py-4 bg-white text-violet-600 rounded-2xl font-black shadow-lg hover:bg-gray-50 transition-all flex items-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed uppercase tracking-widest text-xs",children:["Upgrade Plan ",e.jsx(bl,{size:16})]}),e.jsx("button",{onClick:N,disabled:t,className:"px-8 py-4 bg-white/10 border border-white/20 text-white rounded-2xl font-black hover:bg-white/20 transition-all disabled:opacity-70 disabled:cursor-not-allowed uppercase tracking-widest text-xs backdrop-blur-md",children:t?"Processing...":"Cancel Membership"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs(is,{className:"p-8 space-y-6 shadow-xl shadow-slate-200/50 border-none rounded-[32px]",children:[e.jsxs("h3",{className:"text-xl font-black text-gray-900 flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-amber-50 rounded-lg",children:e.jsx($l,{className:"text-amber-500 fill-amber-500",size:20})}),"Membership Details"]}),e.jsxs("div",{className:"space-y-4 text-sm font-bold",children:[[{label:"Plan Name",value:u},{label:"Start Date",value:y.startDate},{label:"Expiry Date",value:y.expiryDate},{label:"Remaining Days",value:`${y.daysRemaining} Days`,highlight:!0},{label:"Freeze Status",value:y.freezeStatus}].map((L,M)=>e.jsxs("div",{className:"flex justify-between py-3 border-b border-slate-50 text-slate-500",children:[e.jsx("span",{children:L.label}),e.jsx("span",{className:L.highlight?"text-violet-600 font-black":"text-slate-900",children:L.value})]},M)),e.jsxs("div",{className:"flex justify-between py-3 text-slate-500",children:[e.jsx("span",{children:"Status Badge"}),e.jsx("span",{className:`px-4 py-1 rounded-full text-[10px] font-black uppercase tracking-widest ${y.status==="Active"?"bg-emerald-100 text-emerald-700":"bg-amber-100 text-amber-700"}`,children:y.status})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-slate-50",children:[e.jsxs(Ht,{variant:"outline",className:"w-full py-4 text-[10px] tracking-[0.15em] font-black",onClick:()=>o(!0),disabled:A,children:[e.jsx(Rh,{size:16})," ",A&&y.freezeStatus==="No"?"FREEZE PENDING":"FREEZE"]}),e.jsxs(Ht,{variant:"outline",className:"w-full py-4 text-[10px] tracking-[0.15em] font-black",onClick:()=>x(!0),children:[e.jsx(Ij,{size:16})," SERVICE"]})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs(is,{className:"p-8 space-y-6 shadow-xl shadow-slate-200/50 border-none rounded-[32px] bg-gradient-to-br from-white to-slate-50/30",children:[e.jsxs("h3",{className:"text-xl font-black text-gray-900 flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-indigo-50 rounded-lg text-indigo-600",children:e.jsx(ha,{size:20})}),"Service Requests"]}),e.jsx("p",{className:"text-sm font-medium text-slate-500 leading-relaxed italic",children:"Perform account actions directly. Approval times vary by branch."}),e.jsxs(Ht,{onClick:()=>o(!0),disabled:A,className:`w-full py-5 rounded-2xl flex items-center justify-center gap-3 font-black uppercase tracking-widest text-xs transition-all shadow-lg ${A?"bg-slate-100 text-slate-400 border-slate-200 cursor-not-allowed shadow-none":"bg-indigo-600 hover:bg-indigo-700 text-white shadow-indigo-100"}`,children:[e.jsx(Rh,{size:18}),A?"Freeze Request Pending":"Request Membership Freeze"]})]}),e.jsxs(is,{className:"p-8 space-y-6 flex flex-col shadow-xl shadow-slate-200/50 border-none rounded-[32px]",children:[e.jsxs("h3",{className:"text-xl font-black text-gray-900 flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-slate-100 rounded-lg text-slate-500",children:e.jsx(sl,{size:20})}),"Recent Requests"]}),e.jsx("div",{className:"flex-1 space-y-3 overflow-y-auto max-h-[300px] pr-2 custom-scrollbar",children:p.length===0?e.jsx("div",{className:"py-10 text-center",children:e.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"No recent activity"})}):p.map(L=>e.jsxs("div",{className:"p-5 rounded-[24px] bg-slate-50/50 border border-slate-100 flex items-center justify-between group hover:bg-white hover:shadow-lg hover:shadow-slate-100 transition-all",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{className:"font-black text-slate-900 text-[13px] tracking-tight flex items-center gap-2 uppercase",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-300 group-hover:bg-indigo-500 transition-colors"}),L.type]}),e.jsx("p",{className:"text-[10px] font-bold text-slate-400 tracking-wide pl-3.5 uppercase",children:L.details})]}),e.jsx("div",{className:"text-right",children:e.jsx("span",{className:`px-3 py-1.5 rounded-lg text-[9px] font-black uppercase tracking-widest shadow-sm border ${L.status.includes("Approved")||L.status==="Approved"?"bg-emerald-50 text-emerald-600 border-emerald-100":L.status.includes("Rejected")?"bg-rose-50 text-rose-600 border-rose-100":"bg-amber-50 text-amber-600 border-amber-100"}`,children:L.status==="Pending Approval"?"Pending":L.status})})]},L.id))})]})]})]}),e.jsxs("div",{className:"bg-slate-900 p-8 rounded-[32px] text-white flex flex-col md:flex-row gap-8 items-center justify-between relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-indigo-500/10 rounded-full blur-2xl"}),e.jsxs("div",{className:"space-y-4 relative z-10",children:[e.jsxs("h3",{className:"text-xl font-black flex items-center gap-2 text-indigo-300",children:[e.jsx(Xn,{size:20})," Safety & Rules"]}),e.jsxs("ul",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-3 text-sm text-slate-400",children:[e.jsxs("li",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-indigo-500 rounded-full"})," Always carry your workout towel"]}),e.jsxs("li",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-indigo-500 rounded-full"})," Use proper gym attire at all times"]}),e.jsxs("li",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-indigo-500 rounded-full"})," Respect others and put back weights"]}),e.jsxs("li",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-indigo-500 rounded-full"})," Mobile usage is restricted in workout zones"]})]})]}),e.jsx("button",{className:"whitespace-nowrap bg-white/10 border border-white/20 px-6 py-3 rounded-xl text-indigo-300 text-xs font-black hover:bg-white/20 transition-all uppercase tracking-widest relative z-10",children:"Full Terms"})]})]}),e.jsx(dL,{isOpen:d,onClose:()=>x(!1),onSubmit:async L=>{try{const M={type:L.type,details:L.reason,status:"Pending",date:new Date().toISOString().split("T")[0],rawType:"General"},T=await V1(M);g([T.request,...p])}catch(M){console.error("Failed to submit service request",M)}}}),e.jsx(xL,{isOpen:i,onClose:()=>o(!1),onSubmit:v}),e.jsx(at,{isOpen:r,onClose:()=>l(!1),title:"Upgrade Membership",maxWidth:"max-w-md",children:e.jsxs("div",{className:"p-8 space-y-8",children:[e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-[32px] bg-violet-100 text-violet-600 shadow-lg shadow-violet-100/50",children:e.jsx(ha,{size:36,fill:"currentColor"})}),e.jsx("h3",{className:"text-3xl font-black text-gray-900 tracking-tight leading-8",children:"Level Up to Gold"}),e.jsx("p",{className:"text-gray-500 font-medium text-sm leading-relaxed px-4",children:"Elevate your fitness journey with premium perks and dedicated training resources."})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-6 rounded-[28px] bg-violet-50 border-2 border-violet-100 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-violet-400 uppercase tracking-[0.2em] mb-1",children:"New Pricing"}),e.jsxs("p",{className:"text-xl font-black text-gray-900",children:["4,999",e.jsx("span",{className:"text-sm font-bold opacity-40",children:"/mo"})]})]}),e.jsx("div",{className:"px-3 py-1 bg-violet-600 rounded-full text-[10px] font-black text-white uppercase tracking-widest",children:"Best Value"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"What's Included"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(Bp,{text:"Unlimited Group Classes"}),e.jsx(Bp,{text:"Free Personal Training Session"}),e.jsx(Bp,{text:"Exclusive Spa & Sauna Access"})]})]})]}),e.jsxs("div",{className:"flex flex-col gap-4 pt-4",children:[e.jsx("button",{onClick:S,disabled:t,className:"w-full py-5 bg-violet-600 text-white rounded-[24px] font-black shadow-xl shadow-violet-200 hover:bg-violet-700 hover:scale-[1.02] active:scale-95 transition-all flex items-center justify-center gap-3 uppercase tracking-widest",children:t?e.jsx(X0,{className:"animate-spin",size:20}):"Confirm Upgrade"}),e.jsx("button",{onClick:()=>l(!1),disabled:t,className:"w-full py-4 text-gray-400 font-black text-xs hover:text-gray-900 transition-colors uppercase tracking-[0.2em]",children:"Back to Dashboard"})]})]})})]})},Bp=({text:t})=>e.jsxs("div",{className:"flex items-center gap-3 py-1",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-emerald-50 flex items-center justify-center",children:e.jsx(as,{size:14,className:"text-emerald-500"})}),e.jsx("span",{className:"text-sm font-bold text-gray-600",children:t})]}),Ip=({icon:t,label:s,dark:r})=>e.jsxs("div",{className:`flex items-center gap-3 p-4 rounded-2xl border ${r?"bg-white/10 border-white/10":"bg-gray-50 border-gray-100"}`,children:[e.jsx("div",{className:`p-2 rounded-xl ${r?"bg-white/20 text-white":"bg-green-50 text-green-600"}`,children:e.jsx(t,{size:16})}),e.jsx("span",{className:`text-sm font-bold ${r?"text-white":"text-gray-700"}`,children:s})]});function Xs(t){"@babel/helpers - typeof";return Xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},Xs(t)}var Di=Uint8Array,bn=Uint16Array,Ag=Int32Array,Mg=new Di([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Dg=new Di([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),cy=new Di([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),_w=function(t,s){for(var r=new bn(31),l=0;l<31;++l)r[l]=s+=1<<t[l-1];for(var i=new Ag(r[30]),l=1;l<30;++l)for(var o=r[l];o<r[l+1];++o)i[o]=o-r[l]<<5|l;return{b:r,r:i}},Pw=_w(Mg,2),hL=Pw.b,Ef=Pw.r;hL[28]=258,Ef[258]=28;var mL=_w(Dg,0),dy=mL.r,Tf=new bn(32768);for(var ya=0;ya<32768;++ya){var Cc=(ya&43690)>>1|(ya&21845)<<1;Cc=(Cc&52428)>>2|(Cc&13107)<<2,Cc=(Cc&61680)>>4|(Cc&3855)<<4,Tf[ya]=((Cc&65280)>>8|(Cc&255)<<8)>>1}var qx=(function(t,s,r){for(var l=t.length,i=0,o=new bn(s);i<l;++i)t[i]&&++o[t[i]-1];var d=new bn(s);for(i=1;i<s;++i)d[i]=d[i-1]+o[i-1]<<1;var x;if(r){x=new bn(1<<s);var u=15-s;for(i=0;i<l;++i)if(t[i])for(var h=i<<4|t[i],p=s-t[i],g=d[t[i]-1]++<<p,y=g|(1<<p)-1;g<=y;++g)x[Tf[g]>>u]=h}else for(x=new bn(l),i=0;i<l;++i)t[i]&&(x[i]=Tf[d[t[i]-1]++]>>15-t[i]);return x}),Cd=new Di(288);for(var ya=0;ya<144;++ya)Cd[ya]=8;for(var ya=144;ya<256;++ya)Cd[ya]=9;for(var ya=256;ya<280;++ya)Cd[ya]=7;for(var ya=280;ya<288;++ya)Cd[ya]=8;var $h=new Di(32);for(var ya=0;ya<32;++ya)$h[ya]=5;var pL=qx(Cd,9,0),fL=qx($h,5,0),Rw=function(t){return(t+7)/8|0},gL=function(t,s,r){return(r==null||r>t.length)&&(r=t.length),new Di(t.subarray(s,r))},_o=function(t,s,r){r<<=s&7;var l=s/8|0;t[l]|=r,t[l+1]|=r>>8},Fx=function(t,s,r){r<<=s&7;var l=s/8|0;t[l]|=r,t[l+1]|=r>>8,t[l+2]|=r>>16},Up=function(t,s){for(var r=[],l=0;l<t.length;++l)t[l]&&r.push({s:l,f:t[l]});var i=r.length,o=r.slice();if(!i)return{t:Fw,l:0};if(i==1){var d=new Di(r[0].s+1);return d[r[0].s]=1,{t:d,l:1}}r.sort(function(T,_){return T.f-_.f}),r.push({s:-1,f:25001});var x=r[0],u=r[1],h=0,p=1,g=2;for(r[0]={s:-1,f:x.f+u.f,l:x,r:u};p!=i-1;)x=r[r[h].f<r[g].f?h++:g++],u=r[h!=p&&r[h].f<r[g].f?h++:g++],r[p++]={s:-1,f:x.f+u.f,l:x,r:u};for(var y=o[0].s,l=1;l<i;++l)o[l].s>y&&(y=o[l].s);var f=new bn(y+1),w=_f(r[p-1],f,0);if(w>s){var l=0,S=0,v=w-s,N=1<<v;for(o.sort(function(_,I){return f[I.s]-f[_.s]||_.f-I.f});l<i;++l){var A=o[l].s;if(f[A]>s)S+=N-(1<<w-f[A]),f[A]=s;else break}for(S>>=v;S>0;){var L=o[l].s;f[L]<s?S-=1<<s-f[L]++-1:++l}for(;l>=0&&S;--l){var M=o[l].s;f[M]==s&&(--f[M],++S)}w=s}return{t:new Di(f),l:w}},_f=function(t,s,r){return t.s==-1?Math.max(_f(t.l,s,r+1),_f(t.r,s,r+1)):s[t.s]=r},xy=function(t){for(var s=t.length;s&&!t[--s];);for(var r=new bn(++s),l=0,i=t[0],o=1,d=function(u){r[l++]=u},x=1;x<=s;++x)if(t[x]==i&&x!=s)++o;else{if(!i&&o>2){for(;o>138;o-=138)d(32754);o>2&&(d(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(d(i),--o;o>6;o-=6)d(8304);o>2&&(d(o-3<<5|8208),o=0)}for(;o--;)d(i);o=1,i=t[x]}return{c:r.subarray(0,l),n:s}},Bx=function(t,s){for(var r=0,l=0;l<s.length;++l)r+=t[l]*s[l];return r},Ow=function(t,s,r){var l=r.length,i=Rw(s+2);t[i]=l&255,t[i+1]=l>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var o=0;o<l;++o)t[i+o+4]=r[o];return(i+4+l)*8},uy=function(t,s,r,l,i,o,d,x,u,h,p){_o(s,p++,r),++i[256];for(var g=Up(i,15),y=g.t,f=g.l,w=Up(o,15),S=w.t,v=w.l,N=xy(y),A=N.c,L=N.n,M=xy(S),T=M.c,_=M.n,I=new bn(19),B=0;B<A.length;++B)++I[A[B]&31];for(var B=0;B<T.length;++B)++I[T[B]&31];for(var P=Up(I,7),R=P.t,W=P.l,H=19;H>4&&!R[cy[H-1]];--H);var $=h+5<<3,G=Bx(i,Cd)+Bx(o,$h)+d,le=Bx(i,y)+Bx(o,S)+d+14+3*H+Bx(I,R)+2*I[16]+3*I[17]+7*I[18];if(u>=0&&$<=G&&$<=le)return Ow(s,p,t.subarray(u,u+h));var Q,ne,F,de;if(_o(s,p,1+(le<G)),p+=2,le<G){Q=qx(y,f,0),ne=y,F=qx(S,v,0),de=S;var ke=qx(R,W,0);_o(s,p,L-257),_o(s,p+5,_-1),_o(s,p+10,H-4),p+=14;for(var B=0;B<H;++B)_o(s,p+3*B,R[cy[B]]);p+=3*H;for(var X=[A,T],q=0;q<2;++q)for(var Z=X[q],B=0;B<Z.length;++B){var ae=Z[B]&31;_o(s,p,ke[ae]),p+=R[ae],ae>15&&(_o(s,p,Z[B]>>5&127),p+=Z[B]>>12)}}else Q=pL,ne=Cd,F=fL,de=$h;for(var B=0;B<x;++B){var ue=l[B];if(ue>255){var ae=ue>>18&31;Fx(s,p,Q[ae+257]),p+=ne[ae+257],ae>7&&(_o(s,p,ue>>23&31),p+=Mg[ae]);var he=ue&31;Fx(s,p,F[he]),p+=de[he],he>3&&(Fx(s,p,ue>>5&8191),p+=Dg[he])}else Fx(s,p,Q[ue]),p+=ne[ue]}return Fx(s,p,Q[256]),p+ne[256]},bL=new Ag([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Fw=new Di(0),vL=function(t,s,r,l,i,o){var d=o.z||t.length,x=new Di(l+d+5*(1+Math.ceil(d/7e3))+i),u=x.subarray(l,x.length-i),h=o.l,p=(o.r||0)&7;if(s){p&&(u[0]=o.r>>3);for(var g=bL[s-1],y=g>>13,f=g&8191,w=(1<<r)-1,S=o.p||new bn(32768),v=o.h||new bn(w+1),N=Math.ceil(r/3),A=2*N,L=function(xe){return(t[xe]^t[xe+1]<<N^t[xe+2]<<A)&w},M=new Ag(25e3),T=new bn(288),_=new bn(32),I=0,B=0,P=o.i||0,R=0,W=o.w||0,H=0;P+2<d;++P){var $=L(P),G=P&32767,le=v[$];if(S[G]=le,v[$]=G,W<=P){var Q=d-P;if((I>7e3||R>24576)&&(Q>423||!h)){p=uy(t,u,0,M,T,_,B,R,H,P-H,p),R=I=B=0,H=P;for(var ne=0;ne<286;++ne)T[ne]=0;for(var ne=0;ne<30;++ne)_[ne]=0}var F=2,de=0,ke=f,X=G-le&32767;if(Q>2&&$==L(P-X))for(var q=Math.min(y,Q)-1,Z=Math.min(32767,P),ae=Math.min(258,Q);X<=Z&&--ke&&G!=le;){if(t[P+F]==t[P+F-X]){for(var ue=0;ue<ae&&t[P+ue]==t[P+ue-X];++ue);if(ue>F){if(F=ue,de=X,ue>q)break;for(var he=Math.min(X,ue-2),be=0,ne=0;ne<he;++ne){var Me=P-X+ne&32767,Ne=S[Me],Fe=Me-Ne&32767;Fe>be&&(be=Fe,le=Me)}}}G=le,le=S[G],X+=G-le&32767}if(de){M[R++]=268435456|Ef[F]<<18|dy[de];var Xe=Ef[F]&31,st=dy[de]&31;B+=Mg[Xe]+Dg[st],++T[257+Xe],++_[st],W=P+F,++I}else M[R++]=t[P],++T[t[P]]}}for(P=Math.max(P,W);P<d;++P)M[R++]=t[P],++T[t[P]];p=uy(t,u,h,M,T,_,B,R,H,P-H,p),h||(o.r=p&7|u[p/8|0]<<3,p-=7,o.h=v,o.p=S,o.i=P,o.w=W)}else{for(var P=o.w||0;P<d+h;P+=65535){var et=P+65535;et>=d&&(u[p/8|0]=h,et=d),p=Ow(u,p+1,t.subarray(P,et))}o.i=d}return gL(x,0,l+Rw(p)+i)},Bw=function(){var t=1,s=0;return{p:function(r){for(var l=t,i=s,o=r.length|0,d=0;d!=o;){for(var x=Math.min(d+2655,o);d<x;++d)i+=l+=r[d];l=(l&65535)+15*(l>>16),i=(i&65535)+15*(i>>16)}t=l,s=i},d:function(){return t%=65521,s%=65521,(t&255)<<24|(t&65280)<<8|(s&255)<<8|s>>8}}},yL=function(t,s,r,l,i){if(!i&&(i={l:1},s.dictionary)){var o=s.dictionary.subarray(-32768),d=new Di(o.length+t.length);d.set(o),d.set(t,o.length),t=d,i.w=o.length}return vL(t,s.level==null?6:s.level,s.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+s.mem,r,l,i)},Iw=function(t,s,r){for(;r;++s)t[s]=r,r>>>=8},jL=function(t,s){var r=s.level,l=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=l<<6|(s.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,s.dictionary){var i=Bw();i.p(s.dictionary),Iw(t,2,i.d())}};function Pf(t,s){s||(s={});var r=Bw();r.p(t);var l=yL(t,s,s.dictionary?6:2,4);return jL(l,s),Iw(l,l.length-4,r.d()),l}var wL=typeof TextDecoder<"u"&&new TextDecoder,NL=0;try{wL.decode(Fw,{stream:!0}),NL=1}catch{}function kL(t){if(Array.isArray(t))return t}function SL(t,s){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var l,i,o,d,x=[],u=!0,h=!1;try{if(o=(r=r.call(t)).next,s!==0)for(;!(u=(l=o.call(r)).done)&&(x.push(l.value),x.length!==s);u=!0);}catch(p){h=!0,i=p}finally{try{if(!u&&r.return!=null&&(d=r.return(),Object(d)!==d))return}finally{if(h)throw i}}return x}}function hy(t,s){(s==null||s>t.length)&&(s=t.length);for(var r=0,l=Array(s);r<s;r++)l[r]=t[r];return l}function CL(t,s){if(t){if(typeof t=="string")return hy(t,s);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?hy(t,s):void 0}}function AL(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function my(t,s){return kL(t)||SL(t,s)||CL(t,s)||AL()}function py(t,s="utf8"){return new TextDecoder(s).decode(t)}const ML=new TextEncoder;function DL(t){return ML.encode(t)}const LL=1024*8,zL=(()=>{const t=new Uint8Array(4),s=new Uint32Array(t.buffer);return!((s[0]=1)&t[0])})(),$p={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Lg{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(s=LL,r={}){let l=!1;typeof s=="number"?s=new ArrayBuffer(s):(l=!0,this.lastWrittenByte=s.byteLength);const i=r.offset?r.offset>>>0:0,o=s.byteLength-i;let d=i;(ArrayBuffer.isView(s)||s instanceof Lg)&&(s.byteLength!==s.buffer.byteLength&&(d=s.byteOffset+i),s=s.buffer),l?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=s,this.length=o,this.byteLength=o,this.byteOffset=d,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,d,o),this._mark=0,this._marks=[]}available(s=1){return this.offset+s<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(s=1){return this.offset+=s,this}back(s=1){return this.offset-=s,this}seek(s){return this.offset=s,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const s=this._marks.pop();if(s===void 0)throw new Error("Mark stack empty");return this.seek(s),this}rewind(){return this.offset=0,this}ensureAvailable(s=1){if(!this.available(s)){const l=(this.offset+s)*2,i=new Uint8Array(l);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=l,this.byteLength=l,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(s=1){return this.readArray(s,"uint8")}readArray(s,r){const l=$p[r].BYTES_PER_ELEMENT*s,i=this.byteOffset+this.offset,o=this.buffer.slice(i,i+l);if(this.littleEndian===zL&&r!=="uint8"&&r!=="int8"){const x=new Uint8Array(this.buffer.slice(i,i+l));x.reverse();const u=new $p[r](x.buffer);return this.offset+=l,u.reverse(),u}const d=new $p[r](o);return this.offset+=l,d}readInt16(){const s=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,s}readUint16(){const s=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,s}readInt32(){const s=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,s}readUint32(){const s=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,s}readFloat32(){const s=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,s}readFloat64(){const s=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,s}readBigInt64(){const s=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,s}readBigUint64(){const s=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,s}readChar(){return String.fromCharCode(this.readInt8())}readChars(s=1){let r="";for(let l=0;l<s;l++)r+=this.readChar();return r}readUtf8(s=1){return py(this.readBytes(s))}decodeText(s=1,r="utf8"){return py(this.readBytes(s),r)}writeBoolean(s){return this.writeUint8(s?255:0),this}writeInt8(s){return this.ensureAvailable(1),this._data.setInt8(this.offset++,s),this._updateLastWrittenByte(),this}writeUint8(s){return this.ensureAvailable(1),this._data.setUint8(this.offset++,s),this._updateLastWrittenByte(),this}writeByte(s){return this.writeUint8(s)}writeBytes(s){this.ensureAvailable(s.length);for(let r=0;r<s.length;r++)this._data.setUint8(this.offset++,s[r]);return this._updateLastWrittenByte(),this}writeInt16(s){return this.ensureAvailable(2),this._data.setInt16(this.offset,s,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(s){return this.ensureAvailable(2),this._data.setUint16(this.offset,s,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(s){return this.ensureAvailable(4),this._data.setInt32(this.offset,s,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(s){return this.ensureAvailable(4),this._data.setUint32(this.offset,s,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(s){return this.ensureAvailable(4),this._data.setFloat32(this.offset,s,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(s){return this.ensureAvailable(8),this._data.setFloat64(this.offset,s,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(s){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,s,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(s){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,s,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(s){return this.writeUint8(s.charCodeAt(0))}writeChars(s){for(let r=0;r<s.length;r++)this.writeUint8(s.charCodeAt(r));return this}writeUtf8(s){return this.writeBytes(DL(s))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function J0(t){let s=t.length;for(;--s>=0;)t[s]=0}const EL=3,TL=258,Uw=29,_L=256,PL=_L+1+Uw,$w=30,RL=512,OL=new Array((PL+2)*2);J0(OL);const FL=new Array($w*2);J0(FL);const BL=new Array(RL);J0(BL);const IL=new Array(TL-EL+1);J0(IL);const UL=new Array(Uw);J0(UL);const $L=new Array($w);J0($L);const qL=(t,s,r,l)=>{let i=t&65535|0,o=t>>>16&65535|0,d=0;for(;r!==0;){d=r>2e3?2e3:r,r-=d;do i=i+s[l++]|0,o=o+i|0;while(--d);i%=65521,o%=65521}return i|o<<16|0};var Rf=qL;const HL=()=>{let t,s=[];for(var r=0;r<256;r++){t=r;for(var l=0;l<8;l++)t=t&1?3988292384^t>>>1:t>>>1;s[r]=t}return s},WL=new Uint32Array(HL()),GL=(t,s,r,l)=>{const i=WL,o=l+r;t^=-1;for(let d=l;d<o;d++)t=t>>>8^i[(t^s[d])&255];return t^-1};var Qi=GL,Of={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},qw={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const VL=(t,s)=>Object.prototype.hasOwnProperty.call(t,s);var YL=function(t){const s=Array.prototype.slice.call(arguments,1);for(;s.length;){const r=s.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const l in r)VL(r,l)&&(t[l]=r[l])}}return t},XL=t=>{let s=0;for(let l=0,i=t.length;l<i;l++)s+=t[l].length;const r=new Uint8Array(s);for(let l=0,i=0,o=t.length;l<o;l++){let d=t[l];r.set(d,i),i+=d.length}return r},Hw={assign:YL,flattenChunks:XL};let Ww=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Ww=!1}const Jx=new Uint8Array(256);for(let t=0;t<256;t++)Jx[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Jx[254]=Jx[254]=1;var KL=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let s,r,l,i,o,d=t.length,x=0;for(i=0;i<d;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<d&&(l=t.charCodeAt(i+1),(l&64512)===56320&&(r=65536+(r-55296<<10)+(l-56320),i++)),x+=r<128?1:r<2048?2:r<65536?3:4;for(s=new Uint8Array(x),o=0,i=0;o<x;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<d&&(l=t.charCodeAt(i+1),(l&64512)===56320&&(r=65536+(r-55296<<10)+(l-56320),i++)),r<128?s[o++]=r:r<2048?(s[o++]=192|r>>>6,s[o++]=128|r&63):r<65536?(s[o++]=224|r>>>12,s[o++]=128|r>>>6&63,s[o++]=128|r&63):(s[o++]=240|r>>>18,s[o++]=128|r>>>12&63,s[o++]=128|r>>>6&63,s[o++]=128|r&63);return s};const JL=(t,s)=>{if(s<65534&&t.subarray&&Ww)return String.fromCharCode.apply(null,t.length===s?t:t.subarray(0,s));let r="";for(let l=0;l<s;l++)r+=String.fromCharCode(t[l]);return r};var ZL=(t,s)=>{const r=s||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,s));let l,i;const o=new Array(r*2);for(i=0,l=0;l<r;){let d=t[l++];if(d<128){o[i++]=d;continue}let x=Jx[d];if(x>4){o[i++]=65533,l+=x-1;continue}for(d&=x===2?31:x===3?15:7;x>1&&l<r;)d=d<<6|t[l++]&63,x--;if(x>1){o[i++]=65533;continue}d<65536?o[i++]=d:(d-=65536,o[i++]=55296|d>>10&1023,o[i++]=56320|d&1023)}return JL(o,i)},QL=(t,s)=>{s=s||t.length,s>t.length&&(s=t.length);let r=s-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?s:r+Jx[t[r]]>s?r:s},Ff={string2buf:KL,buf2string:ZL,utf8border:QL};function ez(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var tz=ez;const ch=16209,sz=16191;var az=function(s,r){let l,i,o,d,x,u,h,p,g,y,f,w,S,v,N,A,L,M,T,_,I,B,P,R;const W=s.state;l=s.next_in,P=s.input,i=l+(s.avail_in-5),o=s.next_out,R=s.output,d=o-(r-s.avail_out),x=o+(s.avail_out-257),u=W.dmax,h=W.wsize,p=W.whave,g=W.wnext,y=W.window,f=W.hold,w=W.bits,S=W.lencode,v=W.distcode,N=(1<<W.lenbits)-1,A=(1<<W.distbits)-1;e:do{w<15&&(f+=P[l++]<<w,w+=8,f+=P[l++]<<w,w+=8),L=S[f&N];t:for(;;){if(M=L>>>24,f>>>=M,w-=M,M=L>>>16&255,M===0)R[o++]=L&65535;else if(M&16){T=L&65535,M&=15,M&&(w<M&&(f+=P[l++]<<w,w+=8),T+=f&(1<<M)-1,f>>>=M,w-=M),w<15&&(f+=P[l++]<<w,w+=8,f+=P[l++]<<w,w+=8),L=v[f&A];s:for(;;){if(M=L>>>24,f>>>=M,w-=M,M=L>>>16&255,M&16){if(_=L&65535,M&=15,w<M&&(f+=P[l++]<<w,w+=8,w<M&&(f+=P[l++]<<w,w+=8)),_+=f&(1<<M)-1,_>u){s.msg="invalid distance too far back",W.mode=ch;break e}if(f>>>=M,w-=M,M=o-d,_>M){if(M=_-M,M>p&&W.sane){s.msg="invalid distance too far back",W.mode=ch;break e}if(I=0,B=y,g===0){if(I+=h-M,M<T){T-=M;do R[o++]=y[I++];while(--M);I=o-_,B=R}}else if(g<M){if(I+=h+g-M,M-=g,M<T){T-=M;do R[o++]=y[I++];while(--M);if(I=0,g<T){M=g,T-=M;do R[o++]=y[I++];while(--M);I=o-_,B=R}}}else if(I+=g-M,M<T){T-=M;do R[o++]=y[I++];while(--M);I=o-_,B=R}for(;T>2;)R[o++]=B[I++],R[o++]=B[I++],R[o++]=B[I++],T-=3;T&&(R[o++]=B[I++],T>1&&(R[o++]=B[I++]))}else{I=o-_;do R[o++]=R[I++],R[o++]=R[I++],R[o++]=R[I++],T-=3;while(T>2);T&&(R[o++]=R[I++],T>1&&(R[o++]=R[I++]))}}else if((M&64)===0){L=v[(L&65535)+(f&(1<<M)-1)];continue s}else{s.msg="invalid distance code",W.mode=ch;break e}break}}else if((M&64)===0){L=S[(L&65535)+(f&(1<<M)-1)];continue t}else if(M&32){W.mode=sz;break e}else{s.msg="invalid literal/length code",W.mode=ch;break e}break}}while(l<i&&o<x);T=w>>3,l-=T,w-=T<<3,f&=(1<<w)-1,s.next_in=l,s.next_out=o,s.avail_in=l<i?5+(i-l):5-(l-i),s.avail_out=o<x?257+(x-o):257-(o-x),W.hold=f,W.bits=w};const M0=15,fy=852,gy=592,by=0,qp=1,vy=2,rz=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),lz=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),nz=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),iz=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),oz=(t,s,r,l,i,o,d,x)=>{const u=x.bits;let h=0,p=0,g=0,y=0,f=0,w=0,S=0,v=0,N=0,A=0,L,M,T,_,I,B=null,P;const R=new Uint16Array(M0+1),W=new Uint16Array(M0+1);let H=null,$,G,le;for(h=0;h<=M0;h++)R[h]=0;for(p=0;p<l;p++)R[s[r+p]]++;for(f=u,y=M0;y>=1&&R[y]===0;y--);if(f>y&&(f=y),y===0)return i[o++]=1<<24|64<<16|0,i[o++]=1<<24|64<<16|0,x.bits=1,0;for(g=1;g<y&&R[g]===0;g++);for(f<g&&(f=g),v=1,h=1;h<=M0;h++)if(v<<=1,v-=R[h],v<0)return-1;if(v>0&&(t===by||y!==1))return-1;for(W[1]=0,h=1;h<M0;h++)W[h+1]=W[h]+R[h];for(p=0;p<l;p++)s[r+p]!==0&&(d[W[s[r+p]]++]=p);if(t===by?(B=H=d,P=20):t===qp?(B=rz,H=lz,P=257):(B=nz,H=iz,P=0),A=0,p=0,h=g,I=o,w=f,S=0,T=-1,N=1<<f,_=N-1,t===qp&&N>fy||t===vy&&N>gy)return 1;for(;;){$=h-S,d[p]+1<P?(G=0,le=d[p]):d[p]>=P?(G=H[d[p]-P],le=B[d[p]-P]):(G=96,le=0),L=1<<h-S,M=1<<w,g=M;do M-=L,i[I+(A>>S)+M]=$<<24|G<<16|le|0;while(M!==0);for(L=1<<h-1;A&L;)L>>=1;if(L!==0?(A&=L-1,A+=L):A=0,p++,--R[h]===0){if(h===y)break;h=s[r+d[p]]}if(h>f&&(A&_)!==T){for(S===0&&(S=f),I+=g,w=h-S,v=1<<w;w+S<y&&(v-=R[w+S],!(v<=0));)w++,v<<=1;if(N+=1<<w,t===qp&&N>fy||t===vy&&N>gy)return 1;T=A&_,i[T]=f<<24|w<<16|I-o|0}}return A!==0&&(i[I+A]=h-S<<24|64<<16|0),x.bits=f,0};var Hx=oz;const cz=0,Gw=1,Vw=2,{Z_FINISH:yy,Z_BLOCK:dz,Z_TREES:dh,Z_OK:Ad,Z_STREAM_END:xz,Z_NEED_DICT:uz,Z_STREAM_ERROR:Kn,Z_DATA_ERROR:Yw,Z_MEM_ERROR:Xw,Z_BUF_ERROR:hz,Z_DEFLATED:jy}=qw,rm=16180,wy=16181,Ny=16182,ky=16183,Sy=16184,Cy=16185,Ay=16186,My=16187,Dy=16188,Ly=16189,qh=16190,Po=16191,Hp=16192,zy=16193,Wp=16194,Ey=16195,Ty=16196,_y=16197,Py=16198,xh=16199,uh=16200,Ry=16201,Oy=16202,Fy=16203,By=16204,Iy=16205,Gp=16206,Uy=16207,$y=16208,Sa=16209,Kw=16210,Jw=16211,mz=852,pz=592,fz=15,gz=fz,qy=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function bz(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const zd=t=>{if(!t)return 1;const s=t.state;return!s||s.strm!==t||s.mode<rm||s.mode>Jw?1:0},Zw=t=>{if(zd(t))return Kn;const s=t.state;return t.total_in=t.total_out=s.total=0,t.msg="",s.wrap&&(t.adler=s.wrap&1),s.mode=rm,s.last=0,s.havedict=0,s.flags=-1,s.dmax=32768,s.head=null,s.hold=0,s.bits=0,s.lencode=s.lendyn=new Int32Array(mz),s.distcode=s.distdyn=new Int32Array(pz),s.sane=1,s.back=-1,Ad},Qw=t=>{if(zd(t))return Kn;const s=t.state;return s.wsize=0,s.whave=0,s.wnext=0,Zw(t)},eN=(t,s)=>{let r;if(zd(t))return Kn;const l=t.state;return s<0?(r=0,s=-s):(r=(s>>4)+5,s<48&&(s&=15)),s&&(s<8||s>15)?Kn:(l.window!==null&&l.wbits!==s&&(l.window=null),l.wrap=r,l.wbits=s,Qw(t))},tN=(t,s)=>{if(!t)return Kn;const r=new bz;t.state=r,r.strm=t,r.window=null,r.mode=rm;const l=eN(t,s);return l!==Ad&&(t.state=null),l},vz=t=>tN(t,gz);let Hy=!0,Vp,Yp;const yz=t=>{if(Hy){Vp=new Int32Array(512),Yp=new Int32Array(32);let s=0;for(;s<144;)t.lens[s++]=8;for(;s<256;)t.lens[s++]=9;for(;s<280;)t.lens[s++]=7;for(;s<288;)t.lens[s++]=8;for(Hx(Gw,t.lens,0,288,Vp,0,t.work,{bits:9}),s=0;s<32;)t.lens[s++]=5;Hx(Vw,t.lens,0,32,Yp,0,t.work,{bits:5}),Hy=!1}t.lencode=Vp,t.lenbits=9,t.distcode=Yp,t.distbits=5},sN=(t,s,r,l)=>{let i;const o=t.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),l>=o.wsize?(o.window.set(s.subarray(r-o.wsize,r),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>l&&(i=l),o.window.set(s.subarray(r-l,r-l+i),o.wnext),l-=i,l?(o.window.set(s.subarray(r-l,r),0),o.wnext=l,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0},jz=(t,s)=>{let r,l,i,o,d,x,u,h,p,g,y,f,w,S,v=0,N,A,L,M,T,_,I,B;const P=new Uint8Array(4);let R,W;const H=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(zd(t)||!t.output||!t.input&&t.avail_in!==0)return Kn;r=t.state,r.mode===Po&&(r.mode=Hp),d=t.next_out,i=t.output,u=t.avail_out,o=t.next_in,l=t.input,x=t.avail_in,h=r.hold,p=r.bits,g=x,y=u,B=Ad;e:for(;;)switch(r.mode){case rm:if(r.wrap===0){r.mode=Hp;break}for(;p<16;){if(x===0)break e;x--,h+=l[o++]<<p,p+=8}if(r.wrap&2&&h===35615){r.wbits===0&&(r.wbits=15),r.check=0,P[0]=h&255,P[1]=h>>>8&255,r.check=Qi(r.check,P,2,0),h=0,p=0,r.mode=wy;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((h&255)<<8)+(h>>8))%31){t.msg="incorrect header check",r.mode=Sa;break}if((h&15)!==jy){t.msg="unknown compression method",r.mode=Sa;break}if(h>>>=4,p-=4,I=(h&15)+8,r.wbits===0&&(r.wbits=I),I>15||I>r.wbits){t.msg="invalid window size",r.mode=Sa;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=h&512?Ly:Po,h=0,p=0;break;case wy:for(;p<16;){if(x===0)break e;x--,h+=l[o++]<<p,p+=8}if(r.flags=h,(r.flags&255)!==jy){t.msg="unknown compression method",r.mode=Sa;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=Sa;break}r.head&&(r.head.text=h>>8&1),r.flags&512&&r.wrap&4&&(P[0]=h&255,P[1]=h>>>8&255,r.check=Qi(r.check,P,2,0)),h=0,p=0,r.mode=Ny;case Ny:for(;p<32;){if(x===0)break e;x--,h+=l[o++]<<p,p+=8}r.head&&(r.head.time=h),r.flags&512&&r.wrap&4&&(P[0]=h&255,P[1]=h>>>8&255,P[2]=h>>>16&255,P[3]=h>>>24&255,r.check=Qi(r.check,P,4,0)),h=0,p=0,r.mode=ky;case ky:for(;p<16;){if(x===0)break e;x--,h+=l[o++]<<p,p+=8}r.head&&(r.head.xflags=h&255,r.head.os=h>>8),r.flags&512&&r.wrap&4&&(P[0]=h&255,P[1]=h>>>8&255,r.check=Qi(r.check,P,2,0)),h=0,p=0,r.mode=Sy;case Sy:if(r.flags&1024){for(;p<16;){if(x===0)break e;x--,h+=l[o++]<<p,p+=8}r.length=h,r.head&&(r.head.extra_len=h),r.flags&512&&r.wrap&4&&(P[0]=h&255,P[1]=h>>>8&255,r.check=Qi(r.check,P,2,0)),h=0,p=0}else r.head&&(r.head.extra=null);r.mode=Cy;case Cy:if(r.flags&1024&&(f=r.length,f>x&&(f=x),f&&(r.head&&(I=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(l.subarray(o,o+f),I)),r.flags&512&&r.wrap&4&&(r.check=Qi(r.check,l,f,o)),x-=f,o+=f,r.length-=f),r.length))break e;r.length=0,r.mode=Ay;case Ay:if(r.flags&2048){if(x===0)break e;f=0;do I=l[o+f++],r.head&&I&&r.length<65536&&(r.head.name+=String.fromCharCode(I));while(I&&f<x);if(r.flags&512&&r.wrap&4&&(r.check=Qi(r.check,l,f,o)),x-=f,o+=f,I)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=My;case My:if(r.flags&4096){if(x===0)break e;f=0;do I=l[o+f++],r.head&&I&&r.length<65536&&(r.head.comment+=String.fromCharCode(I));while(I&&f<x);if(r.flags&512&&r.wrap&4&&(r.check=Qi(r.check,l,f,o)),x-=f,o+=f,I)break e}else r.head&&(r.head.comment=null);r.mode=Dy;case Dy:if(r.flags&512){for(;p<16;){if(x===0)break e;x--,h+=l[o++]<<p,p+=8}if(r.wrap&4&&h!==(r.check&65535)){t.msg="header crc mismatch",r.mode=Sa;break}h=0,p=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=Po;break;case Ly:for(;p<32;){if(x===0)break e;x--,h+=l[o++]<<p,p+=8}t.adler=r.check=qy(h),h=0,p=0,r.mode=qh;case qh:if(r.havedict===0)return t.next_out=d,t.avail_out=u,t.next_in=o,t.avail_in=x,r.hold=h,r.bits=p,uz;t.adler=r.check=1,r.mode=Po;case Po:if(s===dz||s===dh)break e;case Hp:if(r.last){h>>>=p&7,p-=p&7,r.mode=Gp;break}for(;p<3;){if(x===0)break e;x--,h+=l[o++]<<p,p+=8}switch(r.last=h&1,h>>>=1,p-=1,h&3){case 0:r.mode=zy;break;case 1:if(yz(r),r.mode=xh,s===dh){h>>>=2,p-=2;break e}break;case 2:r.mode=Ty;break;case 3:t.msg="invalid block type",r.mode=Sa}h>>>=2,p-=2;break;case zy:for(h>>>=p&7,p-=p&7;p<32;){if(x===0)break e;x--,h+=l[o++]<<p,p+=8}if((h&65535)!==(h>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Sa;break}if(r.length=h&65535,h=0,p=0,r.mode=Wp,s===dh)break e;case Wp:r.mode=Ey;case Ey:if(f=r.length,f){if(f>x&&(f=x),f>u&&(f=u),f===0)break e;i.set(l.subarray(o,o+f),d),x-=f,o+=f,u-=f,d+=f,r.length-=f;break}r.mode=Po;break;case Ty:for(;p<14;){if(x===0)break e;x--,h+=l[o++]<<p,p+=8}if(r.nlen=(h&31)+257,h>>>=5,p-=5,r.ndist=(h&31)+1,h>>>=5,p-=5,r.ncode=(h&15)+4,h>>>=4,p-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Sa;break}r.have=0,r.mode=_y;case _y:for(;r.have<r.ncode;){for(;p<3;){if(x===0)break e;x--,h+=l[o++]<<p,p+=8}r.lens[H[r.have++]]=h&7,h>>>=3,p-=3}for(;r.have<19;)r.lens[H[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,R={bits:r.lenbits},B=Hx(cz,r.lens,0,19,r.lencode,0,r.work,R),r.lenbits=R.bits,B){t.msg="invalid code lengths set",r.mode=Sa;break}r.have=0,r.mode=Py;case Py:for(;r.have<r.nlen+r.ndist;){for(;v=r.lencode[h&(1<<r.lenbits)-1],N=v>>>24,A=v>>>16&255,L=v&65535,!(N<=p);){if(x===0)break e;x--,h+=l[o++]<<p,p+=8}if(L<16)h>>>=N,p-=N,r.lens[r.have++]=L;else{if(L===16){for(W=N+2;p<W;){if(x===0)break e;x--,h+=l[o++]<<p,p+=8}if(h>>>=N,p-=N,r.have===0){t.msg="invalid bit length repeat",r.mode=Sa;break}I=r.lens[r.have-1],f=3+(h&3),h>>>=2,p-=2}else if(L===17){for(W=N+3;p<W;){if(x===0)break e;x--,h+=l[o++]<<p,p+=8}h>>>=N,p-=N,I=0,f=3+(h&7),h>>>=3,p-=3}else{for(W=N+7;p<W;){if(x===0)break e;x--,h+=l[o++]<<p,p+=8}h>>>=N,p-=N,I=0,f=11+(h&127),h>>>=7,p-=7}if(r.have+f>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Sa;break}for(;f--;)r.lens[r.have++]=I}}if(r.mode===Sa)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=Sa;break}if(r.lenbits=9,R={bits:r.lenbits},B=Hx(Gw,r.lens,0,r.nlen,r.lencode,0,r.work,R),r.lenbits=R.bits,B){t.msg="invalid literal/lengths set",r.mode=Sa;break}if(r.distbits=6,r.distcode=r.distdyn,R={bits:r.distbits},B=Hx(Vw,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,R),r.distbits=R.bits,B){t.msg="invalid distances set",r.mode=Sa;break}if(r.mode=xh,s===dh)break e;case xh:r.mode=uh;case uh:if(x>=6&&u>=258){t.next_out=d,t.avail_out=u,t.next_in=o,t.avail_in=x,r.hold=h,r.bits=p,az(t,y),d=t.next_out,i=t.output,u=t.avail_out,o=t.next_in,l=t.input,x=t.avail_in,h=r.hold,p=r.bits,r.mode===Po&&(r.back=-1);break}for(r.back=0;v=r.lencode[h&(1<<r.lenbits)-1],N=v>>>24,A=v>>>16&255,L=v&65535,!(N<=p);){if(x===0)break e;x--,h+=l[o++]<<p,p+=8}if(A&&(A&240)===0){for(M=N,T=A,_=L;v=r.lencode[_+((h&(1<<M+T)-1)>>M)],N=v>>>24,A=v>>>16&255,L=v&65535,!(M+N<=p);){if(x===0)break e;x--,h+=l[o++]<<p,p+=8}h>>>=M,p-=M,r.back+=M}if(h>>>=N,p-=N,r.back+=N,r.length=L,A===0){r.mode=Iy;break}if(A&32){r.back=-1,r.mode=Po;break}if(A&64){t.msg="invalid literal/length code",r.mode=Sa;break}r.extra=A&15,r.mode=Ry;case Ry:if(r.extra){for(W=r.extra;p<W;){if(x===0)break e;x--,h+=l[o++]<<p,p+=8}r.length+=h&(1<<r.extra)-1,h>>>=r.extra,p-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=Oy;case Oy:for(;v=r.distcode[h&(1<<r.distbits)-1],N=v>>>24,A=v>>>16&255,L=v&65535,!(N<=p);){if(x===0)break e;x--,h+=l[o++]<<p,p+=8}if((A&240)===0){for(M=N,T=A,_=L;v=r.distcode[_+((h&(1<<M+T)-1)>>M)],N=v>>>24,A=v>>>16&255,L=v&65535,!(M+N<=p);){if(x===0)break e;x--,h+=l[o++]<<p,p+=8}h>>>=M,p-=M,r.back+=M}if(h>>>=N,p-=N,r.back+=N,A&64){t.msg="invalid distance code",r.mode=Sa;break}r.offset=L,r.extra=A&15,r.mode=Fy;case Fy:if(r.extra){for(W=r.extra;p<W;){if(x===0)break e;x--,h+=l[o++]<<p,p+=8}r.offset+=h&(1<<r.extra)-1,h>>>=r.extra,p-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Sa;break}r.mode=By;case By:if(u===0)break e;if(f=y-u,r.offset>f){if(f=r.offset-f,f>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Sa;break}f>r.wnext?(f-=r.wnext,w=r.wsize-f):w=r.wnext-f,f>r.length&&(f=r.length),S=r.window}else S=i,w=d-r.offset,f=r.length;f>u&&(f=u),u-=f,r.length-=f;do i[d++]=S[w++];while(--f);r.length===0&&(r.mode=uh);break;case Iy:if(u===0)break e;i[d++]=r.length,u--,r.mode=uh;break;case Gp:if(r.wrap){for(;p<32;){if(x===0)break e;x--,h|=l[o++]<<p,p+=8}if(y-=u,t.total_out+=y,r.total+=y,r.wrap&4&&y&&(t.adler=r.check=r.flags?Qi(r.check,i,y,d-y):Rf(r.check,i,y,d-y)),y=u,r.wrap&4&&(r.flags?h:qy(h))!==r.check){t.msg="incorrect data check",r.mode=Sa;break}h=0,p=0}r.mode=Uy;case Uy:if(r.wrap&&r.flags){for(;p<32;){if(x===0)break e;x--,h+=l[o++]<<p,p+=8}if(r.wrap&4&&h!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=Sa;break}h=0,p=0}r.mode=$y;case $y:B=xz;break e;case Sa:B=Yw;break e;case Kw:return Xw;case Jw:default:return Kn}return t.next_out=d,t.avail_out=u,t.next_in=o,t.avail_in=x,r.hold=h,r.bits=p,(r.wsize||y!==t.avail_out&&r.mode<Sa&&(r.mode<Gp||s!==yy))&&sN(t,t.output,t.next_out,y-t.avail_out),g-=t.avail_in,y-=t.avail_out,t.total_in+=g,t.total_out+=y,r.total+=y,r.wrap&4&&y&&(t.adler=r.check=r.flags?Qi(r.check,i,y,t.next_out-y):Rf(r.check,i,y,t.next_out-y)),t.data_type=r.bits+(r.last?64:0)+(r.mode===Po?128:0)+(r.mode===xh||r.mode===Wp?256:0),(g===0&&y===0||s===yy)&&B===Ad&&(B=hz),B},wz=t=>{if(zd(t))return Kn;let s=t.state;return s.window&&(s.window=null),t.state=null,Ad},Nz=(t,s)=>{if(zd(t))return Kn;const r=t.state;return(r.wrap&2)===0?Kn:(r.head=s,s.done=!1,Ad)},kz=(t,s)=>{const r=s.length;let l,i,o;return zd(t)||(l=t.state,l.wrap!==0&&l.mode!==qh)?Kn:l.mode===qh&&(i=1,i=Rf(i,s,r,0),i!==l.check)?Yw:(o=sN(t,s,r,r),o?(l.mode=Kw,Xw):(l.havedict=1,Ad))};var Sz=Qw,Cz=eN,Az=Zw,Mz=vz,Dz=tN,Lz=jz,zz=wz,Ez=Nz,Tz=kz,_z="pako inflate (from Nodeca project)",Ro={inflateReset:Sz,inflateReset2:Cz,inflateResetKeep:Az,inflateInit:Mz,inflateInit2:Dz,inflate:Lz,inflateEnd:zz,inflateGetHeader:Ez,inflateSetDictionary:Tz,inflateInfo:_z};function Pz(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Rz=Pz;const aN=Object.prototype.toString,{Z_NO_FLUSH:Oz,Z_FINISH:Fz,Z_OK:Zx,Z_STREAM_END:Xp,Z_NEED_DICT:Kp,Z_STREAM_ERROR:Bz,Z_DATA_ERROR:Wy,Z_MEM_ERROR:Iz}=qw;function du(t){this.options=Hw.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const s=this.options;s.raw&&s.windowBits>=0&&s.windowBits<16&&(s.windowBits=-s.windowBits,s.windowBits===0&&(s.windowBits=-15)),s.windowBits>=0&&s.windowBits<16&&!(t&&t.windowBits)&&(s.windowBits+=32),s.windowBits>15&&s.windowBits<48&&(s.windowBits&15)===0&&(s.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new tz,this.strm.avail_out=0;let r=Ro.inflateInit2(this.strm,s.windowBits);if(r!==Zx)throw new Error(Of[r]);if(this.header=new Rz,Ro.inflateGetHeader(this.strm,this.header),s.dictionary&&(typeof s.dictionary=="string"?s.dictionary=Ff.string2buf(s.dictionary):aN.call(s.dictionary)==="[object ArrayBuffer]"&&(s.dictionary=new Uint8Array(s.dictionary)),s.raw&&(r=Ro.inflateSetDictionary(this.strm,s.dictionary),r!==Zx)))throw new Error(Of[r])}du.prototype.push=function(t,s){const r=this.strm,l=this.options.chunkSize,i=this.options.dictionary;let o,d,x;if(this.ended)return!1;for(s===~~s?d=s:d=s===!0?Fz:Oz,aN.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(l),r.next_out=0,r.avail_out=l),o=Ro.inflate(r,d),o===Kp&&i&&(o=Ro.inflateSetDictionary(r,i),o===Zx?o=Ro.inflate(r,d):o===Wy&&(o=Kp));r.avail_in>0&&o===Xp&&r.state.wrap>0&&t[r.next_in]!==0;)Ro.inflateReset(r),o=Ro.inflate(r,d);switch(o){case Bz:case Wy:case Kp:case Iz:return this.onEnd(o),this.ended=!0,!1}if(x=r.avail_out,r.next_out&&(r.avail_out===0||o===Xp))if(this.options.to==="string"){let u=Ff.utf8border(r.output,r.next_out),h=r.next_out-u,p=Ff.buf2string(r.output,u);r.next_out=h,r.avail_out=l-h,h&&r.output.set(r.output.subarray(u,u+h),0),this.onData(p)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(o===Zx&&x===0)){if(o===Xp)return o=Ro.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};du.prototype.onData=function(t){this.chunks.push(t)};du.prototype.onEnd=function(t){t===Zx&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Hw.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function Uz(t,s){const r=new du(s);if(r.push(t),r.err)throw r.msg||Of[r.err];return r.result}var $z=du,qz=Uz,Hz={Inflate:$z,inflate:qz};const{Inflate:Wz,inflate:Gz}=Hz;var Gy=Wz,Vz=Gz;const rN=[];for(let t=0;t<256;t++){let s=t;for(let r=0;r<8;r++)s&1?s=3988292384^s>>>1:s=s>>>1;rN[t]=s}const Vy=4294967295;function Yz(t,s,r){let l=t;for(let i=0;i<r;i++)l=rN[(l^s[i])&255]^l>>>8;return l}function Xz(t,s){return(Yz(Vy,t,s)^Vy)>>>0}function Yy(t,s,r){const l=t.readUint32(),i=Xz(new Uint8Array(t.buffer,t.byteOffset+t.offset-s-4,s),s);if(i!==l)throw new Error(`CRC mismatch for chunk ${r}. Expected ${l}, found ${i}`)}function lN(t,s,r){for(let l=0;l<r;l++)s[l]=t[l]}function nN(t,s,r,l){let i=0;for(;i<l;i++)s[i]=t[i];for(;i<r;i++)s[i]=t[i]+s[i-l]&255}function iN(t,s,r,l){let i=0;if(r.length===0)for(;i<l;i++)s[i]=t[i];else for(;i<l;i++)s[i]=t[i]+r[i]&255}function oN(t,s,r,l,i){let o=0;if(r.length===0){for(;o<i;o++)s[o]=t[o];for(;o<l;o++)s[o]=t[o]+(s[o-i]>>1)&255}else{for(;o<i;o++)s[o]=t[o]+(r[o]>>1)&255;for(;o<l;o++)s[o]=t[o]+(s[o-i]+r[o]>>1)&255}}function cN(t,s,r,l,i){let o=0;if(r.length===0){for(;o<i;o++)s[o]=t[o];for(;o<l;o++)s[o]=t[o]+s[o-i]&255}else{for(;o<i;o++)s[o]=t[o]+r[o]&255;for(;o<l;o++)s[o]=t[o]+Kz(s[o-i],r[o],r[o-i])&255}}function Kz(t,s,r){const l=t+s-r,i=Math.abs(l-t),o=Math.abs(l-s),d=Math.abs(l-r);return i<=o&&i<=d?t:o<=d?s:r}function Jz(t,s,r,l,i,o){switch(t){case 0:lN(s,r,i);break;case 1:nN(s,r,i,o);break;case 2:iN(s,r,l,i);break;case 3:oN(s,r,l,i,o);break;case 4:cN(s,r,l,i,o);break;default:throw new Error(`Unsupported filter: ${t}`)}}const Zz=new Uint16Array([255]),Qz=new Uint8Array(Zz.buffer),eE=Qz[0]===255;function tE(t){const{data:s,width:r,height:l,channels:i,depth:o}=t,d=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],x=Math.ceil(o/8)*i,u=new Uint8Array(l*r*x);let h=0;for(let p=0;p<7;p++){const g=d[p],y=Math.ceil((r-g.x)/g.xStep),f=Math.ceil((l-g.y)/g.yStep);if(y<=0||f<=0)continue;const w=y*x,S=new Uint8Array(w);for(let v=0;v<f;v++){const N=s[h++],A=s.subarray(h,h+w);h+=w;const L=new Uint8Array(w);Jz(N,A,L,S,w,x),S.set(L);for(let M=0;M<y;M++){const T=g.x+M*g.xStep,_=g.y+v*g.yStep;if(!(T>=r||_>=l))for(let I=0;I<x;I++)u[(_*r+T)*x+I]=L[M*x+I]}}}if(o===16){const p=new Uint16Array(u.buffer);if(eE)for(let g=0;g<p.length;g++)p[g]=sE(p[g]);return p}else return u}function sE(t){return(t&255)<<8|t>>8&255}const aE=new Uint16Array([255]),rE=new Uint8Array(aE.buffer),lE=rE[0]===255,nE=new Uint8Array(0);function Xy(t){const{data:s,width:r,height:l,channels:i,depth:o}=t,d=Math.ceil(o/8)*i,x=Math.ceil(o/8*i*r),u=new Uint8Array(l*x);let h=nE,p=0,g,y;for(let f=0;f<l;f++){switch(g=s.subarray(p+1,p+1+x),y=u.subarray(f*x,(f+1)*x),s[p]){case 0:lN(g,y,x);break;case 1:nN(g,y,x,d);break;case 2:iN(g,y,h,x);break;case 3:oN(g,y,h,x,d);break;case 4:cN(g,y,h,x,d);break;default:throw new Error(`Unsupported filter: ${s[p]}`)}h=y,p+=x+1}if(o===16){const f=new Uint16Array(u.buffer);if(lE)for(let w=0;w<f.length;w++)f[w]=iE(f[w]);return f}else return u}function iE(t){return(t&255)<<8|t>>8&255}const Ah=Uint8Array.of(137,80,78,71,13,10,26,10);function Ky(t){if(!oE(t.readBytes(Ah.length)))throw new Error("wrong PNG signature")}function oE(t){if(t.length<Ah.length)return!1;for(let s=0;s<Ah.length;s++)if(t[s]!==Ah[s])return!1;return!0}const cE="tEXt",dE=0,dN=new TextDecoder("latin1");function xE(t){if(hE(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const uE=/^[\u0000-\u00FF]*$/;function hE(t){if(!uE.test(t))throw new Error("invalid latin1 text")}function mE(t,s,r){const l=xN(s);t[l]=pE(s,r-l.length-1)}function xN(t){for(t.mark();t.readByte()!==dE;);const s=t.offset;t.reset();const r=dN.decode(t.readBytes(s-t.offset-1));return t.skip(1),xE(r),r}function pE(t,s){return dN.decode(t.readBytes(s))}const mn={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Jp={UNKNOWN:-1,DEFLATE:0},Jy={UNKNOWN:-1,ADAPTIVE:0},Zp={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},hh={NONE:0,BACKGROUND:1,PREVIOUS:2},Qp={SOURCE:0,OVER:1};class fE extends Lg{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(s,r={}){super(s);const{checkCrc:l=!1}=r;this._checkCrc=l,this._inflator=new Gy,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Jp.UNKNOWN,this._filterMethod=Jy.UNKNOWN,this._interlaceMethod=Zp.UNKNOWN,this._colorType=mn.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Ky(this);!this._end;){const s=this.readUint32(),r=this.readChars(4);this.decodeChunk(s,r)}return this.decodeImage(),this._png}decodeApng(){for(Ky(this);!this._end;){const s=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(s,r)}return this.decodeApngImage(),this._apng}decodeChunk(s,r){const l=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(s);break;case"IDAT":this.decodeIDAT(s);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(s);break;case"iCCP":this.decodeiCCP(s);break;case cE:mE(this._png.text,this,s);break;case"pHYs":this.decodepHYs();break;default:this.skip(s);break}if(this.offset-l!==s)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?Yy(this,s+4,r):this.skip(4)}decodeApngChunk(s,r){const l=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(s);break;default:this.decodeChunk(s,r),this.offset=l+s;break}if(this.offset-l!==s)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?Yy(this,s+4,r):this.skip(4)}decodeIHDR(){const s=this._png;s.width=this.readUint32(),s.height=this.readUint32(),s.depth=gE(this.readUint8());const r=this.readUint8();this._colorType=r;let l;switch(r){case mn.GREYSCALE:l=1;break;case mn.TRUECOLOUR:l=3;break;case mn.INDEXED_COLOUR:l=1;break;case mn.GREYSCALE_ALPHA:l=2;break;case mn.TRUECOLOUR_ALPHA:l=4;break;case mn.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=l,this._compressionMethod=this.readUint8(),this._compressionMethod!==Jp.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const s={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(s)}decodePLTE(s){if(s%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${s}`);const r=s/3;this._hasPalette=!0;const l=[];this._palette=l;for(let i=0;i<r;i++)l.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(s){this._writingDataChunks=!0;const r=s,l=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,l,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(s)}decodeFDAT(s){this._writingDataChunks=!0;let r=s,l=this.offset+this.byteOffset;if(l+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,l,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(s)}decodetRNS(s){switch(this._colorType){case mn.GREYSCALE:case mn.TRUECOLOUR:{if(s%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${s}`);if(s/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${s/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(s/2);for(let r=0;r<s/2;r++)this._transparency[r]=this.readUint16();break}case mn.INDEXED_COLOUR:{if(s>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${s} vs ${this._palette.length})`);let r=0;for(;r<s;r++){const l=this.readByte();this._palette[r].push(l)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case mn.UNKNOWN:case mn.GREYSCALE_ALPHA:case mn.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(s){const r=xN(this),l=this.readUint8();if(l!==Jp.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${l}`);const i=this.readBytes(s-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:Vz(i)}}decodepHYs(){const s=this.readUint32(),r=this.readUint32(),l=this.readByte();this._png.resolution={x:s,y:r,unit:l}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let s=0;s<this._numberOfFrames;s++){const r={sequenceNumber:this._frames[s].sequenceNumber,delayNumber:this._frames[s].delayNumber,delayDenominator:this._frames[s].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},l=this._frames.at(s);if(l){if(l.data=Xy({data:l.data,width:l.width,height:l.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),s===0||l.xOffset===0&&l.yOffset===0&&l.width===this._png.width&&l.height===this._png.height)r.data=l.data;else{const i=this._apng.frames.at(s-1);this.disposeFrame(l,i,r),this.addFrameDataToCanvas(r,l)}this._apng.frames.push(r)}}return this._apng}disposeFrame(s,r,l){switch(s.disposeOp){case hh.NONE:break;case hh.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let o=0;o<this._png.width;o++){const d=(i*s.width+o)*this._png.channels;for(let x=0;x<this._png.channels;x++)l.data[d+x]=0}break;case hh.PREVIOUS:l.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(s,r){const l=1<<this._png.depth,i=(o,d)=>{const x=((o+r.yOffset)*this._png.width+r.xOffset+d)*this._png.channels,u=(o*r.width+d)*this._png.channels;return{index:x,frameIndex:u}};switch(r.blendOp){case Qp.SOURCE:for(let o=0;o<r.height;o++)for(let d=0;d<r.width;d++){const{index:x,frameIndex:u}=i(o,d);for(let h=0;h<this._png.channels;h++)s.data[x+h]=r.data[u+h]}break;case Qp.OVER:for(let o=0;o<r.height;o++)for(let d=0;d<r.width;d++){const{index:x,frameIndex:u}=i(o,d);for(let h=0;h<this._png.channels;h++){const p=r.data[u+this._png.channels-1]/l,g=h%(this._png.channels-1)===0?1:r.data[u+h],y=Math.floor(p*g+(1-p)*s.data[x+h]);s.data[x+h]+=y}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const s=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==Jy.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Zp.NO_INTERLACE)this._png.data=Xy({data:s,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Zp.ADAM7)this._png.data=tE({data:s,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const s=this._inflator.result,r=this._frames.at(-1);r?r.data=s:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:hh.NONE,blendOp:Qp.SOURCE,data:s}),this._inflator=new Gy,this._writingDataChunks=!1}}function gE(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var Zy;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(Zy||(Zy={}));function bE(t,s){return new fE(t,s).decode()}var Yt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function ef(){Yt.console&&typeof Yt.console.log=="function"&&Yt.console.log.apply(Yt.console,arguments)}var oa={log:ef,warn:function(t){Yt.console&&(typeof Yt.console.warn=="function"?Yt.console.warn.apply(Yt.console,arguments):ef.call(null,arguments))},error:function(t){Yt.console&&(typeof Yt.console.error=="function"?Yt.console.error.apply(Yt.console,arguments):ef(t))}};function tf(t,s,r){var l=new XMLHttpRequest;l.open("GET",t),l.responseType="blob",l.onload=function(){fd(l.response,s,r)},l.onerror=function(){oa.error("could not download file")},l.send()}function Qy(t){var s=new XMLHttpRequest;s.open("HEAD",t,!1);try{s.send()}catch{}return s.status>=200&&s.status<=299}function mh(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var s=document.createEvent("MouseEvents");s.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(s)}}var fd=Yt.saveAs||((typeof window>"u"?"undefined":Xs(window))!=="object"||window!==Yt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,s,r){var l=Yt.URL||Yt.webkitURL,i=document.createElement("a");s=s||t.name||"download",i.download=s,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?Qy(i.href)?tf(t,s,r):mh(i,i.target="_blank"):mh(i)):(i.href=l.createObjectURL(t),setTimeout(function(){l.revokeObjectURL(i.href)},4e4),setTimeout(function(){mh(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,s,r){if(s=s||t.name||"download",typeof t=="string")if(Qy(t))tf(t,s,r);else{var l=document.createElement("a");l.href=t,l.target="_blank",setTimeout(function(){mh(l)})}else navigator.msSaveOrOpenBlob((function(i,o){return o===void 0?o={autoBom:!1}:Xs(o)!=="object"&&(oa.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(t,r),s)}:function(t,s,r,l){if((l=l||open("","_blank"))&&(l.document.title=l.document.body.innerText="downloading..."),typeof t=="string")return tf(t,s,r);var i=t.type==="application/octet-stream",o=/constructor/i.test(Yt.HTMLElement)||Yt.safari,d=/CriOS\/[\d]+/.test(navigator.userAgent);if((d||i&&o)&&(typeof FileReader>"u"?"undefined":Xs(FileReader))==="object"){var x=new FileReader;x.onloadend=function(){var p=x.result;p=d?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),l?l.location.href=p:location=p,l=null},x.readAsDataURL(t)}else{var u=Yt.URL||Yt.webkitURL,h=u.createObjectURL(t);l?l.location=h:location.href=h,l=null,setTimeout(function(){u.revokeObjectURL(h)},4e4)}});function uN(t){var s;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(x){return[parseInt(x[1]),parseInt(x[2]),parseInt(x[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(x){return[parseInt(x[1],16),parseInt(x[2],16),parseInt(x[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(x){return[parseInt(x[1]+x[1],16),parseInt(x[2]+x[2],16),parseInt(x[3]+x[3],16)]}}],l=0;l<r.length;l++){var i=r[l].re,o=r[l].process,d=i.exec(t);d&&(s=o(d),this.r=s[0],this.g=s[1],this.b=s[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var x=this.r.toString(16),u=this.g.toString(16),h=this.b.toString(16);return x.length==1&&(x="0"+x),u.length==1&&(u="0"+u),h.length==1&&(h="0"+h),"#"+x+u+h}}var Mh=Yt.atob.bind(Yt),e2=Yt.btoa.bind(Yt);function sf(t,s){var r=t[0],l=t[1],i=t[2],o=t[3];r=Jr(r,l,i,o,s[0],7,-680876936),o=Jr(o,r,l,i,s[1],12,-389564586),i=Jr(i,o,r,l,s[2],17,606105819),l=Jr(l,i,o,r,s[3],22,-1044525330),r=Jr(r,l,i,o,s[4],7,-176418897),o=Jr(o,r,l,i,s[5],12,1200080426),i=Jr(i,o,r,l,s[6],17,-1473231341),l=Jr(l,i,o,r,s[7],22,-45705983),r=Jr(r,l,i,o,s[8],7,1770035416),o=Jr(o,r,l,i,s[9],12,-1958414417),i=Jr(i,o,r,l,s[10],17,-42063),l=Jr(l,i,o,r,s[11],22,-1990404162),r=Jr(r,l,i,o,s[12],7,1804603682),o=Jr(o,r,l,i,s[13],12,-40341101),i=Jr(i,o,r,l,s[14],17,-1502002290),r=Zr(r,l=Jr(l,i,o,r,s[15],22,1236535329),i,o,s[1],5,-165796510),o=Zr(o,r,l,i,s[6],9,-1069501632),i=Zr(i,o,r,l,s[11],14,643717713),l=Zr(l,i,o,r,s[0],20,-373897302),r=Zr(r,l,i,o,s[5],5,-701558691),o=Zr(o,r,l,i,s[10],9,38016083),i=Zr(i,o,r,l,s[15],14,-660478335),l=Zr(l,i,o,r,s[4],20,-405537848),r=Zr(r,l,i,o,s[9],5,568446438),o=Zr(o,r,l,i,s[14],9,-1019803690),i=Zr(i,o,r,l,s[3],14,-187363961),l=Zr(l,i,o,r,s[8],20,1163531501),r=Zr(r,l,i,o,s[13],5,-1444681467),o=Zr(o,r,l,i,s[2],9,-51403784),i=Zr(i,o,r,l,s[7],14,1735328473),r=Qr(r,l=Zr(l,i,o,r,s[12],20,-1926607734),i,o,s[5],4,-378558),o=Qr(o,r,l,i,s[8],11,-2022574463),i=Qr(i,o,r,l,s[11],16,1839030562),l=Qr(l,i,o,r,s[14],23,-35309556),r=Qr(r,l,i,o,s[1],4,-1530992060),o=Qr(o,r,l,i,s[4],11,1272893353),i=Qr(i,o,r,l,s[7],16,-155497632),l=Qr(l,i,o,r,s[10],23,-1094730640),r=Qr(r,l,i,o,s[13],4,681279174),o=Qr(o,r,l,i,s[0],11,-358537222),i=Qr(i,o,r,l,s[3],16,-722521979),l=Qr(l,i,o,r,s[6],23,76029189),r=Qr(r,l,i,o,s[9],4,-640364487),o=Qr(o,r,l,i,s[12],11,-421815835),i=Qr(i,o,r,l,s[15],16,530742520),r=el(r,l=Qr(l,i,o,r,s[2],23,-995338651),i,o,s[0],6,-198630844),o=el(o,r,l,i,s[7],10,1126891415),i=el(i,o,r,l,s[14],15,-1416354905),l=el(l,i,o,r,s[5],21,-57434055),r=el(r,l,i,o,s[12],6,1700485571),o=el(o,r,l,i,s[3],10,-1894986606),i=el(i,o,r,l,s[10],15,-1051523),l=el(l,i,o,r,s[1],21,-2054922799),r=el(r,l,i,o,s[8],6,1873313359),o=el(o,r,l,i,s[15],10,-30611744),i=el(i,o,r,l,s[6],15,-1560198380),l=el(l,i,o,r,s[13],21,1309151649),r=el(r,l,i,o,s[4],6,-145523070),o=el(o,r,l,i,s[11],10,-1120210379),i=el(i,o,r,l,s[2],15,718787259),l=el(l,i,o,r,s[9],21,-343485551),t[0]=Lc(r,t[0]),t[1]=Lc(l,t[1]),t[2]=Lc(i,t[2]),t[3]=Lc(o,t[3])}function lm(t,s,r,l,i,o){return s=Lc(Lc(s,t),Lc(l,o)),Lc(s<<i|s>>>32-i,r)}function Jr(t,s,r,l,i,o,d){return lm(s&r|~s&l,t,s,i,o,d)}function Zr(t,s,r,l,i,o,d){return lm(s&l|r&~l,t,s,i,o,d)}function Qr(t,s,r,l,i,o,d){return lm(s^r^l,t,s,i,o,d)}function el(t,s,r,l,i,o,d){return lm(r^(s|~l),t,s,i,o,d)}function hN(t){var s,r=t.length,l=[1732584193,-271733879,-1732584194,271733878];for(s=64;s<=t.length;s+=64)sf(l,vE(t.substring(s-64,s)));t=t.substring(s-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(s=0;s<t.length;s++)i[s>>2]|=t.charCodeAt(s)<<(s%4<<3);if(i[s>>2]|=128<<(s%4<<3),s>55)for(sf(l,i),s=0;s<16;s++)i[s]=0;return i[14]=8*r,sf(l,i),l}function vE(t){var s,r=[];for(s=0;s<64;s+=4)r[s>>2]=t.charCodeAt(s)+(t.charCodeAt(s+1)<<8)+(t.charCodeAt(s+2)<<16)+(t.charCodeAt(s+3)<<24);return r}var t2="0123456789abcdef".split("");function yE(t){for(var s="",r=0;r<4;r++)s+=t2[t>>8*r+4&15]+t2[t>>8*r&15];return s}function jE(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Bf(t){return hN(t).map(jE).join("")}var wE=(function(t){for(var s=0;s<t.length;s++)t[s]=yE(t[s]);return t.join("")})(hN("hello"))!="5d41402abc4b2a76b9719d911017c592";function Lc(t,s){if(wE){var r=(65535&t)+(65535&s);return(t>>16)+(s>>16)+(r>>16)<<16|65535&r}return t+s&4294967295}function If(t,s){var r,l,i,o;if(t!==r){for(var d=(i=t,o=1+(256/t.length|0),new Array(o+1).join(i)),x=[],u=0;u<256;u++)x[u]=u;var h=0;for(u=0;u<256;u++){var p=x[u];h=(h+p+d.charCodeAt(u))%256,x[u]=x[h],x[h]=p}r=t,l=x}else x=l;var g=s.length,y=0,f=0,w="";for(u=0;u<g;u++)f=(f+(p=x[y=(y+1)%256]))%256,x[y]=x[f],x[f]=p,d=x[(x[y]+x[f])%256],w+=String.fromCharCode(s.charCodeAt(u)^d);return w}var s2={print:4,modify:8,copy:16,"annot-forms":32};function z0(t,s,r,l){this.v=1,this.r=2;var i=192;t.forEach(function(x){if(s2.perm!==void 0)throw new Error("Invalid permission: "+x);i+=s2[x]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(s+this.padding).substr(0,32),d=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,d),this.P=-(1+(255^i)),this.encryptionKey=Bf(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(l)).substr(0,5),this.U=If(this.encryptionKey,this.padding)}function E0(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var s="",r=t.length,l=0;l<r;l++){var i=t.charCodeAt(l);s+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[l]}return s}function a2(t){if(Xs(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var s={};this.subscribe=function(r,l,i){if(i=i||!1,typeof r!="string"||typeof l!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");s.hasOwnProperty(r)||(s[r]={});var o=Math.random().toString(35);return s[r][o]=[l,!!i],o},this.unsubscribe=function(r){for(var l in s)if(s[l][r])return delete s[l][r],Object.keys(s[l]).length===0&&delete s[l],!0;return!1},this.publish=function(r){if(s.hasOwnProperty(r)){var l=Array.prototype.slice.call(arguments,1),i=[];for(var o in s[r]){var d=s[r][o];try{d[0].apply(t,l)}catch(x){Yt.console&&oa.error("jsPDF PubSub Error",x.message,x)}d[1]&&i.push(o)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return s}}function Hh(t){if(!(this instanceof Hh))return new Hh(t);var s="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&s.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function mN(t,s){this.gState=t,this.matrix=s,this.id="",this.objectNumber=-1}function bd(t,s,r,l,i){if(!(this instanceof bd))return new bd(t,s,r,l,i);this.type=t==="axial"?2:3,this.coords=s,this.colors=r,mN.call(this,l,i)}function T0(t,s,r,l,i){if(!(this instanceof T0))return new T0(t,s,r,l,i);this.boundingBox=t,this.xStep=s,this.yStep=r,this.stream="",this.cloneIndex=0,mN.call(this,l,i)}function yt(t){var s,r=typeof arguments[0]=="string"?arguments[0]:"p",l=arguments[1],i=arguments[2],o=arguments[3],d=[],x=1,u=16,h="S",p=null;Xs(t=t||{})==="object"&&(r=t.orientation,l=t.unit||l,i=t.format||i,o=t.compress||t.compressPdf||o,(p=t.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),x=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(s=t.precision),t.floatPrecision!==void 0&&(u=t.floatPrecision),h=t.defaultPathOperation||"S"),d=t.filters||(o===!0?["FlateEncode"]:d),l=l||"mm",r=(""+(r||"P")).toLowerCase();var g=t.putOnlyUsedFonts||!1,y={},f={internal:{},__private__:{}};f.__private__.PubSub=a2;var w="1.3",S=f.__private__.getPdfVersion=function(){return w};f.__private__.setPdfVersion=function(z){w=z};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return v};var N=f.__private__.getPageFormat=function(z){return v[z]};i=i||"a4";var A="compat",L="advanced",M=A;function T(){this.saveGraphicsState(),se(new At(Kt,0,0,-Kt,0,ii()*Kt).toString()+" cm"),this.setFontSize(this.getFontSize()/Kt),h="n",M=L}function _(){this.restoreGraphicsState(),h="S",M=A}var I=f.__private__.combineFontStyleAndFontWeight=function(z,V){if(z=="bold"&&V=="normal"||z=="bold"&&V==400||z=="normal"&&V=="italic"||z=="bold"&&V=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return V&&(z=V==400||V==="normal"?z==="italic"?"italic":"normal":V!=700&&V!=="bold"||z!=="normal"?(V==700?"bold":V)+""+z:"bold"),z};f.advancedAPI=function(z){var V=M===A;return V&&T.call(this),typeof z!="function"||(z(this),V&&_.call(this)),this},f.compatAPI=function(z){var V=M===L;return V&&_.call(this),typeof z!="function"||(z(this),V&&T.call(this)),this},f.isAdvancedAPI=function(){return M===L};var B,P=function(z){if(M!==L)throw new Error(z+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},R=f.roundToPrecision=f.__private__.roundToPrecision=function(z,V){var ce=s||V;if(isNaN(z)||isNaN(ce))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return z.toFixed(ce).replace(/0+$/,"")};B=f.hpf=f.__private__.hpf=typeof u=="number"?function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.hpf");return R(z,u)}:u==="smart"?function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.hpf");return R(z,z>-1&&z<1?16:5)}:function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.hpf");return R(z,16)};var W=f.f2=f.__private__.f2=function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.f2");return R(z,2)},H=f.__private__.f3=function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.f3");return R(z,3)},$=f.scale=f.__private__.scale=function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.scale");return M===A?z*Kt:M===L?z:void 0},G=function(z){return $((function(V){return M===A?ii()-V:M===L?V:void 0})(z))};f.__private__.setPrecision=f.setPrecision=function(z){typeof parseInt(z,10)=="number"&&(s=parseInt(z,10))};var le,Q="00000000000000000000000000000000",ne=f.__private__.getFileId=function(){return Q},F=f.__private__.setFileId=function(z){return Q=z!==void 0&&/^[a-fA-F0-9]{32}$/.test(z)?z.toUpperCase():Q.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(Va=new z0(p.userPermissions,p.userPassword,p.ownerPassword,Q)),Q};f.setFileId=function(z){return F(z),this},f.getFileId=function(){return ne()};var de=f.__private__.convertDateToPDFDate=function(z){var V=z.getTimezoneOffset(),ce=V<0?"+":"-",pe=Math.floor(Math.abs(V/60)),ye=Math.abs(V%60),Ie=[ce,ae(pe),"'",ae(ye),"'"].join("");return["D:",z.getFullYear(),ae(z.getMonth()+1),ae(z.getDate()),ae(z.getHours()),ae(z.getMinutes()),ae(z.getSeconds()),Ie].join("")},ke=f.__private__.convertPDFDateToDate=function(z){var V=parseInt(z.substr(2,4),10),ce=parseInt(z.substr(6,2),10)-1,pe=parseInt(z.substr(8,2),10),ye=parseInt(z.substr(10,2),10),Ie=parseInt(z.substr(12,2),10),We=parseInt(z.substr(14,2),10);return new Date(V,ce,pe,ye,Ie,We,0)},X=f.__private__.setCreationDate=function(z){var V;if(z===void 0&&(z=new Date),z instanceof Date)V=de(z);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(z))throw new Error("Invalid argument passed to jsPDF.setCreationDate");V=z}return le=V},q=f.__private__.getCreationDate=function(z){var V=le;return z==="jsDate"&&(V=ke(le)),V};f.setCreationDate=function(z){return X(z),this},f.getCreationDate=function(z){return q(z)};var Z,ae=f.__private__.padd2=function(z){return("0"+parseInt(z)).slice(-2)},ue=f.__private__.padd2Hex=function(z){return("00"+(z=z.toString())).substr(z.length)},he=0,be=[],Me=[],Ne=0,Fe=[],Xe=[],st=!1,et=Me;f.__private__.setCustomOutputDestination=function(z){st=!0,et=z};var xe=function(z){st||(et=z)};f.__private__.resetCustomOutputDestination=function(){st=!1,et=Me};var se=f.__private__.out=function(z){return z=z.toString(),Ne+=z.length+1,et.push(z),et},Ze=f.__private__.write=function(z){return se(arguments.length===1?z.toString():Array.prototype.join.call(arguments," "))},Ft=f.__private__.getArrayBuffer=function(z){for(var V=z.length,ce=new ArrayBuffer(V),pe=new Uint8Array(ce);V--;)pe[V]=z.charCodeAt(V);return ce},Ct=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return Ct};var Ve=t.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(z){return Ve=M===L?z/Kt:z,this};var wt,nt=f.__private__.getFontSize=f.getFontSize=function(){return M===A?Ve:Ve*Kt},kt=t.R2L||!1;f.__private__.setR2L=f.setR2L=function(z){return kt=z,this},f.__private__.getR2L=f.getR2L=function(){return kt};var ft,Ge=f.__private__.setZoomMode=function(z){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(z))wt=z;else if(isNaN(z)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(z)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+z+'" is not recognized.');wt=z}else wt=parseInt(z,10)};f.__private__.getZoomMode=function(){return wt};var Xt,gt=f.__private__.setPageMode=function(z){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(z)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+z+'" is not recognized.');ft=z};f.__private__.getPageMode=function(){return ft};var cs=f.__private__.setLayoutMode=function(z){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(z)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+z+'" is not recognized.');Xt=z};f.__private__.getLayoutMode=function(){return Xt},f.__private__.setDisplayMode=f.setDisplayMode=function(z,V,ce){return Ge(z),cs(V),gt(ce),this};var rs={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(z){if(Object.keys(rs).indexOf(z)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return rs[z]},f.__private__.getDocumentProperties=function(){return rs},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(z){for(var V in rs)rs.hasOwnProperty(V)&&z[V]&&(rs[V]=z[V]);return this},f.__private__.setDocumentProperty=function(z,V){if(Object.keys(rs).indexOf(z)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return rs[z]=V};var dt,Kt,jt,Aa,xs,Tt={},Ut={},us=[],Dt={},Zs={},Rt={},$t={},Hs=null,ls=0,Nt=[],ks=new a2(f),Xl=t.hotfixes||[],yr={},Sn={},Nl=[],At=function z(V,ce,pe,ye,Ie,We){if(!(this instanceof z))return new z(V,ce,pe,ye,Ie,We);isNaN(V)&&(V=1),isNaN(ce)&&(ce=0),isNaN(pe)&&(pe=0),isNaN(ye)&&(ye=1),isNaN(Ie)&&(Ie=0),isNaN(We)&&(We=0),this._matrix=[V,ce,pe,ye,Ie,We]};Object.defineProperty(At.prototype,"sx",{get:function(){return this._matrix[0]},set:function(z){this._matrix[0]=z}}),Object.defineProperty(At.prototype,"shy",{get:function(){return this._matrix[1]},set:function(z){this._matrix[1]=z}}),Object.defineProperty(At.prototype,"shx",{get:function(){return this._matrix[2]},set:function(z){this._matrix[2]=z}}),Object.defineProperty(At.prototype,"sy",{get:function(){return this._matrix[3]},set:function(z){this._matrix[3]=z}}),Object.defineProperty(At.prototype,"tx",{get:function(){return this._matrix[4]},set:function(z){this._matrix[4]=z}}),Object.defineProperty(At.prototype,"ty",{get:function(){return this._matrix[5]},set:function(z){this._matrix[5]=z}}),Object.defineProperty(At.prototype,"a",{get:function(){return this._matrix[0]},set:function(z){this._matrix[0]=z}}),Object.defineProperty(At.prototype,"b",{get:function(){return this._matrix[1]},set:function(z){this._matrix[1]=z}}),Object.defineProperty(At.prototype,"c",{get:function(){return this._matrix[2]},set:function(z){this._matrix[2]=z}}),Object.defineProperty(At.prototype,"d",{get:function(){return this._matrix[3]},set:function(z){this._matrix[3]=z}}),Object.defineProperty(At.prototype,"e",{get:function(){return this._matrix[4]},set:function(z){this._matrix[4]=z}}),Object.defineProperty(At.prototype,"f",{get:function(){return this._matrix[5]},set:function(z){this._matrix[5]=z}}),Object.defineProperty(At.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(At.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(At.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(At.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),At.prototype.join=function(z){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(B).join(z)},At.prototype.multiply=function(z){var V=z.sx*this.sx+z.shy*this.shx,ce=z.sx*this.shy+z.shy*this.sy,pe=z.shx*this.sx+z.sy*this.shx,ye=z.shx*this.shy+z.sy*this.sy,Ie=z.tx*this.sx+z.ty*this.shx+this.tx,We=z.tx*this.shy+z.ty*this.sy+this.ty;return new At(V,ce,pe,ye,Ie,We)},At.prototype.decompose=function(){var z=this.sx,V=this.shy,ce=this.shx,pe=this.sy,ye=this.tx,Ie=this.ty,We=Math.sqrt(z*z+V*V),ut=(z/=We)*ce+(V/=We)*pe;ce-=z*ut,pe-=V*ut;var bt=Math.sqrt(ce*ce+pe*pe);return ut/=bt,z*(pe/=bt)<V*(ce/=bt)&&(z=-z,V=-V,ut=-ut,We=-We),{scale:new At(We,0,0,bt,0,0),translate:new At(1,0,0,1,ye,Ie),rotate:new At(z,V,-V,z,0,0),skew:new At(1,0,ut,1,0,0)}},At.prototype.toString=function(z){return this.join(" ")},At.prototype.inversed=function(){var z=this.sx,V=this.shy,ce=this.shx,pe=this.sy,ye=this.tx,Ie=this.ty,We=1/(z*pe-V*ce),ut=pe*We,bt=-V*We,Bt=-ce*We,Jt=z*We;return new At(ut,bt,Bt,Jt,-ut*ye-Bt*Ie,-bt*ye-Jt*Ie)},At.prototype.applyToPoint=function(z){var V=z.x*this.sx+z.y*this.shx+this.tx,ce=z.x*this.shy+z.y*this.sy+this.ty;return new Cl(V,ce)},At.prototype.applyToRectangle=function(z){var V=this.applyToPoint(z),ce=this.applyToPoint(new Cl(z.x+z.w,z.y+z.h));return new si(V.x,V.y,ce.x-V.x,ce.y-V.y)},At.prototype.clone=function(){var z=this.sx,V=this.shy,ce=this.shx,pe=this.sy,ye=this.tx,Ie=this.ty;return new At(z,V,ce,pe,ye,Ie)},f.Matrix=At;var Zn=f.matrixMult=function(z,V){return V.multiply(z)},Cn=new At(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=Cn;var nl=function(z,V){if(!Zs[z]){var ce=(V instanceof bd?"Sh":"P")+(Object.keys(Dt).length+1).toString(10);V.id=ce,Zs[z]=ce,Dt[ce]=V,ks.publish("addPattern",V)}};f.ShadingPattern=bd,f.TilingPattern=T0,f.addShadingPattern=function(z,V){return P("addShadingPattern()"),nl(z,V),this},f.beginTilingPattern=function(z){P("beginTilingPattern()"),xo(z.boundingBox[0],z.boundingBox[1],z.boundingBox[2]-z.boundingBox[0],z.boundingBox[3]-z.boundingBox[1],z.matrix)},f.endTilingPattern=function(z,V){P("endTilingPattern()"),V.stream=Xe[Z].join(`
`),nl(z,V),ks.publish("endTilingPattern",V),Nl.pop().restore()};var il,ua=f.__private__.newObject=function(){var z=Pa();return rr(z,!0),z},Pa=f.__private__.newObjectDeferred=function(){return he++,be[he]=function(){return Ne},he},rr=function(z,V){return V=typeof V=="boolean"&&V,be[z]=Ne,V&&se(z+" 0 obj"),z},Ti=f.__private__.newAdditionalObject=function(){var z={objId:Pa(),content:""};return Fe.push(z),z},Er=Pa(),Ws=Pa(),ma=f.__private__.decodeColorString=function(z){var V=z.split(" ");if(V.length!==2||V[1]!=="g"&&V[1]!=="G")V.length!==5||V[4]!=="k"&&V[4]!=="K"||(V=[(1-V[0])*(1-V[3]),(1-V[1])*(1-V[3]),(1-V[2])*(1-V[3]),"r"]);else{var ce=parseFloat(V[0]);V=[ce,ce,ce,"r"]}for(var pe="#",ye=0;ye<3;ye++)pe+=("0"+Math.floor(255*parseFloat(V[ye])).toString(16)).slice(-2);return pe},jr=f.__private__.encodeColorString=function(z){var V;typeof z=="string"&&(z={ch1:z});var ce=z.ch1,pe=z.ch2,ye=z.ch3,Ie=z.ch4,We=z.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ce=="string"&&ce.charAt(0)!=="#"){var ut=new uN(ce);if(ut.ok)ce=ut.toHex();else if(!/^\d*\.?\d*$/.test(ce))throw new Error('Invalid color "'+ce+'" passed to jsPDF.encodeColorString.')}if(typeof ce=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ce)&&(ce="#"+ce[1]+ce[1]+ce[2]+ce[2]+ce[3]+ce[3]),typeof ce=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ce)){var bt=parseInt(ce.substr(1),16);ce=bt>>16&255,pe=bt>>8&255,ye=255&bt}if(pe===void 0||Ie===void 0&&ce===pe&&pe===ye)V=typeof ce=="string"?ce+" "+We[0]:z.precision===2?W(ce/255)+" "+We[0]:H(ce/255)+" "+We[0];else if(Ie===void 0||Xs(Ie)==="object"){if(Ie&&!isNaN(Ie.a)&&Ie.a===0)return["1.","1.","1.",We[1]].join(" ");V=typeof ce=="string"?[ce,pe,ye,We[1]].join(" "):z.precision===2?[W(ce/255),W(pe/255),W(ye/255),We[1]].join(" "):[H(ce/255),H(pe/255),H(ye/255),We[1]].join(" ")}else V=typeof ce=="string"?[ce,pe,ye,Ie,We[2]].join(" "):z.precision===2?[W(ce),W(pe),W(ye),W(Ie),We[2]].join(" "):[H(ce),H(pe),H(ye),H(Ie),We[2]].join(" ");return V},ol=f.__private__.getFilters=function(){return d},kl=f.__private__.putStream=function(z){var V=(z=z||{}).data||"",ce=z.filters||ol(),pe=z.alreadyAppliedFilters||[],ye=z.addLength1||!1,Ie=V.length,We=z.objectId,ut=function(Ya){return Ya};if(p!==null&&We===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(ut=Va.encryptor(We,0));var bt={};ce===!0&&(ce=["FlateEncode"]);var Bt=z.additionalKeyValues||[],Jt=(bt=yt.API.processDataByFilters!==void 0?yt.API.processDataByFilters(V,ce):{data:V,reverseChain:[]}).reverseChain+(Array.isArray(pe)?pe.join(" "):pe.toString());if(bt.data.length!==0&&(Bt.push({key:"Length",value:bt.data.length}),ye===!0&&Bt.push({key:"Length1",value:Ie})),Jt.length!=0)if(Jt.split("/").length-1==1)Bt.push({key:"Filter",value:Jt});else{Bt.push({key:"Filter",value:"["+Jt+"]"});for(var Ss=0;Ss<Bt.length;Ss+=1)if(Bt[Ss].key==="DecodeParms"){for(var pa=[],Da=0;Da<bt.reverseChain.split("/").length-1;Da+=1)pa.push("null");pa.push(Bt[Ss].value),Bt[Ss].value="["+pa.join(" ")+"]"}}se("<<");for(var Qs=0;Qs<Bt.length;Qs++)se("/"+Bt[Qs].key+" "+Bt[Qs].value);se(">>"),bt.data.length!==0&&(se("stream"),se(ut(bt.data)),se("endstream"))},ro=f.__private__.putPage=function(z){var V=z.number,ce=z.data,pe=z.objId,ye=z.contentsObjId;rr(pe,!0),se("<</Type /Page"),se("/Parent "+z.rootDictionaryObjId+" 0 R"),se("/Resources "+z.resourceDictionaryObjId+" 0 R"),se("/MediaBox ["+parseFloat(B(z.mediaBox.bottomLeftX))+" "+parseFloat(B(z.mediaBox.bottomLeftY))+" "+B(z.mediaBox.topRightX)+" "+B(z.mediaBox.topRightY)+"]"),z.cropBox!==null&&se("/CropBox ["+B(z.cropBox.bottomLeftX)+" "+B(z.cropBox.bottomLeftY)+" "+B(z.cropBox.topRightX)+" "+B(z.cropBox.topRightY)+"]"),z.bleedBox!==null&&se("/BleedBox ["+B(z.bleedBox.bottomLeftX)+" "+B(z.bleedBox.bottomLeftY)+" "+B(z.bleedBox.topRightX)+" "+B(z.bleedBox.topRightY)+"]"),z.trimBox!==null&&se("/TrimBox ["+B(z.trimBox.bottomLeftX)+" "+B(z.trimBox.bottomLeftY)+" "+B(z.trimBox.topRightX)+" "+B(z.trimBox.topRightY)+"]"),z.artBox!==null&&se("/ArtBox ["+B(z.artBox.bottomLeftX)+" "+B(z.artBox.bottomLeftY)+" "+B(z.artBox.topRightX)+" "+B(z.artBox.topRightY)+"]"),typeof z.userUnit=="number"&&z.userUnit!==1&&se("/UserUnit "+z.userUnit),ks.publish("putPage",{objId:pe,pageContext:Nt[V],pageNumber:V,page:ce}),se("/Contents "+ye+" 0 R"),se(">>"),se("endobj");var Ie=ce.join(`
`);return M===L&&(Ie+=`
Q`),rr(ye,!0),kl({data:Ie,filters:ol(),objectId:ye}),se("endobj"),pe},Kl=f.__private__.putPages=function(){var z,V,ce=[];for(z=1;z<=ls;z++)Nt[z].objId=Pa(),Nt[z].contentsObjId=Pa();for(z=1;z<=ls;z++)ce.push(ro({number:z,data:Xe[z],objId:Nt[z].objId,contentsObjId:Nt[z].contentsObjId,mediaBox:Nt[z].mediaBox,cropBox:Nt[z].cropBox,bleedBox:Nt[z].bleedBox,trimBox:Nt[z].trimBox,artBox:Nt[z].artBox,userUnit:Nt[z].userUnit,rootDictionaryObjId:Er,resourceDictionaryObjId:Ws}));rr(Er,!0),se("<</Type /Pages");var pe="/Kids [";for(V=0;V<ls;V++)pe+=ce[V]+" 0 R ";se(pe+"]"),se("/Count "+ls),se(">>"),se("endobj"),ks.publish("postPutPages")},Jl=function(z){ks.publish("putFont",{font:z,out:se,newObject:ua,putStream:kl}),z.isAlreadyPutted!==!0&&(z.objectNumber=ua(),se("<<"),se("/Type /Font"),se("/BaseFont /"+E0(z.postScriptName)),se("/Subtype /Type1"),typeof z.encoding=="string"&&se("/Encoding /"+z.encoding),se("/FirstChar 32"),se("/LastChar 255"),se(">>"),se("endobj"))},_i=function(z){z.objectNumber=ua();var V=[];V.push({key:"Type",value:"/XObject"}),V.push({key:"Subtype",value:"/Form"}),V.push({key:"BBox",value:"["+[B(z.x),B(z.y),B(z.x+z.width),B(z.y+z.height)].join(" ")+"]"}),V.push({key:"Matrix",value:"["+z.matrix.toString()+"]"});var ce=z.pages[1].join(`
`);kl({data:ce,additionalKeyValues:V,objectId:z.objectNumber}),se("endobj")},Zl=function(z,V){V||(V=21);var ce=ua(),pe=(function(We,ut){var bt,Bt=[],Jt=1/(ut-1);for(bt=0;bt<1;bt+=Jt)Bt.push(bt);if(Bt.push(1),We[0].offset!=0){var Ss={offset:0,color:We[0].color};We.unshift(Ss)}if(We[We.length-1].offset!=1){var pa={offset:1,color:We[We.length-1].color};We.push(pa)}for(var Da="",Qs=0,Ya=0;Ya<Bt.length;Ya++){for(bt=Bt[Ya];bt>We[Qs+1].offset;)Qs++;var Oa=We[Qs].offset,ur=(bt-Oa)/(We[Qs+1].offset-Oa),oi=We[Qs].color,rn=We[Qs+1].color;Da+=ue(Math.round((1-ur)*oi[0]+ur*rn[0]).toString(16))+ue(Math.round((1-ur)*oi[1]+ur*rn[1]).toString(16))+ue(Math.round((1-ur)*oi[2]+ur*rn[2]).toString(16))}return Da.trim()})(z.colors,V),ye=[];ye.push({key:"FunctionType",value:"0"}),ye.push({key:"Domain",value:"[0.0 1.0]"}),ye.push({key:"Size",value:"["+V+"]"}),ye.push({key:"BitsPerSample",value:"8"}),ye.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ye.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),kl({data:pe,additionalKeyValues:ye,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ce}),se("endobj"),z.objectNumber=ua(),se("<< /ShadingType "+z.type),se("/ColorSpace /DeviceRGB");var Ie="/Coords ["+B(parseFloat(z.coords[0]))+" "+B(parseFloat(z.coords[1]))+" ";z.type===2?Ie+=B(parseFloat(z.coords[2]))+" "+B(parseFloat(z.coords[3])):Ie+=B(parseFloat(z.coords[2]))+" "+B(parseFloat(z.coords[3]))+" "+B(parseFloat(z.coords[4]))+" "+B(parseFloat(z.coords[5])),se(Ie+="]"),z.matrix&&se("/Matrix ["+z.matrix.toString()+"]"),se("/Function "+ce+" 0 R"),se("/Extend [true true]"),se(">>"),se("endobj")},Ql=function(z,V){var ce=Pa(),pe=ua();V.push({resourcesOid:ce,objectOid:pe}),z.objectNumber=pe;var ye=[];ye.push({key:"Type",value:"/Pattern"}),ye.push({key:"PatternType",value:"1"}),ye.push({key:"PaintType",value:"1"}),ye.push({key:"TilingType",value:"1"}),ye.push({key:"BBox",value:"["+z.boundingBox.map(B).join(" ")+"]"}),ye.push({key:"XStep",value:B(z.xStep)}),ye.push({key:"YStep",value:B(z.yStep)}),ye.push({key:"Resources",value:ce+" 0 R"}),z.matrix&&ye.push({key:"Matrix",value:"["+z.matrix.toString()+"]"}),kl({data:z.stream,additionalKeyValues:ye,objectId:z.objectNumber}),se("endobj")},lo=function(z){for(var V in z.objectNumber=ua(),se("<<"),z)switch(V){case"opacity":se("/ca "+W(z[V]));break;case"stroke-opacity":se("/CA "+W(z[V]))}se(">>"),se("endobj")},An=function(z){rr(z.resourcesOid,!0),se("<<"),se("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var V in se("/Font <<"),Tt)Tt.hasOwnProperty(V)&&(g===!1||g===!0&&y.hasOwnProperty(V))&&se("/"+V+" "+Tt[V].objectNumber+" 0 R");se(">>")})(),(function(){if(Object.keys(Dt).length>0){for(var V in se("/Shading <<"),Dt)Dt.hasOwnProperty(V)&&Dt[V]instanceof bd&&Dt[V].objectNumber>=0&&se("/"+V+" "+Dt[V].objectNumber+" 0 R");ks.publish("putShadingPatternDict"),se(">>")}})(),(function(V){if(Object.keys(Dt).length>0){for(var ce in se("/Pattern <<"),Dt)Dt.hasOwnProperty(ce)&&Dt[ce]instanceof f.TilingPattern&&Dt[ce].objectNumber>=0&&Dt[ce].objectNumber<V&&se("/"+ce+" "+Dt[ce].objectNumber+" 0 R");ks.publish("putTilingPatternDict"),se(">>")}})(z.objectOid),(function(){if(Object.keys(Rt).length>0){var V;for(V in se("/ExtGState <<"),Rt)Rt.hasOwnProperty(V)&&Rt[V].objectNumber>=0&&se("/"+V+" "+Rt[V].objectNumber+" 0 R");ks.publish("putGStateDict"),se(">>")}})(),(function(){for(var V in se("/XObject <<"),yr)yr.hasOwnProperty(V)&&yr[V].objectNumber>=0&&se("/"+V+" "+yr[V].objectNumber+" 0 R");ks.publish("putXobjectDict"),se(">>")})(),se(">>"),se("endobj")},Ma=function(z){Ut[z.fontName]=Ut[z.fontName]||{},Ut[z.fontName][z.fontStyle]=z.id},Oc=function(z,V,ce,pe,ye){var Ie={id:"F"+(Object.keys(Tt).length+1).toString(10),postScriptName:z,fontName:V,fontStyle:ce,encoding:pe,isStandardFont:ye||!1,metadata:{}};return ks.publish("addFont",{font:Ie,instance:this}),Tt[Ie.id]=Ie,Ma(Ie),Ie.id},cl=f.__private__.pdfEscape=f.pdfEscape=function(z,V){return(function(ce,pe){var ye,Ie,We,ut,bt,Bt,Jt,Ss,pa;if(We=(pe=pe||{}).sourceEncoding||"Unicode",bt=pe.outputEncoding,(pe.autoencode||bt)&&Tt[dt].metadata&&Tt[dt].metadata[We]&&Tt[dt].metadata[We].encoding&&(ut=Tt[dt].metadata[We].encoding,!bt&&Tt[dt].encoding&&(bt=Tt[dt].encoding),!bt&&ut.codePages&&(bt=ut.codePages[0]),typeof bt=="string"&&(bt=ut[bt]),bt)){for(Jt=!1,Bt=[],ye=0,Ie=ce.length;ye<Ie;ye++)(Ss=bt[ce.charCodeAt(ye)])?Bt.push(String.fromCharCode(Ss)):Bt.push(ce[ye]),Bt[ye].charCodeAt(0)>>8&&(Jt=!0);ce=Bt.join("")}for(ye=ce.length;Jt===void 0&&ye!==0;)ce.charCodeAt(ye-1)>>8&&(Jt=!0),ye--;if(!Jt)return ce;for(Bt=pe.noBOM?[]:[254,255],ye=0,Ie=ce.length;ye<Ie;ye++){if((pa=(Ss=ce.charCodeAt(ye))>>8)>>8)throw new Error("Character at position "+ye+" of string '"+ce+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Bt.push(pa),Bt.push(Ss-(pa<<8))}return String.fromCharCode.apply(void 0,Bt)})(z,V).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},en=f.__private__.beginPage=function(z){Xe[++ls]=[],Nt[ls]={objId:0,contentsObjId:0,userUnit:Number(x),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(z[0]),topRightY:Number(z[1])}},Bc(ls),xe(Xe[Z])},Qn=function(z,V){var ce,pe,ye;switch(r=V||r,typeof z=="string"&&(ce=N(z.toLowerCase()),Array.isArray(ce)&&(pe=ce[0],ye=ce[1])),Array.isArray(z)&&(pe=z[0]*Kt,ye=z[1]*Kt),isNaN(pe)&&(pe=i[0],ye=i[1]),(pe>14400||ye>14400)&&(oa.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),pe=Math.min(14400,pe),ye=Math.min(14400,ye)),i=[pe,ye],r.substr(0,1)){case"l":ye>pe&&(i=[ye,pe]);break;case"p":pe>ye&&(i=[ye,pe])}en(i),_t(io),se(ul),Vo!==0&&se(Vo+" J"),lr!==0&&se(lr+" j"),ks.publish("addPage",{pageNumber:ls})},Fc=function(z){z>0&&z<=ls&&(Xe.splice(z,1),Nt.splice(z,1),ls--,Z>ls&&(Z=ls),this.setPage(Z))},Bc=function(z){z>0&&z<=ls&&(Z=z)},Ic=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return Xe.length-1},Td=function(z,V,ce){var pe,ye=void 0;return ce=ce||{},z=z!==void 0?z:Tt[dt].fontName,V=V!==void 0?V:Tt[dt].fontStyle,pe=z.toLowerCase(),Ut[pe]!==void 0&&Ut[pe][V]!==void 0?ye=Ut[pe][V]:Ut[z]!==void 0&&Ut[z][V]!==void 0?ye=Ut[z][V]:ce.disableWarning===!1&&oa.warn("Unable to look up font label for font '"+z+"', '"+V+"'. Refer to getFontList() for available fonts."),ye||ce.noFallback||(ye=Ut.times[V])==null&&(ye=Ut.times.normal),ye},dl=f.__private__.putInfo=function(){var z=ua(),V=function(pe){return pe};for(var ce in p!==null&&(V=Va.encryptor(z,0)),se("<<"),se("/Producer ("+cl(V("jsPDF "+yt.version))+")"),rs)rs.hasOwnProperty(ce)&&rs[ce]&&se("/"+ce.substr(0,1).toUpperCase()+ce.substr(1)+" ("+cl(V(rs[ce]))+")");se("/CreationDate ("+cl(V(le))+")"),se(">>"),se("endobj")},ei=f.__private__.putCatalog=function(z){var V=(z=z||{}).rootDictionaryObjId||Er;switch(ua(),se("<<"),se("/Type /Catalog"),se("/Pages "+V+" 0 R"),wt||(wt="fullwidth"),wt){case"fullwidth":se("/OpenAction [3 0 R /FitH null]");break;case"fullheight":se("/OpenAction [3 0 R /FitV null]");break;case"fullpage":se("/OpenAction [3 0 R /Fit]");break;case"original":se("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ce=""+wt;ce.substr(ce.length-1)==="%"&&(wt=parseInt(wt)/100),typeof wt=="number"&&se("/OpenAction [3 0 R /XYZ null null "+W(wt)+"]")}switch(Xt||(Xt="continuous"),Xt){case"continuous":se("/PageLayout /OneColumn");break;case"single":se("/PageLayout /SinglePage");break;case"two":case"twoleft":se("/PageLayout /TwoColumnLeft");break;case"tworight":se("/PageLayout /TwoColumnRight")}ft&&se("/PageMode /"+ft),ks.publish("putCatalog"),se(">>"),se("endobj")},tn=f.__private__.putTrailer=function(){se("trailer"),se("<<"),se("/Size "+(he+1)),se("/Root "+he+" 0 R"),se("/Info "+(he-1)+" 0 R"),p!==null&&se("/Encrypt "+Va.oid+" 0 R"),se("/ID [ <"+Q+"> <"+Q+"> ]"),se(">>")},Es=f.__private__.putHeader=function(){se("%PDF-"+w),se("%")},Uc=f.__private__.putXRef=function(){var z="0000000000";se("xref"),se("0 "+(he+1)),se("0000000000 65535 f ");for(var V=1;V<=he;V++)typeof be[V]=="function"?se((z+be[V]()).slice(-10)+" 00000 n "):be[V]!==void 0?se((z+be[V]).slice(-10)+" 00000 n "):se("0000000000 00000 n ")},Mn=f.__private__.buildDocument=function(){var z;he=0,Ne=0,Me=[],be=[],Fe=[],Er=Pa(),Ws=Pa(),xe(Me),ks.publish("buildDocument"),Es(),Kl(),(function(){ks.publish("putAdditionalObjects");for(var ce=0;ce<Fe.length;ce++){var pe=Fe[ce];rr(pe.objId,!0),se(pe.content),se("endobj")}ks.publish("postPutAdditionalObjects")})(),z=[],(function(){for(var ce in Tt)Tt.hasOwnProperty(ce)&&(g===!1||g===!0&&y.hasOwnProperty(ce))&&Jl(Tt[ce])})(),(function(){var ce;for(ce in Rt)Rt.hasOwnProperty(ce)&&lo(Rt[ce])})(),(function(){for(var ce in yr)yr.hasOwnProperty(ce)&&_i(yr[ce])})(),(function(ce){var pe;for(pe in Dt)Dt.hasOwnProperty(pe)&&(Dt[pe]instanceof bd?Zl(Dt[pe]):Dt[pe]instanceof T0&&Ql(Dt[pe],ce))})(z),ks.publish("putResources"),z.forEach(An),An({resourcesOid:Ws,objectOid:Number.MAX_SAFE_INTEGER}),ks.publish("postPutResources"),p!==null&&(Va.oid=ua(),se("<<"),se("/Filter /Standard"),se("/V "+Va.v),se("/R "+Va.r),se("/U <"+Va.toHexString(Va.U)+">"),se("/O <"+Va.toHexString(Va.O)+">"),se("/P "+Va.P),se(">>"),se("endobj")),dl(),ei();var V=Ne;return Uc(),tn(),se("startxref"),se(""+V),se("%%EOF"),xe(Xe[Z]),Me.join(`
`)},Pi=f.__private__.getBlob=function(z){return new Blob([Ft(z)],{type:"application/pdf"})},$c=f.output=f.__private__.output=(il=function(z,V){switch(typeof(V=V||{})=="string"?V={filename:V}:V.filename=V.filename||"generated.pdf",z){case void 0:return Mn();case"save":f.save(V.filename);break;case"arraybuffer":return Ft(Mn());case"blob":return Pi(Mn());case"bloburi":case"bloburl":if(Yt.URL!==void 0&&typeof Yt.URL.createObjectURL=="function")return Yt.URL&&Yt.URL.createObjectURL(Pi(Mn()))||void 0;oa.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ce="",pe=Mn();try{ce=e2(pe)}catch{ce=e2(unescape(encodeURIComponent(pe)))}return"data:application/pdf;filename="+V.filename+";base64,"+ce;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Yt)==="[object Window]"){var ye="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ie=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';V.pdfObjectUrl&&(ye=V.pdfObjectUrl,Ie="");var We='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ye+'"'+Ie+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(V)+");<\/script></body></html>",ut=Yt.open();return ut!==null&&ut.document.write(We),ut}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Yt)==="[object Window]"){var bt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(V.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+V.filename+'" width="500px" height="400px" /></body></html>',Bt=Yt.open();if(Bt!==null){Bt.document.write(bt);var Jt=this;Bt.document.documentElement.querySelector("#pdfViewer").onload=function(){Bt.document.title=V.filename,Bt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Jt.output("bloburl"))}}return Bt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Yt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Ss='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",V)+'"></iframe></body></html>',pa=Yt.open();if(pa!==null&&(pa.document.write(Ss),pa.document.title=V.filename),pa||typeof safari>"u")return pa;break;case"datauri":case"dataurl":return Yt.document.location.href=this.output("datauristring",V);default:return null}},il.foo=function(){try{return il.apply(this,arguments)}catch(ce){var z=ce.stack||"";~z.indexOf(" at ")&&(z=z.split(" at ")[1]);var V="Error in function "+z.split(`
`)[0].split("<")[0]+": "+ce.message;if(!Yt.console)throw new Error(V);Yt.console.error(V,ce),Yt.alert&&alert(V)}},il.foo.bar=il,il.foo),Tr=function(z){return Array.isArray(Xl)===!0&&Xl.indexOf(z)>-1};switch(l){case"pt":Kt=1;break;case"mm":Kt=72/25.4;break;case"cm":Kt=72/2.54;break;case"in":Kt=72;break;case"px":Kt=Tr("px_scaling")==1?.75:96/72;break;case"pc":case"em":Kt=12;break;case"ex":Kt=6;break;default:if(typeof l!="number")throw new Error("Invalid unit: "+l);Kt=l}var Va=null;X(),F();var Ra=f.__private__.getPageInfo=f.getPageInfo=function(z){if(isNaN(z)||z%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Nt[z].objId,pageNumber:z,pageContext:Nt[z]}},Wo=f.__private__.getPageInfoByObjId=function(z){if(isNaN(z)||z%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var V in Nt)if(Nt[V].objId===z)break;return Ra(V)},_d=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:Nt[Z].objId,pageNumber:Z,pageContext:Nt[Z]}};f.addPage=function(){return Qn.apply(this,arguments),this},f.setPage=function(){return Bc.apply(this,arguments),xe.call(this,Xe[Z]),this},f.insertPage=function(z){return this.addPage(),this.movePage(Z,z),this},f.movePage=function(z,V){var ce,pe;if(z>V){ce=Xe[z],pe=Nt[z];for(var ye=z;ye>V;ye--)Xe[ye]=Xe[ye-1],Nt[ye]=Nt[ye-1];Xe[V]=ce,Nt[V]=pe,this.setPage(V)}else if(z<V){ce=Xe[z],pe=Nt[z];for(var Ie=z;Ie<V;Ie++)Xe[Ie]=Xe[Ie+1],Nt[Ie]=Nt[Ie+1];Xe[V]=ce,Nt[V]=pe,this.setPage(V)}return this},f.deletePage=function(){return Fc.apply(this,arguments),this},f.__private__.text=f.text=function(z,V,ce,pe,ye){var Ie,We,ut,bt,Bt,Jt,Ss,pa,Da,Qs=(pe=pe||{}).scope||this;if(typeof z=="number"&&typeof V=="number"&&(typeof ce=="string"||Array.isArray(ce))){var Ya=ce;ce=V,V=z,z=Ya}if(arguments[3]instanceof At==0?(ut=arguments[4],bt=arguments[5],Xs(Ss=arguments[3])==="object"&&Ss!==null||(typeof ut=="string"&&(bt=ut,ut=null),typeof Ss=="string"&&(bt=Ss,Ss=null),typeof Ss=="number"&&(ut=Ss,Ss=null),pe={flags:Ss,angle:ut,align:bt})):(P("The transform parameter of text() with a Matrix value"),Da=ye),isNaN(V)||isNaN(ce)||z==null)throw new Error("Invalid arguments passed to jsPDF.text");if(z.length===0)return Qs;var Oa,ur="",oi=typeof pe.lineHeightFactor=="number"?pe.lineHeightFactor:ti,rn=Qs.internal.scaleFactor;function ci(Ts){return Ts=Ts.split("	").join(Array(pe.TabLen||9).join(" ")),cl(Ts,Ss)}function Jc(Ts){for(var Cs,ea=Ts.concat(),za=[],Fn=ea.length;Fn--;)typeof(Cs=ea.shift())=="string"?za.push(Cs):Array.isArray(Ts)&&(Cs.length===1||Cs[1]===void 0&&Cs[2]===void 0)?za.push(Cs[0]):za.push([Cs[0],Cs[1],Cs[2]]);return za}function Xo(Ts,Cs){var ea;if(typeof Ts=="string")ea=Cs(Ts)[0];else if(Array.isArray(Ts)){for(var za,Fn,cn=Ts.concat(),po=[],ed=cn.length;ed--;)typeof(za=cn.shift())=="string"?po.push(Cs(za)[0]):Array.isArray(za)&&typeof za[0]=="string"&&(Fn=Cs(za[0],za[1],za[2]),po.push([Fn[0],Fn[1],Fn[2]]));ea=po}return ea}var zn=!1,ln=!0;if(typeof z=="string")zn=!0;else if(Array.isArray(z)){var ho=z.concat();We=[];for(var di,nr=ho.length;nr--;)(typeof(di=ho.shift())!="string"||Array.isArray(di)&&typeof di[0]!="string")&&(ln=!1);zn=ln}if(zn===!1)throw new Error('Type of text must be string or Array. "'+z+'" is not recognized.');typeof z=="string"&&(z=z.match(/[\r?\n]/)?z.split(/\r\n|\r|\n/g):[z]);var Oi=Ve/Qs.internal.scaleFactor,Fi=Oi*(oi-1);switch(pe.baseline){case"bottom":ce-=Fi;break;case"top":ce+=Oi-Fi;break;case"hanging":ce+=Oi-2*Fi;break;case"middle":ce+=Oi/2-Fi}if((Jt=pe.maxWidth||0)>0&&(typeof z=="string"?z=Qs.splitTextToSize(z,Jt):Object.prototype.toString.call(z)==="[object Array]"&&(z=z.reduce(function(Ts,Cs){return Ts.concat(Qs.splitTextToSize(Cs,Jt))},[]))),Ie={text:z,x:V,y:ce,options:pe,mutex:{pdfEscape:cl,activeFontKey:dt,fonts:Tt,activeFontSize:Ve}},ks.publish("preProcessText",Ie),z=Ie.text,ut=(pe=Ie.options).angle,Da instanceof At==0&&ut&&typeof ut=="number"){ut*=Math.PI/180,pe.rotationDirection===0&&(ut=-ut),M===L&&(ut=-ut);var Ko=Math.cos(ut),En=Math.sin(ut);Da=new At(Ko,En,-En,Ko,0,0)}else ut&&ut instanceof At&&(Da=ut);M!==L||Da||(Da=Cn),(Bt=pe.charSpace||Sl)!==void 0&&(ur+=B($(Bt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(pa=pe.horizontalScale)!==void 0&&(ur+=B(100*pa)+` Tz
`),pe.lang;var Pr=-1,xi=pe.renderingMode!==void 0?pe.renderingMode:pe.stroke,Jo=Qs.internal.getCurrentPageInfo().pageContext;switch(xi){case 0:case!1:case"fill":Pr=0;break;case 1:case!0:case"stroke":Pr=1;break;case 2:case"fillThenStroke":Pr=2;break;case 3:case"invisible":Pr=3;break;case 4:case"fillAndAddForClipping":Pr=4;break;case 5:case"strokeAndAddPathForClipping":Pr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Pr=6;break;case 7:case"addToPathForClipping":Pr=7}var Zc=Jo.usedRenderingMode!==void 0?Jo.usedRenderingMode:-1;Pr!==-1?ur+=Pr+` Tr
`:Zc!==-1&&(ur+=`0 Tr
`),Pr!==-1&&(Jo.usedRenderingMode=Pr),bt=pe.align||"left";var hl,nn=Ve*oi,ui=Qs.internal.pageSize.getWidth(),Qc=Tt[dt];Bt=pe.charSpace||Sl,Jt=pe.maxWidth||0,Ss=Object.assign({autoencode:!0,noBOM:!0},pe.flags);var on=[],Bi=function(Ts){return Qs.getStringUnitWidth(Ts,{font:Qc,charSpace:Bt,fontSize:Ve,doKerning:!1})*Ve/rn};if(Object.prototype.toString.call(z)==="[object Array]"){var Vr;We=Jc(z),bt!=="left"&&(hl=We.map(Bi));var Rr,Tn=0;if(bt==="right"){V-=hl[0],z=[],nr=We.length;for(var _n=0;_n<nr;_n++)_n===0?(Rr=xl(V),Vr=xr(ce)):(Rr=$(Tn-hl[_n]),Vr=-nn),z.push([We[_n],Rr,Vr]),Tn=hl[_n]}else if(bt==="center"){V-=hl[0]/2,z=[],nr=We.length;for(var hi=0;hi<nr;hi++)hi===0?(Rr=xl(V),Vr=xr(ce)):(Rr=$((Tn-hl[hi])/2),Vr=-nn),z.push([We[hi],Rr,Vr]),Tn=hl[hi]}else if(bt==="left"){z=[],nr=We.length;for(var Zo=0;Zo<nr;Zo++)z.push(We[Zo])}else if(bt==="justify"&&Qc.encoding==="Identity-H"){z=[],nr=We.length,Jt=Jt!==0?Jt:ui;for(var Qo=0,La=0;La<nr;La++)if(Vr=La===0?xr(ce):-nn,Rr=La===0?xl(V):Qo,La<nr-1){var qd=$((Jt-hl[La])/(We[La].split(" ").length-1)),Pn=We[La].split(" ");z.push([Pn[0]+" ",Rr,Vr]),Qo=0;for(var Rn=1;Rn<Pn.length;Rn++){var hr=(Bi(Pn[Rn-1]+" "+Pn[Rn])-Bi(Pn[Rn]))*rn+qd;Rn==Pn.length-1?z.push([Pn[Rn],hr,0]):z.push([Pn[Rn]+" ",hr,0]),Qo-=hr}}else z.push([We[La],Rr,Vr]);z.push(["",Qo,0])}else{if(bt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(z=[],nr=We.length,Jt=Jt!==0?Jt:ui,La=0;La<nr;La++){Vr=La===0?xr(ce):-nn,Rr=La===0?xl(V):0;var mi=We[La].split(" ").length-1,ec=mi>0?(Jt-hl[La])/mi:0;La<nr-1?on.push(B($(ec))):on.push(0),z.push([We[La],Rr,Vr])}}}(typeof pe.R2L=="boolean"?pe.R2L:kt)===!0&&(z=Xo(z,function(Ts,Cs,ea){return[Ts.split("").reverse().join(""),Cs,ea]})),Ie={text:z,x:V,y:ce,options:pe,mutex:{pdfEscape:cl,activeFontKey:dt,fonts:Tt,activeFontSize:Ve}},ks.publish("postProcessText",Ie),z=Ie.text,Oa=Ie.mutex.isHex||!1;var tc=Tt[dt].encoding;tc!=="WinAnsiEncoding"&&tc!=="StandardEncoding"||(z=Xo(z,function(Ts,Cs,ea){return[ci(Ts),Cs,ea]})),We=Jc(z),z=[];for(var pi,fi,On,mo=Array.isArray(We[0])?1:0,ml="",gi=function(Ts,Cs,ea){var za="";return ea instanceof At?(ea=typeof pe.angle=="number"?Zn(ea,new At(1,0,0,1,Ts,Cs)):Zn(new At(1,0,0,1,Ts,Cs),ea),M===L&&(ea=Zn(new At(1,0,0,-1,0,0),ea)),za=ea.join(" ")+` Tm
`):za=B(Ts)+" "+B(Cs)+` Td
`,za},wr=0;wr<We.length;wr++){switch(ml="",mo){case 1:On=(Oa?"<":"(")+We[wr][0]+(Oa?">":")"),pi=parseFloat(We[wr][1]),fi=parseFloat(We[wr][2]);break;case 0:On=(Oa?"<":"(")+We[wr]+(Oa?">":")"),pi=xl(V),fi=xr(ce)}on!==void 0&&on[wr]!==void 0&&(ml=on[wr]+` Tw
`),wr===0?z.push(ml+gi(pi,fi,Da)+On):mo===0?z.push(ml+On):mo===1&&z.push(ml+gi(pi,fi,Da)+On)}z=mo===0?z.join(` Tj
T* `):z.join(` Tj
`),z+=` Tj
`;var Al=`BT
/`;return Al+=dt+" "+Ve+` Tf
`,Al+=B(Ve*oi)+` TL
`,Al+=Dn+`
`,Al+=ur,Al+=z,se(Al+="ET"),y[dt]=!0,Qs};var qc=f.__private__.clip=f.clip=function(z){return se(z==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return qc("evenodd")},f.__private__.discardPath=f.discardPath=function(){return se("n"),this};var _r=f.__private__.isValidStyle=function(z){var V=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(z)!==-1&&(V=!0),V};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(z){return _r(z)&&(h=z),this};var Hc=f.__private__.getStyle=f.getStyle=function(z){var V=h;switch(z){case"D":case"S":V="S";break;case"F":V="f";break;case"FD":case"DF":V="B";break;case"f":case"f*":case"B":case"B*":V=z}return V},Wc=f.close=function(){return se("h"),this};f.stroke=function(){return se("S"),this},f.fill=function(z){return sn("f",z),this},f.fillEvenOdd=function(z){return sn("f*",z),this},f.fillStroke=function(z){return sn("B",z),this},f.fillStrokeEvenOdd=function(z){return sn("B*",z),this};var sn=function(z,V){Xs(V)==="object"?Rd(V,z):se(z)},no=function(z){z===null||M===L&&z===void 0||(z=Hc(z),se(z))};function Pd(z,V,ce,pe,ye){var Ie=new T0(V||this.boundingBox,ce||this.xStep,pe||this.yStep,this.gState,ye||this.matrix);Ie.stream=this.stream;var We=z+"$$"+this.cloneIndex+++"$$";return nl(We,Ie),Ie}var Rd=function(z,V){var ce=Zs[z.key],pe=Dt[ce];if(pe instanceof bd)se("q"),se(Gc(V)),pe.gState&&f.setGState(pe.gState),se(z.matrix.toString()+" cm"),se("/"+ce+" sh"),se("Q");else if(pe instanceof T0){var ye=new At(1,0,0,-1,0,ii());z.matrix&&(ye=ye.multiply(z.matrix||Cn),ce=Pd.call(pe,z.key,z.boundingBox,z.xStep,z.yStep,ye).id),se("q"),se("/Pattern cs"),se("/"+ce+" scn"),pe.gState&&f.setGState(pe.gState),se(V),se("Q")}},Gc=function(z){switch(z){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Vc=f.moveTo=function(z,V){return se(B($(z))+" "+B(G(V))+" m"),this},Od=f.lineTo=function(z,V){return se(B($(z))+" "+B(G(V))+" l"),this},Gr=f.curveTo=function(z,V,ce,pe,ye,Ie){return se([B($(z)),B(G(V)),B($(ce)),B(G(pe)),B($(ye)),B(G(Ie)),"c"].join(" ")),this};f.__private__.line=f.line=function(z,V,ce,pe,ye){if(isNaN(z)||isNaN(V)||isNaN(ce)||isNaN(pe)||!_r(ye))throw new Error("Invalid arguments passed to jsPDF.line");return M===A?this.lines([[ce-z,pe-V]],z,V,[1,1],ye||"S"):this.lines([[ce-z,pe-V]],z,V,[1,1]).stroke()},f.__private__.lines=f.lines=function(z,V,ce,pe,ye,Ie){var We,ut,bt,Bt,Jt,Ss,pa,Da,Qs,Ya,Oa,ur;if(typeof z=="number"&&(ur=ce,ce=V,V=z,z=ur),pe=pe||[1,1],Ie=Ie||!1,isNaN(V)||isNaN(ce)||!Array.isArray(z)||!Array.isArray(pe)||!_r(ye)||typeof Ie!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Vc(V,ce),We=pe[0],ut=pe[1],Bt=z.length,Ya=V,Oa=ce,bt=0;bt<Bt;bt++)(Jt=z[bt]).length===2?(Ya=Jt[0]*We+Ya,Oa=Jt[1]*ut+Oa,Od(Ya,Oa)):(Ss=Jt[0]*We+Ya,pa=Jt[1]*ut+Oa,Da=Jt[2]*We+Ya,Qs=Jt[3]*ut+Oa,Ya=Jt[4]*We+Ya,Oa=Jt[5]*ut+Oa,Gr(Ss,pa,Da,Qs,Ya,Oa));return Ie&&Wc(),no(ye),this},f.path=function(z){for(var V=0;V<z.length;V++){var ce=z[V],pe=ce.c;switch(ce.op){case"m":Vc(pe[0],pe[1]);break;case"l":Od(pe[0],pe[1]);break;case"c":Gr.apply(this,pe);break;case"h":Wc()}}return this},f.__private__.rect=f.rect=function(z,V,ce,pe,ye){if(isNaN(z)||isNaN(V)||isNaN(ce)||isNaN(pe)||!_r(ye))throw new Error("Invalid arguments passed to jsPDF.rect");return M===A&&(pe=-pe),se([B($(z)),B(G(V)),B($(ce)),B($(pe)),"re"].join(" ")),no(ye),this},f.__private__.triangle=f.triangle=function(z,V,ce,pe,ye,Ie,We){if(isNaN(z)||isNaN(V)||isNaN(ce)||isNaN(pe)||isNaN(ye)||isNaN(Ie)||!_r(We))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ce-z,pe-V],[ye-ce,Ie-pe],[z-ye,V-Ie]],z,V,[1,1],We,!0),this},f.__private__.roundedRect=f.roundedRect=function(z,V,ce,pe,ye,Ie,We){if(isNaN(z)||isNaN(V)||isNaN(ce)||isNaN(pe)||isNaN(ye)||isNaN(Ie)||!_r(We))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ut=4/3*(Math.SQRT2-1);return ye=Math.min(ye,.5*ce),Ie=Math.min(Ie,.5*pe),this.lines([[ce-2*ye,0],[ye*ut,0,ye,Ie-Ie*ut,ye,Ie],[0,pe-2*Ie],[0,Ie*ut,-ye*ut,Ie,-ye,Ie],[2*ye-ce,0],[-ye*ut,0,-ye,-Ie*ut,-ye,-Ie],[0,2*Ie-pe],[0,-Ie*ut,ye*ut,-Ie,ye,-Ie]],z+ye,V,[1,1],We,!0),this},f.__private__.ellipse=f.ellipse=function(z,V,ce,pe,ye){if(isNaN(z)||isNaN(V)||isNaN(ce)||isNaN(pe)||!_r(ye))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ie=4/3*(Math.SQRT2-1)*ce,We=4/3*(Math.SQRT2-1)*pe;return Vc(z+ce,V),Gr(z+ce,V-We,z+Ie,V-pe,z,V-pe),Gr(z-Ie,V-pe,z-ce,V-We,z-ce,V),Gr(z-ce,V+We,z-Ie,V+pe,z,V+pe),Gr(z+Ie,V+pe,z+ce,V+We,z+ce,V),no(ye),this},f.__private__.circle=f.circle=function(z,V,ce,pe){if(isNaN(z)||isNaN(V)||isNaN(ce)||!_r(pe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(z,V,ce,ce,pe)},f.setFont=function(z,V,ce){return ce&&(V=I(V,ce)),dt=Td(z,V,{disableWarning:!1}),this};var an=f.__private__.getFont=f.getFont=function(){return Tt[Td.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var z,V,ce={};for(z in Ut)if(Ut.hasOwnProperty(z))for(V in ce[z]=[],Ut[z])Ut[z].hasOwnProperty(V)&&ce[z].push(V);return ce},f.addFont=function(z,V,ce,pe,ye){var Ie=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ie.indexOf(arguments[3])!==-1?ye=arguments[3]:arguments[3]&&Ie.indexOf(arguments[3])==-1&&(ce=I(ce,pe)),Oc.call(this,z,V,ce,ye=ye||"Identity-H")};var ti,io=t.lineWidth||.200025,Ri=f.__private__.getLineWidth=f.getLineWidth=function(){return io},_t=f.__private__.setLineWidth=f.setLineWidth=function(z){return io=z,se(B($(z))+" w"),this};f.__private__.setLineDash=yt.API.setLineDash=yt.API.setLineDashPattern=function(z,V){if(z=z||[],V=V||0,isNaN(V)||!Array.isArray(z))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return z=z.map(function(ce){return B($(ce))}).join(" "),V=B($(V)),se("["+z+"] "+V+" d"),this};var Fd=f.__private__.getLineHeight=f.getLineHeight=function(){return Ve*ti};f.__private__.getLineHeight=f.getLineHeight=function(){return Ve*ti};var Yc=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(z){return typeof(z=z||1.15)=="number"&&(ti=z),this},Bd=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return ti};Yc(t.lineHeight);var xl=f.__private__.getHorizontalCoordinate=function(z){return $(z)},xr=f.__private__.getVerticalCoordinate=function(z){return M===L?z:Nt[Z].mediaBox.topRightY-Nt[Z].mediaBox.bottomLeftY-$(z)},Xc=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(z){return B(xl(z))},oo=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(z){return B(xr(z))},ul=t.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return ma(ul)},f.__private__.setStrokeColor=f.setDrawColor=function(z,V,ce,pe){return ul=jr({ch1:z,ch2:V,ch3:ce,ch4:pe,pdfColorType:"draw",precision:2}),se(ul),this};var co=t.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return ma(co)},f.__private__.setFillColor=f.setFillColor=function(z,V,ce,pe){return co=jr({ch1:z,ch2:V,ch3:ce,ch4:pe,pdfColorType:"fill",precision:2}),se(co),this};var Dn=t.textColor||"0 g",Id=f.__private__.getTextColor=f.getTextColor=function(){return ma(Dn)};f.__private__.setTextColor=f.setTextColor=function(z,V,ce,pe){return Dn=jr({ch1:z,ch2:V,ch3:ce,ch4:pe,pdfColorType:"text",precision:3}),this};var Sl=t.charSpace,Go=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(Sl||0)};f.__private__.setCharSpace=f.setCharSpace=function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Sl=z,this};var Vo=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(z){var V=f.CapJoinStyles[z];if(V===void 0)throw new Error("Line cap style of '"+z+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Vo=V,se(V+" J"),this};var lr=0;f.__private__.setLineJoin=f.setLineJoin=function(z){var V=f.CapJoinStyles[z];if(V===void 0)throw new Error("Line join style of '"+z+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return lr=V,se(V+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(z){if(z=z||0,isNaN(z))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return se(B($(z))+" M"),this},f.GState=Hh,f.setGState=function(z){(z=typeof z=="string"?Rt[$t[z]]:Ln(null,z)).equals(Hs)||(se("/"+z.id+" gs"),Hs=z)};var Ln=function(z,V){if(!z||!$t[z]){var ce=!1;for(var pe in Rt)if(Rt.hasOwnProperty(pe)&&Rt[pe].equals(V)){ce=!0;break}if(ce)V=Rt[pe];else{var ye="GS"+(Object.keys(Rt).length+1).toString(10);Rt[ye]=V,V.id=ye}return z&&($t[z]=V.id),ks.publish("addGState",V),V}};f.addGState=function(z,V){return Ln(z,V),this},f.saveGraphicsState=function(){return se("q"),us.push({key:dt,size:Ve,color:Dn}),this},f.restoreGraphicsState=function(){se("Q");var z=us.pop();return dt=z.key,Ve=z.size,Dn=z.color,Hs=null,this},f.setCurrentTransformationMatrix=function(z){return se(z.toString()+" cm"),this},f.comment=function(z){return se("#"+z),this};var Cl=function(z,V){var ce=z||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ce},set:function(Ie){isNaN(Ie)||(ce=parseFloat(Ie))}});var pe=V||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return pe},set:function(Ie){isNaN(Ie)||(pe=parseFloat(Ie))}});var ye="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ye},set:function(Ie){ye=Ie.toString()}}),this},si=function(z,V,ce,pe){Cl.call(this,z,V),this.type="rect";var ye=ce||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ye},set:function(We){isNaN(We)||(ye=parseFloat(We))}});var Ie=pe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ie},set:function(We){isNaN(We)||(Ie=parseFloat(We))}}),this},Yo=function(){this.page=ls,this.currentPage=Z,this.pages=Xe.slice(0),this.pagesContext=Nt.slice(0),this.x=jt,this.y=Aa,this.matrix=xs,this.width=ri(Z),this.height=Kc(Z),this.outputDestination=et,this.id="",this.objectNumber=-1};Yo.prototype.restore=function(){ls=this.page,Z=this.currentPage,Nt=this.pagesContext,Xe=this.pages,jt=this.x,Aa=this.y,xs=this.matrix,uo(Z,this.width),li(Z,this.height),et=this.outputDestination};var xo=function(z,V,ce,pe,ye){Nl.push(new Yo),ls=Z=0,Xe=[],jt=z,Aa=V,xs=ye,en([ce,pe])};for(var ai in f.beginFormObject=function(z,V,ce,pe,ye){return xo(z,V,ce,pe,ye),this},f.endFormObject=function(z){return(function(V){if(Sn[V])Nl.pop().restore();else{var ce=new Yo,pe="Xo"+(Object.keys(yr).length+1).toString(10);ce.id=pe,Sn[V]=pe,yr[pe]=ce,ks.publish("addFormObject",ce),Nl.pop().restore()}})(z),this},f.doFormObject=function(z,V){var ce=yr[Sn[z]];return se("q"),se(V.toString()+" cm"),se("/"+ce.id+" Do"),se("Q"),this},f.getFormObject=function(z){var V=yr[Sn[z]];return{x:V.x,y:V.y,width:V.width,height:V.height,matrix:V.matrix}},f.save=function(z,V){return z=z||"generated.pdf",(V=V||{}).returnPromise=V.returnPromise||!1,V.returnPromise===!1?(fd(Pi(Mn()),z),typeof fd.unload=="function"&&Yt.setTimeout&&setTimeout(fd.unload,911),this):new Promise(function(ce,pe){try{var ye=fd(Pi(Mn()),z);typeof fd.unload=="function"&&Yt.setTimeout&&setTimeout(fd.unload,911),ce(ye)}catch(Ie){pe(Ie.message)}})},yt.API)yt.API.hasOwnProperty(ai)&&(ai==="events"&&yt.API.events.length?(function(z,V){var ce,pe,ye;for(ye=V.length-1;ye!==-1;ye--)ce=V[ye][0],pe=V[ye][1],z.subscribe.apply(z,[ce].concat(typeof pe=="function"?[pe]:pe))})(ks,yt.API.events):f[ai]=yt.API[ai]);function ri(z){return Nt[z].mediaBox.topRightX-Nt[z].mediaBox.bottomLeftX}function uo(z,V){Nt[z].mediaBox.topRightX=V+Nt[z].mediaBox.bottomLeftX}function Kc(z){return Nt[z].mediaBox.topRightY-Nt[z].mediaBox.bottomLeftY}function li(z,V){Nt[z].mediaBox.topRightY=V+Nt[z].mediaBox.bottomLeftY}var ni=f.getPageWidth=function(z){return ri(z=z||Z)/Kt},Ud=f.setPageWidth=function(z,V){uo(z,V*Kt)},ii=f.getPageHeight=function(z){return Kc(z=z||Z)/Kt},$d=f.setPageHeight=function(z,V){li(z,V*Kt)};return f.internal={pdfEscape:cl,getStyle:Hc,getFont:an,getFontSize:nt,getCharSpace:Go,getTextColor:Id,getLineHeight:Fd,getLineHeightFactor:Bd,getLineWidth:Ri,write:Ze,getHorizontalCoordinate:xl,getVerticalCoordinate:xr,getCoordinateString:Xc,getVerticalCoordinateString:oo,collections:{},newObject:ua,newAdditionalObject:Ti,newObjectDeferred:Pa,newObjectDeferredBegin:rr,getFilters:ol,putStream:kl,events:ks,scaleFactor:Kt,pageSize:{getWidth:function(){return ni(Z)},setWidth:function(z){Ud(Z,z)},getHeight:function(){return ii(Z)},setHeight:function(z){$d(Z,z)}},encryptionOptions:p,encryption:Va,getEncryptor:function(z){return p!==null?Va.encryptor(z,0):function(V){return V}},output:$c,getNumberOfPages:Ic,get pages(){return Xe},out:se,f2:W,f3:H,getPageInfo:Ra,getPageInfoByObjId:Wo,getCurrentPageInfo:_d,getPDFVersion:S,Point:Cl,Rectangle:si,Matrix:At,hasHotfix:Tr},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return ni(Z)},set:function(z){Ud(Z,z)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return ii(Z)},set:function(z){$d(Z,z)},enumerable:!0,configurable:!0}),(function(z){for(var V=0,ce=Ct.length;V<ce;V++){var pe=Oc.call(this,z[V][0],z[V][1],z[V][2],Ct[V][3],!0);g===!1&&(y[pe]=!0);var ye=z[V][0].split("-");Ma({id:pe,fontName:ye[0],fontStyle:ye[1]||""})}ks.publish("addFonts",{fonts:Tt,dictionary:Ut})}).call(f,Ct),dt="F1",Qn(i,r),ks.publish("initialized"),f}z0.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},z0.prototype.toHexString=function(t){return t.split("").map(function(s){return("0"+(255&s.charCodeAt(0)).toString(16)).slice(-2)}).join("")},z0.prototype.hexToBytes=function(t){for(var s=[],r=0;r<t.length;r+=2)s.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return s.join("")},z0.prototype.processOwnerPassword=function(t,s){return If(Bf(s).substr(0,5),t)},z0.prototype.encryptor=function(t,s){var r=Bf(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&s,s>>8&255)).substr(0,10);return function(l){return If(r,l)}},Hh.prototype.equals=function(t){var s,r="id,objectNumber,equals";if(!t||Xs(t)!==Xs(this))return!1;var l=0;for(s in this)if(!(r.indexOf(s)>=0)){if(this.hasOwnProperty(s)&&!t.hasOwnProperty(s)||this[s]!==t[s])return!1;l++}for(s in t)t.hasOwnProperty(s)&&r.indexOf(s)<0&&l--;return l===0},yt.API={events:[]},yt.version="4.2.0";var Ha=yt.API,zg=1,Ed=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},D0=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Md=function(t){return t.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(s){var r=s.charCodeAt(0).toString(16).toUpperCase();return"#"+(r.length===1?"0"+r:r)})},ts=function(t){return t.toFixed(2)},Ac=function(t){return t.toFixed(5)};Ha.__acroform__={};var Yl=function(t,s){t.prototype=Object.create(s.prototype),t.prototype.constructor=t},r2=function(t){return t*zg},eo=function(t){var s=new fN,r=pt.internal.getHeight(t)||0,l=pt.internal.getWidth(t)||0;return s.BBox=[0,0,Number(ts(l)),Number(ts(r))],s},NE=Ha.__acroform__.setBit=function(t,s){if(t=t||0,s=s||0,isNaN(t)||isNaN(s))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<s},kE=Ha.__acroform__.clearBit=function(t,s){if(t=t||0,s=s||0,isNaN(t)||isNaN(s))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<s)},SE=Ha.__acroform__.getBit=function(t,s){if(isNaN(t)||isNaN(s))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<s?1:0},Ja=Ha.__acroform__.getBitForPdf=function(t,s){if(isNaN(t)||isNaN(s))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return SE(t,s-1)},Za=Ha.__acroform__.setBitForPdf=function(t,s){if(isNaN(t)||isNaN(s))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return NE(t,s-1)},Qa=Ha.__acroform__.clearBitForPdf=function(t,s){if(isNaN(t)||isNaN(s))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return kE(t,s-1)},CE=Ha.__acroform__.calculateCoordinates=function(t,s){var r=s.internal.getHorizontalCoordinate,l=s.internal.getVerticalCoordinate,i=t[0],o=t[1],d=t[2],x=t[3],u={};return u.lowerLeft_X=r(i)||0,u.lowerLeft_Y=l(o+x)||0,u.upperRight_X=r(i+d)||0,u.upperRight_Y=l(o)||0,[Number(ts(u.lowerLeft_X)),Number(ts(u.lowerLeft_Y)),Number(ts(u.upperRight_X)),Number(ts(u.upperRight_Y))]},AE=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var s=[],r=t._V||t.DV,l=Uf(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;s.push("/Tx BMC"),s.push("q"),s.push("BT"),s.push(t.scope.__private__.encodeColorString(t.color)),s.push("/"+i+" "+ts(l.fontSize)+" Tf"),s.push("1 0 0 1 0 0 Tm"),s.push(l.text),s.push("ET"),s.push("Q"),s.push("EMC");var o=eo(t);return o.scope=t.scope,o.stream=s.join(`
`),o}},Uf=function(t,s){var r=t.fontSize===0?t.maxFontSize:t.fontSize,l={text:"",fontSize:""},i=(s=(s=s.substr(0,1)=="("?s.substr(1):s).substr(s.length-1)==")"?s.substr(0,s.length-1):s).split(" ");i=t.multiline?i.map(function(W){return W.split(`
`)}):i.map(function(W){return[W]});var o=r,d=pt.internal.getHeight(t)||0;d=d<0?-d:d;var x=pt.internal.getWidth(t)||0;x=x<0?-x:x;var u=function(W,H,$){if(W+1<i.length){var G=H+" "+i[W+1][0];return ph(G,t,$).width<=x-4}return!1};o++;e:for(;o>0;){s="",o--;var h,p,g=ph("3",t,o).height,y=t.multiline?d-o:(d-g)/2,f=y+=2,w=0,S=0,v=0;if(o<=0){s=`(...) Tj
`,s+="% Width of Text: "+ph(s,t,o=12).width+", FieldWidth:"+x+`
`;break}for(var N="",A=0,L=0;L<i.length;L++)if(i.hasOwnProperty(L)){var M=!1;if(i[L].length!==1&&v!==i[L].length-1){if((g+2)*(A+2)+2>d)continue e;N+=i[L][v],M=!0,S=L,L--}else{N=(N+=i[L][v]+" ").substr(N.length-1)==" "?N.substr(0,N.length-1):N;var T=parseInt(L),_=u(T,N,o),I=L>=i.length-1;if(_&&!I){N+=" ",v=0;continue}if(_||I){if(I)S=T;else if(t.multiline&&(g+2)*(A+2)+2>d)continue e}else{if(!t.multiline||(g+2)*(A+2)+2>d)continue e;S=T}}for(var B="",P=w;P<=S;P++){var R=i[P];if(t.multiline){if(P===S){B+=R[v]+" ",v=(v+1)%R.length;continue}if(P===w){B+=R[R.length-1]+" ";continue}}B+=R[0]+" "}switch(B=B.substr(B.length-1)==" "?B.substr(0,B.length-1):B,p=ph(B,t,o).width,t.textAlign){case"right":h=x-p-2;break;case"center":h=(x-p)/2;break;default:h=2}s+=ts(h)+" "+ts(f)+` Td
`,s+="("+Ed(B)+`) Tj
`,s+=-ts(h)+` 0 Td
`,f=-(o+2),p=0,w=M?S:S+1,A++,N=""}break}return l.text=s,l.fontSize=o,l},ph=function(t,s,r){var l=s.scope.internal.getFont(s.fontName,s.fontStyle),i=s.scope.getStringUnitWidth(t,{font:l,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:s.scope.getStringUnitWidth("3",{font:l,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},ME={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},DE=function(t,s){var r={type:"reference",object:t};s.internal.getPageInfo(t.page).pageContext.annotations.find(function(l){return l.type===r.type&&l.object===r.object})===void 0&&s.internal.getPageInfo(t.page).pageContext.annotations.push(r)},LE=function(t,s){if(s.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(zi.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(ME)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");zg=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new gN,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var l=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in l)if(l.hasOwnProperty(i)){var o=l[i];o.objId=void 0,o.hasAnnotation&&DE(o,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(l,i){var o=!l;for(var d in l||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),l=l||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(l.hasOwnProperty(d)){var x=l[d],u=[],h=x.Rect;if(x.Rect&&(x.Rect=CE(x.Rect,i)),i.internal.newObjectDeferredBegin(x.objId,!0),x.DA=pt.createDefaultAppearanceStream(x),Xs(x)==="object"&&typeof x.getKeyValueListForStream=="function"&&(u=x.getKeyValueListForStream()),x.Rect=h,x.hasAppearanceStream&&!x.appearanceStreamContent){var p=AE(x);u.push({key:"AP",value:"<</N "+p+">>"}),i.internal.acroformPlugin.xForms.push(p)}if(x.appearanceStreamContent){var g="";for(var y in x.appearanceStreamContent)if(x.appearanceStreamContent.hasOwnProperty(y)){var f=x.appearanceStreamContent[y];if(g+="/"+y+" ",g+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var d in f)if(f.hasOwnProperty(d)){var w=f[d];typeof w=="function"&&(w=w.call(i,x)),g+="/"+d+" "+w+" ",i.internal.acroformPlugin.xForms.indexOf(w)>=0||i.internal.acroformPlugin.xForms.push(w)}}else typeof(w=f)=="function"&&(w=w.call(i,x)),g+="/"+d+" "+w,i.internal.acroformPlugin.xForms.indexOf(w)>=0||i.internal.acroformPlugin.xForms.push(w);g+=">>"}u.push({key:"AP",value:`<<
`+g+">>"})}i.internal.putStream({additionalKeyValues:u,objectId:x.objId}),i.internal.out("endobj")}o&&(function(S,v){for(var N in S)if(S.hasOwnProperty(N)){var A=N,L=S[N];v.internal.newObjectDeferredBegin(L.objId,!0),Xs(L)==="object"&&typeof L.putStream=="function"&&L.putStream(),delete S[A]}})(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},pN=Ha.__acroform__.arrayToPdfArray=function(t,s,r){var l=function(d){return d};if(Array.isArray(t)){for(var i="[",o=0;o<t.length;o++)switch(o!==0&&(i+=" "),Xs(t[o])){case"boolean":case"number":case"object":i+=t[o].toString();break;case"string":t[o].substr(0,1)==="/"?i+="/"+Md(t[o].substr(1)):(s!==void 0&&r&&(l=r.internal.getEncryptor(s)),i+="("+Ed(l(t[o].toString()))+")")}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},af=function(t,s,r){var l=function(i){return i};return s!==void 0&&r&&(l=r.internal.getEncryptor(s)),(t=t||"").toString(),"("+Ed(l(t))+")"},to=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};to.prototype.toString=function(){return this.objId+" 0 R"},to.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},to.prototype.getKeyValueListForStream=function(){var t=[],s=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var r in s)if(Object.getOwnPropertyDescriptor(this,s[r]).configurable===!1){var l=s[r],i=this[l];i&&(Array.isArray(i)?t.push({key:l,value:pN(i,this.objId,this.scope)}):i instanceof to?(i.scope=this.scope,t.push({key:l,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:l,value:i}))}return t};var fN=function(){to.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,s=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return s},set:function(r){s=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Yl(fN,to);var gN=function(){to.call(this);var t,s=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return s.length>0?s:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return s}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(l){return l};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Ed(r(t))+")"}},set:function(r){t=r}})};Yl(gN,to);var zi=function t(){to.call(this);var s=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return s},set:function(N){if(isNaN(N))throw new Error('Invalid value "'+N+'" for attribute F supplied.');s=N}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ja(s,3)},set:function(N){N?this.F=Za(s,3):this.F=Qa(s,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(N){if(isNaN(N))throw new Error('Invalid value "'+N+'" for attribute Ff supplied.');r=N}});var l=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(l.length!==0)return l},set:function(N){l=N!==void 0?N:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!l||isNaN(l[0])?0:l[0]},set:function(N){l[0]=N}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!l||isNaN(l[1])?0:l[1]},set:function(N){l[1]=N}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!l||isNaN(l[2])?0:l[2]},set:function(N){l[2]=N}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!l||isNaN(l[3])?0:l[3]},set:function(N){l[3]=N}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(N){switch(N){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=N;break;default:throw new Error('Invalid value "'+N+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof Wh)return;o="FieldObject"+t.FieldNum++}var N=function(A){return A};return this.scope&&(N=this.scope.internal.getEncryptor(this.objId)),"("+Ed(N(o))+")"},set:function(N){o=N.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(N){o=N}});var d="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return d},set:function(N){d=N}});var x="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return x},set:function(N){x=N}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(N){u=N}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/zg:h},set:function(N){h=N}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(N){p=N}});var g="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!g||this instanceof Wh||this instanceof jd))return af(g,this.objId,this.scope)},set:function(N){N=N.toString(),g=N}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof Mr==0?af(y,this.objId,this.scope):y},set:function(N){N=N.toString(),y=this instanceof Mr==0?N.substr(0,1)==="("?D0(N.substr(1,N.length-2)):D0(N):N}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Mr==1?D0(y.substr(1,y.length-1)):y},set:function(N){N=N.toString(),y=this instanceof Mr==1?"/"+Md(N):N}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(N){this.V=N}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Mr==0?af(f,this.objId,this.scope):f},set:function(N){N=N.toString(),f=this instanceof Mr==0?N.substr(0,1)==="("?D0(N.substr(1,N.length-2)):D0(N):N}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Mr==1?D0(f.substr(1,f.length-1)):f},set:function(N){N=N.toString(),f=this instanceof Mr==1?"/"+Md(N):N}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var w,S=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return S},set:function(N){N=!!N,S=N}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(w)return w},set:function(N){w=N}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ja(this.Ff,1)},set:function(N){N?this.Ff=Za(this.Ff,1):this.Ff=Qa(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ja(this.Ff,2)},set:function(N){N?this.Ff=Za(this.Ff,2):this.Ff=Qa(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ja(this.Ff,3)},set:function(N){N?this.Ff=Za(this.Ff,3):this.Ff=Qa(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(N){if([0,1,2].indexOf(N)===-1)throw new Error('Invalid value "'+N+'" for attribute Q supplied.');v=N}}),Object.defineProperty(this,"textAlign",{get:function(){var N;switch(v){case 0:default:N="left";break;case 1:N="center";break;case 2:N="right"}return N},configurable:!0,enumerable:!0,set:function(N){switch(N){case"right":case 2:v=2;break;case"center":case 1:v=1;break;default:v=0}}})};Yl(zi,to);var R0=function(){zi.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var s=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return pN(s,this.objId,this.scope)},set:function(r){var l,i;i=[],typeof(l=r)=="string"&&(i=(function(o,d,x){x||(x=1);for(var u,h=[];u=d.exec(o);)h.push(u[x]);return h})(l,/\((.*?)\)/g)),s=i}}),this.getOptions=function(){return s},this.setOptions=function(r){s=r,this.sort&&s.sort()},this.addOption=function(r){r=(r=r||"").toString(),s.push(r),this.sort&&s.sort()},this.removeOption=function(r,l){for(l=l||!1,r=(r=r||"").toString();s.indexOf(r)!==-1&&(s.splice(s.indexOf(r),1),l!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ja(this.Ff,18)},set:function(r){r?this.Ff=Za(this.Ff,18):this.Ff=Qa(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ja(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Za(this.Ff,19):this.Ff=Qa(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ja(this.Ff,20)},set:function(r){r?(this.Ff=Za(this.Ff,20),s.sort()):this.Ff=Qa(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ja(this.Ff,22)},set:function(r){r?this.Ff=Za(this.Ff,22):this.Ff=Qa(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ja(this.Ff,23)},set:function(r){r?this.Ff=Za(this.Ff,23):this.Ff=Qa(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ja(this.Ff,27)},set:function(r){r?this.Ff=Za(this.Ff,27):this.Ff=Qa(this.Ff,27)}}),this.hasAppearanceStream=!1};Yl(R0,zi);var O0=function(){R0.call(this),this.fontName="helvetica",this.combo=!1};Yl(O0,R0);var F0=function(){O0.call(this),this.combo=!0};Yl(F0,O0);var Dh=function(){F0.call(this),this.edit=!0};Yl(Dh,F0);var Mr=function(){zi.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ja(this.Ff,15)},set:function(r){r?this.Ff=Za(this.Ff,15):this.Ff=Qa(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ja(this.Ff,16)},set:function(r){r?this.Ff=Za(this.Ff,16):this.Ff=Qa(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ja(this.Ff,17)},set:function(r){r?this.Ff=Za(this.Ff,17):this.Ff=Qa(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ja(this.Ff,26)},set:function(r){r?this.Ff=Za(this.Ff,26):this.Ff=Qa(this.Ff,26)}});var t,s={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(o){return o};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(s).length!==0){var l,i=[];for(l in i.push("<<"),s)i.push("/"+l+" ("+Ed(r(s[l]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){Xs(r)==="object"&&(s=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return s.CA||""},set:function(r){typeof r=="string"&&(s.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){var l=r==null?"":r.toString();l.substr(0,1)==="/"&&(l=l.substr(1)),t="/"+Md(l)}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+Md(r)}})};Yl(Mr,zi);var Lh=function(){Mr.call(this),this.pushButton=!0};Yl(Lh,Mr);var B0=function(){Mr.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(s){t=s!==void 0?s:[]}})};Yl(B0,Mr);var Wh=function(){var t,s;zi.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return s},set:function(i){s=i}});var r,l={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(x){return x};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var o,d=[];for(o in d.push("<<"),l)d.push("/"+o+" ("+Ed(i(l[o]))+")");return d.push(">>"),d.join(`
`)},set:function(i){Xs(i)==="object"&&(l=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return l.CA||""},set:function(i){typeof i=="string"&&(l.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){var o=i==null?"":i.toString();o.substr(0,1)==="/"&&(o=o.substr(1)),r="/"+Md(o)}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){var o=i==null?"":i.toString();o.substr(0,1)==="/"&&(o=o.substr(1)),r="/"+Md(o)}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=pt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Yl(Wh,zi),B0.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var s in this.Kids)if(this.Kids.hasOwnProperty(s)){var r=this.Kids[s];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},B0.prototype.createOption=function(t){var s=new Wh;return s.Parent=this,s.optionName=t,this.Kids.push(s),zE.call(this.scope,s),s};var zh=function(){Mr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=pt.CheckBox.createAppearanceStream()};Yl(zh,Mr);var jd=function(){zi.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ja(this.Ff,13)},set:function(s){s?this.Ff=Za(this.Ff,13):this.Ff=Qa(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ja(this.Ff,21)},set:function(s){s?this.Ff=Za(this.Ff,21):this.Ff=Qa(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ja(this.Ff,23)},set:function(s){s?this.Ff=Za(this.Ff,23):this.Ff=Qa(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ja(this.Ff,24)},set:function(s){s?this.Ff=Za(this.Ff,24):this.Ff=Qa(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ja(this.Ff,25)},set:function(s){s?this.Ff=Za(this.Ff,25):this.Ff=Qa(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ja(this.Ff,26)},set:function(s){s?this.Ff=Za(this.Ff,26):this.Ff=Qa(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(s){Number.isInteger(s)&&(t=s)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Yl(jd,zi);var Eh=function(){jd.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ja(this.Ff,14)},set:function(t){t?this.Ff=Za(this.Ff,14):this.Ff=Qa(this.Ff,14)}}),this.password=!0};Yl(Eh,jd);var pt={CheckBox:{createAppearanceStream:function(){return{N:{On:pt.CheckBox.YesNormal},D:{On:pt.CheckBox.YesPushDown,Off:pt.CheckBox.OffPushDown}}},YesPushDown:function(t){var s=eo(t);s.scope=t.scope;var r=[],l=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),o=Uf(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+ts(pt.internal.getWidth(t))+" "+ts(pt.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+l+" "+ts(o.fontSize)+" Tf "+i),r.push("BT"),r.push(o.text),r.push("ET"),r.push("Q"),r.push("EMC"),s.stream=r.join(`
`),s},YesNormal:function(t){var s=eo(t);s.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,l=t.scope.__private__.encodeColorString(t.color),i=[],o=pt.internal.getHeight(t),d=pt.internal.getWidth(t),x=Uf(t,t.caption);return i.push("1 g"),i.push("0 0 "+ts(d)+" "+ts(o)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+ts(d-1)+" "+ts(o-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+ts(x.fontSize)+" Tf "+l),i.push(x.text),i.push("ET"),i.push("Q"),s.stream=i.join(`
`),s},OffPushDown:function(t){var s=eo(t);s.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+ts(pt.internal.getWidth(t))+" "+ts(pt.internal.getHeight(t))+" re"),r.push("f"),s.stream=r.join(`
`),s}},RadioButton:{Circle:{createAppearanceStream:function(t){var s={D:{Off:pt.RadioButton.Circle.OffPushDown},N:{}};return s.N[t]=pt.RadioButton.Circle.YesNormal,s.D[t]=pt.RadioButton.Circle.YesPushDown,s},getCA:function(){return"l"},YesNormal:function(t){var s=eo(t);s.scope=t.scope;var r=[],l=pt.internal.getWidth(t)<=pt.internal.getHeight(t)?pt.internal.getWidth(t)/4:pt.internal.getHeight(t)/4;l=Number((.9*l).toFixed(5));var i=pt.internal.Bezier_C,o=Number((l*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Ac(pt.internal.getWidth(t)/2)+" "+Ac(pt.internal.getHeight(t)/2)+" cm"),r.push(l+" 0 m"),r.push(l+" "+o+" "+o+" "+l+" 0 "+l+" c"),r.push("-"+o+" "+l+" -"+l+" "+o+" -"+l+" 0 c"),r.push("-"+l+" -"+o+" -"+o+" -"+l+" 0 -"+l+" c"),r.push(o+" -"+l+" "+l+" -"+o+" "+l+" 0 c"),r.push("f"),r.push("Q"),s.stream=r.join(`
`),s},YesPushDown:function(t){var s=eo(t);s.scope=t.scope;var r=[],l=pt.internal.getWidth(t)<=pt.internal.getHeight(t)?pt.internal.getWidth(t)/4:pt.internal.getHeight(t)/4;l=Number((.9*l).toFixed(5));var i=Number((2*l).toFixed(5)),o=Number((i*pt.internal.Bezier_C).toFixed(5)),d=Number((l*pt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ac(pt.internal.getWidth(t)/2)+" "+Ac(pt.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),r.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),r.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),r.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Ac(pt.internal.getWidth(t)/2)+" "+Ac(pt.internal.getHeight(t)/2)+" cm"),r.push(l+" 0 m"),r.push(l+" "+d+" "+d+" "+l+" 0 "+l+" c"),r.push("-"+d+" "+l+" -"+l+" "+d+" -"+l+" 0 c"),r.push("-"+l+" -"+d+" -"+d+" -"+l+" 0 -"+l+" c"),r.push(d+" -"+l+" "+l+" -"+d+" "+l+" 0 c"),r.push("f"),r.push("Q"),s.stream=r.join(`
`),s},OffPushDown:function(t){var s=eo(t);s.scope=t.scope;var r=[],l=pt.internal.getWidth(t)<=pt.internal.getHeight(t)?pt.internal.getWidth(t)/4:pt.internal.getHeight(t)/4;l=Number((.9*l).toFixed(5));var i=Number((2*l).toFixed(5)),o=Number((i*pt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ac(pt.internal.getWidth(t)/2)+" "+Ac(pt.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),r.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),r.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),r.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),r.push("f"),r.push("Q"),s.stream=r.join(`
`),s}},Cross:{createAppearanceStream:function(t){var s={D:{Off:pt.RadioButton.Cross.OffPushDown},N:{}};return s.N[t]=pt.RadioButton.Cross.YesNormal,s.D[t]=pt.RadioButton.Cross.YesPushDown,s},getCA:function(){return"8"},YesNormal:function(t){var s=eo(t);s.scope=t.scope;var r=[],l=pt.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+ts(pt.internal.getWidth(t)-2)+" "+ts(pt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(ts(l.x1.x)+" "+ts(l.x1.y)+" m"),r.push(ts(l.x2.x)+" "+ts(l.x2.y)+" l"),r.push(ts(l.x4.x)+" "+ts(l.x4.y)+" m"),r.push(ts(l.x3.x)+" "+ts(l.x3.y)+" l"),r.push("s"),r.push("Q"),s.stream=r.join(`
`),s},YesPushDown:function(t){var s=eo(t);s.scope=t.scope;var r=pt.internal.calculateCross(t),l=[];return l.push("0.749023 g"),l.push("0 0 "+ts(pt.internal.getWidth(t))+" "+ts(pt.internal.getHeight(t))+" re"),l.push("f"),l.push("q"),l.push("1 1 "+ts(pt.internal.getWidth(t)-2)+" "+ts(pt.internal.getHeight(t)-2)+" re"),l.push("W"),l.push("n"),l.push(ts(r.x1.x)+" "+ts(r.x1.y)+" m"),l.push(ts(r.x2.x)+" "+ts(r.x2.y)+" l"),l.push(ts(r.x4.x)+" "+ts(r.x4.y)+" m"),l.push(ts(r.x3.x)+" "+ts(r.x3.y)+" l"),l.push("s"),l.push("Q"),s.stream=l.join(`
`),s},OffPushDown:function(t){var s=eo(t);s.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+ts(pt.internal.getWidth(t))+" "+ts(pt.internal.getHeight(t))+" re"),r.push("f"),s.stream=r.join(`
`),s}}},createDefaultAppearanceStream:function(t){var s=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+s+" "+t.fontSize+" Tf "+r}};pt.internal={Bezier_C:.551915024494,calculateCross:function(t){var s=pt.internal.getWidth(t),r=pt.internal.getHeight(t),l=Math.min(s,r);return{x1:{x:(s-l)/2,y:(r-l)/2+l},x2:{x:(s-l)/2+l,y:(r-l)/2},x3:{x:(s-l)/2,y:(r-l)/2},x4:{x:(s-l)/2+l,y:(r-l)/2+l}}}},pt.internal.getWidth=function(t){var s=0;return Xs(t)==="object"&&(s=r2(t.Rect[2])),s},pt.internal.getHeight=function(t){var s=0;return Xs(t)==="object"&&(s=r2(t.Rect[3])),s};var zE=Ha.addField=function(t){if(LE(this,t),!(t instanceof zi))throw new Error("Invalid argument passed to jsPDF.addField.");var s;return(s=t).scope.internal.acroformPlugin.printedOut&&(s.scope.internal.acroformPlugin.printedOut=!1,s.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),s.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(s),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Ha.AcroFormChoiceField=R0,Ha.AcroFormListBox=O0,Ha.AcroFormComboBox=F0,Ha.AcroFormEditBox=Dh,Ha.AcroFormButton=Mr,Ha.AcroFormPushButton=Lh,Ha.AcroFormRadioButton=B0,Ha.AcroFormCheckBox=zh,Ha.AcroFormTextField=jd,Ha.AcroFormPasswordField=Eh,Ha.AcroFormAppearance=pt,Ha.AcroForm={ChoiceField:R0,ListBox:O0,ComboBox:F0,EditBox:Dh,Button:Mr,PushButton:Lh,RadioButton:B0,CheckBox:zh,TextField:jd,PasswordField:Eh,Appearance:pt},yt.AcroForm={ChoiceField:R0,ListBox:O0,ComboBox:F0,EditBox:Dh,Button:Mr,PushButton:Lh,RadioButton:B0,CheckBox:zh,TextField:jd,PasswordField:Eh,Appearance:pt};yt.AcroForm;function bN(t){return t.reduce(function(s,r,l){return s[r]=l,s},{})}(function(t){var s="addImage_";t.__addimage__={};var r="UNKNOWN",l={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(W,H){var $,G,le,Q,ne,F=r;if((H=H||r)==="RGBA"||W.data!==void 0&&W.data instanceof Uint8ClampedArray&&"height"in W&&"width"in W)return"RGBA";if(_(W))for(ne in l)for(le=l[ne],$=0;$<le.length;$+=1){for(Q=!0,G=0;G<le[$].length;G+=1)if(le[$][G]!==void 0&&le[$][G]!==W[G]){Q=!1;break}if(Q===!0){F=ne;break}}else for(ne in l)for(le=l[ne],$=0;$<le.length;$+=1){for(Q=!0,G=0;G<le[$].length;G+=1)if(le[$][G]!==void 0&&le[$][G]!==W.charCodeAt(G)){Q=!1;break}if(Q===!0){F=ne;break}}return F===r&&H!==r&&(F=H),F},o=function W(H){for(var $=this.internal.write,G=this.internal.putStream,le=(0,this.internal.getFilters)();le.indexOf("FlateEncode")!==-1;)le.splice(le.indexOf("FlateEncode"),1);H.objectId=this.internal.newObject();var Q=[];if(Q.push({key:"Type",value:"/XObject"}),Q.push({key:"Subtype",value:"/Image"}),Q.push({key:"Width",value:H.width}),Q.push({key:"Height",value:H.height}),H.colorSpace===N.INDEXED?Q.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(H.palette.length/3-1)+" "+("sMask"in H&&H.sMask!==void 0?H.objectId+2:H.objectId+1)+" 0 R]"}):(Q.push({key:"ColorSpace",value:"/"+H.colorSpace}),H.colorSpace===N.DEVICE_CMYK&&Q.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Q.push({key:"BitsPerComponent",value:H.bitsPerComponent}),"decodeParameters"in H&&H.decodeParameters!==void 0&&Q.push({key:"DecodeParms",value:"<<"+H.decodeParameters+">>"}),"transparency"in H&&Array.isArray(H.transparency)&&H.transparency.length>0){for(var ne="",F=0,de=H.transparency.length;F<de;F++)ne+=H.transparency[F]+" "+H.transparency[F]+" ";Q.push({key:"Mask",value:"["+ne+"]"})}H.sMask!==void 0&&Q.push({key:"SMask",value:H.objectId+1+" 0 R"});var ke=H.filter!==void 0?["/"+H.filter]:void 0;if(G({data:H.data,additionalKeyValues:Q,alreadyAppliedFilters:ke,objectId:H.objectId}),$("endobj"),"sMask"in H&&H.sMask!==void 0){var X,q=(X=H.sMaskBitsPerComponent)!==null&&X!==void 0?X:H.bitsPerComponent,Z={width:H.width,height:H.height,colorSpace:"DeviceGray",bitsPerComponent:q,data:H.sMask};"filter"in H&&(Z.decodeParameters="/Predictor ".concat(H.predictor," /Colors 1 /BitsPerComponent ").concat(q," /Columns ").concat(H.width),Z.filter=H.filter),W.call(this,Z)}if(H.colorSpace===N.INDEXED){var ae=this.internal.newObject();G({data:B(new Uint8Array(H.palette)),objectId:ae}),$("endobj")}},d=function(){var W=this.internal.collections[s+"images"];for(var H in W)o.call(this,W[H])},x=function(){var W,H=this.internal.collections[s+"images"],$=this.internal.write;for(var G in H)$("/I"+(W=H[G]).index,W.objectId,"0","R")},u=function(){this.internal.collections[s+"images"]||(this.internal.collections[s+"images"]={},this.internal.events.subscribe("putResources",d),this.internal.events.subscribe("putXobjectDict",x))},h=function(){var W=this.internal.collections[s+"images"];return u.call(this),W},p=function(){return Object.keys(this.internal.collections[s+"images"]).length},g=function(W){return typeof t["process"+W.toUpperCase()]=="function"},y=function(W){return Xs(W)==="object"&&W.nodeType===1},f=function(W,H){if(W.nodeName==="IMG"&&W.hasAttribute("src")){var $=""+W.getAttribute("src");if($.indexOf("data:image/")===0)return Mh(unescape($).split("base64,").pop());var G=t.loadFile($,!0);if(G!==void 0)return G}if(W.nodeName==="CANVAS"){if(W.width===0||W.height===0)throw new Error("Given canvas must have data. Canvas width: "+W.width+", height: "+W.height);var le;switch(H){case"PNG":le="image/png";break;case"WEBP":le="image/webp";break;default:le="image/jpeg"}return Mh(W.toDataURL(le,1).split("base64,").pop())}},w=function(W){var H=this.internal.collections[s+"images"];if(H){for(var $ in H)if(W===H[$].alias)return H[$]}},S=function(W,H,$){return W||H||(W=-96,H=-96),W<0&&(W=-1*$.width*72/W/this.internal.scaleFactor),H<0&&(H=-1*$.height*72/H/this.internal.scaleFactor),W===0&&(W=H*$.width/$.height),H===0&&(H=W*$.height/$.width),[W,H]},v=function(W,H,$,G,le,Q){var ne=S.call(this,$,G,le),F=this.internal.getCoordinateString,de=this.internal.getVerticalCoordinateString,ke=h.call(this);if($=ne[0],G=ne[1],ke[le.index]=le,Q){Q*=Math.PI/180;var X=Math.cos(Q),q=Math.sin(Q),Z=function(ue){return ue.toFixed(4)},ae=[Z(X),Z(q),Z(-1*q),Z(X),0,0,"cm"]}this.internal.write("q"),Q?(this.internal.write([1,"0","0",1,F(W),de(H+G),"cm"].join(" ")),this.internal.write(ae.join(" ")),this.internal.write([F($),"0","0",F(G),"0","0","cm"].join(" "))):this.internal.write([F($),"0","0",F(G),F(W),de(H+G),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+le.index+" Do"),this.internal.write("Q")},N=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var A=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},L=t.__addimage__.sHashCode=function(W){var H,$,G=0;if(typeof W=="string")for($=W.length,H=0;H<$;H++)G=(G<<5)-G+W.charCodeAt(H),G|=0;else if(_(W))for($=W.byteLength/2,H=0;H<$;H++)G=(G<<5)-G+W[H],G|=0;return G},M=t.__addimage__.validateStringAsBase64=function(W){(W=W||"").toString().trim();var H=!0;return W.length===0&&(H=!1),W.length%4!=0&&(H=!1),/^[A-Za-z0-9+/]+$/.test(W.substr(0,W.length-2))===!1&&(H=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(W.substr(-2))===!1&&(H=!1),H},T=t.__addimage__.extractImageFromDataUrl=function(W){if(W==null||!(W=W.trim()).startsWith("data:"))return null;var H=W.indexOf(",");return H<0?null:W.substring(0,H).trim().endsWith("base64")?W.substring(H+1):null};t.__addimage__.isArrayBuffer=function(W){return W instanceof ArrayBuffer};var _=t.__addimage__.isArrayBufferView=function(W){return W instanceof Int8Array||W instanceof Uint8Array||W instanceof Uint8ClampedArray||W instanceof Int16Array||W instanceof Uint16Array||W instanceof Int32Array||W instanceof Uint32Array||W instanceof Float32Array||W instanceof Float64Array},I=t.__addimage__.binaryStringToUint8Array=function(W){for(var H=W.length,$=new Uint8Array(H),G=0;G<H;G++)$[G]=W.charCodeAt(G);return $},B=t.__addimage__.arrayBufferToBinaryString=function(W){for(var H="",$=_(W)?W:new Uint8Array(W),G=0;G<$.length;G+=8192)H+=String.fromCharCode.apply(null,$.subarray(G,G+8192));return H};t.addImage=function(){var W,H,$,G,le,Q,ne,F,de;if(typeof arguments[1]=="number"?(H=r,$=arguments[1],G=arguments[2],le=arguments[3],Q=arguments[4],ne=arguments[5],F=arguments[6],de=arguments[7]):(H=arguments[1],$=arguments[2],G=arguments[3],le=arguments[4],Q=arguments[5],ne=arguments[6],F=arguments[7],de=arguments[8]),Xs(W=arguments[0])==="object"&&!y(W)&&"imageData"in W){var ke=W;W=ke.imageData,H=ke.format||H||r,$=ke.x||$||0,G=ke.y||G||0,le=ke.w||ke.width||le,Q=ke.h||ke.height||Q,ne=ke.alias||ne,F=ke.compression||F,de=ke.rotation||ke.angle||de}var X=this.internal.getFilters();if(F===void 0&&X.indexOf("FlateEncode")!==-1&&(F="SLOW"),isNaN($)||isNaN(G))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var q=P.call(this,W,H,ne,F);return v.call(this,$,G,le,Q,q,de),this};var P=function(W,H,$,G){var le,Q,ne;if(typeof W=="string"&&i(W)===r){W=unescape(W);var F=R(W,!1);(F!==""||(F=t.loadFile(W,!0))!==void 0)&&(W=F)}if(y(W)&&(W=f(W,H)),H=i(W,H),!g(H))throw new Error("addImage does not support files of type '"+H+"', please ensure that a plugin for '"+H+"' support is added.");if(((ne=$)==null||ne.length===0)&&($=(function(de){return typeof de=="string"||_(de)?L(de):_(de.data)?L(de.data):null})(W)),(le=w.call(this,$))||(W instanceof Uint8Array||H==="RGBA"||(Q=W,W=I(W)),le=this["process"+H.toUpperCase()](W,p.call(this),$,(function(de){return de&&typeof de=="string"&&(de=de.toUpperCase()),de in t.image_compression?de:A.NONE})(G),Q)),!le)throw new Error("An unknown error occurred whilst processing the image.");return le},R=t.__addimage__.convertBase64ToBinaryString=function(W,H){H=typeof H!="boolean"||H;var $,G="";if(typeof W=="string"){var le;$=(le=T(W))!==null&&le!==void 0?le:W;try{G=Mh($)}catch(Q){if(H)throw M($)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Q.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return G};t.getImageProperties=function(W){var H,$,G="";if(y(W)&&(W=f(W)),typeof W=="string"&&i(W)===r&&((G=R(W,!1))===""&&(G=t.loadFile(W)||""),W=G),$=i(W),!g($))throw new Error("addImage does not support files of type '"+$+"', please ensure that a plugin for '"+$+"' support is added.");if(W instanceof Uint8Array||(W=I(W)),!(H=this["process"+$.toUpperCase()](W)))throw new Error("An unknown error occurred whilst processing the image");return H.fileType=$,H}})(yt.API),(function(t){var s=function(r){if(r!==void 0&&r!="")return!0};yt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var l,i,o,d=this.internal.getCoordinateString,x=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(r.objId),h=r.pageContext.annotations,p=!1,g=0;g<h.length&&!p;g++)switch((l=h[g]).type){case"link":(s(l.options.url)||s(l.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var y=0;y<h.length;y++){l=h[y];var f=this.internal.pdfEscape,w=this.internal.getEncryptor(r.objId);switch(l.type){case"reference":this.internal.write(" "+l.object.objId+" 0 R ");break;case"text":var S=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),N=this.internal.getEncryptor(S.objId),A=l.title||"Note";o="<</Type /Annot /Subtype /Text "+(i="/Rect ["+d(l.bounds.x)+" "+x(l.bounds.y+l.bounds.h)+" "+d(l.bounds.x+l.bounds.w)+" "+x(l.bounds.y)+"] ")+"/Contents ("+f(N(l.contents))+")",o+=" /Popup "+v.objId+" 0 R",o+=" /P "+u.objId+" 0 R",o+=" /T ("+f(N(A))+") >>",S.content=o;var L=S.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+d(l.bounds.x+30)+" "+x(l.bounds.y+l.bounds.h)+" "+d(l.bounds.x+l.bounds.w+30)+" "+x(l.bounds.y)+"] ")+" /Parent "+L,l.open&&(o+=" /Open true"),o+=" >>",v.content=o,this.internal.write(S.objId,"0 R",v.objId,"0 R");break;case"freetext":i="/Rect ["+d(l.bounds.x)+" "+x(l.bounds.y)+" "+d(l.bounds.x+l.bounds.w)+" "+x(l.bounds.y+l.bounds.h)+"] ";var M=l.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+f(w(l.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+M+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(l.options.name){var T=this.annotations._nameMap[l.options.name];l.options.pageNumber=T.page,l.options.top=T.y}else l.options.top||(l.options.top=0);if(i="/Rect ["+l.finalBounds.x+" "+l.finalBounds.y+" "+l.finalBounds.w+" "+l.finalBounds.h+"] ",o="",l.options.url)o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+f(w(l.options.url))+") >>";else if(l.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(l.options.pageNumber).objId+" 0 R",l.options.magFactor=l.options.magFactor||"XYZ",l.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+l.options.top+"]";break;case"FitV":l.options.left=l.options.left||0,o+=" /FitV "+l.options.left+"]";break;default:var _=x(l.options.top);l.options.left=l.options.left||0,l.options.zoom===void 0&&(l.options.zoom=0),o+=" /XYZ "+l.options.left+" "+_+" "+l.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var l=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":l.pageContext.annotations.push(r)}},t.link=function(r,l,i,o,d){var x=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;x.pageContext.annotations.push({finalBounds:{x:u(r),y:h(l),w:u(r+i),h:h(l+o)},options:d,type:"link"})},t.textWithLink=function(r,l,i,o){var d,x,u=this.getTextWidth(r),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){x=o.maxWidth;var p=this.splitTextToSize(r,x).length;d=Math.ceil(h*p)}else x=u,d=h;return this.text(r,l,i,o),i+=.2*h,o.align==="center"&&(l-=u/2),o.align==="right"&&(l-=u),this.link(l,i-h,x,d,o),u},t.getTextWidth=function(r){var l=this.internal.getFontSize();return this.getStringUnitWidth(r)*l/this.internal.scaleFactor}})(yt.API),(function(t){var s={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},l={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var o=t.__arabicParser__.isInArabicSubstitutionA=function(S){return s[S.charCodeAt(0)]!==void 0},d=t.__arabicParser__.isArabicLetter=function(S){return typeof S=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(S)},x=t.__arabicParser__.isArabicEndLetter=function(S){return d(S)&&o(S)&&s[S.charCodeAt(0)].length<=2},u=t.__arabicParser__.isArabicAlfLetter=function(S){return d(S)&&i.indexOf(S.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(S){return d(S)&&o(S)&&s[S.charCodeAt(0)].length>=1};var h=t.__arabicParser__.arabicLetterHasFinalForm=function(S){return d(S)&&o(S)&&s[S.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(S){return d(S)&&o(S)&&s[S.charCodeAt(0)].length>=3};var p=t.__arabicParser__.arabicLetterHasMedialForm=function(S){return d(S)&&o(S)&&s[S.charCodeAt(0)].length==4},g=t.__arabicParser__.resolveLigatures=function(S){var v=0,N=r,A="",L=0;for(v=0;v<S.length;v+=1)N[S.charCodeAt(v)]!==void 0?(L++,typeof(N=N[S.charCodeAt(v)])=="number"&&(A+=String.fromCharCode(N),N=r,L=0),v===S.length-1&&(N=r,A+=S.charAt(v-(L-1)),v-=L-1,L=0)):(N=r,A+=S.charAt(v-L),v-=L,L=0);return A};t.__arabicParser__.isArabicDiacritic=function(S){return S!==void 0&&l[S.charCodeAt(0)]!==void 0};var y=t.__arabicParser__.getCorrectForm=function(S,v,N){return d(S)?o(S)===!1?-1:!h(S)||!d(v)&&!d(N)||!d(N)&&x(v)||x(S)&&!d(v)||x(S)&&u(v)||x(S)&&x(v)?0:p(S)&&d(v)&&!x(v)&&d(N)&&h(N)?3:x(S)||!d(N)?1:2:-1},f=function(S){var v=0,N=0,A=0,L="",M="",T="",_=(S=S||"").split("\\s+"),I=[];for(v=0;v<_.length;v+=1){for(I.push(""),N=0;N<_[v].length;N+=1)L=_[v][N],M=_[v][N-1],T=_[v][N+1],d(L)?(A=y(L,M,T),I[v]+=A!==-1?String.fromCharCode(s[L.charCodeAt(0)][A]):L):I[v]+=L;I[v]=g(I[v])}return I.join(" ")},w=t.__arabicParser__.processArabic=t.processArabic=function(){var S,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,N=[];if(Array.isArray(v)){var A=0;for(N=[],A=0;A<v.length;A+=1)Array.isArray(v[A])?N.push([f(v[A][0]),v[A][1],v[A][2]]):N.push([f(v[A])]);S=N}else S=f(v);return typeof arguments[0]=="string"?S:(arguments[0].text=S,arguments[0])};t.events.push(["preProcessText",w])})(yt.API),yt.API.autoPrint=function(t){var s;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){s=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+s+" 0 R")})),this},(function(t){var s=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(x){r=x}});var l=150;Object.defineProperty(this,"width",{get:function(){return l},set:function(x){l=isNaN(x)||Number.isInteger(x)===!1||x<0?150:x,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=l+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(x){i=isNaN(x)||Number.isInteger(x)===!1||x<0?300:x,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(x){o=x}});var d={};Object.defineProperty(this,"style",{get:function(){return d},set:function(x){d=x}}),Object.defineProperty(this,"parentNode",{})};s.prototype.getContext=function(r,l){var i;if((r=r||"2d")!=="2d")return null;for(i in l)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=l[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},s.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new s,this.canvas.pdf=this}])})(yt.API),(function(t){var s={left:0,top:0,bottom:0,right:0},r=!1,l=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},s),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(S){u=S}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(S){h=S}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(S){p=S}});var g=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return g},set:function(S){g=S}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(S){y=S}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(S){f=S}});var w=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return w},set:function(S){w=S}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(u){return l.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},t.getTextDimensions=function(u,h){l.call(this);var p=(h=h||{}).fontSize||this.getFontSize(),g=h.font||this.getFont(),y=h.scaleFactor||this.internal.scaleFactor,f=0,w=0,S=0,v=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var N=h.maxWidth;N>0?typeof u=="string"?u=this.splitTextToSize(u,N):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(L,M){return L.concat(v.splitTextToSize(M,N))},[])):u=Array.isArray(u)?u:[u];for(var A=0;A<u.length;A++)f<(S=this.getStringUnitWidth(u[A],{font:g})*p)&&(f=S);return f!==0&&(w=u.length),{w:f/=y,h:Math.max((w*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/y,0)}},t.cellAddPage=function(){l.call(this),this.addPage();var u=this.internal.__cell__.margins||s;return this.internal.__cell__.lastCell=new o(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var d=t.cell=function(){var u;u=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),l.call(this);var h=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,g=this.internal.__cell__.margins||s,y=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===u.lineNumber?(u.x=(h.x||0)+(h.width||0),u.y=h.y||0):h.y+h.height+u.height+g.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=g.top,f&&y&&(this.printHeaderRow(u.lineNumber,!0),u.y+=y[0].height)):u.y=h.y+h.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,r===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-p,u.y+p,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+p,{align:"center",baseline:"top",maxWidth:u.width-p-p}):this.text(u.text,u.x+p,u.y+p,{align:"left",baseline:"top",maxWidth:u.width-p-p})),this.internal.__cell__.lastCell=u,this};t.table=function(u,h,p,g,y){if(l.call(this),!p)throw new Error("No data for PDF table.");var f,w,S,v,N=[],A=[],L=[],M={},T={},_=[],I=[],B=(y=y||{}).autoSize||!1,P=y.printHeaders!==!1,R=y.css&&y.css["font-size"]!==void 0?16*y.css["font-size"]:y.fontSize||12,W=y.margins||Object.assign({width:this.getPageWidth()},s),H=typeof y.padding=="number"?y.padding:3,$=y.headerBackgroundColor||"#c8c8c8",G=y.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=P,this.internal.__cell__.margins=W,this.internal.__cell__.table_font_size=R,this.internal.__cell__.padding=H,this.internal.__cell__.headerBackgroundColor=$,this.internal.__cell__.headerTextColor=G,this.setFontSize(R),g==null)A=N=Object.keys(p[0]),L=N.map(function(){return"left"});else if(Array.isArray(g)&&Xs(g[0])==="object")for(N=g.map(function(ke){return ke.name}),A=g.map(function(ke){return ke.prompt||ke.name||""}),L=g.map(function(ke){return ke.align||"left"}),f=0;f<g.length;f+=1)T[g[f].name]=.7499990551181103*g[f].width;else Array.isArray(g)&&typeof g[0]=="string"&&(A=N=g,L=N.map(function(){return"left"}));if(B||Array.isArray(g)&&typeof g[0]=="string")for(f=0;f<N.length;f+=1){for(M[v=N[f]]=p.map(function(ke){return ke[v]}),this.setFont(void 0,"bold"),_.push(this.getTextDimensions(A[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),w=M[v],this.setFont(void 0,"normal"),S=0;S<w.length;S+=1)_.push(this.getTextDimensions(w[S],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);T[v]=Math.max.apply(null,_)+H+H,_=[]}if(P){var le={};for(f=0;f<N.length;f+=1)le[N[f]]={},le[N[f]].text=A[f],le[N[f]].align=L[f];var Q=x.call(this,le,T);I=N.map(function(ke){return new o(u,h,T[ke],Q,le[ke].text,void 0,le[ke].align)}),this.setTableHeaderRow(I),this.printHeaderRow(1,!1)}var ne=g.reduce(function(ke,X){return ke[X.name]=X.align,ke},{});for(f=0;f<p.length;f+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:f,data:p[f]},this);var F=x.call(this,p[f],T);for(S=0;S<N.length;S+=1){var de=p[f][N[S]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:f,col:S,data:de},this),d.call(this,new o(u,h,T[N[S]],F,de,f+2,ne[N[S]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=h,this};var x=function(u,h){var p=this.internal.__cell__.padding,g=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(u).map(function(f){var w=u[f];return this.splitTextToSize(w.hasOwnProperty("text")?w.text:w,h[f]-p-p)},this).map(function(f){return this.getLineHeightFactor()*f.length*g/y+p+p},this).reduce(function(f,w){return Math.max(f,w)},0)};t.setTableHeaderRow=function(u){l.call(this),this.internal.__cell__.tableHeaderRow=u},t.printHeaderRow=function(u,h){if(l.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var g=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(g[0],g[1],g[2],g[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){p=this.internal.__cell__.tableHeaderRow[f].clone(),h&&(p.y=this.internal.__cell__.margins.top||0,y.push(p)),p.lineNumber=u;var w=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),d.call(this,p),this.setTextColor(w)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),r=!1}})(yt.API);var vN={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},yN=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],$f=bN(yN),jN=[100,200,300,400,500,600,700,800,900],EE=bN(jN);function rf(t){var s=t.family.replace(/"|'/g,"").toLowerCase(),r=(function(o){return vN[o=o||"normal"]?o:"normal"})(t.style),l=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(t.weight),i=(function(o){return typeof $f[o=o||"normal"]=="number"?o:"normal"})(t.stretch);return{family:s,style:r,weight:l,stretch:i,src:t.src||[],ref:t.ref||{name:s,style:[i,r,l].join(" ")}}}function l2(t,s,r,l){var i;for(i=r;i>=0&&i<s.length;i+=l)if(t[s[i]])return t[s[i]];for(i=r;i>=0&&i<s.length;i-=l)if(t[s[i]])return t[s[i]]}var TE={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},n2={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function i2(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function o2(t){return t.trimLeft()}function _E(t,s){for(var r=0;r<t.length;){if(t.charAt(r)===s)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function PE(t){var s=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return s===null?null:[s[0],t.substring(s[0].length)]}var L0,fh,c2,d2,x2,lf=["times"];function u2(t,s,r,l,i){var o=4,d=m2;switch(i){case yt.API.image_compression.FAST:o=1,d=h2;break;case yt.API.image_compression.MEDIUM:o=6,d=p2;break;case yt.API.image_compression.SLOW:o=9,d=f2}t=(function(u,h,p,g){for(var y,f=u.length/h,w=new Uint8Array(u.length+f),S=[RE,h2,m2,p2,f2],v=0;v<f;v+=1){var N=v*h,A=u.subarray(N,N+h);if(g)w.set(g(A,p,y),N+v);else{for(var L=S.length,M=[],T=0;T<L;T+=1)M[T]=S[T](A,p,y);var _=FE(M.concat());w.set(M[_],N+v)}y=A}return w})(t,s,Math.ceil(r*l/8),d);var x=Pf(t,{level:o});return yt.API.__addimage__.arrayBufferToBinaryString(x)}function RE(t){var s=Array.apply([],t);return s.unshift(0),s}function h2(t,s){var r=t.length,l=[];l[0]=1;for(var i=0;i<r;i+=1){var o=t[i-s]||0;l[i+1]=t[i]-o+256&255}return l}function m2(t,s,r){var l=t.length,i=[];i[0]=2;for(var o=0;o<l;o+=1){var d=r&&r[o]||0;i[o+1]=t[o]-d+256&255}return i}function p2(t,s,r){var l=t.length,i=[];i[0]=3;for(var o=0;o<l;o+=1){var d=t[o-s]||0,x=r&&r[o]||0;i[o+1]=t[o]+256-(d+x>>>1)&255}return i}function f2(t,s,r){var l=t.length,i=[];i[0]=4;for(var o=0;o<l;o+=1){var d=OE(t[o-s]||0,r&&r[o]||0,r&&r[o-s]||0);i[o+1]=t[o]-d+256&255}return i}function OE(t,s,r){if(t===s&&s===r)return t;var l=Math.abs(s-r),i=Math.abs(t-r),o=Math.abs(t+s-r-r);return l<=i&&l<=o?t:i<=o?s:r}function FE(t){var s=t.map(function(r){return r.reduce(function(l,i){return l+Math.abs(i)},0)});return s.indexOf(Math.min.apply(null,s))}function nf(t,s,r){var l=s*r,i=Math.floor(l/8),o=16-(l-8*i+r),d=(1<<r)-1;return wN(t,i)>>o&d}function g2(t,s,r,l){var i=r*l,o=Math.floor(i/8),d=16-(i-8*o+l),x=(1<<l)-1,u=(s&x)<<d;(function(h,p,g){if(p+1<h.byteLength)h.setUint16(p,g,!1);else{var y=g>>8&255;h.setUint8(p,y)}})(t,o,wN(t,o)&~(x<<d)&65535|u)}function wN(t,s){return s+1<t.byteLength?t.getUint16(s,!1):t.getUint8(s)<<8}function BE(t){var s=0;if(t[s++]!==71||t[s++]!==73||t[s++]!==70||t[s++]!==56||(t[s++]+1&253)!=56||t[s++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[s++]|t[s++]<<8,l=t[s++]|t[s++]<<8,i=t[s++],o=i>>7,d=1<<1+(7&i);t[s++],t[s++];var x=null,u=null;o&&(x=s,u=d,s+=3*d);var h=!0,p=[],g=0,y=null,f=0,w=null;for(this.width=r,this.height=l;h&&s<t.length;)switch(t[s++]){case 33:switch(t[s++]){case 255:if(t[s]!==11||t[s+1]==78&&t[s+2]==69&&t[s+3]==84&&t[s+4]==83&&t[s+5]==67&&t[s+6]==65&&t[s+7]==80&&t[s+8]==69&&t[s+9]==50&&t[s+10]==46&&t[s+11]==48&&t[s+12]==3&&t[s+13]==1&&t[s+16]==0)s+=14,w=t[s++]|t[s++]<<8,s++;else for(s+=12;;){if(!((W=t[s++])>=0))throw Error("Invalid block size");if(W===0)break;s+=W}break;case 249:if(t[s++]!==4||t[s+4]!==0)throw new Error("Invalid graphics extension block.");var S=t[s++];g=t[s++]|t[s++]<<8,y=t[s++],1&S||(y=null),f=S>>2&7,s++;break;case 254:for(;;){if(!((W=t[s++])>=0))throw Error("Invalid block size");if(W===0)break;s+=W}break;default:throw new Error("Unknown graphic control label: 0x"+t[s-1].toString(16))}break;case 44:var v=t[s++]|t[s++]<<8,N=t[s++]|t[s++]<<8,A=t[s++]|t[s++]<<8,L=t[s++]|t[s++]<<8,M=t[s++],T=M>>6&1,_=1<<1+(7&M),I=x,B=u,P=!1;M>>7&&(P=!0,I=s,B=_,s+=3*_);var R=s;for(s++;;){var W;if(!((W=t[s++])>=0))throw Error("Invalid block size");if(W===0)break;s+=W}p.push({x:v,y:N,width:A,height:L,has_local_palette:P,palette_offset:I,palette_size:B,data_offset:R,data_length:s-R,transparent_index:y,interlaced:!!T,delay:g,disposal:f});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+t[s-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return w},this.frameInfo=function(H){if(H<0||H>=p.length)throw new Error("Frame index out of range.");return p[H]},this.decodeAndBlitFrameBGRA=function(H,$){var G=this.frameInfo(H),le=G.width*G.height;if(le>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");var Q=new Uint8Array(le);b2(t,G.data_offset,Q,le);var ne=G.palette_offset,F=G.transparent_index;F===null&&(F=256);var de=G.width,ke=r-de,X=de,q=4*(G.y*r+G.x),Z=4*((G.y+G.height)*r+G.x),ae=q,ue=4*ke;G.interlaced===!0&&(ue+=4*r*7);for(var he=8,be=0,Me=Q.length;be<Me;++be){var Ne=Q[be];if(X===0&&(X=de,(ae+=ue)>=Z&&(ue=4*ke+4*r*(he-1),ae=q+(de+ke)*(he<<1),he>>=1)),Ne===F)ae+=4;else{var Fe=t[ne+3*Ne],Xe=t[ne+3*Ne+1],st=t[ne+3*Ne+2];$[ae++]=st,$[ae++]=Xe,$[ae++]=Fe,$[ae++]=255}--X}},this.decodeAndBlitFrameRGBA=function(H,$){var G=this.frameInfo(H),le=G.width*G.height;if(le>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");var Q=new Uint8Array(le);b2(t,G.data_offset,Q,le);var ne=G.palette_offset,F=G.transparent_index;F===null&&(F=256);var de=G.width,ke=r-de,X=de,q=4*(G.y*r+G.x),Z=4*((G.y+G.height)*r+G.x),ae=q,ue=4*ke;G.interlaced===!0&&(ue+=4*r*7);for(var he=8,be=0,Me=Q.length;be<Me;++be){var Ne=Q[be];if(X===0&&(X=de,(ae+=ue)>=Z&&(ue=4*ke+4*r*(he-1),ae=q+(de+ke)*(he<<1),he>>=1)),Ne===F)ae+=4;else{var Fe=t[ne+3*Ne],Xe=t[ne+3*Ne+1],st=t[ne+3*Ne+2];$[ae++]=Fe,$[ae++]=Xe,$[ae++]=st,$[ae++]=255}--X}}}function b2(t,s,r,l){for(var i=t[s++],o=1<<i,d=o+1,x=d+1,u=i+1,h=(1<<u)-1,p=0,g=0,y=0,f=t[s++],w=new Int32Array(4096),S=null;;){for(;p<16&&f!==0;)g|=t[s++]<<p,p+=8,f===1?f=t[s++]:--f;if(p<u)break;var v=g&h;if(g>>=u,p-=u,v!==o){if(v===d)break;for(var N=v<x?v:S,A=0,L=N;L>o;)L=w[L]>>8,++A;var M=L;if(y+A+(N!==v?1:0)>l)return void oa.log("Warning, gif stream longer than expected.");r[y++]=M;var T=y+=A;for(N!==v&&(r[y++]=M),L=N;A--;)L=w[L],r[--T]=255&L,L>>=8;S!==null&&x<4096&&(w[x++]=S<<8|M,x>=h+1&&u<12&&(++u,h=h<<1|1)),S=v}else x=d+1,h=(1<<(u=i+1))-1,S=null}return y!==l&&oa.log("Warning, gif stream shorter than expected."),r}function of(t){var s,r,l,i,o,d=Math.floor,x=new Array(64),u=new Array(64),h=new Array(64),p=new Array(64),g=new Array(65535),y=new Array(65535),f=new Array(64),w=new Array(64),S=[],v=0,N=7,A=new Array(64),L=new Array(64),M=new Array(64),T=new Array(256),_=new Array(2048),I=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],B=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],W=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],H=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],$=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],le=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Q(q,Z){for(var ae=0,ue=0,he=new Array,be=1;be<=16;be++){for(var Me=1;Me<=q[be];Me++)he[Z[ue]]=[],he[Z[ue]][0]=ae,he[Z[ue]][1]=be,ue++,ae++;ae*=2}return he}function ne(q){for(var Z=q[0],ae=q[1]-1;ae>=0;)Z&1<<ae&&(v|=1<<N),ae--,--N<0&&(v==255?(F(255),F(0)):F(v),N=7,v=0)}function F(q){S.push(q)}function de(q){F(q>>8&255),F(255&q)}function ke(q,Z,ae,ue,he){for(var be,Me=he[0],Ne=he[240],Fe=(function(Ve,wt){var nt,kt,ft,Ge,Xt,gt,cs,rs,dt,Kt,jt=0;for(dt=0;dt<8;++dt){nt=Ve[jt],kt=Ve[jt+1],ft=Ve[jt+2],Ge=Ve[jt+3],Xt=Ve[jt+4],gt=Ve[jt+5],cs=Ve[jt+6];var Aa=nt+(rs=Ve[jt+7]),xs=nt-rs,Tt=kt+cs,Ut=kt-cs,us=ft+gt,Dt=ft-gt,Zs=Ge+Xt,Rt=Ge-Xt,$t=Aa+Zs,Hs=Aa-Zs,ls=Tt+us,Nt=Tt-us;Ve[jt]=$t+ls,Ve[jt+4]=$t-ls;var ks=.707106781*(Nt+Hs);Ve[jt+2]=Hs+ks,Ve[jt+6]=Hs-ks;var Xl=.382683433*(($t=Rt+Dt)-(Nt=Ut+xs)),yr=.5411961*$t+Xl,Sn=1.306562965*Nt+Xl,Nl=.707106781*(ls=Dt+Ut),At=xs+Nl,Zn=xs-Nl;Ve[jt+5]=Zn+yr,Ve[jt+3]=Zn-yr,Ve[jt+1]=At+Sn,Ve[jt+7]=At-Sn,jt+=8}for(jt=0,dt=0;dt<8;++dt){nt=Ve[jt],kt=Ve[jt+8],ft=Ve[jt+16],Ge=Ve[jt+24],Xt=Ve[jt+32],gt=Ve[jt+40],cs=Ve[jt+48];var Cn=nt+(rs=Ve[jt+56]),nl=nt-rs,il=kt+cs,ua=kt-cs,Pa=ft+gt,rr=ft-gt,Ti=Ge+Xt,Er=Ge-Xt,Ws=Cn+Ti,ma=Cn-Ti,jr=il+Pa,ol=il-Pa;Ve[jt]=Ws+jr,Ve[jt+32]=Ws-jr;var kl=.707106781*(ol+ma);Ve[jt+16]=ma+kl,Ve[jt+48]=ma-kl;var ro=.382683433*((Ws=Er+rr)-(ol=ua+nl)),Kl=.5411961*Ws+ro,Jl=1.306562965*ol+ro,_i=.707106781*(jr=rr+ua),Zl=nl+_i,Ql=nl-_i;Ve[jt+40]=Ql+Kl,Ve[jt+24]=Ql-Kl,Ve[jt+8]=Zl+Jl,Ve[jt+56]=Zl-Jl,jt++}for(dt=0;dt<64;++dt)Kt=Ve[dt]*wt[dt],f[dt]=Kt>0?Kt+.5|0:Kt-.5|0;return f})(q,Z),Xe=0;Xe<64;++Xe)w[I[Xe]]=Fe[Xe];var st=w[0]-ae;ae=w[0],st==0?ne(ue[0]):(ne(ue[y[be=32767+st]]),ne(g[be]));for(var et=63;et>0&&w[et]==0;)et--;if(et==0)return ne(Me),ae;for(var xe,se=1;se<=et;){for(var Ze=se;w[se]==0&&se<=et;)++se;var Ft=se-Ze;if(Ft>=16){xe=Ft>>4;for(var Ct=1;Ct<=xe;++Ct)ne(Ne);Ft&=15}be=32767+w[se],ne(he[(Ft<<4)+y[be]]),ne(g[be]),se++}return et!=63&&ne(Me),ae}function X(q){q=Math.min(Math.max(q,1),100),o!=q&&((function(Z){for(var ae=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ue=0;ue<64;ue++){var he=d((ae[ue]*Z+50)/100);he=Math.min(Math.max(he,1),255),x[I[ue]]=he}for(var be=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Me=0;Me<64;Me++){var Ne=d((be[Me]*Z+50)/100);Ne=Math.min(Math.max(Ne,1),255),u[I[Me]]=Ne}for(var Fe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Xe=0,st=0;st<8;st++)for(var et=0;et<8;et++)h[Xe]=1/(x[I[Xe]]*Fe[st]*Fe[et]*8),p[Xe]=1/(u[I[Xe]]*Fe[st]*Fe[et]*8),Xe++})(q<50?Math.floor(5e3/q):Math.floor(200-2*q)),o=q)}this.encode=function(q,Z){Z&&X(Z),S=new Array,v=0,N=7,de(65496),de(65504),de(16),F(74),F(70),F(73),F(70),F(0),F(1),F(1),F(0),de(1),de(1),F(0),F(0),(function(){de(65499),de(132),F(0);for(var kt=0;kt<64;kt++)F(x[kt]);F(1);for(var ft=0;ft<64;ft++)F(u[ft])})(),(function(kt,ft){de(65472),de(17),F(8),de(ft),de(kt),F(3),F(1),F(17),F(0),F(2),F(17),F(1),F(3),F(17),F(1)})(q.width,q.height),(function(){de(65476),de(418),F(0);for(var kt=0;kt<16;kt++)F(B[kt+1]);for(var ft=0;ft<=11;ft++)F(P[ft]);F(16);for(var Ge=0;Ge<16;Ge++)F(R[Ge+1]);for(var Xt=0;Xt<=161;Xt++)F(W[Xt]);F(1);for(var gt=0;gt<16;gt++)F(H[gt+1]);for(var cs=0;cs<=11;cs++)F($[cs]);F(17);for(var rs=0;rs<16;rs++)F(G[rs+1]);for(var dt=0;dt<=161;dt++)F(le[dt])})(),de(65498),de(12),F(3),F(1),F(0),F(2),F(17),F(3),F(17),F(0),F(63),F(0);var ae=0,ue=0,he=0;v=0,N=7,this.encode.displayName="_encode_";for(var be,Me,Ne,Fe,Xe,st,et,xe,se,Ze=q.data,Ft=q.width,Ct=q.height,Ve=4*Ft,wt=0;wt<Ct;){for(be=0;be<Ve;){for(Xe=Ve*wt+be,et=-1,xe=0,se=0;se<64;se++)st=Xe+(xe=se>>3)*Ve+(et=4*(7&se)),wt+xe>=Ct&&(st-=Ve*(wt+1+xe-Ct)),be+et>=Ve&&(st-=be+et-Ve+4),Me=Ze[st++],Ne=Ze[st++],Fe=Ze[st++],A[se]=(_[Me]+_[Ne+256|0]+_[Fe+512|0]>>16)-128,L[se]=(_[Me+768|0]+_[Ne+1024|0]+_[Fe+1280|0]>>16)-128,M[se]=(_[Me+1280|0]+_[Ne+1536|0]+_[Fe+1792|0]>>16)-128;ae=ke(A,h,ae,s,l),ue=ke(L,p,ue,r,i),he=ke(M,p,he,r,i),be+=32}wt+=8}if(N>=0){var nt=[];nt[1]=N+1,nt[0]=(1<<N+1)-1,ne(nt)}return de(65497),new Uint8Array(S)},t=t||50,(function(){for(var q=String.fromCharCode,Z=0;Z<256;Z++)T[Z]=q(Z)})(),s=Q(B,P),r=Q(H,$),l=Q(R,W),i=Q(G,le),(function(){for(var q=1,Z=2,ae=1;ae<=15;ae++){for(var ue=q;ue<Z;ue++)y[32767+ue]=ae,g[32767+ue]=[],g[32767+ue][1]=ae,g[32767+ue][0]=ue;for(var he=-(Z-1);he<=-q;he++)y[32767+he]=ae,g[32767+he]=[],g[32767+he][1]=ae,g[32767+he][0]=Z-1+he;q<<=1,Z<<=1}})(),(function(){for(var q=0;q<256;q++)_[q]=19595*q,_[q+256|0]=38470*q,_[q+512|0]=7471*q+32768,_[q+768|0]=-11059*q,_[q+1024|0]=-21709*q,_[q+1280|0]=32768*q+8421375,_[q+1536|0]=-27439*q,_[q+1792|0]=-5329*q})(),X(t)}function Ci(t,s){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!s,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function v2(t){function s(P){if(!P)throw Error("assert :P")}function r(P,R,W){for(var H=0;4>H;H++)if(P[R+H]!=W.charCodeAt(H))return!0;return!1}function l(P,R,W,H,$){for(var G=0;G<$;G++)P[R+G]=W[H+G]}function i(P,R,W,H){for(var $=0;$<H;$++)P[R+$]=W}function o(P){return new Int32Array(P)}function d(P,R){for(var W=[],H=0;H<P;H++)W.push(new R);return W}function x(P,R){var W=[];return(function H($,G,le){for(var Q=le[G],ne=0;ne<Q&&($.push(le.length>G+1?[]:new R),!(le.length<G+1));ne++)H($[ne],G+1,le)})(W,0,P),W}var u=function(){var P=this;function R(b,C){for(var E=1<<C-1>>>0;b&E;)E>>>=1;return E?(b&E-1)+E:b}function W(b,C,E,O,Y){s(!(O%E));do b[C+(O-=E)]=Y;while(0<O)}function H(b,C,E,O,Y){if(s(2328>=Y),512>=Y)var K=o(512);else if((K=o(Y))==null)return 0;return(function(J,te,re,oe,fe,Ae){var ie,ve,Se=te,Oe=1<<re,Ce=o(16),Re=o(16);for(s(fe!=0),s(oe!=null),s(J!=null),s(0<re),ve=0;ve<fe;++ve){if(15<oe[ve])return 0;++Ce[oe[ve]]}if(Ce[0]==fe)return 0;for(Re[1]=0,ie=1;15>ie;++ie){if(Ce[ie]>1<<ie)return 0;Re[ie+1]=Re[ie]+Ce[ie]}for(ve=0;ve<fe;++ve)ie=oe[ve],0<oe[ve]&&(Ae[Re[ie]++]=ve);if(Re[15]==1)return(oe=new $).g=0,oe.value=Ae[0],W(J,Se,1,Oe,oe),Oe;var Ue,Ke=-1,He=Oe-1,mt=0,it=1,Vt=1,xt=1<<re;for(ve=0,ie=1,fe=2;ie<=re;++ie,fe<<=1){if(it+=Vt<<=1,0>(Vt-=Ce[ie]))return 0;for(;0<Ce[ie];--Ce[ie])(oe=new $).g=ie,oe.value=Ae[ve++],W(J,Se+mt,fe,xt,oe),mt=R(mt,ie)}for(ie=re+1,fe=2;15>=ie;++ie,fe<<=1){if(it+=Vt<<=1,0>(Vt-=Ce[ie]))return 0;for(;0<Ce[ie];--Ce[ie]){if(oe=new $,(mt&He)!=Ke){for(Se+=xt,Ue=1<<(Ke=ie)-re;15>Ke&&!(0>=(Ue-=Ce[Ke]));)++Ke,Ue<<=1;Oe+=xt=1<<(Ue=Ke-re),J[te+(Ke=mt&He)].g=Ue+re,J[te+Ke].value=Se-te-Ke}oe.g=ie-re,oe.value=Ae[ve++],W(J,Se+(mt>>re),fe,xt,oe),mt=R(mt,ie)}}return it!=2*Re[15]-1?0:Oe})(b,C,E,O,Y,K)}function $(){this.value=this.g=0}function G(){this.value=this.g=0}function le(){this.G=d(5,$),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=d(Bi,G)}function Q(b,C,E,O){s(b!=null),s(C!=null),s(2147483648>O),b.Ca=254,b.I=0,b.b=-8,b.Ka=0,b.oa=C,b.pa=E,b.Jd=C,b.Yc=E+O,b.Zc=4<=O?E+O-4+1:E,Me(b)}function ne(b,C){for(var E=0;0<C--;)E|=Fe(b,128)<<C;return E}function F(b,C){var E=ne(b,C);return Ne(b)?-E:E}function de(b,C,E,O){var Y,K=0;for(s(b!=null),s(C!=null),s(4294967288>O),b.Sb=O,b.Ra=0,b.u=0,b.h=0,4<O&&(O=4),Y=0;Y<O;++Y)K+=C[E+Y]<<8*Y;b.Ra=K,b.bb=O,b.oa=C,b.pa=E}function ke(b){for(;8<=b.u&&b.bb<b.Sb;)b.Ra>>>=8,b.Ra+=b.oa[b.pa+b.bb]<<Tn-8>>>0,++b.bb,b.u-=8;ue(b)&&(b.h=1,b.u=0)}function X(b,C){if(s(0<=C),!b.h&&C<=Rr){var E=ae(b)&Vr[C];return b.u+=C,ke(b),E}return b.h=1,b.u=0}function q(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Z(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ae(b){return b.Ra>>>(b.u&Tn-1)>>>0}function ue(b){return s(b.bb<=b.Sb),b.h||b.bb==b.Sb&&b.u>Tn}function he(b,C){b.u=C,b.h=ue(b)}function be(b){b.u>=_n&&(s(b.u>=_n),ke(b))}function Me(b){s(b!=null&&b.oa!=null),b.pa<b.Zc?(b.I=(b.oa[b.pa++]|b.I<<8)>>>0,b.b+=8):(s(b!=null&&b.oa!=null),b.pa<b.Yc?(b.b+=8,b.I=b.oa[b.pa++]|b.I<<8):b.Ka?b.b=0:(b.I<<=8,b.b+=8,b.Ka=1))}function Ne(b){return ne(b,1)}function Fe(b,C){var E=b.Ca;0>b.b&&Me(b);var O=b.b,Y=E*C>>>8,K=(b.I>>>O>Y)+0;for(K?(E-=Y,b.I-=Y+1<<O>>>0):E=Y+1,O=E,Y=0;256<=O;)Y+=8,O>>=8;return O=7^Y+hi[O],b.b-=O,b.Ca=(E<<O)-1,K}function Xe(b,C,E){b[C+0]=E>>24&255,b[C+1]=E>>16&255,b[C+2]=E>>8&255,b[C+3]=255&E}function st(b,C){return b[C+0]|b[C+1]<<8}function et(b,C){return st(b,C)|b[C+2]<<16}function xe(b,C){return st(b,C)|st(b,C+2)<<16}function se(b,C){var E=1<<C;return s(b!=null),s(0<C),b.X=o(E),b.X==null?0:(b.Mb=32-C,b.Xa=C,1)}function Ze(b,C){s(b!=null),s(C!=null),s(b.Xa==C.Xa),l(C.X,0,b.X,0,1<<C.Xa)}function Ft(){this.X=[],this.Xa=this.Mb=0}function Ct(b,C,E,O){s(E!=null),s(O!=null);var Y=E[0],K=O[0];return Y==0&&(Y=(b*K+C/2)/C),K==0&&(K=(C*Y+b/2)/b),0>=Y||0>=K?0:(E[0]=Y,O[0]=K,1)}function Ve(b,C){return b+(1<<C)-1>>>C}function wt(b,C){return((4278255360&b)+(4278255360&C)>>>0&4278255360)+((16711935&b)+(16711935&C)>>>0&16711935)>>>0}function nt(b,C){P[C]=function(E,O,Y,K,J,te,re){var oe;for(oe=0;oe<J;++oe){var fe=P[b](te[re+oe-1],Y,K+oe);te[re+oe]=wt(E[O+oe],fe)}}}function kt(){this.ud=this.hd=this.jd=0}function ft(b,C){return((4278124286&(b^C))>>>1)+(b&C)>>>0}function Ge(b){return 0<=b&&256>b?b:0>b?0:255<b?255:void 0}function Xt(b,C){return Ge(b+(b-C+.5>>1))}function gt(b,C,E){return Math.abs(C-E)-Math.abs(b-E)}function cs(b,C,E,O,Y,K,J){for(O=K[J-1],E=0;E<Y;++E)K[J+E]=O=wt(b[C+E],O)}function rs(b,C,E,O,Y){var K;for(K=0;K<E;++K){var J=b[C+K],te=J>>8&255,re=16711935&(re=(re=16711935&J)+((te<<16)+te));O[Y+K]=(4278255360&J)+re>>>0}}function dt(b,C){C.jd=255&b,C.hd=b>>8&255,C.ud=b>>16&255}function Kt(b,C,E,O,Y,K){var J;for(J=0;J<O;++J){var te=C[E+J],re=te>>>8,oe=te,fe=255&(fe=(fe=te>>>16)+((b.jd<<24>>24)*(re<<24>>24)>>>5));oe=255&(oe=(oe+=(b.hd<<24>>24)*(re<<24>>24)>>>5)+((b.ud<<24>>24)*(fe<<24>>24)>>>5)),Y[K+J]=(4278255360&te)+(fe<<16)+oe}}function jt(b,C,E,O,Y){P[C]=function(K,J,te,re,oe,fe,Ae,ie,ve){for(re=Ae;re<ie;++re)for(Ae=0;Ae<ve;++Ae)oe[fe++]=Y(te[O(K[J++])])},P[b]=function(K,J,te,re,oe,fe,Ae){var ie=8>>K.b,ve=K.Ea,Se=K.K[0],Oe=K.w;if(8>ie)for(K=(1<<K.b)-1,Oe=(1<<ie)-1;J<te;++J){var Ce,Re=0;for(Ce=0;Ce<ve;++Ce)Ce&K||(Re=O(re[oe++])),fe[Ae++]=Y(Se[Re&Oe]),Re>>=ie}else P["VP8LMapColor"+E](re,oe,Se,Oe,fe,Ae,J,te,ve)}}function Aa(b,C,E,O,Y){for(E=C+E;C<E;){var K=b[C++];O[Y++]=K>>16&255,O[Y++]=K>>8&255,O[Y++]=255&K}}function xs(b,C,E,O,Y){for(E=C+E;C<E;){var K=b[C++];O[Y++]=K>>16&255,O[Y++]=K>>8&255,O[Y++]=255&K,O[Y++]=K>>24&255}}function Tt(b,C,E,O,Y){for(E=C+E;C<E;){var K=(J=b[C++])>>16&240|J>>12&15,J=240&J|J>>28&15;O[Y++]=K,O[Y++]=J}}function Ut(b,C,E,O,Y){for(E=C+E;C<E;){var K=(J=b[C++])>>16&248|J>>13&7,J=J>>5&224|J>>3&31;O[Y++]=K,O[Y++]=J}}function us(b,C,E,O,Y){for(E=C+E;C<E;){var K=b[C++];O[Y++]=255&K,O[Y++]=K>>8&255,O[Y++]=K>>16&255}}function Dt(b,C,E,O,Y,K){if(K==0)for(E=C+E;C<E;)Xe(O,((K=b[C++])[0]>>24|K[1]>>8&65280|K[2]<<8&16711680|K[3]<<24)>>>0),Y+=32;else l(O,Y,b,C,E)}function Zs(b,C){P[C][0]=P[b+"0"],P[C][1]=P[b+"1"],P[C][2]=P[b+"2"],P[C][3]=P[b+"3"],P[C][4]=P[b+"4"],P[C][5]=P[b+"5"],P[C][6]=P[b+"6"],P[C][7]=P[b+"7"],P[C][8]=P[b+"8"],P[C][9]=P[b+"9"],P[C][10]=P[b+"10"],P[C][11]=P[b+"11"],P[C][12]=P[b+"12"],P[C][13]=P[b+"13"],P[C][14]=P[b+"0"],P[C][15]=P[b+"0"]}function Rt(b){return b==nd||b==Yd||b==ac||b==Xd}function $t(){this.eb=[],this.size=this.A=this.fb=0}function Hs(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ls(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new $t,this.f.kb=new Hs,this.sd=null}function Nt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ks(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Xl(b){return alert("todo:WebPSamplerProcessPlane"),b.T}function yr(b,C){var E=b.T,O=C.ba.f.RGBA,Y=O.eb,K=O.fb+b.ka*O.A,J=fr[C.ba.S],te=b.y,re=b.O,oe=b.f,fe=b.N,Ae=b.ea,ie=b.W,ve=C.cc,Se=C.dc,Oe=C.Mc,Ce=C.Nc,Re=b.ka,Ue=b.ka+b.T,Ke=b.U,He=Ke+1>>1;for(Re==0?J(te,re,null,null,oe,fe,Ae,ie,oe,fe,Ae,ie,Y,K,null,null,Ke):(J(C.ec,C.fc,te,re,ve,Se,Oe,Ce,oe,fe,Ae,ie,Y,K-O.A,Y,K,Ke),++E);Re+2<Ue;Re+=2)ve=oe,Se=fe,Oe=Ae,Ce=ie,fe+=b.Rc,ie+=b.Rc,K+=2*O.A,J(te,(re+=2*b.fa)-b.fa,te,re,ve,Se,Oe,Ce,oe,fe,Ae,ie,Y,K-O.A,Y,K,Ke);return re+=b.fa,b.j+Ue<b.o?(l(C.ec,C.fc,te,re,Ke),l(C.cc,C.dc,oe,fe,He),l(C.Mc,C.Nc,Ae,ie,He),E--):1&Ue||J(te,re,null,null,oe,fe,Ae,ie,oe,fe,Ae,ie,Y,K+O.A,null,null,Ke),E}function Sn(b,C,E){var O=b.F,Y=[b.J];if(O!=null){var K=b.U,J=C.ba.S,te=J==ld||J==ac;C=C.ba.f.RGBA;var re=[0],oe=b.ka;re[0]=b.T,b.Kb&&(oe==0?--re[0]:(--oe,Y[0]-=b.width),b.j+b.ka+b.T==b.o&&(re[0]=b.o-b.j-oe));var fe=C.eb;oe=C.fb+oe*C.A,b=td(O,Y[0],b.width,K,re,fe,oe+(te?0:3),C.A),s(E==re),b&&Rt(J)&&fo(fe,oe,te,K,re,C.A)}return 0}function Nl(b){var C=b.ma,E=C.ba.S,O=11>E,Y=E==kr||E==Dl||E==ld||E==sc||E==12||Rt(E);if(C.memory=null,C.Ib=null,C.Jb=null,C.Nd=null,!ui(C.Oa,b,Y?11:12))return 0;if(Y&&Rt(E)&&Jc(),b.da)alert("todo:use_scaling");else{if(O){if(C.Ib=Xl,b.Kb){if(E=b.U+1>>1,C.memory=o(b.U+2*E),C.memory==null)return 0;C.ec=C.memory,C.fc=0,C.cc=C.ec,C.dc=C.fc+b.U,C.Mc=C.cc,C.Nc=C.dc+E,C.Ib=yr,Jc()}}else alert("todo:EmitYUV");Y&&(C.Jb=Sn,O&&rn())}if(O&&!Gi){for(b=0;256>b;++b)gr[b]=89858*(b-128)+nc>>Pl,im[b]=-22014*(b-128)+nc,fu[b]=-45773*(b-128),e0[b]=113618*(b-128)+nc>>Pl;for(b=yo;b<Wi;++b)C=76283*(b-16)+nc>>Pl,om[b-yo]=dl(C,255),cm[b-yo]=dl(C+8>>4,15);Gi=1}return 1}function At(b){var C=b.ma,E=b.U,O=b.T;return s(!(1&b.ka)),0>=E||0>=O?0:(E=C.Ib(b,C),C.Jb!=null&&C.Jb(b,C,E),C.Dc+=E,1)}function Zn(b){b.ma.memory=null}function Cn(b,C,E,O){return X(b,8)!=47?0:(C[0]=X(b,14)+1,E[0]=X(b,14)+1,O[0]=X(b,1),X(b,3)!=0?0:!b.h)}function nl(b,C){if(4>b)return b+1;var E=b-2>>1;return(2+(1&b)<<E)+X(C,E)+1}function il(b,C){return 120<C?C-120:1<=(E=((E=zl[C-1])>>4)*b+(8-(15&E)))?E:1;var E}function ua(b,C,E){var O=ae(E),Y=b[C+=255&O].g-8;return 0<Y&&(he(E,E.u+8),O=ae(E),C+=b[C].value,C+=O&(1<<Y)-1),he(E,E.u+b[C].g),b[C].value}function Pa(b,C,E){return E.g+=b.g,E.value+=b.value<<C>>>0,s(8>=E.g),b.g}function rr(b,C,E){var O=b.xc;return s((C=O==0?0:b.vc[b.md*(E>>O)+(C>>O)])<b.Wb),b.Ya[C]}function Ti(b,C,E,O){var Y=b.ab,K=b.c*C,J=b.C;C=J+C;var te=E,re=O;for(O=b.Ta,E=b.Ua;0<Y--;){var oe=b.gc[Y],fe=J,Ae=C,ie=te,ve=re,Se=(re=O,te=E,oe.Ea);switch(s(fe<Ae),s(Ae<=oe.nc),oe.hc){case 2:La(ie,ve,(Ae-fe)*Se,re,te);break;case 0:var Oe=fe,Ce=Ae,Re=re,Ue=te,Ke=(xt=oe).Ea;Oe==0&&(Zo(ie,ve,null,null,1,Re,Ue),cs(ie,ve+1,0,0,Ke-1,Re,Ue+1),ve+=Ke,Ue+=Ke,++Oe);for(var He=1<<xt.b,mt=He-1,it=Ve(Ke,xt.b),Vt=xt.K,xt=xt.w+(Oe>>xt.b)*it;Oe<Ce;){var hs=Vt,na=xt,Zt=1;for(Qo(ie,ve,Re,Ue-Ke,1,Re,Ue);Zt<Ke;){var ot=(Zt&~mt)+He;ot>Ke&&(ot=Ke),(0,mi[hs[na++]>>8&15])(ie,ve+ +Zt,Re,Ue+Zt-Ke,ot-Zt,Re,Ue+Zt),Zt=ot}ve+=Ke,Ue+=Ke,++Oe&mt||(xt+=it)}Ae!=oe.nc&&l(re,te-Se,re,te+(Ae-fe-1)*Se,Se);break;case 1:for(Se=ie,Ce=ve,Ke=(ie=oe.Ea)-(Ue=ie&~(Re=(ve=1<<oe.b)-1)),Oe=Ve(ie,oe.b),He=oe.K,oe=oe.w+(fe>>oe.b)*Oe;fe<Ae;){for(mt=He,it=oe,Vt=new kt,xt=Ce+Ue,hs=Ce+ie;Ce<xt;)dt(mt[it++],Vt),ec(Vt,Se,Ce,ve,re,te),Ce+=ve,te+=ve;Ce<hs&&(dt(mt[it++],Vt),ec(Vt,Se,Ce,Ke,re,te),Ce+=Ke,te+=Ke),++fe&Re||(oe+=Oe)}break;case 3:if(ie==re&&ve==te&&0<oe.b){for(Ce=re,ie=Se=te+(Ae-fe)*Se-(Ue=(Ae-fe)*Ve(oe.Ea,oe.b)),ve=re,Re=te,Oe=[],Ue=(Ke=Ue)-1;0<=Ue;--Ue)Oe[Ue]=ve[Re+Ue];for(Ue=Ke-1;0<=Ue;--Ue)Ce[ie+Ue]=Oe[Ue];qd(oe,fe,Ae,re,Se,re,te)}else qd(oe,fe,Ae,ie,ve,re,te)}te=O,re=E}re!=E&&l(O,E,te,re,K)}function Er(b,C){var E=b.V,O=b.Ba+b.c*b.C,Y=C-b.C;if(s(C<=b.l.o),s(16>=Y),0<Y){var K=b.l,J=b.Ta,te=b.Ua,re=K.width;if(Ti(b,Y,E,O),Y=te=[te],s((E=b.C)<(O=C)),s(K.v<K.va),O>K.o&&(O=K.o),E<K.j){var oe=K.j-E;E=K.j,Y[0]+=oe*re}if(E>=O?E=0:(Y[0]+=4*K.v,K.ka=E-K.j,K.U=K.va-K.v,K.T=O-E,E=1),E){if(te=te[0],11>(E=b.ca).S){var fe=E.f.RGBA,Ae=(O=E.S,Y=K.U,K=K.T,oe=fe.eb,fe.A),ie=K;for(fe=fe.fb+b.Ma*fe.A;0<ie--;){var ve=J,Se=te,Oe=Y,Ce=oe,Re=fe;switch(O){case Gd:tc(ve,Se,Oe,Ce,Re);break;case kr:pi(ve,Se,Oe,Ce,Re);break;case nd:pi(ve,Se,Oe,Ce,Re),fo(Ce,Re,0,Oe,1,0);break;case Vd:mo(ve,Se,Oe,Ce,Re);break;case Dl:Dt(ve,Se,Oe,Ce,Re,1);break;case Yd:Dt(ve,Se,Oe,Ce,Re,1),fo(Ce,Re,0,Oe,1,0);break;case ld:Dt(ve,Se,Oe,Ce,Re,0);break;case ac:Dt(ve,Se,Oe,Ce,Re,0),fo(Ce,Re,1,Oe,1,0);break;case sc:fi(ve,Se,Oe,Ce,Re);break;case Xd:fi(ve,Se,Oe,Ce,Re),Ml(Ce,Re,Oe,1,0);break;case Ii:On(ve,Se,Oe,Ce,Re);break;default:s(0)}te+=re,fe+=Ae}b.Ma+=K}else alert("todo:EmitRescaledRowsYUVA");s(b.Ma<=E.height)}}b.C=C,s(b.C<=b.i)}function Ws(b){var C;if(0<b.ua)return 0;for(C=0;C<b.Wb;++C){var E=b.Ya[C].G,O=b.Ya[C].H;if(0<E[1][O[1]+0].g||0<E[2][O[2]+0].g||0<E[3][O[3]+0].g)return 0}return 1}function ma(b,C,E,O,Y,K){if(b.Z!=0){var J=b.qd,te=b.rd;for(s(vi[b.Z]!=null);C<E;++C)vi[b.Z](J,te,O,Y,O,Y,K),J=O,te=Y,Y+=K;b.qd=J,b.rd=te}}function jr(b,C){var E=b.l.ma,O=E.Z==0||E.Z==1?b.l.j:b.C;if(O=b.C<O?O:b.C,s(C<=b.l.o),C>O){var Y=b.l.width,K=E.ca,J=E.tb+Y*O,te=b.V,re=b.Ba+b.c*O,oe=b.gc;s(b.ab==1),s(oe[0].hc==3),Rn(oe[0],O,C,te,re,K,J),ma(E,O,C,K,J,Y)}b.C=b.Ma=C}function ol(b,C,E,O,Y,K,J){var te=b.$/O,re=b.$%O,oe=b.m,fe=b.s,Ae=E+b.$,ie=Ae;Y=E+O*Y;var ve=E+O*K,Se=280+fe.ua,Oe=b.Pb?te:16777216,Ce=0<fe.ua?fe.Wa:null,Re=fe.wc,Ue=Ae<ve?rr(fe,re,te):null;s(b.C<K),s(ve<=Y);var Ke=!1;e:for(;;){for(;Ke||Ae<ve;){var He=0;if(te>=Oe){var mt=Ae-E;s((Oe=b).Pb),Oe.wd=Oe.m,Oe.xd=mt,0<Oe.s.ua&&Ze(Oe.s.Wa,Oe.s.vb),Oe=te+Ui}if(re&Re||(Ue=rr(fe,re,te)),s(Ue!=null),Ue.Qb&&(C[Ae]=Ue.qb,Ke=!0),!Ke)if(be(oe),Ue.jc){He=oe,mt=C;var it=Ae,Vt=Ue.pd[ae(He)&Bi-1];s(Ue.jc),256>Vt.g?(he(He,He.u+Vt.g),mt[it]=Vt.value,He=0):(he(He,He.u+Vt.g-256),s(256<=Vt.value),He=Vt.value),He==0&&(Ke=!0)}else He=ua(Ue.G[0],Ue.H[0],oe);if(oe.h)break;if(Ke||256>He){if(!Ke)if(Ue.nd)C[Ae]=(Ue.qb|He<<8)>>>0;else{if(be(oe),Ke=ua(Ue.G[1],Ue.H[1],oe),be(oe),mt=ua(Ue.G[2],Ue.H[2],oe),it=ua(Ue.G[3],Ue.H[3],oe),oe.h)break;C[Ae]=(it<<24|Ke<<16|He<<8|mt)>>>0}if(Ke=!1,++Ae,++re>=O&&(re=0,++te,J!=null&&te<=K&&!(te%16)&&J(b,te),Ce!=null))for(;ie<Ae;)He=C[ie++],Ce.X[(506832829*He&4294967295)>>>Ce.Mb]=He}else if(280>He){if(He=nl(He-256,oe),mt=ua(Ue.G[4],Ue.H[4],oe),be(oe),mt=il(O,mt=nl(mt,oe)),oe.h)break;if(Ae-E<mt||Y-Ae<He)break e;for(it=0;it<He;++it)C[Ae+it]=C[Ae+it-mt];for(Ae+=He,re+=He;re>=O;)re-=O,++te,J!=null&&te<=K&&!(te%16)&&J(b,te);if(s(Ae<=Y),re&Re&&(Ue=rr(fe,re,te)),Ce!=null)for(;ie<Ae;)He=C[ie++],Ce.X[(506832829*He&4294967295)>>>Ce.Mb]=He}else{if(!(He<Se))break e;for(Ke=He-280,s(Ce!=null);ie<Ae;)He=C[ie++],Ce.X[(506832829*He&4294967295)>>>Ce.Mb]=He;He=Ae,s(!(Ke>>>(mt=Ce).Xa)),C[He]=mt.X[Ke],Ke=!0}Ke||s(oe.h==ue(oe))}if(b.Pb&&oe.h&&Ae<Y)s(b.m.h),b.a=5,b.m=b.wd,b.$=b.xd,0<b.s.ua&&Ze(b.s.vb,b.s.Wa);else{if(oe.h)break e;J?.(b,te>K?K:te),b.a=0,b.$=Ae-E}return 1}return b.a=3,0}function kl(b){s(b!=null),b.vc=null,b.yc=null,b.Ya=null;var C=b.Wa;C!=null&&(C.X=null),b.vb=null,s(b!=null)}function ro(){var b=new Bt;return b==null?null:(b.a=0,b.xb=sx,Zs("Predictor","VP8LPredictors"),Zs("Predictor","VP8LPredictors_C"),Zs("PredictorAdd","VP8LPredictorsAdd"),Zs("PredictorAdd","VP8LPredictorsAdd_C"),La=rs,ec=Kt,tc=Aa,pi=xs,fi=Tt,On=Ut,mo=us,P.VP8LMapColor32b=Pn,P.VP8LMapColor8b=hr,b)}function Kl(b,C,E,O,Y){var K=1,J=[b],te=[C],re=O.m,oe=O.s,fe=null,Ae=0;e:for(;;){if(E)for(;K&&X(re,1);){var ie=J,ve=te,Se=O,Oe=1,Ce=Se.m,Re=Se.gc[Se.ab],Ue=X(Ce,2);if(Se.Oc&1<<Ue)K=0;else{switch(Se.Oc|=1<<Ue,Re.hc=Ue,Re.Ea=ie[0],Re.nc=ve[0],Re.K=[null],++Se.ab,s(4>=Se.ab),Ue){case 0:case 1:Re.b=X(Ce,3)+2,Oe=Kl(Ve(Re.Ea,Re.b),Ve(Re.nc,Re.b),0,Se,Re.K),Re.K=Re.K[0];break;case 3:var Ke,He=X(Ce,8)+1,mt=16<He?0:4<He?1:2<He?2:3;if(ie[0]=Ve(Re.Ea,mt),Re.b=mt,Ke=Oe=Kl(He,1,0,Se,Re.K)){var it,Vt=He,xt=Re,hs=1<<(8>>xt.b),na=o(hs);if(na==null)Ke=0;else{var Zt=xt.K[0],ot=xt.w;for(na[0]=xt.K[0][0],it=1;it<1*Vt;++it)na[it]=wt(Zt[ot+it],na[it-1]);for(;it<4*hs;++it)na[it]=0;xt.K[0]=null,xt.K[0]=na,Ke=1}}Oe=Ke;break;case 2:break;default:s(0)}K=Oe}}if(J=J[0],te=te[0],K&&X(re,1)&&!(K=1<=(Ae=X(re,4))&&11>=Ae)){O.a=3;break e}var tt;if(tt=K)t:{var fa,Pt,ns,Bs=O,Xa=J,br=te,ta=Ae,Fa=E,Sr=Bs.m,Ba=Bs.s,ds=[null],Ds=1,ga=0,_s=El[ta];s:for(;;){if(Fa&&X(Sr,1)){var Ka=X(Sr,3)+2,ba=Ve(Xa,Ka),Ls=Ve(br,Ka),Ta=ba*Ls;if(!Kl(ba,Ls,0,Bs,ds))break s;for(ds=ds[0],Ba.xc=Ka,fa=0;fa<Ta;++fa){var Is=ds[fa]>>8&65535;ds[fa]=Is,Is>=Ds&&(Ds=Is+1)}}if(Sr.h)break s;for(Pt=0;5>Pt;++Pt){var Ia=bo[Pt];!Pt&&0<ta&&(Ia+=1<<ta),ga<Ia&&(ga=Ia)}var Ua=d(Ds*_s,$),Gs=Ds,As=d(Gs,le);if(As==null)var Cr=null;else s(65536>=Gs),Cr=As;var wa=o(ga);if(Cr==null||wa==null||Ua==null){Bs.a=1;break s}var Mt=Ua;for(fa=ns=0;fa<Ds;++fa){var Lt=Cr[fa],zs=Lt.G,Yr=Lt.H,Rl=0,Fr=1,$a=0;for(Pt=0;5>Pt;++Pt){Ia=bo[Pt],zs[Pt]=Mt,Yr[Pt]=ns,!Pt&&0<ta&&(Ia+=1<<ta);r:{var Vi,Yi=Ia,s0=Bs,sa=wa,rx=Mt,lx=ns,a0=0,yi=s0.m,dm=X(yi,1);if(i(sa,0,0,Yi),dm){var nx=X(yi,1)+1,ix=X(yi,1),r0=X(yi,ix==0?1:8);sa[r0]=1,nx==2&&(sa[r0=X(yi,8)]=1);var ir=1}else{var Na=o(19),dd=X(yi,4)+4;if(19<dd){s0.a=3;var Xi=0;break r}for(Vi=0;Vi<dd;++Vi)Na[id[Vi]]=X(yi,3);var oc=void 0,jo=void 0,In=s0,l0=Na,cc=Yi,n0=sa,i0=0,ji=In.m,ox=8,cx=d(128,$);a:for(;H(cx,0,7,l0,19);){if(X(ji,1)){var gu=2+2*X(ji,3);if((oc=2+X(ji,gu))>cc)break a}else oc=cc;for(jo=0;jo<cc&&oc--;){be(ji);var dx=cx[0+(127&ae(ji))];he(ji,ji.u+dx.g);var Ki=dx.value;if(16>Ki)n0[jo++]=Ki,Ki!=0&&(ox=Ki);else{var bu=Ki==16,vu=Ki-16,yu=rc[vu],xx=X(ji,Ll[vu])+yu;if(jo+xx>cc)break a;for(var ju=bu?ox:0;0<xx--;)n0[jo++]=ju}}i0=1;break a}i0||(In.a=3),ir=i0}(ir=ir&&!yi.h)&&(a0=H(rx,lx,8,sa,Yi)),ir&&a0!=0?Xi=a0:(s0.a=3,Xi=0)}if(Xi==0)break s;if(Fr&&Kd[Pt]==1&&(Fr=Mt[ns].g==0),Rl+=Mt[ns].g,ns+=Xi,3>=Pt){var wo,o0=wa[0];for(wo=1;wo<Ia;++wo)wa[wo]>o0&&(o0=wa[wo]);$a+=o0}}if(Lt.nd=Fr,Lt.Qb=0,Fr&&(Lt.qb=(zs[3][Yr[3]+0].value<<24|zs[1][Yr[1]+0].value<<16|zs[2][Yr[2]+0].value)>>>0,Rl==0&&256>zs[0][Yr[0]+0].value&&(Lt.Qb=1,Lt.qb+=zs[0][Yr[0]+0].value<<8)),Lt.jc=!Lt.Qb&&6>$a,Lt.jc){var xd,Un=Lt;for(xd=0;xd<Bi;++xd){var wi=xd,Ni=Un.pd[wi],c0=Un.G[0][Un.H[0]+wi];256<=c0.value?(Ni.g=c0.g+256,Ni.value=c0.value):(Ni.g=0,Ni.value=0,wi>>=Pa(c0,8,Ni),wi>>=Pa(Un.G[1][Un.H[1]+wi],16,Ni),wi>>=Pa(Un.G[2][Un.H[2]+wi],0,Ni),Pa(Un.G[3][Un.H[3]+wi],24,Ni))}}}Ba.vc=ds,Ba.Wb=Ds,Ba.Ya=Cr,Ba.yc=Ua,tt=1;break t}tt=0}if(!(K=tt)){O.a=3;break e}if(0<Ae){if(oe.ua=1<<Ae,!se(oe.Wa,Ae)){O.a=1,K=0;break e}}else oe.ua=0;var d0=O,No=J,wu=te,dc=d0.s,xc=dc.xc;if(d0.c=No,d0.i=wu,dc.md=Ve(No,xc),dc.wc=xc==0?-1:(1<<xc)-1,E){O.xb=$i;break e}if((fe=o(J*te))==null){O.a=1,K=0;break e}K=(K=ol(O,fe,0,J,te,te,null))&&!re.h;break e}return K?(Y!=null?Y[0]=fe:(s(fe==null),s(E)),O.$=0,E||kl(oe)):kl(oe),K}function Jl(b,C){var E=b.c*b.i,O=E+C+16*C;return s(b.c<=C),b.V=o(O),b.V==null?(b.Ta=null,b.Ua=0,b.a=1,0):(b.Ta=b.V,b.Ua=b.Ba+E+C,1)}function _i(b,C){var E=b.C,O=C-E,Y=b.V,K=b.Ba+b.c*E;for(s(C<=b.l.o);0<O;){var J=16<O?16:O,te=b.l.ma,re=b.l.width,oe=re*J,fe=te.ca,Ae=te.tb+re*E,ie=b.Ta,ve=b.Ua;Ti(b,J,Y,K),pl(ie,ve,fe,Ae,oe),ma(te,E,E+J,fe,Ae,re),O-=J,Y+=J*b.c,E+=J}s(E==C),b.C=b.Ma=C}function Zl(){this.ub=this.yd=this.td=this.Rb=0}function Ql(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function lo(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function An(){this.Yb=(function(){var b=[];return(function C(E,O,Y){for(var K=Y[O],J=0;J<K&&(E.push(Y.length>O+1?[]:0),!(Y.length<O+1));J++)C(E[J],O+1,Y)})(b,0,[3,11]),b})()}function Ma(){this.jb=o(3),this.Wc=x([4,8],An),this.Xc=x([4,17],An)}function Oc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function cl(){this.ld=this.La=this.dd=this.tc=0}function en(){this.Na=this.la=0}function Qn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Fc(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Bc(){this.uc=this.M=this.Nb=0,this.wa=Array(new cl),this.Y=0,this.ya=Array(new Fc),this.aa=0,this.l=new ei}function Ic(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Td(){this.cb=this.a=0,this.sc="",this.m=new q,this.Od=new Zl,this.Kc=new Ql,this.ed=new Oc,this.Qa=new lo,this.Ic=this.$c=this.Aa=0,this.D=new Bc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=d(8,q),this.ia=0,this.pb=d(4,Qn),this.Pa=new Ma,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ic),this.Hd=0,this.rb=Array(new en),this.sb=0,this.wa=Array(new cl),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Fc),this.L=this.aa=0,this.gd=x([4,2],cl),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function dl(b,C){return 0>b?0:b>C?C:b}function ei(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function tn(){var b=new Td;return b!=null&&(b.a=0,b.sc="OK",b.cb=0,b.Xb=0,fl||(fl=Pi)),b}function Es(b,C,E){return b.a==0&&(b.a=C,b.sc=E,b.cb=0),0}function Uc(b,C,E){return 3<=E&&b[C+0]==157&&b[C+1]==1&&b[C+2]==42}function Mn(b,C){if(b==null)return 0;if(b.a=0,b.sc="OK",C==null)return Es(b,2,"null VP8Io passed to VP8GetHeaders()");var E=C.data,O=C.w,Y=C.ha;if(4>Y)return Es(b,7,"Truncated header.");var K=E[O+0]|E[O+1]<<8|E[O+2]<<16,J=b.Od;if(J.Rb=!(1&K),J.td=K>>1&7,J.yd=K>>4&1,J.ub=K>>5,3<J.td)return Es(b,3,"Incorrect keyframe parameters.");if(!J.yd)return Es(b,4,"Frame not displayable.");O+=3,Y-=3;var te=b.Kc;if(J.Rb){if(7>Y)return Es(b,7,"cannot parse picture header");if(!Uc(E,O,Y))return Es(b,3,"Bad code word");te.c=16383&(E[O+4]<<8|E[O+3]),te.Td=E[O+4]>>6,te.i=16383&(E[O+6]<<8|E[O+5]),te.Ud=E[O+6]>>6,O+=7,Y-=7,b.za=te.c+15>>4,b.Ub=te.i+15>>4,C.width=te.c,C.height=te.i,C.Da=0,C.j=0,C.v=0,C.va=C.width,C.o=C.height,C.da=0,C.ib=C.width,C.hb=C.height,C.U=C.width,C.T=C.height,i((K=b.Pa).jb,0,255,K.jb.length),s((K=b.Qa)!=null),K.Cb=0,K.Bb=0,K.Fb=1,i(K.Zb,0,0,K.Zb.length),i(K.Lb,0,0,K.Lb)}if(J.ub>Y)return Es(b,7,"bad partition length");Q(K=b.m,E,O,J.ub),O+=J.ub,Y-=J.ub,J.Rb&&(te.Ld=Ne(K),te.Kd=Ne(K)),te=b.Qa;var re,oe=b.Pa;if(s(K!=null),s(te!=null),te.Cb=Ne(K),te.Cb){if(te.Bb=Ne(K),Ne(K)){for(te.Fb=Ne(K),re=0;4>re;++re)te.Zb[re]=Ne(K)?F(K,7):0;for(re=0;4>re;++re)te.Lb[re]=Ne(K)?F(K,6):0}if(te.Bb)for(re=0;3>re;++re)oe.jb[re]=Ne(K)?ne(K,8):255}else te.Bb=0;if(K.Ka)return Es(b,3,"cannot parse segment header");if((te=b.ed).zd=Ne(K),te.Tb=ne(K,6),te.wb=ne(K,3),te.Pc=Ne(K),te.Pc&&Ne(K)){for(oe=0;4>oe;++oe)Ne(K)&&(te.vd[oe]=F(K,6));for(oe=0;4>oe;++oe)Ne(K)&&(te.od[oe]=F(K,6))}if(b.L=te.Tb==0?0:te.zd?1:2,K.Ka)return Es(b,3,"cannot parse filter header");var fe=Y;if(Y=re=O,O=re+fe,te=fe,b.Xb=(1<<ne(b.m,2))-1,fe<3*(oe=b.Xb))E=7;else{for(re+=3*oe,te-=3*oe,fe=0;fe<oe;++fe){var Ae=E[Y+0]|E[Y+1]<<8|E[Y+2]<<16;Ae>te&&(Ae=te),Q(b.Jc[+fe],E,re,Ae),re+=Ae,te-=Ae,Y+=3}Q(b.Jc[+oe],E,re,te),E=re<O?0:5}if(E!=0)return Es(b,E,"cannot parse partitions");for(E=ne(re=b.m,7),Y=Ne(re)?F(re,4):0,O=Ne(re)?F(re,4):0,te=Ne(re)?F(re,4):0,oe=Ne(re)?F(re,4):0,re=Ne(re)?F(re,4):0,fe=b.Qa,Ae=0;4>Ae;++Ae){if(fe.Cb){var ie=fe.Zb[Ae];fe.Fb||(ie+=E)}else{if(0<Ae){b.pb[Ae]=b.pb[0];continue}ie=E}var ve=b.pb[Ae];ve.Sc[0]=Tl[dl(ie+Y,127)],ve.Sc[1]=_l[dl(ie+0,127)],ve.Eb[0]=2*Tl[dl(ie+O,127)],ve.Eb[1]=101581*_l[dl(ie+te,127)]>>16,8>ve.Eb[1]&&(ve.Eb[1]=8),ve.Qc[0]=Tl[dl(ie+oe,117)],ve.Qc[1]=_l[dl(ie+re,127)],ve.lc=ie+re}if(!J.Rb)return Es(b,4,"Not a key frame.");for(Ne(K),J=b.Pa,E=0;4>E;++E){for(Y=0;8>Y;++Y)for(O=0;3>O;++O)for(te=0;11>te;++te)oe=Fe(K,la[E][Y][O][te])?ne(K,8):pu[E][Y][O][te],J.Wc[E][Y].Yb[O][te]=oe;for(Y=0;17>Y;++Y)J.Xc[E][Y]=J.Wc[E][fs[Y]]}return b.kc=Ne(K),b.kc&&(b.Bd=ne(K,8)),b.cb=1}function Pi(b,C,E,O,Y,K,J){var te=C[Y].Yb[E];for(E=0;16>Y;++Y){if(!Fe(b,te[E+0]))return Y;for(;!Fe(b,te[E+1]);)if(te=C[++Y].Yb[0],E=0,Y==16)return 16;var re=C[Y+1].Yb;if(Fe(b,te[E+2])){var oe=b,fe=0;if(Fe(oe,(ie=te)[(Ae=E)+3]))if(Fe(oe,ie[Ae+6])){for(te=0,Ae=2*(fe=Fe(oe,ie[Ae+8]))+(ie=Fe(oe,ie[Ae+9+fe])),fe=0,ie=mu[Ae];ie[te];++te)fe+=fe+Fe(oe,ie[te]);fe+=3+(8<<Ae)}else Fe(oe,ie[Ae+7])?(fe=7+2*Fe(oe,165),fe+=Fe(oe,145)):fe=5+Fe(oe,159);else fe=Fe(oe,ie[Ae+4])?3+Fe(oe,ie[Ae+5]):2;te=re[2]}else fe=1,te=re[1];re=J+tx[Y],0>(oe=b).b&&Me(oe);var Ae,ie=oe.b,ve=(Ae=oe.Ca>>1)-(oe.I>>ie)>>31;--oe.b,oe.Ca+=ve,oe.Ca|=1,oe.I-=(Ae+1&ve)<<ie,K[re]=((fe^ve)-ve)*O[(0<Y)+0]}return 16}function $c(b){var C=b.rb[b.sb-1];C.la=0,C.Na=0,i(b.zc,0,0,b.zc.length),b.ja=0}function Tr(b,C,E,O,Y){Y=b[C+E+32*O]+(Y>>3),b[C+E+32*O]=-256&Y?0>Y?0:255:Y}function Va(b,C,E,O,Y,K){Tr(b,C,0,E,O+Y),Tr(b,C,1,E,O+K),Tr(b,C,2,E,O-K),Tr(b,C,3,E,O-Y)}function Ra(b){return(20091*b>>16)+b}function Wo(b,C,E,O){var Y,K=0,J=o(16);for(Y=0;4>Y;++Y){var te=b[C+0]+b[C+8],re=b[C+0]-b[C+8],oe=(35468*b[C+4]>>16)-Ra(b[C+12]),fe=Ra(b[C+4])+(35468*b[C+12]>>16);J[K+0]=te+fe,J[K+1]=re+oe,J[K+2]=re-oe,J[K+3]=te-fe,K+=4,C++}for(Y=K=0;4>Y;++Y)te=(b=J[K+0]+4)+J[K+8],re=b-J[K+8],oe=(35468*J[K+4]>>16)-Ra(J[K+12]),Tr(E,O,0,0,te+(fe=Ra(J[K+4])+(35468*J[K+12]>>16))),Tr(E,O,1,0,re+oe),Tr(E,O,2,0,re-oe),Tr(E,O,3,0,te-fe),K++,O+=32}function _d(b,C,E,O){var Y=b[C+0]+4,K=35468*b[C+4]>>16,J=Ra(b[C+4]),te=35468*b[C+1]>>16;Va(E,O,0,Y+J,b=Ra(b[C+1]),te),Va(E,O,1,Y+K,b,te),Va(E,O,2,Y-K,b,te),Va(E,O,3,Y-J,b,te)}function qc(b,C,E,O,Y){Wo(b,C,E,O),Y&&Wo(b,C+16,E,O+4)}function _r(b,C,E,O){gi(b,C+0,E,O,1),gi(b,C+32,E,O+128,1)}function Hc(b,C,E,O){var Y;for(b=b[C+0]+4,Y=0;4>Y;++Y)for(C=0;4>C;++C)Tr(E,O,C,Y,b)}function Wc(b,C,E,O){b[C+0]&&Ts(b,C+0,E,O),b[C+16]&&Ts(b,C+16,E,O+4),b[C+32]&&Ts(b,C+32,E,O+128),b[C+48]&&Ts(b,C+48,E,O+128+4)}function sn(b,C,E,O){var Y,K=o(16);for(Y=0;4>Y;++Y){var J=b[C+0+Y]+b[C+12+Y],te=b[C+4+Y]+b[C+8+Y],re=b[C+4+Y]-b[C+8+Y],oe=b[C+0+Y]-b[C+12+Y];K[0+Y]=J+te,K[8+Y]=J-te,K[4+Y]=oe+re,K[12+Y]=oe-re}for(Y=0;4>Y;++Y)J=(b=K[0+4*Y]+3)+K[3+4*Y],te=K[1+4*Y]+K[2+4*Y],re=K[1+4*Y]-K[2+4*Y],oe=b-K[3+4*Y],E[O+0]=J+te>>3,E[O+16]=oe+re>>3,E[O+32]=J-te>>3,E[O+48]=oe-re>>3,O+=64}function no(b,C,E){var O,Y=C-32,K=Nr,J=255-b[Y-1];for(O=0;O<E;++O){var te,re=K,oe=J+b[C-1];for(te=0;te<E;++te)b[C+te]=re[oe+b[Y+te]];C+=32}}function Pd(b,C){no(b,C,4)}function Rd(b,C){no(b,C,8)}function Gc(b,C){no(b,C,16)}function Vc(b,C){var E;for(E=0;16>E;++E)l(b,C+32*E,b,C-32,16)}function Od(b,C){var E;for(E=16;0<E;--E)i(b,C,b[C-1],16),C+=32}function Gr(b,C,E){var O;for(O=0;16>O;++O)i(C,E+32*O,b,16)}function an(b,C){var E,O=16;for(E=0;16>E;++E)O+=b[C-1+32*E]+b[C+E-32];Gr(O>>5,b,C)}function ti(b,C){var E,O=8;for(E=0;16>E;++E)O+=b[C-1+32*E];Gr(O>>4,b,C)}function io(b,C){var E,O=8;for(E=0;16>E;++E)O+=b[C+E-32];Gr(O>>4,b,C)}function Ri(b,C){Gr(128,b,C)}function _t(b,C,E){return b+2*C+E+2>>2}function Fd(b,C){var E,O=C-32;for(O=new Uint8Array([_t(b[O-1],b[O+0],b[O+1]),_t(b[O+0],b[O+1],b[O+2]),_t(b[O+1],b[O+2],b[O+3]),_t(b[O+2],b[O+3],b[O+4])]),E=0;4>E;++E)l(b,C+32*E,O,0,O.length)}function Yc(b,C){var E=b[C-1],O=b[C-1+32],Y=b[C-1+64],K=b[C-1+96];Xe(b,C+0,16843009*_t(b[C-1-32],E,O)),Xe(b,C+32,16843009*_t(E,O,Y)),Xe(b,C+64,16843009*_t(O,Y,K)),Xe(b,C+96,16843009*_t(Y,K,K))}function Bd(b,C){var E,O=4;for(E=0;4>E;++E)O+=b[C+E-32]+b[C-1+32*E];for(O>>=3,E=0;4>E;++E)i(b,C+32*E,O,4)}function xl(b,C){var E=b[C-1+0],O=b[C-1+32],Y=b[C-1+64],K=b[C-1-32],J=b[C+0-32],te=b[C+1-32],re=b[C+2-32],oe=b[C+3-32];b[C+0+96]=_t(O,Y,b[C-1+96]),b[C+1+96]=b[C+0+64]=_t(E,O,Y),b[C+2+96]=b[C+1+64]=b[C+0+32]=_t(K,E,O),b[C+3+96]=b[C+2+64]=b[C+1+32]=b[C+0+0]=_t(J,K,E),b[C+3+64]=b[C+2+32]=b[C+1+0]=_t(te,J,K),b[C+3+32]=b[C+2+0]=_t(re,te,J),b[C+3+0]=_t(oe,re,te)}function xr(b,C){var E=b[C+1-32],O=b[C+2-32],Y=b[C+3-32],K=b[C+4-32],J=b[C+5-32],te=b[C+6-32],re=b[C+7-32];b[C+0+0]=_t(b[C+0-32],E,O),b[C+1+0]=b[C+0+32]=_t(E,O,Y),b[C+2+0]=b[C+1+32]=b[C+0+64]=_t(O,Y,K),b[C+3+0]=b[C+2+32]=b[C+1+64]=b[C+0+96]=_t(Y,K,J),b[C+3+32]=b[C+2+64]=b[C+1+96]=_t(K,J,te),b[C+3+64]=b[C+2+96]=_t(J,te,re),b[C+3+96]=_t(te,re,re)}function Xc(b,C){var E=b[C-1+0],O=b[C-1+32],Y=b[C-1+64],K=b[C-1-32],J=b[C+0-32],te=b[C+1-32],re=b[C+2-32],oe=b[C+3-32];b[C+0+0]=b[C+1+64]=K+J+1>>1,b[C+1+0]=b[C+2+64]=J+te+1>>1,b[C+2+0]=b[C+3+64]=te+re+1>>1,b[C+3+0]=re+oe+1>>1,b[C+0+96]=_t(Y,O,E),b[C+0+64]=_t(O,E,K),b[C+0+32]=b[C+1+96]=_t(E,K,J),b[C+1+32]=b[C+2+96]=_t(K,J,te),b[C+2+32]=b[C+3+96]=_t(J,te,re),b[C+3+32]=_t(te,re,oe)}function oo(b,C){var E=b[C+0-32],O=b[C+1-32],Y=b[C+2-32],K=b[C+3-32],J=b[C+4-32],te=b[C+5-32],re=b[C+6-32],oe=b[C+7-32];b[C+0+0]=E+O+1>>1,b[C+1+0]=b[C+0+64]=O+Y+1>>1,b[C+2+0]=b[C+1+64]=Y+K+1>>1,b[C+3+0]=b[C+2+64]=K+J+1>>1,b[C+0+32]=_t(E,O,Y),b[C+1+32]=b[C+0+96]=_t(O,Y,K),b[C+2+32]=b[C+1+96]=_t(Y,K,J),b[C+3+32]=b[C+2+96]=_t(K,J,te),b[C+3+64]=_t(J,te,re),b[C+3+96]=_t(te,re,oe)}function ul(b,C){var E=b[C-1+0],O=b[C-1+32],Y=b[C-1+64],K=b[C-1+96];b[C+0+0]=E+O+1>>1,b[C+2+0]=b[C+0+32]=O+Y+1>>1,b[C+2+32]=b[C+0+64]=Y+K+1>>1,b[C+1+0]=_t(E,O,Y),b[C+3+0]=b[C+1+32]=_t(O,Y,K),b[C+3+32]=b[C+1+64]=_t(Y,K,K),b[C+3+64]=b[C+2+64]=b[C+0+96]=b[C+1+96]=b[C+2+96]=b[C+3+96]=K}function co(b,C){var E=b[C-1+0],O=b[C-1+32],Y=b[C-1+64],K=b[C-1+96],J=b[C-1-32],te=b[C+0-32],re=b[C+1-32],oe=b[C+2-32];b[C+0+0]=b[C+2+32]=E+J+1>>1,b[C+0+32]=b[C+2+64]=O+E+1>>1,b[C+0+64]=b[C+2+96]=Y+O+1>>1,b[C+0+96]=K+Y+1>>1,b[C+3+0]=_t(te,re,oe),b[C+2+0]=_t(J,te,re),b[C+1+0]=b[C+3+32]=_t(E,J,te),b[C+1+32]=b[C+3+64]=_t(O,E,J),b[C+1+64]=b[C+3+96]=_t(Y,O,E),b[C+1+96]=_t(K,Y,O)}function Dn(b,C){var E;for(E=0;8>E;++E)l(b,C+32*E,b,C-32,8)}function Id(b,C){var E;for(E=0;8>E;++E)i(b,C,b[C-1],8),C+=32}function Sl(b,C,E){var O;for(O=0;8>O;++O)i(C,E+32*O,b,8)}function Go(b,C){var E,O=8;for(E=0;8>E;++E)O+=b[C+E-32]+b[C-1+32*E];Sl(O>>4,b,C)}function Vo(b,C){var E,O=4;for(E=0;8>E;++E)O+=b[C+E-32];Sl(O>>3,b,C)}function lr(b,C){var E,O=4;for(E=0;8>E;++E)O+=b[C-1+32*E];Sl(O>>3,b,C)}function Ln(b,C){Sl(128,b,C)}function Cl(b,C,E){var O=b[C-E],Y=b[C+0],K=3*(Y-O)+bi[1020+b[C-2*E]-b[C+E]],J=rd[112+(K+4>>3)];b[C-E]=Nr[255+O+rd[112+(K+3>>3)]],b[C+0]=Nr[255+Y-J]}function si(b,C,E,O){var Y=b[C+0],K=b[C+E];return mr[255+b[C-2*E]-b[C-E]]>O||mr[255+K-Y]>O}function Yo(b,C,E,O){return 4*mr[255+b[C-E]-b[C+0]]+mr[255+b[C-2*E]-b[C+E]]<=O}function xo(b,C,E,O,Y){var K=b[C-3*E],J=b[C-2*E],te=b[C-E],re=b[C+0],oe=b[C+E],fe=b[C+2*E],Ae=b[C+3*E];return 4*mr[255+te-re]+mr[255+J-oe]>O?0:mr[255+b[C-4*E]-K]<=Y&&mr[255+K-J]<=Y&&mr[255+J-te]<=Y&&mr[255+Ae-fe]<=Y&&mr[255+fe-oe]<=Y&&mr[255+oe-re]<=Y}function ai(b,C,E,O){var Y=2*O+1;for(O=0;16>O;++O)Yo(b,C+O,E,Y)&&Cl(b,C+O,E)}function ri(b,C,E,O){var Y=2*O+1;for(O=0;16>O;++O)Yo(b,C+O*E,1,Y)&&Cl(b,C+O*E,1)}function uo(b,C,E,O){var Y;for(Y=3;0<Y;--Y)ai(b,C+=4*E,E,O)}function Kc(b,C,E,O){var Y;for(Y=3;0<Y;--Y)ri(b,C+=4,E,O)}function li(b,C,E,O,Y,K,J,te){for(K=2*K+1;0<Y--;){if(xo(b,C,E,K,J))if(si(b,C,E,te))Cl(b,C,E);else{var re=b,oe=C,fe=E,Ae=re[oe-2*fe],ie=re[oe-fe],ve=re[oe+0],Se=re[oe+fe],Oe=re[oe+2*fe],Ce=27*(Ue=bi[1020+3*(ve-ie)+bi[1020+Ae-Se]])+63>>7,Re=18*Ue+63>>7,Ue=9*Ue+63>>7;re[oe-3*fe]=Nr[255+re[oe-3*fe]+Ue],re[oe-2*fe]=Nr[255+Ae+Re],re[oe-fe]=Nr[255+ie+Ce],re[oe+0]=Nr[255+ve-Ce],re[oe+fe]=Nr[255+Se-Re],re[oe+2*fe]=Nr[255+Oe-Ue]}C+=O}}function ni(b,C,E,O,Y,K,J,te){for(K=2*K+1;0<Y--;){if(xo(b,C,E,K,J))if(si(b,C,E,te))Cl(b,C,E);else{var re=b,oe=C,fe=E,Ae=re[oe-fe],ie=re[oe+0],ve=re[oe+fe],Se=rd[112+(4+(Oe=3*(ie-Ae))>>3)],Oe=rd[112+(Oe+3>>3)],Ce=Se+1>>1;re[oe-2*fe]=Nr[255+re[oe-2*fe]+Ce],re[oe-fe]=Nr[255+Ae+Oe],re[oe+0]=Nr[255+ie-Se],re[oe+fe]=Nr[255+ve-Ce]}C+=O}}function Ud(b,C,E,O,Y,K){li(b,C,E,1,16,O,Y,K)}function ii(b,C,E,O,Y,K){li(b,C,1,E,16,O,Y,K)}function $d(b,C,E,O,Y,K){var J;for(J=3;0<J;--J)ni(b,C+=4*E,E,1,16,O,Y,K)}function z(b,C,E,O,Y,K){var J;for(J=3;0<J;--J)ni(b,C+=4,1,E,16,O,Y,K)}function V(b,C,E,O,Y,K,J,te){li(b,C,Y,1,8,K,J,te),li(E,O,Y,1,8,K,J,te)}function ce(b,C,E,O,Y,K,J,te){li(b,C,1,Y,8,K,J,te),li(E,O,1,Y,8,K,J,te)}function pe(b,C,E,O,Y,K,J,te){ni(b,C+4*Y,Y,1,8,K,J,te),ni(E,O+4*Y,Y,1,8,K,J,te)}function ye(b,C,E,O,Y,K,J,te){ni(b,C+4,1,Y,8,K,J,te),ni(E,O+4,1,Y,8,K,J,te)}function Ie(){this.ba=new ls,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ks,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function We(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ut(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function bt(){this.ua=0,this.Wa=new Ft,this.vb=new Ft,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new le,this.yc=new $}function Bt(){this.xb=this.a=0,this.l=new ei,this.ca=new ls,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Z,this.Pb=0,this.wd=new Z,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new bt,this.ab=0,this.gc=d(4,ut),this.Oc=0}function Jt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ei,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ss(b,C,E,O,Y,K,J){for(b=b==null?0:b[C+0],C=0;C<J;++C)Y[K+C]=b+E[O+C]&255,b=Y[K+C]}function pa(b,C,E,O,Y,K,J){var te;if(b==null)Ss(null,null,E,O,Y,K,J);else for(te=0;te<J;++te)Y[K+te]=b[C+te]+E[O+te]&255}function Da(b,C,E,O,Y,K,J){if(b==null)Ss(null,null,E,O,Y,K,J);else{var te,re=b[C+0],oe=re,fe=re;for(te=0;te<J;++te)oe=fe+(re=b[C+te])-oe,fe=E[O+te]+(-256&oe?0>oe?0:255:oe)&255,oe=re,Y[K+te]=fe}}function Qs(b,C,E,O){var Y=C.width,K=C.o;if(s(b!=null&&C!=null),0>E||0>=O||E+O>K)return null;if(!b.Cc){if(b.ga==null){var J;if(b.ga=new Jt,(J=b.ga==null)||(J=C.width*C.o,s(b.Gb.length==0),b.Gb=o(J),b.Uc=0,b.Gb==null?J=0:(b.mb=b.Gb,b.nb=b.Uc,b.rc=null,J=1),J=!J),!J){J=b.ga;var te=b.Fa,re=b.P,oe=b.qc,fe=b.mb,Ae=b.nb,ie=re+1,ve=oe-1,Se=J.l;if(s(te!=null&&fe!=null&&C!=null),vi[0]=null,vi[1]=Ss,vi[2]=pa,vi[3]=Da,J.ca=fe,J.tb=Ae,J.c=C.width,J.i=C.height,s(0<J.c&&0<J.i),1>=oe)C=0;else if(J.$a=3&te[re+0],J.Z=te[re+0]>>2&3,J.Lc=te[re+0]>>4&3,re=te[re+0]>>6&3,0>J.$a||1<J.$a||4<=J.Z||1<J.Lc||re)C=0;else if(Se.put=At,Se.ac=Nl,Se.bc=Zn,Se.ma=J,Se.width=C.width,Se.height=C.height,Se.Da=C.Da,Se.v=C.v,Se.va=C.va,Se.j=C.j,Se.o=C.o,J.$a)e:{s(J.$a==1),C=ro();t:for(;;){if(C==null){C=0;break e}if(s(J!=null),J.mc=C,C.c=J.c,C.i=J.i,C.l=J.l,C.l.ma=J,C.l.width=J.c,C.l.height=J.i,C.a=0,de(C.m,te,ie,ve),!Kl(J.c,J.i,1,C,null)||(C.ab==1&&C.gc[0].hc==3&&Ws(C.s)?(J.ic=1,te=C.c*C.i,C.Ta=null,C.Ua=0,C.V=o(te),C.Ba=0,C.V==null?(C.a=1,C=0):C=1):(J.ic=0,C=Jl(C,J.c)),!C))break t;C=1;break e}J.mc=null,C=0}else C=ve>=J.c*J.i;J=!C}if(J)return null;b.ga.Lc!=1?b.Ga=0:O=K-E}s(b.ga!=null),s(E+O<=K);e:{if(C=(te=b.ga).c,K=te.l.o,te.$a==0){if(ie=b.rc,ve=b.Vc,Se=b.Fa,re=b.P+1+E*C,oe=b.mb,fe=b.nb+E*C,s(re<=b.P+b.qc),te.Z!=0)for(s(vi[te.Z]!=null),J=0;J<O;++J)vi[te.Z](ie,ve,Se,re,oe,fe,C),ie=oe,ve=fe,fe+=C,re+=C;else for(J=0;J<O;++J)l(oe,fe,Se,re,C),ie=oe,ve=fe,fe+=C,re+=C;b.rc=ie,b.Vc=ve}else{if(s(te.mc!=null),C=E+O,s((J=te.mc)!=null),s(C<=J.i),J.C>=C)C=1;else if(te.ic||rn(),te.ic){te=J.V,ie=J.Ba,ve=J.c;var Oe=J.i,Ce=(Se=1,re=J.$/ve,oe=J.$%ve,fe=J.m,Ae=J.s,J.$),Re=ve*Oe,Ue=ve*C,Ke=Ae.wc,He=Ce<Ue?rr(Ae,oe,re):null;s(Ce<=Re),s(C<=Oe),s(Ws(Ae));t:for(;;){for(;!fe.h&&Ce<Ue;){if(oe&Ke||(He=rr(Ae,oe,re)),s(He!=null),be(fe),256>(Oe=ua(He.G[0],He.H[0],fe)))te[ie+Ce]=Oe,++Ce,++oe>=ve&&(oe=0,++re<=C&&!(re%16)&&jr(J,re));else{if(!(280>Oe)){Se=0;break t}Oe=nl(Oe-256,fe);var mt,it=ua(He.G[4],He.H[4],fe);if(be(fe),!(Ce>=(it=il(ve,it=nl(it,fe)))&&Re-Ce>=Oe)){Se=0;break t}for(mt=0;mt<Oe;++mt)te[ie+Ce+mt]=te[ie+Ce+mt-it];for(Ce+=Oe,oe+=Oe;oe>=ve;)oe-=ve,++re<=C&&!(re%16)&&jr(J,re);Ce<Ue&&oe&Ke&&(He=rr(Ae,oe,re))}s(fe.h==ue(fe))}jr(J,re>C?C:re);break t}!Se||fe.h&&Ce<Re?(Se=0,J.a=fe.h?5:3):J.$=Ce,C=Se}else C=ol(J,J.V,J.Ba,J.c,J.i,C,_i);if(!C){O=0;break e}}E+O>=K&&(b.Cc=1),O=1}if(!O)return null;if(b.Cc&&((O=b.ga)!=null&&(O.mc=null),b.ga=null,0<b.Ga))return alert("todo:WebPDequantizeLevels"),null}return b.nb+E*Y}function Ya(b,C,E,O,Y,K){for(;0<Y--;){var J,te=b,re=C+(E?1:0),oe=b,fe=C+(E?0:3);for(J=0;J<O;++J){var Ae=oe[fe+4*J];Ae!=255&&(Ae*=32897,te[re+4*J+0]=te[re+4*J+0]*Ae>>23,te[re+4*J+1]=te[re+4*J+1]*Ae>>23,te[re+4*J+2]=te[re+4*J+2]*Ae>>23)}C+=K}}function Oa(b,C,E,O,Y){for(;0<O--;){var K;for(K=0;K<E;++K){var J=b[C+2*K+0],te=15&(oe=b[C+2*K+1]),re=4369*te,oe=(240&oe|oe>>4)*re>>16;b[C+2*K+0]=(240&J|J>>4)*re>>16&240|(15&J|J<<4)*re>>16>>4&15,b[C+2*K+1]=240&oe|te}C+=Y}}function ur(b,C,E,O,Y,K,J,te){var re,oe,fe=255;for(oe=0;oe<Y;++oe){for(re=0;re<O;++re){var Ae=b[C+re];K[J+4*re]=Ae,fe&=Ae}C+=E,J+=te}return fe!=255}function oi(b,C,E,O,Y){var K;for(K=0;K<Y;++K)E[O+K]=b[C+K]>>8}function rn(){fo=Ya,Ml=Oa,td=ur,pl=oi}function ci(b,C,E){P[b]=function(O,Y,K,J,te,re,oe,fe,Ae,ie,ve,Se,Oe,Ce,Re,Ue,Ke){var He,mt=Ke-1>>1,it=te[re+0]|oe[fe+0]<<16,Vt=Ae[ie+0]|ve[Se+0]<<16;s(O!=null);var xt=3*it+Vt+131074>>2;for(C(O[Y+0],255&xt,xt>>16,Oe,Ce),K!=null&&(xt=3*Vt+it+131074>>2,C(K[J+0],255&xt,xt>>16,Re,Ue)),He=1;He<=mt;++He){var hs=te[re+He]|oe[fe+He]<<16,na=Ae[ie+He]|ve[Se+He]<<16,Zt=it+hs+Vt+na+524296,ot=Zt+2*(hs+Vt)>>3;xt=ot+it>>1,it=(Zt=Zt+2*(it+na)>>3)+hs>>1,C(O[Y+2*He-1],255&xt,xt>>16,Oe,Ce+(2*He-1)*E),C(O[Y+2*He-0],255&it,it>>16,Oe,Ce+(2*He-0)*E),K!=null&&(xt=Zt+Vt>>1,it=ot+na>>1,C(K[J+2*He-1],255&xt,xt>>16,Re,Ue+(2*He-1)*E),C(K[J+2*He+0],255&it,it>>16,Re,Ue+(2*He+0)*E)),it=hs,Vt=na}1&Ke||(xt=3*it+Vt+131074>>2,C(O[Y+Ke-1],255&xt,xt>>16,Oe,Ce+(Ke-1)*E),K!=null&&(xt=3*Vt+it+131074>>2,C(K[J+Ke-1],255&xt,xt>>16,Re,Ue+(Ke-1)*E)))}}function Jc(){fr[Gd]=vo,fr[kr]=lc,fr[Vd]=ax,fr[Dl]=Zd,fr[ld]=qi,fr[sc]=Bn,fr[Ii]=Hi,fr[nd]=lc,fr[Yd]=Zd,fr[ac]=qi,fr[Xd]=Bn}function Xo(b){return b&-16384?0>b?0:255:b>>Qd}function zn(b,C){return Xo((19077*b>>8)+(26149*C>>8)-14234)}function ln(b,C,E){return Xo((19077*b>>8)-(6419*C>>8)-(13320*E>>8)+8708)}function ho(b,C){return Xo((19077*b>>8)+(33050*C>>8)-17685)}function di(b,C,E,O,Y){O[Y+0]=zn(b,E),O[Y+1]=ln(b,C,E),O[Y+2]=ho(b,C)}function nr(b,C,E,O,Y){O[Y+0]=ho(b,C),O[Y+1]=ln(b,C,E),O[Y+2]=zn(b,E)}function Oi(b,C,E,O,Y){var K=ln(b,C,E);C=K<<3&224|ho(b,C)>>3,O[Y+0]=248&zn(b,E)|K>>5,O[Y+1]=C}function Fi(b,C,E,O,Y){var K=240&ho(b,C)|15;O[Y+0]=240&zn(b,E)|ln(b,C,E)>>4,O[Y+1]=K}function Ko(b,C,E,O,Y){O[Y+0]=255,di(b,C,E,O,Y+1)}function En(b,C,E,O,Y){nr(b,C,E,O,Y),O[Y+3]=255}function Pr(b,C,E,O,Y){di(b,C,E,O,Y),O[Y+3]=255}function xi(b,C,E){P[b]=function(O,Y,K,J,te,re,oe,fe,Ae){for(var ie=fe+(-2&Ae)*E;fe!=ie;)C(O[Y+0],K[J+0],te[re+0],oe,fe),C(O[Y+1],K[J+0],te[re+0],oe,fe+E),Y+=2,++J,++re,fe+=2*E;1&Ae&&C(O[Y+0],K[J+0],te[re+0],oe,fe)}}function Jo(b,C,E){return E==0?b==0?C==0?6:5:C==0?4:0:E}function Zc(b,C,E,O,Y){switch(b>>>30){case 3:gi(C,E,O,Y,0);break;case 2:wr(C,E,O,Y);break;case 1:Ts(C,E,O,Y)}}function hl(b,C){var E,O,Y=C.M,K=C.Nb,J=b.oc,te=b.pc+40,re=b.oc,oe=b.pc+584,fe=b.oc,Ae=b.pc+600;for(E=0;16>E;++E)J[te+32*E-1]=129;for(E=0;8>E;++E)re[oe+32*E-1]=129,fe[Ae+32*E-1]=129;for(0<Y?J[te-1-32]=re[oe-1-32]=fe[Ae-1-32]=129:(i(J,te-32-1,127,21),i(re,oe-32-1,127,9),i(fe,Ae-32-1,127,9)),O=0;O<b.za;++O){var ie=C.ya[C.aa+O];if(0<O){for(E=-1;16>E;++E)l(J,te+32*E-4,J,te+32*E+12,4);for(E=-1;8>E;++E)l(re,oe+32*E-4,re,oe+32*E+4,4),l(fe,Ae+32*E-4,fe,Ae+32*E+4,4)}var ve=b.Gd,Se=b.Hd+O,Oe=ie.ad,Ce=ie.Hc;if(0<Y&&(l(J,te-32,ve[Se].y,0,16),l(re,oe-32,ve[Se].f,0,8),l(fe,Ae-32,ve[Se].ea,0,8)),ie.Za){var Re=J,Ue=te-32+16;for(0<Y&&(O>=b.za-1?i(Re,Ue,ve[Se].y[15],4):l(Re,Ue,ve[Se+1].y,0,4)),E=0;4>E;E++)Re[Ue+128+E]=Re[Ue+256+E]=Re[Ue+384+E]=Re[Ue+0+E];for(E=0;16>E;++E,Ce<<=2)Re=J,Ue=te+Ea[E],ja[ie.Ob[E]](Re,Ue),Zc(Ce,Oe,16*+E,Re,Ue)}else if(Re=Jo(O,Y,ie.Ob[0]),Or[Re](J,te),Ce!=0)for(E=0;16>E;++E,Ce<<=2)Zc(Ce,Oe,16*+E,J,te+Ea[E]);for(E=ie.Gc,Re=Jo(O,Y,ie.Dd),dn[Re](re,oe),dn[Re](fe,Ae),Ce=Oe,Re=re,Ue=oe,255&(ie=0|E)&&(170&ie?Al(Ce,256,Re,Ue):Cs(Ce,256,Re,Ue)),ie=fe,Ce=Ae,255&(E>>=8)&&(170&E?Al(Oe,320,ie,Ce):Cs(Oe,320,ie,Ce)),Y<b.Ub-1&&(l(ve[Se].y,0,J,te+480,16),l(ve[Se].f,0,re,oe+224,8),l(ve[Se].ea,0,fe,Ae+224,8)),E=8*K*b.B,ve=b.sa,Se=b.ta+16*O+16*K*b.R,Oe=b.qa,ie=b.ra+8*O+E,Ce=b.Ha,Re=b.Ia+8*O+E,E=0;16>E;++E)l(ve,Se+E*b.R,J,te+32*E,16);for(E=0;8>E;++E)l(Oe,ie+E*b.B,re,oe+32*E,8),l(Ce,Re+E*b.B,fe,Ae+32*E,8)}}function nn(b,C,E,O,Y,K,J,te,re){var oe=[0],fe=[0],Ae=0,ie=re!=null?re.kd:0,ve=re??new We;if(b==null||12>E)return 7;ve.data=b,ve.w=C,ve.ha=E,C=[C],E=[E],ve.gb=[ve.gb];e:{var Se=C,Oe=E,Ce=ve.gb;if(s(b!=null),s(Oe!=null),s(Ce!=null),Ce[0]=0,12<=Oe[0]&&!r(b,Se[0],"RIFF")){if(r(b,Se[0]+8,"WEBP")){Ce=3;break e}var Re=xe(b,Se[0]+4);if(12>Re||4294967286<Re){Ce=3;break e}if(ie&&Re>Oe[0]-8){Ce=7;break e}Ce[0]=Re,Se[0]+=12,Oe[0]-=12}Ce=0}if(Ce!=0)return Ce;for(Re=0<ve.gb[0],E=E[0];;){e:{var Ue=b;Oe=C,Ce=E;var Ke=oe,He=fe,mt=Se=[0];if((xt=Ae=[Ae])[0]=0,8>Ce[0])Ce=7;else{if(!r(Ue,Oe[0],"VP8X")){if(xe(Ue,Oe[0]+4)!=10){Ce=3;break e}if(18>Ce[0]){Ce=7;break e}var it=xe(Ue,Oe[0]+8),Vt=1+et(Ue,Oe[0]+12);if(2147483648<=Vt*(Ue=1+et(Ue,Oe[0]+15))){Ce=3;break e}mt!=null&&(mt[0]=it),Ke!=null&&(Ke[0]=Vt),He!=null&&(He[0]=Ue),Oe[0]+=18,Ce[0]-=18,xt[0]=1}Ce=0}}if(Ae=Ae[0],Se=Se[0],Ce!=0)return Ce;if(Oe=!!(2&Se),!Re&&Ae)return 3;if(K!=null&&(K[0]=!!(16&Se)),J!=null&&(J[0]=Oe),te!=null&&(te[0]=0),J=oe[0],Se=fe[0],Ae&&Oe&&re==null){Ce=0;break}if(4>E){Ce=7;break}if(Re&&Ae||!Re&&!Ae&&!r(b,C[0],"ALPH")){E=[E],ve.na=[ve.na],ve.P=[ve.P],ve.Sa=[ve.Sa];e:{it=b,Ce=C,Re=E;var xt=ve.gb;Ke=ve.na,He=ve.P,mt=ve.Sa,Vt=22,s(it!=null),s(Re!=null),Ue=Ce[0];var hs=Re[0];for(s(Ke!=null),s(mt!=null),Ke[0]=null,He[0]=null,mt[0]=0;;){if(Ce[0]=Ue,Re[0]=hs,8>hs){Ce=7;break e}var na=xe(it,Ue+4);if(4294967286<na){Ce=3;break e}var Zt=8+na+1&-2;if(Vt+=Zt,0<xt&&Vt>xt){Ce=3;break e}if(!r(it,Ue,"VP8 ")||!r(it,Ue,"VP8L")){Ce=0;break e}if(hs[0]<Zt){Ce=7;break e}r(it,Ue,"ALPH")||(Ke[0]=it,He[0]=Ue+8,mt[0]=na),Ue+=Zt,hs-=Zt}}if(E=E[0],ve.na=ve.na[0],ve.P=ve.P[0],ve.Sa=ve.Sa[0],Ce!=0)break}E=[E],ve.Ja=[ve.Ja],ve.xa=[ve.xa];e:if(xt=b,Ce=C,Re=E,Ke=ve.gb[0],He=ve.Ja,mt=ve.xa,it=Ce[0],Ue=!r(xt,it,"VP8 "),Vt=!r(xt,it,"VP8L"),s(xt!=null),s(Re!=null),s(He!=null),s(mt!=null),8>Re[0])Ce=7;else{if(Ue||Vt){if(xt=xe(xt,it+4),12<=Ke&&xt>Ke-12){Ce=3;break e}if(ie&&xt>Re[0]-8){Ce=7;break e}He[0]=xt,Ce[0]+=8,Re[0]-=8,mt[0]=Vt}else mt[0]=5<=Re[0]&&xt[it+0]==47&&!(xt[it+4]>>5),He[0]=Re[0];Ce=0}if(E=E[0],ve.Ja=ve.Ja[0],ve.xa=ve.xa[0],C=C[0],Ce!=0)break;if(4294967286<ve.Ja)return 3;if(te==null||Oe||(te[0]=ve.xa?2:1),J=[J],Se=[Se],ve.xa){if(5>E){Ce=7;break}te=J,ie=Se,Oe=K,b==null||5>E?b=0:5<=E&&b[C+0]==47&&!(b[C+4]>>5)?(Re=[0],xt=[0],Ke=[0],de(He=new Z,b,C,E),Cn(He,Re,xt,Ke)?(te!=null&&(te[0]=Re[0]),ie!=null&&(ie[0]=xt[0]),Oe!=null&&(Oe[0]=Ke[0]),b=1):b=0):b=0}else{if(10>E){Ce=7;break}te=Se,b==null||10>E||!Uc(b,C+3,E-3)?b=0:(ie=b[C+0]|b[C+1]<<8|b[C+2]<<16,Oe=16383&(b[C+7]<<8|b[C+6]),b=16383&(b[C+9]<<8|b[C+8]),1&ie||3<(ie>>1&7)||!(ie>>4&1)||ie>>5>=ve.Ja||!Oe||!b?b=0:(J&&(J[0]=Oe),te&&(te[0]=b),b=1))}if(!b||(J=J[0],Se=Se[0],Ae&&(oe[0]!=J||fe[0]!=Se)))return 3;re!=null&&(re[0]=ve,re.offset=C-re.w,s(4294967286>C-re.w),s(re.offset==re.ha-E));break}return Ce==0||Ce==7&&Ae&&re==null?(K!=null&&(K[0]|=ve.na!=null&&0<ve.na.length),O!=null&&(O[0]=J),Y!=null&&(Y[0]=Se),0):Ce}function ui(b,C,E){var O=C.width,Y=C.height,K=0,J=0,te=O,re=Y;if(C.Da=b!=null&&0<b.Da,C.Da&&(te=b.cd,re=b.bd,K=b.v,J=b.j,11>E||(K&=-2,J&=-2),0>K||0>J||0>=te||0>=re||K+te>O||J+re>Y))return 0;if(C.v=K,C.j=J,C.va=K+te,C.o=J+re,C.U=te,C.T=re,C.da=b!=null&&0<b.da,C.da){if(!Ct(te,re,E=[b.ib],K=[b.hb]))return 0;C.ib=E[0],C.hb=K[0]}return C.ob=b!=null&&b.ob,C.Kb=b==null||!b.Sd,C.da&&(C.ob=C.ib<3*O/4&&C.hb<3*Y/4,C.Kb=0),1}function Qc(b){if(b==null)return 2;if(11>b.S){var C=b.f.RGBA;C.fb+=(b.height-1)*C.A,C.A=-C.A}else C=b.f.kb,b=b.height,C.O+=(b-1)*C.fa,C.fa=-C.fa,C.N+=(b-1>>1)*C.Ab,C.Ab=-C.Ab,C.W+=(b-1>>1)*C.Db,C.Db=-C.Db,C.F!=null&&(C.J+=(b-1)*C.lb,C.lb=-C.lb);return 0}function on(b,C,E,O){if(O==null||0>=b||0>=C)return 2;if(E!=null){if(E.Da){var Y=E.cd,K=E.bd,J=-2&E.v,te=-2&E.j;if(0>J||0>te||0>=Y||0>=K||J+Y>b||te+K>C)return 2;b=Y,C=K}if(E.da){if(!Ct(b,C,Y=[E.ib],K=[E.hb]))return 2;b=Y[0],C=K[0]}}O.width=b,O.height=C;e:{var re=O.width,oe=O.height;if(b=O.S,0>=re||0>=oe||!(b>=Gd&&13>b))b=2;else{if(0>=O.Rd&&O.sd==null){J=K=Y=C=0;var fe=(te=re*t0[b])*oe;if(11>b||(K=(oe+1)/2*(C=(re+1)/2),b==12&&(J=(Y=re)*oe)),(oe=o(fe+2*K+J))==null){b=1;break e}O.sd=oe,11>b?((re=O.f.RGBA).eb=oe,re.fb=0,re.A=te,re.size=fe):((re=O.f.kb).y=oe,re.O=0,re.fa=te,re.Fd=fe,re.f=oe,re.N=0+fe,re.Ab=C,re.Cd=K,re.ea=oe,re.W=0+fe+K,re.Db=C,re.Ed=K,b==12&&(re.F=oe,re.J=0+fe+2*K),re.Tc=J,re.lb=Y)}if(C=1,Y=O.S,K=O.width,J=O.height,Y>=Gd&&13>Y)if(11>Y)b=O.f.RGBA,C&=(te=Math.abs(b.A))*(J-1)+K<=b.size,C&=te>=K*t0[Y],C&=b.eb!=null;else{b=O.f.kb,te=(K+1)/2,fe=(J+1)/2,re=Math.abs(b.fa),oe=Math.abs(b.Ab);var Ae=Math.abs(b.Db),ie=Math.abs(b.lb),ve=ie*(J-1)+K;C&=re*(J-1)+K<=b.Fd,C&=oe*(fe-1)+te<=b.Cd,C=(C&=Ae*(fe-1)+te<=b.Ed)&re>=K&oe>=te&Ae>=te,C&=b.y!=null,C&=b.f!=null,C&=b.ea!=null,Y==12&&(C&=ie>=K,C&=ve<=b.Tc,C&=b.F!=null)}else C=0;b=C?0:2}}return b!=0||E!=null&&E.fd&&(b=Qc(O)),b}var Bi=64,Vr=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Rr=24,Tn=32,_n=8,hi=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];nt("Predictor0","PredictorAdd0"),P.Predictor0=function(){return 4278190080},P.Predictor1=function(b){return b},P.Predictor2=function(b,C,E){return C[E+0]},P.Predictor3=function(b,C,E){return C[E+1]},P.Predictor4=function(b,C,E){return C[E-1]},P.Predictor5=function(b,C,E){return ft(ft(b,C[E+1]),C[E+0])},P.Predictor6=function(b,C,E){return ft(b,C[E-1])},P.Predictor7=function(b,C,E){return ft(b,C[E+0])},P.Predictor8=function(b,C,E){return ft(C[E-1],C[E+0])},P.Predictor9=function(b,C,E){return ft(C[E+0],C[E+1])},P.Predictor10=function(b,C,E){return ft(ft(b,C[E-1]),ft(C[E+0],C[E+1]))},P.Predictor11=function(b,C,E){var O=C[E+0];return 0>=gt(O>>24&255,b>>24&255,(C=C[E-1])>>24&255)+gt(O>>16&255,b>>16&255,C>>16&255)+gt(O>>8&255,b>>8&255,C>>8&255)+gt(255&O,255&b,255&C)?O:b},P.Predictor12=function(b,C,E){var O=C[E+0];return(Ge((b>>24&255)+(O>>24&255)-((C=C[E-1])>>24&255))<<24|Ge((b>>16&255)+(O>>16&255)-(C>>16&255))<<16|Ge((b>>8&255)+(O>>8&255)-(C>>8&255))<<8|Ge((255&b)+(255&O)-(255&C)))>>>0},P.Predictor13=function(b,C,E){var O=C[E-1];return(Xt((b=ft(b,C[E+0]))>>24&255,O>>24&255)<<24|Xt(b>>16&255,O>>16&255)<<16|Xt(b>>8&255,O>>8&255)<<8|Xt(255&b,255&O))>>>0};var Zo=P.PredictorAdd0;P.PredictorAdd1=cs,nt("Predictor2","PredictorAdd2"),nt("Predictor3","PredictorAdd3"),nt("Predictor4","PredictorAdd4"),nt("Predictor5","PredictorAdd5"),nt("Predictor6","PredictorAdd6"),nt("Predictor7","PredictorAdd7"),nt("Predictor8","PredictorAdd8"),nt("Predictor9","PredictorAdd9"),nt("Predictor10","PredictorAdd10"),nt("Predictor11","PredictorAdd11"),nt("Predictor12","PredictorAdd12"),nt("Predictor13","PredictorAdd13");var Qo=P.PredictorAdd2;jt("ColorIndexInverseTransform","MapARGB","32b",function(b){return b>>8&255},function(b){return b}),jt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(b){return b},function(b){return b>>8&255});var La,qd=P.ColorIndexInverseTransform,Pn=P.MapARGB,Rn=P.VP8LColorIndexInverseTransformAlpha,hr=P.MapAlpha,mi=P.VP8LPredictorsAdd=[];mi.length=16,(P.VP8LPredictors=[]).length=16,(P.VP8LPredictorsAdd_C=[]).length=16,(P.VP8LPredictors_C=[]).length=16;var ec,tc,pi,fi,On,mo,ml,gi,wr,Al,Ts,Cs,ea,za,Fn,cn,po,ed,Z0,xu,uu,hu,Q0,ex,fo,Ml,td,pl,go=o(511),Hd=o(2041),sd=o(225),ad=o(767),Wd=0,bi=Hd,rd=sd,Nr=ad,mr=go,Gd=0,kr=1,Vd=2,Dl=3,ld=4,sc=5,Ii=6,nd=7,Yd=8,ac=9,Xd=10,Ll=[2,3,7],rc=[3,3,11],bo=[280,256,256,256,40],Kd=[0,1,1,1,0],id=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],zl=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],El=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Ui=8,Tl=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],_l=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],fl=null,mu=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],tx=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Jd=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],pu=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],pr=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],la=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],fs=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Or=[],ja=[],dn=[],$i=1,sx=2,vi=[],fr=[];ci("UpsampleRgbLinePair",di,3),ci("UpsampleBgrLinePair",nr,3),ci("UpsampleRgbaLinePair",Pr,4),ci("UpsampleBgraLinePair",En,4),ci("UpsampleArgbLinePair",Ko,4),ci("UpsampleRgba4444LinePair",Fi,2),ci("UpsampleRgb565LinePair",Oi,2);var vo=P.UpsampleRgbLinePair,ax=P.UpsampleBgrLinePair,lc=P.UpsampleRgbaLinePair,Zd=P.UpsampleBgraLinePair,qi=P.UpsampleArgbLinePair,Bn=P.UpsampleRgba4444LinePair,Hi=P.UpsampleRgb565LinePair,Pl=16,nc=1<<Pl-1,yo=-227,Wi=482,Qd=6,Gi=0,gr=o(256),e0=o(256),fu=o(256),im=o(256),om=o(Wi-yo),cm=o(Wi-yo);xi("YuvToRgbRow",di,3),xi("YuvToBgrRow",nr,3),xi("YuvToRgbaRow",Pr,4),xi("YuvToBgraRow",En,4),xi("YuvToArgbRow",Ko,4),xi("YuvToRgba4444Row",Fi,2),xi("YuvToRgb565Row",Oi,2);var Ea=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ic=[0,2,8],od=[8,7,6,4,4,2,2,2,1,1,1,1],cd=1;this.WebPDecodeRGBA=function(b,C,E,O,Y){var K=kr,J=new Ie,te=new ls;J.ba=te,te.S=K,te.width=[te.width],te.height=[te.height];var re=te.width,oe=te.height,fe=new Nt;if(fe==null||b==null)var Ae=2;else s(fe!=null),Ae=nn(b,C,E,fe.width,fe.height,fe.Pd,fe.Qd,fe.format,null);if(Ae!=0?re=0:(re!=null&&(re[0]=fe.width[0]),oe!=null&&(oe[0]=fe.height[0]),re=1),re){te.width=te.width[0],te.height=te.height[0],O!=null&&(O[0]=te.width),Y!=null&&(Y[0]=te.height);e:{if(O=new ei,(Y=new We).data=b,Y.w=C,Y.ha=E,Y.kd=1,C=[0],s(Y!=null),((b=nn(Y.data,Y.w,Y.ha,null,null,null,C,null,Y))==0||b==7)&&C[0]&&(b=4),(C=b)==0){if(s(J!=null),O.data=Y.data,O.w=Y.w+Y.offset,O.ha=Y.ha-Y.offset,O.put=At,O.ac=Nl,O.bc=Zn,O.ma=J,Y.xa){if((b=ro())==null){J=1;break e}if((function(ie,ve){var Se=[0],Oe=[0],Ce=[0];t:for(;;){if(ie==null)return 0;if(ve==null)return ie.a=2,0;if(ie.l=ve,ie.a=0,de(ie.m,ve.data,ve.w,ve.ha),!Cn(ie.m,Se,Oe,Ce)){ie.a=3;break t}if(ie.xb=sx,ve.width=Se[0],ve.height=Oe[0],!Kl(Se[0],Oe[0],1,ie,null))break t;return 1}return s(ie.a!=0),0})(b,O)){if(O=(C=on(O.width,O.height,J.Oa,J.ba))==0){t:{O=b;s:for(;;){if(O==null){O=0;break t}if(s(O.s.yc!=null),s(O.s.Ya!=null),s(0<O.s.Wb),s((E=O.l)!=null),s((Y=E.ma)!=null),O.xb!=0){if(O.ca=Y.ba,O.tb=Y.tb,s(O.ca!=null),!ui(Y.Oa,E,Dl)){O.a=2;break s}if(!Jl(O,E.width)||E.da)break s;if((E.da||Rt(O.ca.S))&&rn(),11>O.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),O.ca.f.kb.F!=null&&rn()),O.Pb&&0<O.s.ua&&O.s.vb.X==null&&!se(O.s.vb,O.s.Wa.Xa)){O.a=1;break s}O.xb=0}if(!ol(O,O.V,O.Ba,O.c,O.i,E.o,Er))break s;Y.Dc=O.Ma,O=1;break t}s(O.a!=0),O=0}O=!O}O&&(C=b.a)}else C=b.a}else{if((b=new tn)==null){J=1;break e}if(b.Fa=Y.na,b.P=Y.P,b.qc=Y.Sa,Mn(b,O)){if((C=on(O.width,O.height,J.Oa,J.ba))==0){if(b.Aa=0,E=J.Oa,s((Y=b)!=null),E!=null){if(0<(re=0>(re=E.Md)?0:100<re?255:255*re/100)){for(oe=fe=0;4>oe;++oe)12>(Ae=Y.pb[oe]).lc&&(Ae.ia=re*od[0>Ae.lc?0:Ae.lc]>>3),fe|=Ae.ia;fe&&(alert("todo:VP8InitRandom"),Y.ia=1)}Y.Ga=E.Id,100<Y.Ga?Y.Ga=100:0>Y.Ga&&(Y.Ga=0)}(function(ie,ve){if(ie==null)return 0;if(ve==null)return Es(ie,2,"NULL VP8Io parameter in VP8Decode().");if(!ie.cb&&!Mn(ie,ve))return 0;if(s(ie.cb),ve.ac==null||ve.ac(ve)){ve.ob&&(ie.L=0);var Se=ic[ie.L];if(ie.L==2?(ie.yb=0,ie.zb=0):(ie.yb=ve.v-Se>>4,ie.zb=ve.j-Se>>4,0>ie.yb&&(ie.yb=0),0>ie.zb&&(ie.zb=0)),ie.Va=ve.o+15+Se>>4,ie.Hb=ve.va+15+Se>>4,ie.Hb>ie.za&&(ie.Hb=ie.za),ie.Va>ie.Ub&&(ie.Va=ie.Ub),0<ie.L){var Oe=ie.ed;for(Se=0;4>Se;++Se){var Ce;if(ie.Qa.Cb){var Re=ie.Qa.Lb[Se];ie.Qa.Fb||(Re+=Oe.Tb)}else Re=Oe.Tb;for(Ce=0;1>=Ce;++Ce){var Ue=ie.gd[Se][Ce],Ke=Re;if(Oe.Pc&&(Ke+=Oe.vd[0],Ce&&(Ke+=Oe.od[0])),0<(Ke=0>Ke?0:63<Ke?63:Ke)){var He=Ke;0<Oe.wb&&(He=4<Oe.wb?He>>2:He>>1)>9-Oe.wb&&(He=9-Oe.wb),1>He&&(He=1),Ue.dd=He,Ue.tc=2*Ke+He,Ue.ld=40<=Ke?2:15<=Ke?1:0}else Ue.tc=0;Ue.La=Ce}}}Se=0}else Es(ie,6,"Frame setup failed"),Se=ie.a;if(Se=Se==0){if(Se){ie.$c=0,0<ie.Aa||(ie.Ic=cd);t:{Se=ie.Ic,Oe=4*(He=ie.za);var mt=32*He,it=He+1,Vt=0<ie.L?He*(0<ie.Aa?2:1):0,xt=(ie.Aa==2?2:1)*He;if((Ue=Oe+832+(Ce=3*(16*Se+ic[ie.L])/2*mt)+(Re=ie.Fa!=null&&0<ie.Fa.length?ie.Kc.c*ie.Kc.i:0))!=Ue)Se=0;else{if(Ue>ie.Vb){if(ie.Vb=0,ie.Ec=o(Ue),ie.Fc=0,ie.Ec==null){Se=Es(ie,1,"no memory during frame initialization.");break t}ie.Vb=Ue}Ue=ie.Ec,Ke=ie.Fc,ie.Ac=Ue,ie.Bc=Ke,Ke+=Oe,ie.Gd=d(mt,Ic),ie.Hd=0,ie.rb=d(it+1,en),ie.sb=1,ie.wa=Vt?d(Vt,cl):null,ie.Y=0,ie.D.Nb=0,ie.D.wa=ie.wa,ie.D.Y=ie.Y,0<ie.Aa&&(ie.D.Y+=He),s(!0),ie.oc=Ue,ie.pc=Ke,Ke+=832,ie.ya=d(xt,Fc),ie.aa=0,ie.D.ya=ie.ya,ie.D.aa=ie.aa,ie.Aa==2&&(ie.D.aa+=He),ie.R=16*He,ie.B=8*He,He=(mt=ic[ie.L])*ie.R,mt=mt/2*ie.B,ie.sa=Ue,ie.ta=Ke+He,ie.qa=ie.sa,ie.ra=ie.ta+16*Se*ie.R+mt,ie.Ha=ie.qa,ie.Ia=ie.ra+8*Se*ie.B+mt,ie.$c=0,Ke+=Ce,ie.mb=Re?Ue:null,ie.nb=Re?Ke:null,s(Ke+Re<=ie.Fc+ie.Vb),$c(ie),i(ie.Ac,ie.Bc,0,Oe),Se=1}}if(Se){if(ve.ka=0,ve.y=ie.sa,ve.O=ie.ta,ve.f=ie.qa,ve.N=ie.ra,ve.ea=ie.Ha,ve.Vd=ie.Ia,ve.fa=ie.R,ve.Rc=ie.B,ve.F=null,ve.J=0,!Wd){for(Se=-255;255>=Se;++Se)go[255+Se]=0>Se?-Se:Se;for(Se=-1020;1020>=Se;++Se)Hd[1020+Se]=-128>Se?-128:127<Se?127:Se;for(Se=-112;112>=Se;++Se)sd[112+Se]=-16>Se?-16:15<Se?15:Se;for(Se=-255;510>=Se;++Se)ad[255+Se]=0>Se?0:255<Se?255:Se;Wd=1}ml=sn,gi=qc,Al=_r,Ts=Hc,Cs=Wc,wr=_d,ea=Ud,za=ii,Fn=V,cn=ce,po=$d,ed=z,Z0=pe,xu=ye,uu=ai,hu=ri,Q0=uo,ex=Kc,ja[0]=Bd,ja[1]=Pd,ja[2]=Fd,ja[3]=Yc,ja[4]=xl,ja[5]=Xc,ja[6]=xr,ja[7]=oo,ja[8]=co,ja[9]=ul,Or[0]=an,Or[1]=Gc,Or[2]=Vc,Or[3]=Od,Or[4]=ti,Or[5]=io,Or[6]=Ri,dn[0]=Go,dn[1]=Rd,dn[2]=Dn,dn[3]=Id,dn[4]=lr,dn[5]=Vo,dn[6]=Ln,Se=1}else Se=0}Se&&(Se=(function(hs,na){for(hs.M=0;hs.M<hs.Va;++hs.M){var Zt,ot=hs.Jc[hs.M&hs.Xb],tt=hs.m,fa=hs;for(Zt=0;Zt<fa.za;++Zt){var Pt=tt,ns=fa,Bs=ns.Ac,Xa=ns.Bc+4*Zt,br=ns.zc,ta=ns.ya[ns.aa+Zt];if(ns.Qa.Bb?ta.$b=Fe(Pt,ns.Pa.jb[0])?2+Fe(Pt,ns.Pa.jb[2]):Fe(Pt,ns.Pa.jb[1]):ta.$b=0,ns.kc&&(ta.Ad=Fe(Pt,ns.Bd)),ta.Za=!Fe(Pt,145)+0,ta.Za){var Fa=ta.Ob,Sr=0;for(ns=0;4>ns;++ns){var Ba,ds=br[0+ns];for(Ba=0;4>Ba;++Ba){ds=pr[Bs[Xa+Ba]][ds];for(var Ds=Jd[Fe(Pt,ds[0])];0<Ds;)Ds=Jd[2*Ds+Fe(Pt,ds[Ds])];ds=-Ds,Bs[Xa+Ba]=ds}l(Fa,Sr,Bs,Xa,4),Sr+=4,br[0+ns]=ds}}else ds=Fe(Pt,156)?Fe(Pt,128)?1:3:Fe(Pt,163)?2:0,ta.Ob[0]=ds,i(Bs,Xa,ds,4),i(br,0,ds,4);ta.Dd=Fe(Pt,142)?Fe(Pt,114)?Fe(Pt,183)?1:3:2:0}if(fa.m.Ka)return Es(hs,7,"Premature end-of-partition0 encountered.");for(;hs.ja<hs.za;++hs.ja){if(fa=ot,Pt=(tt=hs).rb[tt.sb-1],Bs=tt.rb[tt.sb+tt.ja],Zt=tt.ya[tt.aa+tt.ja],Xa=tt.kc?Zt.Ad:0)Pt.la=Bs.la=0,Zt.Za||(Pt.Na=Bs.Na=0),Zt.Hc=0,Zt.Gc=0,Zt.ia=0;else{var ga,_s;if(Pt=Bs,Bs=fa,Xa=tt.Pa.Xc,br=tt.ya[tt.aa+tt.ja],ta=tt.pb[br.$b],ns=br.ad,Fa=0,Sr=tt.rb[tt.sb-1],ds=Ba=0,i(ns,Fa,0,384),br.Za)var Ka=0,ba=Xa[3];else{Ds=o(16);var Ls=Pt.Na+Sr.Na;if(Ls=fl(Bs,Xa[1],Ls,ta.Eb,0,Ds,0),Pt.Na=Sr.Na=(0<Ls)+0,1<Ls)ml(Ds,0,ns,Fa);else{var Ta=Ds[0]+3>>3;for(Ds=0;256>Ds;Ds+=16)ns[Fa+Ds]=Ta}Ka=1,ba=Xa[0]}var Is=15&Pt.la,Ia=15&Sr.la;for(Ds=0;4>Ds;++Ds){var Ua=1&Ia;for(Ta=_s=0;4>Ta;++Ta)Is=Is>>1|(Ua=(Ls=fl(Bs,ba,Ls=Ua+(1&Is),ta.Sc,Ka,ns,Fa))>Ka)<<7,_s=_s<<2|(3<Ls?3:1<Ls?2:ns[Fa+0]!=0),Fa+=16;Is>>=4,Ia=Ia>>1|Ua<<7,Ba=(Ba<<8|_s)>>>0}for(ba=Is,Ka=Ia>>4,ga=0;4>ga;ga+=2){for(_s=0,Is=Pt.la>>4+ga,Ia=Sr.la>>4+ga,Ds=0;2>Ds;++Ds){for(Ua=1&Ia,Ta=0;2>Ta;++Ta)Ls=Ua+(1&Is),Is=Is>>1|(Ua=0<(Ls=fl(Bs,Xa[2],Ls,ta.Qc,0,ns,Fa)))<<3,_s=_s<<2|(3<Ls?3:1<Ls?2:ns[Fa+0]!=0),Fa+=16;Is>>=2,Ia=Ia>>1|Ua<<5}ds|=_s<<4*ga,ba|=Is<<4<<ga,Ka|=(240&Ia)<<ga}Pt.la=ba,Sr.la=Ka,br.Hc=Ba,br.Gc=ds,br.ia=43690&ds?0:ta.ia,Xa=!(Ba|ds)}if(0<tt.L&&(tt.wa[tt.Y+tt.ja]=tt.gd[Zt.$b][Zt.Za],tt.wa[tt.Y+tt.ja].La|=!Xa),fa.Ka)return Es(hs,7,"Premature end-of-file encountered.")}if($c(hs),tt=na,fa=1,Zt=(ot=hs).D,Pt=0<ot.L&&ot.M>=ot.zb&&ot.M<=ot.Va,ot.Aa==0)t:{if(Zt.M=ot.M,Zt.uc=Pt,hl(ot,Zt),fa=1,Zt=(_s=ot.D).Nb,Pt=(ds=ic[ot.L])*ot.R,Bs=ds/2*ot.B,Ds=16*Zt*ot.R,Ta=8*Zt*ot.B,Xa=ot.sa,br=ot.ta-Pt+Ds,ta=ot.qa,ns=ot.ra-Bs+Ta,Fa=ot.Ha,Sr=ot.Ia-Bs+Ta,Ia=(Is=_s.M)==0,Ba=Is>=ot.Va-1,ot.Aa==2&&hl(ot,_s),_s.uc)for(Ua=(Ls=ot).D.M,s(Ls.D.uc),_s=Ls.yb;_s<Ls.Hb;++_s){Ka=_s,ba=Ua;var Gs=(As=($a=Ls).D).Nb;ga=$a.R;var As=As.wa[As.Y+Ka],Cr=$a.sa,wa=$a.ta+16*Gs*ga+16*Ka,Mt=As.dd,Lt=As.tc;if(Lt!=0)if(s(3<=Lt),$a.L==1)0<Ka&&hu(Cr,wa,ga,Lt+4),As.La&&ex(Cr,wa,ga,Lt),0<ba&&uu(Cr,wa,ga,Lt+4),As.La&&Q0(Cr,wa,ga,Lt);else{var zs=$a.B,Yr=$a.qa,Rl=$a.ra+8*Gs*zs+8*Ka,Fr=$a.Ha,$a=$a.Ia+8*Gs*zs+8*Ka;Gs=As.ld,0<Ka&&(za(Cr,wa,ga,Lt+4,Mt,Gs),cn(Yr,Rl,Fr,$a,zs,Lt+4,Mt,Gs)),As.La&&(ed(Cr,wa,ga,Lt,Mt,Gs),xu(Yr,Rl,Fr,$a,zs,Lt,Mt,Gs)),0<ba&&(ea(Cr,wa,ga,Lt+4,Mt,Gs),Fn(Yr,Rl,Fr,$a,zs,Lt+4,Mt,Gs)),As.La&&(po(Cr,wa,ga,Lt,Mt,Gs),Z0(Yr,Rl,Fr,$a,zs,Lt,Mt,Gs))}}if(ot.ia&&alert("todo:DitherRow"),tt.put!=null){if(_s=16*Is,Is=16*(Is+1),Ia?(tt.y=ot.sa,tt.O=ot.ta+Ds,tt.f=ot.qa,tt.N=ot.ra+Ta,tt.ea=ot.Ha,tt.W=ot.Ia+Ta):(_s-=ds,tt.y=Xa,tt.O=br,tt.f=ta,tt.N=ns,tt.ea=Fa,tt.W=Sr),Ba||(Is-=ds),Is>tt.o&&(Is=tt.o),tt.F=null,tt.J=null,ot.Fa!=null&&0<ot.Fa.length&&_s<Is&&(tt.J=Qs(ot,tt,_s,Is-_s),tt.F=ot.mb,tt.F==null&&tt.F.length==0)){fa=Es(ot,3,"Could not decode alpha data.");break t}_s<tt.j&&(ds=tt.j-_s,_s=tt.j,s(!(1&ds)),tt.O+=ot.R*ds,tt.N+=ot.B*(ds>>1),tt.W+=ot.B*(ds>>1),tt.F!=null&&(tt.J+=tt.width*ds)),_s<Is&&(tt.O+=tt.v,tt.N+=tt.v>>1,tt.W+=tt.v>>1,tt.F!=null&&(tt.J+=tt.v),tt.ka=_s-tt.j,tt.U=tt.va-tt.v,tt.T=Is-_s,fa=tt.put(tt))}Zt+1!=ot.Ic||Ba||(l(ot.sa,ot.ta-Pt,Xa,br+16*ot.R,Pt),l(ot.qa,ot.ra-Bs,ta,ns+8*ot.B,Bs),l(ot.Ha,ot.Ia-Bs,Fa,Sr+8*ot.B,Bs))}if(!fa)return Es(hs,6,"Output aborted.")}return 1})(ie,ve)),ve.bc!=null&&ve.bc(ve),Se&=1}return Se?(ie.cb=0,Se):0})(b,O)||(C=b.a)}}else C=b.a}C==0&&J.Oa!=null&&J.Oa.fd&&(C=Qc(J.ba))}J=C}K=J!=0?null:11>K?te.f.RGBA.eb:te.f.kb.y}else K=null;return K};var t0=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(P,R){for(var W="",H=0;H<4;H++)W+=String.fromCharCode(P[R++]);return W}function p(P,R){return P[R+0]|P[R+1]<<8}function g(P,R){return(P[R+0]|P[R+1]<<8|P[R+2]<<16)>>>0}function y(P,R){return(P[R+0]|P[R+1]<<8|P[R+2]<<16|P[R+3]<<24)>>>0}new u;var f=[0],w=[0],S=[],v=new u,N=t,A=(function(P,R){var W={},H=0,$=!1,G=0,le=0;if(W.frames=[],!(function(q,Z){for(var ae=0;ae<4;ae++)if(q[Z+ae]!="RIFF".charCodeAt(ae))return!0;return!1})(P,R)){for(y(P,R+=4),R+=8;R<P.length;){var Q=h(P,R),ne=y(P,R+=4);R+=4;var F=ne+(1&ne);switch(Q){case"VP8 ":case"VP8L":W.frames[H]===void 0&&(W.frames[H]={}),(X=W.frames[H]).src_off=$?le:R-8,X.src_size=G+ne+8,H++,$&&($=!1,G=0,le=0);break;case"VP8X":(X=W.header={}).feature_flags=P[R];var de=R+4;X.canvas_width=1+g(P,de),de+=3,X.canvas_height=1+g(P,de),de+=3;break;case"ALPH":$=!0,G=F+8,le=R-8;break;case"ANIM":(X=W.header).bgcolor=y(P,R),de=R+4,X.loop_count=p(P,de),de+=2;break;case"ANMF":var ke,X;(X=W.frames[H]={}).offset_x=2*g(P,R),R+=3,X.offset_y=2*g(P,R),R+=3,X.width=1+g(P,R),R+=3,X.height=1+g(P,R),R+=3,X.duration=g(P,R),R+=3,ke=P[R++],X.dispose=1&ke,X.blend=ke>>1&1}Q!="ANMF"&&(R+=F)}return W}})(N,0);A.response=N,A.rgbaoutput=!0,A.dataurl=!1;var L=A.header?A.header:null,M=A.frames?A.frames:null;if(L){L.loop_counter=L.loop_count,f=[L.canvas_height],w=[L.canvas_width];for(var T=0;T<M.length&&M[T].blend!=0;T++);}var _=M[0],I=v.WebPDecodeRGBA(N,_.src_off,_.src_size,w,f);_.rgba=I,_.imgwidth=w[0],_.imgheight=f[0];for(var B=0;B<w[0]*f[0]*4;B++)S[B]=I[B];return this.width=w,this.height=f,this.data=S,this}function IE(){var t,s=this.internal.__metadata__.metadata,r=unescape(encodeURIComponent(s));t=this.internal.__metadata__.rawXml?r:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+t.length+" >>"),this.internal.write("stream"),this.internal.write(t),this.internal.write("endstream"),this.internal.write("endobj")}function UE(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(t){var s,r,l,i,o,d,x,u,h,p=function(q){return q=q||{},this.isStrokeTransparent=q.isStrokeTransparent||!1,this.strokeOpacity=q.strokeOpacity||1,this.strokeStyle=q.strokeStyle||"#000000",this.fillStyle=q.fillStyle||"#000000",this.isFillTransparent=q.isFillTransparent||!1,this.fillOpacity=q.fillOpacity||1,this.font=q.font||"10px sans-serif",this.textBaseline=q.textBaseline||"alphabetic",this.textAlign=q.textAlign||"left",this.lineWidth=q.lineWidth||1,this.lineJoin=q.lineJoin||"miter",this.lineCap=q.lineCap||"butt",this.path=q.path||[],this.transform=q.transform!==void 0?q.transform.clone():new u,this.globalCompositeOperation=q.globalCompositeOperation||"normal",this.globalAlpha=q.globalAlpha||1,this.clip_path=q.clip_path||[],this.currentPoint=q.currentPoint||new d,this.miterLimit=q.miterLimit||10,this.lastPoint=q.lastPoint||new d,this.lineDashOffset=q.lineDashOffset||0,this.lineDash=q.lineDash||[],this.margin=q.margin||[0,0,0,0],this.prevPageLastElemOffset=q.prevPageLastElemOffset||0,this.ignoreClearRect=typeof q.ignoreClearRect!="boolean"||q.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new g(this),s=this.internal.f2,r=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,d=this.internal.Point,x=this.internal.Rectangle,u=this.internal.Matrix,h=new p}]);var g=function(q){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Z=q;Object.defineProperty(this,"pdf",{get:function(){return Z}});var ae=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ae},set:function(se){ae=!!se}});var ue=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ue},set:function(se){ue=!!se}});var he=0;Object.defineProperty(this,"posX",{get:function(){return he},set:function(se){isNaN(se)||(he=se)}});var be=0;Object.defineProperty(this,"posY",{get:function(){return be},set:function(se){isNaN(se)||(be=se)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(se){var Ze;typeof se=="number"?Ze=[se,se,se,se]:((Ze=new Array(4))[0]=se[0],Ze[1]=se.length>=2?se[1]:Ze[0],Ze[2]=se.length>=3?se[2]:Ze[0],Ze[3]=se.length>=4?se[3]:Ze[1]),h.margin=Ze}});var Me=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Me},set:function(se){Me=se}});var Ne=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ne},set:function(se){Ne=se}});var Fe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Fe},set:function(se){Fe=se}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(se){se instanceof p&&(h=se)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(se){h.path=se}});var Xe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Xe},set:function(se){Xe=se}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(se){var Ze;Ze=y(se),this.ctx.fillStyle=Ze.style,this.ctx.isFillTransparent=Ze.a===0,this.ctx.fillOpacity=Ze.a,this.pdf.setFillColor(Ze.r,Ze.g,Ze.b,{a:Ze.a}),this.pdf.setTextColor(Ze.r,Ze.g,Ze.b,{a:Ze.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(se){var Ze=y(se);this.ctx.strokeStyle=Ze.style,this.ctx.isStrokeTransparent=Ze.a===0,this.ctx.strokeOpacity=Ze.a,Ze.a===0?this.pdf.setDrawColor(255,255,255):(Ze.a,this.pdf.setDrawColor(Ze.r,Ze.g,Ze.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(se){["butt","round","square"].indexOf(se)!==-1&&(this.ctx.lineCap=se,this.pdf.setLineCap(se))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(se){isNaN(se)||(this.ctx.lineWidth=se,this.pdf.setLineWidth(se))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(se){["bevel","round","miter"].indexOf(se)!==-1&&(this.ctx.lineJoin=se,this.pdf.setLineJoin(se))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(se){isNaN(se)||(this.ctx.miterLimit=se,this.pdf.setMiterLimit(se))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(se){this.ctx.textBaseline=se}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(se){["right","end","center","left","start"].indexOf(se)!==-1&&(this.ctx.textAlign=se)}});var st=null,et=null,xe=null;Object.defineProperty(this,"fontFaces",{get:function(){return xe},set:function(se){st=null,et=null,xe=se}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(se){var Ze;if(this.ctx.font=se,(Ze=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(se))!==null){var Ft=Ze[1];Ze[2];var Ct=Ze[3],Ve=Ze[4];Ze[5];var wt=Ze[6],nt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ve)[2];Ve=Math.floor(nt==="px"?parseFloat(Ve)*this.pdf.internal.scaleFactor:nt==="em"?parseFloat(Ve)*this.pdf.getFontSize():parseFloat(Ve)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ve);var kt=(function(jt){var Aa,xs,Tt=[],Ut=jt.trim();if(Ut==="")return lf;if(Ut in n2)return[n2[Ut]];for(;Ut!=="";){switch(xs=null,Aa=(Ut=o2(Ut)).charAt(0)){case'"':case"'":xs=_E(Ut.substring(1),Aa);break;default:xs=PE(Ut)}if(xs===null||(Tt.push(xs[0]),(Ut=o2(xs[1]))!==""&&Ut.charAt(0)!==","))return lf;Ut=Ut.replace(/^,/,"")}return Tt})(wt);if(this.fontFaces){var ft=(function(jt,Aa){var xs=jt.getFontList(),Tt=JSON.stringify(xs);if(st===null||et!==Tt){var Ut=(function(us){var Dt=[];return Object.keys(us).forEach(function(Zs){us[Zs].forEach(function(Rt){var $t=null;switch(Rt){case"bold":$t={family:Zs,weight:"bold"};break;case"italic":$t={family:Zs,style:"italic"};break;case"bolditalic":$t={family:Zs,weight:"bold",style:"italic"};break;case"":case"normal":$t={family:Zs}}$t!==null&&($t.ref={name:Zs,style:Rt},Dt.push($t))})}),Dt})(xs);st=(function(us){for(var Dt={},Zs=0;Zs<us.length;++Zs){var Rt=rf(us[Zs]),$t=Rt.family,Hs=Rt.stretch,ls=Rt.style,Nt=Rt.weight;Dt[$t]=Dt[$t]||{},Dt[$t][Hs]=Dt[$t][Hs]||{},Dt[$t][Hs][ls]=Dt[$t][Hs][ls]||{},Dt[$t][Hs][ls][Nt]=Rt}return Dt})(Ut.concat(Aa)),et=Tt}return st})(this.pdf,this.fontFaces),Ge=kt.map(function(jt){return{family:jt,stretch:"normal",weight:Ct,style:Ft}}),Xt=(function(jt,Aa,xs){for(var Tt=(xs=xs||{}).defaultFontFamily||"times",Ut=Object.assign({},TE,xs.genericFontFamilies||{}),us=null,Dt=null,Zs=0;Zs<Aa.length;++Zs)if(Ut[(us=rf(Aa[Zs])).family]&&(us.family=Ut[us.family]),jt.hasOwnProperty(us.family)){Dt=jt[us.family];break}if(!(Dt=Dt||jt[Tt]))throw new Error("Could not find a font-family for the rule '"+i2(us)+"' and default family '"+Tt+"'.");if(Dt=(function(Rt,$t){if($t[Rt])return $t[Rt];var Hs=$f[Rt],ls=Hs<=$f.normal?-1:1,Nt=l2($t,yN,Hs,ls);if(!Nt)throw new Error("Could not find a matching font-stretch value for "+Rt);return Nt})(us.stretch,Dt),Dt=(function(Rt,$t){if($t[Rt])return $t[Rt];for(var Hs=vN[Rt],ls=0;ls<Hs.length;++ls)if($t[Hs[ls]])return $t[Hs[ls]];throw new Error("Could not find a matching font-style for "+Rt)})(us.style,Dt),!(Dt=(function(Rt,$t){if($t[Rt])return $t[Rt];if(Rt===400&&$t[500])return $t[500];if(Rt===500&&$t[400])return $t[400];var Hs=EE[Rt],ls=l2($t,jN,Hs,Rt<400?-1:1);if(!ls)throw new Error("Could not find a matching font-weight for value "+Rt);return ls})(us.weight,Dt)))throw new Error("Failed to resolve a font for the rule '"+i2(us)+"'.");return Dt})(ft,Ge);this.pdf.setFont(Xt.ref.name,Xt.ref.style)}else{var gt="";(Ct==="bold"||parseInt(Ct,10)>=700||Ft==="bold")&&(gt="bold"),Ft==="italic"&&(gt+="italic"),gt.length===0&&(gt="normal");for(var cs="",rs={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},dt=0;dt<kt.length;dt++){if(this.pdf.internal.getFont(kt[dt],gt,{noFallback:!0,disableWarning:!0})!==void 0){cs=kt[dt];break}if(gt==="bolditalic"&&this.pdf.internal.getFont(kt[dt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)cs=kt[dt],gt="bold";else if(this.pdf.internal.getFont(kt[dt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){cs=kt[dt],gt="normal";break}}if(cs===""){for(var Kt=0;Kt<kt.length;Kt++)if(rs[kt[Kt]]){cs=rs[kt[Kt]];break}}cs=cs===""?"Times":cs,this.pdf.setFont(cs,gt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(se){this.ctx.globalCompositeOperation=se}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(se){this.ctx.globalAlpha=se}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(se){this.ctx.lineDashOffset=se,X.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(se){this.ctx.lineDash=se,X.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(se){this.ctx.ignoreClearRect=!!se}})};g.prototype.setLineDash=function(q){this.lineDash=q},g.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},g.prototype.fill=function(){M.call(this,"fill",!1)},g.prototype.stroke=function(){M.call(this,"stroke",!1)},g.prototype.beginPath=function(){this.path=[{type:"begin"}]},g.prototype.moveTo=function(q,Z){if(isNaN(q)||isNaN(Z))throw oa.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ae=this.ctx.transform.applyToPoint(new d(q,Z));this.path.push({type:"mt",x:ae.x,y:ae.y}),this.ctx.lastPoint=new d(q,Z)},g.prototype.closePath=function(){var q=new d(0,0),Z=0;for(Z=this.path.length-1;Z!==-1;Z--)if(this.path[Z].type==="begin"&&Xs(this.path[Z+1])==="object"&&typeof this.path[Z+1].x=="number"){q=new d(this.path[Z+1].x,this.path[Z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new d(q.x,q.y)},g.prototype.lineTo=function(q,Z){if(isNaN(q)||isNaN(Z))throw oa.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ae=this.ctx.transform.applyToPoint(new d(q,Z));this.path.push({type:"lt",x:ae.x,y:ae.y}),this.ctx.lastPoint=new d(ae.x,ae.y)},g.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),M.call(this,null,!0)},g.prototype.quadraticCurveTo=function(q,Z,ae,ue){if(isNaN(ae)||isNaN(ue)||isNaN(q)||isNaN(Z))throw oa.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var he=this.ctx.transform.applyToPoint(new d(ae,ue)),be=this.ctx.transform.applyToPoint(new d(q,Z));this.path.push({type:"qct",x1:be.x,y1:be.y,x:he.x,y:he.y}),this.ctx.lastPoint=new d(he.x,he.y)},g.prototype.bezierCurveTo=function(q,Z,ae,ue,he,be){if(isNaN(he)||isNaN(be)||isNaN(q)||isNaN(Z)||isNaN(ae)||isNaN(ue))throw oa.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Me=this.ctx.transform.applyToPoint(new d(he,be)),Ne=this.ctx.transform.applyToPoint(new d(q,Z)),Fe=this.ctx.transform.applyToPoint(new d(ae,ue));this.path.push({type:"bct",x1:Ne.x,y1:Ne.y,x2:Fe.x,y2:Fe.y,x:Me.x,y:Me.y}),this.ctx.lastPoint=new d(Me.x,Me.y)},g.prototype.arc=function(q,Z,ae,ue,he,be){if(isNaN(q)||isNaN(Z)||isNaN(ae)||isNaN(ue)||isNaN(he))throw oa.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(be=!!be,!this.ctx.transform.isIdentity){var Me=this.ctx.transform.applyToPoint(new d(q,Z));q=Me.x,Z=Me.y;var Ne=this.ctx.transform.applyToPoint(new d(0,ae)),Fe=this.ctx.transform.applyToPoint(new d(0,0));ae=Math.sqrt(Math.pow(Ne.x-Fe.x,2)+Math.pow(Ne.y-Fe.y,2))}Math.abs(he-ue)>=2*Math.PI&&(ue=0,he=2*Math.PI),this.path.push({type:"arc",x:q,y:Z,radius:ae,startAngle:ue,endAngle:he,counterclockwise:be})},g.prototype.arcTo=function(q,Z,ae,ue,he){throw new Error("arcTo not implemented.")},g.prototype.rect=function(q,Z,ae,ue){if(isNaN(q)||isNaN(Z)||isNaN(ae)||isNaN(ue))throw oa.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(q,Z),this.lineTo(q+ae,Z),this.lineTo(q+ae,Z+ue),this.lineTo(q,Z+ue),this.lineTo(q,Z),this.lineTo(q+ae,Z),this.lineTo(q,Z)},g.prototype.fillRect=function(q,Z,ae,ue){if(isNaN(q)||isNaN(Z)||isNaN(ae)||isNaN(ue))throw oa.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var he={};this.lineCap!=="butt"&&(he.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(he.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(q,Z,ae,ue),this.fill(),he.hasOwnProperty("lineCap")&&(this.lineCap=he.lineCap),he.hasOwnProperty("lineJoin")&&(this.lineJoin=he.lineJoin)}},g.prototype.strokeRect=function(q,Z,ae,ue){if(isNaN(q)||isNaN(Z)||isNaN(ae)||isNaN(ue))throw oa.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");w.call(this)||(this.beginPath(),this.rect(q,Z,ae,ue),this.stroke())},g.prototype.clearRect=function(q,Z,ae,ue){if(isNaN(q)||isNaN(Z)||isNaN(ae)||isNaN(ue))throw oa.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(q,Z,ae,ue))},g.prototype.save=function(q){q=typeof q!="boolean"||q;for(var Z=this.pdf.internal.getCurrentPageInfo().pageNumber,ae=0;ae<this.pdf.internal.getNumberOfPages();ae++)this.pdf.setPage(ae+1),this.pdf.internal.out("q");if(this.pdf.setPage(Z),q){this.ctx.fontSize=this.pdf.internal.getFontSize();var ue=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ue}},g.prototype.restore=function(q){q=typeof q!="boolean"||q;for(var Z=this.pdf.internal.getCurrentPageInfo().pageNumber,ae=0;ae<this.pdf.internal.getNumberOfPages();ae++)this.pdf.setPage(ae+1),this.pdf.internal.out("Q");this.pdf.setPage(Z),q&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},g.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(q){var Z,ae,ue,he;if(q.isCanvasGradient===!0&&(q=q.getColor()),!q)return{r:0,g:0,b:0,a:0,style:q};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(q))Z=0,ae=0,ue=0,he=0;else{var be=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(q);if(be!==null)Z=parseInt(be[1]),ae=parseInt(be[2]),ue=parseInt(be[3]),he=1;else if((be=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(q))!==null)Z=parseInt(be[1]),ae=parseInt(be[2]),ue=parseInt(be[3]),he=parseFloat(be[4]);else{if(he=1,typeof q=="string"&&q.charAt(0)!=="#"){var Me=new uN(q);q=Me.ok?Me.toHex():"#000000"}q.length===4?(Z=q.substring(1,2),Z+=Z,ae=q.substring(2,3),ae+=ae,ue=q.substring(3,4),ue+=ue):(Z=q.substring(1,3),ae=q.substring(3,5),ue=q.substring(5,7)),Z=parseInt(Z,16),ae=parseInt(ae,16),ue=parseInt(ue,16)}}return{r:Z,g:ae,b:ue,a:he,style:q}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},w=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};g.prototype.fillText=function(q,Z,ae,ue){if(isNaN(Z)||isNaN(ae)||typeof q!="string")throw oa.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ue=isNaN(ue)?void 0:ue,!f.call(this)){var he=F(this.ctx.transform.rotation),be=this.ctx.transform.scaleX;H.call(this,{text:q,x:Z,y:ae,scale:be,angle:he,align:this.textAlign,maxWidth:ue})}},g.prototype.strokeText=function(q,Z,ae,ue){if(isNaN(Z)||isNaN(ae)||typeof q!="string")throw oa.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!w.call(this)){ue=isNaN(ue)?void 0:ue;var he=F(this.ctx.transform.rotation),be=this.ctx.transform.scaleX;H.call(this,{text:q,x:Z,y:ae,scale:be,renderingMode:"stroke",angle:he,align:this.textAlign,maxWidth:ue})}},g.prototype.measureText=function(q){if(typeof q!="string")throw oa.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Z=this.pdf,ae=this.pdf.internal.scaleFactor,ue=Z.internal.getFontSize(),he=Z.getStringUnitWidth(q)*ue/Z.internal.scaleFactor;return new function(be){var Me=(be=be||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Me}}),this}({width:he*=Math.round(96*ae/72*1e4)/1e4})},g.prototype.scale=function(q,Z){if(isNaN(q)||isNaN(Z))throw oa.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ae=new u(q,0,0,Z,0,0);this.ctx.transform=this.ctx.transform.multiply(ae)},g.prototype.rotate=function(q){if(isNaN(q))throw oa.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Z=new u(Math.cos(q),Math.sin(q),-Math.sin(q),Math.cos(q),0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},g.prototype.translate=function(q,Z){if(isNaN(q)||isNaN(Z))throw oa.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ae=new u(1,0,0,1,q,Z);this.ctx.transform=this.ctx.transform.multiply(ae)},g.prototype.transform=function(q,Z,ae,ue,he,be){if(isNaN(q)||isNaN(Z)||isNaN(ae)||isNaN(ue)||isNaN(he)||isNaN(be))throw oa.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Me=new u(q,Z,ae,ue,he,be);this.ctx.transform=this.ctx.transform.multiply(Me)},g.prototype.setTransform=function(q,Z,ae,ue,he,be){q=isNaN(q)?1:q,Z=isNaN(Z)?0:Z,ae=isNaN(ae)?0:ae,ue=isNaN(ue)?1:ue,he=isNaN(he)?0:he,be=isNaN(be)?0:be,this.ctx.transform=new u(q,Z,ae,ue,he,be)};var S=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};g.prototype.drawImage=function(q,Z,ae,ue,he,be,Me,Ne,Fe){var Xe=this.pdf.getImageProperties(q),st=1,et=1,xe=1,se=1;ue!==void 0&&Ne!==void 0&&(xe=Ne/ue,se=Fe/he,st=Xe.width/ue*Ne/ue,et=Xe.height/he*Fe/he),be===void 0&&(be=Z,Me=ae,Z=0,ae=0),ue!==void 0&&Ne===void 0&&(Ne=ue,Fe=he),ue===void 0&&Ne===void 0&&(Ne=Xe.width,Fe=Xe.height);var Ze=this.ctx.transform.decompose(),Ft=F(Ze.rotate.shx),Ct=new u,Ve=(Ct=(Ct=(Ct=Ct.multiply(Ze.translate)).multiply(Ze.skew)).multiply(Ze.scale)).applyToRectangle(new x(be-Z*xe,Me-ae*se,ue*st,he*et));if(this.autoPaging){for(var wt,nt=v.call(this,Ve),kt=[],ft=0;ft<nt.length;ft+=1)kt.indexOf(nt[ft])===-1&&kt.push(nt[ft]);L(kt);for(var Ge=kt[0],Xt=kt[kt.length-1],gt=Ge;gt<Xt+1;gt++){this.pdf.setPage(gt);var cs=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],rs=gt===1?this.posY+this.margin[0]:this.margin[0],dt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Kt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],jt=gt===1?0:dt+(gt-2)*Kt;if(this.ctx.clip_path.length!==0){var Aa=this.path;wt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(wt,this.posX+this.margin[3],-jt+rs+this.ctx.prevPageLastElemOffset),T.call(this,"fill",!0),this.path=Aa}var xs=JSON.parse(JSON.stringify(Ve));xs=A([xs],this.posX+this.margin[3],-jt+rs+this.ctx.prevPageLastElemOffset)[0];var Tt=(gt>Ge||gt<Xt)&&S.call(this);Tt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],cs,Kt,null).clip().discardPath()),this.pdf.addImage(q,"JPEG",xs.x,xs.y,xs.w,xs.h,null,null,Ft),Tt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(q,"JPEG",Ve.x,Ve.y,Ve.w,Ve.h,null,null,Ft)};var v=function(q,Z,ae){var ue=[];Z=Z||this.pdf.internal.pageSize.width,ae=ae||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var he=this.posY+this.ctx.prevPageLastElemOffset;switch(q.type){default:case"mt":case"lt":ue.push(Math.floor((q.y+he)/ae)+1);break;case"arc":ue.push(Math.floor((q.y+he-q.radius)/ae)+1),ue.push(Math.floor((q.y+he+q.radius)/ae)+1);break;case"qct":var be=de(this.ctx.lastPoint.x,this.ctx.lastPoint.y,q.x1,q.y1,q.x,q.y);ue.push(Math.floor((be.y+he)/ae)+1),ue.push(Math.floor((be.y+be.h+he)/ae)+1);break;case"bct":var Me=ke(this.ctx.lastPoint.x,this.ctx.lastPoint.y,q.x1,q.y1,q.x2,q.y2,q.x,q.y);ue.push(Math.floor((Me.y+he)/ae)+1),ue.push(Math.floor((Me.y+Me.h+he)/ae)+1);break;case"rect":ue.push(Math.floor((q.y+he)/ae)+1),ue.push(Math.floor((q.y+q.h+he)/ae)+1)}for(var Ne=0;Ne<ue.length;Ne+=1)for(;this.pdf.internal.getNumberOfPages()<ue[Ne];)N.call(this);return ue},N=function(){var q=this.fillStyle,Z=this.strokeStyle,ae=this.font,ue=this.lineCap,he=this.lineWidth,be=this.lineJoin;this.pdf.addPage(),this.fillStyle=q,this.strokeStyle=Z,this.font=ae,this.lineCap=ue,this.lineWidth=he,this.lineJoin=be},A=function(q,Z,ae){for(var ue=0;ue<q.length;ue++)switch(q[ue].type){case"bct":q[ue].x2+=Z,q[ue].y2+=ae;case"qct":q[ue].x1+=Z,q[ue].y1+=ae;default:q[ue].x+=Z,q[ue].y+=ae}return q},L=function(q){return q.sort(function(Z,ae){return Z-ae})},M=function(q,Z){var ae=this.fillStyle,ue=this.strokeStyle,he=this.lineCap,be=this.lineWidth,Me=Math.abs(be*this.ctx.transform.scaleX),Ne=this.lineJoin;if(this.autoPaging){for(var Fe,Xe,st=JSON.parse(JSON.stringify(this.path)),et=JSON.parse(JSON.stringify(this.path)),xe=[],se=0;se<et.length;se++)if(et[se].x!==void 0)for(var Ze=v.call(this,et[se]),Ft=0;Ft<Ze.length;Ft+=1)xe.indexOf(Ze[Ft])===-1&&xe.push(Ze[Ft]);for(var Ct=0;Ct<xe.length;Ct++)for(;this.pdf.internal.getNumberOfPages()<xe[Ct];)N.call(this);L(xe);for(var Ve=xe[0],wt=xe[xe.length-1],nt=Ve;nt<wt+1;nt++){this.pdf.setPage(nt),this.fillStyle=ae,this.strokeStyle=ue,this.lineCap=he,this.lineWidth=Me,this.lineJoin=Ne;var kt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ft=nt===1?this.posY+this.margin[0]:this.margin[0],Ge=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Xt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],gt=nt===1?0:Ge+(nt-2)*Xt;if(this.ctx.clip_path.length!==0){var cs=this.path;Fe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(Fe,this.posX+this.margin[3],-gt+ft+this.ctx.prevPageLastElemOffset),T.call(this,q,!0),this.path=cs}if(Xe=JSON.parse(JSON.stringify(st)),this.path=A(Xe,this.posX+this.margin[3],-gt+ft+this.ctx.prevPageLastElemOffset),Z===!1||nt===0){var rs=(nt>Ve||nt<wt)&&S.call(this);rs&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],kt,Xt,null).clip().discardPath()),T.call(this,q,Z),rs&&this.pdf.restoreGraphicsState()}this.lineWidth=be}this.path=st}else this.lineWidth=Me,T.call(this,q,Z),this.lineWidth=be},T=function(q,Z){if((q!=="stroke"||Z||!w.call(this))&&(q==="stroke"||Z||!f.call(this))){for(var ae,ue,he=[],be=this.path,Me=0;Me<be.length;Me++){var Ne=be[Me];switch(Ne.type){case"begin":he.push({begin:!0});break;case"close":he.push({close:!0});break;case"mt":he.push({start:Ne,deltas:[],abs:[]});break;case"lt":var Fe=he.length;if(be[Me-1]&&!isNaN(be[Me-1].x)&&(ae=[Ne.x-be[Me-1].x,Ne.y-be[Me-1].y],Fe>0)){for(;Fe>=0;Fe--)if(he[Fe-1].close!==!0&&he[Fe-1].begin!==!0){he[Fe-1].deltas.push(ae),he[Fe-1].abs.push(Ne);break}}break;case"bct":ae=[Ne.x1-be[Me-1].x,Ne.y1-be[Me-1].y,Ne.x2-be[Me-1].x,Ne.y2-be[Me-1].y,Ne.x-be[Me-1].x,Ne.y-be[Me-1].y],he[he.length-1].deltas.push(ae);break;case"qct":var Xe=be[Me-1].x+2/3*(Ne.x1-be[Me-1].x),st=be[Me-1].y+2/3*(Ne.y1-be[Me-1].y),et=Ne.x+2/3*(Ne.x1-Ne.x),xe=Ne.y+2/3*(Ne.y1-Ne.y),se=Ne.x,Ze=Ne.y;ae=[Xe-be[Me-1].x,st-be[Me-1].y,et-be[Me-1].x,xe-be[Me-1].y,se-be[Me-1].x,Ze-be[Me-1].y],he[he.length-1].deltas.push(ae);break;case"arc":he.push({deltas:[],abs:[],arc:!0}),Array.isArray(he[he.length-1].abs)&&he[he.length-1].abs.push(Ne)}}ue=Z?null:q==="stroke"?"stroke":"fill";for(var Ft=!1,Ct=0;Ct<he.length;Ct++)if(he[Ct].arc)for(var Ve=he[Ct].abs,wt=0;wt<Ve.length;wt++){var nt=Ve[wt];nt.type==="arc"?B.call(this,nt.x,nt.y,nt.radius,nt.startAngle,nt.endAngle,nt.counterclockwise,void 0,Z,!Ft):$.call(this,nt.x,nt.y),Ft=!0}else if(he[Ct].close===!0)this.pdf.internal.out("h"),Ft=!1;else if(he[Ct].begin!==!0){var kt=he[Ct].start.x,ft=he[Ct].start.y;G.call(this,he[Ct].deltas,kt,ft),Ft=!0}ue&&P.call(this,ue),Z&&R.call(this)}},_=function(q){var Z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ae=Z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return q-ae;case"top":return q+Z-ae;case"hanging":return q+Z-2*ae;case"middle":return q+Z/2-ae;default:return q}},I=function(q){return q+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};g.prototype.createLinearGradient=function(){var q=function(){};return q.colorStops=[],q.addColorStop=function(Z,ae){this.colorStops.push([Z,ae])},q.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},q.isCanvasGradient=!0,q},g.prototype.createPattern=function(){return this.createLinearGradient()},g.prototype.createRadialGradient=function(){return this.createLinearGradient()};var B=function(q,Z,ae,ue,he,be,Me,Ne,Fe){for(var Xe=Q.call(this,ae,ue,he,be),st=0;st<Xe.length;st++){var et=Xe[st];st===0&&(Fe?W.call(this,et.x1+q,et.y1+Z):$.call(this,et.x1+q,et.y1+Z)),le.call(this,q,Z,et.x2,et.y2,et.x3,et.y3,et.x4,et.y4)}Ne?R.call(this):P.call(this,Me)},P=function(q){switch(q){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},R=function(){this.pdf.clip(),this.pdf.discardPath()},W=function(q,Z){this.pdf.internal.out(r(q)+" "+l(Z)+" m")},H=function(q){var Z;switch(q.align){case"right":case"end":Z="right";break;case"center":Z="center";break;default:Z="left"}var ae,ue,he,be=this.pdf.getTextDimensions(q.text),Me=_.call(this,q.y),Ne=I.call(this,Me)-be.h,Fe=this.ctx.transform.applyToPoint(new d(q.x,Me));if(this.autoPaging){var Xe=this.ctx.transform.decompose(),st=new u;st=(st=(st=st.multiply(Xe.translate)).multiply(Xe.skew)).multiply(Xe.scale);for(var et=this.ctx.transform.applyToRectangle(new x(q.x,Me,be.w,be.h)),xe=st.applyToRectangle(new x(q.x,Ne,be.w,be.h)),se=v.call(this,xe),Ze=[],Ft=0;Ft<se.length;Ft+=1)Ze.indexOf(se[Ft])===-1&&Ze.push(se[Ft]);L(Ze);for(var Ct=Ze[0],Ve=Ze[Ze.length-1],wt=Ct;wt<Ve+1;wt++){this.pdf.setPage(wt);var nt=wt===1?this.posY+this.margin[0]:this.margin[0],kt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ft=this.pdf.internal.pageSize.height-this.margin[2],Ge=ft-this.margin[0],Xt=this.pdf.internal.pageSize.width-this.margin[1],gt=Xt-this.margin[3],cs=wt===1?0:kt+(wt-2)*Ge;if(this.ctx.clip_path.length!==0){var rs=this.path;ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(ae,this.posX+this.margin[3],-1*cs+nt),T.call(this,"fill",!0),this.path=rs}var dt=A([JSON.parse(JSON.stringify(xe))],this.posX+this.margin[3],-cs+nt+this.ctx.prevPageLastElemOffset)[0];q.scale>=.01&&(ue=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ue*q.scale),he=this.lineWidth,this.lineWidth=he*q.scale);var Kt=this.autoPaging!=="text";if(Kt||dt.y+dt.h<=ft){if(Kt||dt.y>=nt&&dt.x<=Xt){var jt=Kt?q.text:this.pdf.splitTextToSize(q.text,q.maxWidth||Xt-dt.x)[0],Aa=A([JSON.parse(JSON.stringify(et))],this.posX+this.margin[3],-cs+nt+this.ctx.prevPageLastElemOffset)[0],xs=Kt&&(wt>Ct||wt<Ve)&&S.call(this);xs&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],gt,Ge,null).clip().discardPath()),this.pdf.text(jt,Aa.x,Aa.y,{angle:q.angle,align:Z,renderingMode:q.renderingMode}),xs&&this.pdf.restoreGraphicsState()}}else dt.y<ft&&(this.ctx.prevPageLastElemOffset+=ft-dt.y);q.scale>=.01&&(this.pdf.setFontSize(ue),this.lineWidth=he)}}else q.scale>=.01&&(ue=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ue*q.scale),he=this.lineWidth,this.lineWidth=he*q.scale),this.pdf.text(q.text,Fe.x+this.posX,Fe.y+this.posY,{angle:q.angle,align:Z,renderingMode:q.renderingMode,maxWidth:q.maxWidth}),q.scale>=.01&&(this.pdf.setFontSize(ue),this.lineWidth=he)},$=function(q,Z,ae,ue){ae=ae||0,ue=ue||0,this.pdf.internal.out(r(q+ae)+" "+l(Z+ue)+" l")},G=function(q,Z,ae){return this.pdf.lines(q,Z,ae,null,null)},le=function(q,Z,ae,ue,he,be,Me,Ne){this.pdf.internal.out([s(i(ae+q)),s(o(ue+Z)),s(i(he+q)),s(o(be+Z)),s(i(Me+q)),s(o(Ne+Z)),"c"].join(" "))},Q=function(q,Z,ae,ue){for(var he=2*Math.PI,be=Math.PI/2;Z>ae;)Z-=he;var Me=Math.abs(ae-Z);Me<he&&ue&&(Me=he-Me);for(var Ne=[],Fe=ue?-1:1,Xe=Z;Me>1e-5;){var st=Xe+Fe*Math.min(Me,be);Ne.push(ne.call(this,q,Xe,st)),Me-=Math.abs(st-Xe),Xe=st}return Ne},ne=function(q,Z,ae){var ue=(ae-Z)/2,he=q*Math.cos(ue),be=q*Math.sin(ue),Me=he,Ne=-be,Fe=Me*Me+Ne*Ne,Xe=Fe+Me*he+Ne*be,st=4/3*(Math.sqrt(2*Fe*Xe)-Xe)/(Me*be-Ne*he),et=Me-st*Ne,xe=Ne+st*Me,se=et,Ze=-xe,Ft=ue+Z,Ct=Math.cos(Ft),Ve=Math.sin(Ft);return{x1:q*Math.cos(Z),y1:q*Math.sin(Z),x2:et*Ct-xe*Ve,y2:et*Ve+xe*Ct,x3:se*Ct-Ze*Ve,y3:se*Ve+Ze*Ct,x4:q*Math.cos(ae),y4:q*Math.sin(ae)}},F=function(q){return 180*q/Math.PI},de=function(q,Z,ae,ue,he,be){var Me=q+.5*(ae-q),Ne=Z+.5*(ue-Z),Fe=he+.5*(ae-he),Xe=be+.5*(ue-be),st=Math.min(q,he,Me,Fe),et=Math.max(q,he,Me,Fe),xe=Math.min(Z,be,Ne,Xe),se=Math.max(Z,be,Ne,Xe);return new x(st,xe,et-st,se-xe)},ke=function(q,Z,ae,ue,he,be,Me,Ne){var Fe,Xe,st,et,xe,se,Ze,Ft,Ct,Ve,wt,nt,kt,ft,Ge=ae-q,Xt=ue-Z,gt=he-ae,cs=be-ue,rs=Me-he,dt=Ne-be;for(Xe=0;Xe<41;Xe++)Ct=(Ze=(st=q+(Fe=Xe/40)*Ge)+Fe*((xe=ae+Fe*gt)-st))+Fe*(xe+Fe*(he+Fe*rs-xe)-Ze),Ve=(Ft=(et=Z+Fe*Xt)+Fe*((se=ue+Fe*cs)-et))+Fe*(se+Fe*(be+Fe*dt-se)-Ft),Xe==0?(wt=Ct,nt=Ve,kt=Ct,ft=Ve):(wt=Math.min(wt,Ct),nt=Math.min(nt,Ve),kt=Math.max(kt,Ct),ft=Math.max(ft,Ve));return new x(Math.round(wt),Math.round(nt),Math.round(kt-wt),Math.round(ft-nt))},X=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var q,Z,ae=(q=this.ctx.lineDash,Z=this.ctx.lineDashOffset,JSON.stringify({lineDash:q,lineDashOffset:Z}));this.prevLineDash!==ae&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ae)}}})(yt.API),(function(t){var s=function(d){var x,u,h,p,g,y,f,w,S,v;for(u=[],h=0,p=(d+=x="\0\0\0\0".slice(d.length%4||4)).length;p>h;h+=4)(g=(d.charCodeAt(h)<<24)+(d.charCodeAt(h+1)<<16)+(d.charCodeAt(h+2)<<8)+d.charCodeAt(h+3))!==0?(y=(g=((g=((g=((g=(g-(v=g%85))/85)-(S=g%85))/85)-(w=g%85))/85)-(f=g%85))/85)%85,u.push(y+33,f+33,w+33,S+33,v+33)):u.push(122);return(function(N,A){for(var L=A;L>0;L--)N.pop()})(u,x.length),String.fromCharCode.apply(String,u)+"~>"},r=function(d){var x,u,h,p,g,y=String,f="length",w=255,S="charCodeAt",v="slice",N="replace";for(d[v](-2),d=d[v](0,-2)[N](/\s/g,"")[N]("z","!!!!!"),h=[],p=0,g=(d+=x="uuuuu"[v](d[f]%5||5))[f];g>p;p+=5)u=52200625*(d[S](p)-33)+614125*(d[S](p+1)-33)+7225*(d[S](p+2)-33)+85*(d[S](p+3)-33)+(d[S](p+4)-33),h.push(w&u>>24,w&u>>16,w&u>>8,w&u);return(function(A,L){for(var M=L;M>0;M--)A.pop()})(h,x[f]),y.fromCharCode.apply(y,h)},l=function(d){return d.split("").map(function(x){return("0"+x.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(d){var x=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((d=d.replace(/\s/g,"")).indexOf(">")!==-1&&(d=d.substr(0,d.indexOf(">"))),d.length%2&&(d+="0"),x.test(d)===!1)return"";for(var u="",h=0;h<d.length;h+=2)u+=String.fromCharCode("0x"+(d[h]+d[h+1]));return u},o=function(d){for(var x=new Uint8Array(d.length),u=d.length;u--;)x[u]=d.charCodeAt(u);return(x=Pf(x)).reduce(function(h,p){return h+String.fromCharCode(p)},"")};t.processDataByFilters=function(d,x){var u=0,h=d||"",p=[];for(typeof(x=x||[])=="string"&&(x=[x]),u=0;u<x.length;u+=1)switch(x[u]){case"ASCII85Decode":case"/ASCII85Decode":h=r(h),p.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":h=s(h),p.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":h=i(h),p.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":h=l(h),p.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":h=o(h),p.push("/FlateDecode");break;default:throw new Error('The filter: "'+x[u]+'" is not implemented')}return{data:h,reverseChain:p.reverse().join(" ")}}})(yt.API),(function(t){t.loadFile=function(s,r,l){return(function(i,o,d){o=o!==!1,d=typeof d=="function"?d:function(){};var x=void 0;try{x=(function(u,h,p){var g=new XMLHttpRequest,y=0,f=function(w){var S=w.length,v=[],N=String.fromCharCode;for(y=0;y<S;y+=1)v.push(N(255&w.charCodeAt(y)));return v.join("")};if(g.open("GET",u,!h),g.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(g.onload=function(){g.status===200?p(f(this.responseText)):p(void 0)}),g.send(null),h&&g.status===200)return f(g.responseText)})(i,o,d)}catch{}return x})(s,r,l)},t.allowFsRead=void 0,t.loadImageFile=t.loadFile})(yt.API),(function(t){function s(){return(Yt.html2canvas?Promise.resolve(Yt.html2canvas):Ch(()=>import("./html2canvas.esm-DXEQVQnt.js"),[])).catch(function(x){return Promise.reject(new Error("Could not load html2canvas: "+x))}).then(function(x){return x.default?x.default:x})}function r(){return(Yt.DOMPurify?Promise.resolve(Yt.DOMPurify):Ch(()=>import("./purify.es-Bzr520pe.js"),[])).catch(function(x){return Promise.reject(new Error("Could not load dompurify: "+x))}).then(function(x){return x.default?x.default:x})}var l=function(x){var u=Xs(x);return u==="undefined"?"undefined":u==="string"||x instanceof String?"string":u==="number"||x instanceof Number?"number":u==="function"||x instanceof Function?"function":x&&x.constructor===Array?"array":x&&x.nodeType===1?"element":u==="object"?"object":"unknown"},i=function(x,u){var h=document.createElement(x);for(var p in u.className&&(h.className=u.className),u.innerHTML&&u.dompurify&&(h.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)h.style[p]=u.style[p];return h},o=function x(u,h){for(var p=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),g=u.firstChild;g;g=g.nextSibling)h!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||p.appendChild(x(g,h));return u.nodeType===1&&(u.nodeName==="CANVAS"?(p.width=u.width,p.height=u.height,p.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(p.value=u.value),p.addEventListener("load",function(){p.scrollTop=u.scrollTop,p.scrollLeft=u.scrollLeft},!0)),p},d=function x(u){var h=Object.assign(x.convert(Promise.resolve()),JSON.parse(JSON.stringify(x.template))),p=x.convert(Promise.resolve(),h);return(p=p.setProgress(1,x,1,[x])).set(u)};(d.prototype=Object.create(Promise.prototype)).constructor=d,d.convert=function(x,u){return x.__proto__=u||d.prototype,x},d.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},d.prototype.from=function(x,u){return this.then(function(){switch(u=u||(function(h){switch(l(h)){case"string":return"string";case"element":return h.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(x),u){case"string":return this.then(r).then(function(h){return this.set({src:i("div",{innerHTML:x,dompurify:h})})});case"element":return this.set({src:x});case"canvas":return this.set({canvas:x});case"img":return this.set({img:x});default:return this.error("Unknown source type.")}})},d.prototype.to=function(x){switch(x){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},d.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var x={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(x.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:x}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},d.prototype.toCanvas=function(){var x=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(x).then(s).then(function(u){var h=Object.assign({},this.opt.html2canvas);return delete h.onrendered,u(this.prop.container,h)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},d.prototype.toContext2d=function(){var x=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(x).then(s).then(function(u){var h=this.opt.jsPDF,p=this.opt.fontFaces,g=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,y=Object.assign({async:!0,allowTaint:!0,scale:g,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete y.onrendered,h.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,h.context2d.posX=this.opt.x,h.context2d.posY=this.opt.y,h.context2d.margin=this.opt.margin,h.context2d.fontFaces=p,p)for(var f=0;f<p.length;++f){var w=p[f],S=w.src.find(function(v){return v.format==="truetype"});S&&h.addFont(S.url,w.ref.name,w.ref.style)}return y.windowHeight=y.windowHeight||0,y.windowHeight=y.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):y.windowHeight,h.context2d.save(!0),u(this.prop.container,y)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},d.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var x=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=x})},d.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},d.prototype.output=function(x,u,h){return(h=h||"pdf").toLowerCase()==="img"||h.toLowerCase()==="image"?this.outputImg(x,u):this.outputPdf(x,u)},d.prototype.outputPdf=function(x,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(x,u)})},d.prototype.outputImg=function(x){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(x){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+x+'" is not supported.'}})},d.prototype.save=function(x){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(x?{filename:x}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},d.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},d.prototype.set=function(x){if(l(x)!=="object")return this;var u=Object.keys(x||{}).map(function(h){if(h in d.template.prop)return function(){this.prop[h]=x[h]};switch(h){case"margin":return this.setMargin.bind(this,x.margin);case"jsPDF":return function(){return this.opt.jsPDF=x.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,x.pageSize);default:return function(){this.opt[h]=x[h]}}},this);return this.then(function(){return this.thenList(u)})},d.prototype.get=function(x,u){return this.then(function(){var h=x in d.template.prop?this.prop[x]:this.opt[x];return u?u(h):h})},d.prototype.setMargin=function(x){return this.then(function(){switch(l(x)){case"number":x=[x,x,x,x];case"array":if(x.length===2&&(x=[x[0],x[1],x[0],x[1]]),x.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=x}).then(this.setPageSize)},d.prototype.setPageSize=function(x){function u(h,p){return Math.floor(h*p/72*96)}return this.then(function(){(x=x||yt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(x.inner={width:x.width-this.opt.margin[1]-this.opt.margin[3],height:x.height-this.opt.margin[0]-this.opt.margin[2]},x.inner.px={width:u(x.inner.width,x.k),height:u(x.inner.height,x.k)},x.inner.ratio=x.inner.height/x.inner.width),this.prop.pageSize=x})},d.prototype.setProgress=function(x,u,h,p){return x!=null&&(this.progress.val=x),u!=null&&(this.progress.state=u),h!=null&&(this.progress.n=h),p!=null&&(this.progress.stack=p),this.progress.ratio=this.progress.val/this.progress.state,this},d.prototype.updateProgress=function(x,u,h,p){return this.setProgress(x?this.progress.val+x:null,u||null,h?this.progress.n+h:null,p?this.progress.stack.concat(p):null)},d.prototype.then=function(x,u){var h=this;return this.thenCore(x,u,function(p,g){return h.updateProgress(null,null,1,[p]),Promise.prototype.then.call(this,function(y){return h.updateProgress(null,p),y}).then(p,g).then(function(y){return h.updateProgress(1),y})})},d.prototype.thenCore=function(x,u,h){h=h||Promise.prototype.then;var p=this;x&&(x=x.bind(p)),u&&(u=u.bind(p));var g=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?p:d.convert(Object.assign({},p),Promise.prototype),y=h.call(g,x,u);return d.convert(y,p.__proto__)},d.prototype.thenExternal=function(x,u){return Promise.prototype.then.call(this,x,u)},d.prototype.thenList=function(x){var u=this;return x.forEach(function(h){u=u.thenCore(h)}),u},d.prototype.catch=function(x){x&&(x=x.bind(this));var u=Promise.prototype.catch.call(this,x);return d.convert(u,this)},d.prototype.catchExternal=function(x){return Promise.prototype.catch.call(this,x)},d.prototype.error=function(x){return this.then(function(){throw new Error(x)})},d.prototype.using=d.prototype.set,d.prototype.saveAs=d.prototype.save,d.prototype.export=d.prototype.output,d.prototype.run=d.prototype.then,yt.getPageSize=function(x,u,h){if(Xs(x)==="object"){var p=x;x=p.orientation,u=p.unit||u,h=p.format||h}u=u||"mm",h=h||"a4",x=(""+(x||"P")).toLowerCase();var g,y=(""+h).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":g=1;break;case"mm":g=72/25.4;break;case"cm":g=72/2.54;break;case"in":g=72;break;case"px":g=.75;break;case"pc":case"em":g=12;break;case"ex":g=6;break;default:throw"Invalid unit: "+u}var w,S=0,v=0;if(f.hasOwnProperty(y))S=f[y][1]/g,v=f[y][0]/g;else try{S=h[1],v=h[0]}catch{throw new Error("Invalid format: "+h)}if(x==="p"||x==="portrait")x="p",v>S&&(w=v,v=S,S=w);else{if(x!=="l"&&x!=="landscape")throw"Invalid orientation: "+x;x="l",S>v&&(w=v,v=S,S=w)}return{width:v,height:S,unit:u,k:g,orientation:x}},t.html=function(x,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(rf):null;var h=new d(u);return u.worker?h:h.from(x).doCallback()}})(yt.API),yt.API.addJS=function(t){var s,r,l=(function(i){for(var o="",d=0;d<i.length;d++){var x=i[d];if(x==="("||x===")"){for(var u=0,h=d-1;h>=0&&i[h]==="\\";h--)u++;o+=u%2==0?"\\"+x:x}else o+=x}return o})(t);return this.internal.events.subscribe("postPutResources",function(){s=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(s+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),r=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+l+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){s!==void 0&&r!==void 0&&this.internal.out("/Names <</JavaScript "+s+" 0 R>>")}),this},(function(t){var s;t.events.push(["postPutResources",function(){var r=this,l=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),o=0;o<i.length;o++){var d=i[o],x=l.exec(d);if(x!=null){var u=x[1];r.internal.newObjectDeferredBegin(u,!1)}r.internal.write(d)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,p=[];for(o=0;o<h;o++){var g=r.internal.newObject();p.push(g);var y=r.internal.getPageInfo(o+1);r.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var f=r.internal.newObject();for(r.internal.write("<< /Names [ "),o=0;o<p.length;o++)r.internal.write("(page_"+(o+1)+")"+p[o]+" 0 R");r.internal.write(" ] >>","endobj"),s=r.internal.newObject(),r.internal.write("<< /Dests "+f+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+s+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(l,i,o){var d={title:i,options:o,children:[]};return l==null&&(l=this.root),l.children.push(d),d},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(l){l.id=r.internal.newObjectDeferred();for(var i=0;i<l.children.length;i++)this.genIds_r(l.children[i])},r.outline.renderRoot=function(l){this.objStart(l),this.line("/Type /Outlines"),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1]))),this.line("/Count "+this.count_r({count:0},l)),this.objEnd()},r.outline.renderItems=function(l){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<l.children.length;o++){var d=l.children[o];this.objStart(d),this.line("/Title "+this.makeString(d.title)),this.line("/Parent "+this.makeRef(l)),o>0&&this.line("/Prev "+this.makeRef(l.children[o-1])),o<l.children.length-1&&this.line("/Next "+this.makeRef(l.children[o+1])),d.children.length>0&&(this.line("/First "+this.makeRef(d.children[0])),this.line("/Last "+this.makeRef(d.children[d.children.length-1])));var x=this.count=this.count_r({count:0},d);if(x>0&&this.line("/Count "+x),d.options&&d.options.pageNumber){var u=r.internal.getPageInfo(d.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var h=0;h<l.children.length;h++)this.renderItems(l.children[h])},r.outline.line=function(l){this.ctx.val+=l+`\r
`},r.outline.makeRef=function(l){return l.id+" 0 R"},r.outline.makeString=function(l){return"("+r.internal.pdfEscape(l)+")"},r.outline.objStart=function(l){this.ctx.val+=`\r
`+l.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(l,i){for(var o=0;o<i.children.length;o++)l.count++,this.count_r(l,i.children[o]);return l.count}}])})(yt.API),(function(t){var s=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,l,i,o,d,x){var u,h=this.decode.DCT_DECODE,p=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=d||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,u=(function(g){for(var y,f=256*g.charCodeAt(4)+g.charCodeAt(5),w=g.length,S={width:0,height:0,numcomponents:1},v=4;v<w;v+=2){if(v+=f,s.indexOf(g.charCodeAt(v+1))!==-1){y=256*g.charCodeAt(v+5)+g.charCodeAt(v+6),S={width:256*g.charCodeAt(v+7)+g.charCodeAt(v+8),height:y,numcomponents:g.charCodeAt(v+9)};break}f=256*g.charCodeAt(v+2)+g.charCodeAt(v+3)}return S})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),u.numcomponents){case 1:x=this.color_spaces.DEVICE_GRAY;break;case 4:x=this.color_spaces.DEVICE_CMYK;break;case 3:x=this.color_spaces.DEVICE_RGB}p={data:r,width:u.width,height:u.height,colorSpace:x,bitsPerComponent:8,filter:h,index:l,alias:i}}return p}})(yt.API),yt.API.processPNG=function(t,s,r,l){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,o=bE(t,{checkCrc:!0}),d=o.width,x=o.height,u=o.channels,h=o.palette,p=o.depth;i=h&&u===1?(function(B){for(var P=B.width,R=B.height,W=B.data,H=B.palette,$=B.depth,G=!1,le=[],Q=[],ne=void 0,F=!1,de=0,ke=0;ke<H.length;ke++){var X=my(H[ke],4),q=X[0],Z=X[1],ae=X[2],ue=X[3];le.push(q,Z,ae),ue!=null&&(ue===0?(de++,Q.length<1&&Q.push(ke)):ue<255&&(F=!0))}if(F||de>1){G=!0,Q=void 0;var he=P*R;ne=new Uint8Array(he);for(var be=new DataView(W.buffer),Me=0;Me<he;Me++){var Ne=nf(be,Me,$),Fe=my(H[Ne],4)[3];ne[Me]=Fe}}else de===0&&(Q=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:G?8:void 0,colorBytes:W,alphaBytes:ne,needSMask:G,palette:le,mask:Q}})(o):u===2||u===4?(function(B){for(var P=B.data,R=B.width,W=B.height,H=B.channels,$=B.depth,G=H===2?"DeviceGray":"DeviceRGB",le=H-1,Q=R*W,ne=le,F=Q*ne,de=1*Q,ke=Math.ceil(F*$/8),X=Math.ceil(de*$/8),q=new Uint8Array(ke),Z=new Uint8Array(X),ae=new DataView(P.buffer),ue=new DataView(q.buffer),he=new DataView(Z.buffer),be=!1,Me=0;Me<Q;Me++){for(var Ne=Me*H,Fe=0;Fe<ne;Fe++)g2(ue,nf(ae,Ne+Fe,$),Me*ne+Fe,$);var Xe=nf(ae,Ne+ne,$);Xe<(1<<$)-1&&(be=!0),g2(he,Xe,1*Me,$)}return{colorSpace:G,colorsPerPixel:le,sMaskBitsPerComponent:be?$:void 0,colorBytes:q,alphaBytes:Z,needSMask:be}})(o):(function(B){var P=B.data,R=B.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:R,colorsPerPixel:R==="DeviceGray"?1:3,colorBytes:P instanceof Uint16Array?(function(W){for(var H=W.length,$=new Uint8Array(2*H),G=new DataView($.buffer,$.byteOffset,$.byteLength),le=0;le<H;le++)G.setUint16(2*le,W[le],!1);return $})(P):P,needSMask:!1}})(o);var g,y,f,w=i,S=w.colorSpace,v=w.colorsPerPixel,N=w.sMaskBitsPerComponent,A=w.colorBytes,L=w.alphaBytes,M=w.needSMask,T=w.palette,_=w.mask,I=null;return l!==yt.API.image_compression.NONE&&typeof Pf=="function"?(I=(function(B){var P;switch(B){case yt.API.image_compression.FAST:P=11;break;case yt.API.image_compression.MEDIUM:P=13;break;case yt.API.image_compression.SLOW:P=14;break;default:P=12}return P})(l),g=this.decode.FLATE_DECODE,y="/Predictor ".concat(I," /Colors ").concat(v," /BitsPerComponent ").concat(p," /Columns ").concat(d),t=u2(A,Math.ceil(d*v*p/8),v,p,l),M&&(f=u2(L,Math.ceil(d*N/8),1,N,l))):(g=void 0,y=void 0,t=A,M&&(f=L)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:r,data:t,index:s,filter:g,decodeParameters:y,transparency:_,palette:T,sMask:f,predictor:I,width:d,height:x,bitsPerComponent:p,sMaskBitsPerComponent:N,colorSpace:S}}},(function(t){t.processGIF89A=function(s,r,l,i){var o=new BE(s),d=o.width,x=o.height,u=[];o.decodeAndBlitFrameRGBA(0,u);var h={data:u,width:d,height:x},p=new of(100).encode(h,100);return t.processJPEG.call(this,p,r,l,i)},t.processGIF87A=t.processGIF89A})(yt.API),Ci.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var s=0;s<t;s++){var r=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[s]={red:i,green:l,blue:r,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ci.prototype.parseBGR=function(){this.pos=this.offset;var t="bit"+this.bitPP,s=this.width*this.height*4;if(s>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(s);try{this[t]()}catch(r){oa.log("bit decode error:"+r)}},Ci.prototype.bit1=function(){var t,s=Math.ceil(this.width/8),r=s%4;for(t=this.height-1;t>=0;t--){for(var l=this.bottom_up?t:this.height-1-t,i=0;i<s;i++)for(var o=this.datav.getUint8(this.pos++,!0),d=l*this.width*4+8*i*4,x=0;x<8&&8*i+x<this.width;x++){var u=this.palette[o>>7-x&1];this.data[d+4*x]=u.blue,this.data[d+4*x+1]=u.green,this.data[d+4*x+2]=u.red,this.data[d+4*x+3]=255}r!==0&&(this.pos+=4-r)}},Ci.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),s=t%4,r=this.height-1;r>=0;r--){for(var l=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var o=this.datav.getUint8(this.pos++,!0),d=l*this.width*4+2*i*4,x=o>>4,u=15&o,h=this.palette[x];if(this.data[d]=h.blue,this.data[d+1]=h.green,this.data[d+2]=h.red,this.data[d+3]=255,2*i+1>=this.width)break;h=this.palette[u],this.data[d+4]=h.blue,this.data[d+4+1]=h.green,this.data[d+4+2]=h.red,this.data[d+4+3]=255}s!==0&&(this.pos+=4-s)}},Ci.prototype.bit8=function(){for(var t=this.width%4,s=this.height-1;s>=0;s--){for(var r=this.bottom_up?s:this.height-1-s,l=0;l<this.width;l++){var i=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+4*l;if(i<this.palette.length){var d=this.palette[i];this.data[o]=d.red,this.data[o+1]=d.green,this.data[o+2]=d.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}t!==0&&(this.pos+=4-t)}},Ci.prototype.bit15=function(){for(var t=this.width%3,s=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var l=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var d=(o&s)/s*255|0,x=(o>>5&s)/s*255|0,u=(o>>10&s)/s*255|0,h=o>>15?255:0,p=l*this.width*4+4*i;this.data[p]=u,this.data[p+1]=x,this.data[p+2]=d,this.data[p+3]=h}this.pos+=t}},Ci.prototype.bit16=function(){for(var t=this.width%3,s=parseInt("11111",2),r=parseInt("111111",2),l=this.height-1;l>=0;l--){for(var i=this.bottom_up?l:this.height-1-l,o=0;o<this.width;o++){var d=this.datav.getUint16(this.pos,!0);this.pos+=2;var x=(d&s)/s*255|0,u=(d>>5&r)/r*255|0,h=(d>>11)/s*255|0,p=i*this.width*4+4*o;this.data[p]=h,this.data[p+1]=u,this.data[p+2]=x,this.data[p+3]=255}this.pos+=t}},Ci.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var s=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var l=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),d=s*this.width*4+4*r;this.data[d]=o,this.data[d+1]=i,this.data[d+2]=l,this.data[d+3]=255}this.pos+=this.width%4}},Ci.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var s=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var l=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),d=this.datav.getUint8(this.pos++,!0),x=s*this.width*4+4*r;this.data[x]=o,this.data[x+1]=i,this.data[x+2]=l,this.data[x+3]=d}},Ci.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(s,r,l,i){var o=new Ci(s,!1),d=o.width,x=o.height,u={data:o.getData(),width:d,height:x},h=new of(100).encode(u,100);return t.processJPEG.call(this,h,r,l,i)}})(yt.API),v2.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(s,r,l,i){var o=new v2(s),d=o.width,x=o.height,u={data:o.getData(),width:d,height:x},h=new of(100).encode(u,100);return t.processJPEG.call(this,h,r,l,i)}})(yt.API),yt.API.processRGBA=function(t,s,r){for(var l=t.data,i=l.length,o=new Uint8Array(i/4*3),d=new Uint8Array(i/4),x=0,u=0,h=0;h<i;h+=4){var p=l[h],g=l[h+1],y=l[h+2],f=l[h+3];o[x++]=p,o[x++]=g,o[x++]=y,d[u++]=f}var w=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(d),data:w,index:s,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},yt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},L0=yt.API,fh=L0.getCharWidthsArray=function(t,s){var r,l,i=(s=s||{}).font||this.internal.getFont(),o=s.fontSize||this.internal.getFontSize(),d=s.charSpace||this.internal.getCharSpace(),x=s.widths?s.widths:i.metadata.Unicode.widths,u=x.fof?x.fof:1,h=s.kerning?s.kerning:i.metadata.Unicode.kerning,p=h.fof?h.fof:1,g=s.doKerning!==!1,y=0,f=t.length,w=0,S=x[0]||u,v=[];for(r=0;r<f;r++)l=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?v.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(l))+d*(1e3/o)||0)/1e3):(y=g&&Xs(h[l])==="object"&&!isNaN(parseInt(h[l][w],10))?h[l][w]/p:0,v.push((x[l]||S)/u+y)),w=l;return v},c2=L0.getStringUnitWidth=function(t,s){var r=(s=s||{}).fontSize||this.internal.getFontSize(),l=s.font||this.internal.getFont(),i=s.charSpace||this.internal.getCharSpace();return L0.processArabic&&(t=L0.processArabic(t)),typeof l.metadata.widthOfString=="function"?l.metadata.widthOfString(t,r,i)/r:fh.apply(this,arguments).reduce(function(o,d){return o+d},0)},d2=function(t,s,r,l){for(var i=[],o=0,d=t.length,x=0;o!==d&&x+s[o]<r;)x+=s[o],o++;i.push(t.slice(0,o));var u=o;for(x=0;o!==d;)x+s[o]>l&&(i.push(t.slice(u,o)),x=0,u=o),x+=s[o],o++;return u!==o&&i.push(t.slice(u,o)),i},x2=function(t,s,r){r||(r={});var l,i,o,d,x,u,h,p=[],g=[p],y=r.textIndent||0,f=0,w=0,S=t.split(" "),v=fh.apply(this,[" ",r])[0];if(u=r.lineIndent===-1?S[0].length+2:r.lineIndent||0){var N=Array(u).join(" "),A=[];S.map(function(M){(M=M.split(/\s*\n/)).length>1?A=A.concat(M.map(function(T,_){return(_&&T.length?`
`:"")+T})):A.push(M[0])}),S=A,u=c2.apply(this,[N,r])}for(o=0,d=S.length;o<d;o++){var L=0;if(l=S[o],u&&l[0]==`
`&&(l=l.substr(1),L=1),y+f+(w=(i=fh.apply(this,[l,r])).reduce(function(M,T){return M+T},0))>s||L){if(w>s){for(x=d2.apply(this,[l,i,s-(y+f),s]),p.push(x.shift()),p=[x.pop()];x.length;)g.push([x.shift()]);w=i.slice(l.length-(p[0]?p[0].length:0)).reduce(function(M,T){return M+T},0)}else p=[l];g.push(p),y=w+u,f=v}else p.push(l),y+=f+w,f=v}return h=u?function(M,T){return(T?N:"")+M.join(" ")}:function(M){return M.join(" ")},g.map(h)},L0.splitTextToSize=function(t,s,r){var l,i=(r=r||{}).fontSize||this.internal.getFontSize(),o=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var g=this.internal.getFont(p.fontName,p.fontStyle),y="Unicode";return g.metadata[y]?{widths:g.metadata[y].widths||{0:1},kerning:g.metadata[y].kerning||{}}:{font:g.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);l=Array.isArray(t)?t:String(t).split(/\r?\n/);var d=1*this.internal.scaleFactor*s/i;o.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,o.lineIndent=r.lineIndent;var x,u,h=[];for(x=0,u=l.length;x<u;x++)h=h.concat(x2.apply(this,[l[x],d,o]));return h},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var s="0123456789abcdef",r="klmnopqrstuvwxyz",l={},i={},o=0;o<16;o++)l[r[o]]=s[o],i[s[o]]=r[o];var d=function(y){return"0x"+parseInt(y,10).toString(16)},x=t.__fontmetrics__.compress=function(y){var f,w,S,v,N=["{"];for(var A in y){if(f=y[A],isNaN(parseInt(A,10))?w="'"+A+"'":(A=parseInt(A,10),w=(w=d(A).slice(2)).slice(0,-1)+i[w.slice(-1)]),typeof f=="number")f<0?(S=d(f).slice(3),v="-"):(S=d(f).slice(2),v=""),S=v+S.slice(0,-1)+i[S.slice(-1)];else{if(Xs(f)!=="object")throw new Error("Don't know what to do with value type "+Xs(f)+".");S=x(f)}N.push(w+S)}return N.push("}"),N.join("")},u=t.__fontmetrics__.uncompress=function(y){if(typeof y!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,w,S,v,N={},A=1,L=N,M=[],T="",_="",I=y.length-1,B=1;B<I;B+=1)(v=y[B])=="'"?f?(S=f.join(""),f=void 0):f=[]:f?f.push(v):v=="{"?(M.push([L,S]),L={},S=void 0):v=="}"?((w=M.pop())[0][w[1]]=L,S=void 0,L=w[0]):v=="-"?A=-1:S===void 0?l.hasOwnProperty(v)?(T+=l[v],S=parseInt(T,16)*A,A=1,T=""):T+=v:l.hasOwnProperty(v)?(_+=l[v],L[S]=parseInt(_,16)*A,A=1,S=void 0,_=""):_+=v;return N},h={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},p={Unicode:{Courier:h,"Courier-Bold":h,"Courier-BoldOblique":h,"Courier-Oblique":h,Helvetica:h,"Helvetica-Bold":h,"Helvetica-BoldOblique":h,"Helvetica-Oblique":h,"Times-Roman":h,"Times-Bold":h,"Times-BoldItalic":h,"Times-Italic":h}},g={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(y){var f=y.font,w=g.Unicode[f.postScriptName];w&&(f.metadata.Unicode={},f.metadata.Unicode.widths=w.widths,f.metadata.Unicode.kerning=w.kerning);var S=p.Unicode[f.postScriptName];S&&(f.metadata.Unicode.encoding=S,f.encoding=S.codePages[0])}])})(yt.API),(function(t){var s=function(r){for(var l=r.length,i=new Uint8Array(l),o=0;o<l;o++)i[o]=r.charCodeAt(o);return i};t.API.events.push(["addFont",function(r){var l=void 0,i=r.font,o=r.instance;if(!i.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(l=o.existsFileInVFS(i.postScriptName)===!1?o.loadFile(i.postScriptName):o.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(d,x){x=/^\x00\x01\x00\x00/.test(x)?s(x):s(Mh(x)),d.metadata=t.API.TTFFont.open(x),d.metadata.Unicode=d.metadata.Unicode||{encoding:{},kerning:{},widths:[]},d.metadata.glyIdsUsed=[0]})(i,l)}}])})(yt),yt.API.addSvgAsImage=function(t,s,r,l,i,o,d,x){if(isNaN(s)||isNaN(r))throw oa.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(l)||isNaN(i))throw oa.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=l,u.height=i;var h=u.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,u.width,u.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return(Yt.canvg?Promise.resolve(Yt.canvg):Ch(()=>import("./index.es-BQllNFiG.js"),[])).catch(function(y){return Promise.reject(new Error("Could not load canvg: "+y))}).then(function(y){return y.default?y.default:y}).then(function(y){return y.fromString(h,t,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(y){return y.render(p)}).then(function(){g.addImage(u.toDataURL("image/jpeg",1),s,r,l,i,d,x)})},yt.API.putTotalPages=function(t){var s,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(s=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(s=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var l=1;l<=this.internal.getNumberOfPages();l++)for(var i=0;i<this.internal.pages[l].length;i++)this.internal.pages[l][i]=this.internal.pages[l][i].replace(s,r);return this},yt.API.viewerPreferences=function(t,s){var r;t=t||{},s=s||!1;var l,i,o,d={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},x=Object.keys(d),u=[],h=0,p=0,g=0;function y(w,S){var v,N=!1;for(v=0;v<w.length;v+=1)w[v]===S&&(N=!0);return N}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(d)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||s===!0){var f=x.length;for(g=0;g<f;g+=1)r[x[g]].value=r[x[g]].defaultValue,r[x[g]].explicitSet=!1}if(Xs(t)==="object"){for(i in t)if(o=t[i],y(x,i)&&o!==void 0){if(r[i].type==="boolean"&&typeof o=="boolean")r[i].value=o;else if(r[i].type==="name"&&y(r[i].valueSet,o))r[i].value=o;else if(r[i].type==="integer"&&Number.isInteger(o))r[i].value=o;else if(r[i].type==="array"){for(h=0;h<o.length;h+=1)if(l=!0,o[h].length===1&&typeof o[h][0]=="number")u.push(String(o[h]-1));else if(o[h].length>1){for(p=0;p<o[h].length;p+=1)typeof o[h][p]!="number"&&(l=!1);l===!0&&u.push([o[h][0]-1,o[h][1]-1].join(" "))}r[i].value="["+u.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var w,S=[];for(w in r)r[w].explicitSet===!0&&(r[w].type==="name"?S.push("/"+w+" /"+r[w].value):S.push("/"+w+" "+r[w].value));S.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+S.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},yt.API.addMetadata=function(t,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:t,namespaceUri:s??"http://jspdf.default.namespaceuri/",rawXml:typeof s=="boolean"&&s},this.internal.events.subscribe("putCatalog",UE),this.internal.events.subscribe("postPutResources",IE)),this},(function(t){var s=t.API,r=s.pdfEscape16=function(o,d){for(var x,u=d.metadata.Unicode.widths,h=["","0","00","000","0000"],p=[""],g=0,y=o.length;g<y;++g){if(x=d.metadata.characterToGlyph(o.charCodeAt(g)),d.metadata.glyIdsUsed.push(x),d.metadata.toUnicode[x]=o.charCodeAt(g),u.indexOf(x)==-1&&(u.push(x),u.push([parseInt(d.metadata.widthOfGlyph(x),10)])),x=="0")return p.join("");x=x.toString(16),p.push(h[4-x.length],x)}return p.join("")},l=function(o){var d,x,u,h,p,g,y;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],g=0,y=(x=Object.keys(o).sort(function(f,w){return f-w})).length;g<y;g++)d=x[g],u.length>=100&&(p+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),o[d]!==void 0&&o[d]!==null&&typeof o[d].toString=="function"&&(h=("0000"+o[d].toString(16)).slice(-4),d=("0000"+(+d).toString(16)).slice(-4),u.push("<"+d+"><"+h+">"));return u.length&&(p+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),p+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};s.events.push(["putFont",function(o){(function(d){var x=d.font,u=d.out,h=d.newObject,p=d.putStream;if(x.metadata instanceof t.API.TTFFont&&x.encoding==="Identity-H"){for(var g=x.metadata.Unicode.widths,y=x.metadata.subset.encode(x.metadata.glyIdsUsed,1),f="",w=0;w<y.length;w++)f+=String.fromCharCode(y[w]);var S=h();p({data:f,addLength1:!0,objectId:S}),u("endobj");var v=h();p({data:l(x.metadata.toUnicode),addLength1:!0,objectId:v}),u("endobj");var N=h();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+E0(x.fontName)),u("/FontFile2 "+S+" 0 R"),u("/FontBBox "+t.API.PDFObject.convert(x.metadata.bbox)),u("/Flags "+x.metadata.flags),u("/StemV "+x.metadata.stemV),u("/ItalicAngle "+x.metadata.italicAngle),u("/Ascent "+x.metadata.ascender),u("/Descent "+x.metadata.decender),u("/CapHeight "+x.metadata.capHeight),u(">>"),u("endobj");var A=h();u("<<"),u("/Type /Font"),u("/BaseFont /"+E0(x.fontName)),u("/FontDescriptor "+N+" 0 R"),u("/W "+t.API.PDFObject.convert(g)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+x.encoding+")"),u(">>"),u(">>"),u("endobj"),x.objectNumber=h(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+v+" 0 R"),u("/BaseFont /"+E0(x.fontName)),u("/Encoding /"+x.encoding),u("/DescendantFonts ["+A+" 0 R]"),u(">>"),u("endobj"),x.isAlreadyPutted=!0}})(o)}]),s.events.push(["putFont",function(o){(function(d){var x=d.font,u=d.out,h=d.newObject,p=d.putStream;if(x.metadata instanceof t.API.TTFFont&&x.encoding==="WinAnsiEncoding"){for(var g=x.metadata.rawData,y="",f=0;f<g.length;f++)y+=String.fromCharCode(g[f]);var w=h();p({data:y,addLength1:!0,objectId:w}),u("endobj");var S=h();p({data:l(x.metadata.toUnicode),addLength1:!0,objectId:S}),u("endobj");var v=h();u("<<"),u("/Descent "+x.metadata.decender),u("/CapHeight "+x.metadata.capHeight),u("/StemV "+x.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+w+" 0 R"),u("/Flags 96"),u("/FontBBox "+t.API.PDFObject.convert(x.metadata.bbox)),u("/FontName /"+E0(x.fontName)),u("/ItalicAngle "+x.metadata.italicAngle),u("/Ascent "+x.metadata.ascender),u(">>"),u("endobj"),x.objectNumber=h();for(var N=0;N<x.metadata.hmtx.widths.length;N++)x.metadata.hmtx.widths[N]=parseInt(x.metadata.hmtx.widths[N]*(1e3/x.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+S+" 0 R/BaseFont/"+E0(x.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+x.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(x.metadata.hmtx.widths)+">>"),u("endobj"),x.isAlreadyPutted=!0}})(o)}]);var i=function(o){var d,x=o.text||"",u=o.x,h=o.y,p=o.options||{},g=o.mutex||{},y=g.pdfEscape,f=g.activeFontKey,w=g.fonts,S=f,v="",N=0,A="",L=w[S].encoding;if(w[S].encoding!=="Identity-H")return{text:x,x:u,y:h,options:p,mutex:g};for(A=x,S=f,Array.isArray(x)&&(A=x[0]),N=0;N<A.length;N+=1)w[S].metadata.hasOwnProperty("cmap")&&(d=w[S].metadata.cmap.unicode.codeMap[A[N].charCodeAt(0)]),d||A[N].charCodeAt(0)<256&&w[S].metadata.hasOwnProperty("Unicode")?v+=A[N]:v+="";var M="";return parseInt(S.slice(1))<14||L==="WinAnsiEncoding"?M=y(v,S).split("").map(function(T){return T.charCodeAt(0).toString(16)}).join(""):L==="Identity-H"&&(M=r(v,w[S])),g.isHex=!0,{text:M,x:u,y:h,options:p,mutex:g}};s.events.push(["postProcessText",function(o){var d=o.text||"",x=[],u={text:d,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(d)){var h=0;for(h=0;h<d.length;h+=1)Array.isArray(d[h])&&d[h].length===3?x.push([i(Object.assign({},u,{text:d[h][0]})).text,d[h][1],d[h][2]]):x.push(i(Object.assign({},u,{text:d[h]})).text);o.text=x}else o.text=i(Object.assign({},u,{text:d})).text}])})(yt),(function(t){var s=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return s.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,l){return s.call(this),this.internal.vFS[r]=l,this},t.getFileFromVFS=function(r){return s.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(yt.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(l){var i,o,d,x,u,h,p,g=s,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],w={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},S={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],N=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),A=!1,L=0;this.__bidiEngine__={};var M=function(W){var H=W.charCodeAt(),$=H>>8,G=S[$];return G!==void 0?g[256*G+(255&H)]:$===252||$===253?"AL":N.test($)?"L":$===8?"R":"N"},T=function(W){for(var H,$=0;$<W.length;$++){if((H=M(W.charAt($)))==="L")return!1;if(H==="R")return!0}return!1},_=function(W,H,$,G){var le,Q,ne,F,de=H[G];switch(de){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":A=!1;break;case"N":case"AN":break;case"EN":A&&(de="AN");break;case"AL":A=!0,de="R";break;case"WS":case"BN":de="N";break;case"CS":G<1||G+1>=H.length||(le=$[G-1])!=="EN"&&le!=="AN"||(Q=H[G+1])!=="EN"&&Q!=="AN"?de="N":A&&(Q="AN"),de=Q===le?Q:"N";break;case"ES":de=(le=G>0?$[G-1]:"B")==="EN"&&G+1<H.length&&H[G+1]==="EN"?"EN":"N";break;case"ET":if(G>0&&$[G-1]==="EN"){de="EN";break}if(A){de="N";break}for(ne=G+1,F=H.length;ne<F&&H[ne]==="ET";)ne++;de=ne<F&&H[ne]==="EN"?"EN":"N";break;case"NSM":if(d&&!x){for(F=H.length,ne=G+1;ne<F&&H[ne]==="NSM";)ne++;if(ne<F){var ke=W[G],X=ke>=1425&&ke<=2303||ke===64286;if(le=H[ne],X&&(le==="R"||le==="AL")){de="R";break}}}de=G<1||(le=H[G-1])==="B"?"N":$[G-1];break;case"B":A=!1,i=!0,de=L;break;case"S":o=!0,de="N"}return de},I=function(W,H,$){var G=W.split("");return $&&B(G,$,{hiLevel:L}),G.reverse(),H&&H.reverse(),G.join("")},B=function(W,H,$){var G,le,Q,ne,F,de=-1,ke=W.length,X=0,q=[],Z=L?f:y,ae=[];for(A=!1,i=!1,o=!1,le=0;le<ke;le++)ae[le]=M(W[le]);for(Q=0;Q<ke;Q++){if(F=X,q[Q]=_(W,ae,q,Q),G=240&(X=Z[F][w[q[Q]]]),X&=15,H[Q]=ne=Z[X][5],G>0)if(G===16){for(le=de;le<Q;le++)H[le]=1;de=-1}else de=-1;if(Z[X][6])de===-1&&(de=Q);else if(de>-1){for(le=de;le<Q;le++)H[le]=ne;de=-1}ae[Q]==="B"&&(H[Q]=0),$.hiLevel|=ne}o&&(function(ue,he,be){for(var Me=0;Me<be;Me++)if(ue[Me]==="S"){he[Me]=L;for(var Ne=Me-1;Ne>=0&&ue[Ne]==="WS";Ne--)he[Ne]=L}})(ae,H,ke)},P=function(W,H,$,G,le){if(!(le.hiLevel<W)){if(W===1&&L===1&&!i)return H.reverse(),void($&&$.reverse());for(var Q,ne,F,de,ke=H.length,X=0;X<ke;){if(G[X]>=W){for(F=X+1;F<ke&&G[F]>=W;)F++;for(de=X,ne=F-1;de<ne;de++,ne--)Q=H[de],H[de]=H[ne],H[ne]=Q,$&&(Q=$[de],$[de]=$[ne],$[ne]=Q);X=F}X++}}},R=function(W,H,$){var G=W.split(""),le={hiLevel:L};return $||($=[]),B(G,$,le),(function(Q,ne,F){if(F.hiLevel!==0&&p)for(var de,ke=0;ke<Q.length;ke++)ne[ke]===1&&(de=v.indexOf(Q[ke]))>=0&&(Q[ke]=v[de+1])})(G,$,le),P(2,G,H,$,le),P(1,G,H,$,le),G.join("")};return this.__bidiEngine__.doBidiReorder=function(W,H,$){if((function(le,Q){if(Q)for(var ne=0;ne<le.length;ne++)Q[ne]=ne;x===void 0&&(x=T(le)),h===void 0&&(h=T(le))})(W,H),d||!u||h)if(d&&u&&x^h)L=x?1:0,W=I(W,H,$);else if(!d&&u&&h)L=x?1:0,W=R(W,H,$),W=I(W,H);else if(!d||x||u||h){if(d&&!u&&x^h)W=I(W,H),x?(L=0,W=R(W,H,$)):(L=1,W=R(W,H,$),W=I(W,H));else if(d&&x&&!u&&h)L=1,W=R(W,H,$),W=I(W,H);else if(!d&&!u&&x^h){var G=p;x?(L=1,W=R(W,H,$),L=0,p=!1,W=R(W,H,$),p=G):(L=0,W=R(W,H,$),W=I(W,H),L=1,p=!1,W=R(W,H,$),p=G,W=I(W,H))}}else L=0,W=R(W,H,$);else L=x?1:0,W=R(W,H,$);return W},this.__bidiEngine__.setOptions=function(W){W&&(d=W.isInputVisual,u=W.isOutputVisual,x=W.isInputRtl,h=W.isOutputRtl,p=W.isSymmetricSwapping)},this.__bidiEngine__.setOptions(l),this.__bidiEngine__};var s=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(l){var i=l.text;l.x,l.y;var o=l.options||{};l.mutex,o.lang;var d=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,r.setOptions(o),Object.prototype.toString.call(i)==="[object Array]"){var x=0;for(d=[],x=0;x<i.length;x+=1)Object.prototype.toString.call(i[x])==="[object Array]"?d.push([r.doBidiReorder(i[x][0]),i[x][1],i[x][2]]):d.push([r.doBidiReorder(i[x])]);l.text=d}else l.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])})(yt),yt.API.TTFFont=(function(){function t(s){var r;if(this.rawData=s,r=this.contents=new Pc(s),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new sT(this),this.registerTTF()}return t.open=function(s){return new t(s)},t.prototype.parse=function(){return this.directory=new $E(this.contents),this.head=new HE(this),this.name=new XE(this),this.cmap=new NN(this),this.toUnicode={},this.hhea=new WE(this),this.maxp=new KE(this),this.hmtx=new JE(this),this.post=new VE(this),this.os2=new GE(this),this.loca=new tT(this),this.glyf=new ZE(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var s,r,l,i,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var d,x,u,h;for(h=[],d=0,x=(u=this.bbox).length;d<x;d++)s=u[d],h.push(Math.round(s*this.scaleFactor));return h}).call(this),this.stemV=0,this.post.exists?(l=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+l)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(s){var r;return((r=this.cmap.unicode)!=null?r.codeMap[s]:void 0)||0},t.prototype.widthOfGlyph=function(s){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(s).advance*r},t.prototype.widthOfString=function(s,r,l){var i,o,d,x;for(d=0,o=0,x=(s=""+s).length;0<=x?o<x:o>x;o=0<=x?++o:--o)i=s.charCodeAt(o),d+=this.widthOfGlyph(this.characterToGlyph(i))+l*(1e3/r)||0;return d*(r/1e3)},t.prototype.lineHeight=function(s,r){var l;return r==null&&(r=!1),l=r?this.lineGap:0,(this.ascender+l-this.decender)/1e3*s},t})();var Ei,Pc=(function(){function t(s){this.data=s??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(s){return this.data[this.pos++]=s},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(s){return this.writeByte(s>>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s)},t.prototype.readInt32=function(){var s;return(s=this.readUInt32())>=2147483648?s-4294967296:s},t.prototype.writeInt32=function(s){return s<0&&(s+=4294967296),this.writeUInt32(s)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(s){return this.writeByte(s>>8&255),this.writeByte(255&s)},t.prototype.readInt16=function(){var s;return(s=this.readUInt16())>=32768?s-65536:s},t.prototype.writeInt16=function(s){return s<0&&(s+=65536),this.writeUInt16(s)},t.prototype.readString=function(s){var r,l;for(l=[],r=0;0<=s?r<s:r>s;r=0<=s?++r:--r)l[r]=String.fromCharCode(this.readByte());return l.join("")},t.prototype.writeString=function(s){var r,l,i;for(i=[],r=0,l=s.length;0<=l?r<l:r>l;r=0<=l?++r:--r)i.push(this.writeByte(s.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(s){return this.writeInt16(s)},t.prototype.readLongLong=function(){var s,r,l,i,o,d,x,u;return s=this.readByte(),r=this.readByte(),l=this.readByte(),i=this.readByte(),o=this.readByte(),d=this.readByte(),x=this.readByte(),u=this.readByte(),128&s?-1*(72057594037927940*(255^s)+281474976710656*(255^r)+1099511627776*(255^l)+4294967296*(255^i)+16777216*(255^o)+65536*(255^d)+256*(255^x)+(255^u)+1):72057594037927940*s+281474976710656*r+1099511627776*l+4294967296*i+16777216*o+65536*d+256*x+u},t.prototype.writeLongLong=function(s){var r,l;return r=Math.floor(s/4294967296),l=4294967295&s,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(l>>24&255),this.writeByte(l>>16&255),this.writeByte(l>>8&255),this.writeByte(255&l)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(s){return this.writeInt32(s)},t.prototype.read=function(s){var r,l;for(r=[],l=0;0<=s?l<s:l>s;l=0<=s?++l:--l)r.push(this.readByte());return r},t.prototype.write=function(s){var r,l,i,o;for(o=[],l=0,i=s.length;l<i;l++)r=s[l],o.push(this.writeByte(r));return o},t})(),$E=(function(){var t;function s(r){var l,i,o;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,o=this.tableCount;0<=o?i<o:i>o;i=0<=o?++i:--i)l={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[l.tag]=l}return s.prototype.encode=function(r){var l,i,o,d,x,u,h,p,g,y,f,w,S;for(S in f=Object.keys(r).length,u=Math.log(2),g=16*Math.floor(Math.log(f)/u),d=Math.floor(g/u),p=16*f-g,(i=new Pc).writeInt(this.scalarType),i.writeShort(f),i.writeShort(g),i.writeShort(d),i.writeShort(p),o=16*f,h=i.pos+o,x=null,w=[],r)for(y=r[S],i.writeString(S),i.writeInt(t(y)),i.writeInt(h),i.writeInt(y.length),w=w.concat(y),S==="head"&&(x=h),h+=y.length;h%4;)w.push(0),h++;return i.write(w),l=2981146554-t(i.data),i.pos=x+8,i.writeUInt32(l),i.data},t=function(r){var l,i,o,d;for(r=kN.call(r);r.length%4;)r.push(0);for(o=new Pc(r),i=0,l=0,d=r.length;l<d;l=l+=4)i+=o.readUInt32();return 4294967295&i},s})(),qE={}.hasOwnProperty,ao=function(t,s){for(var r in s)qE.call(s,r)&&(t[r]=s[r]);function l(){this.constructor=t}return l.prototype=s.prototype,t.prototype=new l,t.__super__=s.prototype,t};Ei=(function(){function t(s){var r;this.file=s,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var HE=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ao(t,Ei),t.prototype.tag="head",t.prototype.parse=function(s){return s.pos=this.offset,this.version=s.readInt(),this.revision=s.readInt(),this.checkSumAdjustment=s.readInt(),this.magicNumber=s.readInt(),this.flags=s.readShort(),this.unitsPerEm=s.readShort(),this.created=s.readLongLong(),this.modified=s.readLongLong(),this.xMin=s.readShort(),this.yMin=s.readShort(),this.xMax=s.readShort(),this.yMax=s.readShort(),this.macStyle=s.readShort(),this.lowestRecPPEM=s.readShort(),this.fontDirectionHint=s.readShort(),this.indexToLocFormat=s.readShort(),this.glyphDataFormat=s.readShort()},t.prototype.encode=function(s){var r;return(r=new Pc).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(s),r.writeShort(this.glyphDataFormat),r.data},t})(),y2=(function(){function t(s,r){var l,i,o,d,x,u,h,p,g,y,f,w,S,v,N,A,L;switch(this.platformID=s.readUInt16(),this.encodingID=s.readShort(),this.offset=r+s.readInt(),g=s.pos,s.pos=this.offset,this.format=s.readUInt16(),this.length=s.readUInt16(),this.language=s.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=s.readByte();break;case 4:for(f=s.readUInt16(),y=f/2,s.pos+=6,o=(function(){var M,T;for(T=[],u=M=0;0<=y?M<y:M>y;u=0<=y?++M:--M)T.push(s.readUInt16());return T})(),s.pos+=2,S=(function(){var M,T;for(T=[],u=M=0;0<=y?M<y:M>y;u=0<=y?++M:--M)T.push(s.readUInt16());return T})(),h=(function(){var M,T;for(T=[],u=M=0;0<=y?M<y:M>y;u=0<=y?++M:--M)T.push(s.readUInt16());return T})(),p=(function(){var M,T;for(T=[],u=M=0;0<=y?M<y:M>y;u=0<=y?++M:--M)T.push(s.readUInt16());return T})(),i=(this.length-s.pos+this.offset)/2,x=(function(){var M,T;for(T=[],u=M=0;0<=i?M<i:M>i;u=0<=i?++M:--M)T.push(s.readUInt16());return T})(),u=N=0,L=o.length;N<L;u=++N)for(v=o[u],l=A=w=S[u];w<=v?A<=v:A>=v;l=w<=v?++A:--A)p[u]===0?d=l+h[u]:(d=x[p[u]/2+(l-w)-(y-u)]||0)!==0&&(d+=h[u]),this.codeMap[l]=65535&d}s.pos=g}return t.encode=function(s,r){var l,i,o,d,x,u,h,p,g,y,f,w,S,v,N,A,L,M,T,_,I,B,P,R,W,H,$,G,le,Q,ne,F,de,ke,X,q,Z,ae,ue,he,be,Me,Ne,Fe,Xe,st;switch(G=new Pc,d=Object.keys(s).sort(function(et,xe){return et-xe}),r){case"macroman":for(S=0,v=(function(){var et=[];for(w=0;w<256;++w)et.push(0);return et})(),A={0:0},o={},le=0,de=d.length;le<de;le++)A[Ne=s[i=d[le]]]==null&&(A[Ne]=++S),o[i]={old:s[i],new:A[s[i]]},v[i]=A[s[i]];return G.writeUInt16(1),G.writeUInt16(0),G.writeUInt32(12),G.writeUInt16(0),G.writeUInt16(262),G.writeUInt16(0),G.write(v),{charMap:o,subtable:G.data,maxGlyphID:S+1};case"unicode":for(H=[],g=[],L=0,A={},l={},N=h=null,Q=0,ke=d.length;Q<ke;Q++)A[T=s[i=d[Q]]]==null&&(A[T]=++L),l[i]={old:T,new:A[T]},x=A[T]-i,N!=null&&x===h||(N&&g.push(N),H.push(i),h=x),N=i;for(N&&g.push(N),g.push(65535),H.push(65535),R=2*(P=H.length),B=2*Math.pow(Math.log(P)/Math.LN2,2),y=Math.log(B/2)/Math.LN2,I=2*P-B,u=[],_=[],f=[],w=ne=0,X=H.length;ne<X;w=++ne){if(W=H[w],p=g[w],W===65535){u.push(0),_.push(0);break}if(W-($=l[W].new)>=32768)for(u.push(0),_.push(2*(f.length+P-w)),i=F=W;W<=p?F<=p:F>=p;i=W<=p?++F:--F)f.push(l[i].new);else u.push($-W),_.push(0)}for(G.writeUInt16(3),G.writeUInt16(1),G.writeUInt32(12),G.writeUInt16(4),G.writeUInt16(16+8*P+2*f.length),G.writeUInt16(0),G.writeUInt16(R),G.writeUInt16(B),G.writeUInt16(y),G.writeUInt16(I),be=0,q=g.length;be<q;be++)i=g[be],G.writeUInt16(i);for(G.writeUInt16(0),Me=0,Z=H.length;Me<Z;Me++)i=H[Me],G.writeUInt16(i);for(Fe=0,ae=u.length;Fe<ae;Fe++)x=u[Fe],G.writeUInt16(x);for(Xe=0,ue=_.length;Xe<ue;Xe++)M=_[Xe],G.writeUInt16(M);for(st=0,he=f.length;st<he;st++)S=f[st],G.writeUInt16(S);return{charMap:l,subtable:G.data,maxGlyphID:L+1}}},t})(),NN=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ao(t,Ei),t.prototype.tag="cmap",t.prototype.parse=function(s){var r,l,i;for(s.pos=this.offset,this.version=s.readUInt16(),i=s.readUInt16(),this.tables=[],this.unicode=null,l=0;0<=i?l<i:l>i;l=0<=i?++l:--l)r=new y2(s,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(s,r){var l,i;return r==null&&(r="macroman"),l=y2.encode(s,r),(i=new Pc).writeUInt16(0),i.writeUInt16(1),l.table=i.data.concat(l.subtable),l},t})(),WE=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ao(t,Ei),t.prototype.tag="hhea",t.prototype.parse=function(s){return s.pos=this.offset,this.version=s.readInt(),this.ascender=s.readShort(),this.decender=s.readShort(),this.lineGap=s.readShort(),this.advanceWidthMax=s.readShort(),this.minLeftSideBearing=s.readShort(),this.minRightSideBearing=s.readShort(),this.xMaxExtent=s.readShort(),this.caretSlopeRise=s.readShort(),this.caretSlopeRun=s.readShort(),this.caretOffset=s.readShort(),s.pos+=8,this.metricDataFormat=s.readShort(),this.numberOfMetrics=s.readUInt16()},t})(),GE=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ao(t,Ei),t.prototype.tag="OS/2",t.prototype.parse=function(s){if(s.pos=this.offset,this.version=s.readUInt16(),this.averageCharWidth=s.readShort(),this.weightClass=s.readUInt16(),this.widthClass=s.readUInt16(),this.type=s.readShort(),this.ySubscriptXSize=s.readShort(),this.ySubscriptYSize=s.readShort(),this.ySubscriptXOffset=s.readShort(),this.ySubscriptYOffset=s.readShort(),this.ySuperscriptXSize=s.readShort(),this.ySuperscriptYSize=s.readShort(),this.ySuperscriptXOffset=s.readShort(),this.ySuperscriptYOffset=s.readShort(),this.yStrikeoutSize=s.readShort(),this.yStrikeoutPosition=s.readShort(),this.familyClass=s.readShort(),this.panose=(function(){var r,l;for(l=[],r=0;r<10;++r)l.push(s.readByte());return l})(),this.charRange=(function(){var r,l;for(l=[],r=0;r<4;++r)l.push(s.readInt());return l})(),this.vendorID=s.readString(4),this.selection=s.readShort(),this.firstCharIndex=s.readShort(),this.lastCharIndex=s.readShort(),this.version>0&&(this.ascent=s.readShort(),this.descent=s.readShort(),this.lineGap=s.readShort(),this.winAscent=s.readShort(),this.winDescent=s.readShort(),this.codePageRange=(function(){var r,l;for(l=[],r=0;r<2;r=++r)l.push(s.readInt());return l})(),this.version>1))return this.xHeight=s.readShort(),this.capHeight=s.readShort(),this.defaultChar=s.readShort(),this.breakChar=s.readShort(),this.maxContext=s.readShort()},t})(),VE=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ao(t,Ei),t.prototype.tag="post",t.prototype.parse=function(s){var r,l,i;switch(s.pos=this.offset,this.format=s.readInt(),this.italicAngle=s.readInt(),this.underlinePosition=s.readShort(),this.underlineThickness=s.readShort(),this.isFixedPitch=s.readInt(),this.minMemType42=s.readInt(),this.maxMemType42=s.readInt(),this.minMemType1=s.readInt(),this.maxMemType1=s.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(l=s.readUInt16(),this.glyphNameIndex=[],o=0;0<=l?o<l:o>l;o=0<=l?++o:--o)this.glyphNameIndex.push(s.readUInt16());for(this.names=[],i=[];s.pos<this.offset+this.length;)r=s.readByte(),i.push(this.names.push(s.readString(r)));return i;case 151552:return l=s.readUInt16(),this.offsets=s.read(l);case 262144:return this.map=(function(){var d,x,u;for(u=[],o=d=0,x=this.file.maxp.numGlyphs;0<=x?d<x:d>x;o=0<=x?++d:--d)u.push(s.readUInt32());return u}).call(this)}},t})(),YE=function(t,s){this.raw=t,this.length=t.length,this.platformID=s.platformID,this.encodingID=s.encodingID,this.languageID=s.languageID},XE=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ao(t,Ei),t.prototype.tag="name",t.prototype.parse=function(s){var r,l,i,o,d,x,u,h,p,g,y;for(s.pos=this.offset,s.readShort(),r=s.readShort(),x=s.readShort(),l=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)l.push({platformID:s.readShort(),encodingID:s.readShort(),languageID:s.readShort(),nameID:s.readShort(),length:s.readShort(),offset:this.offset+x+s.readShort()});for(u={},o=p=0,g=l.length;p<g;o=++p)i=l[o],s.pos=i.offset,h=s.readString(i.length),d=new YE(h,i),u[y=i.nameID]==null&&(u[y]=[]),u[i.nameID].push(d);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},t})(),KE=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ao(t,Ei),t.prototype.tag="maxp",t.prototype.parse=function(s){return s.pos=this.offset,this.version=s.readInt(),this.numGlyphs=s.readUInt16(),this.maxPoints=s.readUInt16(),this.maxContours=s.readUInt16(),this.maxCompositePoints=s.readUInt16(),this.maxComponentContours=s.readUInt16(),this.maxZones=s.readUInt16(),this.maxTwilightPoints=s.readUInt16(),this.maxStorage=s.readUInt16(),this.maxFunctionDefs=s.readUInt16(),this.maxInstructionDefs=s.readUInt16(),this.maxStackElements=s.readUInt16(),this.maxSizeOfInstructions=s.readUInt16(),this.maxComponentElements=s.readUInt16(),this.maxComponentDepth=s.readUInt16()},t})(),JE=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ao(t,Ei),t.prototype.tag="hmtx",t.prototype.parse=function(s){var r,l,i,o,d,x,u;for(s.pos=this.offset,this.metrics=[],r=0,x=this.file.hhea.numberOfMetrics;0<=x?r<x:r>x;r=0<=x?++r:--r)this.metrics.push({advance:s.readUInt16(),lsb:s.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var h,p;for(p=[],r=h=0;0<=i?h<i:h>i;r=0<=i?++h:--h)p.push(s.readInt16());return p})(),this.widths=(function(){var h,p,g,y;for(y=[],h=0,p=(g=this.metrics).length;h<p;h++)o=g[h],y.push(o.advance);return y}).call(this),l=this.widths[this.widths.length-1],u=[],r=d=0;0<=i?d<i:d>i;r=0<=i?++d:--d)u.push(this.widths.push(l));return u},t.prototype.forGlyph=function(s){return s in this.metrics?this.metrics[s]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[s-this.metrics.length]}},t})(),kN=[].slice,ZE=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ao(t,Ei),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(s){var r,l,i,o,d,x,u,h,p,g;return s in this.cache?this.cache[s]:(o=this.file.loca,r=this.file.contents,l=o.indexOf(s),(i=o.lengthOf(s))===0?this.cache[s]=null:(r.pos=this.offset+l,d=(x=new Pc(r.read(i))).readShort(),h=x.readShort(),g=x.readShort(),u=x.readShort(),p=x.readShort(),this.cache[s]=d===-1?new eT(x,h,g,u,p):new QE(x,d,h,g,u,p),this.cache[s]))},t.prototype.encode=function(s,r,l){var i,o,d,x,u;for(d=[],o=[],x=0,u=r.length;x<u;x++)i=s[r[x]],o.push(d.length),i&&(d=d.concat(i.encode(l)));return o.push(d.length),{table:d,offsets:o}},t})(),QE=(function(){function t(s,r,l,i,o,d){this.raw=s,this.numberOfContours=r,this.xMin=l,this.yMin=i,this.xMax=o,this.yMax=d,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),eT=(function(){function t(s,r,l,i,o){var d,x;for(this.raw=s,this.xMin=r,this.yMin=l,this.xMax=i,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],d=this.raw;x=d.readShort(),this.glyphOffsets.push(d.pos),this.glyphIDs.push(d.readUInt16()),32&x;)d.pos+=1&x?4:2,128&x?d.pos+=8:64&x?d.pos+=4:8&x&&(d.pos+=2)}return t.prototype.encode=function(){var s,r,l;for(r=new Pc(kN.call(this.raw.data)),s=0,l=this.glyphIDs.length;s<l;++s)r.pos=this.glyphOffsets[s];return r.data},t})(),tT=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ao(t,Ei),t.prototype.tag="loca",t.prototype.parse=function(s){var r,l;return s.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,o;for(o=[],l=0,i=this.length;l<i;l+=2)o.push(2*s.readUInt16());return o}).call(this):(function(){var i,o;for(o=[],l=0,i=this.length;l<i;l+=4)o.push(s.readUInt32());return o}).call(this)},t.prototype.indexOf=function(s){return this.offsets[s]},t.prototype.lengthOf=function(s){return this.offsets[s+1]-this.offsets[s]},t.prototype.encode=function(s,r){for(var l=new Uint32Array(this.offsets.length),i=0,o=0,d=0;d<l.length;++d)if(l[d]=i,o<r.length&&r[o]==d){++o,l[d]=i;var x=this.offsets[d],u=this.offsets[d+1]-x;u>0&&(i+=u)}for(var h=new Array(4*l.length),p=0;p<l.length;++p)h[4*p+3]=255&l[p],h[4*p+2]=(65280&l[p])>>8,h[4*p+1]=(16711680&l[p])>>16,h[4*p]=(4278190080&l[p])>>24;return h},t})(),sT=(function(){function t(s){this.font=s,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var s,r,l,i,o;for(r in i=this.font.cmap.tables[0].codeMap,s={},o=this.subset)l=o[r],s[r]=i[l];return s},t.prototype.glyphsFor=function(s){var r,l,i,o,d,x,u;for(i={},d=0,x=s.length;d<x;d++)i[o=s[d]]=this.font.glyf.glyphFor(o);for(o in r=[],i)(l=i[o])!=null&&l.compound&&r.push.apply(r,l.glyphIDs);if(r.length>0)for(o in u=this.glyphsFor(r))l=u[o],i[o]=l;return i},t.prototype.encode=function(s,r){var l,i,o,d,x,u,h,p,g,y,f,w,S,v,N;for(i in l=NN.encode(this.generateCmap(),"unicode"),d=this.glyphsFor(s),f={0:0},N=l.charMap)f[(u=N[i]).old]=u.new;for(w in y=l.maxGlyphID,d)w in f||(f[w]=y++);return p=(function(A){var L,M;for(L in M={},A)M[A[L]]=L;return M})(f),g=Object.keys(p).sort(function(A,L){return A-L}),S=(function(){var A,L,M;for(M=[],A=0,L=g.length;A<L;A++)x=g[A],M.push(p[x]);return M})(),o=this.font.glyf.encode(d,S,f),h=this.font.loca.encode(o.offsets,S),v={cmap:this.font.cmap.raw(),glyf:o.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},t})();yt.API.PDFObject=(function(){var t;function s(){}return t=function(r,l){return(Array(l+1).join("0")+r).slice(-l)},s.convert=function(r){var l,i,o,d;if(Array.isArray(r))return"["+(function(){var x,u,h;for(h=[],x=0,u=r.length;x<u;x++)l=r[x],h.push(s.convert(l));return h})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in o=["<<"],r)d=r[i],o.push("/"+i+" "+s.convert(d));return o.push(">>"),o.join(`
`)}return""+r},s})();function SN(t,s,r,l,i){l=l||{};var o=1.15,d=i.internal.scaleFactor,x=i.internal.getFontSize()/d,u=i.getLineHeightFactor?i.getLineHeightFactor():o,h=x*u,p=/\r\n|\r|\n/g,g="",y=1;if((l.valign==="middle"||l.valign==="bottom"||l.halign==="center"||l.halign==="right")&&(g=typeof t=="string"?t.split(p):t,y=g.length||1),r+=x*(2-o),l.valign==="middle"?r-=y/2*h:l.valign==="bottom"&&(r-=y*h),l.halign==="center"||l.halign==="right"){var f=x;if(l.halign==="center"&&(f*=.5),g&&y>=1){for(var w=0;w<g.length;w++)i.text(g[w],s-i.getStringUnitWidth(g[w])*f,r),r+=h;return i}s-=i.getStringUnitWidth(t)*f}return l.halign==="justify"?i.text(t,s,r,{maxWidth:l.maxWidth||100,align:"justify"}):i.text(t,s,r),i}var j2={},I0=(function(){function t(s){this.jsPDFDocument=s,this.userStyles={textColor:s.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:s.internal.getFontSize(),fontStyle:s.internal.getFont().fontStyle,font:s.internal.getFont().fontName,lineWidth:s.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:s.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(s,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=s:j2=s},t.unifyColor=function(s){return Array.isArray(s)?s:typeof s=="number"?[s,s,s]:typeof s=="string"?[s]:null},t.prototype.applyStyles=function(s,r){var l,i,o;r===void 0&&(r=!1),s.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(s.fontStyle);var d=this.jsPDFDocument.internal.getFont(),x=d.fontStyle,u=d.fontName;if(s.font&&(u=s.font),s.fontStyle){x=s.fontStyle;var h=this.getFontList()[u];h&&h.indexOf(x)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(h[0]),x=h[0])}if(this.jsPDFDocument.setFont(u,x),s.fontSize&&this.jsPDFDocument.setFontSize(s.fontSize),!r){var p=t.unifyColor(s.fillColor);p&&(l=this.jsPDFDocument).setFillColor.apply(l,p),p=t.unifyColor(s.textColor),p&&(i=this.jsPDFDocument).setTextColor.apply(i,p),p=t.unifyColor(s.lineColor),p&&(o=this.jsPDFDocument).setDrawColor.apply(o,p),typeof s.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(s.lineWidth)}},t.prototype.splitTextToSize=function(s,r,l){return this.jsPDFDocument.splitTextToSize(s,r,l)},t.prototype.rect=function(s,r,l,i,o){return this.jsPDFDocument.rect(s,r,l,i,o)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(s){return this.jsPDFDocument.getTextWidth(s)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(s){this.jsPDFDocument.setPage(s)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return j2||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var s=this.jsPDFDocument.internal.pageSize;return s.width==null&&(s={width:s.getWidth(),height:s.getHeight()}),s},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var s=this.jsPDFDocument;return s.getLineHeightFactor?s.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(s){return s/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var s=this.jsPDFDocument.internal.getCurrentPageInfo();return s?s.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t})(),qf=function(t,s){return qf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,l){r.__proto__=l}||function(r,l){for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&(r[i]=l[i])},qf(t,s)};function CN(t,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");qf(t,s);function r(){this.constructor=t}t.prototype=s===null?Object.create(s):(r.prototype=s.prototype,new r)}var AN=(function(t){CN(s,t);function s(r){var l=t.call(this)||this;return l._element=r,l}return s})(Array);function aT(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function rT(t){var s={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return s[t]}function Gh(t,s,r){r.applyStyles(s,!0);var l=Array.isArray(t)?t:[t],i=l.map(function(o){return r.getTextWidth(o)}).reduce(function(o,d){return Math.max(o,d)},0);return i}function MN(t,s,r,l){var i=s.settings.tableLineWidth,o=s.settings.tableLineColor;t.applyStyles({lineWidth:i,lineColor:o});var d=DN(i,!1);d&&t.rect(r.x,r.y,s.getWidth(t.pageSize().width),l.y-r.y,d)}function DN(t,s){var r=t>0,l=s||s===0;return r&&l?"DF":r?"S":l?"F":null}function nm(t,s){var r,l,i,o;if(t=t||s,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=s}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(r=t.left)!==null&&r!==void 0?r:s,top:(l=t.top)!==null&&l!==void 0?l:s,right:(i=t.right)!==null&&i!==void 0?i:s,bottom:(o=t.bottom)!==null&&o!==void 0?o:s}):(typeof t!="number"&&(t=s),{top:t,right:t,bottom:t,left:t})}function LN(t,s){var r=nm(s.settings.margin,0);return t.pageSize().width-(r.left+r.right)}function lT(t,s,r,l,i){var o={},d=1.3333333333333333,x=cf(s,function(L){return i.getComputedStyle(L).backgroundColor});x!=null&&(o.fillColor=x);var u=cf(s,function(L){return i.getComputedStyle(L).color});u!=null&&(o.textColor=u);var h=iT(l,r);h&&(o.cellPadding=h);var p="borderTopColor",g=d*r,y=l.borderTopWidth;if(l.borderBottomWidth===y&&l.borderRightWidth===y&&l.borderLeftWidth===y){var f=(parseFloat(y)||0)/g;f&&(o.lineWidth=f)}else o.lineWidth={top:(parseFloat(l.borderTopWidth)||0)/g,right:(parseFloat(l.borderRightWidth)||0)/g,bottom:(parseFloat(l.borderBottomWidth)||0)/g,left:(parseFloat(l.borderLeftWidth)||0)/g},o.lineWidth.top||(o.lineWidth.right?p="borderRightColor":o.lineWidth.bottom?p="borderBottomColor":o.lineWidth.left&&(p="borderLeftColor"));var w=cf(s,function(L){return i.getComputedStyle(L)[p]});w!=null&&(o.lineColor=w);var S=["left","right","center","justify"];S.indexOf(l.textAlign)!==-1&&(o.halign=l.textAlign),S=["middle","bottom","top"],S.indexOf(l.verticalAlign)!==-1&&(o.valign=l.verticalAlign);var v=parseInt(l.fontSize||"");isNaN(v)||(o.fontSize=v/d);var N=nT(l);N&&(o.fontStyle=N);var A=(l.fontFamily||"").toLowerCase();return t.indexOf(A)!==-1&&(o.font=A),o}function nT(t){var s="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(s="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(s+="italic"),s}function cf(t,s){var r=zN(t,s);if(!r)return null;var l=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!l||!Array.isArray(l))return null;var i=[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])],o=parseInt(l[4]);return o===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function zN(t,s){var r=s(t);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?t.parentElement==null?null:zN(t.parentElement,s):r}function iT(t,s){var r=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],l=96/(72/s),i=(parseInt(t.lineHeight)-parseInt(t.fontSize))/s/2,o=r.map(function(x){return parseInt(x||"0")/l}),d=nm(o,0);return i>d.top&&(d.top=i),i>d.bottom&&(d.bottom=i),d}function EN(t,s,r,l,i){var o,d;l===void 0&&(l=!1),i===void 0&&(i=!1);var x;typeof s=="string"?x=r.document.querySelector(s):x=s;var u=Object.keys(t.getFontList()),h=t.scaleFactor(),p=[],g=[],y=[];if(!x)return console.error("Html table could not be found with input: ",s),{head:p,body:g,foot:y};for(var f=0;f<x.rows.length;f++){var w=x.rows[f],S=(d=(o=w?.parentElement)===null||o===void 0?void 0:o.tagName)===null||d===void 0?void 0:d.toLowerCase(),v=oT(u,h,r,w,l,i);v&&(S==="thead"?p.push(v):S==="tfoot"?y.push(v):g.push(v))}return{head:p,body:g,foot:y}}function oT(t,s,r,l,i,o){for(var d=new AN(l),x=0;x<l.cells.length;x++){var u=l.cells[x],h=r.getComputedStyle(u);if(i||h.display!=="none"){var p=void 0;o&&(p=lT(t,u,s,h,r)),d.push({rowSpan:u.rowSpan,colSpan:u.colSpan,styles:p,_element:u,content:cT(u)})}}var g=r.getComputedStyle(l);if(d.length>0&&(i||g.display!=="none"))return d}function cT(t){var s=t.cloneNode(!0);return s.innerHTML=s.innerHTML.replace(/\n/g,"").replace(/ +/g," "),s.innerHTML=s.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),s.innerText||s.textContent||""}function dT(t,s,r){for(var l=0,i=[t,s,r];l<i.length;l++){var o=i[l];o&&typeof o!="object"&&console.error("The options parameter should be of type object, is: "+typeof o),o.startY&&typeof o.startY!="number"&&(console.error("Invalid value for startY option",o.startY),delete o.startY)}}function Oo(t,s,r,l,i){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(t),d=1;d<arguments.length;d++){var x=arguments[d];if(x!=null)for(var u in x)Object.prototype.hasOwnProperty.call(x,u)&&(o[u]=x[u])}return o}function TN(t,s){var r=new I0(t),l=r.getDocumentOptions(),i=r.getGlobalOptions();dT(i,l,s);var o=Oo({},i,l,s),d;typeof window<"u"&&(d=window);var x=xT(i,l,s),u=uT(i,l,s),h=hT(r,o),p=pT(r,o,d);return{id:s.tableId,content:p,hooks:u,styles:x,settings:h}}function xT(t,s,r){for(var l={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(u){if(u==="columnStyles"){var h=t[u],p=s[u],g=r[u];l.columnStyles=Oo({},h,p,g)}else{var y=[t,s,r],f=y.map(function(w){return w[u]||{}});l[u]=Oo({},f[0],f[1],f[2])}},o=0,d=Object.keys(l);o<d.length;o++){var x=d[o];i(x)}return l}function uT(t,s,r){for(var l=[t,s,r],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},o=0,d=l;o<d.length;o++){var x=d[o];x.didParseCell&&i.didParseCell.push(x.didParseCell),x.willDrawCell&&i.willDrawCell.push(x.willDrawCell),x.didDrawCell&&i.didDrawCell.push(x.didDrawCell),x.willDrawPage&&i.willDrawPage.push(x.willDrawPage),x.didDrawPage&&i.didDrawPage.push(x.didDrawPage)}return i}function hT(t,s){var r,l,i,o,d,x,u,h,p,g,y,f,w=nm(s.margin,40/t.scaleFactor()),S=(r=mT(t,s.startY))!==null&&r!==void 0?r:w.top,v;s.showFoot===!0?v="everyPage":s.showFoot===!1?v="never":v=(l=s.showFoot)!==null&&l!==void 0?l:"everyPage";var N;s.showHead===!0?N="everyPage":s.showHead===!1?N="never":N=(i=s.showHead)!==null&&i!==void 0?i:"everyPage";var A=(o=s.useCss)!==null&&o!==void 0?o:!1,L=s.theme||(A?"plain":"striped"),M=!!s.horizontalPageBreak,T=(d=s.horizontalPageBreakRepeat)!==null&&d!==void 0?d:null;return{includeHiddenHtml:(x=s.includeHiddenHtml)!==null&&x!==void 0?x:!1,useCss:A,theme:L,startY:S,margin:w,pageBreak:(u=s.pageBreak)!==null&&u!==void 0?u:"auto",rowPageBreak:(h=s.rowPageBreak)!==null&&h!==void 0?h:"auto",tableWidth:(p=s.tableWidth)!==null&&p!==void 0?p:"auto",showHead:N,showFoot:v,tableLineWidth:(g=s.tableLineWidth)!==null&&g!==void 0?g:0,tableLineColor:(y=s.tableLineColor)!==null&&y!==void 0?y:200,horizontalPageBreak:M,horizontalPageBreakRepeat:T,horizontalPageBreakBehaviour:(f=s.horizontalPageBreakBehaviour)!==null&&f!==void 0?f:"afterAllRows"}}function mT(t,s){var r=t.getLastAutoTable(),l=t.scaleFactor(),i=t.pageNumber(),o=!1;if(r&&r.startPageNumber){var d=r.startPageNumber+r.pageNumber-1;o=d===i}return typeof s=="number"?s:(s==null||s===!1)&&o&&r?.finalY!=null?r.finalY+20/l:null}function pT(t,s,r){var l=s.head||[],i=s.body||[],o=s.foot||[];if(s.html){var d=s.includeHiddenHtml;if(r){var x=EN(t,s.html,r,d,s.useCss)||{};l=x.head||l,i=x.body||l,o=x.foot||l}else console.error("Cannot parse html in non browser environment")}var u=s.columns||fT(l,i,o);return{columns:u,head:l,body:i,foot:o}}function fT(t,s,r){var l=t[0]||s[0]||r[0]||[],i=[];return Object.keys(l).filter(function(o){return o!=="_element"}).forEach(function(o){var d=1,x;Array.isArray(l)?x=l[parseInt(o)]:x=l[o],typeof x=="object"&&!Array.isArray(x)&&(d=x?.colSpan||1);for(var u=0;u<d;u++){var h=void 0;Array.isArray(l)?h=i.length:h=o+(u>0?"_".concat(u):"");var p={dataKey:h};i.push(p)}}),i}var Hf=(function(){function t(s,r,l){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=l,this.doc=s.getDocument()}return t})(),gT=(function(t){CN(s,t);function s(r,l,i,o,d,x){var u=t.call(this,r,l,x)||this;return u.cell=i,u.row=o,u.column=d,u.section=o.section,u}return s})(Hf),bT=(function(){function t(s,r){this.pageNumber=1,this.id=s.id,this.settings=s.settings,this.styles=s.styles,this.hooks=s.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return t.prototype.getHeadHeight=function(s){return this.head.reduce(function(r,l){return r+l.getMaxCellHeight(s)},0)},t.prototype.getFootHeight=function(s){return this.foot.reduce(function(r,l){return r+l.getMaxCellHeight(s)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(s,r,l,i,o,d){for(var x=0,u=r;x<u.length;x++){var h=u[x],p=new gT(s,this,l,i,o,d),g=h(p)===!1;if(l.text=Array.isArray(l.text)?l.text:[l.text],g)return!1}return!0},t.prototype.callEndPageHooks=function(s,r){s.applyStyles(s.userStyles);for(var l=0,i=this.hooks.didDrawPage;l<i.length;l++){var o=i[l];o(new Hf(s,this,r))}},t.prototype.callWillDrawPageHooks=function(s,r){for(var l=0,i=this.hooks.willDrawPage;l<i.length;l++){var o=i[l];o(new Hf(s,this,r))}},t.prototype.getWidth=function(s){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(i,o){return i+o.wrappedWidth},0);return r}else{var l=this.settings.margin;return s-l.left-l.right}},t})(),_N=(function(){function t(s,r,l,i,o){o===void 0&&(o=!1),this.height=0,this.raw=s,s instanceof AN&&(this.raw=s._element,this.element=s._element),this.index=r,this.section=l,this.cells=i,this.spansMultiplePages=o}return t.prototype.getMaxCellHeight=function(s){var r=this;return s.reduce(function(l,i){var o;return Math.max(l,((o=r.cells[i.index])===null||o===void 0?void 0:o.height)||0)},0)},t.prototype.hasRowSpan=function(s){var r=this;return s.filter(function(l){var i=r.cells[l.index];return i?i.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(s,r){return this.getMaxCellHeight(r)<=s},t.prototype.getMinimumRowHeight=function(s,r){var l=this;return s.reduce(function(i,o){var d=l.cells[o.index];if(!d)return 0;var x=r.getLineHeight(d.styles.fontSize),u=d.padding("vertical"),h=u+x;return h>i?h:i},0)},t})(),PN=(function(){function t(s,r,l){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=l,this.raw=s;var o=s;s!=null&&typeof s=="object"&&!Array.isArray(s)?(this.rowSpan=s.rowSpan||1,this.colSpan=s.colSpan||1,o=(i=s.content)!==null&&i!==void 0?i:s,s._element&&(this.raw=s._element)):(this.rowSpan=1,this.colSpan=1);var d=o!=null?""+o:"",x=/\r\n|\r|\n/g;this.text=d.split(x)}return t.prototype.getTextPos=function(){var s;if(this.styles.valign==="top")s=this.y+this.padding("top");else if(this.styles.valign==="bottom")s=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");s=this.y+r/2+this.padding("top")}var l;if(this.styles.halign==="right")l=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");l=this.x+i/2+this.padding("left")}else l=this.x+this.padding("left");return{x:l,y:s}},t.prototype.getContentHeight=function(s,r){r===void 0&&(r=1.15);var l=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/s*r,o=l*i+this.padding("vertical");return Math.max(o,this.styles.minCellHeight)},t.prototype.padding=function(s){var r=nm(this.styles.cellPadding,0);return s==="vertical"?r.top+r.bottom:s==="horizontal"?r.left+r.right:r[s]},t})(),vT=(function(){function t(s,r,l){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=s,this.raw=r,this.index=l}return t.prototype.getMaxCustomCellWidth=function(s){for(var r=0,l=0,i=s.allRows();l<i.length;l++){var o=i[l],d=o.cells[this.index];d&&typeof d.styles.cellWidth=="number"&&(r=Math.max(r,d.styles.cellWidth))}return r},t})();function yT(t,s){jT(t,s);var r=[],l=0;s.columns.forEach(function(o){var d=o.getMaxCustomCellWidth(s);d?o.width=d:(o.width=o.wrappedWidth,r.push(o)),l+=o.width});var i=s.getWidth(t.pageSize().width)-l;i&&(i=Wf(r,i,function(o){return Math.max(o.minReadableWidth,o.minWidth)})),i&&(i=Wf(r,i,function(o){return o.minWidth})),i=Math.abs(i),!s.settings.horizontalPageBreak&&i>.1/t.scaleFactor()&&(i=i<1?i:Math.round(i),console.log("Of the table content, ".concat(i," units width could not fit page"))),NT(s),kT(s,t),wT(s)}function jT(t,s){var r=t.scaleFactor(),l=s.settings.horizontalPageBreak,i=LN(t,s);s.allRows().forEach(function(o){for(var d=0,x=s.columns;d<x.length;d++){var u=x[d],h=o.cells[u.index];if(h){var p=s.hooks.didParseCell;s.callCellHooks(t,p,h,o,u,null);var g=h.padding("horizontal");h.contentWidth=Gh(h.text,h.styles,t)+g;var y=Gh(h.text.join(" ").split(/[^\S\u00A0]+/),h.styles,t);if(h.minReadableWidth=y+h.padding("horizontal"),typeof h.styles.cellWidth=="number")h.minWidth=h.styles.cellWidth,h.wrappedWidth=h.styles.cellWidth;else if(h.styles.cellWidth==="wrap"||l===!0)h.contentWidth>i?(h.minWidth=i,h.wrappedWidth=i):(h.minWidth=h.contentWidth,h.wrappedWidth=h.contentWidth);else{var f=10/r;h.minWidth=h.styles.minCellWidth||f,h.wrappedWidth=h.contentWidth,h.minWidth>h.wrappedWidth&&(h.wrappedWidth=h.minWidth)}}}}),s.allRows().forEach(function(o){for(var d=0,x=s.columns;d<x.length;d++){var u=x[d],h=o.cells[u.index];if(h&&h.colSpan===1)u.wrappedWidth=Math.max(u.wrappedWidth,h.wrappedWidth),u.minWidth=Math.max(u.minWidth,h.minWidth),u.minReadableWidth=Math.max(u.minReadableWidth,h.minReadableWidth);else{var p=s.styles.columnStyles[u.dataKey]||s.styles.columnStyles[u.index]||{},g=p.cellWidth||p.minCellWidth;g&&typeof g=="number"&&(u.minWidth=g,u.wrappedWidth=g)}h&&(h.colSpan>1&&!u.minWidth&&(u.minWidth=h.minWidth),h.colSpan>1&&!u.wrappedWidth&&(u.wrappedWidth=h.minWidth))}})}function Wf(t,s,r){for(var l=s,i=t.reduce(function(f,w){return f+w.wrappedWidth},0),o=0;o<t.length;o++){var d=t[o],x=d.wrappedWidth/i,u=l*x,h=d.width+u,p=r(d),g=h<p?p:h;s-=g-d.width,d.width=g}if(s=Math.round(s*1e10)/1e10,s){var y=t.filter(function(f){return s<0?f.width>r(f):!0});y.length&&(s=Wf(y,s,r))}return s}function wT(t){for(var s={},r=1,l=t.allRows(),i=0;i<l.length;i++)for(var o=l[i],d=0,x=t.columns;d<x.length;d++){var u=x[d],h=s[u.index];if(r>1)r--,delete o.cells[u.index];else if(h)h.cell.height+=o.height,r=h.cell.colSpan,delete o.cells[u.index],h.left--,h.left<=1&&delete s[u.index];else{var p=o.cells[u.index];if(!p)continue;if(p.height=o.height,p.rowSpan>1){var g=l.length-i,y=p.rowSpan>g?g:p.rowSpan;s[u.index]={cell:p,left:y,row:o}}}}}function NT(t){for(var s=t.allRows(),r=0;r<s.length;r++)for(var l=s[r],i=null,o=0,d=0,x=0;x<t.columns.length;x++){var u=t.columns[x];if(d-=1,d>1&&t.columns[x+1])o+=u.width,delete l.cells[u.index];else if(i){var h=i;delete l.cells[u.index],i=null,h.width=u.width+o}else{var h=l.cells[u.index];if(!h)continue;if(d=h.colSpan,o=0,h.colSpan>1){i=h,o+=u.width;continue}h.width=u.width+o}}}function kT(t,s){for(var r={count:0,height:0},l=0,i=t.allRows();l<i.length;l++){for(var o=i[l],d=0,x=t.columns;d<x.length;d++){var u=x[d],h=o.cells[u.index];if(h){s.applyStyles(h.styles,!0);var p=h.width-h.padding("horizontal");if(h.styles.overflow==="linebreak")h.text=s.splitTextToSize(h.text,p+1/s.scaleFactor(),{fontSize:h.styles.fontSize});else if(h.styles.overflow==="ellipsize")h.text=w2(h.text,p,h.styles,s,"...");else if(h.styles.overflow==="hidden")h.text=w2(h.text,p,h.styles,s,"");else if(typeof h.styles.overflow=="function"){var g=h.styles.overflow(h.text,p);typeof g=="string"?h.text=[g]:h.text=g}h.contentHeight=h.getContentHeight(s.scaleFactor(),s.getLineHeightFactor());var y=h.contentHeight/h.rowSpan;h.rowSpan>1&&r.count*r.height<y*h.rowSpan?r={height:y,count:h.rowSpan}:r&&r.count>0&&r.height>y&&(y=r.height),y>o.height&&(o.height=y)}}r.count--}}function w2(t,s,r,l,i){return t.map(function(o){return ST(o,s,r,l,i)})}function ST(t,s,r,l,i){var o=1e4*l.scaleFactor();if(s=Math.ceil(s*o)/o,s>=Gh(t,r,l))return t;for(;s<Gh(t+i,r,l)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+i}function RN(t,s){var r=new I0(t),l=CT(s,r.scaleFactor()),i=new bT(s,l);return yT(r,i),r.applyStyles(r.userStyles),i}function CT(t,s){var r=t.content,l=MT(r.columns);if(r.head.length===0){var i=N2(l,"head");i&&r.head.push(i)}if(r.foot.length===0){var i=N2(l,"foot");i&&r.foot.push(i)}var o=t.settings.theme,d=t.styles;return{columns:l,head:df("head",r.head,l,d,o,s),body:df("body",r.body,l,d,o,s),foot:df("foot",r.foot,l,d,o,s)}}function df(t,s,r,l,i,o){var d={},x=s.map(function(u,h){for(var p=0,g={},y=0,f=0,w=0,S=r;w<S.length;w++){var v=S[w];if(d[v.index]==null||d[v.index].left===0)if(f===0){var N=void 0;Array.isArray(u)?N=u[v.index-y-p]:N=u[v.dataKey];var A={};typeof N=="object"&&!Array.isArray(N)&&(A=N?.styles||{});var L=DT(t,v,h,i,l,o,A),M=new PN(N,L,t);g[v.dataKey]=M,g[v.index]=M,f=M.colSpan-1,d[v.index]={left:M.rowSpan-1,times:f}}else f--,y++;else d[v.index].left--,f=d[v.index].times,p++}return new _N(u,h,t,g)});return x}function N2(t,s){var r={};return t.forEach(function(l){if(l.raw!=null){var i=AT(s,l.raw);i!=null&&(r[l.dataKey]=i)}}),Object.keys(r).length>0?r:null}function AT(t,s){if(t==="head"){if(typeof s=="object")return s.header||null;if(typeof s=="string"||typeof s=="number")return s}else if(t==="foot"&&typeof s=="object")return s.footer;return null}function MT(t){return t.map(function(s,r){var l,i;return typeof s=="object"?i=(l=s.dataKey)!==null&&l!==void 0?l:r:i=r,new vT(i,s,r)})}function DT(t,s,r,l,i,o,d){var x=rT(l),u;t==="head"?u=i.headStyles:t==="body"?u=i.bodyStyles:t==="foot"&&(u=i.footStyles);var h=Oo({},x.table,x[t],i.styles,u),p=i.columnStyles[s.dataKey]||i.columnStyles[s.index]||{},g=t==="body"?p:{},y=t==="body"&&r%2===0?Oo({},x.alternateRow,i.alternateRowStyles):{},f=aT(o),w=Oo({},f,h,y,g);return Oo(w,d)}function LT(t,s,r){var l;r===void 0&&(r={});var i=LN(t,s),o=new Map,d=[],x=[],u=[];Array.isArray(s.settings.horizontalPageBreakRepeat)?u=s.settings.horizontalPageBreakRepeat:(typeof s.settings.horizontalPageBreakRepeat=="string"||typeof s.settings.horizontalPageBreakRepeat=="number")&&(u=[s.settings.horizontalPageBreakRepeat]),u.forEach(function(y){var f=s.columns.find(function(w){return w.dataKey===y||w.index===y});f&&!o.has(f.index)&&(o.set(f.index,!0),d.push(f.index),x.push(s.columns[f.index]),i-=f.wrappedWidth)});for(var h=!0,p=(l=r?.start)!==null&&l!==void 0?l:0;p<s.columns.length;){if(o.has(p)){p++;continue}var g=s.columns[p].wrappedWidth;if(h||i>=g)h=!1,d.push(p),x.push(s.columns[p]),i-=g;else break;p++}return{colIndexes:d,columns:x,lastIndex:p-1}}function zT(t,s){for(var r=[],l=0;l<s.columns.length;l++){var i=LT(t,s,{start:l});i.columns.length&&(r.push(i),l=i.lastIndex)}return r}function ON(t,s){var r=s.settings,l=r.startY,i=r.margin,o={x:i.left,y:l},d=s.getHeadHeight(s.columns)+s.getFootHeight(s.columns),x=l+i.bottom+d;if(r.pageBreak==="avoid"){var u=s.body,h=u.reduce(function(y,f){return y+f.height},0);x+=h}var p=new I0(t);(r.pageBreak==="always"||r.startY!=null&&x>p.pageSize().height)&&(BN(p),o.y=i.top),s.callWillDrawPageHooks(p,o);var g=Oo({},o);s.startPageNumber=p.pageNumber(),r.horizontalPageBreak?ET(p,s,g,o):(p.applyStyles(p.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&s.head.forEach(function(y){return qo(p,s,y,o,s.columns)}),p.applyStyles(p.userStyles),s.body.forEach(function(y,f){var w=f===s.body.length-1;Vh(p,s,y,w,g,o,s.columns)}),p.applyStyles(p.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&s.foot.forEach(function(y){return qo(p,s,y,o,s.columns)})),MN(p,s,g,o),s.callEndPageHooks(p,o),s.finalY=o.y,t.lastAutoTable=s,p.applyStyles(p.userStyles)}function ET(t,s,r,l){var i=zT(t,s),o=s.settings;if(o.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(h,p){t.applyStyles(t.userStyles),p>0?Wx(t,s,r,l,h.columns,!0):k2(t,s,l,h.columns),TT(t,s,r,l,h.columns),xf(t,s,l,h.columns)});else for(var d=-1,x=i[0],u=function(){var h=d;if(x){t.applyStyles(t.userStyles);var p=x.columns;d>=0?Wx(t,s,r,l,p,!0):k2(t,s,l,p),h=S2(t,s,d+1,l,p),xf(t,s,l,p)}var g=h-d;i.slice(1).forEach(function(y){t.applyStyles(t.userStyles),Wx(t,s,r,l,y.columns,!0),S2(t,s,d+1,l,y.columns,g),xf(t,s,l,y.columns)}),d=h};d<s.body.length-1;)u()}function k2(t,s,r,l){var i=s.settings;t.applyStyles(t.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&s.head.forEach(function(o){return qo(t,s,o,r,l)})}function TT(t,s,r,l,i){t.applyStyles(t.userStyles),s.body.forEach(function(o,d){var x=d===s.body.length-1;Vh(t,s,o,x,r,l,i)})}function S2(t,s,r,l,i,o){t.applyStyles(t.userStyles),o=o??s.body.length;var d=Math.min(r+o,s.body.length),x=-1;return s.body.slice(r,d).forEach(function(u,h){var p=r+h===s.body.length-1,g=FN(t,s,p,l);u.canEntireRowFit(g,i)&&(qo(t,s,u,l,i),x=r+h)}),x}function xf(t,s,r,l){var i=s.settings;t.applyStyles(t.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&s.foot.forEach(function(o){return qo(t,s,o,r,l)})}function _T(t,s,r){var l=r.getLineHeight(t.styles.fontSize),i=t.padding("vertical"),o=Math.floor((s-i)/l);return Math.max(0,o)}function PT(t,s,r,l){var i={};t.spansMultiplePages=!0,t.height=0;for(var o=0,d=0,x=r.columns;d<x.length;d++){var u=x[d],h=t.cells[u.index];if(h){Array.isArray(h.text)||(h.text=[h.text]);var p=new PN(h.raw,h.styles,h.section);p=Oo(p,h),p.text=[];var g=_T(h,s,l);h.text.length>g&&(p.text=h.text.splice(g,h.text.length));var y=l.scaleFactor(),f=l.getLineHeightFactor();h.contentHeight=h.getContentHeight(y,f),h.contentHeight>=s&&(h.contentHeight=s,p.styles.minCellHeight-=s),h.contentHeight>t.height&&(t.height=h.contentHeight),p.contentHeight=p.getContentHeight(y,f),p.contentHeight>o&&(o=p.contentHeight),i[u.index]=p}}var w=new _N(t.raw,-1,t.section,i,!0);w.height=o;for(var S=0,v=r.columns;S<v.length;S++){var u=v[S],p=w.cells[u.index];p&&(p.height=w.height);var h=t.cells[u.index];h&&(h.height=t.height)}return w}function RT(t,s,r,l){var i=t.pageSize().height,o=l.settings.margin,d=o.top+o.bottom,x=i-d;s.section==="body"&&(x-=l.getHeadHeight(l.columns)+l.getFootHeight(l.columns));var u=s.getMinimumRowHeight(l.columns,t),h=u<r;if(u>x)return console.log("Will not be able to print row ".concat(s.index," correctly since it's minimum height is larger than page height")),!0;if(!h)return!1;var p=s.hasRowSpan(l.columns),g=s.getMaxCellHeight(l.columns)>x;return g?(p&&console.log("The content of row ".concat(s.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(p||l.settings.rowPageBreak==="avoid")}function Vh(t,s,r,l,i,o,d){var x=FN(t,s,l,o);if(r.canEntireRowFit(x,d))qo(t,s,r,o,d);else if(RT(t,r,x,s)){var u=PT(r,x,s,t);qo(t,s,r,o,d),Wx(t,s,i,o,d),Vh(t,s,u,l,i,o,d)}else Wx(t,s,i,o,d),Vh(t,s,r,l,i,o,d)}function qo(t,s,r,l,i){l.x=s.settings.margin.left;for(var o=0,d=i;o<d.length;o++){var x=d[o],u=r.cells[x.index];if(!u){l.x+=x.width;continue}t.applyStyles(u.styles),u.x=l.x,u.y=l.y;var h=s.callCellHooks(t,s.hooks.willDrawCell,u,r,x,l);if(h===!1){l.x+=x.width;continue}OT(t,u,l);var p=u.getTextPos();SN(u.text,p.x,p.y,{halign:u.styles.halign,valign:u.styles.valign,maxWidth:Math.ceil(u.width-u.padding("left")-u.padding("right"))},t.getDocument()),s.callCellHooks(t,s.hooks.didDrawCell,u,r,x,l),l.x+=x.width}l.y+=r.height}function OT(t,s,r){var l=s.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof l.lineWidth=="number"){var i=DN(l.lineWidth,l.fillColor);i&&t.rect(s.x,r.y,s.width,s.height,i)}else typeof l.lineWidth=="object"&&(l.fillColor&&t.rect(s.x,r.y,s.width,s.height,"F"),FT(t,s,r,l.lineWidth))}function FT(t,s,r,l){var i,o,d,x;l.top&&(i=r.x,o=r.y,d=r.x+s.width,x=r.y,l.right&&(d+=.5*l.right),l.left&&(i-=.5*l.left),u(l.top,i,o,d,x)),l.bottom&&(i=r.x,o=r.y+s.height,d=r.x+s.width,x=r.y+s.height,l.right&&(d+=.5*l.right),l.left&&(i-=.5*l.left),u(l.bottom,i,o,d,x)),l.left&&(i=r.x,o=r.y,d=r.x,x=r.y+s.height,l.top&&(o-=.5*l.top),l.bottom&&(x+=.5*l.bottom),u(l.left,i,o,d,x)),l.right&&(i=r.x+s.width,o=r.y,d=r.x+s.width,x=r.y+s.height,l.top&&(o-=.5*l.top),l.bottom&&(x+=.5*l.bottom),u(l.right,i,o,d,x));function u(h,p,g,y,f){t.getDocument().setLineWidth(h),t.getDocument().line(p,g,y,f,"S")}}function FN(t,s,r,l){var i=s.settings.margin.bottom,o=s.settings.showFoot;return(o==="everyPage"||o==="lastPage"&&r)&&(i+=s.getFootHeight(s.columns)),t.pageSize().height-l.y-i}function Wx(t,s,r,l,i,o){i===void 0&&(i=[]),o===void 0&&(o=!1),t.applyStyles(t.userStyles),s.settings.showFoot==="everyPage"&&!o&&s.foot.forEach(function(x){return qo(t,s,x,l,i)}),s.callEndPageHooks(t,l);var d=s.settings.margin;MN(t,s,r,l),BN(t),s.pageNumber++,l.x=d.left,l.y=d.top,r.y=d.top,s.callWillDrawPageHooks(t,l),s.settings.showHead==="everyPage"&&(s.head.forEach(function(x){return qo(t,s,x,l,i)}),t.applyStyles(t.userStyles))}function BN(t){var s=t.pageNumber();t.setPage(s+1);var r=t.pageNumber();return r===s?(t.addPage(),!0):!1}function BT(t){t.API.autoTable=function(){for(var s=[],r=0;r<arguments.length;r++)s[r]=arguments[r];var l=s[0],i=TN(this,l),o=RN(this,i);return ON(this,o),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(s,r,l,i){SN(s,r,l,i,this)},t.API.autoTableSetDefaults=function(s){return I0.setDefaults(s,this),this},t.autoTableSetDefaults=function(s,r){I0.setDefaults(s,r)},t.API.autoTableHtmlToJson=function(s,r){var l;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new I0(this),o=EN(i,s,window,r,!1),d=o.head,x=o.body,u=((l=d[0])===null||l===void 0?void 0:l.map(function(h){return h.content}))||[];return{columns:u,rows:x,data:x}}}var uf;function Gf(t,s){var r=TN(t,s),l=RN(t,r);ON(t,l)}try{if(typeof window<"u"&&window){var C2=window,A2=C2.jsPDF||((uf=C2.jspdf)===null||uf===void 0?void 0:uf.jsPDF);A2&&BT(A2)}}catch(t){console.error("Could not apply autoTable plugin",t)}const IT=()=>{const[t,s]=j.useState(!1),[r,l]=j.useState(!1),[i,o]=j.useState(!1),[d,x]=j.useState(null),[u,h]=j.useState(null),[p,g]=j.useState(!1),[y,f]=j.useState(!1),[w,S]=j.useState(!0),[v,N]=j.useState([]),[A,L]=j.useState([]),[M,T]=j.useState({name:"",number:"",expiry:"",cvv:""}),[_,I]=j.useState(new Date().getFullYear().toString()),B=async()=>{try{const[F,de]=await Promise.all([FM(),Aw()]);N(F),L(de||[])}catch(F){console.error("Error fetching data:",F)}finally{S(!1)}};j.useEffect(()=>{B()},[]);const P=F=>{h(F);try{const de=v.find(X=>X.id===F);if(!de)return;const ke=new yt;ke.setFontSize(20),ke.text(`Invoice #${de.id}`,14,22),ke.setFontSize(10),ke.text(`Generated on: ${new Date().toLocaleDateString()}`,14,30),ke.text(`Status: ${de.status}`,14,35),Gf(ke,{startY:45,head:[["Description","Amount","Due Date"]],body:[["Membership Services",`INR ${de.amount.toLocaleString()}`,de.dueDate]],theme:"striped",headStyles:{fillColor:[139,92,246]}}),ke.save(`${de.id}_Statement.pdf`)}catch(de){console.error("PDF generation failed",de)}finally{h(null)}},R=()=>{try{const F=new yt;F.setFontSize(20),F.text("Complete Yearly Statement",14,22),F.setFontSize(10),F.text(`Generated on: ${new Date().toLocaleDateString()}`,14,30),F.text(`Fiscal Year: ${_}`,14,35);const ke=v.filter(X=>new Date(X.date).getFullYear().toString()===_).map(X=>[X.id,X.date,X.status,`INR ${X.amount.toLocaleString()}`]);Gf(F,{startY:45,head:[["Invoice ID","Date","Status","Amount"]],body:ke,theme:"striped",headStyles:{fillColor:[139,92,246]}}),F.save(`Complete_Statement_${new Date().getFullYear()}.pdf`),l(!1)}catch(F){console.error("PDF generation failed",F)}},W=async()=>{try{if(M.number.length<4){alert("Valid card required");return}const F={name:M.name||"New Payment Card",number:M.number.slice(-4),expiry:M.expiry||"MM/YY",brand:"Custom"},de=await Mw(F);L([...A,de.card]),s(!1),T({name:"",number:"",expiry:"",cvv:""}),alert("Card Added!")}catch(F){console.error("Failed",F),alert("Adding card failed")}},H=async F=>{if(window.confirm("Are you sure you want to delete this payment method?"))try{await Dw(F),L(A.filter(de=>de.id!==F))}catch(de){console.error("Failed to delete card:",de),alert("Failed to delete card")}},$=F=>{x(F),o(!0)},G=async()=>{g(!0);try{await BM(d.dbId),f(!0),N(F=>F.map(de=>de.id===d.id?{...de,status:"Paid"}:de)),setTimeout(()=>{f(!1),o(!1)},2e3)}catch(F){console.error("Error paying invoice:",F),alert("Failed to process payment")}finally{g(!1)}},le=v.filter(F=>F.status==="Paid").reduce((F,de)=>F+de.amount,0),Q=v.filter(F=>F.status!=="Paid").reduce((F,de)=>F+de.amount,0),ne=[{id:1,title:"Outstanding Balance",value:`${Q.toLocaleString()}`,icon:ps,color:Q>0?"danger":"success"},{id:2,title:"Total Paid",value:`${le.toLocaleString()}`,icon:ss,color:"success"},{id:3,title:"Total Invoices",value:v.length.toString(),icon:er,color:"primary"}];return e.jsxs("div",{className:"p-4 md:p-8 bg-slate-50 min-h-screen",children:[e.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-black text-slate-900 tracking-tight",children:"Payments & Billing"}),e.jsx("p",{className:"text-slate-500 font-medium",children:"Manage your invoices and payment methods in one place."})]}),e.jsx("div",{className:"flex gap-2",children:e.jsx(Ht,{variant:"outline",onClick:()=>l(!0),icon:er,children:"Yearly Statement"})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:ne.map(F=>e.jsx(Gn,{...F},F.id))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[e.jsxs(is,{className:"rounded-[32px] border-l-4 border-l-emerald-500",children:[e.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4",children:"Account Status"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-emerald-100 text-emerald-600 flex items-center justify-center",children:e.jsx(ss,{size:20})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-black text-slate-900 leading-tight",children:Q>0?"Action Required":"Paid & Current"}),e.jsx("div",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-wide",children:Q>0?"Pay Outstanding Balance":"All clear"})]})]})]}),e.jsxs(is,{className:"rounded-[32px]",children:[e.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4",children:"Payment Methods"}),e.jsxs("div",{className:"space-y-4",children:[A.length>0?A.map((F,de)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-white flex items-center justify-center shadow-sm",children:e.jsx(Os,{size:14,className:"text-violet-600"})}),e.jsxs("span",{className:"text-sm font-bold text-slate-700",children:[" ",F.number]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[de===0&&e.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),e.jsx("button",{onClick:()=>H(F.id),className:"p-2 text-slate-400 hover:text-rose-500 hover:bg-rose-50 rounded-full transition-all",children:e.jsx(Ms,{size:16})})]})]},F.id||de)):e.jsx("div",{className:"text-xs font-bold text-slate-400 flex items-center justify-center p-4",children:"No linked cards yet"}),e.jsx(Ht,{variant:"outline",onClick:()=>s(!0),className:"w-full h-12 border-dashed border-2 hover:border-violet-300 rounded-2xl",icon:St,children:"Add New Method"})]})]})]}),e.jsx("div",{className:"lg:col-span-3",children:e.jsxs(is,{className:"rounded-[32px] p-0 overflow-hidden",children:[e.jsxs("div",{className:"p-8 border-b border-slate-50 flex justify-between items-center",children:[e.jsx("h3",{className:"text-xl font-black text-slate-900",children:"Invoice History"}),e.jsx("div",{className:"p-2.5 bg-slate-50 rounded-xl text-slate-400",children:e.jsx(Wa,{size:20})})]}),v.length>0?e.jsxs("div",{className:"overflow-x-auto overflow-y-hidden",children:[e.jsxs("table",{className:"w-full text-left border-collapse hidden md:table",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50/50",children:[e.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"ID"}),e.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Issued"}),e.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Amount"}),e.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Status"}),e.jsx("th",{className:"px-8 py-5 text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:v.map(F=>e.jsx(UT,{...F,onDownload:P,onPay:$,downloading:u},F.id))})]}),e.jsx("div",{className:"md:hidden p-6 space-y-6",children:v.map(F=>e.jsx(Ga,{title:`Invoice #${F.id}`,subtitle:F.date,status:F.status,statusColor:F.status==="Paid"?"emerald":F.status==="Unpaid"?"rose":"amber",badge:`${F.amount.toLocaleString()}`,badgeColor:"violet",icon:Wa,actions:F.status!=="Paid"?[{label:"Pay Now",icon:yn,onClick:()=>$(F),variant:"primary"},{label:"PDF",icon:Js,onClick:()=>P(F.id),variant:"outline"}]:[{label:"Download PDF",icon:Js,onClick:()=>P(F.id),variant:"outline"}]},F.id))})]}):e.jsxs("div",{className:"p-20 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-6 text-slate-200",children:e.jsx(er,{size:40})}),e.jsx("h4",{className:"text-xl font-bold text-slate-900 mb-2",children:"No invoices available"}),e.jsx("p",{className:"text-slate-400 font-medium",children:"All your future billing will appear here."})]}),e.jsx("div",{className:"p-8 text-center bg-slate-50/30 border-t border-slate-50",children:e.jsxs("button",{onClick:()=>l(!0),className:"group inline-flex items-center gap-2 text-violet-600 font-black text-[10px] uppercase tracking-[0.2em] hover:text-violet-700 transition-all",children:[e.jsx(er,{size:14}),"Download Complete Year Statement"]})})]})})]})]}),e.jsx(at,{isOpen:i,onClose:()=>!p&&o(!1),title:"Process Payment",maxWidth:"max-w-md",children:d&&e.jsx("div",{className:"p-8 space-y-8 h-full flex flex-col",children:y?e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center space-y-8 animate-in fade-in zoom-in duration-500",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-emerald-500/20 rounded-full animate-ping"}),e.jsx("div",{className:"relative w-24 h-24 bg-emerald-100 text-emerald-600 rounded-full flex items-center justify-center border-4 border-white shadow-xl",children:e.jsx(Cf,{size:40})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-3xl font-black text-slate-900 tracking-tight",children:"Payment Verified!"}),e.jsxs("p",{className:"text-slate-500 font-medium max-w-xs leading-relaxed",children:["Your invoice balance for #",d.id," has been cleared."]})]}),e.jsx("div",{className:"pt-10 w-full",children:e.jsx("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-100 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Invoice will reflect status 'Paid' immediately"})})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-slate-50 p-6 rounded-[32px] border border-slate-100 flex items-center gap-6",children:[e.jsx("div",{className:"w-16 h-16 rounded-[24px] bg-white shadow-sm flex items-center justify-center text-violet-600",children:e.jsx(Wa,{size:32})}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-xl font-black text-slate-900 leading-tight",children:["#",d.id]}),e.jsxs("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mt-1",children:["Due Date: ",d.dueDate]})]})]}),e.jsxs("div",{className:"space-y-6 flex-1",children:[e.jsxs("div",{className:"p-6 rounded-[32px] bg-slate-900 text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/5 rounded-full -mr-16 -mt-16 blur-2xl"}),e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-[0.2em] mb-2",children:"Total Amount Due"}),e.jsxs("div",{className:"text-4xl font-black tracking-tight mb-6",children:["",d.amount.toLocaleString()]}),e.jsx("div",{className:"flex items-center justify-between pt-6 border-t border-white/10 mt-6",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Os,{size:16,className:"text-slate-400"}),e.jsx("span",{className:"text-sm font-bold opacity-80",children:A.length>0?`Card  ${A[0].number}`:"No Linked Cards"})]})})]}),e.jsxs("div",{className:"p-6 rounded-[32px] bg-emerald-50 border border-emerald-100 flex gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-white flex items-center justify-center text-emerald-600 shadow-sm shrink-0",children:e.jsx(as,{size:20})}),e.jsx("p",{className:"text-xs font-bold text-emerald-800 leading-relaxed uppercase tracking-wide",children:"Your payment is secured with standard encryption. Verified merchant Kiaan Gyms."})]})]}),e.jsx("div",{className:"pt-6 border-t border-slate-100",children:e.jsx(Ht,{onClick:G,disabled:p,className:"w-full py-5 rounded-[24px]",children:p?e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(jl,{size:20,className:"animate-spin"}),"Processing Security..."]}):`Authorize Payment (${d.amount.toLocaleString()})`})})]})})}),e.jsx(at,{isOpen:t,onClose:()=>s(!1),title:"Add New Card",maxWidth:"max-w-md",children:e.jsxs("div",{className:"p-8 space-y-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Card Number"}),e.jsx("input",{value:M.number,onChange:F=>T({...M,number:F.target.value}),maxLength:16,className:"w-full h-14 px-5 rounded-[20px] border-2 border-slate-100 focus:border-violet-500 outline-none font-bold text-slate-900 transition-all bg-slate-50 tracking-widest",placeholder:"0000 0000 0000 0000"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Expiry"}),e.jsx("input",{value:M.expiry,onChange:F=>T({...M,expiry:F.target.value}),className:"w-full h-14 px-5 rounded-[20px] border-2 border-slate-100 focus:border-violet-500 outline-none font-bold text-slate-900 transition-all bg-slate-50",placeholder:"MM/YY"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"CVV"}),e.jsx("input",{value:M.cvv,onChange:F=>T({...M,cvv:F.target.value}),maxLength:4,className:"w-full h-14 px-5 rounded-[20px] border-2 border-slate-100 focus:border-violet-500 outline-none font-bold text-slate-900 transition-all bg-slate-50",placeholder:"",type:"password"})]})]})]}),e.jsxs("div",{className:"flex gap-4 pt-4",children:[e.jsx(Ht,{variant:"outline",onClick:()=>s(!1),className:"flex-1 py-5 rounded-[24px]",children:"Cancel"}),e.jsx(Ht,{onClick:W,className:"flex-[2] py-5 rounded-[24px]",children:"Add Securely"})]})]})}),e.jsx(at,{isOpen:r,onClose:()=>l(!1),title:"Yearly Statement",maxWidth:"max-w-md",children:e.jsxs("div",{className:"p-8 space-y-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-violet-50 p-6 rounded-[24px] border border-violet-100 flex gap-4 text-violet-800 text-sm font-medium leading-relaxed",children:[e.jsx(er,{className:"shrink-0 text-violet-600",size:24}),e.jsx("p",{children:"Select the fiscal year to download your complete payment breakdown and gym membership statements."})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Fiscal Year"}),e.jsxs("select",{value:_,onChange:F=>I(F.target.value),className:"w-full h-14 px-5 rounded-[20px] border-2 border-slate-100 focus:border-violet-500 outline-none font-black text-slate-900 transition-all bg-slate-50 appearance-none",children:[e.jsx("option",{value:"2026",children:"2026"}),e.jsx("option",{value:"2025",children:"2025"}),e.jsx("option",{value:"2024",children:"2024"}),e.jsx("option",{value:"2023",children:"2023"}),e.jsx("option",{value:"2022",children:"2022"})]})]})]}),e.jsxs("div",{className:"flex gap-4 pt-4",children:[e.jsx(Ht,{variant:"outline",onClick:()=>l(!1),className:"flex-1 py-5 rounded-[24px]",children:"Close"}),e.jsx(Ht,{onClick:R,className:"flex-[2] py-5 rounded-[24px]",icon:Js,children:"Generate PDF"})]})]})})]})},UT=({id:t,dbId:s,date:r,amount:l,status:i,onDownload:o,onPay:d,downloading:x})=>e.jsxs("tr",{className:"hover:bg-slate-50/50 transition-all group",children:[e.jsx("td",{className:"px-8 py-5",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Wa,{size:16,className:"text-slate-400 group-hover:text-violet-500 transition-colors"}),e.jsx("span",{className:"text-sm font-bold text-slate-900 tracking-tight",children:t})]})}),e.jsx("td",{className:"px-8 py-5",children:e.jsx("span",{className:"text-sm font-bold text-slate-500",children:r})}),e.jsx("td",{className:"px-8 py-5",children:e.jsxs("span",{className:"text-sm font-black text-slate-900 tracking-tight",children:["",l.toLocaleString()]})}),e.jsx("td",{className:"px-8 py-5",children:e.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-lg text-[10px] font-black uppercase tracking-wider border ${i==="Paid"?"bg-emerald-50 text-emerald-600 border-emerald-100":i==="Unpaid"?"bg-rose-50 text-rose-600 border-rose-100":"bg-amber-50 text-amber-600 border-amber-100"}`,children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full mr-1.5 ${i==="Paid"?"bg-emerald-500":i==="Unpaid"?"bg-rose-500":"bg-amber-500 animate-pulse"}`}),i]})}),e.jsx("td",{className:"px-8 py-5",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[i!=="Paid"&&e.jsx(Ht,{onClick:()=>d({id:t,dbId:s,date:r,amount:l,status:i}),className:"h-10 px-4 py-0 rounded-xl bg-violet-600 hover:bg-violet-700 shadow-md shadow-violet-100",children:"Pay Now"}),e.jsx("button",{onClick:()=>o(t),disabled:x===t,className:"p-2.5 text-slate-400 hover:text-violet-600 hover:bg-white rounded-xl shadow-sm border border-slate-100 transition-all disabled:opacity-50",title:"Download PDF",children:x===t?e.jsx("div",{className:"w-4 h-4 border-2 border-violet-600 border-t-transparent rounded-full animate-spin"}):e.jsx(Js,{size:16})})]})})]}),$T=()=>{const[t,s]=j.useState(null),[r,l]=j.useState(!0),[i,o]=j.useState("personal"),[d,x]=j.useState(!1),[u,h]=j.useState({type:"",text:""}),[p,g]=j.useState(!1),[y,f]=j.useState({name:"",email:"",phone:"",address:"",password:"",confirmPassword:""});j.useEffect(()=>{w()},[]);const w=async()=>{l(!0);const T=await Cw();s(T),f({name:T.name,email:T.email,phone:T.phone,address:T.address||""}),l(!1)},S=T=>{const{name:_,value:I}=T.target;f(B=>({...B,[_]:I}))},v=async T=>{if(T.preventDefault(),x(!0),h({type:"",text:""}),y.password&&y.password!==y.confirmPassword){h({type:"error",text:"Passwords do not match!"}),x(!1);return}try{const _=await DM(y);s(_),f(I=>({...I,password:"",confirmPassword:""})),h({type:"success",text:"Profile updated successfully!"})}catch{h({type:"error",text:"Failed to update profile."})}finally{x(!1)}},N=async()=>{g(!0);try{const T=await RM();s(T),h({type:"success",text:"Membership frozen successfully!"})}catch{h({type:"error",text:"Failed to freeze membership."})}finally{g(!1)}},A=async()=>{g(!0);try{const T=await OM();s(T),h({type:"success",text:"Membership unfrozen successfully!"})}catch{h({type:"error",text:"Failed to unfreeze membership."})}finally{g(!1)}},L=T=>{switch(T){case"Active":return"bg-emerald-50 text-emerald-700 border-emerald-200";case"Expired":return"bg-red-50 text-red-700 border-red-200";case"Payment Pending":return"bg-amber-50 text-amber-700 border-amber-200";case"Frozen":return"bg-blue-50 text-blue-700 border-blue-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}};if(r)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 flex items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"h-16 w-16 bg-gradient-to-br from-violet-200 to-purple-200 rounded-full mb-4 animate-spin"}),e.jsx("p",{className:"text-lg font-semibold text-slate-600",children:"Loading profile..."})]})});const M=[{id:"personal",label:"Personal Info",icon:rt},{id:"security",label:"Security",icon:tr},{id:"notifications",label:"Notifications",icon:vl}];return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-6 md:p-8 font-sans",children:e.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[e.jsxs("div",{className:"relative bg-white rounded-2xl border border-slate-100 shadow-xl overflow-hidden animate-in fade-in duration-500",children:[e.jsxs("div",{className:"h-40 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-transparent to-black/10"}),e.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-10"})]}),e.jsx("div",{className:"px-8 pb-8",children:e.jsxs("div",{className:"relative flex flex-col md:flex-row md:items-end gap-6 -mt-16",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"w-36 h-36 rounded-2xl bg-white p-2 shadow-2xl ring-4 ring-white",children:e.jsx("div",{className:"w-full h-full rounded-xl bg-gradient-to-br from-violet-600 to-purple-600 flex items-center justify-center text-white text-5xl font-black shadow-lg",children:t.avatar})}),e.jsx("button",{className:"absolute bottom-2 right-2 p-3 bg-white rounded-xl shadow-lg border border-slate-200 text-violet-600 hover:scale-110 hover:bg-violet-50 active:scale-95 transition-all duration-300 group-hover:shadow-xl",children:e.jsx(Uo,{size:18})})]}),e.jsxs("div",{className:"flex-1 pb-2",children:[e.jsx("h1",{className:"text-3xl font-black bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent mb-2",children:t.name}),e.jsxs("div",{className:"flex flex-wrap gap-3 mt-3",children:[e.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-gradient-to-r from-violet-50 to-purple-50 text-violet-700 text-xs font-bold border border-violet-200 shadow-sm",children:t.plan}),e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-bold border shadow-sm ${L(t.membershipStatus)}`,children:[t.membershipStatus==="Active"&&e.jsx(as,{size:14}),t.membershipStatus==="Frozen"&&e.jsx(M1,{size:14}),t.membershipStatus==="Expired"&&e.jsx(Je,{size:14}),t.membershipStatus==="Payment Pending"&&e.jsx(ha,{size:14}),t.membershipStatus]}),e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full bg-slate-50 text-slate-700 text-xs font-bold border border-slate-200 shadow-sm",children:[e.jsx(Ye,{size:14,className:"text-slate-500"}),"Joined ",t.joinedDate]})]})]}),e.jsxs("button",{className:"md:mb-2 px-6 py-3 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-xl text-sm font-bold shadow-lg shadow-violet-200 hover:shadow-violet-500/30 hover:scale-105 active:scale-95 transition-all duration-300 flex items-center gap-2",children:[e.jsx(as,{size:18}),"Verified Member"]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-xl p-8 animate-in fade-in duration-500",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-1",children:"Membership Details"}),e.jsx("p",{className:"text-sm text-slate-600 font-medium",children:"Your current plan information"})]}),e.jsx("div",{className:"p-3 bg-gradient-to-br from-violet-100 to-purple-100 rounded-xl",children:e.jsx(Wt,{size:24,className:"text-violet-600"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-100",children:[e.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-1",children:"Plan Name"}),e.jsx("p",{className:"text-lg font-bold text-slate-900",children:t.plan})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-100",children:[e.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-1",children:"Start Date"}),e.jsx("p",{className:"text-sm font-bold text-slate-900",children:new Date(t.membershipStartDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]}),e.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-100",children:[e.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-1",children:"Expiry Date"}),e.jsx("p",{className:"text-sm font-bold text-slate-900",children:new Date(t.membershipExpiryDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})]})]}),(t.currentUserRole==="ADMIN"||t.currentUserRole==="MANAGER")&&e.jsx("div",{className:"mt-6 pt-6 border-t border-slate-100",children:t.membershipStatus==="Active"?e.jsx("button",{onClick:N,disabled:p,className:"w-full px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-xl text-sm font-bold shadow-lg shadow-blue-200 hover:shadow-blue-500/30 hover:scale-105 active:scale-95 transition-all duration-300 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:p?e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(b8,{size:18}),"Freeze Membership"]})}):t.membershipStatus==="Frozen"?e.jsx("button",{onClick:A,disabled:p,className:"w-full px-6 py-3 bg-gradient-to-r from-emerald-600 to-emerald-700 text-white rounded-xl text-sm font-bold shadow-lg shadow-emerald-200 hover:shadow-emerald-500/30 hover:scale-105 active:scale-95 transition-all duration-300 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:p?e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(Ij,{size:18}),"Unfreeze Membership"]})}):e.jsx("div",{className:"text-center p-4 bg-slate-50 rounded-xl border border-slate-200",children:e.jsxs("p",{className:"text-xs font-bold text-slate-500",children:["Freeze/Unfreeze not available for ",t.membershipStatus," status"]})})})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-xl p-8 animate-in fade-in duration-500",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-1",children:"Benefit Wallet"}),e.jsx("p",{className:"text-sm text-slate-600 font-medium",children:"Your available credits"})]}),e.jsx("span",{className:"px-3 py-1.5 rounded-full bg-gradient-to-r from-violet-50 to-purple-50 text-violet-700 text-xs font-bold border border-violet-200 shadow-sm",children:t.planValidity})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-5 bg-gradient-to-br from-orange-50 to-red-50 rounded-xl border border-orange-100 hover:shadow-lg transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"p-2 bg-white rounded-lg shadow-sm",children:e.jsx(xg,{size:20,className:"text-orange-600"})}),e.jsx("span",{className:"text-2xl font-black text-orange-600",children:t.benefitWallet.saunaSessions})]}),e.jsx("p",{className:"text-xs font-bold text-orange-900 uppercase tracking-wider",children:"Sauna Sessions"}),e.jsx("p",{className:"text-[10px] text-orange-700 mt-1 font-medium",children:"Left"})]}),e.jsxs("div",{className:"p-5 bg-gradient-to-br from-cyan-50 to-blue-50 rounded-xl border border-cyan-100 hover:shadow-lg transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"p-2 bg-white rounded-lg shadow-sm",children:e.jsx(M1,{size:20,className:"text-cyan-600"})}),e.jsx("span",{className:"text-2xl font-black text-cyan-600",children:t.benefitWallet.iceBathCredits})]}),e.jsx("p",{className:"text-xs font-bold text-cyan-900 uppercase tracking-wider",children:"Ice Bath Credits"}),e.jsx("p",{className:"text-[10px] text-cyan-700 mt-1 font-medium",children:"Left"})]}),e.jsx("div",{className:"p-5 bg-gradient-to-br from-violet-50 to-purple-50 rounded-xl border border-violet-100 hover:shadow-lg transition-all duration-300 col-span-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-white rounded-lg shadow-sm",children:e.jsx(qr,{size:20,className:"text-violet-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-violet-900 uppercase tracking-wider",children:"PT Sessions Remaining"}),e.jsx("p",{className:"text-[10px] text-violet-700 mt-0.5 font-medium",children:"Personal Training"})]})]}),e.jsx("span",{className:"text-3xl font-black text-violet-600",children:t.benefitWallet.ptSessions})]})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"lg:col-span-1 space-y-2",children:M.map(T=>e.jsxs("button",{onClick:()=>o(T.id),className:`w-full flex items-center gap-3 px-5 py-4 rounded-xl text-sm font-bold transition-all duration-300 ${i===T.id?"bg-gradient-to-r from-violet-600 to-purple-600 text-white shadow-lg shadow-violet-200 hover:shadow-xl hover:scale-105":"text-slate-600 hover:bg-white border border-transparent hover:border-slate-200 hover:text-slate-900 hover:shadow-md"}`,children:[e.jsx(T.icon,{size:20,className:i===T.id?"":"text-slate-400"}),T.label]},T.id))}),e.jsx("div",{className:"lg:col-span-3",children:e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-xl p-8 animate-in slide-in-from-right duration-500",children:[u.text&&e.jsxs("div",{className:`mb-6 p-4 rounded-xl flex items-center gap-3 text-sm font-bold border ${u.type==="success"?"bg-emerald-50 text-emerald-700 border-emerald-200":"bg-red-50 text-red-700 border-red-200"}`,children:[u.type==="success"?e.jsx(as,{size:18}):e.jsx(tr,{size:18}),u.text]}),i==="personal"&&e.jsxs("form",{onSubmit:v,className:"space-y-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"Personal Information"}),e.jsx("p",{className:"text-sm text-slate-600 font-medium",children:"Update your profile details and contact information."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest px-1",children:"Full Name"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-slate-400 group-focus-within:text-violet-600 group-focus-within:scale-110 transition-all duration-300",children:e.jsx(rt,{size:20})}),e.jsx("input",{type:"text",name:"name",value:y.name,onChange:S,className:"block w-full pl-12 pr-4 py-3.5 bg-white border-2 border-slate-200 rounded-xl text-slate-900 text-sm font-bold focus:outline-none focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 hover:border-violet-200 transition-all duration-300 shadow-sm",placeholder:"Enter your name"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest px-1",children:"Email Address"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-slate-400 group-focus-within:text-violet-600 group-focus-within:scale-110 transition-all duration-300",children:e.jsx(Hr,{size:20})}),e.jsx("input",{type:"email",name:"email",value:y.email,readOnly:!0,className:"block w-full pl-12 pr-4 py-3.5 bg-slate-50 border-2 border-slate-200 rounded-xl text-slate-500 text-sm font-bold cursor-not-allowed transition-all duration-300 shadow-sm",placeholder:"Enter your email"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest px-1",children:"Phone Number"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-slate-400 group-focus-within:text-violet-600 group-focus-within:scale-110 transition-all duration-300",children:e.jsx(qs,{size:20})}),e.jsx("input",{type:"text",name:"phone",value:y.phone,onChange:S,className:"block w-full pl-12 pr-4 py-3.5 bg-white border-2 border-slate-200 rounded-xl text-slate-900 text-sm font-bold focus:outline-none focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 hover:border-violet-200 transition-all duration-300 shadow-sm",placeholder:"Enter phone number"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest px-1",children:"Location"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-slate-400 group-focus-within:text-violet-600 group-focus-within:scale-110 transition-all duration-300",children:e.jsx($s,{size:20})}),e.jsx("input",{type:"text",name:"address",value:y.address,onChange:S,className:"block w-full pl-12 pr-4 py-3.5 bg-white border-2 border-slate-200 rounded-xl text-slate-900 text-sm font-bold focus:outline-none focus:ring-4 focus:ring-violet-500/20 focus:border-violet-500 hover:border-violet-200 transition-all duration-300 shadow-sm",placeholder:"Enter city, country"})]})]})]}),e.jsx("div",{className:"pt-8 border-t border-slate-100",children:e.jsxs("button",{type:"submit",disabled:d,className:"group relative flex items-center justify-center px-8 py-4 rounded-xl font-bold text-white shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:translate-y-0 bg-gradient-to-r from-violet-600 to-purple-600 hover:shadow-violet-500/50 w-full md:w-auto",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 to-fuchsia-600 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),d?e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin relative mr-2"}):e.jsx(xa,{size:20,className:"mr-2 relative transition-transform duration-300 group-hover:rotate-12 group-hover:scale-110"}),e.jsx("span",{className:"relative z-10",children:d?"Saving...":"Save Profile Changes"})]})})]}),i==="security"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"Security Settings"}),e.jsx("p",{className:"text-sm text-slate-600 font-medium",children:"Manage your password and account security"})]}),e.jsxs("div",{className:"p-6 rounded-2xl bg-gradient-to-br from-red-50 to-red-100/50 border-2 border-red-100",children:[e.jsxs("h4",{className:"text-red-700 font-bold flex items-center gap-2 mb-2",children:[e.jsx(Fs,{size:20})," Password Management"]}),e.jsx("p",{className:"text-red-800/70 text-sm font-medium",children:"It's recommended to update your password every 90 days for maximum security."}),e.jsxs("form",{onSubmit:v,className:"space-y-4",children:[e.jsx("div",{children:e.jsx("input",{type:"password",name:"password",value:y.password,onChange:S,placeholder:"New Password",className:"w-full mt-4 px-4 py-3 bg-white border border-red-200 rounded-xl text-sm focus:ring-2 focus:ring-red-400 focus:outline-none transition-all"})}),e.jsx("div",{children:e.jsx("input",{type:"password",name:"confirmPassword",value:y.confirmPassword,onChange:S,placeholder:"Confirm New Password",className:"w-full px-4 py-3 bg-white border border-red-200 rounded-xl text-sm focus:ring-2 focus:ring-red-400 focus:outline-none transition-all"})}),e.jsx("button",{type:"submit",disabled:d||!y.password,className:"mt-4 px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-xl text-sm font-bold hover:shadow-lg hover:scale-105 active:scale-95 transition-all duration-300 shadow-red-200 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:d?"Updating...":"Change Password"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-xs font-black text-slate-900 uppercase tracking-widest px-1",children:"Account Security"}),e.jsx("div",{className:"p-6 rounded-2xl border-2 border-slate-100 bg-slate-50/50 hover:bg-white hover:border-violet-100 transition-all duration-300 group cursor-pointer",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-slate-900 group-hover:text-violet-700 transition-colors",children:"Two-Factor Authentication"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1 font-medium",children:"Add an extra layer of security to your account."})]}),e.jsx("div",{className:"relative w-12 h-6 bg-slate-300 rounded-full shadow-inner transition-all hover:bg-slate-400",children:e.jsx("div",{className:"absolute left-1 top-1 w-4 h-4 bg-white rounded-full shadow-sm transition-all text-emerald-500"})})]})})]})]}),i==="notifications"&&e.jsxs("div",{className:"flex flex-col items-center justify-center py-24 text-center",children:[e.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-violet-100 to-purple-100 rounded-full flex items-center justify-center text-violet-600 mb-6 shadow-inner",children:e.jsx(vl,{size:40,className:"animate-pulse"})}),e.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Notification Preferences"}),e.jsx("p",{className:"text-slate-500 max-w-sm font-medium leading-relaxed",children:"Customize how you receive alerts, session reminders, and system updates."})]})]})})]})]})})},qT=()=>{const[t,s]=j.useState([]),r=Gt(),[l,i]=j.useState("All"),[o,d]=j.useState(!1),[x,u]=j.useState(!1),[h,p]=j.useState(!1),[g,y]=j.useState(!1),[f,w]=j.useState(""),[S,v]=j.useState(!1),[N,A]=j.useState(0),[L,M]=j.useState(0),[T,_]=j.useState(0),[I,B]=j.useState(0),[P,R]=j.useState("transactions"),[W,H]=j.useState([]),[$,G]=j.useState([]),[le,Q]=j.useState([]),[ne,F]=j.useState(!1),[de,ke]=j.useState({name:"",number:"",expiry:""}),[X,q]=j.useState(!1),[Z,ae]=j.useState("All");j.useEffect(()=>{ue(),he()},[]);const ue=async()=>{const xe=await EM();s(xe)},he=async()=>{try{const xe=await IM();A(xe?.balance||0),M(xe?.addedThisMonth||0),_(xe?.loyaltyPts||0),B(xe?.credits||0);const se=await Aw();Q(se||[]);const Ze=await VM();G(Ze||[])}catch(xe){console.error("Failed to load wallet details:",xe)}},be=async xe=>{xe.preventDefault(),v(!0);try{const se=parseFloat(f);await TM(se),await he(),await ue(),d(!1),w(""),alert("Credits added successfully!")}catch(se){console.error("Error adding credits:",se),alert("Failed to add credits")}finally{v(!1)}},Me=async()=>{y(!0);try{const xe=new yt;xe.setFontSize(20),xe.setTextColor(40,40,40),xe.text("Benefit Wallet Statement",14,22),xe.setFontSize(10),xe.setTextColor(100,100,100),xe.text(`Generated on: ${new Date().toLocaleDateString()}`,14,30),xe.text(`Available Balance: INR ${N}`,14,35);const se=t.map(Ze=>[Ze.date,Ze.title,Ze.type==="income"?"Credit":"Debit",(Ze.type==="income"?"+":"-")+" INR "+Ze.amount.toLocaleString()]);Gf(xe,{startY:45,head:[["Date","Description","Type","Amount"]],body:se,theme:"striped",headStyles:{fillColor:[139,92,246]},styles:{fontSize:9,cellPadding:3}}),xe.save(`Wallet_Statement_${new Date().toISOString().split("T")[0]}.pdf`)}catch(xe){console.error("Error generating PDF:",xe),alert("Failed to generate statement.")}finally{y(!1)}},Ne=async xe=>{if(xe.preventDefault(),de.number.length<4){alert("Please enter a valid card number");return}try{const se={name:de.name||"New Card",number:de.number.slice(-4),expiry:de.expiry||"MM/YY",brand:"Custom"},Ze=await Mw(se);Q([...le,Ze.card]),F(!1),ke({name:"",number:"",expiry:""}),alert("Card saved successfully!")}catch(se){console.error("Failed to save card:",se),alert("Failed to save card")}},Fe=async xe=>{if(window.confirm("Are you sure you want to delete this card?"))try{await Dw(xe),Q(le.filter(se=>se.id!==xe))}catch(se){console.error("Failed to delete card:",se),alert("Failed to delete card")}},Xe=async(xe,se,Ze)=>{if(T<se){alert("Insufficient loyalty points to redeem this item.");return}if(window.confirm(`Redeem ${Ze} for ${se} points?`)){v(!0);try{const Ft=await YM(xe);_(Ft.remainingPoints),await ue(),alert("Reward redeemed successfully!")}catch(Ft){console.error("Failed to redeem reward:",Ft),alert(typeof Ft=="string"?Ft:"Failed to redeem reward")}finally{v(!1)}}},st=t.filter(xe=>l==="All"?!0:xe.type===l.toLowerCase()),et=t.filter(xe=>Z==="All"?!0:xe.type===Z.toLowerCase());return e.jsxs("div",{className:"p-6 md:p-8 bg-gray-50 min-h-screen font-sans",children:[e.jsxs("div",{className:"max-w-5xl mx-auto space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-black text-gray-900 tracking-tight",children:"Benefit Wallet"}),e.jsx("p",{className:"text-gray-500 font-medium mt-1",children:"Manage your credits, rewards, and transaction history."})]}),e.jsxs("button",{onClick:()=>d(!0),className:"px-6 py-3 bg-violet-600 text-white rounded-2xl font-black shadow-lg shadow-violet-100 hover:bg-violet-700 transition-all flex items-center gap-2",children:[e.jsx(St,{size:18})," Add Credits"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-slate-900 to-slate-800 p-6 md:p-8 rounded-[32px] md:rounded-[40px] text-white shadow-2xl relative overflow-hidden",children:[e.jsxs("div",{className:"relative z-10 space-y-8",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"p-3 bg-white/10 rounded-2xl backdrop-blur-md",children:e.jsx(kh,{size:24,className:"text-indigo-300"})}),e.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Available Balance"})]}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-5xl font-black tracking-tight flex items-baseline gap-1",children:[e.jsx("span",{className:"text-2xl text-indigo-400 font-bold",children:""})," ",N.toLocaleString()]}),e.jsxs("p",{className:"text-slate-400 text-xs font-bold mt-2 flex items-center gap-1",children:[e.jsx(St,{size:14,className:"text-green-400"})," ",L.toLocaleString()," added this month"]})]}),e.jsxs("div",{className:"flex items-center gap-4 pt-4",children:[e.jsxs("div",{className:"flex-1 p-3 bg-white/5 rounded-2xl border border-white/10 text-center",children:[e.jsx("p",{className:"text-[10px] uppercase font-bold text-slate-500",children:"Loyalty Pts"}),e.jsx("p",{className:"text-lg font-black text-indigo-300",children:T})]}),e.jsxs("div",{className:"flex-1 p-3 bg-white/5 rounded-2xl border border-white/10 text-center",children:[e.jsx("p",{className:"text-[10px] uppercase font-bold text-slate-500",children:"Credits"}),e.jsx("p",{className:"text-lg font-black text-indigo-300",children:I})]})]})]}),e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-indigo-500/10 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-violet-500/10 rounded-full blur-2xl"})]}),e.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-[28px] md:rounded-[32px] border border-gray-100 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(hf,{icon:Os,label:"Saved Cards",onClick:()=>u(!0)}),e.jsx(hf,{icon:$l,label:"Redeem Rewards",onClick:()=>p(!0)}),e.jsx(hf,{icon:sl,label:"Statement PDF",onClick:Me,isLoading:g})]})]})]}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-white rounded-[32px] border border-gray-100 shadow-sm p-5 md:p-8 h-full flex flex-col",children:[e.jsxs("div",{className:"flex items-center gap-6 mb-8 border-b border-gray-100 pb-4",children:[e.jsxs("button",{onClick:()=>R("transactions"),className:`text-lg font-black transition-all relative ${P==="transactions"?"text-gray-900":"text-gray-400 hover:text-gray-600"}`,children:["Transactions",P==="transactions"&&e.jsx("div",{className:"absolute -bottom-[17px] left-0 right-0 h-1 bg-violet-600 rounded-full"})]}),e.jsxs("button",{onClick:()=>R("invoices"),className:`text-lg font-black transition-all relative ${P==="invoices"?"text-gray-900":"text-gray-400 hover:text-gray-600"}`,children:["My Invoices",P==="invoices"&&e.jsx("div",{className:"absolute -bottom-[17px] left-0 right-0 h-1 bg-violet-600 rounded-full"})]})]}),P==="transactions"?e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest",children:"Recent Activity"}),e.jsx("div",{className:"flex bg-gray-50 p-1 rounded-xl w-full sm:w-auto overflow-x-auto scrollbar-hide",children:["All","Income","Spent"].map(xe=>e.jsx("button",{onClick:()=>i(xe),className:`flex-1 sm:flex-none px-4 py-1.5 rounded-lg text-xs font-bold transition-all whitespace-nowrap ${l===xe?"bg-white text-violet-600 shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:xe},xe))})]}),e.jsx("div",{className:"space-y-1 max-h-[400px] overflow-y-auto pr-1 custom-scrollbar",children:st.length>0?st.map(xe=>e.jsx(WT,{title:xe.title,date:xe.date,amount:`${xe.type==="income"?"+":"-"}${xe.amount.toLocaleString()}`,type:xe.type},xe.id)):e.jsx("p",{className:"text-center text-gray-400 py-8 text-sm font-bold",children:"No transactions found."})}),e.jsx("button",{onClick:()=>q(!0),className:"w-full mt-6 py-4 text-violet-600 font-black text-sm hover:bg-violet-50 rounded-2xl transition-all",children:"View Detailed History"})]}):e.jsxs("div",{className:"flex-1 space-y-6",children:[e.jsxs("div",{className:"p-4 rounded-2xl bg-amber-50 border border-amber-100 flex gap-3 text-amber-800 text-sm",children:[e.jsx(ps,{className:"shrink-0",size:20}),e.jsx("p",{className:"font-medium",children:"You have 1 pending invoice. Please pay to avoid membership suspension."})]}),e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8 space-y-6 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-full flex items-center justify-center text-slate-200",children:e.jsx(Wa,{size:40})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-xl font-black text-slate-900",children:"Manage Your Invoices"}),e.jsx("p",{className:"text-sm text-slate-500 font-medium max-w-xs mx-auto",children:"We've moved our billing system to a dedicated page for better security and experience."})]}),e.jsxs(Ht,{onClick:()=>r("/member/payments"),variant:"primary",className:"px-8 py-4 rounded-2xl shadow-xl shadow-violet-100",children:["Go to My Invoices ",e.jsx(rl,{size:18,className:"ml-2"})]})]})]})]})})]})]}),e.jsx(at,{isOpen:X,onClose:()=>q(!1),title:"Transaction History",maxWidth:"max-w-4xl",children:e.jsx("div",{className:"p-8 h-full flex flex-col",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[e.jsxs("div",{className:"w-full md:w-64 space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Filter by Type"}),e.jsx("div",{className:"space-y-1",children:["All","Income","Spent"].map(xe=>e.jsxs("button",{onClick:()=>ae(xe),className:`w-full flex items-center justify-between p-3 rounded-2xl text-sm font-bold transition-all ${Z===xe?"bg-violet-600 text-white shadow-lg shadow-violet-100":"text-gray-500 hover:bg-gray-50"}`,children:[xe,Z===xe&&e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-white"})]},xe))})]}),e.jsxs("div",{className:"p-6 rounded-3xl bg-slate-900 text-white space-y-4",children:[e.jsx("p",{className:"text-xs font-bold text-slate-400",children:"Monthly Summary"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-slate-500 font-bold",children:"Total Added"}),e.jsxs("span",{className:"text-lg font-black text-green-400",children:["+",L.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between items-center text-sm font-bold",children:[e.jsx("span",{className:"text-xs text-slate-500 font-bold",children:"Available"}),e.jsxs("span",{className:"text-lg font-black text-indigo-400",children:["",N.toLocaleString()]})]})]})]})]}),e.jsx("div",{className:"flex-1 space-y-4",children:et.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"hidden md:block bg-gray-50/50 rounded-3xl border border-gray-100 overflow-hidden",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Transaction"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Date"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-right",children:"Amount"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:et.map(xe=>e.jsxs("tr",{className:"hover:bg-white transition-colors group",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-xl ${xe.type==="income"?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:xe.type==="income"?e.jsx(_0,{size:16}):e.jsx(rl,{size:16})}),e.jsx("span",{className:"font-bold text-gray-900 text-sm",children:xe.title})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"text-xs font-bold text-gray-400",children:xe.date})}),e.jsxs("td",{className:`px-6 py-4 text-sm font-black text-right ${xe.type==="income"?"text-green-600":"text-gray-900"}`,children:[xe.type==="income"?"+":"-","",xe.amount.toLocaleString()]})]},xe.id))})]})}),e.jsx("div",{className:"md:hidden space-y-4",children:et.map(xe=>e.jsx(Ga,{title:xe.title,subtitle:xe.date,status:xe.type==="income"?"+"+xe.amount.toLocaleString():"-"+xe.amount.toLocaleString(),statusColor:xe.type==="income"?"text-green-600":"text-gray-900",icon:xe.type==="income"?_0:rl,iconColor:xe.type==="income"?"bg-green-100 text-green-600":"bg-red-100 text-red-600",fields:[]},xe.id))})]}):e.jsxs("div",{className:"h-64 flex flex-col items-center justify-center text-center space-y-3 bg-gray-50/50 rounded-3xl border border-dashed border-gray-200",children:[e.jsx("div",{className:"p-4 bg-gray-100 rounded-full text-gray-400",children:e.jsx(sl,{size:32})}),e.jsx("p",{className:"text-gray-400 font-bold text-sm",children:"No transactions found for this filter."})]})})]})})}),e.jsx(at,{isOpen:o,onClose:()=>d(!1),title:"Add Wallet Credits",maxWidth:"max-w-md",children:e.jsxs("form",{onSubmit:be,className:"p-8 space-y-8",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Amount to add ()"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-6 top-1/2 -translate-y-1/2 text-gray-400 font-bold text-xl",children:""}),e.jsx("input",{type:"number",autoFocus:!0,required:!0,min:"1",className:"w-full bg-gray-50 border-2 border-gray-100 focus:border-violet-500 rounded-[24px] py-5 pl-12 pr-6 text-2xl font-black text-gray-900 outline-none transition-all",value:f,onChange:xe=>w(xe.target.value)})]})]}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:[500,1e3,2e3].map(xe=>e.jsxs("button",{type:"button",onClick:()=>w(xe),className:"py-4 rounded-2xl bg-violet-50 text-violet-600 text-xs font-black shadow-sm hover:bg-violet-600 hover:text-white transition-all active:scale-95",children:["+ ",xe]},xe))}),e.jsx("button",{type:"submit",disabled:S||!f,className:"w-full py-5 bg-violet-600 text-white rounded-[24px] font-black shadow-xl shadow-violet-200 hover:bg-violet-700 transition-all disabled:opacity-70 disabled:cursor-not-allowed flex justify-center items-center gap-2 transform active:scale-[0.98]",children:S?e.jsx(X0,{className:"animate-spin",size:20}):"Proceed to Pay"}),e.jsx("p",{className:"text-center text-[10px] font-bold text-gray-400 uppercase tracking-[0.2em]",children:"Secure encrypted payment"})]})}),e.jsx(at,{isOpen:x,onClose:()=>{u(!1),F(!1)},title:ne?"Add New Card":"Payment Methods",maxWidth:"max-w-md",children:e.jsx("div",{className:"p-8",children:ne?e.jsxs("form",{onSubmit:Ne,className:"space-y-6 animate-in slide-in-from-right-4 duration-300",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Card Holder Name"}),e.jsx("input",{required:!0,type:"text",className:"w-full bg-gray-50 border-2 border-gray-100 focus:border-violet-500 rounded-2xl py-4 px-5 text-sm font-black outline-none transition-all",placeholder:"Enter full name",value:de.name,onChange:xe=>ke({...de,name:xe.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Card Number"}),e.jsx("input",{required:!0,type:"text",maxLength:"16",className:"w-full bg-gray-50 border-2 border-gray-100 focus:border-violet-500 rounded-2xl py-4 px-5 text-sm font-black outline-none transition-all tracking-[0.2em]",placeholder:"0000 0000 0000 0000",value:de.number,onChange:xe=>ke({...de,number:xe.target.value.replace(/\D/g,"")})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Expiry Date"}),e.jsx("input",{required:!0,type:"text",maxLength:"5",className:"w-full bg-gray-50 border-2 border-gray-100 focus:border-violet-500 rounded-2xl py-4 px-5 text-sm font-black outline-none transition-all",placeholder:"MM/YY",value:de.expiry,onChange:xe=>{let se=xe.target.value.replace(/\D/g,"");se.length>=2&&(se=se.slice(0,2)+"/"+se.slice(2)),ke({...de,expiry:se})}})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"CVV"}),e.jsx("input",{required:!0,type:"password",maxLength:"3",className:"w-full bg-gray-50 border-2 border-gray-100 focus:border-violet-500 rounded-2xl py-4 px-5 text-sm font-black outline-none transition-all",placeholder:""})]})]}),e.jsxs("div",{className:"flex gap-4 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>F(!1),className:"flex-1 py-5 bg-gray-50 text-gray-400 rounded-[24px] font-black text-sm hover:bg-gray-100 transition-all uppercase tracking-widest",children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex-[2] py-5 bg-violet-600 text-white rounded-[24px] font-black text-sm shadow-xl shadow-violet-200 hover:bg-violet-700 transition-all uppercase tracking-widest",children:"Save Method"})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"space-y-4",children:le.map((xe,se)=>e.jsxs("div",{className:`p-6 rounded-[32px] border-2 transition-all ${se===0?"border-violet-200 bg-violet-50/20":"border-gray-50 bg-white hover:border-violet-100"} flex items-center justify-between group`,children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-12 h-8 ${xe.brand==="HDFC"?"bg-slate-900":xe.brand==="ICICI"?"bg-blue-600":"bg-slate-500"} rounded-lg flex items-center justify-center text-[8px] text-white font-black shadow-lg`,children:xe.brand}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-black text-gray-900",children:xe.name}),e.jsxs("p",{className:"text-[11px] font-bold text-gray-400",children:["  ",xe.number]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[se===0&&e.jsx("div",{className:"w-6 h-6 rounded-full bg-violet-600 flex items-center justify-center shadow-lg shadow-violet-200",children:e.jsx($l,{size:12,className:"text-white fill-white"})}),e.jsx("button",{onClick:()=>Fe(xe.id),className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-full transition-all",children:e.jsx(Ms,{size:16})})]})]},xe.id))}),e.jsxs("button",{onClick:()=>F(!0),className:"w-full py-5 border-2 border-dashed border-gray-200 rounded-[24px] text-gray-400 font-black text-sm hover:border-violet-300 hover:text-violet-600 hover:bg-violet-50 transition-all flex items-center justify-center gap-2",children:[e.jsx(St,{size:20})," Add New Method"]})]})})}),e.jsx(at,{isOpen:h,onClose:()=>p(!1),title:"Rewards Store",maxWidth:"max-w-md",children:e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs("div",{className:"bg-gradient-to-br from-violet-600 to-indigo-700 p-8 text-white",children:[e.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.2em] opacity-80 mb-1",children:"Total Available"}),e.jsxs("h2",{className:"text-4xl font-black flex items-center gap-2",children:[T," ",e.jsx($l,{className:"fill-white",size:24})]})]}),e.jsx("div",{className:"p-8 space-y-6 flex-1 overflow-y-auto",children:$.length===0?e.jsx("p",{className:"text-center text-xs font-bold text-gray-400",children:"Loading rewards store..."}):$.map(xe=>e.jsx(HT,{points:xe.points,title:xe.name,description:xe.description,disabled:T<xe.points||S,onRedeem:()=>Xe(xe.id,xe.points,xe.name)},xe.id))}),e.jsx("div",{className:"p-8 bg-gray-50 border-t border-gray-100 italic text-[10px] font-bold text-gray-400 text-center uppercase tracking-widest",children:"New rewards added every month"})]})})]})},hf=({icon:t,label:s,onClick:r,isLoading:l})=>e.jsxs("button",{onClick:r,disabled:l,className:"w-full flex items-center justify-between p-3.5 md:p-4 bg-gray-50 hover:bg-violet-50 hover:text-violet-600 rounded-2xl transition-all group disabled:opacity-70 disabled:cursor-not-allowed",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[l?e.jsx(X0,{size:18,className:"animate-spin text-violet-500"}):e.jsx(t,{size:18}),e.jsx("span",{className:"text-sm font-bold",children:s})]}),e.jsx(rl,{size:16,className:"text-gray-300 group-hover:text-violet-500"})]}),HT=({points:t,title:s,description:r,onRedeem:l,disabled:i})=>e.jsxs("div",{className:`p-4 rounded-2xl border border-gray-100 bg-white flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 ${i?"opacity-50":""}`,children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"px-2 py-0.5 rounded-md bg-amber-100 text-amber-600 text-[10px] font-black",children:[t," PTS"]}),e.jsx("h4",{className:"font-bold text-gray-900 text-sm",children:s})]}),e.jsx("p",{className:"text-xs text-gray-400 font-medium",children:r})]}),e.jsx("button",{onClick:l,disabled:i,className:`px-4 py-2 rounded-xl text-xs font-black transition-all ${i?"bg-gray-100 text-gray-400":"bg-gray-900 text-white hover:bg-violet-600"}`,children:"Redeem"})]}),WT=({title:t,date:s,amount:r,type:l})=>{const i=l==="income";return e.jsxs("div",{className:"flex items-center justify-between p-3 md:p-4 hover:bg-gray-50 rounded-2xl transition-all",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`p-2.5 rounded-xl ${i?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:i?e.jsx(_0,{size:18}):e.jsx(rl,{size:18})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900 text-sm",children:t}),e.jsx("p",{className:"text-[11px] text-gray-400 font-bold uppercase tracking-wide",children:s})]})]}),e.jsx("span",{className:`text-sm font-black ${i?"text-green-600":"text-gray-900"}`,children:r})]})},M2=({role:t})=>e.jsx("div",{className:"fade-in",children:e.jsx(Xh,{context:{role:t}})}),GT=({role:t})=>{const s=t==="MANAGER",[r,l]=j.useState({...tM,openingHours:"06:00 AM - 10:00 PM",wifiPassword:"KiaaanFitness@2024"}),i=o=>{s&&!["openingHours","wifiPassword"].includes(o.target.name)||l({...r,[o.target.name]:o.target.value})};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4 sm:gap-6",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 rounded-xl sm:rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(Dr,{size:24,className:"sm:w-7 sm:h-7",strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:s?"Branch Operational Details":"Organization Settings"}),e.jsx("span",{className:"hidden sm:inline-block px-2 py-0.5 bg-gradient-to-r from-violet-500 to-purple-600 text-white text-[10px] font-black rounded-md shadow-sm animate-pulse",children:s?"BRANCH SCOPE ":"GLOBAL SCOPE "})]}),e.jsx("p",{className:"text-slate-600 text-xs sm:text-sm mt-0.5 sm:mt-1",children:s?"Update your specific branch details and operation hours":"Manage your gym's brand identity and global contact details"})]})]}),e.jsxs("button",{className:"group flex items-center justify-center gap-2 px-5 sm:px-6 py-2.5 sm:py-3 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-lg sm:rounded-xl text-sm font-bold shadow-xl shadow-violet-500/50 hover:shadow-2xl hover:shadow-violet-500/60 hover:scale-105 transition-all w-full lg:w-auto",children:[e.jsx(xa,{size:16,className:"sm:w-[18px] sm:h-[18px]",strokeWidth:2.5}),"Save Changes"]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 sm:gap-8",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"group relative bg-white rounded-xl sm:rounded-2xl shadow-lg border border-slate-100 p-6 sm:p-8 hover:shadow-xl hover:border-violet-200 transition-all duration-300 h-full text-center",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50/50 to-purple-50/50 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[e.jsxs("div",{className:"relative mb-4 sm:mb-6",children:[e.jsx("div",{className:"w-32 h-32 sm:w-40 sm:h-40 rounded-full p-1 bg-gradient-to-br from-violet-500 to-fuchsia-500 shadow-xl shadow-violet-200",children:e.jsx("div",{className:"w-full h-full rounded-full border-4 border-white bg-slate-50 overflow-hidden flex items-center justify-center group-hover:scale-105 transition-transform duration-500",children:r.logoUrl?e.jsx("img",{src:r.logoUrl,alt:"Logo",className:"w-full h-full object-cover"}):e.jsx(Dr,{size:40,className:"sm:w-12 sm:h-12 text-slate-300"})})}),!s&&e.jsx("button",{className:"absolute bottom-1 right-1 sm:bottom-2 sm:right-2 p-2.5 sm:p-3 bg-violet-600 text-white rounded-full shadow-lg hover:bg-violet-700 hover:scale-110 transition-all duration-300 border-4 border-white",children:e.jsx(Uo,{size:18,className:"sm:w-5 sm:h-5",strokeWidth:2.5})})]}),e.jsx("h3",{className:"text-lg sm:text-xl font-black text-slate-800 mb-2",children:"Brand Logo"}),e.jsx("p",{className:"text-slate-500 text-xs sm:text-sm font-medium mb-4 sm:mb-6 max-w-xs mx-auto",children:s?"Global organization logo (Managed by Admin)":"Upload a high-resolution logo. Recommended size: 512x512px."}),!s&&e.jsx("button",{className:"w-full py-2.5 sm:py-3 bg-white border-2 border-slate-200 text-slate-700 rounded-lg sm:rounded-xl text-sm font-bold hover:border-violet-500 hover:text-violet-600 transition-all duration-300",children:"Upload New Logo"})]})]})}),e.jsxs("div",{className:"lg:col-span-2 space-y-6 sm:space-y-8",children:[e.jsxs("div",{className:"group relative bg-white rounded-xl sm:rounded-2xl shadow-lg border border-slate-100 p-6 sm:p-8 hover:shadow-xl hover:border-violet-200 transition-all duration-300",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50/30 to-purple-50/30 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative z-10 grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6",children:[e.jsxs("div",{className:"md:col-span-2 border-b border-slate-100 pb-2 mb-2",children:[e.jsx("h3",{className:"text-sm font-black text-violet-600 uppercase tracking-widest",children:"Global Brand Identity"}),e.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-tight",children:"Read-only for Branch Scope"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2 ml-1",children:"Organization Name"}),e.jsxs("div",{className:"relative group/input",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx(Dr,{size:18,className:"text-slate-400 group-focus-within/input:text-violet-500 transition-colors"})}),e.jsx("input",{name:"name",type:"text",value:r.name,onChange:i,disabled:s,className:`w-full pl-11 pr-4 py-3.5 border-2 rounded-xl font-bold transition-all duration-300 ${s?"bg-slate-100 text-slate-400 cursor-not-allowed border-slate-100":"bg-slate-50 border-slate-200 text-slate-800 focus:bg-white focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10"}`,placeholder:"Enter organization name"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2 ml-1",children:"Email Address"}),e.jsxs("div",{className:"relative group/input",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx(Hr,{size:18,className:"text-slate-400 group-focus-within/input:text-violet-500 transition-colors"})}),e.jsx("input",{name:"email",type:"email",value:r.email,onChange:i,disabled:s,className:`w-full pl-11 pr-4 py-3.5 border-2 rounded-xl font-bold transition-all duration-300 ${s?"bg-slate-100 text-slate-400 cursor-not-allowed border-slate-100":"bg-slate-50 border-slate-200 text-slate-800 focus:bg-white focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10"}`,placeholder:"admin@example.com"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2 ml-1",children:"Phone Number"}),e.jsxs("div",{className:"relative group/input",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx(qs,{size:18,className:"text-slate-400 group-focus-within/input:text-violet-500 transition-colors"})}),e.jsx("input",{name:"phone",type:"text",value:r.phone,onChange:i,disabled:s,className:`w-full pl-11 pr-4 py-3.5 border-2 rounded-xl font-bold transition-all duration-300 ${s?"bg-slate-100 text-slate-400 cursor-not-allowed border-slate-100":"bg-slate-50 border-slate-200 text-slate-800 focus:bg-white focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10"}`,placeholder:"+1 (555) 000-0000"})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2 ml-1",children:"Address"}),e.jsxs("div",{className:"relative group/input",children:[e.jsx("div",{className:"absolute top-4 left-4 flex items-start pointer-events-none",children:e.jsx($s,{size:18,className:"text-slate-400 group-focus-within/input:text-violet-500 transition-colors"})}),e.jsx("textarea",{name:"address",value:r.address,onChange:i,disabled:s,rows:"3",className:`w-full pl-11 pr-4 py-3.5 border-2 rounded-xl font-bold transition-all duration-300 resize-none ${s?"bg-slate-100 text-slate-400 cursor-not-allowed border-slate-100":"bg-slate-50 border-slate-200 text-slate-800 focus:bg-white focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10"}`,placeholder:"Enter full address"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2 ml-1",children:"Timezone"}),e.jsxs("div",{className:"relative group/input",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx(Oh,{size:18,className:"text-slate-400 group-focus-within/input:text-violet-500 transition-colors"})}),e.jsxs("select",{name:"timezone",value:r.timezone,onChange:i,disabled:s,className:`w-full pl-11 pr-4 py-3.5 border-2 rounded-xl font-bold transition-all duration-300 appearance-none cursor-pointer ${s?"bg-slate-100 text-slate-400 cursor-not-allowed border-slate-100":"bg-slate-50 border-slate-200 text-slate-800 focus:bg-white focus:border-violet-500"}`,children:[e.jsx("option",{children:"PST (UTC-8)"}),e.jsx("option",{children:"EST (UTC-5)"}),e.jsx("option",{children:"IST (UTC+5:30)"})]}),!s&&e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-4 pointer-events-none",children:e.jsx(bl,{size:16,className:"text-slate-400 rotate-90"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2 ml-1",children:"Currency"}),e.jsxs("div",{className:"relative group/input",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx(Os,{size:18,className:"text-slate-400 group-focus-within/input:text-violet-500 transition-colors"})}),e.jsxs("select",{name:"currency",value:r.currency,onChange:i,disabled:s,className:`w-full pl-11 pr-4 py-3.5 border-2 rounded-xl font-bold transition-all duration-300 appearance-none cursor-pointer ${s?"bg-slate-100 text-slate-400 cursor-not-allowed border-slate-100":"bg-slate-50 border-slate-200 text-slate-800 focus:bg-white focus:border-violet-500"}`,children:[e.jsx("option",{children:"USD ($)"}),e.jsx("option",{children:"EUR ()"}),e.jsx("option",{children:"INR ()"})]}),!s&&e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-4 pointer-events-none",children:e.jsx(bl,{size:16,className:"text-slate-400 rotate-90"})})]})]})]})]}),e.jsxs("div",{className:"group relative bg-white rounded-xl sm:rounded-2xl shadow-lg border border-slate-100 p-6 sm:p-8 hover:shadow-xl hover:border-violet-200 transition-all duration-300 overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-violet-50 rounded-bl-full -mr-16 -mt-16 transition-all group-hover:bg-violet-100"}),e.jsxs("div",{className:"relative z-10 space-y-6",children:[e.jsxs("div",{className:"border-b border-slate-100 pb-2 mb-2",children:[e.jsx("h3",{className:"text-sm font-black text-violet-600 uppercase tracking-widest",children:"Local Operational Details"}),e.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-tight",children:"Active for Branch Scope"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2 ml-1",children:"Opening Hours"}),e.jsxs("div",{className:"relative group/input",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx(Oh,{size:18,className:"text-slate-400 group-focus-within/input:text-violet-500 transition-colors"})}),e.jsx("input",{name:"openingHours",type:"text",value:r.openingHours,onChange:i,className:"w-full pl-11 pr-4 py-3.5 bg-violet-50/50 border-2 border-violet-100 rounded-xl font-bold text-slate-800 focus:bg-white focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all duration-300",placeholder:"e.g. 06:00 AM - 10:00 PM"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2 ml-1",children:"Guest Wi-Fi Password"}),e.jsxs("div",{className:"relative group/input",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx(qs,{size:18,className:"text-slate-400 group-focus-within/input:text-violet-500 transition-colors"})}),e.jsx("input",{name:"wifiPassword",type:"text",value:r.wifiPassword,onChange:i,className:"w-full pl-11 pr-4 py-3.5 bg-violet-50/50 border-2 border-violet-100 rounded-xl font-bold text-slate-800 focus:bg-white focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all duration-300",placeholder:"Set Wi-Fi password"})]})]})]})]})]})]})]})]})},VT=()=>{const[t,s]=j.useState([]),[r,l]=j.useState(!0),[i,o]=j.useState(!1),[d,x]=j.useState({gymName:"",branchName:"",owner:"",phone:"",email:"",location:""}),u=async()=>{try{const f=((await hg()).gyms||[]).map(w=>({id:w.id,name:w.gymName+(w.branchName?` - ${w.branchName}`:""),location:w.location||"N/A",manager:w.owner||"N/A",status:w.status||"Active",members:w.members||0}));s(f)}catch(g){console.error("Failed to fetch branches:",g)}finally{l(!1)}};j.useEffect(()=>{u()},[]);const h=g=>{x({...d,[g.target.name]:g.target.value})},p=async g=>{g.preventDefault();try{await Vj(d),o(!1),x({gymName:"",branchName:"",owner:"",phone:"",email:"",location:""}),u()}catch(y){console.error("Failed to add branch:",y),alert("Failed to add branch. Please try again.")}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6 flex-shrink-0",children:e.jsx($s,{size:24,className:"sm:w-7 sm:h-7",strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Branch Management"}),e.jsx("span",{className:"px-2 py-0.5 bg-gradient-to-r from-violet-500 to-purple-600 text-white text-[10px] font-black rounded-md shadow-sm animate-pulse whitespace-nowrap",children:"PREMIUM "})]}),e.jsx("p",{className:"text-slate-600 text-xs sm:text-sm mt-1",children:"Manage gym locations and their details"})]})]}),e.jsxs("button",{onClick:()=>o(!0),className:"group flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-xl text-sm font-bold shadow-xl shadow-violet-500/50 hover:shadow-2xl hover:shadow-violet-500/60 hover:scale-105 transition-all w-full sm:w-auto",children:[e.jsx(St,{size:18,strokeWidth:2.5,className:"transition-all duration-300 group-hover:rotate-90"}),"Add Branch"]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4 sm:gap-6",children:[t.map(g=>e.jsxs("div",{className:"group relative bg-white rounded-3xl shadow-lg border border-slate-100 overflow-hidden hover:shadow-2xl hover:border-violet-200 transition-all duration-500 hover:-translate-y-1",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50/30 to-purple-50/30 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e.jsxs("div",{className:"relative p-6 z-10",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 text-white flex items-center justify-center text-2xl font-black shadow-lg shadow-violet-200 group-hover:scale-110 group-hover:rotate-3 transition-transform duration-500",children:g.name.charAt(0)}),e.jsxs("div",{className:"flex flex-col items-end gap-2",children:[e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-black uppercase tracking-wide border ${g.status==="Active"?"bg-emerald-50 text-emerald-600 border-emerald-100 shadow-emerald-500/20":"bg-slate-50 text-slate-500 border-slate-100"} shadow-sm`,children:g.status}),e.jsx("button",{className:"p-2 text-slate-300 hover:text-violet-600 hover:bg-violet-50 rounded-lg transition-all",children:e.jsx(_c,{size:16})})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-xl font-black text-slate-800 mb-1 group-hover:text-violet-700 transition-colors",children:g.name}),e.jsxs("p",{className:"text-slate-500 text-sm font-medium flex items-center gap-1.5",children:[e.jsx($s,{size:14,className:"text-violet-400"}),g.location]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[e.jsxs("div",{className:"p-3 bg-slate-50 rounded-xl border border-slate-100 group-hover:bg-white group-hover:shadow-sm transition-all",children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-400 text-[10px] font-black uppercase tracking-wider mb-1",children:[e.jsx($0,{size:12})," Manager"]}),e.jsx("div",{className:"font-bold text-slate-700 text-sm truncate",children:g.manager})]}),e.jsxs("div",{className:"p-3 bg-slate-50 rounded-xl border border-slate-100 group-hover:bg-white group-hover:shadow-sm transition-all",children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-400 text-[10px] font-black uppercase tracking-wider mb-1",children:[e.jsx(Et,{size:12})," Members"]}),e.jsx("div",{className:"font-bold text-slate-700 text-sm",children:g.members})]})]}),e.jsxs("button",{className:"w-full py-3 flex items-center justify-center gap-2 bg-white border-2 border-slate-200 text-slate-600 rounded-xl text-sm font-bold hover:border-violet-500 hover:text-violet-600 hover:shadow-lg transition-all duration-300 group/btn",children:[e.jsx(ar,{size:16,className:"group-hover/btn:scale-110 transition-transform"}),"Manage Branch"]})]})]},g.id)),e.jsxs("button",{onClick:()=>o(!0),className:"group relative min-h-[300px] flex flex-col items-center justify-center p-6 border-3 border-dashed border-slate-200 rounded-3xl hover:border-violet-400 hover:bg-violet-50/30 transition-all duration-300",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-slate-50 flex items-center justify-center text-slate-300 mb-4 group-hover:bg-white group-hover:text-violet-500 group-hover:scale-110 group-hover:shadow-lg transition-all duration-300",children:e.jsx(St,{size:32,strokeWidth:3})}),e.jsx("h3",{className:"text-lg font-bold text-slate-400 group-hover:text-violet-600 transition-colors",children:"Add New Branch"})]})]}),i&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden animate-in fade-in zoom-in duration-300",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Add New Branch"}),e.jsx("button",{onClick:()=>o(!1),className:"text-slate-400 hover:text-slate-600 transition-colors",children:e.jsx(St,{size:24,className:"rotate-45"})})]}),e.jsxs("form",{onSubmit:p,className:"p-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Gym Name"}),e.jsx("input",{type:"text",name:"gymName",value:d.gymName,onChange:h,required:!0,className:"w-full px-4 py-2 rounded-xl border border-slate-200 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 outline-none transition-all font-medium text-slate-700",placeholder:"e.g. Gold's Gym"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Branch Name"}),e.jsx("input",{type:"text",name:"branchName",value:d.branchName,onChange:h,required:!0,className:"w-full px-4 py-2 rounded-xl border border-slate-200 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 outline-none transition-all font-medium text-slate-700",placeholder:"e.g. Downtown"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Manager/Owner"}),e.jsxs("div",{className:"relative",children:[e.jsx(Et,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),e.jsx("input",{type:"text",name:"owner",value:d.owner,onChange:h,required:!0,className:"w-full pl-10 pr-4 py-2 rounded-xl border border-slate-200 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 outline-none transition-all font-medium text-slate-700",placeholder:"Full Name"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Phone"}),e.jsx("input",{type:"tel",name:"phone",value:d.phone,onChange:h,required:!0,className:"w-full px-4 py-2 rounded-xl border border-slate-200 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 outline-none transition-all font-medium text-slate-700",placeholder:"+1 (555) 000-0000"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Email"}),e.jsx("input",{type:"email",name:"email",value:d.email,onChange:h,required:!0,className:"w-full px-4 py-2 rounded-xl border border-slate-200 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 outline-none transition-all font-medium text-slate-700",placeholder:"branch@example.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Location"}),e.jsxs("div",{className:"relative",children:[e.jsx($s,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),e.jsx("input",{type:"text",name:"location",value:d.location,onChange:h,required:!0,className:"w-full pl-10 pr-4 py-2 rounded-xl border border-slate-200 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 outline-none transition-all font-medium text-slate-700",placeholder:"123 Main St, City, Country"})]})]}),e.jsxs("div",{className:"pt-4 flex gap-3",children:[e.jsx("button",{type:"button",onClick:()=>o(!1),className:"flex-1 py-3 rounded-xl border border-slate-200 text-slate-600 font-bold hover:bg-slate-50 transition-all",children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex-1 py-3 rounded-xl bg-gradient-to-r from-violet-600 to-purple-600 text-white font-bold shadow-lg shadow-violet-200 hover:shadow-xl hover:scale-[1.02] transition-all",children:"Create Branch"})]})]})]})})]})},YT=()=>e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4 sm:gap-6",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 rounded-xl sm:rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(Et,{size:24,className:"sm:w-7 sm:h-7",strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Roles & Permissions"}),e.jsx("span",{className:"hidden sm:inline-block px-2 py-0.5 bg-gradient-to-r from-violet-500 to-purple-600 text-white text-[10px] font-black rounded-md shadow-sm animate-pulse",children:"PREMIUM "})]}),e.jsx("p",{className:"text-slate-600 text-xs sm:text-sm mt-0.5 sm:mt-1",children:"Manage access control and user privileges"})]})]}),e.jsxs("button",{className:"group flex items-center justify-center gap-2 px-5 sm:px-6 py-2.5 sm:py-3 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-lg sm:rounded-xl text-sm font-bold shadow-xl shadow-violet-500/50 hover:shadow-2xl hover:shadow-violet-500/60 hover:scale-105 transition-all w-full lg:w-auto",children:[e.jsx(tr,{size:16,className:"sm:w-[18px] sm:h-[18px]",strokeWidth:2.5}),"Create New Role"]})]})})]}),e.jsxs("div",{className:"group relative bg-white rounded-2xl sm:rounded-3xl shadow-xl border border-slate-100 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50/10 to-purple-50/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"}),e.jsx("div",{className:"relative z-10 overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50/50 border-b border-slate-200",children:[e.jsx("th",{className:"text-left py-5 px-6 text-xs font-black uppercase tracking-widest text-slate-400",children:"Role Name"}),e.jsx("th",{className:"text-center py-5 px-6 text-xs font-black uppercase tracking-widest text-slate-400",children:"Members"}),e.jsx("th",{className:"text-center py-5 px-6 text-xs font-black uppercase tracking-widest text-slate-400",children:"Financials"}),e.jsx("th",{className:"text-center py-5 px-6 text-xs font-black uppercase tracking-widest text-slate-400",children:"Settings"}),e.jsx("th",{className:"text-center py-5 px-6 text-xs font-black uppercase tracking-widest text-slate-400",children:"Reports"}),e.jsx("th",{className:"text-right py-5 px-6 text-xs font-black uppercase tracking-widest text-slate-400",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:sM.map((t,s)=>e.jsxs("tr",{className:"group/row hover:bg-violet-50/30 transition-colors duration-200",children:[e.jsx("td",{className:"py-5 px-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${t.role==="Super Admin"?"bg-purple-100 text-purple-600":t.role==="Manager"?"bg-indigo-100 text-indigo-600":t.role==="Trainer"?"bg-emerald-100 text-emerald-600":"bg-slate-100 text-slate-600"}`,children:e.jsx(Fs,{size:16,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-slate-800",children:t.role}),e.jsxs("div",{className:"text-xs font-medium text-slate-400",children:[t.users||0," Users"]})]})]})}),[t.permissions.members,t.permissions.finance,t.permissions.settings,t.permissions.reports].map((r,l)=>e.jsx("td",{className:"py-5 px-6 text-center",children:e.jsx("div",{className:`inline-flex items-center justify-center w-8 h-8 rounded-full shadow-sm transition-transform duration-300 group-hover/row:scale-110 ${r?"bg-gradient-to-br from-emerald-100 to-emerald-200 text-emerald-600 shadow-emerald-200":"bg-gradient-to-br from-red-50 to-red-100 text-red-400"}`,children:r?e.jsx($r,{size:16,strokeWidth:3}):e.jsx(wl,{size:16,strokeWidth:3})})},l)),e.jsx("td",{className:"py-5 px-6 text-right",children:e.jsxs("button",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-white border border-slate-200 text-slate-600 rounded-lg text-xs font-bold shadow-sm hover:border-violet-500 hover:text-violet-600 hover:shadow-md transition-all duration-300",children:[e.jsx(ar,{size:12,strokeWidth:2.5})," Edit"]})})]},s))})]})})]}),e.jsxs("div",{className:"mt-6 p-4 bg-amber-50 rounded-xl border border-amber-100 flex items-start gap-3",children:[e.jsx(ps,{size:20,className:"text-amber-500 shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-amber-800 text-sm",children:"Permission Updates"}),e.jsx("p",{className:"text-amber-700 text-xs mt-1",children:"Changes to role permissions may take up to 5 minutes to propagate to all active user sessions. Users may need to re-login to see updated access rights."})]})]})]}),XT=()=>e.jsxs("div",{className:"fade-in p-4 sm:p-6",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 sm:mb-6",children:"Billing & Plans"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[e.jsxs(is,{title:"Current Plan",className:"lg:col-span-2",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 sm:gap-0",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-1 sm:mb-2",children:C0.plan}),e.jsxs("p",{className:"text-sm sm:text-base text-gray-500",children:[C0.price," billed monthly"]})]}),e.jsx(Ht,{variant:"primary",className:"w-full sm:w-auto",children:"Upgrade Plan"})]}),e.jsxs("div",{className:"mt-4 sm:mt-6 text-sm sm:text-base text-gray-500",children:["Next billing date: ",e.jsx("span",{className:"text-gray-900 font-semibold",children:C0.nextBilling})]})]}),e.jsxs(is,{title:"Payment Method",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("div",{className:"p-2.5 sm:p-3 bg-gray-100 rounded-lg shrink-0",children:e.jsx(Os,{size:20,className:"sm:w-6 sm:h-6"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-sm sm:text-base text-gray-900",children:C0.paymentMethod}),e.jsx("div",{className:"text-xs sm:text-sm text-gray-500",children:"Expires 12/25"})]})]}),e.jsx(Ht,{variant:"outline",size:"small",className:"mt-3 sm:mt-4 w-full",children:"Update Information"})]})]}),e.jsxs(is,{title:"Invoice History",children:[e.jsx("div",{className:"hidden md:block overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-left border-b border-gray-200",children:[e.jsx("th",{className:"py-3 font-semibold text-gray-700",children:"Invoice ID"}),e.jsx("th",{className:"py-3 font-semibold text-gray-700",children:"Date"}),e.jsx("th",{className:"py-3 font-semibold text-gray-700",children:"Amount"}),e.jsx("th",{className:"py-3 font-semibold text-gray-700",children:"Status"}),e.jsx("th",{className:"py-3 font-semibold text-gray-700 text-right",children:"Download"})]})}),e.jsx("tbody",{children:C0.invoices.map(t=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"py-3 font-medium text-gray-900",children:t.id}),e.jsx("td",{className:"py-3 text-gray-600",children:t.date}),e.jsx("td",{className:"py-3 text-gray-900",children:t.amount}),e.jsx("td",{className:"py-3",children:e.jsx("span",{className:"px-3 py-1 bg-emerald-100 text-emerald-700 rounded-full text-xs font-semibold",children:t.status})}),e.jsx("td",{className:"py-3 text-right",children:e.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors text-gray-500 hover:text-gray-700",children:e.jsx(Js,{size:16})})})]},t.id))})]})}),e.jsx("div",{className:"md:hidden space-y-3",children:C0.invoices.map(t=>e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-100",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-sm text-gray-900 mb-1",children:t.id}),e.jsx("div",{className:"text-xs text-gray-500",children:t.date})]}),e.jsx("span",{className:"px-2.5 py-1 bg-emerald-100 text-emerald-700 rounded-full text-xs font-semibold",children:t.status})]}),e.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-gray-200",children:[e.jsx("div",{className:"font-bold text-base text-gray-900",children:t.amount}),e.jsx("button",{className:"p-2 bg-white hover:bg-gray-100 rounded-lg transition-colors text-gray-600 border border-gray-200",children:e.jsx(Js,{size:16})})]})]},t.id))})]})]}),KT=()=>e.jsxs("div",{className:"fade-in p-4 sm:p-6",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 sm:mb-6",children:"Integrations"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:aM.map(t=>e.jsxs(is,{children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 mb-3 sm:mb-4",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-lg sm:rounded-xl bg-gray-100 flex items-center justify-center shrink-0",children:e.jsx(WS,{size:20,className:"sm:w-6 sm:h-6 text-gray-600"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h3",{className:"text-base sm:text-lg font-bold text-gray-900 truncate",children:t.name}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-500 line-clamp-1",children:t.description})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-stretch sm:items-center gap-3 mt-4 sm:mt-6 pt-3 sm:pt-4 border-t border-gray-100",children:[e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold text-center ${t.status==="Connected"?"bg-emerald-100 text-emerald-700":"bg-gray-100 text-gray-600"}`,children:t.status}),e.jsx(Ht,{variant:t.status==="Connected"?"outline":"primary",size:"small",className:"w-full sm:w-auto",children:t.status==="Connected"?"Disconnect":"Connect"})]})]},t.id))})]}),D2=()=>{const r=Zf()?.role===ct.MANAGER,[l,i]=j.useState(null),[o,d]=j.useState("channels"),[x,u]=j.useState([{id:1,name:"Welcome Email",type:"Email",subject:"Welcome to Gym!",body:"Hi {name}, thanks for joining..."},{id:2,name:"Payment Reminder",type:"WhatsApp",subject:"",body:"Dear {name}, your payment of {amount} is due."}]),[h,p]=j.useState({whatsapp:{provider:"Twilio",apiKey:"sk_test_...",number:"+1234567890"},sms:{provider:"MSG91",apiKey:"auth_key_...",senderId:"GYMAPP"},email:{provider:"AWS SES",apiKey:"AKIA...",region:"us-east-1"}}),g=()=>{alert("Communication configuration saved successfully!")},[y,f]=j.useState(!1),[w,S]=j.useState({name:"",type:"WhatsApp",subject:"",body:""}),v=()=>{if(!w.name||!w.body){alert("Please fill in the template name and message body.");return}const M={id:x.length+1,...w};u([...x,M]),f(!1),S({name:"",type:"WhatsApp",subject:"",body:""}),alert("New message template created successfully!")},N=M=>{window.confirm("Are you sure you want to delete this template?")&&u(x.filter(T=>T.id!==M))},A=(M,T,_)=>{u(x.map(I=>I.id===M?{...I,[T]:_}:I))},L=M=>{console.log("Saving template:",M),alert(`Template "${M.name}" updated successfully!`)};return e.jsxs("div",{className:"fade-in space-y-4 sm:space-y-6 p-4 sm:p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 sm:gap-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-black text-gray-900 tracking-tight",children:"Communication"}),r&&e.jsx("span",{className:"px-2 py-0.5 bg-slate-100 text-slate-500 text-xs font-bold rounded border border-slate-200 uppercase tracking-wide",children:"Read-Only "})]}),e.jsx("p",{className:"text-sm sm:text-base text-gray-500 font-bold mt-1",children:r?"View communication templates & settings.":"Manage SMS, Email & WhatsApp templates."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[e.jsx(Ht,{variant:o==="channels"?"primary":"outline",onClick:()=>d("channels"),className:"w-full sm:w-auto",children:"Gateway Channels"}),e.jsx(Ht,{variant:o==="templates"?"primary":"outline",onClick:()=>d("templates"),className:"w-full sm:w-auto",children:"Message Templates"})]})]}),e.jsx(jg,{value:l,onChange:i,branches:wg}),o==="channels"?e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[e.jsx(is,{title:"WhatsApp Integration",children:e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-3 sm:mb-4",children:[e.jsx("div",{className:"p-2 sm:p-3 bg-green-100 text-green-600 rounded-lg shrink-0",children:e.jsx(sr,{size:20,className:"sm:w-6 sm:h-6"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-sm sm:text-base text-gray-900",children:"WhatsApp Business"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Configure Twilio or Meta API"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Provider"}),e.jsxs("select",{className:`w-full p-2 border rounded-lg mt-1 text-sm ${r?"bg-gray-100 cursor-not-allowed text-gray-500":"bg-gray-50"}`,disabled:r,children:[e.jsx("option",{children:"Twilio"}),e.jsx("option",{children:"Meta Cloud API"}),e.jsx("option",{children:"Interakt"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"API Key / Auth Token"}),e.jsx("input",{type:"password",value:h.whatsapp.apiKey,className:`w-full p-2 border rounded-lg mt-1 text-sm ${r?"bg-gray-100 cursor-not-allowed text-gray-500":""}`,disabled:r,placeholder:r?"":"Enter API Key"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Sender Number"}),e.jsx("input",{type:"text",value:h.whatsapp.number,className:`w-full p-2 border rounded-lg mt-1 text-sm ${r?"bg-gray-100 cursor-not-allowed text-gray-500":""}`,disabled:r,placeholder:r?"":"Enter Sender Number"})]}),e.jsx(Ht,{variant:"primary",className:"w-full mt-2",onClick:g,disabled:r,children:"Save Configuration"})]})}),e.jsx(is,{title:"SMS Gateway",children:e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-3 sm:mb-4",children:[e.jsx("div",{className:"p-2 sm:p-3 bg-blue-100 text-blue-600 rounded-lg shrink-0",children:e.jsx(Vl,{size:20,className:"sm:w-6 sm:h-6"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-sm sm:text-base text-gray-900",children:"SMS Gateway"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"DLT Registered Headers required (India)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Provider"}),e.jsxs("select",{className:`w-full p-2 border rounded-lg mt-1 text-sm ${r?"bg-gray-100 cursor-not-allowed text-gray-500":"bg-gray-50"}`,disabled:r,children:[e.jsx("option",{children:"MSG91"}),e.jsx("option",{children:"Kaleyra"}),e.jsx("option",{children:"Twilio"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Auth Key"}),e.jsx("input",{type:"password",value:h.sms.apiKey,className:`w-full p-2 border rounded-lg mt-1 text-sm ${r?"bg-gray-100 cursor-not-allowed text-gray-500":""}`,disabled:r,placeholder:r?"":"Enter Auth Key"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Sender ID (6 chars)"}),e.jsx("input",{type:"text",value:h.sms.senderId,className:`w-full p-2 border rounded-lg mt-1 text-sm ${r?"bg-gray-100 cursor-not-allowed text-gray-500":""}`,disabled:r,placeholder:r?"":"Enter Sender ID"})]}),e.jsx(Ht,{variant:"primary",className:"w-full mt-2",onClick:g,disabled:r,children:"Save Configuration"})]})})]}):e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-lg font-black text-gray-800",children:"Message Templates"}),!r&&e.jsxs(Ht,{onClick:()=>f(!0),variant:"primary",className:"bg-indigo-600 text-white shadow-lg shadow-indigo-200",children:[e.jsx(St,{size:18,className:"mr-2"}),"New Template"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:x.map(M=>e.jsxs(is,{className:"relative group",children:[e.jsx("div",{className:"absolute top-3 sm:top-4 right-3 sm:right-4",children:e.jsx("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:!r&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>L(M),className:"p-1.5 sm:p-2 text-blue-600 hover:bg-blue-50 rounded-full",title:"Save Changes",children:e.jsx(xa,{size:14,className:"sm:w-4 sm:h-4"})}),e.jsx("button",{onClick:()=>N(M.id),className:"p-1.5 sm:p-2 text-red-600 hover:bg-red-50 rounded-full",title:"Delete Template",children:e.jsx(Ms,{size:14,className:"sm:w-4 sm:h-4"})})]})})}),e.jsxs("div",{className:"flex items-center gap-2 mb-2 sm:mb-3",children:[e.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded uppercase ${M.type==="Email"?"bg-orange-100 text-orange-700":"bg-green-100 text-green-700"}`,children:M.type}),e.jsx("h4",{className:"font-bold text-sm sm:text-base text-gray-900",children:M.name})]}),M.type==="Email"&&e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"text-xs text-gray-400 uppercase",children:"Subject"}),e.jsx("input",{type:"text",value:M.subject,onChange:T=>A(M.id,"subject",T.target.value),className:`w-full text-xs sm:text-sm p-1 border-b focus:outline-none focus:border-indigo-500 ${r?"bg-gray-100 cursor-not-allowed text-gray-500":""}`,disabled:r})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-xs text-gray-400 uppercase",children:["Body Content (Supports ","{variables}",")"]}),e.jsx("textarea",{value:M.body,onChange:T=>A(M.id,"body",T.target.value),rows:3,className:`w-full text-xs sm:text-sm p-2 border rounded bg-gray-50 focus:bg-white focus:ring-1 focus:ring-indigo-500 outline-none mt-1 ${r?"bg-gray-100 cursor-not-allowed text-gray-500":""}`,disabled:r})]})]},M.id))})]}),e.jsx(at,{isOpen:y,onClose:()=>f(!1),title:"Create Message Template",subtitle:"Design new notification templates",maxWidth:"max-w-lg",footer:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(Ht,{variant:"outline",className:"flex-1",onClick:()=>f(!1),children:"Cancel"}),e.jsx(Ht,{variant:"primary",className:"flex-1",onClick:v,children:"Create Template"})]}),children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Template Name"}),e.jsx("input",{type:"text",placeholder:"e.g. Membership Renewal Reminder",className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl focus:border-violet-500 focus:ring-2 focus:ring-violet-200 outline-none transition-all",value:w.name,onChange:M=>S({...w,name:M.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Channel Type"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:["WhatsApp","Email","SMS"].map(M=>e.jsx("button",{onClick:()=>S({...w,type:M}),className:`px-4 py-3 rounded-xl text-sm font-bold border-2 transition-all ${w.type===M?"border-violet-600 bg-violet-50 text-violet-700":"border-slate-100 bg-white text-slate-500 hover:border-slate-200"}`,children:M},M))})]}),w.type==="Email"&&e.jsxs("div",{className:"animate-in slide-in-from-top-2 duration-200",children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Email Subject"}),e.jsx("input",{type:"text",placeholder:"e.g. Important Update regarding your membership",className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl focus:border-violet-500 focus:ring-2 focus:ring-violet-200 outline-none transition-all",value:w.subject,onChange:M=>S({...w,subject:M.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Message Body"}),e.jsx("div",{className:"mb-2 flex gap-2 overflow-x-auto pb-2",children:["{name}","{amount}","{date}","{branch}"].map(M=>e.jsx("button",{onClick:()=>S(T=>({...T,body:T.body+" "+M})),className:"px-2 py-1 bg-slate-100 text-slate-600 rounded text-[10px] font-bold uppercase hover:bg-slate-200 whitespace-nowrap",children:M},M))}),e.jsx("textarea",{placeholder:"Type your message here...",className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl focus:border-violet-500 focus:ring-2 focus:ring-violet-200 outline-none transition-all min-h-[150px] resize-none",value:w.body,onChange:M=>S({...w,body:M.target.value})}),e.jsxs("p",{className:"text-xs text-slate-400 mt-2 text-right",children:[w.body.length," characters"]})]}),e.jsxs("div",{className:"p-4 bg-amber-50 rounded-xl border border-amber-100 flex gap-3",children:[e.jsx("div",{className:"shrink-0 text-amber-500 mt-0.5",children:e.jsx(sr,{size:16})}),e.jsxs("p",{className:"text-xs text-amber-700 leading-relaxed font-medium",children:[e.jsx("strong",{children:"Note:"})," WhatsApp templates require approval from Meta before they can be sent. Email and SMS templates are active immediately."]})]})]})})]})},JT=({role:t})=>{const s=t==="MANAGER",[r,l]=j.useState({minLength:"10 Characters",expiry:"Every 90 Days"}),[i,o]=j.useState(!1);return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4 sm:gap-6",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 rounded-xl sm:rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(tr,{size:24,className:"sm:w-7 sm:h-7",strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Security Settings"}),e.jsx("span",{className:"hidden sm:inline-block px-2 py-0.5 bg-gradient-to-r from-violet-500 to-purple-600 text-white text-[10px] font-black rounded-md shadow-sm animate-pulse",children:s?"READ-ONLY ":"PREMIUM "})]}),e.jsx("p",{className:"text-slate-600 text-xs sm:text-sm mt-0.5 sm:mt-1",children:s?"Viewing global security policies (Management scope)":"Configure security policies and access controls"})]})]}),!s&&e.jsxs("button",{className:"group flex items-center justify-center gap-2 px-5 sm:px-6 py-2.5 sm:py-3 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-lg sm:rounded-xl text-sm font-bold shadow-xl shadow-violet-500/50 hover:shadow-2xl hover:shadow-violet-500/60 hover:scale-105 transition-all w-full lg:w-auto",children:[e.jsx(xa,{size:16,className:"sm:w-[18px] sm:h-[18px]",strokeWidth:2.5}),"Save Configuration"]})]})})]}),e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"group relative bg-white rounded-xl sm:rounded-2xl shadow-lg border border-slate-100 p-6 sm:p-8 hover:shadow-xl hover:border-violet-200 transition-all duration-300",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50/20 to-purple-50/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-2.5 bg-violet-50 text-violet-600 rounded-xl group-hover:bg-violet-100 transition-colors",children:e.jsx(Fs,{size:20,strokeWidth:2.5})}),e.jsx("h3",{className:"text-xl font-black text-slate-800",children:"Password Policy"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2",children:"Minimum Length"}),e.jsxs("select",{value:r.minLength,onChange:d=>!s&&l({...r,minLength:d.target.value}),disabled:s,className:`w-full px-4 py-3 border-2 rounded-xl font-bold transition-all duration-300 appearance-none ${s?"bg-slate-100 text-slate-400 cursor-not-allowed border-slate-100":"bg-slate-50 border-slate-200 text-slate-800 focus:bg-white focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10"}`,children:[e.jsx("option",{children:"8 Characters"}),e.jsx("option",{children:"10 Characters"}),e.jsx("option",{children:"12 Characters"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-2",children:"Password Expiry"}),e.jsxs("select",{value:r.expiry,onChange:d=>!s&&l({...r,expiry:d.target.value}),disabled:s,className:`w-full px-4 py-3 border-2 rounded-xl font-bold transition-all duration-300 appearance-none ${s?"bg-slate-100 text-slate-400 cursor-not-allowed border-slate-100":"bg-slate-50 border-slate-200 text-slate-800 focus:bg-white focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10"}`,children:[e.jsx("option",{children:"Never"}),e.jsx("option",{children:"Every 90 Days"}),e.jsx("option",{children:"Every 180 Days"})]})]})]})]})]}),e.jsxs("div",{className:"group relative bg-white rounded-xl sm:rounded-2xl shadow-lg border border-slate-100 p-6 sm:p-8 hover:shadow-xl hover:border-violet-200 transition-all duration-300",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50/20 to-purple-50/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row md:items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-3 bg-amber-50 text-amber-500 rounded-xl border border-amber-100 group-hover:bg-amber-100 transition-colors shrink-0",children:e.jsx(Vl,{size:24,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-black text-slate-800 mb-1",children:"Two-Factor Authentication (2FA)"}),e.jsx("p",{className:"text-slate-500 text-sm font-medium leading-relaxed max-w-md",children:"Require OTP verification for all staff and admin logins to enhance account security."})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`text-sm font-bold ${i?"text-emerald-600":"text-slate-400"}`,children:i?"Enabled":"Disabled"}),e.jsx("button",{onClick:()=>!s&&o(!i),disabled:s,className:`relative w-14 h-8 rounded-full transition-colors duration-300 focus:outline-none focus:ring-4 focus:ring-violet-500/20 ${s?"bg-slate-100 cursor-not-allowed":i?"bg-violet-600":"bg-slate-200"} `,children:e.jsx("span",{className:`absolute left-1 top-1 w-6 h-6 bg-white rounded-full shadow-md transform transition-transform duration-300 ${i?"translate-x-6":"translate-x-0"} `})})]})]})]}),e.jsxs("div",{className:"group relative bg-white rounded-xl sm:rounded-2xl shadow-lg border border-slate-100 p-6 sm:p-8 hover:shadow-xl hover:border-violet-200 transition-all duration-300",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50/20 to-purple-50/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-2.5 bg-emerald-50 text-emerald-600 rounded-xl group-hover:bg-emerald-100 transition-colors",children:e.jsx(Oh,{size:20,strokeWidth:2.5})}),e.jsx("h3",{className:"text-xl font-black text-slate-800",children:"Active Sessions"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 p-4 bg-emerald-50/50 rounded-xl border border-emerald-100 hover:bg-emerald-50 hover:border-emerald-200 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-white flex items-center justify-center text-emerald-500 shadow-sm shrink-0",children:e.jsx(Fj,{size:20,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-slate-800",children:"Windows PC - Chrome"}),e.jsxs("div",{className:"text-xs font-semibold text-emerald-600 flex items-center gap-1",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"}),"Current Session  San Francisco, CA"]})]})]}),e.jsx("span",{className:"self-start sm:self-center px-3 py-1 bg-emerald-100 text-emerald-700 text-xs font-black rounded-lg uppercase tracking-wide whitespace-nowrap",children:"Active"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 p-4 bg-slate-50 rounded-xl border border-slate-100 hover:bg-white hover:border-slate-200 hover:shadow-md transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-white flex items-center justify-center text-slate-400 shadow-sm border border-slate-100 shrink-0",children:e.jsx(Vl,{size:20,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-slate-700",children:"iPhone 13 - Safari"}),e.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Los Angeles, CA  2 hours ago"})]})]}),e.jsx("button",{disabled:s,className:`self-start sm:self-center px-4 py-2 bg-white rounded-lg text-xs font-bold transition-all shadow-sm w-full sm:w-auto ${s?"text-slate-300 border-slate-100 cursor-not-allowed":"text-red-500 border-red-100 hover:bg-red-50 hover:text-red-600 hover:border-red-200"} `,children:"Revoke"})]})]})]})]})]})]})},ZT=[{id:1,type:"Payment",provider:"Razorpay",event:"payment.captured",status:"Success",time:"10:42 AM"},{id:2,type:"Payment",provider:"Razorpay",event:"payment.failed",status:"Failed",time:"09:15 AM"},{id:3,type:"WhatsApp",provider:"Twilio",event:"message.sent",status:"Success",time:"Yesterday"}],QT=()=>{const[t,s]=j.useState("system"),[r,l]=j.useState(""),[i,o]=j.useState(!1),d=rM.filter(x=>x.user.toLowerCase().includes(r.toLowerCase())||x.action.toLowerCase().includes(r.toLowerCase()));return e.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-6 pb-12 min-h-screen",children:[e.jsxs("div",{className:"mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent mb-2 flex items-center gap-2",children:[e.jsx(tr,{className:"text-violet-600",size:28}),"System & Security Logs"]}),e.jsx("p",{className:"text-slate-600 text-sm",children:"Track system activity and webhook events in real-time"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>s("system"),className:`px-6 py-2.5 rounded-xl font-semibold shadow-lg transition-all duration-300 flex items-center gap-2 ${t==="system"?"bg-gradient-to-r from-violet-600 to-purple-600 text-white hover:shadow-xl hover:shadow-violet-500/50 hover:scale-105 hover:-translate-y-1":"bg-white border border-slate-200 text-slate-700 hover:bg-slate-50 hover:shadow-md hover:scale-105"}`,children:"System Activity"}),e.jsx("button",{onClick:()=>s("webhooks"),className:`px-6 py-2.5 rounded-xl font-semibold shadow-lg transition-all duration-300 flex items-center gap-2 ${t==="webhooks"?"bg-gradient-to-r from-violet-600 to-purple-600 text-white hover:shadow-xl hover:shadow-violet-500/50 hover:scale-105 hover:-translate-y-1":"bg-white border border-slate-200 text-slate-700 hover:bg-slate-50 hover:shadow-md hover:scale-105"}`,children:"Webhook Events"})]})]})})]}),t==="system"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-6 bg-white/60 backdrop-blur-md rounded-xl shadow-lg border border-white/50 p-5 hover:shadow-xl transition-all duration-300",children:e.jsx("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-center",children:e.jsxs("div",{className:"relative w-full md:w-96 group",children:[e.jsx(Qe,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 group-focus-within:scale-110 transition-all duration-300"}),e.jsx("input",{type:"text",value:r,onChange:x=>l(x.target.value),placeholder:"Search by user or action...",className:"w-full pl-12 pr-4 py-3 bg-white/80 border-2 border-slate-200 rounded-xl text-sm focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 focus:bg-white transition-all duration-300 hover:border-slate-300"})]})})}),e.jsx("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gradient-to-r from-slate-50 to-slate-100/50 border-b-2 border-slate-200",children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"Date & Time"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"User"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"Action"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"IP Address"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:d.map(x=>e.jsxs("tr",{className:"group hover:bg-gradient-to-r hover:from-violet-50/50 hover:via-purple-50/30 hover:to-transparent transition-all duration-300 cursor-pointer",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[e.jsx(Je,{className:"w-4 h-4 text-slate-400 transition-transform duration-300 group-hover:scale-125"}),x.date]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white font-bold shadow-md group-hover:shadow-lg group-hover:scale-110 group-hover:rotate-6 transition-all duration-300",children:(x.user||"?").charAt(0)}),e.jsx("div",{children:e.jsx("div",{className:"text-sm font-semibold text-slate-900 group-hover:text-violet-600 transition-colors duration-300",children:x.user})})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-sm font-medium text-slate-700 group-hover:text-slate-900 transition-colors duration-300",children:x.action})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2 font-mono text-xs text-slate-500 group-hover:text-violet-600 transition-colors duration-300",children:[e.jsx(Oh,{className:"w-4 h-4 text-slate-400 transition-transform duration-300 group-hover:scale-125"}),x.ip]})})]},x.id))})]})})})]}):e.jsx("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden p-6",children:e.jsxs("div",{className:"space-y-4",children:[ZT.map(x=>e.jsxs("div",{className:"group flex justify-between items-center p-5 border-2 border-slate-100 rounded-xl hover:border-violet-200 hover:bg-gradient-to-r hover:from-violet-50/50 hover:to-purple-50/30 cursor-pointer transition-all duration-300 hover:shadow-lg hover:scale-[1.02]",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`p-3 rounded-xl shadow-md transition-all duration-300 group-hover:scale-110 group-hover:rotate-6 ${x.type==="Payment"?"bg-gradient-to-br from-blue-500 to-blue-600 text-white":"bg-gradient-to-br from-green-500 to-green-600 text-white"}`,children:e.jsx(Wt,{size:20})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-bold text-slate-900 group-hover:text-violet-600 transition-colors duration-300",children:x.provider}),e.jsx("span",{className:"text-xs text-slate-500 font-mono bg-slate-100 px-2 py-1 rounded-lg group-hover:bg-violet-100 group-hover:text-violet-700 transition-all duration-300",children:x.event})]}),e.jsx("div",{className:"text-sm text-slate-500 mt-1",children:x.time})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:`text-xs font-bold px-4 py-2 rounded-full uppercase shadow-sm transition-all duration-300 group-hover:scale-110 group-hover:shadow-md ${x.status==="Success"?"bg-gradient-to-r from-emerald-50 to-emerald-100 text-emerald-700 border border-emerald-200 group-hover:shadow-emerald-500/50":"bg-gradient-to-r from-red-50 to-red-100 text-red-700 border border-red-200 group-hover:shadow-red-500/50"}`,children:x.status}),e.jsx(vs,{size:20,className:"text-slate-400 group-hover:text-violet-600 group-hover:translate-x-1 transition-all duration-300"})]})]},x.id)),e.jsx("div",{className:"text-center pt-6",children:e.jsxs("button",{className:"group px-6 py-3 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-xl font-semibold shadow-lg hover:shadow-xl hover:shadow-violet-500/50 hover:scale-105 hover:-translate-y-1 transition-all duration-300 flex items-center justify-center gap-2 mx-auto",children:[e.jsx(jl,{size:16,className:"transition-transform duration-300 group-hover:rotate-180"}),"Load More Events"]})})]})})]})},L2=()=>{const r=Zf()?.role===ct.MANAGER,[l,i]=j.useState("razorpay"),[o,d]=j.useState(null),x=u=>{u.preventDefault(),alert("Payment gateway configuration saved successfully!")};return e.jsxs("div",{className:"fade-in max-w-4xl mx-auto space-y-4 sm:space-y-6 p-4 sm:p-6",children:[e.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-black text-gray-900 tracking-tight",children:"Payment Integration"}),r&&e.jsx("span",{className:"px-2 py-0.5 bg-slate-100 text-slate-500 text-xs font-bold rounded border border-slate-200 uppercase tracking-wide",children:"Read-Only "})]}),e.jsx("p",{className:"text-sm sm:text-base text-gray-500 font-bold mt-1",children:r?"Contact Admin to update payment configuration.":"Configure your online payment gateway settings."})]})}),e.jsx(jg,{value:o,onChange:d,branches:wg}),e.jsxs(is,{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 border-b border-gray-100 pb-4 sm:pb-6 mb-4 sm:mb-6",children:[e.jsxs("button",{onClick:()=>!r&&i("razorpay"),disabled:r,className:`flex-1 py-3 sm:py-4 px-4 sm:px-6 rounded-lg sm:rounded-xl border-2 font-bold text-base sm:text-lg transition-all flex items-center justify-center gap-2 sm:gap-3 ${l==="razorpay"?"border-indigo-600 bg-indigo-50 text-indigo-700":"border-gray-100 text-gray-400 hover:border-gray-200"} ${r?"cursor-not-allowed opacity-75":""}`,children:[e.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6 rounded-full bg-blue-900"}),"Razorpay"]}),e.jsxs("button",{onClick:()=>!r&&i("stripe"),disabled:r,className:`flex-1 py-3 sm:py-4 px-4 sm:px-6 rounded-lg sm:rounded-xl border-2 font-bold text-base sm:text-lg transition-all flex items-center justify-center gap-2 sm:gap-3 ${l==="stripe"?"border-indigo-600 bg-indigo-50 text-indigo-700":"border-gray-100 text-gray-400 hover:border-gray-200"} ${r?"cursor-not-allowed opacity-75":""}`,children:[e.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6 rounded-full bg-indigo-600"}),"Stripe"]})]}),e.jsxs("form",{className:"space-y-4 sm:space-y-6",onSubmit:x,children:[e.jsxs("div",{className:"bg-yellow-50 p-3 sm:p-4 rounded-lg sm:rounded-xl border border-yellow-100 flex gap-2 sm:gap-3 text-yellow-800 text-xs sm:text-sm font-bold",children:[e.jsx(Fs,{className:"shrink-0",size:18}),e.jsx("p",{children:"Credentials are encrypted and stored securely. Do not share your secret keys."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-gray-400 mb-2",children:l==="razorpay"?"Key ID":"Publishable Key"}),e.jsx(Wn,{type:"text",className:`w-full bg-gray-50 border-transparent focus:bg-white transition-all font-mono text-xs sm:text-sm ${r?"cursor-not-allowed text-gray-400":""}`,placeholder:r?"":l==="razorpay"?"rzp_test_...":"pk_test_...",disabled:r})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-gray-400 mb-2",children:l==="razorpay"?"Key Secret":"Secret Key"}),e.jsx(Wn,{type:"password",className:`w-full bg-gray-50 border-transparent focus:bg-white transition-all font-mono text-xs sm:text-sm ${r?"cursor-not-allowed text-gray-400":""}`,placeholder:"",disabled:r})]})]}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 sm:w-5 sm:h-5 rounded text-indigo-600 focus:ring-indigo-200 border-gray-300 disabled:opacity-50",id:"sandbox",defaultChecked:!0,disabled:r}),e.jsx("label",{htmlFor:"sandbox",className:`text-gray-700 font-bold text-xs sm:text-sm ${r?"text-gray-400":""}`,children:"Enable Sandbox / Test Mode"})]}),!r&&e.jsx("div",{className:"flex justify-end pt-2 sm:pt-4",children:e.jsxs(Ht,{variant:"primary",className:"w-full sm:w-auto px-6 sm:px-8 py-2.5 sm:py-3 rounded-lg sm:rounded-xl shadow-lg shadow-indigo-200",children:[e.jsx(xa,{size:16,className:"sm:w-[18px] sm:h-[18px] mr-2"}),"Save Configuration"]})})]})]})]})},e_=()=>{const[t,s]=j.useState("This Month");return e.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6 pb-12 min-h-screen",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent mb-2 flex items-center gap-2",children:[e.jsx(Yx,{className:"text-violet-600",size:24}),"Financial Overview"]}),e.jsx("p",{className:"text-slate-600 text-xs sm:text-sm",children:"Real-time revenue, expense, and transaction tracking"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-3",children:[e.jsxs("button",{className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-white border border-slate-200 rounded-lg sm:rounded-xl text-xs sm:text-sm font-semibold text-slate-700 hover:bg-slate-50 hover:shadow-md hover:scale-105 transition-all duration-300 shadow-sm group",children:[e.jsx(Js,{className:"w-4 h-4 transition-transform duration-300 group-hover:translate-y-0.5"}),"Export Report"]}),e.jsxs("button",{className:"group relative px-4 sm:px-6 py-2.5 rounded-lg sm:rounded-xl font-semibold shadow-lg hover:shadow-xl hover:scale-105 hover:-translate-y-1 transition-all duration-300 flex items-center justify-center gap-2 bg-gradient-to-r from-violet-600 to-purple-600 text-white hover:shadow-violet-500/50",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 to-fuchsia-600 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx(St,{className:"w-4 h-4 relative"}),e.jsx("span",{className:"relative text-xs sm:text-sm",children:"Add Transaction"})]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[e.jsx(gh,{title:"Monthly Revenue",value:`${pd.revenue.monthly.toLocaleString()}`,change:pd.revenue.growth,icon:Ks,color:"emerald"}),e.jsx(gh,{title:"Total Expenses",value:`${pd.expenses.total.toLocaleString()}`,subValue:`Pending: ${pd.expenses.pending.toLocaleString()}`,icon:$x,color:"red"}),e.jsx(gh,{title:"Due Payments",value:`${pd.dues.total.toLocaleString()}`,subValue:`${pd.dues.count} Invoices Pending`,icon:ps,color:"orange"}),e.jsx(gh,{title:"YTD Revenue",value:`${pd.revenue.ytd.toLocaleString()}`,change:"Year to Date",icon:Vn,color:"violet"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 bg-white/60 backdrop-blur-md rounded-xl shadow-lg border border-white/50 p-4 sm:p-6 hover:shadow-xl transition-all duration-300",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 sm:gap-0 mb-4 sm:mb-6",children:[e.jsxs("h3",{className:"text-base sm:text-lg font-bold text-slate-900 flex items-center gap-2",children:[e.jsx(Yx,{className:"text-violet-600",size:18}),"Revenue Analytics"]}),e.jsxs("div",{className:"relative group w-full sm:w-auto",children:[e.jsx(Ye,{size:14,className:"sm:w-4 sm:h-4 absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"}),e.jsxs("select",{value:t,onChange:r=>s(r.target.value),className:"w-full sm:w-auto pl-8 sm:pl-9 pr-4 py-2 bg-white/80 border-2 border-slate-200 rounded-lg text-xs sm:text-sm font-semibold focus:outline-none focus:border-violet-500 focus:ring-2 focus:ring-violet-500/20 transition-all duration-300 appearance-none cursor-pointer",children:[e.jsx("option",{children:"This Month"}),e.jsx("option",{children:"Last Quarter"}),e.jsx("option",{children:"This Year"})]})]})]}),e.jsx("div",{className:"h-48 sm:h-64 flex items-end justify-between gap-1 sm:gap-2 px-2 sm:px-4 pb-4 border-b border-slate-100",children:[40,65,45,80,55,90,70,85,60,75,50,95].map((r,l)=>e.jsxs("div",{className:"w-full bg-violet-50 rounded-t-lg relative group/bar",children:[e.jsx("div",{className:"absolute bottom-0 w-full bg-gradient-to-t from-violet-600 to-purple-500 rounded-t-lg transition-all duration-500 hover:from-violet-700 hover:to-purple-600 cursor-pointer",style:{height:`${r}%`},children:e.jsxs("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-slate-900 text-white text-[10px] sm:text-xs font-bold px-1.5 sm:px-2 py-0.5 sm:py-1 rounded opacity-0 group-hover/bar:opacity-100 transition-opacity whitespace-nowrap",children:["",(r*1e3).toLocaleString()]})}),e.jsx("div",{className:"absolute -bottom-6 w-full text-center text-[10px] sm:text-xs font-bold text-slate-400",children:["J","F","M","A","M","J","J","A","S","O","N","D"][l]})]},l))})]}),e.jsxs("div",{className:"bg-white/60 backdrop-blur-md rounded-xl shadow-lg border border-white/50 p-4 sm:p-6 hover:shadow-xl transition-all duration-300",children:[e.jsxs("h3",{className:"text-base sm:text-lg font-bold text-slate-900 mb-3 sm:mb-4 flex items-center gap-2",children:[e.jsx(Os,{className:"text-violet-600",size:18}),"Recent Transactions"]}),e.jsx("div",{className:"space-y-2 sm:space-y-3 mb-3 sm:mb-4",children:lw.map(r=>e.jsxs("div",{className:"group flex items-center justify-between p-2.5 sm:p-3 hover:bg-violet-50/50 rounded-lg sm:rounded-xl transition-all duration-300 cursor-pointer border border-transparent hover:border-violet-100",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0",children:[e.jsx("div",{className:`p-1.5 sm:p-2 rounded-lg transition-all duration-300 group-hover:scale-110 group-hover:rotate-6 shadow-sm flex-shrink-0 ${r.type.includes("POS")?"bg-gradient-to-br from-purple-500 to-purple-600 text-white":"bg-gradient-to-br from-blue-500 to-blue-600 text-white"}`,children:r.type.includes("POS")?e.jsx(zc,{size:14,className:"sm:w-[18px] sm:h-[18px]"}):e.jsx(Os,{size:14,className:"sm:w-[18px] sm:h-[18px]"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"text-xs sm:text-sm font-bold text-slate-900 group-hover:text-violet-600 transition-colors truncate",children:r.member}),e.jsx("div",{className:"text-[10px] sm:text-xs text-slate-500 truncate",children:r.type})]})]}),e.jsxs("div",{className:"text-right flex-shrink-0 ml-2",children:[e.jsxs("div",{className:`text-xs sm:text-sm font-bold ${r.status==="Completed"?"text-emerald-600":"text-red-500"}`,children:[r.status==="Completed"?"+":"","",r.amount.toLocaleString()]}),e.jsx("div",{className:"text-[10px] sm:text-xs text-slate-400",children:r.date})]})]},r.id))}),e.jsx("button",{className:"w-full py-2.5 text-xs sm:text-sm font-bold text-violet-600 bg-violet-50 hover:bg-violet-100 rounded-lg sm:rounded-xl transition-all duration-300 hover:scale-105",children:"View All Transactions"})]})]})]})},gh=({title:t,value:s,change:r,subValue:l,icon:i,color:o})=>{const d={emerald:{bg:"from-emerald-500 to-emerald-600",icon:"bg-emerald-100 text-emerald-600"},red:{bg:"from-red-500 to-red-600",icon:"bg-red-100 text-red-600"},orange:{bg:"from-orange-500 to-orange-600",icon:"bg-orange-100 text-orange-600"},violet:{bg:"from-violet-500 to-purple-600",icon:"bg-violet-100 text-violet-600"}};return e.jsxs("div",{className:"group bg-white rounded-xl sm:rounded-2xl p-4 sm:p-6 shadow-lg border border-slate-100 hover:shadow-xl hover:scale-105 hover:-translate-y-1 transition-all duration-300",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3 sm:mb-4",children:[e.jsx("div",{className:`p-2.5 sm:p-3 rounded-lg sm:rounded-xl ${d[o].icon} shadow-md group-hover:scale-110 group-hover:rotate-6 transition-all duration-300`,children:e.jsx(i,{size:20,className:"sm:w-6 sm:h-6"})}),r&&e.jsx("span",{className:`text-[10px] sm:text-xs font-bold px-2.5 sm:px-3 py-1 sm:py-1.5 rounded-full ${r.includes("+")?"bg-emerald-100 text-emerald-700 border border-emerald-200":"bg-slate-100 text-slate-600 border border-slate-200"}`,children:r})]}),e.jsx("div",{className:"text-slate-500 text-[10px] sm:text-xs font-bold uppercase tracking-wider mb-2",children:t}),e.jsx("div",{className:"text-2xl sm:text-3xl font-black text-slate-900 mb-1",children:s}),l&&e.jsx("div",{className:"text-xs font-semibold text-slate-500 mt-2",children:l})]})},t_=()=>{const[t,s]=j.useState([]),[r,l]=j.useState([]),[i,o]=j.useState([]),[d,x]=j.useState(""),[u,h]=j.useState("All"),[p,g]=j.useState("member"),[y,f]=j.useState(null),[w,S]=j.useState(""),[v,N]=j.useState(!1);j.useEffect(()=>{(async()=>{try{const[R,W]=await Promise.all([Sg(),Ur.getMembers()]);s(R),l(W)}catch(R){console.error("Failed to load POS data",R)}})()},[]);const A=t.filter(P=>(u==="All"||P.category===u)&&P.name.toLowerCase().includes(d.toLowerCase())),L=r.filter(P=>P.name.toLowerCase().includes(w.toLowerCase())||P.memberId&&P.memberId.toLowerCase().includes(w.toLowerCase())),M=["All",...new Set(t.map(P=>P.category))],T=P=>{const R=t.find($=>$.id===P.id),W=i.find($=>$.id===P.id);if((W?W.qty:0)>=R.stock){alert("Cannot add more items. Out of stock.");return}o($=>$.find(le=>le.id===P.id)?$.map(le=>le.id===P.id?{...le,qty:le.qty+1}:le):[...$,{...P,qty:1}])},_=(P,R)=>{const W=t.find(H=>H.id===P);o(H=>H.map($=>{if($.id===P){if(R>0&&$.qty>=W.stock)return $;const G=Math.max(0,$.qty+R);return{...$,qty:G}}return $}).filter($=>$.qty>0))},I=async()=>{if(p==="member"&&!y){alert("Please select a member for this transaction.");return}try{const P={memberId:y?y.id:null,cartItems:i.map(W=>({id:W.id,quantity:W.qty})),totalAmount:B};await Sw(P),s(W=>W.map(H=>{const $=i.find(G=>G.id===H.id);return $?{...H,stock:H.stock-$.qty}:H}));const R=p==="member"?`Member: ${y.name} (${y.memberId})`:"Guest Checkout";alert(`Processing Payment of ${Math.round(B*1.18).toLocaleString()}.
${R}

Invoice generated and synced with Finance & Member history.`),o([]),f(null),S("")}catch(P){alert(`Failed to complete transaction: ${P}`)}},B=i.reduce((P,R)=>P+R.price*R.qty,0);return e.jsx("div",{className:"bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6 pb-12 min-h-screen",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 sm:gap-6 min-h-[calc(100vh-120px)]",children:[e.jsxs("div",{className:"flex-1 flex flex-col gap-4 sm:gap-6 overflow-hidden",children:[e.jsxs("div",{className:"relative shrink-0",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent mb-2 flex items-center gap-2",children:[e.jsx(aC,{className:"text-violet-600",size:24}),"POS Store"]}),e.jsx("p",{className:"text-slate-600 text-xs sm:text-sm",children:"Sell supplements, gear, and amenities"})]}),e.jsxs("div",{className:"relative w-full group",children:[e.jsx(Qe,{size:18,className:"absolute left-3 sm:left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 group-focus-within:scale-110 transition-all duration-300"}),e.jsx("input",{type:"text",value:d,onChange:P=>x(P.target.value),placeholder:"Search products...",className:"w-full pl-10 sm:pl-12 pr-4 py-2.5 sm:py-3 bg-white/80 border-2 border-slate-200 rounded-lg sm:rounded-xl text-xs sm:text-sm focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 focus:bg-white transition-all duration-300 hover:border-slate-300"})]})]})})]}),e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 shrink-0 scrollbar-hide",children:M.map(P=>e.jsx("button",{onClick:()=>h(P),className:`px-4 sm:px-6 py-2 sm:py-2.5 rounded-lg sm:rounded-xl text-xs sm:text-sm font-bold whitespace-nowrap transition-all duration-300 shadow-md ${u===P?"bg-gradient-to-r from-violet-600 to-purple-600 text-white hover:shadow-xl hover:shadow-violet-500/50 hover:scale-105":"bg-white text-slate-700 hover:bg-slate-50 hover:shadow-lg hover:scale-105 border border-slate-100"}`,children:P},P))}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-3 sm:gap-4 overflow-y-auto pb-4 pr-2",children:A.map(P=>e.jsxs("div",{className:"group bg-white rounded-xl sm:rounded-2xl p-3 sm:p-4 shadow-md hover:shadow-xl transition-all duration-300 border border-slate-100 flex flex-col hover:scale-105 hover:-translate-y-1",children:[e.jsxs("div",{className:"aspect-square bg-gradient-to-br from-violet-100 via-purple-100 to-fuchsia-100 rounded-lg sm:rounded-xl mb-2 sm:mb-3 relative overflow-hidden flex items-center justify-center",children:[P.image?e.jsx("img",{src:P.image,alt:P.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}):e.jsx(ll,{size:48,className:"text-violet-400 opacity-50"}),P.stock===0?e.jsx("div",{className:"absolute top-1.5 sm:top-2 right-1.5 sm:right-2 bg-rose-600 text-white px-2 py-1 rounded-md text-[10px] font-black uppercase tracking-tight shadow-lg animate-pulse",children:"Out of Stock"}):e.jsxs("div",{className:"absolute top-1.5 sm:top-2 right-1.5 sm:right-2 bg-white/90 backdrop-blur-sm px-1.5 sm:px-2 py-0.5 sm:py-1 rounded-md sm:rounded-lg text-[10px] sm:text-xs font-bold shadow-md",children:[e.jsx(ll,{size:10,className:"sm:w-3 sm:h-3 inline mr-0.5 sm:mr-1 text-violet-500"}),P.stock," in stock"]})]}),e.jsx("h3",{className:"font-bold text-slate-900 text-xs sm:text-sm mb-1 line-clamp-2 group-hover:text-violet-600 transition-colors",children:P.name}),e.jsx("div",{className:"text-[10px] sm:text-xs font-semibold text-slate-500 mb-2 sm:mb-3",children:P.category}),e.jsxs("div",{className:"mt-auto flex items-center justify-between",children:[e.jsxs("div",{className:"font-black text-base sm:text-lg text-slate-900",children:["",P.price]}),e.jsx("button",{onClick:()=>T(P),disabled:P.stock===0,className:`p-1.5 sm:p-2 bg-gradient-to-br transition-all duration-300 rounded-lg sm:rounded-xl ${P.stock===0?"from-slate-100 to-slate-200 text-slate-400 cursor-not-allowed":"from-violet-500 to-purple-600 text-white hover:shadow-lg hover:shadow-violet-500/50 hover:scale-110"}`,children:e.jsx(St,{size:14,className:"sm:w-[18px] sm:h-[18px]"})})]})]},P.id))})]}),e.jsxs("div",{className:"w-full lg:w-96 shrink-0 flex flex-col bg-white/60 backdrop-blur-md rounded-xl sm:rounded-2xl shadow-2xl overflow-hidden border border-white/50 max-h-[600px] lg:h-full",children:[e.jsx("div",{className:"p-4 sm:p-6 border-b border-slate-100 bg-gradient-to-r from-violet-50 to-purple-50",children:e.jsxs("h3",{className:"text-lg sm:text-xl font-black text-slate-900 flex items-center gap-2",children:[e.jsx(Ec,{className:"text-violet-600",size:20}),"Current Cart"]})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-3 sm:p-4 space-y-2 sm:space-y-3",children:i.length===0?e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400 opacity-50 py-10",children:[e.jsx(Ec,{size:40,className:"sm:w-12 sm:h-12 mb-3 sm:mb-4"}),e.jsx("p",{className:"font-bold text-sm sm:text-base",children:"Cart is empty"})]}):i.map(P=>e.jsxs("div",{className:"group flex items-center gap-2 sm:gap-3 bg-white p-2.5 sm:p-3 rounded-lg sm:rounded-xl border border-slate-100 shadow-sm hover:shadow-md hover:border-violet-200 transition-all duration-300",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-violet-100 to-purple-100 rounded-lg sm:rounded-xl shrink-0 overflow-hidden flex items-center justify-center",children:P.image?e.jsx("img",{src:P.image,alt:P.name,className:"w-full h-full object-cover"}):e.jsx(ll,{size:16,className:"sm:w-5 sm:h-5 text-violet-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-bold text-xs sm:text-sm text-slate-900 truncate group-hover:text-violet-600 transition-colors",children:P.name}),e.jsxs("div",{className:"text-[10px] sm:text-xs font-semibold text-slate-500",children:["",P.price,"  ",P.qty]})]}),e.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 bg-slate-50 rounded-lg p-1",children:[e.jsx("button",{onClick:()=>_(P.id,-1),className:"p-0.5 sm:p-1 hover:bg-white rounded-md transition-colors",children:e.jsx(o8,{size:12,className:"sm:w-[14px] sm:h-[14px]"})}),e.jsx("span",{className:"text-[10px] sm:text-xs font-bold w-3 sm:w-4 text-center",children:P.qty}),e.jsx("button",{onClick:()=>_(P.id,1),className:"p-0.5 sm:p-1 hover:bg-white rounded-md transition-colors",children:e.jsx(St,{size:12,className:"sm:w-[14px] sm:h-[14px]"})})]})]},P.id))}),e.jsx("div",{className:"px-4 pb-4 sm:px-6 sm:pb-6 border-t border-slate-100 bg-white/40",children:e.jsxs("div",{className:"py-4",children:[e.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 mb-3",children:"Customer Information"}),e.jsxs("div",{className:"flex gap-4 mb-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group",children:[e.jsx("input",{type:"radio",name:"customerType",checked:p==="member",onChange:()=>g("member"),className:"w-4 h-4 text-violet-600 border-slate-300 focus:ring-violet-500"}),e.jsx("span",{className:`text-xs font-bold transition-colors ${p==="member"?"text-violet-600":"text-slate-500 group-hover:text-slate-700"}`,children:"Assign to Member"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group",children:[e.jsx("input",{type:"radio",name:"customerType",checked:p==="guest",onChange:()=>g("guest"),className:"w-4 h-4 text-violet-600 border-slate-300 focus:ring-violet-500"}),e.jsx("span",{className:`text-xs font-bold transition-colors ${p==="guest"?"text-violet-600":"text-slate-500 group-hover:text-slate-700"}`,children:"Guest Checkout"})]})]}),p==="member"&&e.jsxs("div",{className:"relative animate-in fade-in slide-in-from-top-2",children:[e.jsxs("div",{onClick:()=>N(!v),className:`flex items-center justify-between px-4 py-2.5 bg-white border-2 rounded-xl cursor-pointer transition-all ${y?"border-violet-200 bg-violet-50/30":"border-slate-100 hover:border-slate-200"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[e.jsx(Et,{size:16,className:y?"text-violet-600":"text-slate-400"}),y?e.jsxs("div",{className:"truncate",children:[e.jsx("div",{className:"text-xs font-bold text-slate-900",children:y.name}),e.jsx("div",{className:"text-[10px] text-slate-500",children:y.memberId})]}):e.jsx("span",{className:"text-xs font-bold text-slate-400",children:"Search Member..."})]}),e.jsx(Wl,{size:16,className:`text-slate-400 transition-transform ${v?"rotate-180":""}`})]}),v&&e.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-xl shadow-2xl border border-slate-100 z-50 overflow-hidden animate-in zoom-in-95 duration-200",children:[e.jsx("div",{className:"p-2 border-b border-slate-50",children:e.jsxs("div",{className:"relative",children:[e.jsx(Qe,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),e.jsx("input",{type:"text",value:w,onChange:P=>S(P.target.value),placeholder:"Name or ID...",className:"w-full pl-9 pr-3 py-2 bg-slate-50 border-none rounded-lg text-xs font-bold focus:ring-2 focus:ring-violet-500/20",autoFocus:!0,onClick:P=>P.stopPropagation()})]})}),e.jsx("div",{className:"max-h-48 overflow-y-auto pt-1",children:L.length>0?L.map(P=>e.jsxs("div",{onClick:()=>{f(P),N(!1)},className:"px-4 py-2 hover:bg-violet-50 cursor-pointer transition-colors border-b border-slate-50 last:border-none",children:[e.jsx("div",{className:"text-xs font-bold text-slate-900",children:P.name}),e.jsxs("div",{className:"text-[10px] text-slate-500 font-medium",children:[P.memberId,"  ",P.phone]})]},P.id)):e.jsx("div",{className:"p-4 text-center text-xs text-slate-400 font-bold italic",children:"No members found"})})]})]}),e.jsxs("div",{className:"mt-4 p-3 bg-violet-50/50 rounded-xl border border-violet-100 flex items-start gap-2",children:[e.jsx(Yn,{size:14,className:"text-violet-500 shrink-0 mt-0.5"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-[10px] font-bold text-violet-700 leading-tight",children:"This transaction will generate an Invoice."}),e.jsxs("p",{className:"text-[9px] font-medium text-slate-500 leading-tight italic",children:["Auto-Sync: Finance Module & ",p==="member"?"Member Purchase History":"General Sales Log"]})]})]})]})}),e.jsxs("div",{className:"p-4 sm:p-6 bg-gradient-to-r from-slate-50 to-slate-100/50 border-t border-slate-200 space-y-3 sm:space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center text-slate-600 font-semibold text-xs sm:text-sm",children:[e.jsx("span",{children:"Subtotal"}),e.jsxs("span",{children:["",B.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between items-center text-slate-600 font-semibold text-xs sm:text-sm",children:[e.jsx("span",{children:"Tax (18% GST)"}),e.jsxs("span",{children:["",Math.round(B*.18).toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between items-center text-xl sm:text-2xl font-black text-slate-900 pt-3 sm:pt-4 border-t border-slate-300",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{className:"text-violet-600",children:["",Math.round(B*1.18).toLocaleString()]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-2",children:e.jsxs("button",{disabled:i.length===0||p==="member"&&!y,onClick:I,className:"group relative w-full px-4 sm:px-6 py-3 sm:py-4 rounded-lg sm:rounded-xl font-bold shadow-xl hover:shadow-2xl hover:scale-105 hover:-translate-y-1 transition-all duration-300 flex items-center justify-center gap-2 bg-gradient-to-r from-violet-600 to-purple-600 text-white text-base sm:text-lg hover:shadow-violet-500/50 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 disabled:hover:translate-y-0",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 to-fuchsia-600 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx("span",{className:"relative text-sm sm:text-base",children:"Checkout Now"})]})})]})]})]})})},s_=()=>{const[t,s]=j.useState(""),[r,l]=j.useState(""),[i,o]=j.useState(null),[d,x]=j.useState(!1),u=NA.filter(y=>{const f=y.memberName.toLowerCase().includes(t.toLowerCase())||y.invoiceNumber.toLowerCase().includes(t.toLowerCase()),w=r===""||y.status===r;return f&&w}),h=y=>{o(y),x(!0)},p=y=>{switch(y){case"Paid":return"bg-emerald-50 text-emerald-700 border-emerald-200";case"Partial":return"bg-amber-50 text-amber-700 border-amber-200";case"Overdue":return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},g=y=>{switch(y){case"Paid":return e.jsx(ss,{size:14});case"Partial":return e.jsx(Je,{size:14});case"Overdue":return e.jsx(ps,{size:14});default:return null}};return e.jsxs("div",{className:"p-6 md:p-8 bg-gradient-to-br from-slate-50 via-white to-violet-50/30 min-h-screen font-sans",children:[e.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-4xl font-black text-gray-900 tracking-tight flex items-center gap-3",children:[e.jsx(er,{size:36,className:"text-violet-600"}),"Invoices"]}),e.jsx("p",{className:"text-gray-500 font-medium mt-1.5 flex items-center gap-2 text-sm",children:"Manage billing and track payments"})]}),e.jsx("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative group",children:[e.jsx(Qe,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 transition-colors"}),e.jsx("input",{type:"text",value:t,onChange:y=>s(y.target.value),placeholder:"Search by member name or invoice number...",className:"w-full pl-12 pr-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl text-sm font-bold focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 focus:bg-white transition-all"})]}),e.jsxs("div",{className:"relative group",children:[e.jsx(Ns,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 transition-colors pointer-events-none z-10"}),e.jsxs("select",{value:r,onChange:y=>l(y.target.value),className:"w-full pl-12 pr-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl text-sm font-bold focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 focus:bg-white transition-all appearance-none cursor-pointer",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"Paid",children:"Paid"}),e.jsx("option",{value:"Partial",children:"Partial"}),e.jsx("option",{value:"Overdue",children:"Overdue"})]})]})]})}),e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-xl overflow-hidden",children:[e.jsx("div",{className:"hidden md:block overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-slate-50/50 border-b border-slate-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-slate-400 uppercase tracking-widest",children:"Invoice Number"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-slate-400 uppercase tracking-widest",children:"Member Name"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-slate-400 uppercase tracking-widest",children:"Service Type"}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-black text-slate-400 uppercase tracking-widest",children:"Total Amount"}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-black text-slate-400 uppercase tracking-widest",children:"Paid Amount"}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-black text-slate-400 uppercase tracking-widest",children:"Balance Due"}),e.jsx("th",{className:"px-6 py-4 text-center text-xs font-black text-slate-400 uppercase tracking-widest",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-center text-xs font-black text-slate-400 uppercase tracking-widest",children:"Action"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:u.map(y=>e.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Wa,{size:16,className:"text-violet-500"}),e.jsx("span",{className:"text-sm font-bold text-slate-900",children:y.invoiceNumber})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(rt,{size:16,className:"text-slate-400"}),e.jsx("span",{className:"text-sm font-bold text-slate-900",children:y.memberName})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-bold bg-violet-50 text-violet-700 border border-violet-200",children:y.serviceType})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsxs("span",{className:"text-sm font-black text-slate-900",children:["",y.totalAmount.toLocaleString()]})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsxs("span",{className:"text-sm font-bold text-emerald-600",children:["",y.paidAmount.toLocaleString()]})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsxs("span",{className:`text-sm font-black ${y.balanceDue>0?"text-red-600":"text-slate-400"}`,children:["",y.balanceDue.toLocaleString()]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"flex justify-center",children:e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-bold border ${p(y.status)}`,children:[g(y.status),y.status]})})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"flex justify-center gap-2",children:e.jsx("button",{onClick:()=>h(y),className:"p-2 text-violet-600 bg-violet-50 hover:bg-violet-100 rounded-xl transition-all hover:scale-110 shadow-sm",title:"View Details",children:e.jsx(da,{size:16})})})})]},y.id))})]})}),e.jsx("div",{className:"md:hidden divide-y divide-slate-100",children:u.map(y=>e.jsx("div",{className:"p-4 hover:bg-slate-50/50 transition-colors",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Wa,{size:14,className:"text-violet-500"}),e.jsx("span",{className:"text-sm font-bold text-slate-900",children:y.invoiceNumber})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(rt,{size:14,className:"text-slate-400"}),e.jsx("span",{className:"text-sm font-bold text-slate-700",children:y.memberName})]})]}),e.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-bold border ${p(y.status)}`,children:[g(y.status),y.status]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-bold bg-violet-50 text-violet-700 border border-violet-200",children:y.serviceType})}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 pt-2 border-t border-slate-100",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-wider mb-0.5",children:"Total"}),e.jsxs("p",{className:"text-sm font-black text-slate-900",children:["",y.totalAmount.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-wider mb-0.5",children:"Paid"}),e.jsxs("p",{className:"text-sm font-bold text-emerald-600",children:["",y.paidAmount.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-wider mb-0.5",children:"Due"}),e.jsxs("p",{className:`text-sm font-black ${y.balanceDue>0?"text-red-600":"text-slate-400"}`,children:["",y.balanceDue.toLocaleString()]})]})]}),e.jsxs("button",{onClick:()=>h(y),className:"w-full py-2.5 px-4 bg-violet-600 text-white rounded-xl text-sm font-bold hover:bg-violet-700 transition-all flex items-center justify-center gap-2",children:[e.jsx(da,{size:16}),"View Details"]})]})},y.id))}),u.length===0&&e.jsxs("div",{className:"p-16 text-center",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-violet-100 to-purple-100 rounded-full flex items-center justify-center",children:e.jsx(er,{size:40,className:"text-violet-600"})}),e.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-2",children:"No Invoices Found"}),e.jsx("p",{className:"text-slate-600",children:"Try adjusting your search or filter criteria"})]})]})]}),e.jsx(at,{isOpen:d,onClose:()=>x(!1),title:"Invoice Details",maxWidth:"max-w-2xl",children:i&&e.jsx(a_,{invoice:i,onClose:()=>x(!1)})})]})},a_=({invoice:t,onClose:s})=>e.jsxs("div",{className:"p-5 md:p-8 space-y-6 md:space-y-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl md:text-2xl font-black text-gray-900 tracking-tight mb-1",children:t.invoiceNumber}),e.jsxs("p",{className:"text-xs md:text-sm text-gray-500 font-medium",children:["Issued on ",new Date(t.issueDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]}),e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-bold border ${t.status==="Paid"?"bg-emerald-50 text-emerald-700 border-emerald-200":t.status==="Partial"?"bg-amber-50 text-amber-700 border-amber-200":"bg-red-50 text-red-700 border-red-200"}`,children:[t.status==="Paid"&&e.jsx(ss,{size:14}),t.status==="Partial"&&e.jsx(Je,{size:14}),t.status==="Overdue"&&e.jsx(ps,{size:14}),t.status]})]}),e.jsxs("div",{className:"p-6 bg-slate-50 rounded-2xl border border-slate-100",children:[e.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-3",children:"Bill To"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-violet-600 to-purple-600 flex items-center justify-center text-white text-lg font-black",children:t.memberName[0]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-black text-gray-900",children:t.memberName}),e.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Member"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 md:gap-4",children:[e.jsxs("div",{className:"p-4 md:p-5 bg-violet-50 rounded-2xl border border-violet-100",children:[e.jsx("p",{className:"text-[10px] md:text-xs font-black text-violet-400 uppercase tracking-widest mb-1",children:"Total Amount"}),e.jsxs("p",{className:"text-xl md:text-2xl font-black text-violet-900",children:["",t.totalAmount.toLocaleString()]})]}),e.jsxs("div",{className:"p-4 md:p-5 bg-emerald-50 rounded-2xl border border-emerald-100",children:[e.jsx("p",{className:"text-[10px] md:text-xs font-black text-emerald-400 uppercase tracking-widest mb-1",children:"Paid"}),e.jsxs("p",{className:"text-xl md:text-2xl font-black text-emerald-900",children:["",t.paidAmount.toLocaleString()]})]}),e.jsxs("div",{className:"p-4 md:p-5 bg-red-50 rounded-2xl border border-red-100",children:[e.jsx("p",{className:"text-[10px] md:text-xs font-black text-red-400 uppercase tracking-widest mb-1",children:"Balance Due"}),e.jsxs("p",{className:"text-xl md:text-2xl font-black text-red-900",children:["",t.balanceDue.toLocaleString()]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-black text-slate-900 uppercase tracking-widest mb-4",children:"Services"}),e.jsx("div",{className:"space-y-3",children:t.services.map((r,l)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-xl border border-slate-100",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-bold text-gray-900",children:r.name}),e.jsxs("p",{className:"text-xs text-gray-500 font-medium mt-0.5",children:["Qty: ",r.quantity,"  ",r.rate.toLocaleString()]})]}),e.jsxs("p",{className:"text-lg font-black text-gray-900",children:["",r.amount.toLocaleString()]})]},l))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-black text-slate-900 uppercase tracking-widest mb-4",children:"Payment History"}),t.paymentHistory.length>0?e.jsx("div",{className:"space-y-3",children:t.paymentHistory.map((r,l)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-emerald-50 rounded-xl border border-emerald-100",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Os,{size:14,className:"text-emerald-600"}),e.jsx("p",{className:"text-sm font-bold text-emerald-900",children:r.method})]}),e.jsx("p",{className:"text-xs text-emerald-700 font-medium",children:new Date(r.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),e.jsx("p",{className:"text-xs text-emerald-600 font-medium mt-0.5",children:r.transactionId})]}),e.jsxs("p",{className:"text-lg font-black text-emerald-900",children:["",r.amount.toLocaleString()]})]},l))}):e.jsxs("div",{className:"p-8 text-center bg-slate-50 rounded-xl border border-slate-100",children:[e.jsx(ps,{size:32,className:"text-slate-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm font-bold text-slate-600",children:"No payments recorded yet"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 md:gap-4 pt-4 border-t border-slate-100",children:[e.jsx("button",{onClick:s,className:"flex-1 px-6 py-3.5 md:py-4 bg-slate-50 text-slate-600 rounded-2xl font-black text-[10px] md:text-xs hover:bg-slate-100 transition-all uppercase tracking-widest",children:"Close"}),e.jsxs("button",{className:"flex-[2] px-6 py-3.5 md:py-4 bg-violet-600 text-white rounded-2xl font-black text-[10px] md:text-xs shadow-xl shadow-violet-200 hover:bg-violet-700 transition-all flex items-center justify-center gap-2 uppercase tracking-widest",children:[e.jsx(Js,{size:18}),"Download PDF"]})]})]}),IN=()=>{const t=localStorage.getItem("user");return t?{headers:{Authorization:`Bearer ${JSON.parse(t).token}`}}:{}},r_=async()=>{try{return(await _a.get(`${og}/finance/expenses`,IN())).data}catch(t){throw t}},l_=async t=>{try{return(await _a.post(`${og}/finance/expenses`,t,IN())).data}catch(s){throw s}},mf=["Rent","Maintenance","Salary","Utilities","Marketing","Supplies","Others"],n_=()=>{const[t,s]=j.useState([]),[r,l]=j.useState(""),[i,o]=j.useState(""),[d,x]=j.useState(!1),[u,h]=j.useState(!0),[p,g]=j.useState({title:"",category:"",amount:"",date:new Date().toISOString().split("T")[0],notes:"",status:"Pending"});j.useEffect(()=>{y()},[]);const y=async()=>{try{h(!0);const N=await r_();s(N)}catch(N){console.error("Failed to fetch expenses",N)}finally{h(!1)}},f=t.filter(N=>{const A=N.title.toLowerCase().includes(r.toLowerCase())||N.notes&&N.notes.toLowerCase().includes(r.toLowerCase()),L=i===""||N.category===i;return A&&L}),w=t.reduce((N,A)=>N+Number(A.amount),0),S=mf.map(N=>{const A=t.filter(M=>M.category===N).reduce((M,T)=>M+Number(T.amount),0),L=w>0?A/w*100:0;return{category:N,amount:A,percentage:L}}).filter(N=>N.amount>0).sort((N,A)=>A.amount-N.amount),v=async N=>{N.preventDefault();try{const A=await l_(p);s([A,...t]),x(!1),g({title:"",category:"",amount:"",date:new Date().toISOString().split("T")[0],notes:"",status:"Pending"})}catch(A){console.error("Failed to add expense",A)}};return e.jsxs("div",{className:"p-4 md:p-8 bg-gradient-to-br from-slate-50 via-white to-violet-50/30 min-h-screen font-sans",children:[e.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-4xl font-black text-gray-900 tracking-tight flex items-center gap-3",children:[e.jsx($x,{size:36,className:"text-violet-600"}),"Operations Expenses"]}),e.jsx("p",{className:"text-gray-500 font-medium mt-1.5 flex items-center gap-2 text-sm",children:"Manage operational costs and track spending categories."})]}),e.jsxs("button",{onClick:()=>x(!0),className:"flex items-center justify-center gap-2 px-6 py-4 bg-violet-600 text-white rounded-2xl font-black text-sm shadow-xl shadow-violet-200 hover:bg-violet-700 transition-all hover:scale-105 active:scale-95 uppercase tracking-widest",children:[e.jsx(St,{size:18}),"Log New Expense"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-slate-900 rounded-[24px] md:rounded-[32px] p-6 md:p-8 text-white shadow-2xl relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10 group-hover:opacity-20 transition-opacity",children:e.jsx(dg,{size:120})}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:"Total Expenses (Current)"}),e.jsxs("h2",{className:"text-5xl font-black mb-6",children:["",w.toLocaleString()]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-xs font-black text-slate-500 uppercase tracking-widest border-b border-slate-800 pb-2",children:"Category Breakdown"}),e.jsxs("div",{className:"space-y-3",children:[S.slice(0,3).map((N,A)=>e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-xs font-bold",children:[e.jsx("span",{children:N.category}),e.jsxs("span",{children:["",N.amount.toLocaleString()]})]}),e.jsx("div",{className:"h-1.5 bg-slate-800 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-violet-500 rounded-full transition-all duration-1000",style:{width:`${N.percentage}%`}})})]},A)),S.length>3&&e.jsxs("p",{className:"text-[10px] text-slate-500 text-center pt-2 font-bold",children:["+ ",S.length-3," more categories"]})]})]})]})]}),e.jsxs("div",{className:"lg:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-[24px] md:rounded-[32px] p-5 md:p-8 border border-slate-100 shadow-xl shadow-slate-200/50 flex flex-col justify-between",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-emerald-50 text-emerald-600 flex items-center justify-center mb-4",children:e.jsx(ss,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-1",children:"Paid Expenses"}),e.jsxs("h3",{className:"text-3xl font-black text-slate-900",children:["",t.filter(N=>N.status==="Paid").reduce((N,A)=>N+Number(A.amount),0).toLocaleString()]}),e.jsxs("p",{className:"text-xs text-emerald-600 font-bold mt-2 flex items-center gap-1",children:[e.jsx(ss,{size:12})," Fullfilled payments"]})]})]}),e.jsxs("div",{className:"bg-white rounded-[24px] md:rounded-[32px] p-5 md:p-8 border border-slate-100 shadow-xl shadow-slate-200/50 flex flex-col justify-between text-left",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-amber-50 text-amber-600 flex items-center justify-center mb-4",children:e.jsx(Je,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-1",children:"Pending Amount"}),e.jsxs("h3",{className:"text-3xl font-black text-slate-900",children:["",t.filter(N=>N.status==="Pending").reduce((N,A)=>N+Number(A.amount),0).toLocaleString()]}),e.jsxs("p",{className:"text-xs text-amber-600 font-bold mt-2 flex items-center gap-1",children:[e.jsx(ps,{size:12})," Awaiting verification"]})]})]})]})]}),e.jsx("div",{className:"bg-white rounded-3xl border border-slate-100 shadow-xl p-4 md:p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative group",children:[e.jsx(Qe,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 transition-colors group-focus-within:text-violet-500"}),e.jsx("input",{type:"text",value:r,onChange:N=>l(N.target.value),placeholder:"Search by title or notes...",className:"w-full pl-12 pr-4 py-4 bg-slate-50 border-2 border-slate-200 rounded-2xl text-sm font-bold focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 focus:bg-white transition-all"})]}),e.jsxs("div",{className:"relative group",children:[e.jsx(Ns,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none z-10"}),e.jsxs("select",{value:i,onChange:N=>o(N.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-50 border-2 border-slate-200 rounded-2xl text-sm font-bold focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 focus:bg-white transition-all appearance-none cursor-pointer",children:[e.jsx("option",{value:"",children:"All Categories"}),mf.map(N=>e.jsx("option",{value:N,children:N},N))]})]})]})}),e.jsxs("div",{className:"bg-white rounded-[32px] border border-slate-100 shadow-2xl overflow-hidden",children:[e.jsxs("div",{className:"md:hidden",children:[e.jsx("div",{className:"space-y-4 p-4",children:f.map(N=>e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-100 shadow-sm relative overflow-hidden",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"inline-flex px-2 py-0.5 rounded-full text-[10px] font-black uppercase tracking-wider bg-violet-50 text-violet-700 border border-violet-100",children:N.category}),e.jsx("span",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-wider",children:new Date(N.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]}),e.jsx("h4",{className:"font-bold text-slate-900 text-sm",children:N.title})]}),e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:"text-base font-black text-slate-900",children:["",Number(N.amount).toLocaleString()]})})]}),N.notes&&e.jsx("div",{className:"bg-slate-50 p-3 rounded-lg mb-3",children:e.jsxs("p",{className:"text-xs font-medium text-slate-500 line-clamp-2 italic",children:['"',N.notes,'"']})}),e.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-slate-50",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-600",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-slate-100 flex items-center justify-center text-[10px] font-black text-slate-500",children:N.addedBy?.[0]||"A"}),e.jsx("span",{children:N.addedBy||"System"})]}),e.jsx("button",{className:"text-violet-600 text-xs font-black uppercase tracking-wide",children:"View Details"})]})]},N.id))}),f.length===0&&e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(Wa,{size:48,className:"text-slate-200 mx-auto mb-4"}),e.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-widest text-xs",children:"No expenses found"})]})]}),e.jsxs("div",{className:"hidden md:block overflow-x-auto",children:[e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50/50 border-b border-slate-100",children:[e.jsx("th",{className:"px-8 py-5 text-left text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Date"}),e.jsx("th",{className:"px-8 py-5 text-left text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Expense Title"}),e.jsx("th",{className:"px-8 py-5 text-left text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Category"}),e.jsx("th",{className:"px-8 py-5 text-left text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Notes"}),e.jsx("th",{className:"px-8 py-5 text-left text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Added By"}),e.jsx("th",{className:"px-8 py-5 text-right text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Amount"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:f.map(N=>e.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[e.jsx("td",{className:"px-8 py-5",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold text-slate-600",children:[e.jsx(Ye,{size:14,className:"text-violet-500"}),new Date(N.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})}),e.jsx("td",{className:"px-8 py-5",children:e.jsx("div",{className:"text-sm font-black text-slate-900 group-hover:text-violet-600 transition-colors",children:N.title})}),e.jsx("td",{className:"px-8 py-5",children:e.jsx("span",{className:"inline-flex px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-wider bg-violet-50 text-violet-700 border border-violet-100",children:N.category})}),e.jsx("td",{className:"px-8 py-5",children:e.jsx("div",{className:"text-xs font-medium text-slate-500 max-w-[200px] truncate",title:N.notes,children:N.notes||""})}),e.jsx("td",{className:"px-8 py-5",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold text-slate-700",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-slate-100 flex items-center justify-center text-[10px] font-black text-slate-500",children:N.addedBy?.[0]||"A"}),N.addedBy||"System"]})}),e.jsx("td",{className:"px-8 py-5 text-right",children:e.jsxs("div",{className:"text-base font-black text-slate-900",children:["",Number(N.amount).toLocaleString()]})})]},N.id))})]}),f.length===0&&e.jsxs("div",{className:"p-20 text-center",children:[e.jsx(Wa,{size:48,className:"text-slate-200 mx-auto mb-4"}),e.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-widest text-xs",children:"No expenses found"})]})]})]})]}),e.jsx(at,{isOpen:d,onClose:()=>x(!1),title:"Log Operational Expense",maxWidth:"max-w-md",children:e.jsxs("form",{onSubmit:v,className:"p-8 space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Expense Title"}),e.jsx("input",{required:!0,type:"text",value:p.title,onChange:N=>g({...p,title:N.target.value}),placeholder:"e.g. Electricity Bill Jan 2024",className:"w-full px-5 py-4 border-2 border-slate-100 rounded-[24px] focus:border-violet-500 outline-none font-bold text-gray-900 transition-all"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Category"}),e.jsxs("select",{required:!0,value:p.category,onChange:N=>g({...p,category:N.target.value}),className:"w-full px-5 py-4 border-2 border-slate-100 rounded-[24px] focus:border-violet-500 outline-none font-bold text-gray-900 transition-all bg-slate-50/50 appearance-none cursor-pointer",children:[e.jsx("option",{value:"",children:"Select"}),mf.map(N=>e.jsx("option",{value:N,children:N},N))]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Amount ()"}),e.jsx("input",{required:!0,type:"number",value:p.amount,onChange:N=>g({...p,amount:N.target.value}),placeholder:"0",className:"w-full px-5 py-4 border-2 border-slate-100 rounded-[24px] focus:border-violet-500 outline-none font-bold text-gray-900 transition-all"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Expense Date"}),e.jsx("input",{required:!0,type:"date",value:p.date,onChange:N=>g({...p,date:N.target.value}),className:"w-full px-5 py-4 border-2 border-slate-100 rounded-[24px] focus:border-violet-500 outline-none font-bold text-gray-900 transition-all bg-slate-50/50"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Additional Notes"}),e.jsx("textarea",{rows:"4",value:p.notes,onChange:N=>g({...p,notes:N.target.value}),placeholder:"Mention utility month, invoice reference, etc...",className:"w-full px-5 py-4 border-2 border-slate-100 rounded-[24px] focus:border-violet-500 outline-none font-bold text-gray-900 transition-all resize-none bg-slate-50/50"})]}),e.jsxs("div",{className:"flex gap-4 pt-6",children:[e.jsx("button",{type:"button",onClick:()=>x(!1),className:"flex-1 px-8 py-4 bg-slate-50 text-slate-500 rounded-2xl font-black text-xs hover:bg-slate-100 transition-all uppercase tracking-widest",children:"Discard"}),e.jsxs("button",{type:"submit",className:"flex-[2] px-8 py-4 bg-violet-600 text-white rounded-2xl font-black text-xs shadow-xl shadow-violet-200 hover:bg-violet-700 transition-all uppercase tracking-widest flex items-center justify-center gap-2",children:[e.jsx(ss,{size:18}),"Save Expense"]})]})]})})]})},bh=[{id:1,trainer:"John Doe",sessions:45,tier:"Gold (20%)",totalSales:54e3,commission:10800},{id:2,trainer:"Sarah Coach",sessions:32,tier:"Silver (15%)",totalSales:38400,commission:5760},{id:3,trainer:"Mike Trainer",sessions:50,tier:"Platinum (25%)",totalSales:6e4,commission:15e3}],i_=()=>{const[t,s]=j.useState("February 2025"),r=bh.reduce((o,d)=>o+d.commission,0),l=bh.reduce((o,d)=>o+d.totalSales,0),i=bh.reduce((o,d)=>o+d.sessions,0);return e.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6 pb-12 min-h-screen",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent mb-2 flex items-center gap-2",children:[e.jsx(ug,{className:"text-violet-600",size:24}),"Trainer Commissions"]}),e.jsx("p",{className:"text-slate-600 text-xs sm:text-sm",children:"Monthly performance and payout reports"})]}),e.jsxs("div",{className:"relative group",children:[e.jsx(Ye,{size:14,className:"sm:w-4 sm:h-4 absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"}),e.jsxs("select",{value:t,onChange:o=>s(o.target.value),className:"w-full sm:w-auto pl-8 sm:pl-9 pr-4 py-2.5 bg-white border-2 border-slate-200 rounded-lg sm:rounded-xl text-xs sm:text-sm font-semibold focus:outline-none focus:border-violet-500 focus:ring-2 focus:ring-violet-500/20 transition-all duration-300 appearance-none cursor-pointer shadow-sm hover:shadow-md",children:[e.jsx("option",{children:"February 2025"}),e.jsx("option",{children:"January 2025"}),e.jsx("option",{children:"December 2024"})]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[e.jsxs("div",{className:"group bg-white rounded-xl sm:rounded-2xl p-4 sm:p-6 shadow-lg border border-slate-100 hover:shadow-xl hover:scale-105 hover:-translate-y-1 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-slate-500 font-bold text-[10px] sm:text-xs uppercase tracking-wider",children:"Total Commissions"}),e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg sm:rounded-xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-md group-hover:scale-110 group-hover:rotate-6 transition-all duration-300",children:e.jsx(Vn,{size:16,className:"sm:w-5 sm:h-5"})})]}),e.jsxs("div",{className:"text-2xl sm:text-3xl font-black text-violet-600",children:["",r.toLocaleString()]})]}),e.jsxs("div",{className:"group bg-white rounded-xl sm:rounded-2xl p-4 sm:p-6 shadow-lg border border-slate-100 hover:shadow-xl hover:scale-105 hover:-translate-y-1 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-slate-500 font-bold text-[10px] sm:text-xs uppercase tracking-wider",children:"Total Sales"}),e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg sm:rounded-xl bg-gradient-to-br from-emerald-500 to-emerald-600 flex items-center justify-center text-white shadow-md group-hover:scale-110 group-hover:rotate-6 transition-all duration-300",children:e.jsx(Ks,{size:16,className:"sm:w-5 sm:h-5"})})]}),e.jsxs("div",{className:"text-2xl sm:text-3xl font-black text-slate-900",children:["",l.toLocaleString()]})]}),e.jsxs("div",{className:"group bg-white rounded-xl sm:rounded-2xl p-4 sm:p-6 shadow-lg border border-slate-100 hover:shadow-xl hover:scale-105 hover:-translate-y-1 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-slate-500 font-bold text-[10px] sm:text-xs uppercase tracking-wider",children:"Total Sessions"}),e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg sm:rounded-xl bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center text-white shadow-md group-hover:scale-110 group-hover:rotate-6 transition-all duration-300",children:e.jsx(jn,{size:16,className:"sm:w-5 sm:h-5"})})]}),e.jsx("div",{className:"text-2xl sm:text-3xl font-black text-slate-900",children:i})]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:bh.map(o=>e.jsxs("div",{className:"group relative overflow-hidden bg-white/60 backdrop-blur-md rounded-xl sm:rounded-2xl shadow-lg border border-white/50 hover:shadow-2xl hover:scale-105 hover:-translate-y-2 transition-all duration-300",children:[e.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 sm:w-32 sm:h-32 bg-gradient-to-br from-violet-100 to-purple-100 rounded-full -mr-8 sm:-mr-12 -mt-8 sm:-mt-12 group-hover:from-violet-200 group-hover:to-purple-200 transition-colors duration-300"}),e.jsxs("div",{className:"relative z-10 p-4 sm:p-6 flex flex-col items-center text-center",children:[e.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-br from-violet-500 to-purple-600 rounded-full flex items-center justify-center text-white mb-3 sm:mb-4 border-4 border-white shadow-xl group-hover:scale-110 group-hover:rotate-6 transition-all duration-300",children:e.jsx(rt,{size:32,className:"sm:w-10 sm:h-10"})}),e.jsx("h3",{className:"text-lg sm:text-xl font-black text-slate-900 group-hover:text-violet-600 transition-colors",children:o.trainer}),e.jsxs("div",{className:"inline-flex items-center gap-1.5 px-2.5 sm:px-3 py-1.5 bg-gradient-to-r from-amber-50 to-amber-100 text-amber-700 rounded-full text-[10px] sm:text-xs font-bold mt-2 border border-amber-200 shadow-sm group-hover:scale-110 group-hover:shadow-md transition-all duration-300",children:[e.jsx(cg,{size:10,className:"sm:w-3 sm:h-3"}),o.tier]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4 w-full mt-4 sm:mt-6 pt-4 sm:pt-6 border-t border-slate-100",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-[10px] sm:text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Sessions"}),e.jsx("div",{className:"text-base sm:text-lg font-black text-slate-900 mt-1",children:o.sessions})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-[10px] sm:text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Sales"}),e.jsxs("div",{className:"text-base sm:text-lg font-black text-slate-900 mt-1",children:["",o.totalSales.toLocaleString()]})]})]}),e.jsxs("div",{className:"w-full mt-3 sm:mt-4 bg-gradient-to-r from-emerald-50 to-emerald-100 rounded-lg sm:rounded-xl p-3 sm:p-4 border border-emerald-200 shadow-sm group-hover:shadow-md group-hover:scale-105 transition-all duration-300",children:[e.jsx("div",{className:"text-[10px] sm:text-xs font-bold text-emerald-700 uppercase tracking-widest mb-1",children:"Total Commission"}),e.jsxs("div",{className:"text-xl sm:text-2xl font-black text-emerald-700",children:["",o.commission.toLocaleString()]})]})]})]},o.id))})]})},UN=({isOpen:t,onClose:s,payment:r})=>{if(!t||!r)return null;const i=(x=>{switch(x){case"Card":return Os;case"UPI":return Vl;case"Bank Transfer":return Dr;default:return ca}})(r.method),o=()=>{alert("Preparing receipt for printing..."),window.print()},d=()=>{alert("Downloading digital receipt as PDF... The file will be ready in a moment.")};return e.jsxs("div",{className:"fixed inset-0 z-[10000] flex items-center justify-center bg-slate-900/60 backdrop-blur-md px-4 py-8 overflow-y-auto print:bg-white print:p-0 print:static print:block",children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:`
                @media print {
                    @page { margin: 0; size: auto; }
                    body { background: white !important; }
                    .print-receipt-container { 
                        box-shadow: none !important; 
                        border: 1px solid #e2e8f0 !important;
                        margin: 0 auto !important;
                        position: static !important;
                        transform: none !important;
                        width: 100% !important;
                        max-width: 600px !important;
                        -webkit-print-color-adjust: exact;
                        print-color-adjust: exact;
                    }
                }
            `}}),e.jsxs("div",{className:"relative w-full max-w-lg bg-white rounded-[40px] shadow-2xl overflow-hidden animate-in zoom-in-95 duration-300 flex flex-col my-auto print-receipt-container",children:[e.jsx("button",{onClick:s,className:"absolute top-6 right-6 p-2 rounded-full bg-slate-50 text-slate-400 hover:text-slate-600 hover:bg-slate-100 transition-all z-10 no-print",children:e.jsx(wl,{size:20})}),e.jsxs("div",{className:"p-8 text-center bg-gradient-to-b from-emerald-500/10 to-transparent border-b border-dashed border-slate-100 relative",children:[e.jsx("div",{className:"w-20 h-20 bg-emerald-500 text-white rounded-[28px] flex items-center justify-center mx-auto mb-6 shadow-xl shadow-emerald-200 print:shadow-none",children:e.jsx(as,{size:40})}),e.jsx("h3",{className:"text-2xl font-black text-slate-800 tracking-tight",children:"Payment Confirmed"}),e.jsx("p",{className:"text-[10px] font-black text-emerald-600 uppercase tracking-[0.2em] mt-2 bg-emerald-50 px-3 py-1 rounded-full inline-block",children:"Digital Receipt Generated"})]}),e.jsxs("div",{className:"p-8 space-y-8",children:[e.jsxs("div",{className:"bg-slate-50 rounded-[32px] p-6 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Receipt ID"}),e.jsx("span",{className:"text-sm font-black text-slate-700",children:r.id})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Date"}),e.jsx("span",{className:"text-sm font-black text-slate-700",children:r.date})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Received By"}),e.jsx("span",{className:"text-sm font-black text-slate-700",children:r.receivedBy})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-violet-50 flex items-center justify-center text-violet-500",children:e.jsx(rt,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Member Name"}),e.jsx("p",{className:"text-base font-black text-slate-800",children:r.memberName})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-amber-50 flex items-center justify-center text-amber-500",children:e.jsx(i,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Payment Type & Method"}),e.jsxs("p",{className:"text-sm font-black text-slate-800 capitalize",children:[r.paymentType,"  ",r.method]}),r.referenceNumber&&e.jsxs("p",{className:"text-[10px] font-bold text-slate-400 mt-1 uppercase",children:["Ref: ",r.referenceNumber]})]})]})]}),e.jsxs("div",{className:"pt-8 border-t border-slate-100 flex items-end justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Total Amount Received"}),e.jsxs("h2",{className:"text-4xl font-black text-emerald-600",children:["",parseFloat(r.finalAmount).toLocaleString()]})]}),e.jsxs("div",{className:"px-3 py-1.5 rounded-xl bg-slate-900 text-white text-[10px] font-black uppercase tracking-widest flex items-center gap-2 print:bg-slate-100 print:text-slate-900",children:[e.jsx(as,{size:12,className:"text-emerald-400"}),"Success"]})]})]}),e.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4 no-print",children:[e.jsxs("button",{onClick:o,className:"flex-1 h-14 bg-white border-2 border-slate-200 rounded-2xl text-xs font-black uppercase tracking-widest text-slate-400 hover:text-emerald-500 hover:border-emerald-200 transition-all flex items-center justify-center gap-3 group",children:[e.jsx(C8,{size:18,className:"group-hover:scale-110 transition-transform"}),"Print"]}),e.jsxs("button",{onClick:d,className:"flex-1 h-14 bg-slate-900 border-2 border-slate-900 rounded-2xl text-xs font-black uppercase tracking-widest text-white hover:bg-slate-800 hover:scale-[1.03] active:scale-95 transition-all flex items-center justify-center gap-3",children:[e.jsx(Js,{size:18}),"Download PDF"]})]})]})]})},z2=()=>{const t=Gt(),s={branchId:"B001",role:"STAFF",name:"Alex Staff"},[r,l]=j.useState(null),[i,o]=j.useState(""),[d,x]=j.useState(!1),[u,h]=j.useState({type:"",amount:"",discount:0,method:"Cash",referenceNumber:"",notes:""}),[p,g]=j.useState(!1),[y,f]=j.useState(null),[w,S]=j.useState(!1),v=[{id:"membership",label:"New Membership",icon:Dr,color:"text-violet-500"},{id:"renewal",label:"Renewal",icon:sl,color:"text-amber-500"},{id:"pt",label:"Personal Training",icon:ha,color:"text-rose-500"},{id:"diet",label:"Diet Plan",icon:Bo,color:"text-emerald-500"},{id:"addon",label:"Add-On",icon:St,color:"text-blue-500"},{id:"other",label:"Other",icon:Ok,color:"text-slate-500"}],N=[{id:"Cash",label:"Cash",icon:ca},{id:"Card",label:"Card",icon:Os},{id:"UPI",label:"UPI / QR",icon:Vl},{id:"Bank Transfer",label:"Bank Transfer",icon:Dr}],A=fg.filter(T=>T.branchId===s.branchId&&(T.memberName.toLowerCase().includes(i.toLowerCase())||T.phone.includes(i))),L=()=>{const T=parseFloat(u.amount)||0,_=parseFloat(u.discount)||0;return Math.max(0,T-_)},M=()=>{if(!r||!u.type||!u.amount){alert("Please complete all required fields.");return}if(u.method!=="Cash"&&!u.referenceNumber){alert("Reference number is required for non-cash payments.");return}const T=L(),_={id:`RCPT-${Math.floor(1e5+Math.random()*9e5)}`,memberId:r.id,memberName:r.memberName,paymentType:u.type,amount:u.amount,discount:u.discount,finalAmount:T,method:u.method,referenceNumber:u.referenceNumber,receivedBy:s.name,date:new Date().toLocaleDateString("en-IN"),branchId:s.branchId,status:"completed"};f(_),S(!0),setTimeout(()=>{g(!0),S(!1),l(null),h({type:"",amount:"",discount:0,method:"Cash",referenceNumber:"",notes:""})},1500)};return e.jsxs("div",{className:"min-h-screen bg-slate-50/50 p-4 md:p-8",children:[e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-8",children:[e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx("div",{className:"w-16 h-16 rounded-3xl bg-gradient-to-br from-emerald-500 to-teal-600 flex items-center justify-center text-white shadow-xl shadow-emerald-500/20",children:e.jsx(Wa,{size:32})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-black text-slate-900 tracking-tight leading-none mb-2",children:"Cashier Mode"}),e.jsx("p",{className:"text-slate-500 font-medium italic",children:"Collect offline payments and generate instant receipts."})]})]}),e.jsxs("button",{onClick:()=>t("/finance/transactions"),className:"px-6 py-3 bg-white border-2 border-slate-100 rounded-2xl text-xs font-black uppercase tracking-widest text-slate-400 hover:text-emerald-500 hover:border-emerald-100 hover:bg-emerald-50/30 transition-all shadow-sm flex items-center gap-2 group",children:[e.jsx(sl,{size:16,className:"group-hover:rotate-[-45deg] transition-transform"}),"Branch Transactions"]})]}),w?e.jsxs("div",{className:"bg-white rounded-[40px] shadow-2xl border border-slate-100 p-12 text-center animate-in zoom-in-95 duration-500",children:[e.jsx("div",{className:"w-24 h-24 bg-emerald-50 rounded-full flex items-center justify-center text-emerald-500 mx-auto mb-6 animate-bounce",children:e.jsx(as,{size:48})}),e.jsx("h2",{className:"text-3xl font-black text-slate-800 mb-2",children:"Payment Received!"}),e.jsx("p",{className:"text-slate-500 font-medium max-w-md mx-auto",children:"The transaction has been recorded and the receipt is being generated."})]}):e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[e.jsxs("div",{className:"lg:col-span-8 space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-[32px] shadow-xl border border-slate-100 p-8",children:[e.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-slate-400 mb-6 flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500"}),"Step 1: Select Member"]}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:`flex items-center justify-between px-6 py-4 bg-slate-50 border-2 rounded-2xl cursor-pointer transition-all ${r?"border-emerald-200 bg-emerald-50/30":"border-slate-100 hover:border-slate-200"}`,onClick:()=>x(!d),children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center shadow-sm ${r?"bg-white text-emerald-500":"bg-slate-200 text-slate-400"}`,children:e.jsx(Et,{size:24})}),r?e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-sm font-black text-slate-800",children:r.memberName}),e.jsxs("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:[r.phone,"  ",r.memberId]})]}):e.jsx("span",{className:"text-sm font-black text-slate-300",children:"Search member by name or phone..."})]}),e.jsx(Wl,{size:20,className:`text-slate-300 transition-transform duration-300 ${d?"rotate-180":""}`})]}),d&&e.jsxs("div",{className:"absolute top-full left-0 right-0 mt-3 bg-white rounded-3xl shadow-2xl border border-slate-100 z-50 overflow-hidden animate-in fade-in slide-in-from-top-4 duration-300",children:[e.jsx("div",{className:"p-4 bg-slate-50 border-b border-slate-100",children:e.jsxs("div",{className:"relative",children:[e.jsx(Qe,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-emerald-500"}),e.jsx("input",{type:"text",value:i,onChange:T=>o(T.target.value),placeholder:"Quick search...",className:"w-full pl-12 pr-4 h-12 rounded-xl bg-white border-2 border-slate-200 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/10 font-bold text-sm outline-none transition-all",autoFocus:!0})]})}),e.jsx("div",{className:"max-h-64 overflow-y-auto",children:A.length>0?A.map(T=>e.jsxs("button",{onClick:()=>{l(T),x(!1)},className:"w-full px-6 py-4 flex items-center gap-4 hover:bg-emerald-50 transition-colors border-b border-slate-50 last:border-none text-left",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-slate-100 flex items-center justify-center font-black text-slate-400 text-xs",children:T.memberName.charAt(0)}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-black text-slate-800 leading-none mb-1",children:T.memberName}),e.jsxs("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-tight",children:[T.phone,"  ",T.memberId]})]})]},T.id)):e.jsx("div",{className:"p-8 text-center bg-slate-50/50",children:e.jsx("p",{className:"text-xs font-black text-slate-300 uppercase tracking-widest",children:"No members found"})})})]})]})]}),e.jsxs("div",{className:"bg-white rounded-[32px] shadow-xl border border-slate-100 p-8",children:[e.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-slate-400 mb-8 flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500"}),"Step 2: Payment Details"]}),e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:v.map(T=>e.jsxs("button",{onClick:()=>h({...u,type:T.id}),className:`p-4 rounded-2xl border-2 transition-all flex flex-col items-center justify-center text-center gap-3 group ${u.type===T.id?"border-emerald-500 bg-emerald-50/30":"border-slate-50 bg-slate-50 hover:border-slate-200"}`,children:[e.jsx("div",{className:`p-3 rounded-xl transition-all ${u.type===T.id?"bg-emerald-500 text-white shadow-lg":"bg-white text-slate-400"}`,children:e.jsx(T.icon,{size:20})}),e.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${u.type===T.id?"text-emerald-700":"text-slate-500"}`,children:T.label})]},T.id))}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-1",children:"Bill Amount ()"}),e.jsxs("div",{className:"relative",children:[e.jsx(Dr,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"number",value:u.amount,onChange:T=>h({...u,amount:T.target.value}),className:"w-full pl-11 pr-4 h-14 rounded-2xl border-2 border-slate-100 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/10 font-black text-slate-800 bg-slate-50/50",placeholder:"0.00"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-1",children:"Discount ()"}),e.jsxs("div",{className:"relative",children:[e.jsx(Bo,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"number",value:u.discount,onChange:T=>h({...u,discount:T.target.value}),className:"w-full pl-11 pr-4 h-14 rounded-2xl border-2 border-slate-100 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/10 font-black text-slate-800 bg-slate-50/50",placeholder:"0"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-1",children:"Payment Method"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:N.map(T=>e.jsxs("button",{onClick:()=>h({...u,method:T.id}),className:`px-4 py-3 rounded-xl border-2 transition-all flex items-center gap-3 font-black text-[10px] uppercase tracking-widest ${u.method===T.id?"border-emerald-500 bg-emerald-500 text-white shadow-lg":"border-slate-100 bg-white text-slate-400 hover:border-slate-200"}`,children:[e.jsx(T.icon,{size:16}),T.label]},T.id))})]}),u.method!=="Cash"&&e.jsxs("div",{className:"space-y-3 animate-in slide-in-from-left-4",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-1",children:"Reference / Transaction ID"}),e.jsxs("div",{className:"relative",children:[e.jsx(Vl,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-emerald-500",size:18}),e.jsx("input",{type:"text",value:u.referenceNumber,onChange:T=>h({...u,referenceNumber:T.target.value}),className:"w-full pl-11 pr-4 h-14 rounded-2xl border-2 border-emerald-100 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/10 font-black text-slate-800 bg-emerald-50/10",placeholder:"Enter TXN ID..."})]})]})]})]})]}),e.jsxs("div",{className:"lg:col-span-4 h-fit sticky top-8",children:[e.jsxs("div",{className:"bg-slate-900 rounded-[40px] shadow-2xl p-8 text-white relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 right-0 p-12 opacity-5 translate-x-1/2 -translate-y-1/4 group-hover:scale-125 transition-transform duration-1000",children:e.jsx(Wa,{size:240,strokeWidth:1})}),e.jsxs("div",{className:"relative z-10 space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.3em] opacity-40 mb-2",children:"Final Payable"}),e.jsxs("h2",{className:"text-6xl font-black italic tracking-tighter tabular-nums drop-shadow-2xl",children:["",L().toLocaleString()]})]}),e.jsxs("div",{className:"space-y-4 pt-8 border-t border-white/10",children:[e.jsxs("div",{className:"flex justify-between items-center opacity-60",children:[e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Base Amount"}),e.jsxs("span",{className:"font-bold tabular-nums",children:["",parseFloat(u.amount||0).toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between items-center text-rose-400",children:[e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Instant Discount"}),e.jsxs("span",{className:"font-bold tabular-nums",children:["-",parseFloat(u.discount||0).toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-white/10 text-emerald-400",children:[e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Method"}),e.jsx("span",{className:"font-black uppercase tracking-widest",children:u.method})]})]}),e.jsxs("div",{className:"pt-4",children:[e.jsxs("button",{onClick:M,className:"w-full py-5 bg-gradient-to-r from-emerald-400 to-teal-500 text-white rounded-[24px] font-black uppercase tracking-widest text-sm shadow-xl shadow-emerald-500/30 hover:shadow-emerald-500/50 hover:scale-[1.03] active:scale-95 transition-all flex items-center justify-center gap-3",children:["Receive Payment ",e.jsx(bl,{size:20})]}),e.jsx("p",{className:"text-[9px] font-bold opacity-30 uppercase tracking-[0.2em] text-center mt-6",children:"Secure Branch Level Encryption"})]})]})]}),e.jsxs("div",{className:"mt-6 p-6 rounded-3xl bg-white border border-slate-100 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-100 flex items-center justify-center text-slate-400",children:e.jsx(rt,{size:20})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Current Operator"}),e.jsx("p",{className:"text-xs font-bold text-slate-700",children:s.name})]})]}),e.jsx("div",{className:"px-3 py-1 bg-violet-50 text-violet-600 rounded-lg text-[10px] font-black uppercase tracking-widest",children:s.role})]})]})]})]}),e.jsx(UN,{isOpen:p,onClose:()=>g(!1),payment:y})]})},E2=()=>{const t=Gt(),[s,r]=j.useState(""),[l,i]=j.useState("All"),[o,d]=j.useState(null),[x,u]=j.useState(!1),[h,p]=j.useState(null),g={branchId:"B001"},y=N=>{switch(N){case"Card":return Os;case"UPI":return Vl;case"Bank Transfer":return Dr;default:return ca}},f=N=>N.includes("Membership")?"bg-violet-50 text-violet-600 border-violet-100":N.includes("POS")?"bg-blue-50 text-blue-600 border-blue-100":N.includes("PT")?"bg-rose-50 text-rose-600 border-rose-100":"bg-slate-50 text-slate-600 border-slate-100",w=lw.filter(N=>{const A=N.branchId===g.branchId,L=l==="All"||N.type.includes(l),M=N.member.toLowerCase().includes(s.toLowerCase())||N.id.toLowerCase().includes(s.toLowerCase());return A&&L&&M}),S=()=>{alert("Preparing your branch transactions export... The CSV file will download shortly.")},v=N=>{p({...N,memberName:N.member,paymentType:N.type,finalAmount:N.amount,receivedBy:"Staff Operator"}),u(!0)};return e.jsxs("div",{className:"min-h-screen bg-slate-50/50 p-4 md:p-8",children:[e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6 mb-8",children:[e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>t(-1),className:"flex items-center gap-2 text-slate-400 hover:text-slate-600 transition-colors mb-4 group",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-white shadow-sm flex items-center justify-center group-hover:-translate-x-1 transition-transform",children:e.jsx(kn,{size:16})}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.2em]",children:"Back"})]}),e.jsxs("div",{className:"flex items-center gap-4 md:gap-5",children:[e.jsxs("div",{className:"w-12 h-12 md:w-16 md:h-16 rounded-2xl md:rounded-3xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-xl shadow-violet-500/20 shrink-0",children:[e.jsx(sl,{size:24,className:"md:hidden"}),e.jsx(sl,{size:32,className:"hidden md:block"})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl md:text-4xl font-black text-slate-900 tracking-tight leading-none mb-2",children:"Branch Transactions"}),e.jsx("p",{className:"text-slate-500 font-medium italic text-sm md:text-base",children:"Complete audit trail of all payments received."})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto",children:[e.jsxs("button",{onClick:S,className:"flex-1 md:flex-none px-6 py-3.5 bg-white border-2 border-slate-100 rounded-2xl text-xs font-black uppercase tracking-widest text-slate-500 hover:border-violet-200 hover:text-violet-600 transition-all shadow-sm flex items-center justify-center gap-3",children:[e.jsx(Js,{size:18}),"Export CSV"]}),e.jsxs("button",{onClick:()=>t("/finance/cashier"),className:"flex-1 md:flex-none px-6 py-3.5 bg-slate-900 text-white rounded-2xl text-xs font-black uppercase tracking-widest hover:bg-slate-800 hover:scale-[1.02] active:scale-95 transition-all shadow-xl shadow-slate-200 flex items-center justify-center gap-3",children:[e.jsx(St,{size:18}),"New Payment"]})]})]}),e.jsxs("div",{className:"bg-white rounded-[24px] md:rounded-[32px] shadow-xl border border-slate-100 p-4 md:p-6 mb-8 flex flex-col lg:flex-row gap-4 items-center",children:[e.jsxs("div",{className:"relative flex-1 w-full group",children:[e.jsx(Qe,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 transition-colors",size:18}),e.jsx("input",{type:"text",value:s,onChange:N=>r(N.target.value),className:"w-full pl-11 pr-4 h-12 rounded-2xl border-2 border-slate-100 focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 font-bold text-sm bg-slate-50/50 transition-all outline-none",placeholder:"Search by ID or member name..."})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full lg:w-auto",children:[e.jsxs("select",{value:l,onChange:N=>i(N.target.value),className:"h-12 px-5 rounded-2xl border-2 border-slate-100 bg-white font-bold text-xs uppercase tracking-widest text-slate-500 outline-none focus:border-violet-500 transition-all w-full sm:w-auto",children:[e.jsx("option",{value:"All",children:"All Types"}),e.jsx("option",{value:"Membership",children:"Membership"}),e.jsx("option",{value:"POS",children:"Products"}),e.jsx("option",{value:"Personal Training",children:"PT Sessions"})]}),e.jsxs("div",{className:"h-12 px-6 flex items-center justify-center gap-3 bg-violet-50 border-2 border-violet-100 rounded-2xl text-xs font-black text-violet-600 uppercase tracking-widest w-full sm:w-auto",children:[e.jsx(Je,{size:16}),w.length," Total"]})]})]}),e.jsxs("div",{className:"bg-white rounded-[40px] shadow-2xl border border-slate-100 overflow-hidden",children:[e.jsx("div",{className:"hidden lg:block overflow-x-auto overflow-y-visible",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50/80",children:[e.jsx("th",{className:"px-8 py-6 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Transaction ID"}),e.jsx("th",{className:"px-8 py-6 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Member"}),e.jsx("th",{className:"px-8 py-6 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Category"}),e.jsx("th",{className:"px-8 py-6 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Method"}),e.jsx("th",{className:"px-8 py-6 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Amount"}),e.jsx("th",{className:"px-8 py-6 text-right text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:w.map(N=>{const A=y(N.method);return e.jsxs("tr",{className:"group hover:bg-violet-50/30 transition-colors",children:[e.jsx("td",{className:"px-8 py-5",children:e.jsx("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-slate-100 rounded-lg text-[10px] font-black text-slate-500 uppercase",children:N.id})}),e.jsx("td",{className:"px-8 py-5",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-violet-100 to-purple-100 flex items-center justify-center text-violet-500 font-black text-xs",children:N.member.charAt(0)}),e.jsx("span",{className:"text-sm font-black text-slate-800 tracking-tight transition-colors group-hover:text-violet-600",children:N.member})]})}),e.jsx("td",{className:"px-8 py-5",children:e.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-xl border text-[10px] font-black uppercase tracking-widest ${f(N.type)}`,children:[e.jsx(Bo,{size:12}),N.type]})}),e.jsx("td",{className:"px-8 py-5",children:e.jsxs("div",{className:"flex items-center gap-2 text-slate-500",children:[e.jsx(A,{size:16,className:"text-slate-400"}),e.jsx("span",{className:"text-xs font-bold",children:N.method})]})}),e.jsx("td",{className:"px-8 py-5",children:e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsxs("span",{className:"text-sm font-black text-slate-900 tabular-nums",children:["",N.amount.toLocaleString()]}),e.jsxs("div",{className:"flex items-center gap-1 text-[9px] font-bold text-slate-400 uppercase",children:[e.jsx(Ye,{size:10}),N.date]})]})}),e.jsx("td",{className:"px-8 py-5 text-right",children:e.jsx("button",{onClick:()=>v(N),className:"p-3 rounded-xl bg-white border-2 border-slate-100 text-slate-400 hover:text-violet-600 hover:border-violet-100 hover:shadow-lg hover:shadow-violet-100 transition-all",children:e.jsx(Wa,{size:18})})})]},N.id)})})]})}),e.jsx("div",{className:"lg:hidden divide-y divide-slate-100",children:w.map(N=>{const A=y(N.method);return e.jsxs("div",{className:"p-4 md:p-6 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-violet-100 flex items-center justify-center text-violet-500 font-black",children:N.member.charAt(0)}),e.jsxs("div",{className:"overflow-hidden",children:[e.jsx("p",{className:"text-sm font-black text-slate-800 tracking-tight truncate max-w-[120px]",children:N.member}),e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:N.id})]})]}),e.jsxs("div",{className:"text-right shrink-0",children:[e.jsxs("p",{className:"text-lg font-black text-slate-900 leading-none",children:["",N.amount.toLocaleString()]}),e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase mt-1",children:N.date})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:`px-3 py-1 rounded-lg border text-[10px] font-black uppercase tracking-widest ${f(N.type)}`,children:N.type}),e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 rounded-lg bg-slate-50 border border-slate-100 text-[10px] font-black text-slate-500 uppercase tracking-widest",children:[e.jsx(A,{size:12}),N.method]})]}),e.jsxs("button",{onClick:()=>v(N),className:"w-full h-12 bg-white border-2 border-slate-100 rounded-xl text-[10px] font-black uppercase tracking-widest text-slate-400 flex items-center justify-center gap-2 active:bg-slate-50 hover:bg-slate-50 transition-colors",children:[e.jsx(Wa,{size:16}),"View Digital Receipt"]})]},N.id)})})]})]}),e.jsx(UN,{isOpen:x,onClose:()=>u(!1),payment:h})]})},o_=()=>{const t=Gt(),s={id:"S-001",role:"STAFF",branchId:"B001"},r=s.role==="MANAGER",[l,i]=j.useState(""),[o,d]=j.useState("All"),[x,u]=j.useState(!1),[h,p]=j.useState({title:"",category:"",amount:"",paymentMethod:"Cash",vendor:"",invoiceNumber:"",notes:"",date:new Date().toISOString().split("T")[0]}),g=["Cleaning","Maintenance","Utilities","Supplies","Miscellaneous"],y=["Cash","Card","Bank Transfer"],f=wA.filter(S=>{const v=S.branchId===s.branchId,N=S.createdBy===s.id,A=o==="All"||S.category===o,L=S.title.toLowerCase().includes(l.toLowerCase())||S.vendor?.toLowerCase().includes(l.toLowerCase());return v&&N&&A&&L}),w=S=>{S.preventDefault(),alert("Expense logged successfully (Simulated)"),u(!1),p({title:"",category:"",amount:"",paymentMethod:"Cash",vendor:"",invoiceNumber:"",notes:"",date:new Date().toISOString().split("T")[0]})};return e.jsx("div",{className:"min-h-screen bg-slate-50/50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6 mb-8",children:[e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>t(-1),className:"flex items-center gap-2 text-slate-400 hover:text-slate-600 transition-colors mb-4 group",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-white shadow-sm flex items-center justify-center group-hover:-translate-x-1 transition-transform",children:e.jsx(kn,{size:16})}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.2em]",children:"Back"})]}),e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx("div",{className:"w-16 h-16 rounded-3xl bg-gradient-to-br from-orange-500 to-rose-600 flex items-center justify-center text-white shadow-xl shadow-orange-500/20",children:e.jsx(ca,{size:32})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-black text-slate-900 tracking-tight leading-none mb-2",children:"Log Expense"}),e.jsxs("p",{className:"text-slate-500 font-medium italic",children:["Track operational spending and petty cash logs for ",s.branchId,"."]})]})]})]}),e.jsx("button",{onClick:()=>u(!x),className:`px-6 py-3.5 rounded-2xl text-xs font-black uppercase tracking-widest transition-all shadow-xl flex items-center gap-3 ${x?"bg-white border-2 border-slate-100 text-slate-500 hover:border-slate-200":"bg-slate-900 text-white hover:bg-slate-800 hover:scale-[1.02] active:scale-95 shadow-slate-200"}`,children:x?"Cancel Entry":e.jsxs(e.Fragment,{children:[e.jsx(St,{size:18})," New Expense"]})})]}),r,x&&e.jsx("div",{className:"bg-white rounded-[40px] shadow-2xl border border-slate-100 p-8 mb-8 animate-in slide-in-from-top-4 duration-300",children:e.jsxs("form",{onSubmit:w,className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Expense Title*"}),e.jsx("input",{required:!0,type:"text",placeholder:"e.g. Drinking Water",value:h.title,onChange:S=>p({...h,title:S.target.value}),className:"w-full h-14 pl-6 pr-4 rounded-2xl border-2 border-slate-100 focus:border-orange-500 focus:ring-4 focus:ring-orange-500/10 font-bold text-sm outline-none transition-all bg-slate-50/50"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Category*"}),e.jsxs("select",{required:!0,value:h.category,onChange:S=>p({...h,category:S.target.value}),className:"w-full h-14 px-6 rounded-2xl border-2 border-slate-100 focus:border-orange-500 font-bold text-sm outline-none bg-slate-50/50",children:[e.jsx("option",{value:"",children:"Select Category"}),g.map(S=>e.jsx("option",{value:S,children:S},S))]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Amount ()*"}),e.jsxs("div",{className:"relative",children:[e.jsx(yn,{size:18,className:"absolute left-6 top-1/2 -translate-y-1/2 text-slate-400"}),e.jsx("input",{required:!0,type:"number",placeholder:"0.00",value:h.amount,onChange:S=>p({...h,amount:S.target.value}),className:"w-full h-14 pl-14 pr-4 rounded-2xl border-2 border-slate-100 focus:border-orange-500 focus:ring-4 focus:ring-orange-500/10 font-black text-slate-800 outline-none transition-all bg-slate-50/50"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Payment Method"}),e.jsx("select",{value:h.paymentMethod,onChange:S=>p({...h,paymentMethod:S.target.value}),className:"w-full h-14 px-6 rounded-2xl border-2 border-slate-100 focus:border-orange-500 font-bold text-sm outline-none bg-slate-50/50",children:y.map(S=>e.jsx("option",{value:S,children:S},S))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Vendor Name"}),e.jsx("input",{type:"text",placeholder:"Optional",value:h.vendor,onChange:S=>p({...h,vendor:S.target.value}),className:"w-full h-14 px-6 rounded-2xl border-2 border-slate-100 focus:border-orange-500 font-bold text-sm outline-none bg-slate-50/50"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Invoice Number"}),e.jsx("input",{type:"text",placeholder:"Optional",value:h.invoiceNumber,onChange:S=>p({...h,invoiceNumber:S.target.value}),className:"w-full h-14 px-6 rounded-2xl border-2 border-slate-100 focus:border-orange-500 font-bold text-sm outline-none bg-slate-50/50"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Expense Date"}),e.jsx("input",{type:"date",value:h.date,onChange:S=>p({...h,date:S.target.value}),className:"w-full h-14 px-6 rounded-2xl border-2 border-slate-100 focus:border-orange-500 font-bold text-sm outline-none bg-slate-50/50"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Internal Notes"}),e.jsx("textarea",{rows:"2",value:h.notes,onChange:S=>p({...h,notes:S.target.value}),className:"w-full p-6 rounded-2xl border-2 border-slate-100 focus:border-orange-500 font-bold text-sm outline-none bg-slate-50/50",placeholder:"Add any specific details about this purchase..."})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsx("button",{type:"submit",className:"px-10 py-5 bg-gradient-to-r from-orange-500 to-rose-600 text-white rounded-2xl font-black uppercase tracking-widest text-sm shadow-xl shadow-orange-500/20 hover:scale-[1.02] active:scale-95 transition-all",children:"Save Daily Expense"})})]})}),e.jsxs("div",{className:"bg-white rounded-[40px] shadow-xl border border-slate-100 overflow-hidden",children:[e.jsxs("div",{className:"p-8 border-b border-slate-100 flex flex-col md:flex-row md:items-center justify-between gap-6",children:[e.jsxs("div",{className:"relative flex-1 group",children:[e.jsx(Qe,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-orange-500 transition-colors",size:20}),e.jsx("input",{type:"text",value:l,onChange:S=>i(S.target.value),placeholder:"Search by title or vendor...",className:"w-full h-14 pl-14 pr-6 rounded-2xl border-2 border-slate-100 focus:border-orange-500 focus:ring-4 focus:ring-orange-500/10 font-bold text-sm outline-none transition-all bg-slate-50/30"})]}),e.jsx("div",{className:"flex gap-4",children:e.jsxs("select",{value:o,onChange:S=>d(S.target.value),className:"h-14 px-6 rounded-2xl border-2 border-slate-100 font-black text-[10px] uppercase tracking-widest text-slate-500 outline-none focus:border-orange-500 transition-all",children:[e.jsx("option",{value:"All",children:"All Categories"}),g.map(S=>e.jsx("option",{value:S,children:S},S))]})})]}),e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"w-full hidden md:table",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50/80 border-b border-slate-100",children:[e.jsx("th",{className:"px-8 py-6 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Date & ID"}),e.jsx("th",{className:"px-8 py-6 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Expense Item"}),e.jsx("th",{className:"px-8 py-6 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Category"}),e.jsx("th",{className:"px-8 py-6 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Method"}),e.jsx("th",{className:"px-8 py-6 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Logged By"}),e.jsx("th",{className:"px-8 py-6 text-right text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Amount"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:f.map(S=>e.jsxs("tr",{className:"group hover:bg-orange-50/20 transition-colors",children:[e.jsx("td",{className:"px-8 py-6",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xs font-black text-slate-800 tabular-nums",children:S.date}),e.jsx("span",{className:"text-[9px] font-bold text-slate-400 uppercase",children:S.id})]})}),e.jsx("td",{className:"px-8 py-6",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-black text-slate-900 group-hover:text-orange-600 transition-colors",children:S.title}),e.jsx("span",{className:"text-[10px] font-medium text-slate-400 italic",children:S.vendor||"Local Vendor"})]})}),e.jsx("td",{className:"px-8 py-6",children:e.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-slate-100 rounded-lg text-[9px] font-black text-slate-500 uppercase tracking-widest border border-slate-200",children:[e.jsx(Bo,{size:10}),S.category]})}),e.jsx("td",{className:"px-8 py-6",children:e.jsxs("div",{className:"flex items-center gap-2 text-slate-500",children:[S.paymentMethod==="Cash"?e.jsx(ca,{size:16}):e.jsx(Os,{size:16}),e.jsx("span",{className:"text-[10px] font-bold uppercase",children:S.paymentMethod})]})}),e.jsx("td",{className:"px-8 py-6",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-orange-100 flex items-center justify-center text-orange-600",children:e.jsx(rt,{size:14})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[10px] font-black text-slate-700 leading-none mb-0.5",children:S.createdBy}),e.jsx("span",{className:"text-[9px] font-bold text-slate-400 uppercase",children:S.role})]})]})}),e.jsx("td",{className:"px-8 py-6 text-right",children:e.jsxs("span",{className:"text-base font-black text-slate-900 tabular-nums",children:["",S.amount]})})]},S.id))})]}),e.jsx("div",{className:"md:hidden divide-y divide-slate-100",children:f.map(S=>e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase block mb-1",children:S.date}),e.jsx("h4",{className:"text-base font-black text-slate-900 leading-tight",children:S.title}),e.jsx("p",{className:"text-xs font-medium text-slate-400",children:S.vendor||"Local Vendor"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("span",{className:"text-xl font-black text-slate-900 tabular-nums block leading-none",children:["",S.amount]}),e.jsx("span",{className:`text-[9px] font-black uppercase tracking-widest px-2 py-0.5 rounded-lg border mt-2 inline-block ${S.paymentMethod==="Cash"?"bg-orange-50 border-orange-100 text-orange-600":"bg-blue-50 border-blue-100 text-blue-600"}`,children:S.paymentMethod})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-slate-50",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-7 h-7 rounded-lg bg-slate-100 flex items-center justify-center text-slate-400",children:e.jsx(rt,{size:14})}),e.jsx("span",{className:"text-[10px] font-black text-slate-500 uppercase",children:S.createdBy})]}),e.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase bg-slate-100 px-2 py-1 rounded-lg",children:S.category})]})]},S.id))})]})]})]})})},Gx=({status:t,color:s="emerald",icon:r})=>{const l={emerald:"from-emerald-500 to-emerald-600 shadow-emerald-500/50",amber:"from-amber-500 to-amber-600 shadow-amber-500/50",red:"from-red-500 to-red-600 shadow-red-500/50",blue:"from-blue-500 to-blue-600 shadow-blue-500/50",orange:"from-orange-500 to-orange-600 shadow-orange-500/50",slate:"from-slate-500 to-slate-600 shadow-slate-500/50",violet:"from-violet-500 to-violet-600 shadow-violet-500/50",indigo:"from-indigo-500 to-indigo-600 shadow-indigo-500/50"},i=l[s]||l.emerald;return e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-gradient-to-r ${i} text-white text-[10px] font-black uppercase tracking-wider shadow-lg hover:scale-110 transition-all duration-300 cursor-default`,children:[r&&e.jsx(r,{size:12,strokeWidth:3}),t]})},c_=({equipment:t,onClose:s,onSubmit:r})=>{const[l,i]=j.useState({equipmentId:t?.id||"",issueType:"",severity:"Medium",description:""}),o=d=>{d.preventDefault(),r(l)};return e.jsxs("div",{className:"flex flex-col gap-6 p-6 pt-4",children:[e.jsxs("div",{className:"p-4 bg-red-50 rounded-xl border border-red-100 flex items-start gap-3",children:[e.jsx(ps,{className:"text-red-500 mt-1",size:20}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-bold text-red-900",children:"Reporting Issue for"}),e.jsx("p",{className:"text-xs text-red-700 font-medium",children:t?t.name:"Select Equipment"})]})]}),e.jsxs("form",{onSubmit:o,className:"space-y-5",children:[!t&&e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-wider",children:"Select Equipment"}),e.jsx("select",{className:"w-full px-4 py-3 rounded-xl border-2 border-slate-100 focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 outline-none transition-all font-bold text-slate-700",value:l.equipmentId,onChange:d=>i({...l,equipmentId:d.target.value}),required:!0,children:e.jsx("option",{value:"",children:"Choose a machine..."})})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-wider",children:"Issue Type"}),e.jsxs("select",{className:"w-full px-4 py-3 rounded-xl border-2 border-slate-100 focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 outline-none transition-all font-bold text-slate-700",value:l.issueType,onChange:d=>i({...l,issueType:d.target.value}),required:!0,children:[e.jsx("option",{value:"",children:"Select issue type..."}),AA.map(d=>e.jsx("option",{value:d,children:d},d))]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-wider",children:"Severity Level"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:nw.map(d=>e.jsxs("label",{className:`
                                    relative flex items-center justify-center p-3 rounded-xl border-2 cursor-pointer transition-all gap-2
                                    ${l.severity===d.value?`border-${d.color}-500 bg-${d.color}-50 text-${d.color}-700`:"border-slate-100 hover:border-slate-200 text-slate-500"}
                                `,children:[e.jsx("input",{type:"radio",name:"severity",value:d.value,className:"hidden",onChange:()=>i({...l,severity:d.value})}),e.jsx("span",{className:`w-2 h-2 rounded-full bg-${d.color}-500`}),e.jsx("span",{className:"text-xs font-black uppercase tracking-tight",children:d.label}),l.severity===d.value&&e.jsx("div",{className:"absolute -top-1 -right-1",children:e.jsx("div",{className:`w-4 h-4 rounded-full bg-${d.color}-500 flex items-center justify-center text-white`,children:e.jsx(wl,{size:10,strokeWidth:4})})})]},d.value))})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-wider",children:"Description"}),e.jsx("textarea",{className:"w-full px-4 py-3 rounded-xl border-2 border-slate-100 focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 outline-none transition-all font-bold text-slate-700 min-h-[100px] resize-none",placeholder:"Explain what's wrong with the machine...",value:l.description,onChange:d=>i({...l,description:d.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-wider",children:"Photo (Optional)"}),e.jsx("div",{className:"flex items-center justify-center w-full",children:e.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-slate-200 border-dashed rounded-xl cursor-pointer bg-slate-50 hover:bg-slate-100 transition-all",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[e.jsx(Uo,{className:"w-8 h-8 mb-3 text-slate-400"}),e.jsx("p",{className:"mb-2 text-xs text-slate-500 font-bold uppercase tracking-wider",children:"Click to upload photo"}),e.jsx("p",{className:"text-[10px] text-slate-400 font-medium",children:"JPEG, PNG up to 5MB"})]}),e.jsx("input",{type:"file",className:"hidden"})]})})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:s,className:"flex-1 px-6 py-3.5 rounded-xl border-2 border-slate-100 text-slate-600 font-black uppercase tracking-wider text-xs hover:bg-slate-50 transition-all",children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex-1 px-6 py-3.5 rounded-xl bg-gradient-to-r from-red-500 to-red-600 text-white font-black uppercase tracking-wider text-xs shadow-lg shadow-red-200 hover:scale-105 active:scale-95 transition-all",children:"Submit Report"})]})]})]})},d_=({onClose:t,onAdd:s})=>{const[r,l]=j.useState({name:"",category:"Cardio",brand:"",model:"",serialNumber:"",location:"",purchaseDate:"",warrantyExpiry:"",status:"Operational",notes:""}),i=x=>{x.preventDefault(),s(r)},o="w-full px-4 py-2.5 rounded-xl border-2 border-slate-100 focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 outline-none transition-all font-bold text-slate-700 text-sm",d="text-[10px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-1.5 mb-1";return e.jsxs("form",{onSubmit:i,className:"flex flex-col gap-6 p-6 pt-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"col-span-2",children:[e.jsxs("label",{className:d,children:[e.jsx(Bo,{size:12})," Equipment Name"]}),e.jsx("input",{className:o,placeholder:"e.g. Matrix Treadmill T7xe",value:r.name,onChange:x=>l({...r,name:x.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:d,children:[e.jsx(ll,{size:12})," Category"]}),e.jsx("select",{className:o,value:r.category,onChange:x=>l({...r,category:x.target.value}),children:yA.map(x=>e.jsx("option",{value:x,children:x},x))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:d,children:[e.jsx(Fh,{size:12})," Serial Number"]}),e.jsx("input",{className:o,placeholder:"SN-XXXXXX",value:r.serialNumber,onChange:x=>l({...r,serialNumber:x.target.value})})]}),e.jsxs("div",{children:[e.jsxs("label",{className:d,children:[e.jsx(Bo,{size:12})," Brand"]}),e.jsx("input",{className:o,placeholder:"e.g. Matrix",value:r.brand,onChange:x=>l({...r,brand:x.target.value})})]}),e.jsxs("div",{children:[e.jsxs("label",{className:d,children:[e.jsx(Bo,{size:12})," Model"]}),e.jsx("input",{className:o,placeholder:"e.g. T7xe",value:r.model,onChange:x=>l({...r,model:x.target.value})})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsxs("label",{className:d,children:[e.jsx($s,{size:12})," Location (Floor Area)"]}),e.jsx("input",{className:o,placeholder:"e.g. Cardio Zone - Floor 1",value:r.location,onChange:x=>l({...r,location:x.target.value})})]}),e.jsxs("div",{children:[e.jsxs("label",{className:d,children:[e.jsx(Ye,{size:12})," Purchase Date"]}),e.jsx("input",{type:"date",className:o,value:r.purchaseDate,onChange:x=>l({...r,purchaseDate:x.target.value})})]}),e.jsxs("div",{children:[e.jsxs("label",{className:d,children:[e.jsx(Ye,{size:12})," Warranty Expiry"]}),e.jsx("input",{type:"date",className:o,value:r.warrantyExpiry,onChange:x=>l({...r,warrantyExpiry:x.target.value})})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsxs("label",{className:d,children:[e.jsx(ps,{size:12,className:"hidden"})," Status"]}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:Sh.map(x=>e.jsxs("label",{className:`
                                    flex items-center justify-center p-2.5 rounded-xl border-2 cursor-pointer transition-all gap-2
                                    ${r.status===x.value?`border-${x.color}-500 bg-${x.color}-50 text-${x.color}-700`:"border-slate-100 text-slate-500"}
                                `,children:[e.jsx("input",{type:"radio",name:"status",value:x.value,className:"hidden",onChange:()=>l({...r,status:x.value})}),e.jsx("span",{className:`w-2 h-2 rounded-full bg-${x.color}-500`}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-tight",children:x.label})]},x.value))})]})]}),e.jsxs("div",{className:"flex gap-3 pt-6",children:[e.jsx("button",{type:"button",onClick:t,className:"flex-1 px-6 py-3.5 rounded-xl border-2 border-slate-100 text-slate-600 font-black uppercase tracking-wider text-xs hover:bg-slate-50 transition-all",children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex-1 px-6 py-3.5 rounded-xl bg-gradient-to-r from-violet-600 to-indigo-600 text-white font-black uppercase tracking-wider text-xs shadow-lg shadow-violet-200 hover:scale-105 active:scale-95 transition-all",children:"Add Equipment"})]})]})},x_=()=>{const[t,s]=j.useState([]),[r,l]=j.useState(!0),[i,o]=j.useState(""),[d,x]=j.useState("All"),[u,h]=j.useState(!1),[p,g]=j.useState(!1),[y,f]=j.useState(null);j.useEffect(()=>{w()},[i,d]);const w=async()=>{try{l(!0);const L={};i&&(L.search=i),d!=="All"&&(L.category=d);const M=await Ai.getAllEquipment(L);s(M)}catch(L){console.error("Failed to fetch equipment:",L),lt.error("Failed to load equipment inventory")}finally{l(!1)}},S=async(L,M)=>{try{await Ai.updateEquipment(L,{status:M}),lt.success("Status updated"),w()}catch{lt.error("Failed to update status")}},v=async L=>{try{await Ai.addEquipment(L),lt.success("Equipment added successfully"),h(!1),w()}catch{lt.error("Failed to add equipment")}},N=async L=>{try{await Ai.reportIssue(L),lt.success("Issue reported successfully"),g(!1),w()}catch{lt.error("Failed to submit report")}},A=L=>Sh.find(M=>M.label===L)||Sh[0];return e.jsxs("div",{className:"min-h-screen bg-[#F8FAFC] pb-20",children:[e.jsx("div",{className:"bg-white border-b border-slate-200 sticky top-0 z-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-violet-600 to-indigo-600 flex items-center justify-center text-white shadow-lg shadow-violet-200",children:e.jsx(ll,{size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-black text-slate-800 tracking-tight",children:"Equipment Inventory"}),e.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Manage and track your gym facility assets"})]})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-2 bg-slate-900 text-white px-5 py-3 rounded-xl font-bold text-sm shadow-xl shadow-slate-200 hover:scale-105 active:scale-95 transition-all",children:[e.jsx(St,{size:18,strokeWidth:3}),"Add Equipment"]})})]}),e.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Qe,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"text",placeholder:"Search by name or serial number...",className:"w-full pl-11 pr-4 py-3 rounded-xl border-2 border-slate-50 bg-slate-50 focus:bg-white focus:border-violet-500 focus:ring-4 focus:ring-violet-500/5 outline-none transition-all font-medium text-slate-600",value:i,onChange:L=>o(L.target.value)})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("select",{className:"px-4 py-3 rounded-xl border-2 border-slate-50 bg-slate-50 font-bold text-sm text-slate-600 focus:border-violet-500 outline-none transition-all",value:d,onChange:L=>x(L.target.value),children:[e.jsx("option",{value:"All",children:"All Categories"}),e.jsx("option",{value:"Cardio",children:"Cardio"}),e.jsx("option",{value:"Strength",children:"Strength"}),e.jsx("option",{value:"Free Weights",children:"Free Weights"})]})})]})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-8",children:r?e.jsx("div",{className:"flex items-center justify-center p-20",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-violet-600"})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"hidden lg:block bg-white rounded-3xl shadow-sm border border-slate-200 overflow-hidden",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50/50 border-b border-slate-100",children:[e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Equipment / Brand"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Category & Location"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Warranty"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:t.map(L=>e.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-100 flex items-center justify-center text-slate-500 group-hover:scale-110 group-hover:bg-violet-100 group-hover:text-violet-600 transition-all",children:e.jsx(ll,{size:20})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-slate-800 text-sm",children:L.name}),e.jsx("p",{className:"text-[10px] text-slate-400 font-bold tracking-wider",children:L.serialNumber||"NO SERIAL"})]})]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-xs font-bold text-slate-600 bg-slate-100 px-2 py-0.5 rounded-md w-fit",children:L.category}),e.jsxs("span",{className:"text-[10px] font-medium text-slate-400 flex items-center gap-1",children:[e.jsx($s,{size:10})," ",L.location]})]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("p",{className:"text-xs font-bold text-slate-700",children:L.warrantyExpiry?new Date(L.warrantyExpiry).toLocaleDateString():"N/A"}),e.jsx("p",{className:"text-[10px] text-slate-400 font-medium",children:"Warranty Info"})]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsx(Gx,{status:L.status,color:A(L.status).color})}),e.jsx("td",{className:"px-6 py-5 text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("select",{className:"text-[10px] font-black uppercase tracking-tight bg-slate-50 border-none rounded-lg px-2 py-1 outline-none cursor-pointer hover:bg-slate-100 transition-colors",value:L.status,onChange:M=>S(L.id,M.target.value),children:Sh.map(M=>e.jsx("option",{value:M.value,children:M.label},M.value))}),e.jsx("button",{onClick:()=>{f(L),g(!0)},className:"p-2 text-red-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",title:"Report Issue",children:e.jsx(Lr,{size:18})})]})})]},L.id))})]})}),e.jsx("div",{className:"lg:hidden space-y-4",children:t.map(L=>e.jsxs("div",{className:"bg-white rounded-3xl p-5 shadow-sm border border-slate-100 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-violet-50 text-violet-600 flex items-center justify-center",children:e.jsx(ll,{size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-slate-800",children:L.name}),e.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:L.serialNumber||"NO SERIAL"})]})]}),e.jsx(Gx,{status:L.status,color:A(L.status).color})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 py-4 border-y border-slate-50",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Location"}),e.jsxs("p",{className:"text-xs font-bold text-slate-600 mt-1 flex items-center gap-1",children:[e.jsx($s,{size:12,className:"text-slate-300"})," ",L.location]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Warranty"}),e.jsxs("p",{className:"text-xs font-bold text-slate-600 mt-1 flex items-center gap-1",children:[e.jsx(Ye,{size:12,className:"text-slate-300"})," ",L.warrantyExpiry?new Date(L.warrantyExpiry).toLocaleDateString():"N/A"]})]})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsxs("button",{onClick:()=>{f(L),g(!0)},className:"flex-1 bg-red-50 text-red-600 py-3 rounded-xl font-black text-[10px] uppercase tracking-wider flex items-center justify-center gap-2",children:[e.jsx(Lr,{size:14})," Report Issue"]}),e.jsx("button",{className:"w-12 h-12 bg-slate-50 text-slate-400 rounded-xl flex items-center justify-center",children:e.jsx(bl,{size:20})})]})]},L.id))})]})}),e.jsx(at,{isOpen:u,onClose:()=>h(!1),title:"Add New Equipment",children:e.jsx(d_,{onClose:()=>h(!1),onAdd:v})}),e.jsx(at,{isOpen:p,onClose:()=>g(!1),title:"Report Machine Issue",children:e.jsx(c_,{equipment:y,onClose:()=>g(!1),onSubmit:N})})]})},u_=()=>{const[t,s]=j.useState([]),[r,l]=j.useState(!0),[i,o]=j.useState("All"),[d,x]=j.useState(""),[u,h]=j.useState(null),[p,g]=j.useState(!1),y=["All","Open","In Progress","Completed","Critical"];j.useEffect(()=>{f()},[i]);const f=async()=>{try{l(!0);const N={};i!=="All"&&(i==="Critical"?N.priority="Critical":N.status=i);const A=await Ai.getMaintenanceRequests(N);s(A)}catch(N){console.error("Failed to fetch maintenance requests:",N),lt.error("Failed to load maintenance tickets")}finally{l(!1)}},w=async(N,A)=>{try{await Ai.updateMaintenanceStatus(N,A),lt.success("Ticket status updated"),f()}catch{lt.error("Failed to update ticket status")}},S=N=>nw.find(A=>A.value===N)?.color||"slate",v=N=>lh.find(A=>A.label===N)||lh[0];return e.jsxs("div",{className:"min-h-screen bg-[#F8FAFC] pb-20",children:[e.jsx("div",{className:"bg-white border-b border-slate-200 sticky top-0 z-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-amber-500 to-orange-600 flex items-center justify-center text-white shadow-lg shadow-orange-200 shrink-0",children:e.jsx(Gl,{size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-black text-slate-800 tracking-tight",children:"Maintenance Requests"}),e.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Track and resolve equipment service tickets"})]})]})}),e.jsx("div",{className:"flex bg-slate-100 p-1 rounded-xl overflow-x-auto no-scrollbar",children:y.map(N=>e.jsx("button",{onClick:()=>o(N),className:`
                                        px-4 py-2 rounded-lg text-xs font-black uppercase tracking-wider transition-all whitespace-nowrap
                                        ${i===N?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-700"}
                                    `,children:N},N))})]}),e.jsxs("div",{className:"mt-8 relative",children:[e.jsx(Qe,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"text",placeholder:"Find by machine or ticket ID...",className:"w-full pl-11 pr-4 py-3 rounded-xl border-2 border-slate-50 bg-slate-50 focus:bg-white focus:border-amber-500 focus:ring-4 focus:ring-amber-500/5 outline-none transition-all font-medium text-slate-600",value:d,onChange:N=>x(N.target.value)})]})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-8",children:r?e.jsx("div",{className:"flex items-center justify-center p-20",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-amber-600"})}):e.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-slate-200 overflow-hidden",children:[e.jsx("div",{className:"grid grid-cols-1 gap-4 md:hidden p-4",children:t.map(N=>e.jsxs("div",{className:`bg-white p-4 rounded-xl border border-slate-100 shadow-sm relative overflow-hidden ${N.priority==="Critical"?"border-l-4 border-l-red-500":""}`,onClick:()=>{h(N),g(!0)},children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${N.priority==="Critical"?"bg-red-100 text-red-600":"bg-amber-100 text-amber-600"}`,children:e.jsx(Lr,{size:18})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-slate-800 text-sm",children:N.equipment?.name}),e.jsxs("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-wider",children:["#T-",N.id]})]})]}),e.jsx(Gx,{status:N.status,color:v(N.status).color})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-y-2 text-xs mb-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-400 font-bold uppercase text-[10px] tracking-wider",children:"Priority"}),e.jsxs("span",{className:`inline-flex items-center gap-1.5 mt-1 px-2 py-0.5 rounded-md bg-${S(N.priority)}-50 text-${S(N.priority)}-700 font-bold border border-${S(N.priority)}-100`,children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full bg-${S(N.priority)}-500`}),N.priority]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-400 font-bold uppercase text-[10px] tracking-wider",children:"Date"}),e.jsx("p",{className:"font-bold text-slate-700 mt-1",children:new Date(N.createdAt).toLocaleDateString()})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-slate-50",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-slate-100 flex items-center justify-center text-[10px] font-bold text-slate-500",children:"S"}),e.jsx("span",{className:"text-xs font-medium text-slate-500",children:"System"})]}),e.jsx("div",{onClick:A=>A.stopPropagation(),children:e.jsx("select",{className:"text-[10px] font-black uppercase tracking-tight bg-slate-50 border-none rounded-lg px-3 py-1.5 outline-none cursor-pointer hover:bg-slate-100 transition-colors",value:N.status,onChange:A=>w(N.id,A.target.value),children:lh.map(A=>e.jsx("option",{value:A.value,children:A.label},A.value))})})]})]},N.id))}),e.jsx("div",{className:"hidden md:block overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50/50 border-b border-slate-100",children:[e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Ticket ID"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Equipment"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Priority"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Date Reported"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:t.map(N=>e.jsxs("tr",{className:`hover:bg-slate-50/50 transition-colors group cursor-pointer ${N.priority==="Critical"?"bg-red-50/30":""}`,onClick:()=>{h(N),g(!0)},children:[e.jsx("td",{className:"px-6 py-5",children:e.jsxs("span",{className:"text-xs font-black text-slate-900 group-hover:text-amber-600 transition-colors uppercase",children:["#T-",N.id]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${N.priority==="Critical"?"bg-red-100 text-red-600":"bg-amber-100 text-amber-600"}`,children:e.jsx(Lr,{size:16})}),e.jsx("span",{className:"font-bold text-slate-800 text-sm",children:N.equipment?.name})]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-lg bg-${S(N.priority)}-50 text-${S(N.priority)}-700 text-[10px] font-black uppercase tracking-wider border border-${S(N.priority)}-100`,children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full bg-${S(N.priority)}-500`}),N.priority]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("p",{className:"text-xs font-bold text-slate-700",children:"Staff"}),e.jsx("p",{className:"text-[10px] text-slate-400 font-medium",children:new Date(N.createdAt).toLocaleDateString()})]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsx(Gx,{status:N.status,color:v(N.status).color})}),e.jsx("td",{className:"px-6 py-5 text-right",onClick:A=>A.stopPropagation(),children:e.jsx("select",{className:"text-[10px] font-black uppercase tracking-tight bg-slate-50 border-none rounded-lg px-3 py-1.5 outline-none cursor-pointer hover:bg-slate-100 transition-colors",value:N.status,onChange:A=>w(N.id,A.target.value),children:lh.map(A=>e.jsx("option",{value:A.value,children:A.label},A.value))})})]},N.id))})]})}),t.length===0&&e.jsxs("div",{className:"p-20 flex flex-col items-center justify-center text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-3xl bg-slate-50 flex items-center justify-center text-slate-300 mb-4",children:e.jsx(as,{size:32})}),e.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"No requests found"}),e.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Great job! All machines seem to be in good shape."})]})]})}),e.jsx(at,{isOpen:p,onClose:()=>g(!1),title:`Ticket #T-${u?.id}`,children:u&&e.jsxs("div",{className:"space-y-8",children:[e.jsx("section",{className:"space-y-4",children:e.jsxs("div",{className:"p-5 rounded-2xl bg-slate-50 border border-slate-100 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-black text-slate-400 uppercase tracking-widest",children:"Issue Reported"}),e.jsx("p",{className:"text-lg font-black text-slate-800 mt-1",children:u.issue})]}),e.jsx(Gx,{status:u.status,color:v(u.status).color})]}),e.jsx("p",{className:"text-sm text-slate-600 font-medium leading-relaxed",children:u.issue})]})}),e.jsxs("section",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 rounded-xl border-2 border-slate-50",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Equipment"}),e.jsx("p",{className:"text-sm font-bold text-slate-800 mt-1",children:u.equipment?.name})]}),e.jsxs("div",{className:"p-4 rounded-xl border-2 border-slate-50",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Priority"}),e.jsx("p",{className:`text-sm font-bold text-${S(u.priority)}-500 mt-1`,children:u.priority})]}),e.jsxs("div",{className:"p-4 rounded-xl border-2 border-slate-50",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Reported By"}),e.jsx("p",{className:"text-sm font-bold text-slate-800 mt-1",children:"Staff"})]}),e.jsxs("div",{className:"p-4 rounded-xl border-2 border-slate-50",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Date Reported"}),e.jsx("p",{className:"text-sm font-bold text-slate-800 mt-1",children:new Date(u.createdAt).toLocaleDateString()})]})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsxs("h4",{className:"text-xs font-black text-slate-900 uppercase tracking-widest flex items-center gap-2",children:[e.jsx(rt,{size:14,className:"text-slate-400"})," Assignment & Progress"]}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-violet-50 border border-violet-100",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-white flex items-center justify-center text-violet-600 shadow-sm font-bold uppercase text-xs",children:u.assignedTo.split("")[0]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-violet-400 uppercase tracking-wider",children:"Assigned To"}),e.jsx("p",{className:"text-sm font-bold text-violet-900",children:u.assignedTo})]})]}),e.jsx("button",{className:"text-[10px] font-black uppercase text-violet-600 hover:underline",children:"Reassign"})]})})]}),e.jsxs("div",{className:"flex gap-3 pt-6 border-t border-slate-100",children:[e.jsx("button",{className:"flex-1 bg-slate-900 text-white py-4 rounded-xl font-black text-xs uppercase tracking-widest shadow-xl shadow-slate-200",children:"Update Status"}),e.jsx("button",{className:"px-6 py-4 rounded-xl border-2 border-slate-100 text-slate-400 hover:text-red-500 hover:border-red-100 transition-all",children:e.jsx(vs,{size:20})})]})]})})]})},h_=()=>{const[t,s]=j.useState([]),[r,l]=j.useState(!0),[i,o]=j.useState("All"),[d,x]=j.useState(""),[u,h]=j.useState(null),p=["All","Pending","In Progress","Completed","Cancelled"];j.useEffect(()=>{g()},[i]);const g=async()=>{try{l(!0);const T={};i!=="All"&&(T.status=i);const _=await Ai.getMaintenanceRequests(T);s(_)}catch(T){console.error("Failed to fetch service history:",T),lt.error("Failed to load service history")}finally{l(!1)}},y=async(T,_)=>{try{await Ai.updateMaintenanceStatus(T,_),lt.success("Status updated successfully"),g(),u?.id===T&&h(I=>({...I,status:_}))}catch{lt.error("Failed to update status")}},f=t.filter(T=>{const _=T.equipment?.name?.toLowerCase()||"",I=T.issue?.toLowerCase()||"",B=d.toLowerCase();return _.includes(B)||I.includes(B)||`#T-${T.id}`.toLowerCase().includes(B)}),w=T=>{switch(T){case"Completed":return e.jsx(as,{size:14,className:"text-emerald-500"});case"In Progress":return e.jsx(Je,{size:14,className:"text-amber-500"});case"Cancelled":return e.jsx(vn,{size:14,className:"text-red-500"});default:return e.jsx(Je,{size:14,className:"text-blue-500"})}},S=T=>{switch(T){case"Completed":return"bg-emerald-50 text-emerald-700 border-emerald-200";case"In Progress":return"bg-amber-50 text-amber-700 border-amber-200";case"Cancelled":return"bg-red-50 text-red-700 border-red-200";case"Pending":return"bg-blue-50 text-blue-700 border-blue-200";default:return"bg-slate-50 text-slate-700 border-slate-200"}},v=T=>{switch(T){case"Critical":return"bg-red-100 text-red-700 border-red-200";case"High":return"bg-orange-100 text-orange-700 border-orange-200";case"Medium":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"Low":return"bg-green-100 text-green-700 border-green-200";default:return"bg-slate-100 text-slate-700 border-slate-200"}},N=t.length,A=t.filter(T=>T.status==="Completed").length,L=t.filter(T=>T.status==="In Progress").length,M=t.filter(T=>T.status==="Pending").length;return e.jsxs("div",{className:"min-h-screen bg-[#F8FAFC] pb-20",children:[e.jsx("div",{className:"bg-white border-b border-slate-200 sticky top-0 z-20",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-emerald-500 to-teal-600 flex items-center justify-center text-white shadow-lg shadow-emerald-200 shrink-0",children:e.jsx(sl,{size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-black text-slate-800 tracking-tight",children:"Service History"}),e.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Complete log of all equipment maintenance and service records"})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[e.jsxs("div",{className:"bg-slate-50 rounded-xl p-3 border border-slate-100",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Total Records"}),e.jsx("p",{className:"text-2xl font-black text-slate-800 mt-1",children:N})]}),e.jsxs("div",{className:"bg-emerald-50 rounded-xl p-3 border border-emerald-100",children:[e.jsx("p",{className:"text-[10px] font-black text-emerald-500 uppercase tracking-widest",children:"Completed"}),e.jsx("p",{className:"text-2xl font-black text-emerald-700 mt-1",children:A})]}),e.jsxs("div",{className:"bg-amber-50 rounded-xl p-3 border border-amber-100",children:[e.jsx("p",{className:"text-[10px] font-black text-amber-500 uppercase tracking-widest",children:"In Progress"}),e.jsx("p",{className:"text-2xl font-black text-amber-700 mt-1",children:L})]}),e.jsxs("div",{className:"bg-blue-50 rounded-xl p-3 border border-blue-100",children:[e.jsx("p",{className:"text-[10px] font-black text-blue-500 uppercase tracking-widest",children:"Pending"}),e.jsx("p",{className:"text-2xl font-black text-blue-700 mt-1",children:M})]})]}),e.jsx("div",{className:"flex bg-slate-100 p-1 rounded-xl overflow-x-auto no-scrollbar",children:p.map(T=>e.jsx("button",{onClick:()=>o(T),className:`
                                        px-4 py-2 rounded-lg text-xs font-black uppercase tracking-wider transition-all whitespace-nowrap
                                        ${i===T?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-700"}
                                    `,children:T},T))}),e.jsxs("div",{className:"relative",children:[e.jsx(Qe,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"text",placeholder:"Search by equipment name, issue, or ticket ID...",className:"w-full pl-11 pr-4 py-3 rounded-xl border-2 border-slate-50 bg-slate-50 focus:bg-white focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/5 outline-none transition-all font-medium text-slate-600",value:d,onChange:T=>x(T.target.value)})]})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-8",children:r?e.jsx("div",{className:"flex items-center justify-center p-20",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600"})}):e.jsx(e.Fragment,{children:f.length===0?e.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-slate-200 p-20 flex flex-col items-center justify-center text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-3xl bg-slate-50 flex items-center justify-center text-slate-300 mb-4",children:e.jsx(as,{size:32})}),e.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"No service records found"}),e.jsx("p",{className:"text-slate-400 text-sm mt-1",children:i!=="All"?`No ${i.toLowerCase()} records at this time.`:"All equipment is running smoothly. No service history yet."})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"hidden lg:block bg-white rounded-3xl shadow-sm border border-slate-200 overflow-hidden",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50/50 border-b border-slate-100",children:[e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Ticket"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Equipment"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Issue"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Priority"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Date"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:f.map(T=>e.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group cursor-pointer",onClick:()=>h(T),children:[e.jsx("td",{className:"px-6 py-5",children:e.jsxs("span",{className:"text-xs font-black text-slate-900 group-hover:text-emerald-600 transition-colors uppercase",children:["#T-",T.id]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-slate-100 flex items-center justify-center text-slate-500 group-hover:bg-emerald-100 group-hover:text-emerald-600 transition-all",children:e.jsx(ll,{size:16})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-slate-800 text-sm",children:T.equipment?.name||"Unknown"}),e.jsx("p",{className:"text-[10px] text-slate-400 font-bold",children:T.equipment?.category||""})]})]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsx("p",{className:"text-xs font-semibold text-slate-600 max-w-[200px] truncate",children:T.issue})}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-lg text-[10px] font-black uppercase tracking-wider border ${v(T.priority)}`,children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-current opacity-60"}),T.priority]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex items-center gap-1.5 text-xs font-bold text-slate-600",children:[e.jsx(Ye,{size:12,className:"text-slate-400"}),new Date(T.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-lg text-[10px] font-black uppercase tracking-wider border ${S(T.status)}`,children:[w(T.status),T.status]})}),e.jsx("td",{className:"px-6 py-5 text-right",onClick:_=>_.stopPropagation(),children:e.jsxs("select",{className:"text-[10px] font-black uppercase tracking-tight bg-slate-50 border-none rounded-lg px-3 py-1.5 outline-none cursor-pointer hover:bg-slate-100 transition-colors",value:T.status,onChange:_=>y(T.id,_.target.value),children:[e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"In Progress",children:"In Progress"}),e.jsx("option",{value:"Completed",children:"Completed"}),e.jsx("option",{value:"Cancelled",children:"Cancelled"})]})})]},T.id))})]})}),e.jsx("div",{className:"lg:hidden space-y-4",children:f.map(T=>e.jsxs("div",{className:`bg-white rounded-2xl p-5 shadow-sm border border-slate-100 space-y-4 cursor-pointer active:scale-[0.98] transition-all ${T.priority==="Critical"?"border-l-4 border-l-red-500":""}`,onClick:()=>h(T),children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-emerald-50 text-emerald-600 flex items-center justify-center",children:e.jsx(Gl,{size:18})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-slate-800 text-sm",children:T.equipment?.name||"Unknown"}),e.jsxs("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-wider",children:["#T-",T.id]})]})]}),e.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-lg text-[10px] font-black uppercase tracking-wider border ${S(T.status)}`,children:[w(T.status),T.status]})]}),e.jsx("p",{className:"text-xs text-slate-600 font-medium line-clamp-2",children:T.issue}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 py-3 border-y border-slate-50",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Priority"}),e.jsx("span",{className:`inline-flex items-center gap-1.5 mt-1 px-2 py-0.5 rounded-md text-[10px] font-bold border ${v(T.priority)}`,children:T.priority})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Date"}),e.jsxs("p",{className:"text-xs font-bold text-slate-700 mt-1 flex items-center gap-1",children:[e.jsx(Ye,{size:12,className:"text-slate-300"}),new Date(T.createdAt).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-1",onClick:_=>_.stopPropagation(),children:[e.jsxs("select",{className:"text-[10px] font-black uppercase tracking-tight bg-slate-50 border-none rounded-lg px-3 py-1.5 outline-none cursor-pointer hover:bg-slate-100 transition-colors",value:T.status,onChange:_=>y(T.id,_.target.value),children:[e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"In Progress",children:"In Progress"}),e.jsx("option",{value:"Completed",children:"Completed"}),e.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),e.jsxs("button",{onClick:_=>{_.stopPropagation(),h(T)},className:"text-[10px] font-bold text-emerald-600 hover:underline flex items-center gap-1",children:["Details ",e.jsx(vs,{size:12})]})]})]},T.id))})]})})}),u&&e.jsx("div",{className:"fixed inset-0 z-50 overflow-hidden",role:"dialog","aria-modal":"true",children:e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-slate-900/40 backdrop-blur-[2px] transition-opacity duration-300",onClick:()=>h(null)}),e.jsx("div",{className:"fixed inset-y-0 right-0 flex max-w-full pl-0 sm:pl-10",children:e.jsx("div",{className:"relative w-screen sm:max-w-[440px] transform transition-transform duration-300 ease-in-out shadow-2xl",children:e.jsxs("div",{className:"flex h-full flex-col bg-white overflow-y-auto shadow-2xl",children:[e.jsxs("div",{className:"px-6 py-8 bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white relative",children:[e.jsx("button",{onClick:()=>h(null),className:"absolute top-4 right-4 p-2 rounded-xl bg-white/10 text-white hover:bg-white/20 transition-all",children:e.jsx(vn,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-emerald-500/20 flex items-center justify-center border border-emerald-500/30 text-emerald-400",children:e.jsx(Gl,{size:24})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-black tracking-tight",children:"Service Record"}),e.jsxs("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-widest",children:["Ticket #T-",u.id]})]})]})]}),e.jsxs("div",{className:"flex-1 p-6 space-y-6",children:[e.jsx("div",{className:"p-5 rounded-2xl bg-slate-50 border border-slate-100 space-y-3",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Issue Reported"}),e.jsx("p",{className:"text-base font-black text-slate-800 mt-1",children:u.issue})]}),e.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-1 rounded-lg text-[10px] font-black uppercase border ${S(u.status)}`,children:[w(u.status),u.status]})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 rounded-xl border-2 border-slate-50",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Equipment"}),e.jsx("p",{className:"text-sm font-bold text-slate-800 mt-1",children:u.equipment?.name||"Unknown"})]}),e.jsxs("div",{className:"p-4 rounded-xl border-2 border-slate-50",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Category"}),e.jsx("p",{className:"text-sm font-bold text-slate-800 mt-1",children:u.equipment?.category||"N/A"})]}),e.jsxs("div",{className:"p-4 rounded-xl border-2 border-slate-50",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Priority"}),e.jsx("span",{className:`inline-flex items-center gap-1 mt-1 px-2 py-0.5 rounded-md text-[10px] font-bold border ${v(u.priority)}`,children:u.priority})]}),e.jsxs("div",{className:"p-4 rounded-xl border-2 border-slate-50",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Date Reported"}),e.jsx("p",{className:"text-sm font-bold text-slate-800 mt-1",children:new Date(u.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})]}),u.equipment&&e.jsxs("div",{className:"p-4 rounded-xl bg-emerald-50 border border-emerald-100 space-y-3",children:[e.jsxs("p",{className:"text-xs font-black text-emerald-700 uppercase tracking-widest flex items-center gap-2",children:[e.jsx(ll,{size:14})," Equipment Details"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-emerald-500",children:"Brand"}),e.jsx("p",{className:"text-xs font-bold text-emerald-900",children:u.equipment.brand||"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-emerald-500",children:"Location"}),e.jsx("p",{className:"text-xs font-bold text-emerald-900",children:u.equipment.location||"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-emerald-500",children:"Serial Number"}),e.jsx("p",{className:"text-xs font-bold text-emerald-900",children:u.equipment.serialNumber||"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-emerald-500",children:"Equipment Status"}),e.jsx("p",{className:"text-xs font-bold text-emerald-900",children:u.equipment.status||"N/A"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-xs font-black text-slate-900 uppercase tracking-widest",children:"Update Status"}),e.jsxs("select",{className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-100 rounded-xl text-sm font-bold text-slate-700 focus:outline-none focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/10 transition-all cursor-pointer",value:u.status,onChange:T=>y(u.id,T.target.value),children:[e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"In Progress",children:"In Progress"}),e.jsx("option",{value:"Completed",children:"Completed"}),e.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]})]}),e.jsx("div",{className:"px-6 py-4 border-t border-slate-100",children:e.jsx("button",{onClick:()=>h(null),className:"w-full bg-slate-900 text-white py-4 rounded-xl font-black text-xs uppercase tracking-widest shadow-xl shadow-slate-200 hover:bg-slate-800 transition-colors",children:"Close"})})]})})})]})})]})},m_=()=>{const[t,s]=j.useState(""),[r,l]=j.useState(""),i=["","January","February","March","April","May","June","July","August","September","October","November","December"],o=new Date,d=`${i[o.getMonth()+1]} ${o.getFullYear()}`,[x,u]=j.useState(d),[h,p]=j.useState([]),[g,y]=j.useState(!0),[f,w]=j.useState(!1),[S,v]=j.useState(null),[N,A]=j.useState(0),[L,M]=j.useState(0);j.useEffect(()=>{(async()=>{try{const Z=(await ww()).map(ae=>({id:ae.id,name:ae.staffName,baseSalary:Number(ae.amount),attendanceRate:100,commission:0,bonus:0,deductions:0,netPay:Number(ae.amount),status:ae.status,month:`${i[ae.month]} ${ae.year}`,paymentDate:ae.status==="Paid"?"Processed":null}));p(Z)}catch(q){console.error("Error loading payroll history:",q)}finally{y(!1)}})()},[]);const T=h.filter(X=>X.month===x)||[],_=T.find(X=>X.id===S);j.useEffect(()=>{_&&(A(_.bonus),M(_.deductions))},[S,x,_]);const I=T.filter(X=>{const q=X.name?.toLowerCase().includes(t.toLowerCase()),Z=r===""||X.status===r;return q&&Z}),B=T.reduce((X,q)=>X+q.netPay,0),P=T.filter(X=>X.status==="Paid").reduce((X,q)=>X+q.netPay,0),R=T.filter(X=>X.status==="Pending").reduce((X,q)=>X+q.netPay,0),W=T.filter(X=>X.status==="Paid").length,H=T.filter(X=>X.status==="Pending").length,$=T.length>0?[...T].sort((X,q)=>q.netPay-X.netPay)[0]:null,G=T.reduce((X,q)=>X+Number(q.bonus||0)+Number(q.commission||0),0),le=T.reduce((X,q)=>X+Number(q.deductions||0),0),Q=async X=>{try{await xM(X,{status:"Paid"}),p(q=>q.map(Z=>Z.id===X?{...Z,status:"Paid",paymentDate:"Processed"}:Z)),alert("Payroll marked as Paid!")}catch(q){console.error("Error updating status:",q),alert("Failed to update status")}},ne=X=>{v(X.id),w(!0)},F=()=>{w(!1),setTimeout(()=>v(null),300)},de=X=>X==="Paid"?"emerald":"amber",ke=[...new Set(h.map(X=>X.month))].sort((X,q)=>{const Z=new Date(X);return new Date(q)-Z});return j.useEffect(()=>{ke.length>0&&!ke.includes(x)&&u(ke[0])},[ke]),e.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-4 sm:p-6 pb-12 min-h-screen",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-xl sm:rounded-2xl shadow-xl border border-slate-100 p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent mb-2 flex items-center gap-2",children:[e.jsx(ca,{className:"text-violet-600",size:24}),"Payroll Management"]}),e.jsx("p",{className:"text-slate-600 text-xs sm:text-sm",children:"View and process monthly staff salaries"})]}),e.jsxs("div",{className:"relative group w-full sm:w-64",children:[e.jsx(Ye,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-violet-500 z-10"}),e.jsx("select",{value:x,onChange:X=>u(X.target.value),className:"w-full pl-10 pr-10 py-2.5 bg-white border-2 border-slate-100 rounded-xl text-sm font-bold text-slate-700 shadow-sm focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/10 transition-all duration-300 appearance-none cursor-pointer",children:ke.length>0?ke.map(X=>e.jsx("option",{value:X,children:X},X)):e.jsx("option",{value:x,children:x})})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[e.jsxs("div",{className:"group relative overflow-hidden rounded-xl sm:rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105 hover:-translate-y-1",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-600 via-purple-600 to-fuchsia-600"}),e.jsxs("div",{className:"relative p-4 sm:p-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-violet-200 font-bold text-[10px] sm:text-xs uppercase tracking-wider",children:"Total Payroll Cost"}),e.jsx(yn,{className:"text-violet-200 opacity-50",size:20})]}),e.jsxs("div",{className:"text-2xl sm:text-3xl font-black mb-1",children:["",B.toLocaleString()]}),e.jsxs("div",{className:"text-violet-200 text-xs sm:text-sm",children:["For ",x]})]})]}),e.jsxs("div",{className:"group bg-white rounded-xl sm:rounded-2xl p-4 sm:p-6 shadow-lg border border-slate-100 hover:shadow-xl hover:scale-105 hover:-translate-y-1 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-slate-500 font-bold text-[10px] sm:text-xs uppercase tracking-wider",children:"Paid"}),e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg sm:rounded-xl bg-gradient-to-br from-emerald-500 to-emerald-600 flex items-center justify-center text-white shadow-md group-hover:scale-110 group-hover:rotate-6 transition-all duration-300",children:e.jsx(ss,{size:16,className:"sm:w-5 sm:h-5"})})]}),e.jsxs("div",{className:"text-2xl sm:text-3xl font-black text-emerald-600 mb-1",children:["",P.toLocaleString()]}),e.jsxs("div",{className:"text-slate-500 text-xs sm:text-sm",children:[W," Staff Members"]})]}),e.jsxs("div",{className:"group bg-white rounded-xl sm:rounded-2xl p-4 sm:p-6 shadow-lg border border-slate-100 hover:shadow-xl hover:scale-105 hover:-translate-y-1 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-slate-500 font-bold text-[10px] sm:text-xs uppercase tracking-wider",children:"Pending"}),e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg sm:rounded-xl bg-gradient-to-br from-orange-500 to-orange-600 flex items-center justify-center text-white shadow-md group-hover:scale-110 group-hover:rotate-6 transition-all duration-300",children:e.jsx(Je,{size:16,className:"sm:w-5 sm:h-5"})})]}),e.jsxs("div",{className:"text-2xl sm:text-3xl font-black text-orange-600 mb-1",children:["",R.toLocaleString()]}),e.jsxs("div",{className:"text-slate-500 text-xs sm:text-sm",children:[H," Staff Members"]})]}),e.jsxs("div",{className:"group bg-white rounded-xl sm:rounded-2xl p-4 sm:p-6 shadow-lg border border-slate-100 hover:shadow-xl hover:scale-105 hover:-translate-y-1 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-slate-500 font-bold text-[10px] sm:text-xs uppercase tracking-wider",children:"Total Staff"}),e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg sm:rounded-xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-md group-hover:scale-110 group-hover:rotate-6 transition-all duration-300",children:e.jsx(Et,{size:16,className:"sm:w-5 sm:h-5"})})]}),e.jsx("div",{className:"text-2xl sm:text-3xl font-black text-slate-900 mb-1",children:T.length}),e.jsx("div",{className:"text-slate-500 text-xs sm:text-sm",children:"Active Employees"})]})]}),e.jsxs("div",{className:"mb-6 sm:mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4 px-1",children:[e.jsx(Ks,{className:"text-violet-600",size:20}),e.jsx("h2",{className:"text-lg font-black text-slate-800 tracking-tight uppercase",children:"Monthly Analytics"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl p-5 border border-slate-100 shadow-lg relative overflow-hidden group hover:scale-[1.02] transition-all duration-300",children:[e.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:scale-110 transition-transform duration-500",children:e.jsx(Ks,{size:64,className:"text-violet-600"})}),e.jsx("div",{className:"relative z-10 text-slate-400 text-xs font-black uppercase tracking-widest mb-3",children:"Highest Paid"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-violet-100 flex items-center justify-center text-violet-600 font-black text-lg border border-violet-200",children:$?.name?$.name.charAt(0):"?"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-black text-slate-900 leading-tight",children:$?.name||"N/A"}),e.jsxs("div",{className:"text-violet-600 font-bold text-sm mt-0.5",children:["",$?.netPay?.toLocaleString()||"0"]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-5 border border-slate-100 shadow-lg relative overflow-hidden group hover:scale-[1.02] transition-all duration-300",children:[e.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:scale-110 transition-transform duration-500",children:e.jsx(Ks,{size:64,className:"text-emerald-600"})}),e.jsx("div",{className:"text-slate-400 text-xs font-black uppercase tracking-widest mb-2",children:"Total Incentives"}),e.jsxs("div",{className:"text-3xl font-black text-emerald-600 mb-1",children:["",G.toLocaleString()]}),e.jsxs("div",{className:"text-slate-500 text-[10px] font-bold uppercase tracking-wider",children:["For ",x]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-5 border border-slate-100 shadow-lg relative overflow-hidden group hover:scale-[1.02] transition-all duration-300",children:[e.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:scale-110 transition-transform duration-500",children:e.jsx(Ks,{size:64,className:"text-red-600"})}),e.jsx("div",{className:"text-slate-400 text-xs font-black uppercase tracking-widest mb-2",children:"Total Deductions"}),e.jsxs("div",{className:"text-3xl font-black text-red-600 mb-1",children:["",le.toLocaleString()]}),e.jsxs("div",{className:"text-slate-500 text-[10px] font-bold uppercase tracking-wider",children:["For ",x]})]})]})]}),e.jsx("div",{className:"mb-4 sm:mb-6 bg-white/60 backdrop-blur-md rounded-xl shadow-lg border border-white/50 p-4 sm:p-5 hover:shadow-xl transition-all duration-300",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"relative group",children:[e.jsx(Qe,{size:18,className:"absolute left-3 sm:left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 group-focus-within:scale-110 transition-all duration-300"}),e.jsx("input",{type:"text",value:t,onChange:X=>s(X.target.value),placeholder:"Search by employee name...",className:"w-full pl-10 sm:pl-12 pr-4 py-2.5 sm:py-3 bg-white/80 border-2 border-slate-200 rounded-lg sm:rounded-xl text-xs sm:text-sm focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 focus:bg-white transition-all duration-300 hover:border-slate-300"})]}),e.jsxs("div",{className:"relative group",children:[e.jsx(Ns,{size:18,className:"absolute left-3 sm:left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 group-focus-within:scale-110 transition-all duration-300 pointer-events-none z-10"}),e.jsxs("select",{value:r,onChange:X=>l(X.target.value),className:"w-full pl-10 sm:pl-12 pr-4 py-2.5 sm:py-3 bg-white/80 border-2 border-slate-200 rounded-lg sm:rounded-xl text-xs sm:text-sm focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 focus:bg-white transition-all duration-300 hover:border-slate-300 appearance-none cursor-pointer",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"Paid",children:"Paid"}),e.jsx("option",{value:"Pending",children:"Pending"})]})]})]})}),e.jsx("div",{className:"md:hidden space-y-3 sm:space-y-4 mb-6",children:g?e.jsx("div",{className:"text-center py-10 font-bold text-slate-400",children:"Loading Payrolls..."}):I.length===0?e.jsx("div",{className:"text-center py-10 font-bold text-slate-400",children:"No records found"}):I.map(X=>e.jsx(Ga,{title:X.name,badge:X.status,badgeColor:de(X.status),fields:[{label:"Base Salary",value:`${X.baseSalary.toLocaleString()}`},{label:"Attendance",value:`${X.attendanceRate||0}%`},{label:"Commission",value:`${(X.commission||0).toLocaleString()}`},{label:"Net Pay",value:`${X.netPay.toLocaleString()}`}],actions:[{label:X.status==="Paid"?"Paid":"Mark Paid",icon:X.status==="Paid"?ss:ca,onClick:()=>X.status==="Pending"?Q(X.id):ne(X),variant:X.status==="Paid"?"success":"primary"}],onClick:()=>ne(X)},X.id))}),e.jsxs("div",{className:"hidden md:block bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gradient-to-r from-slate-50 to-slate-100/50 border-b-2 border-slate-200",children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"Employee"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"Base Salary"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"Attendance"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"Commission"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"Net Pay"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold uppercase tracking-wider text-slate-700",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:g?e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"px-6 py-10 text-center font-bold text-slate-400",children:"Loading Payrolls..."})}):I.map(X=>e.jsxs("tr",{onClick:()=>ne(X),className:"group cursor-pointer hover:bg-gradient-to-r hover:from-violet-50/50 hover:via-purple-50/30 hover:to-transparent transition-all duration-300",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white font-bold shadow-md group-hover:shadow-lg group-hover:scale-110 group-hover:rotate-6 transition-all duration-300",children:(X.name||"?").charAt(0)}),e.jsx("div",{children:e.jsx("div",{className:"text-sm font-semibold text-slate-900 group-hover:text-violet-600 transition-colors duration-300",children:X.name})})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:"text-sm font-semibold text-slate-700",children:["",X.baseSalary.toLocaleString()]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-16 h-2 bg-slate-100 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full ${X.attendanceRate>=90?"bg-emerald-500":X.attendanceRate>=75?"bg-amber-500":"bg-rose-500"}`,style:{width:`${X.attendanceRate||0}%`}})}),e.jsxs("span",{className:"text-xs font-bold text-slate-600",children:[X.attendanceRate||0,"%"]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:"text-sm font-bold text-indigo-600",children:["",(X.commission||0).toLocaleString()]})}),e.jsx("td",{className:"px-6 py-4 border-l border-slate-100",children:e.jsxs("span",{className:"text-sm font-black text-slate-900",children:["",X.netPay.toLocaleString()]})}),e.jsx("td",{className:"px-6 py-4",children:X.status==="Paid"?e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-bold bg-gradient-to-r from-emerald-50 to-emerald-100 text-emerald-700 border border-emerald-200 shadow-sm transition-all duration-300 hover:scale-110 hover:shadow-md",children:[e.jsx(ss,{size:14}),"Paid"]}):e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-bold bg-gradient-to-r from-orange-50 to-orange-100 text-orange-700 border border-orange-200 shadow-sm transition-all duration-300 hover:scale-110 hover:shadow-md",children:[e.jsx(Je,{size:14}),"Pending"]})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",onClick:q=>q.stopPropagation(),children:[X.status==="Pending"&&e.jsxs("button",{onClick:()=>Q(X.id),className:"flex items-center gap-1.5 px-3 py-1.5 bg-violet-600 text-white rounded-lg text-xs font-bold hover:bg-violet-700 transition-all duration-300 active:scale-95 shadow-lg shadow-violet-200",children:[e.jsx(ss,{size:14}),"Mark Paid"]}),e.jsx("button",{onClick:()=>ne(X),className:"group/btn p-2 rounded-lg text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 transition-all duration-300 hover:scale-110",title:"View Details",children:e.jsx(Qe,{size:18})}),e.jsx("button",{className:"group/btn p-2 rounded-lg text-slate-400 hover:text-violet-600 hover:bg-violet-50 transition-all duration-300 hover:scale-110",children:e.jsx(Js,{size:18,className:"transition-transform duration-300 group-hover/btn:translate-y-0.5"})})]})})]},X.id))})]})}),!g&&I.length===0&&e.jsxs("div",{className:"p-12 sm:p-16 text-center",children:[e.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 mx-auto mb-4 sm:mb-6 bg-gradient-to-br from-violet-100 to-purple-100 rounded-full flex items-center justify-center",children:e.jsx(ca,{size:32,className:"sm:w-10 sm:h-10 text-violet-600"})}),e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-slate-900 mb-2",children:"No Payroll Records Found"}),e.jsx("p",{className:"text-slate-600 text-sm sm:text-base",children:"Try adjusting your search or filter criteria"})]})]}),f&&e.jsx("div",{className:"fixed inset-0 z-50 overflow-hidden",role:"dialog","aria-modal":"true",children:e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:`absolute inset-0 bg-slate-900/40 backdrop-blur-[2px] transition-opacity duration-300 ${f?"opacity-100":"opacity-0"}`,"aria-hidden":"true",onClick:F}),e.jsx("div",{className:"fixed inset-y-0 right-0 flex max-w-full pl-0 sm:pl-10",children:e.jsx("div",{className:`relative w-screen sm:max-w-md transform transition-transform duration-300 ease-in-out shadow-2xl ${f?"translate-x-0":"translate-x-full"}`,children:e.jsxs("div",{className:"flex h-full flex-col bg-white overflow-y-auto",children:[e.jsxs("div",{className:"px-6 py-8 bg-gradient-to-br from-violet-600 via-purple-600 to-fuchsia-600 text-white relative",children:[e.jsx("button",{type:"button",className:"absolute top-4 right-4 p-2 rounded-xl bg-white/20 text-white hover:bg-white/30 transition-all duration-300 group",onClick:F,children:e.jsx(vn,{className:"h-6 w-6 group-hover:rotate-90 transition-transform duration-300"})}),e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-white/20 backdrop-blur-md flex items-center justify-center text-2xl font-black border border-white/30 shadow-xl",children:(_?.name||"?").charAt(0)}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-black tracking-tight",children:_?.name}),e.jsx("p",{className:"text-violet-100 text-sm font-medium",children:"Employee Monthly Payroll"})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("span",{className:"px-3 py-1 bg-white/20 backdrop-blur-sm rounded-lg text-xs font-bold border border-white/20 italic",children:x}),_?.status==="Paid"?e.jsxs("span",{className:"px-3 py-1 bg-emerald-400 text-emerald-950 rounded-lg text-xs font-black flex items-center gap-1 shadow-lg",children:[e.jsx(ss,{size:12})," PAID"]}):e.jsxs("span",{className:"px-3 py-1 bg-amber-400 text-amber-950 rounded-lg text-xs font-black flex items-center gap-1 shadow-lg",children:[e.jsx(Je,{size:12})," PENDING"]})]})]}),e.jsxs("div",{className:"p-6 space-y-8 flex-1",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-slate-400 mb-4 flex items-center gap-2",children:[e.jsx(Vn,{size:14,className:"text-violet-500"})," Salary Breakdown"]}),e.jsxs("div",{className:"space-y-4 bg-slate-50 rounded-2xl p-5 border border-slate-100",children:[e.jsxs("div",{className:"flex justify-between items-center pb-3 border-b border-slate-200",children:[e.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Base Salary"}),e.jsxs("span",{className:"text-sm font-bold text-slate-900",children:["",(_?.baseSalary||0).toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between items-center pb-3 border-b border-slate-200",children:[e.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Attendance"}),e.jsxs("span",{className:"text-sm font-bold text-slate-900",children:[_?.attendanceRate||0,"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center pb-3 border-b border-slate-200",children:[e.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Commission"}),e.jsxs("span",{className:"text-sm font-bold text-indigo-600",children:["",(_?.commission||0).toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between items-center pb-3 border-b border-slate-200",children:[e.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Incentives / Bonus"}),e.jsxs("span",{className:"text-sm font-bold text-emerald-600",children:["+",(_?.bonus||0).toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between items-center pb-3 border-b border-slate-200",children:[e.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Deductions"}),e.jsxs("span",{className:"text-sm font-bold text-red-600",children:["-",(_?.deductions||0).toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-2",children:[e.jsx("span",{className:"text-base font-black text-slate-900",children:"Net Pay"}),e.jsxs("span",{className:"text-2xl font-black text-violet-600",children:["",(_?.netPay||0).toLocaleString()]})]}),_?.status==="Paid"&&e.jsx("div",{className:"mt-2 text-[10px] font-bold text-slate-400 uppercase tracking-widest text-center italic",children:"Salary Locked After Payment"})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-slate-400 mb-4 flex items-center gap-2",children:[e.jsx(ca,{size:14,className:"text-violet-500"})," Payment Information"]}),e.jsx("div",{className:`rounded-2xl p-5 border-2 ${_?.status==="Paid"?"bg-emerald-50 border-emerald-100":"bg-slate-50 border-slate-100"}`,children:_?.status==="Paid"?e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-emerald-500 flex items-center justify-center text-white shadow-lg",children:e.jsx(ss,{size:20})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-black text-emerald-900 leading-tight",children:"Paid Successfully"}),e.jsxs("div",{className:"text-xs font-medium text-emerald-700 mt-0.5",children:["Payment Date: ",_.paymentDate||"Today"]})]})]}):e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-200 flex items-center justify-center text-slate-400",children:e.jsx(Je,{size:20})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-black text-slate-900 leading-tight",children:"Payment Outstanding"}),e.jsx("div",{className:"text-xs font-medium text-slate-500 mt-0.5",children:"Not Processed Yet"})]})]})})]})]}),e.jsxs("div",{className:"p-6 bg-slate-50 border-t border-slate-100 space-y-3",children:[_?.status==="Pending"?e.jsx(e.Fragment,{children:e.jsxs("button",{onClick:()=>Q(_.id),className:"w-full flex items-center justify-center gap-2 py-4 bg-violet-600 text-white rounded-xl font-bold shadow-xl shadow-violet-200 hover:bg-violet-700 hover:scale-[1.02] active:scale-95 transition-all duration-300",children:[e.jsx(ca,{size:20}),"Confirm Payment & Mark Paid"]})}):e.jsxs("button",{disabled:!0,className:"w-full flex items-center justify-center gap-2 py-4 bg-emerald-100 text-emerald-600 rounded-xl font-bold border-2 border-emerald-200 cursor-not-allowed opacity-80",children:[e.jsx(ss,{size:20}),"Payroll Processed"]}),e.jsx("p",{className:"text-center text-[10px] text-slate-400 mt-2 leading-relaxed tracking-wide uppercase font-bold",children:"This action will be recorded in the system audit logs."})]})]})})})]})})]})},pf={specialization:"",commissionType:"percentage",commissionValue:"",ptRate:"",experience:""},p_={commissionPercent:"",monthlyTarget:"",bonusPercent:""},T2={performanceBonus:""},f_=({config:t,errors:s,onChange:r})=>e.jsxs("div",{className:"bg-gradient-to-br from-violet-50 to-white rounded-xl shadow-lg border border-violet-100 p-6 space-y-6 animate-in fade-in slide-in-from-top-4 duration-500",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-bold text-violet-900 flex items-center gap-2",children:[e.jsx(cg,{className:"text-violet-600",size:20}),"Trainer Configuration"]}),e.jsx("div",{className:"px-3 py-1 bg-violet-100 text-violet-700 rounded-lg text-[10px] font-black uppercase tracking-widest",children:"PT Sync Active"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative group",children:[e.jsxs("label",{className:"block text-xs font-bold uppercase tracking-wider text-violet-600 mb-2",children:["Specialization ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:t?.specialization||"",onChange:l=>r("trainerConfig","specialization",l.target.value),placeholder:"e.g. Yoga, HIIT, Rehab",className:`w-full pl-10 pr-4 py-3 bg-white border-2 rounded-xl text-sm focus:outline-none transition-all duration-300 ${s["trainerConfig.specialization"]?"border-red-500 focus:ring-red-500/20":"border-slate-200 focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 hover:border-violet-300"}`}),e.jsx($l,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-violet-400"})]}),s["trainerConfig.specialization"]&&e.jsx("p",{className:"text-[10px] text-red-500 font-bold mt-1",children:s["trainerConfig.specialization"]})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-violet-600 mb-2",children:"Experience (Years)"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",value:t?.experience||"",onChange:l=>r("trainerConfig","experience",l.target.value),placeholder:"e.g. 5",className:"w-full pl-10 pr-4 py-3 bg-white border-2 border-slate-200 rounded-xl text-sm focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 hover:border-violet-300 transition-all duration-300"}),e.jsx(ha,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-violet-400"})]})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-violet-600 mb-2",children:"Commission Type"}),e.jsxs("select",{value:t?.commissionType||"percentage",onChange:l=>r("trainerConfig","commissionType",l.target.value),className:"w-full px-4 py-3 bg-white border-2 border-slate-200 rounded-xl text-sm focus:outline-none focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 hover:border-violet-300 appearance-none cursor-pointer",children:[e.jsx("option",{value:"percentage",children:"Percentage (%)"}),e.jsx("option",{value:"fixed",children:"Fixed Amount ()"})]})]}),e.jsxs("div",{className:"relative group",children:[e.jsxs("label",{className:"block text-xs font-bold uppercase tracking-wider text-violet-600 mb-2",children:["Commission Value ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",value:t?.commissionValue||"",onChange:l=>r("trainerConfig","commissionValue",l.target.value),placeholder:t?.commissionType==="percentage"?"0-100":"Amount",className:`w-full pl-10 pr-4 py-3 bg-white border-2 rounded-xl text-sm focus:outline-none transition-all duration-300 ${s["trainerConfig.commissionValue"]?"border-red-500 focus:ring-red-500/20":"border-slate-200 focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 hover:border-violet-300"}`}),t?.commissionType==="percentage"?e.jsx(kd,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-violet-400"}):e.jsx(Vn,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-violet-400"})]}),s["trainerConfig.commissionValue"]&&e.jsx("p",{className:"text-[10px] text-red-500 font-bold mt-1",children:s["trainerConfig.commissionValue"]})]})]})]}),g_=({config:t,errors:s,onChange:r})=>e.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-white rounded-xl shadow-lg border border-orange-100 p-6 space-y-6 animate-in fade-in slide-in-from-top-4 duration-500",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-bold text-orange-900 flex items-center gap-2",children:[e.jsx($0,{className:"text-orange-600",size:20}),"Manager Configuration"]}),e.jsx("div",{className:"px-3 py-1 bg-orange-100 text-orange-700 rounded-lg text-[10px] font-black uppercase tracking-widest",children:"Branch Level"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.jsxs("div",{className:"relative group",children:[e.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-orange-600 mb-2",children:"Performance Bonus (Annual %)"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",value:t?.performanceBonus||"",onChange:l=>r("managerConfig","performanceBonus",l.target.value),placeholder:"e.g. 10",className:`w-full pl-10 pr-4 py-3 bg-white border-2 rounded-xl text-sm focus:outline-none transition-all duration-300 ${s["managerConfig.performanceBonus"]?"border-red-500 focus:ring-red-500/20":"border-slate-200 focus:border-orange-500 focus:ring-4 focus:ring-orange-500/20 hover:border-orange-300"}`}),e.jsx(kd,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-orange-400"})]}),s["managerConfig.performanceBonus"]&&e.jsx("p",{className:"text-[10px] text-red-500 font-bold mt-1",children:s["managerConfig.performanceBonus"]})]})})]}),_2=()=>{const t=Gt(),{id:s}=Dd(),r=!!s,l=so.useRef(null),i=so.useRef(null),[o,d]=j.useState({name:"",phone:"",email:"",dob:"",department:"Training",role:"Trainer",joiningDate:"",status:"Active",baseSalary:"",accountNumber:"",ifsc:"",trainerConfig:pf,salesConfig:null,managerConfig:null}),[x,u]=j.useState({govtId:null,contract:null}),[h,p]=j.useState(!1),[g,y]=j.useState({});j.useEffect(()=>{r&&f()},[s]);const f=async()=>{try{const L=await oM(s);let M=L.role;L.role==="BRANCH_ADMIN"&&(M="Admin");const T=L.dob?new Date(L.dob).toISOString().split("T")[0]:"",_=L.joinedDate?new Date(L.joinedDate).toISOString().split("T")[0]:"";d({...L,role:M,dob:T,joiningDate:_,baseSalary:L.baseSalary||"",trainerConfig:L.role==="TRAINER"?L.config:pf,managerConfig:L.role==="MANAGER"?L.config:T2,salesConfig:L.role==="STAFF"?L.config:p_}),L.documents&&u(L.documents)}catch(L){console.error("Failed to fetch staff details",L),lt.error("Failed to load staff details")}};j.useEffect(()=>{r||d(L=>{const M={...L};return L.role==="Trainer"?(M.trainerConfig=pf,M.salesConfig=null,M.managerConfig=null):L.role==="Manager"?(M.managerConfig=T2,M.trainerConfig=null,M.salesConfig=null):(M.trainerConfig=null,M.salesConfig=null,M.managerConfig=null),M})},[o.role,r]);const w=L=>{const{name:M,value:T}=L.target;d(_=>({..._,[M]:T}))},S=(L,M,T)=>{d(_=>({..._,[L]:{..._[L],[M]:T}}))},v=()=>{const L={};return o.name||(L.name="Full Name is required"),o.email||(L.email="Email is required"),o.role||(L.role="Role is required"),o.role==="Trainer"&&o.trainerConfig&&(o.trainerConfig.commissionValue||(L["trainerConfig.commissionValue"]="Commission value is required"),o.trainerConfig.specialization||(L["trainerConfig.specialization"]="Specialization is required")),y(L),Object.keys(L).length===0},N=(L,M)=>{const T=L.target.files[0];if(T){const _=new FileReader;_.onloadend=()=>{u(I=>({...I,[M]:{name:T.name,type:T.type,data:_.result}}))},_.readAsDataURL(T)}},A=async L=>{if(L.preventDefault(),!!v()){p(!0);try{const M={...o,documents:x};r?(await Nw(s,M),lt.success("Staff profile updated successfully!")):(await yw(M),lt.success("Staff profile created successfully!")),t("/hr/staff/management")}catch(M){console.error("Failed to submit staff form",M),lt.error(M.response?.data?.message||"Failed to save staff profile")}finally{p(!1)}}};return e.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-6 pb-12 min-h-screen",children:[e.jsxs("div",{className:"mb-8 relative max-w-6xl mx-auto",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent mb-2 flex items-center gap-2",children:[e.jsx(fn,{className:"text-violet-600",size:28}),r?"Update Staff Profile":"New Staff Profile"]}),e.jsx("p",{className:"text-slate-600 text-sm",children:r?"Modify existing record and sync changes.":"Create a new employee record with role-specific sync."})]}),e.jsxs("button",{onClick:()=>t(-1),className:"flex items-center gap-2 px-4 py-2.5 bg-white border border-slate-200 rounded-xl text-sm font-semibold text-slate-700 hover:bg-slate-50 hover:shadow-md hover:scale-105 transition-all duration-300 shadow-sm group",children:[e.jsx(Wr,{className:"w-4 h-4 transition-transform duration-300 group-hover:-translate-x-1"}),"Back"]})]})})]}),e.jsx("form",{onSubmit:A,className:"max-w-6xl mx-auto",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white/60 backdrop-blur-md rounded-xl shadow-lg border border-white/50 p-6 hover:shadow-xl transition-all duration-300",children:[e.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[e.jsx(fn,{className:"text-violet-600",size:20}),"Personal Details"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative group",children:[e.jsxs("label",{className:"block text-xs font-bold uppercase tracking-wider text-slate-600 mb-2",children:["Full Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"name",value:o.name||"",onChange:w,placeholder:"Enter full name",className:`w-full px-4 py-3 bg-white/80 border-2 rounded-xl text-sm focus:outline-none transition-all duration-300 ${g.name?"border-red-500":"border-slate-200 focus:border-violet-500"}`}),g.name&&e.jsx("p",{className:"text-[10px] text-red-500 font-bold mt-1",children:g.name})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-slate-600 mb-2",children:"Phone Number"}),e.jsx("input",{type:"tel",name:"phone",value:o.phone||"",onChange:w,placeholder:"+91...",className:"w-full px-4 py-3 bg-white/80 border-2 border-slate-200 rounded-xl text-sm focus:outline-none focus:border-violet-500 transition-all duration-300"})]}),e.jsxs("div",{className:"relative group",children:[e.jsxs("label",{className:"block text-xs font-bold uppercase tracking-wider text-slate-600 mb-2",children:["Email Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"email",name:"email",value:o.email||"",onChange:w,placeholder:"email@example.com",className:`w-full px-4 py-3 bg-white/80 border-2 rounded-xl text-sm focus:outline-none transition-all duration-300 ${g.email?"border-red-500":"border-slate-200 focus:border-violet-500"}`}),g.email&&e.jsx("p",{className:"text-[10px] text-red-500 font-bold mt-1",children:g.email})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-slate-600 mb-2",children:"Date of Birth"}),e.jsx("input",{type:"date",name:"dob",value:o.dob||"",onChange:w,className:"w-full px-4 py-3 bg-white/80 border-2 border-slate-200 rounded-xl text-sm focus:outline-none focus:border-violet-500 transition-all duration-300"})]})]})]}),e.jsxs("div",{className:"bg-white/60 backdrop-blur-md rounded-xl shadow-lg border border-white/50 p-6 hover:shadow-xl transition-all duration-300",children:[e.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[e.jsx(Tc,{className:"text-violet-600",size:20}),"Employment Details"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-slate-600 mb-2",children:"Department"}),e.jsxs("select",{name:"department",value:o.department||"Training",onChange:w,className:"w-full px-4 py-3 bg-white/80 border-2 border-slate-200 rounded-xl text-sm focus:outline-none appearance-none cursor-pointer",children:[e.jsx("option",{children:"Training"}),e.jsx("option",{children:"Sales"}),e.jsx("option",{children:"Operations"}),e.jsx("option",{children:"Housekeeping"})]})]}),e.jsxs("div",{className:"relative group",children:[e.jsxs("label",{className:"block text-xs font-bold uppercase tracking-wider text-slate-600 mb-2",children:["Assigned Role ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{name:"role",value:o.role||"Trainer",onChange:w,className:"w-full px-4 py-3 bg-white/80 border-2 border-slate-200 rounded-xl text-sm font-semibold focus:outline-none appearance-none cursor-pointer",children:[e.jsx("option",{value:"Admin",children:"Admin"}),e.jsx("option",{value:"Manager",children:"Manager"}),e.jsx("option",{value:"Trainer",children:"Trainer"}),e.jsx("option",{value:"Staff",children:"Staff"})]})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-slate-600 mb-2",children:"Joining Date"}),e.jsx("input",{type:"date",name:"joiningDate",value:o.joiningDate||"",onChange:w,className:"w-full px-4 py-3 bg-white/80 border-2 border-slate-200 rounded-xl text-sm focus:outline-none transition-all duration-300"})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-slate-600 mb-2",children:"Status"}),e.jsxs("select",{name:"status",value:o.status||"Active",onChange:w,className:"w-full px-4 py-3 bg-white/80 border-2 border-slate-200 rounded-xl text-sm focus:outline-none appearance-none cursor-pointer",children:[e.jsx("option",{children:"Active"}),e.jsx("option",{children:"Probation"}),e.jsx("option",{children:"On Leave"})]})]})]})]}),e.jsxs("div",{className:"bg-white/60 backdrop-blur-md rounded-xl shadow-lg border border-white/50 p-6 hover:shadow-xl transition-all duration-300",children:[e.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[e.jsx(Vn,{className:"text-violet-600",size:20}),"Financials & Payroll (Base)"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-slate-600 mb-2",children:"Base Salary (Monthly)"}),e.jsx("input",{type:"number",name:"baseSalary",value:o.baseSalary||"",onChange:w,placeholder:" 0.00",className:"w-full px-4 py-3 bg-white/80 border-2 border-slate-200 rounded-xl text-sm focus:outline-none transition-all duration-300"})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-slate-600 mb-2",children:"Bank Account Number"}),e.jsx("input",{type:"text",name:"accountNumber",value:o.accountNumber||"",onChange:w,placeholder:"Account number...",className:"w-full px-4 py-3 bg-white/80 border-2 border-slate-200 rounded-xl text-sm focus:outline-none transition-all duration-300"})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-slate-600 mb-2",children:"IFSC Code"}),e.jsx("input",{type:"text",name:"ifsc",value:o.ifsc||"",onChange:w,placeholder:"IFSC...",className:"w-full px-4 py-3 bg-white/80 border-2 border-slate-200 rounded-xl text-sm focus:outline-none transition-all duration-300"})]})]})]}),o.role==="Trainer"&&e.jsx(f_,{config:o.trainerConfig,errors:g,onChange:S}),o.role==="Manager"&&e.jsx(g_,{config:o.managerConfig,errors:g,onChange:S})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white/60 backdrop-blur-md rounded-xl shadow-lg border border-white/50 p-6 hover:shadow-xl transition-all duration-300",children:[e.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[e.jsx(er,{className:"text-violet-600",size:20}),"Documents"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{type:"file",ref:l,className:"hidden",onChange:L=>N(L,"govtId")}),e.jsxs("div",{onClick:()=>l.current.click(),className:`border-2 border-dashed rounded-xl p-8 flex flex-col items-center justify-center text-center transition-all duration-300 cursor-pointer group ${x.govtId?"border-emerald-500 bg-emerald-50/30":"border-slate-200 hover:border-violet-300 hover:bg-violet-50/30"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center mb-3 group-hover:scale-110 group-hover:rotate-6 transition-all duration-300 shadow-md ${x.govtId?"bg-emerald-500 text-white":"bg-gradient-to-br from-violet-500 to-purple-600 text-white"}`,children:x.govtId?e.jsx(as,{size:24}):e.jsx(Af,{size:24})}),e.jsx("div",{className:"text-sm font-bold text-slate-900",children:x.govtId?x.govtId.name:"Upload Government ID"})]}),e.jsx("input",{type:"file",ref:i,className:"hidden",onChange:L=>N(L,"contract")}),e.jsxs("div",{onClick:()=>i.current.click(),className:`border-2 border-dashed rounded-xl p-8 flex flex-col items-center justify-center text-center transition-all duration-300 cursor-pointer group ${x.contract?"border-emerald-500 bg-emerald-50/30":"border-slate-200 hover:border-violet-300 hover:bg-violet-50/30"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center mb-3 group-hover:scale-110 group-hover:rotate-6 transition-all duration-300 shadow-md ${x.contract?"bg-emerald-500 text-white":"bg-gradient-to-br from-violet-500 to-purple-600 text-white"}`,children:x.contract?e.jsx(as,{size:24}):e.jsx(er,{size:24})}),e.jsx("div",{className:"text-sm font-bold text-slate-900",children:x.contract?x.contract.name:"Upload Contract"})]})]})]}),e.jsxs("button",{type:"submit",disabled:h,className:`group relative w-full px-6 py-4 rounded-xl font-bold shadow-xl hover:shadow-2xl hover:scale-105 transition-all duration-300 flex items-center justify-center gap-2 bg-gradient-to-r from-violet-600 to-purple-600 text-white text-lg ${h?"opacity-70 cursor-not-allowed":""}`,children:[h?e.jsx(Je,{className:"w-5 h-5 animate-spin relative"}):e.jsx(xa,{className:"w-5 h-5 relative transition-transform duration-300 group-hover:scale-110"}),e.jsx("span",{className:"relative",children:h?"Processing...":r?"Update Profile":"Save Profile"})]})]})]})})]})},b_=()=>{const[t,s]=j.useState([]),[r,l]=j.useState(!0),[i,o]=j.useState(!1);j.useEffect(()=>{d()},[]);const d=async()=>{l(!0);try{const h=await uM();s(h)}catch(h){console.error("Error loading leave requests:",h)}finally{l(!1)}},x=async(h,p)=>{o(!0);try{await hM(h,p),alert(`Leave request ${p.toLowerCase()}!`),d()}catch(g){console.error("Error updating leave request:",g),alert("Failed to update leave request.")}finally{o(!1)}},u=h=>{switch(h){case"Approved":return"bg-emerald-100 text-emerald-700 border border-emerald-200";case"Rejected":return"bg-red-100 text-red-700 border border-red-200";case"Pending":return"bg-amber-100 text-amber-700 border border-amber-200";default:return"bg-slate-100 text-slate-700 border border-slate-200"}};return r?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh]",children:[e.jsx("div",{className:"w-10 h-10 border-4 border-violet-600 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"mt-4 text-slate-500 font-medium",children:"Loading leave requests..."})]}):e.jsxs("div",{className:"flex flex-col gap-6 animate-in fade-in duration-500",children:[e.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-black text-slate-900 flex items-center gap-3",children:[e.jsx(Ye,{className:"text-violet-500",size:28}),"Leave Requests"]}),e.jsx("p",{className:"text-slate-500 font-medium mt-1 text-sm",children:"Review and manage staff leave applications"})]})}),e.jsx("div",{className:"bg-white rounded-3xl border border-slate-100 shadow-xl overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50/50 border-b border-slate-100",children:[e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Employee"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Type"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Date Range"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Reason"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:t.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-12 text-center text-slate-500",children:"No leave requests found."})}):t.map(h=>e.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-bold text-slate-900",children:h.user?.name||"Unknown"}),e.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:h.user?.role||"Staff"})]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsx("span",{className:"text-xs font-bold text-slate-600",children:h.type})}),e.jsx("td",{className:"px-6 py-5",children:e.jsx("div",{className:"flex flex-col gap-1",children:e.jsxs("span",{className:"text-sm font-bold text-slate-900",children:[new Date(h.startDate).toLocaleDateString(),new Date(h.startDate).getTime()!==new Date(h.endDate).getTime()&&`  ${new Date(h.endDate).toLocaleDateString()}`]})})}),e.jsx("td",{className:"px-6 py-5",children:e.jsx("span",{className:"text-xs text-slate-500 font-medium truncate max-w-[200px] block",title:h.reason,children:h.reason})}),e.jsx("td",{className:"px-6 py-5",children:e.jsx("div",{className:"flex justify-center",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-wider flex items-center gap-1 ${u(h.status)}`,children:h.status})})}),e.jsx("td",{className:"px-6 py-5",children:e.jsx("div",{className:"flex justify-center gap-2",children:h.status==="Pending"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>x(h.id,"Approved"),disabled:i,className:"p-2 bg-emerald-50 text-emerald-600 hover:bg-emerald-100 rounded-lg transition-colors border border-emerald-100",title:"Approve",children:e.jsx(as,{size:18})}),e.jsx("button",{onClick:()=>x(h.id,"Rejected"),disabled:i,className:"p-2 bg-rose-50 text-rose-600 hover:bg-rose-100 rounded-lg transition-colors border border-rose-100",title:"Reject",children:e.jsx(vn,{size:18})})]})})})]},h.id))})]})})})]})},v_=()=>{const t=()=>{const S=new Date,v=S.getFullYear(),N=String(S.getMonth()+1).padStart(2,"0"),A=String(S.getDate()).padStart(2,"0");return`${v}-${N}-${A}`},[s,r]=j.useState(t()),[l,i]=j.useState("Main Branch"),[o,d]=j.useState(""),[x,u]=j.useState([{label:"Total Revenue",value:"0",icon:Vn,bg:"bg-indigo-50",color:"text-indigo-600"},{label:"Monthly Target",value:"5,00,000",icon:Ks,bg:"bg-emerald-50",color:"text-emerald-600"},{label:"Pending Payments",value:"0",icon:ca,bg:"bg-amber-50",color:"text-amber-600"}]),[h,p]=j.useState([]),[g,y]=j.useState(!0),f=async()=>{try{y(!0);const S=await we.get("/branch-admin/reports/revenue",{params:{date:s}});u(S.data.stats.map(v=>({...v,icon:v.icon==="DollarSign"?Vn:v.icon==="TrendingUp"?Ks:ca}))),p(S.data.revenueData)}catch(S){console.error("Failed to fetch revenue report:",S)}finally{y(!1)}};j.useEffect(()=>{f()},[s]);const w=()=>{if(h.length===0){alert("No data available to export.");return}const v=[["Date","Member","Service","Amount","Mode","Status"].join(","),...h.map(M=>[`"${M.date}"`,`"${M.member}"`,`"${M.service}"`,`"${M.amount}"`,`"${M.mode}"`,`"${M.status}"`].join(","))].join(`
`),N=new Blob([v],{type:"text/csv;charset=utf-8;"}),A=document.createElement("a"),L=URL.createObjectURL(N);A.setAttribute("href",L),A.setAttribute("download",`revenue_report_${s}.csv`),A.style.visibility="hidden",document.body.appendChild(A),A.click(),document.body.removeChild(A)};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-6 md:p-8",children:[e.jsxs("div",{className:"mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-indigo-500 to-blue-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(Vn,{size:28})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-indigo-600 via-blue-600 to-cyan-600 bg-clip-text text-transparent",children:"Revenue Report"}),e.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Track payments, collection trends and financial health"})]})]}),e.jsxs("button",{onClick:w,className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-indigo-600 to-blue-600 hover:shadow-xl hover:shadow-indigo-500/50 text-white rounded-xl text-sm font-bold transition-all hover:scale-[1.02] active:scale-[0.98]",children:[e.jsx(Js,{size:18}),"Export Report"]})]})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:x.map((S,v)=>e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-xl border border-slate-100 flex items-center gap-4 hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1",children:[e.jsx("div",{className:`p-4 rounded-xl ${S.bg} ${S.color} shadow-md`,children:e.jsx(S.icon,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1",children:S.label}),e.jsx("p",{className:"text-3xl font-black text-gray-900 leading-none",children:S.value})]})]},v))}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden mb-8",children:[e.jsx("div",{className:"p-6 border-b border-slate-100 bg-gray-50/30",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-center",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 w-full md:w-auto",children:[e.jsxs("div",{className:"relative group",children:[e.jsx(Ye,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"date",className:"pl-11 h-11 px-4 rounded-xl border-2 border-slate-200 text-sm focus:border-indigo-500 transition-all bg-white",value:s,onChange:S=>r(S.target.value)})]}),e.jsxs("select",{className:"h-11 px-4 rounded-xl border-2 border-slate-200 text-sm focus:border-indigo-500 transition-all bg-white font-medium text-gray-700",value:l,onChange:S=>i(S.target.value),children:[e.jsx("option",{children:"Main Branch"}),e.jsx("option",{children:"Downtown Studio"})]})]}),e.jsxs("div",{className:"relative w-full md:w-72",children:[e.jsx(Qe,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"text",placeholder:"Search payments...",className:"pl-11 h-11 w-full rounded-xl border-2 border-slate-200 focus:border-indigo-500 text-sm transition-all",value:o,onChange:S=>d(S.target.value)})]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Member"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Service"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Mode"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Status"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:g?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx(wn,{className:"w-8 h-8 text-indigo-500 animate-spin"}),e.jsx("p",{className:"text-slate-500 font-medium",children:"Loading revenue data..."})]})})}):h.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-12 text-center text-slate-400 font-medium italic",children:"No transactions found for the selected period"})}):h.filter(S=>S.member.toLowerCase().includes(o.toLowerCase())).map(S=>e.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 text-sm font-medium text-slate-600",children:S.date}),e.jsx("td",{className:"px-6 py-4 text-sm font-bold text-slate-900",children:S.member}),e.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:S.service}),e.jsx("td",{className:"px-6 py-4 text-sm font-black text-indigo-600",children:S.amount}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:"flex items-center gap-1.5 text-xs font-medium text-slate-500",children:[S.mode==="UPI"||S.mode==="GPay"||S.mode==="PhonePe"?e.jsx($r,{size:14,className:"text-blue-500"}):e.jsx(Os,{size:14}),S.mode]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-widest ${S.status==="Paid"?"bg-emerald-100 text-emerald-700":S.status==="Partial"?"bg-amber-100 text-amber-700":"bg-rose-100 text-rose-700"}`,children:S.status})})]},S.id))})]})})]})]})},y_=()=>{const t=()=>{const f=new Date,w=f.getFullYear(),S=String(f.getMonth()+1).padStart(2,"0"),v=String(f.getDate()).padStart(2,"0");return`${w}-${S}-${v}`},[s,r]=j.useState(t()),[l,i]=j.useState(""),[o,d]=j.useState([{label:"Active Members",value:"0",icon:yl,bg:"bg-emerald-50",color:"text-emerald-600"},{label:"New Joins (MTD)",value:"0",icon:fn,bg:"bg-blue-50",color:"text-blue-600"},{label:"Expired (MTD)",value:"0",icon:Mf,bg:"bg-rose-50",color:"text-rose-600"}]),[x,u]=j.useState([]),[h,p]=j.useState(!0),g=async()=>{try{p(!0);const f=await we.get("/branch-admin/reports/membership",{params:{date:s}}),w={UserCheck:yl,UserPlus:fn,UserMinus:Mf};d(f.data.stats.map(S=>({...S,icon:w[S.icon]||yl}))),u(f.data.membershipData)}catch(f){console.error("Failed to fetch membership report:",f)}finally{p(!1)}};j.useEffect(()=>{g()},[s]);const y=()=>{if(x.length===0){alert("No data available to export.");return}const w=[["Member Name","Plan Type","Membership Start","Expiry Date","Status"].join(","),...x.map(A=>[`"${A.name}"`,`"${A.plan}"`,`"${A.startDate}"`,`"${A.endDate}"`,`"${A.status}"`].join(","))].join(`
`),S=new Blob([w],{type:"text/csv;charset=utf-8;"}),v=document.createElement("a"),N=URL.createObjectURL(S);v.setAttribute("href",N),v.setAttribute("download",`membership_report_${s}.csv`),v.style.visibility="hidden",document.body.appendChild(v),v.click(),document.body.removeChild(v)};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-6 md:p-8",children:[e.jsxs("div",{className:"mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-500 via-teal-500 to-cyan-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-emerald-500 to-teal-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(Et,{size:28})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-emerald-600 via-teal-600 to-cyan-600 bg-clip-text text-transparent",children:"Membership Report"}),e.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Analyze member growth, retention and plan distribution"})]})]}),e.jsxs("button",{onClick:y,className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-emerald-600 to-teal-600 hover:shadow-xl hover:shadow-emerald-500/50 text-white rounded-xl text-sm font-bold transition-all hover:scale-[1.02] active:scale-[0.98]",children:[e.jsx(Js,{size:18}),"Export Data"]})]})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:o.map((f,w)=>e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-xl border border-slate-100 flex items-center gap-4 hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1",children:[e.jsx("div",{className:`p-4 rounded-xl ${f.bg} ${f.color} shadow-md`,children:e.jsx(f.icon,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1",children:f.label}),e.jsx("p",{className:"text-3xl font-black text-gray-900 leading-none",children:f.value})]})]},w))}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden mb-8",children:[e.jsx("div",{className:"p-6 border-b border-slate-100 bg-gray-50/30",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative group",children:[e.jsx(Ye,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"date",className:"pl-11 h-11 px-4 rounded-xl border-2 border-slate-200 text-sm focus:border-emerald-500 transition-all bg-white",value:s,onChange:f=>r(f.target.value)})]}),e.jsxs("button",{onClick:()=>{const f=x.reduce((S,v)=>(S[v.plan]=(S[v.plan]||0)+1,S),{}),w=Object.entries(f).map(([S,v])=>`${S}: ${v}`).join(`
`);alert(`Plan Distribution:

${w||"No data available"}`)},className:"flex items-center gap-2 px-4 py-2 bg-emerald-50 border border-emerald-100 rounded-xl text-emerald-700 text-xs font-bold hover:bg-emerald-100 transition-colors",children:[e.jsx(dg,{size:14}),"Plan Distribution"]})]}),e.jsxs("div",{className:"relative w-full md:w-72",children:[e.jsx(Qe,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"text",placeholder:"Search members...",className:"pl-11 h-11 w-full rounded-xl border-2 border-slate-200 focus:border-emerald-500 text-sm transition-all",value:l,onChange:f=>i(f.target.value)})]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Member Name"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Plan Type"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Membership Start"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Expiry Date"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Status"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:h?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx(wn,{className:"w-8 h-8 text-emerald-500 animate-spin"}),e.jsx("p",{className:"text-slate-500 font-medium",children:"Loading membership data..."})]})})}):x.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-12 text-center text-slate-400 font-medium italic",children:"No members found for the selected period"})}):x.filter(f=>f.name.toLowerCase().includes(l.toLowerCase())).map(f=>e.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center text-[10px] font-black text-slate-500",children:f.name.charAt(0)}),e.jsx("span",{className:"text-sm font-bold text-slate-900",children:f.name})]})}),e.jsx("td",{className:"px-6 py-4 text-sm font-medium text-slate-600",children:f.plan}),e.jsx("td",{className:"px-6 py-4 text-sm text-slate-500",children:f.startDate}),e.jsx("td",{className:"px-6 py-4 text-sm font-bold text-slate-700",children:f.endDate}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-widest ${f.status==="Active"?"bg-emerald-100 text-emerald-700":"bg-rose-100 text-rose-700"}`,children:f.status})})]},f.id))})]})})]})]})},j_=()=>{const t=()=>{const f=new Date,w=f.getFullYear(),S=String(f.getMonth()+1).padStart(2,"0"),v=String(f.getDate()).padStart(2,"0");return`${w}-${S}-${v}`},[s,r]=j.useState(t()),[l,i]=j.useState(""),[o,d]=j.useState([{label:"Total Leads",value:"0",icon:C1,bg:"bg-orange-50",color:"text-orange-600"},{label:"Converted Leads",value:"0",icon:jn,bg:"bg-purple-50",color:"text-purple-600"},{label:"Conversion rate",value:"0%",icon:kd,bg:"bg-blue-50",color:"text-blue-600"}]),[x,u]=j.useState([]),[h,p]=j.useState(!0),g=async()=>{try{p(!0);const f=await we.get("/branch-admin/reports/lead-conversion",{params:{date:s}}),w={MousePointer2:C1,Target:jn,Percent:kd};d(f.data.stats.map(S=>({...S,icon:w[S.icon]||jn}))),u(f.data.leadData)}catch(f){console.error("Failed to fetch lead conversion report:",f)}finally{p(!1)}};j.useEffect(()=>{g()},[s]);const y=()=>{if(x.length===0){alert("No data available to export.");return}const w=[["Lead Name","Source","Date Received","Status","Sales Notes"].join(","),...x.map(A=>[`"${A.name}"`,`"${A.source}"`,`"${A.date}"`,`"${A.status}"`,`"${A.notes.replace(/"/g,'""')}"`].join(","))].join(`
`),S=new Blob([w],{type:"text/csv;charset=utf-8;"}),v=document.createElement("a"),N=URL.createObjectURL(S);v.setAttribute("href",N),v.setAttribute("download",`lead_conversion_report_${s}.csv`),v.style.visibility="hidden",document.body.appendChild(v),v.click(),document.body.removeChild(v)};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-6 md:p-8",children:[e.jsxs("div",{className:"mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-500 via-rose-500 to-amber-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-orange-500 to-rose-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(Ks,{size:28})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-orange-600 via-rose-600 to-amber-600 bg-clip-text text-transparent",children:"Lead Conversion Report"}),e.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Monitor marketing performance and sales funnel efficiency"})]})]}),e.jsxs("button",{onClick:y,className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-orange-600 to-rose-600 hover:shadow-xl hover:shadow-orange-500/50 text-white rounded-xl text-sm font-bold transition-all hover:scale-[1.02] active:scale-[0.98]",children:[e.jsx(Js,{size:18}),"Export Funnel Data"]})]})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:o.map((f,w)=>e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-xl border border-slate-100 flex items-center gap-4 hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1",children:[e.jsx("div",{className:`p-4 rounded-xl ${f.bg} ${f.color} shadow-md`,children:e.jsx(f.icon,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1",children:f.label}),e.jsx("p",{className:"text-3xl font-black text-gray-900 leading-none",children:f.value})]})]},w))}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden mb-8",children:[e.jsx("div",{className:"p-6 border-b border-slate-100 bg-gray-50/30",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative group",children:[e.jsx(Ye,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"date",className:"pl-11 h-11 px-4 rounded-xl border-2 border-slate-200 text-sm focus:border-orange-500 transition-all bg-white",value:s,onChange:f=>r(f.target.value)})]}),e.jsxs("button",{onClick:()=>{const f=x.reduce((S,v)=>(S[v.source]=(S[v.source]||0)+1,S),{}),w=Object.entries(f).map(([S,v])=>`${S}: ${v}`).join(`
`);alert(`Source Breakdown:

${w||"No data available"}`)},className:"flex items-center gap-2 px-4 py-2 bg-rose-50 border border-rose-100 rounded-xl text-rose-700 text-xs font-bold hover:bg-rose-100 transition-colors",children:[e.jsx(q8,{size:14}),"Source Breakdown"]})]}),e.jsxs("div",{className:"relative w-full md:w-72",children:[e.jsx(Qe,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"text",placeholder:"Search leads...",className:"pl-11 h-11 w-full rounded-xl border-2 border-slate-200 focus:border-orange-500 text-sm transition-all",value:l,onChange:f=>i(f.target.value)})]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Lead Name"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Source"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Date Received"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Sales Notes"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:h?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx(wn,{className:"w-8 h-8 text-orange-500 animate-spin"}),e.jsx("p",{className:"text-slate-500 font-medium",children:"Loading funnel data..."})]})})}):x.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-12 text-center text-slate-400 font-medium italic",children:"No leads found for the selected period"})}):x.filter(f=>f.name.toLowerCase().includes(l.toLowerCase())).map(f=>e.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 text-sm font-bold text-slate-900",children:f.name}),e.jsx("td",{className:"px-6 py-4 text-sm font-medium text-slate-600",children:f.source}),e.jsx("td",{className:"px-6 py-4 text-sm text-slate-500",children:f.date}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-widest ${f.status==="Converted"?"bg-emerald-100 text-emerald-700":f.status==="Follow-up"?"bg-blue-100 text-blue-700":"bg-slate-100 text-slate-700"}`,children:f.status})}),e.jsxs("td",{className:"px-6 py-4 text-sm text-slate-500 italic",children:['"',f.notes,'"']})]},f.id))})]})})]})]})},w_=()=>{const t=()=>{const f=new Date,w=f.getFullYear(),S=String(f.getMonth()+1).padStart(2,"0"),v=String(f.getDate()).padStart(2,"0");return`${w}-${S}-${v}`},[s,r]=j.useState(t()),[l,i]=j.useState(""),[o,d]=j.useState([{label:"Total Expenses",value:"0",icon:Os,bg:"bg-rose-50",color:"text-rose-600"},{label:"Operational Costs",value:"0",icon:ha,bg:"bg-blue-50",color:"text-blue-600"},{label:"Supplies/Inventory",value:"0",icon:zc,bg:"bg-amber-50",color:"text-amber-600"}]),[x,u]=j.useState([]),[h,p]=j.useState(!0),g=async()=>{try{p(!0);const f=await we.get("/branch-admin/reports/expenses",{params:{date:s}}),w={CreditCard:Os,Zap:ha,ShoppingBag:zc};d(f.data.stats.map(S=>({...S,icon:w[S.icon]||Os}))),u(f.data.expenseData)}catch(f){console.error("Failed to fetch expense report:",f)}finally{p(!1)}};j.useEffect(()=>{g()},[s]);const y=()=>{if(x.length===0){alert("No data available to export.");return}const w=[["Date","Category","Description","Amount","Status"].join(","),...x.map(A=>[`"${A.date}"`,`"${A.category}"`,`"${A.description.replace(/"/g,'""')}"`,`"${A.amount}"`,`"${A.status}"`].join(","))].join(`
`),S=new Blob([w],{type:"text/csv;charset=utf-8;"}),v=document.createElement("a"),N=URL.createObjectURL(S);v.setAttribute("href",N),v.setAttribute("download",`expense_report_${s}.csv`),v.style.visibility="hidden",document.body.appendChild(v),v.click(),document.body.removeChild(v)};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-6 md:p-8",children:[e.jsxs("div",{className:"mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-rose-500 via-pink-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-rose-500 to-pink-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(Wa,{size:28})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-rose-600 via-pink-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Expense Report"}),e.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Track operational expenditures and overhead costs"})]})]}),e.jsxs("button",{onClick:y,className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-rose-600 to-pink-600 hover:shadow-xl hover:shadow-rose-500/50 text-white rounded-xl text-sm font-bold transition-all hover:scale-[1.02] active:scale-[0.98]",children:[e.jsx(Js,{size:18}),"Export Expenses"]})]})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:o.map((f,w)=>e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-xl border border-slate-100 flex items-center gap-4 hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1",children:[e.jsx("div",{className:`p-4 rounded-xl ${f.bg} ${f.color} shadow-md`,children:e.jsx(f.icon,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1",children:f.label}),e.jsx("p",{className:"text-3xl font-black text-gray-900 leading-none",children:f.value})]})]},w))}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden mb-8",children:[e.jsx("div",{className:"p-6 border-b border-slate-100 bg-gray-50/30",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative group",children:[e.jsx(Ye,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"date",className:"pl-11 h-11 px-4 rounded-xl border-2 border-slate-200 text-sm focus:border-rose-500 transition-all bg-white",value:s,onChange:f=>r(f.target.value)})]}),e.jsxs("button",{onClick:()=>{const f=x.reduce((S,v)=>(S[v.category]=(S[v.category]||0)+1,S),{}),w=Object.entries(f).map(([S,v])=>`${S}: ${v}`).join(`
`);alert(`Category Distribution:

${w||"No data available"}`)},className:"flex items-center gap-2 px-4 py-2 bg-pink-50 border border-pink-100 rounded-xl text-pink-700 text-xs font-bold hover:bg-pink-100 transition-colors",children:[e.jsx(dg,{size:14}),"Category Distribution"]})]}),e.jsxs("div",{className:"relative w-full md:w-72",children:[e.jsx(Qe,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"text",placeholder:"Search expenses...",className:"pl-11 h-11 w-full rounded-xl border-2 border-slate-200 focus:border-rose-500 text-sm transition-all",value:l,onChange:f=>i(f.target.value)})]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Category"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Description"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Status"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:h?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx(wn,{className:"w-8 h-8 text-rose-500 animate-spin"}),e.jsx("p",{className:"text-slate-500 font-medium",children:"Loading expense data..."})]})})}):x.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-12 text-center text-slate-400 font-medium italic",children:"No expenses found for the selected period"})}):x.filter(f=>f.description.toLowerCase().includes(l.toLowerCase())||f.category.toLowerCase().includes(l.toLowerCase())).map(f=>e.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 text-sm font-medium text-slate-600",children:f.date}),e.jsx("td",{className:"px-6 py-4 text-sm font-bold text-rose-600",children:f.category}),e.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:f.description}),e.jsx("td",{className:"px-6 py-4 text-sm font-black text-slate-900",children:f.amount}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-widest ${f.status==="Paid"?"bg-emerald-100 text-emerald-700":"bg-amber-100 text-amber-700"}`,children:f.status})})]},f.id))})]})})]})]})},N_=()=>{const t=()=>{const f=new Date,w=f.getFullYear(),S=String(f.getMonth()+1).padStart(2,"0"),v=String(f.getDate()).padStart(2,"0");return`${w}-${S}-${v}`},[s,r]=j.useState(t()),[l,i]=j.useState(""),[o,d]=j.useState([{label:"Revenue vs Expense",value:"0%",icon:Ks,bg:"bg-indigo-50",color:"text-indigo-600",trend:"up"},{label:"Lead Conv. Rate",value:"0%",icon:jn,bg:"bg-purple-50",color:"text-purple-600",trend:"up"},{label:"Member Retention",value:"0%",icon:Wt,bg:"bg-emerald-50",color:"text-emerald-600",trend:"up"}]),[x,u]=j.useState([]),[h,p]=j.useState(!0),g=async()=>{try{p(!0);const f=await we.get("/branch-admin/reports/performance",{params:{date:s}}),w={TrendingUp:Ks,Target:jn,Activity:Wt};d(f.data.stats.map(S=>({...S,icon:w[S.icon]||Wt}))),u(f.data.performanceData)}catch(f){console.error("Failed to fetch performance report:",f)}finally{p(!1)}};j.useEffect(()=>{g()},[s]);const y=()=>{if(x.length===0){alert("No data available to export.");return}const w=[["Month","Revenue","Expense","Profit","Margin","Status"].join(","),...x.map(A=>[`"${A.month}"`,`"${A.revenue}"`,`"${A.expense}"`,`"${A.profit}"`,`"${A.margin}"`,`"${A.status}"`].join(","))].join(`
`),S=new Blob([w],{type:"text/csv;charset=utf-8;"}),v=document.createElement("a"),N=URL.createObjectURL(S);v.setAttribute("href",N),v.setAttribute("download",`performance_report_${s}.csv`),v.style.visibility="hidden",document.body.appendChild(v),v.click(),document.body.removeChild(v)};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-6 md:p-8",children:[e.jsxs("div",{className:"mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-500 via-purple-500 to-emerald-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(Wt,{size:28})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-indigo-600 via-purple-600 to-emerald-600 bg-clip-text text-transparent",children:"Branch Performance Report"}),e.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Comparative analysis of key performance indicators (KPIs)"})]})]}),e.jsxs("button",{onClick:y,className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-indigo-600 to-purple-600 hover:shadow-xl hover:shadow-indigo-500/50 text-white rounded-xl text-sm font-bold transition-all hover:scale-[1.02] active:scale-[0.98]",children:[e.jsx(Js,{size:18}),"Export Data"]})]})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:o.map((f,w)=>e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-xl border border-slate-100 flex items-center gap-4 hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1",children:[e.jsx("div",{className:`p-4 rounded-xl ${f.bg} ${f.color} shadow-md`,children:e.jsx(f.icon,{size:24})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1",children:f.label}),e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsx("p",{className:"text-3xl font-black text-gray-900 leading-none",children:f.value}),e.jsxs("span",{className:`flex items-center text-[10px] font-bold ${f.trend==="up"?"text-emerald-600":"text-rose-600"}`,children:[f.trend==="up"?e.jsx(rl,{size:12}):e.jsx(Mj,{size:12}),f.trend==="up"?"":""]})]})]})]},w))}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden mb-8",children:[e.jsx("div",{className:"p-6 border-b border-slate-100 bg-gray-50/30",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative group",children:[e.jsx(Ye,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"date",className:"pl-11 h-11 px-4 rounded-xl border-2 border-slate-200 text-sm focus:border-indigo-500 transition-all bg-white",value:s,onChange:f=>r(f.target.value)})]}),e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-indigo-50 border border-indigo-100 rounded-xl text-indigo-700 text-xs font-bold",children:[e.jsx(ha,{size:14}),"Efficiency Score: 8.4/10"]})]}),e.jsxs("div",{className:"relative w-full md:w-72",children:[e.jsx(Qe,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"text",placeholder:"Search performance...",className:"pl-11 h-11 w-full rounded-xl border-2 border-slate-200 focus:border-indigo-500 text-sm transition-all",value:l,onChange:f=>i(f.target.value)})]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Month/Period"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Total Revenue"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Total Expense"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Net Profit"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Margin %"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Status"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:h?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx(wn,{className:"w-8 h-8 text-indigo-500 animate-spin"}),e.jsx("p",{className:"text-slate-500 font-medium",children:"Analyzing performance metrics..."})]})})}):x.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-12 text-center text-slate-400 font-medium italic",children:"No performance data found for the selected period"})}):x.filter(f=>f.month.toLowerCase().includes(l.toLowerCase())).map(f=>e.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 text-sm font-bold text-slate-900",children:f.month}),e.jsx("td",{className:"px-6 py-4 text-sm font-medium text-emerald-600",children:f.revenue}),e.jsx("td",{className:"px-6 py-4 text-sm font-medium text-rose-600",children:f.expense}),e.jsx("td",{className:"px-6 py-4 text-sm font-black text-slate-900",children:f.profit}),e.jsx("td",{className:"px-6 py-4 text-sm font-bold text-indigo-600",children:f.margin}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-widest ${f.status==="Excellent"?"bg-indigo-100 text-indigo-700":f.status==="Good"?"bg-emerald-100 text-emerald-700":"bg-amber-100 text-amber-700"}`,children:f.status})})]},f.id))})]})})]})]})},k_=async(t="",s="All")=>{try{return(await we.get("/superadmin/gyms",{params:{search:t,status:s}})).data}catch(r){throw r}},S_=async t=>{try{return(await we.post("/superadmin/gyms",t)).data}catch(s){throw s}},C_=async(t,s)=>{try{return(await we.patch(`/superadmin/gyms/${t}`,s)).data}catch(r){throw r}},A_=async t=>{try{return(await we.delete(`/superadmin/gyms/${t}`)).data}catch(s){throw s}},M_=()=>{Gt();const[t,s]=j.useState(!1),[r,l]=j.useState(!1),[i,o]=j.useState(!1),[d,x]=j.useState(!1),[u,h]=j.useState(null),[p,g]=j.useState(""),[y,f]=j.useState([]),[w,S]=j.useState(!0),[v,N]=j.useState({name:"",branchName:"",owner:"",phone:"",email:"",location:"",status:"Active"});j.useEffect(()=>{A()},[]);const A=async()=>{try{S(!0);const R=await k_();f(R.gyms||[])}catch(R){console.error("Failed to load branches:",R),It.error("Failed to load branches")}finally{S(!1)}},L=[{id:101,name:"Rahul V.",role:"Trainer",status:"Available"},{id:102,name:"Pooja K.",role:"Manager",status:"Assigned"},{id:103,name:"Vikram S.",role:"Trainer",status:"Available"},{id:104,name:"Anita D.",role:"Staff",status:"Available"}],M=R=>{h(R),o(!0)},T=R=>{h(R),N({name:R.gymName,branchName:R.branchName||"",owner:R.owner||"",phone:R.phone||"",email:"",location:R.location||"",status:R.status}),x(!0)},_=async R=>{if(window.confirm("Are you sure you want to delete this branch? This action cannot be undone."))try{await A_(R),It.success("Branch deleted successfully"),A()}catch(W){console.error("Failed to delete branch:",W),It.error("Failed to delete branch")}},I=R=>{const{name:W,value:H}=R.target;N($=>({...$,[W]:H}))},B=async()=>{try{if(!v.branchName||!v.email){It.error("Branch Name and Email are required");return}const R={gymName:v.branchName,branchName:v.branchName,owner:v.owner,phone:v.phone,location:v.location,email:v.email};await S_(R),It.success("Branch created successfully"),s(!1),N({name:"",branchName:"",owner:"",phone:"",email:"",location:"",status:"Active"}),A()}catch(R){console.error("Failed to save branch:",R);const W=R.response?.data?.message||R.message||"Failed to create branch";It.error(W)}},P=async()=>{try{const R={name:v.name,branchName:v.branchName,owner:v.owner,phone:v.phone,location:v.location,status:v.status};await C_(u.id,R),It.success("Branch updated successfully"),x(!1),A()}catch(R){console.error("Failed to update branch:",R),It.error("Failed to update branch")}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-violet-50/30 p-6 md:p-8",children:[e.jsxs("div",{className:"mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500 rounded-2xl blur-2xl opacity-10 animate-pulse"}),e.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-slate-100 p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:rotate-6",children:e.jsx(Dr,{size:28})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 bg-clip-text text-transparent",children:"Branch Management"}),e.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Configure and manage your gym locations and staff assignments"})]})]}),e.jsxs("button",{onClick:()=>s(!0),className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-violet-600 to-purple-600 hover:shadow-xl hover:shadow-violet-500/50 text-white rounded-xl text-sm font-bold transition-all hover:scale-[1.02] active:scale-[0.98]",children:[e.jsx(St,{size:18,strokeWidth:3}),"Add New Branch"]})]})})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 flex flex-col md:flex-row justify-between items-center gap-4",children:[e.jsxs("div",{className:"relative w-full md:w-80 group",children:[e.jsx(Qe,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-violet-500 transition-colors",size:18}),e.jsx("input",{type:"text",placeholder:"Search by branch name or code...",className:"w-full pl-11 pr-4 py-2.5 bg-slate-50 border-2 border-slate-100 rounded-xl text-sm focus:outline-none focus:ring-4 focus:ring-violet-500/10 focus:border-violet-500 transition-all font-medium",value:p,onChange:R=>g(R.target.value)})]}),e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-slate-50 border border-slate-100 rounded-xl text-slate-500 text-xs font-bold",children:[e.jsx(Ns,{size:14}),"Filtered by Active"]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{className:"bg-slate-50/50 border-b border-slate-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-slate-400 uppercase tracking-wider",children:"Branch Details"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-slate-400 uppercase tracking-wider text-center",children:"Branch Code"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-slate-400 uppercase tracking-wider",children:"Manager"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-slate-400 uppercase tracking-wider text-center",children:"Staff"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-slate-400 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-[11px] font-bold text-slate-400 uppercase tracking-wider text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:w?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"text-center py-8 text-slate-500",children:e.jsxs("div",{className:"flex justify-center items-center gap-2",children:[e.jsx(X0,{className:"animate-spin",size:20})," Loading branches..."]})})}):y.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"text-center py-8 text-slate-500",children:"No branches found."})}):y.map(R=>e.jsxs("tr",{className:"hover:bg-slate-50/30 transition-colors group",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-violet-50 text-violet-600 flex items-center justify-center shadow-inner group-hover:scale-110 transition-transform",children:e.jsx($s,{size:20})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-bold text-slate-800",children:R.gymName||R.branchName}),e.jsx("div",{className:"text-[10px] text-slate-400 font-medium truncate max-w-[150px]",children:R.location||"No address"})]})]})}),e.jsx("td",{className:"px-6 py-4 text-center",children:e.jsxs("span",{className:"px-2 py-1 bg-slate-100 rounded text-[10px] font-black text-slate-500 tracking-wider font-mono uppercase",children:["BR-",R.id.toString().padStart(3,"0")]})}),e.jsx("td",{className:"px-6 py-4 text-sm font-medium text-slate-600 italic",children:R.owner||"N/A"}),e.jsx("td",{className:"px-6 py-4 text-center",children:e.jsxs("div",{className:"inline-flex items-center gap-1.5 px-2 py-1 bg-blue-50 text-blue-600 rounded-lg text-xs font-black",children:[e.jsx(Et,{size:12}),R.members||0]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:`inline-flex items-center gap-1 text-[10px] font-black uppercase tracking-widest px-2 py-1 rounded-full border ${R.status==="Active"?"text-emerald-600 bg-emerald-50 border-emerald-100":"text-slate-500 bg-slate-100 border-slate-200"}`,children:[e.jsx("div",{className:`h-1 w-1 rounded-full ${R.status==="Active"?"bg-emerald-500 animate-pulse":"bg-slate-400"}`}),R.status]})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-3",children:[e.jsx("button",{onClick:()=>M(R),className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all cursor-pointer",title:"View Details",children:e.jsx(da,{size:16})}),e.jsx("button",{onClick:()=>T(R),className:"p-2 text-slate-400 hover:text-emerald-600 hover:bg-emerald-50 rounded-lg transition-all cursor-pointer",title:"Edit Branch",children:e.jsx(ar,{size:16})}),e.jsx("button",{onClick:()=>_(R.id),className:"p-2 text-slate-400 hover:text-rose-600 hover:bg-rose-50 rounded-lg transition-all cursor-pointer",title:"Delete Branch",children:e.jsx(Ms,{size:16})})]})})]},R.id))})]})})]}),e.jsx(at,{isOpen:t,onClose:()=>s(!1),title:"Add New Branch",subtitle:"Fill in the details to create a new location",footer:e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsx("button",{onClick:()=>s(!1),className:"px-6 py-2.5 bg-slate-100 text-slate-600 rounded-xl text-sm font-bold hover:bg-slate-200 transition-all active:scale-95",children:"Cancel"}),e.jsx("button",{onClick:B,className:"px-8 py-2.5 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-xl text-sm font-bold shadow-lg shadow-violet-500/30 hover:shadow-violet-500/50 transition-all hover:scale-105 active:scale-95",children:"Save Branch"})]}),children:e.jsxs("div",{className:"flex flex-col gap-6 p-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Branch Name"}),e.jsx("input",{name:"branchName",value:v.branchName,onChange:I,type:"text",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-100 rounded-xl text-sm focus:border-violet-500 transition-all font-medium",placeholder:"E.g. Southside Studio"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Manager Name"}),e.jsx("input",{name:"owner",value:v.owner,onChange:I,type:"text",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-100 rounded-xl text-sm focus:border-violet-500 transition-all font-medium",placeholder:"John Doe"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Status"}),e.jsxs("select",{name:"status",value:v.status,onChange:I,className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-100 rounded-xl text-sm focus:border-violet-500 transition-all font-medium",children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Suspended",children:"Suspended"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Contact Phone"}),e.jsxs("div",{className:"relative",children:[e.jsx(qs,{className:"absolute left-4 top-3.5 text-slate-300",size:18}),e.jsx("input",{name:"phone",value:v.phone,onChange:I,type:"tel",className:"w-full pl-11 pr-4 py-3 bg-slate-50 border-2 border-slate-100 rounded-xl text-sm focus:border-violet-500 transition-all font-medium",placeholder:"+91 00000 00000"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(Hr,{className:"absolute left-4 top-3.5 text-slate-300",size:18}),e.jsx("input",{name:"email",value:v.email,onChange:I,type:"email",className:"w-full pl-11 pr-4 py-3 bg-slate-50 border-2 border-slate-100 rounded-xl text-sm focus:border-violet-500 transition-all font-medium",placeholder:"branch@gym.com"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Address"}),e.jsx("textarea",{name:"location",value:v.location,onChange:I,rows:"3",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-100 rounded-xl text-sm focus:border-violet-500 transition-all font-medium resize-none",placeholder:"Full branch address..."})]})]})}),e.jsx(at,{isOpen:i,onClose:()=>o(!1),title:"Branch Details",subtitle:u?.name,footer:e.jsx("button",{onClick:()=>o(!1),className:"w-full py-3 bg-slate-100 text-slate-600 rounded-xl text-sm font-bold hover:bg-slate-200 transition-all",children:"Close View"}),children:u&&e.jsxs("div",{className:"flex flex-col gap-8 p-6",children:[e.jsxs("div",{className:"bg-violet-50 rounded-2xl p-6 border border-violet-100 flex flex-col items-center text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-white rounded-2xl shadow-xl flex items-center justify-center text-violet-600 mb-4",children:e.jsx(Dr,{size:32})}),e.jsx("h3",{className:"text-xl font-bold text-slate-800",children:u.gymName||u.branchName}),e.jsxs("span",{className:"px-2 py-0.5 bg-violet-600 text-white rounded text-[10px] font-black uppercase tracking-widest mt-2",children:["BR-",u.id.toString().padStart(3,"0")]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest pl-1",children:"Branch Overview"}),e.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[e.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-100 flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-slate-500",children:"Manager"}),e.jsx("span",{className:"text-sm font-bold text-slate-800",children:u.owner})]}),e.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-100 flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-slate-500",children:"Total Staff"}),e.jsxs("span",{className:"text-sm font-bold text-slate-800",children:[u.members||0," Members"]})]}),e.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-100 flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-slate-500",children:"Status"}),e.jsx("span",{className:"text-xs font-bold text-emerald-600 bg-emerald-50 px-2.5 py-1 rounded-lg uppercase tracking-wider",children:u.status})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest pl-1",children:"Location Details"}),e.jsx("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-100 space-y-4",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx($s,{size:18,className:"text-slate-300 mt-1"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-tighter",children:"Address"}),e.jsx("p",{className:"text-sm font-bold text-slate-700",children:u.location})]})]})})]})]})}),e.jsx(at,{isOpen:d,onClose:()=>x(!1),title:"Edit Branch",subtitle:"Update location details",footer:e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsx("button",{onClick:()=>x(!1),className:"px-6 py-2.5 bg-slate-100 text-slate-600 rounded-xl text-sm font-bold hover:bg-slate-200 transition-all",children:"Cancel"}),e.jsx("button",{onClick:P,className:"px-8 py-2.5 bg-slate-900 text-white rounded-xl text-sm font-bold shadow-lg hover:shadow-slate-200 transition-all hover:scale-105 active:scale-95",children:"Update Changes"})]}),children:u&&e.jsxs("div",{className:"flex flex-col gap-6 p-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest pl-1",children:"Branch Name"}),e.jsx("input",{name:"name",type:"text",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-100 rounded-xl text-sm font-bold focus:border-violet-500 outline-none transition-all shadow-sm",value:v.name,onChange:I})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest pl-1",children:"Manager"}),e.jsx("input",{name:"owner",type:"text",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-100 rounded-xl text-sm font-bold focus:border-violet-500 outline-none transition-all shadow-sm",value:v.owner,onChange:I})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest pl-1",children:"Status"}),e.jsxs("select",{name:"status",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-100 rounded-xl text-sm font-bold focus:border-violet-500 outline-none transition-all shadow-sm",value:v.status,onChange:I,children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Suspended",children:"Suspended"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest pl-1",children:"Address"}),e.jsx("textarea",{name:"location",rows:"3",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-100 rounded-xl text-sm font-bold focus:border-violet-500 outline-none transition-all shadow-sm resize-none",value:v.location,onChange:I})]})]})}),e.jsx(at,{isOpen:r,onClose:()=>l(!1),title:"Assign Staff",subtitle:u?`Relocating staff to ${u.name}`:"Manage branch staff",maxWidth:"max-w-2xl",footer:e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsx("button",{onClick:()=>l(!1),className:"px-6 py-2.5 border border-slate-200 text-slate-600 rounded-xl text-sm font-bold hover:bg-slate-50 transition-all",children:"Cancel"}),e.jsx("button",{className:"px-10 py-2.5 bg-slate-900 text-white rounded-xl text-sm font-bold shadow-lg hover:shadow-slate-200 transition-all transform hover:scale-105 active:scale-95",children:"Update Assignment"})]}),children:e.jsxs("div",{className:"flex flex-col gap-8 p-6",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"relative flex-1 group",children:[e.jsx(Qe,{className:"absolute left-4 top-3 text-slate-300 group-focus-within:text-violet-500",size:18}),e.jsx("input",{type:"text",className:"w-full pl-11 pr-4 py-2.5 bg-slate-50 rounded-xl text-sm border-2 border-slate-100 focus:border-violet-500 outline-none transition-all",placeholder:"Search staff by name or role..."})]}),e.jsx("button",{className:"p-2.5 border-2 border-slate-100 rounded-xl text-slate-400 hover:text-violet-600 hover:bg-violet-50 transition-colors",children:e.jsx(Ns,{size:20})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[e.jsx(Et,{size:14,className:"text-blue-500"})," Available Staff"]}),e.jsx("span",{className:"text-[10px] font-bold text-slate-300",children:"Total: 3"})]}),e.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto pr-2 custom-scrollbar",children:L.map(R=>e.jsxs("div",{className:"p-3 bg-slate-50 border border-slate-100 rounded-xl flex items-center justify-between group hover:border-violet-200 transition-all",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-bold text-slate-700",children:R.name}),e.jsx("div",{className:"text-[10px] text-slate-400 font-medium",children:R.role})]}),e.jsx("button",{className:"p-1.5 bg-white border border-slate-200 text-slate-300 rounded-lg hover:text-emerald-500 hover:border-emerald-500 transition-all",children:e.jsx(St,{size:14})})]},R.id))})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[e.jsx(yl,{size:14,className:"text-emerald-500"})," Assigned Staff"]}),e.jsx("span",{className:"text-[10px] font-bold text-slate-300",children:"Total: 2"})]}),e.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto pr-2 custom-scrollbar",children:e.jsxs("div",{className:"p-3 bg-emerald-50/30 border border-emerald-100 rounded-xl flex items-center justify-between group",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-bold text-emerald-800",children:"Amit Singh"}),e.jsx("div",{className:"text-[10px] text-emerald-600 font-medium",children:"Head Manager"})]}),e.jsx("button",{className:"p-1.5 bg-white border border-emerald-100 text-rose-400 rounded-lg hover:bg-rose-50 transition-all opacity-0 group-hover:opacity-100",children:e.jsx(wl,{size:14})})]})})]})]})]})})]})},D_=()=>{const[t,s]=j.useState(!1),[r,l]=j.useState(!0),[i,o]=j.useState(null),[d,x]=j.useState({paymentWebhook:"",whatsappWebhook:"",attendanceWebhook:"",secret:"whsec_5f8a9b2c3d4e5f6g7h8i9j0k"});j.useEffect(()=>{(async()=>{try{const g=await Ng();g.webhooks&&x(y=>({...y,...g.webhooks}))}catch(g){console.error("Failed to load webhook settings:",g)}finally{l(!1)}})()},[]);const u=(p,g)=>{p&&(navigator.clipboard.writeText(p),o(g),setTimeout(()=>o(null),2e3))},h=async()=>{s(!0);try{await kg({webhooks:d}),alert("Webhook configurations saved successfully!")}catch(p){console.error("Failed to save webhooks:",p),alert("Failed to save webhooks: "+p.message)}finally{s(!1)}};return e.jsx("div",{className:"min-h-screen bg-slate-50/50 p-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-indigo-600 flex items-center justify-center text-white shadow-lg",children:e.jsx(Xx,{size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Webhook Configurations"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Configure real-time triggers for payments and communication"})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between bg-slate-50/50",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(vl,{size:18,className:"text-indigo-600"}),e.jsx("h2",{className:"font-bold text-gray-800",children:"Endpoint Settings"})]}),e.jsx("div",{className:"px-3 py-1 bg-emerald-100 text-emerald-700 rounded-full text-[10px] font-black uppercase tracking-wider",children:"Real-time Sync Active"})]}),e.jsxs("div",{className:"p-8 space-y-8",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("label",{className:"text-sm font-bold text-gray-700 uppercase tracking-tight",children:"Payment Status Webhook"}),e.jsx("span",{className:"text-[10px] font-bold text-indigo-600 bg-indigo-50 px-2 py-0.5 rounded",children:"Trigger: razorpay.payment.captured"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:d.paymentWebhook,onChange:p=>x({...d,paymentWebhook:p.target.value}),placeholder:"https://your-domain.com/webhook",className:"flex-1 px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm font-mono focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 outline-none transition-all"}),e.jsx("button",{onClick:()=>u(d.paymentWebhook,"payment"),className:"px-4 py-3 bg-white border border-slate-200 rounded-xl hover:bg-slate-50 transition-all text-slate-500",children:i==="payment"?e.jsx(ss,{size:18,className:"text-emerald-500"}):e.jsx(wf,{size:18})})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("label",{className:"text-sm font-bold text-gray-700 uppercase tracking-tight",children:"WhatsApp Trigger Webhook"}),e.jsx("span",{className:"text-[10px] font-bold text-emerald-600 bg-emerald-50 px-2 py-0.5 rounded",children:"Trigger: message.received"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:d.whatsappWebhook,onChange:p=>x({...d,whatsappWebhook:p.target.value}),placeholder:"https://your-domain.com/whatsapp-hook",className:"flex-1 px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm font-mono focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 outline-none transition-all"}),e.jsx("button",{onClick:()=>u(d.whatsappWebhook,"whatsapp"),className:"px-4 py-3 bg-white border border-slate-200 rounded-xl hover:bg-slate-50 transition-all text-slate-500",children:i==="whatsapp"?e.jsx(ss,{size:18,className:"text-emerald-500"}):e.jsx(wf,{size:18})})]})]}),e.jsxs("div",{className:"p-4 bg-amber-50 rounded-xl border border-amber-100 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-white flex items-center justify-center text-amber-500 shadow-sm",children:e.jsx($j,{size:16})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-amber-800 uppercase tracking-widest",children:"Webhook Signing Secret"}),e.jsx("p",{className:"text-sm font-mono font-bold text-amber-900 mt-0.5 mt-1",children:"whsec_***********************"})]})]}),e.jsx("button",{className:"text-xs font-bold text-amber-700 hover:underline",children:"Regenerate"})]})]}),e.jsx("div",{className:"p-6 bg-slate-50 border-t border-slate-100 flex justify-end",children:e.jsxs("button",{onClick:h,disabled:t,className:"flex items-center gap-2 px-8 py-3 bg-indigo-600 text-white rounded-xl font-bold shadow-lg shadow-indigo-100 hover:bg-indigo-700 transition-all active:scale-95",children:[e.jsx(xa,{size:18}),t?"Saving...":"Save Endpoints"]})})]})]})})},L_=()=>{const[t,s]=j.useState(!1),[r,l]=j.useState(!0),[i,o]=j.useState({}),[d,x]=j.useState({sms:"",whatsapp:"",razorpay_id:"",razorpay_secret:""});j.useEffect(()=>{(async()=>{try{const y=await Ng();y.apiKeys&&x(f=>({...f,...y.apiKeys}))}catch(y){console.error("Failed to load API keys:",y)}finally{l(!1)}})()},[]);const u=g=>{o(y=>({...y,[g]:!y[g]}))},h=async()=>{s(!0);try{await kg({apiKeys:d}),alert("API credentials updated successfully!")}catch(g){console.error("Failed to save API keys:",g),alert("Failed to save keys: "+g.message)}finally{s(!1)}},p=({label:g,icon:y,value:f,id:w,placeholder:S,onChange:v})=>e.jsxs("div",{className:"space-y-3 p-6 bg-white rounded-2xl border border-slate-100 shadow-sm hover:shadow-md transition-all",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(y,{size:18,className:"text-indigo-600"}),e.jsx("label",{className:"text-sm font-bold text-gray-700 uppercase tracking-tight",children:g})]}),e.jsx("button",{type:"button",onClick:()=>u(w),className:"text-slate-400 hover:text-indigo-600 transition-colors",children:i[w]?e.jsx(vS,{size:18}):e.jsx(da,{size:18})})]}),e.jsx("input",{type:i[w]?"text":"password",value:f||"",onChange:N=>v(N.target.value),placeholder:S,className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm font-mono focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 outline-none transition-all"})]});return e.jsx("div",{className:"min-h-screen bg-slate-50/50 p-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-indigo-600 flex items-center justify-center text-white shadow-lg",children:e.jsx(Rj,{size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"API Key Management"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Securely manage your 3rd party gateway credentials"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(p,{id:"sms",label:"SMS Gateway (Twilio/BulkSMS)",icon:Vl,value:d.sms,onChange:g=>x({...d,sms:g}),placeholder:"Enter API Key or Secret"}),e.jsx(p,{id:"whatsapp",label:"WhatsApp Business API",icon:sr,value:d.whatsapp,onChange:g=>x({...d,whatsapp:g}),placeholder:"System User Access Token"}),e.jsx(p,{id:"razorpay_id",label:"Razorpay Key ID",icon:Os,value:d.razorpay_id,onChange:g=>x({...d,razorpay_id:g}),placeholder:"Key ID"}),e.jsx(p,{id:"razorpay_secret",label:"Razorpay Secret",icon:Xn,value:d.razorpay_secret,onChange:g=>x({...d,razorpay_secret:g}),placeholder:"Key Secret"})]}),e.jsxs("div",{className:"bg-indigo-50 p-6 rounded-2xl border border-indigo-100 flex items-start gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-white flex items-center justify-center text-indigo-600 shadow-sm shrink-0",children:e.jsx(Xn,{size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-bold text-indigo-900",children:"Security Note"}),e.jsx("p",{className:"text-xs text-indigo-700/70 mt-1",children:"Keys are encrypted at rest with AES-256. Never share your API keys or secrets in public repositories."})]})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsxs("button",{onClick:h,disabled:t,className:"flex items-center gap-2 px-10 py-4 bg-indigo-600 text-white rounded-xl font-bold shadow-lg shadow-indigo-100 hover:bg-indigo-700 transition-all active:scale-95",children:[e.jsx(xa,{size:18}),t?"Securing...":"Propagate API Keys"]})})]})})},z_=()=>{const[t,s]=j.useState(!1),[r,l]=j.useState(!0),[i,o]=j.useState([]),[d,x]=j.useState(null),[u,h]=j.useState({});j.useEffect(()=>{(async()=>{try{const A=await Ng();A.messageTemplates?o(A.messageTemplates):o([{id:1,name:"Membership Renewal Reminder",type:"WhatsApp",text:"Hi {{member_name}}, your membership {{plan_name}} expires in {{days}} days. Renew now at {{link}}"},{id:2,name:"Payment Success",type:"Email",text:"Hello {{name}}, we have received your payment of {{amount}} for {{month}}."},{id:3,name:"Class Cancellation",type:"SMS",text:"Alert: The {{class_name}} on {{date}} has been cancelled. Credits refunded."}])}catch(A){console.error("Failed to load templates:",A)}finally{l(!1)}})()},[]);const p=async()=>{s(!0);try{await kg({messageTemplates:i}),alert("Templates saved successfully!")}catch(N){console.error("Failed to save templates:",N),alert("Failed to save: "+N.message)}finally{s(!1)}},g=N=>{x(N.id),h({...N})},y=()=>{x(null),h({})},f=()=>{o(N=>N.map(A=>A.id===d?u:A)),x(null),h({})},w=N=>{window.confirm("Are you sure you want to delete this template?")&&o(A=>A.filter(L=>L.id!==N))},S=()=>{const A={id:i.length>0?Math.max(...i.map(L=>L.id))+1:1,name:"New Template",type:"SMS",text:"Enter template text here..."};o([...i,A]),g(A)},v=N=>{switch(N){case"Email":return e.jsx(Hr,{size:16});case"WhatsApp":return e.jsx(sr,{size:16,className:"text-emerald-500"});case"SMS":return e.jsx(Bo,{size:16,className:"text-blue-500"});default:return e.jsx(kf,{size:16})}};return e.jsx("div",{className:"min-h-screen bg-slate-50/50 p-6",children:e.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-8",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-indigo-600 flex items-center justify-center text-white shadow-lg",children:e.jsx(kf,{size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Communication Templates"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Manage automated message content for all channels"})]})]}),e.jsxs("button",{onClick:S,className:"flex items-center gap-2 px-6 py-3 bg-white border border-slate-200 rounded-xl font-bold text-gray-700 hover:bg-slate-50 transition-all shadow-sm",children:[e.jsx(St,{size:18}),"Create Template"]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:i.map(N=>e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-6 shadow-sm hover:shadow-md transition-all group",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-slate-100 rounded-lg",children:v(d===N.id?u.type:N.type)}),d===N.id?e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:u.name,onChange:A=>h({...u,name:A.target.value}),className:"px-2 py-1 bg-slate-50 border border-slate-200 rounded text-sm font-bold outline-none focus:border-indigo-500"}),e.jsxs("select",{value:u.type,onChange:A=>h({...u,type:A.target.value}),className:"px-2 py-1 bg-slate-50 border border-slate-200 rounded text-[10px] font-black outline-none",children:[e.jsx("option",{children:"WhatsApp"}),e.jsx("option",{children:"SMS"}),e.jsx("option",{children:"Email"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"font-bold text-gray-800",children:N.name}),e.jsx("span",{className:"px-2 py-0.5 bg-slate-100 text-slate-600 rounded text-[10px] font-black uppercase tracking-tighter",children:N.type})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:d===N.id?e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:f,className:"p-2 bg-emerald-50 text-emerald-600 rounded-lg hover:bg-emerald-100 transition-all",children:e.jsx($r,{size:16})}),e.jsx("button",{onClick:y,className:"p-2 bg-rose-50 text-rose-600 rounded-lg hover:bg-rose-100 transition-all",children:e.jsx(wl,{size:16})})]}):e.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:()=>g(N),className:"p-2 hover:bg-slate-100 rounded-lg text-slate-400 hover:text-indigo-600",children:e.jsx(ar,{size:16})}),e.jsx("button",{onClick:()=>w(N.id),className:"p-2 hover:bg-red-50 rounded-lg text-slate-400 hover:text-red-600",children:e.jsx(Ms,{size:16})})]})})]}),d===N.id?e.jsx("textarea",{value:u.text,onChange:A=>h({...u,text:A.target.value}),className:"w-full p-4 bg-slate-50 rounded-xl border border-slate-200 font-mono text-xs text-slate-600 leading-relaxed mb-4 min-h-[100px] outline-none focus:border-indigo-500"}):e.jsx("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-100 font-mono text-xs text-slate-600 leading-relaxed mb-4",children:N.text}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Available Placeholders:"}),e.jsx("div",{className:"flex gap-1.5 flex-wrap",children:["member_name","plan_name","amount","date","days","link"].map(A=>e.jsx("code",{className:"text-[10px] bg-indigo-50 text-indigo-600 px-1.5 py-0.5 rounded font-bold",children:`{{${A}}}`},A))})]})]},N.id))}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsxs("button",{onClick:p,disabled:t,className:"flex items-center gap-2 px-8 py-3 bg-indigo-600 text-white rounded-xl font-bold shadow-lg shadow-indigo-100 hover:bg-indigo-700 transition-all active:scale-95",children:[e.jsx(xa,{size:18}),t?"Saving...":"Save All Templates"]})})]})})};function E_(){const{role:t,loading:s}=Ho();return s?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."}):e.jsxs(s6,{children:[e.jsx(Le,{path:"/login",element:e.jsx(PC,{})}),e.jsxs(Le,{element:t?e.jsx(IC,{role:t}):e.jsx(Kr,{to:"/login",replace:!0}),children:[e.jsx(Le,{path:"/",element:e.jsx(Kr,{to:"/login",replace:!0})}),e.jsx(Le,{path:"/dashboard",element:e.jsx(OA,{role:t})}),e.jsx(Le,{path:"/trainer/members/assigned",element:e.jsx(qD,{})}),e.jsx(Le,{path:"/trainer/profile/me",element:e.jsx(HD,{})}),e.jsx(Le,{path:"/trainer/earnings",element:e.jsx(WD,{})}),e.jsx(Le,{path:"/trainer/attendance",element:e.jsx(GD,{})}),e.jsx(Le,{path:"/trainer/announcements",element:e.jsx(VD,{})}),e.jsx(Le,{path:"/trainer/availability",element:e.jsx(YD,{})}),e.jsx(Le,{path:"/trainer/sessions/calendar",element:e.jsx(XD,{})}),e.jsx(Le,{path:"/trainer/sessions/upcoming",element:e.jsx(KD,{})}),(t===ct.SUPER_ADMIN||t===ct.MANAGER||t===ct.BRANCH_ADMIN||t===ct.STAFF)&&e.jsxs(e.Fragment,{children:[e.jsx(Le,{path:"/memberships",element:e.jsx(j7,{})}),e.jsx(Le,{path:"/memberships/new",element:e.jsx(T1,{})}),e.jsx(Le,{path:"/memberships/benefits",element:e.jsx(S7,{})}),e.jsx(Le,{path:"/memberships/benefits-config",element:e.jsx(C7,{})}),e.jsx(Le,{path:"/memberships/plans",element:e.jsx(L7,{})}),e.jsx(Le,{path:"/memberships/requests",element:e.jsx(M7,{})}),e.jsx(Le,{path:"/memberships/:id",element:e.jsx(k7,{})}),e.jsx(Le,{path:"/memberships/:id/edit",element:e.jsx(T1,{})}),e.jsx(Le,{path:"/members/renewal-alerts",element:e.jsx(E7,{})})]}),(t===ct.SUPER_ADMIN||t===ct.MANAGER||t===ct.BRANCH_ADMIN||t===ct.TRAINER)&&e.jsxs(e.Fragment,{children:[e.jsx(Le,{path:"/classes",element:e.jsx(i9,{})}),e.jsx(Le,{path:"/classes/new",element:e.jsx(_1,{})}),e.jsx(Le,{path:"/classes/:id",element:e.jsx(o9,{})}),e.jsx(Le,{path:"/classes/:id/edit",element:e.jsx(_1,{})}),e.jsx(Le,{path:"/classes/:id/assign-trainer",element:e.jsx(M9,{})}),e.jsx(Le,{path:"/classes/:id/enroll",element:e.jsx(D9,{})})]}),e.jsx(Le,{path:"/diet-plans",element:e.jsx(Rp,{role:t})}),e.jsx(Le,{path:"/diet-plans/create",element:e.jsx(Rp,{role:t})}),e.jsx(Le,{path:"/diet-plans/*",element:e.jsx(Rp,{role:t})}),e.jsx(Le,{path:"/workout-plans/*",element:e.jsx(JM,{role:t})}),e.jsx(Le,{path:"/progress/*",element:e.jsx(eD,{})}),(t===ct.SUPER_ADMIN||t===ct.MANAGER||t===ct.BRANCH_ADMIN||t===ct.STAFF||t===ct.TRAINER)&&e.jsxs(Le,{path:"/crm",element:e.jsx(JD,{}),children:[e.jsx(Le,{path:"inquiry",element:t!==ct.TRAINER?e.jsx(eL,{}):e.jsx(Kr,{to:"/crm/my-leads",replace:!0})}),e.jsx(Le,{path:"pipeline",element:t!==ct.TRAINER?e.jsx(iy,{}):e.jsx(Kr,{to:"/crm/my-leads",replace:!0})}),e.jsx(Le,{path:"followups",element:t!==ct.TRAINER?e.jsx(mg,{}):e.jsx(Kr,{to:"/crm/my-leads",replace:!0})}),e.jsx(Le,{path:"my-leads",element:e.jsx(iy,{})})]}),(t===ct.MANAGER||t===ct.BRANCH_ADMIN)&&e.jsxs(Le,{path:"/settings",element:e.jsx(M2,{role:t}),children:[e.jsx(Le,{index:!0,element:e.jsx(GT,{role:t})}),e.jsx(Le,{path:"branches",element:e.jsx(VT,{})}),e.jsx(Le,{path:"roles",element:e.jsx(YT,{})}),e.jsx(Le,{path:"billing",element:e.jsx(XT,{})}),e.jsx(Le,{path:"integrations",element:e.jsx(KT,{})}),e.jsx(Le,{path:"notifications",element:e.jsx(D2,{})}),e.jsx(Le,{path:"payment-gateway",element:e.jsx(L2,{})}),e.jsx(Le,{path:"security",element:e.jsx(JT,{role:t})}),e.jsx(Le,{path:"logs",element:e.jsx(QT,{})}),e.jsx(Le,{path:"webhooks",element:e.jsx(D_,{})}),e.jsx(Le,{path:"api-keys",element:e.jsx(L_,{})}),e.jsx(Le,{path:"templates",element:e.jsx(z_,{})})]}),e.jsxs(Le,{path:"/operations",element:e.jsx(L9,{}),children:[e.jsx(Le,{index:!0,element:t!==ct.MEMBER?e.jsx(z9,{}):e.jsx(Kr,{to:"/dashboard",replace:!0})}),e.jsx(Le,{path:"equipment",element:t!==ct.MEMBER?e.jsx(T9,{}):e.jsx(Kr,{to:"/dashboard",replace:!0})}),e.jsx(Le,{path:"lockers",element:t!==ct.MEMBER?e.jsx(ay,{}):e.jsx(Kr,{to:"/dashboard",replace:!0})}),e.jsx(Le,{path:"inventory",element:t!==ct.MEMBER?e.jsx(_9,{}):e.jsx(Kr,{to:"/dashboard",replace:!0})}),e.jsx(Le,{path:"announcements",element:t!==ct.MEMBER?e.jsx(O9,{}):e.jsx(Kr,{to:"/dashboard",replace:!0})}),e.jsx(Le,{path:"rewards",element:t!==ct.MEMBER?e.jsx(B9,{}):e.jsx(Kr,{to:"/dashboard",replace:!0})}),e.jsx(Le,{path:"feedback",element:e.jsx(R1,{role:t})}),e.jsx(Le,{path:"whatsapp",element:t!==ct.MEMBER?e.jsx(I9,{}):e.jsx(Kr,{to:"/dashboard",replace:!0})}),e.jsx(Le,{path:"devices",element:t!==ct.MEMBER?e.jsx(U9,{}):e.jsx(Kr,{to:"/dashboard",replace:!0})}),e.jsx(Le,{path:"live-monitor",element:t!==ct.MEMBER?e.jsx(ty,{}):e.jsx(Kr,{to:"/dashboard",replace:!0})})]}),(t===ct.SUPER_ADMIN||t===ct.MANAGER||t===ct.BRANCH_ADMIN||t===ct.STAFF)&&e.jsxs(e.Fragment,{children:[e.jsx(Le,{path:"/facility/equipment",element:e.jsx(x_,{})}),e.jsx(Le,{path:"/facility/maintenance",element:e.jsx(u_,{})}),e.jsx(Le,{path:"/facility/history",element:e.jsx(h_,{})})]}),t!==ct.MEMBER&&t!==ct.TRAINER&&e.jsxs(e.Fragment,{children:[e.jsx(Le,{path:"/finance/dashboard",element:e.jsx(e_,{})}),e.jsx(Le,{path:"/finance/pos",element:e.jsx(t_,{})}),e.jsx(Le,{path:"/finance/invoices",element:e.jsx(s_,{})}),e.jsx(Le,{path:"/finance/expenses",element:e.jsx(n_,{})}),e.jsx(Le,{path:"/finance/commissions",element:e.jsx(i_,{})}),e.jsx(Le,{path:"/finance/cashier",element:e.jsx(z2,{})}),e.jsx(Le,{path:"/finance/transactions",element:e.jsx(E2,{})}),e.jsx(Le,{path:"/finance/petty-cash",element:e.jsx(o_,{})}),e.jsx(Le,{path:"/staff/payments/collect",element:e.jsx(z2,{})}),e.jsx(Le,{path:"/staff/payments/history",element:e.jsx(E2,{})})]}),e.jsx(Le,{path:"/hr/payroll",element:e.jsx(m_,{})}),e.jsx(Le,{path:"/hr/leave-requests",element:e.jsx(b_,{})}),e.jsx(Le,{path:"/hr/staff/management",element:e.jsx(OD,{role:t,branchId:1})}),e.jsx(Le,{path:"/hr/staff/create",element:e.jsx(_2,{})}),e.jsx(Le,{path:"/hr/staff/edit/:id",element:e.jsx(_2,{})}),(t===ct.SUPER_ADMIN||t===ct.MANAGER||t===ct.BRANCH_ADMIN)&&e.jsxs(e.Fragment,{children:[e.jsx(Le,{path:"/superadmin/wallet",element:e.jsx(I1,{role:t})}),e.jsx(Le,{path:"/superadmin/trainer-requests",element:e.jsx(_p,{role:t})}),e.jsx(Le,{path:"/superadmin/trainer-change-requests",element:e.jsx($1,{role:t})}),e.jsx(Le,{path:"/superadmin/payroll/create",element:e.jsx(q1,{role:t})}),e.jsx(Le,{path:"/superadmin/payroll/history",element:e.jsx(H1,{role:t})}),e.jsx(Le,{path:"/superadmin/payroll/history/:employeeId",element:e.jsx(H1,{role:t})})]}),t===ct.SUPER_ADMIN&&e.jsxs(e.Fragment,{children:[e.jsx(Le,{path:"/superadmin/plans/list",element:e.jsx(q9,{})}),e.jsx(Le,{path:"/superadmin/plans",element:e.jsx(Kr,{to:"/superadmin/plans/list",replace:!0})}),e.jsx(Le,{path:"/superadmin/plans/create",element:e.jsx(H9,{})}),e.jsx(Le,{path:"/superadmin/plans/features",element:e.jsx(W9,{})}),e.jsx(Le,{path:"/superadmin/gyms/all",element:e.jsx(Y9,{})}),e.jsx(Le,{path:"/superadmin/gyms",element:e.jsx(Kr,{to:"/superadmin/gyms/all",replace:!0})}),e.jsx(Le,{path:"/superadmin/gyms/suspended",element:e.jsx(X9,{})}),e.jsx(Le,{path:"/superadmin/subscriptions/active",element:e.jsx(K9,{})}),e.jsx(Le,{path:"/superadmin/subscriptions/expired",element:e.jsx(J9,{})}),e.jsx(Le,{path:"/superadmin/audit-logs/activity",element:e.jsx(Z9,{})}),e.jsx(Le,{path:"/superadmin/audit-logs/webhooks",element:e.jsx(eM,{})}),e.jsx(Le,{path:"/superadmin/general-settings/general",element:e.jsx(O1,{})}),e.jsx(Le,{path:"/superadmin/general-settings/invoice",element:e.jsx(F1,{})}),e.jsx(Le,{path:"/superadmin/general-settings/hardware",element:e.jsx(B1,{})}),e.jsx(Le,{path:"/superadmin/general-settings/booking",element:e.jsx(lM,{})}),e.jsx(Le,{path:"/superadmin/profile/me",element:e.jsx(nM,{})}),e.jsx(Le,{path:"/superadmin/store/dashboard",element:e.jsx(fM,{})}),e.jsx(Le,{path:"/superadmin/store/products",element:e.jsx(bM,{})}),e.jsx(Le,{path:"/superadmin/store/orders",element:e.jsx(yM,{})}),e.jsx(Le,{path:"/superadmin/store/inventory",element:e.jsx(W1,{})})]}),t===ct.BRANCH_ADMIN&&e.jsxs(e.Fragment,{children:[e.jsx(Le,{path:"/branchadmin/store/inventory",element:e.jsx(W1,{})}),e.jsx(Le,{path:"/branchadmin/members/list",element:e.jsx(Op,{})}),e.jsx(Le,{path:"/branchadmin/bookings/calendar",element:e.jsx(X1,{})}),e.jsx(Le,{path:"/branchadmin/tasks/list",element:e.jsx(K1,{})}),e.jsx(Le,{path:"/branchadmin/reports/daily-attendance",element:e.jsx(J1,{})}),e.jsx(Le,{path:"/branchadmin/reports/booking",element:e.jsx(Q1,{})}),e.jsx(Le,{path:"/branchadmin/reports/revenue",element:e.jsx(v_,{})}),e.jsx(Le,{path:"/branchadmin/reports/membership",element:e.jsx(y_,{})}),e.jsx(Le,{path:"/branchadmin/reports/lead-conversion",element:e.jsx(j_,{})}),e.jsx(Le,{path:"/branchadmin/reports/expenses",element:e.jsx(w_,{})}),e.jsx(Le,{path:"/branchadmin/reports/performance",element:e.jsx(N_,{})}),e.jsx(Le,{path:"/branchadmin/branch-management/branches",element:e.jsx(M_,{})}),e.jsx(Le,{path:"/branchadmin/trainer-requests",element:e.jsx(_p,{role:t})}),e.jsxs(Le,{element:e.jsx(M2,{role:t}),children:[e.jsx(Le,{path:"/branchadmin/settings/general",element:e.jsx(O1,{})}),e.jsx(Le,{path:"/branchadmin/settings/hardware",element:e.jsx(B1,{})}),e.jsx(Le,{path:"/branchadmin/settings/communication",element:e.jsx(D2,{})}),e.jsx(Le,{path:"/branchadmin/settings/payments",element:e.jsx(L2,{})}),e.jsx(Le,{path:"/branchadmin/settings/invoice",element:e.jsx(F1,{})})]}),e.jsx(Le,{path:"/branchadmin/profile/me",element:e.jsx(ey,{})})]}),t===ct.MANAGER&&e.jsxs(e.Fragment,{children:[e.jsx(Le,{path:"/manager/attendance/live-checkin",element:e.jsx(ty,{})}),e.jsx(Le,{path:"/manager/attendance/today/member",element:e.jsx(oD,{})}),e.jsx(Le,{path:"/manager/attendance/today/staff",element:e.jsx(hD,{})}),e.jsx(Le,{path:"/manager/reports/daily-attendance",element:e.jsx(J1,{})}),e.jsx(Le,{path:"/manager/reports/booking",element:e.jsx(Q1,{})}),e.jsx(Le,{path:"/manager/bookings/calendar",element:e.jsx(X1,{})}),e.jsx(Le,{path:"/manager/tasks",element:e.jsx(K1,{})}),e.jsx(Le,{path:"/manager/communication",element:e.jsx(xD,{})}),e.jsx(Le,{path:"/manager/requests",element:e.jsx(_p,{role:t})}),e.jsx(Le,{path:"/manager/change-requests",element:e.jsx($1,{role:t})}),e.jsx(Le,{path:"/manager/wallet",element:e.jsx(I1,{role:t})}),e.jsx(Le,{path:"/manager/payroll/create",element:e.jsx(q1,{role:t})}),e.jsx(Le,{path:"/manager/members/list",element:e.jsx(Op,{})}),e.jsx(Le,{path:"/manager/profile/me",element:e.jsx(ey,{})})]}),t===ct.STAFF&&e.jsxs(e.Fragment,{children:[e.jsx(Le,{path:"/staff/attendance/check-in",element:e.jsx(bD,{})}),e.jsx(Le,{path:"/staff/attendance/check-out",element:e.jsx(vD,{})}),e.jsx(Le,{path:"/staff/attendance/today",element:e.jsx(jD,{})}),e.jsx(Le,{path:"/staff/lockers",element:e.jsx(ay,{})}),e.jsx(Le,{path:"/staff/lockers/assign",element:e.jsx(LD,{})}),e.jsx(Le,{path:"/staff/lockers/release",element:e.jsx(zD,{})}),e.jsx(Le,{path:"/staff/tasks/my-tasks",element:e.jsx(_D,{})}),e.jsx(Le,{path:"/staff/tasks/status",element:e.jsx(PD,{})}),e.jsx(Le,{path:"/staff/members/list",element:e.jsx(Op,{})}),e.jsx(Le,{path:"/staff/profile/me",element:e.jsx(ID,{})})]}),t===ct.MEMBER&&e.jsxs(e.Fragment,{children:[e.jsx(Le,{path:"/member/bookings",element:e.jsx(sL,{})}),e.jsx(Le,{path:"/member/check-in",element:e.jsx(cL,{})}),e.jsx(Le,{path:"/member/store",element:e.jsx(ND,{})}),e.jsx(Le,{path:"/member/membership",element:e.jsx(uL,{})}),e.jsx(Le,{path:"/member/payments",element:e.jsx(IT,{})}),e.jsx(Le,{path:"/member/profile/me",element:e.jsx($T,{})}),e.jsx(Le,{path:"/member/wallet",element:e.jsx(qT,{})}),e.jsx(Le,{path:"/member/feedback",element:e.jsx(R1,{role:t})})]}),e.jsx(Le,{path:"*",element:e.jsx("div",{className:"p-10",children:e.jsx("h1",{children:"Page Not Found"})})})]})]})}class T_ extends so.Component{constructor(s){super(s),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(s){return{hasError:!0}}componentDidCatch(s,r){console.error("Error caught by boundary:",s,r),this.setState({error:s,errorInfo:r})}render(){return this.state.hasError?e.jsxs("div",{style:{padding:"40px",fontFamily:"Inter, sans-serif",backgroundColor:"#fff",minHeight:"100vh"},children:[e.jsx("h1",{style:{color:"#e53e3e",marginBottom:"20px"},children:"Something went wrong"}),e.jsxs("details",{style:{whiteSpace:"pre-wrap",background:"#f7fafc",padding:"20px",borderRadius:"8px"},children:[e.jsx("summary",{style:{cursor:"pointer",fontWeight:"bold",marginBottom:"10px"},children:"Click to see error details"}),e.jsx("p",{style:{color:"#c53030",marginTop:"10px"},children:this.state.error&&this.state.error.toString()}),e.jsx("p",{style:{color:"#2d3748",marginTop:"10px",fontSize:"14px"},children:this.state.errorInfo&&this.state.errorInfo.componentStack})]}),e.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:"20px",padding:"10px 20px",backgroundColor:"#4299e1",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"16px"},children:"Reload Page"})]}):this.props.children}}r4.createRoot(document.getElementById("root")).render(e.jsx(so.StrictMode,{children:e.jsx(T_,{children:e.jsx(hk,{children:e.jsx(C6,{children:e.jsx(E_,{})})})})}));export{Xs as _,we as a,__ as c,Vf as g};
