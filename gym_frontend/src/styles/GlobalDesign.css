/* ==========================================================================
   GLOBAL DESIGN SYSTEM - SaaS Application UI
   Strict adherence to spacing, inputs, buttons, and card styles.
   ========================================================================== */

/* --------------------------------------------------------------------------
   1. VARIABLES & BASE
   -------------------------------------------------------------------------- */
:root {
    --primary-color: #2563eb;
    /* blue-600 */
    --primary-hover: #1d4ed8;
    /* blue-700 */
    --secondary-bg: #f3f4f6;
    /* gray-100 */
    --secondary-hover: #e5e7eb;
    /* gray-200 */
    --danger-color: #ef4444;
    /* red-500 */
    --danger-hover: #dc2626;
    /* red-600 */

    --bg-page: #f9fafb;
    /* gray-50 */
    --bg-card: #ffffff;

    --border-color: #d1d5db;
    /* gray-300 */
    --input-height: 2.75rem;
    /* h-11 (44px) */

    --radius-lg: 0.5rem;
    /* rounded-lg */
    --radius-xl: 0.75rem;
    /* rounded-xl */
}

/* Page Background Standard */
body {
    background-color: var(--bg-page);
    color: #1f2937;
    /* gray-800 */
}

/* --------------------------------------------------------------------------
   2. LAYOUT & CONTAINERS
   -------------------------------------------------------------------------- */

/* Standard Page Container */
.saas-container {
    width: 100%;
    max-width: 100%;
    min-height: 100vh;
    padding: 0.75rem;
    /* 12px for standard project-wide consistency */
    box-sizing: border-box;
}

@media (min-width: 768px) {
    .saas-container {
        padding: 2rem;
        /* md:p-8 */
    }
}

/* Standard Section Spacing */
.saas-section {
    margin-bottom: 1.5rem;
    /* Reduced on mobile */
}

@media (min-width: 768px) {
    .saas-section {
        margin-bottom: 2rem;
    }
}

/* Grid Layouts for inputs/cards */
.saas-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 1rem;
    /* Reduced gap on mobile */
}

@media (min-width: 768px) {
    .saas-grid {
        gap: 1.5rem;
    }

    .saas-grid-2 {
        grid-template-columns: repeat(2, 1fr);
    }

    .saas-grid-3 {
        grid-template-columns: repeat(3, 1fr);
    }
}

@media (min-width: 1024px) {
    .saas-grid-4 {
        grid-template-columns: repeat(4, 1fr);
    }
}

/* --------------------------------------------------------------------------
   3. CARD SYSTEM (CORE)
   -------------------------------------------------------------------------- */
.saas-card {
    background-color: var(--bg-card);
    border-radius: 16px;
    padding: 1rem;
    /* Optimized for mobile (~95% width utilization) */
    margin-bottom: 1rem;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.03);
    border: 1px solid rgba(0, 0, 0, 0.05);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

@media (min-width: 768px) {
    .saas-card {
        border-radius: 32px;
        /* premium large radius */
        padding: 2rem;
        margin-bottom: 2rem;
        box-shadow: 0 20px 40px -20px rgba(0, 0, 0, 0.08);
    }
}

.saas-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.1);
}

/* --------------------------------------------------------------------------
   4. INPUT & FORM DESIGN
   -------------------------------------------------------------------------- */
.saas-form-group {
    display: flex;
    flex-direction: column;
    margin-bottom: 1rem;
}

.saas-label {
    display: block;
    font-size: 0.8125rem;
    font-weight: 500;
    color: var(--text-primary);
    margin-bottom: 0.25rem;
}

.saas-input,
.saas-select,
.saas-textarea {
    padding: 0.5rem 0.875rem;
    background-color: var(--bg-surface);
    border: 1px solid var(--border-color);
    border-radius: var(--radius-sm);
    font-size: 0.9375rem;
    color: var(--text-primary);
    width: 100%;
    transition: all 0.2s;
}

.saas-input,
.saas-select {
    height: var(--input-height);
}

.saas-textarea {
    min-height: 8rem;
    resize: vertical;
}

.saas-input:focus,
.saas-select:focus,
.saas-textarea:focus {
    outline: none;
    border-color: var(--primary-color);
    box-shadow: 0 0 0 3px rgba(var(--primary-color-rgb), 0.1);
}

/* --------------------------------------------------------------------------
   5. BUTTON SYSTEM
   -------------------------------------------------------------------------- */
.saas-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 0.65rem 1.25rem;
    border-radius: var(--radius-sm);
    font-size: 0.9375rem;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s;
    border: none;
    white-space: nowrap;
    min-height: 44px;
    /* Minimum tap target for mobile */
}

/* Mobile full-width buttons utility */
@media (max-width: 767px) {
    .saas-btn-mobile-full {
        width: 100%;
    }
}

/* --------------------------------------------------------------------------
   6. TABLE DESIGN (RESPONSIVE)
   -------------------------------------------------------------------------- */
.saas-table-wrapper {
    width: 100%;
    overflow-x: auto;
    border-radius: var(--radius-md);
    border: 1px solid var(--border-light);
    background: var(--bg-surface);
}

.saas-table {
    width: 100%;
    border-collapse: collapse;
}

.saas-table th {
    background-color: var(--primary-light);
    color: var(--primary-color);
    font-weight: 600;
    text-transform: uppercase;
    font-size: 0.75rem;
    letter-spacing: 0.05em;
    padding: 1rem;
    text-align: left;
    border-bottom: 1px solid var(--border-light);
}

.saas-table td {
    padding: 1rem;
    border-bottom: 1px solid var(--border-light);
    font-size: 0.9rem;
}

/* Responsive Table: Converts to Cards on Mobile */
@media (max-width: 767px) {
    .saas-table-responsive thead {
        display: none;
        /* Hide headers on mobile */
    }

    .saas-table-responsive tr {
        display: block;
        margin-bottom: 1rem;
        border: 1px solid var(--border-light);
        border-radius: var(--radius-md);
        padding: 0.5rem;
    }

    .saas-table-responsive td {
        display: flex;
        justify-content: space-between;
        align-items: center;
        text-align: right;
        border-bottom: 1px solid var(--border-light);
        padding: 0.75rem 0.5rem;
    }

    .saas-table-responsive td:last-child {
        border-bottom: none;
    }

    .saas-table-responsive td::before {
        content: attr(data-label);
        font-weight: 600;
        text-transform: uppercase;
        font-size: 0.7rem;
        color: var(--text-secondary);
        text-align: left;
    }
}

/* --------------------------------------------------------------------------
   7. UTILITIES
   -------------------------------------------------------------------------- */
.saas-flex-between {
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 1rem;
}

.saas-badge {
    display: inline-flex;
    align-items: center;
    padding: 0.25rem 0.75rem;
    border-radius: 9999px;
    font-size: 0.75rem;
    font-weight: 600;
}

/* --------------------------------------------------------------------------
   8. LAYOUT SYSTEM (MODERN FLEXBOX FIXED)
   -------------------------------------------------------------------------- */

html,
body {
    height: 100%;
    margin: 0;
    padding: 0;
    overflow: hidden;
    /* Vital for independent scroll */
}

#root {
    height: 100%;
    display: flex;
    flex-direction: column;
}

.layout-wrapper {
    display: flex;
    width: 100vw;
    height: 100%;
    /* Fill viewport */
    background-color: var(--bg-body);
    overflow: hidden;
    /* Stop whole page scroll */
}

/* Sidebar */
.sidebar {
    width: var(--sidebar-visible-width);
    height: 100%;
    background-color: var(--bg-surface);
    box-shadow: var(--shadow-md);
    transition: width var(--transition-normal);
    z-index: 100000;
    /* Highest - always on top, especially on mobile */
    flex-shrink: 0;
    overflow-y: auto;
    overflow-x: hidden;
    display: flex;
    flex-direction: column;
}

@media (max-width: 1023px) {
    .sidebar {
        position: fixed;
        top: 0;
        left: 0;
        bottom: 0;
        transform: translateX(-100%);
        transition: transform var(--transition-normal);
    }

    .sidebar.visible {
        transform: translateX(0);
    }
}

@media (min-width: 1024px) {
    .sidebar.collapsed {
        width: var(--sidebar-collapsed-width);
    }
}

/* Main Page Area holding Topbar + Content */
.layout-page {
    flex: 1;
    display: flex;
    flex-direction: column;
    height: 100%;
    min-width: 0;
    margin-left: 0 !important;
    /* No more margin hacks needed */
    position: relative;
    background-color: var(--bg-body);
}

/* Topbar - No longer fixed on desktop */
.topbar {
    height: var(--topbar-height);
    width: 100%;
    background-color: var(--bg-body);
    display: flex;
    align-items: center;
    padding: 0 1rem;
    flex-shrink: 0;
    z-index: 900;
    position: relative !important;
    left: auto !important;
    right: auto !important;
    border-bottom: 1px solid var(--border-light);
}

@media (min-width: 1024px) {
    .topbar {
        padding: 0 2rem;
    }
}

/* Content Wrapper - THE SCROLLABLE AREA */
.content-wrapper {
    flex: 1;
    overflow-y: auto;
    overflow-x: hidden;
    width: 100%;
    height: 100%;
    position: relative;
}

/* Standard container inside content wrapper */
.saas-container {
    width: 100%;
    max-width: 1400px;
    margin: 0 auto;
    padding: 1rem 0.75rem;
    /* Sync with layout-page spacing */
    min-height: auto;
}

@media (min-width: 768px) {
    .saas-container {
        padding: 2rem;
    }
}

/* Mobile Overlay */
.mobile-overlay {
    position: fixed;
    inset: 0;
    background-color: rgba(0, 0, 0, 0.5);
    z-index: 950;
    backdrop-filter: blur(2px);
    display: none;
}

@media (max-width: 1023px) {
    .mobile-sidebar-open .mobile-overlay {
        display: block;
    }
}

/* --------------------------------------------------------------------------
   9. UTILITIES & HELPERS
   -------------------------------------------------------------------------- */

/* Hide scrollbar for Chrome, Safari and Opera */
.scrollbar-hide::-webkit-scrollbar {
    display: none;
}

/* Hide scrollbar for IE, Edge and Firefox */
.scrollbar-hide {
    -ms-overflow-style: none;
    /* IE and Edge */
    scrollbar-width: none;
    /* Firefox */
}

/* --------------------------------------------------------------------------
   10. PRINT STYLES
   -------------------------------------------------------------------------- */
@media print {

    .sidebar,
    .topbar,
    .mobile-overlay,
    .no-print {
        display: none !important;
    }

    body,
    html,
    .layout-wrapper,
    .layout-page,
    .content-wrapper {
        overflow: visible !important;
        height: auto !important;
        background: white !important;
    }

    .layout-page {
        margin: 0 !important;
        padding: 0 !important;
    }

    .saas-container {
        padding: 0 !important;
        margin: 0 !important;
        max-width: none !important;
    }
}